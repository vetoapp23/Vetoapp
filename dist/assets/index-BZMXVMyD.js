var nC=e=>{throw TypeError(e)};var Hy=(e,t,n)=>t.has(e)||nC("Cannot "+n);var Q=(e,t,n)=>(Hy(e,t,"read from private field"),n?n.call(e):t.get(e)),Fe=(e,t,n)=>t.has(e)?nC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ke=(e,t,n,r)=>(Hy(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ot=(e,t,n)=>(Hy(e,t,"access private method"),n);var Im=(e,t,n,r)=>({set _(a){ke(e,t,a,n)},get _(){return Q(e,t,r)}});function K8(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ct(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function G8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var pO={exports:{}},Qv={},gO={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om=Symbol.for("react.element"),Y8=Symbol.for("react.portal"),Q8=Symbol.for("react.fragment"),X8=Symbol.for("react.strict_mode"),J8=Symbol.for("react.profiler"),Z8=Symbol.for("react.provider"),eB=Symbol.for("react.context"),tB=Symbol.for("react.forward_ref"),nB=Symbol.for("react.suspense"),rB=Symbol.for("react.memo"),sB=Symbol.for("react.lazy"),rC=Symbol.iterator;function aB(e){return e===null||typeof e!="object"?null:(e=rC&&e[rC]||e["@@iterator"],typeof e=="function"?e:null)}var vO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xO=Object.assign,yO={};function cd(e,t,n){this.props=e,this.context=t,this.refs=yO,this.updater=n||vO}cd.prototype.isReactComponent={};cd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jO(){}jO.prototype=cd.prototype;function KN(e,t,n){this.props=e,this.context=t,this.refs=yO,this.updater=n||vO}var GN=KN.prototype=new jO;GN.constructor=KN;xO(GN,cd.prototype);GN.isPureReactComponent=!0;var sC=Array.isArray,bO=Object.prototype.hasOwnProperty,YN={current:null},wO={key:!0,ref:!0,__self:!0,__source:!0};function NO(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)bO.call(t,r)&&!wO.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:om,type:e,key:i,ref:o,props:a,_owner:YN.current}}function iB(e,t){return{$$typeof:om,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function QN(e){return typeof e=="object"&&e!==null&&e.$$typeof===om}function oB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var aC=/\/+/g;function Ky(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oB(""+e.key):t.toString(36)}function $p(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case om:case Y8:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Ky(o,0):r,sC(a)?(n="",e!=null&&(n=e.replace(aC,"$&/")+"/"),$p(a,t,n,"",function(u){return u})):a!=null&&(QN(a)&&(a=iB(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(aC,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",sC(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Ky(i,l);o+=$p(i,t,n,c,a)}else if(c=aB(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Ky(i,l++),o+=$p(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function $m(e,t,n){if(e==null)return e;var r=[],a=0;return $p(e,r,"","",function(i){return t.call(n,i,a++)}),r}function lB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pr={current:null},Rp={transition:null},cB={ReactCurrentDispatcher:Pr,ReactCurrentBatchConfig:Rp,ReactCurrentOwner:YN};function SO(){throw Error("act(...) is not supported in production builds of React.")}mt.Children={map:$m,forEach:function(e,t,n){$m(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $m(e,function(){t++}),t},toArray:function(e){return $m(e,function(t){return t})||[]},only:function(e){if(!QN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};mt.Component=cd;mt.Fragment=Q8;mt.Profiler=J8;mt.PureComponent=KN;mt.StrictMode=X8;mt.Suspense=nB;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cB;mt.act=SO;mt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xO({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=YN.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)bO.call(t,c)&&!wO.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:om,type:e.type,key:a,ref:i,props:r,_owner:o}};mt.createContext=function(e){return e={$$typeof:eB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Z8,_context:e},e.Consumer=e};mt.createElement=NO;mt.createFactory=function(e){var t=NO.bind(null,e);return t.type=e,t};mt.createRef=function(){return{current:null}};mt.forwardRef=function(e){return{$$typeof:tB,render:e}};mt.isValidElement=QN;mt.lazy=function(e){return{$$typeof:sB,_payload:{_status:-1,_result:e},_init:lB}};mt.memo=function(e,t){return{$$typeof:rB,type:e,compare:t===void 0?null:t}};mt.startTransition=function(e){var t=Rp.transition;Rp.transition={};try{e()}finally{Rp.transition=t}};mt.unstable_act=SO;mt.useCallback=function(e,t){return Pr.current.useCallback(e,t)};mt.useContext=function(e){return Pr.current.useContext(e)};mt.useDebugValue=function(){};mt.useDeferredValue=function(e){return Pr.current.useDeferredValue(e)};mt.useEffect=function(e,t){return Pr.current.useEffect(e,t)};mt.useId=function(){return Pr.current.useId()};mt.useImperativeHandle=function(e,t,n){return Pr.current.useImperativeHandle(e,t,n)};mt.useInsertionEffect=function(e,t){return Pr.current.useInsertionEffect(e,t)};mt.useLayoutEffect=function(e,t){return Pr.current.useLayoutEffect(e,t)};mt.useMemo=function(e,t){return Pr.current.useMemo(e,t)};mt.useReducer=function(e,t,n){return Pr.current.useReducer(e,t,n)};mt.useRef=function(e){return Pr.current.useRef(e)};mt.useState=function(e){return Pr.current.useState(e)};mt.useSyncExternalStore=function(e,t,n){return Pr.current.useSyncExternalStore(e,t,n)};mt.useTransition=function(){return Pr.current.useTransition()};mt.version="18.3.1";gO.exports=mt;var b=gO.exports;const M=Ct(b),XN=K8({__proto__:null,default:M},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uB=b,dB=Symbol.for("react.element"),hB=Symbol.for("react.fragment"),fB=Object.prototype.hasOwnProperty,mB=uB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pB={key:!0,ref:!0,__self:!0,__source:!0};function CO(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)fB.call(t,r)&&!pB.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:dB,type:e,key:i,ref:o,props:a,_owner:mB.current}}Qv.Fragment=hB;Qv.jsx=CO;Qv.jsxs=CO;pO.exports=Qv;var s=pO.exports,_O={exports:{}},us={},PO={exports:{}},AO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,I){var F=T.length;T.push(I);e:for(;0<F;){var U=F-1>>>1,J=T[U];if(0<a(J,I))T[U]=I,T[F]=J,F=U;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var I=T[0],F=T.pop();if(F!==I){T[0]=F;e:for(var U=0,J=T.length,ae=J>>>1;U<ae;){var ne=2*(U+1)-1,me=T[ne],Ne=ne+1,le=T[Ne];if(0>a(me,F))Ne<J&&0>a(le,me)?(T[U]=le,T[Ne]=F,U=Ne):(T[U]=me,T[ne]=F,U=ne);else if(Ne<J&&0>a(le,F))T[U]=le,T[Ne]=F,U=Ne;else break e}}return I}function a(T,I){var F=T.sortIndex-I.sortIndex;return F!==0?F:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(T){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=T)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function w(T){if(p=!1,j(T),!g)if(n(c)!==null)g=!0,V(N);else{var I=n(u);I!==null&&H(w,I.startTime-T)}}function N(T,I){g=!1,p&&(p=!1,x(_),_=-1),m=!0;var F=f;try{for(j(I),h=n(c);h!==null&&(!(h.expirationTime>I)||T&&!P());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var J=U(h.expirationTime<=I);I=e.unstable_now(),typeof J=="function"?h.callback=J:h===n(c)&&r(c),j(I)}else r(c);h=n(c)}if(h!==null)var ae=!0;else{var ne=n(u);ne!==null&&H(w,ne.startTime-I),ae=!1}return ae}finally{h=null,f=F,m=!1}}var C=!1,S=null,_=-1,k=5,E=-1;function P(){return!(e.unstable_now()-E<k)}function A(){if(S!==null){var T=e.unstable_now();E=T;var I=!0;try{I=S(!0,T)}finally{I?R():(C=!1,S=null)}}else C=!1}var R;if(typeof y=="function")R=function(){y(A)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=A,R=function(){K.postMessage(null)}}else R=function(){v(A,0)};function V(T){S=T,C||(C=!0,R())}function H(T,I){_=v(function(){T(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,V(N))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var F=f;f=I;try{return T()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var F=f;f=T;try{return I()}finally{f=F}},e.unstable_scheduleCallback=function(T,I,F){var U=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?U+F:U):F=U,T){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=F+J,T={id:d++,callback:I,priorityLevel:T,startTime:F,expirationTime:J,sortIndex:-1},F>U?(T.sortIndex=F,t(u,T),n(c)===null&&T===n(u)&&(p?(x(_),_=-1):p=!0,H(w,F-U))):(T.sortIndex=J,t(c,T),g||m||(g=!0,V(N))),T},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(T){var I=f;return function(){var F=f;f=I;try{return T.apply(this,arguments)}finally{f=F}}}})(AO);PO.exports=AO;var gB=PO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vB=b,cs=gB;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kO=new Set,Hh={};function Xl(e,t){yu(e,t),yu(e+"Capture",t)}function yu(e,t){for(Hh[e]=t,e=0;e<t.length;e++)kO.add(t[e])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jj=Object.prototype.hasOwnProperty,xB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iC={},oC={};function yB(e){return jj.call(oC,e)?!0:jj.call(iC,e)?!1:xB.test(e)?oC[e]=!0:(iC[e]=!0,!1)}function jB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bB(e,t,n,r){if(t===null||typeof t>"u"||jB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ar(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new Ar(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new Ar(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new Ar(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new Ar(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new Ar(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new Ar(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new Ar(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new Ar(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new Ar(e,5,!1,e.toLowerCase(),null,!1,!1)});var JN=/[\-:]([a-z])/g;function ZN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(JN,ZN);Xn[t]=new Ar(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(JN,ZN);Xn[t]=new Ar(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(JN,ZN);Xn[t]=new Ar(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new Ar(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new Ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new Ar(e,1,!1,e.toLowerCase(),null,!0,!0)});function e1(e,t,n,r){var a=Xn.hasOwnProperty(t)?Xn[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bB(t,n,a,r)&&(n=null),r||a===null?yB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ai=vB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rm=Symbol.for("react.element"),Tc=Symbol.for("react.portal"),Ec=Symbol.for("react.fragment"),t1=Symbol.for("react.strict_mode"),bj=Symbol.for("react.profiler"),TO=Symbol.for("react.provider"),EO=Symbol.for("react.context"),n1=Symbol.for("react.forward_ref"),wj=Symbol.for("react.suspense"),Nj=Symbol.for("react.suspense_list"),r1=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),OO=Symbol.for("react.offscreen"),lC=Symbol.iterator;function Wd(e){return e===null||typeof e!="object"?null:(e=lC&&e[lC]||e["@@iterator"],typeof e=="function"?e:null)}var an=Object.assign,Gy;function gh(e){if(Gy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gy=t&&t[1]||""}return`
`+Gy+e}var Yy=!1;function Qy(e,t){if(!e||Yy)return"";Yy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Yy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gh(e):""}function wB(e){switch(e.tag){case 5:return gh(e.type);case 16:return gh("Lazy");case 13:return gh("Suspense");case 19:return gh("SuspenseList");case 0:case 2:case 15:return e=Qy(e.type,!1),e;case 11:return e=Qy(e.type.render,!1),e;case 1:return e=Qy(e.type,!0),e;default:return""}}function Sj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ec:return"Fragment";case Tc:return"Portal";case bj:return"Profiler";case t1:return"StrictMode";case wj:return"Suspense";case Nj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case EO:return(e.displayName||"Context")+".Consumer";case TO:return(e._context.displayName||"Context")+".Provider";case n1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case r1:return t=e.displayName||null,t!==null?t:Sj(e.type)||"Memo";case Wi:t=e._payload,e=e._init;try{return Sj(e(t))}catch{}}return null}function NB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sj(t);case 8:return t===t1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _o(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function DO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SB(e){var t=DO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lm(e){e._valueTracker||(e._valueTracker=SB(e))}function MO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=DO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function tg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cj(e,t){var n=t.checked;return an({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_o(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function IO(e,t){t=t.checked,t!=null&&e1(e,"checked",t,!1)}function _j(e,t){IO(e,t);var n=_o(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pj(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pj(e,t.type,_o(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pj(e,t,n){(t!=="number"||tg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vh=Array.isArray;function Kc(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_o(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Aj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return an({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ve(92));if(vh(n)){if(1<n.length)throw Error(ve(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_o(n)}}function $O(e,t){var n=_o(t.value),r=_o(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function RO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?RO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fm,LO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fm=Fm||document.createElement("div"),Fm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ch={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CB=["Webkit","ms","Moz","O"];Object.keys(Ch).forEach(function(e){CB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ch[t]=Ch[e]})});function FO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ch.hasOwnProperty(e)&&Ch[e]?(""+t).trim():t+"px"}function BO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=FO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var _B=an({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tj(e,t){if(t){if(_B[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function Ej(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oj=null;function s1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dj=null,Gc=null,Yc=null;function fC(e){if(e=um(e)){if(typeof Dj!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=tx(t),Dj(e.stateNode,e.type,t))}}function zO(e){Gc?Yc?Yc.push(e):Yc=[e]:Gc=e}function VO(){if(Gc){var e=Gc,t=Yc;if(Yc=Gc=null,fC(e),t)for(e=0;e<t.length;e++)fC(t[e])}}function qO(e,t){return e(t)}function UO(){}var Xy=!1;function WO(e,t,n){if(Xy)return e(t,n);Xy=!0;try{return qO(e,t,n)}finally{Xy=!1,(Gc!==null||Yc!==null)&&(UO(),VO())}}function Gh(e,t){var n=e.stateNode;if(n===null)return null;var r=tx(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ve(231,t,typeof n));return n}var Mj=!1;if(gi)try{var Hd={};Object.defineProperty(Hd,"passive",{get:function(){Mj=!0}}),window.addEventListener("test",Hd,Hd),window.removeEventListener("test",Hd,Hd)}catch{Mj=!1}function PB(e,t,n,r,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var _h=!1,ng=null,rg=!1,Ij=null,AB={onError:function(e){_h=!0,ng=e}};function kB(e,t,n,r,a,i,o,l,c){_h=!1,ng=null,PB.apply(AB,arguments)}function TB(e,t,n,r,a,i,o,l,c){if(kB.apply(this,arguments),_h){if(_h){var u=ng;_h=!1,ng=null}else throw Error(ve(198));rg||(rg=!0,Ij=u)}}function Jl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function HO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mC(e){if(Jl(e)!==e)throw Error(ve(188))}function EB(e){var t=e.alternate;if(!t){if(t=Jl(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return mC(a),e;if(i===r)return mC(a),t;i=i.sibling}throw Error(ve(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?e:t}function KO(e){return e=EB(e),e!==null?GO(e):null}function GO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GO(e);if(t!==null)return t;e=e.sibling}return null}var YO=cs.unstable_scheduleCallback,pC=cs.unstable_cancelCallback,OB=cs.unstable_shouldYield,DB=cs.unstable_requestPaint,fn=cs.unstable_now,MB=cs.unstable_getCurrentPriorityLevel,a1=cs.unstable_ImmediatePriority,QO=cs.unstable_UserBlockingPriority,sg=cs.unstable_NormalPriority,IB=cs.unstable_LowPriority,XO=cs.unstable_IdlePriority,Xv=null,Ta=null;function $B(e){if(Ta&&typeof Ta.onCommitFiberRoot=="function")try{Ta.onCommitFiberRoot(Xv,e,void 0,(e.current.flags&128)===128)}catch{}}var Js=Math.clz32?Math.clz32:FB,RB=Math.log,LB=Math.LN2;function FB(e){return e>>>=0,e===0?32:31-(RB(e)/LB|0)|0}var Bm=64,zm=4194304;function xh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ag(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=xh(l):(i&=o,i!==0&&(r=xh(i)))}else o=n&~a,o!==0?r=xh(o):i!==0&&(r=xh(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Js(t),a=1<<n,r|=e[n],t&=~a;return r}function BB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Js(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=BB(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function $j(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function JO(){var e=Bm;return Bm<<=1,!(Bm&4194240)&&(Bm=64),e}function Jy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lm(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Js(t),e[t]=n}function VB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Js(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function i1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Js(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Tt=0;function ZO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eD,o1,tD,nD,rD,Rj=!1,Vm=[],mo=null,po=null,go=null,Yh=new Map,Qh=new Map,Gi=[],qB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gC(e,t){switch(e){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":Yh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qh.delete(t.pointerId)}}function Kd(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=um(t),t!==null&&o1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function UB(e,t,n,r,a){switch(t){case"focusin":return mo=Kd(mo,e,t,n,r,a),!0;case"dragenter":return po=Kd(po,e,t,n,r,a),!0;case"mouseover":return go=Kd(go,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Yh.set(i,Kd(Yh.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Qh.set(i,Kd(Qh.get(i)||null,e,t,n,r,a)),!0}return!1}function sD(e){var t=il(e.target);if(t!==null){var n=Jl(t);if(n!==null){if(t=n.tag,t===13){if(t=HO(n),t!==null){e.blockedOn=t,rD(e.priority,function(){tD(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Oj=r,n.target.dispatchEvent(r),Oj=null}else return t=um(n),t!==null&&o1(t),e.blockedOn=n,!1;t.shift()}return!0}function vC(e,t,n){Lp(e)&&n.delete(t)}function WB(){Rj=!1,mo!==null&&Lp(mo)&&(mo=null),po!==null&&Lp(po)&&(po=null),go!==null&&Lp(go)&&(go=null),Yh.forEach(vC),Qh.forEach(vC)}function Gd(e,t){e.blockedOn===t&&(e.blockedOn=null,Rj||(Rj=!0,cs.unstable_scheduleCallback(cs.unstable_NormalPriority,WB)))}function Xh(e){function t(a){return Gd(a,e)}if(0<Vm.length){Gd(Vm[0],e);for(var n=1;n<Vm.length;n++){var r=Vm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(mo!==null&&Gd(mo,e),po!==null&&Gd(po,e),go!==null&&Gd(go,e),Yh.forEach(t),Qh.forEach(t),n=0;n<Gi.length;n++)r=Gi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)sD(n),n.blockedOn===null&&Gi.shift()}var Qc=Ai.ReactCurrentBatchConfig,ig=!0;function HB(e,t,n,r){var a=Tt,i=Qc.transition;Qc.transition=null;try{Tt=1,l1(e,t,n,r)}finally{Tt=a,Qc.transition=i}}function KB(e,t,n,r){var a=Tt,i=Qc.transition;Qc.transition=null;try{Tt=4,l1(e,t,n,r)}finally{Tt=a,Qc.transition=i}}function l1(e,t,n,r){if(ig){var a=Lj(e,t,n,r);if(a===null)l0(e,t,r,og,n),gC(e,r);else if(UB(a,e,t,n,r))r.stopPropagation();else if(gC(e,r),t&4&&-1<qB.indexOf(e)){for(;a!==null;){var i=um(a);if(i!==null&&eD(i),i=Lj(e,t,n,r),i===null&&l0(e,t,r,og,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else l0(e,t,r,null,n)}}var og=null;function Lj(e,t,n,r){if(og=null,e=s1(r),e=il(e),e!==null)if(t=Jl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=HO(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return og=e,null}function aD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MB()){case a1:return 1;case QO:return 4;case sg:case IB:return 16;case XO:return 536870912;default:return 16}default:return 16}}var lo=null,c1=null,Fp=null;function iD(){if(Fp)return Fp;var e,t=c1,n=t.length,r,a="value"in lo?lo.value:lo.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Fp=a.slice(e,1<r?1-r:void 0)}function Bp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qm(){return!0}function xC(){return!1}function ds(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qm:xC,this.isPropagationStopped=xC,this}return an(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qm)},persist:function(){},isPersistent:qm}),t}var ud={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u1=ds(ud),cm=an({},ud,{view:0,detail:0}),GB=ds(cm),Zy,e0,Yd,Jv=an({},cm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yd&&(Yd&&e.type==="mousemove"?(Zy=e.screenX-Yd.screenX,e0=e.screenY-Yd.screenY):e0=Zy=0,Yd=e),Zy)},movementY:function(e){return"movementY"in e?e.movementY:e0}}),yC=ds(Jv),YB=an({},Jv,{dataTransfer:0}),QB=ds(YB),XB=an({},cm,{relatedTarget:0}),t0=ds(XB),JB=an({},ud,{animationName:0,elapsedTime:0,pseudoElement:0}),ZB=ds(JB),ez=an({},ud,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tz=ds(ez),nz=an({},ud,{data:0}),jC=ds(nz),rz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},az={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=az[e])?!!t[e]:!1}function d1(){return iz}var oz=an({},cm,{key:function(e){if(e.key){var t=rz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d1,charCode:function(e){return e.type==="keypress"?Bp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lz=ds(oz),cz=an({},Jv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bC=ds(cz),uz=an({},cm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d1}),dz=ds(uz),hz=an({},ud,{propertyName:0,elapsedTime:0,pseudoElement:0}),fz=ds(hz),mz=an({},Jv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pz=ds(mz),gz=[9,13,27,32],h1=gi&&"CompositionEvent"in window,Ph=null;gi&&"documentMode"in document&&(Ph=document.documentMode);var vz=gi&&"TextEvent"in window&&!Ph,oD=gi&&(!h1||Ph&&8<Ph&&11>=Ph),wC=" ",NC=!1;function lD(e,t){switch(e){case"keyup":return gz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oc=!1;function xz(e,t){switch(e){case"compositionend":return cD(t);case"keypress":return t.which!==32?null:(NC=!0,wC);case"textInput":return e=t.data,e===wC&&NC?null:e;default:return null}}function yz(e,t){if(Oc)return e==="compositionend"||!h1&&lD(e,t)?(e=iD(),Fp=c1=lo=null,Oc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oD&&t.locale!=="ko"?null:t.data;default:return null}}var jz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jz[e.type]:t==="textarea"}function uD(e,t,n,r){zO(r),t=lg(t,"onChange"),0<t.length&&(n=new u1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ah=null,Jh=null;function bz(e){bD(e,0)}function Zv(e){var t=Ic(e);if(MO(t))return e}function wz(e,t){if(e==="change")return t}var dD=!1;if(gi){var n0;if(gi){var r0="oninput"in document;if(!r0){var CC=document.createElement("div");CC.setAttribute("oninput","return;"),r0=typeof CC.oninput=="function"}n0=r0}else n0=!1;dD=n0&&(!document.documentMode||9<document.documentMode)}function _C(){Ah&&(Ah.detachEvent("onpropertychange",hD),Jh=Ah=null)}function hD(e){if(e.propertyName==="value"&&Zv(Jh)){var t=[];uD(t,Jh,e,s1(e)),WO(bz,t)}}function Nz(e,t,n){e==="focusin"?(_C(),Ah=t,Jh=n,Ah.attachEvent("onpropertychange",hD)):e==="focusout"&&_C()}function Sz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zv(Jh)}function Cz(e,t){if(e==="click")return Zv(t)}function _z(e,t){if(e==="input"||e==="change")return Zv(t)}function Pz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var na=typeof Object.is=="function"?Object.is:Pz;function Zh(e,t){if(na(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!jj.call(t,a)||!na(e[a],t[a]))return!1}return!0}function PC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function AC(e,t){var n=PC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=PC(n)}}function fD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mD(){for(var e=window,t=tg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tg(e.document)}return t}function f1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Az(e){var t=mD(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fD(n.ownerDocument.documentElement,n)){if(r!==null&&f1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=AC(n,i);var o=AC(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kz=gi&&"documentMode"in document&&11>=document.documentMode,Dc=null,Fj=null,kh=null,Bj=!1;function kC(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bj||Dc==null||Dc!==tg(r)||(r=Dc,"selectionStart"in r&&f1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kh&&Zh(kh,r)||(kh=r,r=lg(Fj,"onSelect"),0<r.length&&(t=new u1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Dc)))}function Um(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mc={animationend:Um("Animation","AnimationEnd"),animationiteration:Um("Animation","AnimationIteration"),animationstart:Um("Animation","AnimationStart"),transitionend:Um("Transition","TransitionEnd")},s0={},pD={};gi&&(pD=document.createElement("div").style,"AnimationEvent"in window||(delete Mc.animationend.animation,delete Mc.animationiteration.animation,delete Mc.animationstart.animation),"TransitionEvent"in window||delete Mc.transitionend.transition);function ex(e){if(s0[e])return s0[e];if(!Mc[e])return e;var t=Mc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pD)return s0[e]=t[n];return e}var gD=ex("animationend"),vD=ex("animationiteration"),xD=ex("animationstart"),yD=ex("transitionend"),jD=new Map,TC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oo(e,t){jD.set(e,t),Xl(t,[e])}for(var a0=0;a0<TC.length;a0++){var i0=TC[a0],Tz=i0.toLowerCase(),Ez=i0[0].toUpperCase()+i0.slice(1);Oo(Tz,"on"+Ez)}Oo(gD,"onAnimationEnd");Oo(vD,"onAnimationIteration");Oo(xD,"onAnimationStart");Oo("dblclick","onDoubleClick");Oo("focusin","onFocus");Oo("focusout","onBlur");Oo(yD,"onTransitionEnd");yu("onMouseEnter",["mouseout","mouseover"]);yu("onMouseLeave",["mouseout","mouseover"]);yu("onPointerEnter",["pointerout","pointerover"]);yu("onPointerLeave",["pointerout","pointerover"]);Xl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oz=new Set("cancel close invalid load scroll toggle".split(" ").concat(yh));function EC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,TB(r,t,void 0,e),e.currentTarget=null}function bD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;EC(a,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;EC(a,l,u),i=c}}}if(rg)throw e=Ij,rg=!1,Ij=null,e}function Gt(e,t){var n=t[Wj];n===void 0&&(n=t[Wj]=new Set);var r=e+"__bubble";n.has(r)||(wD(t,e,2,!1),n.add(r))}function o0(e,t,n){var r=0;t&&(r|=4),wD(n,e,r,t)}var Wm="_reactListening"+Math.random().toString(36).slice(2);function ef(e){if(!e[Wm]){e[Wm]=!0,kO.forEach(function(n){n!=="selectionchange"&&(Oz.has(n)||o0(n,!1,e),o0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wm]||(t[Wm]=!0,o0("selectionchange",!1,t))}}function wD(e,t,n,r){switch(aD(t)){case 1:var a=HB;break;case 4:a=KB;break;default:a=l1}n=a.bind(null,t,n,e),a=void 0,!Mj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function l0(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=il(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}WO(function(){var u=i,d=s1(n),h=[];e:{var f=jD.get(e);if(f!==void 0){var m=u1,g=e;switch(e){case"keypress":if(Bp(n)===0)break e;case"keydown":case"keyup":m=lz;break;case"focusin":g="focus",m=t0;break;case"focusout":g="blur",m=t0;break;case"beforeblur":case"afterblur":m=t0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=yC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=dz;break;case gD:case vD:case xD:m=ZB;break;case yD:m=fz;break;case"scroll":m=GB;break;case"wheel":m=pz;break;case"copy":case"cut":case"paste":m=tz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bC}var p=(t&4)!==0,v=!p&&e==="scroll",x=p?f!==null?f+"Capture":null:f;p=[];for(var y=u,j;y!==null;){j=y;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,x!==null&&(w=Gh(y,x),w!=null&&p.push(tf(y,w,j)))),v)break;y=y.return}0<p.length&&(f=new m(f,g,null,n,d),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Oj&&(g=n.relatedTarget||n.fromElement)&&(il(g)||g[vi]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?il(g):null,g!==null&&(v=Jl(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=yC,w="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=bC,w="onPointerLeave",x="onPointerEnter",y="pointer"),v=m==null?f:Ic(m),j=g==null?f:Ic(g),f=new p(w,y+"leave",m,n,d),f.target=v,f.relatedTarget=j,w=null,il(d)===u&&(p=new p(x,y+"enter",g,n,d),p.target=j,p.relatedTarget=v,w=p),v=w,m&&g)t:{for(p=m,x=g,y=0,j=p;j;j=fc(j))y++;for(j=0,w=x;w;w=fc(w))j++;for(;0<y-j;)p=fc(p),y--;for(;0<j-y;)x=fc(x),j--;for(;y--;){if(p===x||x!==null&&p===x.alternate)break t;p=fc(p),x=fc(x)}p=null}else p=null;m!==null&&OC(h,f,m,p,!1),g!==null&&v!==null&&OC(h,v,g,p,!0)}}e:{if(f=u?Ic(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=wz;else if(SC(f))if(dD)N=_z;else{N=Sz;var C=Nz}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=Cz);if(N&&(N=N(e,u))){uD(h,N,n,d);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Pj(f,"number",f.value)}switch(C=u?Ic(u):window,e){case"focusin":(SC(C)||C.contentEditable==="true")&&(Dc=C,Fj=u,kh=null);break;case"focusout":kh=Fj=Dc=null;break;case"mousedown":Bj=!0;break;case"contextmenu":case"mouseup":case"dragend":Bj=!1,kC(h,n,d);break;case"selectionchange":if(kz)break;case"keydown":case"keyup":kC(h,n,d)}var S;if(h1)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Oc?lD(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(oD&&n.locale!=="ko"&&(Oc||_!=="onCompositionStart"?_==="onCompositionEnd"&&Oc&&(S=iD()):(lo=d,c1="value"in lo?lo.value:lo.textContent,Oc=!0)),C=lg(u,_),0<C.length&&(_=new jC(_,e,null,n,d),h.push({event:_,listeners:C}),S?_.data=S:(S=cD(n),S!==null&&(_.data=S)))),(S=vz?xz(e,n):yz(e,n))&&(u=lg(u,"onBeforeInput"),0<u.length&&(d=new jC("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=S))}bD(h,t)})}function tf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lg(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Gh(e,n),i!=null&&r.unshift(tf(e,i,a)),i=Gh(e,t),i!=null&&r.push(tf(e,i,a))),e=e.return}return r}function fc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function OC(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=Gh(n,i),c!=null&&o.unshift(tf(n,c,l))):a||(c=Gh(n,i),c!=null&&o.push(tf(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Dz=/\r\n?/g,Mz=/\u0000|\uFFFD/g;function DC(e){return(typeof e=="string"?e:""+e).replace(Dz,`
`).replace(Mz,"")}function Hm(e,t,n){if(t=DC(t),DC(e)!==t&&n)throw Error(ve(425))}function cg(){}var zj=null,Vj=null;function qj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uj=typeof setTimeout=="function"?setTimeout:void 0,Iz=typeof clearTimeout=="function"?clearTimeout:void 0,MC=typeof Promise=="function"?Promise:void 0,$z=typeof queueMicrotask=="function"?queueMicrotask:typeof MC<"u"?function(e){return MC.resolve(null).then(e).catch(Rz)}:Uj;function Rz(e){setTimeout(function(){throw e})}function c0(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Xh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Xh(t)}function vo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function IC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var dd=Math.random().toString(36).slice(2),wa="__reactFiber$"+dd,nf="__reactProps$"+dd,vi="__reactContainer$"+dd,Wj="__reactEvents$"+dd,Lz="__reactListeners$"+dd,Fz="__reactHandles$"+dd;function il(e){var t=e[wa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[wa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=IC(e);e!==null;){if(n=e[wa])return n;e=IC(e)}return t}e=n,n=e.parentNode}return null}function um(e){return e=e[wa]||e[vi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ic(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function tx(e){return e[nf]||null}var Hj=[],$c=-1;function Do(e){return{current:e}}function Xt(e){0>$c||(e.current=Hj[$c],Hj[$c]=null,$c--)}function Ut(e,t){$c++,Hj[$c]=e.current,e.current=t}var Po={},lr=Do(Po),Vr=Do(!1),Tl=Po;function ju(e,t){var n=e.type.contextTypes;if(!n)return Po;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function qr(e){return e=e.childContextTypes,e!=null}function ug(){Xt(Vr),Xt(lr)}function $C(e,t,n){if(lr.current!==Po)throw Error(ve(168));Ut(lr,t),Ut(Vr,n)}function ND(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(ve(108,NB(e)||"Unknown",a));return an({},n,r)}function dg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Po,Tl=lr.current,Ut(lr,e),Ut(Vr,Vr.current),!0}function RC(e,t,n){var r=e.stateNode;if(!r)throw Error(ve(169));n?(e=ND(e,t,Tl),r.__reactInternalMemoizedMergedChildContext=e,Xt(Vr),Xt(lr),Ut(lr,e)):Xt(Vr),Ut(Vr,n)}var ti=null,nx=!1,u0=!1;function SD(e){ti===null?ti=[e]:ti.push(e)}function Bz(e){nx=!0,SD(e)}function Mo(){if(!u0&&ti!==null){u0=!0;var e=0,t=Tt;try{var n=ti;for(Tt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ti=null,nx=!1}catch(a){throw ti!==null&&(ti=ti.slice(e+1)),YO(a1,Mo),a}finally{Tt=t,u0=!1}}return null}var Rc=[],Lc=0,hg=null,fg=0,ys=[],js=0,El=null,ii=1,oi="";function Xo(e,t){Rc[Lc++]=fg,Rc[Lc++]=hg,hg=e,fg=t}function CD(e,t,n){ys[js++]=ii,ys[js++]=oi,ys[js++]=El,El=e;var r=ii;e=oi;var a=32-Js(r)-1;r&=~(1<<a),n+=1;var i=32-Js(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,ii=1<<32-Js(t)+a|n<<a|r,oi=i+e}else ii=1<<i|n<<a|r,oi=e}function m1(e){e.return!==null&&(Xo(e,1),CD(e,1,0))}function p1(e){for(;e===hg;)hg=Rc[--Lc],Rc[Lc]=null,fg=Rc[--Lc],Rc[Lc]=null;for(;e===El;)El=ys[--js],ys[js]=null,oi=ys[--js],ys[js]=null,ii=ys[--js],ys[js]=null}var as=null,ss=null,en=!1,Ks=null;function _D(e,t){var n=ws(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function LC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,as=e,ss=vo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,as=e,ss=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=El!==null?{id:ii,overflow:oi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ws(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,as=e,ss=null,!0):!1;default:return!1}}function Kj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gj(e){if(en){var t=ss;if(t){var n=t;if(!LC(e,t)){if(Kj(e))throw Error(ve(418));t=vo(n.nextSibling);var r=as;t&&LC(e,t)?_D(r,n):(e.flags=e.flags&-4097|2,en=!1,as=e)}}else{if(Kj(e))throw Error(ve(418));e.flags=e.flags&-4097|2,en=!1,as=e}}}function FC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;as=e}function Km(e){if(e!==as)return!1;if(!en)return FC(e),en=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qj(e.type,e.memoizedProps)),t&&(t=ss)){if(Kj(e))throw PD(),Error(ve(418));for(;t;)_D(e,t),t=vo(t.nextSibling)}if(FC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ss=vo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ss=null}}else ss=as?vo(e.stateNode.nextSibling):null;return!0}function PD(){for(var e=ss;e;)e=vo(e.nextSibling)}function bu(){ss=as=null,en=!1}function g1(e){Ks===null?Ks=[e]:Ks.push(e)}var zz=Ai.ReactCurrentBatchConfig;function Qd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,e))}return e}function Gm(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function BC(e){var t=e._init;return t(e._payload)}function AD(e){function t(x,y){if(e){var j=x.deletions;j===null?(x.deletions=[y],x.flags|=16):j.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=bo(x,y),x.index=0,x.sibling=null,x}function i(x,y,j){return x.index=j,e?(j=x.alternate,j!==null?(j=j.index,j<y?(x.flags|=2,y):j):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,j,w){return y===null||y.tag!==6?(y=v0(j,x.mode,w),y.return=x,y):(y=a(y,j),y.return=x,y)}function c(x,y,j,w){var N=j.type;return N===Ec?d(x,y,j.props.children,w,j.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Wi&&BC(N)===y.type)?(w=a(y,j.props),w.ref=Qd(x,y,j),w.return=x,w):(w=Kp(j.type,j.key,j.props,null,x.mode,w),w.ref=Qd(x,y,j),w.return=x,w)}function u(x,y,j,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==j.containerInfo||y.stateNode.implementation!==j.implementation?(y=x0(j,x.mode,w),y.return=x,y):(y=a(y,j.children||[]),y.return=x,y)}function d(x,y,j,w,N){return y===null||y.tag!==7?(y=_l(j,x.mode,w,N),y.return=x,y):(y=a(y,j),y.return=x,y)}function h(x,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return y=v0(""+y,x.mode,j),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Rm:return j=Kp(y.type,y.key,y.props,null,x.mode,j),j.ref=Qd(x,null,y),j.return=x,j;case Tc:return y=x0(y,x.mode,j),y.return=x,y;case Wi:var w=y._init;return h(x,w(y._payload),j)}if(vh(y)||Wd(y))return y=_l(y,x.mode,j,null),y.return=x,y;Gm(x,y)}return null}function f(x,y,j,w){var N=y!==null?y.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:l(x,y,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Rm:return j.key===N?c(x,y,j,w):null;case Tc:return j.key===N?u(x,y,j,w):null;case Wi:return N=j._init,f(x,y,N(j._payload),w)}if(vh(j)||Wd(j))return N!==null?null:d(x,y,j,w,null);Gm(x,j)}return null}function m(x,y,j,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(j)||null,l(y,x,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Rm:return x=x.get(w.key===null?j:w.key)||null,c(y,x,w,N);case Tc:return x=x.get(w.key===null?j:w.key)||null,u(y,x,w,N);case Wi:var C=w._init;return m(x,y,j,C(w._payload),N)}if(vh(w)||Wd(w))return x=x.get(j)||null,d(y,x,w,N,null);Gm(y,w)}return null}function g(x,y,j,w){for(var N=null,C=null,S=y,_=y=0,k=null;S!==null&&_<j.length;_++){S.index>_?(k=S,S=null):k=S.sibling;var E=f(x,S,j[_],w);if(E===null){S===null&&(S=k);break}e&&S&&E.alternate===null&&t(x,S),y=i(E,y,_),C===null?N=E:C.sibling=E,C=E,S=k}if(_===j.length)return n(x,S),en&&Xo(x,_),N;if(S===null){for(;_<j.length;_++)S=h(x,j[_],w),S!==null&&(y=i(S,y,_),C===null?N=S:C.sibling=S,C=S);return en&&Xo(x,_),N}for(S=r(x,S);_<j.length;_++)k=m(S,x,_,j[_],w),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?_:k.key),y=i(k,y,_),C===null?N=k:C.sibling=k,C=k);return e&&S.forEach(function(P){return t(x,P)}),en&&Xo(x,_),N}function p(x,y,j,w){var N=Wd(j);if(typeof N!="function")throw Error(ve(150));if(j=N.call(j),j==null)throw Error(ve(151));for(var C=N=null,S=y,_=y=0,k=null,E=j.next();S!==null&&!E.done;_++,E=j.next()){S.index>_?(k=S,S=null):k=S.sibling;var P=f(x,S,E.value,w);if(P===null){S===null&&(S=k);break}e&&S&&P.alternate===null&&t(x,S),y=i(P,y,_),C===null?N=P:C.sibling=P,C=P,S=k}if(E.done)return n(x,S),en&&Xo(x,_),N;if(S===null){for(;!E.done;_++,E=j.next())E=h(x,E.value,w),E!==null&&(y=i(E,y,_),C===null?N=E:C.sibling=E,C=E);return en&&Xo(x,_),N}for(S=r(x,S);!E.done;_++,E=j.next())E=m(S,x,_,E.value,w),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?_:E.key),y=i(E,y,_),C===null?N=E:C.sibling=E,C=E);return e&&S.forEach(function(A){return t(x,A)}),en&&Xo(x,_),N}function v(x,y,j,w){if(typeof j=="object"&&j!==null&&j.type===Ec&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Rm:e:{for(var N=j.key,C=y;C!==null;){if(C.key===N){if(N=j.type,N===Ec){if(C.tag===7){n(x,C.sibling),y=a(C,j.props.children),y.return=x,x=y;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Wi&&BC(N)===C.type){n(x,C.sibling),y=a(C,j.props),y.ref=Qd(x,C,j),y.return=x,x=y;break e}n(x,C);break}else t(x,C);C=C.sibling}j.type===Ec?(y=_l(j.props.children,x.mode,w,j.key),y.return=x,x=y):(w=Kp(j.type,j.key,j.props,null,x.mode,w),w.ref=Qd(x,y,j),w.return=x,x=w)}return o(x);case Tc:e:{for(C=j.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===j.containerInfo&&y.stateNode.implementation===j.implementation){n(x,y.sibling),y=a(y,j.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=x0(j,x.mode,w),y.return=x,x=y}return o(x);case Wi:return C=j._init,v(x,y,C(j._payload),w)}if(vh(j))return g(x,y,j,w);if(Wd(j))return p(x,y,j,w);Gm(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,y!==null&&y.tag===6?(n(x,y.sibling),y=a(y,j),y.return=x,x=y):(n(x,y),y=v0(j,x.mode,w),y.return=x,x=y),o(x)):n(x,y)}return v}var wu=AD(!0),kD=AD(!1),mg=Do(null),pg=null,Fc=null,v1=null;function x1(){v1=Fc=pg=null}function y1(e){var t=mg.current;Xt(mg),e._currentValue=t}function Yj(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xc(e,t){pg=e,v1=Fc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Br=!0),e.firstContext=null)}function _s(e){var t=e._currentValue;if(v1!==e)if(e={context:e,memoizedValue:t,next:null},Fc===null){if(pg===null)throw Error(ve(308));Fc=e,pg.dependencies={lanes:0,firstContext:e}}else Fc=Fc.next=e;return t}var ol=null;function j1(e){ol===null?ol=[e]:ol.push(e)}function TD(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,j1(t)):(n.next=a.next,a.next=n),t.interleaved=n,xi(e,r)}function xi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Hi=!1;function b1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ED(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,xt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,xi(e,n)}return a=r.interleaved,a===null?(t.next=t,j1(r)):(t.next=a.next,a.next=t),r.interleaved=t,xi(e,n)}function zp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,i1(e,n)}}function zC(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gg(e,t,n,r){var a=e.updateQueue;Hi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(f=t,m=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=an({},h,f);break e;case 2:Hi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=h}}function VC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(ve(191,a));a.call(r)}}}var dm={},Ea=Do(dm),rf=Do(dm),sf=Do(dm);function ll(e){if(e===dm)throw Error(ve(174));return e}function w1(e,t){switch(Ut(sf,t),Ut(rf,e),Ut(Ea,dm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kj(t,e)}Xt(Ea),Ut(Ea,t)}function Nu(){Xt(Ea),Xt(rf),Xt(sf)}function OD(e){ll(sf.current);var t=ll(Ea.current),n=kj(t,e.type);t!==n&&(Ut(rf,e),Ut(Ea,n))}function N1(e){rf.current===e&&(Xt(Ea),Xt(rf))}var nn=Do(0);function vg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var d0=[];function S1(){for(var e=0;e<d0.length;e++)d0[e]._workInProgressVersionPrimary=null;d0.length=0}var Vp=Ai.ReactCurrentDispatcher,h0=Ai.ReactCurrentBatchConfig,Ol=0,rn=null,kn=null,Bn=null,xg=!1,Th=!1,af=0,Vz=0;function tr(){throw Error(ve(321))}function C1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!na(e[n],t[n]))return!1;return!0}function _1(e,t,n,r,a,i){if(Ol=i,rn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vp.current=e===null||e.memoizedState===null?Hz:Kz,e=n(r,a),Th){i=0;do{if(Th=!1,af=0,25<=i)throw Error(ve(301));i+=1,Bn=kn=null,t.updateQueue=null,Vp.current=Gz,e=n(r,a)}while(Th)}if(Vp.current=yg,t=kn!==null&&kn.next!==null,Ol=0,Bn=kn=rn=null,xg=!1,t)throw Error(ve(300));return e}function P1(){var e=af!==0;return af=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?rn.memoizedState=Bn=e:Bn=Bn.next=e,Bn}function Ps(){if(kn===null){var e=rn.alternate;e=e!==null?e.memoizedState:null}else e=kn.next;var t=Bn===null?rn.memoizedState:Bn.next;if(t!==null)Bn=t,kn=e;else{if(e===null)throw Error(ve(310));kn=e,e={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},Bn===null?rn.memoizedState=Bn=e:Bn=Bn.next=e}return Bn}function of(e,t){return typeof t=="function"?t(e):t}function f0(e){var t=Ps(),n=t.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=e;var r=kn,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Ol&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,rn.lanes|=d,Dl|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,na(r,t.memoizedState)||(Br=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,rn.lanes|=i,Dl|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function m0(e){var t=Ps(),n=t.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);na(i,t.memoizedState)||(Br=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function DD(){}function MD(e,t){var n=rn,r=Ps(),a=t(),i=!na(r.memoizedState,a);if(i&&(r.memoizedState=a,Br=!0),r=r.queue,A1(RD.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Bn!==null&&Bn.memoizedState.tag&1){if(n.flags|=2048,lf(9,$D.bind(null,n,r,a,t),void 0,null),Wn===null)throw Error(ve(349));Ol&30||ID(n,t,a)}return a}function ID(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=rn.updateQueue,t===null?(t={lastEffect:null,stores:null},rn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $D(e,t,n,r){t.value=n,t.getSnapshot=r,LD(t)&&FD(e)}function RD(e,t,n){return n(function(){LD(t)&&FD(e)})}function LD(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!na(e,n)}catch{return!0}}function FD(e){var t=xi(e,1);t!==null&&Zs(t,e,1,-1)}function qC(e){var t=va();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:of,lastRenderedState:e},t.queue=e,e=e.dispatch=Wz.bind(null,rn,e),[t.memoizedState,e]}function lf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=rn.updateQueue,t===null?(t={lastEffect:null,stores:null},rn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function BD(){return Ps().memoizedState}function qp(e,t,n,r){var a=va();rn.flags|=e,a.memoizedState=lf(1|t,n,void 0,r===void 0?null:r)}function rx(e,t,n,r){var a=Ps();r=r===void 0?null:r;var i=void 0;if(kn!==null){var o=kn.memoizedState;if(i=o.destroy,r!==null&&C1(r,o.deps)){a.memoizedState=lf(t,n,i,r);return}}rn.flags|=e,a.memoizedState=lf(1|t,n,i,r)}function UC(e,t){return qp(8390656,8,e,t)}function A1(e,t){return rx(2048,8,e,t)}function zD(e,t){return rx(4,2,e,t)}function VD(e,t){return rx(4,4,e,t)}function qD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function UD(e,t,n){return n=n!=null?n.concat([e]):null,rx(4,4,qD.bind(null,t,e),n)}function k1(){}function WD(e,t){var n=Ps();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&C1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function HD(e,t){var n=Ps();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&C1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function KD(e,t,n){return Ol&21?(na(n,t)||(n=JO(),rn.lanes|=n,Dl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Br=!0),e.memoizedState=n)}function qz(e,t){var n=Tt;Tt=n!==0&&4>n?n:4,e(!0);var r=h0.transition;h0.transition={};try{e(!1),t()}finally{Tt=n,h0.transition=r}}function GD(){return Ps().memoizedState}function Uz(e,t,n){var r=jo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YD(e))QD(t,n);else if(n=TD(e,t,n,r),n!==null){var a=Nr();Zs(n,e,r,a),XD(n,t,r)}}function Wz(e,t,n){var r=jo(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YD(e))QD(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,na(l,o)){var c=t.interleaved;c===null?(a.next=a,j1(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=TD(e,t,a,r),n!==null&&(a=Nr(),Zs(n,e,r,a),XD(n,t,r))}}function YD(e){var t=e.alternate;return e===rn||t!==null&&t===rn}function QD(e,t){Th=xg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function XD(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,i1(e,n)}}var yg={readContext:_s,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},Hz={readContext:_s,useCallback:function(e,t){return va().memoizedState=[e,t===void 0?null:t],e},useContext:_s,useEffect:UC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qp(4194308,4,qD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qp(4194308,4,e,t)},useInsertionEffect:function(e,t){return qp(4,2,e,t)},useMemo:function(e,t){var n=va();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Uz.bind(null,rn,e),[r.memoizedState,e]},useRef:function(e){var t=va();return e={current:e},t.memoizedState=e},useState:qC,useDebugValue:k1,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=qC(!1),t=e[0];return e=qz.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=rn,a=va();if(en){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=t(),Wn===null)throw Error(ve(349));Ol&30||ID(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,UC(RD.bind(null,r,i,e),[e]),r.flags|=2048,lf(9,$D.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=va(),t=Wn.identifierPrefix;if(en){var n=oi,r=ii;n=(r&~(1<<32-Js(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=af++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Vz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kz={readContext:_s,useCallback:WD,useContext:_s,useEffect:A1,useImperativeHandle:UD,useInsertionEffect:zD,useLayoutEffect:VD,useMemo:HD,useReducer:f0,useRef:BD,useState:function(){return f0(of)},useDebugValue:k1,useDeferredValue:function(e){var t=Ps();return KD(t,kn.memoizedState,e)},useTransition:function(){var e=f0(of)[0],t=Ps().memoizedState;return[e,t]},useMutableSource:DD,useSyncExternalStore:MD,useId:GD,unstable_isNewReconciler:!1},Gz={readContext:_s,useCallback:WD,useContext:_s,useEffect:A1,useImperativeHandle:UD,useInsertionEffect:zD,useLayoutEffect:VD,useMemo:HD,useReducer:m0,useRef:BD,useState:function(){return m0(of)},useDebugValue:k1,useDeferredValue:function(e){var t=Ps();return kn===null?t.memoizedState=e:KD(t,kn.memoizedState,e)},useTransition:function(){var e=m0(of)[0],t=Ps().memoizedState;return[e,t]},useMutableSource:DD,useSyncExternalStore:MD,useId:GD,unstable_isNewReconciler:!1};function Bs(e,t){if(e&&e.defaultProps){t=an({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qj(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:an({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sx={isMounted:function(e){return(e=e._reactInternals)?Jl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nr(),a=jo(e),i=di(r,a);i.payload=t,n!=null&&(i.callback=n),t=xo(e,i,a),t!==null&&(Zs(t,e,a,r),zp(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nr(),a=jo(e),i=di(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=xo(e,i,a),t!==null&&(Zs(t,e,a,r),zp(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nr(),r=jo(e),a=di(n,r);a.tag=2,t!=null&&(a.callback=t),t=xo(e,a,r),t!==null&&(Zs(t,e,r,n),zp(t,e,r))}};function WC(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Zh(n,r)||!Zh(a,i):!0}function JD(e,t,n){var r=!1,a=Po,i=t.contextType;return typeof i=="object"&&i!==null?i=_s(i):(a=qr(t)?Tl:lr.current,r=t.contextTypes,i=(r=r!=null)?ju(e,a):Po),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sx,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function HC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sx.enqueueReplaceState(t,t.state,null)}function Xj(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},b1(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=_s(i):(i=qr(t)?Tl:lr.current,a.context=ju(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Qj(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&sx.enqueueReplaceState(a,a.state,null),gg(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Su(e,t){try{var n="",r=t;do n+=wB(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function p0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Jj(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Yz=typeof WeakMap=="function"?WeakMap:Map;function ZD(e,t,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bg||(bg=!0,lb=r),Jj(e,t)},n}function eM(e,t,n){n=di(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Jj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Jj(e,t),typeof r!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function KC(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Yz;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=cV.bind(null,e,t,n),t.then(e,e))}function GC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function YC(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=di(-1,1),t.tag=2,xo(n,t,1))),n.lanes|=1),e)}var Qz=Ai.ReactCurrentOwner,Br=!1;function vr(e,t,n,r){t.child=e===null?kD(t,null,n,r):wu(t,e.child,n,r)}function QC(e,t,n,r,a){n=n.render;var i=t.ref;return Xc(t,a),r=_1(e,t,n,r,i,a),n=P1(),e!==null&&!Br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,yi(e,t,a)):(en&&n&&m1(t),t.flags|=1,vr(e,t,r,a),t.child)}function XC(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!R1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,tM(e,t,i,r,a)):(e=Kp(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zh,n(o,r)&&e.ref===t.ref)return yi(e,t,a)}return t.flags|=1,e=bo(i,r),e.ref=t.ref,e.return=t,t.child=e}function tM(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Zh(i,r)&&e.ref===t.ref)if(Br=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Br=!0);else return t.lanes=e.lanes,yi(e,t,a)}return Zj(e,t,n,r,a)}function nM(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(zc,Zr),Zr|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ut(zc,Zr),Zr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ut(zc,Zr),Zr|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ut(zc,Zr),Zr|=r;return vr(e,t,a,n),t.child}function rM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zj(e,t,n,r,a){var i=qr(n)?Tl:lr.current;return i=ju(t,i),Xc(t,a),n=_1(e,t,n,r,i,a),r=P1(),e!==null&&!Br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,yi(e,t,a)):(en&&r&&m1(t),t.flags|=1,vr(e,t,n,a),t.child)}function JC(e,t,n,r,a){if(qr(n)){var i=!0;dg(t)}else i=!1;if(Xc(t,a),t.stateNode===null)Up(e,t),JD(t,n,r),Xj(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=_s(u):(u=qr(n)?Tl:lr.current,u=ju(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&HC(t,o,r,u),Hi=!1;var f=t.memoizedState;o.state=f,gg(t,r,o,a),c=t.memoizedState,l!==r||f!==c||Vr.current||Hi?(typeof d=="function"&&(Qj(t,n,d,r),c=t.memoizedState),(l=Hi||WC(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ED(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Bs(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=_s(c):(c=qr(n)?Tl:lr.current,c=ju(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&HC(t,o,r,c),Hi=!1,f=t.memoizedState,o.state=f,gg(t,r,o,a);var g=t.memoizedState;l!==h||f!==g||Vr.current||Hi?(typeof m=="function"&&(Qj(t,n,m,r),g=t.memoizedState),(u=Hi||WC(t,n,u,r,f,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return eb(e,t,n,r,i,a)}function eb(e,t,n,r,a,i){rM(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&RC(t,n,!1),yi(e,t,i);r=t.stateNode,Qz.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=wu(t,e.child,null,i),t.child=wu(t,null,l,i)):vr(e,t,l,i),t.memoizedState=r.state,a&&RC(t,n,!0),t.child}function sM(e){var t=e.stateNode;t.pendingContext?$C(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$C(e,t.context,!1),w1(e,t.containerInfo)}function ZC(e,t,n,r,a){return bu(),g1(a),t.flags|=256,vr(e,t,n,r),t.child}var tb={dehydrated:null,treeContext:null,retryLane:0};function nb(e){return{baseLanes:e,cachePool:null,transitions:null}}function aM(e,t,n){var r=t.pendingProps,a=nn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ut(nn,a&1),e===null)return Gj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ox(o,r,0,null),e=_l(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=nb(n),t.memoizedState=tb,e):T1(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Xz(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=bo(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=bo(l,i):(i=_l(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?nb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=tb,r}return i=e.child,e=i.sibling,r=bo(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function T1(e,t){return t=ox({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ym(e,t,n,r){return r!==null&&g1(r),wu(t,e.child,null,n),e=T1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xz(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=p0(Error(ve(422))),Ym(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=ox({mode:"visible",children:r.children},a,0,null),i=_l(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&wu(t,e.child,null,o),t.child.memoizedState=nb(o),t.memoizedState=tb,i);if(!(t.mode&1))return Ym(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ve(419)),r=p0(i,r,void 0),Ym(e,t,o,r)}if(l=(o&e.childLanes)!==0,Br||l){if(r=Wn,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,xi(e,a),Zs(r,e,a,-1))}return $1(),r=p0(Error(ve(421))),Ym(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=uV.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ss=vo(a.nextSibling),as=t,en=!0,Ks=null,e!==null&&(ys[js++]=ii,ys[js++]=oi,ys[js++]=El,ii=e.id,oi=e.overflow,El=t),t=T1(t,r.children),t.flags|=4096,t)}function e_(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Yj(e.return,t,n)}function g0(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function iM(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(vr(e,t,r.children,n),r=nn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&e_(e,n,t);else if(e.tag===19)e_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ut(nn,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&vg(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),g0(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&vg(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}g0(t,!0,n,null,i);break;case"together":g0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Up(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,n=bo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=bo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jz(e,t,n){switch(t.tag){case 3:sM(t),bu();break;case 5:OD(t);break;case 1:qr(t.type)&&dg(t);break;case 4:w1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ut(mg,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ut(nn,nn.current&1),t.flags|=128,null):n&t.child.childLanes?aM(e,t,n):(Ut(nn,nn.current&1),e=yi(e,t,n),e!==null?e.sibling:null);Ut(nn,nn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return iM(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ut(nn,nn.current),r)break;return null;case 22:case 23:return t.lanes=0,nM(e,t,n)}return yi(e,t,n)}var oM,rb,lM,cM;oM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rb=function(){};lM=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ll(Ea.current);var i=null;switch(n){case"input":a=Cj(e,a),r=Cj(e,r),i=[];break;case"select":a=an({},a,{value:void 0}),r=an({},r,{value:void 0}),i=[];break;case"textarea":a=Aj(e,a),r=Aj(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=cg)}Tj(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Gt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};cM=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xd(e,t){if(!en)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zz(e,t,n){var r=t.pendingProps;switch(p1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(t),null;case 1:return qr(t.type)&&ug(),nr(t),null;case 3:return r=t.stateNode,Nu(),Xt(Vr),Xt(lr),S1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Km(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ks!==null&&(db(Ks),Ks=null))),rb(e,t),nr(t),null;case 5:N1(t);var a=ll(sf.current);if(n=t.type,e!==null&&t.stateNode!=null)lM(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ve(166));return nr(t),null}if(e=ll(Ea.current),Km(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[wa]=t,r[nf]=i,e=(t.mode&1)!==0,n){case"dialog":Gt("cancel",r),Gt("close",r);break;case"iframe":case"object":case"embed":Gt("load",r);break;case"video":case"audio":for(a=0;a<yh.length;a++)Gt(yh[a],r);break;case"source":Gt("error",r);break;case"img":case"image":case"link":Gt("error",r),Gt("load",r);break;case"details":Gt("toggle",r);break;case"input":cC(r,i),Gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Gt("invalid",r);break;case"textarea":dC(r,i),Gt("invalid",r)}Tj(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Hm(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Hm(r.textContent,l,e),a=["children",""+l]):Hh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Gt("scroll",r)}switch(n){case"input":Lm(r),uC(r,i,!0);break;case"textarea":Lm(r),hC(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=cg)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=RO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[wa]=t,e[nf]=r,oM(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ej(n,r),n){case"dialog":Gt("cancel",e),Gt("close",e),a=r;break;case"iframe":case"object":case"embed":Gt("load",e),a=r;break;case"video":case"audio":for(a=0;a<yh.length;a++)Gt(yh[a],e);a=r;break;case"source":Gt("error",e),a=r;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),a=r;break;case"details":Gt("toggle",e),a=r;break;case"input":cC(e,r),a=Cj(e,r),Gt("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=an({},r,{value:void 0}),Gt("invalid",e);break;case"textarea":dC(e,r),a=Aj(e,r),Gt("invalid",e);break;default:a=r}Tj(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?BO(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&LO(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Kh(e,c):typeof c=="number"&&Kh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Gt("scroll",e):c!=null&&e1(e,i,c,o))}switch(n){case"input":Lm(e),uC(e,r,!1);break;case"textarea":Lm(e),hC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_o(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Kc(e,!!r.multiple,i,!1):r.defaultValue!=null&&Kc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=cg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nr(t),null;case 6:if(e&&t.stateNode!=null)cM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ve(166));if(n=ll(sf.current),ll(Ea.current),Km(t)){if(r=t.stateNode,n=t.memoizedProps,r[wa]=t,(i=r.nodeValue!==n)&&(e=as,e!==null))switch(e.tag){case 3:Hm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hm(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wa]=t,t.stateNode=r}return nr(t),null;case 13:if(Xt(nn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(en&&ss!==null&&t.mode&1&&!(t.flags&128))PD(),bu(),t.flags|=98560,i=!1;else if(i=Km(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ve(317));i[wa]=t}else bu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nr(t),i=!1}else Ks!==null&&(db(Ks),Ks=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||nn.current&1?Dn===0&&(Dn=3):$1())),t.updateQueue!==null&&(t.flags|=4),nr(t),null);case 4:return Nu(),rb(e,t),e===null&&ef(t.stateNode.containerInfo),nr(t),null;case 10:return y1(t.type._context),nr(t),null;case 17:return qr(t.type)&&ug(),nr(t),null;case 19:if(Xt(nn),i=t.memoizedState,i===null)return nr(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Xd(i,!1);else{if(Dn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vg(e),o!==null){for(t.flags|=128,Xd(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ut(nn,nn.current&1|2),t.child}e=e.sibling}i.tail!==null&&fn()>Cu&&(t.flags|=128,r=!0,Xd(i,!1),t.lanes=4194304)}else{if(!r)if(e=vg(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!en)return nr(t),null}else 2*fn()-i.renderingStartTime>Cu&&n!==1073741824&&(t.flags|=128,r=!0,Xd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=fn(),t.sibling=null,n=nn.current,Ut(nn,r?n&1|2:n&1),t):(nr(t),null);case 22:case 23:return I1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Zr&1073741824&&(nr(t),t.subtreeFlags&6&&(t.flags|=8192)):nr(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function eV(e,t){switch(p1(t),t.tag){case 1:return qr(t.type)&&ug(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nu(),Xt(Vr),Xt(lr),S1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return N1(t),null;case 13:if(Xt(nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));bu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xt(nn),null;case 4:return Nu(),null;case 10:return y1(t.type._context),null;case 22:case 23:return I1(),null;case 24:return null;default:return null}}var Qm=!1,sr=!1,tV=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Bc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){un(e,t,r)}else n.current=null}function sb(e,t,n){try{n()}catch(r){un(e,t,r)}}var t_=!1;function nV(e,t){if(zj=ig,e=mD(),f1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||a!==0&&h.nodeType!==3||(l=o+a),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vj={focusedElem:e,selectionRange:n},ig=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:Bs(t.type,p),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(w){un(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return g=t_,t_=!1,g}function Eh(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&sb(t,n,i)}a=a.next}while(a!==r)}}function ax(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ab(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uM(e){var t=e.alternate;t!==null&&(e.alternate=null,uM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wa],delete t[nf],delete t[Wj],delete t[Lz],delete t[Fz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dM(e){return e.tag===5||e.tag===3||e.tag===4}function n_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ib(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cg));else if(r!==4&&(e=e.child,e!==null))for(ib(e,t,n),e=e.sibling;e!==null;)ib(e,t,n),e=e.sibling}function ob(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ob(e,t,n),e=e.sibling;e!==null;)ob(e,t,n),e=e.sibling}var Yn=null,qs=!1;function $i(e,t,n){for(n=n.child;n!==null;)hM(e,t,n),n=n.sibling}function hM(e,t,n){if(Ta&&typeof Ta.onCommitFiberUnmount=="function")try{Ta.onCommitFiberUnmount(Xv,n)}catch{}switch(n.tag){case 5:sr||Bc(n,t);case 6:var r=Yn,a=qs;Yn=null,$i(e,t,n),Yn=r,qs=a,Yn!==null&&(qs?(e=Yn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yn.removeChild(n.stateNode));break;case 18:Yn!==null&&(qs?(e=Yn,n=n.stateNode,e.nodeType===8?c0(e.parentNode,n):e.nodeType===1&&c0(e,n),Xh(e)):c0(Yn,n.stateNode));break;case 4:r=Yn,a=qs,Yn=n.stateNode.containerInfo,qs=!0,$i(e,t,n),Yn=r,qs=a;break;case 0:case 11:case 14:case 15:if(!sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&sb(n,t,o),a=a.next}while(a!==r)}$i(e,t,n);break;case 1:if(!sr&&(Bc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){un(n,t,l)}$i(e,t,n);break;case 21:$i(e,t,n);break;case 22:n.mode&1?(sr=(r=sr)||n.memoizedState!==null,$i(e,t,n),sr=r):$i(e,t,n);break;default:$i(e,t,n)}}function r_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tV),t.forEach(function(r){var a=dV.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Is(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Yn=l.stateNode,qs=!1;break e;case 3:Yn=l.stateNode.containerInfo,qs=!0;break e;case 4:Yn=l.stateNode.containerInfo,qs=!0;break e}l=l.return}if(Yn===null)throw Error(ve(160));hM(i,o,a),Yn=null,qs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){un(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fM(t,e),t=t.sibling}function fM(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Is(t,e),ga(e),r&4){try{Eh(3,e,e.return),ax(3,e)}catch(p){un(e,e.return,p)}try{Eh(5,e,e.return)}catch(p){un(e,e.return,p)}}break;case 1:Is(t,e),ga(e),r&512&&n!==null&&Bc(n,n.return);break;case 5:if(Is(t,e),ga(e),r&512&&n!==null&&Bc(n,n.return),e.flags&32){var a=e.stateNode;try{Kh(a,"")}catch(p){un(e,e.return,p)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&IO(a,i),Ej(l,o);var u=Ej(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?BO(a,h):d==="dangerouslySetInnerHTML"?LO(a,h):d==="children"?Kh(a,h):e1(a,d,h,u)}switch(l){case"input":_j(a,i);break;case"textarea":$O(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Kc(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Kc(a,!!i.multiple,i.defaultValue,!0):Kc(a,!!i.multiple,i.multiple?[]:"",!1))}a[nf]=i}catch(p){un(e,e.return,p)}}break;case 6:if(Is(t,e),ga(e),r&4){if(e.stateNode===null)throw Error(ve(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){un(e,e.return,p)}}break;case 3:if(Is(t,e),ga(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xh(t.containerInfo)}catch(p){un(e,e.return,p)}break;case 4:Is(t,e),ga(e);break;case 13:Is(t,e),ga(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(D1=fn())),r&4&&r_(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(sr=(u=sr)||d,Is(t,e),sr=u):Is(t,e),ga(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ee=e,d=e.child;d!==null;){for(h=Ee=d;Ee!==null;){switch(f=Ee,m=f.child,f.tag){case 0:case 11:case 14:case 15:Eh(4,f,f.return);break;case 1:Bc(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){un(r,n,p)}}break;case 5:Bc(f,f.return);break;case 22:if(f.memoizedState!==null){a_(h);continue}}m!==null?(m.return=f,Ee=m):a_(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=FO("display",o))}catch(p){un(e,e.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){un(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Is(t,e),ga(e),r&4&&r_(e);break;case 21:break;default:Is(t,e),ga(e)}}function ga(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dM(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Kh(a,""),r.flags&=-33);var i=n_(e);ob(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=n_(e);ib(e,l,o);break;default:throw Error(ve(161))}}catch(c){un(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rV(e,t,n){Ee=e,mM(e)}function mM(e,t,n){for(var r=(e.mode&1)!==0;Ee!==null;){var a=Ee,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Qm;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||sr;l=Qm;var u=sr;if(Qm=o,(sr=c)&&!u)for(Ee=a;Ee!==null;)o=Ee,c=o.child,o.tag===22&&o.memoizedState!==null?i_(a):c!==null?(c.return=o,Ee=c):i_(a);for(;i!==null;)Ee=i,mM(i),i=i.sibling;Ee=a,Qm=l,sr=u}s_(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ee=i):s_(e)}}function s_(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sr||ax(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!sr)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Bs(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&VC(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}VC(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Xh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}sr||t.flags&512&&ab(t)}catch(f){un(t,t.return,f)}}if(t===e){Ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function a_(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function i_(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ax(4,t)}catch(c){un(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){un(t,a,c)}}var i=t.return;try{ab(t)}catch(c){un(t,i,c)}break;case 5:var o=t.return;try{ab(t)}catch(c){un(t,o,c)}}}catch(c){un(t,t.return,c)}if(t===e){Ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ee=l;break}Ee=t.return}}var sV=Math.ceil,jg=Ai.ReactCurrentDispatcher,E1=Ai.ReactCurrentOwner,Ss=Ai.ReactCurrentBatchConfig,xt=0,Wn=null,yn=null,Qn=0,Zr=0,zc=Do(0),Dn=0,cf=null,Dl=0,ix=0,O1=0,Oh=null,Rr=null,D1=0,Cu=1/0,Ja=null,bg=!1,lb=null,yo=null,Xm=!1,co=null,wg=0,Dh=0,cb=null,Wp=-1,Hp=0;function Nr(){return xt&6?fn():Wp!==-1?Wp:Wp=fn()}function jo(e){return e.mode&1?xt&2&&Qn!==0?Qn&-Qn:zz.transition!==null?(Hp===0&&(Hp=JO()),Hp):(e=Tt,e!==0||(e=window.event,e=e===void 0?16:aD(e.type)),e):1}function Zs(e,t,n,r){if(50<Dh)throw Dh=0,cb=null,Error(ve(185));lm(e,n,r),(!(xt&2)||e!==Wn)&&(e===Wn&&(!(xt&2)&&(ix|=n),Dn===4&&Yi(e,Qn)),Ur(e,r),n===1&&xt===0&&!(t.mode&1)&&(Cu=fn()+500,nx&&Mo()))}function Ur(e,t){var n=e.callbackNode;zB(e,t);var r=ag(e,e===Wn?Qn:0);if(r===0)n!==null&&pC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pC(n),t===1)e.tag===0?Bz(o_.bind(null,e)):SD(o_.bind(null,e)),$z(function(){!(xt&6)&&Mo()}),n=null;else{switch(ZO(r)){case 1:n=a1;break;case 4:n=QO;break;case 16:n=sg;break;case 536870912:n=XO;break;default:n=sg}n=wM(n,pM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pM(e,t){if(Wp=-1,Hp=0,xt&6)throw Error(ve(327));var n=e.callbackNode;if(Jc()&&e.callbackNode!==n)return null;var r=ag(e,e===Wn?Qn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ng(e,r);else{t=r;var a=xt;xt|=2;var i=vM();(Wn!==e||Qn!==t)&&(Ja=null,Cu=fn()+500,Cl(e,t));do try{oV();break}catch(l){gM(e,l)}while(!0);x1(),jg.current=i,xt=a,yn!==null?t=0:(Wn=null,Qn=0,t=Dn)}if(t!==0){if(t===2&&(a=$j(e),a!==0&&(r=a,t=ub(e,a))),t===1)throw n=cf,Cl(e,0),Yi(e,r),Ur(e,fn()),n;if(t===6)Yi(e,r);else{if(a=e.current.alternate,!(r&30)&&!aV(a)&&(t=Ng(e,r),t===2&&(i=$j(e),i!==0&&(r=i,t=ub(e,i))),t===1))throw n=cf,Cl(e,0),Yi(e,r),Ur(e,fn()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(ve(345));case 2:Jo(e,Rr,Ja);break;case 3:if(Yi(e,r),(r&130023424)===r&&(t=D1+500-fn(),10<t)){if(ag(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Nr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Uj(Jo.bind(null,e,Rr,Ja),t);break}Jo(e,Rr,Ja);break;case 4:if(Yi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Js(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sV(r/1960))-r,10<r){e.timeoutHandle=Uj(Jo.bind(null,e,Rr,Ja),r);break}Jo(e,Rr,Ja);break;case 5:Jo(e,Rr,Ja);break;default:throw Error(ve(329))}}}return Ur(e,fn()),e.callbackNode===n?pM.bind(null,e):null}function ub(e,t){var n=Oh;return e.current.memoizedState.isDehydrated&&(Cl(e,t).flags|=256),e=Ng(e,t),e!==2&&(t=Rr,Rr=n,t!==null&&db(t)),e}function db(e){Rr===null?Rr=e:Rr.push.apply(Rr,e)}function aV(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!na(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yi(e,t){for(t&=~O1,t&=~ix,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Js(t),r=1<<n;e[n]=-1,t&=~r}}function o_(e){if(xt&6)throw Error(ve(327));Jc();var t=ag(e,0);if(!(t&1))return Ur(e,fn()),null;var n=Ng(e,t);if(e.tag!==0&&n===2){var r=$j(e);r!==0&&(t=r,n=ub(e,r))}if(n===1)throw n=cf,Cl(e,0),Yi(e,t),Ur(e,fn()),n;if(n===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jo(e,Rr,Ja),Ur(e,fn()),null}function M1(e,t){var n=xt;xt|=1;try{return e(t)}finally{xt=n,xt===0&&(Cu=fn()+500,nx&&Mo())}}function Ml(e){co!==null&&co.tag===0&&!(xt&6)&&Jc();var t=xt;xt|=1;var n=Ss.transition,r=Tt;try{if(Ss.transition=null,Tt=1,e)return e()}finally{Tt=r,Ss.transition=n,xt=t,!(xt&6)&&Mo()}}function I1(){Zr=zc.current,Xt(zc)}function Cl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Iz(n)),yn!==null)for(n=yn.return;n!==null;){var r=n;switch(p1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ug();break;case 3:Nu(),Xt(Vr),Xt(lr),S1();break;case 5:N1(r);break;case 4:Nu();break;case 13:Xt(nn);break;case 19:Xt(nn);break;case 10:y1(r.type._context);break;case 22:case 23:I1()}n=n.return}if(Wn=e,yn=e=bo(e.current,null),Qn=Zr=t,Dn=0,cf=null,O1=ix=Dl=0,Rr=Oh=null,ol!==null){for(t=0;t<ol.length;t++)if(n=ol[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}ol=null}return e}function gM(e,t){do{var n=yn;try{if(x1(),Vp.current=yg,xg){for(var r=rn.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}xg=!1}if(Ol=0,Bn=kn=rn=null,Th=!1,af=0,E1.current=null,n===null||n.return===null){Dn=1,cf=t,yn=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Qn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=GC(o);if(m!==null){m.flags&=-257,YC(m,o,l,i,t),m.mode&1&&KC(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){KC(i,u,t),$1();break e}c=Error(ve(426))}}else if(en&&l.mode&1){var v=GC(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),YC(v,o,l,i,t),g1(Su(c,l));break e}}i=c=Su(c,l),Dn!==4&&(Dn=2),Oh===null?Oh=[i]:Oh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=ZD(i,c,t);zC(i,x);break e;case 1:l=c;var y=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(yo===null||!yo.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=eM(i,l,t);zC(i,w);break e}}i=i.return}while(i!==null)}yM(n)}catch(N){t=N,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(!0)}function vM(){var e=jg.current;return jg.current=yg,e===null?yg:e}function $1(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Wn===null||!(Dl&268435455)&&!(ix&268435455)||Yi(Wn,Qn)}function Ng(e,t){var n=xt;xt|=2;var r=vM();(Wn!==e||Qn!==t)&&(Ja=null,Cl(e,t));do try{iV();break}catch(a){gM(e,a)}while(!0);if(x1(),xt=n,jg.current=r,yn!==null)throw Error(ve(261));return Wn=null,Qn=0,Dn}function iV(){for(;yn!==null;)xM(yn)}function oV(){for(;yn!==null&&!OB();)xM(yn)}function xM(e){var t=bM(e.alternate,e,Zr);e.memoizedProps=e.pendingProps,t===null?yM(e):yn=t,E1.current=null}function yM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=eV(n,t),n!==null){n.flags&=32767,yn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dn=6,yn=null;return}}else if(n=Zz(n,t,Zr),n!==null){yn=n;return}if(t=t.sibling,t!==null){yn=t;return}yn=t=e}while(t!==null);Dn===0&&(Dn=5)}function Jo(e,t,n){var r=Tt,a=Ss.transition;try{Ss.transition=null,Tt=1,lV(e,t,n,r)}finally{Ss.transition=a,Tt=r}return null}function lV(e,t,n,r){do Jc();while(co!==null);if(xt&6)throw Error(ve(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(VB(e,i),e===Wn&&(yn=Wn=null,Qn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xm||(Xm=!0,wM(sg,function(){return Jc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ss.transition,Ss.transition=null;var o=Tt;Tt=1;var l=xt;xt|=4,E1.current=null,nV(e,n),fM(n,e),Az(Vj),ig=!!zj,Vj=zj=null,e.current=n,rV(n),DB(),xt=l,Tt=o,Ss.transition=i}else e.current=n;if(Xm&&(Xm=!1,co=e,wg=a),i=e.pendingLanes,i===0&&(yo=null),$B(n.stateNode),Ur(e,fn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(bg)throw bg=!1,e=lb,lb=null,e;return wg&1&&e.tag!==0&&Jc(),i=e.pendingLanes,i&1?e===cb?Dh++:(Dh=0,cb=e):Dh=0,Mo(),null}function Jc(){if(co!==null){var e=ZO(wg),t=Ss.transition,n=Tt;try{if(Ss.transition=null,Tt=16>e?16:e,co===null)var r=!1;else{if(e=co,co=null,wg=0,xt&6)throw Error(ve(331));var a=xt;for(xt|=4,Ee=e.current;Ee!==null;){var i=Ee,o=i.child;if(Ee.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ee=u;Ee!==null;){var d=Ee;switch(d.tag){case 0:case 11:case 15:Eh(8,d,i)}var h=d.child;if(h!==null)h.return=d,Ee=h;else for(;Ee!==null;){d=Ee;var f=d.sibling,m=d.return;if(uM(d),d===u){Ee=null;break}if(f!==null){f.return=m,Ee=f;break}Ee=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ee=o;else e:for(;Ee!==null;){if(i=Ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Eh(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ee=x;break e}Ee=i.return}}var y=e.current;for(Ee=y;Ee!==null;){o=Ee;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Ee=j;else e:for(o=y;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ax(9,l)}}catch(N){un(l,l.return,N)}if(l===o){Ee=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Ee=w;break e}Ee=l.return}}if(xt=a,Mo(),Ta&&typeof Ta.onPostCommitFiberRoot=="function")try{Ta.onPostCommitFiberRoot(Xv,e)}catch{}r=!0}return r}finally{Tt=n,Ss.transition=t}}return!1}function l_(e,t,n){t=Su(n,t),t=ZD(e,t,1),e=xo(e,t,1),t=Nr(),e!==null&&(lm(e,1,t),Ur(e,t))}function un(e,t,n){if(e.tag===3)l_(e,e,n);else for(;t!==null;){if(t.tag===3){l_(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yo===null||!yo.has(r))){e=Su(n,e),e=eM(t,e,1),t=xo(t,e,1),e=Nr(),t!==null&&(lm(t,1,e),Ur(t,e));break}}t=t.return}}function cV(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Nr(),e.pingedLanes|=e.suspendedLanes&n,Wn===e&&(Qn&n)===n&&(Dn===4||Dn===3&&(Qn&130023424)===Qn&&500>fn()-D1?Cl(e,0):O1|=n),Ur(e,t)}function jM(e,t){t===0&&(e.mode&1?(t=zm,zm<<=1,!(zm&130023424)&&(zm=4194304)):t=1);var n=Nr();e=xi(e,t),e!==null&&(lm(e,t,n),Ur(e,n))}function uV(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jM(e,n)}function dV(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(t),jM(e,n)}var bM;bM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vr.current)Br=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Br=!1,Jz(e,t,n);Br=!!(e.flags&131072)}else Br=!1,en&&t.flags&1048576&&CD(t,fg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Up(e,t),e=t.pendingProps;var a=ju(t,lr.current);Xc(t,n),a=_1(null,t,r,e,a,n);var i=P1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qr(r)?(i=!0,dg(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,b1(t),a.updater=sx,t.stateNode=a,a._reactInternals=t,Xj(t,r,e,n),t=eb(null,t,r,!0,i,n)):(t.tag=0,en&&i&&m1(t),vr(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Up(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=fV(r),e=Bs(r,e),a){case 0:t=Zj(null,t,r,e,n);break e;case 1:t=JC(null,t,r,e,n);break e;case 11:t=QC(null,t,r,e,n);break e;case 14:t=XC(null,t,r,Bs(r.type,e),n);break e}throw Error(ve(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Bs(r,a),Zj(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Bs(r,a),JC(e,t,r,a,n);case 3:e:{if(sM(t),e===null)throw Error(ve(387));r=t.pendingProps,i=t.memoizedState,a=i.element,ED(e,t),gg(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Su(Error(ve(423)),t),t=ZC(e,t,r,n,a);break e}else if(r!==a){a=Su(Error(ve(424)),t),t=ZC(e,t,r,n,a);break e}else for(ss=vo(t.stateNode.containerInfo.firstChild),as=t,en=!0,Ks=null,n=kD(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bu(),r===a){t=yi(e,t,n);break e}vr(e,t,r,n)}t=t.child}return t;case 5:return OD(t),e===null&&Gj(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,qj(r,a)?o=null:i!==null&&qj(r,i)&&(t.flags|=32),rM(e,t),vr(e,t,o,n),t.child;case 6:return e===null&&Gj(t),null;case 13:return aM(e,t,n);case 4:return w1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wu(t,null,r,n):vr(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Bs(r,a),QC(e,t,r,a,n);case 7:return vr(e,t,t.pendingProps,n),t.child;case 8:return vr(e,t,t.pendingProps.children,n),t.child;case 12:return vr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Ut(mg,r._currentValue),r._currentValue=o,i!==null)if(na(i.value,o)){if(i.children===a.children&&!Vr.current){t=yi(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=di(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Yj(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ve(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Yj(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}vr(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Xc(t,n),a=_s(a),r=r(a),t.flags|=1,vr(e,t,r,n),t.child;case 14:return r=t.type,a=Bs(r,t.pendingProps),a=Bs(r.type,a),XC(e,t,r,a,n);case 15:return tM(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Bs(r,a),Up(e,t),t.tag=1,qr(r)?(e=!0,dg(t)):e=!1,Xc(t,n),JD(t,r,a),Xj(t,r,a,n),eb(null,t,r,!0,e,n);case 19:return iM(e,t,n);case 22:return nM(e,t,n)}throw Error(ve(156,t.tag))};function wM(e,t){return YO(e,t)}function hV(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(e,t,n,r){return new hV(e,t,n,r)}function R1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fV(e){if(typeof e=="function")return R1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===n1)return 11;if(e===r1)return 14}return 2}function bo(e,t){var n=e.alternate;return n===null?(n=ws(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kp(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")R1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ec:return _l(n.children,a,i,t);case t1:o=8,a|=8;break;case bj:return e=ws(12,n,t,a|2),e.elementType=bj,e.lanes=i,e;case wj:return e=ws(13,n,t,a),e.elementType=wj,e.lanes=i,e;case Nj:return e=ws(19,n,t,a),e.elementType=Nj,e.lanes=i,e;case OO:return ox(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case TO:o=10;break e;case EO:o=9;break e;case n1:o=11;break e;case r1:o=14;break e;case Wi:o=16,r=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=ws(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function _l(e,t,n,r){return e=ws(7,e,r,t),e.lanes=n,e}function ox(e,t,n,r){return e=ws(22,e,r,t),e.elementType=OO,e.lanes=n,e.stateNode={isHidden:!1},e}function v0(e,t,n){return e=ws(6,e,null,t),e.lanes=n,e}function x0(e,t,n){return t=ws(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mV(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jy(0),this.expirationTimes=Jy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jy(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function L1(e,t,n,r,a,i,o,l,c){return e=new mV(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ws(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},b1(i),e}function pV(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function NM(e){if(!e)return Po;e=e._reactInternals;e:{if(Jl(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var n=e.type;if(qr(n))return ND(e,n,t)}return t}function SM(e,t,n,r,a,i,o,l,c){return e=L1(n,r,!0,e,a,i,o,l,c),e.context=NM(null),n=e.current,r=Nr(),a=jo(n),i=di(r,a),i.callback=t??null,xo(n,i,a),e.current.lanes=a,lm(e,a,r),Ur(e,r),e}function lx(e,t,n,r){var a=t.current,i=Nr(),o=jo(a);return n=NM(n),t.context===null?t.context=n:t.pendingContext=n,t=di(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xo(a,t,o),e!==null&&(Zs(e,a,o,i),zp(e,a,o)),o}function Sg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function c_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function F1(e,t){c_(e,t),(e=e.alternate)&&c_(e,t)}function gV(){return null}var CM=typeof reportError=="function"?reportError:function(e){console.error(e)};function B1(e){this._internalRoot=e}cx.prototype.render=B1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));lx(e,t,null,null)};cx.prototype.unmount=B1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ml(function(){lx(null,e,null,null)}),t[vi]=null}};function cx(e){this._internalRoot=e}cx.prototype.unstable_scheduleHydration=function(e){if(e){var t=nD();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gi.length&&t!==0&&t<Gi[n].priority;n++);Gi.splice(n,0,e),n===0&&sD(e)}};function z1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ux(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function u_(){}function vV(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=Sg(o);i.call(u)}}var o=SM(t,r,e,0,null,!1,!1,"",u_);return e._reactRootContainer=o,e[vi]=o.current,ef(e.nodeType===8?e.parentNode:e),Ml(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=Sg(c);l.call(u)}}var c=L1(e,0,!1,null,null,!1,!1,"",u_);return e._reactRootContainer=c,e[vi]=c.current,ef(e.nodeType===8?e.parentNode:e),Ml(function(){lx(t,c,n,r)}),c}function dx(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Sg(o);l.call(c)}}lx(t,o,e,a)}else o=vV(n,t,e,a,r);return Sg(o)}eD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xh(t.pendingLanes);n!==0&&(i1(t,n|1),Ur(t,fn()),!(xt&6)&&(Cu=fn()+500,Mo()))}break;case 13:Ml(function(){var r=xi(e,1);if(r!==null){var a=Nr();Zs(r,e,1,a)}}),F1(e,1)}};o1=function(e){if(e.tag===13){var t=xi(e,134217728);if(t!==null){var n=Nr();Zs(t,e,134217728,n)}F1(e,134217728)}};tD=function(e){if(e.tag===13){var t=jo(e),n=xi(e,t);if(n!==null){var r=Nr();Zs(n,e,t,r)}F1(e,t)}};nD=function(){return Tt};rD=function(e,t){var n=Tt;try{return Tt=e,t()}finally{Tt=n}};Dj=function(e,t,n){switch(t){case"input":if(_j(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=tx(r);if(!a)throw Error(ve(90));MO(r),_j(r,a)}}}break;case"textarea":$O(e,n);break;case"select":t=n.value,t!=null&&Kc(e,!!n.multiple,t,!1)}};qO=M1;UO=Ml;var xV={usingClientEntryPoint:!1,Events:[um,Ic,tx,zO,VO,M1]},Jd={findFiberByHostInstance:il,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yV={bundleType:Jd.bundleType,version:Jd.version,rendererPackageName:Jd.rendererPackageName,rendererConfig:Jd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=KO(e),e===null?null:e.stateNode},findFiberByHostInstance:Jd.findFiberByHostInstance||gV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jm.isDisabled&&Jm.supportsFiber)try{Xv=Jm.inject(yV),Ta=Jm}catch{}}us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xV;us.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z1(t))throw Error(ve(200));return pV(e,t,null,n)};us.createRoot=function(e,t){if(!z1(e))throw Error(ve(299));var n=!1,r="",a=CM;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=L1(e,1,!1,null,null,n,!1,r,a),e[vi]=t.current,ef(e.nodeType===8?e.parentNode:e),new B1(t)};us.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=KO(t),e=e===null?null:e.stateNode,e};us.flushSync=function(e){return Ml(e)};us.hydrate=function(e,t,n){if(!ux(t))throw Error(ve(200));return dx(null,e,t,!0,n)};us.hydrateRoot=function(e,t,n){if(!z1(e))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=CM;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=SM(t,null,e,1,n??null,a,!1,i,o),e[vi]=t.current,ef(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new cx(t)};us.render=function(e,t,n){if(!ux(t))throw Error(ve(200));return dx(null,e,t,!1,n)};us.unmountComponentAtNode=function(e){if(!ux(e))throw Error(ve(40));return e._reactRootContainer?(Ml(function(){dx(null,null,e,!1,function(){e._reactRootContainer=null,e[vi]=null})}),!0):!1};us.unstable_batchedUpdates=M1;us.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ux(n))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return dx(e,t,n,!1,r)};us.version="18.3.1-next-f1338f8080-20240426";function _M(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_M)}catch(e){console.error(e)}}_M(),_O.exports=us;var Zl=_O.exports;const PM=Ct(Zl);var AM,d_=Zl;AM=d_.createRoot,d_.hydrateRoot;const jV=1,bV=1e6;let y0=0;function wV(){return y0=(y0+1)%Number.MAX_SAFE_INTEGER,y0.toString()}const j0=new Map,h_=e=>{if(j0.has(e))return;const t=setTimeout(()=>{j0.delete(e),Mh({type:"REMOVE_TOAST",toastId:e})},bV);j0.set(e,t)},NV=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,jV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?h_(n):e.toasts.forEach(r=>{h_(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Gp=[];let Yp={toasts:[]};function Mh(e){Yp=NV(Yp,e),Gp.forEach(t=>{t(Yp)})}function SV({...e}){const t=wV(),n=a=>Mh({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>Mh({type:"DISMISS_TOAST",toastId:t});return Mh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function at(){const[e,t]=b.useState(Yp);return b.useEffect(()=>(Gp.push(t),()=>{const n=Gp.indexOf(t);n>-1&&Gp.splice(n,1)}),[e]),{...e,toast:SV,dismiss:n=>Mh({type:"DISMISS_TOAST",toastId:n})}}function _e(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function f_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function hx(...e){return t=>{let n=!1;const r=e.map(a=>{const i=f_(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():f_(e[a],null)}}}}function vt(...e){return b.useCallback(hx(...e),e)}function CV(e,t){const n=b.createContext(t),r=i=>{const{children:o,...l}=i,c=b.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=b.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function hs(e,t=[]){let n=[];function r(i,o){const l=b.createContext(o),c=n.length;n=[...n,o];const u=h=>{var x;const{scope:f,children:m,...g}=h,p=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,v=b.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(h,f){var p;const m=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=n.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,_V(a,...t)]}function _V(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Il(e){const t=AV(e),n=b.forwardRef((r,a)=>{const{children:i,...o}=r,l=b.Children.toArray(i),c=l.find(TV);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var PV=Il("Slot");function AV(e){const t=b.forwardRef((n,r)=>{const{children:a,...i}=n;if(b.isValidElement(a)){const o=OV(a),l=EV(i,a.props);return a.type!==b.Fragment&&(l.ref=r?hx(r,o):o),b.cloneElement(a,l)}return b.Children.count(a)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kM=Symbol("radix.slottable");function kV(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=kM,t}function TV(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kM}function EV(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function OV(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function fx(e){const t=e+"CollectionProvider",[n,r]=hs(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:x}=p,y=M.useRef(null),j=M.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:j,collectionRef:y,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=Il(l),u=M.forwardRef((p,v)=>{const{scope:x,children:y}=p,j=i(l,x),w=vt(v,j.collectionRef);return s.jsx(c,{ref:w,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Il(d),m=M.forwardRef((p,v)=>{const{scope:x,children:y,...j}=p,w=M.useRef(null),N=vt(v,w),C=i(d,x);return M.useEffect(()=>(C.itemMap.set(w,{ref:w,...j}),()=>void C.itemMap.delete(w))),s.jsx(f,{[h]:"",ref:N,children:y})});m.displayName=d;function g(p){const v=i(e+"CollectionConsumer",p);return M.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const j=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((C,S)=>j.indexOf(C.ref.current)-j.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,r]}var DV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=DV.reduce((e,t)=>{const n=Il(`Primitive.${t}`),r=b.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function V1(e,t){e&&Zl.flushSync(()=>e.dispatchEvent(t))}function _r(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function MV(e,t=globalThis==null?void 0:globalThis.document){const n=_r(e);b.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var IV="DismissableLayer",hb="dismissableLayer.update",$V="dismissableLayer.pointerDownOutside",RV="dismissableLayer.focusOutside",m_,TM=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hd=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=b.useContext(TM),[d,h]=b.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),g=vt(t,S=>h(S)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(v),y=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,w=y>=x,N=FV(S=>{const _=S.target,k=[...u.branches].some(E=>E.contains(_));!w||k||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},f),C=BV(S=>{const _=S.target;[...u.branches].some(E=>E.contains(_))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},f);return MV(S=>{y===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},f),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(m_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),p_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=m_)}},[d,f,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),p_())},[d,u]),b.useEffect(()=>{const S=()=>m({});return document.addEventListener(hb,S),()=>document.removeEventListener(hb,S)},[]),s.jsx(Be.div,{...c,ref:g,style:{pointerEvents:j?w?"auto":"none":void 0,...e.style},onFocusCapture:_e(e.onFocusCapture,C.onFocusCapture),onBlurCapture:_e(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:_e(e.onPointerDownCapture,N.onPointerDownCapture)})});hd.displayName=IV;var LV="DismissableLayerBranch",EM=b.forwardRef((e,t)=>{const n=b.useContext(TM),r=b.useRef(null),a=vt(t,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(Be.div,{...e,ref:a})});EM.displayName=LV;function FV(e,t=globalThis==null?void 0:globalThis.document){const n=_r(e),r=b.useRef(!1),a=b.useRef(()=>{});return b.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){OM($V,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function BV(e,t=globalThis==null?void 0:globalThis.document){const n=_r(e),r=b.useRef(!1);return b.useEffect(()=>{const a=i=>{i.target&&!r.current&&OM(RV,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function p_(){const e=new CustomEvent(hb);document.dispatchEvent(e)}function OM(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?V1(a,i):a.dispatchEvent(i)}var zV=hd,VV=EM,Nn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},qV="Portal",hm=b.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=b.useState(!1);Nn(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?PM.createPortal(s.jsx(Be.div,{...r,ref:t}),o):null});hm.displayName=qV;function UV(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var Ts=e=>{const{present:t,children:n}=e,r=WV(t),a=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=vt(r.ref,HV(a));return typeof n=="function"||r.isPresent?b.cloneElement(a,{ref:i}):null};Ts.displayName="Presence";function WV(e){const[t,n]=b.useState(),r=b.useRef(null),a=b.useRef(e),i=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=UV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Zm(r.current);i.current=l==="mounted"?u:"none"},[l]),Nn(()=>{const u=r.current,d=a.current;if(d!==e){const f=i.current,m=Zm(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Nn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const p=Zm(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},f=m=>{m.target===t&&(i.current=Zm(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Zm(e){return(e==null?void 0:e.animationName)||"none"}function HV(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var KV=XN[" useInsertionEffect ".trim().toString()]||Nn;function ji({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=GV({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const d=b.useRef(e!==void 0);b.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=b.useCallback(d=>{var h;if(l){const f=YV(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else i(d)},[l,e,i,o]);return[c,u]}function GV({defaultProp:e,onChange:t}){const[n,r]=b.useState(e),a=b.useRef(n),i=b.useRef(t);return KV(()=>{i.current=t},[t]),b.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function YV(e){return typeof e=="function"}var DM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QV="VisuallyHidden",mx=b.forwardRef((e,t)=>s.jsx(Be.span,{...e,ref:t,style:{...DM,...e.style}}));mx.displayName=QV;var XV=mx,q1="ToastProvider",[U1,JV,ZV]=fx("Toast"),[MM,UAe]=hs("Toast",[ZV]),[eq,px]=MM(q1),IM=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=b.useState(null),[u,d]=b.useState(0),h=b.useRef(!1),f=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${q1}\`. Expected non-empty \`string\`.`),s.jsx(U1.Provider,{scope:t,children:s.jsx(eq,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>d(m=>m+1),[]),onToastRemove:b.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};IM.displayName=q1;var $M="ToastViewport",tq=["F8"],fb="toast.viewportPause",mb="toast.viewportResume",RM=b.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=tq,label:a="Notifications ({hotkey})",...i}=e,o=px($M,n),l=JV(n),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),h=b.useRef(null),f=vt(t,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;b.useEffect(()=>{const v=x=>{var j;r.length!==0&&r.every(w=>x[w]||x.code===w)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),b.useEffect(()=>{const v=c.current,x=h.current;if(g&&v&&x){const y=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(fb);x.dispatchEvent(C),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(mb);x.dispatchEvent(C),o.isClosePausedRef.current=!1}},w=C=>{!v.contains(C.relatedTarget)&&j()},N=()=>{v.contains(document.activeElement)||j()};return v.addEventListener("focusin",y),v.addEventListener("focusout",w),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",j),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",w),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",j)}}},[g,o.isClosePausedRef]);const p=b.useCallback(({tabbingDirection:v})=>{const y=l().map(j=>{const w=j.ref.current,N=[w,...mq(w)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?y.reverse():y).flat()},[l]);return b.useEffect(()=>{const v=h.current;if(v){const x=y=>{var N,C,S;const j=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!j){const _=document.activeElement,k=y.shiftKey;if(y.target===v&&k){(N=u.current)==null||N.focus();return}const A=p({tabbingDirection:k?"backwards":"forwards"}),R=A.findIndex($=>$===_);b0(A.slice(R+1))?y.preventDefault():k?(C=u.current)==null||C.focus():(S=d.current)==null||S.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,p]),s.jsxs(VV,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(pb,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});b0(v)}}),s.jsx(U1.Slot,{scope:n,children:s.jsx(Be.ol,{tabIndex:-1,...i,ref:f})}),g&&s.jsx(pb,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});b0(v)}})]})});RM.displayName=$M;var LM="ToastFocusProxy",pb=b.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=px(LM,n);return s.jsx(mx,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});pb.displayName=LM;var fm="Toast",nq="toast.swipeStart",rq="toast.swipeMove",sq="toast.swipeCancel",aq="toast.swipeEnd",FM=b.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=ji({prop:r,defaultProp:a??!0,onChange:i,caller:fm});return s.jsx(Ts,{present:n||l,children:s.jsx(lq,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:_r(e.onPause),onResume:_r(e.onResume),onSwipeStart:_e(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_e(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:_e(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_e(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});FM.displayName=fm;var[iq,oq]=MM(fm,{onClose(){}}),lq=b.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...g}=e,p=px(fm,n),[v,x]=b.useState(null),y=vt(t,$=>x($)),j=b.useRef(null),w=b.useRef(null),N=a||p.duration,C=b.useRef(0),S=b.useRef(N),_=b.useRef(0),{onToastAdd:k,onToastRemove:E}=p,P=_r(()=>{var K;(v==null?void 0:v.contains(document.activeElement))&&((K=p.viewport)==null||K.focus()),o()}),A=b.useCallback($=>{!$||$===1/0||(window.clearTimeout(_.current),C.current=new Date().getTime(),_.current=window.setTimeout(P,$))},[P]);b.useEffect(()=>{const $=p.viewport;if($){const K=()=>{A(S.current),u==null||u()},V=()=>{const H=new Date().getTime()-C.current;S.current=S.current-H,window.clearTimeout(_.current),c==null||c()};return $.addEventListener(fb,V),$.addEventListener(mb,K),()=>{$.removeEventListener(fb,V),$.removeEventListener(mb,K)}}},[p.viewport,N,c,u,A]),b.useEffect(()=>{i&&!p.isClosePausedRef.current&&A(N)},[i,N,p.isClosePausedRef,A]),b.useEffect(()=>(k(),()=>E()),[k,E]);const R=b.useMemo(()=>v?HM(v):null,[v]);return p.viewport?s.jsxs(s.Fragment,{children:[R&&s.jsx(cq,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),s.jsx(iq,{scope:n,onClose:P,children:Zl.createPortal(s.jsx(U1.ItemSlot,{scope:n,children:s.jsx(zV,{asChild:!0,onEscapeKeyDown:_e(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||P(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:_e(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:_e(e.onPointerDown,$=>{$.button===0&&(j.current={x:$.clientX,y:$.clientY})}),onPointerMove:_e(e.onPointerMove,$=>{if(!j.current)return;const K=$.clientX-j.current.x,V=$.clientY-j.current.y,H=!!w.current,T=["left","right"].includes(p.swipeDirection),I=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,F=T?I(0,K):0,U=T?0:I(0,V),J=$.pointerType==="touch"?10:2,ae={x:F,y:U},ne={originalEvent:$,delta:ae};H?(w.current=ae,ep(rq,h,ne,{discrete:!1})):g_(ae,p.swipeDirection,J)?(w.current=ae,ep(nq,d,ne,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(K)>J||Math.abs(V)>J)&&(j.current=null)}),onPointerUp:_e(e.onPointerUp,$=>{const K=w.current,V=$.target;if(V.hasPointerCapture($.pointerId)&&V.releasePointerCapture($.pointerId),w.current=null,j.current=null,K){const H=$.currentTarget,T={originalEvent:$,delta:K};g_(K,p.swipeDirection,p.swipeThreshold)?ep(aq,m,T,{discrete:!0}):ep(sq,f,T,{discrete:!0}),H.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),cq=e=>{const{__scopeToast:t,children:n,...r}=e,a=px(fm,t),[i,o]=b.useState(!1),[l,c]=b.useState(!1);return hq(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(hm,{asChild:!0,children:s.jsx(mx,{...r,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},uq="ToastTitle",BM=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Be.div,{...r,ref:t})});BM.displayName=uq;var dq="ToastDescription",zM=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Be.div,{...r,ref:t})});zM.displayName=dq;var VM="ToastAction",qM=b.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(WM,{altText:n,asChild:!0,children:s.jsx(W1,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${VM}\`. Expected non-empty \`string\`.`),null)});qM.displayName=VM;var UM="ToastClose",W1=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=oq(UM,n);return s.jsx(WM,{asChild:!0,children:s.jsx(Be.button,{type:"button",...r,ref:t,onClick:_e(e.onClick,a.onClose)})})});W1.displayName=UM;var WM=b.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function HM(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),fq(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...HM(r))}}),t}function ep(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?V1(a,i):a.dispatchEvent(i)}var g_=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function hq(e=()=>{}){const t=_r(e);Nn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function fq(e){return e.nodeType===e.ELEMENT_NODE}function mq(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function b0(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var pq=IM,KM=RM,GM=FM,YM=BM,QM=zM,XM=qM,JM=W1;function ZM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=ZM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=ZM(e))&&(r&&(r+=" "),r+=t);return r}const v_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,x_=Je,mm=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return x_(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=v_(d)||v_(h);return a[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...i,...l}[p]):{...i,...l}[p]===v})?[...u,h,f]:u},[]);return x_(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eI=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...vq,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:eI("lucide",a),...l},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const n=b.forwardRef(({className:r,...a},i)=>b.createElement(xq,{ref:i,iconNode:t,className:eI(`lucide-${gq(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=Ae("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Ae("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=Ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=Ae("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=Ae("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=Ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=Ae("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=Ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=Ae("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=Ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=Ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=Ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=Ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=Ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=Ae("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=Ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Ae("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=Ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=Ae("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Ae("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=Ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=Ae("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Ae("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=Ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=Ae("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Ae("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=Ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Ae("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Ae("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=Ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Ae("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=Ae("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=Ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=Ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=Ae("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=Ae("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=Ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Ae("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=Ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=Ae("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=Ae("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=Ae("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=Ae("Tractor",[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Ae("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=Ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=Ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=Ae("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=Ae("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),K1="-",Bq=e=>{const t=Vq(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(K1);return l[0]===""&&l.length!==1&&l.shift(),iI(l,t)||zq(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},iI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?iI(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(K1);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},N_=/^\[(.+)\]$/,zq=e=>{if(N_.test(e)){const t=N_.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Vq=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Uq(Object.entries(e.classGroups),n).forEach(([i,o])=>{jb(o,r,i,t)}),r},jb=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:S_(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(qq(a)){jb(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{jb(o,S_(t,i),n,r)})})},S_=(e,t)=>{let n=e;return t.split(K1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},qq=e=>e.isThemeGetter,Uq=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,Wq=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},oI="!",Hq=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===a&&(r||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(x==="/"){h=v;continue}}x==="["?u++:x==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(oI),g=m?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},Kq=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Gq=e=>({cache:Wq(e.cacheSize),parseClassName:Hq(e),...Bq(e)}),Yq=/\s+/,Qq=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Yq);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let g=!!m,p=r(g?f.substring(0,m):f);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=r(f),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=Kq(d).join(":"),x=h?v+oI:v,y=x+p;if(i.includes(y))continue;i.push(y);const j=a(p,g);for(let w=0;w<j.length;++w){const N=j[w];i.push(x+N)}l=u+(l.length>0?" "+l:l)}return l};function Xq(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=lI(t))&&(r&&(r+=" "),r+=n);return r}const lI=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=lI(e[r]))&&(n&&(n+=" "),n+=t);return n};function Jq(e,...t){let n,r,a,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return n=Gq(u),r=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=Qq(c,n);return a(c,d),d}return function(){return i(Xq.apply(null,arguments))}}const Kt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},cI=/^\[(?:([a-z-]+):)?(.+)\]$/i,Zq=/^\d+\/\d+$/,eU=new Set(["px","full","screen"]),tU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ga=e=>Zc(e)||eU.has(e)||Zq.test(e),Ri=e=>md(e,"length",fU),Zc=e=>!!e&&!Number.isNaN(Number(e)),N0=e=>md(e,"number",Zc),Zd=e=>!!e&&Number.isInteger(Number(e)),iU=e=>e.endsWith("%")&&Zc(e.slice(0,-1)),st=e=>cI.test(e),Li=e=>tU.test(e),oU=new Set(["length","size","percentage"]),lU=e=>md(e,oU,uI),cU=e=>md(e,"position",uI),uU=new Set(["image","url"]),dU=e=>md(e,uU,pU),hU=e=>md(e,"",mU),eh=()=>!0,md=(e,t,n)=>{const r=cI.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},fU=e=>nU.test(e)&&!rU.test(e),uI=()=>!1,mU=e=>sU.test(e),pU=e=>aU.test(e),gU=()=>{const e=Kt("colors"),t=Kt("spacing"),n=Kt("blur"),r=Kt("brightness"),a=Kt("borderColor"),i=Kt("borderRadius"),o=Kt("borderSpacing"),l=Kt("borderWidth"),c=Kt("contrast"),u=Kt("grayscale"),d=Kt("hueRotate"),h=Kt("invert"),f=Kt("gap"),m=Kt("gradientColorStops"),g=Kt("gradientColorStopPositions"),p=Kt("inset"),v=Kt("margin"),x=Kt("opacity"),y=Kt("padding"),j=Kt("saturate"),w=Kt("scale"),N=Kt("sepia"),C=Kt("skew"),S=Kt("space"),_=Kt("translate"),k=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",st,t],A=()=>[st,t],R=()=>["",Ga,Ri],$=()=>["auto",Zc,st],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",st],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Zc,st];return{cacheSize:500,separator:":",theme:{colors:[eh],spacing:[Ga,Ri],blur:["none","",Li,st],brightness:U(),borderColor:[e],borderRadius:["none","","full",Li,st],borderSpacing:A(),borderWidth:R(),contrast:U(),grayscale:I(),hueRotate:U(),invert:I(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[iU,Ri],inset:P(),margin:P(),opacity:U(),padding:A(),saturate:U(),scale:U(),sepia:I(),skew:U(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",st]}],container:["container"],columns:[{columns:[Li]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),st]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zd,st]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",st]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Zd,st]}],"grid-cols":[{"grid-cols":[eh]}],"col-start-end":[{col:["auto",{span:["full",Zd,st]},st]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[eh]}],"row-start-end":[{row:["auto",{span:[Zd,st]},st]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",st]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",st]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",st,t]}],"min-w":[{"min-w":[st,t,"min","max","fit"]}],"max-w":[{"max-w":[st,t,"none","full","min","max","fit","prose",{screen:[Li]},Li]}],h:[{h:[st,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[st,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[st,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[st,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Li,Ri]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",N0]}],"font-family":[{font:[eh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",st]}],"line-clamp":[{"line-clamp":["none",Zc,N0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ga,st]}],"list-image":[{"list-image":["none",st]}],"list-style-type":[{list:["none","disc","decimal",st]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ga,Ri]}],"underline-offset":[{"underline-offset":["auto",Ga,st]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),cU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dU]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:V()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Ga,st]}],"outline-w":[{outline:[Ga,Ri]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ga,Ri]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Li,hU]}],"shadow-color":[{shadow:[eh]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Li,st]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",st]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",st]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",st]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Zd,st]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",st]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ga,Ri,N0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vU=Jq(gU);function Ie(...e){return vU(Je(e))}function ku(e){if(!e)return"Âge inconnu";const t=new Date(e),n=new Date;if(isNaN(t.getTime()))return"Date invalide";let r=n.getFullYear()-t.getFullYear(),a=n.getMonth()-t.getMonth();if((a<0||a===0&&n.getDate()<t.getDate())&&(r--,a+=12),r===0){if(a===0){const i=Math.floor((n.getTime()-t.getTime())/864e5);return`${i} jour${i>1?"s":""}`}return`${a} mois`}else return a===0?`${r} an${r>1?"s":""}`:`${r} an${r>1?"s":""} et ${a} mois`}function Da(e){if(!e)return"Non renseigné";const t=new Date(e);return isNaN(t.getTime())?"Date invalide":t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}const xU=pq,dI=b.forwardRef(({className:e,...t},n)=>s.jsx(KM,{ref:n,className:Ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));dI.displayName=KM.displayName;const yU=mm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hI=b.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(GM,{ref:r,className:Ie(yU({variant:t}),e),...n}));hI.displayName=GM.displayName;const jU=b.forwardRef(({className:e,...t},n)=>s.jsx(XM,{ref:n,className:Ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));jU.displayName=XM.displayName;const fI=b.forwardRef(({className:e,...t},n)=>s.jsx(JM,{ref:n,className:Ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(vx,{className:"h-4 w-4"})}));fI.displayName=JM.displayName;const mI=b.forwardRef(({className:e,...t},n)=>s.jsx(YM,{ref:n,className:Ie("text-sm font-semibold",e),...t}));mI.displayName=YM.displayName;const pI=b.forwardRef(({className:e,...t},n)=>s.jsx(QM,{ref:n,className:Ie("text-sm opacity-90",e),...t}));pI.displayName=QM.displayName;function bU(){const{toasts:e}=at();return s.jsxs(xU,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return s.jsxs(hI,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(mI,{children:n}),r&&s.jsx(pI,{children:r})]}),a,s.jsx(fI,{})]},t)}),s.jsx(dI,{})]})}var C_=["light","dark"],wU="(prefers-color-scheme: dark)",NU=b.createContext(void 0),SU={setTheme:e=>{},themes:[]},CU=()=>{var e;return(e=b.useContext(NU))!=null?e:SU};b.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=a?C_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,p=!1,v=!0)=>{let x=o?o[g]:g,y=p?g+"|| ''":`'${x}'`,j="";return a&&v&&!p&&C_.includes(g)&&(j+=`d.style.colorScheme = '${g}';`),n==="class"?p||x?j+=`c.add(${y})`:j+="null":x&&(j+=`d[s](n,${y})`),j},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${wU}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return b.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var _U=e=>{switch(e){case"success":return kU;case"info":return EU;case"warning":return TU;case"error":return OU;default:return null}},PU=Array(12).fill(0),AU=({visible:e,className:t})=>M.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},M.createElement("div",{className:"sonner-spinner"},PU.map((n,r)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),kU=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),TU=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EU=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),OU=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),DU=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),MU=()=>{let[e,t]=M.useState(document.hidden);return M.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},bb=1,IU=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:bb++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),a=n!==void 0,i,o=r.then(async c=>{if(i=["resolve",c],M.isValidElement(c))a=!1,this.create({id:n,type:"default",message:c});else if(RU(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||bb++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},$r=new IU,$U=(e,t)=>{let n=(t==null?void 0:t.id)||bb++;return $r.addToast({title:e,...t,id:n}),n},RU=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",LU=$U,FU=()=>$r.toasts,BU=()=>$r.getActiveToasts();Object.assign(LU,{success:$r.success,info:$r.info,warning:$r.warning,error:$r.error,custom:$r.custom,message:$r.message,promise:$r.promise,dismiss:$r.dismiss,loading:$r.loading},{getHistory:FU,getToasts:BU});function zU(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}zU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function tp(e){return e.label!==void 0}var VU=3,qU="32px",UU="16px",__=4e3,WU=356,HU=14,KU=20,GU=200;function $s(...e){return e.filter(Boolean).join(" ")}function YU(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var QU=e=>{var t,n,r,a,i,o,l,c,u,d,h;let{invert:f,toast:m,unstyled:g,interacting:p,setHeights:v,visibleToasts:x,heights:y,index:j,toasts:w,expanded:N,removeToast:C,defaultRichColors:S,closeButton:_,style:k,cancelButtonStyle:E,actionButtonStyle:P,className:A="",descriptionClassName:R="",duration:$,position:K,gap:V,loadingIcon:H,expandByDefault:T,classNames:I,icons:F,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:J}=e,[ae,ne]=M.useState(null),[me,Ne]=M.useState(null),[le,re]=M.useState(!1),[se,oe]=M.useState(!1),[O,W]=M.useState(!1),[fe,he]=M.useState(!1),[Ye,We]=M.useState(!1),[ut,$e]=M.useState(0),[it,ie]=M.useState(0),Me=M.useRef(m.duration||$||__),jt=M.useRef(null),Ft=M.useRef(null),Kn=j===0,pt=j+1<=x,Ot=m.type,Sn=m.dismissible!==!1,er=m.className||"",Kr=m.descriptionClassName||"",vn=M.useMemo(()=>y.findIndex(Qe=>Qe.toastId===m.id)||0,[y,m.id]),Di=M.useMemo(()=>{var Qe;return(Qe=m.closeButton)!=null?Qe:_},[m.closeButton,_]),Rn=M.useMemo(()=>m.duration||$||__,[m.duration,$]),Ha=M.useRef(0),Ds=M.useRef(0),dc=M.useRef(0),fa=M.useRef(null),[G,Se]=K.split("-"),pe=M.useMemo(()=>y.reduce((Qe,wt,Bt)=>Bt>=vn?Qe:Qe+wt.height,0),[y,vn]),on=MU(),Er=m.invert||f,Ms=Ot==="loading";Ds.current=M.useMemo(()=>vn*V+pe,[vn,pe]),M.useEffect(()=>{Me.current=Rn},[Rn]),M.useEffect(()=>{re(!0)},[]),M.useEffect(()=>{let Qe=Ft.current;if(Qe){let wt=Qe.getBoundingClientRect().height;return ie(wt),v(Bt=>[{toastId:m.id,height:wt,position:m.position},...Bt]),()=>v(Bt=>Bt.filter(Gr=>Gr.toastId!==m.id))}},[v,m.id]),M.useLayoutEffect(()=>{if(!le)return;let Qe=Ft.current,wt=Qe.style.height;Qe.style.height="auto";let Bt=Qe.getBoundingClientRect().height;Qe.style.height=wt,ie(Bt),v(Gr=>Gr.find(Yr=>Yr.toastId===m.id)?Gr.map(Yr=>Yr.toastId===m.id?{...Yr,height:Bt}:Yr):[{toastId:m.id,height:Bt,position:m.position},...Gr])},[le,m.title,m.description,v,m.id]);let fs=M.useCallback(()=>{oe(!0),$e(Ds.current),v(Qe=>Qe.filter(wt=>wt.toastId!==m.id)),setTimeout(()=>{C(m)},GU)},[m,C,v,Ds]);M.useEffect(()=>{if(m.promise&&Ot==="loading"||m.duration===1/0||m.type==="loading")return;let Qe;return N||p||J&&on?(()=>{if(dc.current<Ha.current){let wt=new Date().getTime()-Ha.current;Me.current=Me.current-wt}dc.current=new Date().getTime()})():Me.current!==1/0&&(Ha.current=new Date().getTime(),Qe=setTimeout(()=>{var wt;(wt=m.onAutoClose)==null||wt.call(m,m),fs()},Me.current)),()=>clearTimeout(Qe)},[N,p,m,Ot,J,on,fs]),M.useEffect(()=>{m.delete&&fs()},[fs,m.delete]);function Vy(){var Qe,wt,Bt;return F!=null&&F.loading?M.createElement("div",{className:$s(I==null?void 0:I.loader,(Qe=m==null?void 0:m.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":Ot==="loading"},F.loading):H?M.createElement("div",{className:$s(I==null?void 0:I.loader,(wt=m==null?void 0:m.classNames)==null?void 0:wt.loader,"sonner-loader"),"data-visible":Ot==="loading"},H):M.createElement(AU,{className:$s(I==null?void 0:I.loader,(Bt=m==null?void 0:m.classNames)==null?void 0:Bt.loader),visible:Ot==="loading"})}return M.createElement("li",{tabIndex:0,ref:Ft,className:$s(A,er,I==null?void 0:I.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[Ot],(n=m==null?void 0:m.classNames)==null?void 0:n[Ot]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:S,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":le,"data-promise":!!m.promise,"data-swiped":Ye,"data-removed":se,"data-visible":pt,"data-y-position":G,"data-x-position":Se,"data-index":j,"data-front":Kn,"data-swiping":O,"data-dismissible":Sn,"data-type":Ot,"data-invert":Er,"data-swipe-out":fe,"data-swipe-direction":me,"data-expanded":!!(N||T&&le),style:{"--index":j,"--toasts-before":j,"--z-index":w.length-j,"--offset":`${se?ut:Ds.current}px`,"--initial-height":T?"auto":`${it}px`,...k,...m.style},onDragEnd:()=>{W(!1),ne(null),fa.current=null},onPointerDown:Qe=>{Ms||!Sn||(jt.current=new Date,$e(Ds.current),Qe.target.setPointerCapture(Qe.pointerId),Qe.target.tagName!=="BUTTON"&&(W(!0),fa.current={x:Qe.clientX,y:Qe.clientY}))},onPointerUp:()=>{var Qe,wt,Bt,Gr;if(fe||!Sn)return;fa.current=null;let Yr=Number(((Qe=Ft.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ma=Number(((wt=Ft.current)==null?void 0:wt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ka=new Date().getTime()-((Bt=jt.current)==null?void 0:Bt.getTime()),Qr=ae==="x"?Yr:ma,pa=Math.abs(Qr)/Ka;if(Math.abs(Qr)>=KU||pa>.11){$e(Ds.current),(Gr=m.onDismiss)==null||Gr.call(m,m),Ne(ae==="x"?Yr>0?"right":"left":ma>0?"down":"up"),fs(),he(!0),We(!1);return}W(!1),ne(null)},onPointerMove:Qe=>{var wt,Bt,Gr,Yr;if(!fa.current||!Sn||((wt=window.getSelection())==null?void 0:wt.toString().length)>0)return;let ma=Qe.clientY-fa.current.y,Ka=Qe.clientX-fa.current.x,Qr=(Bt=e.swipeDirections)!=null?Bt:YU(K);!ae&&(Math.abs(Ka)>1||Math.abs(ma)>1)&&ne(Math.abs(Ka)>Math.abs(ma)?"x":"y");let pa={x:0,y:0};ae==="y"?(Qr.includes("top")||Qr.includes("bottom"))&&(Qr.includes("top")&&ma<0||Qr.includes("bottom")&&ma>0)&&(pa.y=ma):ae==="x"&&(Qr.includes("left")||Qr.includes("right"))&&(Qr.includes("left")&&Ka<0||Qr.includes("right")&&Ka>0)&&(pa.x=Ka),(Math.abs(pa.x)>0||Math.abs(pa.y)>0)&&We(!0),(Gr=Ft.current)==null||Gr.style.setProperty("--swipe-amount-x",`${pa.x}px`),(Yr=Ft.current)==null||Yr.style.setProperty("--swipe-amount-y",`${pa.y}px`)}},Di&&!m.jsx?M.createElement("button",{"aria-label":U,"data-disabled":Ms,"data-close-button":!0,onClick:Ms||!Sn?()=>{}:()=>{var Qe;fs(),(Qe=m.onDismiss)==null||Qe.call(m,m)},className:$s(I==null?void 0:I.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=F==null?void 0:F.close)!=null?i:DU):null,m.jsx||b.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:M.createElement(M.Fragment,null,Ot||m.icon||m.promise?M.createElement("div",{"data-icon":"",className:$s(I==null?void 0:I.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Vy():null,m.type!=="loading"?m.icon||(F==null?void 0:F[Ot])||_U(Ot):null):null,M.createElement("div",{"data-content":"",className:$s(I==null?void 0:I.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},M.createElement("div",{"data-title":"",className:$s(I==null?void 0:I.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?M.createElement("div",{"data-description":"",className:$s(R,Kr,I==null?void 0:I.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),b.isValidElement(m.cancel)?m.cancel:m.cancel&&tp(m.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:Qe=>{var wt,Bt;tp(m.cancel)&&Sn&&((Bt=(wt=m.cancel).onClick)==null||Bt.call(wt,Qe),fs())},className:$s(I==null?void 0:I.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,b.isValidElement(m.action)?m.action:m.action&&tp(m.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||P,onClick:Qe=>{var wt,Bt;tp(m.action)&&((Bt=(wt=m.action).onClick)==null||Bt.call(wt,Qe),!Qe.defaultPrevented&&fs())},className:$s(I==null?void 0:I.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function P_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function XU(e,t){let n={};return[e,t].forEach((r,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?UU:qU;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var JU=b.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:g=VU,toastOptions:p,dir:v=P_(),gap:x=HU,loadingIcon:y,icons:j,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:N}=e,[C,S]=M.useState([]),_=M.useMemo(()=>Array.from(new Set([r].concat(C.filter(J=>J.position).map(J=>J.position)))),[C,r]),[k,E]=M.useState([]),[P,A]=M.useState(!1),[R,$]=M.useState(!1),[K,V]=M.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=M.useRef(null),T=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=M.useRef(null),F=M.useRef(!1),U=M.useCallback(J=>{S(ae=>{var ne;return(ne=ae.find(me=>me.id===J.id))!=null&&ne.delete||$r.dismiss(J.id),ae.filter(({id:me})=>me!==J.id)})},[]);return M.useEffect(()=>$r.subscribe(J=>{if(J.dismiss){S(ae=>ae.map(ne=>ne.id===J.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{PM.flushSync(()=>{S(ae=>{let ne=ae.findIndex(me=>me.id===J.id);return ne!==-1?[...ae.slice(0,ne),{...ae[ne],...J},...ae.slice(ne+1)]:[J,...ae]})})})}),[]),M.useEffect(()=>{if(d!=="system"){V(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:ae})=>{V(ae?"dark":"light")})}catch{J.addListener(({matches:ne})=>{try{V(ne?"dark":"light")}catch(me){console.error(me)}})}},[d]),M.useEffect(()=>{C.length<=1&&A(!1)},[C]),M.useEffect(()=>{let J=ae=>{var ne,me;a.every(Ne=>ae[Ne]||ae.code===Ne)&&(A(!0),(ne=H.current)==null||ne.focus()),ae.code==="Escape"&&(document.activeElement===H.current||(me=H.current)!=null&&me.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[a]),M.useEffect(()=>{if(H.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,F.current=!1)}},[H.current]),M.createElement("section",{ref:t,"aria-label":`${w} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((J,ae)=>{var ne;let[me,Ne]=J.split("-");return C.length?M.createElement("ol",{key:J,dir:v==="auto"?P_():v,tabIndex:-1,ref:H,className:l,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":me,"data-lifted":P&&C.length>1&&!i,"data-x-position":Ne,style:{"--front-toast-height":`${((ne=k[0])==null?void 0:ne.height)||0}px`,"--width":`${WU}px`,"--gap":`${x}px`,...m,...XU(c,u)},onBlur:le=>{F.current&&!le.currentTarget.contains(le.relatedTarget)&&(F.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||F.current||(F.current=!0,I.current=le.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{R||A(!1)},onDragEnd:()=>A(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},C.filter(le=>!le.position&&ae===0||le.position===J).map((le,re)=>{var se,oe;return M.createElement(QU,{key:le.id,icons:j,index:re,toast:le,defaultRichColors:h,duration:(se=p==null?void 0:p.duration)!=null?se:f,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:g,closeButton:(oe=p==null?void 0:p.closeButton)!=null?oe:o,interacting:R,position:J,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:U,toasts:C.filter(O=>O.position==le.position),heights:k.filter(O=>O.position==le.position),setHeights:E,expandByDefault:i,gap:x,loadingIcon:y,expanded:P,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const ZU=({...e})=>{const{theme:t="system"}=CU();return s.jsx(JU,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var e7=XN[" useId ".trim().toString()]||(()=>{}),t7=0;function Ma(e){const[t,n]=b.useState(e7());return Nn(()=>{n(r=>r??String(t7++))},[e]),t?`radix-${t}`:""}const n7=["top","right","bottom","left"],ko=Math.min,ts=Math.max,Ag=Math.round,np=Math.floor,Ia=e=>({x:e,y:e}),r7={left:"right",right:"left",bottom:"top",top:"bottom"},s7={start:"end",end:"start"};function wb(e,t,n){return ts(e,ko(t,n))}function wi(e,t){return typeof e=="function"?e(t):e}function Ni(e){return e.split("-")[0]}function pd(e){return e.split("-")[1]}function G1(e){return e==="x"?"y":"x"}function Y1(e){return e==="y"?"height":"width"}const a7=new Set(["top","bottom"]);function _a(e){return a7.has(Ni(e))?"y":"x"}function Q1(e){return G1(_a(e))}function i7(e,t,n){n===void 0&&(n=!1);const r=pd(e),a=Q1(e),i=Y1(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=kg(o)),[o,kg(o)]}function o7(e){const t=kg(e);return[Nb(e),t,Nb(t)]}function Nb(e){return e.replace(/start|end/g,t=>s7[t])}const A_=["left","right"],k_=["right","left"],l7=["top","bottom"],c7=["bottom","top"];function u7(e,t,n){switch(e){case"top":case"bottom":return n?t?k_:A_:t?A_:k_;case"left":case"right":return t?l7:c7;default:return[]}}function d7(e,t,n,r){const a=pd(e);let i=u7(Ni(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Nb)))),i}function kg(e){return e.replace(/left|right|bottom|top/g,t=>r7[t])}function h7(e){return{top:0,right:0,bottom:0,left:0,...e}}function gI(e){return typeof e!="number"?h7(e):{top:e,right:e,bottom:e,left:e}}function Tg(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function T_(e,t,n){let{reference:r,floating:a}=e;const i=_a(t),o=Q1(t),l=Y1(o),c=Ni(t),u=i==="y",d=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,f=r[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-a.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-a.width,y:h};break;default:m={x:r.x,y:r.y}}switch(pd(t)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const f7=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=T_(u,r,c),f=r,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:x}=l[p],{x:y,y:j,data:w,reset:N}=await x({x:d,y:h,initialPlacement:r,placement:f,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,h=j??h,m={...m,[v]:{...m[v],...w}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:h}=T_(u,f,c)),p=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:m}};async function hf(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=wi(t,e),g=gI(m),v=l[f?h==="floating"?"reference":"floating":h],x=Tg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=h==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},N=Tg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:j,strategy:c}):y);return{top:(x.top-N.top+g.top)/w.y,bottom:(N.bottom-x.bottom+g.bottom)/w.y,left:(x.left-N.left+g.left)/w.x,right:(N.right-x.right+g.right)/w.x}}const m7=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=wi(e,t)||{};if(u==null)return{};const h=gI(d),f={x:n,y:r},m=Q1(a),g=Y1(m),p=await o.getDimensions(u),v=m==="y",x=v?"top":"left",y=v?"bottom":"right",j=v?"clientHeight":"clientWidth",w=i.reference[g]+i.reference[m]-f[m]-i.floating[g],N=f[m]-i.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=C?C[j]:0;(!S||!await(o.isElement==null?void 0:o.isElement(C)))&&(S=l.floating[j]||i.floating[g]);const _=w/2-N/2,k=S/2-p[g]/2-1,E=ko(h[x],k),P=ko(h[y],k),A=E,R=S-p[g]-P,$=S/2-p[g]/2+_,K=wb(A,$,R),V=!c.arrow&&pd(a)!=null&&$!==K&&i.reference[g]/2-($<A?E:P)-p[g]/2<0,H=V?$<A?$-A:$-R:0;return{[m]:f[m]+H,data:{[m]:K,centerOffset:$-K-H,...V&&{alignmentOffset:H}},reset:V}}}),p7=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=wi(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Ni(a),y=_a(l),j=Ni(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=f||(j||!p?[kg(l)]:o7(l)),C=g!=="none";!f&&C&&N.push(...d7(l,p,g,w));const S=[l,...N],_=await hf(t,v),k=[];let E=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&k.push(_[x]),h){const $=i7(a,o,w);k.push(_[$[0]],_[$[1]])}if(E=[...E,{placement:a,overflows:k}],!k.every($=>$<=0)){var P,A;const $=(((P=i.flip)==null?void 0:P.index)||0)+1,K=S[$];if(K&&(!(h==="alignment"?y!==_a(K):!1)||E.every(T=>T.overflows[0]>0&&_a(T.placement)===y)))return{data:{index:$,overflows:E},reset:{placement:K}};let V=(A=E.filter(H=>H.overflows[0]<=0).sort((H,T)=>H.overflows[1]-T.overflows[1])[0])==null?void 0:A.placement;if(!V)switch(m){case"bestFit":{var R;const H=(R=E.filter(T=>{if(C){const I=_a(T.placement);return I===y||I==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(I=>I>0).reduce((I,F)=>I+F,0)]).sort((T,I)=>T[1]-I[1])[0])==null?void 0:R[0];H&&(V=H);break}case"initialPlacement":V=l;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function E_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function O_(e){return n7.some(t=>e[t]>=0)}const g7=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=wi(e,t);switch(r){case"referenceHidden":{const i=await hf(t,{...a,elementContext:"reference"}),o=E_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:O_(o)}}}case"escaped":{const i=await hf(t,{...a,altBoundary:!0}),o=E_(i,n.floating);return{data:{escapedOffsets:o,escaped:O_(o)}}}default:return{}}}}},vI=new Set(["left","top"]);async function v7(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=Ni(n),l=pd(n),c=_a(n)==="y",u=vI.has(o)?-1:1,d=i&&c?-1:1,h=wi(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const x7=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await v7(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},y7=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y}=v;return{x,y}}},...c}=wi(e,t),u={x:n,y:r},d=await hf(t,c),h=_a(Ni(a)),f=G1(h);let m=u[f],g=u[h];if(i){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=m+d[v],j=m-d[x];m=wb(y,m,j)}if(o){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=g+d[v],j=g-d[x];g=wb(y,g,j)}const p=l.fn({...t,[f]:m,[h]:g});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[h]:o}}}}}},j7=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=wi(e,t),d={x:n,y:r},h=_a(a),f=G1(h);let m=d[f],g=d[h];const p=wi(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const j=f==="y"?"height":"width",w=i.reference[f]-i.floating[j]+v.mainAxis,N=i.reference[f]+i.reference[j]-v.mainAxis;m<w?m=w:m>N&&(m=N)}if(u){var x,y;const j=f==="y"?"width":"height",w=vI.has(Ni(a)),N=i.reference[h]-i.floating[j]+(w&&((x=o.offset)==null?void 0:x[h])||0)+(w?0:v.crossAxis),C=i.reference[h]+i.reference[j]+(w?0:((y=o.offset)==null?void 0:y[h])||0)-(w?v.crossAxis:0);g<N?g=N:g>C&&(g=C)}return{[f]:m,[h]:g}}}},b7=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=wi(e,t),d=await hf(t,u),h=Ni(a),f=pd(a),m=_a(a)==="y",{width:g,height:p}=i.floating;let v,x;h==="top"||h==="bottom"?(v=h,x=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,v=f==="end"?"top":"bottom");const y=p-d.top-d.bottom,j=g-d.left-d.right,w=ko(p-d[v],y),N=ko(g-d[x],j),C=!t.middlewareData.shift;let S=w,_=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=y),C&&!f){const E=ts(d.left,0),P=ts(d.right,0),A=ts(d.top,0),R=ts(d.bottom,0);m?_=g-2*(E!==0||P!==0?E+P:ts(d.left,d.right)):S=p-2*(A!==0||R!==0?A+R:ts(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:S});const k=await o.getDimensions(l.floating);return g!==k.width||p!==k.height?{reset:{rects:!0}}:{}}}};function xx(){return typeof window<"u"}function gd(e){return xI(e)?(e.nodeName||"").toLowerCase():"#document"}function is(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Va(e){var t;return(t=(xI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xI(e){return xx()?e instanceof Node||e instanceof is(e).Node:!1}function sa(e){return xx()?e instanceof Element||e instanceof is(e).Element:!1}function Ba(e){return xx()?e instanceof HTMLElement||e instanceof is(e).HTMLElement:!1}function D_(e){return!xx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof is(e).ShadowRoot}const w7=new Set(["inline","contents"]);function gm(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=aa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!w7.has(a)}const N7=new Set(["table","td","th"]);function S7(e){return N7.has(gd(e))}const C7=[":popover-open",":modal"];function yx(e){return C7.some(t=>{try{return e.matches(t)}catch{return!1}})}const _7=["transform","translate","scale","rotate","perspective"],P7=["transform","translate","scale","rotate","perspective","filter"],A7=["paint","layout","strict","content"];function X1(e){const t=J1(),n=sa(e)?aa(e):e;return _7.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||P7.some(r=>(n.willChange||"").includes(r))||A7.some(r=>(n.contain||"").includes(r))}function k7(e){let t=To(e);for(;Ba(t)&&!Tu(t);){if(X1(t))return t;if(yx(t))return null;t=To(t)}return null}function J1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const T7=new Set(["html","body","#document"]);function Tu(e){return T7.has(gd(e))}function aa(e){return is(e).getComputedStyle(e)}function jx(e){return sa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function To(e){if(gd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||D_(e)&&e.host||Va(e);return D_(t)?t.host:t}function yI(e){const t=To(e);return Tu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ba(t)&&gm(t)?t:yI(t)}function ff(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=yI(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=is(a);if(i){const l=Sb(o);return t.concat(o,o.visualViewport||[],gm(a)?a:[],l&&n?ff(l):[])}return t.concat(a,ff(a,[],n))}function Sb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jI(e){const t=aa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Ba(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=Ag(n)!==i||Ag(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Z1(e){return sa(e)?e:e.contextElement}function eu(e){const t=Z1(e);if(!Ba(t))return Ia(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=jI(t);let o=(i?Ag(n.width):n.width)/r,l=(i?Ag(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const E7=Ia(0);function bI(e){const t=is(e);return!J1()||!t.visualViewport?E7:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function O7(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==is(e)?!1:t}function Rl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Z1(e);let o=Ia(1);t&&(r?sa(r)&&(o=eu(r)):o=eu(e));const l=O7(i,n,r)?bI(i):Ia(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,h=a.height/o.y;if(i){const f=is(i),m=r&&sa(r)?is(r):r;let g=f,p=Sb(g);for(;p&&r&&m!==g;){const v=eu(p),x=p.getBoundingClientRect(),y=aa(p),j=x.left+(p.clientLeft+parseFloat(y.paddingLeft))*v.x,w=x.top+(p.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,h*=v.y,c+=j,u+=w,g=is(p),p=Sb(g)}}return Tg({width:d,height:h,x:c,y:u})}function eS(e,t){const n=jx(e).scrollLeft;return t?t.left+n:Rl(Va(e)).left+n}function wI(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:eS(e,r)),i=r.top+t.scrollTop;return{x:a,y:i}}function D7(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=Va(r),l=t?yx(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Ia(1);const d=Ia(0),h=Ba(r);if((h||!h&&!i)&&((gd(r)!=="body"||gm(o))&&(c=jx(r)),Ba(r))){const m=Rl(r);u=eu(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!i?wI(o,c,!0):Ia(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function M7(e){return Array.from(e.getClientRects())}function I7(e){const t=Va(e),n=jx(e),r=e.ownerDocument.body,a=ts(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ts(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+eS(e);const l=-n.scrollTop;return aa(r).direction==="rtl"&&(o+=ts(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}function $7(e,t){const n=is(e),r=Va(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=J1();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const R7=new Set(["absolute","fixed"]);function L7(e,t){const n=Rl(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Ba(e)?eu(e):Ia(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function M_(e,t,n){let r;if(t==="viewport")r=$7(e,n);else if(t==="document")r=I7(Va(e));else if(sa(t))r=L7(t,n);else{const a=bI(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Tg(r)}function NI(e,t){const n=To(e);return n===t||!sa(n)||Tu(n)?!1:aa(n).position==="fixed"||NI(n,t)}function F7(e,t){const n=t.get(e);if(n)return n;let r=ff(e,[],!1).filter(l=>sa(l)&&gd(l)!=="body"),a=null;const i=aa(e).position==="fixed";let o=i?To(e):e;for(;sa(o)&&!Tu(o);){const l=aa(o),c=X1(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&R7.has(a.position)||gm(o)&&!c&&NI(e,o))?r=r.filter(d=>d!==o):a=l,o=To(o)}return t.set(e,r),r}function B7(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?yx(t)?[]:F7(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=M_(t,d,a);return u.top=ts(h.top,u.top),u.right=ko(h.right,u.right),u.bottom=ko(h.bottom,u.bottom),u.left=ts(h.left,u.left),u},M_(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function z7(e){const{width:t,height:n}=jI(e);return{width:t,height:n}}function V7(e,t,n){const r=Ba(t),a=Va(t),i=n==="fixed",o=Rl(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ia(0);function u(){c.x=eS(a)}if(r||!r&&!i)if((gd(t)!=="body"||gm(a))&&(l=jx(t)),r){const m=Rl(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!r&&a&&u();const d=a&&!r&&!i?wI(a,l):Ia(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function S0(e){return aa(e).position==="static"}function I_(e,t){if(!Ba(e)||aa(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Va(e)===n&&(n=n.ownerDocument.body),n}function SI(e,t){const n=is(e);if(yx(e))return n;if(!Ba(e)){let a=To(e);for(;a&&!Tu(a);){if(sa(a)&&!S0(a))return a;a=To(a)}return n}let r=I_(e,t);for(;r&&S7(r)&&S0(r);)r=I_(r,t);return r&&Tu(r)&&S0(r)&&!X1(r)?n:r||k7(e)||n}const q7=async function(e){const t=this.getOffsetParent||SI,n=this.getDimensions,r=await n(e.floating);return{reference:V7(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function U7(e){return aa(e).direction==="rtl"}const W7={convertOffsetParentRelativeRectToViewportRelativeRect:D7,getDocumentElement:Va,getClippingRect:B7,getOffsetParent:SI,getElementRects:q7,getClientRects:M7,getDimensions:z7,getScale:eu,isElement:sa,isRTL:U7};function CI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function H7(e,t){let n=null,r;const a=Va(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(l||t(),!f||!m)return;const g=np(h),p=np(a.clientWidth-(d+f)),v=np(a.clientHeight-(h+m)),x=np(d),j={rootMargin:-g+"px "+-p+"px "+-v+"px "+-x+"px",threshold:ts(0,ko(1,c))||1};let w=!0;function N(C){const S=C[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!CI(u,e.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(N,{...j,root:a.ownerDocument})}catch{n=new IntersectionObserver(N,j)}n.observe(e)}return o(!0),i}function K7(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Z1(e),d=a||i?[...u?ff(u):[],...ff(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=u&&l?H7(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?Rl(e):null;c&&v();function v(){const x=Rl(e);p&&!CI(p,x)&&n(),p=x,g=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(y=>{a&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h==null||h(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const G7=x7,Y7=y7,Q7=p7,X7=b7,J7=g7,$_=m7,Z7=j7,e9=(e,t,n)=>{const r=new Map,a={platform:W7,...n},i={...a.platform,_c:r};return f7(e,t,{...a,platform:i})};var t9=typeof document<"u",n9=function(){},Qp=t9?b.useLayoutEffect:n9;function Eg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Eg(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!Eg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function _I(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function R_(e,t){const n=_I(e);return Math.round(t*n)/n}function C0(e){const t=b.useRef(e);return Qp(()=>{t.current=e}),t}function r9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=b.useState(r);Eg(f,r)||m(r);const[g,p]=b.useState(null),[v,x]=b.useState(null),y=b.useCallback(T=>{T!==C.current&&(C.current=T,p(T))},[]),j=b.useCallback(T=>{T!==S.current&&(S.current=T,x(T))},[]),w=i||g,N=o||v,C=b.useRef(null),S=b.useRef(null),_=b.useRef(d),k=c!=null,E=C0(c),P=C0(a),A=C0(u),R=b.useCallback(()=>{if(!C.current||!S.current)return;const T={placement:t,strategy:n,middleware:f};P.current&&(T.platform=P.current),e9(C.current,S.current,T).then(I=>{const F={...I,isPositioned:A.current!==!1};$.current&&!Eg(_.current,F)&&(_.current=F,Zl.flushSync(()=>{h(F)}))})},[f,t,n,P,A]);Qp(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(T=>({...T,isPositioned:!1})))},[u]);const $=b.useRef(!1);Qp(()=>($.current=!0,()=>{$.current=!1}),[]),Qp(()=>{if(w&&(C.current=w),N&&(S.current=N),w&&N){if(E.current)return E.current(w,N,R);R()}},[w,N,R,E,k]);const K=b.useMemo(()=>({reference:C,floating:S,setReference:y,setFloating:j}),[y,j]),V=b.useMemo(()=>({reference:w,floating:N}),[w,N]),H=b.useMemo(()=>{const T={position:n,left:0,top:0};if(!V.floating)return T;const I=R_(V.floating,d.x),F=R_(V.floating,d.y);return l?{...T,transform:"translate("+I+"px, "+F+"px)",..._I(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:F}},[n,l,V.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:R,refs:K,elements:V,floatingStyles:H}),[d,R,K,V,H])}const s9=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?$_({element:r.current,padding:a}).fn(n):{}:r?$_({element:r,padding:a}).fn(n):{}}}},a9=(e,t)=>({...G7(e),options:[e,t]}),i9=(e,t)=>({...Y7(e),options:[e,t]}),o9=(e,t)=>({...Z7(e),options:[e,t]}),l9=(e,t)=>({...Q7(e),options:[e,t]}),c9=(e,t)=>({...X7(e),options:[e,t]}),u9=(e,t)=>({...J7(e),options:[e,t]}),d9=(e,t)=>({...s9(e),options:[e,t]});var h9="Arrow",PI=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(Be.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});PI.displayName=h9;var f9=PI;function tS(e){const[t,n]=b.useState(void 0);return Nn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var nS="Popper",[AI,vd]=hs(nS),[m9,kI]=AI(nS),TI=e=>{const{__scopePopper:t,children:n}=e,[r,a]=b.useState(null);return s.jsx(m9,{scope:t,anchor:r,onAnchorChange:a,children:n})};TI.displayName=nS;var EI="PopperAnchor",OI=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=kI(EI,n),o=b.useRef(null),l=vt(t,o);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(Be.div,{...a,ref:l})});OI.displayName=EI;var rS="PopperContent",[p9,g9]=AI(rS),DI=b.forwardRef((e,t)=>{var le,re,se,oe,O,W;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=kI(rS,n),[x,y]=b.useState(null),j=vt(t,fe=>y(fe)),[w,N]=b.useState(null),C=tS(w),S=(C==null?void 0:C.width)??0,_=(C==null?void 0:C.height)??0,k=r+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],A=P.length>0,R={padding:E,boundary:P.filter(x9),altBoundary:A},{refs:$,floatingStyles:K,placement:V,isPositioned:H,middlewareData:T}=r9({strategy:"fixed",placement:k,whileElementsMounted:(...fe)=>K7(...fe,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[a9({mainAxis:a+_,alignmentAxis:o}),c&&i9({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?o9():void 0,...R}),c&&l9({...R}),c9({...R,apply:({elements:fe,rects:he,availableWidth:Ye,availableHeight:We})=>{const{width:ut,height:$e}=he.reference,it=fe.floating.style;it.setProperty("--radix-popper-available-width",`${Ye}px`),it.setProperty("--radix-popper-available-height",`${We}px`),it.setProperty("--radix-popper-anchor-width",`${ut}px`),it.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),w&&d9({element:w,padding:l}),y9({arrowWidth:S,arrowHeight:_}),f&&u9({strategy:"referenceHidden",...R})]}),[I,F]=$I(V),U=_r(g);Nn(()=>{H&&(U==null||U())},[H,U]);const J=(le=T.arrow)==null?void 0:le.x,ae=(re=T.arrow)==null?void 0:re.y,ne=((se=T.arrow)==null?void 0:se.centerOffset)!==0,[me,Ne]=b.useState();return Nn(()=>{x&&Ne(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:H?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(oe=T.transformOrigin)==null?void 0:oe.x,(O=T.transformOrigin)==null?void 0:O.y].join(" "),...((W=T.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(p9,{scope:n,placedSide:I,onArrowChange:N,arrowX:J,arrowY:ae,shouldHideArrow:ne,children:s.jsx(Be.div,{"data-side":I,"data-align":F,...p,ref:j,style:{...p.style,animation:H?void 0:"none"}})})})});DI.displayName=rS;var MI="PopperArrow",v9={top:"bottom",right:"left",bottom:"top",left:"right"},II=b.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=g9(MI,r),o=v9[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(f9,{...a,ref:n,style:{...a.style,display:"block"}})})});II.displayName=MI;function x9(e){return e!==null}var y9=e=>({name:"transformOrigin",options:e,fn(t){var v,x,y;const{placement:n,rects:r,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=$I(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,m=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?h:`${f}px`,p=`${-c}px`):u==="top"?(g=o?h:`${f}px`,p=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?h:`${m}px`):u==="left"&&(g=`${r.floating.width+c}px`,p=o?h:`${m}px`),{data:{x:g,y:p}}}});function $I(e){const[t,n="center"]=e.split("-");return[t,n]}var RI=TI,sS=OI,aS=DI,iS=II,[bx,WAe]=hs("Tooltip",[vd]),oS=vd(),LI="TooltipProvider",j9=700,L_="tooltip.open",[b9,FI]=bx(LI),BI=e=>{const{__scopeTooltip:t,delayDuration:n=j9,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,o=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(b9,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};BI.displayName=LI;var zI="Tooltip",[HAe,wx]=bx(zI),Cb="TooltipTrigger",w9=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=wx(Cb,n),i=FI(Cb,n),o=oS(n),l=b.useRef(null),c=vt(t,l,a.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),h=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(sS,{asChild:!0,...o,children:s.jsx(Be.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:_e(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:_e(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:_e(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:_e(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:_e(e.onBlur,a.onClose),onClick:_e(e.onClick,a.onClose)})})});w9.displayName=Cb;var N9="TooltipPortal",[KAe,S9]=bx(N9,{forceMount:void 0}),Eu="TooltipContent",VI=b.forwardRef((e,t)=>{const n=S9(Eu,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=wx(Eu,e.__scopeTooltip);return s.jsx(Ts,{present:r||o.open,children:o.disableHoverableContent?s.jsx(qI,{side:a,...i,ref:t}):s.jsx(C9,{side:a,...i,ref:t})})}),C9=b.forwardRef((e,t)=>{const n=wx(Eu,e.__scopeTooltip),r=FI(Eu,e.__scopeTooltip),a=b.useRef(null),i=vt(t,a),[o,l]=b.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:h}=r,f=b.useCallback(()=>{l(null),h(!1)},[h]),m=b.useCallback((g,p)=>{const v=g.currentTarget,x={x:g.clientX,y:g.clientY},y=T9(x,v.getBoundingClientRect()),j=E9(x,y),w=O9(p.getBoundingClientRect()),N=M9([...j,...w]);l(N),h(!0)},[h]);return b.useEffect(()=>()=>f(),[f]),b.useEffect(()=>{if(c&&d){const g=v=>m(v,d),p=v=>m(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,f]),b.useEffect(()=>{if(o){const g=p=>{const v=p.target,x={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),j=!D9(x,o);y?f():j&&(f(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,f]),s.jsx(qI,{...e,ref:i})}),[_9,P9]=bx(zI,{isInside:!1}),A9=kV("TooltipContent"),qI=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=wx(Eu,n),u=oS(n),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(L_,d),()=>document.removeEventListener(L_,d)),[d]),b.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),s.jsx(hd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:s.jsxs(aS,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(A9,{children:r}),s.jsx(_9,{scope:n,isInside:!0,children:s.jsx(XV,{id:c.contentId,role:"tooltip",children:a||r})})]})})});VI.displayName=Eu;var UI="TooltipArrow",k9=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=oS(n);return P9(UI,n).isInside?null:s.jsx(iS,{...a,...r,ref:t})});k9.displayName=UI;function T9(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function E9(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function O9(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function D9(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(a=!a)}return a}function M9(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),I9(t)}function I9(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var $9=BI,WI=VI;const R9=$9,L9=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(WI,{ref:r,sideOffset:t,className:Ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));L9.displayName=WI.displayName;var xd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},F9={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Zi,HN,sO,B9=(sO=class{constructor(){Fe(this,Zi,F9);Fe(this,HN,!1)}setTimeoutProvider(e){ke(this,Zi,e)}setTimeout(e,t){return Q(this,Zi).setTimeout(e,t)}clearTimeout(e){Q(this,Zi).clearTimeout(e)}setInterval(e,t){return Q(this,Zi).setInterval(e,t)}clearInterval(e){Q(this,Zi).clearInterval(e)}},Zi=new WeakMap,HN=new WeakMap,sO),ul=new B9;function z9(e){setTimeout(e,0)}var Ll=typeof window>"u"||"Deno"in globalThis;function xr(){}function V9(e,t){return typeof e=="function"?e(t):e}function _b(e){return typeof e=="number"&&e>=0&&e!==1/0}function HI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wo(e,t){return typeof e=="function"?e(t):e}function xs(e,t){return typeof e=="function"?e(t):e}function F_(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==lS(o,t.options))return!1}else if(!mf(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function B_(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Fl(t.options.mutationKey)!==Fl(i))return!1}else if(!mf(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function lS(e,t){return((t==null?void 0:t.queryKeyHashFn)||Fl)(e)}function Fl(e){return JSON.stringify(e,(t,n)=>Pb(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function mf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>mf(e[n],t[n])):!1}var q9=Object.prototype.hasOwnProperty;function KI(e,t){if(e===t)return e;const n=z_(e)&&z_(t);if(!n&&!(Pb(e)&&Pb(t)))return t;const a=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u],h=e[d],f=t[d];if(h===f){l[d]=h,(n?u<a:q9.call(e,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const m=KI(h,f);l[d]=m,m===h&&c++}return a===o&&c===a?e:l}function Og(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function z_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Pb(e){if(!V_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!V_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function V_(e){return Object.prototype.toString.call(e)==="[object Object]"}function U9(e){return new Promise(t=>{ul.setTimeout(t,e)})}function Ab(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?KI(e,t):t}function W9(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function H9(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var cS=Symbol();function GI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===cS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function YI(e,t){return typeof e=="function"?e(...t):!!e}var gl,eo,ou,aO,K9=(aO=class extends xd{constructor(){super();Fe(this,gl);Fe(this,eo);Fe(this,ou);ke(this,ou,t=>{if(!Ll&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Q(this,eo)||this.setEventListener(Q(this,ou))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,eo))==null||t.call(this),ke(this,eo,void 0))}setEventListener(t){var n;ke(this,ou,t),(n=Q(this,eo))==null||n.call(this),ke(this,eo,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Q(this,gl)!==t&&(ke(this,gl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Q(this,gl)=="boolean"?Q(this,gl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},gl=new WeakMap,eo=new WeakMap,ou=new WeakMap,aO),uS=new K9;function kb(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}var G9=z9;function Y9(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=G9;const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Tn=Y9(),lu,to,cu,iO,Q9=(iO=class extends xd{constructor(){super();Fe(this,lu,!0);Fe(this,to);Fe(this,cu);ke(this,cu,t=>{if(!Ll&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Q(this,to)||this.setEventListener(Q(this,cu))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,to))==null||t.call(this),ke(this,to,void 0))}setEventListener(t){var n;ke(this,cu,t),(n=Q(this,to))==null||n.call(this),ke(this,to,t(this.setOnline.bind(this)))}setOnline(t){Q(this,lu)!==t&&(ke(this,lu,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Q(this,lu)}},lu=new WeakMap,to=new WeakMap,cu=new WeakMap,iO),Dg=new Q9;function X9(e){return Math.min(1e3*2**e,3e4)}function QI(e){return(e??"online")==="online"?Dg.isOnline():!0}var Tb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function XI(e){let t=!1,n=0,r;const a=kb(),i=()=>a.status!=="pending",o=p=>{var v;if(!i()){const x=new Tb(p);f(x),(v=e.onCancel)==null||v.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>uS.isFocused()&&(e.networkMode==="always"||Dg.isOnline())&&e.canRun(),d=()=>QI(e.networkMode)&&e.canRun(),h=p=>{i()||(r==null||r(),a.resolve(p))},f=p=>{i()||(r==null||r(),a.reject(p))},m=()=>new Promise(p=>{var v;r=x=>{(i()||u())&&p(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;r=void 0,i()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(i())return;let p;const v=n===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(h).catch(x=>{var C;if(i())return;const y=e.retry??(Ll?0:3),j=e.retryDelay??X9,w=typeof j=="function"?j(n,x):j,N=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,x);if(t||!N){f(x);return}n++,(C=e.onFail)==null||C.call(e,n,x),U9(w).then(()=>u()?void 0:m()).then(()=>{t?f(x):g()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(r==null||r(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),a)}}var vl,oO,JI=(oO=class{constructor(){Fe(this,vl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_b(this.gcTime)&&ke(this,vl,ul.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ll?1/0:5*60*1e3))}clearGcTimeout(){Q(this,vl)&&(ul.clearTimeout(Q(this,vl)),ke(this,vl,void 0))}},vl=new WeakMap,oO),xl,uu,vs,yl,Ln,nm,jl,zs,Qa,lO,J9=(lO=class extends JI{constructor(t){super();Fe(this,zs);Fe(this,xl);Fe(this,uu);Fe(this,vs);Fe(this,yl);Fe(this,Ln);Fe(this,nm);Fe(this,jl);ke(this,jl,!1),ke(this,nm,t.defaultOptions),this.setOptions(t.options),this.observers=[],ke(this,yl,t.client),ke(this,vs,Q(this,yl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ke(this,xl,q_(this.options)),this.state=t.state??Q(this,xl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Q(this,Ln))==null?void 0:t.promise}setOptions(t){if(this.options={...Q(this,nm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=q_(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),ke(this,xl,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,vs).remove(this)}setData(t,n){const r=Ab(this.state.data,t,this.options);return ot(this,zs,Qa).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ot(this,zs,Qa).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=Q(this,Ln))==null?void 0:r.promise;return(a=Q(this,Ln))==null||a.cancel(t),n?n.then(xr).catch(xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,xl))}isActive(){return this.observers.some(t=>xs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>wo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!HI(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,Ln))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,Ln))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Q(this,vs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Q(this,Ln)&&(Q(this,jl)?Q(this,Ln).cancel({revert:!0}):Q(this,Ln).cancelRetry()),this.scheduleGc()),Q(this,vs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ot(this,zs,Qa).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,h,f,m,g,p,v,x,y,j;if(this.state.fetchStatus!=="idle"&&((c=Q(this,Ln))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Q(this,Ln))return Q(this,Ln).continueRetry(),Q(this,Ln).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(N=>N.options.queryFn);w&&this.setOptions(w.options)}const r=new AbortController,a=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(ke(this,jl,!0),r.signal)})},i=()=>{const w=GI(this.options,n),C=(()=>{const S={client:Q(this,yl),queryKey:this.queryKey,meta:this.meta};return a(S),S})();return ke(this,jl,!1),this.options.persister?this.options.persister(w,C,this):w(C)},l=(()=>{const w={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Q(this,yl),state:this.state,fetchFn:i};return a(w),w})();(u=this.options.behavior)==null||u.onFetch(l,this),ke(this,uu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ot(this,zs,Qa).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),ke(this,Ln,XI({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:w=>{w instanceof Tb&&w.revert&&this.setState({...Q(this,uu),fetchStatus:"idle"}),r.abort()},onFail:(w,N)=>{ot(this,zs,Qa).call(this,{type:"failed",failureCount:w,error:N})},onPause:()=>{ot(this,zs,Qa).call(this,{type:"pause"})},onContinue:()=>{ot(this,zs,Qa).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const w=await Q(this,Ln).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(m=(f=Q(this,vs).config).onSuccess)==null||m.call(f,w,this),(p=(g=Q(this,vs).config).onSettled)==null||p.call(g,w,this.state.error,this),w}catch(w){if(w instanceof Tb){if(w.silent)return Q(this,Ln).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw ot(this,zs,Qa).call(this,{type:"error",error:w}),(x=(v=Q(this,vs).config).onError)==null||x.call(v,w,this),(j=(y=Q(this,vs).config).onSettled)==null||j.call(y,this.state.data,w,this),w}finally{this.scheduleGc()}}},xl=new WeakMap,uu=new WeakMap,vs=new WeakMap,yl=new WeakMap,Ln=new WeakMap,nm=new WeakMap,jl=new WeakMap,zs=new WeakSet,Qa=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ZI(r.data,this.options),fetchMeta:t.meta??null};case"success":const a={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ke(this,uu,t.manual?a:void 0),a;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Tn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Q(this,vs).notify({query:this,type:"updated",action:t})})},lO);function ZI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function q_(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Mr,gt,rm,pr,bl,du,ni,no,sm,hu,fu,wl,Nl,ro,mu,St,jh,Eb,Ob,Db,Mb,Ib,$b,Rb,e$,cO,Z9=(cO=class extends xd{constructor(t,n){super();Fe(this,St);Fe(this,Mr);Fe(this,gt);Fe(this,rm);Fe(this,pr);Fe(this,bl);Fe(this,du);Fe(this,ni);Fe(this,no);Fe(this,sm);Fe(this,hu);Fe(this,fu);Fe(this,wl);Fe(this,Nl);Fe(this,ro);Fe(this,mu,new Set);this.options=n,ke(this,Mr,t),ke(this,no,null),ke(this,ni,kb()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,gt).addObserver(this),U_(Q(this,gt),this.options)?ot(this,St,jh).call(this):this.updateResult(),ot(this,St,Mb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Lb(Q(this,gt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Lb(Q(this,gt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ot(this,St,Ib).call(this),ot(this,St,$b).call(this),Q(this,gt).removeObserver(this)}setOptions(t){const n=this.options,r=Q(this,gt);if(this.options=Q(this,Mr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xs(this.options.enabled,Q(this,gt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ot(this,St,Rb).call(this),Q(this,gt).setOptions(this.options),n._defaulted&&!Og(this.options,n)&&Q(this,Mr).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,gt),observer:this});const a=this.hasListeners();a&&W_(Q(this,gt),r,this.options,n)&&ot(this,St,jh).call(this),this.updateResult(),a&&(Q(this,gt)!==r||xs(this.options.enabled,Q(this,gt))!==xs(n.enabled,Q(this,gt))||wo(this.options.staleTime,Q(this,gt))!==wo(n.staleTime,Q(this,gt)))&&ot(this,St,Eb).call(this);const i=ot(this,St,Ob).call(this);a&&(Q(this,gt)!==r||xs(this.options.enabled,Q(this,gt))!==xs(n.enabled,Q(this,gt))||i!==Q(this,ro))&&ot(this,St,Db).call(this,i)}getOptimisticResult(t){const n=Q(this,Mr).getQueryCache().build(Q(this,Mr),t),r=this.createResult(n,t);return tW(this,r)&&(ke(this,pr,r),ke(this,du,this.options),ke(this,bl,Q(this,gt).state)),r}getCurrentResult(){return Q(this,pr)}trackResult(t,n){return new Proxy(t,{get:(r,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&!this.options.experimental_prefetchInRender&&Q(this,ni).status==="pending"&&Q(this,ni).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,a))})}trackProp(t){Q(this,mu).add(t)}getCurrentQuery(){return Q(this,gt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Q(this,Mr).defaultQueryOptions(t),r=Q(this,Mr).getQueryCache().build(Q(this,Mr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ot(this,St,jh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,pr)))}createResult(t,n){var k;const r=Q(this,gt),a=this.options,i=Q(this,pr),o=Q(this,bl),l=Q(this,du),u=t!==r?t.state:Q(this,rm),{state:d}=t;let h={...d},f=!1,m;if(n._optimisticResults){const E=this.hasListeners(),P=!E&&U_(t,n),A=E&&W_(t,r,n,a);(P||A)&&(h={...h,...ZI(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=h;m=h.data;let x=!1;if(n.placeholderData!==void 0&&m===void 0&&v==="pending"){let E;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(E=i.data,x=!0):E=typeof n.placeholderData=="function"?n.placeholderData((k=Q(this,fu))==null?void 0:k.state.data,Q(this,fu)):n.placeholderData,E!==void 0&&(v="success",m=Ab(i==null?void 0:i.data,E,n),f=!0)}if(n.select&&m!==void 0&&!x)if(i&&m===(o==null?void 0:o.data)&&n.select===Q(this,sm))m=Q(this,hu);else try{ke(this,sm,n.select),m=n.select(m),m=Ab(i==null?void 0:i.data,m,n),ke(this,hu,m),ke(this,no,null)}catch(E){ke(this,no,E)}Q(this,no)&&(g=Q(this,no),m=Q(this,hu),p=Date.now(),v="error");const y=h.fetchStatus==="fetching",j=v==="pending",w=v==="error",N=j&&y,C=m!==void 0,_={status:v,fetchStatus:h.fetchStatus,isPending:j,isSuccess:v==="success",isError:w,isInitialLoading:N,isLoading:N,data:m,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!j,isLoadingError:w&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&C,isStale:dS(t,n),refetch:this.refetch,promise:Q(this,ni),isEnabled:xs(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=R=>{_.status==="error"?R.reject(_.error):_.data!==void 0&&R.resolve(_.data)},P=()=>{const R=ke(this,ni,_.promise=kb());E(R)},A=Q(this,ni);switch(A.status){case"pending":t.queryHash===r.queryHash&&E(A);break;case"fulfilled":(_.status==="error"||_.data!==A.value)&&P();break;case"rejected":(_.status!=="error"||_.error!==A.reason)&&P();break}}return _}updateResult(){const t=Q(this,pr),n=this.createResult(Q(this,gt),this.options);if(ke(this,bl,Q(this,gt).state),ke(this,du,this.options),Q(this,bl).data!==void 0&&ke(this,fu,Q(this,gt)),Og(n,t))return;ke(this,pr,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Q(this,mu).size)return!0;const o=new Set(i??Q(this,mu));return this.options.throwOnError&&o.add("error"),Object.keys(Q(this,pr)).some(l=>{const c=l;return Q(this,pr)[c]!==t[c]&&o.has(c)})};ot(this,St,e$).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ot(this,St,Mb).call(this)}},Mr=new WeakMap,gt=new WeakMap,rm=new WeakMap,pr=new WeakMap,bl=new WeakMap,du=new WeakMap,ni=new WeakMap,no=new WeakMap,sm=new WeakMap,hu=new WeakMap,fu=new WeakMap,wl=new WeakMap,Nl=new WeakMap,ro=new WeakMap,mu=new WeakMap,St=new WeakSet,jh=function(t){ot(this,St,Rb).call(this);let n=Q(this,gt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(xr)),n},Eb=function(){ot(this,St,Ib).call(this);const t=wo(this.options.staleTime,Q(this,gt));if(Ll||Q(this,pr).isStale||!_b(t))return;const r=HI(Q(this,pr).dataUpdatedAt,t)+1;ke(this,wl,ul.setTimeout(()=>{Q(this,pr).isStale||this.updateResult()},r))},Ob=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,gt)):this.options.refetchInterval)??!1},Db=function(t){ot(this,St,$b).call(this),ke(this,ro,t),!(Ll||xs(this.options.enabled,Q(this,gt))===!1||!_b(Q(this,ro))||Q(this,ro)===0)&&ke(this,Nl,ul.setInterval(()=>{(this.options.refetchIntervalInBackground||uS.isFocused())&&ot(this,St,jh).call(this)},Q(this,ro)))},Mb=function(){ot(this,St,Eb).call(this),ot(this,St,Db).call(this,ot(this,St,Ob).call(this))},Ib=function(){Q(this,wl)&&(ul.clearTimeout(Q(this,wl)),ke(this,wl,void 0))},$b=function(){Q(this,Nl)&&(ul.clearInterval(Q(this,Nl)),ke(this,Nl,void 0))},Rb=function(){const t=Q(this,Mr).getQueryCache().build(Q(this,Mr),this.options);if(t===Q(this,gt))return;const n=Q(this,gt);ke(this,gt,t),ke(this,rm,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},e$=function(t){Tn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Q(this,pr))}),Q(this,Mr).getQueryCache().notify({query:Q(this,gt),type:"observerResultsUpdated"})})},cO);function eW(e,t){return xs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function U_(e,t){return eW(e,t)||e.state.data!==void 0&&Lb(e,t,t.refetchOnMount)}function Lb(e,t,n){if(xs(t.enabled,e)!==!1&&wo(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&dS(e,t)}return!1}function W_(e,t,n,r){return(e!==t||xs(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&dS(e,n)}function dS(e,t){return xs(t.enabled,e)!==!1&&e.isStaleByTime(wo(t.staleTime,e))}function tW(e,t){return!Og(e.getCurrentResult(),t)}function H_(e){return{onFetch:(t,n)=>{var d,h,f,m,g;const r=t.options,a=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},x=GI(t.options,t.fetchOptions),y=async(j,w,N)=>{if(p)return Promise.reject();if(w==null&&j.pages.length)return Promise.resolve(j);const S=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};return v(P),P})(),_=await x(S),{maxPages:k}=t.options,E=N?H9:W9;return{pages:E(j.pages,_,k),pageParams:E(j.pageParams,w,k)}};if(a&&i.length){const j=a==="backward",w=j?nW:K_,N={pages:i,pageParams:o},C=w(r,N);l=await y(N,C,j)}else{const j=e??i.length;do{const w=c===0?o[0]??r.initialPageParam:K_(r,l);if(c>0&&w==null)break;l=await y(l,w),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function K_(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function nW(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var am,ya,gr,Sl,ja,zi,uO,rW=(uO=class extends JI{constructor(t){super();Fe(this,ja);Fe(this,am);Fe(this,ya);Fe(this,gr);Fe(this,Sl);ke(this,am,t.client),this.mutationId=t.mutationId,ke(this,gr,t.mutationCache),ke(this,ya,[]),this.state=t.state||t$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Q(this,ya).includes(t)||(Q(this,ya).push(t),this.clearGcTimeout(),Q(this,gr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ke(this,ya,Q(this,ya).filter(n=>n!==t)),this.scheduleGc(),Q(this,gr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Q(this,ya).length||(this.state.status==="pending"?this.scheduleGc():Q(this,gr).remove(this))}continue(){var t;return((t=Q(this,Sl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,h,f,m,g,p,v,x,y,j,w,N,C,S,_,k;const n=()=>{ot(this,ja,zi).call(this,{type:"continue"})},r={client:Q(this,am),meta:this.options.meta,mutationKey:this.options.mutationKey};ke(this,Sl,XI({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(E,P)=>{ot(this,ja,zi).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{ot(this,ja,zi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,gr).canRun(this)}));const a=this.state.status==="pending",i=!Q(this,Sl).canStart();try{if(a)n();else{ot(this,ja,zi).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=Q(this,gr).config).onMutate)==null?void 0:l.call(o,t,this,r));const P=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));P!==this.state.context&&ot(this,ja,zi).call(this,{type:"pending",context:P,variables:t,isPaused:i})}const E=await Q(this,Sl).start();return await((h=(d=Q(this,gr).config).onSuccess)==null?void 0:h.call(d,E,t,this.state.context,this,r)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,E,t,this.state.context,r)),await((p=(g=Q(this,gr).config).onSettled)==null?void 0:p.call(g,E,null,this.state.variables,this.state.context,this,r)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,E,null,t,this.state.context,r)),ot(this,ja,zi).call(this,{type:"success",data:E}),E}catch(E){try{throw await((j=(y=Q(this,gr).config).onError)==null?void 0:j.call(y,E,t,this.state.context,this,r)),await((N=(w=this.options).onError)==null?void 0:N.call(w,E,t,this.state.context,r)),await((S=(C=Q(this,gr).config).onSettled)==null?void 0:S.call(C,void 0,E,this.state.variables,this.state.context,this,r)),await((k=(_=this.options).onSettled)==null?void 0:k.call(_,void 0,E,t,this.state.context,r)),E}finally{ot(this,ja,zi).call(this,{type:"error",error:E})}}finally{Q(this,gr).runNext(this)}}},am=new WeakMap,ya=new WeakMap,gr=new WeakMap,Sl=new WeakMap,ja=new WeakSet,zi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Tn.batch(()=>{Q(this,ya).forEach(r=>{r.onMutationUpdate(t)}),Q(this,gr).notify({mutation:this,type:"updated",action:t})})},uO);function t$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ri,Vs,im,dO,sW=(dO=class extends xd{constructor(t={}){super();Fe(this,ri);Fe(this,Vs);Fe(this,im);this.config=t,ke(this,ri,new Set),ke(this,Vs,new Map),ke(this,im,0)}build(t,n,r){const a=new rW({client:t,mutationCache:this,mutationId:++Im(this,im)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){Q(this,ri).add(t);const n=rp(t);if(typeof n=="string"){const r=Q(this,Vs).get(n);r?r.push(t):Q(this,Vs).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Q(this,ri).delete(t)){const n=rp(t);if(typeof n=="string"){const r=Q(this,Vs).get(n);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&Q(this,Vs).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=rp(t);if(typeof n=="string"){const r=Q(this,Vs).get(n),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const n=rp(t);if(typeof n=="string"){const a=(r=Q(this,Vs).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tn.batch(()=>{Q(this,ri).forEach(t=>{this.notify({type:"removed",mutation:t})}),Q(this,ri).clear(),Q(this,Vs).clear()})}getAll(){return Array.from(Q(this,ri))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>B_(n,r))}findAll(t={}){return this.getAll().filter(n=>B_(t,n))}notify(t){Tn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Tn.batch(()=>Promise.all(t.map(n=>n.continue().catch(xr))))}},ri=new WeakMap,Vs=new WeakMap,im=new WeakMap,dO);function rp(e){var t;return(t=e.options.scope)==null?void 0:t.id}var si,so,Ir,ai,pi,Xp,Fb,hO,aW=(hO=class extends xd{constructor(n,r){super();Fe(this,pi);Fe(this,si);Fe(this,so);Fe(this,Ir);Fe(this,ai);ke(this,si,n),this.setOptions(r),this.bindMethods(),ot(this,pi,Xp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=Q(this,si).defaultMutationOptions(n),Og(this.options,r)||Q(this,si).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Q(this,Ir),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Fl(r.mutationKey)!==Fl(this.options.mutationKey)?this.reset():((a=Q(this,Ir))==null?void 0:a.state.status)==="pending"&&Q(this,Ir).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Q(this,Ir))==null||n.removeObserver(this)}onMutationUpdate(n){ot(this,pi,Xp).call(this),ot(this,pi,Fb).call(this,n)}getCurrentResult(){return Q(this,so)}reset(){var n;(n=Q(this,Ir))==null||n.removeObserver(this),ke(this,Ir,void 0),ot(this,pi,Xp).call(this),ot(this,pi,Fb).call(this)}mutate(n,r){var a;return ke(this,ai,r),(a=Q(this,Ir))==null||a.removeObserver(this),ke(this,Ir,Q(this,si).getMutationCache().build(Q(this,si),this.options)),Q(this,Ir).addObserver(this),Q(this,Ir).execute(n)}},si=new WeakMap,so=new WeakMap,Ir=new WeakMap,ai=new WeakMap,pi=new WeakSet,Xp=function(){var r;const n=((r=Q(this,Ir))==null?void 0:r.state)??t$();ke(this,so,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Fb=function(n){Tn.batch(()=>{var r,a,i,o,l,c,u,d;if(Q(this,ai)&&this.hasListeners()){const h=Q(this,so).variables,f=Q(this,so).context,m={client:Q(this,si),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((a=(r=Q(this,ai)).onSuccess)==null||a.call(r,n.data,h,f,m),(o=(i=Q(this,ai)).onSettled)==null||o.call(i,n.data,null,h,f,m)):(n==null?void 0:n.type)==="error"&&((c=(l=Q(this,ai)).onError)==null||c.call(l,n.error,h,f,m),(d=(u=Q(this,ai)).onSettled)==null||d.call(u,void 0,n.error,h,f,m))}this.listeners.forEach(h=>{h(Q(this,so))})})},hO),ba,fO,iW=(fO=class extends xd{constructor(t={}){super();Fe(this,ba);this.config=t,ke(this,ba,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??lS(a,n);let o=this.get(i);return o||(o=new J9({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Q(this,ba).has(t.queryHash)||(Q(this,ba).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Q(this,ba).get(t.queryHash);n&&(t.destroy(),n===t&&Q(this,ba).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Q(this,ba).get(t)}getAll(){return[...Q(this,ba).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>F_(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>F_(t,r)):n}notify(t){Tn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Tn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ba=new WeakMap,fO),cn,ao,io,pu,gu,oo,vu,xu,mO,oW=(mO=class{constructor(e={}){Fe(this,cn);Fe(this,ao);Fe(this,io);Fe(this,pu);Fe(this,gu);Fe(this,oo);Fe(this,vu);Fe(this,xu);ke(this,cn,e.queryCache||new iW),ke(this,ao,e.mutationCache||new sW),ke(this,io,e.defaultOptions||{}),ke(this,pu,new Map),ke(this,gu,new Map),ke(this,oo,0)}mount(){Im(this,oo)._++,Q(this,oo)===1&&(ke(this,vu,uS.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,cn).onFocus())})),ke(this,xu,Dg.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,cn).onOnline())})))}unmount(){var e,t;Im(this,oo)._--,Q(this,oo)===0&&((e=Q(this,vu))==null||e.call(this),ke(this,vu,void 0),(t=Q(this,xu))==null||t.call(this),ke(this,xu,void 0))}isFetching(e){return Q(this,cn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Q(this,ao).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,cn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Q(this,cn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(wo(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Q(this,cn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=Q(this,cn).get(r.queryHash),i=a==null?void 0:a.state.data,o=V9(t,i);if(o!==void 0)return Q(this,cn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Tn.batch(()=>Q(this,cn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,cn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Q(this,cn);Tn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Q(this,cn);return Tn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Tn.batch(()=>Q(this,cn).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(xr).catch(xr)}invalidateQueries(e,t={}){return Tn.batch(()=>(Q(this,cn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Tn.batch(()=>Q(this,cn).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(xr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Q(this,cn).build(this,t);return n.isStaleByTime(wo(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xr).catch(xr)}fetchInfiniteQuery(e){return e.behavior=H_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xr).catch(xr)}ensureInfiniteQueryData(e){return e.behavior=H_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dg.isOnline()?Q(this,ao).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,cn)}getMutationCache(){return Q(this,ao)}getDefaultOptions(){return Q(this,io)}setDefaultOptions(e){ke(this,io,e)}setQueryDefaults(e,t){Q(this,pu).set(Fl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Q(this,pu).values()],n={};return t.forEach(r=>{mf(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){Q(this,gu).set(Fl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Q(this,gu).values()],n={};return t.forEach(r=>{mf(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Q(this,io).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=lS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===cS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Q(this,io).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Q(this,cn).clear(),Q(this,ao).clear()}},cn=new WeakMap,ao=new WeakMap,io=new WeakMap,pu=new WeakMap,gu=new WeakMap,oo=new WeakMap,vu=new WeakMap,xu=new WeakMap,mO),n$=b.createContext(void 0),Lt=e=>{const t=b.useContext(n$);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},lW=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(n$.Provider,{value:e,children:t})),r$=b.createContext(!1),cW=()=>b.useContext(r$);r$.Provider;function uW(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var dW=b.createContext(uW()),hW=()=>b.useContext(dW),fW=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},mW=e=>{b.useEffect(()=>{e.clearReset()},[e])},pW=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||YI(n,[e.error,r])),gW=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},vW=(e,t)=>e.isLoading&&e.isFetching&&!t,xW=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,G_=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function yW(e,t,n){var h,f,m,g,p;const r=cW(),a=hW(),i=Lt(),o=i.defaultQueryOptions(e);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",gW(o),fW(o,a),mW(a);const l=!i.getQueryCache().get(o.queryHash),[c]=b.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(v=>{const x=d?c.subscribe(Tn.batchCalls(v)):xr;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(o)},[o,c]),xW(o,u))throw G_(o,c,a);if(pW({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((g=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,o,u),o.experimental_prefetchInRender&&!Ll&&vW(u,r)){const v=l?G_(o,c,a):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;v==null||v.catch(xr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function kr(e,t){return yW(e,Z9)}function Ht(e,t){const n=Lt(),[r]=b.useState(()=>new aW(n,e));b.useEffect(()=>{r.setOptions(e)},[r,e]);const a=b.useSyncExternalStore(b.useCallback(o=>r.subscribe(Tn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((o,l)=>{r.mutate(o,l).catch(xr)},[r]);if(a.error&&YI(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pf.apply(this,arguments)}var uo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(uo||(uo={}));const Y_="popstate";function jW(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return Bb("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Mg(a)}return wW(t,n,null,e)}function gn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function s$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bW(){return Math.random().toString(36).substr(2,8)}function Q_(e,t){return{usr:e.state,key:e.key,idx:t}}function Bb(e,t,n,r){return n===void 0&&(n=null),pf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yd(t):t,{state:n,key:t&&t.key||r||bW()})}function Mg(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function yd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function wW(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=uo.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(pf({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=uo.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:x})}function f(v,x){l=uo.Push;let y=Bb(p.location,v,x);u=d()+1;let j=Q_(y,u),w=p.createHref(y);try{o.pushState(j,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(w)}i&&c&&c({action:l,location:p.location,delta:1})}function m(v,x){l=uo.Replace;let y=Bb(p.location,v,x);u=d();let j=Q_(y,u),w=p.createHref(y);o.replaceState(j,"",w),i&&c&&c({action:l,location:p.location,delta:0})}function g(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof v=="string"?v:Mg(v);return y=y.replace(/ $/,"%20"),gn(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let p={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Y_,h),c=v,()=>{a.removeEventListener(Y_,h),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(v){return o.go(v)}};return p}var X_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(X_||(X_={}));function NW(e,t,n){return n===void 0&&(n="/"),SW(e,t,n,!1)}function SW(e,t,n,r){let a=typeof t=="string"?yd(t):t,i=hS(a.pathname||"/",n);if(i==null)return null;let o=a$(e);CW(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=$W(i);l=MW(o[c],u,r)}return l}function a$(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(gn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=No([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(gn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),a$(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:OW(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of i$(i.path))a(i,o,c)}),t}function i$(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=i$(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function CW(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:DW(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _W=/^:[\w-]+$/,PW=3,AW=2,kW=1,TW=10,EW=-2,J_=e=>e==="*";function OW(e,t){let n=e.split("/"),r=n.length;return n.some(J_)&&(r+=EW),t&&(r+=AW),n.filter(a=>!J_(a)).reduce((a,i)=>a+(_W.test(i)?PW:i===""?kW:TW),r)}function DW(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function MW(e,t,n){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Z_({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Z_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:No([i,h.pathname]),pathnameBase:BW(No([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=No([i,h.pathnameBase]))}return o}function Z_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=IW(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let p=l[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[h];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function IW(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),s$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function $W(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return s$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function RW(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?yd(e):e;return{pathname:n?n.startsWith("/")?n:LW(n,t):t,search:zW(r),hash:VW(a)}}function LW(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function _0(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FW(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function fS(e,t){let n=FW(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mS(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=yd(e):(a=pf({},e),gn(!a.pathname||!a.pathname.includes("?"),_0("?","pathname","search",a)),gn(!a.pathname||!a.pathname.includes("#"),_0("#","pathname","hash",a)),gn(!a.search||!a.search.includes("#"),_0("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=RW(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const No=e=>e.join("/").replace(/\/\/+/g,"/"),BW=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zW=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,VW=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const o$=["post","put","patch","delete"];new Set(o$);const UW=["get",...o$];new Set(UW);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gf.apply(this,arguments)}const pS=b.createContext(null),WW=b.createContext(null),$o=b.createContext(null),Nx=b.createContext(null),Ro=b.createContext({outlet:null,matches:[],isDataRoute:!1}),l$=b.createContext(null);function HW(e,t){let{relative:n}=t===void 0?{}:t;jd()||gn(!1);let{basename:r,navigator:a}=b.useContext($o),{hash:i,pathname:o,search:l}=u$(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:No([r,o])),a.createHref({pathname:c,search:l,hash:i})}function jd(){return b.useContext(Nx)!=null}function Lo(){return jd()||gn(!1),b.useContext(Nx).location}function c$(e){b.useContext($o).static||b.useLayoutEffect(e)}function bd(){let{isDataRoute:e}=b.useContext(Ro);return e?aH():KW()}function KW(){jd()||gn(!1);let e=b.useContext(pS),{basename:t,future:n,navigator:r}=b.useContext($o),{matches:a}=b.useContext(Ro),{pathname:i}=Lo(),o=JSON.stringify(fS(a,n.v7_relativeSplatPath)),l=b.useRef(!1);return c$(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=mS(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:No([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}function u$(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext($o),{matches:a}=b.useContext(Ro),{pathname:i}=Lo(),o=JSON.stringify(fS(a,r.v7_relativeSplatPath));return b.useMemo(()=>mS(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function GW(e,t){return YW(e,t)}function YW(e,t,n,r){jd()||gn(!1);let{navigator:a}=b.useContext($o),{matches:i}=b.useContext(Ro),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Lo(),d;if(t){var h;let v=typeof t=="string"?yd(t):t;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||gn(!1),d=v}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=NW(e,{pathname:m}),p=eH(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:No([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:No([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return t&&p?b.createElement(Nx.Provider,{value:{location:gf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:uo.Pop}},p):p}function QW(){let e=sH(),t=qW(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:a},n):null,null)}const XW=b.createElement(QW,null);class JW extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Ro.Provider,{value:this.props.routeContext},b.createElement(l$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZW(e){let{routeContext:t,match:n,children:r}=e,a=b.useContext(pS);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Ro.Provider,{value:t},r)}function eH(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||gn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,g=!1,p=null,v=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||XW,c&&(u<0&&f===0?(g=!0,v=null):u===f&&(g=!0,v=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,f+1)),y=()=>{let j;return m?j=p:g?j=v:h.route.Component?j=b.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=d,b.createElement(ZW,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:j})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(JW,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var d$=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(d$||{}),Ig=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ig||{});function tH(e){let t=b.useContext(pS);return t||gn(!1),t}function nH(e){let t=b.useContext(WW);return t||gn(!1),t}function rH(e){let t=b.useContext(Ro);return t||gn(!1),t}function h$(e){let t=rH(),n=t.matches[t.matches.length-1];return n.route.id||gn(!1),n.route.id}function sH(){var e;let t=b.useContext(l$),n=nH(Ig.UseRouteError),r=h$(Ig.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function aH(){let{router:e}=tH(d$.UseNavigateStable),t=h$(Ig.UseNavigateStable),n=b.useRef(!1);return c$(()=>{n.current=!0}),b.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,gf({fromRouteId:t},i)))},[e,t])}function iH(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function zb(e){let{to:t,replace:n,state:r,relative:a}=e;jd()||gn(!1);let{future:i,static:o}=b.useContext($o),{matches:l}=b.useContext(Ro),{pathname:c}=Lo(),u=bd(),d=mS(t,fS(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:a}),[u,h,a,n,r]),null}function hn(e){gn(!1)}function oH(e){let{basename:t="/",children:n=null,location:r,navigationType:a=uo.Pop,navigator:i,static:o=!1,future:l}=e;jd()&&gn(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:gf({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=yd(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:g="default"}=r,p=b.useMemo(()=>{let v=hS(d,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:m,key:g},navigationType:a}},[c,d,h,f,m,g,a]);return p==null?null:b.createElement($o.Provider,{value:u},b.createElement(Nx.Provider,{children:n,value:p}))}function lH(e){let{children:t,location:n}=e;return GW(Vb(t),n)}new Promise(()=>{});function Vb(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,a)=>{if(!b.isValidElement(r))return;let i=[...t,a];if(r.type===b.Fragment){n.push.apply(n,Vb(r.props.children,i));return}r.type!==hn&&gn(!1),!r.props.index||!r.props.children||gn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vb(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qb.apply(this,arguments)}function cH(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function uH(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dH(e,t){return e.button===0&&(!t||t==="_self")&&!uH(e)}function Ub(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function hH(e,t){let n=Ub(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const fH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mH="6";try{window.__reactRouterVersion=mH}catch{}const pH="startTransition",eP=XN[pH];function gH(e){let{basename:t,children:n,future:r,window:a}=e,i=b.useRef();i.current==null&&(i.current=jW({window:a,v5Compat:!0}));let o=i.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=b.useCallback(h=>{u&&eP?eP(()=>c(h)):c(h)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>iH(r),[r]),b.createElement(oH,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const vH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gs=b.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=cH(t,fH),{basename:m}=b.useContext($o),g,p=!1;if(typeof u=="string"&&xH.test(u)&&(g=u,vH))try{let j=new URL(window.location.href),w=u.startsWith("//")?new URL(j.protocol+u):new URL(u),N=hS(w.pathname,m);w.origin===j.origin&&N!=null?u=N+w.search+w.hash:p=!0}catch{}let v=HW(u,{relative:a}),x=yH(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:h});function y(j){r&&r(j),j.defaultPrevented||x(j)}return b.createElement("a",qb({},f,{href:g||v,onClick:p||i?r:y,ref:n,target:c}))});var tP;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tP||(tP={}));var nP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nP||(nP={}));function yH(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=bd(),u=Lo(),d=u$(e,{relative:o});return b.useCallback(h=>{if(dH(h,n)){h.preventDefault();let f=r!==void 0?r:Mg(u)===Mg(d);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,a,n,e,i,o,l])}function jH(e){let t=b.useRef(Ub(e)),n=b.useRef(!1),r=Lo(),a=b.useMemo(()=>hH(r.search,n.current?null:t.current),[r.search]),i=bd(),o=b.useCallback((l,c)=>{const u=Ub(typeof l=="function"?l(a):l);n.current=!0,i("?"+u,c)},[i,a]);return[a,o]}const bH=mm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=b.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?PV:"button";return s.jsx(o,{className:Ie(bH({variant:t,size:n,className:e})),ref:i,...a})});B.displayName="Button";const f$=b.createContext(void 0);function wH({children:e}){const[t,n]=b.useState(()=>{const a=localStorage.getItem("theme");return a||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});b.useEffect(()=>{localStorage.setItem("theme",t);const a=document.documentElement;t==="dark"?a.classList.add("dark"):a.classList.remove("dark")},[t]);const r=()=>{n(a=>a==="light"?"dark":"light")};return s.jsx(f$.Provider,{value:{theme:t,setTheme:n,toggleTheme:r},children:e})}function NH(){const e=b.useContext(f$);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function rP(){const{theme:e,toggleTheme:t}=NH();return s.jsxs(B,{variant:"outline",size:"sm",onClick:t,className:"h-9 w-9 p-0",title:e==="light"?"Activer le mode sombre":"Activer le mode clair",children:[e==="light"?s.jsx(Dq,{className:"h-4 w-4"}):s.jsx($q,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:e==="light"?"Activer le mode sombre":"Activer le mode clair"})]})}var SH=b.createContext(void 0);function Sx(e){const t=b.useContext(SH);return e||t||"ltr"}var P0=0;function gS(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sP()),document.body.insertAdjacentElement("beforeend",e[1]??sP()),P0++,()=>{P0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),P0--}},[])}function sP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var A0="focusScope.autoFocusOnMount",k0="focusScope.autoFocusOnUnmount",aP={bubbles:!1,cancelable:!0},CH="FocusScope",Cx=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=b.useState(null),u=_r(a),d=_r(i),h=b.useRef(null),f=vt(t,p=>c(p)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let p=function(j){if(m.paused||!l)return;const w=j.target;l.contains(w)?h.current=w:Vi(h.current,{select:!0})},v=function(j){if(m.paused||!l)return;const w=j.relatedTarget;w!==null&&(l.contains(w)||Vi(h.current,{select:!0}))},x=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&Vi(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),y.disconnect()}}},[r,l,m.paused]),b.useEffect(()=>{if(l){oP.add(m);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(A0,aP);l.addEventListener(A0,u),l.dispatchEvent(x),x.defaultPrevented||(_H(EH(m$(l)),{select:!0}),document.activeElement===p&&Vi(l))}return()=>{l.removeEventListener(A0,u),setTimeout(()=>{const x=new CustomEvent(k0,aP);l.addEventListener(k0,d),l.dispatchEvent(x),x.defaultPrevented||Vi(p??document.body,{select:!0}),l.removeEventListener(k0,d),oP.remove(m)},0)}}},[l,u,d,m]);const g=b.useCallback(p=>{if(!n&&!r||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(v&&x){const y=p.currentTarget,[j,w]=PH(y);j&&w?!p.shiftKey&&x===w?(p.preventDefault(),n&&Vi(j,{select:!0})):p.shiftKey&&x===j&&(p.preventDefault(),n&&Vi(w,{select:!0})):x===y&&p.preventDefault()}},[n,r,m.paused]);return s.jsx(Be.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});Cx.displayName=CH;function _H(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Vi(r,{select:t}),document.activeElement!==n)return}function PH(e){const t=m$(e),n=iP(t,e),r=iP(t.reverse(),e);return[n,r]}function m$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function iP(e,t){for(const n of e)if(!AH(n,{upTo:t}))return n}function AH(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kH(e){return e instanceof HTMLInputElement&&"select"in e}function Vi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&kH(e)&&t&&e.select()}}var oP=TH();function TH(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=lP(e,t),e.unshift(t)},remove(t){var n;e=lP(e,t),(n=e[0])==null||n.resume()}}}function lP(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function EH(e){return e.filter(t=>t.tagName!=="A")}var T0="rovingFocusGroup.onEntryFocus",OH={bubbles:!1,cancelable:!0},vm="RovingFocusGroup",[Wb,p$,DH]=fx(vm),[MH,_x]=hs(vm,[DH]),[IH,$H]=MH(vm),g$=b.forwardRef((e,t)=>s.jsx(Wb.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Wb.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(RH,{...e,ref:t})})}));g$.displayName=vm;var RH=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=b.useRef(null),m=vt(t,f),g=Sx(i),[p,v]=ji({prop:o,defaultProp:l??null,onChange:c,caller:vm}),[x,y]=b.useState(!1),j=_r(u),w=p$(n),N=b.useRef(!1),[C,S]=b.useState(0);return b.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(T0,j),()=>_.removeEventListener(T0,j)},[j]),s.jsx(IH,{scope:n,orientation:r,dir:g,loop:a,currentTabStopId:p,onItemFocus:b.useCallback(_=>v(_),[v]),onItemShiftTab:b.useCallback(()=>y(!0),[]),onFocusableItemAdd:b.useCallback(()=>S(_=>_+1),[]),onFocusableItemRemove:b.useCallback(()=>S(_=>_-1),[]),children:s.jsx(Be.div,{tabIndex:x||C===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:_e(e.onMouseDown,()=>{N.current=!0}),onFocus:_e(e.onFocus,_=>{const k=!N.current;if(_.target===_.currentTarget&&k&&!x){const E=new CustomEvent(T0,OH);if(_.currentTarget.dispatchEvent(E),!E.defaultPrevented){const P=w().filter(V=>V.focusable),A=P.find(V=>V.active),R=P.find(V=>V.id===p),K=[A,R,...P].filter(Boolean).map(V=>V.ref.current);y$(K,d)}}N.current=!1}),onBlur:_e(e.onBlur,()=>y(!1))})})}),v$="RovingFocusGroupItem",x$=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Ma(),u=i||c,d=$H(v$,n),h=d.currentTabStopId===u,f=p$(n),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return b.useEffect(()=>{if(r)return m(),()=>g()},[r,m,g]),s.jsx(Wb.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:s.jsx(Be.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:_e(e.onMouseDown,v=>{r?d.onItemFocus(u):v.preventDefault()}),onFocus:_e(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:_e(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=BH(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let j=f().filter(w=>w.focusable).map(w=>w.ref.current);if(x==="last")j.reverse();else if(x==="prev"||x==="next"){x==="prev"&&j.reverse();const w=j.indexOf(v.currentTarget);j=d.loop?zH(j,w+1):j.slice(w+1)}setTimeout(()=>y$(j))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:p!=null}):o})})});x$.displayName=v$;var LH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function FH(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function BH(e,t,n){const r=FH(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return LH[r]}function y$(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function zH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var j$=g$,b$=x$,VH=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},mc=new WeakMap,sp=new WeakMap,ap={},E0=0,w$=function(e){return e&&(e.host||w$(e.parentNode))},qH=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=w$(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},UH=function(e,t,n,r){var a=qH(t,Array.isArray(e)?e:[e]);ap[n]||(ap[n]=new WeakMap);var i=ap[n],o=[],l=new Set,c=new Set(a),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};a.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(r),g=m!==null&&m!=="false",p=(mc.get(f)||0)+1,v=(i.get(f)||0)+1;mc.set(f,p),i.set(f,v),o.push(f),p===1&&g&&sp.set(f,!0),v===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(t),l.clear(),E0++,function(){o.forEach(function(h){var f=mc.get(h)-1,m=i.get(h)-1;mc.set(h,f),i.set(h,m),f||(sp.has(h)||h.removeAttribute(r),sp.delete(h)),m||h.removeAttribute(n)}),E0--,E0||(mc=new WeakMap,mc=new WeakMap,sp=new WeakMap,ap={})}},vS=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=VH(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),UH(r,a,n,"aria-hidden")):function(){return null}},Na=function(){return Na=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Na.apply(this,arguments)};function N$(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function WH(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Jp="right-scroll-bar-position",Zp="width-before-scroll-bar",HH="with-scroll-bars-hidden",KH="--removed-body-scroll-bar-size";function O0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function GH(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var YH=typeof window<"u"?b.useLayoutEffect:b.useEffect,cP=new WeakMap;function QH(e,t){var n=GH(null,function(r){return e.forEach(function(a){return O0(a,r)})});return YH(function(){var r=cP.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||O0(l,null)}),i.forEach(function(l){a.has(l)||O0(l,o)})}cP.set(n,e)},[e]),n}function XH(e){return e}function JH(e,t){t===void 0&&(t=XH);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return a}function ZH(e){e===void 0&&(e={});var t=JH(null);return t.options=Na({async:!0,ssr:!1},e),t}var S$=function(e){var t=e.sideCar,n=N$(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Na({},n))};S$.isSideCarExport=!0;function eK(e,t){return e.useMedium(t),S$}var C$=ZH(),D0=function(){},Px=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:D0,onWheelCapture:D0,onTouchMoveCapture:D0}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,j=e.gapMode,w=N$(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,C=QH([n,t]),S=Na(Na({},w),a);return b.createElement(b.Fragment,null,d&&b.createElement(N,{sideCar:C$,removeScrollBar:u,shards:h,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:j}),o?b.cloneElement(b.Children.only(l),Na(Na({},S),{ref:C})):b.createElement(y,Na({},S,{className:c,ref:C}),l))});Px.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Px.classNames={fullWidth:Zp,zeroRight:Jp};var tK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nK(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=tK();return t&&e.setAttribute("nonce",t),e}function rK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function sK(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var aK=function(){var e=0,t=null;return{add:function(n){e==0&&(t=nK())&&(rK(t,n),sK(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},iK=function(){var e=aK();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},_$=function(){var e=iK(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},oK={left:0,top:0,right:0,gap:0},M0=function(e){return parseInt(e||"",10)||0},lK=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[M0(n),M0(r),M0(a)]},cK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return oK;var t=lK(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},uK=_$(),tu="data-scroll-locked",dK=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(HH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(tu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jp,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Zp,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Jp," .").concat(Jp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zp," .").concat(Zp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(tu,`] {
    `).concat(KH,": ").concat(l,`px;
  }
`)},uP=function(){var e=parseInt(document.body.getAttribute(tu)||"0",10);return isFinite(e)?e:0},hK=function(){b.useEffect(function(){return document.body.setAttribute(tu,(uP()+1).toString()),function(){var e=uP()-1;e<=0?document.body.removeAttribute(tu):document.body.setAttribute(tu,e.toString())}},[])},fK=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;hK();var i=b.useMemo(function(){return cK(a)},[a]);return b.createElement(uK,{styles:dK(i,!t,a,n?"":"!important")})},Hb=!1;if(typeof window<"u")try{var ip=Object.defineProperty({},"passive",{get:function(){return Hb=!0,!0}});window.addEventListener("test",ip,ip),window.removeEventListener("test",ip,ip)}catch{Hb=!1}var pc=Hb?{passive:!1}:!1,mK=function(e){return e.tagName==="TEXTAREA"},P$=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!mK(e)&&n[t]==="visible")},pK=function(e){return P$(e,"overflowY")},gK=function(e){return P$(e,"overflowX")},dP=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=A$(e,r);if(a){var i=k$(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},vK=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},xK=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},A$=function(e,t){return e==="v"?pK(t):gK(t)},k$=function(e,t){return e==="v"?vK(t):xK(t)},yK=function(e,t){return e==="h"&&t==="rtl"?-1:1},jK=function(e,t,n,r,a){var i=yK(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{if(!l)break;var m=k$(e,l),g=m[0],p=m[1],v=m[2],x=p-v-i*g;(g||x)&&A$(e,l)&&(h+=x,f+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!a)||!d&&(Math.abs(f)<1||!a))&&(u=!0),u},op=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hP=function(e){return[e.deltaX,e.deltaY]},fP=function(e){return e&&"current"in e?e.current:e},bK=function(e,t){return e[0]===t[0]&&e[1]===t[1]},wK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},NK=0,gc=[];function SK(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),a=b.useState(NK++)[0],i=b.useState(_$)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=WH([e.lockRef.current],(e.shards||[]).map(fP),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=op(p),y=n.current,j="deltaX"in p?p.deltaX:y[0]-x[0],w="deltaY"in p?p.deltaY:y[1]-x[1],N,C=p.target,S=Math.abs(j)>Math.abs(w)?"h":"v";if("touches"in p&&S==="h"&&C.type==="range")return!1;var _=dP(S,C);if(!_)return!0;if(_?N=S:(N=S==="v"?"h":"v",_=dP(S,C)),!_)return!1;if(!r.current&&"changedTouches"in p&&(j||w)&&(r.current=N),!N)return!0;var k=r.current||N;return jK(k,v,p,k==="h"?j:w,!0)},[]),c=b.useCallback(function(p){var v=p;if(!(!gc.length||gc[gc.length-1]!==i)){var x="deltaY"in v?hP(v):op(v),y=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&bK(N.delta,x)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var j=(o.current.shards||[]).map(fP).filter(Boolean).filter(function(N){return N.contains(v.target)}),w=j.length>0?l(v,j[0]):!o.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(p,v,x,y){var j={name:p,delta:v,target:x,should:y,shadowParent:CK(x)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(w){return w!==j})},1)},[]),d=b.useCallback(function(p){n.current=op(p),r.current=void 0},[]),h=b.useCallback(function(p){u(p.type,hP(p),p.target,l(p,e.lockRef.current))},[]),f=b.useCallback(function(p){u(p.type,op(p),p.target,l(p,e.lockRef.current))},[]);b.useEffect(function(){return gc.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,pc),document.addEventListener("touchmove",c,pc),document.addEventListener("touchstart",d,pc),function(){gc=gc.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,pc),document.removeEventListener("touchmove",c,pc),document.removeEventListener("touchstart",d,pc)}},[]);var m=e.removeScrollBar,g=e.inert;return b.createElement(b.Fragment,null,g?b.createElement(i,{styles:wK(a)}):null,m?b.createElement(fK,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function CK(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _K=eK(C$,SK);var Ax=b.forwardRef(function(e,t){return b.createElement(Px,Na({},e,{ref:t,sideCar:_K}))});Ax.classNames=Px.classNames;var Kb=["Enter"," "],PK=["ArrowDown","PageUp","Home"],T$=["ArrowUp","PageDown","End"],AK=[...PK,...T$],kK={ltr:[...Kb,"ArrowRight"],rtl:[...Kb,"ArrowLeft"]},TK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},xm="Menu",[vf,EK,OK]=fx(xm),[tc,E$]=hs(xm,[OK,vd,_x]),kx=vd(),O$=_x(),[DK,nc]=tc(xm),[MK,ym]=tc(xm),D$=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=kx(t),[c,u]=b.useState(null),d=b.useRef(!1),h=_r(i),f=Sx(a);return b.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(RI,{...l,children:s.jsx(DK,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:s.jsx(MK,{scope:t,onClose:b.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};D$.displayName=xm;var IK="MenuAnchor",xS=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=kx(n);return s.jsx(sS,{...a,...r,ref:t})});xS.displayName=IK;var yS="MenuPortal",[$K,M$]=tc(yS,{forceMount:void 0}),I$=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=nc(yS,t);return s.jsx($K,{scope:t,forceMount:n,children:s.jsx(Ts,{present:n||i.open,children:s.jsx(hm,{asChild:!0,container:a,children:r})})})};I$.displayName=yS;var Cs="MenuContent",[RK,jS]=tc(Cs),$$=b.forwardRef((e,t)=>{const n=M$(Cs,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=nc(Cs,e.__scopeMenu),o=ym(Cs,e.__scopeMenu);return s.jsx(vf.Provider,{scope:e.__scopeMenu,children:s.jsx(Ts,{present:r||i.open,children:s.jsx(vf.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(LK,{...a,ref:t}):s.jsx(FK,{...a,ref:t})})})})}),LK=b.forwardRef((e,t)=>{const n=nc(Cs,e.__scopeMenu),r=b.useRef(null),a=vt(t,r);return b.useEffect(()=>{const i=r.current;if(i)return vS(i)},[]),s.jsx(bS,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:_e(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),FK=b.forwardRef((e,t)=>{const n=nc(Cs,e.__scopeMenu);return s.jsx(bS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),BK=Il("MenuContent.ScrollLock"),bS=b.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:g,...p}=e,v=nc(Cs,n),x=ym(Cs,n),y=kx(n),j=O$(n),w=EK(n),[N,C]=b.useState(null),S=b.useRef(null),_=vt(t,S,v.onContentChange),k=b.useRef(0),E=b.useRef(""),P=b.useRef(0),A=b.useRef(null),R=b.useRef("right"),$=b.useRef(0),K=g?Ax:b.Fragment,V=g?{as:BK,allowPinchZoom:!0}:void 0,H=I=>{var le,re;const F=E.current+I,U=w().filter(se=>!se.disabled),J=document.activeElement,ae=(le=U.find(se=>se.ref.current===J))==null?void 0:le.textValue,ne=U.map(se=>se.textValue),me=JK(ne,F,ae),Ne=(re=U.find(se=>se.textValue===me))==null?void 0:re.ref.current;(function se(oe){E.current=oe,window.clearTimeout(k.current),oe!==""&&(k.current=window.setTimeout(()=>se(""),1e3))})(F),Ne&&setTimeout(()=>Ne.focus())};b.useEffect(()=>()=>window.clearTimeout(k.current),[]),gS();const T=b.useCallback(I=>{var U,J;return R.current===((U=A.current)==null?void 0:U.side)&&eG(I,(J=A.current)==null?void 0:J.area)},[]);return s.jsx(RK,{scope:n,searchRef:E,onItemEnter:b.useCallback(I=>{T(I)&&I.preventDefault()},[T]),onItemLeave:b.useCallback(I=>{var F;T(I)||((F=S.current)==null||F.focus(),C(null))},[T]),onTriggerLeave:b.useCallback(I=>{T(I)&&I.preventDefault()},[T]),pointerGraceTimerRef:P,onPointerGraceIntentChange:b.useCallback(I=>{A.current=I},[]),children:s.jsx(K,{...V,children:s.jsx(Cx,{asChild:!0,trapped:a,onMountAutoFocus:_e(i,I=>{var F;I.preventDefault(),(F=S.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(hd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:s.jsx(j$,{asChild:!0,...j,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:C,onEntryFocus:_e(c,I=>{x.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(aS,{role:"menu","aria-orientation":"vertical","data-state":J$(v.open),"data-radix-menu-content":"",dir:x.dir,...y,...p,ref:_,style:{outline:"none",...p.style},onKeyDown:_e(p.onKeyDown,I=>{const U=I.target.closest("[data-radix-menu-content]")===I.currentTarget,J=I.ctrlKey||I.altKey||I.metaKey,ae=I.key.length===1;U&&(I.key==="Tab"&&I.preventDefault(),!J&&ae&&H(I.key));const ne=S.current;if(I.target!==ne||!AK.includes(I.key))return;I.preventDefault();const Ne=w().filter(le=>!le.disabled).map(le=>le.ref.current);T$.includes(I.key)&&Ne.reverse(),QK(Ne)}),onBlur:_e(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(k.current),E.current="")}),onPointerMove:_e(e.onPointerMove,xf(I=>{const F=I.target,U=$.current!==I.clientX;if(I.currentTarget.contains(F)&&U){const J=I.clientX>$.current?"right":"left";R.current=J,$.current=I.clientX}}))})})})})})})});$$.displayName=Cs;var zK="MenuGroup",wS=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Be.div,{role:"group",...r,ref:t})});wS.displayName=zK;var VK="MenuLabel",R$=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Be.div,{...r,ref:t})});R$.displayName=VK;var $g="MenuItem",mP="menu.itemSelect",Tx=b.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=b.useRef(null),o=ym($g,e.__scopeMenu),l=jS($g,e.__scopeMenu),c=vt(t,i),u=b.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(mP,{bubbles:!0,cancelable:!0});h.addEventListener(mP,m=>r==null?void 0:r(m),{once:!0}),V1(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(L$,{...a,ref:c,disabled:n,onClick:_e(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:_e(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:_e(e.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||Kb.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Tx.displayName=$g;var L$=b.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=jS($g,n),l=O$(n),c=b.useRef(null),u=vt(t,c),[d,h]=b.useState(!1),[f,m]=b.useState("");return b.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[i.children]),s.jsx(vf.ItemSlot,{scope:n,disabled:r,textValue:a??f,children:s.jsx(b$,{asChild:!0,...l,focusable:!r,children:s.jsx(Be.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:_e(e.onPointerMove,xf(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:_e(e.onPointerLeave,xf(g=>o.onItemLeave(g))),onFocus:_e(e.onFocus,()=>h(!0)),onBlur:_e(e.onBlur,()=>h(!1))})})})}),qK="MenuCheckboxItem",F$=b.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx(U$,{scope:e.__scopeMenu,checked:n,children:s.jsx(Tx,{role:"menuitemcheckbox","aria-checked":Rg(n)?"mixed":n,...a,ref:t,"data-state":SS(n),onSelect:_e(a.onSelect,()=>r==null?void 0:r(Rg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});F$.displayName=qK;var B$="MenuRadioGroup",[UK,WK]=tc(B$,{value:void 0,onValueChange:()=>{}}),z$=b.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=_r(r);return s.jsx(UK,{scope:e.__scopeMenu,value:n,onValueChange:i,children:s.jsx(wS,{...a,ref:t})})});z$.displayName=B$;var V$="MenuRadioItem",q$=b.forwardRef((e,t)=>{const{value:n,...r}=e,a=WK(V$,e.__scopeMenu),i=n===a.value;return s.jsx(U$,{scope:e.__scopeMenu,checked:i,children:s.jsx(Tx,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":SS(i),onSelect:_e(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});q$.displayName=V$;var NS="MenuItemIndicator",[U$,HK]=tc(NS,{checked:!1}),W$=b.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=HK(NS,n);return s.jsx(Ts,{present:r||Rg(i.checked)||i.checked===!0,children:s.jsx(Be.span,{...a,ref:t,"data-state":SS(i.checked)})})});W$.displayName=NS;var KK="MenuSeparator",H$=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});H$.displayName=KK;var GK="MenuArrow",K$=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=kx(n);return s.jsx(iS,{...a,...r,ref:t})});K$.displayName=GK;var YK="MenuSub",[YAe,G$]=tc(YK),bh="MenuSubTrigger",Y$=b.forwardRef((e,t)=>{const n=nc(bh,e.__scopeMenu),r=ym(bh,e.__scopeMenu),a=G$(bh,e.__scopeMenu),i=jS(bh,e.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(xS,{asChild:!0,...u,children:s.jsx(L$,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":J$(n.open),...e,ref:hx(t,a.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:_e(e.onPointerMove,xf(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:_e(e.onPointerLeave,xf(h=>{var m,g;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const p=(g=n.content)==null?void 0:g.dataset.side,v=p==="right",x=v?-5:5,y=f[v?"left":"right"],j=f[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:y,y:f.top},{x:j,y:f.top},{x:j,y:f.bottom},{x:y,y:f.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:_e(e.onKeyDown,h=>{var m;const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||kK[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});Y$.displayName=bh;var Q$="MenuSubContent",X$=b.forwardRef((e,t)=>{const n=M$(Cs,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=nc(Cs,e.__scopeMenu),o=ym(Cs,e.__scopeMenu),l=G$(Q$,e.__scopeMenu),c=b.useRef(null),u=vt(t,c);return s.jsx(vf.Provider,{scope:e.__scopeMenu,children:s.jsx(Ts,{present:r||i.open,children:s.jsx(vf.Slot,{scope:e.__scopeMenu,children:s.jsx(bS,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:_e(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:_e(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:_e(e.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=TK[o.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});X$.displayName=Q$;function J$(e){return e?"open":"closed"}function Rg(e){return e==="indeterminate"}function SS(e){return Rg(e)?"indeterminate":e?"checked":"unchecked"}function QK(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function XK(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function JK(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=XK(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function ZK(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(a=!a)}return a}function eG(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return ZK(n,t)}function xf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var tG=D$,nG=xS,rG=I$,sG=$$,aG=wS,iG=R$,oG=Tx,lG=F$,cG=z$,uG=q$,dG=W$,hG=H$,fG=K$,mG=Y$,pG=X$,Ex="DropdownMenu",[gG,QAe]=hs(Ex,[E$]),Tr=E$(),[vG,Z$]=gG(Ex),e4=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Tr(t),u=b.useRef(null),[d,h]=ji({prop:a,defaultProp:i??!1,onChange:o,caller:Ex});return s.jsx(vG,{scope:t,triggerId:Ma(),triggerRef:u,contentId:Ma(),open:d,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(f=>!f),[h]),modal:l,children:s.jsx(tG,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};e4.displayName=Ex;var t4="DropdownMenuTrigger",n4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=Z$(t4,n),o=Tr(n);return s.jsx(nG,{asChild:!0,...o,children:s.jsx(Be.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:hx(t,i.triggerRef),onPointerDown:_e(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:_e(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});n4.displayName=t4;var xG="DropdownMenuPortal",r4=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Tr(t);return s.jsx(rG,{...r,...n})};r4.displayName=xG;var s4="DropdownMenuContent",a4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Z$(s4,n),i=Tr(n),o=b.useRef(!1);return s.jsx(sG,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:_e(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:_e(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});a4.displayName=s4;var yG="DropdownMenuGroup",jG=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Tr(n);return s.jsx(aG,{...a,...r,ref:t})});jG.displayName=yG;var bG="DropdownMenuLabel",i4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Tr(n);return s.jsx(iG,{...a,...r,ref:t})});i4.displayName=bG;var wG="DropdownMenuItem",o4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Tr(n);return s.jsx(oG,{...a,...r,ref:t})});o4.displayName=wG;var NG="DropdownMenuCheckboxItem",l4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Tr(n);return s.jsx(lG,{...a,...r,ref:t})});l4.displayName=NG;var SG="DropdownMenuRadioGroup",CG=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Tr(n);return s.jsx(cG,{...a,...r,ref:t})});CG.displayName=SG;var _G="DropdownMenuRadioItem",c4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Tr(n);return s.jsx(uG,{...a,...r,ref:t})});c4.displayName=_G;var PG="DropdownMenuItemIndicator",u4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Tr(n);return s.jsx(dG,{...a,...r,ref:t})});u4.displayName=PG;var AG="DropdownMenuSeparator",d4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Tr(n);return s.jsx(hG,{...a,...r,ref:t})});d4.displayName=AG;var kG="DropdownMenuArrow",TG=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Tr(n);return s.jsx(fG,{...a,...r,ref:t})});TG.displayName=kG;var EG="DropdownMenuSubTrigger",h4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Tr(n);return s.jsx(mG,{...a,...r,ref:t})});h4.displayName=EG;var OG="DropdownMenuSubContent",f4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Tr(n);return s.jsx(pG,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});f4.displayName=OG;var DG=e4,MG=n4,IG=r4,m4=a4,p4=i4,g4=o4,v4=l4,x4=c4,y4=u4,j4=d4,b4=h4,w4=f4;const $G=DG,RG=MG,LG=b.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(b4,{ref:a,className:Ie("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(Sq,{className:"ml-auto h-4 w-4"})]}));LG.displayName=b4.displayName;const FG=b.forwardRef(({className:e,...t},n)=>s.jsx(w4,{ref:n,className:Ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));FG.displayName=w4.displayName;const N4=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(IG,{children:s.jsx(m4,{ref:r,sideOffset:t,className:Ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));N4.displayName=m4.displayName;const Gb=b.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(g4,{ref:r,className:Ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Gb.displayName=g4.displayName;const BG=b.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs(v4,{ref:a,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(y4,{children:s.jsx(H1,{className:"h-4 w-4"})})}),t]}));BG.displayName=v4.displayName;const zG=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(x4,{ref:r,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(y4,{children:s.jsx(_q,{className:"h-2 w-2 fill-current"})})}),t]}));zG.displayName=x4.displayName;const S4=b.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(p4,{ref:r,className:Ie("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));S4.displayName=p4.displayName;const Yb=b.forwardRef(({className:e,...t},n)=>s.jsx(j4,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));Yb.displayName=j4.displayName;var C4={exports:{}},_4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=b;function VG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qG=typeof Object.is=="function"?Object.is:VG,UG=Ou.useState,WG=Ou.useEffect,HG=Ou.useLayoutEffect,KG=Ou.useDebugValue;function GG(e,t){var n=t(),r=UG({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return HG(function(){a.value=n,a.getSnapshot=t,I0(a)&&i({inst:a})},[e,n,t]),WG(function(){return I0(a)&&i({inst:a}),e(function(){I0(a)&&i({inst:a})})},[e]),KG(n),n}function I0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qG(e,n)}catch{return!0}}function YG(e,t){return t()}var QG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?YG:GG;_4.useSyncExternalStore=Ou.useSyncExternalStore!==void 0?Ou.useSyncExternalStore:QG;C4.exports=_4;var XG=C4.exports;function JG(){return XG.useSyncExternalStore(ZG,()=>!0,()=>!1)}function ZG(){return()=>{}}var CS="Avatar",[eY,XAe]=hs(CS),[tY,P4]=eY(CS),A4=b.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[a,i]=b.useState("idle");return s.jsx(tY,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Be.span,{...r,ref:t})})});A4.displayName=CS;var k4="AvatarImage",T4=b.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...i}=e,o=P4(k4,n),l=nY(r,i),c=_r(u=>{a(u),o.onImageLoadingStatusChange(u)});return Nn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Be.img,{...i,ref:t,src:r}):null});T4.displayName=k4;var E4="AvatarFallback",O4=b.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...a}=e,i=P4(E4,n),[o,l]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Be.span,{...a,ref:t}):null});O4.displayName=E4;function pP(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function nY(e,{referrerPolicy:t,crossOrigin:n}){const r=JG(),a=b.useRef(null),i=r?(a.current||(a.current=new window.Image),a.current):null,[o,l]=b.useState(()=>pP(i,e));return Nn(()=>{l(pP(i,e))},[i,e]),Nn(()=>{const c=h=>()=>{l(h)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,t]),o}var D4=A4,M4=T4,I4=O4;const Jn=b.forwardRef(({className:e,...t},n)=>s.jsx(D4,{ref:n,className:Ie("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Jn.displayName=D4.displayName;const Du=b.forwardRef(({className:e,...t},n)=>s.jsx(M4,{ref:n,className:Ie("aspect-square h-full w-full",e),...t}));Du.displayName=M4.displayName;const Zn=b.forwardRef(({className:e,...t},n)=>s.jsx(I4,{ref:n,className:Ie("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Zn.displayName=I4.displayName;const rY="modulepreload",sY=function(e){return"/"+e},gP={},jm=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=sY(c),c in gP)return;gP[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":rY,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},aY=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>jm(async()=>{const{default:r}=await Promise.resolve().then(()=>wd);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class _S extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class iY extends _S{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class vP extends _S{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xP extends _S{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qb||(Qb={}));var oY=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class lY{constructor(t,{headers:n={},customFetch:r,region:a=Qb.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=aY(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return oY(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(p=>{throw new iY(p)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new vP(h);if(!h.ok)throw new xP(h);let m=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield h.json():m==="application/octet-stream"?g=yield h.blob():m==="text/event-stream"?g=h:m==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof xP||a instanceof vP?a.context:void 0}}})}}var Fr={},PS={},Ox={},bm={},Dx={},Mx={},cY=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mu=cY();const uY=Mu.fetch,$4=Mu.fetch.bind(Mu),R4=Mu.Headers,dY=Mu.Request,hY=Mu.Response,wd=Object.freeze(Object.defineProperty({__proto__:null,Headers:R4,Request:dY,Response:hY,default:$4,fetch:uY},Symbol.toStringTag,{value:"Module"})),fY=G8(wd);var Ix={};Object.defineProperty(Ix,"__esModule",{value:!0});let mY=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ix.default=mY;var L4=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mx,"__esModule",{value:!0});const pY=L4(fY),gY=L4(Ix);let vY=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=pY.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,h=null,f=null,m=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=y:h=JSON.parse(y))}const v=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(h=[],d=null,m=200,g="OK")}catch{i.status===404&&v===""?(m=204,g="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,g="OK"),d&&this.shouldThrowOnError)throw new gY.default(d)}return{error:d,data:h,count:f,status:m,statusText:g}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};Mx.default=vY;var xY=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dx,"__esModule",{value:!0});const yY=xY(Mx);let jY=class extends yY.default{select(t){let n=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:a=r}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Dx.default=jY;var bY=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bm,"__esModule",{value:!0});const wY=bY(Dx);let NY=class extends wY.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};bm.default=NY;var SY=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ox,"__esModule",{value:!0});const th=SY(bm);let CY=class{constructor(t,{headers:n={},schema:r,fetch:a}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=a}select(t,{head:n=!1,count:r}={}){const a=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new th.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var a;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new th.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new th.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const a="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new th.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new th.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ox.default=CY;var F4=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PS,"__esModule",{value:!0});const _Y=F4(Ox),PY=F4(bm);let AY=class B4{constructor(t,{headers:n={},schema:r,fetch:a}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new _Y.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new B4(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||a?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new PY.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};PS.default=AY;var Nd=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.PostgrestError=Fr.PostgrestBuilder=Fr.PostgrestTransformBuilder=Fr.PostgrestFilterBuilder=Fr.PostgrestQueryBuilder=Fr.PostgrestClient=void 0;const z4=Nd(PS);Fr.PostgrestClient=z4.default;const V4=Nd(Ox);Fr.PostgrestQueryBuilder=V4.default;const q4=Nd(bm);Fr.PostgrestFilterBuilder=q4.default;const U4=Nd(Dx);Fr.PostgrestTransformBuilder=U4.default;const W4=Nd(Mx);Fr.PostgrestBuilder=W4.default;const H4=Nd(Ix);Fr.PostgrestError=H4.default;var kY=Fr.default={PostgrestClient:z4.default,PostgrestQueryBuilder:V4.default,PostgrestFilterBuilder:q4.default,PostgrestTransformBuilder:U4.default,PostgrestBuilder:W4.default,PostgrestError:H4.default};const{PostgrestClient:TY,PostgrestQueryBuilder:rke,PostgrestFilterBuilder:ske,PostgrestTransformBuilder:ake,PostgrestBuilder:ike,PostgrestError:oke}=kY;class EY{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const OY="2.15.5",DY=`realtime-js/${OY}`,MY="1.0.0",Xb=1e4,IY=1e3,$Y=100;var $h;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($h||($h={}));var Pn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pn||(Pn={}));var Us;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Us||(Us={}));var Jb;(function(e){e.websocket="websocket"})(Jb||(Jb={}));var sl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(sl||(sl={}));class RY{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+a));o=o+a;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class K4{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(zt||(zt={}));const yP=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=LY(o,e,t,a),i),{})},LY=(e,t,n,r)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=n[e];return i&&!r.includes(i)?G4(i,o):Zb(o)},G4=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return VY(t,n)}switch(e){case zt.bool:return FY(t);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return BY(t);case zt.json:case zt.jsonb:return zY(t);case zt.timestamp:return qY(t);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return Zb(t);default:return Zb(t)}},Zb=e=>e,FY=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},BY=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zY=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},VY=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>G4(t,l))}return e},qY=e=>typeof e=="string"?e.replace(" ","T"):e,Y4=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class $0{constructor(t,n,r={},a=Xb){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var jP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(jP||(jP={}));class Rh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rh.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Rh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Rh.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(v=>v.presence_ref),m=h.map(v=>v.presence_ref),g=d.filter(v=>m.indexOf(v.presence_ref)<0),p=h.filter(v=>f.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,a)}static syncDiff(t,n,r,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(bP||(bP={}));var Lh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lh||(Lh={}));var Za;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Za||(Za={}));class AS{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $0(this,Us.join,this.params,this.timeout),this.rejoinTimer=new K4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Us.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Rh(this),this.broadcastEndpointURL=Y4(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Lh.PRESENCE]&&this.bindings[Lh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Za.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Za.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(Za.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,x=[];for(let y=0;y<v;y++){const j=p[y],{filter:{event:w,schema:N,table:C,filter:S}}=j,_=m&&m[y];if(_&&_.event===w&&_.schema===N&&_.table===C&&_.filter===S)x.push(Object.assign(Object.assign({},j),{id:_.id}));else{this.unsubscribe(),this.state=Pn.errored,t==null||t(Za.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Za.SUBSCRIBED);return}}).receive("error",m=>{this.state=Pn.errored,t==null||t(Za.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Za.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Pn.joined&&t===Lh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Us.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new $0(this,Us.leave,{},t),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new $0(this,t,n,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$Y){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Us;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,v,x,y,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const w=m.id,N=(g=m.filter)===null||g===void 0?void 0:g.event;return w&&((p=n.ids)===null||p===void 0?void 0:p.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const w=(y=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:p,table:v,commit_timestamp:x,type:y,errors:j}=g;f=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:x,eventType:y,new:{},old:{},errors:j}),this._getPayloadRecords(g))}m.callback(f,r)})}_isClosed(){return this.state===Pn.closed}_isJoined(){return this.state===Pn.joined}_isJoining(){return this.state===Pn.joining}_isLeaving(){return this.state===Pn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&AS.isEqual(a.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Us.close,{},t)}_onError(t){this._on(Us.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=yP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=yP(t.columns,t.old_record)),n}}const R0=()=>{},lp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},UY=[1e3,2e3,5e3,1e4],WY=1e4,HY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KY{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xb,this.transport=null,this.heartbeatIntervalMs=lp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=R0,this.ref=0,this.reconnectTimer=null,this.logger=R0,this.conn=null,this.sendBuffer=[],this.serializer=new RY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>jm(async()=>{const{default:l}=await Promise.resolve().then(()=>wd);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Jb.websocket}`,this.httpEndpoint=Y4(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=EY.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:MY}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $h.connecting:return sl.Connecting;case $h.open:return sl.Open;case $h.closing:return sl.Closing;default:return sl.Closed}}isConnected(){return this.connectionState()===sl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===r);if(a)return a;{const i=new AS(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(IY,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},lp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Us.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([HY],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const a={access_token:n,version:DY};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(Us.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new K4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,a,i,o,l,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Xb,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:lp.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:R0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>UY[h-1]||WY,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class kS extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function An(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class GY extends kS{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ew extends kS{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var YY=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Q4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>jm(async()=>{const{default:r}=await Promise.resolve().then(()=>wd);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},QY=()=>YY(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield jm(()=>Promise.resolve().then(()=>wd),void 0)).Response:Response}),tw=e=>{if(Array.isArray(e))return e.map(n=>tw(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=tw(r)}),t},XY=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var rc=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const L0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JY=(e,t,n)=>rc(void 0,void 0,void 0,function*(){const r=yield QY();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new GY(L0(a),i,o))}).catch(a=>{t(new ew(L0(a),a))}):t(new ew(L0(e),e))}),ZY=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?a:(XY(r)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),n))};function wm(e,t,n,r,a,i){return rc(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,ZY(t,r,a,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>JY(c,l,r))})})}function Lg(e,t,n,r){return rc(this,void 0,void 0,function*(){return wm(e,"GET",t,n,r)})}function xa(e,t,n,r,a){return rc(this,void 0,void 0,function*(){return wm(e,"POST",t,r,a,n)})}function nw(e,t,n,r,a){return rc(this,void 0,void 0,function*(){return wm(e,"PUT",t,r,a,n)})}function eQ(e,t,n,r){return rc(this,void 0,void 0,function*(){return wm(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function X4(e,t,n,r,a){return rc(this,void 0,void 0,function*(){return wm(e,"DELETE",t,r,a,n)})}var hr=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const tQ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nQ{constructor(t,n={},r,a){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Q4(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,a){return hr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},wP),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(t=="PUT"?nw:xa)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}upload(t,n,r){return hr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return hr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:wP.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield nw(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(An(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return hr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield xa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new kS("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}update(t,n,r){return hr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return hr(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(An(a))return{data:null,error:a};throw a}})}copy(t,n,r){return hr(this,void 0,void 0,function*(){try{return{data:{path:(yield xa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(An(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return hr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield xa(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(An(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return hr(this,void 0,void 0,function*(){try{const a=yield xa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(An(a))return{data:null,error:a};throw a}})}download(t,n){return hr(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Lg(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(An(l))return{data:null,error:l};throw l}})}info(t){return hr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Lg(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:tw(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}exists(t){return hr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield eQ(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r)&&r instanceof ew){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return hr(this,void 0,void 0,function*(){try{return{data:yield X4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}list(t,n,r){return hr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},tQ),n),{prefix:t||""});return{data:yield xa(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(An(a))return{data:null,error:a};throw a}})}listV2(t,n){return hr(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield xa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const rQ="2.12.1",sQ={"X-Client-Info":`storage-js/${rQ}`};var vc=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class aQ{constructor(t,n={},r,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},sQ),n),this.fetch=Q4(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return vc(this,void 0,void 0,function*(){try{return{data:yield Lg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(An(t))return{data:null,error:t};throw t}})}getBucket(t){return vc(this,void 0,void 0,function*(){try{return{data:yield Lg(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return vc(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return vc(this,void 0,void 0,function*(){try{return{data:yield nw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}emptyBucket(t){return vc(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}deleteBucket(t){return vc(this,void 0,void 0,function*(){try{return{data:yield X4(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}}class iQ extends aQ{constructor(t,n={},r,a){super(t,n,r,a)}from(t){return new nQ(this.url,this.headers,t,this.fetch)}}const oQ="2.57.4";let wh="";typeof Deno<"u"?wh="deno":typeof document<"u"?wh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wh="react-native":wh="node";const lQ={"X-Client-Info":`supabase-js-${wh}/${oQ}`},cQ={headers:lQ},uQ={schema:"public"},dQ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hQ={};var fQ=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const mQ=e=>{let t;return e?t=e:typeof fetch>"u"?t=$4:t=fetch,(...n)=>t(...n)},pQ=()=>typeof Headers>"u"?R4:Headers,gQ=(e,t,n)=>{const r=mQ(n),a=pQ();return(i,o)=>fQ(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var vQ=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function xQ(e){return e.endsWith("/")?e:e+"/"}function yQ(e,t){var n,r;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>vQ(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function jQ(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xQ(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const J4="2.71.1",Ac=30*1e3,rw=3,F0=rw*Ac,bQ="http://localhost:9999",wQ="supabase.auth.token",NQ={"X-Client-Info":`gotrue-js/${J4}`},sw="X-Supabase-Api-Version",Z4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SQ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CQ=10*60*1e3;class TS extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function rt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _Q extends TS{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function PQ(e){return rt(e)&&e.name==="AuthApiError"}class eR extends TS{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Fo extends TS{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class qi extends Fo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AQ(e){return rt(e)&&e.name==="AuthSessionMissingError"}class cp extends Fo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class up extends Fo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class dp extends Fo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kQ(e){return rt(e)&&e.name==="AuthImplicitGrantRedirectError"}class NP extends Fo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class aw extends Fo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function B0(e){return rt(e)&&e.name==="AuthRetryableFetchError"}class SP extends Fo{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class iw extends Fo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),CP=` 	
\r=`.split(""),TQ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<CP.length;t+=1)e[CP[t].charCodeAt(0)]=-2;for(let t=0;t<Fg.length;t+=1)e[Fg[t].charCodeAt(0)]=t;return e})();function _P(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Fg[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Fg[r]),t.queuedBits-=6}}function tR(e,t,n){const r=TQ[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function PP(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{DQ(o,r,n)};for(let o=0;o<e.length;o+=1)tR(e.charCodeAt(o),a,i);return t.join("")}function EQ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function OQ(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}EQ(r,t)}}function DQ(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function MQ(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)tR(e.charCodeAt(a),n,r);return new Uint8Array(t)}function IQ(e){const t=[];return OQ(e,n=>t.push(n)),new Uint8Array(t)}function $Q(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};return e.forEach(a=>_P(a,n,r)),_P(null,n,r),t.join("")}function RQ(e){return Math.round(Date.now()/1e3)+e}function LQ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ls=()=>typeof window<"u"&&typeof document<"u",Ho={tested:!1,writable:!1},nR=()=>{if(!Ls())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ho.tested)return Ho.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ho.tested=!0,Ho.writable=!0}catch{Ho.tested=!0,Ho.writable=!1}return Ho.writable};function FQ(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const rR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>jm(async()=>{const{default:r}=await Promise.resolve().then(()=>wd);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},BQ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",kc=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ko=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Fi=async(e,t)=>{await e.removeItem(t)};class $x{constructor(){this.promise=new $x.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}$x.promiseConstructor=Promise;function z0(e){const t=e.split(".");if(t.length!==3)throw new iw("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!SQ.test(t[r]))throw new iw("JWT not in base64url format");return{header:JSON.parse(PP(t[0])),payload:JSON.parse(PP(t[1])),signature:MQ(t[2]),raw:{header:t[0],payload:t[1]}}}async function zQ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function VQ(e,t){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function qQ(e){return("0"+e.toString(16)).substr(-2)}function UQ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,qQ).join("")}async function WQ(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function HQ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await WQ(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xc(e,t,n=!1){const r=UQ();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await kc(e,`${t}-code-verifier`,a);const i=await HQ(r);return[i,r===i?"plain":"s256"]}const KQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GQ(e){const t=e.headers.get(sw);if(!t||!t.match(KQ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function YQ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function QQ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const XQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yc(e){if(!XQ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function V0(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function AP(e){return JSON.parse(JSON.stringify(e))}var JQ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Zo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZQ=[502,503,504];async function kP(e){var t;if(!BQ(e))throw new aw(Zo(e),0);if(ZQ.includes(e.status))throw new aw(Zo(e),e.status);let n;try{n=await e.json()}catch(i){throw new eR(Zo(i),i)}let r;const a=GQ(e);if(a&&a.getTime()>=Z4["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new SP(Zo(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new qi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new SP(Zo(n),e.status,n.weak_password.reasons);throw new _Q(Zo(n),e.status||500,r)}const eX=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function ht(e,t,n,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[sw]||(i[sw]=Z4["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await tX(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function tX(e,t,n,r,a,i){const o=eX(t,r,a,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new aw(Zo(c),0)}if(l.ok||await kP(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await kP(c)}}function Xa(e){var t;let n=null;aX(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=RQ(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function TP(e){const t=Xa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nX(e){return{data:e,error:null}}function rX(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,o=JQ(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function sX(e){return e}function aX(e){return e.access_token&&e.refresh_token&&e.expires_in}const q0=["global","local","others"];var iX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class oX{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=rR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=q0[0]){if(q0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${q0.join(", ")}`);try{return await ht(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ht(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xi})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=iX(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await ht(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:rX,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(rt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xi})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ht(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:sX});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(rt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){yc(t);try{return await ht(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xi})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){yc(t);try{return await ht(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Xi})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){yc(t);try{return await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xi})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){yc(t.userId);try{const{data:n,error:r}=await ht(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){yc(t.userId),yc(t.id);try{return{data:await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}}function EP(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function lX(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const jc={debug:!!(globalThis&&nR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cX extends sR{}async function uX(e,t,n){jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),jc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cX(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(jc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}lX();const dX={url:bQ,storageKey:wQ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NQ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function OP(e,t,n){return await n()}const bc={};class yf{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yf.nextInstanceID,yf.nextInstanceID+=1,this.instanceID>0&&Ls()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},dX),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new oX({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=rR(a.fetch),this.lock=a.lock||OP,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ls()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=uX:this.lock=OP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:nR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=EP(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=EP(this.memoryStorage)),Ls()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=bc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){bc[this.storageKey]=Object.assign(Object.assign({},bc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=bc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){bc[this.storageKey]=Object.assign(Object.assign({},bc[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${J4}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=FQ(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ls()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),kQ(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return rt(n)?{error:n}:{error:new eR("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Xa}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,a;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await xc(this.storage,this.storageKey)),i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},xform:Xa})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Xa})}else throw new up("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:TP})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:TP})}else throw new up("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new cp}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,a,i,o,l,c,u,d,h,f,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:v,wallet:x,statement:y,options:j}=t;let w;if(Ls())if(typeof x=="object")w=x;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))w=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const N=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const C=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),y?{statement:y}:null));let S;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")S=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)S=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),p=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(r=j==null?void 0:j.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=j==null?void 0:j.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((h=(d=j==null?void 0:j.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...j.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const C=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=C}}try{const{data:v,error:x}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:$Q(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Xa});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new cp}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(rt(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const n=await Ko(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:o}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Xa});if(await Fi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new cp}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(rt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:i,nonce:o}=t,l=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xa}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new cp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await xc(this.storage,this.storageKey));const{error:h}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new up("You must provide either an email or phone number.")}catch(l){if(rt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let a,i;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await ht(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Xa});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(rt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await xc(this.storage,this.storageKey)),await ht(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:nX})}catch(i){if(rt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new qi;const{error:a}=await ht(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(rt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:i}=t,{error:o}=await ht(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:a,options:i}=t,{data:o,error:l}=await ht(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new up("You must provide either an email or phone number and a type")}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ko(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<F0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Ko(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=V0()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xi}):await this._useSession(async n=>{var r,a,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qi}:await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Xi})})}catch(n){if(rt(n))return AQ(n)&&(await this._removeSession(),await Fi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new qi;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await xc(this.storage,this.storageKey));const{data:u,error:d}=await ht(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Xi});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new qi;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:o}=z0(t.access_token);if(o.exp&&(r=o.exp,a=r<=n),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(rt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new qi;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ls())throw new dp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new dp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new NP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new NP("No code detected.");const{data:y,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new dp("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Ac&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:p,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(rt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ko(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{error:i};const o=(r=a.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(PQ(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Fi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=LQ(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await xc(this.storage,this.storageKey,!0));try{return await ht(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(rt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ht(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Ls()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(rt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)throw o;return await ht(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await VQ(async a=>(a>0&&await zQ(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ht(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xa})),(a,i)=>{const o=200*Math.pow(2,a);return i&&B0(i)&&Date.now()+o-r<Ac})}catch(r){if(this._debug(n,"error",r),rt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ls()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await Ko(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ko(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await kc(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:V0()}else if(a&&!a.user&&!a.user){const o=await Ko(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Fi(this.storage,this.storageKey+"-user"),await kc(this.storage,this.storageKey,a)):a.user=V0()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const i=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<F0;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${F0}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),B0(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new qi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new $x;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new qi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),rt(i)){const o={session:null,error:i};return B0(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await kc(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const i=AP(a);await kc(this.storage,this.storageKey,i)}else{const a=AP(n);await kc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Fi(this.storage,this.storageKey),await Fi(this.storage,this.storageKey+"-code-verifier"),await Fi(this.storage,this.storageKey+"-user"),this.userStorage&&await Fi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ls()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ac);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/Ac);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ac}ms, refresh threshold is ${rw} ticks`),a<=rw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ls()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await xc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await ht(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ht(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(rt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(rt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],a=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=z0(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+CQ>a)return r;const{data:i,error:o}=await ht(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};r=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=z0(r);n!=null&&n.allowExpired||YQ(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=QQ(a.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,IQ(`${l}.${c}`)))throw new iw("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}}yf.nextInstanceID=0;const hX=yf;class fX extends hX{constructor(t){super(t)}}var mX=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class pX{constructor(t,n,r){var a,i,o;this.supabaseUrl=t,this.supabaseKey=n;const l=jQ(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:uQ,realtime:hQ,auth:Object.assign(Object.assign({},dQ),{storageKey:c}),global:cQ},d=yQ(r??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=gQ(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new TY(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new iQ(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new lY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return mX(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fX({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new KY(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gX=(e,t,n)=>new pX(e,t,n);function vX(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}vX()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aR="https://fqmeqckchbppabetefuk.supabase.co",xX="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxbWVxY2tjaGJwcGFiZXRlZnVrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY2NzUzODYsImV4cCI6MjA3MjI1MTM4Nn0.MkyVvQVmqUXShrHXHTpHib0Dyq39ZB47KhGZZgBlF-o",De=gX(aR,xX,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),iR=async()=>{const{data:{user:e},error:t}=await De.auth.getUser();if(t)throw t;return e},Rx=async()=>{const e=await iR();if(!e)return null;const{data:t,error:n}=await De.from("user_profiles").select("*").eq("id",e.id).single();if(n)throw n;return t},yX=async(e,t,n,r,a="assistant")=>{const{data:i,error:o}=await De.auth.signUp({email:e,password:t,options:{data:{username:n,full_name:r,role:a}}});if(o)throw o;return i},jX=async()=>{const{error:e}=await De.auth.signOut();if(e)throw e;try{localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("sb-"+aR.split("//")[1].split(".")[0]+"-auth-token"),document.cookie.split(";").forEach(t=>{document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")})}catch(t){console.warn("Error clearing auth storage:",t)}},bX=async e=>{const t=await iR();if(!t)throw new Error("No authenticated user");const{data:n,error:r}=await De.from("user_profiles").select("*").eq("id",t.id).single();n||await oR(t);const a=Object.entries({...e,updated_at:new Date().toISOString()}).reduce((l,[c,u])=>(u!=null&&u!==""&&(l[c]=u),l),{}),{data:i,error:o}=await De.from("user_profiles").update(a).eq("id",t.id).select().single();if(o){const l=t.user_metadata||{},c=l.full_name||l.name||"",u=(n==null?void 0:n.username)||l.username||t.email.split("@")[0],d=(n==null?void 0:n.role)||l.role||"assistant",h={id:t.id,email:t.email,username:u,full_name:c,role:d,...a},{data:f,error:m}=await De.from("user_profiles").upsert(h).select().single();if(m)throw new Error(`Profile update failed: ${m.message}`);return f}return i},oR=async e=>{const t=await Rx();if(t)return t;const n=e.user_metadata||{},r=n.full_name||n.name||"",a=n.username||e.email.split("@")[0],i=n.role||"assistant",{data:o,error:l}=await De.from("user_profiles").insert({id:e.id,email:e.email,username:a,full_name:r,role:i}).select().single();if(l)throw l;return o},wX=async e=>{const{data:t,error:n}=await De.auth.resetPasswordForEmail(e,{redirectTo:"http://localhost:8000/dashboard/reset-password"});if(n)throw n;return t},Xs={all:["auth"],session:()=>[...Xs.all,"session"]},NX=async()=>{try{const{data:{session:e},error:t}=await De.auth.getSession();if(t||!(e!=null&&e.user))return null;let n=null;try{n=await Rx()}catch{try{n=await oR(e.user)}catch(a){console.error("Failed to create user profile:",a);const i=e.user.user_metadata||{},o=i.full_name||i.name||"",l=i.username||e.user.email.split("@")[0];n={id:e.user.id,email:e.user.email,username:l,full_name:o,role:"assistant",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),avatar_url:i.avatar_url||i.picture||null}}}return n?{id:e.user.id,email:e.user.email,profile:n}:null}catch{return null}},SX=()=>kr({queryKey:Xs.session(),queryFn:NX,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:"always",refetchOnReconnect:!1,networkMode:"offlineFirst"}),CX=()=>{const e=Lt();return Ht({mutationFn:async({email:t,password:n})=>{const{data:r,error:a}=await De.auth.signInWithPassword({email:t,password:n});if(a){const o={"Invalid login credentials":"Email ou mot de passe incorrect","Email not confirmed":"Veuillez confirmer votre email avant de vous connecter","Too many requests":"Trop de tentatives de connexion. Veuillez réessayer plus tard"}[a.message]||a.message;throw new Error(o)}if(!r.user||!r.session)throw new Error("Échec de connexion - session invalide");return r.user},onSuccess:async()=>{await new Promise(t=>setTimeout(t,100)),e.refetchQueries({queryKey:Xs.session()})},onError:()=>{e.setQueryData(Xs.session(),null)}})},_X=()=>{const e=Lt();return Ht({mutationFn:async()=>{await jX()},onSuccess:()=>{e.setQueryData(Xs.session(),null),e.removeQueries({queryKey:Xs.session()})}})},PX=()=>{const e=Lt();return Ht({mutationFn:async()=>{const t=await Rx();if(!t)throw new Error("Could not refresh profile");return t},onSuccess:()=>{e.invalidateQueries({queryKey:Xs.session()})}})},AX=()=>Ht({mutationFn:async()=>{const{data:e,error:t}=await De.auth.signInWithOAuth({provider:"google",options:{redirectTo:"http://localhost:8000/dashboard/dashboard"}});if(t)throw t;return e}}),kX=()=>Ht({mutationFn:async e=>{await wX(e)}}),lR=b.createContext(void 0);function TX({children:e}){const{data:t,isLoading:n,error:r}=SX(),a=CX(),i=_X(),o=PX(),l=Lt(),[c,u]=b.useState(!1),d=b.useRef(!1);b.useEffect(()=>{if(d.current)return;d.current=!0;const{data:{subscription:x}}=De.auth.onAuthStateChange((j,w)=>{j==="SIGNED_OUT"?(l.setQueryData(Xs.session(),null),l.removeQueries({queryKey:Xs.session()})):j==="TOKEN_REFRESHED"&&w&&l.invalidateQueries({queryKey:Xs.session()}),c||u(!0)}),y=setTimeout(()=>{c||u(!0)},2e3);return()=>{x.unsubscribe(),clearTimeout(y),d.current=!1}},[l,c]);const h=async(x,y)=>{try{return await a.mutateAsync({email:x,password:y}),!0}catch(j){return console.error("Login error:",j),!1}},f=async()=>{try{await i.mutateAsync()}catch(x){console.error("Logout error:",x),l.setQueryData(Xs.session(),null)}},m=async()=>{await o.mutateAsync()},g=!c||n&&!r&&t===void 0,p=a.isPending||i.isPending,v={user:t||null,isAuthenticated:!!t&&c,isLoading:g||p,login:h,logout:f,refreshProfile:m};return s.jsx(lR.Provider,{value:v,children:e})}function sc(){const e=b.useContext(lR);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function DP(){const{user:e,logout:t}=sc(),{toast:n}=at(),r=bd(),[a,i]=b.useState(!1),o=async()=>{i(!0),await new Promise(d=>setTimeout(d,500)),t(),n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."}),i(!1)};if(!e)return null;const l=d=>d?d.split(" ").map(h=>h.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),c=d=>{switch(d){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},u=d=>{switch(d){case"admin":return s.jsx(Wr,{className:"h-3 w-3"});case"assistant":return s.jsx(Cr,{className:"h-3 w-3"});default:return s.jsx(Cr,{className:"h-3 w-3"})}};return s.jsxs($G,{children:[s.jsx(RG,{asChild:!0,children:s.jsx(B,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:s.jsx(Jn,{className:"h-8 w-8",children:s.jsx(Zn,{className:"bg-primary text-primary-foreground text-sm",children:l(e.profile.full_name)})})})}),s.jsxs(N4,{className:"w-56",align:"end",forceMount:!0,children:[s.jsx(S4,{className:"font-normal",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:e.profile.full_name||e.profile.username}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u(e.profile.role),s.jsx("span",{className:"text-xs text-muted-foreground",children:c(e.profile.role)})]})]})}),s.jsx(Yb,{}),s.jsxs(Gb,{className:"cursor-pointer",onClick:()=>r("/profile"),children:[s.jsx(Cr,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Profil"})]}),s.jsx(Yb,{}),s.jsxs(Gb,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:o,disabled:a,children:[s.jsx(Eq,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:a?"Déconnexion...":"Se déconnecter"})]})]})]})}const cR=[{icon:Tq,label:"Dashboard",path:"/dashboard"},{icon:Fa,label:"Clients",path:"/clients"},{icon:dt,label:"Animaux",path:"/pets"},{icon:He,label:"RDV",path:"/appointments"},{icon:yr,label:"Consultations",path:"/consultations"},{icon:Lr,label:"Vaccinations",path:"/vaccinations"},{icon:cl,label:"Antiparasites",path:"/antiparasites"},{icon:nI,label:"Historiques",path:"/history"},{icon:xb,label:"Farm Mgmt",path:"/farm"}],uR=[{icon:Oa,label:"Stock",path:"/stock"},{icon:tI,label:"Comptabilité",path:"/accounting"}],EX=[...cR,...uR];function fr(){const e=Lo(),[t,n]=b.useState(!1);return s.jsx("nav",{className:"bg-card border-b shadow-card",children:s.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[s.jsxs(Gs,{to:"/dashboard",className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(dt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-primary"}),s.jsx("h1",{className:"text-lg sm:text-xl font-bold gradient-primary bg-clip-text text-transparent hidden sm:block",children:"VetPro CRM"}),s.jsx("h1",{className:"text-base sm:text-lg font-bold gradient-primary bg-clip-text text-transparent sm:hidden",children:"VetPro"})]}),s.jsx("div",{className:"hidden sm:block",children:s.jsx(rP,{})})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[cR.map(r=>s.jsx(B,{variant:e.pathname===r.path?"default":"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",asChild:!0,children:s.jsxs(Gs,{to:r.path,children:[s.jsx(r.icon,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xl:inline",children:r.label})]})},r.path)),s.jsxs("div",{className:"relative group",children:[s.jsxs(B,{variant:"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",children:[s.jsx(b_,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Plus"})]}),s.jsx("div",{className:"absolute right-0 top-full mt-1 w-40 bg-card border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsx("div",{className:"py-1",children:uR.map(r=>s.jsxs(Gs,{to:r.path,className:`flex items-center gap-2 px-4 py-2 text-sm transition-colors hover:bg-muted ${e.pathname===r.path?"bg-primary text-primary-foreground":""}`,children:[s.jsx(r.icon,{className:"h-4 w-4"}),r.label]},r.path))})})]})]}),s.jsx("div",{className:"hidden lg:flex items-center gap-2",children:s.jsx(DP,{})}),s.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[s.jsx("div",{className:"sm:hidden",children:s.jsx(rP,{})}),s.jsx(DP,{}),s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>n(!t),className:"gap-1 p-2",children:t?s.jsx(vx,{className:"h-4 w-4"}):s.jsx(b_,{className:"h-4 w-4"})})]})]}),t&&s.jsx("div",{className:"lg:hidden mt-2 pt-2 border-t",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1",children:EX.map(r=>s.jsx(B,{variant:e.pathname===r.path?"default":"ghost",size:"sm",className:"gap-2 justify-start text-xs sm:text-sm",asChild:!0,onClick:()=>n(!1),children:s.jsxs(Gs,{to:r.path,children:[s.jsx(r.icon,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"truncate",children:r.label})]})},r.path))})})]})})}class OX extends b.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n})}render(){var t,n;return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-8",children:s.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-lg shadow-lg border border-red-200",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-4",children:"🚨 Erreur dans l'application"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Erreur :"}),s.jsx("pre",{className:"bg-red-100 p-4 rounded text-sm text-red-800 overflow-auto",children:(t=this.state.error)==null?void 0:t.toString()})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Stack Trace :"}),s.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm text-gray-800 overflow-auto max-h-64",children:(n=this.state.errorInfo)==null?void 0:n.componentStack})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Recharger la page"}),s.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Retour"})]})]})]})}):this.props.children}}const dR=b.createContext(void 0),MP=[{id:1,name:"Marie Dubois",firstName:"Marie",lastName:"Dubois",email:"marie.dubois@email.com",phone:"06 12 34 56 78",address:"123 Rue de la Paix",city:"Paris",postalCode:"75001",idNumber:"1234567890123",pets:[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",gender:"female",birthDate:"2021-03-15",weight:"28 kg",color:"Doré",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:4,name:"Luna",type:"Chat",breed:"Siamois",gender:"female",birthDate:"2022-05-12",weight:"3.8 kg",color:"Crème et marron",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-08",nextAppointment:"2024-02-08",microchip:"982000111222333",vaccinations:["Rage","FVRCP","FeLV"]}],lastVisit:"2024-01-15",totalVisits:12},{id:2,name:"Jean Martin",firstName:"Jean",lastName:"Martin",email:"jean.martin@email.com",phone:"06 98 76 54 32",address:"45 Avenue des Roses",city:"Lyon",postalCode:"69000",idNumber:"9876543210987",pets:[{id:2,name:"Whiskers",type:"Chat",breed:"Persan",gender:"male",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]}],lastVisit:"2024-01-10",totalVisits:8},{id:3,name:"Sophie Leroux",firstName:"Sophie",lastName:"Leroux",email:"sophie.leroux@email.com",phone:"06 45 67 89 12",address:"78 Boulevard Maritime",city:"Marseille",postalCode:"13000",idNumber:"4567891234567",pets:[{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",gender:"male",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]},{id:5,name:"Max",type:"Chien",breed:"Labrador",gender:"male",birthDate:"2020-09-03",weight:"30 kg",color:"Noir",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-22",nextAppointment:"2024-02-22",microchip:"982000444555666",vaccinations:["Rage","DHPP","Lyme","Bordetella"]}],lastVisit:"2024-01-18",totalVisits:15}],nh=[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",birthDate:"2021-03-15",weight:"28 kg",color:"Doré",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:2,name:"Whiskers",type:"Chat",breed:"Persan",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]},{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]}],hp=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",weight:"28.2 kg",temperature:"38.5",symptoms:"Contrôle annuel, bonne santé générale",diagnosis:"Aucun problème détecté",treatment:"Vaccination annuelle",medications:"Rappel vaccin DHPP",followUp:"Contrôle dans 1 an",cost:"85.00",notes:"Animal en excellente santé",photos:[],createdAt:"2024-01-15T10:30:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",weight:"4.3 kg",temperature:"39.2",symptoms:"Perte d'appétit, léthargie",diagnosis:"Infection urinaire",treatment:"Antibiotiques",medications:"Amoxicilline 50mg 2x/jour pendant 7 jours",followUp:"Contrôle dans 1 semaine",cost:"120.00",notes:"Surveiller la consommation d'eau",photos:[],createdAt:"2024-01-10T14:15:00Z"}],fp=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-25",time:"14:30",type:"vaccination",duration:30,reason:"Vaccination annuelle",notes:"Rappel vaccinal complet",status:"scheduled",reminderSent:!1,createdAt:"2024-01-20T09:00:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-22",time:"10:00",type:"controle",duration:45,reason:"Contrôle post-traitement",notes:"Vérifier l'amélioration de l'appétit",status:"confirmed",reminderSent:!0,createdAt:"2024-01-18T16:30:00Z"},{id:3,clientId:3,clientName:"Sophie Leroux",petId:3,petName:"Rex",date:"2024-01-26",time:"16:00",type:"sterilisation",duration:60,reason:"Stérilisation",notes:"Jeûne 12h avant l'intervention",status:"scheduled",reminderSent:!1,createdAt:"2024-01-19T11:15:00Z"}],mp=[{id:1,consultationId:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",prescribedBy:"Dr. Martin",diagnosis:"Trachéobronchite",medications:[{id:1,name:"Doxycycline",dosage:"100mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprimés",refills:0,cost:25.5},{id:2,name:"Sirop antitussif",dosage:"5ml",frequency:"3x/jour",duration:"5 jours",instructions:"Donner 30 minutes avant les repas",quantity:75,unit:"ml",refills:1,cost:15}],instructions:"Surveiller la température et l'appétit. Retour en cas d'aggravation.",duration:"7 jours",followUpDate:"2024-01-22",status:"active",notes:"Patient calme, bon appétit maintenu",createdAt:"2024-01-15T10:30:00Z"},{id:2,consultationId:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",prescribedBy:"Dr. Martin",diagnosis:"Infection urinaire",medications:[{id:3,name:"Amoxicilline",dosage:"50mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprimés",refills:0,cost:18}],instructions:"Augmenter la consommation d'eau. Surveiller les urines.",duration:"7 jours",followUpDate:"2024-01-17",status:"completed",notes:"Amélioration progressive",createdAt:"2024-01-10T14:15:00Z"}],pp=[{id:1,name:"Ferme des Prairies",owner:"Pierre Durand",address:"123 Route de la Campagne, 45000 Orléans",coordinates:{latitude:47.9056,longitude:1.919},phone:"02 38 45 67 89",email:"p.durand@fermedespra.fr",types:["Bovin laitier"],totalAnimals:85,animalDetails:[{category:"Bovins laitiers",maleCount:3,femaleCount:82,breeds:["Holstein","Prim'Holstein"],ageGroups:["Veaux (0-6 mois)","Génisses (6-24 mois)","Vaches adultes"]}],lastVisit:"2024-01-15",status:"active",veterinarian:"Dr. Dupont",notes:"Exploitation bien gérée, animaux en bonne santé",registrationNumber:"FR45123456789",surfaceArea:45.5,buildingDetails:"Étable moderne 850m², stabulation libre, salle de traite 2x8",equipmentDetails:"Tracteur John Deere, Tank à lait 2000L, Système de ventilation automatique",certifications:["Agriculture Biologique","Haute Valeur Environnementale"],insuranceDetails:"Groupama - Police n°123456789",emergencyContact:{name:"Marie Durand",phone:"06 12 34 56 78",relation:"Épouse"},photos:[{id:"photo_1",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBDaGVwdGVsPC90ZXh0Pgo8L3N2Zz4K",description:"Vaches Holstein dans le pré",category:"cheptel",uploadedAt:"2024-01-15T10:00:00Z"},{id:"photo_2",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBCw6J0aW1lbnRzPC90ZXh0Pgo8L3N2Zz4K",description:"Étable moderne avec salle de traite",category:"batiments",uploadedAt:"2024-01-15T10:00:00Z"}],createdAt:"2024-01-01T09:00:00Z"},{id:2,name:"Élevage Martin",owner:"Jean-Luc Martin",address:"456 Chemin des Champs, 41000 Blois",coordinates:{latitude:47.5886,longitude:1.334},phone:"02 54 78 90 12",email:"jl.martin@elevagemartin.fr",types:["Porcin"],totalAnimals:150,animalDetails:[{category:"Porcs",maleCount:75,femaleCount:75,breeds:["Large White","Landrace"],ageGroups:["Porcelets (0-2 mois)","Porcs en croissance (2-6 mois)"]}],lastVisit:"2024-01-10",status:"active",veterinarian:"Dr. Martin",notes:"Nouveau système de ventilation installé",registrationNumber:"FR41987654321",surfaceArea:28.3,buildingDetails:"Porcherie 600m², nurserie 200m², système de ventilation automatique",equipmentDetails:"Système d'alimentation automatique, Pompe à lisier, Générateur de secours",certifications:["Label Rouge"],insuranceDetails:"Crédit Agricole Assurances - Police n°987654321",emergencyContact:{name:"Sophie Martin",phone:"06 98 76 54 32",relation:"Sœur"},createdAt:"2024-01-02T10:30:00Z"},{id:3,name:"Ferme Avicole Leroux",owner:"Marie Leroux",address:"789 Avenue des Volailles, 37000 Tours",coordinates:{latitude:47.3936,longitude:.6848},phone:"02 47 12 34 56",email:"m.leroux@avicole-leroux.fr",types:["Avicole"],totalAnimals:2500,animalDetails:[{category:"Poules pondeuses",maleCount:50,femaleCount:2e3,breeds:["ISA Brown","Lohmann Brown"],ageGroups:["Poussins (0-18 semaines)","Pondeuses (18+ semaines)"]},{category:"Poulets de chair",maleCount:225,femaleCount:225,breeds:["Cobb 500","Ross 308"],ageGroups:["0-6 semaines"]}],lastVisit:"2024-01-18",status:"attention",veterinarian:"Dr. Dupont",notes:"Problème de ventilation détecté, surveillance renforcée",registrationNumber:"FR37555666777",surfaceArea:12.8,buildingDetails:"Poulailler automatisé 1200m², aire de parcours 5000m²",equipmentDetails:"Système de ramassage automatique des œufs, Ventilation programmable, Éclairage LED",certifications:["Œufs de France","Bien-être animal"],insuranceDetails:"MMA - Police n°555666777",emergencyContact:{name:"Paul Leroux",phone:"06 47 12 34 56",relation:"Fils"},createdAt:"2024-01-03T14:15:00Z"},{id:4,name:"Ferme Équine du Val",owner:"Sophie Moreau",address:"12 Chemin des Écuries, 78000 Versailles",coordinates:{latitude:48.8044,longitude:2.1232},phone:"01 39 50 12 34",email:"s.moreau@fermeequine.fr",types:["Équin"],totalAnimals:25,animalDetails:[{category:"Chevaux",maleCount:8,femaleCount:17,breeds:["Pur-sang","Selle français","Arabe"],ageGroups:["Poulains (0-3 ans)","Jeunes chevaux (3-7 ans)","Chevaux adultes (7+ ans)"]}],lastVisit:"2024-01-20",status:"active",veterinarian:"Dr. Martin",notes:"Écurie de prestige, chevaux de compétition",registrationNumber:"FR78123456789",surfaceArea:15.2,buildingDetails:"Écuries 800m², manège couvert 1200m², carrière extérieure 2000m²",equipmentDetails:"Tracteur, Système d'arrosage automatique, Éclairage LED, Système de sécurité",certifications:["Bien-être animal","Équitation de tradition française"],insuranceDetails:"Allianz - Police n°781234567",emergencyContact:{name:"Marc Moreau",phone:"06 12 34 56 78",relation:"Époux"},createdAt:"2024-01-04T08:30:00Z"},{id:5,name:"Rucher des Fleurs",owner:"Jean Dupuis",address:"45 Route des Champs, 13000 Marseille",coordinates:{latitude:43.2965,longitude:5.3698},phone:"04 91 23 45 67",email:"j.dupuis@rucherdesfleurs.fr",types:["Apiculture"],totalAnimals:120,animalDetails:[{category:"Abeilles",maleCount:0,femaleCount:120,breeds:["Abeille noire","Buckfast"],ageGroups:["Reines (1-3 ans)","Ouvrières (6 semaines)","Faux-bourdons (3 mois)"]}],lastVisit:"2024-01-12",status:"active",veterinarian:"Dr. Dupont",notes:"Production de miel de qualité, apiculture biologique",registrationNumber:"FR13123456789",surfaceArea:8.5,buildingDetails:"Miellerie 200m², entrepôt 150m², zone de conditionnement 100m²",equipmentDetails:"Extracteur de miel, Centrifugeuse, Filtres, Matériel de conditionnement",certifications:["Agriculture Biologique","Miel de France"],insuranceDetails:"MAIF - Police n°131234567",emergencyContact:{name:"Marie Dupuis",phone:"06 91 23 45 67",relation:"Épouse"},createdAt:"2024-01-05T11:15:00Z"}],gp=[{id:1,date:"2024-01-20",farmId:1,farmName:"Ferme des Prairies",type:"vaccination",animals:"15 bovins",veterinarian:"Dr. Dupont",description:"Vaccination contre la fièvre aphteuse",status:"completed",followUp:"Contrôle dans 6 mois",cost:450,notes:"Intervention réussie, aucun effet secondaire",createdAt:"2024-01-20T08:00:00Z"},{id:2,date:"2024-01-18",farmId:3,farmName:"Ferme Avicole Leroux",type:"urgence",animals:"50 poules",veterinarian:"Dr. Dupont",description:"Traitement infection respiratoire",status:"ongoing",followUp:"Suivi hebdomadaire",cost:320,notes:"Traitement antibiotique en cours",createdAt:"2024-01-18T14:30:00Z"},{id:3,date:"2024-01-15",farmId:2,farmName:"Élevage Martin",type:"controle",animals:"Tous les porcins",veterinarian:"Dr. Martin",description:"Contrôle sanitaire trimestriel",status:"completed",followUp:"Prochain contrôle en avril",cost:280,notes:"Tous les paramètres dans les normes",createdAt:"2024-01-15T10:00:00Z"}],vp=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"DHPP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2025-01-15",batchNumber:"VAC2024-001",veterinarian:"Dr. Martin",notes:"Première vaccination annuelle",status:"completed",cost:"45.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-12-31",createdAt:"2024-01-15T10:30:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Rage",vaccineType:"rabies",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2027-01-15",batchNumber:"RAB2024-005",veterinarian:"Dr. Martin",notes:"Vaccination antirabique obligatoire",status:"completed",cost:"35.00",location:"right_shoulder",manufacturer:"Merial",expirationDate:"2026-08-15",createdAt:"2024-01-15T10:45:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:3,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",vaccineName:"FVRCP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2023-08-22",nextDueDate:"2024-08-22",batchNumber:"CAT2023-012",veterinarian:"Dr. Dupont",notes:"Vaccination de base pour chat",status:"overdue",cost:"40.00",location:"subcutaneous",manufacturer:"Virbac",expirationDate:"2025-06-30",createdAt:"2023-08-22T14:20:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:4,petId:3,petName:"Rex",clientId:3,clientName:"Sophie Leroux",vaccineName:"Bordetella",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-18",nextDueDate:"2025-01-18",batchNumber:"BOR2024-008",veterinarian:"Dr. Martin",notes:"Vaccination contre la toux de chenil",status:"completed",cost:"30.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-09-30",createdAt:"2024-01-18T16:15:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:5,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Lyme",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-25",nextDueDate:"2024-04-25",batchNumber:"LYM2024-003",veterinarian:"Dr. Martin",notes:"Vaccination contre la maladie de Lyme",status:"scheduled",cost:"50.00",location:"left_hip",manufacturer:"Boehringer Ingelheim",expirationDate:"2025-11-20",createdAt:"2024-01-25T09:00:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1}],wc=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",productName:"Frontline Combo Spot-On",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",dateGiven:"2024-01-10",nextDueDate:"2024-02-10",dosage:"1 pipette",administrationRoute:"topical",veterinarian:"Dr. Martin",notes:"Application entre les omoplates",batchNumber:"FRC2024-001",manufacturer:"Boehringer Ingelheim",weight:"28kg",status:"completed",cost:"25.50",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",productName:"Milbemax Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cœur",dateGiven:"2024-01-05",nextDueDate:"2024-04-05",dosage:"1/2 comprimé",administrationRoute:"oral",veterinarian:"Dr. Dupont",notes:"Donné avec la nourriture",batchNumber:"MLX2024-008",manufacturer:"Novartis",weight:"4.5kg",status:"completed",cost:"18.00",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1}],rh=[{id:1,name:"Frontline Combo Spot-On",species:"Chien",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",description:"Protection complète contre puces et tiques pendant 8 semaines",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"2-60kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!0,notes:"Éviter le bain 48h avant et après application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:2,name:"NexGard Spectra",species:"Chien",productType:"combined",targetParasites:"Puces, Tiques, Vers du cœur, Vers ronds, Vers plats",description:"Protection combinée externe et interne mensuelle",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Première dose"},{offsetDays:30,label:"Dose mensuelle"}],weightRange:"2-60kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!1,notes:"Donner avec la nourriture pour une meilleure absorption",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:3,name:"Drontal Plus",species:"Chien",productType:"worming",targetParasites:"Vers ronds, Vers plats, Ankylostomes, Trichures",description:"Vermifugation large spectre",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Première vermifugation"},{offsetDays:90,label:"Rappel trimestriel"},{offsetDays:180,label:"Rappel semestriel"}],weightRange:"2-35kg",ageRequirement:"Dès 2 semaines",seasonalTreatment:!1,notes:"Administrer le matin à jeun, répéter selon exposition aux parasites",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:4,name:"Advocate Spot-On",species:"Chien",productType:"combined",targetParasites:"Puces, Vers du cœur, Vers ronds, Ankylostomes, Gale sarcoptique",description:"Protection topique combinée mensuelle",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"1-40kg",ageRequirement:"Dès 7 semaines",seasonalTreatment:!1,notes:"Appliquer sur peau sèche entre les omoplates",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:5,name:"Frontline Combo Chat",species:"Chat",productType:"flea_tick",targetParasites:"Puces, Tiques",description:"Protection mensuelle contre puces et tiques chez le chat",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"1-8kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!0,notes:"Attention aux réactions cutanées, surveiller 24h après application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:6,name:"Stronghold Plus",species:"Chat",productType:"combined",targetParasites:"Puces, Vers du cœur, Vers ronds, Ankylostomes, Gale des oreilles",description:"Protection combinée mensuelle pour chats",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"0.5-8kg",ageRequirement:"Dès 6 semaines",seasonalTreatment:!1,notes:"Efficace contre gale des oreilles en 1 application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:7,name:"Milbemax Chat",species:"Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cœur",description:"Vermifugation complète pour chats",manufacturer:"Novartis",intervals:[{offsetDays:0,label:"Première vermifugation"},{offsetDays:90,label:"Rappel trimestriel"}],weightRange:"0.5-8kg",ageRequirement:"Dès 6 semaines",seasonalTreatment:!1,notes:"Comprimés appétents, peut être donné avec ou sans nourriture",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:8,name:"Eprinex Pour-On",species:"Bovins",productType:"external",targetParasites:"Mouches, Poux, Gales, Vers gastro-intestinaux",description:"Traitement pour-on systémique pour bovins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application unique"},{offsetDays:84,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Tous âges",seasonalTreatment:!0,notes:"Temps d'attente viande: 15 jours, lait: 0 jour",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:9,name:"Panacur 100",species:"Bovins",productType:"worming",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires",description:"Vermifuge oral pour bovins",manufacturer:"MSD",intervals:[{offsetDays:0,label:"Traitement initial"},{offsetDays:120,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Dès 2 semaines",seasonalTreatment:!1,notes:"Temps d'attente viande: 14 jours, lait: 3 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:10,name:"Cydectin 0.1%",species:"Ovins",productType:"combined",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires, Gales",description:"Traitement injectable pour ovins et caprins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Injection unique"},{offsetDays:90,label:"Rappel saisonnier"}],weightRange:"10-100kg",ageRequirement:"Dès 4 semaines",seasonalTreatment:!0,notes:"Temps d'attente viande: 35 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],IP=[{id:1,name:"Amoxicilline 500mg",category:"medication",subcategory:"Antibiotique",description:"Antibiotique à large spectre",manufacturer:"Boehringer Ingelheim",batchNumber:"AMX2024001",dosage:"500mg",unit:"box",currentStock:15,minimumStock:5,maximumStock:50,purchasePrice:20,sellingPrice:25.5,totalValue:300,expirationDate:"2025-12-31",supplier:"Pharmacie Vétérinaire Centrale",location:"Armoire A - Étagère 1",notes:"Stockage à température ambiante",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-15",isActive:!0,barcode:"1234567890123",sku:"MED-AMX-500"},{id:2,name:"Frontline Combo Spot-On",category:"medication",subcategory:"Antiparasitaire",description:"Traitement contre puces et tiques",manufacturer:"Boehringer Ingelheim",batchNumber:"FRC2024001",dosage:"1 pipette",unit:"pack",currentStock:8,minimumStock:10,maximumStock:100,purchasePrice:15,sellingPrice:18.75,totalValue:120,expirationDate:"2026-06-30",supplier:"VetoSupply Maroc",location:"Armoire B - Étagère 2",notes:"Pour chiens 20-40kg",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-10",isActive:!0,barcode:"2345678901234",sku:"ANT-FRONT-20-40"},{id:3,name:"DHPP Canine",category:"vaccine",subcategory:"Vaccin Core",description:"Vaccin contre Distemper, Hépatite, Parvovirus, Parainfluenza",manufacturer:"Merial",batchNumber:"DHPP2024001",dosage:"1 dose",unit:"vial",currentStock:25,minimumStock:10,maximumStock:100,purchasePrice:9.5,sellingPrice:12,totalValue:237.5,expirationDate:"2025-08-15",supplier:"Vaccins Vétérinaires SA",location:"Réfrigérateur - Étagère 1",notes:"Conservation 2-8°C",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-20",isActive:!0,barcode:"3456789012345",sku:"VAC-DHPP-001"},{id:4,name:"Rage Canine",category:"vaccine",subcategory:"Vaccin Obligatoire",description:"Vaccin antirabique obligatoire",manufacturer:"Merial",batchNumber:"RAB2024001",dosage:"1 dose",unit:"vial",currentStock:12,minimumStock:5,maximumStock:50,purchasePrice:12,sellingPrice:15,totalValue:144,expirationDate:"2025-10-20",supplier:"Vaccins Vétérinaires SA",location:"Réfrigérateur - Étagère 2",notes:"Conservation 2-8°C - Obligatoire",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-18",isActive:!0,barcode:"4567890123456",sku:"VAC-RAB-001"},{id:5,name:"Seringues 5ml",category:"consumable",subcategory:"Matériel d'injection",description:"Seringues stériles 5ml avec aiguilles",manufacturer:"BD Medical",batchNumber:"SYR2024001",dosage:"5ml",unit:"box",currentStock:50,minimumStock:20,maximumStock:200,purchasePrice:.35,sellingPrice:.45,totalValue:17.5,expirationDate:"2027-03-15",supplier:"Matériel Médical Pro",location:"Armoire C - Étagère 1",notes:"Stériles, usage unique",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-12",isActive:!0,barcode:"5678901234567",sku:"CON-SYR-5ML"},{id:6,name:"Masques chirurgicaux",category:"consumable",subcategory:"Protection",description:"Masques chirurgicaux jetables",manufacturer:"3M",batchNumber:"MSK2024001",dosage:"1 unité",unit:"box",currentStock:200,minimumStock:50,maximumStock:500,purchasePrice:.12,sellingPrice:.15,totalValue:24,expirationDate:"2026-12-31",supplier:"Protection Médicale",location:"Armoire D - Étagère 1",notes:"Type IIR, boîte de 50",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-08",isActive:!0,barcode:"6789012345678",sku:"CON-MSK-50"},{id:7,name:"Gants nitrile",category:"consumable",subcategory:"Protection",description:"Gants nitrile non poudrés",manufacturer:"Ansell",batchNumber:"GNT2024001",dosage:"1 paire",unit:"box",currentStock:30,minimumStock:10,maximumStock:100,purchasePrice:.2,sellingPrice:.25,totalValue:6,expirationDate:"2026-08-20",supplier:"Protection Médicale",location:"Armoire D - Étagère 2",notes:"Taille M, boîte de 100",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-05",isActive:!0,barcode:"7890123456789",sku:"CON-GNT-M-100"},{id:8,name:"Thermomètre digital",category:"equipment",subcategory:"Diagnostic",description:"Thermomètre digital vétérinaire",manufacturer:"Gima",batchNumber:"THM2024001",dosage:"1 unité",unit:"unit",currentStock:3,minimumStock:2,maximumStock:10,purchasePrice:35,sellingPrice:45,totalValue:105,expirationDate:void 0,supplier:"Équipement Vétérinaire",location:"Bureau - Tiroir 1",notes:"Résistant à l'eau, écran LCD",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-03",isActive:!0,barcode:"8901234567890",sku:"EQP-THM-DIG"},{id:9,name:"Vitamines B Complex",category:"supplement",subcategory:"Vitamines",description:"Complexe vitaminique B pour animaux",manufacturer:"Virbac",batchNumber:"VIT2024001",dosage:"1ml",unit:"bottle",currentStock:5,minimumStock:3,maximumStock:20,purchasePrice:6.5,sellingPrice:8.5,totalValue:32.5,expirationDate:"2025-11-30",supplier:"Suppléments Vétérinaires",location:"Armoire A - Étagère 3",notes:"Flacon 50ml",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-14",isActive:!0,barcode:"9012345678901",sku:"SUP-VIT-B-50"}],xp=[{id:1,name:"DAPP (DHPP)",species:"Chien",vaccineType:"core",description:"Distemper, Adénovirus, Parvovirus, Parainfluenza - Vaccination essentielle",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"J0 (première injection)"},{offsetDays:21,label:"21 jours (2e injection)"},{offsetDays:42,label:"42 jours (3e injection)"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"6-8 semaines (renforcer jusqu'à 16 semaines)",notes:"Protocole d'initiation à 6-8-12-16 semaines puis rappel à 1 an, puis triennal",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:2,name:"Rage (Rabies)",species:"Chien",vaccineType:"rabies",description:"Vaccination antirabique obligatoire selon la législation locale",manufacturer:"Merial",intervals:[{offsetDays:0,label:"À l'âge de 12 semaines minimum"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"12 semaines minimum",notes:"Rappel annuel ou biennal selon réglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:3,name:"Bordetella bronchiseptica",species:"Chien",vaccineType:"non-core",description:"Protection contre la toux de chenil",manufacturer:"Zoetis",intervals:[{offsetDays:8,label:"8 semaines"}],ageRequirement:"8 semaines",notes:"Vaccination intracellulaire recommandée pour chiens en collectivité",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:4,name:"Leptospirose",species:"Chien",vaccineType:"non-core",description:"Protection contre les sérovars pathogènes de Leptospira",manufacturer:"Virbac",intervals:[{offsetDays:12,label:"12 semaines"}],ageRequirement:"12 semaines",notes:"Double sérovariels recommandé",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:5,name:"RCP (FVRCP)",species:"Chat",vaccineType:"core",description:"Calicivirose, Panleucopénie, Rhinotrachéite virale féline",manufacturer:"Virbac",intervals:[{offsetDays:0,label:"6 semaines"},{offsetDays:21,label:"12 semaines"},{offsetDays:28,label:"1 an"}],ageRequirement:"6-8-12 semaines",notes:"Renforcement à 1 an puis rappel triennal ou annuel selon protocole",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:6,name:"Rage (Rabies)",species:"Chat",vaccineType:"rabies",description:"Vaccination antirabique selon réglementation voyage",manufacturer:"Merial",intervals:[{offsetDays:365,label:"1 an"},{offsetDays:730,label:"2 ans"}],ageRequirement:"12 semaines",notes:"Rappel annuel ou biennal selon réglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:7,name:"Distemper furet (Maladie de Carré)",species:"Furet",vaccineType:"core",description:"Protection contre le morbillivirus (Carré)",manufacturer:"Merial",intervals:[{offsetDays:6,label:"6 semaines"},{offsetDays:12,label:"8 semaines"}],ageRequirement:"6-8 semaines",notes:"Protocole similaire à celui des chiens",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:8,name:"Myxomatose",species:"Lapin",vaccineType:"core",description:"Protection contre la myxomatose",manufacturer:"Virbac",intervals:[{offsetDays:180,label:"180 jours"}],ageRequirement:"5-6 semaines",notes:"Vaccination semestrielle",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:9,name:"VHD (Maladie hémorragique virale)",species:"Lapin",vaccineType:"core",description:"Protection contre VHD de type 1 et 2",manufacturer:"Virbac",intervals:[{offsetDays:6,label:"6 semaines"}],ageRequirement:"6 semaines",notes:"Rappel annuel",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"}];function ES({children:e}){const t=()=>{try{const z=localStorage.getItem("vetpro-clients"),X=localStorage.getItem("vetpro-pets"),ee=localStorage.getItem("vetpro-consultations"),Ce=localStorage.getItem("vetpro-appointments"),Te=localStorage.getItem("vetpro-prescriptions"),je=localStorage.getItem("vetpro-farms"),Re=localStorage.getItem("vetpro-farmInterventions"),Zt=localStorage.getItem("vetpro-vaccinations"),It=localStorage.getItem("vetpro-vaccinationProtocols"),ze=localStorage.getItem("vetpro-antiparasitics"),ln=localStorage.getItem("vetpro-antiparasiticProtocols"),Or=localStorage.getItem("vetpro-stockItems"),Mi=localStorage.getItem("vetpro-stockAlerts"),Ii=localStorage.getItem("vetpro-stockMovements"),Mm=localStorage.getItem("vetpro-accountingEntries");if(z&&X){const O8=JSON.parse(z),eC=JSON.parse(X),D8=ee?JSON.parse(ee):hp,M8=Ce?JSON.parse(Ce):fp,I8=Te?JSON.parse(Te):mp,$8=je?JSON.parse(je):pp,R8=Re?JSON.parse(Re):gp,L8=Zt?JSON.parse(Zt):vp,F8=It?JSON.parse(It):xp,B8=ze?JSON.parse(ze):wc,z8=ln?JSON.parse(ln):rh,V8=Or?JSON.parse(Or):IP,q8=Mi?JSON.parse(Mi):[],U8=Ii?JSON.parse(Ii):[],W8=Mm?JSON.parse(Mm):[];return{clients:O8.map(tC=>({...tC,pets:eC.filter(H8=>H8.ownerId===tC.id)})),pets:eC,consultations:D8,appointments:M8,prescriptions:I8,farms:$8,farmInterventions:R8,vaccinations:L8,vaccinationProtocols:F8,antiparasitics:B8,antiparasiticProtocols:z8,stockItems:V8,stockAlerts:q8,stockMovements:U8,accountingEntries:W8}}}catch(z){console.error("Erreur lors du chargement des données:",z)}return{clients:MP.map(z=>({...z,pets:nh.filter(X=>X.ownerId===z.id)})),pets:nh,consultations:hp,appointments:fp,prescriptions:mp,farms:pp,farmInterventions:gp,vaccinations:vp,vaccinationProtocols:xp,antiparasitics:wc,antiparasiticProtocols:rh,stockItems:IP,stockAlerts:[],stockMovements:[],accountingEntries:[]}},n=(q,z,X,ee=d,Ce=f,Te=g,je=v,Re=y,Zt=w,It=C,ze=_,ln=E,Or=A,Mi=$,Ii=V)=>{try{localStorage.setItem("vetpro-clients",JSON.stringify(q)),localStorage.setItem("vetpro-pets",JSON.stringify(z)),localStorage.setItem("vetpro-consultations",JSON.stringify(X)),localStorage.setItem("vetpro-appointments",JSON.stringify(ee)),localStorage.setItem("vetpro-prescriptions",JSON.stringify(Ce)),localStorage.setItem("vetpro-farms",JSON.stringify(Te)),localStorage.setItem("vetpro-farmInterventions",JSON.stringify(je)),localStorage.setItem("vetpro-vaccinations",JSON.stringify(Re)),localStorage.setItem("vetpro-vaccinationProtocols",JSON.stringify(Zt)),localStorage.setItem("vetpro-antiparasitics",JSON.stringify(It)),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(ze)),localStorage.setItem("vetpro-stockItems",JSON.stringify(ln)),localStorage.setItem("vetpro-stockAlerts",JSON.stringify(Or)),localStorage.setItem("vetpro-stockMovements",JSON.stringify(Mi)),localStorage.setItem("vetpro-accountingEntries",JSON.stringify(Ii))}catch(Mm){console.error("Erreur lors de la sauvegarde des données:",Mm)}},r=t(),[a,i]=b.useState(r.clients),[o,l]=b.useState(r.pets),[c,u]=b.useState(r.consultations),[d,h]=b.useState(r.appointments),[f,m]=b.useState(r.prescriptions),[g,p]=b.useState(r.farms),[v,x]=b.useState(r.farmInterventions),[y,j]=b.useState(r.vaccinations),[w,N]=b.useState(r.vaccinationProtocols),[C,S]=b.useState(r.antiparasitics),[_,k]=b.useState(r.antiparasiticProtocols),[E,P]=b.useState(r.stockItems||[]),[A,R]=b.useState(r.stockAlerts||[]),[$,K]=b.useState(r.stockMovements||[]),[V,H]=b.useState(r.accountingEntries||[]);b.useEffect(()=>{localStorage.getItem("vetpro-antiparasiticProtocols")||localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(rh)),localStorage.getItem("vetpro-antiparasitics")||(localStorage.setItem("vetpro-antiparasitics",JSON.stringify(wc)),S(wc))},[]),b.useEffect(()=>{const q=new Date;new Date(q.getFullYear(),q.getMonth(),1),new Date(q.getFullYear(),q.getMonth()+1,0)},[]),b.useEffect(()=>{const q=new Date,z=new Date(q.getFullYear(),q.getMonth(),1),X=new Date(q.getFullYear(),q.getMonth()+1,0);Uy(z.toISOString().split("T")[0],X.toISOString().split("T")[0]),Wy(z.toISOString().split("T")[0],X.toISOString().split("T")[0])},[c,y,C,f,$]),b.useEffect(()=>{},[C]),b.useEffect(()=>{a.length>0&&c.length>=0&&y.length>=0&&C.length>=0&&d.length>=0&&a.forEach(q=>{J(q.id)})},[a.length,c.length,y.length,C.length,d.length]);const T=q=>{const z={...q,name:`${q.firstName} ${q.lastName}`,id:Math.max(...a.map(ee=>ee.id),0)+1,pets:[],lastVisit:new Date().toISOString().split("T")[0],totalVisits:0},X=[...a,z];i(X),n(X,o,c,d,f,g,v,y)},I=q=>{const z={...q,id:Math.max(...o.map(Ce=>Ce.id),0)+1,status:q.status||"healthy",lastVisit:new Date().toISOString().split("T")[0]},X=[...o,z];l(X);const ee=a.map(Ce=>Ce.id===q.ownerId?{...Ce,pets:[...Ce.pets,{id:z.id,name:z.name,type:z.type,breed:z.breed,birthDate:z.birthDate,weight:z.weight,color:z.color,microchip:z.microchip,medicalNotes:z.medicalNotes,photo:z.photo,ownerId:z.ownerId,owner:z.owner,status:z.status,lastVisit:z.lastVisit,nextAppointment:z.nextAppointment,vaccinations:z.vaccinations}]}:Ce);i(ee),n(ee,X,c,d,f,g,v,y)},F=(q,z)=>{const X=a.map(ee=>ee.id===q?{...ee,...z,name:z.firstName&&z.lastName?`${z.firstName} ${z.lastName}`:ee.name}:ee);i(X),n(X,o,c,d,f,g,v,y)},U=(q,z)=>{({...o.find(Ce=>Ce.id===q),...z});const X=o.map(Ce=>Ce.id===q?{...Ce,...z}:Ce);l(X);const ee=a.map(Ce=>({...Ce,pets:Ce.pets.map(Te=>Te.id===q?{...Te,...z}:Te)}));i(ee),n(ee,X,c)},J=q=>{const z=a.find(ze=>ze.id===q);if(!z)return;const X=c.filter(ze=>ze.clientId===q),ee=y.filter(ze=>ze.clientId===q),Ce=C.filter(ze=>ze.clientId===q),Te=d.filter(ze=>ze.clientId===q&&ze.status==="completed"),je=X.length+ee.length+Ce.length+Te.length,Re=[...X.map(ze=>({date:ze.date,type:"consultation"})),...ee.map(ze=>({date:ze.dateGiven,type:"vaccination"})),...Ce.map(ze=>({date:ze.dateGiven,type:"antiparasitic"})),...Te.map(ze=>({date:ze.date,type:"appointment"}))],Zt=Re.length>0?Re.reduce((ze,ln)=>new Date(ln.date)>new Date(ze.date)?ln:ze).date:z.lastVisit,It=a.map(ze=>ze.id===q?{...ze,totalVisits:je,lastVisit:Zt}:ze);return i(It),{totalVisits:je,lastVisit:Zt}},ae=q=>{const z={...q,id:Math.max(...E.map(ee=>ee.id),0)+1,lastUpdated:new Date().toISOString(),totalValue:q.currentStock*q.purchasePrice},X=[...E,z];return P(X),n(a,o,c,d,f,g,v,y,w,C,_,X,A,$),z},ne=(q,z)=>{const X=E.map(ee=>{if(ee.id===q){const Ce={...ee,...z};return(z.currentStock!==void 0||z.purchasePrice!==void 0)&&(Ce.totalValue=Ce.currentStock*Ce.purchasePrice),Ce.lastUpdated=new Date().toISOString(),Ce}return ee});return P(X),n(a,o,c,d,f,g,v,y,w,C,_,X,A,$),X.find(ee=>ee.id===q)},me=q=>{const z=E.filter(X=>X.id!==q);P(z),n(a,o,c,d,f,g,v,y,w,C,_,z,A,$)},Ne=q=>{const z={...q,id:Math.max(...$.map(ee=>ee.id),0)+1},X=[...$,z];return K(X),n(a,o,c,d,f,g,v,y,w,C,_,E,A,X),z},le=()=>{const q=[],z=new Date().toISOString().split("T")[0],X=new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0];return E.forEach(ee=>{ee.currentStock<=ee.minimumStock&&q.push({id:q.length+1,itemId:ee.id,itemName:ee.name,type:"low_stock",message:`Stock bas: ${ee.currentStock} ${ee.unit} restant(s)`,severity:ee.currentStock===0?"critical":"high",createdAt:new Date().toISOString(),isRead:!1}),ee.expirationDate&&(ee.expirationDate<z?q.push({id:q.length+1,itemId:ee.id,itemName:ee.name,type:"expired",message:`Expiré le ${ee.expirationDate}`,severity:"critical",createdAt:new Date().toISOString(),isRead:!1}):ee.expirationDate<=X&&q.push({id:q.length+1,itemId:ee.id,itemName:ee.name,type:"expiring_soon",message:`Expire le ${ee.expirationDate}`,severity:"medium",createdAt:new Date().toISOString(),isRead:!1}))}),q},re=q=>{const z={...q,id:Math.max(...c.map(Te=>Te.id),0)+1,createdAt:new Date().toISOString(),photos:q.photos||[]},X=[...c,z];u(X);const ee=o.map(Te=>Te.id===q.petId?{...Te,lastVisit:q.date}:Te);l(ee);const Ce=a.map(Te=>({...Te,pets:Te.pets.map(je=>je.id===q.petId?{...je,lastVisit:q.date}:je)}));i(Ce),J(q.clientId),n(Ce,ee,X)},se=q=>{if(!o.find(Ce=>Ce.id===q))return;const X=o.filter(Ce=>Ce.id!==q);l(X);const ee=a.map(Ce=>({...Ce,pets:Ce.pets.filter(Te=>Te.id!==q)}));i(ee),n(ee,X,c)},oe=()=>{localStorage.removeItem("vetpro-clients"),localStorage.removeItem("vetpro-pets"),localStorage.removeItem("vetpro-consultations"),localStorage.removeItem("vetpro-appointments"),localStorage.removeItem("vetpro-prescriptions"),localStorage.removeItem("vetpro-farms"),localStorage.removeItem("vetpro-farmInterventions"),localStorage.removeItem("vetpro-vaccinations"),localStorage.removeItem("vetpro-vaccinationProtocols"),localStorage.removeItem("vetpro-antiparasitics"),localStorage.removeItem("vetpro-antiparasiticProtocols");const q=MP.map(z=>({...z,pets:nh.filter(X=>X.ownerId===z.id)}));i(q),l(nh),u(hp),h(fp),m(mp),p(pp),x(gp),j(vp),N(xp),S(wc),k(rh),n(q,nh,hp,fp,mp,pp,gp,vp,xp,wc,rh)},O=()=>{const q={clients:a,pets:o,consultations:c,appointments:d,prescriptions:f,farms:g,farmInterventions:v,vaccinations:y,vaccinationProtocols:w,antiparasitics:C,antiparasiticProtocols:_},z=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),X=URL.createObjectURL(z),ee=document.createElement("a");ee.href=X,ee.download=`vetpro-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),URL.revokeObjectURL(X)},W=q=>{const z=q.clients.map(X=>({...X,pets:q.pets.filter(ee=>ee.ownerId===X.id)}));i(z),l(q.pets),u(q.consultations||[]),h(q.appointments||[]),m(q.prescriptions||[]),p(q.farms||[]),x(q.farmInterventions||[]),j(q.vaccinations||[]),N(q.vaccinationProtocols||[]),S(q.antiparasitics||[]),k(q.antiparasiticProtocols||[]),n(z,q.pets,q.consultations||[],q.appointments||[],q.prescriptions||[],q.farms||[],q.farmInterventions||[],q.vaccinations||[],q.vaccinationProtocols||[],q.antiparasitics||[],q.antiparasiticProtocols||[])},fe=(q,z)=>{const X=c.map(ee=>ee.id===q?{...ee,...z}:ee);u(X),n(a,o,X)},he=q=>{const z=c.filter(X=>X.id!==q);u(z),n(a,o,z)},Ye=q=>{const z=E.find(X=>X.name.toLowerCase()===q.productName.toLowerCase()&&X.category==="medication"&&X.isActive);return z&&z.currentStock>=1?{...q,stockItemId:z.id,isInStock:!0,stockQuantity:z.currentStock,stockDeducted:!0}:z&&z.currentStock>0?{...q,stockItemId:z.id,isInStock:!0,stockQuantity:z.currentStock,stockDeducted:!1}:{...q,isInStock:!1,stockQuantity:0,stockDeducted:!1}},We=q=>{const z=Ye(q);let X=[...E];if(z.stockDeducted&&z.stockItemId){const Te=X.findIndex(je=>je.id===z.stockItemId);if(Te!==-1){const je=X[Te];X[Te]={...je,currentStock:je.currentStock-1,lastUpdated:new Date().toISOString()},Ne({itemId:z.stockItemId,itemName:z.productName,type:"out",quantity:1,reason:"Traitement antiparasitaire",reference:`Antiparasitaire #${Math.max(0,...C.map(Re=>Re.id))+1}`,performedBy:z.veterinarian,date:new Date().toISOString(),notes:`Traitement antiparasitaire de ${z.petName} - ${z.productName}`})}}const ee={...z,id:Math.max(0,...C.map(Te=>Te.id))+1,createdAt:new Date().toISOString()},Ce=[...C,ee];S(Ce),P(X),J(q.clientId),n(a,o,c,d,f,g,v,y,w,Ce,_,X,A,$),localStorage.getItem("vetpro-antiparasitics")},ut=(q,z)=>{const X=C.map(ee=>ee.id===q?{...ee,...z}:ee);S(X),n(a,o,c,d,f,g,v,y,w,X,_)},$e=q=>{const z=C.filter(X=>X.id!==q);S(z),n(a,o,c,d,f,g,v,y,w,z,_)},it=q=>{const z={...q,id:Math.max(0,..._.map(ee=>ee.id))+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},X=[..._,z];k(X),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(X))},ie=(q,z)=>{const X=_.map(ee=>ee.id===q?{...ee,...z,updatedAt:new Date().toISOString()}:ee);k(X),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(X))},Me=q=>{const z=_.filter(X=>X.id!==q);k(z),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(z))},jt=q=>C.find(z=>z.id===q),Ft=q=>C.filter(X=>X.petId===q),Kn=q=>C.filter(z=>z.clientId===q),pt=()=>{const q=new Date().toISOString().split("T")[0];return C.filter(z=>z.nextDueDate&&z.nextDueDate<q&&z.status!=="completed")},Ot=(q=7)=>{const z=new Date,X=new Date(z.getTime()+q*24*60*60*1e3);return C.filter(ee=>{if(!ee.nextDueDate)return!1;const Ce=new Date(ee.nextDueDate);return Ce>=z&&Ce<=X})},Sn=q=>C.filter(z=>z.status===q),er=q=>_.find(z=>z.id===q),Kr=q=>_.filter(z=>z.species===q&&z.isActive),vn=()=>_.filter(q=>q.isActive),Di=q=>a.find(z=>z.id===q),Rn=q=>o.find(z=>z.id===q),Ha=q=>c.find(z=>z.id===q),Ds=q=>o.filter(z=>z.ownerId===q),dc=q=>c.filter(z=>z.petId===q),fa=q=>c.filter(z=>z.clientId===q),G=q=>{const z={...q,id:Math.max(...d.map(ee=>ee.id),0)+1,createdAt:new Date().toISOString()},X=[...d,z];h(X),J(q.clientId),n(a,o,c,X,f)},Se=(q,z)=>{const X=d.map(ee=>ee.id===q?{...ee,...z}:ee);h(X),n(a,o,c,X,f)},pe=q=>{const z=d.filter(X=>X.id!==q);h(z),n(a,o,c,z,f)},on=q=>d.find(z=>z.id===q),Er=q=>d.filter(z=>z.clientId===q),Ms=q=>d.filter(z=>z.petId===q),fs=q=>d.filter(z=>z.date===q),Vy=()=>{const q=new Date().toISOString().split("T")[0];return d.filter(z=>z.date>=q&&z.status!=="cancelled"&&z.status!=="completed").sort((z,X)=>new Date(z.date+"T"+z.time).getTime()-new Date(X.date+"T"+X.time).getTime())},Qe=()=>{const q=new Date().toISOString().split("T")[0];return d.filter(z=>z.date<q&&z.status==="scheduled").sort((z,X)=>new Date(z.date+"T"+z.time).getTime()-new Date(X.date+"T"+X.time).getTime())},wt=q=>q.map(z=>{const X=E.find(ee=>ee.name.toLowerCase()===z.name.toLowerCase()&&ee.category==="medication"&&ee.isActive);return X&&X.currentStock>=z.quantity?{...z,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!0}:X&&X.currentStock>0?{...z,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!1}:{...z,isInStock:!1,stockQuantity:0,stockDeducted:!1}}),Bt=q=>{const z=wt(q.medications);let X=[...E];z.forEach(Te=>{if(Te.stockDeducted&&Te.stockItemId){const je=X.findIndex(Re=>Re.id===Te.stockItemId);if(je!==-1){const Re=X[je];X[je]={...Re,currentStock:Re.currentStock-Te.quantity,lastUpdated:new Date().toISOString()},Ne({itemId:Te.stockItemId,itemName:Te.name,type:"out",quantity:Te.quantity,reason:"Prescription médicale",reference:`Prescription #${Math.max(...f.map(Zt=>Zt.id),0)+1}`,performedBy:q.prescribedBy,date:new Date().toISOString(),notes:`Prescription pour ${q.petName} - ${q.diagnosis}`})}}});const ee={...q,medications:z,id:Math.max(...f.map(Te=>Te.id),0)+1,createdAt:new Date().toISOString()},Ce=[...f,ee];m(Ce),P(X),n(a,o,c,d,Ce,g,v,y,w,C,_,X,A,$,V)},Gr=(q,z)=>{const X=f.map(ee=>ee.id===q?{...ee,...z}:ee);m(X),n(a,o,c,d,X,g,v,y,w,C,_,E,A,$,V)},Yr=q=>{const z=f.filter(X=>X.id!==q);m(z),n(a,o,c,d,z,g,v,y,w,C,_,E,A,$,V)},ma=q=>f.find(z=>z.id===q),Ka=q=>f.filter(z=>z.petId===q),Qr=q=>f.filter(z=>z.consultationId===q),pa=()=>f.filter(q=>q.status==="active").sort((q,z)=>new Date(z.date).getTime()-new Date(q.date).getTime()),e8=q=>{const z={...q,id:Math.max(...g.map(ee=>ee.id),0)+1,createdAt:new Date().toISOString()},X=[...g,z];p(X),n(a,o,c,d,f,X,v)},t8=(q,z)=>{const X=g.map(ee=>ee.id===q?{...ee,...z}:ee);p(X),n(a,o,c,d,f,X,v)},n8=q=>{const z=g.filter(X=>X.id!==q);p(z),n(a,o,c,d,f,z,v)},r8=q=>{const z={...q,id:Math.max(...v.map(ee=>ee.id),0)+1,createdAt:new Date().toISOString()},X=[...v,z];x(X),n(a,o,c,d,f,g,X)},s8=(q,z)=>{const X=v.map(ee=>ee.id===q?{...ee,...z}:ee);x(X),n(a,o,c,d,f,g,X)},a8=q=>{const z=v.filter(X=>X.id!==q);x(z),n(a,o,c,d,f,g,z)},i8=q=>g.find(z=>z.id===q),o8=q=>v.find(z=>z.id===q),l8=q=>v.filter(z=>z.farmId===q),c8=()=>{const q=new Date().toISOString().split("T")[0];return v.filter(z=>z.date>=q&&z.status!=="cancelled").sort((z,X)=>new Date(z.date).getTime()-new Date(X.date).getTime())},u8=q=>g.filter(z=>z.status===q),d8=q=>{const z=E.find(X=>X.name.toLowerCase()===q.vaccineName.toLowerCase()&&X.category==="vaccine"&&X.isActive);return z&&z.currentStock>=1?{...q,stockItemId:z.id,isInStock:!0,stockQuantity:z.currentStock,stockDeducted:!0}:z&&z.currentStock>0?{...q,stockItemId:z.id,isInStock:!0,stockQuantity:z.currentStock,stockDeducted:!1}:{...q,isInStock:!1,stockQuantity:0,stockDeducted:!1}},qy=q=>{const z=d8(q);let X=[...E];if(z.stockDeducted&&z.stockItemId){const Ce=X.findIndex(Te=>Te.id===z.stockItemId);if(Ce!==-1){const Te=X[Ce];X[Ce]={...Te,currentStock:Te.currentStock-1,lastUpdated:new Date().toISOString()},Ne({itemId:z.stockItemId,itemName:z.vaccineName,type:"out",quantity:1,reason:"Vaccination",reference:`Vaccination #${Math.max(...y.map(je=>je.id),0)+1}`,performedBy:z.veterinarian,date:new Date().toISOString(),notes:`Vaccination de ${z.petName} - ${z.vaccineName}`})}}const ee={...z,id:Math.max(...y.map(Ce=>Ce.id),0)+1,createdAt:new Date().toISOString()};return j(Ce=>{const Te=[...Ce,ee];return J(q.clientId),n(a,o,c,d,f,g,v,Te,w,C,_,X,A,$),Te}),P(X),ee.id},Om=(q,z)=>{const X=y.map(ee=>ee.id===q?{...ee,...z}:ee);j(X),n(a,o,c,d,f,g,v,X)},h8=q=>{const z=y.find(ee=>ee.id===q);if(!z)return;let X=[...y];z.vaccinationCategory==="new"?(y.filter(ee=>ee.originalVaccinationId===q),X=y.filter(ee=>ee.id!==q&&ee.originalVaccinationId!==q)):X=y.filter(ee=>ee.id!==q),j(X),n(a,o,c,d,f,g,v,X)},Dm=q=>y.find(z=>z.id===q),f8=q=>y.filter(z=>z.petId===q),m8=q=>y.filter(z=>z.clientId===q),p8=()=>{const q=new Date().toISOString().split("T")[0];return y.filter(z=>z.nextDueDate<q&&z.status!=="completed").sort((z,X)=>new Date(z.nextDueDate).getTime()-new Date(X.nextDueDate).getTime())},g8=()=>{const q=new Date,z=new Date(q.getTime()+30*24*60*60*1e3).toISOString().split("T")[0],X=q.toISOString().split("T")[0];return y.filter(ee=>ee.nextDueDate>=X&&ee.nextDueDate<=z&&ee.status!=="completed").sort((ee,Ce)=>new Date(ee.nextDueDate).getTime()-new Date(Ce.nextDueDate).getTime())},v8=q=>y.filter(z=>z.status===q),x8=()=>{const q=new Date().toISOString().split("T")[0];let z=!1;const X=y.map(ee=>ee.status==="completed"?ee:ee.nextDueDate<q&&ee.status!=="overdue"?(z=!0,{...ee,status:"overdue"}):ee.nextDueDate>=q&&ee.status!=="scheduled"?(z=!0,{...ee,status:"scheduled"}):ee);return z&&(j(X),n(a,o,c,d,f,g,v,X)),X},y8=q=>{const z={...q,id:Math.max(...w.map(ee=>ee.id),0)+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},X=[...w,z];N(X),n(a,o,c,d,f,g,v,y,X)},j8=(q,z)=>{const X=w.map(ee=>ee.id===q?{...ee,...z,updatedAt:new Date().toISOString()}:ee);N(X),n(a,o,c,d,f,g,v,y,X)},b8=q=>{const z=w.filter(X=>X.id!==q);N(z),n(a,o,c,d,f,g,v,y,z)},w8=q=>w.find(z=>z.id===q),N8=q=>w.filter(z=>z.species===q&&z.isActive),S8=()=>w.filter(q=>q.isActive),C8=(q,z,X)=>{const ee=w.find(je=>je.name===q&&je.species===z&&je.isActive);if(!ee||!ee.intervals.length)return null;const Ce=ee.intervals[ee.intervals.length-1],Te=new Date(X);return Te.setDate(Te.getDate()+Ce.offsetDays),Te.toISOString().split("T")[0]},_8=(q,z,X)=>{var It;const ee=Dm(q);if(!ee)return;const Ce={clientId:ee.clientId,clientName:ee.clientName,petId:ee.petId,petName:ee.petName,date:z,time:X,type:"vaccination",duration:30,reason:`Rappel vaccinal - ${ee.vaccineName}`,notes:`Rappel pour ${ee.vaccineName} (vaccination originale ID: ${q})`,status:"scheduled",reminderSent:!1};G(Ce);const Te=Math.max(...d.map(ze=>ze.id),0)+1,je={petId:ee.petId,petName:ee.petName,clientId:ee.clientId,clientName:ee.clientName,vaccineName:ee.vaccineName,vaccineType:ee.vaccineType,vaccinationCategory:"reminder",dateGiven:z,nextDueDate:ee.nextDueDate,batchNumber:ee.batchNumber,veterinarian:ee.veterinarian,notes:`Rappel de ${ee.vaccineName} (original: ${q})`,status:"scheduled",cost:ee.cost,location:ee.location,manufacturer:ee.manufacturer,originalVaccinationId:q,reminderAppointmentId:Te,isReminder:!0};qy(je);const Re={id:Math.max(...((It=ee.reminderHistory)==null?void 0:It.map(ze=>ze.id))||[0],0)+1,vaccinationId:q,appointmentId:Te,scheduledDate:z,status:"scheduled",notes:`Rappel programmé pour ${ee.vaccineName}`,createdAt:new Date().toISOString()},Zt=[...ee.reminderHistory||[],Re];return Om(q,{reminderHistory:Zt}),{appointment:Ce,reminderVaccination:je,reminder:Re}},P8=(q,z,X)=>{var je;const ee=Dm(q);if(!ee)return;const Te={status:"completed",reminderHistory:((je=ee.reminderHistory)==null?void 0:je.map(Re=>Re.appointmentId===z?{...Re,status:"completed"}:Re))||[],reminderAppointmentId:void 0};return X&&(Te.nextDueDate=X),Om(q,Te),Se(z,{status:"completed"}),ee},A8=(q,z)=>{const X=Dm(q);if(!X)return null;const ee={petId:X.petId,petName:X.petName,clientId:X.clientId,clientName:X.clientName,vaccineName:X.vaccineName,vaccineType:X.vaccineType,vaccinationCategory:"reminder",dateGiven:z.datePerformed,nextDueDate:z.newNextDueDate||X.nextDueDate,calculatedDueDate:X.calculatedDueDate,batchNumber:z.batchNumber||X.batchNumber,veterinarian:z.veterinarian,notes:z.notes||`Rappel effectué - ${X.vaccineName}`,status:"completed",cost:X.cost,location:X.location,manufacturer:X.manufacturer,expirationDate:X.expirationDate,adverseReactions:X.adverseReactions,originalVaccinationId:q,isReminder:!0};qy(ee);const Ce={status:"completed",reminderAppointmentId:void 0};return z.newNextDueDate&&(Ce.nextDueDate=z.newNextDueDate),Om(q,Ce),ee},hc=q=>{const z={...q,id:Math.max(...V.map(ee=>ee.id),0)+1,createdAt:new Date().toISOString()},X=[...V,z];return H(X),n(a,o,c,d,f,g,v,y,w,C,_,E,A,$,X),z},k8=(q,z)=>{const X=V.map(ee=>ee.id===q?{...ee,...z}:ee);H(X),n(a,o,c,d,f,g,v,y,w,C,_,E,A,$,X)},T8=q=>{const z=V.filter(X=>X.id!==q);H(z),n(a,o,c,d,f,g,v,y,w,C,_,E,A,$,z)},Uy=(q,z)=>{const X=new Date(q),ee=new Date(z);let Ce=0;const Te={consultations:0,vaccinations:0,antiparasitics:0,prescriptions:0,stockSales:0,manualEntries:0,recurringCharges:0};return c.filter(je=>{const Re=new Date(je.date);return Re>=X&&Re<=ee}).forEach(je=>{var It;const Re=parseFloat(((It=je.cost)==null?void 0:It.toString())||"0");Ce+=Re,Te.consultations+=Re,V.find(ze=>ze.source==="consultation"&&ze.sourceId===je.id)||hc({type:"revenue",category:"automatic",frequency:"occasional",description:`Consultation - ${je.petName}`,amount:Re,date:je.date,reference:`Consultation #${je.id}`,source:"consultation",sourceId:je.id,notes:`Consultation automatique pour ${je.petName}`})}),y.filter(je=>{const Re=new Date(je.dateGiven);return Re>=X&&Re<=ee}).forEach(je=>{var It;const Re=parseFloat(((It=je.cost)==null?void 0:It.toString())||"0");Ce+=Re,Te.vaccinations+=Re,V.find(ze=>ze.source==="vaccination"&&ze.sourceId===je.id)||hc({type:"revenue",category:"automatic",frequency:"occasional",description:`Vaccination - ${je.vaccineName}`,amount:Re,date:je.dateGiven,reference:`Vaccination #${je.id}`,source:"vaccination",sourceId:je.id,notes:`Vaccination automatique pour ${je.petName}`})}),C.filter(je=>{const Re=new Date(je.dateGiven);return Re>=X&&Re<=ee}).forEach(je=>{var It;const Re=parseFloat(((It=je.cost)==null?void 0:It.toString())||"0");Ce+=Re,Te.antiparasitics+=Re,V.find(ze=>ze.source==="antiparasitic"&&ze.sourceId===je.id)||hc({type:"revenue",category:"automatic",frequency:"occasional",description:`Antiparasitaire - ${je.productName}`,amount:Re,date:je.dateGiven,reference:`Antiparasitaire #${je.id}`,source:"antiparasitic",sourceId:je.id,notes:`Antiparasitaire automatique pour ${je.petName}`})}),f.filter(je=>{const Re=new Date(je.createdAt);return Re>=X&&Re<=ee}).forEach(je=>{const Re=je.medications.reduce((It,ze)=>{var ln;return It+parseFloat(((ln=ze.cost)==null?void 0:ln.toString())||"0")*ze.quantity},0);Ce+=Re,Te.prescriptions+=Re,!V.find(It=>It.source==="prescription"&&It.sourceId===je.id)&&Re>0&&hc({type:"revenue",category:"automatic",frequency:"occasional",description:`Prescription - ${je.petName}`,amount:Re,date:je.createdAt,reference:`Prescription #${je.id}`,source:"prescription",sourceId:je.id,notes:`Prescription automatique pour ${je.petName}`})}),{totalRevenue:Ce,revenueBreakdown:Te}},Wy=(q,z)=>{const X=new Date(q),ee=new Date(z);let Ce=0;const Te={stockPurchases:0,salaries:0,rent:0,taxes:0,insurance:0,other:0,manualEntries:0,recurringCharges:0};return $.filter(je=>{const Re=new Date(je.date);return Re>=X&&Re<=ee&&je.type==="in"&&je.reason==="Achat fournisseur"}).forEach(je=>{const Re=E.find(Zt=>Zt.id===je.itemId);if(Re){const Zt=Re.purchasePrice*je.quantity;Ce+=Zt,Te.stockPurchases+=Zt,V.find(ze=>ze.source==="stock_purchase"&&ze.reference===je.reference)||hc({type:"expense",category:"automatic",frequency:"occasional",description:`Achat stock - ${je.itemName}`,amount:Zt,date:je.date,reference:je.reference,source:"stock_purchase",notes:`Achat automatique de ${je.quantity} ${je.itemName}`})}}),{totalExpenses:Ce,expenseBreakdown:Te}},E8=(q,z,X)=>{const{totalRevenue:ee,revenueBreakdown:Ce}=Uy(z,X),{totalExpenses:Te,expenseBreakdown:je}=Wy(z,X),Re=V.filter(ln=>{const Or=new Date(ln.date),Mi=new Date(z),Ii=new Date(X);return Or>=Mi&&Or<=Ii&&ln.category==="manual"&&ln.type==="revenue"}).reduce((ln,Or)=>ln+Or.amount,0),Zt=V.filter(ln=>{const Or=new Date(ln.date),Mi=new Date(z),Ii=new Date(X);return Or>=Mi&&Or<=Ii&&ln.category==="manual"&&ln.type==="expense"}).reduce((ln,Or)=>ln+Or.amount,0);Ce.manualEntries=Re,je.manualEntries=Zt;const It=ee+Re,ze=Te+Zt;return{period:q,totalRevenue:It,totalExpenses:ze,netIncome:It-ze,revenueBreakdown:Ce,expenseBreakdown:je}};return s.jsx(dR.Provider,{value:{clients:a,pets:o,consultations:c,appointments:d,prescriptions:f,farms:g,farmInterventions:v,vaccinations:y,vaccinationProtocols:w,antiparasitics:C,antiparasiticProtocols:_,stockItems:E,stockAlerts:A,stockMovements:$,accountingEntries:V,addClient:T,addPet:I,addConsultation:re,addAppointment:G,addPrescription:Bt,addFarm:e8,addFarmIntervention:r8,addVaccination:qy,addVaccinationProtocol:y8,addAntiparasitic:We,addAntiparasiticProtocol:it,addStockItem:ae,addStockMovement:Ne,addAccountingEntry:hc,updateAccountingEntry:k8,deleteAccountingEntry:T8,calculateAutomaticRevenue:Uy,calculateAutomaticExpenses:Wy,generateAccountingSummary:E8,updateClient:F,updatePet:U,updateConsultation:fe,updateAppointment:Se,updatePrescription:Gr,updateFarm:t8,updateFarmIntervention:s8,updateVaccination:Om,updateVaccinationProtocol:j8,updateAntiparasitic:ut,updateAntiparasiticProtocol:ie,updateStockItem:ne,deletePet:se,deleteConsultation:he,deleteAppointment:pe,deletePrescription:Yr,deleteFarm:n8,deleteFarmIntervention:a8,deleteVaccination:h8,deleteVaccinationProtocol:b8,deleteAntiparasitic:$e,deleteAntiparasiticProtocol:Me,deleteStockItem:me,resetData:oe,exportData:O,importData:W,getClientById:Di,getPetById:Rn,getConsultationById:Ha,getAppointmentById:on,getPrescriptionById:ma,getFarmById:i8,getFarmInterventionById:o8,getVaccinationById:Dm,getVaccinationProtocolById:w8,getVaccinationProtocolsBySpecies:N8,getActiveVaccinationProtocols:S8,getAntiparasiticById:jt,getAntiparasiticsByPetId:Ft,getAntiparasiticsByClientId:Kn,getOverdueAntiparasitics:pt,getUpcomingAntiparasitics:Ot,getAntiparasiticsByStatus:Sn,getAntiparasiticProtocolById:er,getAntiparasiticProtocolsBySpecies:Kr,getActiveAntiparasiticProtocols:vn,getPetsByOwnerId:Ds,getConsultationsByPetId:dc,getConsultationsByClientId:fa,getAppointmentsByClientId:Er,getAppointmentsByPetId:Ms,getAppointmentsByDate:fs,getUpcomingAppointments:Vy,getOverdueAppointments:Qe,getPrescriptionsByPetId:Ka,getPrescriptionsByConsultationId:Qr,getActivePrescriptions:pa,getFarmInterventionsByFarmId:l8,getUpcomingFarmInterventions:c8,getFarmsByStatus:u8,getVaccinationsByPetId:f8,getVaccinationsByClientId:m8,getOverdueVaccinations:p8,getUpcomingVaccinations:g8,getVaccinationsByStatus:v8,createVaccinationReminder:_8,completeVaccinationReminder:P8,confirmVaccinationReminder:A8,updateVaccinationStatuses:x8,calculateDueDateFromProtocol:C8,updateClientStats:J,getStockAlerts:le},children:e})}const yt=()=>{const e=b.useContext(dR);if(e===void 0)throw new Error("useClients must be used within a ClientProvider");return e},Y=b.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:Ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Y.displayName="Input";var DX="Label",hR=b.forwardRef((e,t)=>s.jsx(Be.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));hR.displayName=DX;var fR=hR;const MX=mm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),D=b.forwardRef(({className:e,...t},n)=>s.jsx(fR,{ref:n,className:Ie(MX(),e),...t}));D.displayName=fR.displayName;const Z=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Z.displayName="Card";const ue=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ie("flex flex-col space-y-1.5 p-6",e),...t}));ue.displayName="CardHeader";const de=b.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:Ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));de.displayName="CardTitle";const Iu=b.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));Iu.displayName="CardDescription";const te=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ie("p-6 pt-0",e),...t}));te.displayName="CardContent";const IX=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ie("flex items-center p-6 pt-0",e),...t}));IX.displayName="CardFooter";const $X=mm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Bg=b.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:Ie($X({variant:t}),e),...n}));Bg.displayName="Alert";const RX=b.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:Ie("mb-1 font-medium leading-none tracking-tight",e),...t}));RX.displayName="AlertTitle";const zg=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ie("text-sm [&_p]:leading-relaxed",e),...t}));zg.displayName="AlertDescription";function LX(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[a,i]=b.useState(!1),[o,l]=b.useState(""),[c,u]=b.useState(!1),[d,h]=b.useState(!1),{login:f,isLoading:m}=sc(),g=AX(),p=kX(),v=async w=>{if(w.preventDefault(),l(""),!e||!n){l("Veuillez remplir tous les champs");return}await f(e,n)||l("Email ou mot de passe incorrect, ou email non confirmé")},x=async()=>{l("");try{await g.mutateAsync()}catch{l("Erreur lors de la connexion avec Google")}},y=async w=>{if(w.preventDefault(),l(""),!e){l("Veuillez saisir votre email");return}try{await p.mutateAsync(e),h(!0)}catch(N){l(N instanceof Error?N.message:"Une erreur est survenue")}},j=()=>{u(!1),h(!1),l(""),r("")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:s.jsxs(Z,{className:"w-full max-w-md",children:[s.jsxs(ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:s.jsx(dt,{className:"h-8 w-8 text-primary"})})}),s.jsx(de,{className:"text-2xl font-bold",children:"VetPro CRM3"}),s.jsx(Iu,{children:c?d?"Vérifiez votre email":"Réinitialiser votre mot de passe":"Connectez-vous à votre espace vétérinaire"})]}),s.jsx(te,{children:d?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Nous avons envoyé un lien de réinitialisation à ",s.jsx("strong",{children:e})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-6",children:"Cliquez sur le lien dans l'email pour réinitialiser votre mot de passe. Si vous ne voyez pas l'email, vérifiez votre dossier spam."})]}),s.jsxs(B,{onClick:j,className:"w-full",children:[s.jsx(y_,{className:"mr-2 h-4 w-4"}),"Retour à la connexion"]})]}):c?s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o&&s.jsx(Bg,{variant:"destructive",children:s.jsx(zg,{children:o})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"reset-email",children:"Email"}),s.jsx(Y,{id:"reset-email",type:"email",placeholder:"votre.email@example.com",value:e,onChange:w=>t(w.target.value),disabled:p.isPending,required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Entrez l'adresse email associée à votre compte"})]}),s.jsx(B,{type:"submit",className:"w-full",disabled:p.isPending,children:p.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Sr,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi en cours..."]}):"Envoyer le lien de réinitialisation"}),s.jsx("div",{className:"text-center",children:s.jsxs(B,{type:"button",variant:"link",onClick:j,className:"text-sm",children:[s.jsx(y_,{className:"mr-1 h-4 w-4"}),"Retour à la connexion"]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o&&s.jsx(Bg,{variant:"destructive",children:s.jsx(zg,{children:o})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"email",children:"Email"}),s.jsx(Y,{id:"email",type:"email",placeholder:"vet@vetpro.com",value:e,onChange:w=>t(w.target.value),disabled:m,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"password",children:"Mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(Y,{id:"password",type:a?"text":"password",placeholder:"••••••••",value:n,onChange:w=>r(w.target.value),disabled:m,required:!0}),s.jsx(B,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!a),disabled:m,children:a?s.jsx(vb,{className:"h-4 w-4"}):s.jsx(bn,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(B,{type:"button",variant:"link",className:"text-xs p-0 h-auto",onClick:()=>u(!0),children:"Mot de passe oublié ?"})})]}),s.jsx(B,{type:"submit",className:"w-full",disabled:m,children:m?s.jsxs(s.Fragment,{children:[s.jsx(Sr,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continuer avec"})})]}),s.jsx(B,{type:"button",variant:"outline",className:"w-full",onClick:x,disabled:m||g.isPending,children:g.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Sr,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion avec Google..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuer avec Google"]})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pas encore de compte ?"," ",s.jsx("a",{href:"/register",className:"text-primary hover:underline",children:"S'inscrire"})]})})]})})]})})}function mr({children:e}){const{isAuthenticated:t,isLoading:n,user:r}=sc(),[a,i]=b.useState(!1);return b.useEffect(()=>{if(n){const o=setTimeout(()=>{i(!0)},3e3);return()=>clearTimeout(o)}else i(!1)},[n]),a?s.jsx(zb,{to:"/login",replace:!0}):n&&!a?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Vérification de l'authentification..."})]})}):!t||!r?s.jsx(zb,{to:"/login",replace:!0}):s.jsx(s.Fragment,{children:e})}function FX({children:e,redirectTo:t="/dashboard"}){const{isAuthenticated:n,isLoading:r,user:a}=sc(),[i,o]=b.useState(!1);return b.useEffect(()=>{if(r){const l=setTimeout(()=>{o(!0)},2e3);return()=>clearTimeout(l)}else o(!1)},[r]),i?s.jsx(s.Fragment,{children:e}):r&&!i?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Chargement..."})]})}):n&&a?s.jsx(zb,{to:t,replace:!0}):s.jsx(s.Fragment,{children:e})}const mR="/assets/vet-hero-UFBVcjRL.jpg";function BX(){return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-8 w-8 text-primary"}),s.jsx("span",{className:"text-xl font-bold",children:"VetPro"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(B,{variant:"ghost",asChild:!0,children:s.jsx(Gs,{to:"/login",children:"Se connecter"})}),s.jsx(B,{asChild:!0,children:s.jsx(Gs,{to:"/register",children:"Commencer"})})]})]})}),s.jsx("section",{className:"py-20",children:s.jsx("div",{className:"container mx-auto px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 space-y-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-8 w-8 text-primary"}),s.jsx("span",{className:"text-sm font-medium text-primary",children:"Solution CRM Vétérinaire Complète"})]}),s.jsxs("h1",{className:"text-5xl font-bold leading-tight",children:["Gérez votre pratique",s.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"vétérinaire efficacement"})]}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"VetPro vous aide à gérer vos clients, leurs animaux, les rendez-vous, consultations et l'historique médical. Optimisez votre pratique avec notre solution tout-en-un."})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(B,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:s.jsxs(Gs,{to:"/register",children:["Commencer gratuitement",s.jsx(gb,{className:"h-4 w-4"})]})}),s.jsx(B,{variant:"outline",size:"lg",className:"gap-2",asChild:!0,children:s.jsx(Gs,{to:"/login",children:"Voir la démo"})})]})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx("img",{src:mR,alt:"Vétérinaire professionnel",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})})}),s.jsx("section",{className:"py-20 bg-muted/30",children:s.jsxs("div",{className:"container mx-auto px-6",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Tout ce dont vous avez besoin pour votre clinique"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Une solution complète pour moderniser et optimiser votre pratique vétérinaire"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[s.jsx(Fa,{className:"h-12 w-12 text-primary mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Gestion des Clients"}),s.jsx("p",{className:"text-muted-foreground",children:"Gérez facilement vos clients et leurs animaux avec un système intuitif et complet."})]}),s.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[s.jsx(He,{className:"h-12 w-12 text-primary mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Rendez-vous"}),s.jsx("p",{className:"text-muted-foreground",children:"Planifiez et gérez vos rendez-vous avec un calendrier intelligent et flexible."})]}),s.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[s.jsx(yr,{className:"h-12 w-12 text-primary mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Consultations"}),s.jsx("p",{className:"text-muted-foreground",children:"Documentez vos consultations et maintenez un historique médical détaillé."})]}),s.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[s.jsx(nI,{className:"h-12 w-12 text-primary mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Statistiques"}),s.jsx("p",{className:"text-muted-foreground",children:"Analysez votre activité avec des rapports détaillés et des tableaux de bord."})]}),s.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[s.jsx(Wr,{className:"h-12 w-12 text-primary mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Sécurisé"}),s.jsx("p",{className:"text-muted-foreground",children:"Vos données sont protégées avec les plus hauts standards de sécurité."})]}),s.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[s.jsx(dt,{className:"h-12 w-12 text-primary mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Farm Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Gérez les exploitations agricoles et suivez la santé des troupeaux."})]})]})]})}),s.jsx("section",{className:"py-20",children:s.jsx("div",{className:"container mx-auto px-6 text-center",children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsx("h2",{className:"text-3xl font-bold",children:"Prêt à moderniser votre pratique ?"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Rejoignez des centaines de vétérinaires qui font confiance à VetPro pour gérer leur clinique efficacement."}),s.jsx("div",{className:"flex gap-4 justify-center",children:s.jsx(B,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:s.jsxs(Gs,{to:"/register",children:["Commencer maintenant",s.jsx(gb,{className:"h-4 w-4"})]})})})]})})}),s.jsx("footer",{className:"border-t py-8",children:s.jsx("div",{className:"container mx-auto px-6 text-center text-muted-foreground",children:s.jsxs("p",{children:["© ",new Date().getFullYear()," VetPro. Tous droits réservés."]})})})]})}const zX=()=>{const e=bd(),{toast:t}=at(),[n,r]=b.useState(!1),[a,i]=b.useState({username:"",fullName:"",email:"",password:"",confirmPassword:""}),o=u=>u.length<8?"Le mot de passe doit contenir au moins 8 caractères":/[A-Z]/.test(u)?/[a-z]/.test(u)?/\d/.test(u)?/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?]/.test(u)?null:"Le mot de passe doit contenir au moins un caractère spécial":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une lettre minuscule":"Le mot de passe doit contenir au moins une lettre majuscule",l=u=>{i(d=>({...d,[u.target.id]:u.target.value}))},c=async u=>{if(u.preventDefault(),r(!0),a.password!==a.confirmPassword){t({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"}),r(!1);return}const d=o(a.password);if(d){t({title:"Erreur",description:d,variant:"destructive"}),r(!1);return}try{await yX(a.email,a.password,a.username,a.fullName,"assistant"),t({title:"Inscription réussie",description:"Votre compte a été créé avec succès. Veuillez vérifier votre email et cliquer sur le lien de confirmation pour pouvoir vous connecter."}),e("/login")}catch(h){const f=h instanceof Error?h.message:"Une erreur est survenue lors de l'inscription";t({title:"Erreur d'inscription",description:f,variant:"destructive"})}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:s.jsxs(Z,{className:"w-full max-w-md",children:[s.jsxs(ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(dt,{className:"h-12 w-12 text-primary"})}),s.jsx(de,{className:"text-2xl gradient-primary bg-clip-text text-transparent",children:"VetPro CRM"}),s.jsx(Iu,{children:"Créez votre compte vétérinaire"})]}),s.jsxs(te,{children:[s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"username",children:"Nom d'utilisateur"}),s.jsx(Y,{id:"username",placeholder:"martin.dubois",value:a.username,onChange:l,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"fullName",children:"Nom complet"}),s.jsx(Y,{id:"fullName",placeholder:"Dr. Martin Dubois",value:a.fullName,onChange:l,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"email",children:"Email"}),s.jsx(Y,{id:"email",type:"email",placeholder:"votre.email@example.com",value:a.email,onChange:l,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"password",children:"Mot de passe"}),s.jsx(Y,{id:"password",type:"password",placeholder:"Votre mot de passe sécurisé",value:a.password,onChange:l,required:!0,minLength:8}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Le mot de passe doit contenir au moins 8 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),s.jsx(Y,{id:"confirmPassword",type:"password",placeholder:"Confirmer votre mot de passe",value:a.confirmPassword,onChange:l,required:!0,minLength:8})]}),s.jsx(B,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Sr,{className:"mr-2 h-4 w-4 animate-spin"}),"Création en cours..."]}):"Créer le compte"})]}),s.jsxs("div",{className:"mt-6 text-center",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Déjà un compte ?"," ",s.jsx(Gs,{to:"/login",className:"text-primary hover:underline",children:"Se connecter"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:s.jsx(Gs,{to:"/",className:"hover:underline",children:"Retour à l'accueil"})})]})]})]})})};var Lx="Dialog",[pR,lke]=hs(Lx),[VX,ua]=pR(Lx),gR=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=b.useRef(null),c=b.useRef(null),[u,d]=ji({prop:r,defaultProp:a??!1,onChange:i,caller:Lx});return s.jsx(VX,{scope:t,triggerRef:l,contentRef:c,contentId:Ma(),titleId:Ma(),descriptionId:Ma(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};gR.displayName=Lx;var vR="DialogTrigger",xR=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ua(vR,n),i=vt(t,a.triggerRef);return s.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":MS(a.open),...r,ref:i,onClick:_e(e.onClick,a.onOpenToggle)})});xR.displayName=vR;var OS="DialogPortal",[qX,yR]=pR(OS,{forceMount:void 0}),jR=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=ua(OS,t);return s.jsx(qX,{scope:t,forceMount:n,children:b.Children.map(r,o=>s.jsx(Ts,{present:n||i.open,children:s.jsx(hm,{asChild:!0,container:a,children:o})}))})};jR.displayName=OS;var Vg="DialogOverlay",bR=b.forwardRef((e,t)=>{const n=yR(Vg,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=ua(Vg,e.__scopeDialog);return i.modal?s.jsx(Ts,{present:r||i.open,children:s.jsx(WX,{...a,ref:t})}):null});bR.displayName=Vg;var UX=Il("DialogOverlay.RemoveScroll"),WX=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ua(Vg,n);return s.jsx(Ax,{as:UX,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Be.div,{"data-state":MS(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Bl="DialogContent",wR=b.forwardRef((e,t)=>{const n=yR(Bl,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=ua(Bl,e.__scopeDialog);return s.jsx(Ts,{present:r||i.open,children:i.modal?s.jsx(HX,{...a,ref:t}):s.jsx(KX,{...a,ref:t})})});wR.displayName=Bl;var HX=b.forwardRef((e,t)=>{const n=ua(Bl,e.__scopeDialog),r=b.useRef(null),a=vt(t,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return vS(i)},[]),s.jsx(NR,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:_e(e.onFocusOutside,i=>i.preventDefault())})}),KX=b.forwardRef((e,t)=>{const n=ua(Bl,e.__scopeDialog),r=b.useRef(!1),a=b.useRef(!1);return s.jsx(NR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),NR=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ua(Bl,n),c=b.useRef(null),u=vt(t,c);return gS(),s.jsxs(s.Fragment,{children:[s.jsx(Cx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(hd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":MS(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(GX,{titleId:l.titleId}),s.jsx(QX,{contentRef:c,descriptionId:l.descriptionId})]})]})}),DS="DialogTitle",SR=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ua(DS,n);return s.jsx(Be.h2,{id:a.titleId,...r,ref:t})});SR.displayName=DS;var CR="DialogDescription",_R=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ua(CR,n);return s.jsx(Be.p,{id:a.descriptionId,...r,ref:t})});_R.displayName=CR;var PR="DialogClose",AR=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ua(PR,n);return s.jsx(Be.button,{type:"button",...r,ref:t,onClick:_e(e.onClick,()=>a.onOpenChange(!1))})});AR.displayName=PR;function MS(e){return e?"open":"closed"}var kR="DialogTitleWarning",[cke,TR]=CV(kR,{contentName:Bl,titleName:DS,docsSlug:"dialog"}),GX=({titleId:e})=>{const t=TR(kR),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},YX="DialogDescriptionWarning",QX=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${TR(YX).contentName}}.`;return b.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},XX=gR,JX=xR,ZX=jR,ER=bR,OR=wR,DR=SR,MR=_R,eJ=AR;const Ze=XX,Fx=JX,tJ=ZX,IR=b.forwardRef(({className:e,...t},n)=>s.jsx(ER,{ref:n,className:Ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));IR.displayName=ER.displayName;const Ge=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(tJ,{children:[s.jsx(IR,{}),s.jsxs(OR,{ref:r,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(eJ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(vx,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ge.displayName=OR.displayName;const et=({className:e,...t})=>s.jsx("div",{className:Ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});et.displayName="DialogHeader";const tt=b.forwardRef(({className:e,...t},n)=>s.jsx(DR,{ref:n,className:Ie("text-lg font-semibold leading-none tracking-tight",e),...t}));tt.displayName=DR.displayName;const Rt=b.forwardRef(({className:e,...t},n)=>s.jsx(MR,{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));Rt.displayName=MR.displayName;const Ue=b.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:Ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Ue.displayName="Textarea";function $P(e,[t,n]){return Math.min(n,Math.max(t,e))}function IS(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var nJ=[" ","Enter","ArrowUp","ArrowDown"],rJ=[" ","Enter"],zl="Select",[Bx,zx,sJ]=fx(zl),[Sd,uke]=hs(zl,[sJ,vd]),Vx=vd(),[aJ,Bo]=Sd(zl),[iJ,oJ]=Sd(zl),$R=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:g}=e,p=Vx(t),[v,x]=b.useState(null),[y,j]=b.useState(null),[w,N]=b.useState(!1),C=Sx(u),[S,_]=ji({prop:r,defaultProp:a??!1,onChange:i,caller:zl}),[k,E]=ji({prop:o,defaultProp:l,onChange:c,caller:zl}),P=b.useRef(null),A=v?g||!!v.closest("form"):!0,[R,$]=b.useState(new Set),K=Array.from(R).map(V=>V.props.value).join(";");return s.jsx(RI,{...p,children:s.jsxs(aJ,{required:m,scope:t,trigger:v,onTriggerChange:x,valueNode:y,onValueNodeChange:j,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:Ma(),value:k,onValueChange:E,open:S,onOpenChange:_,dir:C,triggerPointerDownPosRef:P,disabled:f,children:[s.jsx(Bx.Provider,{scope:t,children:s.jsx(iJ,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(V=>{$(H=>new Set(H).add(V))},[]),onNativeOptionRemove:b.useCallback(V=>{$(H=>{const T=new Set(H);return T.delete(V),T})},[]),children:n})}),A?s.jsxs(i3,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:k,onChange:V=>E(V.target.value),disabled:f,form:g,children:[k===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},K):null]})})};$R.displayName=zl;var RR="SelectTrigger",LR=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=Vx(n),o=Bo(RR,n),l=o.disabled||r,c=vt(t,o.onTriggerChange),u=zx(n),d=b.useRef("touch"),[h,f,m]=l3(p=>{const v=u().filter(j=>!j.disabled),x=v.find(j=>j.value===o.value),y=c3(v,p,x);y!==void 0&&o.onValueChange(y.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(sS,{asChild:!0,...i,children:s.jsx(Be.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o3(o.value)?"":void 0,...a,ref:c,onClick:_e(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:_e(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:_e(a.onKeyDown,p=>{const v=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(v&&p.key===" ")&&nJ.includes(p.key)&&(g(),p.preventDefault())})})})});LR.displayName=RR;var FR="SelectValue",BR=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=Bo(FR,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=vt(t,c.onValueNodeChange);return Nn(()=>{u(d)},[u,d]),s.jsx(Be.span,{...l,ref:h,style:{pointerEvents:"none"},children:o3(c.value)?s.jsx(s.Fragment,{children:o}):i})});BR.displayName=FR;var lJ="SelectIcon",zR=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(Be.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});zR.displayName=lJ;var cJ="SelectPortal",VR=e=>s.jsx(hm,{asChild:!0,...e});VR.displayName=cJ;var Vl="SelectContent",qR=b.forwardRef((e,t)=>{const n=Bo(Vl,e.__scopeSelect),[r,a]=b.useState();if(Nn(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?Zl.createPortal(s.jsx(UR,{scope:e.__scopeSelect,children:s.jsx(Bx.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(WR,{...e,ref:t})});qR.displayName=Vl;var Fs=10,[UR,zo]=Sd(Vl),uJ="SelectContentImpl",dJ=Il("SelectContent.RemoveScroll"),WR=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...x}=e,y=Bo(Vl,n),[j,w]=b.useState(null),[N,C]=b.useState(null),S=vt(t,le=>w(le)),[_,k]=b.useState(null),[E,P]=b.useState(null),A=zx(n),[R,$]=b.useState(!1),K=b.useRef(!1);b.useEffect(()=>{if(j)return vS(j)},[j]),gS();const V=b.useCallback(le=>{const[re,...se]=A().map(W=>W.ref.current),[oe]=se.slice(-1),O=document.activeElement;for(const W of le)if(W===O||(W==null||W.scrollIntoView({block:"nearest"}),W===re&&N&&(N.scrollTop=0),W===oe&&N&&(N.scrollTop=N.scrollHeight),W==null||W.focus(),document.activeElement!==O))return},[A,N]),H=b.useCallback(()=>V([_,j]),[V,_,j]);b.useEffect(()=>{R&&H()},[R,H]);const{onOpenChange:T,triggerPointerDownPosRef:I}=y;b.useEffect(()=>{if(j){let le={x:0,y:0};const re=oe=>{var O,W;le={x:Math.abs(Math.round(oe.pageX)-(((O=I.current)==null?void 0:O.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((W=I.current)==null?void 0:W.y)??0))}},se=oe=>{le.x<=10&&le.y<=10?oe.preventDefault():j.contains(oe.target)||T(!1),document.removeEventListener("pointermove",re),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",se,{capture:!0})}}},[j,T,I]),b.useEffect(()=>{const le=()=>T(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[T]);const[F,U]=l3(le=>{const re=A().filter(O=>!O.disabled),se=re.find(O=>O.ref.current===document.activeElement),oe=c3(re,le,se);oe&&setTimeout(()=>oe.ref.current.focus())}),J=b.useCallback((le,re,se)=>{const oe=!K.current&&!se;(y.value!==void 0&&y.value===re||oe)&&(k(le),oe&&(K.current=!0))},[y.value]),ae=b.useCallback(()=>j==null?void 0:j.focus(),[j]),ne=b.useCallback((le,re,se)=>{const oe=!K.current&&!se;(y.value!==void 0&&y.value===re||oe)&&P(le)},[y.value]),me=r==="popper"?ow:HR,Ne=me===ow?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return s.jsx(UR,{scope:n,content:j,viewport:N,onViewportChange:C,itemRefCallback:J,selectedItem:_,onItemLeave:ae,itemTextRefCallback:ne,focusSelectedItem:H,selectedItemText:E,position:r,isPositioned:R,searchRef:F,children:s.jsx(Ax,{as:dJ,allowPinchZoom:!0,children:s.jsx(Cx,{asChild:!0,trapped:y.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:_e(a,le=>{var re;(re=y.trigger)==null||re.focus({preventScroll:!0}),le.preventDefault()}),children:s.jsx(hd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(me,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:le=>le.preventDefault(),...x,...Ne,onPlaced:()=>$(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:_e(x.onKeyDown,le=>{const re=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!re&&le.key.length===1&&U(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let oe=A().filter(O=>!O.disabled).map(O=>O.ref.current);if(["ArrowUp","End"].includes(le.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const O=le.target,W=oe.indexOf(O);oe=oe.slice(W+1)}setTimeout(()=>V(oe)),le.preventDefault()}})})})})})})});WR.displayName=uJ;var hJ="SelectItemAlignedPosition",HR=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=Bo(Vl,n),o=zo(Vl,n),[l,c]=b.useState(null),[u,d]=b.useState(null),h=vt(t,S=>d(S)),f=zx(n),m=b.useRef(!1),g=b.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:x,focusSelectedItem:y}=o,j=b.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&v&&x){const S=i.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),E=x.getBoundingClientRect();if(i.dir!=="rtl"){const O=E.left-_.left,W=k.left-O,fe=S.left-W,he=S.width+fe,Ye=Math.max(he,_.width),We=window.innerWidth-Fs,ut=$P(W,[Fs,Math.max(Fs,We-Ye)]);l.style.minWidth=he+"px",l.style.left=ut+"px"}else{const O=_.right-E.right,W=window.innerWidth-k.right-O,fe=window.innerWidth-S.right-W,he=S.width+fe,Ye=Math.max(he,_.width),We=window.innerWidth-Fs,ut=$P(W,[Fs,Math.max(Fs,We-Ye)]);l.style.minWidth=he+"px",l.style.right=ut+"px"}const P=f(),A=window.innerHeight-Fs*2,R=p.scrollHeight,$=window.getComputedStyle(u),K=parseInt($.borderTopWidth,10),V=parseInt($.paddingTop,10),H=parseInt($.borderBottomWidth,10),T=parseInt($.paddingBottom,10),I=K+V+R+T+H,F=Math.min(v.offsetHeight*5,I),U=window.getComputedStyle(p),J=parseInt(U.paddingTop,10),ae=parseInt(U.paddingBottom,10),ne=S.top+S.height/2-Fs,me=A-ne,Ne=v.offsetHeight/2,le=v.offsetTop+Ne,re=K+V+le,se=I-re;if(re<=ne){const O=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const W=u.clientHeight-p.offsetTop-p.offsetHeight,fe=Math.max(me,Ne+(O?ae:0)+W+H),he=re+fe;l.style.height=he+"px"}else{const O=P.length>0&&v===P[0].ref.current;l.style.top="0px";const fe=Math.max(ne,K+p.offsetTop+(O?J:0)+Ne)+se;l.style.height=fe+"px",p.scrollTop=re-ne+p.offsetTop}l.style.margin=`${Fs}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,u,p,v,x,i.dir,r]);Nn(()=>j(),[j]);const[w,N]=b.useState();Nn(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const C=b.useCallback(S=>{S&&g.current===!0&&(j(),y==null||y(),g.current=!1)},[j,y]);return s.jsx(mJ,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:s.jsx(Be.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});HR.displayName=hJ;var fJ="SelectPopperPosition",ow=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Fs,...i}=e,o=Vx(n);return s.jsx(aS,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ow.displayName=fJ;var[mJ,$S]=Sd(Vl,{}),lw="SelectViewport",KR=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=zo(lw,n),o=$S(lw,n),l=vt(t,i.onViewportChange),c=b.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Bx.Slot,{scope:n,children:s.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:_e(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Fs*2,p=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),x=Math.max(p,v);if(x<g){const y=x+m,j=Math.min(g,y),w=y-j;h.style.height=j+"px",h.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});KR.displayName=lw;var GR="SelectGroup",[pJ,gJ]=Sd(GR),vJ=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Ma();return s.jsx(pJ,{scope:n,id:a,children:s.jsx(Be.div,{role:"group","aria-labelledby":a,...r,ref:t})})});vJ.displayName=GR;var YR="SelectLabel",QR=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=gJ(YR,n);return s.jsx(Be.div,{id:a.id,...r,ref:t})});QR.displayName=YR;var qg="SelectItem",[xJ,XR]=Sd(qg),JR=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=Bo(qg,n),c=zo(qg,n),u=l.value===r,[d,h]=b.useState(i??""),[f,m]=b.useState(!1),g=vt(t,y=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,y,r,a)}),p=Ma(),v=b.useRef("touch"),x=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(xJ,{scope:n,value:r,disabled:a,textId:p,isSelected:u,onItemTextChange:b.useCallback(y=>{h(j=>j||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(Bx.ItemSlot,{scope:n,value:r,disabled:a,textValue:d,children:s.jsx(Be.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:_e(o.onFocus,()=>m(!0)),onBlur:_e(o.onBlur,()=>m(!1)),onClick:_e(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:_e(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:_e(o.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:_e(o.onPointerMove,y=>{var j;v.current=y.pointerType,a?(j=c.onItemLeave)==null||j.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(o.onPointerLeave,y=>{var j;y.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:_e(o.onKeyDown,y=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&y.key===" "||(rJ.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});JR.displayName=qg;var Nh="SelectItemText",ZR=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=Bo(Nh,n),l=zo(Nh,n),c=XR(Nh,n),u=oJ(Nh,n),[d,h]=b.useState(null),f=vt(t,x=>h(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=b.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Nn(()=>(p(g),()=>v(g)),[p,v,g]),s.jsxs(s.Fragment,{children:[s.jsx(Be.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Zl.createPortal(i.children,o.valueNode):null]})});ZR.displayName=Nh;var e3="SelectItemIndicator",t3=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return XR(e3,n).isSelected?s.jsx(Be.span,{"aria-hidden":!0,...r,ref:t}):null});t3.displayName=e3;var cw="SelectScrollUpButton",n3=b.forwardRef((e,t)=>{const n=zo(cw,e.__scopeSelect),r=$S(cw,e.__scopeSelect),[a,i]=b.useState(!1),o=vt(t,r.onScrollButtonChange);return Nn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(s3,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});n3.displayName=cw;var uw="SelectScrollDownButton",r3=b.forwardRef((e,t)=>{const n=zo(uw,e.__scopeSelect),r=$S(uw,e.__scopeSelect),[a,i]=b.useState(!1),o=vt(t,r.onScrollButtonChange);return Nn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(s3,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});r3.displayName=uw;var s3=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=zo("SelectScrollButton",n),o=b.useRef(null),l=zx(n),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),Nn(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Be.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:_e(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:_e(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:_e(a.onPointerLeave,()=>{c()})})}),yJ="SelectSeparator",a3=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Be.div,{"aria-hidden":!0,...r,ref:t})});a3.displayName=yJ;var dw="SelectArrow",jJ=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Vx(n),i=Bo(dw,n),o=zo(dw,n);return i.open&&o.position==="popper"?s.jsx(iS,{...a,...r,ref:t}):null});jJ.displayName=dw;var bJ="SelectBubbleInput",i3=b.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const a=b.useRef(null),i=vt(r,a),o=IS(t);return b.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(Be.select,{...n,style:{...DM,...n.style},ref:i,defaultValue:t})});i3.displayName=bJ;function o3(e){return e===""||e===void 0}function l3(e){const t=_r(e),n=b.useRef(""),r=b.useRef(0),a=b.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function c3(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=wJ(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function wJ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var NJ=$R,u3=LR,SJ=BR,CJ=zR,_J=VR,d3=qR,PJ=KR,h3=QR,f3=JR,AJ=ZR,kJ=t3,m3=n3,p3=r3,g3=a3;const be=NJ,we=SJ,xe=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(u3,{ref:r,className:Ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(CJ,{asChild:!0,children:s.jsx(rI,{className:"h-4 w-4 opacity-50"})})]}));xe.displayName=u3.displayName;const v3=b.forwardRef(({className:e,...t},n)=>s.jsx(m3,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Cq,{className:"h-4 w-4"})}));v3.displayName=m3.displayName;const x3=b.forwardRef(({className:e,...t},n)=>s.jsx(p3,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(rI,{className:"h-4 w-4"})}));x3.displayName=p3.displayName;const ye=b.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(_J,{children:s.jsxs(d3,{ref:a,className:Ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(v3,{}),s.jsx(PJ,{className:Ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(x3,{})]})}));ye.displayName=d3.displayName;const TJ=b.forwardRef(({className:e,...t},n)=>s.jsx(h3,{ref:n,className:Ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));TJ.displayName=h3.displayName;const L=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(f3,{ref:r,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(kJ,{children:s.jsx(H1,{className:"h-4 w-4"})})}),s.jsx(AJ,{children:t})]}));L.displayName=f3.displayName;const EJ=b.forwardRef(({className:e,...t},n)=>s.jsx(g3,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));EJ.displayName=g3.displayName;const OJ=async()=>{const{data:e,error:t}=await De.from("clients").select("*").order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching clients: ${t.message}`);return e||[]},DJ=async e=>{const{data:{user:t}}=await De.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:n,error:r}=await De.from("clients").insert({...e,user_id:t.id,city:e.city||"Rabat",country:e.country||"Maroc",client_type:e.client_type||"particulier"}).select().single();if(r)throw new Error(`Error creating client: ${r.message}`);return n},MJ=async(e,t)=>{const{data:n,error:r}=await De.from("clients").update(t).eq("id",e).select().single();if(r)throw new Error(`Error updating client: ${r.message}`);return n},IJ=async()=>{const{data:e,error:t}=await De.from("animals").select(`
      *,
      client:clients(*)
    `).order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching animals: ${t.message}`);return e||[]},$J=async e=>{var o,l,c;const{data:{user:t}}=await De.auth.getUser();if(!t)throw new Error("User not authenticated");const n={...e};"microchip_number"in n&&!((o=n.microchip_number)!=null&&o.trim())&&delete n.microchip_number,"birth_date"in n&&!((l=n.birth_date)!=null&&l.trim())&&delete n.birth_date,"sterilization_date"in n&&!((c=n.sterilization_date)!=null&&c.trim())&&delete n.sterilization_date;const r=u=>{switch(u){case"healthy":return"vivant";case"urgent":return"décédé";case"treatment":return"perdu";default:return"vivant"}},{data:a,error:i}=await De.from("animals").insert({...n,user_id:t.id,sterilized:n.sterilized||!1,status:r(n.status)}).select(`
      *,
      client:clients(*)
    `).single();if(i)throw new Error(`Error creating animal: ${i.message}`);return a},RJ=async(e,t)=>{var i,o,l;const n={...t};"microchip_number"in n&&!((i=n.microchip_number)!=null&&i.trim())&&(n.microchip_number=null),"birth_date"in n&&!((o=n.birth_date)!=null&&o.trim())&&(n.birth_date=null),"sterilization_date"in n&&!((l=n.sterilization_date)!=null&&l.trim())&&(n.sterilization_date=null);const{data:r,error:a}=await De.from("animals").update(n).eq("id",e).select(`
      *,
      client:clients(*)
    `).single();if(a)throw new Error(`Error updating animal: ${a.message}`);return r},LJ=async()=>{const{data:e,error:t}=await De.from("vaccinations").select(`
      *,
      animal:animals(*)
    `).order("vaccination_date",{ascending:!1});if(t)throw new Error(`Error fetching vaccinations: ${t.message}`);return e||[]},FJ=async e=>{const{data:{user:t}}=await De.auth.getUser();if(!t)throw new Error("User not authenticated");let n=e.administered_by;if(!n||n.trim()===""){const{data:i}=await De.from("user_profiles").select("id").eq("id",t.id).single();n=i?t.id:null}const{data:r,error:a}=await De.from("vaccinations").insert({...e,administered_by:n}).select(`
      *,
      animal:animals(*)
    `).single();if(a)throw new Error(`Error creating vaccination: ${a.message}`);return r},BJ=async(e,t)=>{const{data:n,error:r}=await De.from("vaccinations").update(t).eq("id",e).select(`
      *,
      animal:animals(*)
    `).single();if(r)throw new Error(`Error updating vaccination: ${r.message}`);return n},zJ=async e=>{const{error:t}=await De.from("vaccinations").delete().eq("id",e);if(t)throw new Error(`Error deleting vaccination: ${t.message}`)},VJ=async()=>{const{data:e,error:t}=await De.from("vaccination_protocols").select("*").order("species",{ascending:!0}).order("vaccine_name",{ascending:!0});if(t)throw new Error(`Error fetching vaccination protocols: ${t.message}`);return e||[]},qJ=async e=>{const{data:t,error:n}=await De.from("vaccination_protocols").insert(e).select().single();if(n)throw new Error(`Error creating vaccination protocol: ${n.message}`);return t},UJ=async(e,t)=>{const{data:n,error:r}=await De.from("vaccination_protocols").update(t).eq("id",e).select().single();if(r)throw new Error(`Error updating vaccination protocol: ${r.message}`);return n},WJ=async()=>{const{data:e,error:t}=await De.from("antiparasitics").select(`
      *,
      animal:animals(*)
    `).order("treatment_date",{ascending:!1});if(t)throw new Error(`Error fetching antiparasitics: ${t.message}`);return e||[]},HJ=async e=>{const{data:{user:t}}=await De.auth.getUser();if(!t)throw new Error("User must be authenticated to create antiparasitic");if(e.administered_by){const{data:a}=await De.from("user_profiles").select("id").eq("id",e.administered_by).single();a||(console.warn("administered_by user not found, setting to null"),e.administered_by=null)}const{data:n,error:r}=await De.from("antiparasitics").insert([e]).select(`
      *,
      animal:animals(*)
    `).single();if(r)throw new Error(`Error creating antiparasitic: ${r.message}`);return n},KJ=async e=>{const{error:t}=await De.from("antiparasitics").delete().eq("id",e);if(t)throw new Error(`Error deleting antiparasitic: ${t.message}`)},GJ=async()=>{const{data:e,error:t}=await De.from("antiparasitic_protocols").select("*").order("species",{ascending:!0});if(t)throw new Error(`Error fetching antiparasitic protocols: ${t.message}`);return e||[]},YJ=async e=>{const{data:t,error:n}=await De.from("antiparasitic_protocols").select("*").eq("species",e).eq("active",!0).order("parasite_type",{ascending:!0});if(n)throw new Error(`Error fetching antiparasitic protocols for species: ${n.message}`);return t||[]},QJ=async e=>{const{data:t,error:n}=await De.from("antiparasitic_protocols").insert([e]).select("*").single();if(n)throw new Error(`Error creating antiparasitic protocol: ${n.message}`);return t},XJ=async(e,t)=>{const{data:n,error:r}=await De.from("antiparasitic_protocols").update(t).eq("id",e).select("*").single();if(r)throw new Error(`Error updating antiparasitic protocol: ${r.message}`);return n},JJ=async()=>{const{data:e,error:t}=await De.from("appointments").select(`
      *,
      client:clients(*),
      animal:animals(*)
    `).order("appointment_date",{ascending:!0});if(t)throw new Error(`Error fetching appointments: ${t.message}`);return e||[]},ZJ=async e=>{const{data:{user:t}}=await De.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:n,error:r}=await De.from("appointments").insert({...e,veterinarian_id:e.veterinarian_id||t.id,duration_minutes:e.duration_minutes||30}).select(`
      *,
      client:clients(*),
      animal:animals(*)
    `).single();if(r)throw new Error(`Error creating appointment: ${r.message}`);return n},eZ=async(e,t)=>{const{data:n,error:r}=await De.from("appointments").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select(`
      *,
      client:clients(*),
      animal:animals(*)
    `).single();if(r)throw new Error(`Error updating appointment: ${r.message}`);return n},tZ=async e=>{const{error:t}=await De.from("appointments").delete().eq("id",e);if(t)throw new Error(`Error deleting appointment: ${t.message}`)},Ys={all:["clients"],lists:()=>[...Ys.all,"list"],list:e=>[...Ys.lists(),{filters:e}],details:()=>[...Ys.all,"detail"],detail:e=>[...Ys.details(),e],search:e=>[...Ys.all,"search",e]},ns={all:["animals"],lists:()=>[...ns.all,"list"],list:e=>[...ns.lists(),{filters:e}],details:()=>[...ns.all,"detail"],detail:e=>[...ns.details(),e],byClient:e=>[...ns.all,"client",e],search:e=>[...ns.all,"search",e]},ar={all:["appointments"],lists:()=>[...ar.all,"list"],list:e=>[...ar.lists(),{filters:e}],details:()=>[...ar.all,"detail"],detail:e=>[...ar.details(),e],byAnimal:e=>[...ar.all,"animal",e],byClient:e=>[...ar.all,"client",e]},Nm={all:["stats"],clients:()=>[...Nm.all,"clients"]},RS={all:["userProfile"],profile:()=>[...RS.all,"profile"]},ur=()=>kr({queryKey:Ys.lists(),queryFn:OJ,staleTime:5*60*1e3}),nZ=()=>{const e=Lt();return Ht({mutationFn:DJ,onSuccess:t=>{e.invalidateQueries({queryKey:Ys.lists()}),e.setQueryData(Ys.detail(t.id),t),e.invalidateQueries({queryKey:Nm.clients()})}})},rZ=()=>{const e=Lt();return Ht({mutationFn:({id:t,data:n})=>MJ(t,n),onSuccess:t=>{e.setQueryData(Ys.detail(t.id),t),e.invalidateQueries({queryKey:Ys.lists()})}})},dr=()=>kr({queryKey:ns.lists(),queryFn:IJ,staleTime:5*60*1e3}),sZ=()=>{const e=Lt();return Ht({mutationFn:$J,onSuccess:t=>{e.invalidateQueries({queryKey:ns.lists()}),e.setQueryData(ns.detail(t.id),t),e.invalidateQueries({queryKey:ns.byClient(t.client_id)}),e.invalidateQueries({queryKey:Nm.clients()})}})},aZ=()=>{const e=Lt();return Ht({mutationFn:({id:t,data:n})=>RJ(t,n),onSuccess:t=>{e.setQueryData(ns.detail(t.id),t),e.invalidateQueries({queryKey:ns.lists()}),e.invalidateQueries({queryKey:ns.byClient(t.client_id)})}})},Cd=()=>kr({queryKey:["consultations"],queryFn:async()=>{try{const{data:e,error:t}=await De.from("consultations").select(`
            id,
            animal_id,
            client_id,
            veterinarian_id,
            consultation_date,
            consultation_type,
            symptoms,
            diagnosis,
            treatment,
            notes,
            weight,
            temperature,
            heart_rate,
            respiratory_rate,
            photos,
            follow_up_date,
            follow_up_notes,
            status,
            created_at,
            updated_at,
            animal:animals(
              id,
              name,
              species,
              breed,
              color,
              sex,
              weight,
              birth_date,
              microchip_number,
              status
            ),
            client:clients(
              id,
              first_name,
              last_name,
              email,
              phone,
              mobile_phone,
              address,
              city,
              client_type
            )
          `).order("consultation_date",{ascending:!1});if(t)throw console.error("Error fetching consultations:",t),t;return(e||[]).map(n=>({...n,followUp:n.follow_up_notes||null,cost:null,animal:Array.isArray(n.animal)?n.animal[0]:n.animal,client:Array.isArray(n.client)?n.client[0]:n.client}))}catch(e){throw console.error("Failed to fetch consultations:",e),e}},staleTime:5*60*1e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),y3=()=>{const e=Lt();return Ht({mutationFn:async t=>{try{const{data:{user:n}}=await De.auth.getUser();if(!n)throw new Error("User not authenticated");const r={animal_id:t.animal_id,client_id:t.client_id,veterinarian_id:n.id,consultation_date:t.consultation_date||new Date().toISOString(),consultation_type:t.consultation_type,symptoms:t.symptoms||null,diagnosis:t.diagnosis||null,treatment:t.treatment||null,notes:t.notes||null,weight:t.weight||null,temperature:t.temperature||null,heart_rate:t.heart_rate||null,respiratory_rate:t.respiratory_rate||null,photos:t.photos||null,follow_up_date:t.follow_up_date||null,follow_up_notes:t.follow_up_notes||null,status:t.status||"completed"},{data:a,error:i}=await De.from("consultations").insert(r).select(`
            id,
            animal_id,
            client_id,
            veterinarian_id,
            consultation_date,
            consultation_type,
            symptoms,
            diagnosis,
            treatment,
            notes,
            weight,
            temperature,
            heart_rate,
            respiratory_rate,
            photos,
            follow_up_date,
            follow_up_notes,
            status,
            created_at,
            updated_at,
            animal:animals(
              id,
              name,
              species,
              breed,
              color,
              sex,
              weight,
              birth_date,
              microchip_number,
              status
            ),
            client:clients(
              id,
              first_name,
              last_name,
              email,
              phone,
              mobile_phone,
              address,
              city,
              client_type
            )
          `).single();if(i)throw console.error("Error creating consultation:",i),i;return{...a,followUp:a.follow_up_notes||null,cost:null}}catch(n){throw console.error("Failed to create consultation:",n),n}},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},j3=()=>{const e=Lt();return Ht({mutationFn:async({id:t,data:n})=>{const{data:r,error:a}=await De.from("consultations").update(n).eq("id",t).select(`
          *,
          animal:animals(*),
          client:clients(*)
        `).single();if(a)throw a;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},iZ=()=>{const e=Lt();return Ht({mutationFn:async t=>{try{const n=[{table:"prescriptions",field:"consultation_id"},{table:"vaccinations",field:"consultation_id"},{table:"lab_results",field:"consultation_id"},{table:"antiparasitics",field:"consultation_id"}];for(const a of n)try{const{data:i,error:o}=await De.from(a.table).select("id").eq(a.field,t);if(o){console.warn(`Could not check ${a.table}: ${o.message}`);continue}if(i&&i.length>0){if(a.table==="prescriptions")for(const c of i){const{error:u}=await De.from("prescription_medications").delete().eq("prescription_id",c.id);u&&console.warn(`Could not delete prescription medications: ${u.message}`)}const{error:l}=await De.from(a.table).delete().eq(a.field,t);l&&console.warn(`Could not delete from ${a.table}: ${l.message}`)}}catch(i){console.warn(`Error handling ${a.table}:`,i)}const{error:r}=await De.from("consultations").delete().eq("id",t);if(r)throw console.error(`Database error during consultation deletion: ${r.message}`),new Error(`Failed to delete consultation: ${r.message}`);return{success:!0,id:t}}catch(n){throw console.error("Dynamic deletion failed:",n),new Error(`Deletion failed: ${n.message||"Unknown error"}`)}},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["prescriptions"]}),e.invalidateQueries({queryKey:["dashboard-stats"]}),e.invalidateQueries({queryKey:["vaccinations"]}),e.invalidateQueries({queryKey:["lab-results"]})},retry:1})},_d=()=>kr({queryKey:["vaccinations"],queryFn:()=>LJ()}),oZ=()=>{const e=Lt();return Ht({mutationFn:FJ,onSuccess:()=>{e.invalidateQueries({queryKey:["vaccinations"]}),e.invalidateQueries({queryKey:["animals"]})}})},lZ=()=>{const e=Lt();return Ht({mutationFn:({id:t,data:n})=>BJ(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["vaccinations"]}),e.invalidateQueries({queryKey:["animals"]})}})},cZ=()=>{const e=Lt();return Ht({mutationFn:zJ,onSuccess:()=>{e.invalidateQueries({queryKey:["vaccinations"]}),e.invalidateQueries({queryKey:["animals"]})}})},uZ=()=>kr({queryKey:["vaccination-protocols"],queryFn:()=>VJ()}),dZ=()=>{const e=Lt();return Ht({mutationFn:qJ,onSuccess:()=>{e.invalidateQueries({queryKey:["vaccination-protocols"]})}})},hZ=()=>{const e=Lt();return Ht({mutationFn:({id:t,data:n})=>UJ(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["vaccination-protocols"]})}})},qx=()=>kr({queryKey:["antiparasitics"],queryFn:WJ}),fZ=()=>{const e=Lt();return Ht({mutationFn:HJ,onSuccess:()=>{e.invalidateQueries({queryKey:["antiparasitics"]})}})},mZ=()=>{const e=Lt();return Ht({mutationFn:KJ,onSuccess:()=>{e.invalidateQueries({queryKey:["antiparasitics"]})}})},pZ=()=>kr({queryKey:["antiparasitic-protocols"],queryFn:GJ}),gZ=e=>kr({queryKey:["antiparasitic-protocols","by-species",e],queryFn:()=>e?YJ(e):Promise.resolve([]),enabled:!!e}),vZ=()=>{const e=Lt();return Ht({mutationFn:QJ,onSuccess:()=>{e.invalidateQueries({queryKey:["antiparasitic-protocols"]})}})},xZ=()=>{const e=Lt();return Ht({mutationFn:({id:t,updates:n})=>XJ(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["antiparasitic-protocols"]})}})},yZ=()=>kr({queryKey:["client-stats"],queryFn:async()=>{var i,o,l,c;const[e,t]=await Promise.all([De.from("clients").select("id, status"),De.from("animals").select("id, status")]);if(e.error||t.error)throw new Error("Failed to fetch client stats");const n=((i=e.data)==null?void 0:i.filter(u=>u.status==="actif").length)||0;(o=e.data)!=null&&o.length;const r=((l=t.data)==null?void 0:l.length)||0,a=((c=t.data)==null?void 0:c.reduce((u,d)=>(u[d.status]=(u[d.status]||0)+1,u),{}))||{};return{totalClients:n,totalAnimals:r,animalsByStatus:a}},staleTime:5*60*1e3}),Ux=()=>kr({queryKey:["prescriptions"],queryFn:async()=>{try{const{data:e,error:t}=await De.from("prescriptions").select(`
            id,
            consultation_id,
            animal_id,
            client_id,
            veterinarian_id,
            prescription_date,
            diagnosis,
            notes,
            status,
            refill_count,
            valid_until,
            created_at,
            updated_at,
            animal:animals(
              id,
              name,
              species,
              breed,
              color,
              sex,
              weight,
              birth_date,
              microchip_number,
              status
            ),
            client:clients(
              id,
              first_name,
              last_name,
              email,
              phone,
              mobile_phone,
              address,
              city,
              client_type
            ),
            medications:prescription_medications(
              id,
              prescription_id,
              stock_item_id,
              medication_name,
              dosage,
              frequency,
              duration,
              quantity,
              instructions,
              route,
              created_at
            )
          `).order("prescription_date",{ascending:!1});if(t)throw console.error("Error fetching prescriptions:",t),t;return(e||[]).map(n=>({...n,animal:Array.isArray(n.animal)?n.animal[0]:n.animal,client:Array.isArray(n.client)?n.client[0]:n.client}))}catch(e){throw console.error("Dynamic prescription fetch failed:",e),e}},staleTime:5*60*1e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),jZ=e=>kr({queryKey:["prescriptions","animal",e],queryFn:async()=>{try{const{data:t,error:n}=await De.from("prescriptions").select(`
            id,
            consultation_id,
            animal_id,
            client_id,
            veterinarian_id,
            prescription_date,
            diagnosis,
            notes,
            status,
            refill_count,
            valid_until,
            created_at,
            updated_at,
            animal:animals(
              id,
              name,
              species,
              breed,
              color,
              sex,
              weight,
              birth_date,
              microchip_number,
              status
            ),
            client:clients(
              id,
              first_name,
              last_name,
              email,
              phone,
              mobile_phone,
              address,
              city,
              client_type
            ),
            medications:prescription_medications(
              id,
              prescription_id,
              stock_item_id,
              medication_name,
              dosage,
              frequency,
              duration,
              quantity,
              instructions,
              route,
              created_at
            )
          `).eq("animal_id",e).order("prescription_date",{ascending:!1});if(n)throw console.error("Error fetching prescriptions by animal:",n),n;return t||[]}catch(t){throw console.error("Dynamic prescription fetch by animal failed:",t),t}},enabled:!!e,staleTime:5*60*1e3,retry:2}),bZ=()=>{const e=Lt();return Ht({mutationFn:async t=>{try{const{data:{user:n}}=await De.auth.getUser();if(!n)throw new Error("User not authenticated");const{medications:r,...a}=t,i={consultation_id:a.consultation_id,animal_id:a.animal_id,client_id:a.client_id,veterinarian_id:a.veterinarian_id||n.id,prescription_date:a.prescription_date||new Date().toISOString(),diagnosis:a.diagnosis||null,notes:a.notes||null,status:a.status||"active",refill_count:a.refill_count||0,valid_until:a.valid_until||null},{data:o,error:l}=await De.from("prescriptions").insert(i).select(`
            id,
            consultation_id,
            animal_id,
            client_id,
            veterinarian_id,
            prescription_date,
            diagnosis,
            notes,
            status,
            refill_count,
            valid_until,
            created_at,
            updated_at,
            animal:animals(
              id,
              name,
              species,
              breed,
              color,
              sex,
              weight,
              birth_date,
              microchip_number,
              status
            ),
            client:clients(
              id,
              first_name,
              last_name,
              email,
              phone,
              mobile_phone,
              address,
              city,
              client_type
            )
          `).single();if(l)throw console.error("Error creating prescription:",l),new Error(`Error creating prescription: ${l.message}`);if(r&&r.length>0){const c=r.map(h=>({prescription_id:o.id,stock_item_id:h.stock_item_id||null,medication_name:h.medication_name,dosage:h.dosage||null,frequency:h.frequency||null,duration:h.duration||null,quantity:h.quantity||1,instructions:h.instructions||null,route:h.route||null})),{data:u,error:d}=await De.from("prescription_medications").insert(c).select();if(d)throw console.error("Error creating prescription medications:",d),await De.from("prescriptions").delete().eq("id",o.id),new Error(`Error creating prescription medications: ${d.message}`)}return{...o,medications:r||[]}}catch(n){throw console.error("Dynamic prescription creation failed:",n),n}},onSuccess:()=>{e.invalidateQueries({queryKey:["prescriptions"]}),e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]}),e.invalidateQueries({queryKey:["stock-items"]})},retry:1})},LS=()=>kr({queryKey:["stock-items"],queryFn:async()=>{try{const{data:e,error:t}=await De.from("stock_items").select(`
            id,
            name,
            description,
            category,
            unit,
            current_quantity,
            minimum_quantity,
            maximum_quantity,
            unit_cost,
            selling_price,
            supplier,
            batch_number,
            expiration_date,
            location,
            requires_prescription,
            active,
            created_at,
            updated_at
          `).eq("active",!0).order("name");if(t)throw console.error("Error fetching stock items:",t),t;return e||[]}catch(e){throw console.error("Dynamic stock items fetch failed:",e),e}},staleTime:5*60*1e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),wZ=()=>kr({queryKey:RS.profile(),queryFn:Rx,staleTime:5*60*1e3}),NZ=()=>{const e=Lt();return Ht({mutationFn:t=>bX(t),onSuccess:t=>{e.setQueryData(RS.profile(),t),e.invalidateQueries({queryKey:["auth","session"]})}})},FS=()=>kr({queryKey:ar.lists(),queryFn:JJ,staleTime:2*60*1e3}),SZ=()=>{const e=Lt();return Ht({mutationFn:ZJ,onSuccess:t=>{e.invalidateQueries({queryKey:ar.lists()}),t.animal_id&&e.invalidateQueries({queryKey:ar.byAnimal(t.animal_id)}),t.client_id&&(e.invalidateQueries({queryKey:ar.byClient(t.client_id)}),e.invalidateQueries({queryKey:Ys.detail(t.client_id)})),e.invalidateQueries({queryKey:Nm.clients()})}})},CZ=()=>{const e=Lt();return Ht({mutationFn:({id:t,data:n})=>eZ(t,n),onSuccess:t=>{e.invalidateQueries({queryKey:ar.lists()}),e.setQueryData(ar.lists(),n=>n?n.map(r=>r.id===t.id?t:r):[]),t.animal_id&&e.invalidateQueries({queryKey:ar.byAnimal(t.animal_id)}),t.client_id&&e.invalidateQueries({queryKey:ar.byClient(t.client_id)})}})},_Z=()=>{const e=Lt();return Ht({mutationFn:tZ,onSuccess:(t,n)=>{e.setQueryData(ar.lists(),r=>r?r.filter(a=>a.id!==n):[]),e.invalidateQueries({queryKey:ar.lists()}),e.invalidateQueries({queryKey:Nm.clients()})}})};function Wx({open:e,onOpenChange:t}){const n=nZ(),{toast:r}=at(),[a,i]=b.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),o=u=>{const{id:d,value:h}=u.target;i(f=>({...f,[d]:h}))},l=(u,d)=>{i(h=>({...h,[u]:d}))},c=async u=>{u.preventDefault();try{await n.mutateAsync(a),r({title:"Client ajouté",description:`${a.first_name} ${a.last_name} a été ajouté et sauvegardé avec succès.`}),i({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),t(!1)}catch{r({title:"Erreur",description:"Une erreur s'est produite lors de l'ajout du client.",variant:"destructive"})}};return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[500px]",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Nouveau Client"}),s.jsx(Rt,{children:"Ajoutez un nouveau client à votre base de données."})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"first_name",children:"Prénom *"}),s.jsx(Y,{id:"first_name",value:a.first_name,onChange:o,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"last_name",children:"Nom *"}),s.jsx(Y,{id:"last_name",value:a.last_name,onChange:o,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"email",children:"Email"}),s.jsx(Y,{id:"email",type:"email",value:a.email||"",onChange:o})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"phone",children:"Téléphone *"}),s.jsx(Y,{id:"phone",value:a.phone||"",onChange:o,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"address",children:"Adresse"}),s.jsx(Y,{id:"address",value:a.address||"",onChange:o})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"city",children:"Ville"}),s.jsx(Y,{id:"city",value:a.city||"",onChange:o})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"postal_code",children:"Code postal"}),s.jsx(Y,{id:"postal_code",value:a.postal_code||"",onChange:o})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"mobile_phone",children:"Téléphone portable"}),s.jsx(Y,{id:"mobile_phone",value:a.mobile_phone||"",onChange:o,placeholder:"Numéro de téléphone portable"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"client_type",children:"Type de client"}),s.jsxs(be,{value:a.client_type,onValueChange:u=>l("client_type",u),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner le type"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"particulier",children:"Particulier"}),s.jsx(L,{value:"eleveur",children:"Éleveur"}),s.jsx(L,{value:"ferme",children:"Ferme"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(Ue,{id:"notes",value:a.notes||"",onChange:o,placeholder:"Notes additionnelles..."})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsxs(B,{type:"submit",disabled:n.isPending,children:[n.isPending&&s.jsx(Sr,{className:"mr-2 h-4 w-4 animate-spin"}),"Ajouter Client"]})]})]})]})})}function b3({open:e,onOpenChange:t}){return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Nouveau Rendez-vous"}),s.jsx(Rt,{children:"Fonctionnalité en cours de développement."})]}),s.jsx("div",{className:"flex justify-end gap-2 pt-4 border-t",children:s.jsx(B,{onClick:()=>t(!1),children:"Fermer"})})]})})}function Hx({open:e,onOpenChange:t}){const{data:n=[]}=ur(),{data:r=[]}=dr(),a=sZ(),{toast:i}=at(),[o,l]=b.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",status:"vivant",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),c=h=>{l(f=>({...f,[h.target.id]:h.target.value}))},u=(h,f)=>{l(m=>({...m,[h]:f}))},d=async h=>{if(h.preventDefault(),!n.find(m=>m.id===o.ownerId)){i({title:"Erreur",description:"Veuillez sélectionner un propriétaire valide."});return}if(o.microchip&&o.microchip.trim()&&r.find(g=>g.microchip_number===o.microchip.trim())){i({title:"Erreur",description:"Un animal avec ce numéro de puce existe déjà.",variant:"destructive"});return}try{const m={client_id:o.ownerId,name:o.name,species:o.type,breed:o.breed||void 0,color:o.color||void 0,sex:o.gender==="male"?"Mâle":o.gender==="female"?"Femelle":"Inconnu",weight:o.weight?Number(o.weight):void 0,birth_date:o.birthDate||void 0,...o.microchip&&o.microchip.trim()?{microchip_number:o.microchip.trim()}:{},notes:o.medicalNotes||void 0,photo_url:o.photo||void 0,status:o.status==="healthy"?"vivant":o.status==="urgent"?"décédé":"perdu"};await a.mutateAsync(m),i({title:"Animal ajouté",description:`${o.name} a été ajouté et sauvegardé avec succès.`}),l({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",status:"vivant",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),t(!1)}catch{i({title:"Erreur",description:"Erreur lors de l'ajout de l'animal",variant:"destructive"})}};return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Nouvel Animal"}),s.jsx(Rt,{children:"Ajoutez un nouvel animal à votre base de données."})]}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"name",children:"Nom de l'animal *"}),s.jsx(Y,{id:"name",value:o.name,onChange:c,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Type d'animal *"}),s.jsxs(be,{value:o.type,onValueChange:h=>u("type",h),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner le type"})}),s.jsx(ye,{children:s.jsxs(s.Fragment,{children:[s.jsx(L,{value:"Chien",children:"Chien"}),s.jsx(L,{value:"Chat",children:"Chat"}),s.jsx(L,{value:"Oiseau",children:"Oiseau"}),s.jsx(L,{value:"Lapin",children:"Lapin"}),s.jsx(L,{value:"Furet",children:"Furet"}),s.jsx(L,{value:"Souris",children:"Souris"}),s.jsx(L,{value:"Hamster",children:"Hamster"}),s.jsx(L,{value:"Reptile",children:"Reptile"}),s.jsx(L,{value:"Autre",children:"Autre"})]})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"breed",children:"Race"}),s.jsx(Y,{id:"breed",value:o.breed,onChange:c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Sexe"}),s.jsxs(be,{value:o.gender,onValueChange:h=>u("gender",h),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner le sexe"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"male",children:"Mâle"}),s.jsx(L,{value:"female",children:"Femelle"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"birthDate",children:"Date de naissance"}),s.jsx(Y,{id:"birthDate",type:"date",value:o.birthDate,onChange:c,max:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"weight",children:"Poids (kg)"}),s.jsx(Y,{id:"weight",value:o.weight,onChange:c})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"color",children:"Couleur"}),s.jsx(Y,{id:"color",value:o.color,onChange:c})]}),s.jsx("div",{className:"space-y-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Propriétaire *"}),n.length===0?s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:s.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible. Veuillez d'abord ajouter un client."})}):s.jsxs(be,{value:o.ownerId.toString(),onValueChange:h=>u("ownerId",h),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner le propriétaire"})}),s.jsx(ye,{children:n.map(h=>s.jsxs(L,{value:h.id.toString(),children:[h.first_name," ",h.last_name," - ",h.email]},h.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"microchip",children:"Numéro de puce électronique"}),s.jsx(Y,{id:"microchip",value:o.microchip,onChange:c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"medicalNotes",children:"Notes médicales"}),s.jsx(Ue,{id:"medicalNotes",value:o.medicalNotes,onChange:c,placeholder:"Allergies, conditions médicales, notes importantes..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"État de santé"}),s.jsxs(be,{value:o.status,onValueChange:h=>u("status",h),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner l'état de santé"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"healthy",children:"En bonne santé"}),s.jsx(L,{value:"treatment",children:"En traitement"}),s.jsx(L,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Photo de l'animal"}),s.jsx("input",{type:"file",accept:"image/*",onChange:async h=>{var g;const f=(g=h.target.files)==null?void 0:g[0];if(!f)return;const m=new FileReader;m.onload=()=>l(p=>({...p,photo:m.result})),m.readAsDataURL(f)}}),o.photo&&s.jsx("img",{src:o.photo,alt:"preview",className:"h-24 w-24 object-cover rounded"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(B,{type:"submit",children:"Ajouter Animal"})]})]})]})})}const yp="vetpro-clinicSettings",w3={farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},N3={clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},S3={openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]},hw=[{id:1,name:"Dr. Jean Dupont",isActive:!0},{id:2,name:"Dr. Marie Martin",isActive:!0},{id:3,name:"Pr. Ahmed El Alaoui",isActive:!0}],jp={clinicName:"",address:"",phone:"",email:"",website:"",footerText:"",logo:"/placeholder.svg",currency:"MAD",species:"",showClinicInfo:!0,showVetsInfo:!0,veterinarians:hw,farmManagement:w3,displayPreferences:N3,defaultConsultationPrice:150,scheduleSettings:S3},C3=b.createContext(void 0),PZ=({children:e})=>{const[t,n]=b.useState(jp);b.useEffect(()=>{const a=localStorage.getItem(yp);if(a)try{const i=JSON.parse(a),o={...jp,...i,veterinarians:i.veterinarians&&i.veterinarians.some(l=>l.name==="Dr. Martin"||l.name==="Dr. Dupont")?hw:i.veterinarians||hw,farmManagement:{...w3,...i.farmManagement},displayPreferences:{...N3,...i.displayPreferences},scheduleSettings:{...S3,...i.scheduleSettings}};n(o),localStorage.setItem(yp,JSON.stringify(o))}catch(i){console.error("Erreur lors du chargement des paramètres:",i),n(jp)}else localStorage.setItem(yp,JSON.stringify(jp))},[]);const r=a=>{n(a),localStorage.setItem(yp,JSON.stringify(a))};return s.jsx(C3.Provider,{value:{settings:t,updateSettings:r},children:e})};//!/ note: AD - not important
const _t=()=>{const e=b.useContext(C3);if(!e)throw new Error("useSettings must be used within SettingsProvider");return e};function Pd({open:e,onOpenChange:t,prefillData:n}){var N,C,S;const{data:r=[],isLoading:a}=ur(),{data:i=[],isLoading:o}=dr(),l=y3(),{toast:c}=at(),{settings:u}=_t(),[d,h]=b.useState(!1),[f,m]=b.useState(!1),[g,p]=b.useState({clientId:(n==null?void 0:n.clientId)||"",clientName:"",animalId:(n==null?void 0:n.animalId)||"",animalName:"",date:n!=null&&n.consultation_date?new Date(n.consultation_date).toISOString().split("T")[0]:"",weight:((N=n==null?void 0:n.weight)==null?void 0:N.toString())||"",temperature:((C=n==null?void 0:n.temperature)==null?void 0:C.toString())||"",symptoms:(n==null?void 0:n.symptoms)||"",diagnosis:(n==null?void 0:n.diagnosis)||"",treatment:(n==null?void 0:n.treatment)||"",followUp:(n==null?void 0:n.follow_up_notes)||"",cost:((S=n==null?void 0:n.cost)==null?void 0:S.toString())||u.defaultConsultationPrice.toString(),notes:(n==null?void 0:n.notes)||"",photos:(n==null?void 0:n.photos)||[]}),v=i.filter(_=>_.client_id===g.clientId),x=new Date().toISOString().split("T")[0];b.useEffect(()=>{u.defaultConsultationPrice&&!g.cost&&p(_=>({..._,cost:u.defaultConsultationPrice.toString()}))},[u.defaultConsultationPrice,g.cost]);const y=_=>{p(k=>({...k,[_.target.id]:_.target.value}))},j=(_,k)=>{if(_==="clientId"){const E=r.find(P=>P.id===k);p(P=>({...P,clientId:k,clientName:E?`${E.first_name} ${E.last_name}`:"",animalId:"",animalName:""}))}else if(_==="animalId"){const E=i.find(P=>P.id===k);p(P=>({...P,animalId:k,animalName:(E==null?void 0:E.name)||""}))}else p(E=>({...E,[_]:k}))},w=async _=>{if(_.preventDefault(),!g.clientId||!g.animalId){c({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}try{const k={client_id:g.clientId,animal_id:g.animalId,consultation_type:"routine",consultation_date:g.date||x,weight:g.weight?Math.min(parseFloat(g.weight),999.9):void 0,temperature:g.temperature?Math.min(parseFloat(g.temperature),99.9):void 0,symptoms:g.symptoms,diagnosis:g.diagnosis,treatment:g.treatment,follow_up_notes:g.followUp,notes:g.notes};await l.mutateAsync(k),c({title:"Consultation enregistrée",description:`Consultation pour ${g.animalName} (${g.clientName}) a été enregistrée avec succès.`}),p({clientId:"",clientName:"",animalId:"",animalName:"",date:x,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:u.defaultConsultationPrice.toString(),notes:"",photos:[]}),t(!1)}catch{c({title:"Erreur",description:"Impossible d'enregistrer la consultation. Veuillez réessayer.",variant:"destructive"})}};return b.useEffect(()=>{e&&p({clientId:"",clientName:"",animalId:"",animalName:"",date:x,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:u.defaultConsultationPrice.toString(),notes:"",photos:[]})},[e,x]),s.jsxs(s.Fragment,{children:[s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Nouvelle Consultation"}),s.jsx(Rt,{children:"Enregistrez une nouvelle consultation vétérinaire."})]}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Client *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(be,{value:g.clientId.toString(),onValueChange:_=>j("clientId",_),children:[s.jsx(xe,{className:"flex-1",children:s.jsx(we,{placeholder:"Sélectionner le client"})}),s.jsx(ye,{children:r.map(_=>s.jsxs(L,{value:_.id,children:[_.first_name," ",_.last_name]},_.id))})]}),s.jsx(B,{type:"button",size:"sm",variant:"outline",onClick:()=>h(!0),className:"px-2",children:s.jsx(nt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Animal *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(be,{value:g.animalId,onValueChange:_=>j("animalId",_),disabled:!g.clientId,children:[s.jsx(xe,{className:"flex-1",children:s.jsx(we,{placeholder:g.clientId?"Sélectionner l'animal":"Sélectionnez d'abord un client"})}),s.jsx(ye,{children:v.map(_=>s.jsxs(L,{value:_.id,children:[_.name," (",_.species,")"]},_.id))})]}),s.jsx(B,{type:"button",size:"sm",variant:"outline",onClick:()=>m(!0),className:"px-2",disabled:!g.clientId,children:s.jsx(nt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"date",children:"Date *"}),s.jsx(Y,{id:"date",type:"date",value:g.date||x,onChange:y,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"weight",children:"Poids (kg)"}),s.jsx(Y,{id:"weight",type:"number",step:"0.1",min:"0",max:"999.9",value:g.weight,onChange:y,placeholder:"ex: 25.5"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"temperature",children:"Température (°C)"}),s.jsx(Y,{id:"temperature",type:"number",step:"0.1",min:"0",max:"99.9",value:g.temperature,onChange:y,placeholder:"ex: 38.5"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"symptoms",children:"Symptômes observés"}),s.jsx(Ue,{id:"symptoms",value:g.symptoms,onChange:y,placeholder:"Décrivez les symptômes et observations...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"diagnosis",children:"Diagnostic"}),s.jsx(Ue,{id:"diagnosis",value:g.diagnosis,onChange:y,placeholder:"Diagnostic posé...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"treatment",children:"Traitement administré"}),s.jsx(Ue,{id:"treatment",value:g.treatment,onChange:y,placeholder:"Traitements, injections, interventions...",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"followUp",children:"Suivi recommandé"}),s.jsx(Y,{id:"followUp",value:g.followUp,onChange:y,placeholder:"ex: Contrôle dans 1 semaine"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(D,{htmlFor:"cost",children:["Coût (",u.currency,")"]}),s.jsx(Y,{id:"cost",type:"number",step:"0.01",value:g.cost,onChange:y,placeholder:"ex: 85.50"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes additionnelles"}),s.jsx(Ue,{id:"notes",value:g.notes,onChange:y,placeholder:"Notes diverses, recommandations...",rows:3})]}),s.jsxs("div",{className:"space-y-2 col-span-2",children:[s.jsx(D,{children:"Photos de la consultation"}),s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:async _=>{const k=Array.from(_.target.files||[]),E=await Promise.all(k.map(P=>new Promise((A,R)=>{const $=new FileReader;$.onload=()=>A($.result),$.onerror=()=>R(),$.readAsDataURL(P)})));p(P=>({...P,photos:[...P.photos,...E]}))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"}),g.photos.length>0&&s.jsx("div",{className:"flex gap-2 overflow-x-auto pt-2",children:g.photos.map((_,k)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:_,alt:`photo-${k}`,className:"h-24 w-24 object-cover rounded"}),s.jsx("button",{type:"button",onClick:()=>p(E=>({...E,photos:E.photos.filter((P,A)=>A!==k)})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},k))})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(B,{type:"submit",disabled:!g.animalId||l.isPending,children:l.isPending?"Enregistrement...":"Enregistrer Consultation"})]})]})]})}),s.jsx(Wx,{open:d,onOpenChange:h}),s.jsx(Hx,{open:f,onOpenChange:m})]})}const AZ=({children:e,allowedRoles:t,fallback:n=null})=>{const{user:r}=sc();return!r||!t.includes(r.profile.role)?s.jsx(s.Fragment,{children:n}):s.jsx(s.Fragment,{children:e})},fw=({children:e,fallback:t=null})=>s.jsx(AZ,{allowedRoles:["admin"],fallback:t,children:e});function kZ(){const{data:e=[]}=ur(),{data:t=[]}=dr(),{data:n=[]}=Cd(),{data:r=[]}=_d(),{data:a=[]}=qx(),{settings:i}=_t(),o=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),l=o.length===1?`Bienvenue ${o[0].title} ${o[0].name}`:`Bienvenue à ${i.clinicName}`,[c,u]=b.useState(!1),[d,h]=b.useState(!1),[f,m]=b.useState(!1),[g,p]=b.useState(!1),v=e.length,x=t.length,y=r.length,j=a.length,w=new Date().toISOString().split("T")[0],N=n.filter(S=>S.consultation_date.split("T")[0]===w).length,C={totalRevenue:0,totalExpenses:0,netIncome:0,revenueBreakdown:{consultations:0,vaccinations:0,antiparasitics:0,prescriptions:0,manualEntries:0},expenseBreakdown:{stockPurchases:0,salaries:0,rent:0,taxes:0,other:0}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"relative overflow-hidden gradient-hero rounded-2xl p-8 mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-8",children:[i.logo&&s.jsx("img",{src:i.logo,alt:"Logo clinique",className:"h-20 w-20 object-contain rounded"}),s.jsxs("div",{className:"flex-1 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-8 w-8 text-primary"}),s.jsx("span",{className:"text-sm font-medium text-primary",children:"Gestion Vétérinaire Complète"})]}),s.jsxs("h1",{className:"text-4xl font-bold leading-tight max-w-3xl",children:[l,", ",s.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"Dashboard VetPro"})]}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl",children:"Gérez efficacement vos clients, leurs animaux, les rendez-vous et consultations. Votre pratique vétérinaire optimisée en un seul endroit."}),s.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[s.jsxs(B,{size:"lg",className:"gap-2 medical-glow",onClick:()=>u(!0),children:[s.jsx(Fa,{className:"h-5 w-5"}),"Nouveau Client",s.jsx(gb,{className:"h-4 w-4"})]}),s.jsxs(B,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>m(!0),children:[s.jsx(dt,{className:"h-5 w-5"}),"Nouvel Animal"]}),s.jsxs(B,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>h(!0),children:[s.jsx(He,{className:"h-5 w-5"}),"Planifier RDV"]}),s.jsxs(B,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>p(!0),children:[s.jsx(jn,{className:"h-5 w-5"}),"Nouvelle Consultation"]})]}),s.jsxs("div",{className:"flex gap-6 pt-8 flex-wrap",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:v}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Clients actifs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-secondary",children:x}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Animaux suivis"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-accent",children:N}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Consultations aujourd'hui"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Vaccinations"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:j}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Antiparasitaires"})]}),s.jsx(fw,{children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[C.totalRevenue.toFixed(2)," ",i.currency||"€"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Revenus ce mois"})]})})]})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx("img",{src:mR,alt:"Vétérinaire professionnel examinant un chien",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})}),s.jsx(Wx,{open:c,onOpenChange:u}),s.jsx(b3,{open:d,onOpenChange:h}),s.jsx(Hx,{open:f,onOpenChange:m}),s.jsx(Pd,{open:g,onOpenChange:p})]})}function TZ(){const{data:e=[]}=ur(),{data:t=[]}=dr(),{data:n=[]}=Cd(),{data:r=[]}=FS(),{data:a=[]}=Ux(),{data:i=[]}=_d(),{data:o=[]}=qx(),{data:l=[]}=LS(),{settings:c}=_t(),u=e.length,d=t.length;n.length,r.length,a.length;const h=0,f=i.length,m=o.length,g=l.length,p=new Date().getMonth(),v=new Date().getFullYear(),x=n.filter(F=>{const U=new Date(F.consultation_date);return U.getMonth()===p&&U.getFullYear()===v}).length,y=i.filter(F=>{const U=new Date(F.vaccination_date);return U.getMonth()===p&&U.getFullYear()===v}).length,j=o.filter(F=>{const U=new Date(F.treatment_date);return U.getMonth()===p&&U.getFullYear()===v}).length,w=new Date().toISOString().split("T")[0],N=n.filter(F=>F.consultation_date.split("T")[0]===w).length,C=r.filter(F=>F.appointment_date.split("T")[0]===w&&F.status!=="cancelled"&&F.status!=="completed").length,S=[],_=l.filter(F=>F.current_quantity<=F.minimum_quantity).length,k=l.filter(F=>F.current_quantity===0).length;l.reduce((F,U)=>F+U.current_quantity*(U.unit_cost||0),0),new Date(v,p,1).toISOString().split("T")[0],new Date(v,p+1,0).toISOString().split("T")[0];const E={totalRevenue:0,totalExpenses:0,netIncome:0,revenueBreakdown:{consultations:0,vaccinations:0,antiparasitics:0,prescriptions:0,manualEntries:0},expenseBreakdown:{stockPurchases:0,salaries:0,rent:0,taxes:0,other:0}},P=E.totalRevenue,A=E.netIncome,R=(F,U)=>{if(U===0)return F>0?"+100%":"0%";const J=(F-U)/U*100;return J>=0?`+${Math.round(J)}%`:`${Math.round(J)}%`},$=p===0?11:p-1,K=p===0?v-1:v,V=n.filter(F=>{const U=new Date(F.consultation_date);return U.getMonth()===$&&U.getFullYear()===K}).length,H=0,T=0;r.filter(F=>{const U=new Date(F.appointment_date);return U.getMonth()===$&&U.getFullYear()===K}).length;const I=[{title:"Clients Total",value:u.toString(),change:R(u,H),icon:Fa,color:"text-blue-600",bgColor:"bg-blue-50",description:`${u>0?Math.round(u/10):0} nouveaux ce mois`},{title:"Animaux Suivis",value:d.toString(),change:R(d,T),icon:dt,color:"text-red-600",bgColor:"bg-red-50",description:`${d>0?Math.round(d/8):0} nouveaux ce mois`},{title:"RDV Aujourd'hui",value:C.toString(),change:C>0?"+"+Math.min(20,Math.floor(C*.3))+"%":"0%",icon:He,color:"text-purple-600",bgColor:"bg-purple-50",description:`${S.length} à venir cette semaine`},{title:"Consultations",value:x.toString(),change:R(x,V),icon:jn,color:"text-green-600",bgColor:"bg-green-50",description:`${N} aujourd'hui`},{title:"Revenus Réels",value:`${P.toFixed(0)} ${c.currency||"€"}`,change:"0%",icon:fd,color:"text-emerald-600",bgColor:"bg-emerald-50",description:`Bénéfice: ${A.toFixed(0)} ${c.currency||"€"}`},{title:"Activité Ferme",value:h.toString(),change:"0%",icon:ra,color:"text-orange-600",bgColor:"bg-orange-50",description:`${h} exploitations actives`},{title:"Vaccinations",value:y.toString(),change:y>0?"+"+Math.min(25,Math.floor(y*.3))+"%":"0%",icon:Lr,color:"text-blue-600",bgColor:"bg-blue-50",description:`${f} total ce mois`},{title:"Antiparasitaires",value:j.toString(),change:j>0?"+"+Math.min(20,Math.floor(j*.25))+"%":"0%",icon:Wr,color:"text-purple-600",bgColor:"bg-purple-50",description:`${m} total ce mois`},{title:"Stock",value:g.toString(),change:_>0?"-"+Math.min(15,Math.floor(_*.2))+"%":"0%",icon:_>0?pn:Oa,color:_>0?"text-red-600":"text-green-600",bgColor:_>0?"bg-red-50":"bg-green-50",description:`${_} en rupture, ${k} épuisés`}];return s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:I.map(F=>s.jsxs(Z,{className:"card-hover",children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:F.title}),s.jsx("div",{className:`p-2 rounded-lg ${F.bgColor}`,children:s.jsx(F.icon,{className:`h-4 w-4 ${F.color}`})})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:F.value}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.jsx("span",{className:"text-secondary font-medium",children:F.change})," vs mois dernier"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:F.description})]})]},F.title))})}const EZ=mm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pe({className:e,variant:t,...n}){return s.jsx("div",{className:Ie(EZ({variant:t}),e),...n})}function OZ({open:e,onOpenChange:t,client:n,onEdit:r}){return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[600px]",children:[s.jsx(et,{children:s.jsx(tt,{children:"Profil Client"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Jn,{className:"h-20 w-20",children:s.jsx(Zn,{className:"bg-primary text-primary-foreground text-xl",children:n.name.split(" ").map(a=>a[0]).join("")})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pm,{className:"h-3 w-3"}),n.email]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pu,{className:"h-3 w-3"}),n.phone]})]})]})]}),n.address&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Adresse"}),s.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground",children:[s.jsx(ec,{className:"h-4 w-4 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{children:n.address}),s.jsxs("p",{children:[n.postalCode," ",n.city]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4 text-primary"}),"Animaux (",n.pets.length,")"]}),n.pets.length>0?s.jsx("div",{className:"space-y-2",children:n.pets.map((a,i)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:a.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.type," • ",a.breed]})]}),s.jsx(Pe,{variant:"outline",children:a.status==="healthy"?"En bonne santé":a.status==="treatment"?"En traitement":"Urgent"})]},i))}):s.jsx("p",{className:"text-muted-foreground",children:"Aucun animal enregistré"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Dernière visite:"}),s.jsx("p",{children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Total visites:"}),s.jsx("p",{children:n.totalVisits})]})]}),n.notes&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Notes"}),s.jsx("p",{className:"text-muted-foreground",children:n.notes})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),s.jsxs(B,{onClick:r,className:"gap-2",children:[s.jsx(Mt,{className:"h-4 w-4"}),"Modifier"]})]})]})]})}):null}function DZ({open:e,onOpenChange:t,client:n}){const{updateClient:r}=yt(),{toast:a}=at(),[i,o]=b.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",idNumber:"",notes:""});b.useEffect(()=>{n&&o({firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,address:n.address||"",city:n.city||"",postalCode:n.postalCode||"",idNumber:n.idNumber||"",notes:n.notes||""})},[n]);const l=u=>{o(d=>({...d,[u.target.id]:u.target.value}))},c=u=>{u.preventDefault(),n&&(r(n.id,i),a({title:"Client modifié",description:`Les informations de ${i.firstName} ${i.lastName} ont été mises à jour.`}),t(!1))};return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[500px]",children:[s.jsx(et,{children:s.jsx(tt,{children:"Modifier Client"})}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"firstName",children:"Prénom *"}),s.jsx(Y,{id:"firstName",value:i.firstName,onChange:l,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"lastName",children:"Nom *"}),s.jsx(Y,{id:"lastName",value:i.lastName,onChange:l,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"email",children:"Email"}),s.jsx(Y,{id:"email",type:"email",value:i.email,onChange:l})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"phone",children:"Téléphone *"}),s.jsx(Y,{id:"phone",value:i.phone,onChange:l,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"address",children:"Adresse"}),s.jsx(Y,{id:"address",value:i.address,onChange:l})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"city",children:"Ville"}),s.jsx(Y,{id:"city",value:i.city,onChange:l})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"postalCode",children:"Code postal"}),s.jsx(Y,{id:"postalCode",value:i.postalCode,onChange:l})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"idNumber",children:"N° pièce d'identité"}),s.jsx(Y,{id:"idNumber",value:i.idNumber,onChange:l,placeholder:"Numéro de carte d'identité, passeport, etc."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(Ue,{id:"notes",value:i.notes,onChange:l,placeholder:"Notes additionnelles..."})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(B,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}function MZ(){const{clients:e,pets:t,consultations:n,appointments:r}=yt();_t();const[a,i]=b.useState(!1),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState(null),m=[...e].sort((S,_)=>new Date(_.lastVisit).getTime()-new Date(S.lastVisit).getTime()).slice(0,5),g=e.length,p=e.filter(S=>{const _=new Date(S.lastVisit),k=new Date;return k.setDate(k.getDate()-30),_>=k}).length,v=e.filter(S=>{const _=new Date(S.lastVisit),k=new Date().getMonth(),E=new Date().getFullYear();return _.getMonth()===k&&_.getFullYear()===E}).length,x=g>0?(t.length/g).toFixed(1):"0",y=S=>{h(S),l(!0)},j=S=>{h(S),u(!0)},w=()=>{l(!1),u(!0)},N=S=>{const _=new Date(S),E=Math.abs(new Date().getTime()-_.getTime()),P=Math.ceil(E/(1e3*60*60*24));return P===0?"Aujourd'hui":P===1?"Hier":P<7?`Il y a ${P} jours`:P<30?`Il y a ${Math.floor(P/7)} semaine${Math.floor(P/7)>1?"s":""}`:`Il y a ${Math.floor(P/30)} mois`},C=S=>{const _=t.filter(P=>P.ownerId===S.id),k=n.filter(P=>P.clientId===S.id),E=r.filter(P=>P.clientId===S.id);return{pets:_.length,consultations:k.length,appointments:E.length,lastActivity:k.length>0?Math.max(...k.map(P=>new Date(P.date).getTime())):new Date(S.lastVisit).getTime()}};return s.jsxs(s.Fragment,{children:[s.jsxs(Z,{className:"card-hover",children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-lg font-semibold",children:"Clients Récents"}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fa,{className:"h-3 w-3"}),s.jsxs("span",{children:[g," total"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ra,{className:"h-3 w-3"}),s.jsxs("span",{children:[p," actifs"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sn,{className:"h-3 w-3"}),s.jsxs("span",{children:["+",v," ce mois"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"h-3 w-3"}),s.jsxs("span",{children:["Ø ",x," animaux"]})]})]})]}),s.jsxs(B,{size:"sm",className:"gap-2",onClick:()=>i(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouveau Client"]})]}),s.jsx(te,{className:"space-y-4",children:m.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Fa,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucun client enregistré"}),s.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier client"})]}):m.map(S=>{const _=C(S);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Jn,{children:s.jsx(Zn,{className:"bg-primary text-primary-foreground",children:S.name.split(" ").map(k=>k[0]).join("")})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:S.name}),s.jsxs(Pe,{variant:"outline",className:"text-xs",children:[_.pets," animal",_.pets>1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pm,{className:"h-3 w-3"}),S.email]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pu,{className:"h-3 w-3"}),S.phone]}),S.city&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ec,{className:"h-3 w-3"}),S.city]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Dernière visite: ",N(S.lastVisit)]}),s.jsxs("span",{children:["Total visites: ",S.totalVisits]}),s.jsxs("span",{children:["Consultations: ",_.consultations]}),s.jsxs("span",{children:["RDV: ",_.appointments]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>y(S),children:[s.jsx(bn,{className:"h-4 w-4"}),"Voir"]}),s.jsxs(B,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>j(S),children:[s.jsx(Mt,{className:"h-4 w-4"}),"Modifier"]})]})]},S.id)})})]}),s.jsx(Wx,{open:a,onOpenChange:i}),s.jsx(OZ,{open:o,onOpenChange:l,client:d,onEdit:w}),s.jsx(DZ,{open:c,onOpenChange:u,client:d})]})}function _3({open:e,onOpenChange:t,pet:n,onEdit:r,onShowDossier:a}){const{updatePet:i}=yt(),[o,l]=b.useState(null);b.useEffect(()=>{e&&l((n==null?void 0:n.photo)||null)},[e,n]);const c=b.useRef(null),u=d=>{var f;const h=(f=d.target.files)==null?void 0:f[0];if(h){const m=new FileReader;m.onload=g=>{var v;const p=(v=g.target)==null?void 0:v.result;l(p),i(n.id,{photo:p})},m.readAsDataURL(h)}};return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[s.jsx(et,{children:s.jsx(tt,{children:"Profil Animal"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(Jn,{className:"h-24 w-24",children:o?s.jsx(Du,{src:o,alt:n.name,className:"h-full w-full object-cover rounded-full"}):s.jsx(Zn,{className:"bg-primary-glow text-primary-foreground",children:s.jsx(dt,{className:"h-12 w-12"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{size:"sm",variant:"outline",className:"gap-2 w-full flex items-center justify-center",onClick:()=>{var d;return(d=c.current)==null?void 0:d.click()},children:[s.jsx(_u,{className:"h-4 w-4"}),o?"Changer photo":"Ajouter photo"]}),o&&s.jsx(B,{size:"sm",variant:"destructive",className:"gap-2 w-full",onClick:()=>{l(null),i(n.id,{photo:void 0})},children:"Supprimer photo"}),s.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:u,className:"hidden"})]})]}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),s.jsx(Pe,{variant:"outline",className:n.status==="healthy"?"bg-secondary text-secondary-foreground":n.status==="treatment"?"bg-accent text-accent-foreground":"bg-destructive text-destructive-foreground",children:n.status==="healthy"?"En bonne santé":n.status==="treatment"?"En traitement":"Urgent"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Type:"}),s.jsx("p",{className:"text-muted-foreground",children:n.type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Race:"}),s.jsx("p",{className:"text-muted-foreground",children:n.breed||"Non spécifiée"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Âge:"}),s.jsx("p",{className:"text-muted-foreground",children:n.birthDate?s.jsxs(s.Fragment,{children:[ku(n.birthDate),s.jsx("br",{}),s.jsxs("span",{className:"text-xs",children:["Né(e) le ",Da(n.birthDate)]})]}):"Non spécifié"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Poids:"}),s.jsx("p",{className:"text-muted-foreground",children:n.weight||"Non spécifié"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Couleur:"}),s.jsx("p",{className:"text-muted-foreground",children:n.color||"Non spécifiée"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cr,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Propriétaire:"}),s.jsx("p",{className:"text-muted-foreground",children:n.owner})]})]}),n.microchip&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Puce électronique:"}),s.jsx("p",{className:"text-muted-foreground font-mono",children:n.microchip})]})]}),s.jsxs("div",{className:"space-y-4",children:[n.lastVisit&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Dernière visite:"}),s.jsx("p",{className:"text-muted-foreground",children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]})]}),n.nextAppointment&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Prochain RDV:"}),s.jsx("p",{className:"text-muted-foreground",children:new Date(n.nextAppointment).toLocaleDateString("fr-FR")})]})]})]})]}),n.vaccinations&&n.vaccinations.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Vaccinations"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:n.vaccinations.map((d,h)=>s.jsx(Pe,{variant:"outline",children:d},h))})]}),n.medicalNotes&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Notes médicales"}),s.jsx("p",{className:"text-muted-foreground p-3 bg-muted/30 rounded-lg",children:n.medicalNotes})]}),s.jsxs("div",{className:"flex justify-between gap-2 pt-4 border-t",children:[s.jsxs(B,{variant:"outline",onClick:a,className:"gap-2",children:[s.jsx(yr,{className:"h-4 w-4"}),"Voir Dossier Médical"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),s.jsxs(B,{onClick:r,className:"gap-2",children:[s.jsx(Mt,{className:"h-4 w-4"}),"Modifier"]})]})]})]})]})}):null}var Kx="Checkbox",[IZ,dke]=hs(Kx),[$Z,BS]=IZ(Kx);function RZ(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[f,m]=ji({prop:n,defaultProp:a??!1,onChange:c,caller:Kx}),[g,p]=b.useState(null),[v,x]=b.useState(null),y=b.useRef(!1),j=g?!!o||!!g.closest("form"):!0,w={checked:f,disabled:i,setChecked:m,control:g,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:So(a)?!1:a,isFormControl:j,bubbleInput:v,setBubbleInput:x};return s.jsx($Z,{scope:t,...w,children:LZ(h)?h(w):r})}var P3="CheckboxTrigger",A3=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:g}=BS(P3,e),p=vt(a,d),v=b.useRef(c);return b.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const y=()=>h(v.current);return x.addEventListener("reset",y),()=>x.removeEventListener("reset",y)}},[i,h]),s.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":So(c)?"mixed":c,"aria-required":u,"data-state":D3(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:p,onKeyDown:_e(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:_e(n,x=>{h(y=>So(y)?!0:!y),g&&m&&(f.current=x.isPropagationStopped(),f.current||x.stopPropagation())})})});A3.displayName=P3;var zS=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return s.jsx(RZ,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>s.jsxs(s.Fragment,{children:[s.jsx(A3,{...h,ref:t,__scopeCheckbox:n}),f&&s.jsx(O3,{__scopeCheckbox:n})]})})});zS.displayName=Kx;var k3="CheckboxIndicator",T3=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=BS(k3,n);return s.jsx(Ts,{present:r||So(i.checked)||i.checked===!0,children:s.jsx(Be.span,{"data-state":D3(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});T3.displayName=k3;var E3="CheckboxBubbleInput",O3=b.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:m}=BS(E3,e),g=vt(n,m),p=IS(i),v=tS(r);b.useEffect(()=>{const y=f;if(!y)return;const j=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(j,"checked").set,C=!a.current;if(p!==i&&N){const S=new Event("click",{bubbles:C});y.indeterminate=So(i),N.call(y,So(i)?!1:i),y.dispatchEvent(S)}},[f,p,i,a]);const x=b.useRef(So(i)?!1:i);return s.jsx(Be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});O3.displayName=E3;function LZ(e){return typeof e=="function"}function So(e){return e==="indeterminate"}function D3(e){return So(e)?"indeterminate":e?"checked":"unchecked"}const hi=b.forwardRef(({className:e,...t},n)=>s.jsx(zS,{ref:n,className:Ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(T3,{className:Ie("flex items-center justify-center text-current"),children:s.jsx(H1,{className:"h-4 w-4"})})}));hi.displayName=zS.displayName;function FZ({open:e,onOpenChange:t,pet:n}){const{updatePet:r,clients:a}=yt();_t();const{toast:i}=at(),[o,l]=b.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:0,microchip:"",medicalNotes:"",status:"vivant",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""});b.useEffect(()=>{n&&l({name:n.name,type:n.type,breed:n.breed||"",gender:n.gender||"",birthDate:n.birthDate||"",weight:n.weight||"",color:n.color||"",ownerId:n.ownerId,microchip:n.microchip||"",medicalNotes:n.medicalNotes||"",status:n.status,hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""})},[n]);const c=h=>{l(f=>({...f,[h.target.id]:h.target.value}))},u=(h,f)=>{l(m=>({...m,[h]:h==="ownerId"?parseInt(f):f}))},d=h=>{if(h.preventDefault(),!n)return;const f=a.find(m=>m.id===o.ownerId);r(n.id,{...o,owner:(f==null?void 0:f.name)||n.owner}),i({title:"Animal modifié",description:`Les informations de ${o.name} ont été mises à jour.`}),t(!1)};return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[s.jsx(et,{children:s.jsx(tt,{children:"Modifier Animal"})}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"name",children:"Nom de l'animal *"}),s.jsx(Y,{id:"name",value:o.name,onChange:c,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Type d'animal *"}),s.jsxs(be,{value:o.type,onValueChange:h=>u("type",h),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsx(ye,{children:s.jsxs(s.Fragment,{children:[s.jsx(L,{value:"Chien",children:"Chien"}),s.jsx(L,{value:"Chat",children:"Chat"}),s.jsx(L,{value:"Oiseau",children:"Oiseau"}),s.jsx(L,{value:"Lapin",children:"Lapin"}),s.jsx(L,{value:"Furet",children:"Furet"}),s.jsx(L,{value:"Souris",children:"Souris"}),s.jsx(L,{value:"Hamster",children:"Hamster"}),s.jsx(L,{value:"Reptile",children:"Reptile"}),s.jsx(L,{value:"Autre",children:"Autre"})]})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"breed",children:"Race"}),s.jsx(Y,{id:"breed",value:o.breed,onChange:c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Sexe"}),s.jsxs(be,{value:o.gender,onValueChange:h=>u("gender",h),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner le sexe"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"male",children:"Mâle"}),s.jsx(L,{value:"female",children:"Femelle"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"birthDate",children:"Date de naissance"}),s.jsx(Y,{id:"birthDate",type:"date",value:o.birthDate,onChange:c,max:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"weight",children:"Poids (kg)"}),s.jsx(Y,{id:"weight",value:o.weight,onChange:c})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"color",children:"Couleur"}),s.jsx(Y,{id:"color",value:o.color,onChange:c})]}),s.jsx("div",{className:"space-y-2"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Propriétaire *"}),s.jsxs(be,{value:o.ownerId.toString(),onValueChange:h=>u("ownerId",h),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsx(ye,{children:a.map(h=>s.jsx(L,{value:h.id.toString(),children:h.name},h.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Statut de santé"}),s.jsxs(be,{value:o.status,onValueChange:h=>u("status",h),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"healthy",children:"En bonne santé"}),s.jsx(L,{value:"treatment",children:"En traitement"}),s.jsx(L,{value:"urgent",children:"Urgent"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"microchip",children:"Numéro de puce électronique"}),s.jsx(Y,{id:"microchip",value:o.microchip,onChange:c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"medicalNotes",children:"Notes médicales"}),s.jsx(Ue,{id:"medicalNotes",value:o.medicalNotes,onChange:c,placeholder:"Allergies, conditions médicales, notes importantes..."})]}),s.jsxs("div",{className:"space-y-4 border-t pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hi,{id:"hasPedigree",checked:o.hasPedigree,onCheckedChange:h=>l(f=>({...f,hasPedigree:h}))}),s.jsx(D,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),o.hasPedigree&&s.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"officialName",children:"Nom officiel"}),s.jsx(Y,{id:"officialName",value:o.officialName,onChange:c,placeholder:"Nom officiel du pedigree"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),s.jsx(Y,{id:"pedigreeNumber",value:o.pedigreeNumber,onChange:c,placeholder:"Numéro de pedigree"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"breeder",children:"Éleveur"}),s.jsx(Y,{id:"breeder",value:o.breeder,onChange:c,placeholder:"Nom de l'éleveur"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Père"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{placeholder:"Nom du père",value:o.fatherName,onChange:c}),s.jsx(Y,{placeholder:"N° pedigree du père",value:o.fatherPedigree,onChange:c}),s.jsx(Y,{placeholder:"Race du père",value:o.fatherBreed,onChange:c}),s.jsx(Ue,{placeholder:"Titres du père",value:o.fatherTitles,onChange:c,rows:2})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{placeholder:"Nom de la mère",value:o.motherName,onChange:c}),s.jsx(Y,{placeholder:"N° pedigree de la mère",value:o.motherPedigree,onChange:c}),s.jsx(Y,{placeholder:"Race de la mère",value:o.motherBreed,onChange:c}),s.jsx(Ue,{placeholder:"Titres de la mère",value:o.motherTitles,onChange:c,rows:2})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Document pedigree"}),s.jsx("input",{type:"file",accept:"image/*",onChange:async h=>{var g;const f=(g=h.target.files)==null?void 0:g[0];if(!f)return;const m=new FileReader;m.onload=()=>l(p=>({...p,pedigreePhoto:m.result})),m.readAsDataURL(f)}}),o.pedigreePhoto&&s.jsx("img",{src:o.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(B,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}var Gx="Tabs",[BZ,hke]=hs(Gx,[_x]),M3=_x(),[zZ,VS]=BZ(Gx),I3=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Sx(l),[h,f]=ji({prop:r,onChange:a,defaultProp:i??"",caller:Gx});return s.jsx(zZ,{scope:n,baseId:Ma(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:s.jsx(Be.div,{dir:d,"data-orientation":o,...u,ref:t})})});I3.displayName=Gx;var $3="TabsList",R3=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=VS($3,n),o=M3(n);return s.jsx(j$,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(Be.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});R3.displayName=$3;var L3="TabsTrigger",F3=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=VS(L3,n),l=M3(n),c=V3(o.baseId,r),u=q3(o.baseId,r),d=r===o.value;return s.jsx(b$,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Be.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:_e(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:_e(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:_e(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!a&&h&&o.onValueChange(r)})})})});F3.displayName=L3;var B3="TabsContent",z3=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=VS(B3,n),c=V3(l.baseId,r),u=q3(l.baseId,r),d=r===l.value,h=b.useRef(d);return b.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(Ts,{present:a||d,children:({present:f})=>s.jsx(Be.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});z3.displayName=B3;function V3(e,t){return`${e}-trigger-${t}`}function q3(e,t){return`${e}-content-${t}`}var VZ=I3,U3=R3,W3=F3,H3=z3;const ki=VZ,qa=b.forwardRef(({className:e,...t},n)=>s.jsx(U3,{ref:n,className:Ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));qa.displayName=U3.displayName;const At=b.forwardRef(({className:e,...t},n)=>s.jsx(W3,{ref:n,className:Ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));At.displayName=W3.displayName;const kt=b.forwardRef(({className:e,...t},n)=>s.jsx(H3,{ref:n,className:Ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));kt.displayName=H3.displayName;function cr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Eo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function qS(e,t){const n=cr(e);return isNaN(t)?Eo(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const K3=6048e5,qZ=864e5;let UZ={};function Yx(){return UZ}function jf(e,t){var l,c,u,d;const n=Yx(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=cr(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Ug(e){return jf(e,{weekStartsOn:1})}function G3(e){const t=cr(e),n=t.getFullYear(),r=Eo(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=Ug(r),i=Eo(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Ug(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Wg(e){const t=cr(e);return t.setHours(0,0,0,0),t}function RP(e){const t=cr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function WZ(e,t){const n=Wg(e),r=Wg(t),a=+n-RP(n),i=+r-RP(r);return Math.round((a-i)/qZ)}function HZ(e){const t=G3(e),n=Eo(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ug(n)}function KZ(e,t){const n=Wg(e),r=Wg(t);return+n==+r}function GZ(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function YZ(e){if(!GZ(e)&&typeof e!="number")return!1;const t=cr(e);return!isNaN(Number(t))}function QZ(e){const t=cr(e),n=Eo(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const XZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JZ=(e,t,n)=>{let r;const a=XZ[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function nu(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ZZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nee={date:nu({formats:ZZ,defaultWidth:"full"}),time:nu({formats:eee,defaultWidth:"full"}),dateTime:nu({formats:tee,defaultWidth:"full"})},ree={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},see=(e,t,n,r)=>ree[e];function Sa(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const aee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dee=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},hee={ordinalNumber:dee,era:Sa({values:aee,defaultWidth:"wide"}),quarter:Sa({values:iee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Sa({values:oee,defaultWidth:"wide"}),day:Sa({values:lee,defaultWidth:"wide"}),dayPeriod:Sa({values:cee,defaultWidth:"wide",formattingValues:uee,defaultFormattingWidth:"wide"})};function Ca(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?mee(l,h=>h.test(o)):fee(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function fee(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function mee(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Y3(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const pee=/^(\d+)(th|st|nd|rd)?/i,gee=/\d+/i,vee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xee={any:[/^b/i,/^(a|c)/i]},yee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jee={any:[/1/i,/2/i,/3/i,/4/i]},bee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},See={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_ee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pee={ordinalNumber:Y3({matchPattern:pee,parsePattern:gee,valueCallback:e=>parseInt(e,10)}),era:Ca({matchPatterns:vee,defaultMatchWidth:"wide",parsePatterns:xee,defaultParseWidth:"any"}),quarter:Ca({matchPatterns:yee,defaultMatchWidth:"wide",parsePatterns:jee,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ca({matchPatterns:bee,defaultMatchWidth:"wide",parsePatterns:wee,defaultParseWidth:"any"}),day:Ca({matchPatterns:Nee,defaultMatchWidth:"wide",parsePatterns:See,defaultParseWidth:"any"}),dayPeriod:Ca({matchPatterns:Cee,defaultMatchWidth:"any",parsePatterns:_ee,defaultParseWidth:"any"})},Aee={code:"en-US",formatDistance:JZ,formatLong:nee,formatRelative:see,localize:hee,match:Pee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kee(e){const t=cr(e);return WZ(t,QZ(t))+1}function Tee(e){const t=cr(e),n=+Ug(t)-+HZ(t);return Math.round(n/K3)+1}function Q3(e,t){var d,h,f,m;const n=cr(e),r=n.getFullYear(),a=Yx(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(f=a.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=Eo(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=jf(o,t),c=Eo(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=jf(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Eee(e,t){var l,c,u,d;const n=Yx(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=Q3(e,t),i=Eo(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),jf(i,t)}function Oee(e,t){const n=cr(e),r=+jf(n,t)-+Eee(n,t);return Math.round(r/K3)+1}function Pt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Bi={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Pt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Pt(n+1,2)},d(e,t){return Pt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Pt(e.getHours()%12||12,t.length)},H(e,t){return Pt(e.getHours(),t.length)},m(e,t){return Pt(e.getMinutes(),t.length)},s(e,t){return Pt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Pt(a,t.length)}},Nc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},LP={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Bi.y(e,t)},Y:function(e,t,n,r){const a=Q3(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Pt(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Pt(i,t.length)},R:function(e,t){const n=G3(e);return Pt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Pt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Pt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Pt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Bi.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Pt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Oee(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Pt(a,t.length)},I:function(e,t,n){const r=Tee(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Pt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Bi.d(e,t)},D:function(e,t,n){const r=kee(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Pt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Pt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Pt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Pt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Nc.noon:r===0?a=Nc.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Nc.evening:r>=12?a=Nc.afternoon:r>=4?a=Nc.morning:a=Nc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Bi.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Bi.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Pt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Pt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Bi.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Bi.s(e,t)},S:function(e,t){return Bi.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return BP(r);case"XXXX":case"XX":return el(r);case"XXXXX":case"XXX":default:return el(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return BP(r);case"xxxx":case"xx":return el(r);case"xxxxx":case"xxx":default:return el(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+FP(r,":");case"OOOO":default:return"GMT"+el(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+FP(r,":");case"zzzz":default:return"GMT"+el(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Pt(r,t.length)},T:function(e,t,n){const r=e.getTime();return Pt(r,t.length)}};function FP(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+Pt(i,2)}function BP(e,t){return e%60===0?(e>0?"-":"+")+Pt(Math.abs(e)/60,2):el(e,t)}function el(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Pt(Math.trunc(r/60),2),i=Pt(r%60,2);return n+a+t+i}const zP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},X3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Dee=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return zP(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",zP(r,t)).replace("{{time}}",X3(a,t))},Mee={p:X3,P:Dee},Iee=/^D+$/,$ee=/^Y+$/,Ree=["D","DD","YY","YYYY"];function Lee(e){return Iee.test(e)}function Fee(e){return $ee.test(e)}function Bee(e,t,n){const r=zee(e,t,n);if(console.warn(r),Ree.includes(e))throw new RangeError(r)}function zee(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Vee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Uee=/^'([^]*?)'?$/,Wee=/''/g,Hee=/[a-zA-Z]/;function Xe(e,t,n){var d,h,f,m,g,p,v,x;const r=Yx(),a=(n==null?void 0:n.locale)??r.locale??Aee,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((x=(v=r.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=cr(e);if(!YZ(l))throw new RangeError("Invalid time value");let c=t.match(qee).map(y=>{const j=y[0];if(j==="p"||j==="P"){const w=Mee[j];return w(y,a.formatLong)}return y}).join("").match(Vee).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const j=y[0];if(j==="'")return{isToken:!1,value:Kee(y)};if(LP[j])return{isToken:!0,value:y};if(j.match(Hee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const j=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Fee(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Lee(j))&&Bee(j,t,String(e));const w=LP[j[0]];return w(l,j,a.localize,u)}).join("")}function Kee(e){const t=e.match(Uee);return t?t[1].replace(Wee,"'"):e}function Gee(e,t){const n=cr(e),r=cr(t);return n.getTime()>r.getTime()}function Hg(e,t){const n=cr(e),r=cr(t);return+n<+r}function Yee({open:e,onOpenChange:t,vaccination:n}){const{confirmVaccinationReminder:r,calculateDueDateFromProtocol:a}=yt(),{toast:i}=at(),[o,l]=b.useState({datePerformed:Xe(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),c=d=>{if(d.preventDefault(),!o.veterinarian){i({title:"Erreur",description:"Le nom du vétérinaire est requis",variant:"destructive"});return}let h=o.newNextDueDate;!h&&n&&(h=a(n.vaccineName,"chien",o.datePerformed)||""),r(n.id,{datePerformed:o.datePerformed,veterinarian:o.veterinarian,batchNumber:o.batchNumber,notes:o.notes,newNextDueDate:h})&&(i({title:"Rappel confirmé",description:`Le rappel de ${n.vaccineName} a été confirmé et enregistré`}),l({datePerformed:Xe(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),t(!1))},u=d=>{l(h=>({...h,[d.target.name]:d.target.value}))};return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[500px]",children:[s.jsx(et,{children:s.jsx(tt,{children:"Confirmer le rappel de vaccination"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Vaccination à confirmer :"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:n.vaccineName})," pour ",n.petName]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Rappel prévu le : ",new Date(n.nextDueDate).toLocaleDateString("fr-FR")]})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"datePerformed",children:"Date d'administration *"}),s.jsx(Y,{id:"datePerformed",name:"datePerformed",type:"date",value:o.datePerformed,onChange:u,required:!0})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"veterinarian",children:"Vétérinaire *"}),s.jsx(Y,{id:"veterinarian",name:"veterinarian",value:o.veterinarian,onChange:u,placeholder:"Nom du vétérinaire",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"batchNumber",children:"Numéro de lot"}),s.jsx(Y,{id:"batchNumber",name:"batchNumber",value:o.batchNumber,onChange:u,placeholder:"Numéro de lot du vaccin"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"newNextDueDate",children:"Nouvelle date de rappel"}),s.jsx(Y,{id:"newNextDueDate",name:"newNextDueDate",type:"date",value:o.newNextDueDate,onChange:u,placeholder:"Date du prochain rappel"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Laissez vide pour utiliser la date calculée selon le protocole"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(Ue,{id:"notes",name:"notes",value:o.notes,onChange:u,placeholder:"Notes sur l'administration du vaccin",rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(B,{type:"submit",children:"Confirmer le rappel"})]})]})]})]})}):null}var Qee=Array.isArray,Hr=Qee,Xee=typeof or=="object"&&or&&or.Object===Object&&or,J3=Xee,Jee=J3,Zee=typeof self=="object"&&self&&self.Object===Object&&self,ete=Jee||Zee||Function("return this")(),Ua=ete,tte=Ua,nte=tte.Symbol,Sm=nte,VP=Sm,Z3=Object.prototype,rte=Z3.hasOwnProperty,ste=Z3.toString,sh=VP?VP.toStringTag:void 0;function ate(e){var t=rte.call(e,sh),n=e[sh];try{e[sh]=void 0;var r=!0}catch{}var a=ste.call(e);return r&&(t?e[sh]=n:delete e[sh]),a}var ite=ate,ote=Object.prototype,lte=ote.toString;function cte(e){return lte.call(e)}var ute=cte,qP=Sm,dte=ite,hte=ute,fte="[object Null]",mte="[object Undefined]",UP=qP?qP.toStringTag:void 0;function pte(e){return e==null?e===void 0?mte:fte:UP&&UP in Object(e)?dte(e):hte(e)}var Ti=pte;function gte(e){return e!=null&&typeof e=="object"}var Ei=gte,vte=Ti,xte=Ei,yte="[object Symbol]";function jte(e){return typeof e=="symbol"||xte(e)&&vte(e)==yte}var Ad=jte,bte=Hr,wte=Ad,Nte=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ste=/^\w*$/;function Cte(e,t){if(bte(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||wte(e)?!0:Ste.test(e)||!Nte.test(e)||t!=null&&e in Object(t)}var US=Cte;function _te(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Vo=_te;const kd=Ct(Vo);var Pte=Ti,Ate=Vo,kte="[object AsyncFunction]",Tte="[object Function]",Ete="[object GeneratorFunction]",Ote="[object Proxy]";function Dte(e){if(!Ate(e))return!1;var t=Pte(e);return t==Tte||t==Ete||t==kte||t==Ote}var WS=Dte;const qe=Ct(WS);var Mte=Ua,Ite=Mte["__core-js_shared__"],$te=Ite,U0=$te,WP=function(){var e=/[^.]+$/.exec(U0&&U0.keys&&U0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Rte(e){return!!WP&&WP in e}var Lte=Rte,Fte=Function.prototype,Bte=Fte.toString;function zte(e){if(e!=null){try{return Bte.call(e)}catch{}try{return e+""}catch{}}return""}var eL=zte,Vte=WS,qte=Lte,Ute=Vo,Wte=eL,Hte=/[\\^$.*+?()[\]{}|]/g,Kte=/^\[object .+?Constructor\]$/,Gte=Function.prototype,Yte=Object.prototype,Qte=Gte.toString,Xte=Yte.hasOwnProperty,Jte=RegExp("^"+Qte.call(Xte).replace(Hte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zte(e){if(!Ute(e)||qte(e))return!1;var t=Vte(e)?Jte:Kte;return t.test(Wte(e))}var ene=Zte;function tne(e,t){return e==null?void 0:e[t]}var nne=tne,rne=ene,sne=nne;function ane(e,t){var n=sne(e,t);return rne(n)?n:void 0}var ac=ane,ine=ac,one=ine(Object,"create"),Qx=one,HP=Qx;function lne(){this.__data__=HP?HP(null):{},this.size=0}var cne=lne;function une(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var dne=une,hne=Qx,fne="__lodash_hash_undefined__",mne=Object.prototype,pne=mne.hasOwnProperty;function gne(e){var t=this.__data__;if(hne){var n=t[e];return n===fne?void 0:n}return pne.call(t,e)?t[e]:void 0}var vne=gne,xne=Qx,yne=Object.prototype,jne=yne.hasOwnProperty;function bne(e){var t=this.__data__;return xne?t[e]!==void 0:jne.call(t,e)}var wne=bne,Nne=Qx,Sne="__lodash_hash_undefined__";function Cne(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nne&&t===void 0?Sne:t,this}var _ne=Cne,Pne=cne,Ane=dne,kne=vne,Tne=wne,Ene=_ne;function Td(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Td.prototype.clear=Pne;Td.prototype.delete=Ane;Td.prototype.get=kne;Td.prototype.has=Tne;Td.prototype.set=Ene;var One=Td;function Dne(){this.__data__=[],this.size=0}var Mne=Dne;function Ine(e,t){return e===t||e!==e&&t!==t}var HS=Ine,$ne=HS;function Rne(e,t){for(var n=e.length;n--;)if($ne(e[n][0],t))return n;return-1}var Xx=Rne,Lne=Xx,Fne=Array.prototype,Bne=Fne.splice;function zne(e){var t=this.__data__,n=Lne(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Bne.call(t,n,1),--this.size,!0}var Vne=zne,qne=Xx;function Une(e){var t=this.__data__,n=qne(t,e);return n<0?void 0:t[n][1]}var Wne=Une,Hne=Xx;function Kne(e){return Hne(this.__data__,e)>-1}var Gne=Kne,Yne=Xx;function Qne(e,t){var n=this.__data__,r=Yne(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Xne=Qne,Jne=Mne,Zne=Vne,ere=Wne,tre=Gne,nre=Xne;function Ed(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ed.prototype.clear=Jne;Ed.prototype.delete=Zne;Ed.prototype.get=ere;Ed.prototype.has=tre;Ed.prototype.set=nre;var Jx=Ed,rre=ac,sre=Ua,are=rre(sre,"Map"),KS=are,KP=One,ire=Jx,ore=KS;function lre(){this.size=0,this.__data__={hash:new KP,map:new(ore||ire),string:new KP}}var cre=lre;function ure(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var dre=ure,hre=dre;function fre(e,t){var n=e.__data__;return hre(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Zx=fre,mre=Zx;function pre(e){var t=mre(this,e).delete(e);return this.size-=t?1:0,t}var gre=pre,vre=Zx;function xre(e){return vre(this,e).get(e)}var yre=xre,jre=Zx;function bre(e){return jre(this,e).has(e)}var wre=bre,Nre=Zx;function Sre(e,t){var n=Nre(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Cre=Sre,_re=cre,Pre=gre,Are=yre,kre=wre,Tre=Cre;function Od(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Od.prototype.clear=_re;Od.prototype.delete=Pre;Od.prototype.get=Are;Od.prototype.has=kre;Od.prototype.set=Tre;var GS=Od,tL=GS,Ere="Expected a function";function YS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ere);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(YS.Cache||tL),n}YS.Cache=tL;var nL=YS;const Ore=Ct(nL);var Dre=nL,Mre=500;function Ire(e){var t=Dre(e,function(r){return n.size===Mre&&n.clear(),r}),n=t.cache;return t}var $re=Ire,Rre=$re,Lre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fre=/\\(\\)?/g,Bre=Rre(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Lre,function(n,r,a,i){t.push(a?i.replace(Fre,"$1"):r||n)}),t}),zre=Bre;function Vre(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var QS=Vre,GP=Sm,qre=QS,Ure=Hr,Wre=Ad,Hre=1/0,YP=GP?GP.prototype:void 0,QP=YP?YP.toString:void 0;function rL(e){if(typeof e=="string")return e;if(Ure(e))return qre(e,rL)+"";if(Wre(e))return QP?QP.call(e):"";var t=e+"";return t=="0"&&1/e==-Hre?"-0":t}var Kre=rL,Gre=Kre;function Yre(e){return e==null?"":Gre(e)}var sL=Yre,Qre=Hr,Xre=US,Jre=zre,Zre=sL;function ese(e,t){return Qre(e)?e:Xre(e,t)?[e]:Jre(Zre(e))}var aL=ese,tse=Ad,nse=1/0;function rse(e){if(typeof e=="string"||tse(e))return e;var t=e+"";return t=="0"&&1/e==-nse?"-0":t}var ey=rse,sse=aL,ase=ey;function ise(e,t){t=sse(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ase(t[n++])];return n&&n==r?e:void 0}var XS=ise,ose=XS;function lse(e,t,n){var r=e==null?void 0:ose(e,t);return r===void 0?n:r}var iL=lse;const os=Ct(iL);function cse(e){return e==null}var use=cse;const Ke=Ct(use);var dse=Ti,hse=Hr,fse=Ei,mse="[object String]";function pse(e){return typeof e=="string"||!hse(e)&&fse(e)&&dse(e)==mse}var gse=pse;const ql=Ct(gse);var oL={exports:{}},Et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS=Symbol.for("react.element"),ZS=Symbol.for("react.portal"),ty=Symbol.for("react.fragment"),ny=Symbol.for("react.strict_mode"),ry=Symbol.for("react.profiler"),sy=Symbol.for("react.provider"),ay=Symbol.for("react.context"),vse=Symbol.for("react.server_context"),iy=Symbol.for("react.forward_ref"),oy=Symbol.for("react.suspense"),ly=Symbol.for("react.suspense_list"),cy=Symbol.for("react.memo"),uy=Symbol.for("react.lazy"),xse=Symbol.for("react.offscreen"),lL;lL=Symbol.for("react.module.reference");function Es(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case JS:switch(e=e.type,e){case ty:case ry:case ny:case oy:case ly:return e;default:switch(e=e&&e.$$typeof,e){case vse:case ay:case iy:case uy:case cy:case sy:return e;default:return t}}case ZS:return t}}}Et.ContextConsumer=ay;Et.ContextProvider=sy;Et.Element=JS;Et.ForwardRef=iy;Et.Fragment=ty;Et.Lazy=uy;Et.Memo=cy;Et.Portal=ZS;Et.Profiler=ry;Et.StrictMode=ny;Et.Suspense=oy;Et.SuspenseList=ly;Et.isAsyncMode=function(){return!1};Et.isConcurrentMode=function(){return!1};Et.isContextConsumer=function(e){return Es(e)===ay};Et.isContextProvider=function(e){return Es(e)===sy};Et.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===JS};Et.isForwardRef=function(e){return Es(e)===iy};Et.isFragment=function(e){return Es(e)===ty};Et.isLazy=function(e){return Es(e)===uy};Et.isMemo=function(e){return Es(e)===cy};Et.isPortal=function(e){return Es(e)===ZS};Et.isProfiler=function(e){return Es(e)===ry};Et.isStrictMode=function(e){return Es(e)===ny};Et.isSuspense=function(e){return Es(e)===oy};Et.isSuspenseList=function(e){return Es(e)===ly};Et.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ty||e===ry||e===ny||e===oy||e===ly||e===xse||typeof e=="object"&&e!==null&&(e.$$typeof===uy||e.$$typeof===cy||e.$$typeof===sy||e.$$typeof===ay||e.$$typeof===iy||e.$$typeof===lL||e.getModuleId!==void 0)};Et.typeOf=Es;oL.exports=Et;var yse=oL.exports,jse=Ti,bse=Ei,wse="[object Number]";function Nse(e){return typeof e=="number"||bse(e)&&jse(e)==wse}var cL=Nse;const Sse=Ct(cL);var Cse=cL;function _se(e){return Cse(e)&&e!=+e}var Pse=_se;const Dd=Ct(Pse);var jr=function(t){return t===0?0:t>0?1:-1},dl=function(t){return ql(t)&&t.indexOf("%")===t.length-1},ge=function(t){return Sse(t)&&!Dd(t)},Ase=function(t){return Ke(t)},Mn=function(t){return ge(t)||ql(t)},kse=0,ic=function(t){var n=++kse;return"".concat(t||"").concat(n)},br=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(t)&&!ql(t))return r;var i;if(dl(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Dd(i)&&(i=r),a&&i>n&&(i=n),i},Ji=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Tse=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},En=function(t,n){return ge(t)&&ge(n)?function(r){return t+r*(n-t)}:function(){return n}};function Kg(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):os(r,t))===n})}var Ese=function(t,n){return ge(t)&&ge(n)?t-n:ql(t)&&ql(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function ru(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function mw(e){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mw(e)}var Ose=["viewBox","children"],Dse=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],XP=["points","pathLength"],W0={svg:Ose,polygon:XP,polyline:XP},e2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gg=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(b.isValidElement(t)&&(r=t.props),!kd(r))return null;var a={};return Object.keys(r).forEach(function(i){e2.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},Mse=function(t,n,r){return function(a){return t(n,r,a),null}},Ul=function(t,n,r){if(!kd(t)||mw(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];e2.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Mse(o,n,r))}),a},Ise=["children"],$se=["children"];function JP(e,t){if(e==null)return{};var n=Rse(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Rse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function pw(e){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pw(e)}var ZP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},eA=null,H0=null,t2=function e(t){if(t===eA&&Array.isArray(H0))return H0;var n=[];return b.Children.forEach(t,function(r){Ke(r)||(yse.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),H0=n,eA=t,n};function ls(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return fi(a)}):r=[fi(t)],t2(e).forEach(function(a){var i=os(a,"type.displayName")||os(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function es(e,t){var n=ls(e,t);return n&&n[0]}var tA=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!ge(r)||r<=0||!ge(a)||a<=0)},Lse=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Fse=function(t){return t&&t.type&&ql(t.type)&&Lse.indexOf(t.type)>=0},uL=function(t){return t&&pw(t)==="object"&&"clipDot"in t},Bse=function(t,n,r,a){var i,o=(i=W0==null?void 0:W0[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!qe(t)&&(a&&o.includes(n)||Dse.includes(n))||r&&e2.includes(n)},Le=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(b.isValidElement(t)&&(a=t.props),!kd(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Bse((l=a)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=a[o])}),i},gw=function e(t,n){if(t===n)return!0;var r=b.Children.count(t);if(r!==b.Children.count(n))return!1;if(r===0)return!0;if(r===1)return nA(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!nA(i,o))return!1}return!0},nA=function(t,n){if(Ke(t)&&Ke(n))return!0;if(!Ke(t)&&!Ke(n)){var r=t.props||{},a=r.children,i=JP(r,Ise),o=n.props||{},l=o.children,c=JP(o,$se);return a&&l?ru(i,c)&&gw(a,l):!a&&!l?ru(i,c):!1}return!1},rA=function(t,n){var r=[],a={};return t2(t).forEach(function(i,o){if(Fse(i))r.push(i);else if(i){var l=fi(i.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var h=u(i,l,o);r.push(h),a[l]=!0}}}),r},zse=function(t){var n=t&&t.type;return n&&ZP[n]?ZP[n]:null},Vse=function(t,n){return t2(n).indexOf(t)},qse=["children","width","height","viewBox","className","style","title","desc"];function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vw.apply(this,arguments)}function Use(e,t){if(e==null)return{};var n=Wse(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xw(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Use(e,qse),d=a||{width:n,height:r,x:0,y:0},h=Je("recharts-surface",i);return M.createElement("svg",vw({},Le(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,l),M.createElement("desc",null,c),t)}var Hse=["children","className"];function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yw.apply(this,arguments)}function Kse(e,t){if(e==null)return{};var n=Gse(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ft=M.forwardRef(function(e,t){var n=e.children,r=e.className,a=Kse(e,Hse),i=Je("recharts-layer",r);return M.createElement("g",yw({className:i},Le(a,!0),{ref:t}),n)}),ea=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]};function Yse(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var Qse=Yse,Xse=Qse;function Jse(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Xse(e,t,n)}var Zse=Jse,eae="\\ud800-\\udfff",tae="\\u0300-\\u036f",nae="\\ufe20-\\ufe2f",rae="\\u20d0-\\u20ff",sae=tae+nae+rae,aae="\\ufe0e\\ufe0f",iae="\\u200d",oae=RegExp("["+iae+eae+sae+aae+"]");function lae(e){return oae.test(e)}var dL=lae;function cae(e){return e.split("")}var uae=cae,hL="\\ud800-\\udfff",dae="\\u0300-\\u036f",hae="\\ufe20-\\ufe2f",fae="\\u20d0-\\u20ff",mae=dae+hae+fae,pae="\\ufe0e\\ufe0f",gae="["+hL+"]",jw="["+mae+"]",bw="\\ud83c[\\udffb-\\udfff]",vae="(?:"+jw+"|"+bw+")",fL="[^"+hL+"]",mL="(?:\\ud83c[\\udde6-\\uddff]){2}",pL="[\\ud800-\\udbff][\\udc00-\\udfff]",xae="\\u200d",gL=vae+"?",vL="["+pae+"]?",yae="(?:"+xae+"(?:"+[fL,mL,pL].join("|")+")"+vL+gL+")*",jae=vL+gL+yae,bae="(?:"+[fL+jw+"?",jw,mL,pL,gae].join("|")+")",wae=RegExp(bw+"(?="+bw+")|"+bae+jae,"g");function Nae(e){return e.match(wae)||[]}var Sae=Nae,Cae=uae,_ae=dL,Pae=Sae;function Aae(e){return _ae(e)?Pae(e):Cae(e)}var kae=Aae,Tae=Zse,Eae=dL,Oae=kae,Dae=sL;function Mae(e){return function(t){t=Dae(t);var n=Eae(t)?Oae(t):void 0,r=n?n[0]:t.charAt(0),a=n?Tae(n,1).join(""):t.slice(1);return r[e]()+a}}var Iae=Mae,$ae=Iae,Rae=$ae("toUpperCase"),Lae=Rae;const dy=Ct(Lae);function qt(e){return function(){return e}}const xL=Math.cos,Yg=Math.sin,da=Math.sqrt,Qg=Math.PI,hy=2*Qg,ww=Math.PI,Nw=2*ww,tl=1e-6,Fae=Nw-tl;function yL(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Bae(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yL;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class zae{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yL:Bae(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,d=o-t,h=l-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>tl)if(!(Math.abs(h*c-u*d)>tl)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,g=a-l,p=c*c+u*u,v=m*m+g*g,x=Math.sqrt(p),y=Math.sqrt(f),j=i*Math.tan((ww-Math.acos((p+f-v)/(2*x*y)))/2),w=j/y,N=j/x;Math.abs(w-1)>tl&&this._append`L${t+w*d},${n+w*h}`,this._append`A${i},${i},0,0,${+(h*m>d*g)},${this._x1=t+N*c},${this._y1=n+N*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,d=n+c,h=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>tl||Math.abs(this._y1-d)>tl)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%Nw+Nw),f>Fae?this._append`A${r},${r},0,1,${h},${t-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:f>tl&&this._append`A${r},${r},0,${+(f>=ww)},${h},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function n2(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new zae(t)}function r2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jL(e){this._context=e}jL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fy(e){return new jL(e)}function bL(e){return e[0]}function wL(e){return e[1]}function NL(e,t){var n=qt(!0),r=null,a=fy,i=null,o=n2(l);e=typeof e=="function"?e:e===void 0?bL:qt(e),t=typeof t=="function"?t:t===void 0?wL:qt(t);function l(c){var u,d=(c=r2(c)).length,h,f=!1,m;for(r==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&n(h=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(h,u,c),+t(h,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:qt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:qt(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:qt(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),l):r},l}function bp(e,t,n){var r=null,a=qt(!0),i=null,o=fy,l=null,c=n2(u);e=typeof e=="function"?e:e===void 0?bL:qt(+e),t=typeof t=="function"?t:qt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?wL:qt(+n);function u(h){var f,m,g,p=(h=r2(h)).length,v,x=!1,y,j=new Array(p),w=new Array(p);for(i==null&&(l=o(y=c())),f=0;f<=p;++f){if(!(f<p&&a(v=h[f],f,h))===x)if(x=!x)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=m;--g)l.point(j[g],w[g]);l.lineEnd(),l.areaEnd()}x&&(j[f]=+e(v,f,h),w[f]=+t(v,f,h),l.point(r?+r(v,f,h):j[f],n?+n(v,f,h):w[f]))}if(y)return l=null,y+""||null}function d(){return NL().defined(a).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:qt(+h),r=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:qt(+h),u):e},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:qt(+h),u):r},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:qt(+h),n=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:qt(+h),u):t},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:qt(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:qt(!!h),u):a},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class SL{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Vae(e){return new SL(e,!0)}function qae(e){return new SL(e,!1)}const s2={draw(e,t){const n=da(t/Qg);e.moveTo(n,0),e.arc(0,0,n,0,hy)}},Uae={draw(e,t){const n=da(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},CL=da(1/3),Wae=CL*2,Hae={draw(e,t){const n=da(t/Wae),r=n*CL;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Kae={draw(e,t){const n=da(t),r=-n/2;e.rect(r,r,n,n)}},Gae=.8908130915292852,_L=Yg(Qg/10)/Yg(7*Qg/10),Yae=Yg(hy/10)*_L,Qae=-xL(hy/10)*_L,Xae={draw(e,t){const n=da(t*Gae),r=Yae*n,a=Qae*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=hy*i/5,l=xL(o),c=Yg(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},K0=da(3),Jae={draw(e,t){const n=-da(t/(K0*3));e.moveTo(0,n*2),e.lineTo(-K0*n,-n),e.lineTo(K0*n,-n),e.closePath()}},ms=-.5,ps=da(3)/2,Sw=1/da(12),Zae=(Sw/2+1)*3,eie={draw(e,t){const n=da(t/Zae),r=n/2,a=n*Sw,i=r,o=n*Sw+n,l=-i,c=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ms*r-ps*a,ps*r+ms*a),e.lineTo(ms*i-ps*o,ps*i+ms*o),e.lineTo(ms*l-ps*c,ps*l+ms*c),e.lineTo(ms*r+ps*a,ms*a-ps*r),e.lineTo(ms*i+ps*o,ms*o-ps*i),e.lineTo(ms*l+ps*c,ms*c-ps*l),e.closePath()}};function tie(e,t){let n=null,r=n2(a);e=typeof e=="function"?e:qt(e||s2),t=typeof t=="function"?t:qt(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:qt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:qt(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Xg(){}function Jg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function PL(e){this._context=e}PL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nie(e){return new PL(e)}function AL(e){this._context=e}AL.prototype={areaStart:Xg,areaEnd:Xg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Jg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rie(e){return new AL(e)}function kL(e){this._context=e}kL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Jg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sie(e){return new kL(e)}function TL(e){this._context=e}TL.prototype={areaStart:Xg,areaEnd:Xg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function aie(e){return new TL(e)}function sA(e){return e<0?-1:1}function aA(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(sA(i)+sA(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function iA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function G0(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function Zg(e){this._context=e}Zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:G0(this,this._t0,iA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,G0(this,iA(this,n=aA(this,e,t)),n);break;default:G0(this,this._t0,n=aA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function EL(e){this._context=new OL(e)}(EL.prototype=Object.create(Zg.prototype)).point=function(e,t){Zg.prototype.point.call(this,t,e)};function OL(e){this._context=e}OL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function iie(e){return new Zg(e)}function oie(e){return new EL(e)}function DL(e){this._context=e}DL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=oA(e),a=oA(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function oA(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function lie(e){return new DL(e)}function my(e,t){this._context=e,this._t=t}my.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function cie(e){return new my(e,.5)}function uie(e){return new my(e,0)}function die(e){return new my(e,1)}function $u(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Cw(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function hie(e,t){return e[t]}function fie(e){const t=[];return t.key=e,t}function mie(){var e=qt([]),t=Cw,n=$u,r=hie;function a(i){var o=Array.from(e.apply(this,arguments),fie),l,c=o.length,u=-1,d;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(h,o[l].key,u,i)]).data=h;for(l=0,d=r2(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:qt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:qt(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?Cw:typeof i=="function"?i:qt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??$u,a):n},a}function pie(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}$u(e,t)}}function gie(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}$u(e,t)}}function vie(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],h=d[r][1]||0,f=d[r-1][1]||0,m=(h-f)/2,g=0;g<l;++g){var p=e[t[g]],v=p[r][1]||0,x=p[r-1][1]||0;m+=v-x}c+=h,u+=m*h}a[r-1][1]+=a[r-1][0]=n,c&&(n-=u/c)}a[r-1][1]+=a[r-1][0]=n,$u(e,t)}}function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}var xie=["type","size","sizeType"];function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_w.apply(this,arguments)}function lA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(n),!0).forEach(function(r){yie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yie(e,t,n){return t=jie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jie(e){var t=bie(e,"string");return bf(t)=="symbol"?t:t+""}function bie(e,t){if(bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wie(e,t){if(e==null)return{};var n=Nie(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ML={symbolCircle:s2,symbolCross:Uae,symbolDiamond:Hae,symbolSquare:Kae,symbolStar:Xae,symbolTriangle:Jae,symbolWye:eie},Sie=Math.PI/180,Cie=function(t){var n="symbol".concat(dy(t));return ML[n]||s2},_ie=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Sie;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Pie=function(t,n){ML["symbol".concat(dy(t))]=n},a2=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=wie(t,xie),u=cA(cA({},c),{},{type:r,size:i,sizeType:l}),d=function(){var v=Cie(r),x=tie().type(v).size(_ie(i,l,r));return x()},h=u.className,f=u.cx,m=u.cy,g=Le(u,!0);return f===+f&&m===+m&&i===+i?M.createElement("path",_w({},g,{className:Je("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(m,")"),d:d()})):null};a2.registerSymbol=Pie;function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pw.apply(this,arguments)}function uA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Aie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(n),!0).forEach(function(r){wf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$L(r.key),r)}}function Eie(e,t,n){return t&&Tie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oie(e,t,n){return t=ev(t),Die(e,IL()?Reflect.construct(t,n||[],ev(e).constructor):t.apply(e,n))}function Die(e,t){if(t&&(Ru(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mie(e)}function Mie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IL=function(){return!!e})()}function ev(e){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ev(e)}function Iie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aw(e,t)}function Aw(e,t){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Aw(e,t)}function wf(e,t,n){return t=$L(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $L(e){var t=$ie(e,"string");return Ru(t)=="symbol"?t:t+""}function $ie(e,t){if(Ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gs=32,i2=function(e){function t(){return kie(this,t),Oie(this,t,arguments)}return Iie(t,e),Eie(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=gs/2,o=gs/6,l=gs/3,c=r.inactive?a:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:gs,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(gs,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(gs/8,"h").concat(gs,"v").concat(gs*3/4,"h").concat(-gs,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=Aie({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(a2,{fill:c,cx:i,cy:i,size:gs,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:gs,height:gs},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,v=Je(wf(wf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=qe(m.value)?null:m.value;ea(!qe(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return M.createElement("li",Pw({className:v,style:h,key:"legend-item-".concat(g)},Ul(r.props,m,g)),M.createElement(xw,{width:o,height:o,viewBox:d,style:f},r.renderIcon(m)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(x,m,g):x))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);wf(i2,"displayName","Legend");wf(i2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Rie=Jx;function Lie(){this.__data__=new Rie,this.size=0}var Fie=Lie;function Bie(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var zie=Bie;function Vie(e){return this.__data__.get(e)}var qie=Vie;function Uie(e){return this.__data__.has(e)}var Wie=Uie,Hie=Jx,Kie=KS,Gie=GS,Yie=200;function Qie(e,t){var n=this.__data__;if(n instanceof Hie){var r=n.__data__;if(!Kie||r.length<Yie-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gie(r)}return n.set(e,t),this.size=n.size,this}var Xie=Qie,Jie=Jx,Zie=Fie,eoe=zie,toe=qie,noe=Wie,roe=Xie;function Md(e){var t=this.__data__=new Jie(e);this.size=t.size}Md.prototype.clear=Zie;Md.prototype.delete=eoe;Md.prototype.get=toe;Md.prototype.has=noe;Md.prototype.set=roe;var RL=Md,soe="__lodash_hash_undefined__";function aoe(e){return this.__data__.set(e,soe),this}var ioe=aoe;function ooe(e){return this.__data__.has(e)}var loe=ooe,coe=GS,uoe=ioe,doe=loe;function tv(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new coe;++t<n;)this.add(e[t])}tv.prototype.add=tv.prototype.push=uoe;tv.prototype.has=doe;var LL=tv;function hoe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var FL=hoe;function foe(e,t){return e.has(t)}var BL=foe,moe=LL,poe=FL,goe=BL,voe=1,xoe=2;function yoe(e,t,n,r,a,i){var o=n&voe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,m=n&xoe?new moe:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var g=e[h],p=t[h];if(r)var v=o?r(p,g,h,t,e,i):r(g,p,h,e,t,i);if(v!==void 0){if(v)continue;f=!1;break}if(m){if(!poe(t,function(x,y){if(!goe(m,y)&&(g===x||a(g,x,n,r,i)))return m.push(y)})){f=!1;break}}else if(!(g===p||a(g,p,n,r,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var zL=yoe,joe=Ua,boe=joe.Uint8Array,woe=boe;function Noe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var Soe=Noe;function Coe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var o2=Coe,dA=Sm,hA=woe,_oe=HS,Poe=zL,Aoe=Soe,koe=o2,Toe=1,Eoe=2,Ooe="[object Boolean]",Doe="[object Date]",Moe="[object Error]",Ioe="[object Map]",$oe="[object Number]",Roe="[object RegExp]",Loe="[object Set]",Foe="[object String]",Boe="[object Symbol]",zoe="[object ArrayBuffer]",Voe="[object DataView]",fA=dA?dA.prototype:void 0,Y0=fA?fA.valueOf:void 0;function qoe(e,t,n,r,a,i,o){switch(n){case Voe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case zoe:return!(e.byteLength!=t.byteLength||!i(new hA(e),new hA(t)));case Ooe:case Doe:case $oe:return _oe(+e,+t);case Moe:return e.name==t.name&&e.message==t.message;case Roe:case Foe:return e==t+"";case Ioe:var l=Aoe;case Loe:var c=r&Toe;if(l||(l=koe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=Eoe,o.set(e,t);var d=Poe(l(e),l(t),r,a,i,o);return o.delete(e),d;case Boe:if(Y0)return Y0.call(e)==Y0.call(t)}return!1}var Uoe=qoe;function Woe(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var VL=Woe,Hoe=VL,Koe=Hr;function Goe(e,t,n){var r=t(e);return Koe(e)?r:Hoe(r,n(e))}var Yoe=Goe;function Qoe(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var Xoe=Qoe;function Joe(){return[]}var Zoe=Joe,ele=Xoe,tle=Zoe,nle=Object.prototype,rle=nle.propertyIsEnumerable,mA=Object.getOwnPropertySymbols,sle=mA?function(e){return e==null?[]:(e=Object(e),ele(mA(e),function(t){return rle.call(e,t)}))}:tle,ale=sle;function ile(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var ole=ile,lle=Ti,cle=Ei,ule="[object Arguments]";function dle(e){return cle(e)&&lle(e)==ule}var hle=dle,pA=hle,fle=Ei,qL=Object.prototype,mle=qL.hasOwnProperty,ple=qL.propertyIsEnumerable,gle=pA(function(){return arguments}())?pA:function(e){return fle(e)&&mle.call(e,"callee")&&!ple.call(e,"callee")},l2=gle,nv={exports:{}};function vle(){return!1}var xle=vle;nv.exports;(function(e,t){var n=Ua,r=xle,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(nv,nv.exports);var UL=nv.exports,yle=9007199254740991,jle=/^(?:0|[1-9]\d*)$/;function ble(e,t){var n=typeof e;return t=t??yle,!!t&&(n=="number"||n!="symbol"&&jle.test(e))&&e>-1&&e%1==0&&e<t}var c2=ble,wle=9007199254740991;function Nle(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wle}var u2=Nle,Sle=Ti,Cle=u2,_le=Ei,Ple="[object Arguments]",Ale="[object Array]",kle="[object Boolean]",Tle="[object Date]",Ele="[object Error]",Ole="[object Function]",Dle="[object Map]",Mle="[object Number]",Ile="[object Object]",$le="[object RegExp]",Rle="[object Set]",Lle="[object String]",Fle="[object WeakMap]",Ble="[object ArrayBuffer]",zle="[object DataView]",Vle="[object Float32Array]",qle="[object Float64Array]",Ule="[object Int8Array]",Wle="[object Int16Array]",Hle="[object Int32Array]",Kle="[object Uint8Array]",Gle="[object Uint8ClampedArray]",Yle="[object Uint16Array]",Qle="[object Uint32Array]",Yt={};Yt[Vle]=Yt[qle]=Yt[Ule]=Yt[Wle]=Yt[Hle]=Yt[Kle]=Yt[Gle]=Yt[Yle]=Yt[Qle]=!0;Yt[Ple]=Yt[Ale]=Yt[Ble]=Yt[kle]=Yt[zle]=Yt[Tle]=Yt[Ele]=Yt[Ole]=Yt[Dle]=Yt[Mle]=Yt[Ile]=Yt[$le]=Yt[Rle]=Yt[Lle]=Yt[Fle]=!1;function Xle(e){return _le(e)&&Cle(e.length)&&!!Yt[Sle(e)]}var Jle=Xle;function Zle(e){return function(t){return e(t)}}var WL=Zle,rv={exports:{}};rv.exports;(function(e,t){var n=J3,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(rv,rv.exports);var ece=rv.exports,tce=Jle,nce=WL,gA=ece,vA=gA&&gA.isTypedArray,rce=vA?nce(vA):tce,HL=rce,sce=ole,ace=l2,ice=Hr,oce=UL,lce=c2,cce=HL,uce=Object.prototype,dce=uce.hasOwnProperty;function hce(e,t){var n=ice(e),r=!n&&ace(e),a=!n&&!r&&oce(e),i=!n&&!r&&!a&&cce(e),o=n||r||a||i,l=o?sce(e.length,String):[],c=l.length;for(var u in e)(t||dce.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||lce(u,c)))&&l.push(u);return l}var fce=hce,mce=Object.prototype;function pce(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||mce;return e===n}var gce=pce;function vce(e,t){return function(n){return e(t(n))}}var KL=vce,xce=KL,yce=xce(Object.keys,Object),jce=yce,bce=gce,wce=jce,Nce=Object.prototype,Sce=Nce.hasOwnProperty;function Cce(e){if(!bce(e))return wce(e);var t=[];for(var n in Object(e))Sce.call(e,n)&&n!="constructor"&&t.push(n);return t}var _ce=Cce,Pce=WS,Ace=u2;function kce(e){return e!=null&&Ace(e.length)&&!Pce(e)}var Cm=kce,Tce=fce,Ece=_ce,Oce=Cm;function Dce(e){return Oce(e)?Tce(e):Ece(e)}var py=Dce,Mce=Yoe,Ice=ale,$ce=py;function Rce(e){return Mce(e,$ce,Ice)}var Lce=Rce,xA=Lce,Fce=1,Bce=Object.prototype,zce=Bce.hasOwnProperty;function Vce(e,t,n,r,a,i){var o=n&Fce,l=xA(e),c=l.length,u=xA(t),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in t:zce.call(t,f)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=o;++h<c;){f=l[h];var x=e[f],y=t[f];if(r)var j=o?r(y,x,f,t,e,i):r(x,y,f,e,t,i);if(!(j===void 0?x===y||a(x,y,n,r,i):j)){p=!1;break}v||(v=f=="constructor")}if(p&&!v){var w=e.constructor,N=t.constructor;w!=N&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof N=="function"&&N instanceof N)&&(p=!1)}return i.delete(e),i.delete(t),p}var qce=Vce,Uce=ac,Wce=Ua,Hce=Uce(Wce,"DataView"),Kce=Hce,Gce=ac,Yce=Ua,Qce=Gce(Yce,"Promise"),Xce=Qce,Jce=ac,Zce=Ua,eue=Jce(Zce,"Set"),GL=eue,tue=ac,nue=Ua,rue=tue(nue,"WeakMap"),sue=rue,kw=Kce,Tw=KS,Ew=Xce,Ow=GL,Dw=sue,YL=Ti,Id=eL,yA="[object Map]",aue="[object Object]",jA="[object Promise]",bA="[object Set]",wA="[object WeakMap]",NA="[object DataView]",iue=Id(kw),oue=Id(Tw),lue=Id(Ew),cue=Id(Ow),uue=Id(Dw),nl=YL;(kw&&nl(new kw(new ArrayBuffer(1)))!=NA||Tw&&nl(new Tw)!=yA||Ew&&nl(Ew.resolve())!=jA||Ow&&nl(new Ow)!=bA||Dw&&nl(new Dw)!=wA)&&(nl=function(e){var t=YL(e),n=t==aue?e.constructor:void 0,r=n?Id(n):"";if(r)switch(r){case iue:return NA;case oue:return yA;case lue:return jA;case cue:return bA;case uue:return wA}return t});var due=nl,Q0=RL,hue=zL,fue=Uoe,mue=qce,SA=due,CA=Hr,_A=UL,pue=HL,gue=1,PA="[object Arguments]",AA="[object Array]",wp="[object Object]",vue=Object.prototype,kA=vue.hasOwnProperty;function xue(e,t,n,r,a,i){var o=CA(e),l=CA(t),c=o?AA:SA(e),u=l?AA:SA(t);c=c==PA?wp:c,u=u==PA?wp:u;var d=c==wp,h=u==wp,f=c==u;if(f&&_A(e)){if(!_A(t))return!1;o=!0,d=!1}if(f&&!d)return i||(i=new Q0),o||pue(e)?hue(e,t,n,r,a,i):fue(e,t,c,n,r,a,i);if(!(n&gue)){var m=d&&kA.call(e,"__wrapped__"),g=h&&kA.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return i||(i=new Q0),a(p,v,n,r,i)}}return f?(i||(i=new Q0),mue(e,t,n,r,a,i)):!1}var yue=xue,jue=yue,TA=Ei;function QL(e,t,n,r,a){return e===t?!0:e==null||t==null||!TA(e)&&!TA(t)?e!==e&&t!==t:jue(e,t,n,r,QL,a)}var d2=QL,bue=RL,wue=d2,Nue=1,Sue=2;function Cue(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var h=new bue;if(r)var f=r(u,d,c,e,t,h);if(!(f===void 0?wue(d,u,Nue|Sue,r,h):f))return!1}}return!0}var _ue=Cue,Pue=Vo;function Aue(e){return e===e&&!Pue(e)}var XL=Aue,kue=XL,Tue=py;function Eue(e){for(var t=Tue(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,kue(a)]}return t}var Oue=Eue;function Due(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var JL=Due,Mue=_ue,Iue=Oue,$ue=JL;function Rue(e){var t=Iue(e);return t.length==1&&t[0][2]?$ue(t[0][0],t[0][1]):function(n){return n===e||Mue(n,e,t)}}var Lue=Rue;function Fue(e,t){return e!=null&&t in Object(e)}var Bue=Fue,zue=aL,Vue=l2,que=Hr,Uue=c2,Wue=u2,Hue=ey;function Kue(e,t,n){t=zue(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=Hue(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&Wue(a)&&Uue(o,a)&&(que(e)||Vue(e)))}var Gue=Kue,Yue=Bue,Que=Gue;function Xue(e,t){return e!=null&&Que(e,t,Yue)}var Jue=Xue,Zue=d2,ede=iL,tde=Jue,nde=US,rde=XL,sde=JL,ade=ey,ide=1,ode=2;function lde(e,t){return nde(e)&&rde(t)?sde(ade(e),t):function(n){var r=ede(n,e);return r===void 0&&r===t?tde(n,e):Zue(t,r,ide|ode)}}var cde=lde;function ude(e){return e}var $d=ude;function dde(e){return function(t){return t==null?void 0:t[e]}}var hde=dde,fde=XS;function mde(e){return function(t){return fde(t,e)}}var pde=mde,gde=hde,vde=pde,xde=US,yde=ey;function jde(e){return xde(e)?gde(yde(e)):vde(e)}var bde=jde,wde=Lue,Nde=cde,Sde=$d,Cde=Hr,_de=bde;function Pde(e){return typeof e=="function"?e:e==null?Sde:typeof e=="object"?Cde(e)?Nde(e[0],e[1]):wde(e):_de(e)}var Wa=Pde;function Ade(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var ZL=Ade;function kde(e){return e!==e}var Tde=kde;function Ede(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var Ode=Ede,Dde=ZL,Mde=Tde,Ide=Ode;function $de(e,t,n){return t===t?Ide(e,t,n):Dde(e,Mde,n)}var Rde=$de,Lde=Rde;function Fde(e,t){var n=e==null?0:e.length;return!!n&&Lde(e,t,0)>-1}var Bde=Fde;function zde(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var Vde=zde;function qde(){}var Ude=qde,X0=GL,Wde=Ude,Hde=o2,Kde=1/0,Gde=X0&&1/Hde(new X0([,-0]))[1]==Kde?function(e){return new X0(e)}:Wde,Yde=Gde,Qde=LL,Xde=Bde,Jde=Vde,Zde=BL,ehe=Yde,the=o2,nhe=200;function rhe(e,t,n){var r=-1,a=Xde,i=e.length,o=!0,l=[],c=l;if(n)o=!1,a=Jde;else if(i>=nhe){var u=t?null:ehe(e);if(u)return the(u);o=!1,a=Zde,c=new Qde}else c=t?[]:l;e:for(;++r<i;){var d=e[r],h=t?t(d):d;if(d=n||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),l.push(d)}else a(c,h,n)||(c!==l&&c.push(h),l.push(d))}return l}var she=rhe,ahe=Wa,ihe=she;function ohe(e,t){return e&&e.length?ihe(e,ahe(t)):[]}var lhe=ohe;const EA=Ct(lhe);function eF(e,t,n){return t===!0?EA(e,n):qe(t)?EA(e,t):e}function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}var che=["ref"];function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(n),!0).forEach(function(r){gy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nF(r.key),r)}}function dhe(e,t,n){return t&&DA(e.prototype,t),n&&DA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hhe(e,t,n){return t=sv(t),fhe(e,tF()?Reflect.construct(t,n||[],sv(e).constructor):t.apply(e,n))}function fhe(e,t){if(t&&(Lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mhe(e)}function mhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!e})()}function sv(e){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sv(e)}function phe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}function Mw(e,t){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Mw(e,t)}function gy(e,t,n){return t=nF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nF(e){var t=ghe(e,"string");return Lu(t)=="symbol"?t:t+""}function ghe(e,t){if(Lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vhe(e,t){if(e==null)return{};var n=xhe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xhe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yhe(e){return e.value}function jhe(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var n=vhe(t,che);return M.createElement(i2,n)}var MA=1,su=function(e){function t(){var n;uhe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=hhe(this,t,[].concat(a)),gy(n,"lastBoundingBox",{width:-1,height:-1}),n}return phe(t,e),dhe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>MA||Math.abs(a.height-this.lastBoundingBox.height)>MA)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ya({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,h,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();h={left:((u||0)-m.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();f={top:((d||0)-g.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ya(Ya({},h),f)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,h=Ya(Ya({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return M.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){r.wrapperNode=m}},jhe(i,Ya(Ya({},this.props),{},{payload:eF(d,u,yhe)})))}}],[{key:"getWithHeight",value:function(r,a){var i=Ya(Ya({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&ge(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])}(b.PureComponent);gy(su,"displayName","Legend");gy(su,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var IA=Sm,bhe=l2,whe=Hr,$A=IA?IA.isConcatSpreadable:void 0;function Nhe(e){return whe(e)||bhe(e)||!!($A&&e&&e[$A])}var She=Nhe,Che=VL,_he=She;function rF(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=_he),a||(a=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?rF(l,t-1,n,r,a):Che(a,l):r||(a[a.length]=l)}return a}var sF=rF;function Phe(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++a];if(n(i[c],c,i)===!1)break}return t}}var Ahe=Phe,khe=Ahe,The=khe(),Ehe=The,Ohe=Ehe,Dhe=py;function Mhe(e,t){return e&&Ohe(e,t,Dhe)}var aF=Mhe,Ihe=Cm;function $he(e,t){return function(n,r){if(n==null)return n;if(!Ihe(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var Rhe=$he,Lhe=aF,Fhe=Rhe,Bhe=Fhe(Lhe),h2=Bhe,zhe=h2,Vhe=Cm;function qhe(e,t){var n=-1,r=Vhe(e)?Array(e.length):[];return zhe(e,function(a,i,o){r[++n]=t(a,i,o)}),r}var iF=qhe;function Uhe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Whe=Uhe,RA=Ad;function Hhe(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,i=RA(e),o=t!==void 0,l=t===null,c=t===t,u=RA(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!a)return 1;if(!r&&!i&&!u&&e<t||u&&n&&a&&!r&&!i||l&&n&&a||!o&&a||!c)return-1}return 0}var Khe=Hhe,Ghe=Khe;function Yhe(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,l=n.length;++r<o;){var c=Ghe(a[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Qhe=Yhe,J0=QS,Xhe=XS,Jhe=Wa,Zhe=iF,efe=Whe,tfe=WL,nfe=Qhe,rfe=$d,sfe=Hr;function afe(e,t,n){t.length?t=J0(t,function(i){return sfe(i)?function(o){return Xhe(o,i.length===1?i[0]:i)}:i}):t=[rfe];var r=-1;t=J0(t,tfe(Jhe));var a=Zhe(e,function(i,o,l){var c=J0(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return efe(a,function(i,o){return nfe(i,o,n)})}var ife=afe;function ofe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var lfe=ofe,cfe=lfe,LA=Math.max;function ufe(e,t,n){return t=LA(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=LA(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(o),cfe(e,this,l)}}var dfe=ufe;function hfe(e){return function(){return e}}var ffe=hfe,mfe=ac,pfe=function(){try{var e=mfe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),oF=pfe,gfe=ffe,FA=oF,vfe=$d,xfe=FA?function(e,t){return FA(e,"toString",{configurable:!0,enumerable:!1,value:gfe(t),writable:!0})}:vfe,yfe=xfe,jfe=800,bfe=16,wfe=Date.now;function Nfe(e){var t=0,n=0;return function(){var r=wfe(),a=bfe-(r-n);if(n=r,a>0){if(++t>=jfe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Sfe=Nfe,Cfe=yfe,_fe=Sfe,Pfe=_fe(Cfe),Afe=Pfe,kfe=$d,Tfe=dfe,Efe=Afe;function Ofe(e,t){return Efe(Tfe(e,t,kfe),e+"")}var Dfe=Ofe,Mfe=HS,Ife=Cm,$fe=c2,Rfe=Vo;function Lfe(e,t,n){if(!Rfe(n))return!1;var r=typeof t;return(r=="number"?Ife(n)&&$fe(t,n.length):r=="string"&&t in n)?Mfe(n[t],e):!1}var vy=Lfe,Ffe=sF,Bfe=ife,zfe=Dfe,BA=vy,Vfe=zfe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&BA(e,t[0],t[1])?t=[]:n>2&&BA(t[0],t[1],t[2])&&(t=[t[0]]),Bfe(e,Ffe(t,1),[])}),qfe=Vfe;const f2=Ct(qfe);function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iw.apply(this,arguments)}function Ufe(e,t){return Gfe(e)||Kfe(e,t)||Hfe(e,t)||Wfe()}function Wfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hfe(e,t){if(e){if(typeof e=="string")return zA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zA(e,t)}}function zA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Gfe(e){if(Array.isArray(e))return e}function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Z0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(r){Yfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yfe(e,t,n){return t=Qfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qfe(e){var t=Xfe(e,"string");return Nf(t)=="symbol"?t:t+""}function Xfe(e,t){if(Nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jfe(e){return Array.isArray(e)&&Mn(e[0])&&Mn(e[1])?e.join(" ~ "):e}var Zfe=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,h=t.formatter,f=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,x=t.accessibilityLayer,y=x===void 0?!1:x,j=function(){if(d&&d.length){var A={padding:0,margin:0},R=(f?f2(d,f):d).map(function($,K){if($.type==="none")return null;var V=Z0({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),H=$.formatter||h||Jfe,T=$.value,I=$.name,F=T,U=I;if(H&&F!=null&&U!=null){var J=H(T,I,$,K,d);if(Array.isArray(J)){var ae=Ufe(J,2);F=ae[0],U=ae[1]}else F=J}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:V},Mn(U)?M.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Mn(U)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},F),M.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:A},R)}return null},w=Z0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=Z0({margin:0},u),C=!Ke(p),S=C?p:"",_=Je("recharts-default-tooltip",m),k=Je("recharts-tooltip-label",g);C&&v&&d!==void 0&&d!==null&&(S=v(p,d));var E=y?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",Iw({className:_,style:w},E),M.createElement("p",{className:k,style:N},M.isValidElement(S)?S:"".concat(S)),j())};function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function Np(e,t,n){return t=eme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eme(e){var t=tme(e,"string");return Sf(t)=="symbol"?t:t+""}function tme(e,t){if(Sf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ah="recharts-tooltip-wrapper",nme={visibility:"hidden"};function rme(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Je(ah,Np(Np(Np(Np({},"".concat(ah,"-right"),ge(n)&&t&&ge(t.x)&&n>=t.x),"".concat(ah,"-left"),ge(n)&&t&&ge(t.x)&&n<t.x),"".concat(ah,"-bottom"),ge(r)&&t&&ge(t.y)&&r>=t.y),"".concat(ah,"-top"),ge(r)&&t&&ge(t.y)&&r<t.y))}function qA(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&ge(i[r]))return i[r];var d=n[r]-l-a,h=n[r]+a;if(t[r])return o[r]?d:h;if(o[r]){var f=d,m=c[r];return f<m?Math.max(h,c[r]):Math.max(d,c[r])}var g=h+l,p=c[r]+u;return g>p?Math.max(d,c[r]):Math.max(h,c[r])}function sme(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function ame(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,h;return o.height>0&&o.width>0&&n?(d=qA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=qA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=sme({translateX:d,translateY:h,useTranslate3d:l})):u=nme,{cssProperties:u,cssClasses:rme({translateX:d,translateY:h,coordinate:n})}}function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function UA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(n),!0).forEach(function(r){Rw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ime(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ome(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cF(r.key),r)}}function lme(e,t,n){return t&&ome(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cme(e,t,n){return t=av(t),ume(e,lF()?Reflect.construct(t,n||[],av(e).constructor):t.apply(e,n))}function ume(e,t){if(t&&(Fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dme(e)}function dme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lF=function(){return!!e})()}function av(e){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},av(e)}function hme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$w(e,t)}function $w(e,t){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$w(e,t)}function Rw(e,t,n){return t=cF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cF(e){var t=fme(e,"string");return Fu(t)=="symbol"?t:t+""}function fme(e,t){if(Fu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HA=1,mme=function(e){function t(){var n;ime(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=cme(this,t,[].concat(a)),Rw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Rw(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return hme(t,e),lme(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>HA||Math.abs(r.height-this.state.lastBoundingBox.height)>HA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,h=a.hasPayload,f=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,y=a.wrapperStyle,j=ame({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),w=j.cssClasses,N=j.cssProperties,C=WA(WA({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},y);return M.createElement("div",{tabIndex:-1,className:w,style:C,ref:function(_){r.wrapperNode=_}},u)}}])}(b.PureComponent),pme=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ta={isSsr:pme(),get:function(t){return ta[t]},set:function(t,n){if(typeof t=="string")ta[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(a){ta[a]=t[a]})}}};function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){m2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dF(r.key),r)}}function xme(e,t,n){return t&&vme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yme(e,t,n){return t=iv(t),jme(e,uF()?Reflect.construct(t,n||[],iv(e).constructor):t.apply(e,n))}function jme(e,t){if(t&&(Bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bme(e)}function bme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uF=function(){return!!e})()}function iv(e){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iv(e)}function wme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lw(e,t)}function Lw(e,t){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Lw(e,t)}function m2(e,t,n){return t=dF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dF(e){var t=Nme(e,"string");return Bu(t)=="symbol"?t:t+""}function Nme(e,t){if(Bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sme(e){return e.dataKey}function Cme(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(Zfe,t)}var Vn=function(e){function t(){return gme(this,t),yme(this,t,arguments)}return wme(t,e),xme(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,h=a.filterNull,f=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,x=a.reverseDirection,y=a.useTranslate3d,j=a.viewBox,w=a.wrapperStyle,N=g??[];h&&N.length&&(N=eF(g.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),p,Sme));var C=N.length>0;return M.createElement(mme,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:d,hasPayload:C,offset:m,position:v,reverseDirection:x,useTranslate3d:y,viewBox:j,wrapperStyle:w},Cme(u,GA(GA({},this.props),{},{payload:N})))}}])}(b.PureComponent);m2(Vn,"displayName","Tooltip");m2(Vn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ta.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _me=Ua,Pme=function(){return _me.Date.now()},Ame=Pme,kme=/\s/;function Tme(e){for(var t=e.length;t--&&kme.test(e.charAt(t)););return t}var Eme=Tme,Ome=Eme,Dme=/^\s+/;function Mme(e){return e&&e.slice(0,Ome(e)+1).replace(Dme,"")}var Ime=Mme,$me=Ime,YA=Vo,Rme=Ad,QA=NaN,Lme=/^[-+]0x[0-9a-f]+$/i,Fme=/^0b[01]+$/i,Bme=/^0o[0-7]+$/i,zme=parseInt;function Vme(e){if(typeof e=="number")return e;if(Rme(e))return QA;if(YA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=YA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$me(e);var n=Fme.test(e);return n||Bme.test(e)?zme(e.slice(2),n?2:8):Lme.test(e)?QA:+e}var hF=Vme,qme=Vo,ej=Ame,XA=hF,Ume="Expected a function",Wme=Math.max,Hme=Math.min;function Kme(e,t,n){var r,a,i,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(Ume);t=XA(t)||0,qme(n)&&(d=!!n.leading,h="maxWait"in n,i=h?Wme(XA(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function m(C){var S=r,_=a;return r=a=void 0,u=C,o=e.apply(_,S),o}function g(C){return u=C,l=setTimeout(x,t),d?m(C):o}function p(C){var S=C-c,_=C-u,k=t-S;return h?Hme(k,i-_):k}function v(C){var S=C-c,_=C-u;return c===void 0||S>=t||S<0||h&&_>=i}function x(){var C=ej();if(v(C))return y(C);l=setTimeout(x,p(C))}function y(C){return l=void 0,f&&r?m(C):(r=a=void 0,o)}function j(){l!==void 0&&clearTimeout(l),u=0,r=c=a=l=void 0}function w(){return l===void 0?o:y(ej())}function N(){var C=ej(),S=v(C);if(r=arguments,a=this,c=C,S){if(l===void 0)return g(c);if(h)return clearTimeout(l),l=setTimeout(x,t),m(c)}return l===void 0&&(l=setTimeout(x,t)),o}return N.cancel=j,N.flush=w,N}var Gme=Kme,Yme=Gme,Qme=Vo,Xme="Expected a function";function Jme(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(Xme);return Qme(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Yme(e,t,{leading:r,maxWait:t,trailing:a})}var Zme=Jme;const fF=Ct(Zme);function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(r){epe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function epe(e,t,n){return t=tpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tpe(e){var t=npe(e,"string");return Cf(t)=="symbol"?t:t+""}function npe(e,t){if(Cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rpe(e,t){return ope(e)||ipe(e,t)||ape(e,t)||spe()}function spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ape(e,t){if(e){if(typeof e=="string")return ZA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZA(e,t)}}function ZA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ipe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ope(e){if(Array.isArray(e))return e}var Si=b.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,h=e.minHeight,f=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,x=e.className,y=e.onResize,j=e.style,w=j===void 0?{}:j,N=b.useRef(null),C=b.useRef();C.current=y,b.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var S=b.useState({containerWidth:a.width,containerHeight:a.height}),_=rpe(S,2),k=_[0],E=_[1],P=b.useCallback(function(R,$){E(function(K){var V=Math.round(R),H=Math.round($);return K.containerWidth===V&&K.containerHeight===H?K:{containerWidth:V,containerHeight:H}})},[]);b.useEffect(function(){var R=function(I){var F,U=I[0].contentRect,J=U.width,ae=U.height;P(J,ae),(F=C.current)===null||F===void 0||F.call(C,J,ae)};p>0&&(R=fF(R,p,{trailing:!0,leading:!1}));var $=new ResizeObserver(R),K=N.current.getBoundingClientRect(),V=K.width,H=K.height;return P(V,H),$.observe(N.current),function(){$.disconnect()}},[P,p]);var A=b.useMemo(function(){var R=k.containerWidth,$=k.containerHeight;if(R<0||$<0)return null;ea(dl(o)||dl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ea(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=dl(o)?R:o,V=dl(c)?$:c;n&&n>0&&(K?V=K/n:V&&(K=V*n),f&&V>f&&(V=f)),ea(K>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,V,o,c,d,h,n);var H=!Array.isArray(m)&&fi(m.type).endsWith("Chart");return M.Children.map(m,function(T){return M.isValidElement(T)?b.cloneElement(T,Sp({width:K,height:V},H?{style:Sp({height:"100%",width:"100%",maxHeight:V,maxWidth:K},T.props.style)}:{})):T})},[n,m,c,f,h,d,k,o]);return M.createElement("div",{id:v?"".concat(v):void 0,className:Je("recharts-responsive-container",x),style:Sp(Sp({},w),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:N},A)}),Rd=function(t){return null};Rd.displayName="Cell";function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(n),!0).forEach(function(r){lpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lpe(e,t,n){return t=cpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cpe(e){var t=upe(e,"string");return _f(t)=="symbol"?t:t+""}function upe(e,t){if(_f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sc={widthCache:{},cacheCount:0},dpe=2e3,hpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tk="recharts_measurement_span";function fpe(e){var t=Fw({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Fh=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ta.isSsr)return{width:0,height:0};var r=fpe(n),a=JSON.stringify({text:t,copyStyle:r});if(Sc.widthCache[a])return Sc.widthCache[a];try{var i=document.getElementById(tk);i||(i=document.createElement("span"),i.setAttribute("id",tk),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Fw(Fw({},hpe),r);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Sc.widthCache[a]=c,++Sc.cacheCount>dpe&&(Sc.cacheCount=0,Sc.widthCache={}),c}catch{return{width:0,height:0}}},mpe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function ov(e,t){return xpe(e)||vpe(e,t)||gpe(e,t)||ppe()}function ppe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gpe(e,t){if(e){if(typeof e=="string")return nk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nk(e,t)}}function nk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vpe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function xpe(e){if(Array.isArray(e))return e}function ype(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bpe(r.key),r)}}function jpe(e,t,n){return t&&rk(e.prototype,t),n&&rk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bpe(e){var t=wpe(e,"string");return Pf(t)=="symbol"?t:t+""}function wpe(e,t){if(Pf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ak=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Npe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Spe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cpe=Object.keys(mF),Vc="NaN";function _pe(e,t){return e*mF[t]}var Cp=function(){function e(t,n){ype(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Npe.test(n)&&(this.num=NaN,this.unit=""),Cpe.includes(n)&&(this.num=_pe(t,n),this.unit="px")}return jpe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=Spe.exec(n))!==null&&r!==void 0?r:[],i=ov(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function pF(e){if(e.includes(Vc))return Vc;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=sk.exec(t))!==null&&n!==void 0?n:[],a=ov(r,4),i=a[1],o=a[2],l=a[3],c=Cp.parse(i??""),u=Cp.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Vc;t=t.replace(sk,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=ak.exec(t))!==null&&h!==void 0?h:[],m=ov(f,4),g=m[1],p=m[2],v=m[3],x=Cp.parse(g??""),y=Cp.parse(v??""),j=p==="+"?x.add(y):x.subtract(y);if(j.isNaN())return Vc;t=t.replace(ak,j.toString())}return t}var ik=/\(([^()]*)\)/;function Ppe(e){for(var t=e;t.includes("(");){var n=ik.exec(t),r=ov(n,2),a=r[1];t=t.replace(ik,pF(a))}return t}function Ape(e){var t=e.replace(/\s+/g,"");return t=Ppe(t),t=pF(t),t}function kpe(e){try{return Ape(e)}catch{return Vc}}function tj(e){var t=kpe(e.slice(5,-1));return t===Vc?"":t}var Tpe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Epe=["dx","dy","angle","className","breakAll"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bw.apply(this,arguments)}function ok(e,t){if(e==null)return{};var n=Ope(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ope(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function lk(e,t){return $pe(e)||Ipe(e,t)||Mpe(e,t)||Dpe()}function Dpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mpe(e,t){if(e){if(typeof e=="string")return ck(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ck(e,t)}}function ck(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ipe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $pe(e){if(Array.isArray(e))return e}var gF=/[ \f\n\r\t\v\u2028\u2029]+/,vF=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var i=[];Ke(n)||(r?i=n.toString().split(""):i=n.toString().split(gF));var o=i.map(function(c){return{word:c,width:Fh(c,a).width}}),l=r?0:Fh(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Rpe=function(t,n,r,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ge(o),h=l,f=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(V,H){var T=H.word,I=H.width,F=V[V.length-1];if(F&&(a==null||i||F.width+I+r<Number(a)))F.words.push(T),F.width+=I+r;else{var U={words:[T],width:I};V.push(U)}return V},[])},m=f(n),g=function(K){return K.reduce(function(V,H){return V.width>H.width?V:H})};if(!d)return m;for(var p="…",v=function(K){var V=h.slice(0,K),H=vF({breakAll:u,style:c,children:V+p}).wordsWithComputedWidth,T=f(H),I=T.length>o||g(T).width>Number(a);return[I,T]},x=0,y=h.length-1,j=0,w;x<=y&&j<=h.length-1;){var N=Math.floor((x+y)/2),C=N-1,S=v(C),_=lk(S,2),k=_[0],E=_[1],P=v(N),A=lk(P,1),R=A[0];if(!k&&!R&&(x=N+1),k&&R&&(y=N-1),!k&&R){w=E;break}j++}return w||m},uk=function(t){var n=Ke(t)?[]:t.toString().split(gF);return[{words:n}]},Lpe=function(t){var n=t.width,r=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!ta.isSsr){var c,u,d=vF({breakAll:o,children:a,style:i});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return uk(a);return Rpe({breakAll:o,children:a,maxLines:l,style:i},c,u,n,r)}return uk(a)},dk="#808080",Wl=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,h=d===void 0?!1:d,f=t.textAnchor,m=f===void 0?"start":f,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,x=v===void 0?dk:v,y=ok(t,Tpe),j=b.useMemo(function(){return Lpe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),w=y.dx,N=y.dy,C=y.angle,S=y.className,_=y.breakAll,k=ok(y,Epe);if(!Mn(r)||!Mn(i))return null;var E=r+(ge(w)?w:0),P=i+(ge(N)?N:0),A;switch(p){case"start":A=tj("calc(".concat(u,")"));break;case"middle":A=tj("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:A=tj("calc(".concat(j.length-1," * -").concat(l,")"));break}var R=[];if(h){var $=j[0].width,K=y.width;R.push("scale(".concat((ge(K)?K/$:1)/$,")"))}return C&&R.push("rotate(".concat(C,", ").concat(E,", ").concat(P,")")),R.length&&(k.transform=R.join(" ")),M.createElement("text",Bw({},Le(k,!0),{x:E,y:P,className:Je("recharts-text",S),textAnchor:m,fill:x.includes("url")?dk:x}),j.map(function(V,H){var T=V.words.join(_?"":" ");return M.createElement("tspan",{x:E,dy:H===0?A:l,key:"".concat(T,"-").concat(H)},T)}))};function Co(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fpe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function p2(e){let t,n,r;e.length!==2?(t=Co,n=(l,c)=>Co(e(l),c),r=(l,c)=>e(l)-c):(t=e===Co||e===Fpe?e:Bpe,n=e,r=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=a(l,c,u,d-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function Bpe(){return 0}function xF(e){return e===null?NaN:+e}function*zpe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Vpe=p2(Co),_m=Vpe.right;p2(xF).center;class hk extends Map{constructor(t,n=Wpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(fk(this,t))}has(t){return super.has(fk(this,t))}set(t,n){return super.set(qpe(this,t),n)}delete(t){return super.delete(Upe(this,t))}}function fk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function qpe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Upe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Wpe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Hpe(e=Co){if(e===Co)return yF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function yF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Kpe=Math.sqrt(50),Gpe=Math.sqrt(10),Ype=Math.sqrt(2);function lv(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=Kpe?10:i>=Gpe?5:i>=Ype?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?lv(e,t,n*2):[l,c,u]}function zw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?lv(t,e,n):lv(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Vw(e,t,n){return t=+t,e=+e,n=+n,lv(e,t,n)[2]}function qw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Vw(t,e,n):Vw(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function mk(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pk(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function jF(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?yF:Hpe(a);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*h/c+f)),g=Math.min(r,Math.floor(t+(c-u)*h/c+f));jF(e,t,m,g,a)}const i=e[t];let o=n,l=r;for(ih(e,n,t),a(e[r],i)>0&&ih(e,n,r);o<l;){for(ih(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?ih(e,n,l):(++l,ih(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function ih(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Qpe(e,t,n){if(e=Float64Array.from(zpe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return pk(e);if(t>=1)return mk(e);var r,a=(r-1)*t,i=Math.floor(a),o=mk(jF(e,i).subarray(0,i+1)),l=pk(e.subarray(i+1));return o+(l-o)*(a-i)}}function Xpe(e,t,n=xF){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Jpe(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Os(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Oi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Uw=Symbol("implicit");function g2(){var e=new hk,t=[],n=[],r=Uw;function a(i){let o=e.get(i);if(o===void 0){if(r!==Uw)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new hk;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return g2(t,n).unknown(r)},Os.apply(a,arguments),a}function Af(){var e=g2().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var f=t().length,m=a<r,g=m?a:r,p=m?r:a;i=(p-g)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(f-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=Jpe(f).map(function(x){return g+i*x});return n(m?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,a]=f,r=+r,a=+a,h()):[r,a]},e.rangeRound=function(f){return[r,a]=f,r=+r,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},e.copy=function(){return Af(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Os.apply(h(),arguments)}function bF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return bF(t())},e}function Bh(){return bF(Af.apply(null,arguments).paddingInner(1))}function v2(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wF(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pm(){}var kf=.7,cv=1/kf,au="\\s*([+-]?\\d+)\\s*",Tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zpe=/^#([0-9a-f]{3,8})$/,ege=new RegExp(`^rgb\\(${au},${au},${au}\\)$`),tge=new RegExp(`^rgb\\(${$a},${$a},${$a}\\)$`),nge=new RegExp(`^rgba\\(${au},${au},${au},${Tf}\\)$`),rge=new RegExp(`^rgba\\(${$a},${$a},${$a},${Tf}\\)$`),sge=new RegExp(`^hsl\\(${Tf},${$a},${$a}\\)$`),age=new RegExp(`^hsla\\(${Tf},${$a},${$a},${Tf}\\)$`),gk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};v2(Pm,Ef,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vk,formatHex:vk,formatHex8:ige,formatHsl:oge,formatRgb:xk,toString:xk});function vk(){return this.rgb().formatHex()}function ige(){return this.rgb().formatHex8()}function oge(){return NF(this).formatHsl()}function xk(){return this.rgb().formatRgb()}function Ef(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Zpe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?yk(t):n===3?new zr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_p(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_p(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ege.exec(e))?new zr(t[1],t[2],t[3],1):(t=tge.exec(e))?new zr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nge.exec(e))?_p(t[1],t[2],t[3],t[4]):(t=rge.exec(e))?_p(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sge.exec(e))?wk(t[1],t[2]/100,t[3]/100,1):(t=age.exec(e))?wk(t[1],t[2]/100,t[3]/100,t[4]):gk.hasOwnProperty(e)?yk(gk[e]):e==="transparent"?new zr(NaN,NaN,NaN,0):null}function yk(e){return new zr(e>>16&255,e>>8&255,e&255,1)}function _p(e,t,n,r){return r<=0&&(e=t=n=NaN),new zr(e,t,n,r)}function lge(e){return e instanceof Pm||(e=Ef(e)),e?(e=e.rgb(),new zr(e.r,e.g,e.b,e.opacity)):new zr}function Ww(e,t,n,r){return arguments.length===1?lge(e):new zr(e,t,n,r??1)}function zr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}v2(zr,Ww,wF(Pm,{brighter(e){return e=e==null?cv:Math.pow(cv,e),new zr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kf:Math.pow(kf,e),new zr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zr(Pl(this.r),Pl(this.g),Pl(this.b),uv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jk,formatHex:jk,formatHex8:cge,formatRgb:bk,toString:bk}));function jk(){return`#${hl(this.r)}${hl(this.g)}${hl(this.b)}`}function cge(){return`#${hl(this.r)}${hl(this.g)}${hl(this.b)}${hl((isNaN(this.opacity)?1:this.opacity)*255)}`}function bk(){const e=uv(this.opacity);return`${e===1?"rgb(":"rgba("}${Pl(this.r)}, ${Pl(this.g)}, ${Pl(this.b)}${e===1?")":`, ${e})`}`}function uv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hl(e){return e=Pl(e),(e<16?"0":"")+e.toString(16)}function wk(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Qs(e,t,n,r)}function NF(e){if(e instanceof Qs)return new Qs(e.h,e.s,e.l,e.opacity);if(e instanceof Pm||(e=Ef(e)),!e)return new Qs;if(e instanceof Qs)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Qs(o,l,c,e.opacity)}function uge(e,t,n,r){return arguments.length===1?NF(e):new Qs(e,t,n,r??1)}function Qs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}v2(Qs,uge,wF(Pm,{brighter(e){return e=e==null?cv:Math.pow(cv,e),new Qs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kf:Math.pow(kf,e),new Qs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new zr(nj(e>=240?e-240:e+120,a,r),nj(e,a,r),nj(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Qs(Nk(this.h),Pp(this.s),Pp(this.l),uv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=uv(this.opacity);return`${e===1?"hsl(":"hsla("}${Nk(this.h)}, ${Pp(this.s)*100}%, ${Pp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Nk(e){return e=(e||0)%360,e<0?e+360:e}function Pp(e){return Math.max(0,Math.min(1,e||0))}function nj(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const x2=e=>()=>e;function dge(e,t){return function(n){return e+n*t}}function hge(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function fge(e){return(e=+e)==1?SF:function(t,n){return n-t?hge(t,n,e):x2(isNaN(t)?n:t)}}function SF(e,t){var n=t-e;return n?dge(e,n):x2(isNaN(e)?t:e)}const Sk=function e(t){var n=fge(t);function r(a,i){var o=n((a=Ww(a)).r,(i=Ww(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),u=SF(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function mge(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function pge(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gge(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Ld(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function vge(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function dv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xge(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Ld(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Hw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rj=new RegExp(Hw.source,"g");function yge(e){return function(){return e}}function jge(e){return function(t){return e(t)+""}}function bge(e,t){var n=Hw.lastIndex=rj.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=Hw.exec(e))&&(a=rj.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:dv(r,a)})),n=rj.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?jge(c[0].x):yge(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Ld(e,t){var n=typeof t,r;return t==null||n==="boolean"?x2(t):(n==="number"?dv:n==="string"?(r=Ef(t))?(t=r,Sk):bge:t instanceof Ef?Sk:t instanceof Date?vge:pge(t)?mge:Array.isArray(t)?gge:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xge:dv)(e,t)}function y2(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function wge(e,t){t===void 0&&(t=e,e=Ld);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function Nge(e){return function(){return e}}function hv(e){return+e}var Ck=[0,1];function wr(e){return e}function Kw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Nge(isNaN(t)?NaN:.5)}function Sge(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Cge(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Kw(a,r),i=n(o,i)):(r=Kw(r,a),i=n(i,o)),function(l){return i(r(l))}}function _ge(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Kw(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=_m(e,l,1,r)-1;return i[c](a[c](l))}}function Am(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xy(){var e=Ck,t=Ck,n=Ld,r,a,i,o=wr,l,c,u;function d(){var f=Math.min(e.length,t.length);return o!==wr&&(o=Sge(e[0],e[f-1])),l=f>2?_ge:Cge,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(r),t,n)))(r(o(f)))}return h.invert=function(f){return o(a((u||(u=l(t,e.map(r),dv)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,hv),d()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=y2,d()},h.clamp=function(f){return arguments.length?(o=f?!0:wr,d()):o!==wr},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,m){return r=f,a=m,d()}}function j2(){return xy()(wr,wr)}function Pge(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function zu(e){return e=fv(Math.abs(e)),e?e[1]:NaN}function Age(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function kge(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Tge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Of(e){if(!(t=Tge.exec(e)))throw new Error("invalid format: "+e);var t;return new b2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Of.prototype=b2.prototype;function b2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}b2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ege(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var CF;function Oge(e,t){var n=fv(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(CF=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+fv(e,Math.max(0,t+i-1))[0]}function _k(e,t){var n=fv(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Pk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Pge,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_k(e*100,t),r:_k,s:Oge,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ak(e){return e}var kk=Array.prototype.map,Tk=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Dge(e){var t=e.grouping===void 0||e.thousands===void 0?Ak:Age(kk.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Ak:kge(kk.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=Of(h);var f=h.fill,m=h.align,g=h.sign,p=h.symbol,v=h.zero,x=h.width,y=h.comma,j=h.precision,w=h.trim,N=h.type;N==="n"?(y=!0,N="g"):Pk[N]||(j===void 0&&(j=12),w=!0,N="g"),(v||f==="0"&&m==="=")&&(v=!0,f="0",m="=");var C=p==="$"?n:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",S=p==="$"?r:/[%p]/.test(N)?o:"",_=Pk[N],k=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function E(P){var A=C,R=S,$,K,V;if(N==="c")R=_(P)+R,P="";else{P=+P;var H=P<0||1/P<0;if(P=isNaN(P)?c:_(Math.abs(P),j),w&&(P=Ege(P)),H&&+P==0&&g!=="+"&&(H=!1),A=(H?g==="("?g:l:g==="-"||g==="("?"":g)+A,R=(N==="s"?Tk[8+CF/3]:"")+R+(H&&g==="("?")":""),k){for($=-1,K=P.length;++$<K;)if(V=P.charCodeAt($),48>V||V>57){R=(V===46?a+P.slice($+1):P.slice($))+R,P=P.slice(0,$);break}}}y&&!v&&(P=t(P,1/0));var T=A.length+P.length+R.length,I=T<x?new Array(x-T+1).join(f):"";switch(y&&v&&(P=t(I+P,I.length?x-R.length:1/0),I=""),m){case"<":P=A+P+R+I;break;case"=":P=A+I+P+R;break;case"^":P=I.slice(0,T=I.length>>1)+A+P+R+I.slice(T);break;default:P=I+A+P+R;break}return i(P)}return E.toString=function(){return h+""},E}function d(h,f){var m=u((h=Of(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(zu(f)/3)))*3,p=Math.pow(10,-g),v=Tk[8+g/3];return function(x){return m(p*x)+v}}return{format:u,formatPrefix:d}}var Ap,w2,_F;Mge({thousands:",",grouping:[3],currency:["$",""]});function Mge(e){return Ap=Dge(e),w2=Ap.format,_F=Ap.formatPrefix,Ap}function Ige(e){return Math.max(0,-zu(Math.abs(e)))}function $ge(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zu(t)/3)))*3-zu(Math.abs(e)))}function Rge(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zu(t)-zu(e))+1}function PF(e,t,n,r){var a=qw(e,t,n),i;switch(r=Of(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=$ge(a,o))&&(r.precision=i),_F(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Rge(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Ige(a))&&(r.precision=i-(r.type==="%")*2);break}}return w2(r)}function qo(e){var t=e.domain;return e.ticks=function(n){var r=t();return zw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return PF(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Vw(o,l,n),u===c)return r[a]=o,r[i]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function mv(){var e=j2();return e.copy=function(){return Am(e,mv())},Os.apply(e,arguments),qo(e)}function AF(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,hv),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return AF(e).unknown(t)},e=arguments.length?Array.from(e,hv):[0,1],qo(n)}function kF(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function Ek(e){return Math.log(e)}function Ok(e){return Math.exp(e)}function Lge(e){return-Math.log(-e)}function Fge(e){return-Math.exp(-e)}function Bge(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zge(e){return e===10?Bge:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Vge(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Dk(e){return(t,n)=>-e(-t,n)}function N2(e){const t=e(Ek,Ok),n=t.domain;let r=10,a,i;function o(){return a=Vge(r),i=zge(r),n()[0]<0?(a=Dk(a),i=Dk(i),e(Lge,Fge)):e(Ek,Ok),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=a(u),m=a(d),g,p;const v=l==null?10:+l;let x=[];if(!(r%1)&&m-f<v){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(g=1;g<r;++g)if(p=f<0?g/i(-f):g*i(f),!(p<u)){if(p>d)break;x.push(p)}}else for(;f<=m;++f)for(g=r-1;g>=1;--g)if(p=f>0?g/i(-f):g*i(f),!(p<u)){if(p>d)break;x.push(p)}x.length*2<v&&(x=zw(u,d,v))}else x=zw(f,m,Math.min(m-f,v)).map(i);return h?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Of(c)).precision==null&&(c.trim=!0),c=w2(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let h=d/i(Math.round(a(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},t.nice=()=>n(kF(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function TF(){const e=N2(xy()).domain([1,10]);return e.copy=()=>Am(e,TF()).base(e.base()),Os.apply(e,arguments),e}function Mk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ik(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function S2(e){var t=1,n=e(Mk(t),Ik(t));return n.constant=function(r){return arguments.length?e(Mk(t=+r),Ik(t)):t},qo(n)}function EF(){var e=S2(xy());return e.copy=function(){return Am(e,EF()).constant(e.constant())},Os.apply(e,arguments)}function $k(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qge(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Uge(e){return e<0?-e*e:e*e}function C2(e){var t=e(wr,wr),n=1;function r(){return n===1?e(wr,wr):n===.5?e(qge,Uge):e($k(n),$k(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},qo(t)}function _2(){var e=C2(xy());return e.copy=function(){return Am(e,_2()).exponent(e.exponent())},Os.apply(e,arguments),e}function Wge(){return _2.apply(null,arguments).exponent(.5)}function Rk(e){return Math.sign(e)*e*e}function Hge(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function OF(){var e=j2(),t=[0,1],n=!1,r;function a(i){var o=Hge(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(Rk(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,hv)).map(Rk)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return OF(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Os.apply(a,arguments),qo(a)}function DF(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=Xpe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[_m(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Co),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return DF().domain(e).range(t).unknown(r)},Os.apply(i,arguments)}function MF(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[_m(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return MF().domain([e,t]).range(a).unknown(i)},Os.apply(qo(o),arguments)}function IF(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[_m(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return IF().domain(e).range(t).unknown(n)},Os.apply(a,arguments)}const sj=new Date,aj=new Date;function $n(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>$n(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(sj.setTime(+i),aj.setTime(+o),e(sj),e(aj),Math.floor(n(sj,aj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const pv=$n(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$n(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):pv);pv.range;const li=1e3,Ns=li*60,ci=Ns*60,Ci=ci*24,P2=Ci*7,Lk=Ci*30,ij=Ci*365,fl=$n(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*li)},(e,t)=>(t-e)/li,e=>e.getUTCSeconds());fl.range;const A2=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*li)},(e,t)=>{e.setTime(+e+t*Ns)},(e,t)=>(t-e)/Ns,e=>e.getMinutes());A2.range;const k2=$n(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ns)},(e,t)=>(t-e)/Ns,e=>e.getUTCMinutes());k2.range;const T2=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*li-e.getMinutes()*Ns)},(e,t)=>{e.setTime(+e+t*ci)},(e,t)=>(t-e)/ci,e=>e.getHours());T2.range;const E2=$n(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ci)},(e,t)=>(t-e)/ci,e=>e.getUTCHours());E2.range;const km=$n(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ns)/Ci,e=>e.getDate()-1);km.range;const yy=$n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ci,e=>e.getUTCDate()-1);yy.range;const $F=$n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ci,e=>Math.floor(e/Ci));$F.range;function oc(e){return $n(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ns)/P2)}const jy=oc(0),gv=oc(1),Kge=oc(2),Gge=oc(3),Vu=oc(4),Yge=oc(5),Qge=oc(6);jy.range;gv.range;Kge.range;Gge.range;Vu.range;Yge.range;Qge.range;function lc(e){return $n(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/P2)}const by=lc(0),vv=lc(1),Xge=lc(2),Jge=lc(3),qu=lc(4),Zge=lc(5),eve=lc(6);by.range;vv.range;Xge.range;Jge.range;qu.range;Zge.range;eve.range;const O2=$n(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());O2.range;const D2=$n(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());D2.range;const _i=$n(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$n(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});_i.range;const Pi=$n(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$n(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Pi.range;function RF(e,t,n,r,a,i){const o=[[fl,1,li],[fl,5,5*li],[fl,15,15*li],[fl,30,30*li],[i,1,Ns],[i,5,5*Ns],[i,15,15*Ns],[i,30,30*Ns],[a,1,ci],[a,3,3*ci],[a,6,6*ci],[a,12,12*ci],[r,1,Ci],[r,2,2*Ci],[n,1,P2],[t,1,Lk],[t,3,3*Lk],[e,1,ij]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:c(u,d,h),g=m?m.range(u,+d+1):[];return f?g.reverse():g}function c(u,d,h){const f=Math.abs(d-u)/h,m=p2(([,,v])=>v).right(o,f);if(m===o.length)return e.every(qw(u/ij,d/ij,h));if(m===0)return pv.every(Math.max(qw(u,d,h),1));const[g,p]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return g.every(p)}return[l,c]}const[tve,nve]=RF(Pi,D2,by,$F,E2,k2),[rve,sve]=RF(_i,O2,jy,km,T2,A2);function oj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function lj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function oh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function ave(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=lh(a),d=ch(a),h=lh(i),f=ch(i),m=lh(o),g=ch(o),p=lh(l),v=ch(l),x=lh(c),y=ch(c),j={a:H,A:T,b:I,B:F,c:null,d:Uk,e:Uk,f:Ave,g:Lve,G:Bve,H:Cve,I:_ve,j:Pve,L:LF,m:kve,M:Tve,p:U,q:J,Q:Kk,s:Gk,S:Eve,u:Ove,U:Dve,V:Mve,w:Ive,W:$ve,x:null,X:null,y:Rve,Y:Fve,Z:zve,"%":Hk},w={a:ae,A:ne,b:me,B:Ne,c:null,d:Wk,e:Wk,f:Wve,g:txe,G:rxe,H:Vve,I:qve,j:Uve,L:BF,m:Hve,M:Kve,p:le,q:re,Q:Kk,s:Gk,S:Gve,u:Yve,U:Qve,V:Xve,w:Jve,W:Zve,x:null,X:null,y:exe,Y:nxe,Z:sxe,"%":Hk},N={a:E,A:P,b:A,B:R,c:$,d:Vk,e:Vk,f:bve,g:zk,G:Bk,H:qk,I:qk,j:vve,L:jve,m:gve,M:xve,p:k,q:pve,Q:Nve,s:Sve,S:yve,u:uve,U:dve,V:hve,w:cve,W:fve,x:K,X:V,y:zk,Y:Bk,Z:mve,"%":wve};j.x=C(n,j),j.X=C(r,j),j.c=C(t,j),w.x=C(n,w),w.X=C(r,w),w.c=C(t,w);function C(se,oe){return function(O){var W=[],fe=-1,he=0,Ye=se.length,We,ut,$e;for(O instanceof Date||(O=new Date(+O));++fe<Ye;)se.charCodeAt(fe)===37&&(W.push(se.slice(he,fe)),(ut=Fk[We=se.charAt(++fe)])!=null?We=se.charAt(++fe):ut=We==="e"?" ":"0",($e=oe[We])&&(We=$e(O,ut)),W.push(We),he=fe+1);return W.push(se.slice(he,fe)),W.join("")}}function S(se,oe){return function(O){var W=oh(1900,void 0,1),fe=_(W,se,O+="",0),he,Ye;if(fe!=O.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(oe&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(he=lj(oh(W.y,0,1)),Ye=he.getUTCDay(),he=Ye>4||Ye===0?vv.ceil(he):vv(he),he=yy.offset(he,(W.V-1)*7),W.y=he.getUTCFullYear(),W.m=he.getUTCMonth(),W.d=he.getUTCDate()+(W.w+6)%7):(he=oj(oh(W.y,0,1)),Ye=he.getDay(),he=Ye>4||Ye===0?gv.ceil(he):gv(he),he=km.offset(he,(W.V-1)*7),W.y=he.getFullYear(),W.m=he.getMonth(),W.d=he.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Ye="Z"in W?lj(oh(W.y,0,1)).getUTCDay():oj(oh(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Ye+5)%7:W.w+W.U*7-(Ye+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,lj(W)):oj(W)}}function _(se,oe,O,W){for(var fe=0,he=oe.length,Ye=O.length,We,ut;fe<he;){if(W>=Ye)return-1;if(We=oe.charCodeAt(fe++),We===37){if(We=oe.charAt(fe++),ut=N[We in Fk?oe.charAt(fe++):We],!ut||(W=ut(se,O,W))<0)return-1}else if(We!=O.charCodeAt(W++))return-1}return W}function k(se,oe,O){var W=u.exec(oe.slice(O));return W?(se.p=d.get(W[0].toLowerCase()),O+W[0].length):-1}function E(se,oe,O){var W=m.exec(oe.slice(O));return W?(se.w=g.get(W[0].toLowerCase()),O+W[0].length):-1}function P(se,oe,O){var W=h.exec(oe.slice(O));return W?(se.w=f.get(W[0].toLowerCase()),O+W[0].length):-1}function A(se,oe,O){var W=x.exec(oe.slice(O));return W?(se.m=y.get(W[0].toLowerCase()),O+W[0].length):-1}function R(se,oe,O){var W=p.exec(oe.slice(O));return W?(se.m=v.get(W[0].toLowerCase()),O+W[0].length):-1}function $(se,oe,O){return _(se,t,oe,O)}function K(se,oe,O){return _(se,n,oe,O)}function V(se,oe,O){return _(se,r,oe,O)}function H(se){return o[se.getDay()]}function T(se){return i[se.getDay()]}function I(se){return c[se.getMonth()]}function F(se){return l[se.getMonth()]}function U(se){return a[+(se.getHours()>=12)]}function J(se){return 1+~~(se.getMonth()/3)}function ae(se){return o[se.getUTCDay()]}function ne(se){return i[se.getUTCDay()]}function me(se){return c[se.getUTCMonth()]}function Ne(se){return l[se.getUTCMonth()]}function le(se){return a[+(se.getUTCHours()>=12)]}function re(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var oe=C(se+="",j);return oe.toString=function(){return se},oe},parse:function(se){var oe=S(se+="",!1);return oe.toString=function(){return se},oe},utcFormat:function(se){var oe=C(se+="",w);return oe.toString=function(){return se},oe},utcParse:function(se){var oe=S(se+="",!0);return oe.toString=function(){return se},oe}}}var Fk={"-":"",_:" ",0:"0"},Hn=/^\s*\d+/,ive=/^%/,ove=/[\\^$*+?|[\]().{}]/g;function bt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function lve(e){return e.replace(ove,"\\$&")}function lh(e){return new RegExp("^(?:"+e.map(lve).join("|")+")","i")}function ch(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cve(e,t,n){var r=Hn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function uve(e,t,n){var r=Hn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dve(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function hve(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function fve(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Bk(e,t,n){var r=Hn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function zk(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mve(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pve(e,t,n){var r=Hn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function gve(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Vk(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function vve(e,t,n){var r=Hn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function qk(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function xve(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function yve(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function jve(e,t,n){var r=Hn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function bve(e,t,n){var r=Hn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wve(e,t,n){var r=ive.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Nve(e,t,n){var r=Hn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Sve(e,t,n){var r=Hn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Uk(e,t){return bt(e.getDate(),t,2)}function Cve(e,t){return bt(e.getHours(),t,2)}function _ve(e,t){return bt(e.getHours()%12||12,t,2)}function Pve(e,t){return bt(1+km.count(_i(e),e),t,3)}function LF(e,t){return bt(e.getMilliseconds(),t,3)}function Ave(e,t){return LF(e,t)+"000"}function kve(e,t){return bt(e.getMonth()+1,t,2)}function Tve(e,t){return bt(e.getMinutes(),t,2)}function Eve(e,t){return bt(e.getSeconds(),t,2)}function Ove(e){var t=e.getDay();return t===0?7:t}function Dve(e,t){return bt(jy.count(_i(e)-1,e),t,2)}function FF(e){var t=e.getDay();return t>=4||t===0?Vu(e):Vu.ceil(e)}function Mve(e,t){return e=FF(e),bt(Vu.count(_i(e),e)+(_i(e).getDay()===4),t,2)}function Ive(e){return e.getDay()}function $ve(e,t){return bt(gv.count(_i(e)-1,e),t,2)}function Rve(e,t){return bt(e.getFullYear()%100,t,2)}function Lve(e,t){return e=FF(e),bt(e.getFullYear()%100,t,2)}function Fve(e,t){return bt(e.getFullYear()%1e4,t,4)}function Bve(e,t){var n=e.getDay();return e=n>=4||n===0?Vu(e):Vu.ceil(e),bt(e.getFullYear()%1e4,t,4)}function zve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+bt(t/60|0,"0",2)+bt(t%60,"0",2)}function Wk(e,t){return bt(e.getUTCDate(),t,2)}function Vve(e,t){return bt(e.getUTCHours(),t,2)}function qve(e,t){return bt(e.getUTCHours()%12||12,t,2)}function Uve(e,t){return bt(1+yy.count(Pi(e),e),t,3)}function BF(e,t){return bt(e.getUTCMilliseconds(),t,3)}function Wve(e,t){return BF(e,t)+"000"}function Hve(e,t){return bt(e.getUTCMonth()+1,t,2)}function Kve(e,t){return bt(e.getUTCMinutes(),t,2)}function Gve(e,t){return bt(e.getUTCSeconds(),t,2)}function Yve(e){var t=e.getUTCDay();return t===0?7:t}function Qve(e,t){return bt(by.count(Pi(e)-1,e),t,2)}function zF(e){var t=e.getUTCDay();return t>=4||t===0?qu(e):qu.ceil(e)}function Xve(e,t){return e=zF(e),bt(qu.count(Pi(e),e)+(Pi(e).getUTCDay()===4),t,2)}function Jve(e){return e.getUTCDay()}function Zve(e,t){return bt(vv.count(Pi(e)-1,e),t,2)}function exe(e,t){return bt(e.getUTCFullYear()%100,t,2)}function txe(e,t){return e=zF(e),bt(e.getUTCFullYear()%100,t,2)}function nxe(e,t){return bt(e.getUTCFullYear()%1e4,t,4)}function rxe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?qu(e):qu.ceil(e),bt(e.getUTCFullYear()%1e4,t,4)}function sxe(){return"+0000"}function Hk(){return"%"}function Kk(e){return+e}function Gk(e){return Math.floor(+e/1e3)}var Cc,VF,qF;axe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function axe(e){return Cc=ave(e),VF=Cc.format,Cc.parse,qF=Cc.utcFormat,Cc.utcParse,Cc}function ixe(e){return new Date(e)}function oxe(e){return e instanceof Date?+e:+new Date(+e)}function M2(e,t,n,r,a,i,o,l,c,u){var d=j2(),h=d.invert,f=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),j=u("%B"),w=u("%Y");function N(C){return(c(C)<C?m:l(C)<C?g:o(C)<C?p:i(C)<C?v:r(C)<C?a(C)<C?x:y:n(C)<C?j:w)(C)}return d.invert=function(C){return new Date(h(C))},d.domain=function(C){return arguments.length?f(Array.from(C,oxe)):f().map(ixe)},d.ticks=function(C){var S=f();return e(S[0],S[S.length-1],C??10)},d.tickFormat=function(C,S){return S==null?N:u(S)},d.nice=function(C){var S=f();return(!C||typeof C.range!="function")&&(C=t(S[0],S[S.length-1],C??10)),C?f(kF(S,C)):d},d.copy=function(){return Am(d,M2(e,t,n,r,a,i,o,l,c,u))},d}function lxe(){return Os.apply(M2(rve,sve,_i,O2,jy,km,T2,A2,fl,VF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cxe(){return Os.apply(M2(tve,nve,Pi,D2,by,yy,E2,k2,fl,qF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wy(){var e=0,t=1,n,r,a,i,o=wr,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-n)*a,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var m,g;return arguments.length?([m,g]=f,o=h(m,g),u):[o(0),o(1)]}}return u.range=d(Ld),u.rangeRound=d(y2),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,n=h(e),r=h(t),a=n===r?0:1/(r-n),u}}function Uo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function UF(){var e=qo(wy()(wr));return e.copy=function(){return Uo(e,UF())},Oi.apply(e,arguments)}function WF(){var e=N2(wy()).domain([1,10]);return e.copy=function(){return Uo(e,WF()).base(e.base())},Oi.apply(e,arguments)}function HF(){var e=S2(wy());return e.copy=function(){return Uo(e,HF()).constant(e.constant())},Oi.apply(e,arguments)}function I2(){var e=C2(wy());return e.copy=function(){return Uo(e,I2()).exponent(e.exponent())},Oi.apply(e,arguments)}function uxe(){return I2.apply(null,arguments).exponent(.5)}function KF(){var e=[],t=wr;function n(r){if(r!=null&&!isNaN(r=+r))return t((_m(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Co),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>Qpe(e,i/r))},n.copy=function(){return KF(t).domain(e)},Oi.apply(n,arguments)}function Ny(){var e=0,t=.5,n=1,r=1,a,i,o,l,c,u=wr,d,h=!1,f;function m(p){return isNaN(p=+p)?f:(p=.5+((p=+d(p))-i)*(r*p<r*i?l:c),u(h?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,n]=p,a=d(e=+e),i=d(t=+t),o=d(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(p){return arguments.length?(h=!!p,m):h},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var x,y,j;return arguments.length?([x,y,j]=v,u=wge(p,[x,y,j]),m):[u(0),u(.5),u(1)]}}return m.range=g(Ld),m.rangeRound=g(y2),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return d=p,a=p(e),i=p(t),o=p(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function GF(){var e=qo(Ny()(wr));return e.copy=function(){return Uo(e,GF())},Oi.apply(e,arguments)}function YF(){var e=N2(Ny()).domain([.1,1,10]);return e.copy=function(){return Uo(e,YF()).base(e.base())},Oi.apply(e,arguments)}function QF(){var e=S2(Ny());return e.copy=function(){return Uo(e,QF()).constant(e.constant())},Oi.apply(e,arguments)}function $2(){var e=C2(Ny());return e.copy=function(){return Uo(e,$2()).exponent(e.exponent())},Oi.apply(e,arguments)}function dxe(){return $2.apply(null,arguments).exponent(.5)}const Yk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Af,scaleDiverging:GF,scaleDivergingLog:YF,scaleDivergingPow:$2,scaleDivergingSqrt:dxe,scaleDivergingSymlog:QF,scaleIdentity:AF,scaleImplicit:Uw,scaleLinear:mv,scaleLog:TF,scaleOrdinal:g2,scalePoint:Bh,scalePow:_2,scaleQuantile:DF,scaleQuantize:MF,scaleRadial:OF,scaleSequential:UF,scaleSequentialLog:WF,scaleSequentialPow:I2,scaleSequentialQuantile:KF,scaleSequentialSqrt:uxe,scaleSequentialSymlog:HF,scaleSqrt:Wge,scaleSymlog:EF,scaleThreshold:IF,scaleTime:lxe,scaleUtc:cxe,tickFormat:PF},Symbol.toStringTag,{value:"Module"}));var hxe=Ad;function fxe(e,t,n){for(var r=-1,a=e.length;++r<a;){var i=e[r],o=t(i);if(o!=null&&(l===void 0?o===o&&!hxe(o):n(o,l)))var l=o,c=i}return c}var Sy=fxe;function mxe(e,t){return e>t}var XF=mxe,pxe=Sy,gxe=XF,vxe=$d;function xxe(e){return e&&e.length?pxe(e,vxe,gxe):void 0}var yxe=xxe;const ho=Ct(yxe);function jxe(e,t){return e<t}var JF=jxe,bxe=Sy,wxe=JF,Nxe=$d;function Sxe(e){return e&&e.length?bxe(e,Nxe,wxe):void 0}var Cxe=Sxe;const Cy=Ct(Cxe);var _xe=QS,Pxe=Wa,Axe=iF,kxe=Hr;function Txe(e,t){var n=kxe(e)?_xe:Axe;return n(e,Pxe(t))}var Exe=Txe,Oxe=sF,Dxe=Exe;function Mxe(e,t){return Oxe(Dxe(e,t),1)}var Ixe=Mxe;const $xe=Ct(Ixe);var Rxe=d2;function Lxe(e,t){return Rxe(e,t)}var Fxe=Lxe;const Hl=Ct(Fxe);var Fd=1e9,Bxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},L2,tn=!0,As="[DecimalError] ",Al=As+"Invalid argument: ",R2=As+"Exponent out of range: ",Bd=Math.floor,rl=Math.pow,zxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rs,Fn=1e7,Qt=7,ZF=9007199254740991,xv=Bd(ZF/Qt),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(e){return mi(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,n=t.constructor;return $t(mi(t,new n(e),0,1),n.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return wn(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(rs))throw Error(As+"NaN");if(n.s<1)throw Error(As+(n.s?"NaN":"-Infinity"));return n.eq(rs)?new r(0):(tn=!1,t=mi(Df(n,i),Df(e,i),i),tn=!0,$t(t,a))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?n5(t,e):e5(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(As+"NaN");return n.s?(tn=!1,t=mi(n,e,0,1).times(e),tn=!0,n.minus(t)):$t(new r(n),a)};Oe.naturalExponential=Oe.exp=function(){return t5(this)};Oe.naturalLogarithm=Oe.ln=function(){return Df(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?e5(t,e):n5(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Al+e);if(t=wn(a)+1,r=a.d.length-1,n=r*Qt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Oe.squareRoot=Oe.sqrt=function(){var e,t,n,r,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(As+"NaN")}for(e=wn(l),tn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Pa(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Bd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=r,r=i.plus(mi(l,i,o+2)).times(.5),Pa(i.d).slice(0,o)===(t=Pa(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if($t(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return tn=!0,$t(r,n)};Oe.times=Oe.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,c=f.length,u=m.length,c<u&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*f[a-r-1]+t,i[a--]=l%Fn|0,t=l/Fn|0;i[a]=(i[a]+t)%Fn|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,tn?$t(e,h.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(za(e,0,Fd),t===void 0?t=r.rounding:za(t,0,8),$t(n,e+wn(n)+1,t))};Oe.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Kl(r,!0):(za(e,0,Fd),t===void 0?t=a.rounding:za(t,0,8),r=$t(new a(r),e+1,t),n=Kl(r,!0,e+1)),n};Oe.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?Kl(a):(za(e,0,Fd),t===void 0?t=i.rounding:za(t,0,8),r=$t(new i(a),e+wn(a)+1,t),n=Kl(r.abs(),!1,e+wn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return $t(new t(e),wn(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,n,r,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(rs);if(l=new c(l),!l.s){if(e.s<1)throw Error(As+"Infinity");return l}if(l.eq(rs))return l;if(r=c.precision,e.eq(rs))return $t(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=d<0?-d:d)<=ZF){for(a=new c(rs),t=Math.ceil(r/Qt+4),tn=!1;n%2&&(a=a.times(l),Xk(a.d,t)),n=Bd(n/2),n!==0;)l=l.times(l),Xk(l.d,t);return tn=!0,e.s<0?new c(rs).div(a):$t(a,r)}}else if(i<0)throw Error(As+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,tn=!1,a=e.times(Df(l,r+u)),tn=!0,a=t5(a),a.s=i,a};Oe.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=wn(a),r=Kl(a,n<=i.toExpNeg||n>=i.toExpPos)):(za(e,1,Fd),t===void 0?t=i.rounding:za(t,0,8),a=$t(new i(a),e,t),n=wn(a),r=Kl(a,e<=n||n<=i.toExpNeg,e)),r};Oe.toSignificantDigits=Oe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(za(e,1,Fd),t===void 0?t=r.rounding:za(t,0,8)),$t(new r(n),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wn(e),n=e.constructor;return Kl(e,t<=n.toExpNeg||t>=n.toExpPos)};function e5(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),tn?$t(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),o=Math.ceil(h/Qt),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/Fn|0,c[i]%=Fn;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,tn?$t(t,h):t}function za(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Al+e)}function Pa(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=Qt-r.length,n&&(i+=Ki(n)),i+=r;o=e[t],r=o+"",n=Qt-r.length,n&&(i+=Ki(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var mi=function(){function e(r,a){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*a+o,r[l]=i%Fn|0,o=i/Fn|0;return o&&r.unshift(o),r}function t(r,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*Fn+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var l,c,u,d,h,f,m,g,p,v,x,y,j,w,N,C,S,_,k=r.constructor,E=r.s==a.s?1:-1,P=r.d,A=a.d;if(!r.s)return new k(r);if(!a.s)throw Error(As+"Division by zero");for(c=r.e-a.e,S=A.length,N=P.length,m=new k(E),g=m.d=[],u=0;A[u]==(P[u]||0);)++u;if(A[u]>(P[u]||0)&&--c,i==null?y=i=k.precision:o?y=i+(wn(r)-wn(a))+1:y=i,y<0)return new k(0);if(y=y/Qt+2|0,u=0,S==1)for(d=0,A=A[0],y++;(u<N||d)&&y--;u++)j=d*Fn+(P[u]||0),g[u]=j/A|0,d=j%A|0;else{for(d=Fn/(A[0]+1)|0,d>1&&(A=e(A,d),P=e(P,d),S=A.length,N=P.length),w=S,p=P.slice(0,S),v=p.length;v<S;)p[v++]=0;_=A.slice(),_.unshift(0),C=A[0],A[1]>=Fn/2&&++C;do d=0,l=t(A,p,S,v),l<0?(x=p[0],S!=v&&(x=x*Fn+(p[1]||0)),d=x/C|0,d>1?(d>=Fn&&(d=Fn-1),h=e(A,d),f=h.length,v=p.length,l=t(h,p,f,v),l==1&&(d--,n(h,S<f?_:A,f))):(d==0&&(l=d=1),h=A.slice()),f=h.length,f<v&&h.unshift(0),n(p,h,v),l==-1&&(v=p.length,l=t(A,p,S,v),l<1&&(d++,n(p,S<v?_:A,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=P[w]||0:(p=[P[w]],v=1);while((w++<N||p[0]!==void 0)&&y--)}return g[0]||g.shift(),m.e=c,$t(m,o?i+wn(m)+1:i)}}();function t5(e,t){var n,r,a,i,o,l,c=0,u=0,d=e.constructor,h=d.precision;if(wn(e)>16)throw Error(R2+wn(e));if(!e.s)return new d(rs);for(t==null?(tn=!1,l=h):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(rl(2,u))/Math.LN10*2+5|0,l+=r,n=a=i=new d(rs),d.precision=l;;){if(a=$t(a.times(e),l),n=n.times(++c),o=i.plus(mi(a,n,l)),Pa(o.d).slice(0,l)===Pa(i.d).slice(0,l)){for(;u--;)i=$t(i.times(i),l);return d.precision=h,t==null?(tn=!0,$t(i,h)):i}i=o}}function wn(e){for(var t=e.e*Qt,n=e.d[0];n>=10;n/=10)t++;return t}function cj(e,t,n){if(t>e.LN10.sd())throw tn=!0,n&&(e.precision=n),Error(As+"LN10 precision limit exceeded");return $t(new e(e.LN10),t)}function Ki(e){for(var t="";e--;)t+="0";return t}function Df(e,t){var n,r,a,i,o,l,c,u,d,h=1,f=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(As+(m.s?"NaN":"-Infinity"));if(m.eq(rs))return new p(0);if(t==null?(tn=!1,u=v):u=t,m.eq(10))return t==null&&(tn=!0),cj(p,u);if(u+=f,p.precision=u,n=Pa(g),r=n.charAt(0),i=wn(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Pa(m.d),r=n.charAt(0),h++;i=wn(m),r>1?(m=new p("0."+n),i++):m=new p(r+"."+n.slice(1))}else return c=cj(p,u+2,v).times(i+""),m=Df(new p(r+"."+n.slice(1)),u-f).plus(c),p.precision=v,t==null?(tn=!0,$t(m,v)):m;for(l=o=m=mi(m.minus(rs),m.plus(rs),u),d=$t(m.times(m),u),a=3;;){if(o=$t(o.times(d),u),c=l.plus(mi(o,new p(a),u)),Pa(c.d).slice(0,u)===Pa(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(cj(p,u+2,v).times(i+""))),l=mi(l,new p(h),u),p.precision=v,t==null?(tn=!0,$t(l,v)):l;l=c,a+=2}}function Qk(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Bd(n/Qt),e.d=[],r=(n+1)%Qt,n<0&&(r+=Qt),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Qt;r<a;)e.d.push(+t.slice(r,r+=Qt));t=t.slice(r),r=Qt-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),tn&&(e.e>xv||e.e<-xv))throw Error(R2+n)}else e.s=0,e.e=0,e.d=[0];return e}function $t(e,t,n){var r,a,i,o,l,c,u,d,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=Qt,a=t,u=h[d=0];else{if(d=Math.ceil((r+1)/Qt),i=h.length,d>=i)return e;for(u=i=h[d],o=1;i>=10;i/=10)o++;r%=Qt,a=r-Qt+o}if(n!==void 0&&(i=rl(10,o-a-1),l=u/i%10|0,c=t<0||h[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?u/rl(10,o-a):0:h[d-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(i=wn(e),h.length=1,t=t-i-1,h[0]=rl(10,(Qt-t%Qt)%Qt),e.e=Bd(-t/Qt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=d,i=1,d--):(h.length=d+1,i=rl(10,Qt-r),h[d]=a>0?(u/rl(10,o-a)%rl(10,a)|0)*i:0),c)for(;;)if(d==0){(h[0]+=i)==Fn&&(h[0]=1,++e.e);break}else{if(h[d]+=i,h[d]!=Fn)break;h[d--]=0,i=1}for(r=h.length;h[--r]===0;)h.pop();if(tn&&(e.e>xv||e.e<-xv))throw Error(R2+wn(e));return e}function n5(e,t){var n,r,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),tn?$t(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),a=Math.max(Math.ceil(m/Qt),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=h.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=Fn-1;--c[i],c[a]+=Fn}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,tn?$t(t,m):t):new f(0)}function Kl(e,t,n){var r,a=wn(e),i=Pa(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ki(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ki(-a-1)+i,n&&(r=n-o)>0&&(i+=Ki(r))):a>=o?(i+=Ki(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+Ki(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=Ki(r))),e.s<0?"-"+i:i}function Xk(e,t){if(e.length>t)return e.length=t,!0}function r5(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Al+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Qk(o,i.toString())}else if(typeof i!="string")throw Error(Al+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,zxe.test(i))Qk(o,i);else throw Error(Al+i)}if(a.prototype=Oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=r5,a.config=a.set=Vxe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function Vxe(e){if(!e||typeof e!="object")throw Error(As+"Object expected");var t,n,r,a=["precision",1,Fd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Bd(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Al+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Al+n+": "+r);return this}var L2=r5(Bxe);rs=new L2(1);const Dt=L2;function qxe(e){return Kxe(e)||Hxe(e)||Wxe(e)||Uxe()}function Uxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wxe(e,t){if(e){if(typeof e=="string")return Gw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gw(e,t)}}function Hxe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Kxe(e){if(Array.isArray(e))return Gw(e)}function Gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gxe=function(t){return t},s5={"@@functional/placeholder":!0},a5=function(t){return t===s5},Jk=function(t){return function n(){return arguments.length===0||arguments.length===1&&a5(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Yxe=function e(t,n){return t===1?n:Jk(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==s5}).length;return o>=t?n.apply(void 0,a):e(t-o,Jk(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(h){return a5(h)?c.shift():h});return n.apply(void 0,qxe(d).concat(c))}))})},_y=function(t){return Yxe(t.length,t)},Yw=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},Qxe=_y(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Xxe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Gxe;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Qw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},i5=function(t){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function Jxe(e){var t;return e===0?t=1:t=Math.floor(new Dt(e).abs().log(10).toNumber())+1,t}function Zxe(e,t,n){for(var r=new Dt(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var eye=_y(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),tye=_y(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),nye=_y(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Py={rangeStep:Zxe,getDigitCount:Jxe,interpolateNumber:eye,uninterpolateNumber:tye,uninterpolateTruncation:nye};function Xw(e){return aye(e)||sye(e)||o5(e)||rye()}function rye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sye(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function aye(e){if(Array.isArray(e))return Jw(e)}function Mf(e,t){return lye(e)||oye(e,t)||o5(e,t)||iye()}function iye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o5(e,t){if(e){if(typeof e=="string")return Jw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jw(e,t)}}function Jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oye(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function lye(e){if(Array.isArray(e))return e}function l5(e){var t=Mf(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function c5(e,t,n){if(e.lte(0))return new Dt(0);var r=Py.getDigitCount(e.toNumber()),a=new Dt(10).pow(r),i=e.div(a),o=r!==1?.05:.1,l=new Dt(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?c:new Dt(Math.ceil(c))}function cye(e,t,n){var r=1,a=new Dt(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Dt(10).pow(Py.getDigitCount(e)-1),a=new Dt(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Dt(Math.floor(e)))}else e===0?a=new Dt(Math.floor((t-1)/2)):n||(a=new Dt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Xxe(Qxe(function(c){return a.add(new Dt(c-o).mul(r)).toNumber()}),Yw);return l(0,t)}function u5(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var i=c5(new Dt(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Dt(0):(o=new Dt(e).add(t).div(2),o=o.sub(new Dt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Dt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>n?u5(e,t,n,r,a+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:i,tickMin:o.sub(new Dt(l).mul(i)),tickMax:o.add(new Dt(c).mul(i))})}function uye(e){var t=Mf(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=l5([n,r]),c=Mf(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(Xw(Yw(0,a-1).map(function(){return 1/0}))):[].concat(Xw(Yw(0,a-1).map(function(){return-1/0})),[d]);return n>r?Qw(h):h}if(u===d)return cye(u,a,i);var f=u5(u,d,o,i),m=f.step,g=f.tickMin,p=f.tickMax,v=Py.rangeStep(g,p.add(new Dt(.1).mul(m)),m);return n>r?Qw(v):v}function dye(e,t){var n=Mf(e,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=l5([r,a]),l=Mf(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var d=Math.max(t,2),h=c5(new Dt(u).sub(c).div(d-1),i,0),f=[].concat(Xw(Py.rangeStep(new Dt(c),new Dt(u).sub(new Dt(.99).mul(h)),h)),[u]);return r>a?Qw(f):f}var hye=i5(uye),fye=i5(dye),mye="Invariant failed";function Gl(e,t){throw new Error(mye)}var pye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yv.apply(this,arguments)}function gye(e,t){return jye(e)||yye(e,t)||xye(e,t)||vye()}function vye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xye(e,t){if(e){if(typeof e=="string")return Zk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zk(e,t)}}function Zk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yye(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jye(e){if(Array.isArray(e))return e}function bye(e,t){if(e==null)return{};var n=wye(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wye(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Nye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f5(r.key),r)}}function Cye(e,t,n){return t&&Sye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ye(e,t,n){return t=jv(t),Pye(e,d5()?Reflect.construct(t,n||[],jv(e).constructor):t.apply(e,n))}function Pye(e,t){if(t&&(Uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aye(e)}function Aye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d5=function(){return!!e})()}function jv(e){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jv(e)}function kye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zw(e,t)}function Zw(e,t){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Zw(e,t)}function h5(e,t,n){return t=f5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f5(e){var t=Tye(e,"string");return Uu(t)=="symbol"?t:t+""}function Tye(e,t){if(Uu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tm=function(e){function t(){return Nye(this,t),_ye(this,t,arguments)}return kye(t,e),Cye(t,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,h=r.yAxis,f=bye(r,pye),m=Le(f,!1);this.props.direction==="x"&&d.type!=="number"&&Gl();var g=c.map(function(p){var v=u(p,l),x=v.x,y=v.y,j=v.value,w=v.errorVal;if(!w)return null;var N=[],C,S;if(Array.isArray(w)){var _=gye(w,2);C=_[0],S=_[1]}else C=S=w;if(i==="vertical"){var k=d.scale,E=y+a,P=E+o,A=E-o,R=k(j-C),$=k(j+S);N.push({x1:$,y1:P,x2:$,y2:A}),N.push({x1:R,y1:E,x2:$,y2:E}),N.push({x1:R,y1:P,x2:R,y2:A})}else if(i==="horizontal"){var K=h.scale,V=x+a,H=V-o,T=V+o,I=K(j-C),F=K(j+S);N.push({x1:H,y1:F,x2:T,y2:F}),N.push({x1:V,y1:I,x2:V,y2:F}),N.push({x1:H,y1:I,x2:T,y2:I})}return M.createElement(ft,yv({className:"recharts-errorBar",key:"bar-".concat(N.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},m),N.map(function(U){return M.createElement("line",yv({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return M.createElement(ft,{className:"recharts-errorBars"},g)}}])}(M.Component);h5(Tm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});h5(Tm,"displayName","ErrorBar");function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(n),!0).forEach(function(r){Eye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eye(e,t,n){return t=Oye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oye(e){var t=Dye(e,"string");return If(t)=="symbol"?t:t+""}function Dye(e,t){if(If(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m5=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=es(n,su);if(!o)return null;var l=su.defaultProps,c=l!==void 0?Go(Go({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(d,h){var f=h.item,m=h.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(r||[]).map(function(d){var h=d.item,f=h.type.defaultProps,m=f!==void 0?Go(Go({},f),h.props):{},g=m.dataKey,p=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:g,type:c.iconType||v||"square",color:F2(h),value:p||g,payload:m}}),Go(Go(Go({},c),su.getWithHeight(o,a)),{},{payload:u,item:o})};function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function tT(e){return Rye(e)||$ye(e)||Iye(e)||Mye()}function Mye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iye(e,t){if(e){if(typeof e=="string")return eN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eN(e,t)}}function $ye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rye(e){if(Array.isArray(e))return eN(e)}function eN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(n),!0).forEach(function(r){iu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iu(e,t,n){return t=Lye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lye(e){var t=Fye(e,"string");return $f(t)=="symbol"?t:t+""}function Fye(e,t){if($f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mn(e,t,n){return Ke(e)||Ke(t)?n:Mn(t)?os(e,t,n):qe(t)?t(e):n}function zh(e,t,n,r){var a=$xe(e,function(l){return mn(l,t)});if(n==="number"){var i=a.filter(function(l){return ge(l)||parseFloat(l)});return i.length?[Cy(i),ho(i)]:[1/0,-1/0]}var o=r?a.filter(function(l){return!Ke(l)}):a;return o.map(function(l){return Mn(l)||l instanceof Date?l:""})}var Bye=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,h=a[u].coordinate,f=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(jr(h-d)!==jr(f-h)){var g=[];if(jr(f-h)===jr(c[1]-c[0])){m=f;var p=h+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=f+c[1]-c[0];g[0]=Math.min(h,(v+h)/2),g[1]=Math.max(h,(v+h)/2)}var x=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var y=Math.min(d,f),j=Math.max(d,f);if(t>(y+h)/2&&t<=(j+h)/2){o=a[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(r[w].coordinate+r[w+1].coordinate)/2||w>0&&w<l-1&&t>(r[w].coordinate+r[w-1].coordinate)/2&&t<=(r[w].coordinate+r[w+1].coordinate)/2||w===l-1&&t>(r[w].coordinate+r[w-1].coordinate)/2){o=r[w].index;break}return o},F2=function(t){var n,r=t,a=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?dn(dn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},zye=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,h=Object.keys(d),f=0,m=h.length;f<m;f++){var g=d[h[f]],p=g.items,v=g.cateAxisId,x=p.filter(function(S){return fi(S.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,j=y!==void 0?dn(dn({},y),x[0].props):x[0].props,w=j.barSize,N=j[v];o[N]||(o[N]=[]);var C=Ke(w)?n:w;o[N].push({item:x[0],stackList:x.slice(1),barSize:Ke(C)?void 0:br(C,r,0)})}}return o},Vye=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=br(n,a,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=a/c,g=o.reduce(function(w,N){return w+N.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(f=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(w,N){var C={item:N.item,position:{offset:v.offset+v.size+u,size:f?m:N.barSize}},S=[].concat(tT(w),[C]);return v=S[S.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(_){S.push({item:_,position:v})}),S},h)}else{var x=br(r,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var y=(a-2*x-(c-1)*u)/c;y>1&&(y>>=0);var j=l===+l?Math.min(y,l):y;d=o.reduce(function(w,N,C){var S=[].concat(tT(w),[{item:N.item,position:{offset:x+(y+u)*C+(y-j)/2,size:j}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(_){S.push({item:_,position:S[S.length-1].position})}),S},h)}return d},qye=function(t,n,r,a){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=m5({children:i,legendWidth:c});if(u){var d=a||{},h=d.width,f=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&ge(t[m]))return dn(dn({},t),{},iu({},m,t[m]+(h||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&ge(t[g]))return dn(dn({},t),{},iu({},g,t[g]+(f||0)))}return t},Uye=function(t,n,r){return Ke(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},p5=function(t,n,r,a,i){var o=n.props.children,l=ls(o,Tm).filter(function(u){return Uye(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var h=mn(d,r);if(Ke(h))return u;var f=Array.isArray(h)?[Cy(h),ho(h)]:[h,h],m=c.reduce(function(g,p){var v=mn(d,p,0),x=f[0]-Math.abs(Array.isArray(v)?v[0]:v),y=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Wye=function(t,n,r,a,i){var o=n.map(function(l){return p5(t,l,r,i,a)}).filter(function(l){return!Ke(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},g5=function(t,n,r,a,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&p5(t,c,u,a)||zh(t,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},v5=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},x5=function(t,n,r,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},ui=function(t,n,r){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?jr(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:a(f)+u,value:h,offset:u}});return d.filter(function(h){return!Dd(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:a(h)+u,value:h,index:f,offset:u}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+u,value:h,offset:u}}):a.domain().map(function(h,f){return{coordinate:a(h)+u,value:i?i[h]:h,index:f,offset:u}})},uj=new WeakMap,kp=function(t,n){if(typeof n!="function")return t;uj.has(t)||uj.set(t,new WeakMap);var r=uj.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},y5=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Af(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:mv(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Bh(),realScaleType:"point"}:i==="category"?{scale:Af(),realScaleType:"band"}:{scale:mv(),realScaleType:"linear"};if(ql(a)){var c="scale".concat(dy(a));return{scale:(Yk[c]||Bh)(),realScaleType:Yk[c]?c:"point"}}return qe(a)?{scale:a}:{scale:Bh(),realScaleType:"point"}},rT=1e-4,j5=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),i=Math.min(a[0],a[1])-rT,o=Math.max(a[0],a[1])+rT,l=t(n[0]),c=t(n[r-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[r-1]])}},Hye=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},Kye=function(t,n){if(!n||n.length!==2||!ge(n[0])||!ge(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!ge(t[0])||t[0]<r)&&(i[0]=r),(!ge(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},Gye=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0,l=0;l<n;++l){var c=Dd(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},Yye=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var l=Dd(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},Qye={sign:Gye,expand:pie,none:$u,silhouette:gie,wiggle:vie,positive:Yye},Xye=function(t,n,r){var a=n.map(function(l){return l.props.dataKey}),i=Qye[r],o=mie().keys(a).value(function(l,c){return+mn(l,c,0)}).order(Cw).offset(i);return o(t)},Jye=function(t,n,r,a,i,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(h,f){var m,g=(m=f.type)!==null&&m!==void 0&&m.defaultProps?dn(dn({},f.type.defaultProps),f.props):f.props,p=g.stackId,v=g.hide;if(v)return h;var x=g[r],y=h[x]||{hasStack:!1,stackGroups:{}};if(Mn(p)){var j=y.stackGroups[p]||{numericAxisId:r,cateAxisId:a,items:[]};j.items.push(f),y.hasStack=!0,y.stackGroups[p]=j}else y.stackGroups[ic("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[f]};return dn(dn({},h),{},iu({},x,y))},c),d={};return Object.keys(u).reduce(function(h,f){var m=u[f];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var x=m.stackGroups[v];return dn(dn({},p),{},iu({},v,{numericAxisId:r,cateAxisId:a,items:x.items,stackedData:Xye(t,x.items,i)}))},g)}return dn(dn({},h),{},iu({},f,m))},d)},b5=function(t,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=hye(u,i,l);return t.domain([Cy(d),ho(d)]),{niceTicks:d}}if(i&&a==="number"){var h=t.domain(),f=fye(h,i,l);return{niceTicks:f}}return null};function bv(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ke(a[t.dataKey])){var l=Kg(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=mn(a,Ke(o)?t.dataKey:o);return Ke(c)?null:t.scale(c)}var sT=function(t){var n=t.axis,r=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+a:null;var c=mn(o,n.dataKey,n.domain[l]);return Ke(c)?null:n.scale(c)-i/2+a},Zye=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},e0e=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?dn(dn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Mn(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},t0e=function(t){return t.reduce(function(n,r){return[Cy(r.concat([n[0]]).filter(ge)),ho(r.concat([n[1]]).filter(ge))]},[1/0,-1/0])},w5=function(t,n,r){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var h=t0e(d.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},aT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tN=function(t,n,r){if(qe(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(ge(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(aT.test(t[0])){var i=+aT.exec(t[0])[1];a[0]=n[0]-i}else qe(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(ge(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(iT.test(t[1])){var o=+iT.exec(t[1])[1];a[1]=n[1]+o}else qe(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},wv=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var i=f2(n,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},oT=function(t,n,r){return!t||!t.length||Hl(t,os(r,"type.defaultProps.domain"))?n:t},N5=function(t,n){var r=t.type.defaultProps?dn(dn({},t.type.defaultProps),t.props):t.props,a=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return dn(dn({},Le(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:F2(t),value:mn(n,a),type:c,payload:n,chartType:u,hide:d})};function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function lT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(n),!0).forEach(function(r){S5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S5(e,t,n){return t=n0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n0e(e){var t=r0e(e,"string");return Rf(t)=="symbol"?t:t+""}function r0e(e,t){if(Rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s0e(e,t){return l0e(e)||o0e(e,t)||i0e(e,t)||a0e()}function a0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i0e(e,t){if(e){if(typeof e=="string")return cT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cT(e,t)}}function cT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function l0e(e){if(Array.isArray(e))return e}var Nv=Math.PI/180,c0e=function(t){return t*180/Math.PI},Wt=function(t,n,r,a){return{x:t+Math.cos(-Nv*a)*r,y:n+Math.sin(-Nv*a)*r}},C5=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},u0e=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=br(t.cx,o,o/2),h=br(t.cy,l,l/2),f=C5(o,l,r),m=br(t.innerRadius,f,0),g=br(t.outerRadius,f,f*.8),p=Object.keys(n);return p.reduce(function(v,x){var y=n[x],j=y.domain,w=y.reversed,N;if(Ke(y.range))a==="angleAxis"?N=[c,u]:a==="radiusAxis"&&(N=[m,g]),w&&(N=[N[1],N[0]]);else{N=y.range;var C=N,S=s0e(C,2);c=S[0],u=S[1]}var _=y5(y,i),k=_.realScaleType,E=_.scale;E.domain(j).range(N),j5(E);var P=b5(E,ei(ei({},y),{},{realScaleType:k})),A=ei(ei(ei({},y),P),{},{range:N,radius:g,realScaleType:k,scale:E,cx:d,cy:h,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return ei(ei({},v),{},S5({},x,A))},{})},d0e=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},h0e=function(t,n){var r=t.x,a=t.y,i=n.cx,o=n.cy,l=d0e({x:r,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:c0e(u),angleInRadian:u}},f0e=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},m0e=function(t,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},uT=function(t,n){var r=t.x,a=t.y,i=h0e({x:r,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=f0e(n),h=d.startAngle,f=d.endAngle,m=l,g;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}return g?ei(ei({},n),{},{radius:o,angle:m0e(m,n)}):null},_5=function(t){return!b.isValidElement(t)&&!qe(t)&&typeof t!="boolean"?t.className:""};function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}var p0e=["offset"];function g0e(e){return j0e(e)||y0e(e)||x0e(e)||v0e()}function v0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x0e(e,t){if(e){if(typeof e=="string")return nN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nN(e,t)}}function y0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j0e(e){if(Array.isArray(e))return nN(e)}function nN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b0e(e,t){if(e==null)return{};var n=w0e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function w0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function dT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(n),!0).forEach(function(r){N0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N0e(e,t,n){return t=S0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S0e(e){var t=C0e(e,"string");return Lf(t)=="symbol"?t:t+""}function C0e(e,t){if(Lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ff.apply(this,arguments)}var _0e=function(t){var n=t.value,r=t.formatter,a=Ke(t.children)?n:t.children;return qe(r)?r(a):a},P0e=function(t,n){var r=jr(n-t),a=Math.min(Math.abs(n-t),360);return r*a},A0e=function(t,n,r){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(h+f)/2,x=P0e(m,g),y=x>=0?1:-1,j,w;a==="insideStart"?(j=m+y*o,w=p):a==="insideEnd"?(j=g-y*o,w=!p):a==="end"&&(j=g+y*o,w=p),w=x<=0?w:!w;var N=Wt(u,d,v,j),C=Wt(u,d,v,j+(w?1:-1)*359),S="M".concat(N.x,",").concat(N.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(C.x,",").concat(C.y),_=Ke(t.id)?ic("recharts-radial-line-"):t.id;return M.createElement("text",Ff({},r,{dominantBaseline:"central",className:Je("recharts-radial-bar-label",l)}),M.createElement("defs",null,M.createElement("path",{id:_,d:S})),M.createElement("textPath",{xlinkHref:"#".concat(_)},n))},k0e=function(t){var n=t.viewBox,r=t.offset,a=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,h=i.endAngle,f=(d+h)/2;if(a==="outside"){var m=Wt(o,l,u+r,f),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=Wt(o,l,v,f),y=x.x,j=x.y;return{x:y,y:j,textAnchor:"middle",verticalAnchor:"middle"}},T0e=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,i=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*a,m=h>0?"end":"start",g=h>0?"start":"end",p=u>=0?1:-1,v=p*a,x=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var j={x:l+u/2,y:c-h*a,textAnchor:"middle",verticalAnchor:m};return _n(_n({},j),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var w={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:g};return _n(_n({},w),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(i==="left"){var N={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return _n(_n({},N),r?{width:Math.max(N.x-r.x,0),height:d}:{})}if(i==="right"){var C={x:l+u+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return _n(_n({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:d}:{})}var S=r?{width:u,height:d}:{};return i==="insideLeft"?_n({x:l+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):i==="insideRight"?_n({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},S):i==="insideTop"?_n({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:g},S):i==="insideBottom"?_n({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:m},S):i==="insideTopLeft"?_n({x:l+v,y:c+f,textAnchor:y,verticalAnchor:g},S):i==="insideTopRight"?_n({x:l+u-v,y:c+f,textAnchor:x,verticalAnchor:g},S):i==="insideBottomLeft"?_n({x:l+v,y:c+d-f,textAnchor:y,verticalAnchor:m},S):i==="insideBottomRight"?_n({x:l+u-v,y:c+d-f,textAnchor:x,verticalAnchor:m},S):kd(i)&&(ge(i.x)||dl(i.x))&&(ge(i.y)||dl(i.y))?_n({x:l+br(i.x,u),y:c+br(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):_n({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},E0e=function(t){return"cx"in t&&ge(t.cx)};function qn(e){var t=e.offset,n=t===void 0?5:t,r=b0e(e,p0e),a=_n({offset:n},r),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,h=d===void 0?"":d,f=a.textBreakAll;if(!i||Ke(l)&&Ke(c)&&!b.isValidElement(u)&&!qe(u))return null;if(b.isValidElement(u))return b.cloneElement(u,a);var m;if(qe(u)){if(m=b.createElement(u,a),b.isValidElement(m))return m}else m=_0e(a);var g=E0e(i),p=Le(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return A0e(a,m,p);var v=g?k0e(a):T0e(a);return M.createElement(Wl,Ff({className:Je("recharts-label",h)},p,v,{breakAll:f}),m)}qn.displayName="Label";var P5=function(t){var n=t.cx,r=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,h=t.x,f=t.y,m=t.top,g=t.left,p=t.width,v=t.height,x=t.clockWise,y=t.labelViewBox;if(y)return y;if(ge(p)&&ge(v)){if(ge(h)&&ge(f))return{x:h,y:f,width:p,height:v};if(ge(m)&&ge(g))return{x:m,y:g,width:p,height:v}}return ge(h)&&ge(f)?{x:h,y:f,width:0,height:0}:ge(n)&&ge(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},O0e=function(t,n){return t?t===!0?M.createElement(qn,{key:"label-implicit",viewBox:n}):Mn(t)?M.createElement(qn,{key:"label-implicit",viewBox:n,value:t}):b.isValidElement(t)?t.type===qn?b.cloneElement(t,{key:"label-implicit",viewBox:n}):M.createElement(qn,{key:"label-implicit",content:t,viewBox:n}):qe(t)?M.createElement(qn,{key:"label-implicit",content:t,viewBox:n}):kd(t)?M.createElement(qn,Ff({viewBox:n},t,{key:"label-implicit"})):null:null},D0e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,i=P5(t),o=ls(a,qn).map(function(c,u){return b.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=O0e(t.label,n||i);return[l].concat(g0e(o))};qn.parseViewBox=P5;qn.renderCallByParent=D0e;function M0e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var I0e=M0e;const $0e=Ct(I0e);function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}var R0e=["valueAccessor"],L0e=["data","dataKey","clockWise","id","textBreakAll"];function F0e(e){return q0e(e)||V0e(e)||z0e(e)||B0e()}function B0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z0e(e,t){if(e){if(typeof e=="string")return rN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rN(e,t)}}function V0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function q0e(e){if(Array.isArray(e))return rN(e)}function rN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sv.apply(this,arguments)}function hT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(n),!0).forEach(function(r){U0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U0e(e,t,n){return t=W0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W0e(e){var t=H0e(e,"string");return Bf(t)=="symbol"?t:t+""}function H0e(e,t){if(Bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mT(e,t){if(e==null)return{};var n=K0e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function K0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var G0e=function(t){return Array.isArray(t.value)?$0e(t.value):t.value};function Ra(e){var t=e.valueAccessor,n=t===void 0?G0e:t,r=mT(e,R0e),a=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=mT(r,L0e);return!a||!a.length?null:M.createElement(ft,{className:"recharts-label-list"},a.map(function(d,h){var f=Ke(i)?n(d,h):mn(d&&d.payload,i),m=Ke(l)?{}:{id:"".concat(l,"-").concat(h)};return M.createElement(qn,Sv({},Le(d,!0),u,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:qn.parseViewBox(Ke(o)?d:fT(fT({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Ra.displayName="LabelList";function Y0e(e,t){return e?e===!0?M.createElement(Ra,{key:"labelList-implicit",data:t}):M.isValidElement(e)||qe(e)?M.createElement(Ra,{key:"labelList-implicit",data:t,content:e}):kd(e)?M.createElement(Ra,Sv({data:t},e,{key:"labelList-implicit"})):null:null}function Q0e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=ls(r,Ra).map(function(o,l){return b.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var i=Y0e(e.label,t);return[i].concat(F0e(a))}Ra.renderCallByParent=Q0e;function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sN.apply(this,arguments)}function pT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(n),!0).forEach(function(r){X0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X0e(e,t,n){return t=J0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J0e(e){var t=Z0e(e,"string");return zf(t)=="symbol"?t:t+""}function Z0e(e,t){if(zf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eje=function(t,n){var r=jr(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},Tp=function(t){var n=t.cx,r=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,h=Math.asin(c/d)/Nv,f=u?i:i+o*h,m=Wt(n,r,d,f),g=Wt(n,r,a,f),p=u?i-o*h:i,v=Wt(n,r,d*Math.cos(h*Nv),p);return{center:m,circleTangency:g,lineTangency:v,theta:h}},A5=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=eje(o,l),u=o+c,d=Wt(n,r,i,o),h=Wt(n,r,i,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var m=Wt(n,r,a,o),g=Wt(n,r,a,u);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},tje=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=jr(d-u),f=Tp({cx:n,cy:r,radius:i,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,g=f.lineTangency,p=f.theta,v=Tp({cx:n,cy:r,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,y=v.lineTangency,j=v.theta,w=c?Math.abs(u-d):Math.abs(u-d)-p-j;if(w<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):A5({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var C=Tp({cx:n,cy:r,radius:a,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=C.circleTangency,_=C.lineTangency,k=C.theta,E=Tp({cx:n,cy:r,radius:a,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=E.circleTangency,A=E.lineTangency,R=E.theta,$=c?Math.abs(u-d):Math.abs(u-d)-k-R;if($<0&&o===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(h>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},nje={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},k5=function(t){var n=gT(gT({},nje),t),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,f=n.className;if(o<i||d===h)return null;var m=Je("recharts-sector",f),g=o-i,p=br(l,g,0,!0),v;return p>0&&Math.abs(d-h)<360?v=tje({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):v=A5({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),M.createElement("path",sN({},Le(n,!0),{className:m,d:v,role:"img"}))};function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function aN(){return aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aN.apply(this,arguments)}function vT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(n),!0).forEach(function(r){rje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rje(e,t,n){return t=sje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sje(e){var t=aje(e,"string");return Vf(t)=="symbol"?t:t+""}function aje(e,t){if(Vf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yT={curveBasisClosed:rie,curveBasisOpen:sie,curveBasis:nie,curveBumpX:Vae,curveBumpY:qae,curveLinearClosed:aie,curveLinear:fy,curveMonotoneX:iie,curveMonotoneY:oie,curveNatural:lie,curveStep:cie,curveStepAfter:die,curveStepBefore:uie},Ep=function(t){return t.x===+t.x&&t.y===+t.y},uh=function(t){return t.x},dh=function(t){return t.y},ije=function(t,n){if(qe(t))return t;var r="curve".concat(dy(t));return(r==="curveMonotone"||r==="curveBump")&&n?yT["".concat(r).concat(n==="vertical"?"Y":"X")]:yT[r]||fy},oje=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=ije(r,l),h=u?i.filter(function(p){return Ep(p)}):i,f;if(Array.isArray(o)){var m=u?o.filter(function(p){return Ep(p)}):o,g=h.map(function(p,v){return xT(xT({},p),{},{base:m[v]})});return l==="vertical"?f=bp().y(dh).x1(uh).x0(function(p){return p.base.x}):f=bp().x(uh).y1(dh).y0(function(p){return p.base.y}),f.defined(Ep).curve(d),f(g)}return l==="vertical"&&ge(o)?f=bp().y(dh).x1(uh).x0(o):ge(o)?f=bp().x(uh).y1(dh).y0(o):f=NL().x(uh).y(dh),f.defined(Ep).curve(d),f(h)},kl=function(t){var n=t.className,r=t.points,a=t.path,i=t.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?oje(t):a;return b.createElement("path",aN({},Le(t,!1),Gg(t),{className:Je("recharts-curve",n),d:o,ref:i}))},T5={exports:{}},lje="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cje=lje,uje=cje;function E5(){}function O5(){}O5.resetWarningCache=E5;var dje=function(){function e(r,a,i,o,l,c){if(c!==uje){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:O5,resetWarningCache:E5};return n.PropTypes=n,n};T5.exports=dje();var hje=T5.exports;const Nt=Ct(hje);var fje=Object.getOwnPropertyNames,mje=Object.getOwnPropertySymbols,pje=Object.prototype.hasOwnProperty;function jT(e,t){return function(r,a,i){return e(r,a,i)&&t(r,a,i)}}function Op(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);var i=a.cache,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);var c=e(n,r,a);return i.delete(n),i.delete(r),c}}function bT(e){return fje(e).concat(mje(e))}var gje=Object.hasOwn||function(e,t){return pje.call(e,t)};function cc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var vje="__v",xje="__o",yje="_owner",wT=Object.getOwnPropertyDescriptor,NT=Object.keys;function jje(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function bje(e,t){return cc(e.getTime(),t.getTime())}function wje(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Nje(e,t){return e===t}function ST(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,h=0;(l=u.next())&&!l.done;){if(a[h]){h++;continue}var f=o.value,m=l.value;if(n.equals(f[0],m[0],c,h,e,t,n)&&n.equals(f[1],m[1],f[0],m[0],e,t,n)){d=a[h]=!0;break}h++}if(!d)return!1;c++}return!0}var Sje=cc;function Cje(e,t,n){var r=NT(e),a=r.length;if(NT(t).length!==a)return!1;for(;a-- >0;)if(!D5(e,t,n,r[a]))return!1;return!0}function hh(e,t,n){var r=bT(e),a=r.length;if(bT(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=r[a],!D5(e,t,n,i)||(o=wT(e,i),l=wT(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function _je(e,t){return cc(e.valueOf(),t.valueOf())}function Pje(e,t){return e.source===t.source&&e.flags===t.flags}function CT(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Aje(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function kje(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function D5(e,t,n,r){return(r===yje||r===xje||r===vje)&&(e.$$typeof||t.$$typeof)?!0:gje(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Tje="[object Arguments]",Eje="[object Boolean]",Oje="[object Date]",Dje="[object Error]",Mje="[object Map]",Ije="[object Number]",$je="[object Object]",Rje="[object RegExp]",Lje="[object Set]",Fje="[object String]",Bje="[object URL]",zje=Array.isArray,_T=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,PT=Object.assign,Vje=Object.prototype.toString.call.bind(Object.prototype.toString);function qje(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,h=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(g,p,v){if(g===p)return!0;if(g==null||p==null)return!1;var x=typeof g;if(x!==typeof p)return!1;if(x!=="object")return x==="number"?o(g,p,v):x==="function"?a(g,p,v):!1;var y=g.constructor;if(y!==p.constructor)return!1;if(y===Object)return l(g,p,v);if(zje(g))return t(g,p,v);if(_T!=null&&_T(g))return h(g,p,v);if(y===Date)return n(g,p,v);if(y===RegExp)return u(g,p,v);if(y===Map)return i(g,p,v);if(y===Set)return d(g,p,v);var j=Vje(g);return j===Oje?n(g,p,v):j===Rje?u(g,p,v):j===Mje?i(g,p,v):j===Lje?d(g,p,v):j===$je?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,v):j===Bje?f(g,p,v):j===Dje?r(g,p,v):j===Tje?l(g,p,v):j===Eje||j===Ije||j===Fje?c(g,p,v):!1}}function Uje(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?hh:jje,areDatesEqual:bje,areErrorsEqual:wje,areFunctionsEqual:Nje,areMapsEqual:r?jT(ST,hh):ST,areNumbersEqual:Sje,areObjectsEqual:r?hh:Cje,arePrimitiveWrappersEqual:_je,areRegExpsEqual:Pje,areSetsEqual:r?jT(CT,hh):CT,areTypedArraysEqual:r?hh:Aje,areUrlsEqual:kje};if(n&&(a=PT({},a,n(a))),t){var i=Op(a.areArraysEqual),o=Op(a.areMapsEqual),l=Op(a.areObjectsEqual),c=Op(a.areSetsEqual);a=PT({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Wje(e){return function(t,n,r,a,i,o,l){return e(t,n,l)}}function Hje(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(c,u){var d=r(),h=d.cache,f=h===void 0?t?new WeakMap:void 0:h,m=d.meta;return n(c,u,{cache:f,equals:a,meta:m,strict:i})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return n(c,u,o)}}var Kje=Wo();Wo({strict:!0});Wo({circular:!0});Wo({circular:!0,strict:!0});Wo({createInternalComparator:function(){return cc}});Wo({strict:!0,createInternalComparator:function(){return cc}});Wo({circular:!0,createInternalComparator:function(){return cc}});Wo({circular:!0,createInternalComparator:function(){return cc},strict:!0});function Wo(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=Uje(e),c=qje(l),u=r?r(c):Wje(c);return Hje({circular:n,comparator:c,createState:a,equals:u,strict:o})}function Gje(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function AT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):Gje(a)};requestAnimationFrame(r)}function iN(e){"@babel/helpers - typeof";return iN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iN(e)}function Yje(e){return Zje(e)||Jje(e)||Xje(e)||Qje()}function Qje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xje(e,t){if(e){if(typeof e=="string")return kT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kT(e,t)}}function kT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zje(e){if(Array.isArray(e))return e}function ebe(){var e={},t=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Yje(o),c=l[0],u=l.slice(1);if(typeof c=="number"){AT(a.bind(null,u),c);return}a(c),AT(a.bind(null,u));return}iN(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function TT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ET(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(n),!0).forEach(function(r){M5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M5(e,t,n){return t=tbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tbe(e){var t=nbe(e,"string");return qf(t)==="symbol"?t:String(t)}function nbe(e,t){if(qf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rbe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},sbe=function(t){return t},abe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Vh=function(t,n){return Object.keys(n).reduce(function(r,a){return ET(ET({},r),{},M5({},a,t(a,n[a])))},{})},OT=function(t,n,r){return t.map(function(a){return"".concat(abe(a)," ").concat(n,"ms ").concat(r)}).join(",")};function ibe(e,t){return cbe(e)||lbe(e,t)||I5(e,t)||obe()}function obe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cbe(e){if(Array.isArray(e))return e}function ube(e){return fbe(e)||hbe(e)||I5(e)||dbe()}function dbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I5(e,t){if(e){if(typeof e=="string")return oN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oN(e,t)}}function hbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fbe(e){if(Array.isArray(e))return oN(e)}function oN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cv=1e-4,$5=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},R5=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},DT=function(t,n){return function(r){var a=$5(t,n);return R5(a,r)}},mbe=function(t,n){return function(r){var a=$5(t,n),i=[].concat(ube(a.map(function(o,l){return o*l}).slice(1)),[0]);return R5(i,r)}},MT=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=ibe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var h=DT(a,o),f=DT(i,l),m=mbe(a,o),g=function(x){return x>1?1:x<0?0:x},p=function(x){for(var y=x>1?1:x,j=y,w=0;w<8;++w){var N=h(j)-y,C=m(j);if(Math.abs(N-y)<Cv||C<Cv)return f(j);j=g(j-N/C)}return f(j)};return p.isStepper=!1,p},pbe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,h,f){var m=-(d-h)*r,g=f*i,p=f+(m-g)*l/1e3,v=f*l/1e3+d;return Math.abs(v-h)<Cv&&Math.abs(p)<Cv?[h,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},gbe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MT(a);case"spring":return pbe();default:if(a.split("(")[0]==="cubic-bezier")return MT(a)}return typeof a=="function"?a:null};function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function IT(e){return ybe(e)||xbe(e)||L5(e)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ybe(e){if(Array.isArray(e))return cN(e)}function $T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(n),!0).forEach(function(r){lN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lN(e,t,n){return t=jbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jbe(e){var t=bbe(e,"string");return Uf(t)==="symbol"?t:String(t)}function bbe(e,t){if(Uf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Uf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wbe(e,t){return Cbe(e)||Sbe(e,t)||L5(e,t)||Nbe()}function Nbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L5(e,t){if(e){if(typeof e=="string")return cN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cN(e,t)}}function cN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Cbe(e){if(Array.isArray(e))return e}var _v=function(t,n,r){return t+(n-t)*r},uN=function(t){var n=t.from,r=t.to;return n!==r},_be=function e(t,n,r){var a=Vh(function(i,o){if(uN(o)){var l=t(o.from,o.to,o.velocity),c=wbe(l,2),u=c[0],d=c[1];return Gn(Gn({},o),{},{from:u,velocity:d})}return o},n);return r<1?Vh(function(i,o){return uN(o)?Gn(Gn({},o),{},{velocity:_v(o.velocity,a[i].velocity,r),from:_v(o.from,a[i].from,r)}):o},n):e(t,a,r-1)};const Pbe=function(e,t,n,r,a){var i=rbe(e,t),o=i.reduce(function(v,x){return Gn(Gn({},v),{},lN({},x,[e[x],t[x]]))},{}),l=i.reduce(function(v,x){return Gn(Gn({},v),{},lN({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return Vh(function(x,y){return y.from},l)},m=function(){return!Object.values(l).filter(uN).length},g=function(x){u||(u=x);var y=x-u,j=y/n.dt;l=_be(n,l,j),a(Gn(Gn(Gn({},e),t),f())),u=x,m()||(c=requestAnimationFrame(h))},p=function(x){d||(d=x);var y=(x-d)/r,j=Vh(function(N,C){return _v.apply(void 0,IT(C).concat([n(y)]))},o);if(a(Gn(Gn(Gn({},e),t),j)),y<1)c=requestAnimationFrame(h);else{var w=Vh(function(N,C){return _v.apply(void 0,IT(C).concat([n(1)]))},o);a(Gn(Gn(Gn({},e),t),w))}};return h=n.isStepper?g:p,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}var Abe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kbe(e,t){if(e==null)return{};var n=Tbe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tbe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function dj(e){return Mbe(e)||Dbe(e)||Obe(e)||Ebe()}function Ebe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Obe(e,t){if(e){if(typeof e=="string")return dN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dN(e,t)}}function Dbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mbe(e){if(Array.isArray(e))return dN(e)}function dN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(n),!0).forEach(function(r){Sh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sh(e,t,n){return t=F5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ibe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F5(r.key),r)}}function Rbe(e,t,n){return t&&$be(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F5(e){var t=Lbe(e,"string");return Wu(t)==="symbol"?t:String(t)}function Lbe(e,t){if(Wu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hN(e,t)}function hN(e,t){return hN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},hN(e,t)}function Bbe(e){var t=zbe();return function(){var r=Pv(e),a;if(t){var i=Pv(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return fN(this,a)}}function fN(e,t){if(t&&(Wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mN(e)}function mN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pv(e){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pv(e)}var ia=function(e){Fbe(n,e);var t=Bbe(n);function n(r,a){var i;Ibe(this,n),i=t.call(this,r,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(mN(i)),i.changeStyle=i.changeStyle.bind(mN(i)),!l||m<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:d}),fN(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof f=="function")return i.state={style:u},fN(i);i.state={style:c?Sh({},c,u):u}}else i.state={style:{}};return i}return Rbe(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,h=i.from,f=this.state.style;if(l){if(!o){var m={style:c?Sh({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(m);return}if(!(Kje(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?h:a.to;if(this.state&&f){var v={style:c?Sh({},c,p):p};(c&&f[c]!==p||!c&&f!==p)&&this.setState(v)}this.runAnimation(Rs(Rs({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,h=a.onAnimationEnd,f=a.onAnimationStart,m=Pbe(o,l,gbe(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([f,d,g,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,m=function(p,v,x){if(x===0)return p;var y=v.duration,j=v.easing,w=j===void 0?"ease":j,N=v.style,C=v.properties,S=v.onAnimationEnd,_=x>0?o[x-1]:v,k=C||Object.keys(N);if(typeof w=="function"||w==="spring")return[].concat(dj(p),[i.runJSAnimation.bind(i,{from:_.style,to:N,duration:y,easing:w}),y]);var E=OT(k,y,w),P=Rs(Rs(Rs({},_.style),N),{},{transition:E});return[].concat(dj(p),[P,y,S]).filter(sbe)};return this.manager.start([c].concat(dj(o.reduce(m,[d,Math.max(f,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=ebe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,h=a.onAnimationEnd,f=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var p=l?Sh({},l,c):c,v=OT(Object.keys(p),o,u);g.start([d,i,Rs(Rs({},p),{},{transition:v}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=kbe(a,Abe),u=b.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var h=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,x=g.className,y=b.cloneElement(m,Rs(Rs({},c),{},{style:Rs(Rs({},v),d),className:x}));return y};return u===1?h(b.Children.only(i)):M.createElement("div",null,b.Children.map(i,function(f){return h(f)}))}}]),n}(b.PureComponent);ia.displayName="Animate";ia.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ia.propTypes={from:Nt.oneOfType([Nt.object,Nt.string]),to:Nt.oneOfType([Nt.object,Nt.string]),attributeName:Nt.string,duration:Nt.number,begin:Nt.number,easing:Nt.oneOfType([Nt.string,Nt.func]),steps:Nt.arrayOf(Nt.shape({duration:Nt.number.isRequired,style:Nt.object.isRequired,easing:Nt.oneOfType([Nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Nt.func]),properties:Nt.arrayOf("string"),onAnimationEnd:Nt.func})),children:Nt.oneOfType([Nt.node,Nt.func]),isActive:Nt.bool,canBegin:Nt.bool,onAnimationEnd:Nt.func,shouldReAnimate:Nt.bool,onAnimationStart:Nt.func,onAnimationReStart:Nt.func};function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Av.apply(this,arguments)}function Vbe(e,t){return Hbe(e)||Wbe(e,t)||Ube(e,t)||qbe()}function qbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ube(e,t){if(e){if(typeof e=="string")return LT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LT(e,t)}}function LT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Hbe(e){if(Array.isArray(e))return e}function FT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function BT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(n),!0).forEach(function(r){Kbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kbe(e,t,n){return t=Gbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gbe(e){var t=Ybe(e,"string");return Wf(t)=="symbol"?t:t+""}function Ybe(e,t){if(Wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zT=function(t,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),l=a>=0?1:-1,c=r>=0?1:-1,u=a>=0&&r>=0||a<0&&r<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,m=4;f<m;f++)h[f]=i[f]>o?o:i[f];d="M".concat(t,",").concat(n+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(n)),d+="L ".concat(t+r-c*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*h[1])),d+="L ".concat(t+r,",").concat(n+a-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+r-c*h[2],",").concat(n+a)),d+="L ".concat(t+c*h[3],",").concat(n+a),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(n,`
            L `).concat(t+r-c*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*g,`
            L `).concat(t+r,",").concat(n+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r-c*g,",").concat(n+a,`
            L `).concat(t+c*g,",").concat(n+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(n+a-l*g," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return d},Qbe=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return r>=u&&r<=d&&a>=h&&a<=f}return!1},Xbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B2=function(t){var n=BT(BT({},Xbe),t),r=b.useRef(),a=b.useState(-1),i=Vbe(a,2),o=i[0],l=i[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&l(w)}catch{}},[]);var c=n.x,u=n.y,d=n.width,h=n.height,f=n.radius,m=n.className,g=n.animationEasing,p=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,y=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var j=Je("recharts-rectangle",m);return y?M.createElement(ia,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(w){var N=w.width,C=w.height,S=w.x,_=w.y;return M.createElement(ia,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:x,easing:g},M.createElement("path",Av({},Le(n,!0),{className:j,d:zT(S,_,N,C,f),ref:r})))}):M.createElement("path",Av({},Le(n,!0),{className:j,d:zT(c,u,d,h,f)}))},Jbe=["points","className","baseLinePoints","connectNulls"];function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qc.apply(this,arguments)}function Zbe(e,t){if(e==null)return{};var n=ewe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ewe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function VT(e){return swe(e)||rwe(e)||nwe(e)||twe()}function twe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nwe(e,t){if(e){if(typeof e=="string")return pN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pN(e,t)}}function rwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function swe(e){if(Array.isArray(e))return pN(e)}function pN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qT=function(t){return t&&t.x===+t.x&&t.y===+t.y},awe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){qT(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),qT(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},qh=function(t,n){var r=awe(t);n&&(r=[r.reduce(function(i,o){return[].concat(VT(i),VT(o))},[])]);var a=r.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},iwe=function(t,n,r){var a=qh(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(qh(n.reverse(),r).slice(1))},owe=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Zbe(t,Jbe);if(!n||!n.length)return null;var l=Je("recharts-polygon",r);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=iwe(n,a,i);return M.createElement("g",{className:l},M.createElement("path",qc({},Le(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?M.createElement("path",qc({},Le(o,!0),{fill:"none",d:qh(n,i)})):null,c?M.createElement("path",qc({},Le(o,!0),{fill:"none",d:qh(a,i)})):null)}var d=qh(n,i);return M.createElement("path",qc({},Le(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gN.apply(this,arguments)}var Em=function(t){var n=t.cx,r=t.cy,a=t.r,i=t.className,o=Je("recharts-dot",i);return n===+n&&r===+r&&a===+a?b.createElement("circle",gN({},Le(t,!1),Gg(t),{className:o,cx:n,cy:r,r:a})):null};function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}var lwe=["x","y","top","left","width","height","className"];function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vN.apply(this,arguments)}function UT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cwe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(n),!0).forEach(function(r){uwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uwe(e,t,n){return t=dwe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dwe(e){var t=hwe(e,"string");return Hf(t)=="symbol"?t:t+""}function hwe(e,t){if(Hf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fwe(e,t){if(e==null)return{};var n=mwe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mwe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var pwe=function(t,n,r,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},gwe=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,h=d===void 0?0:d,f=t.height,m=f===void 0?0:f,g=t.className,p=fwe(t,lwe),v=cwe({x:r,y:i,top:l,left:u,width:h,height:m},p);return!ge(r)||!ge(i)||!ge(h)||!ge(m)||!ge(l)||!ge(u)?null:M.createElement("path",vN({},Le(v,!0),{className:Je("recharts-cross",g),d:pwe(r,i,h,m,l,u)}))},vwe=Sy,xwe=XF,ywe=Wa;function jwe(e,t){return e&&e.length?vwe(e,ywe(t),xwe):void 0}var bwe=jwe;const wwe=Ct(bwe);var Nwe=Sy,Swe=Wa,Cwe=JF;function _we(e,t){return e&&e.length?Nwe(e,Swe(t),Cwe):void 0}var Pwe=_we;const Awe=Ct(Pwe);var kwe=["cx","cy","angle","ticks","axisLine"],Twe=["ticks","tick","angle","tickFormatter","stroke"];function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uh.apply(this,arguments)}function WT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(n),!0).forEach(function(r){Ay(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HT(e,t){if(e==null)return{};var n=Ewe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ewe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Owe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z5(r.key),r)}}function Dwe(e,t,n){return t&&KT(e.prototype,t),n&&KT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mwe(e,t,n){return t=kv(t),Iwe(e,B5()?Reflect.construct(t,n||[],kv(e).constructor):t.apply(e,n))}function Iwe(e,t){if(t&&(Hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $we(e)}function $we(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B5=function(){return!!e})()}function kv(e){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kv(e)}function Rwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xN(e,t)}function xN(e,t){return xN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},xN(e,t)}function Ay(e,t,n){return t=z5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z5(e){var t=Lwe(e,"string");return Hu(t)=="symbol"?t:t+""}function Lwe(e,t){if(Hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ky=function(e){function t(){return Owe(this,t),Mwe(this,t,arguments)}return Rwe(t,e),Dwe(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Wt(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=wwe(l,function(d){return d.coordinate||0}),u=Awe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=HT(r,kwe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),h=Wt(a,i,d[0],o),f=Wt(a,i,d[1],o),m=Yo(Yo(Yo({},Le(u,!1)),{},{fill:"none"},Le(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return M.createElement("line",Uh({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=HT(a,Twe),h=this.getTickTextAnchor(),f=Le(d,!1),m=Le(o,!1),g=i.map(function(p,v){var x=r.getTickValueCoord(p),y=Yo(Yo(Yo(Yo({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},f),{},{stroke:"none",fill:u},m),{},{index:v},x),{},{payload:p});return M.createElement(ft,Uh({className:Je("recharts-polar-radius-axis-tick",_5(o)),key:"tick-".concat(p.coordinate)},Ul(r.props,p,v)),t.renderTickItem(o,y,c?c(p.value,v):p.value))});return M.createElement(ft,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,o=r.tick;return!a||!a.length?null:M.createElement(ft,{className:Je("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),qn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,a):qe(r)?o=r(a):o=M.createElement(Wl,Uh({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(b.PureComponent);Ay(ky,"displayName","PolarRadiusAxis");Ay(ky,"axisType","radiusAxis");Ay(ky,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},al.apply(this,arguments)}function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(n),!0).forEach(function(r){Ty(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q5(r.key),r)}}function Bwe(e,t,n){return t&&YT(e.prototype,t),n&&YT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zwe(e,t,n){return t=Tv(t),Vwe(e,V5()?Reflect.construct(t,n||[],Tv(e).constructor):t.apply(e,n))}function Vwe(e,t){if(t&&(Ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qwe(e)}function qwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V5=function(){return!!e})()}function Tv(e){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tv(e)}function Uwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yN(e,t)}function yN(e,t){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},yN(e,t)}function Ty(e,t,n){return t=q5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q5(e){var t=Wwe(e,"string");return Ku(t)=="symbol"?t:t+""}function Wwe(e,t){if(Ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hwe=Math.PI/180,QT=1e-5,Ey=function(e){function t(){return Fwe(this,t),zwe(this,t,arguments)}return Uwe(t,e),Bwe(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,h=Wt(i,o,l,r.coordinate),f=Wt(i,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*Hwe),o;return i>QT?o=a==="outer"?"start":"end":i<-QT?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=Qo(Qo({},Le(this.props,!1)),{},{fill:"none"},Le(l,!1));if(c==="circle")return M.createElement(Em,al({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,h=d.map(function(f){return Wt(a,i,o,f.coordinate)});return M.createElement(owe,al({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Le(this.props,!1),h=Le(o,!1),f=Qo(Qo({},d),{},{fill:"none"},Le(l,!1)),m=i.map(function(g,p){var v=r.getTickLineCoord(g),x=r.getTickTextAnchor(g),y=Qo(Qo(Qo({textAnchor:x},d),{},{stroke:"none",fill:u},h),{},{index:p,payload:g,x:v.x2,y:v.y2});return M.createElement(ft,al({className:Je("recharts-polar-angle-axis-tick",_5(o)),key:"tick-".concat(g.coordinate)},Ul(r.props,g,p)),l&&M.createElement("line",al({className:"recharts-polar-angle-axis-tick-line"},f,v)),o&&t.renderTickItem(o,y,c?c(g.value,p):g.value))});return M.createElement(ft,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!a||!a.length?null:M.createElement(ft,{className:Je("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,a):qe(r)?o=r(a):o=M.createElement(Wl,al({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(b.PureComponent);Ty(Ey,"displayName","PolarAngleAxis");Ty(Ey,"axisType","angleAxis");Ty(Ey,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Kwe=KL,Gwe=Kwe(Object.getPrototypeOf,Object),Ywe=Gwe,Qwe=Ti,Xwe=Ywe,Jwe=Ei,Zwe="[object Object]",eNe=Function.prototype,tNe=Object.prototype,U5=eNe.toString,nNe=tNe.hasOwnProperty,rNe=U5.call(Object);function sNe(e){if(!Jwe(e)||Qwe(e)!=Zwe)return!1;var t=Xwe(e);if(t===null)return!0;var n=nNe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&U5.call(n)==rNe}var aNe=sNe;const iNe=Ct(aNe);var oNe=Ti,lNe=Ei,cNe="[object Boolean]";function uNe(e){return e===!0||e===!1||lNe(e)&&oNe(e)==cNe}var dNe=uNe;const hNe=Ct(dNe);function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ev.apply(this,arguments)}function fNe(e,t){return vNe(e)||gNe(e,t)||pNe(e,t)||mNe()}function mNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pNe(e,t){if(e){if(typeof e=="string")return XT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XT(e,t)}}function XT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function vNe(e){if(Array.isArray(e))return e}function JT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ZT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(n),!0).forEach(function(r){xNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xNe(e,t,n){return t=yNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yNe(e){var t=jNe(e,"string");return Kf(t)=="symbol"?t:t+""}function jNe(e,t){if(Kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eE=function(t,n,r,a,i){var o=r-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+i),l+="L ".concat(t+r-o/2-a,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},bNe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wNe=function(t){var n=ZT(ZT({},bNe),t),r=b.useRef(),a=b.useState(-1),i=fNe(a,2),o=i[0],l=i[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,h=n.lowerWidth,f=n.height,m=n.className,g=n.animationEasing,p=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var y=Je("recharts-trapezoid",m);return x?M.createElement(ia,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(j){var w=j.upperWidth,N=j.lowerWidth,C=j.height,S=j.x,_=j.y;return M.createElement(ia,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},M.createElement("path",Ev({},Le(n,!0),{className:y,d:eE(S,_,w,N,C),ref:r})))}):M.createElement("g",null,M.createElement("path",Ev({},Le(n,!0),{className:y,d:eE(c,u,d,h,f)})))},NNe=["option","shapeType","propTransformer","activeClassName","isActive"];function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function SNe(e,t){if(e==null)return{};var n=CNe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function CNe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ov(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(n),!0).forEach(function(r){_Ne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Ne(e,t,n){return t=PNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PNe(e){var t=ANe(e,"string");return Gf(t)=="symbol"?t:t+""}function ANe(e,t){if(Gf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kNe(e,t){return Ov(Ov({},t),e)}function TNe(e,t){return e==="symbols"}function nE(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return M.createElement(B2,n);case"trapezoid":return M.createElement(wNe,n);case"sector":return M.createElement(k5,n);case"symbols":if(TNe(t))return M.createElement(a2,n);break;default:return null}}function ENe(e){return b.isValidElement(e)?e.props:e}function W5(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?kNe:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=SNe(e,NNe),u;if(b.isValidElement(t))u=b.cloneElement(t,Ov(Ov({},c),ENe(t)));else if(qe(t))u=t(c);else if(iNe(t)&&!hNe(t)){var d=a(t,c);u=M.createElement(nE,{shapeType:n,elementProps:d})}else{var h=c;u=M.createElement(nE,{shapeType:n,elementProps:h})}return l?M.createElement(ft,{className:o},u):u}function Oy(e,t){return t!=null&&"trapezoids"in e.props}function Dy(e,t){return t!=null&&"sectors"in e.props}function Yf(e,t){return t!=null&&"points"in e.props}function ONe(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&i}function DNe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function MNe(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function INe(e,t){var n;return Oy(e,t)?n=ONe:Dy(e,t)?n=DNe:Yf(e,t)&&(n=MNe),n}function $Ne(e,t){var n;return Oy(e,t)?n="trapezoids":Dy(e,t)?n="sectors":Yf(e,t)&&(n="points"),n}function RNe(e,t){if(Oy(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Dy(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Yf(e,t)?t.payload:{}}function LNe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=$Ne(n,t),i=RNe(n,t),o=r.filter(function(c,u){var d=Hl(i,c),h=n.props[a].filter(function(g){var p=INe(n,t);return p(g,t)}),f=n.props[a].indexOf(h[h.length-1]),m=u===f;return d&&m}),l=r.indexOf(o[o.length-1]);return l}var eg;function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uc.apply(this,arguments)}function rE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(n),!0).forEach(function(r){bs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,K5(r.key),r)}}function BNe(e,t,n){return t&&sE(e.prototype,t),n&&sE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zNe(e,t,n){return t=Dv(t),VNe(e,H5()?Reflect.construct(t,n||[],Dv(e).constructor):t.apply(e,n))}function VNe(e,t){if(t&&(Gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qNe(e)}function qNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H5=function(){return!!e})()}function Dv(e){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dv(e)}function UNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jN(e,t)}function jN(e,t){return jN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},jN(e,t)}function bs(e,t,n){return t=K5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K5(e){var t=WNe(e,"string");return Gu(t)=="symbol"?t:t+""}function WNe(e,t){if(Gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ha=function(e){function t(n){var r;return FNe(this,t),r=zNe(this,t,[n]),bs(r,"pieRef",null),bs(r,"sectorRefs",[]),bs(r,"id",ic("recharts-pie-")),bs(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),qe(a)&&a()}),bs(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),qe(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return UNe(t,e),BNe(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Le(this.props,!1),h=Le(o,!1),f=Le(l,!1),m=o&&o.offsetRadius||20,g=r.map(function(p,v){var x=(p.startAngle+p.endAngle)/2,y=Wt(p.cx,p.cy,p.outerRadius+m,x),j=Vt(Vt(Vt(Vt({},d),p),{},{stroke:"none"},h),{},{index:v,textAnchor:t.getTextAnchor(y.x,p.cx)},y),w=Vt(Vt(Vt(Vt({},d),p),{},{fill:"none",stroke:p.fill},f),{},{index:v,points:[Wt(p.cx,p.cy,p.outerRadius,x),y]}),N=c;return Ke(c)&&Ke(u)?N="value":Ke(c)&&(N=u),M.createElement(ft,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,j,mn(p,N)))});return M.createElement(ft,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var h=a.isActiveIndex(d),f=c&&a.hasActiveIndex()?c:null,m=h?o:f,g=Vt(Vt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return M.createElement(ft,Uc({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Ul(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),M.createElement(W5,Uc({option:m,isActive:h,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state,f=h.prevSectors,m=h.prevIsAnimationActive;return M.createElement(ia,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,v=[],x=i&&i[0],y=x.startAngle;return i.forEach(function(j,w){var N=f&&f[w],C=w>0?os(j,"paddingAngle",0):0;if(N){var S=En(N.endAngle-N.startAngle,j.endAngle-j.startAngle),_=Vt(Vt({},j),{},{startAngle:y+C,endAngle:y+S(p)+C});v.push(_),y=_.endAngle}else{var k=j.endAngle,E=j.startAngle,P=En(0,k-E),A=P(p),R=Vt(Vt({},j),{},{startAngle:y+C,endAngle:y+A+C});v.push(R),y=R.endAngle}}),M.createElement(ft,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Hl(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,h=a.innerRadius,f=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!ge(u)||!ge(d)||!ge(h)||!ge(f))return null;var p=Je("recharts-pie",l);return M.createElement(ft,{tabIndex:this.props.rootTabIndex,className:p,ref:function(x){r.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),qn.renderCallByParent(this.props,null,!1),(!m||g)&&Ra.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(M.isValidElement(r))return M.cloneElement(r,a);if(qe(r))return r(a);var o=Je("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(kl,Uc({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,a,i){if(M.isValidElement(r))return M.cloneElement(r,a);var o=i;if(qe(r)&&(o=r(a),M.isValidElement(o)))return o;var l=Je("recharts-pie-label-text",typeof r!="boolean"&&!qe(r)?r.className:"");return M.createElement(Wl,Uc({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(b.PureComponent);eg=ha;bs(ha,"displayName","Pie");bs(ha,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ta.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});bs(ha,"parseDeltaAngle",function(e,t){var n=jr(t-e),r=Math.min(Math.abs(t-e),360);return n*r});bs(ha,"getRealPieData",function(e){var t=e.data,n=e.children,r=Le(e,!1),a=ls(n,Rd);return t&&t.length?t.map(function(i,o){return Vt(Vt(Vt({payload:i},r),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Vt(Vt({},r),i.props)}):[]});bs(ha,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,i=t.height,o=C5(a,i),l=r+br(e.cx,a,a/2),c=n+br(e.cy,i,i/2),u=br(e.innerRadius,o,0),d=br(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});bs(ha,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Vt(Vt({},t.type.defaultProps),t.props):t.props,a=eg.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,h=r.valueKey,f=r.tooltipType,m=Math.abs(r.minAngle),g=eg.parseCoordinateOfPie(r,n),p=eg.parseDeltaAngle(o,l),v=Math.abs(p),x=u;Ke(u)&&Ke(h)?(ea(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ke(u)&&(ea(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=h);var y=a.filter(function(_){return mn(_,x,0)!==0}).length,j=(v>=360?y:y-1)*c,w=v-y*m-j,N=a.reduce(function(_,k){var E=mn(k,x,0);return _+(ge(E)?E:0)},0),C;if(N>0){var S;C=a.map(function(_,k){var E=mn(_,x,0),P=mn(_,d,k),A=(ge(E)?E:0)/N,R;k?R=S.endAngle+jr(p)*c*(E!==0?1:0):R=o;var $=R+jr(p)*((E!==0?m:0)+A*w),K=(R+$)/2,V=(g.innerRadius+g.outerRadius)/2,H=[{name:P,value:E,payload:_,dataKey:x,type:f}],T=Wt(g.cx,g.cy,V,K);return S=Vt(Vt(Vt({percent:A,cornerRadius:i,name:P,tooltipPayload:H,midAngle:K,middleRadius:V,tooltipPosition:T},_),g),{},{value:mn(_,x),startAngle:R,endAngle:$,payload:_,paddingAngle:jr(p)*c}),S})}return Vt(Vt({},g),{},{sectors:C,data:a})});var HNe=Math.ceil,KNe=Math.max;function GNe(e,t,n,r){for(var a=-1,i=KNe(HNe((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++a]=e,e+=n;return o}var YNe=GNe,QNe=hF,aE=1/0,XNe=17976931348623157e292;function JNe(e){if(!e)return e===0?e:0;if(e=QNe(e),e===aE||e===-aE){var t=e<0?-1:1;return t*XNe}return e===e?e:0}var G5=JNe,ZNe=YNe,e1e=vy,hj=G5;function t1e(e){return function(t,n,r){return r&&typeof r!="number"&&e1e(t,n,r)&&(n=r=void 0),t=hj(t),n===void 0?(n=t,t=0):n=hj(n),r=r===void 0?t<n?1:-1:hj(r),ZNe(t,n,r,e)}}var n1e=t1e,r1e=n1e,s1e=r1e(),a1e=s1e;const Mv=Ct(a1e);function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}function iE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(n),!0).forEach(function(r){Y5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y5(e,t,n){return t=i1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i1e(e){var t=o1e(e,"string");return Qf(t)=="symbol"?t:t+""}function o1e(e,t){if(Qf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l1e=["Webkit","Moz","O","ms"],c1e=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=l1e.reduce(function(i,o){return oE(oE({},i),{},Y5({},o+r,n))},{});return a[t]=n,a};function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iv.apply(this,arguments)}function lE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(n),!0).forEach(function(r){Jr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X5(r.key),r)}}function d1e(e,t,n){return t&&cE(e.prototype,t),n&&cE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h1e(e,t,n){return t=$v(t),f1e(e,Q5()?Reflect.construct(t,n||[],$v(e).constructor):t.apply(e,n))}function f1e(e,t){if(t&&(Yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m1e(e)}function m1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q5=function(){return!!e})()}function $v(e){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(e)}function p1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bN(e,t)}function bN(e,t){return bN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},bN(e,t)}function Jr(e,t,n){return t=X5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X5(e){var t=g1e(e,"string");return Yu(t)=="symbol"?t:t+""}function g1e(e,t){if(Yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v1e=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Bh().domain(Mv(0,c)).range([i,i+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(a),scale:u,scaleValues:d}},uE=function(t){return t.changedTouches&&!!t.changedTouches.length},Qu=function(e){function t(n){var r;return u1e(this,t),r=h1e(this,t,[n]),Jr(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),Jr(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),Jr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),Jr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Jr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Jr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Jr(r,"handleSlideDragStart",function(a){var i=uE(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return p1e(t,e),d1e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(a,i),f=Math.max(a,i),m=t.getIndexInRange(o,h),g=t.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=mn(i[r],l,r);return qe(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,m=c.endIndex,g=c.onChange,p=r.pageX-i;p>0?p=Math.min(p,u+d-h-l,u+d-h-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==f||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=uE(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=r.pageX-i;y>0?y=Math.min(y,h+f-m-u):y<0&&(y=Math.max(y,h-u)),x[o]=u+y;var j=this.getIndex(x),w=j.startIndex,N=j.endIndex,C=function(){var _=v.length-1;return o==="startX"&&(l>c?w%p===0:N%p===0)||l<c&&N===_||o==="endX"&&(l>c?N%p===0:w%p===0)||l>c&&N===_};this.setState(Jr(Jr({},o,u+y),"brushMoveStartX",r.pageX),function(){g&&C()&&g(j)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],h=l.indexOf(d);if(h!==-1){var f=h+r;if(!(f===-1||f>=l.length)){var m=l[f];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Jr({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,h=b.Children.only(u);return h?M.cloneElement(h,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,x=Math.max(r,this.props.x),y=fj(fj({},Le(this.props,!1)),{},{x,y:u,width:d,height:h}),j=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return M.createElement(ft,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,y))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(r,a)+u,h=Math.max(Math.abs(a-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,h=d.startX,f=d.endX,m=5,g={pointerEvents:"none",fill:u};return M.createElement(ft,{className:"recharts-brush-texts"},M.createElement(Wl,Iv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-m,y:o+l/2},g),this.getTextOfTick(a)),M.createElement(Wl,Iv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,h=r.alwaysShowText,f=this.state,m=f.startX,g=f.endX,p=f.isTextActive,v=f.isSlideMoving,x=f.isTravellerMoving,y=f.isTravellerFocused;if(!a||!a.length||!ge(l)||!ge(c)||!ge(u)||!ge(d)||u<=0||d<=0)return null;var j=Je("recharts-brush",i),w=M.Children.count(o)===1,N=c1e("userSelect","none");return M.createElement(ft,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||x||y||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),M.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return M.isValidElement(r)?i=M.cloneElement(r,a):qe(r)?i=r(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,h=r.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return fj({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?v1e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var f=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>a?l=c:o=c}return a>=r[l]?l:o}}])}(b.PureComponent);Jr(Qu,"displayName","Brush");Jr(Qu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var x1e=h2;function y1e(e,t){var n;return x1e(e,function(r,a,i){return n=t(r,a,i),!n}),!!n}var j1e=y1e,b1e=FL,w1e=Wa,N1e=j1e,S1e=Hr,C1e=vy;function _1e(e,t,n){var r=S1e(e)?b1e:N1e;return n&&C1e(e,t,n)&&(t=void 0),r(e,w1e(t))}var P1e=_1e;const A1e=Ct(P1e);var La=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},dE=oF;function k1e(e,t,n){t=="__proto__"&&dE?dE(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var T1e=k1e,E1e=T1e,O1e=aF,D1e=Wa;function M1e(e,t){var n={};return t=D1e(t),O1e(e,function(r,a,i){E1e(n,a,t(r,a,i))}),n}var I1e=M1e;const $1e=Ct(I1e);function R1e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var L1e=R1e,F1e=h2;function B1e(e,t){var n=!0;return F1e(e,function(r,a,i){return n=!!t(r,a,i),n}),n}var z1e=B1e,V1e=L1e,q1e=z1e,U1e=Wa,W1e=Hr,H1e=vy;function K1e(e,t,n){var r=W1e(e)?V1e:q1e;return n&&H1e(e,t,n)&&(t=void 0),r(e,U1e(t))}var G1e=K1e;const J5=Ct(G1e);var Y1e=["x","y"];function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function wN(){return wN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wN.apply(this,arguments)}function hE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(n),!0).forEach(function(r){Q1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q1e(e,t,n){return t=X1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X1e(e){var t=J1e(e,"string");return Xf(t)=="symbol"?t:t+""}function J1e(e,t){if(Xf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z1e(e,t){if(e==null)return{};var n=eSe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eSe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tSe(e,t){var n=e.x,r=e.y,a=Z1e(e,Y1e),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),h="".concat(t.width||a.width),f=parseInt(h,10);return fh(fh(fh(fh(fh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function fE(e){return M.createElement(W5,wN({shapeType:"rectangle",propTransformer:tSe,activeClassName:"recharts-active-bar"},e))}var nSe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var i=ge(r)||Ase(r);return i?t(r,a):(i||Gl(),n)}},rSe=["value","background"],Z5;function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function sSe(e,t){if(e==null)return{};var n=aSe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aSe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rv.apply(this,arguments)}function mE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(n),!0).forEach(function(r){fo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t6(r.key),r)}}function oSe(e,t,n){return t&&pE(e.prototype,t),n&&pE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lSe(e,t,n){return t=Lv(t),cSe(e,e6()?Reflect.construct(t,n||[],Lv(e).constructor):t.apply(e,n))}function cSe(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uSe(e)}function uSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e6=function(){return!!e})()}function Lv(e){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lv(e)}function dSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NN(e,t)}function NN(e,t){return NN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},NN(e,t)}function fo(e,t,n){return t=t6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t6(e){var t=hSe(e,"string");return Xu(t)=="symbol"?t:t+""}function hSe(e,t){if(Xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aa=function(e){function t(){var n;iSe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=lSe(this,t,[].concat(a)),fo(n,"state",{isAnimationFinished:!1}),fo(n,"id",ic("recharts-bar-")),fo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),fo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return dSe(t,e),oSe(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Le(this.props,!1);return r&&r.map(function(h,f){var m=f===c,g=m?u:o,p=xn(xn(xn({},d),h),{},{isActive:m,option:g,index:f,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(ft,Rv({className:"recharts-bar-rectangle"},Ul(a.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),M.createElement(fE,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,h=a.animationId,f=this.state.prevData;return M.createElement(ia,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(v,x){var y=f&&f[x];if(y){var j=En(y.x,v.x),w=En(y.y,v.y),N=En(y.width,v.width),C=En(y.height,v.height);return xn(xn({},v),{},{x:j(g),y:w(g),width:N(g),height:C(g)})}if(o==="horizontal"){var S=En(0,v.height),_=S(g);return xn(xn({},v),{},{y:v.y+v.height-_,height:_})}var k=En(0,v.width),E=k(g);return xn(xn({},v),{},{width:E})});return M.createElement(ft,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Hl(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Le(this.props.background,!1);return i.map(function(u,d){u.value;var h=u.background,f=sSe(u,rSe);if(!h)return null;var m=xn(xn(xn(xn(xn({},f),{},{fill:"#eee"},h),c),Ul(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(fE,Rv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=ls(d,Tm);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:mn(v,x)}},g={clipPath:r?"url(#clipPath-".concat(a,")"):null};return M.createElement(ft,g,h.map(function(p){return M.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,h=r.width,f=r.height,m=r.isAnimationActive,g=r.background,p=r.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=Je("recharts-bar",o),y=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,w=y||j,N=Ke(p)?this.id:p;return M.createElement(ft,{className:x},y||j?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(N)},M.createElement("rect",{x:y?u:u-h/2,y:j?d:d-f/2,width:y?h:h*2,height:j?f:f*2}))):null,M.createElement(ft,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(N,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,N),(!m||v)&&Ra.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(b.PureComponent);Z5=Aa;fo(Aa,"displayName","Bar");fo(Aa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ta.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fo(Aa,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,m=Hye(r,n);if(!m)return null;var g=t.layout,p=n.type.defaultProps,v=p!==void 0?xn(xn({},p),n.props):n.props,x=v.dataKey,y=v.children,j=v.minPointSize,w=g==="horizontal"?o:i,N=u?w.scale.domain():null,C=Zye({numericAxis:w}),S=ls(y,Rd),_=h.map(function(k,E){var P,A,R,$,K,V;u?P=Kye(u[d+E],N):(P=mn(k,x),Array.isArray(P)||(P=[C,P]));var H=nSe(j,Z5.defaultProps.minPointSize)(P[1],E);if(g==="horizontal"){var T,I=[o.scale(P[0]),o.scale(P[1])],F=I[0],U=I[1];A=sT({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:k,index:E}),R=(T=U??F)!==null&&T!==void 0?T:void 0,$=m.size;var J=F-U;if(K=Number.isNaN(J)?0:J,V={x:A,y:o.y,width:$,height:o.height},Math.abs(H)>0&&Math.abs(K)<Math.abs(H)){var ae=jr(K||H)*(Math.abs(H)-Math.abs(K));R-=ae,K+=ae}}else{var ne=[i.scale(P[0]),i.scale(P[1])],me=ne[0],Ne=ne[1];if(A=me,R=sT({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:k,index:E}),$=Ne-me,K=m.size,V={x:i.x,y:R,width:i.width,height:K},Math.abs(H)>0&&Math.abs($)<Math.abs(H)){var le=jr($||H)*(Math.abs(H)-Math.abs($));$+=le}}return xn(xn(xn({},k),{},{x:A,y:R,width:$,height:K,value:u?P:P[1],payload:k,background:V},S&&S[E]&&S[E].props),{},{tooltipPayload:[N5(n,k)],tooltipPosition:{x:A+$/2,y:R+K/2}})});return xn({data:_,layout:g},f)});function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function fSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n6(r.key),r)}}function mSe(e,t,n){return t&&gE(e.prototype,t),n&&gE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ws(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(n),!0).forEach(function(r){My(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function My(e,t,n){return t=n6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n6(e){var t=pSe(e,"string");return Jf(t)=="symbol"?t:t+""}function pSe(e,t){if(Jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z2=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},f=!!es(u,Aa);return d.reduce(function(m,g){var p=n[g],v=p.orientation,x=p.domain,y=p.padding,j=y===void 0?{}:y,w=p.mirror,N=p.reversed,C="".concat(v).concat(w?"Mirror":""),S,_,k,E,P;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var A=x[1]-x[0],R=1/0,$=p.categoricalDomain.sort(Ese);if($.forEach(function(ne,me){me>0&&(R=Math.min((ne||0)-($[me-1]||0),R))}),Number.isFinite(R)){var K=R/A,V=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(S=K*V/2),p.padding==="no-gap"){var H=br(t.barCategoryGap,K*V),T=K*V/2;S=T-H-(T-H)/V*H}}}a==="xAxis"?_=[r.left+(j.left||0)+(S||0),r.left+r.width-(j.right||0)-(S||0)]:a==="yAxis"?_=c==="horizontal"?[r.top+r.height-(j.bottom||0),r.top+(j.top||0)]:[r.top+(j.top||0)+(S||0),r.top+r.height-(j.bottom||0)-(S||0)]:_=p.range,N&&(_=[_[1],_[0]]);var I=y5(p,i,f),F=I.scale,U=I.realScaleType;F.domain(x).range(_),j5(F);var J=b5(F,Ws(Ws({},p),{},{realScaleType:U}));a==="xAxis"?(P=v==="top"&&!w||v==="bottom"&&w,k=r.left,E=h[C]-P*p.height):a==="yAxis"&&(P=v==="left"&&!w||v==="right"&&w,k=h[C]-P*p.width,E=r.top);var ae=Ws(Ws(Ws({},p),J),{},{realScaleType:U,x:k,y:E,scale:F,width:a==="xAxis"?r.width:p.width,height:a==="yAxis"?r.height:p.height});return ae.bandSize=wv(ae,J),!p.hide&&a==="xAxis"?h[C]+=(P?-1:1)*ae.height:p.hide||(h[C]+=(P?-1:1)*ae.width),Ws(Ws({},m),{},My({},g,ae))},{})},r6=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},gSe=function(t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2;return r6({x:n,y:r},{x:a,y:i})},s6=function(){function e(t){fSe(this,e),this.scale=t}return mSe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();My(s6,"EPS",1e-4);var V2=function(t){var n=Object.keys(t).reduce(function(r,a){return Ws(Ws({},r),{},My({},a,s6.create(t[a])))},{});return Ws(Ws({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return $1e(a,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return J5(a,function(i,o){return n[o].isInRange(i)})}})};function vSe(e){return(e%180+180)%180}var xSe=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=vSe(a),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},ySe=Wa,jSe=Cm,bSe=py;function wSe(e){return function(t,n,r){var a=Object(t);if(!jSe(t)){var i=ySe(n);t=bSe(t),n=function(l){return i(a[l],l,a)}}var o=e(t,n,r);return o>-1?a[i?t[o]:o]:void 0}}var NSe=wSe,SSe=G5;function CSe(e){var t=SSe(e),n=t%1;return t===t?n?t-n:t:0}var _Se=CSe,PSe=ZL,ASe=Wa,kSe=_Se,TSe=Math.max;function ESe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:kSe(n);return a<0&&(a=TSe(r+a,0)),PSe(e,ASe(t),a)}var OSe=ESe,DSe=NSe,MSe=OSe,ISe=DSe(MSe),$Se=ISe;const RSe=Ct($Se);var LSe=Ore(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),q2=b.createContext(void 0),U2=b.createContext(void 0),a6=b.createContext(void 0),i6=b.createContext({}),o6=b.createContext(void 0),l6=b.createContext(0),c6=b.createContext(0),xE=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=LSe(i);return M.createElement(q2.Provider,{value:r},M.createElement(U2.Provider,{value:a},M.createElement(i6.Provider,{value:i},M.createElement(a6.Provider,{value:d},M.createElement(o6.Provider,{value:o},M.createElement(l6.Provider,{value:u},M.createElement(c6.Provider,{value:c},l)))))))},FSe=function(){return b.useContext(o6)},u6=function(t){var n=b.useContext(q2);n==null&&Gl();var r=n[t];return r==null&&Gl(),r},BSe=function(){var t=b.useContext(q2);return Ji(t)},zSe=function(){var t=b.useContext(U2),n=RSe(t,function(r){return J5(r.domain,Number.isFinite)});return n||Ji(t)},d6=function(t){var n=b.useContext(U2);n==null&&Gl();var r=n[t];return r==null&&Gl(),r},VSe=function(){var t=b.useContext(a6);return t},qSe=function(){return b.useContext(i6)},W2=function(){return b.useContext(c6)},H2=function(){return b.useContext(l6)};function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function USe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WSe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f6(r.key),r)}}function HSe(e,t,n){return t&&WSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KSe(e,t,n){return t=Fv(t),GSe(e,h6()?Reflect.construct(t,n||[],Fv(e).constructor):t.apply(e,n))}function GSe(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YSe(e)}function YSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h6=function(){return!!e})()}function Fv(e){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fv(e)}function QSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SN(e,t)}function SN(e,t){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},SN(e,t)}function yE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(n),!0).forEach(function(r){K2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K2(e,t,n){return t=f6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f6(e){var t=XSe(e,"string");return Ju(t)=="symbol"?t:t+""}function XSe(e,t){if(Ju(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JSe(e,t){return n2e(e)||t2e(e,t)||e2e(e,t)||ZSe()}function ZSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e2e(e,t){if(e){if(typeof e=="string")return bE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bE(e,t)}}function bE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function n2e(e){if(Array.isArray(e))return e}function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CN.apply(this,arguments)}var r2e=function(t,n){var r;return M.isValidElement(t)?r=M.cloneElement(t,n):qe(t)?r=t(n):r=M.createElement("line",CN({},n,{className:"recharts-reference-line-line"})),r},s2e=function(t,n,r,a,i,o,l,c,u){var d=i.x,h=i.y,f=i.width,m=i.height;if(r){var g=u.y,p=t.y.apply(g,{position:o});if(La(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+f,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(n){var x=u.x,y=t.x.apply(x,{position:o});if(La(u,"discard")&&!t.x.isInRange(y))return null;var j=[{x:y,y:h+m},{x:y,y:h}];return l==="top"?j.reverse():j}if(a){var w=u.segment,N=w.map(function(C){return t.apply(C,{position:o})});return La(u,"discard")&&A1e(N,function(C){return!t.isInRange(C)})?null:N}return null};function a2e(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=FSe(),d=u6(a),h=d6(i),f=VSe();if(!u||!f)return null;ea(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=V2({x:d.scale,y:h.scale}),g=Mn(t),p=Mn(n),v=r&&r.length===2,x=s2e(m,g,p,v,f,e.position,d.orientation,h.orientation,e);if(!x)return null;var y=JSe(x,2),j=y[0],w=j.x,N=j.y,C=y[1],S=C.x,_=C.y,k=La(e,"hidden")?"url(#".concat(u,")"):void 0,E=jE(jE({clipPath:k},Le(e,!0)),{},{x1:w,y1:N,x2:S,y2:_});return M.createElement(ft,{className:Je("recharts-reference-line",l)},r2e(o,E),qn.renderCallByParent(e,gSe({x1:w,y1:N,x2:S,y2:_})))}var G2=function(e){function t(){return USe(this,t),KSe(this,t,arguments)}return QSe(t,e),HSe(t,[{key:"render",value:function(){return M.createElement(a2e,this.props)}}])}(M.Component);K2(G2,"displayName","ReferenceLine");K2(G2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _N(){return _N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_N.apply(this,arguments)}function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function wE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function NE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(n),!0).forEach(function(r){Iy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o2e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p6(r.key),r)}}function l2e(e,t,n){return t&&o2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c2e(e,t,n){return t=Bv(t),u2e(e,m6()?Reflect.construct(t,n||[],Bv(e).constructor):t.apply(e,n))}function u2e(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d2e(e)}function d2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m6=function(){return!!e})()}function Bv(e){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bv(e)}function h2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PN(e,t)}function PN(e,t){return PN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},PN(e,t)}function Iy(e,t,n){return t=p6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p6(e){var t=f2e(e,"string");return Zu(t)=="symbol"?t:t+""}function f2e(e,t){if(Zu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m2e=function(t){var n=t.x,r=t.y,a=t.xAxis,i=t.yAxis,o=V2({x:a.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return La(t,"discard")&&!o.isInRange(l)?null:l},$y=function(e){function t(){return i2e(this,t),c2e(this,t,arguments)}return h2e(t,e),l2e(t,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Mn(a),d=Mn(i);if(ea(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=m2e(this.props);if(!h)return null;var f=h.x,m=h.y,g=this.props,p=g.shape,v=g.className,x=La(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=NE(NE({clipPath:x},Le(this.props,!0)),{},{cx:f,cy:m});return M.createElement(ft,{className:Je("recharts-reference-dot",v)},t.renderDot(p,y),qn.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}(M.Component);Iy($y,"displayName","ReferenceDot");Iy($y,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Iy($y,"renderDot",function(e,t){var n;return M.isValidElement(e)?n=M.cloneElement(e,t):qe(e)?n=e(t):n=M.createElement(Em,_N({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AN.apply(this,arguments)}function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function SE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(n),!0).forEach(function(r){Ry(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g2e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v6(r.key),r)}}function v2e(e,t,n){return t&&g2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x2e(e,t,n){return t=zv(t),y2e(e,g6()?Reflect.construct(t,n||[],zv(e).constructor):t.apply(e,n))}function y2e(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j2e(e)}function j2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g6=function(){return!!e})()}function zv(e){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(e)}function b2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kN(e,t)}function kN(e,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},kN(e,t)}function Ry(e,t,n){return t=v6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v6(e){var t=w2e(e,"string");return ed(t)=="symbol"?t:t+""}function w2e(e,t){if(ed(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N2e=function(t,n,r,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,h=i.yAxis;if(!d||!h)return null;var f=V2({x:d.scale,y:h.scale}),m={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(c,{position:"start"}):f.y.rangeMin},g={x:n?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(u,{position:"end"}):f.y.rangeMax};return La(i,"discard")&&(!f.isInRange(m)||!f.isInRange(g))?null:r6(m,g)},Ly=function(e){function t(){return p2e(this,t),x2e(this,t,arguments)}return b2e(t,e),v2e(t,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;ea(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Mn(a),f=Mn(i),m=Mn(o),g=Mn(l),p=this.props.shape;if(!h&&!f&&!m&&!g&&!p)return null;var v=N2e(h,f,m,g,this.props);if(!v&&!p)return null;var x=La(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(ft,{className:Je("recharts-reference-area",c)},t.renderRect(p,CE(CE({clipPath:x},Le(this.props,!0)),v)),qn.renderCallByParent(this.props,v))}}])}(M.Component);Ry(Ly,"displayName","ReferenceArea");Ry(Ly,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ry(Ly,"renderRect",function(e,t){var n;return M.isValidElement(e)?n=M.cloneElement(e,t):qe(e)?n=e(t):n=M.createElement(B2,AN({},t,{className:"recharts-reference-area-rect"})),n});function x6(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function S2e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return xSe(r,n)}function C2e(e,t,n){var r=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:r?a:i,end:r?a+o:i+l}:{start:r?a+o:i+l,end:r?a:i}}function Vv(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function _2e(e,t){return x6(e,t+1)}function P2e(e,t,n,r,a){for(var i=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:x6(r,u)};var p=c,v,x=function(){return v===void 0&&(v=n(g,p)),v},y=g.coordinate,j=c===0||Vv(e,y,x,d,l);j||(c=0,d=o,u+=1),j&&(d=y+e*(x()/2+a),c+=u)},f;u<=i.length;)if(f=h(),f)return f.v;return[]}function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function _E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(n),!0).forEach(function(r){A2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A2e(e,t,n){return t=k2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k2e(e){var t=T2e(e,"string");return Zf(t)=="symbol"?t:t+""}function T2e(e,t){if(Zf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E2e(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(f){var m=i[f],g,p=function(){return g===void 0&&(g=n(m,f)),g};if(f===o-1){var v=e*(m.coordinate+e*p()/2-c);i[f]=m=rr(rr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[f]=m=rr(rr({},m),{},{tickCoord:m.coordinate});var x=Vv(e,m.tickCoord,p,l,c);x&&(c=m.tickCoord-e*(p()/2+a),i[f]=rr(rr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function O2e(e,t,n,r,a,i){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=r[l-1],h=n(d,l-1),f=e*(d.coordinate+e*h/2-u);o[l-1]=d=rr(rr({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var m=Vv(e,d.tickCoord,function(){return h},c,u);m&&(u=d.tickCoord-e*(h/2+a),o[l-1]=rr(rr({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(y){var j=o[y],w,N=function(){return w===void 0&&(w=n(j,y)),w};if(y===0){var C=e*(j.coordinate-e*N()/2-c);o[y]=j=rr(rr({},j),{},{tickCoord:C<0?j.coordinate-C*e:j.coordinate})}else o[y]=j=rr(rr({},j),{},{tickCoord:j.coordinate});var S=Vv(e,j.tickCoord,N,c,u);S&&(c=j.tickCoord+e*(N()/2+a),o[y]=rr(rr({},j),{},{isShow:!0}))},v=0;v<g;v++)p(v);return o}function Y2(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,h=e.angle;if(!a||!a.length||!r)return[];if(ge(c)||ta.isSsr)return _2e(a,typeof c=="number"&&ge(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?Fh(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(j,w){var N=qe(u)?u(j.value,w):j.value;return m==="width"?S2e(Fh(N,{fontSize:t,letterSpacing:n}),g,h):Fh(N,{fontSize:t,letterSpacing:n})[m]},v=a.length>=2?jr(a[1].coordinate-a[0].coordinate):1,x=C2e(i,v,m);return c==="equidistantPreserveStart"?P2e(v,x,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=O2e(v,x,p,a,o,c==="preserveStartEnd"):f=E2e(v,x,p,a,o),f.filter(function(y){return y.isShow}))}var D2e=["viewBox"],M2e=["viewBox"],I2e=["ticks"];function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wc.apply(this,arguments)}function PE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(n),!0).forEach(function(r){Q2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mj(e,t){if(e==null)return{};var n=$2e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function R2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j6(r.key),r)}}function L2e(e,t,n){return t&&AE(e.prototype,t),n&&AE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function F2e(e,t,n){return t=qv(t),B2e(e,y6()?Reflect.construct(t,n||[],qv(e).constructor):t.apply(e,n))}function B2e(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z2e(e)}function z2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y6=function(){return!!e})()}function qv(e){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(e)}function V2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TN(e,t)}function TN(e,t){return TN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},TN(e,t)}function Q2(e,t,n){return t=j6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j6(e){var t=q2e(e,"string");return td(t)=="symbol"?t:t+""}function q2e(e,t){if(td(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zd=function(e){function t(n){var r;return R2e(this,t),r=F2e(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return V2e(t,e),L2e(t,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=mj(r,D2e),l=this.props,c=l.viewBox,u=mj(l,M2e);return!ru(i,c)||!ru(o,u)||!ru(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,h=a.mirror,f=a.tickMargin,m,g,p,v,x,y,j=h?-1:1,w=r.tickSize||d,N=ge(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,v=o+ +!h*c,p=v-j*w,y=p-j*f,x=N;break;case"left":p=v=r.coordinate,g=i+ +!h*l,m=g-j*w,x=m-j*f,y=N;break;case"right":p=v=r.coordinate,g=i+ +h*l,m=g+j*w,x=m+j*f,y=N;break;default:m=g=r.coordinate,v=o+ +h*c,p=v+j*w,y=p+j*f,x=N;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,h=Cn(Cn(Cn({},Le(this.props,!1)),Le(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=Cn(Cn({},h),{},{x1:a,y1:i+f*l,x2:a+o,y2:i+f*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);h=Cn(Cn({},h),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return M.createElement("line",Wc({},h,{className:Je("recharts-cartesian-axis-line",os(d,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,m=Y2(Cn(Cn({},this.props),{},{ticks:r}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=Le(this.props,!1),x=Le(d,!1),y=Cn(Cn({},v),{},{fill:"none"},Le(c,!1)),j=m.map(function(w,N){var C=o.getTickLineCoord(w),S=C.line,_=C.tick,k=Cn(Cn(Cn(Cn({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},x),_),{},{index:N,payload:w,visibleTicksCount:m.length,tickFormatter:h});return M.createElement(ft,Wc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Ul(o.props,w,N)),c&&M.createElement("line",Wc({},y,S,{className:Je("recharts-cartesian-axis-tick-line",os(c,"className"))})),d&&t.renderTickItem(d,k,"".concat(qe(h)?h(w.value,N):w.value).concat(f||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var h=this.props,f=h.ticks,m=mj(h,I2e),g=f;return qe(c)&&(g=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:M.createElement(ft,{className:Je("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),qn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o,l=Je(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?o=M.cloneElement(r,Cn(Cn({},a),{},{className:l})):qe(r)?o=r(Cn(Cn({},a),{},{className:l})):o=M.createElement(Wl,Wc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(b.Component);Q2(zd,"displayName","CartesianAxis");Q2(zd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var U2e=["x1","y1","x2","y2","key"],W2e=["offset"];function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(n),!0).forEach(function(r){H2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H2e(e,t,n){return t=K2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K2e(e){var t=G2e(e,"string");return Yl(t)=="symbol"?t:t+""}function G2e(e,t){if(Yl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ml.apply(this,arguments)}function TE(e,t){if(e==null)return{};var n=Y2e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Y2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Q2e=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return M.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function b6(e,t){var n;if(M.isValidElement(e))n=M.cloneElement(e,t);else if(qe(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=TE(t,U2e),u=Le(c,!1);u.offset;var d=TE(u,W2e);n=M.createElement("line",ml({},d,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function X2e(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=ir(ir({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return b6(a,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function J2e(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=ir(ir({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return b6(a,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Z2e(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var g=!d[m+1],p=g?a+o-f:d[m+1]-f;if(p<=0)return null;var v=m%t.length;return M.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function eCe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var g=!d[m+1],p=g?i+l-f:d[m+1]-f;if(p<=0)return null;var v=m%r.length;return M.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:p,height:c,stroke:"none",fill:r[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var tCe=function(t,n){var r=t.xAxis,a=t.width,i=t.height,o=t.offset;return x5(Y2(ir(ir(ir({},zd.defaultProps),r),{},{ticks:ui(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},nCe=function(t,n){var r=t.yAxis,a=t.width,i=t.height,o=t.offset;return x5(Y2(ir(ir(ir({},zd.defaultProps),r),{},{ticks:ui(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},_c={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ql(e){var t,n,r,a,i,o,l=W2(),c=H2(),u=qSe(),d=ir(ir({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:_c.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:_c.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:_c.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:_c.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:_c.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:_c.verticalFill,x:ge(e.x)?e.x:u.left,y:ge(e.y)?e.y:u.top,width:ge(e.width)?e.width:u.width,height:ge(e.height)?e.height:u.height}),h=d.x,f=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=BSe(),j=zSe();if(!ge(m)||m<=0||!ge(g)||g<=0||!ge(h)||h!==+h||!ge(f)||f!==+f)return null;var w=d.verticalCoordinatesGenerator||tCe,N=d.horizontalCoordinatesGenerator||nCe,C=d.horizontalPoints,S=d.verticalPoints;if((!C||!C.length)&&qe(N)){var _=v&&v.length,k=N({yAxis:j?ir(ir({},j),{},{ticks:_?v:j.ticks}):void 0,width:l,height:c,offset:u},_?!0:p);ea(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Yl(k),"]")),Array.isArray(k)&&(C=k)}if((!S||!S.length)&&qe(w)){var E=x&&x.length,P=w({xAxis:y?ir(ir({},y),{},{ticks:E?x:y.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);ea(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Yl(P),"]")),Array.isArray(P)&&(S=P)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(Q2e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(X2e,ml({},d,{offset:u,horizontalPoints:C,xAxis:y,yAxis:j})),M.createElement(J2e,ml({},d,{offset:u,verticalPoints:S,xAxis:y,yAxis:j})),M.createElement(Z2e,ml({},d,{horizontalPoints:C})),M.createElement(eCe,ml({},d,{verticalPoints:S})))}Ql.displayName="CartesianGrid";var rCe=["type","layout","connectNulls","ref"],sCe=["key"];function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function EE(e,t){if(e==null)return{};var n=aCe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wh.apply(this,arguments)}function OE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(n),!0).forEach(function(r){Hs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pc(e){return cCe(e)||lCe(e)||oCe(e)||iCe()}function iCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oCe(e,t){if(e){if(typeof e=="string")return EN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EN(e,t)}}function lCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cCe(e){if(Array.isArray(e))return EN(e)}function EN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N6(r.key),r)}}function dCe(e,t,n){return t&&DE(e.prototype,t),n&&DE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hCe(e,t,n){return t=Uv(t),fCe(e,w6()?Reflect.construct(t,n||[],Uv(e).constructor):t.apply(e,n))}function fCe(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mCe(e)}function mCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w6=function(){return!!e})()}function Uv(e){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uv(e)}function pCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ON(e,t)}function ON(e,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ON(e,t)}function Hs(e,t,n){return t=N6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N6(e){var t=gCe(e,"string");return nd(t)=="symbol"?t:t+""}function gCe(e,t){if(nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rd=function(e){function t(){var n;uCe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=hCe(this,t,[].concat(a)),Hs(n,"state",{isAnimationFinished:!0,totalLength:0}),Hs(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Hs(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,y){return x+y});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,f=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>h){m=[].concat(Pc(c.slice(0,g)),[h-p]);break}var v=m.length%2===0?[0,f]:[f];return[].concat(Pc(t.repeat(c,d)),Pc(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),Hs(n,"id",ic("recharts-line-")),Hs(n,"pathRef",function(o){n.mainCurve=o}),Hs(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Hs(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return pCe(t,e),dCe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=ls(d,Tm);if(!h)return null;var f=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:mn(p.payload,v)}},m={clipPath:r?"url(#clipPath-".concat(a,")"):null};return M.createElement(ft,m,h.map(function(g){return M.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=Le(this.props,!1),f=Le(c,!0),m=u.map(function(p,v){var x=Xr(Xr(Xr({key:"dot-".concat(v),r:3},h),f),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,x)}),g={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return M.createElement(ft,Wh({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=EE(l,rCe),f=Xr(Xr(Xr({},Le(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return M.createElement(kl,Wh({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,v=o.height,x=this.state,y=x.prevPoints,j=x.totalLength;return M.createElement(ia,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var N=w.t;if(y){var C=y.length/l.length,S=l.map(function(A,R){var $=Math.floor(R*C);if(y[$]){var K=y[$],V=En(K.x,A.x),H=En(K.y,A.y);return Xr(Xr({},A),{},{x:V(N),y:H(N)})}if(g){var T=En(p*2,A.x),I=En(v/2,A.y);return Xr(Xr({},A),{},{x:T(N),y:I(N)})}return Xr(Xr({},A),{},{x:A.x,y:A.y})});return i.renderCurveStatically(S,r,a)}var _=En(0,j),k=_(N),E;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});E=i.getStrokeDasharray(k,j,P)}else E=i.generateSimpleStrokeDasharray(j,k);return i.renderCurveStatically(l,r,a,{strokeDasharray:E})})}},{key:"renderCurve",value:function(r,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Hl(u,o))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(o,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,h=a.top,f=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,y=l.length===1,j=Je("recharts-line",c),w=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,C=w||N,S=Ke(v)?this.id:v,_=(r=Le(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=_.r,E=k===void 0?3:k,P=_.strokeWidth,A=P===void 0?2:P,R=uL(o)?o:{},$=R.clipDot,K=$===void 0?!0:$,V=E*2+A;return M.createElement(ft,{className:j},w||N?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:w?f:f-m/2,y:N?h:h-g/2,width:w?m:m*2,height:N?g:g*2})),!K&&M.createElement("clipPath",{id:"clipPath-dots-".concat(S)},M.createElement("rect",{x:f-V/2,y:h-V/2,width:m+V,height:g+V}))):null,!y&&this.renderCurve(C,S),this.renderErrorBar(C,S),(y||o)&&this.renderDots(C,K,S),(!p||x)&&Ra.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var i=r.length%2!==0?[].concat(Pc(r),[0]):r,o=[],l=0;l<a;++l)o=[].concat(Pc(o),Pc(i));return o}},{key:"renderDotItem",value:function(r,a){var i;if(M.isValidElement(r))i=M.cloneElement(r,a);else if(qe(r))i=r(a);else{var o=a.key,l=EE(a,sCe),c=Je("recharts-line-dot",typeof r!="boolean"?r.className:"");i=M.createElement(Em,Wh({key:o},l,{className:c}))}return i}}])}(b.PureComponent);Hs(rd,"displayName","Line");Hs(rd,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ta.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Hs(rd,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,h=c.map(function(f,m){var g=mn(f,o);return d==="horizontal"?{x:bv({axis:n,ticks:a,bandSize:l,entry:f,index:m}),y:Ke(g)?null:r.scale(g),value:g,payload:f}:{x:Ke(g)?null:n.scale(g),y:bv({axis:r,ticks:i,bandSize:l,entry:f,index:m}),value:g,payload:f}});return Xr({points:h,layout:d},u)});var vCe=["layout","type","stroke","connectNulls","isRange","ref"],xCe=["key"],S6;function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function C6(e,t){if(e==null)return{};var n=yCe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pl.apply(this,arguments)}function ME(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(n),!0).forEach(function(r){ka(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P6(r.key),r)}}function bCe(e,t,n){return t&&IE(e.prototype,t),n&&IE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wCe(e,t,n){return t=Wv(t),NCe(e,_6()?Reflect.construct(t,n||[],Wv(e).constructor):t.apply(e,n))}function NCe(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SCe(e)}function SCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_6=function(){return!!e})()}function Wv(e){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(e)}function CCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DN(e,t)}function DN(e,t){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},DN(e,t)}function ka(e,t,n){return t=P6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P6(e){var t=_Ce(e,"string");return sd(t)=="symbol"?t:t+""}function _Ce(e,t){if(sd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ks=function(e){function t(){var n;jCe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=wCe(this,t,[].concat(a)),ka(n,"state",{isAnimationFinished:!0}),ka(n,"id",ic("recharts-area-")),ka(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),qe(o)&&o()}),ka(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),qe(o)&&o()}),n}return CCe(t,e),bCe(t,[{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,h=c.dataKey,f=Le(this.props,!1),m=Le(u,!0),g=d.map(function(v,x){var y=Ui(Ui(Ui({key:"dot-".concat(x),r:3},f),m),{},{index:x,cx:v.x,cy:v.y,dataKey:h,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,y)}),p={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return M.createElement(ft,pl({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),h=ho(o.map(function(f){return f.y||0}));return ge(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(ho(i.map(function(f){return f.y||0})),h)),ge(h)?M.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),h=ho(o.map(function(f){return f.x||0}));return ge(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(ho(i.map(function(f){return f.x||0})),h)),ge(h)?M.createElement("rect",{x:0,y:c<u?c:c-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,h=l.connectNulls,f=l.isRange;l.ref;var m=C6(l,vCe);return M.createElement(ft,{clipPath:i?"url(#clipPath-".concat(o,")"):null},M.createElement(kl,pl({},Le(m,!0),{points:r,connectNulls:h,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&M.createElement(kl,pl({},Le(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:r})),d!=="none"&&f&&M.createElement(kl,pl({},Le(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,m=o.animationId,g=this.state,p=g.prevPoints,v=g.prevBaseLine;return M.createElement(ia,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var y=x.t;if(p){var j=p.length/l.length,w=l.map(function(_,k){var E=Math.floor(k*j);if(p[E]){var P=p[E],A=En(P.x,_.x),R=En(P.y,_.y);return Ui(Ui({},_),{},{x:A(y),y:R(y)})}return _}),N;if(ge(c)&&typeof c=="number"){var C=En(v,c);N=C(y)}else if(Ke(c)||Dd(c)){var S=En(v,0);N=S(y)}else N=c.map(function(_,k){var E=Math.floor(k*j);if(v[E]){var P=v[E],A=En(P.x,_.x),R=En(P.y,_.y);return Ui(Ui({},_),{},{x:A(y),y:R(y)})}return _});return i.renderAreaStatically(w,N,r,a)}return M.createElement(ft,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),M.createElement(ft,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,r,a)))})}},{key:"renderArea",value:function(r,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,h=u.prevBaseLine,f=u.totalLength;return c&&o&&o.length&&(!d&&f>0||!Hl(d,o)||!Hl(h,l))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(o,l,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,h=a.xAxis,f=a.yAxis,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,y=l.length===1,j=Je("recharts-area",c),w=h&&h.allowDataOverflow,N=f&&f.allowDataOverflow,C=w||N,S=Ke(v)?this.id:v,_=(r=Le(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=_.r,E=k===void 0?3:k,P=_.strokeWidth,A=P===void 0?2:P,R=uL(o)?o:{},$=R.clipDot,K=$===void 0?!0:$,V=E*2+A;return M.createElement(ft,{className:j},w||N?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:w?d:d-m/2,y:N?u:u-g/2,width:w?m:m*2,height:N?g:g*2})),!K&&M.createElement("clipPath",{id:"clipPath-dots-".concat(S)},M.createElement("rect",{x:d-V/2,y:u-V/2,width:m+V,height:g+V}))):null,y?null:this.renderArea(C,S),(o||y)&&this.renderDots(C,K,S),(!p||x)&&Ra.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(b.PureComponent);S6=ks;ka(ks,"displayName","Area");ka(ks,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ta.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ka(ks,"getBaseValue",function(e,t,n,r){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(ge(l)&&typeof l=="number")return l;var c=a==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ka(ks,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,m=t.layout,g=u&&u.length,p=S6.getBaseValue(t,n,r,a),v=m==="horizontal",x=!1,y=h.map(function(w,N){var C;g?C=u[d+N]:(C=mn(w,c),Array.isArray(C)?x=!0:C=[p,C]);var S=C[1]==null||g&&mn(w,c)==null;return v?{x:bv({axis:r,ticks:i,bandSize:l,entry:w,index:N}),y:S?null:a.scale(C[1]),value:C,payload:w}:{x:S?null:r.scale(C[1]),y:bv({axis:a,ticks:o,bandSize:l,entry:w,index:N}),value:C,payload:w}}),j;return g||x?j=y.map(function(w){var N=Array.isArray(w.value)?w.value[0]:null;return v?{x:w.x,y:N!=null&&w.y!=null?a.scale(N):null}:{x:N!=null?r.scale(N):null,y:w.y}}):j=v?a.scale(p):r.scale(p),Ui({points:y,baseLine:j,layout:m,isRange:x},f)});ka(ks,"renderDotItem",function(e,t){var n;if(M.isValidElement(e))n=M.cloneElement(e,t);else if(qe(e))n=e(t);else{var r=Je("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=C6(t,xCe);n=M.createElement(Em,pl({},i,{key:a,className:r}))}return n});function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function PCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ACe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T6(r.key),r)}}function kCe(e,t,n){return t&&ACe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TCe(e,t,n){return t=Hv(t),ECe(e,A6()?Reflect.construct(t,n||[],Hv(e).constructor):t.apply(e,n))}function ECe(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OCe(e)}function OCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A6=function(){return!!e})()}function Hv(e){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(e)}function DCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MN(e,t)}function MN(e,t){return MN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},MN(e,t)}function k6(e,t,n){return t=T6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T6(e){var t=MCe(e,"string");return ad(t)=="symbol"?t:t+""}function MCe(e,t){if(ad(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IN(){return IN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IN.apply(this,arguments)}function ICe(e){var t=e.xAxisId,n=W2(),r=H2(),a=u6(t);return a==null?null:b.createElement(zd,IN({},a,{className:Je("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return ui(o,!0)}}))}var oa=function(e){function t(){return PCe(this,t),TCe(this,t,arguments)}return DCe(t,e),kCe(t,[{key:"render",value:function(){return b.createElement(ICe,this.props)}}])}(b.Component);k6(oa,"displayName","XAxis");k6(oa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function $Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RCe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D6(r.key),r)}}function LCe(e,t,n){return t&&RCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FCe(e,t,n){return t=Kv(t),BCe(e,E6()?Reflect.construct(t,n||[],Kv(e).constructor):t.apply(e,n))}function BCe(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zCe(e)}function zCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E6=function(){return!!e})()}function Kv(e){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kv(e)}function VCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$N(e,t)}function $N(e,t){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$N(e,t)}function O6(e,t,n){return t=D6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D6(e){var t=qCe(e,"string");return id(t)=="symbol"?t:t+""}function qCe(e,t){if(id(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RN.apply(this,arguments)}var UCe=function(t){var n=t.yAxisId,r=W2(),a=H2(),i=d6(n);return i==null?null:b.createElement(zd,RN({},i,{className:Je("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return ui(l,!0)}}))},la=function(e){function t(){return $Ce(this,t),FCe(this,t,arguments)}return VCe(t,e),LCe(t,[{key:"render",value:function(){return b.createElement(UCe,this.props)}}])}(b.Component);O6(la,"displayName","YAxis");O6(la,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $E(e){return GCe(e)||KCe(e)||HCe(e)||WCe()}function WCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HCe(e,t){if(e){if(typeof e=="string")return LN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LN(e,t)}}function KCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GCe(e){if(Array.isArray(e))return LN(e)}function LN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var FN=function(t,n,r,a,i){var o=ls(t,G2),l=ls(t,$y),c=[].concat($E(o),$E(l)),u=ls(t,Ly),d="".concat(a,"Id"),h=a[0],f=n;if(c.length&&(f=c.reduce(function(p,v){if(v.props[d]===r&&La(v.props,"extendDomain")&&ge(v.props[h])){var x=v.props[h];return[Math.min(p[0],x),Math.max(p[1],x)]}return p},f)),u.length){var m="".concat(h,"1"),g="".concat(h,"2");f=u.reduce(function(p,v){if(v.props[d]===r&&La(v.props,"extendDomain")&&ge(v.props[m])&&ge(v.props[g])){var x=v.props[m],y=v.props[g];return[Math.min(p[0],x,y),Math.max(p[1],x,y)]}return p},f)}return i&&i.length&&(f=i.reduce(function(p,v){return ge(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},f)),f},M6={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,h||c,f),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,g=new Array(m);f<m;f++)g[f]=h[f].fn;return g},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,m,g){var p=n?n+u:u;if(!this._events[p])return!1;var v=this._events[p],x=arguments.length,y,j;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,f),!0;case 5:return v.fn.call(v.context,d,h,f,m),!0;case 6:return v.fn.call(v.context,d,h,f,m,g),!0}for(j=1,y=new Array(x-1);j<x;j++)y[j-1]=arguments[j];v.fn.apply(v.context,y)}else{var w=v.length,N;for(j=0;j<w;j++)switch(v[j].once&&this.removeListener(u,v[j].fn,void 0,!0),x){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,d);break;case 3:v[j].fn.call(v[j].context,d,h);break;case 4:v[j].fn.call(v[j].context,d,h,f);break;default:if(!y)for(N=1,y=new Array(x-1);N<x;N++)y[N-1]=arguments[N];v[j].fn.apply(v[j].context,y)}}return!0},l.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!f||g.once)&&(!h||g.context===h)&&o(this,m);else{for(var p=0,v=[],x=g.length;p<x;p++)(g[p].fn!==d||f&&!g[p].once||h&&g[p].context!==h)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(M6);var YCe=M6.exports;const QCe=Ct(YCe);var pj=new QCe,gj="recharts.syncMouseEvents";function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function XCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JCe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I6(r.key),r)}}function ZCe(e,t,n){return t&&JCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vj(e,t,n){return t=I6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I6(e){var t=e_e(e,"string");return em(t)=="symbol"?t:t+""}function e_e(e,t){if(em(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var t_e=function(){function e(){XCe(this,e),vj(this,"activeIndex",0),vj(this,"coordinateList",[]),vj(this,"layout","horizontal")}return ZCe(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,h=d===void 0?null:d,f=n.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=i+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function n_e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&ge(r)&&ge(a))return!0}return!1}function r_e(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function $6(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle,o=Wt(t,n,r,a),l=Wt(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function s_e(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,h=t.angle,f=Wt(l,c,u,h),m=Wt(l,c,d,h);r=f.x,a=f.y,i=m.x,o=m.y}else return $6(t);return[{x:r,y:a},{x:i,y:o}]}function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Dp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(r){a_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a_e(e,t,n){return t=i_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i_e(e){var t=o_e(e,"string");return tm(t)=="symbol"?t:t+""}function o_e(e,t){if(tm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l_e(e){var t,n,r=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!i||!o||f!=="ScatterChart"&&a!=="axis")return null;var g,p=kl;if(f==="ScatterChart")g=o,p=gwe;else if(f==="BarChart")g=r_e(h,o,c,d),p=B2;else if(h==="radial"){var v=$6(o),x=v.cx,y=v.cy,j=v.radius,w=v.startAngle,N=v.endAngle;g={cx:x,cy:y,startAngle:w,endAngle:N,innerRadius:j,outerRadius:j},p=k5}else g={points:s_e(h,o,c)},p=kl;var C=Dp(Dp(Dp(Dp({stroke:"#ccc",pointerEvents:"none"},c),g),Le(m,!1)),{},{payload:l,payloadIndex:u,className:Je("recharts-tooltip-cursor",m.className)});return b.isValidElement(m)?b.cloneElement(m,C):b.createElement(p,C)}var c_e=["item"],u_e=["children","className","width","height","style","compact","title","desc"];function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hc.apply(this,arguments)}function LE(e,t){return f_e(e)||h_e(e,t)||L6(e,t)||d_e()}function d_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function f_e(e){if(Array.isArray(e))return e}function FE(e,t){if(e==null)return{};var n=m_e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function m_e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function p_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g_e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F6(r.key),r)}}function v_e(e,t,n){return t&&g_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x_e(e,t,n){return t=Gv(t),y_e(e,R6()?Reflect.construct(t,n||[],Gv(e).constructor):t.apply(e,n))}function y_e(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j_e(e)}function j_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R6=function(){return!!e})()}function Gv(e){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(e)}function b_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BN(e,t)}function BN(e,t){return BN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},BN(e,t)}function ld(e){return S_e(e)||N_e(e)||L6(e)||w_e()}function w_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L6(e,t){if(e){if(typeof e=="string")return zN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zN(e,t)}}function N_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S_e(e){if(Array.isArray(e))return zN(e)}function zN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(n),!0).forEach(function(r){Ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ve(e,t,n){return t=F6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F6(e){var t=C_e(e,"string");return od(t)=="symbol"?t:t+""}function C_e(e,t){if(od(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var __e={xAxis:["bottom","top"],yAxis:["left","right"]},P_e={width:"100%",height:"100%"},B6={x:0,y:0};function Mp(e){return e}var A_e=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},k_e=function(t,n,r,a){var i=n.find(function(d){return d&&d.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return ce(ce(ce({},a),Wt(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return ce(ce(ce({},a),Wt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return B6},Fy=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ld(l),ld(u)):l},[]);return o.length>0?o:t&&t.length&&ge(a)&&ge(i)?t.slice(a,i+1):[]};function z6(e){return e==="number"?[0,"auto"]:void 0}var VN=function(t,n,r,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Fy(n,t);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:n;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=h===void 0?l:h;f=Kg(m,o.dataKey,a)}else f=h&&h[r]||l[r];return f?[].concat(ld(c),[N5(u,f)]):c},[])},zE=function(t,n,r,a){var i=a||{x:t.chartX,y:t.chartY},o=A_e(i,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Bye(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=VN(t,n,d,h),m=k_e(r,l,d,i);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:m}}return null},T_e=function(t,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=t.stackOffset,m=v5(d,i);return r.reduce(function(g,p){var v,x=p.type.defaultProps!==void 0?ce(ce({},p.type.defaultProps),p.props):p.props,y=x.type,j=x.dataKey,w=x.allowDataOverflow,N=x.allowDuplicatedCategory,C=x.scale,S=x.ticks,_=x.includeHidden,k=x[o];if(g[k])return g;var E=Fy(t.data,{graphicalItems:a.filter(function(J){var ae,ne=o in J.props?J.props[o]:(ae=J.type.defaultProps)===null||ae===void 0?void 0:ae[o];return ne===k}),dataStartIndex:c,dataEndIndex:u}),P=E.length,A,R,$;n_e(x.domain,w,y)&&(A=tN(x.domain,null,w),m&&(y==="number"||C!=="auto")&&($=zh(E,j,"category")));var K=z6(y);if(!A||A.length===0){var V,H=(V=x.domain)!==null&&V!==void 0?V:K;if(j){if(A=zh(E,j,y),y==="category"&&m){var T=Tse(A);N&&T?(R=A,A=Mv(0,P)):N||(A=oT(H,A,p).reduce(function(J,ae){return J.indexOf(ae)>=0?J:[].concat(ld(J),[ae])},[]))}else if(y==="category")N?A=A.filter(function(J){return J!==""&&!Ke(J)}):A=oT(H,A,p).reduce(function(J,ae){return J.indexOf(ae)>=0||ae===""||Ke(ae)?J:[].concat(ld(J),[ae])},[]);else if(y==="number"){var I=Wye(E,a.filter(function(J){var ae,ne,me=o in J.props?J.props[o]:(ae=J.type.defaultProps)===null||ae===void 0?void 0:ae[o],Ne="hide"in J.props?J.props.hide:(ne=J.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return me===k&&(_||!Ne)}),j,i,d);I&&(A=I)}m&&(y==="number"||C!=="auto")&&($=zh(E,j,"category"))}else m?A=Mv(0,P):l&&l[k]&&l[k].hasStack&&y==="number"?A=f==="expand"?[0,1]:w5(l[k].stackGroups,c,u):A=g5(E,a.filter(function(J){var ae=o in J.props?J.props[o]:J.type.defaultProps[o],ne="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return ae===k&&(_||!ne)}),y,d,!0);if(y==="number")A=FN(h,A,k,i,S),H&&(A=tN(H,A,w));else if(y==="category"&&H){var F=H,U=A.every(function(J){return F.indexOf(J)>=0});U&&(A=F)}}return ce(ce({},g),{},Ve({},k,ce(ce({},x),{},{axisType:i,domain:A,categoricalDomain:$,duplicateDomain:R,originalDomain:(v=x.domain)!==null&&v!==void 0?v:K,isCategorical:m,layout:d})))},{})},E_e=function(t,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=Fy(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=f.length,g=v5(d,i),p=-1;return r.reduce(function(v,x){var y=x.type.defaultProps!==void 0?ce(ce({},x.type.defaultProps),x.props):x.props,j=y[o],w=z6("number");if(!v[j]){p++;var N;return g?N=Mv(0,m):l&&l[j]&&l[j].hasStack?(N=w5(l[j].stackGroups,c,u),N=FN(h,N,j,i)):(N=tN(w,g5(f,r.filter(function(C){var S,_,k=o in C.props?C.props[o]:(S=C.type.defaultProps)===null||S===void 0?void 0:S[o],E="hide"in C.props?C.props.hide:(_=C.type.defaultProps)===null||_===void 0?void 0:_.hide;return k===j&&!E}),"number",d),a.defaultProps.allowDataOverflow),N=FN(h,N,j,i)),ce(ce({},v),{},Ve({},j,ce(ce({axisType:i},a.defaultProps),{},{hide:!0,orientation:os(__e,"".concat(i,".").concat(p%2),null),domain:N,originalDomain:w,isCategorical:g,layout:d})))}return v},{})},O_e=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,h="".concat(a,"Id"),f=ls(d,i),m={};return f&&f.length?m=T_e(t,{axes:f,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=E_e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},D_e=function(t){var n=Ji(t),r=ui(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:f2(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:wv(n,r)}},VE=function(t){var n=t.children,r=t.defaultShowTooltip,a=es(n,Qu),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},M_e=function(t){return!t||!t.length?!1:t.some(function(n){var r=fi(n&&n.type);return r&&r.indexOf("Bar")>=0})},qE=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},I_e=function(t,n){var r=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,h=r.children,f=r.margin||{},m=es(h,Qu),g=es(h,su),p=Object.keys(c).reduce(function(N,C){var S=c[C],_=S.orientation;return!S.mirror&&!S.hide?ce(ce({},N),{},Ve({},_,N[_]+S.width)):N},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(N,C){var S=o[C],_=S.orientation;return!S.mirror&&!S.hide?ce(ce({},N),{},Ve({},_,os(N,"".concat(_))+S.height)):N},{top:f.top||0,bottom:f.bottom||0}),x=ce(ce({},v),p),y=x.bottom;m&&(x.bottom+=m.props.height||Qu.defaultProps.height),g&&n&&(x=qye(x,a,r,n));var j=u-x.left-x.right,w=d-x.top-x.bottom;return ce(ce({brushBottom:y},x),{},{width:Math.max(j,0),height:Math.max(w,0)})},$_e=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},By=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,h=t.defaultProps,f=function(x,y){var j=y.graphicalItems,w=y.stackGroups,N=y.offset,C=y.updateId,S=y.dataStartIndex,_=y.dataEndIndex,k=x.barSize,E=x.layout,P=x.barGap,A=x.barCategoryGap,R=x.maxBarSize,$=qE(E),K=$.numericAxisName,V=$.cateAxisName,H=M_e(j),T=[];return j.forEach(function(I,F){var U=Fy(x.data,{graphicalItems:[I],dataStartIndex:S,dataEndIndex:_}),J=I.type.defaultProps!==void 0?ce(ce({},I.type.defaultProps),I.props):I.props,ae=J.dataKey,ne=J.maxBarSize,me=J["".concat(K,"Id")],Ne=J["".concat(V,"Id")],le={},re=c.reduce(function(Me,jt){var Ft=y["".concat(jt.axisType,"Map")],Kn=J["".concat(jt.axisType,"Id")];Ft&&Ft[Kn]||jt.axisType==="zAxis"||Gl();var pt=Ft[Kn];return ce(ce({},Me),{},Ve(Ve({},jt.axisType,pt),"".concat(jt.axisType,"Ticks"),ui(pt)))},le),se=re[V],oe=re["".concat(V,"Ticks")],O=w&&w[me]&&w[me].hasStack&&e0e(I,w[me].stackGroups),W=fi(I.type).indexOf("Bar")>=0,fe=wv(se,oe),he=[],Ye=H&&zye({barSize:k,stackGroups:w,totalSize:$_e(re,V)});if(W){var We,ut,$e=Ke(ne)?R:ne,it=(We=(ut=wv(se,oe,!0))!==null&&ut!==void 0?ut:$e)!==null&&We!==void 0?We:0;he=Vye({barGap:P,barCategoryGap:A,bandSize:it!==fe?it:fe,sizeList:Ye[Ne],maxBarSize:$e}),it!==fe&&(he=he.map(function(Me){return ce(ce({},Me),{},{position:ce(ce({},Me.position),{},{offset:Me.position.offset-it/2})})}))}var ie=I&&I.type&&I.type.getComposedData;ie&&T.push({props:ce(ce({},ie(ce(ce({},re),{},{displayedData:U,props:x,dataKey:ae,item:I,bandSize:fe,barPosition:he,offset:N,stackedData:O,layout:E,dataStartIndex:S,dataEndIndex:_}))),{},Ve(Ve(Ve({key:I.key||"item-".concat(F)},K,re[K]),V,re[V]),"animationId",C)),childIndex:Vse(I,x.children),item:I})}),T},m=function(x,y){var j=x.props,w=x.dataStartIndex,N=x.dataEndIndex,C=x.updateId;if(!tA({props:j}))return null;var S=j.children,_=j.layout,k=j.stackOffset,E=j.data,P=j.reverseStackOrder,A=qE(_),R=A.numericAxisName,$=A.cateAxisName,K=ls(S,r),V=Jye(E,K,"".concat(R,"Id"),"".concat($,"Id"),k,P),H=c.reduce(function(J,ae){var ne="".concat(ae.axisType,"Map");return ce(ce({},J),{},Ve({},ne,O_e(j,ce(ce({},ae),{},{graphicalItems:K,stackGroups:ae.axisType===R&&V,dataStartIndex:w,dataEndIndex:N}))))},{}),T=I_e(ce(ce({},H),{},{props:j,graphicalItems:K}),y==null?void 0:y.legendBBox);Object.keys(H).forEach(function(J){H[J]=d(j,H[J],T,J.replace("Map",""),n)});var I=H["".concat($,"Map")],F=D_e(I),U=f(j,ce(ce({},H),{},{dataStartIndex:w,dataEndIndex:N,updateId:C,graphicalItems:K,stackGroups:V,offset:T}));return ce(ce({formattedGraphicalItems:U,graphicalItems:K,offset:T,stackGroups:V},F),H)},g=function(v){function x(y){var j,w,N;return p_e(this,x),N=x_e(this,x,[y]),Ve(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ve(N,"accessibilityManager",new t_e),Ve(N,"handleLegendBBoxUpdate",function(C){if(C){var S=N.state,_=S.dataStartIndex,k=S.dataEndIndex,E=S.updateId;N.setState(ce({legendBBox:C},m({props:N.props,dataStartIndex:_,dataEndIndex:k,updateId:E},ce(ce({},N.state),{},{legendBBox:C}))))}}),Ve(N,"handleReceiveSyncEvent",function(C,S,_){if(N.props.syncId===C){if(_===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(S)}}),Ve(N,"handleBrushChange",function(C){var S=C.startIndex,_=C.endIndex;if(S!==N.state.dataStartIndex||_!==N.state.dataEndIndex){var k=N.state.updateId;N.setState(function(){return ce({dataStartIndex:S,dataEndIndex:_},m({props:N.props,dataStartIndex:S,dataEndIndex:_,updateId:k},N.state))}),N.triggerSyncEvent({dataStartIndex:S,dataEndIndex:_})}}),Ve(N,"handleMouseEnter",function(C){var S=N.getMouseInfo(C);if(S){var _=ce(ce({},S),{},{isTooltipActive:!0});N.setState(_),N.triggerSyncEvent(_);var k=N.props.onMouseEnter;qe(k)&&k(_,C)}}),Ve(N,"triggeredAfterMouseMove",function(C){var S=N.getMouseInfo(C),_=S?ce(ce({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(_),N.triggerSyncEvent(_);var k=N.props.onMouseMove;qe(k)&&k(_,C)}),Ve(N,"handleItemMouseEnter",function(C){N.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ve(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ve(N,"handleMouseMove",function(C){C.persist(),N.throttleTriggeredAfterMouseMove(C)}),Ve(N,"handleMouseLeave",function(C){N.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};N.setState(S),N.triggerSyncEvent(S);var _=N.props.onMouseLeave;qe(_)&&_(S,C)}),Ve(N,"handleOuterEvent",function(C){var S=zse(C),_=os(N.props,"".concat(S));if(S&&qe(_)){var k,E;/.*touch.*/i.test(S)?E=N.getMouseInfo(C.changedTouches[0]):E=N.getMouseInfo(C),_((k=E)!==null&&k!==void 0?k:{},C)}}),Ve(N,"handleClick",function(C){var S=N.getMouseInfo(C);if(S){var _=ce(ce({},S),{},{isTooltipActive:!0});N.setState(_),N.triggerSyncEvent(_);var k=N.props.onClick;qe(k)&&k(_,C)}}),Ve(N,"handleMouseDown",function(C){var S=N.props.onMouseDown;if(qe(S)){var _=N.getMouseInfo(C);S(_,C)}}),Ve(N,"handleMouseUp",function(C){var S=N.props.onMouseUp;if(qe(S)){var _=N.getMouseInfo(C);S(_,C)}}),Ve(N,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ve(N,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseDown(C.changedTouches[0])}),Ve(N,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseUp(C.changedTouches[0])}),Ve(N,"handleDoubleClick",function(C){var S=N.props.onDoubleClick;if(qe(S)){var _=N.getMouseInfo(C);S(_,C)}}),Ve(N,"handleContextMenu",function(C){var S=N.props.onContextMenu;if(qe(S)){var _=N.getMouseInfo(C);S(_,C)}}),Ve(N,"triggerSyncEvent",function(C){N.props.syncId!==void 0&&pj.emit(gj,N.props.syncId,C,N.eventEmitterSymbol)}),Ve(N,"applySyncEvent",function(C){var S=N.props,_=S.layout,k=S.syncMethod,E=N.state.updateId,P=C.dataStartIndex,A=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)N.setState(ce({dataStartIndex:P,dataEndIndex:A},m({props:N.props,dataStartIndex:P,dataEndIndex:A,updateId:E},N.state)));else if(C.activeTooltipIndex!==void 0){var R=C.chartX,$=C.chartY,K=C.activeTooltipIndex,V=N.state,H=V.offset,T=V.tooltipTicks;if(!H)return;if(typeof k=="function")K=k(T,C);else if(k==="value"){K=-1;for(var I=0;I<T.length;I++)if(T[I].value===C.activeLabel){K=I;break}}var F=ce(ce({},H),{},{x:H.left,y:H.top}),U=Math.min(R,F.x+F.width),J=Math.min($,F.y+F.height),ae=T[K]&&T[K].value,ne=VN(N.state,N.props.data,K),me=T[K]?{x:_==="horizontal"?T[K].coordinate:U,y:_==="horizontal"?J:T[K].coordinate}:B6;N.setState(ce(ce({},C),{},{activeLabel:ae,activeCoordinate:me,activePayload:ne,activeTooltipIndex:K}))}else N.setState(C)}),Ve(N,"renderCursor",function(C){var S,_=N.state,k=_.isTooltipActive,E=_.activeCoordinate,P=_.activePayload,A=_.offset,R=_.activeTooltipIndex,$=_.tooltipAxisBandSize,K=N.getTooltipEventType(),V=(S=C.props.active)!==null&&S!==void 0?S:k,H=N.props.layout,T=C.key||"_recharts-cursor";return M.createElement(l_e,{key:T,activeCoordinate:E,activePayload:P,activeTooltipIndex:R,chartName:n,element:C,isActive:V,layout:H,offset:A,tooltipAxisBandSize:$,tooltipEventType:K})}),Ve(N,"renderPolarAxis",function(C,S,_){var k=os(C,"type.axisType"),E=os(N.state,"".concat(k,"Map")),P=C.type.defaultProps,A=P!==void 0?ce(ce({},P),C.props):C.props,R=E&&E[A["".concat(k,"Id")]];return b.cloneElement(C,ce(ce({},R),{},{className:Je(k,R.className),key:C.key||"".concat(S,"-").concat(_),ticks:ui(R,!0)}))}),Ve(N,"renderPolarGrid",function(C){var S=C.props,_=S.radialLines,k=S.polarAngles,E=S.polarRadius,P=N.state,A=P.radiusAxisMap,R=P.angleAxisMap,$=Ji(A),K=Ji(R),V=K.cx,H=K.cy,T=K.innerRadius,I=K.outerRadius;return b.cloneElement(C,{polarAngles:Array.isArray(k)?k:ui(K,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(E)?E:ui($,!0).map(function(F){return F.coordinate}),cx:V,cy:H,innerRadius:T,outerRadius:I,key:C.key||"polar-grid",radialLines:_})}),Ve(N,"renderLegend",function(){var C=N.state.formattedGraphicalItems,S=N.props,_=S.children,k=S.width,E=S.height,P=N.props.margin||{},A=k-(P.left||0)-(P.right||0),R=m5({children:_,formattedGraphicalItems:C,legendWidth:A,legendContent:u});if(!R)return null;var $=R.item,K=FE(R,c_e);return b.cloneElement($,ce(ce({},K),{},{chartWidth:k,chartHeight:E,margin:P,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ve(N,"renderTooltip",function(){var C,S=N.props,_=S.children,k=S.accessibilityLayer,E=es(_,Vn);if(!E)return null;var P=N.state,A=P.isTooltipActive,R=P.activeCoordinate,$=P.activePayload,K=P.activeLabel,V=P.offset,H=(C=E.props.active)!==null&&C!==void 0?C:A;return b.cloneElement(E,{viewBox:ce(ce({},V),{},{x:V.left,y:V.top}),active:H,label:K,payload:H?$:[],coordinate:R,accessibilityLayer:k})}),Ve(N,"renderBrush",function(C){var S=N.props,_=S.margin,k=S.data,E=N.state,P=E.offset,A=E.dataStartIndex,R=E.dataEndIndex,$=E.updateId;return b.cloneElement(C,{key:C.key||"_recharts-brush",onChange:kp(N.handleBrushChange,C.props.onChange),data:k,x:ge(C.props.x)?C.props.x:P.left,y:ge(C.props.y)?C.props.y:P.top+P.height+P.brushBottom-(_.bottom||0),width:ge(C.props.width)?C.props.width:P.width,startIndex:A,endIndex:R,updateId:"brush-".concat($)})}),Ve(N,"renderReferenceElement",function(C,S,_){if(!C)return null;var k=N,E=k.clipPathId,P=N.state,A=P.xAxisMap,R=P.yAxisMap,$=P.offset,K=C.type.defaultProps||{},V=C.props,H=V.xAxisId,T=H===void 0?K.xAxisId:H,I=V.yAxisId,F=I===void 0?K.yAxisId:I;return b.cloneElement(C,{key:C.key||"".concat(S,"-").concat(_),xAxis:A[T],yAxis:R[F],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:E})}),Ve(N,"renderActivePoints",function(C){var S=C.item,_=C.activePoint,k=C.basePoint,E=C.childIndex,P=C.isRange,A=[],R=S.props.key,$=S.item.type.defaultProps!==void 0?ce(ce({},S.item.type.defaultProps),S.item.props):S.item.props,K=$.activeDot,V=$.dataKey,H=ce(ce({index:E,dataKey:V,cx:_.x,cy:_.y,r:4,fill:F2(S.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Le(K,!1)),Gg(K));return A.push(x.renderActiveDot(K,H,"".concat(R,"-activePoint-").concat(E))),k?A.push(x.renderActiveDot(K,ce(ce({},H),{},{cx:k.x,cy:k.y}),"".concat(R,"-basePoint-").concat(E))):P&&A.push(null),A}),Ve(N,"renderGraphicChild",function(C,S,_){var k=N.filterFormatItem(C,S,_);if(!k)return null;var E=N.getTooltipEventType(),P=N.state,A=P.isTooltipActive,R=P.tooltipAxis,$=P.activeTooltipIndex,K=P.activeLabel,V=N.props.children,H=es(V,Vn),T=k.props,I=T.points,F=T.isRange,U=T.baseLine,J=k.item.type.defaultProps!==void 0?ce(ce({},k.item.type.defaultProps),k.item.props):k.item.props,ae=J.activeDot,ne=J.hide,me=J.activeBar,Ne=J.activeShape,le=!!(!ne&&A&&H&&(ae||me||Ne)),re={};E!=="axis"&&H&&H.props.trigger==="click"?re={onClick:kp(N.handleItemMouseEnter,C.props.onClick)}:E!=="axis"&&(re={onMouseLeave:kp(N.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:kp(N.handleItemMouseEnter,C.props.onMouseEnter)});var se=b.cloneElement(C,ce(ce({},k.props),re));function oe(jt){return typeof R.dataKey=="function"?R.dataKey(jt.payload):null}if(le)if($>=0){var O,W;if(R.dataKey&&!R.allowDuplicatedCategory){var fe=typeof R.dataKey=="function"?oe:"payload.".concat(R.dataKey.toString());O=Kg(I,fe,K),W=F&&U&&Kg(U,fe,K)}else O=I==null?void 0:I[$],W=F&&U&&U[$];if(Ne||me){var he=C.props.activeIndex!==void 0?C.props.activeIndex:$;return[b.cloneElement(C,ce(ce(ce({},k.props),re),{},{activeIndex:he})),null,null]}if(!Ke(O))return[se].concat(ld(N.renderActivePoints({item:k,activePoint:O,basePoint:W,childIndex:$,isRange:F})))}else{var Ye,We=(Ye=N.getItemByXY(N.state.activeCoordinate))!==null&&Ye!==void 0?Ye:{graphicalItem:se},ut=We.graphicalItem,$e=ut.item,it=$e===void 0?C:$e,ie=ut.childIndex,Me=ce(ce(ce({},k.props),re),{},{activeIndex:ie});return[b.cloneElement(it,Me),null,null]}return F?[se,null,null]:[se,null]}),Ve(N,"renderCustomized",function(C,S,_){return b.cloneElement(C,ce(ce({key:"recharts-customized-".concat(_)},N.props),N.state))}),Ve(N,"renderMap",{CartesianGrid:{handler:Mp,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Mp},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Mp},YAxis:{handler:Mp},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((j=y.id)!==null&&j!==void 0?j:ic("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=fF(N.triggeredAfterMouseMove,(w=y.throttleDelay)!==null&&w!==void 0?w:1e3/60),N.state={},N}return b_e(x,v),v_e(x,[{key:"componentDidMount",value:function(){var j,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,w=j.children,N=j.data,C=j.height,S=j.layout,_=es(w,Vn);if(_){var k=_.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,P=VN(this.state,N,k,E),A=this.state.tooltipTicks[k].coordinate,R=(this.state.offset.top+C)/2,$=S==="horizontal",K=$?{x:A,y:R}:{y:A,x:R},V=this.state.formattedGraphicalItems.find(function(T){var I=T.item;return I.type.name==="Scatter"});V&&(K=ce(ce({},K),V.props.points[k].tooltipPosition),P=V.props.points[k].tooltipPayload);var H={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:E,activePayload:P,activeCoordinate:K};this.setState(H),this.renderCursor(_),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var N,C;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(j){gw([es(j.children,Vn)],[es(this.props.children,Vn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=es(this.props.children,Vn);if(j&&typeof j.props.shared=="boolean"){var w=j.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var w=this.container,N=w.getBoundingClientRect(),C=mpe(N),S={chartX:Math.round(j.pageX-C.left),chartY:Math.round(j.pageY-C.top)},_=N.width/w.offsetWidth||1,k=this.inRange(S.chartX,S.chartY,_);if(!k)return null;var E=this.state,P=E.xAxisMap,A=E.yAxisMap,R=this.getTooltipEventType(),$=zE(this.state,this.props.data,this.props.layout,k);if(R!=="axis"&&P&&A){var K=Ji(P).scale,V=Ji(A).scale,H=K&&K.invert?K.invert(S.chartX):null,T=V&&V.invert?V.invert(S.chartY):null;return ce(ce({},S),{},{xValue:H,yValue:T},$)}return $?ce(ce({},S),$):null}},{key:"inRange",value:function(j,w){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,S=j/N,_=w/N;if(C==="horizontal"||C==="vertical"){var k=this.state.offset,E=S>=k.left&&S<=k.left+k.width&&_>=k.top&&_<=k.top+k.height;return E?{x:S,y:_}:null}var P=this.state,A=P.angleAxisMap,R=P.radiusAxisMap;if(A&&R){var $=Ji(A);return uT({x:S,y:_},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,w=this.getTooltipEventType(),N=es(j,Vn),C={};N&&w==="axis"&&(N.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Gg(this.props,this.handleOuterEvent);return ce(ce({},S),C)}},{key:"addListener",value:function(){pj.on(gj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){pj.removeListener(gj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,w,N){for(var C=this.state.formattedGraphicalItems,S=0,_=C.length;S<_;S++){var k=C[S];if(k.item===j||k.props.key===j.key||w===fi(k.item.type)&&N===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,w=this.state.offset,N=w.left,C=w.top,S=w.height,_=w.width;return M.createElement("defs",null,M.createElement("clipPath",{id:j},M.createElement("rect",{x:N,y:C,height:S,width:_})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(w,N){var C=LE(N,2),S=C[0],_=C[1];return ce(ce({},w),{},Ve({},S,_.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(w,N){var C=LE(N,2),S=C[0],_=C[1];return ce(ce({},w),{},Ve({},S,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[j])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(j){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[j])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(j){var w=this.state,N=w.formattedGraphicalItems,C=w.activeItem;if(N&&N.length)for(var S=0,_=N.length;S<_;S++){var k=N[S],E=k.props,P=k.item,A=P.type.defaultProps!==void 0?ce(ce({},P.type.defaultProps),P.props):P.props,R=fi(P.type);if(R==="Bar"){var $=(E.data||[]).find(function(T){return Qbe(j,T)});if($)return{graphicalItem:k,payload:$}}else if(R==="RadialBar"){var K=(E.data||[]).find(function(T){return uT(j,T)});if(K)return{graphicalItem:k,payload:K}}else if(Oy(k,C)||Dy(k,C)||Yf(k,C)){var V=LNe({graphicalItem:k,activeTooltipItem:C,itemData:A.data}),H=A.activeIndex===void 0?V:A.activeIndex;return{graphicalItem:ce(ce({},k),{},{childIndex:H}),payload:Yf(k,C)?A.data[V]:k.props.data[V]}}}return null}},{key:"render",value:function(){var j=this;if(!tA(this))return null;var w=this.props,N=w.children,C=w.className,S=w.width,_=w.height,k=w.style,E=w.compact,P=w.title,A=w.desc,R=FE(w,u_e),$=Le(R,!1);if(E)return M.createElement(xE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(xw,Hc({},$,{width:S,height:_,title:P,desc:A}),this.renderClipPath(),rA(N,this.renderMap)));if(this.props.accessibilityLayer){var K,V;$.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,$.role=(V=this.props.role)!==null&&V!==void 0?V:"application",$.onKeyDown=function(T){j.accessibilityManager.keyboardEvent(T)},$.onFocus=function(){j.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return M.createElement(xE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Hc({className:Je("recharts-wrapper",C),style:ce({position:"relative",cursor:"default",width:S,height:_},k)},H,{ref:function(I){j.container=I}}),M.createElement(xw,Hc({},$,{width:S,height:_,title:P,desc:A,style:P_e}),this.renderClipPath(),rA(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);Ve(g,"displayName",n),Ve(g,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ve(g,"getDerivedStateFromProps",function(v,x){var y=v.dataKey,j=v.data,w=v.children,N=v.width,C=v.height,S=v.layout,_=v.stackOffset,k=v.margin,E=x.dataStartIndex,P=x.dataEndIndex;if(x.updateId===void 0){var A=VE(v);return ce(ce(ce({},A),{},{updateId:0},m(ce(ce({props:v},A),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:j,prevWidth:N,prevHeight:C,prevLayout:S,prevStackOffset:_,prevMargin:k,prevChildren:w})}if(y!==x.prevDataKey||j!==x.prevData||N!==x.prevWidth||C!==x.prevHeight||S!==x.prevLayout||_!==x.prevStackOffset||!ru(k,x.prevMargin)){var R=VE(v),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},K=ce(ce({},zE(x,j,S)),{},{updateId:x.updateId+1}),V=ce(ce(ce({},R),$),K);return ce(ce(ce({},V),m(ce({props:v},V),x)),{},{prevDataKey:y,prevData:j,prevWidth:N,prevHeight:C,prevLayout:S,prevStackOffset:_,prevMargin:k,prevChildren:w})}if(!gw(w,x.prevChildren)){var H,T,I,F,U=es(w,Qu),J=U&&(H=(T=U.props)===null||T===void 0?void 0:T.startIndex)!==null&&H!==void 0?H:E,ae=U&&(I=(F=U.props)===null||F===void 0?void 0:F.endIndex)!==null&&I!==void 0?I:P,ne=J!==E||ae!==P,me=!Ke(j),Ne=me&&!ne?x.updateId:x.updateId+1;return ce(ce({updateId:Ne},m(ce(ce({props:v},x),{},{updateId:Ne,dataStartIndex:J,dataEndIndex:ae}),x)),{},{prevChildren:w,dataStartIndex:J,dataEndIndex:ae})}return null}),Ve(g,"renderActiveDot",function(v,x,y){var j;return b.isValidElement(v)?j=b.cloneElement(v,x):qe(v)?j=v(x):j=M.createElement(Em,x),M.createElement(ft,{className:"recharts-active-dot",key:y},j)});var p=b.forwardRef(function(x,y){return M.createElement(g,Hc({},x,{ref:y}))});return p.displayName=g.displayName,p},UE=By({chartName:"LineChart",GraphicalChild:rd,axisComponents:[{axisType:"xAxis",AxisComp:oa},{axisType:"yAxis",AxisComp:la}],formatAxisMap:z2}),R_e=By({chartName:"BarChart",GraphicalChild:Aa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:oa},{axisType:"yAxis",AxisComp:la}],formatAxisMap:z2}),X2=By({chartName:"PieChart",GraphicalChild:ha,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ey},{axisType:"radiusAxis",AxisComp:ky}],formatAxisMap:u0e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),J2=By({chartName:"AreaChart",GraphicalChild:ks,axisComponents:[{axisType:"xAxis",AxisComp:oa},{axisType:"yAxis",AxisComp:la}],formatAxisMap:z2});function Z2({open:e,onOpenChange:t,petId:n,consultationId:r}){const{data:a=[]}=ur(),{data:i=[]}=dr(),{data:o=[]}=LS(),l=bZ(),{toast:c}=at(),[u,d]=b.useState({diagnosis:"",notes:"",validUntil:""}),[h,f]=b.useState([{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}]),m=i.find(N=>N.id===n),g=m?a.find(N=>N.id===m.client_id):null,p=o.filter(N=>(N.category==="medication"||N.category==="supplement")&&N.current_quantity>0&&N.active),v=N=>{const{name:C,value:S}=N.target;d(_=>({..._,[C]:S}))},x=(N,C,S)=>{f(_=>_.map((k,E)=>E===N?{...k,[C]:S}:k))},y=()=>{f(N=>[...N,{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}])},j=N=>{h.length>1&&f(C=>C.filter((S,_)=>_!==N))},w=async N=>{if(N.preventDefault(),!m||!g){c({title:"Erreur",description:"Impossible de trouver l'animal ou le client associé.",variant:"destructive"});return}const C=h.filter(_=>_.medication_name.trim()!=="");if(C.length===0){c({title:"Erreur",description:"Veuillez ajouter au moins un médicament à la prescription.",variant:"destructive"});return}const S={consultation_id:r,animal_id:m.id,client_id:g.id,diagnosis:u.diagnosis,notes:u.notes,valid_until:u.validUntil||void 0,medications:C};try{await l.mutateAsync(S),c({title:"Prescription créée",description:`Prescription créée avec succès pour ${m.name}.`}),t(!1),d({diagnosis:"",notes:"",validUntil:""}),f([{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}])}catch(_){console.error("Error creating prescription:",_),c({title:"Erreur",description:"Une erreur est survenue lors de la création de la prescription.",variant:"destructive"})}};return!m||!g?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsx(Ge,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:s.jsxs(et,{children:[s.jsx(tt,{children:"Erreur"}),s.jsx(Rt,{children:"Impossible de trouver l'animal ou le client associé."})]})})}):s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Nouvelle Prescription"}),s.jsxs(Rt,{children:["Créer une nouvelle prescription pour ",m.name," (",g.first_name," ",g.last_name,")"]})]}),s.jsxs("form",{onSubmit:w,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"diagnosis",children:"Diagnostic"}),s.jsx(Ue,{id:"diagnosis",name:"diagnosis",value:u.diagnosis,onChange:v,placeholder:"Entrez le diagnostic...",className:"h-20"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"validUntil",children:"Valide jusqu'au (optionnel)"}),s.jsx(Y,{id:"validUntil",name:"validUntil",type:"date",value:u.validUntil,onChange:v})]})]}),s.jsxs("div",{className:"space-y-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(D,{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Médicaments"}),s.jsxs(B,{type:"button",onClick:y,size:"sm",variant:"outline",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter un médicament"]})]}),h.map((N,C)=>s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-6 space-y-4 bg-gray-50 dark:bg-gray-800",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium text-base text-gray-900 dark:text-gray-100",children:["Médicament ",C+1]}),h.length>1&&s.jsx(B,{type:"button",variant:"outline",size:"sm",onClick:()=>j(C),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Un,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2 lg:col-span-1",children:[s.jsx(D,{className:"text-gray-700 dark:text-gray-300",children:"Médicament *"}),s.jsxs(be,{value:N.medication_name,onValueChange:S=>x(C,"medication_name",S),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner ou taper..."})}),s.jsx(ye,{children:p.map(S=>s.jsxs(L,{value:S.name,children:[S.name," (",S.current_quantity," ",S.unit,")"]},S.id))})]}),!p.find(S=>S.name===N.medication_name)&&s.jsx(Y,{className:"mt-2",value:N.medication_name,onChange:S=>x(C,"medication_name",S.target.value),placeholder:"Nom du médicament personnalisé"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-gray-700 dark:text-gray-300",children:"Dosage"}),s.jsx(Y,{value:N.dosage||"",onChange:S=>x(C,"dosage",S.target.value),placeholder:"ex: 5mg"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-gray-700 dark:text-gray-300",children:"Fréquence"}),s.jsxs(be,{value:N.frequency||"",onValueChange:S=>x(C,"frequency",S),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner..."})}),s.jsxs(ye,{children:[s.jsx(L,{value:"1x/jour",children:"1 fois par jour"}),s.jsx(L,{value:"2x/jour",children:"2 fois par jour"}),s.jsx(L,{value:"3x/jour",children:"3 fois par jour"}),s.jsx(L,{value:"1x/semaine",children:"1 fois par semaine"}),s.jsx(L,{value:"selon besoin",children:"Selon besoin"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-gray-700 dark:text-gray-300",children:"Durée"}),s.jsx(Y,{value:N.duration||"",onChange:S=>x(C,"duration",S.target.value),placeholder:"ex: 7 jours"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-gray-700 dark:text-gray-300",children:"Quantité *"}),s.jsx(Y,{type:"number",min:"1",value:N.quantity,onChange:S=>x(C,"quantity",parseInt(S.target.value)||1)})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-gray-700 dark:text-gray-300",children:"Voie d'administration"}),s.jsxs(be,{value:N.route||"oral",onValueChange:S=>x(C,"route",S),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"oral",children:"Orale"}),s.jsx(L,{value:"injectable",children:"Injectable"}),s.jsx(L,{value:"topique",children:"Topique"}),s.jsx(L,{value:"intraveineuse",children:"Intraveineuse"}),s.jsx(L,{value:"intramusculaire",children:"Intramusculaire"}),s.jsx(L,{value:"sous-cutanée",children:"Sous-cutanée"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-gray-700 dark:text-gray-300",children:"Instructions spéciales"}),s.jsx(Ue,{value:N.instructions||"",onChange:S=>x(C,"instructions",S.target.value),placeholder:"Instructions particulières pour ce médicament...",className:"h-16"})]})]},C)),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"notes",className:"text-gray-700 dark:text-gray-300",children:"Notes générales"}),s.jsx(Ue,{id:"notes",name:"notes",value:u.notes,onChange:v,placeholder:"Notes générales sur la prescription...",className:"h-20"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l.isPending,children:"Annuler"}),s.jsx(B,{type:"submit",disabled:l.isPending,children:l.isPending?"Création...":"Créer la prescription"})]})]})]})})}function L_e({open:e,onOpenChange:t,prescription:n}){const{updatePrescription:r}=yt(),{toast:a}=at(),[i,o]=b.useState({date:"",prescribedBy:"",diagnosis:"",instructions:"",duration:"",followUpDate:"",status:"",notes:""}),[l,c]=b.useState([]);b.useEffect(()=>{e&&n&&(o({date:n.date,prescribedBy:n.prescribedBy,diagnosis:n.diagnosis,instructions:n.instructions,duration:n.duration,followUpDate:n.followUpDate||"",status:n.status,notes:n.notes||""}),c([...n.medications]))},[e,n]);const u=v=>{o(x=>({...x,[v.target.id]:v.target.value}))},d=(v,x)=>{o(y=>({...y,[v]:x}))},h=(v,x,y)=>{const j=[...l];j[v]={...j[v],[x]:x==="quantity"||x==="refills"||x==="cost"?Number(y):y},c(j)},f=()=>{const v=Math.max(...l.map(x=>x.id),0)+1;c([...l,{id:v,name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,unit:"comprimés",refills:0,cost:0}])},m=v=>{l.length>1&&c(l.filter((x,y)=>y!==v))},g=v=>{if(v.preventDefault(),!n)return;const x=l.filter(y=>y.name.trim()!=="");if(x.length===0){a({title:"Erreur",description:"Au moins un médicament doit être spécifié.",variant:"destructive"});return}r(n.id,{date:i.date,prescribedBy:i.prescribedBy,diagnosis:i.diagnosis,medications:x,instructions:i.instructions,duration:i.duration,followUpDate:i.followUpDate||void 0,status:i.status,notes:i.notes}),a({title:"Prescription mise à jour",description:"La prescription a été modifiée avec succès."}),t(!1)},p=()=>l.reduce((v,x)=>v+(x.cost||0),0);return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(Qi,{className:"h-5 w-5"}),"Modifier la Prescription"]}),s.jsxs(Rt,{children:["Modifiez la prescription pour ",n.petName," (",n.clientName,")."]})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"date",children:"Date de prescription *"}),s.jsx(Y,{id:"date",type:"date",value:i.date,onChange:u,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"prescribedBy",children:"Prescrit par *"}),s.jsx(Y,{id:"prescribedBy",value:i.prescribedBy,onChange:u,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"diagnosis",children:"Diagnostic *"}),s.jsx(Y,{id:"diagnosis",value:i.diagnosis,onChange:u,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"duration",children:"Durée du traitement"}),s.jsx(Y,{id:"duration",value:i.duration,onChange:u})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"followUpDate",children:"Date de suivi"}),s.jsx(Y,{id:"followUpDate",type:"date",value:i.followUpDate,onChange:u,min:i.date})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Statut"}),s.jsxs(be,{value:i.status,onValueChange:v=>d("status",v),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"active",children:"Active"}),s.jsx(L,{value:"completed",children:"Terminée"}),s.jsx(L,{value:"discontinued",children:"Arrêtée"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(D,{className:"text-base font-medium",children:"Médicaments prescrits"}),s.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:f,className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Ajouter médicament"]})]}),s.jsx("div",{className:"space-y-4",children:l.map((v,x)=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Médicament ",x+1]}),l.length>1&&s.jsx(B,{type:"button",variant:"outline",size:"sm",onClick:()=>m(x),className:"text-red-600 hover:text-red-700",children:s.jsx(Un,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Nom du médicament *"}),s.jsx(Y,{value:v.name,onChange:y=>h(x,"name",y.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Dosage *"}),s.jsx(Y,{value:v.dosage,onChange:y=>h(x,"dosage",y.target.value),required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Fréquence *"}),s.jsx(Y,{value:v.frequency,onChange:y=>h(x,"frequency",y.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Durée"}),s.jsx(Y,{value:v.duration,onChange:y=>h(x,"duration",y.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Quantité"}),s.jsx(Y,{type:"number",value:v.quantity,onChange:y=>h(x,"quantity",parseInt(y.target.value)),min:"1"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Unité"}),s.jsxs(be,{value:v.unit,onValueChange:y=>h(x,"unit",y),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"comprimés",children:"Comprimés"}),s.jsx(L,{value:"ml",children:"ml"}),s.jsx(L,{value:"g",children:"g"}),s.jsx(L,{value:"mg",children:"mg"}),s.jsx(L,{value:"ampoules",children:"Ampoules"}),s.jsx(L,{value:"flacons",children:"Flacons"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Coût (€)"}),s.jsx(Y,{type:"number",step:"0.01",value:v.cost,onChange:y=>h(x,"cost",parseFloat(y.target.value)),min:"0"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Instructions spécifiques"}),s.jsx(Y,{value:v.instructions,onChange:y=>h(x,"instructions",y.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Renouvellements"}),s.jsx(Y,{type:"number",value:v.refills,onChange:y=>h(x,"refills",parseInt(y.target.value)),min:"0"})]})]})]},v.id))}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(Pe,{variant:"outline",className:"text-lg px-4 py-2",children:["Coût total: ",p().toFixed(2),"€"]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"instructions",children:"Instructions générales"}),s.jsx(Ue,{id:"instructions",value:i.instructions,onChange:u,rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(Ue,{id:"notes",value:i.notes,onChange:u,rows:2})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsxs(B,{type:"submit",className:"gap-2",children:[s.jsx(Ih,{className:"h-4 w-4"}),"Sauvegarder"]})]})]})]})}):null}const F_e="vetpro-veterinarians";function qN({prescription:e}){const{settings:t}=_t();JSON.parse(localStorage.getItem(F_e)||"[]");const n=e.prescribedBy,r=()=>{if(!e||!e.petName||!e.clientName)return;const a=window.open("","_blank");if(!a)return;const i=`
      <html>
        <head>
          <title>Prescription - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-info {
              margin-bottom: 30px;
            }
            .patient-info {
              margin-bottom: 30px;
            }
            .prescription-details {
              margin-bottom: 30px;
            }
            .medications {
              margin-bottom: 30px;
            }
            .medication-item {
              border: 1px solid #ccc;
              padding: 15px;
              margin-bottom: 15px;
              border-radius: 5px;
            }
            .instructions {
              margin-bottom: 30px;
            }
            .footer {
              margin-top: 50px;
              text-align: center;
            }
            .signature-line {
              border-top: 1px solid #333;
              width: 200px;
              margin: 20px auto;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 20px;
            }
            th, td {
              border: 1px solid #ddd;
              padding: 8px;
              text-align: left;
            }
            th {
              background-color: #f2f2f2;
            }
            .total-cost {
              font-weight: bold;
              text-align: right;
              margin-top: 20px;
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${t.logo?`<img src="${t.logo}" alt="Logo clinique" style="height:60px;margin-bottom:10px;"/>`:""}
            <h1>PRESCRIPTION MÉDICALE</h1>
            <h2>${t.clinicName}</h2>
            <p>${t.address}<br>
            Tél: ${t.phone} | Email: ${t.email}</p>
          </div>

          <div class="clinic-info">
            <strong>Date de prescription:</strong> ${new Date(e.date).toLocaleDateString("fr-FR")}<br>
            <strong>Prescrit par:</strong> ${n}
          </div>

          <div class="patient-info">
            <h3>Informations du patient</h3>
            <table>
              <tr>
                <th>Propriétaire</th>
                <td>${e.clientName}</td>
              </tr>
              <tr>
                <th>Animal</th>
                <td>${e.petName}</td>
              </tr>
              <tr>
                <th>Diagnostic</th>
                <td>${e.diagnosis}</td>
              </tr>
              <tr>
                <th>Durée du traitement</th>
                <td>${e.duration}</td>
              </tr>
            </table>
          </div>

          <div class="medications">
            <h3>Médicaments prescrits</h3>
            ${e.medications.map(o=>`
              <div class="medication-item">
                <h4>${o.name}</h4>
                <table>
                  <tr>
                    <th>Posologie</th>
                    <td>${o.dosage} - ${o.frequency}</td>
                  </tr>
                  <tr>
                    <th>Durée</th>
                    <td>${o.duration}</td>
                  </tr>
                  <tr>
                    <th>Quantité</th>
                    <td>${o.quantity} ${o.unit}</td>
                  </tr>
                  ${o.refills&&o.refills>0?`
                    <tr>
                      <th>Renouvellements</th>
                      <td>${o.refills}</td>
                    </tr>
                  `:""}
                  ${o.instructions?`
                    <tr>
                      <th>Instructions</th>
                      <td>${o.instructions}</td>
                    </tr>
                  `:""}
                  ${o.cost?`
                    <tr>
                      <th>Coût</th>
                      <td>${o.cost.toFixed(2)}€</td>
                    </tr>
                  `:""}
                </table>
              </div>
            `).join("")}
            
            <div class="total-cost">
              Coût total: ${e.medications.reduce((o,l)=>o+(l.cost||0),0).toFixed(2)}€
            </div>
          </div>

          ${e.instructions?`
            <div class="instructions">
              <h3>Instructions générales</h3>
              <p>${e.instructions}</p>
            </div>
          `:""}

          ${e.followUpDate?`
            <div class="instructions">
              <h3>Suivi</h3>
              <p><strong>Date de suivi prévue:</strong> ${new Date(e.followUpDate).toLocaleDateString("fr-FR")}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="instructions">
              <h3>Notes</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="signature-line"></div>
            <p>Signature du vétérinaire</p>
            <p><small>Cette prescription est valable pour la durée du traitement prescrit.</small></p>
          </div>
        </body>
      </html>
    `;a.document.write(i),a.document.close(),setTimeout(()=>{a.print(),a.close()},500)};return s.jsxs(B,{size:"sm",variant:"outline",onClick:r,className:"gap-2",children:[s.jsx(Au,{className:"h-4 w-4"}),"Générer Ordonnance"]})}const B_e={active:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",discontinued:"bg-red-100 text-red-800"},z_e={active:"Active",completed:"Terminée",discontinued:"Arrêtée"};function V6({petId:e,consultationId:t}){const{data:n=[]}=Ux(),{data:r=[]}=jZ(e),{toast:a}=at(),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(null),h=t?n.filter(x=>x.consultation_id===t):r,f=x=>{d(x),c(!0)},m=x=>{var y;confirm(`Êtes-vous sûr de vouloir supprimer la prescription pour ${((y=x.medications)==null?void 0:y.map(j=>j.medication_name).join(", "))||"médicaments"} ?`)&&a({title:"Fonctionnalité à implémenter",description:"La suppression de prescription n'est pas encore implémentée."})},g=x=>{switch(x){case"active":return s.jsx(zn,{className:"h-4 w-4 text-green-600"});case"completed":return s.jsx(On,{className:"h-4 w-4 text-gray-600"});case"discontinued":return s.jsx(uf,{className:"h-4 w-4 text-red-600"});default:return s.jsx(Jt,{className:"h-4 w-4 text-gray-600"})}},p=x=>{var y,j,w,N;return{id:x.id,consultationId:x.consultation_id,clientId:x.client_id,clientName:`${((y=x.client)==null?void 0:y.first_name)||""} ${((j=x.client)==null?void 0:j.last_name)||""}`.trim(),petId:x.animal_id,petName:((w=x.animal)==null?void 0:w.name)||"",date:x.prescription_date,prescribedBy:"Non spécifié",diagnosis:x.diagnosis||"",medications:((N=x.medications)==null?void 0:N.map(C=>({id:C.id,name:C.medication_name,dosage:C.dosage||"",frequency:C.frequency||"",duration:C.duration||"",instructions:C.instructions||"",quantity:C.quantity||1,unit:"unit",cost:0})))||[],instructions:x.notes||"",duration:x.valid_until||"",followUpDate:void 0,status:x.status||"active",notes:x.notes||"",createdAt:x.created_at}},v=x=>(x==null?void 0:x.reduce((y,j)=>y+(j.cost||0),0))||0;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Qi,{className:"h-5 w-5"}),"Prescriptions (",h.length,")"]}),s.jsxs(B,{size:"sm",onClick:()=>o(!0),disabled:!t,className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle Prescription"]})]}),h.length===0?s.jsx(Z,{children:s.jsxs(te,{className:"p-6 text-center text-muted-foreground",children:[s.jsx(Qi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune prescription trouvée"}),s.jsx("p",{className:"text-sm",children:"Commencez par créer une nouvelle prescription"})]})}):s.jsx("div",{className:"space-y-4",children:h.sort((x,y)=>new Date(y.prescription_date||y.date).getTime()-new Date(x.prescription_date||x.date).getTime()).map(x=>{var y;return s.jsxs(Z,{className:"card-hover",children:[s.jsx(ue,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[g(x.status),s.jsx(Pe,{className:B_e[x.status],children:z_e[x.status]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx(He,{className:"h-4 w-4 inline mr-1"}),new Date(x.prescription_date||x.date).toLocaleDateString("fr-FR")]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(qN,{prescription:p(x)}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>f(x),className:"h-8 w-8 p-0",title:"Modifier",children:s.jsx(Mt,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>m(x),className:"h-8 w-8 p-0 text-red-600",title:"Supprimer",children:s.jsx(Un,{className:"h-3 w-3"})})]})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Prescrit par:"}),s.jsx("p",{className:"text-muted-foreground",children:"Non spécifié"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Diagnostic:"}),s.jsx("p",{className:"text-muted-foreground",children:x.diagnosis})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Durée:"}),s.jsx("p",{className:"text-muted-foreground",children:x.valid_until?new Date(x.valid_until).toLocaleDateString("fr-FR"):"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Coût total:"}),s.jsxs("p",{className:"text-muted-foreground",children:[v(x.medications).toFixed(2),"€"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Médicaments prescrits:"}),s.jsx("div",{className:"space-y-3",children:(y=x.medications)==null?void 0:y.map(j=>s.jsx("div",{className:"p-3 border rounded-lg bg-muted/30",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium",children:j.medication_name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Posologie:"})," ",j.dosage," - ",j.frequency]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Durée:"})," ",j.duration]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Quantité:"})," ",j.quantity]}),j.instructions&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Instructions:"})," ",j.instructions]})]}),j.cost&&s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"font-medium",children:[j.cost.toFixed(2),"€"]})})]})},j.id))})]}),x.instructions&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Instructions générales:"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x.instructions})]}),x.followUpDate&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Suivi prévu:"}),s.jsx("span",{className:"text-muted-foreground",children:new Date(x.followUpDate).toLocaleDateString("fr-FR")})]}),x.notes&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Notes:"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x.notes})]})]})]},x.id)})})]}),t&&s.jsx(Z2,{open:i,onOpenChange:o,petId:e.toString(),consultationId:t.toString()}),s.jsx(L_e,{open:l,onOpenChange:c,prescription:u})]})}const V_e={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},q_e=(e,t,n)=>{let r;const a=V_e[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},U_e={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},W_e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},H_e={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},K_e={date:nu({formats:U_e,defaultWidth:"full"}),time:nu({formats:W_e,defaultWidth:"full"}),dateTime:nu({formats:H_e,defaultWidth:"full"})},G_e={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},Y_e=(e,t,n,r)=>G_e[e],Q_e={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},X_e={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},J_e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},Z_e={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},ePe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},tPe=(e,t)=>{const n=Number(e),r=t==null?void 0:t.unit;if(n===0)return"0";const a=["year","week","hour","minute","second"];let i;return n===1?i=r&&a.includes(r)?"ère":"er":i="ème",n+i},nPe=["MMM","MMMM"],rPe={preprocessor:(e,t)=>e.getDate()===1||!t.some(r=>r.isToken&&nPe.includes(r.value))?t:t.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:tPe,era:Sa({values:Q_e,defaultWidth:"wide"}),quarter:Sa({values:X_e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Sa({values:J_e,defaultWidth:"wide"}),day:Sa({values:Z_e,defaultWidth:"wide"}),dayPeriod:Sa({values:ePe,defaultWidth:"wide"})},sPe=/^(\d+)(ième|ère|ème|er|e)?/i,aPe=/\d+/i,iPe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},oPe={any:[/^av/i,/^ap/i]},lPe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},cPe={any:[/1/i,/2/i,/3/i,/4/i]},uPe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},dPe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},hPe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},fPe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},mPe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},pPe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},gPe={ordinalNumber:Y3({matchPattern:sPe,parsePattern:aPe,valueCallback:e=>parseInt(e)}),era:Ca({matchPatterns:iPe,defaultMatchWidth:"wide",parsePatterns:oPe,defaultParseWidth:"any"}),quarter:Ca({matchPatterns:lPe,defaultMatchWidth:"wide",parsePatterns:cPe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ca({matchPatterns:uPe,defaultMatchWidth:"wide",parsePatterns:dPe,defaultParseWidth:"any"}),day:Ca({matchPatterns:hPe,defaultMatchWidth:"wide",parsePatterns:fPe,defaultParseWidth:"any"}),dayPeriod:Ca({matchPatterns:mPe,defaultMatchWidth:"any",parsePatterns:pPe,defaultParseWidth:"any"})},In={code:"fr",formatDistance:q_e,formatLong:K_e,formatRelative:Y_e,localize:rPe,match:gPe,options:{weekStartsOn:1,firstWeekContainsDate:4}};function q6({animalId:e}){const{settings:t}=_t(),{data:n}=dr(),{data:r}=ur(),{data:a}=_d(),i=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),o=n==null?void 0:n.find(h=>h.id===e),l=o?r==null?void 0:r.find(h=>h.id===o.client_id):null,c=(a==null?void 0:a.filter(h=>h.animal_id===e))||[],u=h=>{const f=new Date(h),m=new Date;if(isNaN(f.getTime()))return"N/A";let g=m.getFullYear()-f.getFullYear(),p=m.getMonth()-f.getMonth(),v=m.getDate()-f.getDate();if(v<0){p--;const j=new Date(m.getFullYear(),m.getMonth(),0);v+=j.getDate()}p<0&&(g--,p+=12);const x=Math.floor(v/7),y=[];return g>0&&y.push(`${g} an${g>1?"s":""}`),p>0&&y.push(`${p} mois`),x>0&&y.push(`${x} semain${x>1?"es":""}`),y.join(", ")||"0 jour"},d=()=>{if(!o||!l){alert("Données animal ou client manquantes");return}try{const h=window.open("",`vaccination_certificate_${o.id}`,"height=800,width=800");if(!h){alert("L'impression a été bloquée par le navigateur. Veuillez autoriser les popups pour ce site.");return}const f=`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Certificat de Vaccination - ${o.name}</title>
            <style>
              body {
                font-family: Arial, sans-serif;
                margin: 20px;
                line-height: 1.6;
                color: #333;
              }
              .header {
                text-align: center;
                border-bottom: 3px solid #2c5530;
                padding-bottom: 20px;
                margin-bottom: 30px;
              }
              .header h1 {
                color: #2c5530;
                font-size: 32px;
                margin: 10px 0;
                font-weight: bold;
              }
              .clinic-info {
                margin-bottom: 30px;
                padding: 15px;
                background-color: #f8f9fa;
                border-radius: 8px;
              }
              .clinic-info img {
                height: 60px;
                margin-bottom: 10px;
              }
              .clinic-info h2 {
                color: #2c5530;
                margin: 10px 0;
              }
              .qr-section {
                float: right;
                margin-left: 20px;
              }
              .animal-info {
                clear: both;
                margin-bottom: 30px;
                padding: 20px;
                border: 2px solid #2c5530;
                border-radius: 8px;
              }
              .animal-info h2 {
                color: #2c5530;
                border-bottom: 2px solid #2c5530;
                padding-bottom: 10px;
                margin-bottom: 15px;
                font-size: 24px;
              }
              .animal-photo {
                text-align: center;
                margin-bottom: 20px;
              }
              .animal-photo img {
                width: 120px;
                height: 120px;
                object-fit: cover;
                border-radius: 50%;
                border: 3px solid #2c5530;
              }
              .info-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 15px;
                margin-bottom: 20px;
              }
              .info-item {
                display: flex;
                align-items: center;
              }
              .info-label {
                font-weight: bold;
                min-width: 120px;
                color: #2c5530;
              }
              .info-value {
                color: #666;
              }
              .vaccinations-section {
                margin-bottom: 30px;
              }
              .vaccinations-section h2 {
                color: #2c5530;
                border-bottom: 2px solid #2c5530;
                padding-bottom: 10px;
                margin-bottom: 20px;
                font-size: 24px;
              }
              .vaccination-card {
                border: 1px solid #ddd;
                border-radius: 8px;
                margin-bottom: 15px;
                padding: 15px;
                background-color: #fdfdfd;
              }
              .vaccination-card h3 {
                color: #2c5530;
                margin: 0 0 10px 0;
                font-size: 18px;
              }
              .vaccination-details {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 15px;
              }
              .vaccination-item {
                display: flex;
                align-items: center;
              }
              .vaccination-label {
                font-weight: bold;
                min-width: 140px;
                color: #555;
              }
              .vaccination-value {
                color: #666;
              }
              .vets-info {
                margin-bottom: 30px;
                padding: 15px;
                background-color: #f8f9fa;
                border-radius: 8px;
              }
              .vets-info h2 {
                color: #2c5530;
                margin-bottom: 15px;
              }
              .vet-item {
                margin-bottom: 8px;
                color: #666;
              }
              .footer {
                text-align: center;
                margin-top: 40px;
                padding-top: 20px;
                border-top: 1px solid #ddd;
                color: #888;
                font-size: 12px;
              }
              .no-vaccinations {
                text-align: center;
                color: #666;
                font-style: italic;
                padding: 40px;
                border: 2px dashed #ddd;
                border-radius: 8px;
              }
              
              @media print {
                body { margin: 0; }
                .no-print { display: none; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              ${t.logo?`<img src="${t.logo}" alt="Logo clinique" />`:""}
              <h1>CERTIFICAT DE VACCINATION</h1>
              <div class="qr-section">
                <canvas id="qrcode" width="100" height="100"></canvas>
              </div>
            </div>

            ${t.showClinicInfo?`
            <div class="clinic-info">
              <h2>${t.clinicName||"Clinique Vétérinaire"}</h2>
              <p><strong>Adresse:</strong> ${t.address||"N/A"}</p>
              <p><strong>Téléphone:</strong> ${t.phone||"N/A"} | <strong>Email:</strong> ${t.email||"N/A"}</p>
              ${t.website?`<p><strong>Site web:</strong> ${t.website}</p>`:""}
            </div>
            `:""}

            ${t.showVetsInfo&&i.length>0?`
            <div class="vets-info">
              <h2>Équipe Vétérinaire</h2>
              ${i.map(m=>`
                <div class="vet-item">
                  <strong>${m.title||"Dr."} ${m.name}</strong>
                  ${m.specialty?` - ${m.specialty}`:""}
                </div>
              `).join("")}
            </div>
            `:""}

            <div class="animal-info">
              <h2>Informations de l'Animal</h2>
              
              ${o.photo_url?`
              <div class="animal-photo">
                <img src="${o.photo_url}" alt="Photo de ${o.name}" />
              </div>
              `:""}

              <div class="info-grid">
                <div class="info-item">
                  <span class="info-label">Nom:</span>
                  <span class="info-value">${o.name}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Espèce:</span>
                  <span class="info-value">${o.species}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Race:</span>
                  <span class="info-value">${o.breed||"N/A"}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Âge:</span>
                  <span class="info-value">${o.birth_date?u(o.birth_date):"N/A"}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Sexe:</span>
                  <span class="info-value">${o.sex||"N/A"}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Poids:</span>
                  <span class="info-value">${o.weight?o.weight+" kg":"N/A"}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Propriétaire:</span>
                  <span class="info-value">${l.first_name} ${l.last_name}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Contact:</span>
                  <span class="info-value">${l.phone||l.email||"N/A"}</span>
                </div>
              </div>
            </div>

            <div class="vaccinations-section">
              <h2>Historique des Vaccinations</h2>
              
              ${c.length>0?c.map(m=>`
                  <div class="vaccination-card">
                    <h3>${m.vaccine_name}</h3>
                    <div class="vaccination-details">
                      <div class="vaccination-item">
                        <span class="vaccination-label">Date d'administration:</span>
                        <span class="vaccination-value">
                          ${m.vaccination_date?Xe(new Date(m.vaccination_date),"dd/MM/yyyy",{locale:In}):"N/A"}
                        </span>
                      </div>
                      <div class="vaccination-item">
                        <span class="vaccination-label">Prochaine échéance:</span>
                        <span class="vaccination-value">
                          ${m.next_due_date?Xe(new Date(m.next_due_date),"dd/MM/yyyy",{locale:In}):"N/A"}
                        </span>
                      </div>
                      <div class="vaccination-item">
                        <span class="vaccination-label">Type de vaccin:</span>
                        <span class="vaccination-value">${m.vaccine_type||"N/A"}</span>
                      </div>
                      <div class="vaccination-item">
                        <span class="vaccination-label">Fabricant:</span>
                        <span class="vaccination-value">${m.manufacturer||"N/A"}</span>
                      </div>
                      <div class="vaccination-item">
                        <span class="vaccination-label">Numéro de lot:</span>
                        <span class="vaccination-value">${m.batch_number||"N/A"}</span>
                      </div>
                  
                    </div>
                    ${m.notes?`
                      <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #eee;">
                        <strong>Notes:</strong> ${m.notes}
                      </div>
                    `:""}
                  </div>
                `).join(""):`<div class="no-vaccinations">
                  <p>Aucune vaccination enregistrée pour cet animal</p>
                </div>`}
            </div>

            <div class="footer">
              <p>Certificat généré le ${Xe(new Date,"dd/MM/yyyy à HH:mm",{locale:In})}</p>
              <p>VetPro - Système de Gestion Vétérinaire</p>
            </div>

            <script>
              // Generate QR Code (simple implementation)
              function generateQRCode() {
                const canvas = document.getElementById('qrcode');
                if (canvas) {
                  const ctx = canvas.getContext('2d');
                  ctx.fillStyle = '#000';
                  ctx.fillRect(0, 0, 100, 100);
                  ctx.fillStyle = '#fff';
                  ctx.font = '12px Arial';
                  ctx.textAlign = 'center';
                  ctx.fillText('QR', 50, 45);
                  ctx.fillText('CODE', 50, 60);
                }
              }
              
              window.onload = function() {
                generateQRCode();
                setTimeout(function() {
                  window.print();
                }, 500);
              };
            <\/script>
          </body>
        </html>
      `;h.document.open(),h.document.write(f),h.document.close(),h.onload=function(){setTimeout(()=>{h.focus(),h.print()},500)}}catch(h){console.error("Erreur lors de l'impression:",h),alert("Une erreur est survenue lors de l'impression du certificat.")}};return!o||!l?s.jsxs(B,{variant:"outline",disabled:!0,children:[s.jsx(Au,{className:"h-4 w-4 mr-2"}),"Certificat de vaccination"]}):s.jsxs(B,{variant:"outline",onClick:d,children:[s.jsx(Au,{className:"h-4 w-4 mr-2"}),"Certificat de vaccination"]})}function UN({children:e,selectedAnimalId:t,open:n,onOpenChange:r}){const{data:a=[]}=dr(),{data:i=[]}=ur(),o=oZ(),{toast:l}=at(),[c,u]=b.useState(!1),d=n!==void 0?n:c,h=r||u,[f,m]=b.useState({animalId:t||"",vaccineName:"",vaccineType:"",manufacturer:"",batchNumber:"",vaccinationDate:Xe(new Date,"yyyy-MM-dd"),nextDueDate:"",administeredBy:"",notes:""}),g=async x=>{var w,N,C,S;if(x.preventDefault(),!f.animalId||!f.vaccineName||!f.vaccinationDate){l({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(f.animalId)){l({title:"Erreur",description:"ID d'animal invalide",variant:"destructive"});return}const j={animal_id:f.animalId,vaccine_name:f.vaccineName.trim(),vaccine_type:f.vaccineType||void 0,manufacturer:((w=f.manufacturer)==null?void 0:w.trim())||void 0,batch_number:((N=f.batchNumber)==null?void 0:N.trim())||void 0,vaccination_date:f.vaccinationDate,next_due_date:f.nextDueDate||void 0,administered_by:((C=f.administeredBy)==null?void 0:C.trim())||void 0,notes:((S=f.notes)==null?void 0:S.trim())||void 0};try{await o.mutateAsync(j),l({title:"Vaccination ajoutée",description:`La vaccination ${f.vaccineName} a été ajoutée avec succès`}),m({animalId:t||"",vaccineName:"",vaccineType:"",manufacturer:"",batchNumber:"",vaccinationDate:Xe(new Date,"yyyy-MM-dd"),nextDueDate:"",administeredBy:"",notes:""}),h(!1)}catch{l({title:"Erreur",description:"Impossible d'ajouter la vaccination",variant:"destructive"})}},p=a.find(x=>x.id===f.animalId),v=p?i.find(x=>x.id===p.client_id):null;return s.jsxs(Ze,{open:d,onOpenChange:h,children:[s.jsx(Fx,{asChild:!0,children:e||s.jsxs(B,{className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle Vaccination"]})}),s.jsxs(Ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(Lr,{className:"h-5 w-5"}),"Nouvelle Vaccination"]})}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"animal",children:"Animal *"}),s.jsxs(be,{value:f.animalId,onValueChange:x=>m({...f,animalId:x}),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionnez un animal"})}),s.jsx(ye,{children:a.map(x=>{const y=i.find(j=>j.id===x.client_id);return s.jsxs(L,{value:x.id,children:[x.name," - ",x.species," (",y?`${y.first_name} ${y.last_name}`:"Client inconnu",")"]},x.id)})})]}),p&&v&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Propriétaire: ",v.first_name," ",v.last_name]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"vaccineName",children:"Nom du vaccin *"}),s.jsx(Y,{id:"vaccineName",value:f.vaccineName,onChange:x=>m({...f,vaccineName:x.target.value}),placeholder:"ex: DHPP, Rage, FVRCP...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"vaccineType",children:"Type de vaccin"}),s.jsxs(be,{value:f.vaccineType,onValueChange:x=>m({...f,vaccineType:x}),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionnez le type"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"core",children:"Essentiel"}),s.jsx(L,{value:"non-core",children:"Optionnel"}),s.jsx(L,{value:"rabies",children:"Rage"}),s.jsx(L,{value:"custom",children:"Personnalisé"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"manufacturer",children:"Fabricant"}),s.jsx(Y,{id:"manufacturer",value:f.manufacturer,onChange:x=>m({...f,manufacturer:x.target.value}),placeholder:"ex: Zoetis, Virbac, Merial..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"batchNumber",children:"Numéro de lot"}),s.jsx(Y,{id:"batchNumber",value:f.batchNumber,onChange:x=>m({...f,batchNumber:x.target.value}),placeholder:"Numéro de lot du vaccin"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"vaccinationDate",children:"Date de vaccination *"}),s.jsx(Y,{id:"vaccinationDate",type:"date",value:f.vaccinationDate,onChange:x=>m({...f,vaccinationDate:x.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"nextDueDate",children:"Prochain rappel"}),s.jsx(Y,{id:"nextDueDate",type:"date",value:f.nextDueDate,onChange:x=>m({...f,nextDueDate:x.target.value}),min:f.vaccinationDate})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(Ue,{id:"notes",value:f.notes,onChange:x=>m({...f,notes:x.target.value}),placeholder:"Notes complémentaires...",rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Annuler"}),s.jsx(B,{type:"submit",disabled:o.isPending,children:o.isPending?"Ajout...":"Ajouter la vaccination"})]})]})]})]})}function WN({open:e,onOpenChange:t,selectedAnimalId:n,selectedClientId:r,editingAntiparasitic:a}){const{data:i}=dr(),{data:o}=ur(),l=fZ(),{toast:c}=at(),[u,d]=b.useState({clientId:r||"",animalId:n||"",productName:"",activeIngredient:"",parasiteType:"",administrationRoute:"",dosage:"",treatmentDate:Xe(new Date,"yyyy-MM-dd"),nextTreatmentDate:"",administeredBy:"",effectivenessRating:"none",notes:""}),[h,f]=b.useState(null),{data:m}=gZ(h==null?void 0:h.species);b.useEffect(()=>{r&&d(j=>({...j,clientId:r,animalId:""})),n&&d(j=>({...j,animalId:n}))},[r,n]),b.useEffect(()=>{if(u.animalId&&i){const j=i.find(w=>w.id===u.animalId);f(j),j&&d(w=>({...w,clientId:j.client_id}))}},[u.animalId,i]),b.useEffect(()=>{var j,w;a&&d({clientId:((j=a.animal)==null?void 0:j.client_id)||"",animalId:a.animal_id,productName:a.product_name,activeIngredient:a.active_ingredient||"",parasiteType:a.parasite_type||"",administrationRoute:a.administration_route||"",dosage:a.dosage||"",treatmentDate:a.treatment_date,nextTreatmentDate:a.next_treatment_date||"",administeredBy:a.administered_by||"",effectivenessRating:((w=a.effectiveness_rating)==null?void 0:w.toString())||"none",notes:a.notes||""})},[a]);const g=(j,w)=>{d(N=>({...N,[j]:w}))},p=j=>{d(w=>({...w,productName:j.product_name,activeIngredient:j.active_ingredient||"",parasiteType:j.parasite_type,administrationRoute:j.administration_route||"",dosage:j.dosage_recommendation||"",nextTreatmentDate:j.frequency_days?Xe(qS(new Date(w.treatmentDate),j.frequency_days),"yyyy-MM-dd"):""})),c({title:"Protocole appliqué",description:`Le protocole ${j.product_name} a été appliqué.`})},v=()=>{d({clientId:r||"",animalId:n||"",productName:"",activeIngredient:"",parasiteType:"",administrationRoute:"",dosage:"",treatmentDate:Xe(new Date,"yyyy-MM-dd"),nextTreatmentDate:"",administeredBy:"",effectivenessRating:"none",notes:""})},x=async j=>{if(j.preventDefault(),!u.animalId||!u.productName||!u.treatmentDate){c({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}try{const w={animal_id:u.animalId,product_name:u.productName,active_ingredient:u.activeIngredient||void 0,parasite_type:u.parasiteType||void 0,administration_route:u.administrationRoute||void 0,dosage:u.dosage||void 0,treatment_date:u.treatmentDate,next_treatment_date:u.nextTreatmentDate||void 0,administered_by:u.administeredBy||void 0,effectiveness_rating:u.effectivenessRating&&u.effectivenessRating!=="none"?parseInt(u.effectivenessRating):void 0,notes:u.notes||void 0};await l.mutateAsync(w),c({title:"Succès",description:"Le traitement antiparasitaire a été enregistré avec succès."}),v(),t(!1)}catch(w){console.error("Erreur lors de la création du traitement antiparasitaire:",w),c({title:"Erreur",description:"Une erreur s'est produite lors de l'enregistrement.",variant:"destructive"})}},y=(i==null?void 0:i.filter(j=>u.clientId?j.client_id===u.clientId:!0))||[];return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(Oa,{className:"h-5 w-5"}),a?"Modifier le traitement":"Nouveau traitement antiparasitaire"]})}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"clientId",children:"Client *"}),s.jsxs(be,{value:u.clientId,onValueChange:j=>g("clientId",j),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner un client"})}),s.jsx(ye,{children:o==null?void 0:o.map(j=>s.jsxs(L,{value:j.id,children:[j.first_name," ",j.last_name]},j.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"animalId",children:"Animal *"}),s.jsxs(be,{value:u.animalId,onValueChange:j=>g("animalId",j),disabled:!u.clientId,children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner un animal"})}),s.jsx(ye,{children:y.map(j=>s.jsxs(L,{value:j.id,children:[j.name," (",j.species,")"]},j.id))})]})]})]}),h&&s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-sm",children:"Animal sélectionné"})}),s.jsx(te,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Nom:"})," ",h.name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Espèce:"})," ",h.species]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Race:"})," ",h.breed||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Poids:"})," ",h.weight?`${h.weight} kg`:"N/A"]})]})})]}),m&&m.length>0&&s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"text-sm",children:["Protocoles recommandés pour ",h==null?void 0:h.species]})}),s.jsx(te,{children:s.jsx("div",{className:"grid gap-2",children:m.map(j=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:j.product_name}),s.jsxs("div",{className:"text-sm text-gray-600",children:[j.parasite_type," - ",j.active_ingredient]})]}),s.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>p(j),children:[s.jsx(nt,{className:"h-4 w-4 mr-1"}),"Appliquer"]})]},j.id))})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"productName",children:"Nom du produit *"}),s.jsx(Y,{id:"productName",value:u.productName,onChange:j=>g("productName",j.target.value),placeholder:"Ex: Frontline, Bravecto...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"activeIngredient",children:"Principe actif"}),s.jsx(Y,{id:"activeIngredient",value:u.activeIngredient,onChange:j=>g("activeIngredient",j.target.value),placeholder:"Ex: Fipronil, Fluralaner..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"parasiteType",children:"Type de parasite"}),s.jsxs(be,{value:u.parasiteType,onValueChange:j=>g("parasiteType",j),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner le type"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"puces",children:"Puces"}),s.jsx(L,{value:"tiques",children:"Tiques"}),s.jsx(L,{value:"vers_intestinaux",children:"Vers intestinaux"}),s.jsx(L,{value:"vers_cardiaques",children:"Vers cardiaques"}),s.jsx(L,{value:"acariens",children:"Acariens"}),s.jsx(L,{value:"poux",children:"Poux"}),s.jsx(L,{value:"multi_parasites",children:"Multi-parasites"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"administrationRoute",children:"Voie d'administration"}),s.jsxs(be,{value:u.administrationRoute,onValueChange:j=>g("administrationRoute",j),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner la voie"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"spot_on",children:"Spot-on (pipette)"}),s.jsx(L,{value:"oral",children:"Orale (comprimé/liquide)"}),s.jsx(L,{value:"injection",children:"Injection"}),s.jsx(L,{value:"spray",children:"Spray"}),s.jsx(L,{value:"collier",children:"Collier"}),s.jsx(L,{value:"shampoing",children:"Shampoing"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"dosage",children:"Dosage"}),s.jsx(Y,{id:"dosage",value:u.dosage,onChange:j=>g("dosage",j.target.value),placeholder:"Ex: 1 pipette, 1 comprimé..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"treatmentDate",children:"Date du traitement *"}),s.jsx(Y,{id:"treatmentDate",type:"date",value:u.treatmentDate,onChange:j=>g("treatmentDate",j.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"nextTreatmentDate",children:"Prochain traitement"}),s.jsx(Y,{id:"nextTreatmentDate",type:"date",value:u.nextTreatmentDate,onChange:j=>g("nextTreatmentDate",j.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"effectivenessRating",children:"Efficacité (optionnel, 1-10)"}),s.jsxs(be,{value:u.effectivenessRating,onValueChange:j=>g("effectivenessRating",j),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Évaluer l'efficacité"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"none",children:"Non évalué"}),[...Array(10)].map((j,w)=>s.jsxs(L,{value:(w+1).toString(),children:[w+1," - ",w+1<=3?"Faible":w+1<=6?"Moyenne":w+1<=8?"Bonne":"Excellente"]},w+1))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(Ue,{id:"notes",value:u.notes,onChange:j=>g("notes",j.target.value),placeholder:"Observations, effets secondaires, etc.",rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsxs(B,{type:"submit",disabled:l.isPending,children:[l.isPending&&s.jsx(Sr,{className:"h-4 w-4 mr-2 animate-spin"}),a?"Modifier":"Enregistrer"]})]})]})]})})}function vPe({open:e,onOpenChange:t,pet:n}){const{consultations:r,clients:a,getConsultationsByPetId:i,getClientById:o,getPrescriptionsByPetId:l,getActivePrescriptions:c,getVaccinationsByPetId:u,getAntiparasiticsByPetId:d,updatePet:h,updateConsultation:f,updateVaccination:m,updateVaccinationStatuses:g}=yt(),[p,v]=b.useState(!1),[x,y]=b.useState(!1),[j,w]=b.useState(!1),[N,C]=b.useState(!1),[S,_]=b.useState("overview"),[k,E]=b.useState(!1),[P,A]=b.useState({hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),[R,$]=b.useState((n==null?void 0:n.additionalPhotos)||[]),[K,V]=b.useState({clientId:0,petId:0,type:"",reason:""}),[H,T]=b.useState(null),[I,F]=b.useState(!1),[U,J]=b.useState(null),[ae,ne]=b.useState(null),{toast:me}=at();b.useEffect(()=>{e&&g()},[e,g]);const Ne=()=>{n&&(h(n.id,{...n,...P}),Object.assign(n,P),E(!1))},le=()=>{n&&(A({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),E(!1))},re=G=>{n&&(V({clientId:n.ownerId,petId:n.id,type:"vaccination",reason:`Rappel vaccinal - ${G.vaccineName}`}),T(G),y(!0))},se=G=>{J(G),F(!0)},oe=(G,Se)=>{m(G,{status:Se}),ne(null),me({title:"Statut mis à jour",description:`Le statut de la vaccination a été changé en "${{completed:"Terminée",scheduled:"Planifiée",overdue:"En retard",missed:"Manquée"}[Se]}"`})},O=(G,Se)=>{const pe=r.find(Ms=>Ms.id===G);if(!pe||!pe.photos)return;const on=pe.photos.filter((Ms,fs)=>fs!==Se),Er={...pe,photos:on};f(G,Er)},W=async G=>{var on;const Se=(on=G.target.files)==null?void 0:on[0];if(!Se)return;const pe=new FileReader;pe.onload=()=>{const Er=pe.result,Ms=[...R,Er];$(Ms),n&&h(n.id,{...n,additionalPhotos:Ms})},pe.readAsDataURL(Se)},fe=G=>{const Se=R.filter((pe,on)=>on!==G);$(Se),n&&h(n.id,{...n,additionalPhotos:Se})};if(b.useEffect(()=>{n&&(A({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),$(n.additionalPhotos||[]))},[n]),!n)return null;const he=o(n.ownerId),Ye=i(n.id),We=u(n.id),ut=d(n.id),$e=[...Ye].sort((G,Se)=>new Date(Se.date).getTime()-new Date(G.date).getTime()),it=[...We].sort((G,Se)=>new Date(Se.dateGiven).getTime()-new Date(G.dateGiven).getTime()),ie=[...ut||[]].sort((G,Se)=>new Date(Se.dateGiven).getTime()-new Date(G.dateGiven).getTime()),Me=$e.filter(G=>G.weight||G.temperature).map(G=>({date:new Date(G.date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),weight:G.weight?parseFloat(G.weight):0,temperature:G.temperature?parseFloat(G.temperature):0})).reverse(),jt=$e.filter(G=>G.weight).map(G=>parseFloat(G.weight)),Ft=$e.filter(G=>G.temperature).map(G=>parseFloat(G.temperature)),Kn=jt[0]||0,pt=jt[1]||0,Ot=Kn-pt,Sn=Ot>0?"up":Ot<0?"down":"stable",er=Ft[0]||0,Kr=Ft.length>0?Ft.reduce((G,Se)=>G+Se,0)/Ft.length:0,vn=$e[0],Di=vn!=null&&vn.followUp?{reason:vn.followUp,estimatedDate:new Date(vn.date)}:null,Rn=[];if(vn){const G=(new Date().getTime()-new Date(vn.date).getTime())/2592e6;G>6&&Rn.push({type:"warning",title:"Contrôle de routine recommandé",message:`Dernière consultation il y a ${Math.floor(G)} mois`,action:"Planifier consultation",actionType:"consultation"})}(er>39.5||er<37.5)&&Rn.push({type:"danger",title:"Température anormale",message:`Température actuelle: ${er}°C`,action:"Contrôle urgent",actionType:"consultation"}),Ot<-2&&Rn.push({type:"warning",title:"Perte de poids",message:`Perte de ${Math.abs(Ot)}kg depuis la dernière consultation`,action:"Surveiller",actionType:"consultation"});const Ha=new Date;new Date(Ha.getTime()+7*24*60*60*1e3),We.forEach(G=>{if(G.nextDueDate){const Se=new Date(G.nextDueDate),pe=Math.ceil((Se.getTime()-Ha.getTime())/(1e3*60*60*24));pe<0?Rn.push({type:"danger",title:"Vaccination en retard",message:`${G.vaccineName} - ${Math.abs(pe)} jour(s) de retard`,action:"Planifier vaccination",actionType:"vaccination"}):pe<=7&&Rn.push({type:"warning",title:"Vaccination à prévoir",message:`${G.vaccineName} - Dans ${pe} jour(s)`,action:"Planifier vaccination",actionType:"vaccination"})}}),ut.forEach(G=>{if(G.nextDueDate){const Se=new Date(G.nextDueDate),pe=Math.ceil((Se.getTime()-Ha.getTime())/(1e3*60*60*24));pe<0?Rn.push({type:"danger",title:"Traitement antiparasitaire en retard",message:`${G.productName} - ${Math.abs(pe)} jour(s) de retard`,action:"Planifier traitement",actionType:"antiparasitic"}):pe<=7&&Rn.push({type:"warning",title:"Traitement antiparasitaire à prévoir",message:`${G.productName} - Dans ${pe} jour(s)`,action:"Planifier traitement",actionType:"antiparasitic"})}});const Ds=()=>{V({clientId:(he==null?void 0:he.id)||0,petId:n.id,type:"consultation",reason:"Nouvelle consultation"}),y(!0)},dc=G=>{let Se="consultation",pe="";switch(G){case"consultation":Se="consultation",pe="Contrôle de routine recommandé";break;case"vaccination":Se="vaccination",pe="Vaccination à effectuer";break;case"antiparasitic":Se="controle",pe="Traitement antiparasitaire à effectuer";break;default:Se="consultation",pe="Rendez-vous médical"}V({clientId:(he==null?void 0:he.id)||0,petId:n.id,type:Se,reason:pe}),y(!0)},fa=()=>{const G=window.open("","_blank");if(!G)return;const Se=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Dossier Médical - ${n.name}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
            .clinic-name { font-size: 24px; font-weight: bold; color: #2563eb; }
            .pet-info { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
            .info-section { border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
            .info-section h3 { margin: 0 0 10px 0; color: #333; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .consultation { margin: 20px 0; border: 1px solid #eee; padding: 15px; border-radius: 5px; }
            .consultation h4 { margin: 0 0 10px 0; color: #333; }
            .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0; }
            .stat-card { border: 1px solid #ddd; padding: 10px; text-align: center; border-radius: 5px; }
            .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; }
            .stat-label { font-size: 12px; color: #666; }
            @media print { body { margin: 0; } }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <h2>Dossier Médical Complet</h2>
            <p><strong>Animal:</strong> ${n.name} | <strong>Généré le:</strong> ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
          </div>

          <div class="pet-info">
            <div class="info-section">
              <h3>Informations Animal</h3>
              <p><strong>Nom:</strong> ${n.name}</p>
              <p><strong>Espèce:</strong> ${n.type}</p>
              <p><strong>Race:</strong> ${n.breed||"Non spécifiée"}</p>
              <p><strong>Sexe:</strong> ${n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Non spécifié"}</p>
              <p><strong>Âge:</strong> ${n.birthDate?ku(n.birthDate):"Non spécifié"}</p>
              <p><strong>Poids actuel:</strong> ${Kn}kg</p>
              <p><strong>Température actuelle:</strong> ${er}°C</p>
              <p><strong>Couleur:</strong> ${n.color||"Non spécifiée"}</p>
              <p><strong>Puce électronique:</strong> ${n.microchip||"Non spécifiée"}</p>
              ${n.medicalNotes?`<p><strong>Notes médicales:</strong> ${n.medicalNotes}</p>`:""}
            </div>
            <div class="info-section">
              <h3>Propriétaire</h3>
              <p><strong>Nom:</strong> ${(he==null?void 0:he.name)||"Non spécifié"}</p>
              <p><strong>Email:</strong> ${(he==null?void 0:he.email)||"Non spécifié"}</p>
              <p><strong>Téléphone:</strong> ${(he==null?void 0:he.phone)||"Non spécifié"}</p>
            </div>
          </div>

          <div class="stats">
            <div class="stat-card">
              <div class="stat-value">${$e.length}</div>
              <div class="stat-label">Consultations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${We.length}</div>
              <div class="stat-label">Vaccinations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${ut.length}</div>
              <div class="stat-label">Antiparasitaires</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${Kn}kg</div>
              <div class="stat-label">Poids actuel</div>
            </div>
          </div>

          <!-- Photo principale de l'animal -->
          ${n.photo?`
            <div style="text-align: center; margin: 20px 0;">
              <img src="${n.photo}" alt="${n.name}" style="max-width: 200px; max-height: 200px; object-fit: cover; border-radius: 8px; border: 2px solid #ddd;" />
              <p style="margin-top: 10px; font-weight: bold;">Photo de ${n.name}</p>
            </div>
          `:""}

          <!-- Historique des Consultations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Consultations (${$e.length})</h3>
            ${$e.length>0?$e.map(pe=>`
              <div style="margin: 15px 0; border: 1px solid #ddd; padding: 15px; border-radius: 5px; background: #f9f9f9;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Consultation du ${new Date(pe.date).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Poids:</strong> ${pe.weight||"Non renseigné"}</p>
                    <p><strong>Température:</strong> ${pe.temperature||"Non renseigné"}</p>
                    ${pe.symptoms?`<p><strong>Symptômes:</strong> ${pe.symptoms}</p>`:""}
                  </div>
                  <div>
                    ${pe.diagnosis?`<p><strong>Diagnostic:</strong> ${pe.diagnosis}</p>`:""}
                    ${pe.treatment?`<p><strong>Traitement:</strong> ${pe.treatment}</p>`:""}
                    ${pe.medications?`<p><strong>Médicaments:</strong> ${pe.medications}</p>`:""}
                  </div>
                </div>
                ${pe.notes?`<p><strong>Notes:</strong> ${pe.notes}</p>`:""}
                ${pe.photos&&pe.photos.length>0?`
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin: 15px 0;">
                    ${pe.photos.map((on,Er)=>`
                      <div style="text-align: center;">
                        <img src="${on}" alt="Photo consultation ${Er+1}" style="max-width: 120px; max-height: 120px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                        <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo ${Er+1}</div>
                      </div>
                    `).join("")}
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune consultation enregistrée</p>'}
          </div>

          <!-- Historique des Vaccinations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Vaccinations (${We.length})</h3>
            ${We.length>0?We.map(pe=>`
              <div style="margin: 10px 0; padding: 10px; border-left: 3px solid #4CAF50; background: #f0f8f0;">
                <h4 style="margin: 0 0 10px 0;">${pe.vaccineName} - ${new Date(pe.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <p><strong>Type:</strong> ${pe.vaccineType||"Non spécifié"}</p>
                <p><strong>Prochain rappel:</strong> ${pe.nextDueDate?new Date(pe.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                <p><strong>Vétérinaire:</strong> ${pe.veterinarian||"Non spécifié"}</p>
                ${pe.notes?`<p><strong>Notes:</strong> ${pe.notes}</p>`:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune vaccination enregistrée</p>'}
          </div>

          <!-- Historique des Antiparasitaires -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Traitements Antiparasitaires (${ut.length})</h3>
            ${ut.length>0?ut.map(pe=>`
              <div style="margin: 15px 0; padding: 15px; border-left: 4px solid #9C27B0; background: #f3e5f5; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #7B1FA2;">${pe.productName} - ${new Date(pe.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 10px 0;">
                  <div>
                    <p><strong>Type de produit:</strong> ${pe.productType||"Non spécifié"}</p>
                    <p><strong>Parasites ciblés:</strong> ${pe.targetParasites||"Non spécifié"}</p>
                    <p><strong>Voie d'administration:</strong> ${pe.administrationRoute||"Non spécifié"}</p>
                    <p><strong>Dosage:</strong> ${pe.dosage||"Non spécifié"}</p>
                  </div>
                  <div>
                <p><strong>Prochain traitement:</strong> ${pe.nextDueDate?new Date(pe.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                <p><strong>Vétérinaire:</strong> ${pe.veterinarian||"Non spécifié"}</p>
                    <p><strong>Statut:</strong> ${pe.status==="completed"?"Terminé":pe.status==="scheduled"?"Planifié":pe.status==="overdue"?"En retard":"Manqué"}</p>
                    ${pe.cost?`<p><strong>Coût:</strong> ${pe.cost} €</p>`:""}
                  </div>
                </div>
                ${pe.batchNumber?`<p><strong>Numéro de lot:</strong> ${pe.batchNumber}</p>`:""}
                ${pe.manufacturer?`<p><strong>Fabricant:</strong> ${pe.manufacturer}</p>`:""}
                ${pe.weight?`<p><strong>Poids de l'animal:</strong> ${pe.weight}</p>`:""}
                ${pe.notes?`
                  <div style="margin: 10px 0; padding: 10px; background: rgba(156, 39, 176, 0.1); border-radius: 3px;">
                    <p><strong>Notes:</strong> ${pe.notes}</p>
                  </div>
                `:""}
                ${pe.sideEffects?`
                  <div style="margin: 10px 0; padding: 10px; background: #ffebee; border: 1px solid #f44336; border-radius: 3px;">
                    <p style="color: #d32f2f;"><strong>⚠️ Effets indésirables:</strong> ${pe.sideEffects}</p>
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucun traitement antiparasitaire enregistré</p>'}
          </div>

          <!-- Section Pedigree -->
          ${n.hasPedigree?`
            <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
              <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Pedigree Officiel</h3>
              
              <!-- Informations de l'animal -->
              <div style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Informations de l'animal</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Nom officiel:</strong> ${n.officialName||"Non spécifié"}</p>
                    <p><strong>N° Pedigree/LOF:</strong> ${n.pedigreeNumber||"Non spécifié"}</p>
                    <p><strong>N° Puce/Tatouage:</strong> ${n.microchip||"Non spécifié"}</p>
                    <p><strong>Race:</strong> ${n.breed||"Non spécifiée"}</p>
                  </div>
                  <div>
                    <p><strong>Sexe:</strong> ${n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Non spécifié"}</p>
                    <p><strong>Couleur/Robe:</strong> ${n.color||"Non spécifiée"}</p>
                    <p><strong>Date de naissance:</strong> ${n.birthDate?new Date(n.birthDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                    <p><strong>Éleveur:</strong> ${n.breeder||"Non spécifié"}</p>
                  </div>
                </div>
              </div>

              <!-- Parents -->
              <div style="margin: 20px 0;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Ascendance</h4>
                
                <!-- Père -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #007bff; background: #f0f8ff;">
                  <h5 style="margin: 0 0 8px 0; color: #007bff;">Père</h5>
                  <p><strong>Nom:</strong> ${n.fatherName||"Non spécifié"}</p>
                  <p><strong>N° Pedigree:</strong> ${n.fatherPedigree||"Non spécifié"}</p>
                  <p><strong>Race:</strong> ${n.fatherBreed||"Non spécifiée"}</p>
                  ${n.fatherTitles?`<p><strong>Titres:</strong> ${n.fatherTitles}</p>`:""}
                </div>

                <!-- Mère -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #e91e63; background: #fce4ec;">
                  <h5 style="margin: 0 0 8px 0; color: #e91e63;">Mère</h5>
                  <p><strong>Nom:</strong> ${n.motherName||"Non spécifié"}</p>
                  <p><strong>N° Pedigree:</strong> ${n.motherPedigree||"Non spécifié"}</p>
                  <p><strong>Race:</strong> ${n.motherBreed||"Non spécifiée"}</p>
                  ${n.motherTitles?`<p><strong>Titres:</strong> ${n.motherTitles}</p>`:""}
                </div>
              </div>

              <!-- Certificat Pedigree -->
              ${n.pedigreePhoto?`
                <div style="margin: 20px 0; text-align: center;">
                  <h4 style="margin: 0 0 15px 0; color: #333;">Certificat Pedigree</h4>
                  <img src="${n.pedigreePhoto}" alt="Certificat Pedigree" style="max-width: 100%; max-height: 400px; object-fit: contain; border-radius: 8px; border: 2px solid #ddd; box-shadow: 0 4px 8px rgba(0,0,0,0.1);" />
                  <p style="margin-top: 10px; font-size: 12px; color: #666;">Document officiel du pedigree</p>
                </div>
              `:""}
            </div>
          `:""}

          <!-- Album Photo -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Album Photo</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin: 15px 0;">
              ${n.photo?`
                <div style="text-align: center;">
                  <img src="${n.photo}" alt="Photo principale" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                  <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo principale</div>
                </div>
              `:""}
              ${$e.some(pe=>pe.photos&&pe.photos.length>0)?$e.map(pe=>pe.photos?pe.photos.map((on,Er)=>`
                    <div style="text-align: center;">
                      <img src="${on}" alt="Consultation ${new Date(pe.date).toLocaleDateString("fr-FR")} - Photo ${Er+1}" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                      <div style="font-size: 11px; color: #666; margin-top: 5px;">Consultation ${new Date(pe.date).toLocaleDateString("fr-FR")}</div>
                    </div>
                  `).join(""):"").join(""):""}
            </div>
            ${!n.photo&&!$e.some(pe=>pe.photos&&pe.photos.length>0)?'<p style="text-align: center; color: #666; font-style: italic;">Aucune photo disponible</p>':""}
          </div>

          <div style="margin-top: 40px; text-align: center; font-size: 12px; color: #666;">
            <p>VetPro CRM - Gestion Vétérinaire Complète</p>
          </div>
        </body>
      </html>
    `;G.document.write(Se),G.document.close(),G.focus(),G.print(),G.close()};return s.jsxs(s.Fragment,{children:[s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[1000px] max-h-[90vh] overflow-y-auto",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-5 w-5"}),"Dossier Médical - ",n.name,he&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(Propriétaire: ",he.name,")"]})]})}),s.jsxs(ki,{value:S,onValueChange:_,className:"space-y-4",children:[s.jsxs(qa,{className:"grid w-full grid-cols-7",children:[s.jsxs(At,{value:"overview",className:"gap-2",children:[s.jsx(ra,{className:"h-4 w-4"}),"Vue d'ensemble"]}),s.jsxs(At,{value:"history",className:"gap-2",children:[s.jsx(jn,{className:"h-4 w-4"}),"Historique"]}),s.jsxs(At,{value:"prescriptions",className:"gap-2",children:[s.jsx(Lr,{className:"h-4 w-4"}),"Prescriptions"]}),s.jsxs(At,{value:"vaccinations",className:"gap-2",children:[s.jsx(Lr,{className:"h-4 w-4"}),"Vaccinations"]}),s.jsxs(At,{value:"antiparasites",className:"gap-2",children:[s.jsx(cl,{className:"h-4 w-4"}),"Antiparasitaires"]}),s.jsxs(At,{value:"pedigree",className:"gap-2",children:[s.jsx(Cg,{className:"h-4 w-4"}),"Pedigree"]}),s.jsxs(At,{value:"charts",className:"gap-2",children:[s.jsx(sn,{className:"h-4 w-4"}),"Évolution"]}),s.jsxs(At,{value:"alerts",className:"gap-2",children:[s.jsx(zn,{className:"h-4 w-4"}),"Alertes"]})]}),s.jsxs(kt,{value:"overview",className:"space-y-4",children:[s.jsxs(Z,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsx(de,{className:"text-lg",children:"Galerie photos"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:W,className:"hidden",id:"add-photo-input"}),s.jsxs("label",{htmlFor:"add-photo-input",className:"cursor-pointer inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:[s.jsx(nt,{className:"h-4 w-4"}),"Ajouter une photo"]})]})]}),s.jsx(te,{children:s.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[n.photo&&s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("img",{src:n.photo,alt:"Photo officielle",className:"h-32 w-32 object-cover rounded"}),s.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:"Officielle"})]}),R.map((G,Se)=>s.jsxs("div",{className:"relative flex-shrink-0 group",children:[s.jsx("img",{src:G,alt:`Photo supplémentaire ${Se+1}`,className:"h-32 w-32 object-cover rounded"}),s.jsxs("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:["Photo ",Se+1]}),s.jsx("button",{onClick:()=>fe(Se),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:"×"})]},`additional-${Se}`)),$e.map(G=>{var Se;return(Se=G.photos)==null?void 0:Se.map((pe,on)=>s.jsxs("div",{className:"relative flex-shrink-0 group",children:[s.jsx("img",{src:pe,alt:`consultation-${G.id}-${on}`,className:"h-32 w-32 object-cover rounded"}),s.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:new Date(G.date).toLocaleDateString("fr-FR")}),s.jsx("button",{onClick:()=>O(G.id,on),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:"×"})]},`${G.id}-${on}`))}),!n.photo&&R.length===0&&$e.every(G=>!G.photos||G.photos.length===0)&&s.jsx("div",{className:"flex items-center justify-center h-32 w-full border-2 border-dashed border-gray-300 rounded text-gray-500",children:"Aucune photo disponible"})]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pg,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),s.jsxs("p",{className:"text-2xl font-bold",children:[Kn,"kg"]}),Ot!==0&&s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[Sn==="up"?s.jsx(sn,{className:"h-3 w-3 text-green-600"}):s.jsx($l,{className:"h-3 w-3 text-red-600"}),s.jsxs("span",{className:Sn==="up"?"text-green-600":"text-red-600",children:[Math.abs(Ot),"kg"]})]})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(df,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Température"}),s.jsxs("p",{className:"text-2xl font-bold",children:[er,"°C"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Moy: ",Kr.toFixed(1),"°C"]})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),s.jsx("p",{className:"text-2xl font-bold",children:$e.length}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernière: ",vn?new Date(vn.date).toLocaleDateString("fr-FR"):"Aucune"]})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zn,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),s.jsx("p",{className:"text-2xl font-bold",children:Rn.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Rn.length>0?"À traiter":"Aucune"})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lr,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Prescriptions"}),s.jsx("p",{className:"text-2xl font-bold",children:l(n.id).length}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[c().filter(G=>G.petId===n.id).length," active(s)"]})]})]})})})]}),Di&&s.jsx(Z,{className:"border-primary",children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Prochain suivi recommandé"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Di.reason})]}),s.jsxs(B,{size:"sm",onClick:Ds,children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Planifier"]})]})})}),Rn.length>0&&s.jsxs(Z,{className:"border-destructive",children:[s.jsx(ue,{children:s.jsx(de,{className:"text-destructive",children:"Alertes importantes"})}),s.jsx(te,{className:"space-y-2",children:Rn.slice(0,3).map((G,Se)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/10 rounded",children:[s.jsx(zn,{className:"h-4 w-4 text-destructive"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:G.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:G.message})]}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>dc(G.actionType),children:G.action})]},Se))})]})]}),s.jsxs(kt,{value:"history",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Historique des consultations"}),s.jsxs(B,{size:"sm",onClick:Ds,className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Planifier Consultation"]})]}),$e.length===0?s.jsx(Z,{children:s.jsxs(te,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(jn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune consultation enregistrée"}),s.jsx("p",{className:"text-sm",children:"Commencez par créer la première consultation"})]})}):s.jsx("div",{className:"space-y-4",children:$e.map(G=>s.jsxs(Z,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(de,{className:"text-base",children:["Consultation #",G.id]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(He,{className:"h-4 w-4"}),new Date(G.date).toLocaleDateString("fr-FR")]})]})}),s.jsxs(te,{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Poids:"}),s.jsx("span",{className:"ml-2",children:G.weight||"Non renseigné"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Température:"}),s.jsx("span",{className:"ml-2",children:G.temperature||"Non renseigné"})]})]}),G.symptoms&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Symptômes:"}),s.jsx("p",{className:"text-sm mt-1",children:G.symptoms})]}),G.diagnosis&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Diagnostic:"}),s.jsx("p",{className:"text-sm mt-1",children:G.diagnosis})]}),G.treatment&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Traitement:"}),s.jsx("p",{className:"text-sm mt-1",children:G.treatment})]}),G.medications&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Médicaments:"}),s.jsx("p",{className:"text-sm mt-1",children:G.medications})]}),G.notes&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Notes:"}),s.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:G.notes})]}),G.followUp&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("span",{className:"font-medium text-primary",children:"Suivi recommandé:"}),s.jsx("p",{className:"text-sm mt-1",children:G.followUp})]})]})]},G.id))})]}),s.jsx(kt,{value:"prescriptions",className:"space-y-4",children:s.jsx(V6,{petId:n.id})}),s.jsxs(kt,{value:"charts",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Évolution du poids et de la température"}),Me.length>0?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Pg,{className:"h-5 w-5"}),"Évolution du poids"]})}),s.jsx(te,{children:s.jsx(Si,{width:"100%",height:200,children:s.jsxs(UE,{data:Me,children:[s.jsx(Ql,{strokeDasharray:"3 3"}),s.jsx(oa,{dataKey:"date"}),s.jsx(la,{}),s.jsx(Vn,{}),s.jsx(rd,{type:"monotone",dataKey:"weight",stroke:"#2563eb",strokeWidth:2})]})})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(df,{className:"h-5 w-5"}),"Évolution de la température"]})}),s.jsx(te,{children:s.jsx(Si,{width:"100%",height:200,children:s.jsxs(UE,{data:Me,children:[s.jsx(Ql,{strokeDasharray:"3 3"}),s.jsx(oa,{dataKey:"date"}),s.jsx(la,{}),s.jsx(Vn,{}),s.jsx(rd,{type:"monotone",dataKey:"temperature",stroke:"#dc2626",strokeWidth:2})]})})})]})]}):s.jsx(Z,{children:s.jsxs(te,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(sn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune donnée disponible pour les graphiques"}),s.jsx("p",{className:"text-sm",children:"Ajoutez des consultations avec poids et température"})]})})]}),s.jsxs(kt,{value:"vaccinations",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Historique vaccinal"}),s.jsx(UN,{selectedClientId:he==null?void 0:he.id,selectedPetId:n.id,children:s.jsxs(B,{size:"sm",className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle vaccination"]})})]}),it.length===0?s.jsx(Z,{children:s.jsxs(te,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(Lr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune vaccination enregistrée"}),s.jsx("p",{className:"text-sm",children:"Commencez par ajouter la première vaccination"})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:s.jsx(Lr,{className:"h-4 w-4 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),s.jsx("p",{className:"text-xl font-bold",children:it.length})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(He,{className:"h-4 w-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"À jour"}),s.jsx("p",{className:"text-xl font-bold",children:it.filter(G=>G.status==="completed").length})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:s.jsx(zn,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),s.jsx("p",{className:"text-xl font-bold",children:it.filter(G=>G.status==="overdue").length})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:s.jsx(He,{className:"h-4 w-4 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiées"}),s.jsx("p",{className:"text-xl font-bold",children:it.filter(G=>G.status==="scheduled").length})]})]})})})]}),s.jsx("div",{className:"space-y-3",children:it.map(G=>s.jsx(Z,{className:"hover:shadow-md transition-shadow",children:s.jsxs(te,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Lr,{className:`h-5 w-5 ${G.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),s.jsxs("h4",{className:"font-semibold text-lg",children:[G.vaccineName,G.vaccinationCategory==="reminder"&&s.jsx("span",{className:"ml-2 text-sm text-orange-600 font-normal",children:"(Rappel)"})]}),s.jsx(Pe,{variant:G.vaccineType==="core"?"default":"secondary",className:"text-xs",children:G.vaccineType==="core"?"Essentiel":G.vaccineType==="non-core"?"Optionnel":G.vaccineType==="rabies"?"Rage":"Personnalisé"}),G.vaccinationCategory==="reminder"&&s.jsx(Pe,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"}),ae===G.id?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(be,{value:G.status,onValueChange:Se=>oe(G.id,Se),children:[s.jsx(xe,{className:"w-32",children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"completed",children:"Terminée"}),s.jsx(L,{value:"scheduled",children:"Planifiée"}),s.jsx(L,{value:"overdue",children:"En retard"}),s.jsx(L,{value:"missed",children:"Manquée"})]})]}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>ne(null),children:"Annuler"})]}):s.jsx(Pe,{className:G.status==="completed"?"bg-green-100 text-green-800 border-green-200 cursor-pointer hover:bg-green-200":G.status==="overdue"?"bg-red-100 text-red-800 border-red-200 cursor-pointer hover:bg-red-200":G.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200 cursor-pointer hover:bg-blue-200":"bg-orange-100 text-orange-800 border-orange-200 cursor-pointer hover:bg-orange-200",onClick:()=>ne(G.id),children:G.status==="completed"?"Terminée":G.status==="overdue"?"En retard":G.status==="scheduled"?"Planifiée":"Manquée"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:G.vaccinationCategory==="reminder"?"Date du rappel":"Date administrée"}),s.jsx("p",{className:"font-medium",children:Da(G.dateGiven)})]}),G.vaccinationCategory==="new"&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Rappel prévu"}),s.jsx("p",{className:"font-medium",children:Da(G.nextDueDate)})]}),G.vaccinationCategory==="reminder"&&G.originalVaccinationId&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Vaccination originale"}),s.jsxs("p",{className:"font-medium text-sm text-gray-500",children:["ID: ",G.originalVaccinationId]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Vétérinaire"}),s.jsx("p",{className:"font-medium",children:G.veterinarian})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Coût"}),s.jsx("p",{className:"font-medium",children:G.cost?`${G.cost} €`:"Non spécifié"})]})]}),G.batchNumber&&s.jsx("div",{className:"mt-3 text-sm",children:s.jsxs("p",{className:"text-gray-600",children:["Numéro de lot: ",s.jsx("span",{className:"font-medium",children:G.batchNumber})]})}),G.manufacturer&&s.jsx("div",{className:"mt-1 text-sm",children:s.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",s.jsx("span",{className:"font-medium",children:G.manufacturer})]})}),G.location&&s.jsx("div",{className:"mt-1 text-sm",children:s.jsxs("p",{className:"text-gray-600",children:["Site d'injection: ",s.jsx("span",{className:"font-medium",children:G.location==="left_shoulder"?"Épaule gauche":G.location==="right_shoulder"?"Épaule droite":G.location==="left_hip"?"Hanche gauche":G.location==="right_hip"?"Hanche droite":"Sous-cutané"})]})}),G.notes&&s.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Notes:"})," ",G.notes]})}),G.adverseReactions&&s.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:s.jsxs("p",{className:"text-sm text-red-700",children:[s.jsx("strong",{children:"⚠️ Réactions adverses:"})," ",G.adverseReactions]})})]}),s.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[s.jsx(q6,{animalId:n.id.toString()}),G.nextDueDate&&new Date(G.nextDueDate)<=new Date&&G.status!=="completed"&&!G.reminderAppointmentId&&s.jsxs(B,{size:"sm",className:"gap-2",onClick:()=>re(G),children:[s.jsx(nt,{className:"h-4 w-4"}),"Rappel"]}),G.reminderAppointmentId&&s.jsx(Pe,{variant:"outline",className:"text-xs",children:"Rappel programmé"}),G.status==="overdue"&&s.jsxs(B,{size:"sm",className:"gap-2",onClick:()=>se(G),children:[s.jsx(Iq,{className:"h-4 w-4"}),"Confirmer"]})]})]}),G.reminderHistory&&G.reminderHistory.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsx("h5",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Historique des rappels"}),s.jsx("div",{className:"space-y-2",children:G.reminderHistory.map(Se=>s.jsxs("div",{className:"flex items-center justify-between text-xs bg-muted/30 p-2 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-3 w-3"}),s.jsx("span",{children:new Date(Se.scheduledDate).toLocaleDateString("fr-FR")})]}),s.jsx(Pe,{variant:Se.status==="completed"?"default":Se.status==="missed"?"destructive":"secondary",className:"text-xs",children:Se.status==="completed"?"Complété":Se.status==="missed"?"Manqué":Se.status==="cancelled"?"Annulé":"Programmé"})]},Se.id))})]})]})},G.id))})]})]}),s.jsxs(kt,{value:"antiparasites",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Historique antiparasitaire"}),s.jsx(WN,{selectedClientId:he==null?void 0:he.id,selectedPetId:n.id,children:s.jsxs(B,{size:"sm",className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),ie.length===0?s.jsx(Z,{children:s.jsxs(te,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(cl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucun traitement antiparasitaire enregistré"}),s.jsx("p",{className:"text-sm",children:"Ajoutez des traitements depuis l'onglet Antiparasitaires"})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:s.jsx(cl,{className:"h-4 w-4 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),s.jsx("p",{className:"text-xl font-bold",children:ie.length})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(On,{className:"h-4 w-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Complétés"}),s.jsx("p",{className:"text-xl font-bold",children:ie.filter(G=>G.status==="completed").length})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:s.jsx(zn,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),s.jsx("p",{className:"text-xl font-bold",children:ie.filter(G=>G.status==="overdue").length})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:s.jsx(He,{className:"h-4 w-4 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiés"}),s.jsx("p",{className:"text-xl font-bold",children:ie.filter(G=>G.status==="scheduled").length})]})]})})})]}),s.jsx("div",{className:"space-y-3",children:ie.map(G=>s.jsx(Z,{className:"hover:shadow-md transition-shadow",children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(cl,{className:"h-5 w-5 text-blue-600"}),s.jsx("h4",{className:"font-semibold text-lg",children:G.productName}),s.jsx(Pe,{className:G.status==="completed"?"bg-green-100 text-green-800 border-green-200":G.status==="overdue"?"bg-red-100 text-red-800 border-red-200":G.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200":"bg-orange-100 text-orange-800 border-orange-200",children:G.status==="completed"?"Terminé":G.status==="overdue"?"En retard":G.status==="scheduled"?"Planifié":"Manqué"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Date administrée"}),s.jsx("p",{className:"font-medium",children:new Date(G.dateGiven).toLocaleDateString("fr-FR")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Prochain traitement"}),s.jsx("p",{className:"font-medium",children:G.nextDueDate?new Date(G.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Type"}),s.jsx("p",{className:"font-medium",children:G.productType})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Vétérinaire"}),s.jsx("p",{className:"font-medium",children:G.veterinarian})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mt-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Parasites ciblés"}),s.jsx("p",{className:"font-medium",children:G.targetParasites})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Dosage"}),s.jsx("p",{className:"font-medium",children:G.dosage||"Non spécifié"})]})]}),G.batchNumber&&s.jsx("div",{className:"mt-3 text-sm",children:s.jsxs("p",{className:"text-gray-600",children:["Numéro de lot: ",s.jsx("span",{className:"font-medium",children:G.batchNumber})]})}),G.manufacturer&&s.jsx("div",{className:"mt-1 text-sm",children:s.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",s.jsx("span",{className:"font-medium",children:G.manufacturer})]})}),G.weight&&s.jsx("div",{className:"mt-1 text-sm",children:s.jsxs("p",{className:"text-gray-600",children:["Poids de l'animal: ",s.jsx("span",{className:"font-medium",children:G.weight})]})}),G.cost&&s.jsx("div",{className:"mt-1 text-sm",children:s.jsxs("p",{className:"text-gray-600",children:["Coût: ",s.jsxs("span",{className:"font-medium",children:[G.cost," €"]})]})}),G.notes&&s.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Notes:"})," ",G.notes]})}),G.sideEffects&&s.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:s.jsxs("p",{className:"text-sm text-red-700",children:[s.jsx("strong",{children:"⚠️ Effets indésirables:"})," ",G.sideEffects]})})]}),s.jsx("div",{className:"flex flex-col gap-2 ml-4",children:G.nextDueDate&&new Date(G.nextDueDate)<=new Date&&G.status!=="completed"&&s.jsxs(B,{size:"sm",className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Rappel"]})})]})})},G.id))})]})]}),s.jsxs(kt,{value:"pedigree",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Pedigree Officiel"}),s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>E(!k),className:"gap-2",children:[s.jsx(Mt,{className:"h-4 w-4"}),k?"Annuler":"Modifier"]})]}),s.jsx(Z,{children:s.jsx(ue,{children:s.jsxs(de,{className:"text-lg flex items-center gap-2",children:[s.jsx(hi,{id:"hasPedigree",checked:P.hasPedigree,onCheckedChange:G=>A(Se=>({...Se,hasPedigree:G})),disabled:!k}),s.jsx(D,{htmlFor:"hasPedigree",className:"text-lg",children:"Cet animal a un pedigree officiel"})]})})}),P.hasPedigree&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Informations sur l'animal"})}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"officialName",children:"Nom officiel"}),s.jsx(Y,{id:"officialName",value:P.officialName,onChange:G=>A(Se=>({...Se,officialName:G.target.value})),disabled:!k,placeholder:"Nom officiel du pedigree"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),s.jsx(Y,{id:"pedigreeNumber",value:P.pedigreeNumber,onChange:G=>A(Se=>({...Se,pedigreeNumber:G.target.value})),disabled:!k,placeholder:"Numéro de pedigree"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"breeder",children:"Éleveur"}),s.jsx(Y,{id:"breeder",value:P.breeder,onChange:G=>A(Se=>({...Se,breeder:G.target.value})),disabled:!k,placeholder:"Nom de l'éleveur"})]})]})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Parents"})}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"Père"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{placeholder:"Nom du père",value:P.fatherName,onChange:G=>A(Se=>({...Se,fatherName:G.target.value})),disabled:!k}),s.jsx(Y,{placeholder:"N° pedigree du père",value:P.fatherPedigree,onChange:G=>A(Se=>({...Se,fatherPedigree:G.target.value})),disabled:!k}),s.jsx(Y,{placeholder:"Race du père",value:P.fatherBreed,onChange:G=>A(Se=>({...Se,fatherBreed:G.target.value})),disabled:!k}),s.jsx(Ue,{placeholder:"Titres du père",value:P.fatherTitles,onChange:G=>A(Se=>({...Se,fatherTitles:G.target.value})),disabled:!k,rows:2})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{placeholder:"Nom de la mère",value:P.motherName,onChange:G=>A(Se=>({...Se,motherName:G.target.value})),disabled:!k}),s.jsx(Y,{placeholder:"N° pedigree de la mère",value:P.motherPedigree,onChange:G=>A(Se=>({...Se,motherPedigree:G.target.value})),disabled:!k}),s.jsx(Y,{placeholder:"Race de la mère",value:P.motherBreed,onChange:G=>A(Se=>({...Se,motherBreed:G.target.value})),disabled:!k}),s.jsx(Ue,{placeholder:"Titres de la mère",value:P.motherTitles,onChange:G=>A(Se=>({...Se,motherTitles:G.target.value})),disabled:!k,rows:2})]})]})]})})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Document officiel"})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:async G=>{var on;const Se=(on=G.target.files)==null?void 0:on[0];if(!Se)return;const pe=new FileReader;pe.onload=()=>A(Er=>({...Er,pedigreePhoto:pe.result})),pe.readAsDataURL(Se)},disabled:!k}),P.pedigreePhoto&&s.jsx("img",{src:P.pedigreePhoto,alt:"Document pedigree",className:"h-48 w-auto object-contain rounded border"})]})})]}),k&&s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:le,children:"Annuler"}),s.jsx(B,{onClick:Ne,children:"Sauvegarder"})]})]}),!P.hasPedigree&&s.jsx(Z,{children:s.jsxs(te,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(Cg,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucun pedigree officiel"}),s.jsx("p",{className:"text-sm",children:"Cochez la case ci-dessus pour ajouter les informations du pedigree"})]})})]}),s.jsxs(kt,{value:"alerts",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Alertes et rappels"}),Rn.length===0?s.jsx(Z,{children:s.jsxs(te,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(zn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune alerte active"}),s.jsx("p",{className:"text-sm",children:"Tout va bien !"})]})}):s.jsx("div",{className:"space-y-4",children:Rn.map((G,Se)=>s.jsx(Z,{className:G.type==="danger"?"border-destructive":"border-accent",children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zn,{className:`h-5 w-5 ${G.type==="danger"?"text-destructive":"text-accent"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold",children:G.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:G.message})]}),s.jsx(B,{size:"sm",variant:"outline",children:G.action})]})})},Se))})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[s.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),s.jsxs(B,{onClick:fa,className:"gap-2",children:[s.jsx(Au,{className:"h-4 w-4"}),"Imprimer Dossier"]})]})]})}),s.jsx(Pd,{open:p,onOpenChange:v}),s.jsx(b3,{open:x,onOpenChange:G=>{y(G),G||(V({clientId:0,petId:0,type:"",reason:""}),T(null))},prefillClientId:K.clientId.toString(),prefillPetId:K.petId.toString(),prefillType:K.type,prefillReason:K.reason,originalVaccinationId:H==null?void 0:H.id}),j&&s.jsx(UN,{selectedClientId:he==null?void 0:he.id,selectedPetId:n.id,children:s.jsx(B,{onClick:()=>w(!1),children:"Fermer"})}),s.jsx(Yee,{open:I,onOpenChange:G=>{F(G),G||J(null)},vaccination:U}),N&&s.jsx(WN,{selectedClientId:he==null?void 0:he.id,selectedPetId:n.id,children:s.jsx(B,{onClick:()=>C(!1),children:"Fermer"})})]})}const xPe={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"};function yPe(){const{pets:e,consultations:t,appointments:n,clients:r}=yt();_t();const[a,i]=b.useState(!1),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState(!1),[f,m]=b.useState(!1),[g,p]=b.useState(null),x=[...e].sort((A,R)=>!A.lastVisit&&!R.lastVisit?0:A.lastVisit?R.lastVisit?new Date(R.lastVisit).getTime()-new Date(A.lastVisit).getTime():-1:1).slice(0,5),y=e.length,j=e.filter(A=>A.status==="healthy").length;e.filter(A=>A.status==="treatment").length,e.filter(A=>A.status==="urgent").length;const w=e.filter(A=>{if(!A.lastVisit)return!1;const R=new Date(A.lastVisit),$=new Date().getMonth(),K=new Date().getFullYear();return R.getMonth()===$&&R.getFullYear()===K}).length,N=y>0?(t.length/y).toFixed(1):"0",C=A=>{p(A),l(!0)},S=A=>{p(A),u(!0)},_=A=>{p(A),h(!0)},k=A=>{p(A),m(!0)},E=A=>{const R=t.filter(V=>V.petId===A.id),$=n.filter(V=>V.petId===A.id),K=r.find(V=>V.id===A.ownerId);return{consultations:R.length,appointments:$.length,owner:(K==null?void 0:K.name)||A.owner,lastConsultation:R.length>0?Math.max(...R.map(V=>new Date(V.date).getTime())):A.lastVisit?new Date(A.lastVisit).getTime():0}},P=A=>{switch(A){case"healthy":return s.jsx(dt,{className:"h-3 w-3 text-green-600"});case"treatment":return s.jsx(jn,{className:"h-3 w-3 text-yellow-600"});case"urgent":return s.jsx(pn,{className:"h-3 w-3 text-red-600"});default:return s.jsx(dt,{className:"h-3 w-3"})}};return s.jsxs(s.Fragment,{children:[s.jsxs(Z,{className:"card-hover",children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-lg font-semibold",children:"Animaux Récents"}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(dt,{className:"h-3 w-3"}),s.jsxs("span",{children:[y," total"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ra,{className:"h-3 w-3"}),s.jsxs("span",{children:[j," en bonne santé"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sn,{className:"h-3 w-3"}),s.jsxs("span",{children:["+",w," ce mois"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"h-3 w-3"}),s.jsxs("span",{children:["Ø ",N," consultations"]})]})]})]}),s.jsxs(B,{size:"sm",className:"gap-2",onClick:()=>i(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvel Animal"]})]}),s.jsx(te,{className:"space-y-4",children:x.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(dt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucun animal enregistré"}),s.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier animal"})]}):x.map(A=>{const R=E(A);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[s.jsx(Jn,{className:"h-12 w-12 flex-shrink-0",children:A.photo?s.jsx(Du,{src:A.photo,alt:A.name}):s.jsx(Zn,{className:"bg-primary-glow text-primary-foreground",children:s.jsx(dt,{className:"h-6 w-6"})})}),s.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium truncate",children:A.name}),s.jsxs(Pe,{variant:"outline",className:xPe[A.status],children:[P(A.status),s.jsx("span",{className:"ml-1",children:A.status==="healthy"?"En bonne santé":A.status==="treatment"?"En traitement":"Urgent"})]})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-medium",children:A.type}),A.breed&&s.jsxs("span",{children:[" - ",A.breed]}),A.gender&&s.jsxs("span",{children:[" (",A.gender==="male"?"Mâle":"Femelle",")"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(He,{className:"h-3 w-3"}),s.jsx("span",{children:A.birthDate?ku(A.birthDate):"Âge inconnu"})]})]})}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Propriétaire: ",R.owner]}),s.jsxs("span",{children:["Consultations: ",R.consultations]}),s.jsxs("span",{children:["RDV: ",R.appointments]}),A.lastVisit&&s.jsxs("span",{children:["Dernière visite: ",new Date(A.lastVisit).toLocaleDateString("fr-FR")]})]})]})]}),s.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>C(A),className:"h-8 px-2",children:s.jsx(bn,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>S(A),className:"h-8 px-2",children:s.jsx(Mt,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>_(A),className:"h-8 px-2 text-xs",children:"Dossier"}),s.jsx(B,{size:"sm",onClick:()=>k(A),className:"h-8 px-2 text-xs",children:s.jsx(jn,{className:"h-3 w-3"})})]})]},A.id)})})]}),s.jsx(Hx,{open:a,onOpenChange:i}),s.jsx(_3,{open:o,onOpenChange:l,pet:g,onEdit:()=>{l(!1),u(!0)},onShowDossier:()=>{l(!1),h(!0)}}),s.jsx(FZ,{open:c,onOpenChange:u,pet:g}),s.jsx(vPe,{open:d,onOpenChange:h,pet:g}),s.jsx(Pd,{open:f,onOpenChange:m})]})}function jPe({open:e,onOpenChange:t,consultation:n}){const{clients:r,pets:a,updateConsultation:i}=yt(),{toast:o}=at(),{settings:l}=_t(),[c,u]=b.useState({clientId:0,clientName:"",petId:0,petName:"",date:"",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",medications:"",followUp:"",cost:"",notes:""}),d=a.filter(p=>p.ownerId===c.clientId),h=new Date().toISOString().split("T")[0],f=p=>{u(v=>({...v,[p.target.id]:p.target.value}))},m=(p,v)=>{if(p==="clientId"){const x=parseInt(v),y=r.find(j=>j.id===x);u(j=>({...j,clientId:x,clientName:(y==null?void 0:y.name)||"",petId:0,petName:""}))}else if(p==="petId"){const x=parseInt(v),y=a.find(j=>j.id===x);u(j=>({...j,petId:x,petName:(y==null?void 0:y.name)||""}))}else u(x=>({...x,[p]:v}))},g=p=>{if(p.preventDefault(),!!n){if(!c.clientId||!c.petId){o({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}i(n.id,{clientId:c.clientId,clientName:c.clientName,petId:c.petId,petName:c.petName,date:c.date||h,weight:c.weight,temperature:c.temperature,symptoms:c.symptoms,diagnosis:c.diagnosis,treatment:c.treatment,medications:c.medications,followUp:c.followUp,cost:c.cost,notes:c.notes}),o({title:"Consultation modifiée",description:`Consultation pour ${c.petName} (${c.clientName}) a été modifiée et sauvegardée.`}),t(!1)}};return b.useEffect(()=>{e&&n&&u({clientId:n.clientId,clientName:n.clientName,petId:n.petId,petName:n.petName,date:n.date,weight:n.weight||"",temperature:n.temperature||"",symptoms:n.symptoms||"",diagnosis:n.diagnosis||"",treatment:n.treatment||"",medications:n.medications||"",followUp:n.followUp||"",cost:n.cost||"",notes:n.notes||""})},[e,n]),n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Modifier la Consultation"}),s.jsxs(Rt,{children:["Modifiez les détails de la consultation pour ",n.petName,"."]})]}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Client *"}),s.jsxs(be,{value:c.clientId.toString(),onValueChange:p=>m("clientId",p),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner le client"})}),s.jsx(ye,{children:r.map(p=>s.jsx(L,{value:p.id.toString(),children:p.name},p.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Animal *"}),s.jsxs(be,{value:c.petId.toString(),onValueChange:p=>m("petId",p),disabled:!c.clientId,children:[s.jsx(xe,{children:s.jsx(we,{placeholder:c.clientId?"Sélectionner l'animal":"Sélectionnez d'abord un client"})}),s.jsx(ye,{children:d.map(p=>s.jsxs(L,{value:p.id.toString(),children:[p.name," (",p.type,")"]},p.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"date",children:"Date *"}),s.jsx(Y,{id:"date",type:"date",value:c.date||h,onChange:f,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"weight",children:"Poids (kg)"}),s.jsx(Y,{id:"weight",type:"number",step:"0.1",value:c.weight,onChange:f,placeholder:"ex: 25.5"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"temperature",children:"Température (°C)"}),s.jsx(Y,{id:"temperature",type:"number",step:"0.1",value:c.temperature,onChange:f,placeholder:"ex: 38.5"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"symptoms",children:"Symptômes observés"}),s.jsx(Ue,{id:"symptoms",value:c.symptoms,onChange:f,placeholder:"Décrivez les symptômes et observations...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"diagnosis",children:"Diagnostic"}),s.jsx(Ue,{id:"diagnosis",value:c.diagnosis,onChange:f,placeholder:"Diagnostic posé...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"treatment",children:"Traitement administré"}),s.jsx(Ue,{id:"treatment",value:c.treatment,onChange:f,placeholder:"Traitements, injections, interventions...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"medications",children:"Médicaments prescrits"}),s.jsx(Ue,{id:"medications",value:c.medications,onChange:f,placeholder:"Liste des médicaments avec posologie...",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"followUp",children:"Suivi recommandé"}),s.jsx(Y,{id:"followUp",value:c.followUp,onChange:f,placeholder:"ex: Contrôle dans 1 semaine"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(D,{htmlFor:"cost",children:["Coût (",l.currency,")"]}),s.jsx(Y,{id:"cost",type:"number",step:"0.01",value:c.cost,onChange:f,placeholder:"ex: 85.50"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes additionnelles"}),s.jsx(Ue,{id:"notes",value:c.notes,onChange:f,placeholder:"Notes diverses, recommandations...",rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(B,{type:"submit",children:"Modifier Consultation"})]})]})]})}):null}function U6({consultation:e}){const{settings:t}=_t(),r=(i=>{var o;return i.petName&&i.clientName?i:{...i,petName:((o=i.animal)==null?void 0:o.name)||"Non spécifié",clientName:i.client?`${i.client.first_name||""} ${i.client.last_name||""}`.trim():"Non spécifié",date:i.consultation_date||i.date,symptoms:i.symptoms||"",diagnosis:i.diagnosis||"",treatment:i.treatment||"",notes:i.notes||"",weight:i.weight||null,temperature:i.temperature||null,medications:i.medications||"",followUp:i.follow_up_notes||i.followUp||null,cost:i.cost||null}})(e),a=()=>{if(!r||!r.petName||!r.clientName)return;const i=window.open("","_blank");if(!i)return;const o=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Consultation - ${r.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-name {
              font-size: 24px;
              font-weight: bold;
              color: #2563eb;
            }
            .consultation-title {
              font-size: 20px;
              margin: 10px 0;
            }
            .info-grid {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
              margin-bottom: 30px;
            }
            .info-section {
              border: 1px solid #ddd;
              padding: 15px;
              border-radius: 5px;
            }
            .info-section h3 {
              margin: 0 0 10px 0;
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .info-item {
              margin: 5px 0;
            }
            .info-label {
              font-weight: bold;
              color: #666;
            }
            .medical-section {
              margin: 20px 0;
            }
            .medical-section h3 {
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .footer {
              margin-top: 40px;
              text-align: center;
              font-size: 12px;
              color: #666;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">${t.clinicName||"VetPro CRM"}</div>
            <div class="consultation-title">Rapport de Consultation</div>
            <div>Date: ${new Date(r.date).toLocaleDateString("fr-FR")}</div>
          </div>

          <div class="info-grid">
            <div class="info-section">
              <h3>Informations Client</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${r.clientName}
              </div>
            </div>
            <div class="info-section">
              <h3>Informations Animal</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${r.petName}
              </div>
              <div class="info-item">
                <span class="info-label">Poids:</span> ${r.weight||"Non renseigné"}
              </div>
              <div class="info-item">
                <span class="info-label">Température:</span> ${r.temperature||"Non renseigné"}
              </div>
            </div>
          </div>

          ${r.symptoms?`
            <div class="medical-section">
              <h3>Symptômes Observés</h3>
              <p>${r.symptoms}</p>
            </div>
          `:""}

          ${r.diagnosis?`
            <div class="medical-section">
              <h3>Diagnostic</h3>
              <p>${r.diagnosis}</p>
            </div>
          `:""}

          ${r.treatment?`
            <div class="medical-section">
              <h3>Traitement Administré</h3>
              <p>${r.treatment}</p>
            </div>
          `:""}

          ${r.medications?`
            <div class="medical-section">
              <h3>Médicaments Prescrits</h3>
              <p>${r.medications}</p>
            </div>
          `:""}

          ${r.notes?`
            <div class="medical-section">
              <h3>Notes Additionnelles</h3>
              <p>${r.notes}</p>
            </div>
          `:""}

          <div class="info-grid">
            <div class="info-section">
              <h3>Suivi Recommandé</h3>
              <p>${r.followUp||"Aucun suivi prévu"}</p>
            </div>
            <div class="info-section">
              <h3>Coût</h3>
              <p>${r.cost?r.cost+" "+(t.currency||"MAD"):"Non renseigné"}</p>
            </div>
          </div>

          <div class="footer">
            <p>Consultation générée le ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
            <p>VetPro CRM - Gestion Vétérinaire Complète</p>
          </div>
        </body>
      </html>
    `;i.document.write(o),i.document.close(),setTimeout(()=>{i.focus(),i.print(),i.close()},500)};return s.jsxs(B,{size:"sm",variant:"outline",onClick:a,className:"gap-2",children:[s.jsx(Au,{className:"h-4 w-4"}),"Imprimer"]})}function bPe(){const{consultations:e,deleteConsultation:t,pets:n,clients:r}=yt(),{settings:a}=_t(),{toast:i}=at(),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState(null),m=[...e].sort((R,$)=>new Date($.date).getTime()-new Date(R.date).getTime()).slice(0,5),g=e.length,p=e.filter(R=>R.date===new Date().toISOString().split("T")[0]).length,v=new Date().getMonth(),x=new Date().getFullYear(),y=e.filter(R=>{const $=new Date(R.date);return $.getMonth()===v&&$.getFullYear()===x}).length,j=e.filter(R=>{const $=new Date(R.date),K=v===0?11:v-1,V=v===0?x-1:x;return $.getMonth()===K&&$.getFullYear()===V}).length,w=j>0?Math.round((y-j)/j*100):y>0?100:0,N=y*50,C=j*50,S=C>0?Math.round((N-C)/C*100):N>0?100:0,_=R=>{h(R),u(!0)},k=R=>{confirm(`Êtes-vous sûr de vouloir supprimer la consultation pour ${R.petName} ?`)&&(t(R.id),i({title:"Consultation supprimée",description:`La consultation pour ${R.petName} a été supprimée.`}))},E=R=>{const $=new Date().toISOString().split("T")[0];return R.date===$?"bg-accent text-accent-foreground":R.date<$?"bg-secondary text-secondary-foreground":"bg-primary text-primary-foreground"},P=R=>{const $=new Date().toISOString().split("T")[0];return R.date===$?"Aujourd'hui":R.date<$?"Terminée":"À venir"},A=R=>{const $=n.find(V=>V.id===R.petId),K=r.find(V=>V.id===R.clientId);return{petType:($==null?void 0:$.type)||"Inconnu",petBreed:($==null?void 0:$.breed)||"Non spécifiée",clientPhone:(K==null?void 0:K.phone)||"Non spécifié",clientCity:(K==null?void 0:K.city)||"Non spécifiée"}};return s.jsxs(s.Fragment,{children:[s.jsxs(Z,{className:"card-hover",children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-lg font-semibold",children:"Consultations Récentes"}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jn,{className:"h-3 w-3"}),s.jsxs("span",{children:[g," total"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ra,{className:"h-3 w-3"}),s.jsxs("span",{children:[p," aujourd'hui"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sn,{className:"h-3 w-3"}),s.jsxs("span",{children:[y," ce mois"]}),w!==0&&s.jsxs(Pe,{variant:w>0?"default":"destructive",className:"text-xs",children:[w>0?"+":"",w,"%"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(fd,{className:"h-3 w-3"}),s.jsxs("span",{children:["~",N,"€ ce mois"]}),S!==0&&s.jsxs(Pe,{variant:S>0?"default":"destructive",className:"text-xs",children:[S>0?"+":"",S,"%"]})]})]})]}),s.jsxs(B,{size:"sm",className:"gap-2",onClick:()=>l(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]}),s.jsx(te,{className:"space-y-4",children:m.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(jn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune consultation enregistrée"}),s.jsx("p",{className:"text-sm",children:"Commencez par créer votre première consultation"})]}):m.map(R=>{const $=A(R);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Jn,{className:"h-12 w-12",children:s.jsx(Zn,{className:"bg-primary-glow text-primary-foreground",children:s.jsx(jn,{className:"h-6 w-6"})})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h4",{className:"font-medium",children:["Consultation #",R.id]}),s.jsx(Pe,{variant:"outline",className:E(R),children:P(R)}),R.cost&&s.jsxs(Pe,{variant:"secondary",className:"text-xs",children:[R.cost," ",a.currency||"€"]})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(dt,{className:"h-3 w-3"}),s.jsxs("span",{children:[R.petName," (",$.petType,")"]}),$.petBreed!=="Non spécifiée"&&s.jsxs("span",{children:[" - ",$.petBreed]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Cr,{className:"h-3 w-3"}),s.jsx("span",{children:R.clientName})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(He,{className:"h-3 w-3"}),s.jsx("span",{children:new Date(R.date).toLocaleDateString("fr-FR")})]})]})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-4",children:[R.diagnosis&&s.jsxs("span",{children:["Diagnostic: ",R.diagnosis]}),R.weight&&s.jsxs("span",{children:["Poids: ",R.weight]}),R.temperature&&s.jsxs("span",{children:["Température: ",R.temperature,"°C"]}),R.photos&&R.photos.length>0&&s.jsxs("span",{children:["📷 ",R.photos.length," photo",R.photos.length>1?"s":""]})]})})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>_(R),className:"gap-2",children:[s.jsx(Mt,{className:"h-4 w-4"}),"Modifier"]}),s.jsx(U6,{consultation:R}),s.jsxs(B,{size:"sm",variant:"destructive",onClick:()=>k(R),className:"gap-2",children:[s.jsx(yr,{className:"h-4 w-4"}),"Supprimer"]})]})]},R.id)})})]}),s.jsx(Pd,{open:o,onOpenChange:l}),s.jsx(jPe,{open:c,onOpenChange:u,consultation:d})]})}function wPe(){const{appointments:e,stockItems:t,getUpcomingAppointments:n,getOverdueAppointments:r}=yt();_t();const a=new Date().toISOString().split("T")[0];n();const i=r(),o=e.filter(d=>d.date===a&&d.status!=="cancelled"&&d.status!=="completed"),l=t.filter(d=>d.currentStock<=d.minimumStock),c=t.filter(d=>d.currentStock===0),u=[];return c.length>0&&u.push({type:"critical",icon:pn,title:"Stock épuisé",message:`${c.length} produit(s) en rupture de stock`,count:c.length,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}),l.length>0&&u.push({type:"warning",icon:Oa,title:"Stock faible",message:`${l.length} produit(s) en stock faible`,count:l.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),i.length>0&&u.push({type:"warning",icon:Jt,title:"Rendez-vous en retard",message:`${i.length} rendez-vous en retard`,count:i.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),o.length>0&&u.push({type:"info",icon:He,title:"Rendez-vous aujourd'hui",message:`${o.length} rendez-vous prévus aujourd'hui`,count:o.length,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"}),u.length===0?s.jsxs(Z,{className:"card-hover",children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-5 w-5 text-green-600"}),"Aucune alerte"]})}),s.jsx(te,{children:s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"text-green-600 text-4xl mb-2",children:"✅"}),s.jsx("p",{className:"text-muted-foreground",children:"Tout va bien ! Aucune alerte à signaler."})]})})]}):s.jsxs(Z,{className:"card-hover",children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-5 w-5 text-orange-600"}),"Alertes & Notifications",s.jsx(Pe,{variant:"destructive",className:"ml-2",children:u.length})]})}),s.jsx(te,{className:"space-y-3",children:u.map((d,h)=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${d.borderColor} ${d.bgColor}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${d.bgColor}`,children:s.jsx(d.icon,{className:`h-4 w-4 ${d.color}`})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:d.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:d.message})]})]}),s.jsx(Pe,{variant:d.type==="critical"?"destructive":d.type==="warning"?"secondary":"default",className:"text-xs",children:d.count})]},h))})]})}function NPe(){const{clients:e,pets:t,consultations:n,appointments:r,prescriptions:a,farms:i,farmInterventions:o}=yt();_t();const l=e.reduce((x,y)=>x+y.pets.length,0),c=l===t.length,u=e.length+t.length+n.length+r.length+a.length+i.length+o.length,d=c?100:Math.round((u-Math.abs(l-t.length))/u*100),h=new Date().toISOString().split("T")[0],f=n.filter(x=>x.date===h).length,m=r.filter(x=>x.date===h&&x.status!=="cancelled"&&x.status!=="completed").length,g=new Date().getMonth(),p=new Date().getFullYear(),v=n.filter(x=>{const y=new Date(x.date);return y.getMonth()===g&&y.getFullYear()===p}).length;return s.jsxs(Z,{className:"mb-6",children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[c?s.jsx(On,{className:"h-5 w-5 text-green-600"}):s.jsx(zn,{className:"h-5 w-5 text-yellow-600"}),"Statut de Synchronisation"]})}),s.jsxs(te,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-4 w-4 text-blue-600"}),s.jsxs("span",{className:"text-sm",children:["Clients: ",e.length]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4 text-red-600"}),s.jsxs("span",{className:"text-sm",children:["Animaux: ",t.length]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:"text-sm",children:["Consultations: ",n.length]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-purple-600"}),s.jsxs("span",{className:"text-sm",children:["RDV: ",r.length]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-4 w-4 text-blue-600"}),s.jsxs("span",{className:"text-sm",children:["Aujourd'hui: ",f+m]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:"text-sm",children:["Ce mois: ",v]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-4 w-4 text-orange-600"}),s.jsxs("span",{className:"text-sm",children:["Prescriptions: ",a.length]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-indigo-600"}),s.jsxs("span",{className:"text-sm",children:["Fermes: ",i.length]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Intégrité des données:"}),s.jsxs(Pe,{variant:d>=95?"default":d>=80?"secondary":"destructive",children:[d,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${d>=95?"bg-green-600":d>=80?"bg-yellow-600":"bg-red-600"}`,style:{width:`${d}%`}})}),s.jsx("div",{className:"flex items-center gap-2 text-sm",children:c?s.jsxs(s.Fragment,{children:[s.jsx(On,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-green-700",children:"Synchronisation OK"})]}):s.jsxs(s.Fragment,{children:[s.jsx(zn,{className:"h-4 w-4 text-yellow-600"}),s.jsx("span",{className:"text-yellow-700",children:"Désynchronisation détectée"})]})}),!c&&s.jsxs("div",{className:"text-xs text-muted-foreground bg-yellow-50 p-2 rounded",children:[s.jsx("strong",{children:"Attention:"})," ",Math.abs(l-t.length)," animal(s) non synchronisé(s) entre clients et animaux"]})]})]})]})}function SPe(){const{clients:e,pets:t,consultations:n,appointments:r,prescriptions:a,farms:i,farmInterventions:o,resetData:l,exportData:c,importData:u}=yt(),{settings:d}=_t(),{toast:h}=at(),[f,m]=b.useState(!1),[g,p]=b.useState(!1),v=e.length+t.length+n.length+r.length+a.length+i.length+o.length,x=Math.round(v*.5),y=[...e.map(A=>A.lastVisit),...t.map(A=>A.lastVisit).filter(Boolean),...n.map(A=>A.date),...r.map(A=>A.date),...a.map(A=>A.date),...i.map(A=>A.lastVisit)].filter(Boolean),j=y.length>0?new Date(Math.max(...y.map(A=>new Date(A).getTime()))):new Date,w=new Date().toISOString().split("T")[0],N=new Date().getMonth(),C=new Date().getFullYear(),S=[...e.filter(A=>A.lastVisit===w),...t.filter(A=>A.lastVisit===w),...n.filter(A=>A.date===w),...r.filter(A=>A.date===w)].length,_=[...e.filter(A=>{const R=new Date(A.lastVisit);return R.getMonth()===N&&R.getFullYear()===C}),...t.filter(A=>{if(!A.lastVisit)return!1;const R=new Date(A.lastVisit);return R.getMonth()===N&&R.getFullYear()===C}),...n.filter(A=>{const R=new Date(A.date);return R.getMonth()===N&&R.getFullYear()===C}),...r.filter(A=>{const R=new Date(A.date);return R.getMonth()===N&&R.getFullYear()===C})].length,k=()=>{try{c(),h({title:"Données exportées",description:`Export de ${v} enregistrements réussi.`})}catch{h({title:"Erreur d'export",description:"Impossible d'exporter les données.",variant:"destructive"})}},E=A=>{var K;const R=(K=A.target.files)==null?void 0:K[0];if(!R)return;const $=new FileReader;$.onload=V=>{var H,T;try{const I=JSON.parse((H=V.target)==null?void 0:H.result);if(I.clients&&I.pets)u(I),h({title:"Données importées",description:`${I.clients.length} clients, ${I.pets.length} animaux et ${((T=I.consultations)==null?void 0:T.length)||0} consultations importés avec succès.`});else throw new Error("Format de fichier invalide")}catch{h({title:"Erreur d'import",description:"Le fichier sélectionné n'est pas valide.",variant:"destructive"})}},$.readAsText(R),p(!1)},P=()=>{try{l(),h({title:"Données réinitialisées",description:"Toutes les données ont été remises aux valeurs par défaut."}),m(!1)}catch{h({title:"Erreur de réinitialisation",description:"Impossible de réinitialiser les données.",variant:"destructive"})}};return s.jsxs(s.Fragment,{children:[s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Pq,{className:"h-5 w-5"}),"Gestion des Données"]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Total:"}),s.jsxs("span",{className:"text-muted-foreground",children:[v," enregistrements"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Taille:"}),s.jsxs("span",{className:"text-muted-foreground",children:["~",x," KB"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Dernière modif:"}),s.jsx("span",{className:"text-muted-foreground",children:j.toLocaleDateString("fr-FR")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Aujourd'hui:"}),s.jsx("span",{className:"text-muted-foreground",children:S})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"Ce mois:"}),s.jsx("span",{className:"text-muted-foreground",children:_})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Clinique:"}),s.jsx("span",{className:"text-muted-foreground",children:d.clinicName||"Non configurée"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[s.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded",children:[s.jsx("div",{className:"font-medium text-blue-700",children:e.length}),s.jsx("div",{className:"text-blue-600",children:"Clients"})]}),s.jsxs("div",{className:"text-center p-2 bg-red-50 rounded",children:[s.jsx("div",{className:"font-medium text-red-700",children:t.length}),s.jsx("div",{className:"text-red-600",children:"Animaux"})]}),s.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[s.jsx("div",{className:"font-medium text-green-700",children:n.length}),s.jsx("div",{className:"text-green-600",children:"Consultations"})]}),s.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded",children:[s.jsx("div",{className:"font-medium text-purple-700",children:r.length}),s.jsx("div",{className:"text-purple-600",children:"RDV"})]}),s.jsxs("div",{className:"text-center p-2 bg-orange-50 rounded",children:[s.jsx("div",{className:"font-medium text-orange-700",children:a.length}),s.jsx("div",{className:"text-orange-600",children:"Prescriptions"})]}),s.jsxs("div",{className:"text-center p-2 bg-indigo-50 rounded",children:[s.jsx("div",{className:"font-medium text-indigo-700",children:i.length}),s.jsx("div",{className:"text-indigo-600",children:"Fermes"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:"outline",onClick:k,className:"gap-2",children:[s.jsx(gx,{className:"h-4 w-4"}),"Exporter"]}),s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>p(!0),className:"gap-2",children:[s.jsx(yb,{className:"h-4 w-4"}),"Importer"]}),s.jsxs(B,{size:"sm",variant:"destructive",onClick:()=>m(!0),className:"gap-2",children:[s.jsx(aI,{className:"h-4 w-4"}),"Réinitialiser"]})]})]})]}),s.jsx(Ze,{open:f,onOpenChange:m,children:s.jsxs(Ge,{children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-5 w-5 text-red-600"}),"Réinitialiser toutes les données"]}),s.jsx(Rt,{children:"Cette action supprimera définitivement toutes les données (clients, animaux, consultations, etc.) et les remettra aux valeurs par défaut. Cette action ne peut pas être annulée."})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(B,{variant:"outline",onClick:()=>m(!1),children:"Annuler"}),s.jsx(B,{variant:"destructive",onClick:P,children:"Réinitialiser"})]})]})}),s.jsx(Ze,{open:g,onOpenChange:p,children:s.jsxs(Ge,{children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(yb,{className:"h-5 w-5"}),"Importer des données"]}),s.jsx(Rt,{children:"Sélectionnez un fichier JSON exporté précédemment pour restaurer vos données."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"file",accept:".json",onChange:E,className:"w-full"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Note:"})," L'import remplacera toutes les données existantes."]})]}),s.jsx("div",{className:"flex gap-2 justify-end",children:s.jsx(B,{variant:"outline",onClick:()=>p(!1),children:"Annuler"})})]})})]})}function CPe(){ur(),dr();const{data:e=[]}=Cd(),{data:t=[]}=FS();_d(),qx();const{data:n=[]}=LS(),{settings:r}=_t(),a=new Date().toISOString().split("T")[0];new Date().getMonth(),new Date().getFullYear();const i=e.filter(p=>p.consultation_date.split("T")[0]===a).length,o=t.filter(p=>p.appointment_date.split("T")[0]===a&&p.status!=="cancelled").length,l=0,c=[],u=n.filter(p=>p.current_quantity<=p.minimum_quantity).length,d=n.filter(p=>p.current_quantity===0).length,h={totalRevenue:0,totalExpenses:0,netIncome:0,revenueBreakdown:{consultations:0,vaccinations:0,antiparasitics:0,prescriptions:0,manualEntries:0},expenseBreakdown:{stockPurchases:0,salaries:0,rent:0,taxes:0,other:0}},g=[{title:"Consultations Aujourd'hui",value:i,icon:jn,color:"text-green-600",bgColor:"bg-green-50",trend:i>0?"up":"neutral",description:"Consultations réalisées"},{title:"RDV Aujourd'hui",value:o,icon:He,color:"text-blue-600",bgColor:"bg-blue-50",trend:o>0?"up":"neutral",description:"Rendez-vous programmés"},{title:"RDV Cette Semaine",value:l,icon:Jt,color:"text-purple-600",bgColor:"bg-purple-50",trend:"neutral",description:"Rendez-vous à venir"},{title:"RDV En Retard",value:c.length,icon:pn,color:c.length>0?"text-red-600":"text-gray-600",bgColor:c.length>0?"bg-red-50":"bg-gray-50",trend:c.length>0?"down":"neutral",description:"Rendez-vous en retard"},{title:"Nouveaux Clients",value:0,icon:Fa,color:"text-emerald-600",bgColor:"bg-emerald-50",trend:"neutral",description:"Ce mois"},{title:"Nouveaux Animaux",value:0,icon:dt,color:"text-pink-600",bgColor:"bg-pink-50",trend:"neutral",description:"Ce mois"},{title:"Revenus du Mois",value:`${h.totalRevenue.toFixed(0)} ${r.currency||"€"}`,icon:fd,color:"text-green-600",bgColor:"bg-green-50",trend:"neutral",description:`Bénéfice: ${h.netIncome.toFixed(0)} ${r.currency||"€"}`},{title:"Stock Critique",value:u,icon:ra,color:u>0?"text-orange-600":"text-green-600",bgColor:u>0?"bg-orange-50":"bg-green-50",trend:u>0?"down":"neutral",description:`${d} en rupture`}];return s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:g.map((p,v)=>s.jsxs(Z,{className:"card-hover",children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:p.title}),s.jsx("div",{className:`p-2 rounded-lg ${p.bgColor}`,children:s.jsx(p.icon,{className:`h-4 w-4 ${p.color}`})})]}),s.jsxs(te,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-2xl font-bold",children:p.value}),s.jsxs("div",{className:"flex items-center gap-1",children:[p.trend==="up"&&s.jsxs(s.Fragment,{children:[s.jsx(sn,{className:"h-4 w-4 text-green-600"}),s.jsxs(Pe,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["+",Math.floor(Math.random()*20)+5,"%"]})]}),p.trend==="down"&&s.jsxs(s.Fragment,{children:[s.jsx($l,{className:"h-4 w-4 text-red-600"}),s.jsxs(Pe,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:["-",Math.floor(Math.random()*15)+3,"%"]})]}),p.trend==="neutral"&&s.jsx(Pe,{variant:"outline",className:"text-xs",children:"0%"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p.description})]})]},v))})}function _Pe(){const{accountingEntries:e}=yt(),{settings:t}=_t(),r=(()=>{const a=[],i=new Date;for(let o=5;o>=0;o--){const l=new Date(i.getFullYear(),i.getMonth()-o,1);`${l.getFullYear()}${String(l.getMonth()+1).padStart(2,"0")}`;const c=new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0],u=new Date(l.getFullYear(),l.getMonth()+1,0).toISOString().split("T")[0],d=e.filter(m=>{const g=new Date(m.date);return g>=new Date(c)&&g<=new Date(u)}),h=d.filter(m=>m.type==="revenue").reduce((m,g)=>m+g.amount,0),f=d.filter(m=>m.type==="expense").reduce((m,g)=>m+g.amount,0);a.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),revenue:Math.round(h),expenses:Math.round(f),profit:Math.round(h-f)})}return a})();return s.jsxs(Z,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-base font-medium",children:"Évolution des Revenus"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fd,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(sn,{className:"h-4 w-4 text-green-600"})]})]}),s.jsxs(te,{children:[s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Si,{width:"100%",height:"100%",children:s.jsxs(J2,{data:r,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(Ql,{strokeDasharray:"3 3",className:"opacity-30"}),s.jsx(oa,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),s.jsx(la,{axisLine:!1,tickLine:!1,className:"text-xs",tickFormatter:a=>`${a}${t.currency||"€"}`}),s.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(a,i)=>[`${a} ${t.currency||"€"}`,i==="revenue"?"Revenus":i==="expenses"?"Dépenses":"Bénéfice"]}),s.jsx(ks,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,strokeWidth:2}),s.jsx(ks,{type:"monotone",dataKey:"expenses",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,strokeWidth:2})]})})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Revenus"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Dépenses"})]})]})]})]})}function PPe(){const{consultations:e,appointments:t,vaccinations:n,antiparasitics:r}=yt(),i=(()=>{const o=[],l=new Date;for(let c=6;c>=0;c--){const u=new Date(l);u.setDate(u.getDate()-c);const d=u.toISOString().split("T")[0],h=e.filter(p=>p.date===d).length,f=t.filter(p=>p.date===d).length,m=n.filter(p=>p.dateGiven===d).length,g=r.filter(p=>p.dateGiven===d).length;o.push({day:u.toLocaleDateString("fr-FR",{weekday:"short"}),date:d,consultations:h,appointments:f,vaccinations:m,antiparasitics:g,total:h+f+m+g})}return o})();return s.jsxs(Z,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-base font-medium",children:"Activité des 7 derniers jours"}),s.jsx(ra,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Si,{width:"100%",height:"100%",children:s.jsxs(R_e,{data:i,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(Ql,{strokeDasharray:"3 3",className:"opacity-30"}),s.jsx(oa,{dataKey:"day",axisLine:!1,tickLine:!1,className:"text-xs"}),s.jsx(la,{axisLine:!1,tickLine:!1,className:"text-xs"}),s.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(o,l)=>[o,l==="consultations"?"Consultations":l==="appointments"?"Rendez-vous":l==="vaccinations"?"Vaccinations":l==="antiparasitics"?"Antiparasitaires":"Total"]}),s.jsx(Aa,{dataKey:"consultations",fill:"#10b981",radius:[2,2,0,0]}),s.jsx(Aa,{dataKey:"appointments",fill:"#3b82f6",radius:[2,2,0,0]}),s.jsx(Aa,{dataKey:"vaccinations",fill:"#8b5cf6",radius:[2,2,0,0]}),s.jsx(Aa,{dataKey:"antiparasitics",fill:"#f59e0b",radius:[2,2,0,0]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Consultations"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Rendez-vous"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Vaccinations"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Antiparasitaires"})]})]})]})]})}function APe(){const{stockItems:e}=yt(),t=M.useMemo(()=>{const a=e.length,i=e.filter(c=>c.currentStock<=c.minimumStock&&c.currentStock>0).length,o=e.filter(c=>c.currentStock===0).length;return[{name:"Stock Normal",value:a-i-o,color:"#10b981"},{name:"Stock Faible",value:i,color:"#f59e0b"},{name:"Rupture",value:o,color:"#ef4444"}].filter(c=>c.value>0)},[e]),n=e.reduce((a,i)=>a+i.currentStock*i.purchasePrice,0),r=e.sort((a,i)=>i.currentStock*i.purchasePrice-a.currentStock*a.purchasePrice).slice(0,5);return s.jsxs(Z,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-base font-medium",children:"État du Stock"}),s.jsx(Oa,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Si,{width:"100%",height:"100%",children:s.jsxs(X2,{children:[s.jsx(ha,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:i})=>`${a} ${(i*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((a,i)=>s.jsx(Rd,{fill:a.color},`cell-${i}`))}),s.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:a=>[a,"Articles"]})]})})}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Valeur totale du stock"}),s.jsxs("span",{className:"font-medium",children:[n.toFixed(0)," €"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Articles les plus précieux"}),r.map((a,i)=>s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"truncate flex-1",children:a.name}),s.jsxs("span",{className:"text-muted-foreground ml-2",children:[(a.currentStock*a.purchasePrice).toFixed(0)," €"]})]},a.id))]})]})]})]})}function kPe(){const{clients:e,pets:t}=yt(),r=(()=>{const a=[],i=new Date;for(let o=5;o>=0;o--){const l=new Date(i.getFullYear(),i.getMonth()-o,1),c=new Date(l.getFullYear(),l.getMonth(),1),u=new Date(l.getFullYear(),l.getMonth()+1,0),d=e.filter(g=>{const p=new Date(g.createdAt);return p>=c&&p<=u}).length,h=t.filter(g=>{const p=new Date(g.createdAt);return p>=c&&p<=u}).length,f=e.filter(g=>new Date(g.createdAt)<=u).length,m=t.filter(g=>new Date(g.createdAt)<=u).length;a.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),newClients:d,newPets:h,totalClients:f,totalPets:m})}return a})();return s.jsxs(Z,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-base font-medium",children:"Croissance des Clients"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(sn,{className:"h-4 w-4 text-blue-600"})]})]}),s.jsxs(te,{children:[s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Si,{width:"100%",height:"100%",children:s.jsxs(J2,{data:r,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(Ql,{strokeDasharray:"3 3",className:"opacity-30"}),s.jsx(oa,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),s.jsx(la,{axisLine:!1,tickLine:!1,className:"text-xs"}),s.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(a,i)=>[a,i==="newClients"?"Nouveaux Clients":i==="newPets"?"Nouveaux Animaux":i==="totalClients"?"Total Clients":"Total Animaux"]}),s.jsx(ks,{type:"monotone",dataKey:"newClients",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2}),s.jsx(ks,{type:"monotone",dataKey:"newPets",stackId:"2",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6,strokeWidth:2})]})})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Clients"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Animaux"})]})]})]})]})}function TPe(){const{appointments:e}=yt(),t=M.useMemo(()=>{const c=e.reduce((h,f)=>(h[f.status]=(h[f.status]||0)+1,h),{}),u={scheduled:"Planifié",confirmed:"Confirmé",completed:"Terminé",cancelled:"Annulé","no-show":"Absent"},d={scheduled:"#3b82f6",confirmed:"#10b981",completed:"#6b7280",cancelled:"#ef4444","no-show":"#f59e0b"};return Object.entries(c).map(([h,f])=>({name:u[h]||h,value:f,color:d[h]||"#6b7280"}))},[e]),n=e.length,r=e.filter(c=>c.status==="completed").length,a=e.filter(c=>c.status==="scheduled"||c.status==="confirmed").length,i=e.filter(c=>c.status==="cancelled").length,o=n>0?r/n*100:0,l=n>0?i/n*100:0;return s.jsxs(Z,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-base font-medium",children:"Statuts des Rendez-vous"}),s.jsx(He,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Si,{width:"100%",height:"100%",children:s.jsxs(X2,{children:[s.jsx(ha,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:t.map((c,u)=>s.jsx(Rd,{fill:c.color},`cell-${u}`))}),s.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:c=>[c,"Rendez-vous"]})]})})}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[o.toFixed(1),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux de réussite"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[l.toFixed(1),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux d'annulation"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Terminés"})]}),s.jsx("span",{className:"font-medium",children:r})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{children:"À venir"})]}),s.jsx("span",{className:"font-medium",children:a})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uf,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{children:"Annulés"})]}),s.jsx("span",{className:"font-medium",children:i})]})]})]})]})]})}function EPe(){const{consultations:e}=yt(),n=(()=>{const r=[],a=new Date;for(let i=11;i>=0;i--){const o=new Date(a.getFullYear(),a.getMonth()-i,1),l=new Date(o.getFullYear(),o.getMonth(),1),c=new Date(o.getFullYear(),o.getMonth()+1,0),u=e.filter(f=>{const m=new Date(f.date);return m>=l&&m<=c}),d=u.reduce((f,m)=>f+(m.cost||0),0),h=u.length>0?d/u.length:0;r.push({month:o.toLocaleDateString("fr-FR",{month:"short",year:"2-digit"}),consultations:u.length,revenue:Math.round(d),averageRevenue:Math.round(h)})}return r})();return s.jsxs(Z,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-base font-medium",children:"Tendances des Consultations"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(sn,{className:"h-4 w-4 text-blue-600"})]})]}),s.jsxs(te,{children:[s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Si,{width:"100%",height:"100%",children:s.jsxs(J2,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(Ql,{strokeDasharray:"3 3",className:"opacity-30"}),s.jsx(oa,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),s.jsx(la,{axisLine:!1,tickLine:!1,className:"text-xs"}),s.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(r,a)=>[a==="consultations"?r:`${r} €`,a==="consultations"?"Consultations":a==="revenue"?"Revenus":"Revenu moyen"]}),s.jsx(ks,{type:"monotone",dataKey:"consultations",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2})]})})}),s.jsx("div",{className:"flex items-center justify-between mt-4 text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Nombre de consultations"})]})})]})]})}function OPe(){const{pets:e}=yt(),t=M.useMemo(()=>{const o=e.reduce((c,u)=>{const d=u.species||"Autre";return c[d]=(c[d]||0)+1,c},{}),l=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"];return Object.entries(o).map(([c,u],d)=>({name:c,value:u,color:l[d%l.length]}))},[e]),n=e.length,r=t.length>0?t[0]:null,a=e.length>0?e.reduce((o,l)=>o+(l.age||0),0)/e.length:0,i=o=>{switch(o.toLowerCase()){case"chien":case"dog":return s.jsx(Aq,{className:"h-4 w-4"});case"chat":case"cat":return s.jsx(Nq,{className:"h-4 w-4"});case"poisson":case"fish":return s.jsx(kq,{className:"h-4 w-4"});case"oiseau":case"bird":return s.jsx(bq,{className:"h-4 w-4"});default:return s.jsx(dt,{className:"h-4 w-4"})}};return s.jsxs(Z,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-base font-medium",children:"Répartition par Espèce"}),s.jsx(dt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Si,{width:"100%",height:"100%",children:s.jsxs(X2,{children:[s.jsx(ha,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o} ${(l*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((o,l)=>s.jsx(Rd,{fill:o.color},`cell-${l}`))}),s.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:o=>[o,"Animaux"]})]})})}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total d'animaux"}),s.jsx("span",{className:"font-medium",children:n})]}),r&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Espèce la plus commune"}),s.jsxs("div",{className:"flex items-center gap-2",children:[i(r.name),s.jsx("span",{className:"font-medium",children:r.name})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Âge moyen"}),s.jsxs("span",{className:"font-medium",children:[a.toFixed(1)," ans"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Répartition détaillée"}),t.slice(0,5).map((o,l)=>s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[i(o.name),s.jsx("span",{children:o.name})]}),s.jsxs("span",{className:"text-muted-foreground",children:[o.value," (",(o.value/n*100).toFixed(1),"%)"]})]},l))]})]})]})]})}const DPe=()=>s.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[s.jsx(kZ,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"KPI en Temps Réel"}),s.jsx(CPe,{})]}),s.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[s.jsx(NPe,{}),s.jsx(SPe,{}),s.jsx(wPe,{})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Vue d'ensemble"}),s.jsx(TZ,{})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Analyses et Tendances"}),s.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[s.jsx(fw,{children:s.jsx(_Pe,{})}),s.jsx(PPe,{})]})]}),s.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[s.jsx(APe,{}),s.jsx(kPe,{}),s.jsx(TPe,{})]}),s.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[s.jsx(EPe,{}),s.jsx(OPe,{})]}),s.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[s.jsx(MZ,{}),s.jsx(yPe,{})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Activité Récente"}),s.jsx(bPe,{})]}),s.jsx(fw,{children:s.jsx("section",{children:s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Admin Dashboard"})})})]}),uc=e=>{const{settings:t}=_t();return{currentView:t.displayPreferences[e],isTableView:t.displayPreferences[e]==="table",isCardsView:t.displayPreferences[e]==="cards"}},MPe=(e,t)=>{const n=t.filter(i=>i.client_id===e.id),r=Math.abs(e.id.split("").reduce((i,o)=>(i=(i<<5)-i+o.charCodeAt(0),i&i),0)),a=n.map(i=>({id:Math.abs(i.id.split("").reduce((l,c)=>(l=(l<<5)-l+c.charCodeAt(0),l&l),0)),name:i.name,type:i.species,breed:i.breed||""}));return{id:r,name:`${e.first_name} ${e.last_name}`,firstName:e.first_name,lastName:e.last_name,email:e.email||"",phone:e.phone||e.mobile_phone||"",address:e.address||"",city:e.city,pets:a,lastVisit:new Date(e.updated_at).toLocaleDateString("fr-FR"),totalVisits:0,dbId:e.id}},IPe=()=>{const{data:e=[],isLoading:t}=ur(),{data:n=[],isLoading:r}=dr(),a=rZ(),{toast:i}=at(),o=e.map(P=>MPe(P,n)),{currentView:l}=uc("clients"),[c,u]=b.useState(""),[d,h]=b.useState(l),[f,m]=b.useState(!1),[g,p]=b.useState(null),[v,x]=b.useState(!1),[y,j]=b.useState(!1),[w,N]=b.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"Rabat",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),C=o.filter(P=>P.name.toLowerCase().includes(c.toLowerCase())||P.email.toLowerCase().includes(c.toLowerCase())||P.city&&P.city.toLowerCase().includes(c.toLowerCase())),S=P=>{p(P),x(!0)},_=P=>{p(P),N({first_name:P.firstName,last_name:P.lastName,email:P.email,phone:P.phone,mobile_phone:"",address:P.address,city:P.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),j(!0)},k=()=>{g&&N({first_name:g.firstName,last_name:g.lastName,email:g.email,phone:g.phone,mobile_phone:"",address:g.address,city:g.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),x(!1),j(!0)},E=async P=>{if(P.preventDefault(),!g||!w.first_name||!w.last_name){i({title:"Erreur",description:"Le prénom et le nom sont obligatoires",variant:"destructive"});return}try{await a.mutateAsync({id:g.dbId,data:w}),i({title:"Client modifié",description:`${w.first_name} ${w.last_name} a été modifié avec succès`}),j(!1),p(null)}catch(A){i({title:"Erreur",description:A instanceof Error?A.message:"Erreur lors de la modification du client",variant:"destructive"})}};return t||r?s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Chargement des clients..."})]})})}):s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Clients"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez tous vos clients et leurs informations"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:d==="cards"?"default":"outline",onClick:()=>h("cards"),className:"gap-2",children:[s.jsx(Ao,{className:"h-4 w-4"}),"Cartes"]}),s.jsxs(B,{size:"sm",variant:d==="table"?"default":"outline",onClick:()=>h("table"),className:"gap-2",children:[s.jsx(bi,{className:"h-4 w-4"}),"Tableau"]}),s.jsxs(B,{className:"gap-2 medical-glow",onClick:()=>m(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouveau Client"]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Io,{className:"h-5 w-5"}),"Rechercher un client"]})}),s.jsx(te,{children:s.jsx(Y,{placeholder:"Rechercher par nom, email ou ville...",value:c,onChange:P=>u(P.target.value),className:"max-w-md"})})]}),d==="cards"?s.jsx("div",{className:"grid gap-6",children:C.map(P=>s.jsx(Z,{className:"card-hover",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[s.jsx(Jn,{className:"h-16 w-16",children:s.jsx(Zn,{className:"bg-primary text-primary-foreground text-lg",children:P.name.split(" ").map(A=>A[0]).join("")})}),s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:P.name}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pm,{className:"h-3 w-3"}),P.email]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pu,{className:"h-3 w-3"}),P.phone]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ec,{className:"h-3 w-3"}),P.address]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4 text-primary"}),"Animaux (",P.pets.length,")"]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:P.pets.length>0?P.pets.map((A,R)=>s.jsxs(Pe,{variant:"secondary",className:"gap-1",children:[A.name," - ",A.type," ",A.breed&&`(${A.breed})`]},A.id||R)):s.jsx("span",{className:"text-sm text-muted-foreground",children:"Aucun animal enregistré"})})]}),s.jsxs("div",{className:"flex gap-6 text-sm",children:[s.jsxs("span",{children:[s.jsx("strong",{children:"Dernière visite:"})," ",P.lastVisit]}),s.jsxs("span",{children:[s.jsx("strong",{children:"Total visites:"})," ",P.totalVisits]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>S(P),children:[s.jsx(bn,{className:"h-4 w-4"}),"Voir"]}),s.jsxs(B,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>_(P),children:[s.jsx(Mt,{className:"h-4 w-4"}),"Modifier"]})]})]})})},P.id))}):s.jsx(Z,{children:s.jsx(te,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-4 font-medium",children:"Client"}),s.jsx("th",{className:"p-4 font-medium",children:"Contact"}),s.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),s.jsx("th",{className:"p-4 font-medium",children:"Dernière visite"}),s.jsx("th",{className:"p-4 font-medium",children:"Total visites"}),s.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:C.map(P=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jn,{className:"h-10 w-10",children:s.jsx(Zn,{className:"bg-primary text-primary-foreground text-sm",children:P.name.split(" ").map(A=>A[0]).join("")})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:P.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:P.address})]})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm",children:P.email}),s.jsx("div",{className:"text-sm text-muted-foreground",children:P.phone})]})}),s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"flex gap-1 flex-wrap",children:P.pets.length>0?P.pets.map((A,R)=>s.jsx(Pe,{variant:"secondary",className:"text-xs",children:A.name},A.id||R)):s.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucun"})})}),s.jsx("td",{className:"p-4",children:P.lastVisit}),s.jsx("td",{className:"p-4",children:P.totalVisits}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>S(P),children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>_(P),children:s.jsx(Mt,{className:"h-4 w-4"})})]})})]},P.id))})]})})})}),s.jsx(Wx,{open:f,onOpenChange:m}),g&&v&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs(Z,{className:"w-full max-w-2xl mx-4",children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center justify-between",children:["Profil Client - ",g.name,s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>x(!1),children:"✕"})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Nom complet"}),s.jsx("p",{children:g.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Email"}),s.jsx("p",{children:g.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Téléphone"}),s.jsx("p",{children:g.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Ville"}),s.jsx("p",{children:g.city})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Adresse"}),s.jsx("p",{children:g.address})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium",children:["Animaux (",g.pets.length,")"]}),s.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:g.pets.map((P,A)=>s.jsxs(Pe,{variant:"secondary",children:[P.name," - ",P.type," ",P.breed&&`(${P.breed})`]},P.id||A))})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(B,{onClick:()=>k(),children:"Modifier"}),s.jsx(B,{variant:"outline",onClick:()=>x(!1),children:"Fermer"})]})]})]})}),g&&y&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs(Z,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center justify-between",children:["Modifier Client - ",g.name,s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>j(!1),children:"✕"})]})}),s.jsx(te,{children:s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_first_name",children:"Prénom *"}),s.jsx(Y,{id:"edit_first_name",value:w.first_name,onChange:P=>N(A=>({...A,first_name:P.target.value})),placeholder:"Prénom du client",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_last_name",children:"Nom *"}),s.jsx(Y,{id:"edit_last_name",value:w.last_name,onChange:P=>N(A=>({...A,last_name:P.target.value})),placeholder:"Nom du client",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_email",children:"Email"}),s.jsx(Y,{id:"edit_email",type:"email",value:w.email||"",onChange:P=>N(A=>({...A,email:P.target.value})),placeholder:"email@exemple.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_phone",children:"Téléphone"}),s.jsx(Y,{id:"edit_phone",value:w.phone||"",onChange:P=>N(A=>({...A,phone:P.target.value})),placeholder:"06 12 34 56 78"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_mobile_phone",children:"Téléphone mobile"}),s.jsx(Y,{id:"edit_mobile_phone",value:w.mobile_phone||"",onChange:P=>N(A=>({...A,mobile_phone:P.target.value})),placeholder:"06 12 34 56 78"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_city",children:"Ville"}),s.jsx(Y,{id:"edit_city",value:w.city||"Rabat",onChange:P=>N(A=>({...A,city:P.target.value})),placeholder:"Ville"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_address",children:"Adresse"}),s.jsx(Y,{id:"edit_address",value:w.address||"",onChange:P=>N(A=>({...A,address:P.target.value})),placeholder:"Adresse complète"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_postal_code",children:"Code postal"}),s.jsx(Y,{id:"edit_postal_code",value:w.postal_code||"",onChange:P=>N(A=>({...A,postal_code:P.target.value})),placeholder:"10000"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_client_type",children:"Type de client"}),s.jsxs(be,{value:w.client_type||"particulier",onValueChange:P=>N(A=>({...A,client_type:P})),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Type de client"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"particulier",children:"Particulier"}),s.jsx(L,{value:"eleveur",children:"Éleveur"}),s.jsx(L,{value:"ferme",children:"Ferme"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_notes",children:"Notes"}),s.jsx(Ue,{id:"edit_notes",value:w.notes||"",onChange:P=>N(A=>({...A,notes:P.target.value})),placeholder:"Notes supplémentaires...",rows:3})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(B,{type:"submit",disabled:a.isPending,className:"flex-1",children:a.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Sr,{className:"h-4 w-4 animate-spin mr-2"}),"Modification..."]}):"Enregistrer"}),s.jsx(B,{type:"button",variant:"outline",onClick:()=>j(!1),disabled:a.isPending,className:"flex-1",children:"Annuler"})]})]})})]})})]})},$Pe=()=>s.jsx(IPe,{});function RPe({open:e,onOpenChange:t,pet:n}){const[r,a]=b.useState("overview");if(!n)return null;const i=n.birthDate?ku(n.birthDate):"Non renseigné",o=n.weight?`${n.weight} kg`:"Non renseigné";return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-5 w-5"}),"Dossier Médical - ",n.name," (Propriétaire: ",n.owner,")"]})}),s.jsxs(ki,{value:r,onValueChange:a,className:"w-full",children:[s.jsxs(qa,{className:"grid w-full grid-cols-6",children:[s.jsxs(At,{value:"overview",className:"flex items-center gap-1",children:[s.jsx(ra,{className:"h-4 w-4"}),"Vue d'ensemble"]}),s.jsxs(At,{value:"historique",className:"flex items-center gap-1",children:[s.jsx(He,{className:"h-4 w-4"}),"Historique"]}),s.jsxs(At,{value:"prescriptions",className:"flex items-center gap-1",children:[s.jsx(yr,{className:"h-4 w-4"}),"Prescriptions"]}),s.jsxs(At,{value:"vaccinations",className:"flex items-center gap-1",children:[s.jsx(Lr,{className:"h-4 w-4"}),"Vaccinations"]}),s.jsxs(At,{value:"antiparasites",className:"flex items-center gap-1",children:[s.jsx(zn,{className:"h-4 w-4"}),"Antiparasites"]}),s.jsxs(At,{value:"pedigree",className:"flex items-center gap-1",children:[s.jsx(Cg,{className:"h-4 w-4"}),"Pedigree"]})]}),s.jsxs(kt,{value:"overview",className:"space-y-6",children:[s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Informations générales"})}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx(Jn,{className:"h-32 w-32",children:n.photo?s.jsx(Du,{src:n.photo,alt:n.name}):s.jsx(Zn,{className:"bg-primary-glow text-primary-foreground",children:s.jsx(dt,{className:"h-16 w-16"})})}),s.jsxs(B,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(_u,{className:"h-4 w-4"}),"Ajouter photo"]})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:n.name}),s.jsxs("div",{className:"space-y-2 mt-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Type:"})," ",n.type]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Race:"})," ",n.breed||"Non renseignée"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Sexe:"})," ",n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Inconnu"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Âge:"})," ",i]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Date de naissance:"})," ",n.birthDate||"Non renseignée"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Couleur:"})," ",n.color||"Non renseignée"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Poids actuel:"})," ",o]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"N° puce:"})," ",n.microchip||"Non renseigné"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Statut de santé:"}),s.jsx(Pe,{variant:n.status==="healthy"?"default":n.status==="treatment"?"secondary":"destructive",children:n.status==="healthy"?"En bonne santé":n.status==="treatment"?"En traitement":"Urgent"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Propriétaire:"})," ",n.owner]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Dernière visite:"})," ",n.lastVisit||"Aucune"]})]})]})]})})]}),s.jsxs(Z,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsx(de,{children:"Galerie photos"}),s.jsxs(B,{size:"sm",className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Ajouter une photo"]})]}),s.jsx(te,{children:s.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center",children:[s.jsx(_u,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucune photo disponible"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez des photos de l'animal pour enrichir son dossier"})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pg,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),s.jsx("p",{className:"text-lg font-bold",children:o}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"-28.2kg"})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(df,{className:"h-5 w-5 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Température"}),s.jsx("p",{className:"text-lg font-bold",children:"38.5°C"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Moy: 38.5°C"})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),s.jsx("p",{className:"text-lg font-bold",children:"1"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Dernière: 15/01/2024"})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zn,{className:"h-5 w-5 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),s.jsx("p",{className:"text-lg font-bold",children:"1"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"À traiter"})]})]})})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5"}),"Prochain suivi recommandé"]})}),s.jsx(te,{children:s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg",children:[s.jsx("p",{className:"font-medium",children:"Contrôle dans 3 an"}),s.jsxs(B,{size:"sm",className:"mt-2 gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Planifier"]})]})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-red-600",children:"Alertes importantes"})}),s.jsxs(te,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[s.jsx(zn,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:"Contrôle de routine recommandé"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Dernière consultation il y a 20 mois"})]}),s.jsx(B,{size:"sm",variant:"outline",children:"Planifier consultation"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[s.jsx(zn,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"DHPP - 247 jour(s) de retard"})]}),s.jsx(B,{size:"sm",variant:"outline",children:"Planifier vaccination"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[s.jsx(zn,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Lyme - 512 jour(s) de retard"})]}),s.jsx(B,{size:"sm",variant:"outline",children:"Planifier vaccination"})]})]})]})]}),s.jsx(kt,{value:"historique",className:"space-y-4",children:s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Historique médical"})}),s.jsx(te,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(He,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Pas assez de données pour afficher les tendances"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez plus de consultations avec poids et température"})]})})]})}),s.jsx(kt,{value:"prescriptions",className:"space-y-4",children:s.jsxs(Z,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsx(de,{children:"Prescriptions"}),s.jsxs(B,{size:"sm",className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle prescription"]})]}),s.jsx(te,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(yr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucune prescription disponible"})]})})]})}),s.jsx(kt,{value:"vaccinations",className:"space-y-4",children:s.jsxs(Z,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsx(de,{children:"Vaccinations"}),s.jsxs(B,{size:"sm",className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle vaccination"]})]}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm font-medium",children:[s.jsx("div",{children:"Rage"}),s.jsx("div",{children:"DHPP"}),s.jsx("div",{children:"Lyme"})]}),s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Lr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucune vaccination enregistrée"})]})]})})]})}),s.jsx(kt,{value:"antiparasites",className:"space-y-4",children:s.jsxs(Z,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsx(de,{children:"Antiparasitaires"}),s.jsxs(B,{size:"sm",className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouveau traitement"]})]}),s.jsx(te,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(zn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucun traitement antiparasitaire enregistré"})]})})]})}),s.jsx(kt,{value:"pedigree",className:"space-y-4",children:s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Informations de pedigree"})}),s.jsx(te,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Cg,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucune information de pedigree disponible"})]})})]})})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[s.jsx("div",{className:"flex gap-2",children:s.jsxs(B,{variant:"outline",size:"sm",children:[s.jsx(yr,{className:"h-4 w-4 mr-2"}),"Voir Dossier Médical"]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),s.jsxs(B,{children:[s.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Modifier"]})]})]}),s.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium",children:"Animal modifié"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Les informations de ",n.name," ont été mises à jour."]})]})]})})}function LPe({pet:e,consultations:t}){var w,N,C;const n=[...t].sort((S,_)=>new Date(_.date).getTime()-new Date(S.date).getTime()),r=n.filter(S=>S.weight).map(S=>({date:S.date,weight:parseFloat(S.weight)})),a=n.filter(S=>S.temperature).map(S=>({date:S.date,temperature:parseFloat(S.temperature)})),i=((w=r[0])==null?void 0:w.weight)||0,o=((N=r[1])==null?void 0:N.weight)||0,l=i-o,c=l>0?"up":l<0?"down":"stable",u=((C=a[0])==null?void 0:C.temperature)||0,d=a.length>0?a.reduce((S,_)=>S+_.temperature,0)/a.length:0,h=a.length>0?Math.min(...a.map(S=>S.temperature)):0,f=a.length>0?Math.max(...a.map(S=>S.temperature)):0,m=t.length,g=new Date().getMonth(),p=new Date().getFullYear(),v=t.filter(S=>{const _=new Date(S.date);return _.getMonth()===g&&_.getFullYear()===p}).length,x=n[0],y=x?Math.floor((new Date().getTime()-new Date(x.date).getTime())/(1e3*60*60*24)):null,j=[];return u>39.5?j.push({type:"danger",message:"Température élevée",icon:pn}):u<37.5&&j.push({type:"warning",message:"Température basse",icon:pn}),l<-2&&j.push({type:"warning",message:"Perte de poids",icon:$l}),y&&y>180&&j.push({type:"info",message:"Contrôle recommandé",icon:He}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Statistiques médicales"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(Z,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(de,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Pg,{className:"h-4 w-4"}),"Poids actuel"]})}),s.jsxs(te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[i,"kg"]}),l!==0&&s.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[c==="up"?s.jsx(sn,{className:"h-3 w-3 text-green-600"}):c==="down"?s.jsx($l,{className:"h-3 w-3 text-red-600"}):s.jsx(Oq,{className:"h-3 w-3 text-gray-600"}),s.jsxs("span",{className:c==="up"?"text-green-600":c==="down"?"text-red-600":"text-gray-600",children:[Math.abs(l),"kg"]})]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(de,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(df,{className:"h-4 w-4"}),"Température"]})}),s.jsxs(te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[u,"°C"]}),s.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Moy: ",d.toFixed(1),"°C"]}),a.length>1&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Min: ",h,"°C | Max: ",f,"°C"]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(de,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ra,{className:"h-4 w-4"}),"Consultations"]})}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:m}),s.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Ce mois: ",v]}),x&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Dernière: ",new Date(x.date).toLocaleDateString("fr-FR")]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(de,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(pn,{className:"h-4 w-4"}),"Alertes"]})}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:j.length}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:j.length>0?"À traiter":"Aucune"}),j.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:j.slice(0,2).map((S,_)=>s.jsx(Pe,{variant:"outline",className:"text-xs",children:S.message},_))})]})]})]}),j.length>0&&s.jsxs(Z,{className:"border-destructive/20",children:[s.jsx(ue,{children:s.jsx(de,{className:"text-destructive text-base",children:"Alertes médicales"})}),s.jsx(te,{children:s.jsx("div",{className:"space-y-2",children:j.map((S,_)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/5 rounded",children:[s.jsx(S.icon,{className:`h-4 w-4 ${S.type==="danger"?"text-destructive":S.type==="warning"?"text-yellow-600":"text-blue-600"}`}),s.jsx("span",{className:"text-sm font-medium",children:S.message})]},_))})})]}),r.length>1||a.length>1?s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-base",children:"Tendances"})}),s.jsx(te,{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.length>1&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Évolution du poids"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Poids initial:"}),s.jsxs("span",{children:[r[r.length-1].weight,"kg"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Poids actuel:"}),s.jsxs("span",{children:[r[0].weight,"kg"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Évolution totale:"}),s.jsxs("span",{className:r[0].weight>r[r.length-1].weight?"text-green-600":"text-red-600",children:[r[0].weight-r[r.length-1].weight,"kg"]})]})]})]}),a.length>1&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Évolution de la température"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Température moyenne:"}),s.jsxs("span",{children:[d.toFixed(1),"°C"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Variation:"}),s.jsxs("span",{children:[f-h,"°C"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Stabilité:"}),s.jsx("span",{className:f-h<1?"text-green-600":"text-yellow-600",children:f-h<1?"Stable":"Variable"})]})]})]})]})})]}):s.jsx(Z,{children:s.jsxs(te,{className:"p-6 text-center text-muted-foreground",children:[s.jsx(ra,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),s.jsx("p",{children:"Pas assez de données pour afficher les tendances"}),s.jsx("p",{className:"text-sm",children:"Ajoutez plus de consultations avec poids et température"})]})})]})}const WE={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"},FPe=(e,t)=>{const n=t.find(o=>o.id===e.client_id),r=n?`${n.first_name} ${n.last_name}`:"Propriétaire inconnu",a=Math.abs(e.id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0)),i=Math.abs(e.client_id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0));return{id:a,name:e.name,type:e.species,breed:e.breed||"",gender:e.sex==="Mâle"?"male":e.sex==="Femelle"?"female":void 0,birthDate:e.birth_date||"",weight:e.weight?e.weight.toString():"",color:e.color||"",microchip:e.microchip_number||"",medicalNotes:e.notes||"",photo:e.photo_url||"",ownerId:i,owner:r,status:e.status==="vivant"?"healthy":e.status==="décédé"?"urgent":"treatment",lastVisit:e.updated_at?new Date(e.updated_at).toLocaleDateString("fr-FR"):"Jamais",nextAppointment:void 0,vaccinations:[],dbId:e.id,dbClientId:e.client_id}},BPe=()=>{var oe;const{data:e=[],isLoading:t}=dr(),{data:n=[],isLoading:r}=ur(),{data:a}=yZ(),i=aZ(),o=e.map(O=>FPe(O,n)),{data:l=[]}=Cd(),{data:c=[]}=_d(),u=b.useCallback(O=>{var fe;const W=typeof O=="string"?O:(fe=o.find(he=>he.id===O))==null?void 0:fe.dbId;return W?l.filter(he=>he.animal_id===W):[]},[o,l]),d=b.useCallback(O=>{var fe;const W=typeof O=="string"?O:(fe=o.find(he=>he.id===O))==null?void 0:fe.dbId;return W?c.filter(he=>he.animal_id===W):[]},[o,c]),h=b.useCallback(O=>{var W,fe,he,Ye,We,ut;return{id:Math.abs(O.id.split("").reduce(($e,it)=>($e=($e<<5)-$e+it.charCodeAt(0),$e&$e),0)),clientId:Math.abs(O.client_id.split("").reduce(($e,it)=>($e=($e<<5)-$e+it.charCodeAt(0),$e&$e),0)),clientName:(W=O.client)!=null&&W.first_name&&((fe=O.client)!=null&&fe.last_name)?`${O.client.first_name} ${O.client.last_name}`:"Client inconnu",petId:Math.abs(O.animal_id.split("").reduce(($e,it)=>($e=($e<<5)-$e+it.charCodeAt(0),$e&$e),0)),petName:((he=O.animal)==null?void 0:he.name)||"Animal inconnu",date:O.consultation_date||O.created_at,weight:(Ye=O.weight)==null?void 0:Ye.toString(),temperature:(We=O.temperature)==null?void 0:We.toString(),symptoms:O.symptoms,diagnosis:O.diagnosis,treatment:O.treatment,medications:O.medications,followUp:O.follow_up,cost:(ut=O.cost)==null?void 0:ut.toString(),notes:O.notes,photos:O.photos||[],createdAt:O.created_at,purpose:O.consultation_type||"consultation",veterinarian:O.veterinarian_name||"Vétérinaire"}},[]),{currentView:f}=uc("pets"),[m,g]=b.useState(""),[p,v]=b.useState("all"),[x,y]=b.useState("all"),[j,w]=b.useState(f),{settings:N}=_t(),C=N.species.split(",").map(O=>O.trim()).filter(O=>O.length>0),[S,_]=b.useState(!1),[k,E]=b.useState(!1),[P,A]=b.useState(null),[R,$]=b.useState(!1),[K,V]=b.useState(!1),[H,T]=b.useState(!1),{toast:I}=at(),[F,U]=b.useState({client_id:"",name:"",species:"Chien",breed:"",color:"",sex:"Inconnu",weight:void 0,height:void 0,birth_date:"",microchip_number:"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:"",photo_url:"",status:"vivant"}),J=o.filter(O=>{const W=O.name.toLowerCase().includes(m.toLowerCase())||O.breed&&O.breed.toLowerCase().includes(m.toLowerCase())||O.owner.toLowerCase().includes(m.toLowerCase()),fe=p==="all"||O.type.toLowerCase()===p.toLowerCase(),he=x==="all"||O.status===x;return W&&fe&&he}),ae=O=>{A(O),$(!0)},ne=O=>{A(O),U({client_id:O.dbClientId,name:O.name,species:O.type,breed:O.breed||"",color:O.color||"",sex:O.gender==="male"?"Mâle":O.gender==="female"?"Femelle":"Inconnu",weight:O.weight?parseFloat(O.weight):void 0,height:void 0,birth_date:O.birthDate||"",microchip_number:O.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:O.medicalNotes||"",photo_url:O.photo||"",status:O.status==="healthy"?"vivant":O.status==="urgent"?"décédé":"perdu"}),V(!0)},me=()=>{P&&U({client_id:P.dbClientId,name:P.name,species:P.type,breed:P.breed||"",color:P.color||"",sex:P.gender==="male"?"Mâle":P.gender==="female"?"Femelle":"Inconnu",weight:P.weight?parseFloat(P.weight):void 0,height:void 0,birth_date:P.birthDate||"",microchip_number:P.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:P.medicalNotes||"",photo_url:P.photo||"",status:P.status==="healthy"?"vivant":P.status==="urgent"?"décédé":"perdu"}),$(!1),V(!0)},Ne=O=>{A(O),T(!0)},le=()=>{$(!1),T(!0)},re=async()=>{if(P){if(F.microchip_number&&F.microchip_number.trim()&&e.find(W=>W.microchip_number===F.microchip_number.trim()&&W.id!==P.dbId)){I({title:"Erreur",description:"Un animal avec ce numéro de puce existe déjà.",variant:"destructive"});return}try{await i.mutateAsync({id:P.dbId,data:F}),I({title:"Animal modifié",description:`${F.name} a été modifié avec succès.`}),V(!1)}catch{I({title:"Erreur",description:"Une erreur s'est produite lors de la modification de l'animal.",variant:"destructive"})}}},se=b.useMemo(()=>P?u(P.id).map(h):[],[P,u,h]);return s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Animaux"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivez tous les animaux et leurs informations médicales"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:j==="cards"?"default":"outline",onClick:()=>w("cards"),className:"gap-2",children:[s.jsx(Ao,{className:"h-4 w-4"}),"Cartes"]}),s.jsxs(B,{size:"sm",variant:j==="table"?"default":"outline",onClick:()=>w("table"),className:"gap-2",children:[s.jsx(bi,{className:"h-4 w-4"}),"Tableau"]}),s.jsxs(B,{className:"gap-2 medical-glow",onClick:()=>_(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvel Animal"]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total animaux"}),s.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.totalAnimals)||o.length})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"En bonne santé"}),s.jsx("p",{className:"text-2xl font-bold",children:((oe=a==null?void 0:a.animalsByStatus)==null?void 0:oe.vivant)||o.filter(O=>O.status==="healthy").length})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-5 w-5 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"En traitement"}),s.jsx("p",{className:"text-2xl font-bold",children:o.filter(O=>O.status==="treatment").length})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cr,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Clients actifs"}),s.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.totalClients)||n.length})]})]})})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Io,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsx(Y,{placeholder:"Rechercher par nom, race ou propriétaire...",value:m,onChange:O=>g(O.target.value),className:"max-w-md"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(be,{value:p,onValueChange:v,children:[s.jsx(xe,{className:"w-40",children:s.jsx(we,{placeholder:"Tous types"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"all",children:"Tous types"}),C.map((O,W)=>s.jsx(L,{value:O.toLowerCase(),children:O},W))]})]}),s.jsxs(be,{value:x,onValueChange:y,children:[s.jsx(xe,{className:"w-40",children:s.jsx(we,{placeholder:"Statut"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"all",children:"Tous statuts"}),s.jsx(L,{value:"healthy",children:"En bonne santé"}),s.jsx(L,{value:"treatment",children:"En traitement"}),s.jsx(L,{value:"urgent",children:"Urgent"})]})]})]})]})]}),j==="cards"?s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:J.map(O=>s.jsx(Z,{className:"card-hover",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jn,{className:"h-16 w-16",children:O.photo?s.jsx(Du,{src:O.photo,alt:O.name}):s.jsx(Zn,{className:"bg-primary-glow text-primary-foreground",children:s.jsx(dt,{className:"h-8 w-8"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:O.name}),s.jsx("p",{className:"text-muted-foreground",children:O.breed}),s.jsx(Pe,{variant:"outline",className:WE[O.status],children:O.status==="healthy"?"En bonne santé":O.status==="treatment"?"En traitement":"Urgent"})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Type:"})," ",O.type]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Âge:"})," ",O.birthDate?ku(O.birthDate):"Non renseigné"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Poids:"})," ",O.weight]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Couleur:"})," ",O.color]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Cr,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["Propriétaire: ",typeof O.owner=="string"?O.owner:(()=>{const W=n.find(fe=>String(fe.id)===String(O.ownerId));return W?`${W.first_name} ${W.last_name}`:"Non spécifié"})()]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["Dernière visite: ",O.lastVisit?new Date(O.lastVisit).toLocaleDateString("fr-FR"):"Aucune"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(jn,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["Consultations: ",u(O.id).length]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Vaccinations:"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:(()=>{const W=d(O.id);return W.length>0?`${W.length} vaccination${W.length>1?"s":""} enregistrée${W.length>1?"s":""}`:"Aucune vaccination enregistrée"})()})]}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsxs(B,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>ae(O),children:[s.jsx(bn,{className:"h-4 w-4"}),"Voir"]}),s.jsxs(B,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>ne(O),children:[s.jsx(Mt,{className:"h-4 w-4"}),"Modifier"]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(B,{size:"sm",className:"flex-1",onClick:()=>{A(O),E(!0)},children:[s.jsx(jn,{className:"h-4 w-4 mr-2"}),"Consultation"]})})]})})},O.id))}):s.jsx(Z,{children:s.jsx(te,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-4 font-medium",children:"Animal"}),s.jsx("th",{className:"p-4 font-medium",children:"Type"}),s.jsx("th",{className:"p-4 font-medium",children:"Âge"}),s.jsx("th",{className:"p-4 font-medium",children:"Propriétaire"}),s.jsx("th",{className:"p-4 font-medium",children:"Statut"}),s.jsx("th",{className:"p-4 font-medium",children:"Dernière visite"}),s.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:J.map(O=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jn,{className:"h-10 w-10",children:O.photo?s.jsx(Du,{src:O.photo,alt:O.name}):s.jsx(Zn,{className:"bg-primary-glow text-primary-foreground",children:s.jsx(dt,{className:"h-5 w-5"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:O.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:O.breed})]})]})}),s.jsx("td",{className:"p-4",children:O.type}),s.jsx("td",{className:"p-4",children:O.birthDate?ku(O.birthDate):"Non renseigné"}),s.jsx("td",{className:"p-4",children:typeof O.owner=="string"?O.owner:(()=>{const W=n.find(fe=>String(fe.id)===String(O.ownerId));return W?`${W.first_name} ${W.last_name}`:"Non spécifié"})()}),s.jsx("td",{className:"p-4",children:s.jsx(Pe,{variant:"outline",className:WE[O.status],children:O.status==="healthy"?"En bonne santé":O.status==="treatment"?"En traitement":"Urgent"})}),s.jsx("td",{className:"p-4",children:O.lastVisit?new Date(O.lastVisit).toLocaleDateString("fr-FR"):"Aucune"}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>ae(O),children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>ne(O),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>Ne(O),children:"Dossier"})]})})]},O.id))})]})})})}),P&&s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(ra,{className:"h-5 w-5"}),"Statistiques médicales - ",P.name]})}),s.jsx(te,{children:s.jsx(LPe,{pet:P,consultations:se})})]}),s.jsx(Hx,{open:S,onOpenChange:_}),s.jsx(Pd,{open:k,onOpenChange:E}),s.jsx(_3,{open:R,onOpenChange:$,pet:P,onEdit:me,onShowDossier:le}),s.jsx(Ze,{open:K,onOpenChange:V,children:s.jsxs(Ge,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Modifier Animal"}),s.jsx(Rt,{children:"Modifiez les informations de l'animal."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"name",children:"Nom *"}),s.jsx(Y,{id:"name",value:F.name,onChange:O=>U(W=>({...W,name:O.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"species",children:"Espèce *"}),s.jsxs(be,{value:F.species,onValueChange:O=>U(W=>({...W,species:O})),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner l'espèce"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"Chien",children:"Chien"}),s.jsx(L,{value:"Chat",children:"Chat"}),s.jsx(L,{value:"Oiseau",children:"Oiseau"}),s.jsx(L,{value:"Lapin",children:"Lapin"}),s.jsx(L,{value:"Furet",children:"Furet"}),s.jsx(L,{value:"Autre",children:"Autre"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"client_id",children:"Propriétaire *"}),s.jsxs(be,{value:F.client_id,onValueChange:O=>U(W=>({...W,client_id:O})),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner le propriétaire"})}),s.jsx(ye,{children:n.map(O=>s.jsxs(L,{value:O.id,children:[O.first_name," ",O.last_name]},O.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"breed",children:"Race"}),s.jsx(Y,{id:"breed",value:F.breed||"",onChange:O=>U(W=>({...W,breed:O.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"sex",children:"Sexe"}),s.jsxs(be,{value:F.sex,onValueChange:O=>U(W=>({...W,sex:O})),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner le sexe"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"Mâle",children:"Mâle"}),s.jsx(L,{value:"Femelle",children:"Femelle"}),s.jsx(L,{value:"Inconnu",children:"Inconnu"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"birth_date",children:"Date de naissance"}),s.jsx(Y,{id:"birth_date",type:"date",value:F.birth_date||"",onChange:O=>U(W=>({...W,birth_date:O.target.value||void 0}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"weight",children:"Poids (kg)"}),s.jsx(Y,{id:"weight",type:"number",step:"0.1",value:F.weight||"",onChange:O=>U(W=>({...W,weight:O.target.value?parseFloat(O.target.value):void 0}))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"color",children:"Couleur"}),s.jsx(Y,{id:"color",value:F.color||"",onChange:O=>U(W=>({...W,color:O.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"microchip_number",children:"N° puce électronique"}),s.jsx(Y,{id:"microchip_number",value:F.microchip_number||"",onChange:O=>U(W=>({...W,microchip_number:O.target.value}))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes médicales"}),s.jsx(Ue,{id:"notes",value:F.notes||"",onChange:O=>U(W=>({...W,notes:O.target.value})),placeholder:"Notes additionnelles..."})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>V(!1),children:"Annuler"}),s.jsxs(B,{onClick:re,disabled:i.isPending,children:[i.isPending&&s.jsx(Sr,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarder"]})]})]})]})}),s.jsx(RPe,{open:H,onOpenChange:T,pet:P})]})},zPe=()=>s.jsx(BPe,{});function VPe({open:e,onOpenChange:t}){const{data:n=[]}=ur(),{data:r=[]}=dr(),a=SZ(),{toast:i}=at(),[o,l]=b.useState({clientId:"",animalId:"",date:"",time:"",appointmentType:"consultation",notes:""}),[c,u]=b.useState([]),d=async m=>{if(m.preventDefault(),!o.clientId||!o.animalId||!o.date||!o.time){i({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}try{const g=new Date(`${o.date}T${o.time}:00`);await a.mutateAsync({client_id:o.clientId,animal_id:o.animalId,appointment_date:g.toISOString(),appointment_type:o.appointmentType,notes:o.notes||void 0,duration_minutes:30}),i({title:"Succès",description:"Rendez-vous créé avec succès"}),l({clientId:"",animalId:"",date:"",time:"",appointmentType:"consultation",notes:""}),u([]),t(!1)}catch(g){console.error("Error creating appointment:",g),i({title:"Erreur",description:"Impossible de créer le rendez-vous",variant:"destructive"})}},h=m=>{l(p=>({...p,clientId:m,animalId:""}));const g=r.filter(p=>p.client_id===m);u(g)},f=m=>`${m.first_name} ${m.last_name}`;return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-2xl",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5"}),"Nouveau Rendez-vous"]}),s.jsx(Rt,{children:"Créer un nouveau rendez-vous pour un client et son animal"})]}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"client",children:"Client *"}),s.jsxs(be,{value:o.clientId,onValueChange:h,children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner un client"})}),s.jsx(ye,{children:n.map(m=>s.jsx(L,{value:m.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cr,{className:"h-4 w-4"}),f(m)]})},m.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"animal",children:"Animal *"}),s.jsxs(be,{value:o.animalId,onValueChange:m=>l(g=>({...g,animalId:m})),disabled:!o.clientId,children:[s.jsx(xe,{children:s.jsx(we,{placeholder:o.clientId?"Sélectionner un animal":"Sélectionner d'abord un client"})}),s.jsx(ye,{children:c.map(m=>s.jsx(L,{value:m.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),m.name," (",m.species,")"]})},m.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"date",children:"Date *"}),s.jsx(Y,{id:"date",type:"date",value:o.date,onChange:m=>l(g=>({...g,date:m.target.value})),min:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"time",children:"Heure *"}),s.jsx(Y,{id:"time",type:"time",value:o.time,onChange:m=>l(g=>({...g,time:m.target.value}))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"type",children:"Type de rendez-vous"}),s.jsxs(be,{value:o.appointmentType,onValueChange:m=>l(g=>({...g,appointmentType:m})),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"consultation",children:"Consultation"}),s.jsx(L,{value:"vaccination",children:"Vaccination"}),s.jsx(L,{value:"surgery",children:"Chirurgie"}),s.jsx(L,{value:"follow-up",children:"Contrôle/Suivi"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes (optionnel)"}),s.jsx(Ue,{id:"notes",placeholder:"Notes additionnelles sur le rendez-vous...",value:o.notes,onChange:m=>l(g=>({...g,notes:m.target.value})),rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(B,{type:"submit",disabled:a.isPending,children:a.isPending?"Création...":"Créer le rendez-vous"})]})]})]})})}function qPe(e,t,n){const r=[],{openingTime:a,closingTime:i,slotDuration:o,lunchBreakStart:l,lunchBreakEnd:c}=t,u=Ip(a),d=Ip(i),h=l?Ip(l):null,f=c?Ip(c):null;for(let m=u;m<d;m+=o){const g=UPe(m),p=h&&f&&m>=h&&m<f,v=n.some(x=>x.date===e&&x.time===g);r.push({time:g,isAvailable:!v&&!p,isLunchBreak:!!p})}return r}function Ip(e){const[t,n]=e.split(":").map(Number);return t*60+n}function UPe(e){const t=Math.floor(e/60),n=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function WPe(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"long"})}function HPe(e,t){const n=WPe(e).toLowerCase();return t.workingDays.includes(n)}const HE=(e,t)=>{switch(e){case"appointment":switch(t){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}case"vaccination":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}case"antiparasitic":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}default:return"bg-gray-100 text-gray-800 border-gray-200"}},KE=(e,t)=>{switch(e){case"appointment":return s.jsx(Jt,{className:"h-3 w-3"});case"vaccination":return s.jsx(On,{className:"h-3 w-3"});case"antiparasitic":return s.jsx(pn,{className:"h-3 w-3"});default:return s.jsx(He,{className:"h-3 w-3"})}},KPe=({events:e,onEventClick:t,onDateClick:n,onTimeSlotClick:r,showTimeSlots:a=!1,title:i="Calendrier",icon:o=s.jsx(He,{className:"h-5 w-5"})})=>{var C;const{settings:l}=_t(),[c,u]=b.useState(new Date),[d,h]=b.useState(""),f=new Date(c.getFullYear(),c.getMonth(),1),m=new Date(c.getFullYear(),c.getMonth()+1,0),g=new Date(f);g.setDate(g.getDate()-f.getDay());const p=[],v=new Date(g);for(;v<=m||p.length<42;)p.push(new Date(v)),v.setDate(v.getDate()+1);const x=b.useMemo(()=>{const S={};return e.forEach(_=>{const k=_.date;S[k]||(S[k]=[]),S[k].push(_)}),S},[e]),y=b.useMemo(()=>!d||!a?[]:qPe(d,l.scheduleSettings,[]),[d,a,l.scheduleSettings]),j=S=>{const _=new Date(c);_.setMonth(c.getMonth()+(S==="next"?1:-1)),u(_)},w=S=>{const _=Xe(S,"yyyy-MM-dd");h(_),n==null||n(_)},N=S=>{r&&d&&r(d,S)};return s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs(Z,{children:[s.jsx(ue,{className:"pb-3 sm:pb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[s.jsxs(de,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o,i]}),s.jsxs("div",{className:"flex items-center justify-between sm:gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>j("prev"),className:"flex-1 sm:flex-none",children:"←"}),s.jsx("span",{className:"font-medium text-sm sm:text-base px-2 sm:min-w-[140px] text-center",children:Xe(c,"MMMM yyyy",{locale:In})}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>j("next"),className:"flex-1 sm:flex-none",children:"→"})]})]})}),s.jsxs(te,{className:"p-2 sm:p-6",children:[s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2 sm:mb-4",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(S=>s.jsx("div",{className:"p-1 sm:p-2 text-center text-xs sm:text-sm font-medium text-gray-500",children:S},S))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:p.map((S,_)=>{const k=Xe(S,"yyyy-MM-dd"),E=x[k]||[],P=S.getMonth()===c.getMonth(),A=KZ(S,new Date),R=k===d,$=HPe(k,l.scheduleSettings);return s.jsxs("div",{className:`
                    min-h-[60px] sm:min-h-[80px] p-1 border rounded-lg relative cursor-pointer hover:bg-muted/50
                    ${P?"bg-white":"bg-gray-50"}
                    ${A?"ring-2 ring-blue-500":""}
                    ${R?"bg-blue-100 border-blue-300":""}
                    ${$?"":"opacity-50"}
                  `,onClick:()=>w(S),children:[s.jsx("div",{className:`text-xs sm:text-sm font-medium ${P?"text-gray-900":"text-gray-400"}`,children:S.getDate()}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1 mt-0.5 sm:mt-1",children:[E.slice(0,2).map((K,V)=>s.jsx("div",{className:`
                          text-xs p-0.5 sm:p-1 rounded text-center truncate border cursor-pointer
                          ${HE(K.type,K.status)}
                        `,title:`${K.title}${K.time?` - ${K.time}`:""}${K.clientName?` (${K.clientName})`:""}`,onClick:H=>{H.stopPropagation(),t==null||t(K)},children:s.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 justify-center",children:[KE(K.type,K.status),s.jsx("span",{className:"truncate text-xs",children:K.title})]})},V)),E.length>2&&s.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",E.length-2]})]})]},_)})})]})]}),d&&s.jsxs(Z,{children:[s.jsx(ue,{className:"pb-3",children:s.jsx(de,{className:"text-base sm:text-lg",children:Xe(new Date(d),"EEEE d MMMM yyyy",{locale:In})})}),s.jsxs(te,{className:"p-3 sm:p-6",children:[((C=x[d])==null?void 0:C.length)>0?s.jsx("div",{className:"space-y-3",children:x[d].map(S=>s.jsxs("div",{className:`
                      p-3 rounded-lg border cursor-pointer hover:shadow-sm
                      ${HE(S.type,S.status)}
                    `,onClick:()=>t==null?void 0:t(S),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[KE(S.type,S.status),s.jsx("span",{className:"font-medium",children:S.title})]}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:S.status})]}),S.time&&s.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[s.jsx(Jt,{className:"h-3 w-3"}),s.jsx("span",{children:S.time})]}),S.clientName&&s.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[s.jsx(Cr,{className:"h-3 w-3"}),s.jsx("span",{children:S.clientName})]}),S.petName&&s.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[s.jsx(dt,{className:"h-3 w-3"}),s.jsx("span",{children:S.petName})]})]},S.id))}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun événement prévu pour cette date"}),a&&y.length>0&&s.jsxs("div",{className:"mt-4 sm:mt-6",children:[s.jsx("h4",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:"Créneaux disponibles"}),s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-1 sm:gap-2",children:y.map(S=>s.jsxs(B,{variant:S.isAvailable?"outline":"ghost",size:"sm",disabled:!S.isAvailable,onClick:()=>N(S.time),className:"text-xs p-1 sm:p-2",children:[S.time,S.isLunchBreak&&s.jsx(Pe,{variant:"secondary",className:"ml-1 text-xs hidden sm:inline",children:"Pause"})]},S.time))})]})]})]})]})},GE={scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800","no-show":"bg-orange-100 text-orange-800"},xj={scheduled:"Planifié",confirmed:"Confirmé",completed:"Terminé",cancelled:"Annulé","no-show":"Absent"},YE={consultation:"Consultation générale",vaccination:"Vaccination",chirurgie:"Chirurgie",urgence:"Urgence",controle:"Contrôle post-opératoire",sterilisation:"Stérilisation",dentaire:"Soins dentaires"};function GPe(){const{data:e=[],isLoading:t,error:n}=FS(),r=CZ(),a=_Z(),{toast:i}=at(),{currentView:o}=uc("appointments"),[l,c]=b.useState(!1),[u,d]=b.useState(""),[h,f]=b.useState("all"),[m,g]=b.useState("all"),[p,v]=b.useState("all"),[x,y]=b.useState(new Date().toISOString().split("T")[0]),[j,w]=b.useState("list"),[N,C]=b.useState(o),[S,_]=b.useState(!1),[k,E]=b.useState(null),[P,A]=b.useState(null),[R,$]=b.useState(""),K=ie=>new Date(ie).toLocaleDateString("fr-FR"),V=ie=>new Date(ie).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),H=ie=>new Date(ie.appointment_date).toISOString().split("T")[0],T=ie=>new Date(ie.appointment_date).toTimeString().slice(0,5),[I,F]=b.useState(()=>{const ie=new Date;return new Date(ie.getFullYear(),ie.getMonth(),1)}),U=ie=>ie.client?`${ie.client.first_name} ${ie.client.last_name}`:"Unknown Client",J=ie=>{var Me;return((Me=ie.animal)==null?void 0:Me.name)||"Unknown Animal"},ae=()=>{const ie=new Date;return e.filter(Me=>new Date(Me.appointment_date)>ie)},ne=()=>{const ie=new Date;return e.filter(Me=>new Date(Me.appointment_date)<ie&&Me.status==="scheduled")},me=ae(),Ne=ne(),le=e.filter(ie=>{const Me=U(ie),jt=J(ie),Ft=Me.toLowerCase().includes(u.toLowerCase())||jt.toLowerCase().includes(u.toLowerCase())||ie.notes&&ie.notes.toLowerCase().includes(u.toLowerCase()),Kn=h==="all"||ie.status===h,pt=m==="all"||ie.appointment_type===m;let Ot=!0;const Sn=new Date(ie.appointment_date),er=Sn.toISOString().split("T")[0];if(p==="today")Ot=er===new Date().toISOString().split("T")[0];else if(p==="week"){const Kr=new Date,vn=new Date(Kr.getTime()+7*24*60*60*1e3);Ot=Sn>=Kr&&Sn<=vn}else if(p==="month"){const Kr=new Date,vn=Kr.getMonth(),Di=Kr.getFullYear();Ot=Sn.getMonth()===vn&&Sn.getFullYear()===Di}else p==="specific"&&(Ot=er===x);return Ft&&Kn&&pt&&Ot}),re=async(ie,Me)=>{try{await r.mutateAsync({id:ie,data:{status:Me}}),i({title:"Statut mis à jour",description:`Le rendez-vous est maintenant ${xj[Me].toLowerCase()}.`})}catch{i({title:"Erreur",description:"Impossible de mettre à jour le statut",variant:"destructive"})}},se=async()=>{if(!P)return;const{id:ie,field:Me}=P;if(e.find(Ft=>Ft.id===ie))try{await r.mutateAsync({id:ie,data:{[Me]:R}}),i({title:"Modifié",description:`${Me} mis à jour`})}catch{i({title:"Erreur",description:"Impossible de mettre à jour",variant:"destructive"})}A(null)},oe=async ie=>{E(ie),_(!0)},O=async()=>{if(!k)return;const ie=J(k);try{await a.mutateAsync(k.id),i({title:"Rendez-vous supprimé",description:`Le rendez-vous pour ${ie} a été supprimé.`}),_(!1),E(null)}catch{i({title:"Erreur",description:"Impossible de supprimer le rendez-vous",variant:"destructive"})}},W=ie=>e.filter(Me=>new Date(Me.appointment_date).toISOString().split("T")[0]===ie),he=(()=>{const ie=new Date().toISOString().split("T")[0];return W(ie)})(),Ye=I.getFullYear(),We=I.getMonth(),ut=new Date(Ye,We,1).getDay(),$e=new Date(Ye,We+1,0).getDate();let it=1-ut;for(;it<=$e;){const ie=[];for(let Me=0;Me<7;Me++)it>0&&it<=$e?ie.push(it):ie.push(0),it++}return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des rendez-vous..."})]})}):n?s.jsx("div",{className:"p-6",children:s.jsx(Z,{className:"border-red-200 bg-red-50",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center text-red-800",children:[s.jsx(zn,{className:"w-5 h-5 mr-2"}),s.jsxs("span",{children:["Erreur lors du chargement des rendez-vous: ",n.message]})]})})})}):s.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Gestion des Rendez-vous"}),s.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Planifiez et gérez tous vos rendez-vous vétérinaires"})]}),s.jsxs(B,{onClick:()=>c(!0),className:"gap-2 w-full sm:w-auto",children:[s.jsx(nt,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Nouveau Rendez-vous"}),s.jsx("span",{className:"sm:hidden",children:"Nouveau RDV"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:j==="list"?"default":"outline",onClick:()=>w("list"),size:"sm",className:"flex-1 sm:flex-none",children:"Liste"}),s.jsx(B,{variant:j==="calendar"?"default":"outline",onClick:()=>w("calendar"),size:"sm",className:"flex-1 sm:flex-none",children:"Calendrier"})]}),j==="list"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:N==="cards"?"default":"outline",onClick:()=>C("cards"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[s.jsx(Ao,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Cartes"})]}),s.jsxs(B,{size:"sm",variant:N==="table"?"default":"outline",onClick:()=>C("table"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[s.jsx(bi,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Tableau"})]})]})]}),j==="calendar"?s.jsx(KPe,{events:e.map(ie=>({id:parseInt(ie.id),type:"appointment",title:`${U(ie)} - ${J(ie)}`,time:T(ie),date:H(ie),status:ie.status,clientName:U(ie),petName:J(ie)})),onEventClick:ie=>{},onDateClick:ie=>{y(ie)},onTimeSlotClick:(ie,Me)=>{c(!0)},showTimeSlots:!0,title:"Calendrier des Rendez-vous",icon:s.jsx(He,{className:"h-5 w-5"})}):s.jsxs("div",{className:"grid gap-2 sm:gap-4 grid-cols-2 lg:grid-cols-4",children:[s.jsx(Z,{children:s.jsx(te,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Aujourd'hui"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:he.length})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"À venir"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:me.length})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"En retard"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:Ne.length})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:e.length})]})]})})})]}),s.jsxs(Z,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs(de,{className:"flex items-center gap-2 text-base sm:text-lg",children:[s.jsx(sI,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Filtres et Recherche"]})}),s.jsx(te,{className:"space-y-3 sm:space-y-4",children:s.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(mh,{children:"Recherche"}),s.jsxs("div",{className:"relative",children:[s.jsx(Io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Y,{placeholder:"Client, animal, motif...",value:u,onChange:ie=>d(ie.target.value),className:"pl-10"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(mh,{children:"Statut"}),s.jsxs(be,{value:h,onValueChange:f,children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"all",children:"Tous les statuts"}),s.jsx(L,{value:"scheduled",children:"Planifié"}),s.jsx(L,{value:"confirmed",children:"Confirmé"}),s.jsx(L,{value:"completed",children:"Terminé"}),s.jsx(L,{value:"cancelled",children:"Annulé"}),s.jsx(L,{value:"no-show",children:"Absent"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(mh,{children:"Type"}),s.jsxs(be,{value:m,onValueChange:g,children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"all",children:"Tous les types"}),s.jsx(L,{value:"consultation",children:"Consultation"}),s.jsx(L,{value:"vaccination",children:"Vaccination"}),s.jsx(L,{value:"chirurgie",children:"Chirurgie"}),s.jsx(L,{value:"urgence",children:"Urgence"}),s.jsx(L,{value:"controle",children:"Contrôle"}),s.jsx(L,{value:"sterilisation",children:"Stérilisation"}),s.jsx(L,{value:"dentaire",children:"Dentaire"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(mh,{children:"Période"}),s.jsxs(be,{value:p,onValueChange:v,children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"all",children:"Toutes les dates"}),s.jsx(L,{value:"today",children:"Ce jour"}),s.jsx(L,{value:"week",children:"Cette semaine"}),s.jsx(L,{value:"month",children:"Ce mois"}),s.jsx(L,{value:"specific",children:"Date spécifique"})]})]})]}),p==="specific"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(mh,{children:"Date"}),s.jsx(Y,{type:"date",value:x,onChange:ie=>y(ie.target.value)})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h2",{className:"text-xl font-semibold",children:["Rendez-vous (",le.length,")"]})}),le.length===0?s.jsx(Z,{children:s.jsxs(te,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(He,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucun rendez-vous trouvé"}),s.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier rendez-vous"})]})}):N==="cards"?s.jsx("div",{className:"space-y-4",children:le.sort((ie,Me)=>new Date(ie.appointment_date).getTime()-new Date(Me.appointment_date).getTime()).map(ie=>s.jsx(Z,{className:"card-hover",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-4 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:U(ie)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:J(ie)})]}),s.jsx(Pe,{className:GE[ie.status],children:xj[ie.status]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:K(ie.appointment_date)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:V(ie.appointment_date)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"ml-1",children:YE[ie.appointment_type]||ie.appointment_type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Durée:"}),s.jsxs("span",{className:"ml-1",children:[ie.duration_minutes||30," min"]})]})]}),ie.notes&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Motif:"}),s.jsx("p",{className:"text-sm mt-1",children:ie.notes})]}),ie.notes&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Notes:"}),s.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:ie.notes})]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[ie.status==="scheduled"&&s.jsxs(s.Fragment,{children:[s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>re(ie.id,"confirmed"),className:"gap-1",children:[s.jsx(On,{className:"h-3 w-3"}),"Confirmer"]}),s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>re(ie.id,"cancelled"),className:"gap-1 text-red-600",children:[s.jsx(uf,{className:"h-3 w-3"}),"Annuler"]})]}),ie.status==="confirmed"&&s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>re(ie.id,"completed"),className:"gap-1",children:[s.jsx(On,{className:"h-3 w-3"}),"Terminer"]}),s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>oe(ie),className:"gap-1 text-red-600",children:[s.jsx(Un,{className:"h-3 w-3"}),"Supprimer"]})]})]})})},ie.id))}):s.jsx(Z,{children:s.jsx(te,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-4 font-medium",children:"Client / Animal"}),s.jsx("th",{className:"p-4 font-medium",children:"Date & Heure"}),s.jsx("th",{className:"p-4 font-medium",children:"Type"}),s.jsx("th",{className:"p-4 font-medium",children:"Statut"}),s.jsx("th",{className:"p-4 font-medium",children:"Motif"}),s.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:le.sort((ie,Me)=>new Date(ie.appointment_date).getTime()-new Date(Me.appointment_date).getTime()).map(ie=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:U(ie)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:J(ie)})]})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{A({id:ie.id,field:"date"}),$(H(ie))},children:[s.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),(P==null?void 0:P.id)===ie.id&&P.field==="date"?s.jsx(Y,{type:"date",value:R,onChange:Me=>$(Me.target.value),onBlur:se,autoFocus:!0,className:"w-32"}):s.jsx("span",{children:K(ie.appointment_date)})]}),s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{A({id:ie.id,field:"time"}),$(T(ie))},children:[s.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"}),(P==null?void 0:P.id)===ie.id&&P.field==="time"?s.jsx(Y,{type:"time",value:R,onChange:Me=>$(Me.target.value),onBlur:se,autoFocus:!0,className:"w-24"}):s.jsx("span",{className:"text-sm text-muted-foreground",children:V(ie.appointment_date)})]})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:YE[ie.appointment_type]||ie.appointment_type}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[ie.duration_minutes||30," min"]})]})}),s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"cursor-pointer",onClick:()=>{A({id:ie.id,field:"status"}),$(ie.status)},children:(P==null?void 0:P.id)===ie.id&&P.field==="status"?s.jsxs(be,{value:R,onValueChange:Me=>{$(Me),re(ie.id,Me),A(null)},children:[s.jsx(xe,{className:"w-32",children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"scheduled",children:"Planifié"}),s.jsx(L,{value:"confirmed",children:"Confirmé"}),s.jsx(L,{value:"completed",children:"Terminé"}),s.jsx(L,{value:"cancelled",children:"Annulé"}),s.jsx(L,{value:"no-show",children:"Absent"})]})]}):s.jsx(Pe,{className:GE[ie.status],children:xj[ie.status]})})}),s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"max-w-xs cursor-pointer",onClick:()=>{A({id:ie.id,field:"reason"}),$(ie.notes||"")},children:(P==null?void 0:P.id)===ie.id&&P.field==="reason"?s.jsx(Y,{value:R,onChange:Me=>$(Me.target.value),onBlur:se,autoFocus:!0,placeholder:"Motif du rendez-vous"}):s.jsxs(s.Fragment,{children:[ie.notes&&s.jsx("div",{className:"text-sm",children:ie.notes}),ie.notes&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:ie.notes})]})})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-1",children:[ie.status==="scheduled"&&s.jsxs(s.Fragment,{children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>re(ie.id,"confirmed"),children:s.jsx(On,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>re(ie.id,"cancelled"),className:"text-red-600",children:s.jsx(uf,{className:"h-3 w-3"})})]}),ie.status==="confirmed"&&s.jsx(B,{size:"sm",variant:"outline",onClick:()=>re(ie.id,"completed"),children:s.jsx(On,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>oe(ie),className:"text-red-600",children:s.jsx(Un,{className:"h-3 w-3"})})]})})]},ie.id))})]})})})})]}),s.jsx(VPe,{open:l,onOpenChange:c}),s.jsx(Ze,{open:S,onOpenChange:_,children:s.jsxs(Ge,{className:"max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Confirmer la suppression"})}),k&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-600",children:["Êtes-vous sûr de vouloir supprimer le rendez-vous pour ",s.jsx("strong",{children:J(k)})," ?"]}),s.jsx("p",{className:"text-sm text-red-600",children:"Cette action est irréversible."}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>_(!1),children:"Annuler"}),s.jsx(B,{variant:"destructive",onClick:O,children:"Supprimer"})]})]})]})})]})}const mh=({children:e,...t})=>s.jsx("label",{className:"text-sm font-medium",...t,children:e});function YPe({open:e,onOpenChange:t,consultation:n}){const{data:r=[]}=ur(),{data:a=[]}=dr(),i=j3(),{toast:o}=at(),{settings:l}=_t(),[c,u]=b.useState({client_id:"",animal_id:"",consultation_date:"",consultation_type:"routine",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",notes:"",cost:"",follow_up_date:"",follow_up_notes:"",status:"completed"}),d=a.filter(g=>g.client_id===c.client_id);b.useEffect(()=>{var g,p,v;n&&e&&u({client_id:n.client_id||"",animal_id:n.animal_id||"",consultation_date:n.consultation_date?n.consultation_date.split("T")[0]:"",consultation_type:n.consultation_type||"routine",weight:((g=n.weight)==null?void 0:g.toString())||"",temperature:((p=n.temperature)==null?void 0:p.toString())||"",symptoms:n.symptoms||"",diagnosis:n.diagnosis||"",treatment:n.treatment||"",notes:n.notes||"",cost:((v=n.cost)==null?void 0:v.toString())||"",follow_up_date:n.follow_up_date||"",follow_up_notes:n.follow_up_notes||"",status:n.status||"completed"})},[n,e]);const h=g=>{u(p=>({...p,[g.target.id]:g.target.value}))},f=(g,p)=>{u(v=>({...v,[g]:p})),g==="client_id"&&u(v=>({...v,animal_id:""}))},m=async g=>{if(g.preventDefault(),!!n){if(!c.client_id||!c.animal_id){o({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}try{const p={client_id:c.client_id,animal_id:c.animal_id,consultation_date:c.consultation_date+"T00:00:00.000Z",consultation_type:c.consultation_type,symptoms:c.symptoms||void 0,diagnosis:c.diagnosis||void 0,treatment:c.treatment||void 0,notes:c.notes||void 0,weight:c.weight?parseFloat(c.weight):void 0,temperature:c.temperature?parseFloat(c.temperature):void 0,cost:c.cost?parseFloat(c.cost):void 0,follow_up_date:c.follow_up_date||null,follow_up_notes:c.follow_up_notes||void 0,status:c.status};await i.mutateAsync({id:n.id,data:p}),o({title:"Consultation modifiée",description:"La consultation a été modifiée avec succès."}),t(!1)}catch(p){console.error("Error updating consultation:",p),o({title:"Erreur",description:"Une erreur est survenue lors de la modification de la consultation.",variant:"destructive"})}}};return r.find(g=>g.id===c.client_id),a.find(g=>g.id===c.animal_id),s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Modifier la consultation"}),s.jsx(Rt,{children:"Modifiez les informations de la consultation"})]}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"client_id",children:"Client *"}),s.jsxs(be,{value:c.client_id,onValueChange:g=>f("client_id",g),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner un client"})}),s.jsx(ye,{children:r.map(g=>s.jsxs(L,{value:g.id,children:[g.first_name," ",g.last_name]},g.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"animal_id",children:"Animal *"}),s.jsxs(be,{value:c.animal_id,onValueChange:g=>f("animal_id",g),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner un animal"})}),s.jsx(ye,{children:d.map(g=>s.jsxs(L,{value:g.id,children:[g.name," (",g.species,")"]},g.id))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"consultation_date",children:"Date de consultation *"}),s.jsx(Y,{id:"consultation_date",type:"date",value:c.consultation_date,onChange:h,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"consultation_type",children:"Type de consultation"}),s.jsxs(be,{value:c.consultation_type,onValueChange:g=>f("consultation_type",g),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"routine",children:"Routine"}),s.jsx(L,{value:"emergency",children:"Urgence"}),s.jsx(L,{value:"follow-up",children:"Suivi"}),s.jsx(L,{value:"vaccination",children:"Vaccination"}),s.jsx(L,{value:"surgery",children:"Chirurgie"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"weight",children:"Poids (kg)"}),s.jsx(Y,{id:"weight",type:"number",step:"0.1",placeholder:"Ex: 5.2",value:c.weight,onChange:h})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"temperature",children:"Température (°C)"}),s.jsx(Y,{id:"temperature",type:"number",step:"0.1",placeholder:"Ex: 38.5",value:c.temperature,onChange:h})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"symptoms",children:"Symptômes"}),s.jsx(Ue,{id:"symptoms",placeholder:"Décrivez les symptômes observés...",value:c.symptoms,onChange:h,rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"diagnosis",children:"Diagnostic"}),s.jsx(Ue,{id:"diagnosis",placeholder:"Diagnostic posé...",value:c.diagnosis,onChange:h,rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"treatment",children:"Traitement"}),s.jsx(Ue,{id:"treatment",placeholder:"Traitement prescrit...",value:c.treatment,onChange:h,rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(D,{htmlFor:"cost",children:["Coût (",l.currency,")"]}),s.jsx(Y,{id:"cost",type:"number",step:"0.01",placeholder:"0.00",value:c.cost,onChange:h})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"follow_up_date",children:"Date de suivi"}),s.jsx(Y,{id:"follow_up_date",type:"date",value:c.follow_up_date,onChange:h})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"follow_up_notes",children:"Notes de suivi"}),s.jsx(Ue,{id:"follow_up_notes",placeholder:"Notes pour le suivi...",value:c.follow_up_notes,onChange:h,rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes supplémentaires"}),s.jsx(Ue,{id:"notes",placeholder:"Notes supplémentaires...",value:c.notes,onChange:h,rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"status",children:"Statut"}),s.jsxs(be,{value:c.status,onValueChange:g=>f("status",g),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"scheduled",children:"Programmé"}),s.jsx(L,{value:"in-progress",children:"En cours"}),s.jsx(L,{value:"completed",children:"Terminé"}),s.jsx(L,{value:"cancelled",children:"Annulé"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(B,{type:"submit",disabled:i.isPending,children:i.isPending?"Modification...":"Modifier"})]})]})]})})}function QE({consultation:e}){const{settings:t}=_t(),n=()=>{var r,a,i,o,l,c,u,d,h;try{const f=window.open("",`print_consultation_${e.id}`,"height=800,width=800");if(!f){alert("L'impression a été bloquée par le navigateur. Veuillez autoriser les popups pour ce site.");return}const m=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Consultation - ${((r=e.animal)==null?void 0:r.name)||"Animal"}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 10px;
              margin-bottom: 20px;
            }
            .clinic-info {
              text-align: center;
              color: #666;
              margin-bottom: 30px;
            }
            .consultation-info {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
              margin-bottom: 30px;
            }
            .info-section {
              border: 1px solid #ddd;
              padding: 15px;
              border-radius: 5px;
            }
            .info-title {
              font-weight: bold;
              color: #333;
              margin-bottom: 10px;
              font-size: 14px;
              text-transform: uppercase;
            }
            .info-content {
              color: #666;
            }
            .medical-section {
              margin-bottom: 20px;
            }
            .medical-title {
              font-weight: bold;
              color: #333;
              margin-bottom: 8px;
              border-bottom: 1px solid #eee;
              padding-bottom: 4px;
            }
            .medical-content {
              color: #666;
              margin-bottom: 15px;
            }
            .vitals {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 15px;
              margin-bottom: 20px;
            }
            .vital-item {
              text-align: center;
              padding: 10px;
              border: 1px solid #ddd;
              border-radius: 5px;
            }
            .vital-label {
              font-size: 12px;
              color: #666;
              margin-bottom: 5px;
            }
            .vital-value {
              font-size: 18px;
              font-weight: bold;
              color: #333;
            }
            .footer {
              margin-top: 40px;
              text-align: center;
              color: #666;
              font-size: 12px;
              border-top: 1px solid #ddd;
              padding-top: 20px;
            }
            @media print {
              body { 
                margin: 0; 
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
              }
              .header { page-break-after: avoid; }
              @page { size: auto; margin: 10mm; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>${t.clinicName||"Clinique Vétérinaire"}</h1>
            <div class="clinic-info">
              <p>${t.address||""}</p>
              <p>Tél: ${t.phone||""} | Email: ${t.email||""}</p>
            </div>
            <h2>Rapport de Consultation</h2>
          </div>

          <div class="consultation-info">
            <div class="info-section">
              <div class="info-title">Informations Client</div>
              <div class="info-content">
                <strong>Nom:</strong> ${((a=e.client)==null?void 0:a.first_name)||""} ${((i=e.client)==null?void 0:i.last_name)||""}<br>
                <strong>Téléphone:</strong> ${((o=e.client)==null?void 0:o.phone)||"N/A"}<br>
                <strong>Email:</strong> ${((l=e.client)==null?void 0:l.email)||"N/A"}
              </div>
            </div>
            
            <div class="info-section">
              <div class="info-title">Informations Animal</div>
              <div class="info-content">
                <strong>Nom:</strong> ${((c=e.animal)==null?void 0:c.name)||"N/A"}<br>
                <strong>Espèce:</strong> ${((u=e.animal)==null?void 0:u.species)||"N/A"}<br>
                <strong>Race:</strong> ${((d=e.animal)==null?void 0:d.breed)||"N/A"}<br>
                <strong>Âge:</strong> ${(h=e.animal)!=null&&h.birth_date?Math.floor((new Date().getTime()-new Date(e.animal.birth_date).getTime())/(365.25*24*60*60*1e3))+" ans":"N/A"}
              </div>
            </div>
          </div>

          <div class="info-section" style="margin-bottom: 20px;">
            <div class="info-title">Détails de la Consultation</div>
            <div class="info-content">
              <strong>Date:</strong> ${new Date(e.consultation_date).toLocaleDateString("fr-FR")}<br>
              <strong>Type:</strong> ${e.consultation_type||"Routine"}<br>
              <strong>Statut:</strong> ${e.status||"Terminé"}
            </div>
          </div>

          ${e.weight||e.temperature||e.heart_rate||e.respiratory_rate?`
          <div class="vitals">
            ${e.weight?`
            <div class="vital-item">
              <div class="vital-label">Poids</div>
              <div class="vital-value">${e.weight} kg</div>
            </div>
            `:""}
            ${e.temperature?`
            <div class="vital-item">
              <div class="vital-label">Température</div>
              <div class="vital-value">${e.temperature}°C</div>
            </div>
            `:""}
            ${e.heart_rate?`
            <div class="vital-item">
              <div class="vital-label">Fréquence Cardiaque</div>
              <div class="vital-value">${e.heart_rate} bpm</div>
            </div>
            `:""}
            ${e.respiratory_rate?`
            <div class="vital-item">
              <div class="vital-label">Fréquence Respiratoire</div>
              <div class="vital-value">${e.respiratory_rate}/min</div>
            </div>
            `:""}
          </div>
          `:""}

          ${e.symptoms?`
          <div class="medical-section">
            <div class="medical-title">Symptômes</div>
            <div class="medical-content">${e.symptoms}</div>
          </div>
          `:""}

          ${e.diagnosis?`
          <div class="medical-section">
            <div class="medical-title">Diagnostic</div>
            <div class="medical-content">${e.diagnosis}</div>
          </div>
          `:""}

          ${e.treatment?`
          <div class="medical-section">
            <div class="medical-title">Traitement</div>
            <div class="medical-content">${e.treatment}</div>
          </div>
          `:""}

          ${e.notes?`
          <div class="medical-section">
            <div class="medical-title">Notes</div>
            <div class="medical-content">${e.notes}</div>
          </div>
          `:""}

          ${e.follow_up_date?`
          <div class="medical-section">
            <div class="medical-title">Suivi Programmé</div>
            <div class="medical-content">
              <strong>Date:</strong> ${new Date(e.follow_up_date).toLocaleDateString("fr-FR")}<br>
              ${e.follow_up_notes?`<strong>Notes:</strong> ${e.follow_up_notes}`:""}
            </div>
          </div>
          `:""}

          ${e.cost?`
          <div class="medical-section">
            <div class="medical-title">Coût de la Consultation</div>
            <div class="medical-content">
              <strong>${e.cost} ${t.currency||"EUR"}</strong>
            </div>
          </div>
          `:""}

          <div class="footer">
            <p>Rapport généré le ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
            <p>Vétérinaire: ${e.veterinarian_id||"N/A"}</p>
          </div>
        </body>
      </html>
    `;f.document.open(),f.document.write(m),f.document.close(),f.onload=function(){try{setTimeout(()=>{f.focus(),f.print(),typeof f.onafterprint=="function"?f.onafterprint=function(){try{f.close()}catch(g){console.error("Error closing print window:",g)}}:setTimeout(()=>{try{f.close()}catch(g){console.error("Error closing print window after timeout:",g)}},2e3)},500)}catch(g){console.error("Error during print process:",g),alert("Une erreur s'est produite lors de l'impression. Veuillez réessayer.")}}}catch(f){console.error("Error in print function:",f),alert("Une erreur s'est produite lors de la préparation de l'impression. Veuillez réessayer.")}};return s.jsxs(B,{size:"sm",variant:"outline",onClick:n,className:"gap-1",children:[s.jsx(Au,{className:"h-3 w-3"}),"Imprimer"]})}const Vd=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:Ie("w-full caption-bottom text-sm",e),...t})}));Vd.displayName="Table";const qd=b.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:Ie("[&_tr]:border-b",e),...t}));qd.displayName="TableHeader";const Ud=b.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:Ie("[&_tr:last-child]:border-0",e),...t}));Ud.displayName="TableBody";const QPe=b.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:Ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));QPe.displayName="TableFooter";const ca=b.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:Ie("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ca.displayName="TableRow";const lt=b.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:Ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));lt.displayName="TableHead";const ct=b.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:Ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ct.displayName="TableCell";const XPe=b.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:Ie("mt-4 text-sm text-muted-foreground",e),...t}));XPe.displayName="TableCaption";const JPe=()=>{const{data:e=[],isLoading:t}=Cd(),{data:n=[]}=Ux();y3(),j3(),iZ();const{settings:r}=_t();at();const{currentView:a}=uc("consultations"),[i,o]=b.useState(""),[l,c]=b.useState("all"),[u,d]=b.useState(a),[h,f]=b.useState(!1),[m,g]=b.useState(!1),[p,v]=b.useState(null),[x,y]=b.useState(null),[j,w]=b.useState(!1),[N,C]=b.useState(null),[S,_]=b.useState(null),[k,E]=b.useState(!1),[P,A]=b.useState([]),[R,$]=b.useState(""),K=U=>n.filter(J=>J.consultation_id===U),V=e.filter(U=>{var re,se,oe;const J=`${((re=U.client)==null?void 0:re.first_name)||""} ${((se=U.client)==null?void 0:se.last_name)||""}`.trim(),ae=((oe=U.animal)==null?void 0:oe.name)||"",ne=J.toLowerCase().includes(i.toLowerCase())||ae.toLowerCase().includes(i.toLowerCase())||U.symptoms&&U.symptoms.toLowerCase().includes(i.toLowerCase())||U.diagnosis&&U.diagnosis.toLowerCase().includes(i.toLowerCase());if(l==="all")return ne;const me=new Date(U.consultation_date),le=(new Date().getTime()-me.getTime())/(1e3*3600*24);switch(l){case"week":return ne&&le<=7;case"month":return ne&&le<=30;case"quarter":return ne&&le<=90;default:return ne}}),H=U=>{v(U),g(!0)},T=U=>{C(U.animal_id),_(U.id),w(!0)},I=U=>{y({clientId:U.client_id,animalId:U.animal_id,consultation_date:new Date().toISOString(),consultation_type:"follow-up",symptoms:"",diagnosis:"",treatment:"",notes:`Suivi de la consultation du ${new Date(U.consultation_date).toLocaleDateString("fr-FR")}`,status:"scheduled"}),f(!0)},F=U=>{var ae;const J=K(U.id);A(J),$(((ae=U.animal)==null?void 0:ae.name)||"Animal inconnu"),E(!0)};return s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Consultations"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez et consultez tous les dossiers médicaux"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex border rounded-lg p-1",children:[s.jsx(B,{variant:u==="cards"?"default":"ghost",size:"sm",onClick:()=>d("cards"),className:"px-3",children:s.jsx(Ao,{className:"h-4 w-4"})}),s.jsx(B,{variant:u==="table"?"default":"ghost",size:"sm",onClick:()=>d("table"),className:"px-3",children:s.jsx(bi,{className:"h-4 w-4"})})]}),s.jsxs(B,{className:"gap-2 medical-glow",onClick:()=>f(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Io,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Y,{placeholder:"Rechercher par client, animal, symptômes ou diagnostic...",value:i,onChange:U=>o(U.target.value),className:"max-w-md"}),s.jsxs(be,{value:l,onValueChange:c,children:[s.jsx(xe,{className:"w-48",children:s.jsx(we,{placeholder:"Période"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"all",children:"Toutes les périodes"}),s.jsx(L,{value:"week",children:"Cette semaine"}),s.jsx(L,{value:"month",children:"Ce mois"}),s.jsx(L,{value:"quarter",children:"Ce trimestre"})]})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Consultations récentes (",V.length,")"]}),V.length===0?s.jsx(Z,{children:s.jsxs(te,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(yr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune consultation trouvée"}),s.jsx("p",{className:"text-sm",children:"Commencez par créer votre première consultation"})]})}):u==="cards"?V.map(U=>{var J,ae,ne;return s.jsx(Z,{className:"card-hover",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h4",{className:"text-lg font-semibold",children:((J=U.animal)==null?void 0:J.name)||"Animal inconnu"}),s.jsx(Pe,{variant:"secondary",children:"Consultation"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(U.consultation_date).toLocaleDateString("fr-FR")})]}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Cr,{className:"h-4 w-4"}),(ae=U.client)==null?void 0:ae.first_name," ",(ne=U.client)==null?void 0:ne.last_name]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(yr,{className:"h-3 w-3"}),"Consultation #",U.id]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[U.temperature&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(df,{className:"h-4 w-4 text-primary"}),U.temperature,"°C"]}),U.weight&&s.jsxs("span",{children:[U.weight," kg"]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[U.symptoms&&s.jsxs(s.Fragment,{children:[s.jsx("h5",{className:"font-medium",children:"Symptômes:"}),s.jsx("p",{className:"text-sm",children:U.symptoms})]}),U.diagnosis&&s.jsxs(s.Fragment,{children:[s.jsx("h5",{className:"font-medium",children:"Diagnostic:"}),s.jsx("p",{className:"text-sm",children:U.diagnosis})]})]}),s.jsxs("div",{className:"space-y-2",children:[U.treatment&&s.jsxs(s.Fragment,{children:[s.jsx("h5",{className:"font-medium",children:"Traitement:"}),s.jsx("p",{className:"text-sm",children:U.treatment})]}),(()=>{const me=K(U.id);return me.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("h5",{className:"font-medium flex items-center gap-1",children:[s.jsx(Qi,{className:"h-4 w-4"}),"Prescriptions (",me.length,"):"]}),s.jsx("div",{className:"space-y-1",children:me.map(Ne=>s.jsxs("div",{className:"text-sm bg-blue-50 p-2 rounded border-l-2 border-blue-200",children:[s.jsxs("div",{className:"font-medium text-blue-800",children:["Prescription #",Ne.id.slice(-8)]}),s.jsxs("div",{className:"text-blue-600 text-xs",children:[new Date(Ne.prescription_date).toLocaleDateString("fr-FR")," - Status: ",Ne.status]}),Ne.medications&&Ne.medications.length>0&&s.jsxs("div",{className:"mt-1",children:[s.jsx("div",{className:"text-xs font-medium text-blue-700",children:"Médicaments:"}),Ne.medications.map((le,re)=>s.jsxs("div",{className:"text-xs text-blue-600 ml-2",children:["• ",le.medication_name," ",le.dosage&&`- ${le.dosage}`," ",le.quantity&&`(${le.quantity})`]},re))]})]},Ne.id))})]})})()]})]}),U.notes&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h5",{className:"font-medium",children:"Notes:"}),s.jsx("p",{className:"text-sm bg-muted p-3 rounded",children:U.notes})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.jsx(He,{className:"h-3 w-3 inline mr-1"}),U.followUp?`Suivi: ${U.followUp}`:"Aucun suivi prévu"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(QE,{consultation:U}),s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>H(U),className:"gap-1",children:[s.jsx(Mt,{className:"h-3 w-3"}),"Modifier"]}),s.jsxs(B,{size:"sm",variant:"default",onClick:()=>T(U),className:"gap-1",children:[s.jsx(Qi,{className:"h-3 w-3"}),"Prescription"]}),s.jsx(B,{size:"sm",onClick:()=>I(U),children:"Nouveau suivi"})]})]})]})})},U.id)}):s.jsx(Z,{children:s.jsx(te,{className:"p-0",children:s.jsxs(Vd,{children:[s.jsx(qd,{children:s.jsxs(ca,{children:[s.jsx(lt,{children:"Animal / Client"}),s.jsx(lt,{children:"Date"}),s.jsx(lt,{children:"Symptômes"}),s.jsx(lt,{children:"Diagnostic"}),s.jsx(lt,{children:"Température"}),s.jsx(lt,{children:"Prescriptions"}),s.jsx(lt,{children:"Coût"}),s.jsx(lt,{children:"Actions"})]})}),s.jsx(Ud,{children:V.map(U=>{var J,ae,ne;return s.jsxs(ca,{children:[s.jsx(ct,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:(J=U.animal)==null?void 0:J.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[(ae=U.client)==null?void 0:ae.first_name," ",(ne=U.client)==null?void 0:ne.last_name]})]})}),s.jsx(ct,{children:new Date(U.consultation_date).toLocaleDateString("fr-FR")}),s.jsx(ct,{children:s.jsx("div",{className:"max-w-xs truncate",children:U.symptoms||"-"})}),s.jsx(ct,{children:s.jsx("div",{className:"max-w-xs truncate",children:U.diagnosis||"-"})}),s.jsx(ct,{children:U.temperature?`${U.temperature}°C`:"-"}),s.jsx(ct,{children:(()=>{const me=K(U.id);return me.length>0?s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer p-1 rounded transition-colors w-fit",onClick:()=>F(U),title:"Cliquer pour voir les détails des prescriptions",children:[s.jsxs(Pe,{variant:"outline",className:"text-xs",children:[me.length," prescription",me.length>1?"s":""]}),s.jsx(bn,{className:"h-3 w-3 text-blue-600 hover:text-blue-800"})]})}):s.jsx("span",{className:"text-muted-foreground text-xs",children:"Aucune"})})()}),s.jsx(ct,{children:U.cost?`${U.cost} ${r.currency}`:"-"}),s.jsx(ct,{children:s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx(QE,{consultation:U}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>H(U),title:"Modifier",children:s.jsx(Mt,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"default",onClick:()=>T(U),title:"Nouvelle Prescription",children:s.jsx(Qi,{className:"h-3 w-3"})})]})})]},U.id)})})]})})})]}),s.jsx(Pd,{open:h,onOpenChange:U=>{f(U),U||y(null)},prefillData:x||void 0}),s.jsx(YPe,{open:m,onOpenChange:g,consultation:p}),N&&S&&s.jsx(Z2,{open:j,onOpenChange:w,petId:N,consultationId:S}),s.jsx(Ze,{open:k,onOpenChange:E,children:s.jsxs(Ge,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(Qi,{className:"h-5 w-5"}),"Prescriptions pour ",R]}),s.jsxs(Rt,{children:["Détails des ",P.length," prescription",P.length>1?"s":""," associée",P.length>1?"s":""," à cette consultation"]})]}),s.jsxs("div",{className:"space-y-6",children:[P.map((U,J)=>s.jsxs(Z,{className:"border-l-4 border-l-primary",children:[s.jsxs(ue,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(de,{className:"text-lg",children:["Prescription #",U.id.slice(-8)]}),s.jsx(Pe,{variant:U.status==="active"?"default":U.status==="completed"?"secondary":"destructive",className:"text-xs",children:U.status})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Date: ",new Date(U.prescription_date).toLocaleDateString("fr-FR")," à ",new Date(U.prescription_date).toLocaleTimeString("fr-FR"),U.valid_until&&s.jsxs("span",{className:"ml-4",children:["Valide jusqu'au: ",new Date(U.valid_until).toLocaleDateString("fr-FR")]})]})]}),s.jsxs(te,{className:"space-y-4",children:[U.diagnosis&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-1",children:"Diagnostic:"}),s.jsx("p",{className:"text-sm bg-muted p-2 rounded",children:U.diagnosis})]}),U.medications&&U.medications.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-sm mb-2",children:["Médicaments (",U.medications.length,"):"]}),s.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:U.medications.map((ae,ne)=>s.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[s.jsx("div",{className:"font-medium",children:ae.medication_name}),s.jsxs("div",{className:"text-xs space-y-1 mt-1",children:[ae.dosage&&s.jsxs("div",{children:["Dosage: ",ae.dosage]}),ae.frequency&&s.jsxs("div",{children:["Fréquence: ",ae.frequency]}),ae.duration&&s.jsxs("div",{children:["Durée: ",ae.duration]}),ae.quantity&&s.jsxs("div",{children:["Quantité: ",ae.quantity]}),ae.route&&s.jsxs("div",{children:["Voie: ",ae.route]})]}),ae.instructions&&s.jsxs("div",{className:"mt-2 text-xs bg-background p-2 rounded border",children:[s.jsx("span",{className:"font-medium",children:"Instructions: "}),ae.instructions]})]},ne))})]}),U.notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-1",children:"Notes:"}),s.jsx("p",{className:"text-sm bg-muted p-2 rounded",children:U.notes})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground pt-2 border-t",children:[s.jsxs("span",{children:["Renouvellements: ",U.refill_count||0]}),s.jsxs("span",{children:["Créée le: ",new Date(U.created_at).toLocaleDateString("fr-FR")]}),U.updated_at!==U.created_at&&s.jsxs("span",{children:["Modifiée le: ",new Date(U.updated_at).toLocaleDateString("fr-FR")]})]})]})]},U.id)),P.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Qi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune prescription trouvée pour cette consultation"})]})]})]})})]})},ZPe=({consultation:e,open:t,onOpenChange:n,onEdit:r})=>{if(!e)return null;const{getClientById:a,getPetById:i}=yt(),o=a(e.clientId),l=i(e.petId);return s.jsx(Ze,{open:t,onOpenChange:n,children:s.jsxs(Ge,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsxs(tt,{children:["Consultation #",e.id," - ",Da(e.date)]}),s.jsx(Rt,{children:"Détails de la consultation générale"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(He,{className:"h-5 w-5"}),s.jsx("h3",{className:"text-lg font-semibold",children:e.purpose||"Consultation générale"})]}),s.jsxs("div",{className:"flex gap-8 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(dt,{className:"h-4 w-4"}),l==null?void 0:l.name," (",l==null?void 0:l.type,")"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Cr,{className:"h-4 w-4"}),o==null?void 0:o.name]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jn,{className:"h-4 w-4"}),e.veterinarian]})]}),e.symptoms&&s.jsx(Z,{children:s.jsx(te,{children:s.jsxs("p",{children:[s.jsx("strong",{children:"Symptômes:"})," ",e.symptoms]})})}),s.jsxs(ki,{defaultValue:"overview",className:"space-y-4",children:[s.jsxs(qa,{className:"grid grid-cols-2",children:[s.jsx(At,{value:"overview",children:"Détails"}),s.jsx(At,{value:"prescriptions",children:"Prescriptions"})]}),s.jsx(kt,{value:"overview",children:s.jsx(Z,{children:s.jsxs(te,{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Motif:"})," ",e.purpose||"Non spécifié"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Notes:"})," ",e.notes||"Aucune"]}),e.photos&&e.photos.length>0&&s.jsxs("div",{className:"pt-4",children:[s.jsx("h5",{className:"font-medium mb-2",children:"Photos de la consultation"}),s.jsx("div",{className:"flex gap-2 overflow-x-auto",children:e.photos.map((c,u)=>s.jsx("div",{className:"relative",children:s.jsx("img",{src:c,alt:`consult-photo-${u}`,className:"h-32 w-32 object-cover rounded cursor-pointer hover:opacity-80"})},u))})]})]})})}),s.jsx(kt,{value:"prescriptions",children:s.jsx(V6,{petId:e.petId,consultationId:e.id})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[s.jsxs(B,{variant:"outline",onClick:r,children:[s.jsx(Mt,{className:"h-4 w-4"})," Modifier"]}),s.jsx(U6,{consultation:e})]})]})})};function eAe({prescription:e}){const{settings:t}=_t(),{logo:n,clinicName:r,address:a,phone:i,email:o,website:l,currency:c}=t,d=e.medications.map(m=>m.cost*(m.quantity||1)).reduce((m,g)=>m+g,0),h=()=>{if(!e||!e.petName||!e.clientName)return;const m=window.open("","_blank");if(!m)return;const g=f();m.document.write(g),m.document.close(),setTimeout(()=>{m.print(),m.close()},500)},f=()=>`
      <html>
        <head>
          <title>Facture Prescription - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              display: flex;
              align-items: center;
              justify-content: space-between;
              margin-bottom: 30px;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
            }
            .clinic-info {
              text-align: center;
              flex: 1;
            }
            .clinic-info h1 {
              font-size: 24px;
              font-weight: bold;
              margin-bottom: 10px;
            }
            .clinic-info p {
              font-size: 14px;
              margin: 5px 0;
            }
            .invoice-section {
              margin-bottom: 30px;
            }
            .invoice-section h2 {
              font-size: 20px;
              font-weight: 600;
              margin-bottom: 15px;
            }
            .grid {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 30px;
              margin-bottom: 15px;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 20px;
            }
            th, td {
              border: 1px solid #ddd;
              padding: 12px;
              text-align: left;
            }
            th {
              background-color: #f2f2f2;
              font-weight: bold;
            }
            .total-row {
              font-weight: bold;
              background-color: #f8f9fa;
            }
            .print-hidden {
              display: none;
            }
            @media print {
              body { margin: 0; }
              .print-hidden { display: none !important; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${n?`<img src="${n}" alt="Logo clinique" style="height:60px;width:60px;object-fit:contain;"/>`:'<div style="width:60px;"></div>'}
            <div class="clinic-info">
              <h1>${r}</h1>
              <p>${a}</p>
              <p>${i} | ${o}</p>
              ${l?`<p>${l}</p>`:""}
            </div>
            <div style="width:60px;"></div>
          </div>

          <div class="invoice-section">
            <h2>Ordonnance</h2>
            <div class="grid">
              <div>
                <p><strong>Date :</strong> ${e.date}</p>
                <p><strong>Patient :</strong> ${e.petName} (${e.clientName})</p>
              </div>
              <div>
                <p><strong>Prescrit par :</strong> ${e.prescribedBy}</p>
                <p><strong>Diagnostic :</strong> ${e.diagnosis}</p>
              </div>
            </div>
          </div>

          <div class="invoice-section">
            <h2>Détail des médicaments</h2>
            <table>
              <thead>
                <tr>
                  <th>Médicament</th>
                  <th>Quantité</th>
                  <th>Prix unitaire</th>
                  <th>Total</th>
                </tr>
              </thead>
              <tbody>
                ${e.medications.map(m=>{const g=m.cost*(m.quantity||1);return`
                    <tr>
                      <td>
                        <strong>${m.name}</strong><br>
                        <small>${m.dosage} - ${m.frequency}</small>
                      </td>
                      <td>${m.quantity||1}</td>
                      <td>${m.cost.toFixed(2)} ${c}</td>
                      <td>${g.toFixed(2)} ${c}</td>
                    </tr>
                  `}).join("")}
                <tr class="total-row">
                  <td colspan="3"><strong>Total</strong></td>
                  <td><strong>${d.toFixed(2)} ${c}</strong></td>
                </tr>
              </tbody>
            </table>
          </div>

          ${e.instructions?`
            <div class="invoice-section">
              <h2>Instructions</h2>
              <p>${e.instructions}</p>
            </div>
          `:""}

          <div style="margin-top: 50px; text-align: center;">
            <div style="border-top: 1px solid #333; width: 200px; margin: 20px auto;"></div>
            <p>Signature du vétérinaire</p>
          </div>
        </body>
      </html>
    `;return s.jsxs("div",{className:"p-8 max-w-screen-lg mx-auto bg-white text-gray-800",children:[s.jsxs("header",{className:"flex items-center justify-between mb-8",children:[n&&s.jsx("img",{src:n,alt:"Logo clinique",className:"h-16 w-16 object-contain"}),s.jsxs("div",{className:"text-center flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold",children:r}),s.jsx("p",{className:"text-sm",children:a}),s.jsxs("p",{className:"text-sm",children:[i," | ",o]}),l&&s.jsx("p",{className:"text-sm",children:l})]}),s.jsx("div",{children:s.jsx(B,{variant:"outline",onClick:h,className:"uppercase text-sm",children:"Imprimer"})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Ordonnance"}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-4",children:[s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Date :"})," ",e.date]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Patient :"})," ",e.petName," (",e.clientName,")"]})]}),s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Prescrit par :"})," ",e.prescribedBy]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Diagnostic :"})," ",e.diagnosis]})]})]}),s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b py-2 text-left",children:"Médicament"}),s.jsx("th",{className:"border-b py-2 text-left",children:"Dosage"}),s.jsx("th",{className:"border-b py-2 text-left",children:"Fréquence"}),s.jsx("th",{className:"border-b py-2 text-left",children:"Durée"})]})}),s.jsx("tbody",{children:e.medications.map(m=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"py-2",children:m.name}),s.jsx("td",{className:"py-2",children:m.dosage}),s.jsx("td",{className:"py-2",children:m.frequency}),s.jsx("td",{className:"py-2",children:m.duration})]},m.id))})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Facture"}),s.jsxs("table",{className:"w-full border-collapse mb-4",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b py-2 text-left",children:"Produit / Service"}),s.jsx("th",{className:"border-b py-2 text-right",children:"Quantité"}),s.jsxs("th",{className:"border-b py-2 text-right",children:["Prix Unitaire (",c,")"]}),s.jsxs("th",{className:"border-b py-2 text-right",children:["Total (",c,")"]})]})}),s.jsx("tbody",{children:e.medications.map(m=>{const g=m.quantity||1,p=(m.cost||0)*g;return s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"py-2",children:m.name}),s.jsx("td",{className:"py-2 text-right",children:g}),s.jsx("td",{className:"py-2 text-right",children:m.cost.toFixed(2)}),s.jsx("td",{className:"py-2 text-right",children:p.toFixed(2)})]},m.id)})}),s.jsx("tfoot",{children:s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"py-2 text-right font-semibold",children:"Montant total :"}),s.jsx("td",{className:"py-2 text-right font-semibold",children:d.toFixed(2)})]})})]})]})]})}const tAe=()=>{var V,H;const{data:e=[]}=Cd(),{data:t=[]}=Ux();ur(),dr();const n=T=>{var I,F,U,J;return{id:T.id,consultationId:T.consultation_id,clientId:T.client_id,clientName:`${((I=T.client)==null?void 0:I.first_name)||""} ${((F=T.client)==null?void 0:F.last_name)||""}`.trim(),petId:T.animal_id,petName:((U=T.animal)==null?void 0:U.name)||"",date:T.prescription_date,prescribedBy:"Non spécifié",diagnosis:T.diagnosis||"",medications:((J=T.medications)==null?void 0:J.map(ae=>({id:ae.id,name:ae.medication_name,dosage:ae.dosage||"",frequency:ae.frequency||"",duration:ae.duration||"",instructions:ae.instructions||"",quantity:ae.quantity||1,unit:"unit",cost:0})))||[],instructions:T.notes||"",duration:T.valid_until||"",followUpDate:void 0,status:T.status||"active",notes:T.notes||"",createdAt:T.created_at}},[r,a]=b.useState(""),[i,o]=b.useState("all"),[l,c]=b.useState("all"),[u,d]=b.useState("all"),[h,f]=b.useState(""),[m,g]=b.useState("cards"),[p,v]=b.useState(!1),[x,y]=b.useState(null),[j,w]=b.useState(!1),[N,C]=b.useState(null),[S,_]=b.useState(!1),[k,E]=b.useState(null),P=[...e.map(T=>{var I,F,U,J,ae;return{id:T.id,date:((I=T.consultation_date)==null?void 0:I.split("T")[0])||"",petName:((F=T.animal)==null?void 0:F.name)||"",petType:((U=T.animal)==null?void 0:U.species)||"",client:`${((J=T.client)==null?void 0:J.first_name)||""} ${((ae=T.client)==null?void 0:ae.last_name)||""}`.trim(),type:"consultation",title:T.diagnosis||"Consultation",veterinarian:T.notes||"Non spécifié",details:T.symptoms||"",prescriptions:[],cost:T.cost||0,status:"completed"}})].sort((T,I)=>new Date(I.date).getTime()-new Date(T.date).getTime()),A=t.map(T=>{var I,F,U,J,ae,ne,me,Ne,le,re,se;return{id:T.id,date:((I=T.prescription_date)==null?void 0:I.split("T")[0])||"",petName:((F=T.animal)==null?void 0:F.name)||"",client:`${((U=T.client)==null?void 0:U.first_name)||""} ${((J=T.client)==null?void 0:J.last_name)||""}`.trim(),medication:((ae=T.medications)==null?void 0:ae.map(oe=>oe.medication_name).join(", "))||"",dosage:((me=(ne=T.medications)==null?void 0:ne[0])==null?void 0:me.dosage)||"",frequency:((le=(Ne=T.medications)==null?void 0:Ne[0])==null?void 0:le.frequency)||"",duration:((se=(re=T.medications)==null?void 0:re[0])==null?void 0:se.duration)||"",veterinarian:"Non spécifié",status:T.status}}),R=P.filter(T=>{const I=T.petName.toLowerCase().includes(r.toLowerCase())||T.client.toLowerCase().includes(r.toLowerCase())||T.title.toLowerCase().includes(r.toLowerCase()),F=i==="all"||T.petName.toLowerCase().includes(i.toLowerCase()),U=l==="all"||T.type===l;let J=!0;if(u==="today"){const ae=new Date().toISOString().split("T")[0];J=T.date===ae}else if(u==="week"){const ae=new Date(T.date),ne=new Date,me=ne.getDay(),Ne=ne.getDate()-me+(me===0?-6:1),le=new Date(ne.setDate(Ne)),re=new Date(le);re.setDate(le.getDate()+6),J=ae>=le&&ae<=re}else u==="specific"&&(J=h&&T.date===h);return I&&F&&U&&J}),$=A.filter(T=>{const I=T.petName.toLowerCase().includes(r.toLowerCase())||T.client.toLowerCase().includes(r.toLowerCase())||T.medication.toLowerCase().includes(r.toLowerCase()),F=i==="all"||T.petName.toLowerCase().includes(i.toLowerCase()),U=l==="all"||!0;let J=!0;if(u==="today"){const ae=new Date().toISOString().split("T")[0];J=T.date===ae}else if(u==="week"){const ae=new Date(T.date),ne=new Date,me=ne.getDay(),Ne=ne.getDate()-me+(me===0?-6:1),le=new Date(ne.setDate(Ne)),re=new Date(le);re.setDate(le.getDate()+6),J=ae>=le&&ae<=re}else u==="specific"&&(J=h&&T.date===h);return I&&F&&U&&J}),K={active:"bg-blue-100 text-blue-800 hover:bg-blue-200",completed:"bg-green-100 text-green-800 hover:bg-green-200",discontinued:"bg-red-100 text-red-800 hover:bg-red-200"};return s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Historique Médical"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Consultez l'historique complet des soins et traitements"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:m==="cards"?"default":"outline",onClick:()=>g("cards"),className:"gap-2",children:[s.jsx(Ao,{className:"h-4 w-4"}),"Cartes"]}),s.jsxs(B,{size:"sm",variant:m==="table"?"default":"outline",onClick:()=>g("table"),className:"gap-2",children:[s.jsx(bi,{className:"h-4 w-4"}),"Tableau"]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Io,{className:"h-5 w-5"}),"Rechercher"]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Y,{placeholder:"Rechercher par nom, animal, diagnostic...",value:r,onChange:T=>a(T.target.value)}),s.jsxs(be,{value:i,onValueChange:o,children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Filtrer par animal"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"all",children:"Tous les animaux"}),Array.from(new Set(P.map(T=>T.petName))).map(T=>s.jsx(L,{value:T,children:T},T))]})]}),s.jsxs(be,{value:l,onValueChange:c,children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Filtrer par type"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"all",children:"Tous types"}),s.jsx(L,{value:"consultation",children:"Consultations"}),s.jsx(L,{value:"treatment",children:"Traitements"}),s.jsx(L,{value:"surgery",children:"Chirurgies"})]})]}),s.jsxs(be,{value:u,onValueChange:d,children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Période"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"all",children:"Toute période"}),s.jsx(L,{value:"today",children:"Aujourd'hui"}),s.jsx(L,{value:"week",children:"Cette semaine"}),s.jsx(L,{value:"specific",children:"Date spécifique"})]})]})]}),u==="specific"&&s.jsx(Y,{type:"date",value:h,onChange:T=>f(T.target.value),className:"max-w-xs"})]})]}),s.jsxs(ki,{defaultValue:"medical",className:"space-y-4",children:[s.jsxs(qa,{className:"grid w-full grid-cols-2",children:[s.jsxs(At,{value:"medical",className:"gap-2",children:[s.jsx(He,{className:"h-4 w-4"}),"Historique Médical"]}),s.jsxs(At,{value:"prescriptions",className:"gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),"Prescriptions"]})]}),s.jsxs(kt,{value:"medical",className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des consultations (",R.length," entrées)"]})}),m==="cards"?s.jsx("div",{className:"grid gap-6",children:R.map(T=>s.jsx(Z,{className:"card-hover",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:new Date(T.date).toLocaleDateString("fr-FR")})]}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:T.type})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold",children:T.title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(dt,{className:"h-3 w-3"}),T.petName]}),s.jsxs("span",{children:["Client: ",T.client]}),s.jsxs("span",{children:["Vétérinaire: ",T.veterinarian]})]})]}),T.details&&s.jsx("p",{className:"text-sm text-muted-foreground",children:T.details}),T.cost&&s.jsx("div",{className:"text-sm",children:s.jsxs("span",{className:"font-medium",children:["Coût: ",T.cost," MAD"]})})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(B,{size:"sm",variant:"outline",onClick:()=>{const I=e.find(F=>F.id===T.id);I&&y({...I,petId:I.animal_id,clientId:I.client_id}),v(!0)},children:s.jsx(bn,{className:"h-4 w-4"})})})]})})},T.id))}):s.jsx(Z,{children:s.jsx(te,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-4 font-medium",children:"Date"}),s.jsx("th",{className:"p-4 font-medium",children:"Type"}),s.jsx("th",{className:"p-4 font-medium",children:"Titre"}),s.jsx("th",{className:"p-4 font-medium",children:"Animal"}),s.jsx("th",{className:"p-4 font-medium",children:"Client"}),s.jsx("th",{className:"p-4 font-medium",children:"Vétérinaire"}),s.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:R.map(T=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4",children:new Date(T.date).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"p-4",children:s.jsx(Pe,{variant:"outline",className:"text-xs",children:T.type})}),s.jsxs("td",{className:"p-4",children:[s.jsx("div",{className:"font-medium",children:T.title}),T.details&&s.jsx("div",{className:"text-sm text-muted-foreground",children:T.details})]}),s.jsx("td",{className:"p-4",children:T.petName}),s.jsx("td",{className:"p-4",children:T.client}),s.jsx("td",{className:"p-4",children:T.veterinarian}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>{const I=e.find(F=>F.id===T.id);I&&y({...I,petId:I.animal_id,clientId:I.client_id}),v(!0)},children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"outline",children:s.jsx(Mt,{className:"h-4 w-4"})})]})})]},T.id))})]})})})})]}),s.jsxs(kt,{value:"prescriptions",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des prescriptions (",$.length," entrées)"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:m==="cards"?"default":"outline",onClick:()=>g("cards"),className:"gap-2",children:[s.jsx(Ao,{className:"h-4 w-4"}),"Cartes"]}),s.jsxs(B,{size:"sm",variant:m==="table"?"default":"outline",onClick:()=>g("table"),className:"gap-2",children:[s.jsx(bi,{className:"h-4 w-4"}),"Tableau"]})]})]}),m==="cards"?$.map(T=>s.jsx(Z,{className:"card-hover",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:new Date(T.date).toLocaleDateString("fr-FR")})]}),s.jsx(Pe,{variant:"outline",className:K[T.status],children:T.status==="active"?"Actif":T.status==="completed"?"Terminé":"Arrêté"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold",children:T.medication}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(dt,{className:"h-3 w-3"}),T.petName]}),s.jsxs("span",{children:["Client: ",T.client]}),s.jsxs("span",{children:["Prescrit par: ",T.veterinarian]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Dosage:"})," ",T.dosage]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Fréquence:"})," ",T.frequency]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Durée:"})," ",T.duration]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>{C(T),w(!0)},children:"Renouveler"}),(()=>{const I=t.find(F=>F.id===T.id);return I?s.jsx(qN,{prescription:n(I)}):s.jsx(B,{size:"sm",variant:"outline",disabled:!0,children:"Prescription indisponible"})})(),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>{const I=t.find(F=>F.id===T.id);I&&(E(n(I)),_(!0))},children:"Facture"})]})]})})},T.id)):s.jsx(Z,{children:s.jsx(te,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-4 font-medium",children:"Date"}),s.jsx("th",{className:"p-4 font-medium",children:"Statut"}),s.jsx("th",{className:"p-4 font-medium",children:"Médicament"}),s.jsx("th",{className:"p-4 font-medium",children:"Animal"}),s.jsx("th",{className:"p-4 font-medium",children:"Client"}),s.jsx("th",{className:"p-4 font-medium",children:"Dosage"}),s.jsx("th",{className:"p-4 font-medium",children:"Durée"}),s.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:$.map(T=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4",children:new Date(T.date).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"p-4",children:s.jsx(Pe,{variant:"outline",className:K[T.status],children:T.status==="active"?"Actif":T.status==="completed"?"Terminé":"Arrêté"})}),s.jsxs("td",{className:"p-4",children:[s.jsx("div",{className:"font-medium",children:T.medication}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Prescrit par: ",T.veterinarian]})]}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4 text-primary"}),T.petName]})}),s.jsx("td",{className:"p-4",children:T.client}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{children:T.dosage}),s.jsx("div",{className:"text-muted-foreground",children:T.frequency})]})}),s.jsx("td",{className:"p-4",children:T.duration}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>{C(T),w(!0)},children:"Renouveler"}),s.jsx(qN,{prescription:n(t.find(I=>I.id===T.id))}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>{const I=t.find(F=>F.id===T.id);E(n(I)),_(!0)},children:"Facture"})]})})]},T.id))})]})})})})]})]}),s.jsx(ZPe,{consultation:x,open:p,onOpenChange:v,onEdit:()=>{}}),(N==null?void 0:N.id)&&s.jsx(Z2,{open:j,onOpenChange:w,petId:((H=(V=t.find(T=>T.id===(N==null?void 0:N.id)))==null?void 0:V.animal_id)==null?void 0:H.toString())||"",consultationId:N.id.toString()}),s.jsx(Ze,{open:S,onOpenChange:_,children:s.jsx(Ge,{children:k&&s.jsx(eAe,{prescription:k})})})]})},W6=({photos:e,onPhotosChange:t,farmName:n})=>{const{toast:r}=at(),a=b.useRef(null),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(null),[h,f]=b.useState({description:"",category:"general"}),m=w=>{const N=w.target.files;if(!N||N.length===0)return;const C=Array.from(N).map(S=>{const _=new FileReader,k={id:`photo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,url:"",description:h.description||`Photo de ${n}`,category:h.category,uploadedAt:new Date().toISOString()};return _.onload=E=>{var A;k.url=(A=E.target)==null?void 0:A.result;const P=[...e,k];t(P)},_.readAsDataURL(S),k});f({description:"",category:"general"}),o(!1),r({title:"Photos ajoutées",description:`${C.length} photo(s) ajoutée(s) à l'exploitation ${n}`})},g=w=>{const N=e.filter(C=>C.id!==w);t(N),r({title:"Photo supprimée",description:"La photo a été supprimée avec succès"})},p=w=>{d(w),f({description:w.description,category:w.category}),c(!0)},v=()=>{if(!u)return;const w=e.map(N=>N.id===u.id?{...N,...h}:N);t(w),c(!1),d(null),f({description:"",category:"general"}),r({title:"Photo modifiée",description:"La photo a été modifiée avec succès"})},x=w=>({cheptel:"Cheptel",batiments:"Bâtiments",equipements:"Équipements",general:"Général"})[w],y=w=>({cheptel:"bg-blue-100 text-blue-800",batiments:"bg-green-100 text-green-800",equipements:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800"})[w],j=e.reduce((w,N)=>(w[N.category]||(w[N.category]=[]),w[N.category].push(N),w),{});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Photos de l'exploitation"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gérez les photos de votre exploitation, du cheptel et des équipements"})]}),s.jsxs(Ze,{open:i,onOpenChange:o,children:[s.jsx(Fx,{asChild:!0,children:s.jsxs(B,{className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Ajouter des photos"]})}),s.jsxs(Ge,{className:"max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Ajouter des photos"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"photo-description",children:"Description"}),s.jsx(Y,{id:"photo-description",placeholder:"Description des photos",value:h.description,onChange:w=>f({...h,description:w.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"photo-category",children:"Catégorie"}),s.jsxs(be,{value:h.category,onValueChange:w=>f({...h,category:w}),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"cheptel",children:"Cheptel"}),s.jsx(L,{value:"batiments",children:"Bâtiments"}),s.jsx(L,{value:"equipements",children:"Équipements"}),s.jsx(L,{value:"general",children:"Général"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"photo-files",children:"Sélectionner des photos"}),s.jsx(Y,{id:"photo-files",type:"file",multiple:!0,accept:"image/*",ref:a,onChange:m,className:"cursor-pointer"})]})]})]})]})]}),e.length===0?s.jsx(Z,{children:s.jsxs(te,{className:"p-8 text-center",children:[s.jsx(_u,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoutée"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Commencez par ajouter des photos de votre exploitation"})]})}):s.jsx("div",{className:"space-y-6",children:Object.entries(j).map(([w,N])=>s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Pe,{className:y(w),children:x(w)}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",N.length," photo",N.length>1?"s":"",")"]})]})}),s.jsx(te,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(C=>s.jsxs("div",{className:"group relative",children:[s.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[s.jsx("img",{src:C.url,alt:C.description,className:"w-full h-full object-cover"}),s.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[s.jsx(B,{size:"sm",variant:"secondary",onClick:()=>d(C),children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"secondary",onClick:()=>p(C),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"destructive",onClick:()=>g(C.id),children:s.jsx(Un,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:C.description}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(C.uploadedAt).toLocaleDateString()})]})]},C.id))})})]},w))}),s.jsx(Ze,{open:l,onOpenChange:c,children:s.jsxs(Ge,{className:"max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Modifier la photo"})}),s.jsxs("div",{className:"space-y-4",children:[u&&s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border",children:s.jsx("img",{src:u.url,alt:u.description,className:"w-full h-full object-cover"})}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"edit-description",children:"Description"}),s.jsx(Y,{id:"edit-description",value:h.description,onChange:w=>f({...h,description:w.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"edit-category",children:"Catégorie"}),s.jsxs(be,{value:h.category,onValueChange:w=>f({...h,category:w}),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"cheptel",children:"Cheptel"}),s.jsx(L,{value:"batiments",children:"Bâtiments"}),s.jsx(L,{value:"equipements",children:"Équipements"}),s.jsx(L,{value:"general",children:"Général"})]})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(B,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),s.jsx(B,{onClick:v,children:"Enregistrer"})]})]})]})})]})},nAe=({open:e,onOpenChange:t})=>{var x,y,j,w,N,C;const{addFarm:n}=yt(),{settings:r}=_t(),{toast:a}=at(),[i,o]=b.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),[l,c]=b.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!r.farmManagement)return console.error("farmManagement settings not found, using defaults"),s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsx(Ge,{children:s.jsxs(et,{children:[s.jsx(tt,{children:"Erreur de configuration"}),s.jsx(Rt,{children:"Les paramètres de gestion des fermes ne sont pas configurés. Veuillez recharger la page ou vérifier les paramètres."})]})})});b.useEffect(()=>{e||(o({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const u=(S,_)=>{if(S.includes(".")){const[k,E]=S.split(".");o(P=>{const A=P[k];return{...P,[k]:{...A,[E]:_}}})}else o(k=>({...k,[S]:_}))},d=S=>{o(_=>{var k;return{..._,types:(k=_.types)!=null&&k.includes(S)?_.types.filter(E=>E!==S):[..._.types||[],S]}})},h=S=>{o(_=>{var k;return{..._,certifications:(k=_.certifications)!=null&&k.includes(S)?_.certifications.filter(E=>E!==S):[..._.certifications||[],S]}})},f=()=>{if(!l.category){a({title:"Erreur",description:"Veuillez sélectionner une catégorie d'animal",variant:"destructive"});return}o(S=>({...S,animalDetails:[...S.animalDetails||[],{...l}]})),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},m=S=>{o(_=>{var k;return{..._,animalDetails:((k=_.animalDetails)==null?void 0:k.filter((E,P)=>P!==S))||[]}})},g=S=>{c(_=>({..._,breeds:[..._.breeds,S]}))},p=S=>{c(_=>({..._,breeds:_.breeds.filter(k=>k!==S)}))},v=S=>{var k;if(S.preventDefault(),!i.name||!i.owner||!i.address||!((k=i.types)!=null&&k.length)){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const _={name:i.name,owner:i.owner,ownerIdNumber:i.ownerIdNumber||"",address:i.address,coordinates:i.coordinates||{latitude:0,longitude:0},phone:i.phone||"",email:i.email||"",types:i.types||[],totalAnimals:(i.animalDetails||[]).reduce((E,P)=>E+P.maleCount+P.femaleCount,0),animalDetails:i.animalDetails||[],lastVisit:new Date().toISOString().split("T")[0],status:i.status||"active",veterinarian:i.veterinarian||"",notes:i.notes||"",registrationNumber:i.registrationNumber||"",surfaceArea:i.surfaceArea||0,buildingDetails:i.buildingDetails||"",equipmentDetails:i.equipmentDetails||"",certifications:i.certifications||[],insuranceDetails:i.insuranceDetails||"",emergencyContact:i.emergencyContact||{name:"",phone:"",relation:""}};n(_),a({title:"Succès",description:"Nouvelle exploitation créée avec succès"}),t(!1)};return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Nouvelle Exploitation Agricole"}),s.jsx(Rt,{children:"Créez une nouvelle exploitation agricole avec toutes les informations détaillées"})]}),s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Informations générales"})}),s.jsxs(te,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"name",children:"Nom de l'exploitation *"}),s.jsx(Y,{id:"name",value:i.name||"",onChange:S=>u("name",S.target.value),placeholder:"Nom de l'exploitation"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"owner",children:"Propriétaire *"}),s.jsx(Y,{id:"owner",value:i.owner||"",onChange:S=>u("owner",S.target.value),placeholder:"Nom du propriétaire"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"ownerIdNumber",children:"N° pièce d'identité du propriétaire"}),s.jsx(Y,{id:"ownerIdNumber",value:i.ownerIdNumber||"",onChange:S=>u("ownerIdNumber",S.target.value),placeholder:"Numéro de carte d'identité, passeport, etc."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"address",children:"Adresse *"}),s.jsx(Y,{id:"address",value:i.address||"",onChange:S=>u("address",S.target.value),placeholder:"Adresse complète"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"latitude",children:"Latitude"}),s.jsx(Y,{id:"latitude",type:"number",step:"0.0001",value:((x=i.coordinates)==null?void 0:x.latitude)||"",onChange:S=>u("coordinates.latitude",parseFloat(S.target.value)||0),placeholder:"47.9056"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"longitude",children:"Longitude"}),s.jsx(Y,{id:"longitude",type:"number",step:"0.0001",value:((y=i.coordinates)==null?void 0:y.longitude)||"",onChange:S=>u("coordinates.longitude",parseFloat(S.target.value)||0),placeholder:"1.9190"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"phone",children:"Téléphone"}),s.jsx(Y,{id:"phone",value:i.phone||"",onChange:S=>u("phone",S.target.value),placeholder:"Téléphone"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"email",children:"Email"}),s.jsx(Y,{id:"email",type:"email",value:i.email||"",onChange:S=>u("email",S.target.value),placeholder:"Email"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"veterinarian",children:"Vétérinaire responsable"}),s.jsx(Y,{id:"veterinarian",value:i.veterinarian||"",onChange:S=>u("veterinarian",S.target.value),placeholder:"Vétérinaire"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"status",children:"Statut"}),s.jsxs(be,{value:i.status,onValueChange:S=>u("status",S),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"active",children:"Active"}),s.jsx(L,{value:"attention",children:"Attention"}),s.jsx(L,{value:"urgent",children:"Urgent"})]})]})]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Types d'élevage *"})}),s.jsx(te,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:r.farmManagement.farmTypes.map(S=>{var _;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:`type-${S}`,checked:((_=i.types)==null?void 0:_.includes(S))||!1,onCheckedChange:()=>d(S)}),s.jsx(D,{htmlFor:`type-${S}`,children:S})]},S)})})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Détails du cheptel"})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Catégorie"}),s.jsxs(be,{value:l.category,onValueChange:S=>c(_=>({..._,category:S})),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner"})}),s.jsx(ye,{children:r.farmManagement.animalCategories.map(S=>s.jsx(L,{value:S,children:S},S))})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Mâles"}),s.jsx(Y,{type:"number",value:l.maleCount,onChange:S=>c(_=>({..._,maleCount:parseInt(S.target.value)||0})),placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Femelles"}),s.jsx(Y,{type:"number",value:l.femaleCount,onChange:S=>c(_=>({..._,femaleCount:parseInt(S.target.value)||0})),placeholder:"0"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(B,{type:"button",onClick:f,className:"w-full",children:"Ajouter"})})]}),l.category&&s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs(D,{children:["Races pour ",l.category]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(j=r.farmManagement.breedsByCategory[l.category])==null?void 0:j.map(S=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:`breed-${S}`,checked:l.breeds.includes(S),onCheckedChange:()=>{l.breeds.includes(S)?p(S):g(S)}}),s.jsx(D,{htmlFor:`breed-${S}`,children:S})]},S))})]}),i.animalDetails&&i.animalDetails.length>0&&s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx(D,{children:"Cheptel configuré"}),s.jsx("div",{className:"mt-2 space-y-2",children:i.animalDetails.map((S,_)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsxs("span",{children:[s.jsx(Pe,{variant:"secondary",children:S.category}),s.jsxs("span",{className:"ml-2",children:[S.maleCount," mâles, ",S.femaleCount," femelles"]}),S.breeds.length>0&&s.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",S.breeds.join(", ")]})]}),s.jsx(B,{type:"button",variant:"outline",size:"sm",onClick:()=>m(_),children:"Supprimer"})]},_))})]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Informations administratives"})}),s.jsxs(te,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"registrationNumber",children:"Numéro d'immatriculation"}),s.jsx(Y,{id:"registrationNumber",value:i.registrationNumber||"",onChange:S=>u("registrationNumber",S.target.value),placeholder:"Numéro d'immatriculation"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),s.jsx(Y,{id:"surfaceArea",type:"number",step:"0.1",value:i.surfaceArea||"",onChange:S=>u("surfaceArea",parseFloat(S.target.value)||0),placeholder:"Surface en hectares"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"buildingDetails",children:"Détails des bâtiments"}),s.jsx(Ue,{id:"buildingDetails",value:i.buildingDetails||"",onChange:S=>u("buildingDetails",S.target.value),placeholder:"Description des bâtiments, étables, etc."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"equipmentDetails",children:"Équipements"}),s.jsx(Ue,{id:"equipmentDetails",value:i.equipmentDetails||"",onChange:S=>u("equipmentDetails",S.target.value),placeholder:"Liste des équipements disponibles"})]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Certifications"})}),s.jsx(te,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:r.farmManagement.certificationTypes.map(S=>{var _;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:`cert-${S}`,checked:((_=i.certifications)==null?void 0:_.includes(S))||!1,onCheckedChange:()=>h(S)}),s.jsx(D,{htmlFor:`cert-${S}`,children:S})]},S)})})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Assurance et contact d'urgence"})}),s.jsxs(te,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"insuranceDetails",children:"Détails de l'assurance"}),s.jsx(Y,{id:"insuranceDetails",value:i.insuranceDetails||"",onChange:S=>u("insuranceDetails",S.target.value),placeholder:"Compagnie d'assurance et numéro de police"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),s.jsx(Y,{id:"emergencyName",value:((w=i.emergencyContact)==null?void 0:w.name)||"",onChange:S=>u("emergencyContact.name",S.target.value),placeholder:"Nom du contact"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"emergencyPhone",children:"Téléphone d'urgence"}),s.jsx(Y,{id:"emergencyPhone",value:((N=i.emergencyContact)==null?void 0:N.phone)||"",onChange:S=>u("emergencyContact.phone",S.target.value),placeholder:"Téléphone"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"emergencyRelation",children:"Relation"}),s.jsx(Y,{id:"emergencyRelation",value:((C=i.emergencyContact)==null?void 0:C.relation)||"",onChange:S=>u("emergencyContact.relation",S.target.value),placeholder:"Relation (époux, fils, etc.)"})]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Photos de l'exploitation"})}),s.jsx(te,{children:s.jsx(W6,{photos:i.photos||[],onPhotosChange:S=>u("photos",S),farmName:i.name||"Nouvelle exploitation"})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Notes complémentaires"})}),s.jsx(te,{children:s.jsx(Ue,{value:i.notes||"",onChange:S=>u("notes",S.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(B,{type:"submit",children:"Créer l'exploitation"})]})]})]})})},rAe=({open:e,onOpenChange:t,farmId:n,farmName:r})=>{const{addFarmIntervention:a,farms:i}=yt(),{toast:o}=at(),[l,c]=b.useState({farmId:"",farmName:"",date:"",type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""});b.useEffect(()=>{if(e){const f=new Date().toISOString().split("T")[0];c({farmId:(n==null?void 0:n.toString())||"",farmName:r||"",date:f,type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""})}},[e,n,r]);const u=(f,m)=>{c(g=>({...g,[f]:m}))},{settings:d}=_t(),h=f=>{if(f.preventDefault(),!l.farmId||!l.date||!l.type||!l.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const m=i.find(p=>p.id===parseInt(l.farmId));if(!m){o({title:"Erreur",description:"Exploitation non trouvée",variant:"destructive"});return}const g={farmId:parseInt(l.farmId),farmName:m.name,date:l.date,type:l.type,animals:l.animals,veterinarian:l.veterinarian,description:l.description,status:l.status,followUp:l.followUp,cost:l.cost?parseFloat(l.cost):void 0,notes:l.notes};a(g),o({title:"Succès",description:"Intervention programmée avec succès"}),t(!1)};return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Nouvelle Intervention"}),s.jsx(Rt,{children:"Programmez une nouvelle intervention vétérinaire"})]}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"farmId",children:"Exploitation *"}),s.jsxs(be,{value:l.farmId,onValueChange:f=>{const m=i.find(g=>g.id===parseInt(f));u("farmId",f),u("farmName",(m==null?void 0:m.name)||"")},children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner une exploitation"})}),s.jsx(ye,{children:i.map(f=>s.jsx(L,{value:f.id.toString(),children:f.name},f.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"date",children:"Date *"}),s.jsx(Y,{id:"date",type:"date",value:l.date,onChange:f=>u("date",f.target.value),required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"type",children:"Type d'intervention *"}),s.jsxs(be,{value:l.type,onValueChange:f=>u("type",f),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner un type"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"vaccination",children:"Vaccination"}),s.jsx(L,{value:"controle",children:"Contrôle sanitaire"}),s.jsx(L,{value:"urgence",children:"Urgence"}),s.jsx(L,{value:"chirurgie",children:"Chirurgie"}),s.jsx(L,{value:"prevention",children:"Prévention"}),s.jsx(L,{value:"consultation",children:"Consultation"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"status",children:"Statut"}),s.jsxs(be,{value:l.status,onValueChange:f=>u("status",f),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"scheduled",children:"Programmée"}),s.jsx(L,{value:"ongoing",children:"En cours"}),s.jsx(L,{value:"completed",children:"Terminée"}),s.jsx(L,{value:"cancelled",children:"Annulée"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"animals",children:"Animaux concernés"}),s.jsx(Y,{id:"animals",value:l.animals,onChange:f=>u("animals",f.target.value),placeholder:"15 bovins, 50 poules..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"veterinarian",children:"Vétérinaire"}),s.jsx(Y,{id:"veterinarian",value:l.veterinarian,onChange:f=>u("veterinarian",f.target.value),placeholder:"Dr. Dupont"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"description",children:"Description *"}),s.jsx(Ue,{id:"description",value:l.description,onChange:f=>u("description",f.target.value),placeholder:"Détails de l'intervention...",rows:3,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(D,{htmlFor:"cost",children:["Coût (",d.currency,")"]}),s.jsx(Y,{id:"cost",type:"number",value:l.cost,onChange:f=>u("cost",f.target.value),placeholder:"0.00",min:"0",step:"0.01"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"followUp",children:"Suivi"}),s.jsx(Y,{id:"followUp",value:l.followUp,onChange:f=>u("followUp",f.target.value),placeholder:"Contrôle dans 6 mois"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(Ue,{id:"notes",value:l.notes,onChange:f=>u("notes",f.target.value),placeholder:"Informations complémentaires...",rows:2})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(B,{type:"submit",children:"Programmer Intervention"})]})]})]})})},sAe=({farm:e,open:t,onOpenChange:n,onEdit:r,onNewIntervention:a})=>{var u;const{getFarmInterventionsByFarmId:i}=yt();if(!e)return null;const o=i(e.id),l={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},c=d=>{switch(d){case"active":return s.jsx(On,{className:"h-4 w-4"});case"attention":return s.jsx(pn,{className:"h-4 w-4"});case"urgent":return s.jsx(pn,{className:"h-4 w-4 text-red-600"});default:return s.jsx(Jt,{className:"h-4 w-4"})}};return s.jsx(Ze,{open:t,onOpenChange:n,children:s.jsxs(Ge,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[c(e.status),e.name,s.jsx(Pe,{className:l[e.status],children:e.status==="active"?"Actif":e.status==="attention"?"Attention":"Urgent"})]}),s.jsx(Rt,{children:"Détails complets de l'exploitation agricole"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Lq,{className:"h-5 w-5"}),"Informations Générales"]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Propriétaire"}),s.jsx("p",{className:"font-medium",children:e.owner})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Types d'élevage"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(u=e.types)==null?void 0:u.map(d=>s.jsx(Pe,{variant:"secondary",children:d},d))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nombre total d'animaux"}),s.jsx("p",{className:"font-medium",children:e.totalAnimals})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vétérinaire"}),s.jsx("p",{className:"font-medium",children:e.veterinarian||"Non assigné"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Dernière visite"}),s.jsx("p",{className:"font-medium",children:Da(e.lastVisit)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Date de création"}),s.jsx("p",{className:"font-medium",children:Da(e.createdAt)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[s.jsx(ec,{className:"h-3 w-3"}),"Adresse"]}),s.jsx("p",{className:"font-medium",children:e.address})]}),e.coordinates&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Coordonnées GPS"}),s.jsxs("p",{className:"font-mono text-sm",children:[e.coordinates.latitude.toFixed(4),", ",e.coordinates.longitude.toFixed(4)]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[s.jsx(Pu,{className:"h-3 w-3"}),"Téléphone"]}),s.jsx("p",{className:"font-medium",children:e.phone||"Non renseigné"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[s.jsx(pm,{className:"h-3 w-3"}),"Email"]}),s.jsx("p",{className:"font-medium",children:e.email||"Non renseigné"})]})]})]})]}),e.animalDetails&&e.animalDetails.length>0&&s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Fq,{className:"h-5 w-5"}),"Détails du Cheptel"]})}),s.jsx(te,{children:s.jsx("div",{className:"space-y-3",children:e.animalDetails.map((d,h)=>s.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Pe,{variant:"secondary",children:d.category}),s.jsxs("span",{className:"text-sm font-medium",children:["Total: ",d.maleCount+d.femaleCount," animaux"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Mâles:"})," ",d.maleCount]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Femelles:"})," ",d.femaleCount]}),d.breeds.length>0&&s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("span",{className:"text-muted-foreground",children:"Races:"})," ",d.breeds.join(", ")]})]})]},h))})})]}),(e.registrationNumber||e.surfaceArea||e.buildingDetails||e.equipmentDetails)&&s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(wq,{className:"h-5 w-5"}),"Informations Administratives"]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.registrationNumber&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"N° d'immatriculation"}),s.jsx("p",{className:"font-medium",children:e.registrationNumber})]}),e.surfaceArea&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Surface"}),s.jsxs("p",{className:"font-medium",children:[e.surfaceArea," hectares"]})]})]}),e.buildingDetails&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Bâtiments"}),s.jsx("p",{className:"font-medium",children:e.buildingDetails})]}),e.equipmentDetails&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Équipements"}),s.jsx("p",{className:"font-medium",children:e.equipmentDetails})]})]})]}),e.certifications&&e.certifications.length>0&&s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"h-5 w-5"}),"Certifications"]})}),s.jsx(te,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:e.certifications.map(d=>s.jsx(Pe,{variant:"outline",children:d},d))})})]}),(e.insuranceDetails||e.emergencyContact)&&s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-5 w-5"}),"Assurance et Contact d'Urgence"]})}),s.jsxs(te,{className:"space-y-4",children:[e.insuranceDetails&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Assurance"}),s.jsx("p",{className:"font-medium",children:e.insuranceDetails})]}),e.emergencyContact&&e.emergencyContact.name&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contact d'urgence"}),s.jsx("p",{className:"font-medium",children:e.emergencyContact.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Téléphone"}),s.jsx("p",{className:"font-medium",children:e.emergencyContact.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Relation"}),s.jsx("p",{className:"font-medium",children:e.emergencyContact.relation})]})]})]})]}),e.notes&&s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Notes"})}),s.jsx(te,{children:s.jsx("p",{className:"text-sm",children:e.notes})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Détails du Cheptel"})}),s.jsx(te,{children:e.animalDetails&&e.animalDetails.length>0?s.jsx("div",{className:"space-y-4",children:e.animalDetails.map((d,h)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-lg",children:d.category}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Pe,{variant:"secondary",children:[d.maleCount+d.femaleCount," animaux"]}),s.jsxs(Pe,{variant:"outline",children:[d.maleCount," mâles"]}),s.jsxs(Pe,{variant:"outline",children:[d.femaleCount," femelles"]})]})]}),d.breeds&&d.breeds.length>0&&s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Races: "}),d.breeds.map((f,m)=>s.jsx(Pe,{variant:"outline",className:"mr-1 text-xs",children:f},m))]}),d.ageGroups&&d.ageGroups.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Groupes d'âge: "}),d.ageGroups.map((f,m)=>s.jsx(Pe,{variant:"outline",className:"mr-1 text-xs",children:f},m))]})]},h))}):s.jsx("p",{className:"text-muted-foreground",children:"Aucun détail de cheptel configuré pour cette exploitation"})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Photos de l'exploitation"})}),s.jsx(te,{children:e.photos&&e.photos.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.photos.map(d=>s.jsxs("div",{className:"group relative",children:[s.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[s.jsx("img",{src:d.url,alt:d.description,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(Pe,{variant:"secondary",className:"text-xs bg-black/70 text-white border-0",children:d.category==="cheptel"?"Cheptel":d.category==="batiments"?"Bâtiments":d.category==="equipements"?"Équipements":"Général"})})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:d.description}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(d.uploadedAt).toLocaleDateString()})]})]},d.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(_u,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoutée"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Les photos peuvent être ajoutées lors de la modification de l'exploitation"})]})})]}),s.jsxs(ki,{defaultValue:"interventions",className:"w-full",children:[s.jsx(qa,{className:"grid w-full grid-cols-1",children:s.jsxs(At,{value:"interventions",children:[s.jsx(He,{className:"h-4 w-4 mr-2"}),"Interventions (",o.length,")"]})}),s.jsx(kt,{value:"interventions",className:"space-y-4",children:s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Interventions vétérinaires"})}),s.jsx(te,{children:o.length>0?s.jsx("div",{className:"space-y-2",children:o.map(d=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:d.type}),s.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:Da(d.date)})]}),s.jsx(Pe,{variant:"outline",children:d.status})]},d.id))}):s.jsx("p",{className:"text-muted-foreground",children:"Aucune intervention enregistrée pour cette exploitation"})})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(B,{onClick:a,variant:"outline",children:"Nouvelle Intervention"}),s.jsx(B,{onClick:r,children:"Modifier"})]})]})})},aAe=({open:e,onOpenChange:t,farm:n})=>{var y,j,w,N,C,S;const{updateFarm:r}=yt(),{settings:a}=_t(),{toast:i}=at(),[o,l]=b.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),[c,u]=b.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!a.farmManagement)return console.error("farmManagement settings not found, using defaults"),s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsx(Ge,{children:s.jsxs(et,{children:[s.jsx(tt,{children:"Erreur de configuration"}),s.jsx(Rt,{children:"Les paramètres de gestion des fermes ne sont pas configurés. Veuillez recharger la page ou vérifier les paramètres."})]})})});b.useEffect(()=>{n&&e&&l({...n,coordinates:n.coordinates||{latitude:0,longitude:0},types:n.types||[],animalDetails:n.animalDetails||[],certifications:n.certifications||[],emergencyContact:n.emergencyContact||{name:"",phone:"",relation:""}})},[n,e]),b.useEffect(()=>{e||(l({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const d=(_,k)=>{if(_.includes(".")){const[E,P]=_.split(".");l(A=>({...A,[E]:{...A[E],[P]:k}}))}else l(E=>({...E,[_]:k}))},h=_=>{l(k=>{var E;return{...k,types:(E=k.types)!=null&&E.includes(_)?k.types.filter(P=>P!==_):[...k.types||[],_]}})},f=_=>{l(k=>{var E;return{...k,certifications:(E=k.certifications)!=null&&E.includes(_)?k.certifications.filter(P=>P!==_):[...k.certifications||[],_]}})},m=()=>{if(!c.category){i({title:"Erreur",description:"Veuillez sélectionner une catégorie d'animal",variant:"destructive"});return}l(_=>({..._,animalDetails:[..._.animalDetails||[],{...c}]})),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},g=_=>{l(k=>{var E;return{...k,animalDetails:((E=k.animalDetails)==null?void 0:E.filter((P,A)=>A!==_))||[]}})},p=_=>{u(k=>({...k,breeds:[...k.breeds,_]}))},v=_=>{u(k=>({...k,breeds:k.breeds.filter(E=>E!==_)}))},x=_=>{var E;if(_.preventDefault(),!n)return;if(!o.name||!o.owner||!o.address||!((E=o.types)!=null&&E.length)){i({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const k={...n,...o,coordinates:o.coordinates||{latitude:0,longitude:0},types:o.types||[],animalDetails:o.animalDetails||[],totalAnimals:(o.animalDetails||[]).reduce((P,A)=>P+A.maleCount+A.femaleCount,0),certifications:o.certifications||[],emergencyContact:o.emergencyContact||{name:"",phone:"",relation:""}};r(n.id,k),i({title:"Succès",description:"Exploitation mise à jour avec succès"}),t(!1)};return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Modifier l'Exploitation"}),s.jsx(Rt,{children:"Modifiez les informations de l'exploitation agricole"})]}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Informations générales"})}),s.jsxs(te,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"name",children:"Nom de l'exploitation *"}),s.jsx(Y,{id:"name",value:o.name||"",onChange:_=>d("name",_.target.value),placeholder:"Nom de l'exploitation"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"owner",children:"Propriétaire *"}),s.jsx(Y,{id:"owner",value:o.owner||"",onChange:_=>d("owner",_.target.value),placeholder:"Nom du propriétaire"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"ownerIdNumber",children:"N° pièce d'identité du propriétaire"}),s.jsx(Y,{id:"ownerIdNumber",value:o.ownerIdNumber||"",onChange:_=>d("ownerIdNumber",_.target.value),placeholder:"Numéro de carte d'identité, passeport, etc."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"address",children:"Adresse *"}),s.jsx(Y,{id:"address",value:o.address||"",onChange:_=>d("address",_.target.value),placeholder:"Adresse complète"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"latitude",children:"Latitude"}),s.jsx(Y,{id:"latitude",type:"number",step:"0.0001",value:((y=o.coordinates)==null?void 0:y.latitude)||"",onChange:_=>d("coordinates.latitude",parseFloat(_.target.value)||0),placeholder:"47.9056"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"longitude",children:"Longitude"}),s.jsx(Y,{id:"longitude",type:"number",step:"0.0001",value:((j=o.coordinates)==null?void 0:j.longitude)||"",onChange:_=>d("coordinates.longitude",parseFloat(_.target.value)||0),placeholder:"1.9190"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"phone",children:"Téléphone"}),s.jsx(Y,{id:"phone",value:o.phone||"",onChange:_=>d("phone",_.target.value),placeholder:"Téléphone"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"email",children:"Email"}),s.jsx(Y,{id:"email",type:"email",value:o.email||"",onChange:_=>d("email",_.target.value),placeholder:"Email"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"veterinarian",children:"Vétérinaire responsable"}),s.jsx(Y,{id:"veterinarian",value:o.veterinarian||"",onChange:_=>d("veterinarian",_.target.value),placeholder:"Vétérinaire"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"status",children:"Statut"}),s.jsxs(be,{value:o.status,onValueChange:_=>d("status",_),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"active",children:"Active"}),s.jsx(L,{value:"attention",children:"Attention"}),s.jsx(L,{value:"urgent",children:"Urgent"})]})]})]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Types d'élevage *"})}),s.jsx(te,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:a.farmManagement.farmTypes.map(_=>{var k;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:`type-${_}`,checked:((k=o.types)==null?void 0:k.includes(_))||!1,onCheckedChange:()=>h(_)}),s.jsx(D,{htmlFor:`type-${_}`,children:_})]},_)})})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Détails du cheptel"})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Catégorie"}),s.jsxs(be,{value:c.category,onValueChange:_=>u(k=>({...k,category:_})),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner"})}),s.jsx(ye,{children:a.farmManagement.animalCategories.map(_=>s.jsx(L,{value:_,children:_},_))})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Mâles"}),s.jsx(Y,{type:"number",value:c.maleCount,onChange:_=>u(k=>({...k,maleCount:parseInt(_.target.value)||0})),placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Femelles"}),s.jsx(Y,{type:"number",value:c.femaleCount,onChange:_=>u(k=>({...k,femaleCount:parseInt(_.target.value)||0})),placeholder:"0"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(B,{type:"button",onClick:m,className:"w-full",children:"Ajouter"})})]}),c.category&&s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs(D,{children:["Races pour ",c.category]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(w=a.farmManagement.breedsByCategory[c.category])==null?void 0:w.map(_=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:`breed-${_}`,checked:c.breeds.includes(_),onCheckedChange:()=>{c.breeds.includes(_)?v(_):p(_)}}),s.jsx(D,{htmlFor:`breed-${_}`,children:_})]},_))})]}),o.animalDetails&&o.animalDetails.length>0&&s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx(D,{children:"Cheptel configuré"}),s.jsx("div",{className:"mt-2 space-y-2",children:o.animalDetails.map((_,k)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsxs("span",{children:[s.jsx(Pe,{variant:"secondary",children:_.category}),s.jsxs("span",{className:"ml-2",children:[_.maleCount," mâles, ",_.femaleCount," femelles"]}),_.breeds.length>0&&s.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",_.breeds.join(", ")]})]}),s.jsx(B,{type:"button",variant:"outline",size:"sm",onClick:()=>g(k),children:"Supprimer"})]},k))})]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Informations administratives"})}),s.jsxs(te,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"registrationNumber",children:"Numéro d'immatriculation"}),s.jsx(Y,{id:"registrationNumber",value:o.registrationNumber||"",onChange:_=>d("registrationNumber",_.target.value),placeholder:"Numéro d'immatriculation"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),s.jsx(Y,{id:"surfaceArea",type:"number",step:"0.1",value:o.surfaceArea||"",onChange:_=>d("surfaceArea",parseFloat(_.target.value)||0),placeholder:"Surface en hectares"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"buildingDetails",children:"Détails des bâtiments"}),s.jsx(Ue,{id:"buildingDetails",value:o.buildingDetails||"",onChange:_=>d("buildingDetails",_.target.value),placeholder:"Description des bâtiments, étables, etc."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"equipmentDetails",children:"Équipements"}),s.jsx(Ue,{id:"equipmentDetails",value:o.equipmentDetails||"",onChange:_=>d("equipmentDetails",_.target.value),placeholder:"Liste des équipements disponibles"})]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Certifications"})}),s.jsx(te,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:a.farmManagement.certificationTypes.map(_=>{var k;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:`cert-${_}`,checked:((k=o.certifications)==null?void 0:k.includes(_))||!1,onCheckedChange:()=>f(_)}),s.jsx(D,{htmlFor:`cert-${_}`,children:_})]},_)})})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Assurance et contact d'urgence"})}),s.jsxs(te,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"insuranceDetails",children:"Détails de l'assurance"}),s.jsx(Y,{id:"insuranceDetails",value:o.insuranceDetails||"",onChange:_=>d("insuranceDetails",_.target.value),placeholder:"Compagnie d'assurance et numéro de police"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),s.jsx(Y,{id:"emergencyName",value:((N=o.emergencyContact)==null?void 0:N.name)||"",onChange:_=>d("emergencyContact.name",_.target.value),placeholder:"Nom du contact"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"emergencyPhone",children:"Téléphone d'urgence"}),s.jsx(Y,{id:"emergencyPhone",value:((C=o.emergencyContact)==null?void 0:C.phone)||"",onChange:_=>d("emergencyContact.phone",_.target.value),placeholder:"Téléphone"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"emergencyRelation",children:"Relation"}),s.jsx(Y,{id:"emergencyRelation",value:((S=o.emergencyContact)==null?void 0:S.relation)||"",onChange:_=>d("emergencyContact.relation",_.target.value),placeholder:"Relation (époux, fils, etc.)"})]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Photos de l'exploitation"})}),s.jsx(te,{children:s.jsx(W6,{photos:o.photos||[],onPhotosChange:_=>d("photos",_),farmName:o.name||"Exploitation"})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Notes complémentaires"})}),s.jsx(te,{children:s.jsx(Ue,{value:o.notes||"",onChange:_=>d("notes",_.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(B,{type:"submit",children:"Mettre à jour l'exploitation"})]})]})]})}):null},iAe=({open:e,onOpenChange:t,intervention:n})=>{const{updateFarmIntervention:r,farms:a}=yt(),{toast:i}=at(),[o,l]=b.useState({farmId:"",type:"",date:"",animals:"",description:"",veterinarian:"",status:"scheduled",followUp:"",cost:""});b.useEffect(()=>{n&&e&&l({farmId:n.farmId.toString(),type:n.type,date:n.date,animals:n.animals,description:n.description,veterinarian:n.veterinarian,status:n.status,followUp:n.followUp||"",cost:n.cost||""})},[n,e]);const c=(h,f)=>{l(m=>({...m,[h]:f}))},u=h=>{if(h.preventDefault(),!n)return;if(!o.farmId||!o.type||!o.date||!o.animals||!o.description){i({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const f={farmId:parseInt(o.farmId),type:o.type,date:o.date,animals:o.animals,description:o.description,veterinarian:o.veterinarian,status:o.status,followUp:o.followUp,cost:o.cost};r(n.id,f),i({title:"Succès",description:"Intervention mise à jour avec succès"}),t(!1)};if(!n)return null;const d=a.find(h=>h.id===parseInt(o.farmId));return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Modifier l'Intervention"}),s.jsxs(Rt,{children:["Modifiez les informations de l'intervention du ",new Date(n.date).toLocaleDateString("fr-FR")]})]}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Exploitation *"}),s.jsxs(be,{value:o.farmId,onValueChange:h=>c("farmId",h),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner l'exploitation"})}),s.jsx(ye,{children:a.map(h=>s.jsxs(L,{value:h.id.toString(),children:[h.name," - ",h.owner]},h.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Type d'intervention *"}),s.jsxs(be,{value:o.type,onValueChange:h=>c("type",h),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner le type"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"vaccination",children:"Vaccination"}),s.jsx(L,{value:"controle",children:"Contrôle sanitaire"}),s.jsx(L,{value:"urgence",children:"Urgence"}),s.jsx(L,{value:"chirurgie",children:"Chirurgie"}),s.jsx(L,{value:"prevention",children:"Prévention"}),s.jsx(L,{value:"consultation",children:"Consultation"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"date",children:"Date *"}),s.jsx(Y,{id:"date",type:"date",value:o.date,onChange:h=>c("date",h.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Statut"}),s.jsxs(be,{value:o.status,onValueChange:h=>c("status",h),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"scheduled",children:"Programmé"}),s.jsx(L,{value:"ongoing",children:"En cours"}),s.jsx(L,{value:"completed",children:"Terminé"}),s.jsx(L,{value:"cancelled",children:"Annulé"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"animals",children:"Animaux concernés *"}),s.jsx(Y,{id:"animals",value:o.animals,onChange:h=>c("animals",h.target.value),placeholder:"ex: 50 vaches, 100 porcs...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"veterinarian",children:"Vétérinaire *"}),s.jsx(Y,{id:"veterinarian",value:o.veterinarian,onChange:h=>c("veterinarian",h.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"description",children:"Description *"}),s.jsx(Ue,{id:"description",value:o.description,onChange:h=>c("description",h.target.value),rows:3,placeholder:"Détails de l'intervention, observations, traitements...",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"followUp",children:"Suivi recommandé"}),s.jsx(Ue,{id:"followUp",value:o.followUp,onChange:h=>c("followUp",h.target.value),rows:2,placeholder:"Recommandations, prochain contrôle..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"cost",children:"Coût (€)"}),s.jsx(Y,{id:"cost",type:"number",value:o.cost,onChange:h=>c("cost",h.target.value),min:"0",step:"0.01",placeholder:"0.00"})]})]}),d&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Informations de l'exploitation"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Nom:"})," ",d.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Propriétaire:"})," ",d.owner]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Type:"})," ",d.type]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Adresse:"})," ",d.address]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(B,{type:"submit",children:"Mettre à jour"})]})]})]})})},oAe=()=>{const{farms:e,farmInterventions:t,deleteFarm:n,deleteFarmIntervention:r,getFarmsByStatus:a,getUpcomingFarmInterventions:i}=yt(),{toast:o}=at(),{currentView:l}=uc("farms"),[c,u]=b.useState(""),[d,h]=b.useState("all"),[f,m]=b.useState(l),[g,p]=b.useState(!1),[v,x]=b.useState(!1),[y,j]=b.useState(!1),[w,N]=b.useState(!1),[C,S]=b.useState(!1),[_,k]=b.useState(null),[E,P]=b.useState(null),A=e.filter(ne=>{var le,re;const me=ne.name.toLowerCase().includes(c.toLowerCase())||ne.owner.toLowerCase().includes(c.toLowerCase())||((le=ne.types)==null?void 0:le.some(se=>se.toLowerCase().includes(c.toLowerCase())))||!1,Ne=d==="all"||((re=ne.types)==null?void 0:re.includes(d))||!1;return me&&Ne}),R={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},$={"Bovin laitier":"Élevage bovin laitier","Bovin viande":"Élevage bovin viande",Porcin:"Élevage porcin",Avicole:"Élevage avicole",Ovin:"Élevage ovin",Caprin:"Élevage caprin",Équin:"Élevage équin",Apiculture:"Apiculture",Aquaculture:"Aquaculture",Cuniculture:"Cuniculture",Mixte:"Élevage mixte"},K={vaccination:"Vaccination",controle:"Contrôle sanitaire",urgence:"Urgence",chirurgie:"Chirurgie",prevention:"Prévention",consultation:"Consultation"},V=ne=>{k(ne),j(!0)},H=ne=>{k(ne),N(!0)},T=ne=>{confirm("Êtes-vous sûr de vouloir supprimer cette exploitation ?")&&(n(ne),o({title:"Succès",description:"Exploitation supprimée"}))},I=ne=>{x(!0)},F=ne=>{confirm("Êtes-vous sûr de vouloir supprimer cette intervention ?")&&(r(ne),o({title:"Succès",description:"Intervention supprimée"}))},U=ne=>{P(ne),S(!0)},J=a("attention").length+a("urgent").length,ae=i();return s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Exploitations"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez les fermes, élevages et interventions vétérinaires"})]}),s.jsxs(B,{className:"gap-2 medical-glow",onClick:()=>p(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle Exploitation"]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[s.jsx(Z,{children:s.jsxs(te,{className:"p-6 text-center",children:[s.jsx(xb,{className:"h-12 w-12 text-primary mx-auto mb-4"}),s.jsx("div",{className:"text-2xl font-bold",children:e.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Exploitations"})]})}),s.jsx(Z,{children:s.jsxs(te,{className:"p-6 text-center",children:[s.jsx(pn,{className:"h-12 w-12 text-accent mx-auto mb-4"}),s.jsx("div",{className:"text-2xl font-bold",children:J}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Alertes actives"})]})}),s.jsx(Z,{children:s.jsxs(te,{className:"p-6 text-center",children:[s.jsx(He,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),s.jsx("div",{className:"text-2xl font-bold",children:ae.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Interventions à venir"})]})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Io,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Y,{placeholder:"Rechercher par nom, propriétaire ou type...",value:c,onChange:ne=>u(ne.target.value),className:"max-w-md"}),s.jsxs(be,{value:d,onValueChange:h,children:[s.jsx(xe,{className:"w-48",children:s.jsx(we,{placeholder:"Type d'élevage"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"all",children:"Tous types"}),s.jsx(L,{value:"Bovin laitier",children:"Élevage bovin laitier"}),s.jsx(L,{value:"Bovin viande",children:"Élevage bovin viande"}),s.jsx(L,{value:"Porcin",children:"Élevage porcin"}),s.jsx(L,{value:"Avicole",children:"Élevage avicole"}),s.jsx(L,{value:"Ovin",children:"Élevage ovin"}),s.jsx(L,{value:"Caprin",children:"Élevage caprin"}),s.jsx(L,{value:"Équin",children:"Élevage équin"}),s.jsx(L,{value:"Apiculture",children:"Apiculture"}),s.jsx(L,{value:"Aquaculture",children:"Aquaculture"}),s.jsx(L,{value:"Cuniculture",children:"Cuniculture"}),s.jsx(L,{value:"Mixte",children:"Élevage mixte"})]})]})]})})]}),s.jsxs(ki,{defaultValue:"farms",className:"space-y-6",children:[s.jsxs(qa,{className:"grid w-full grid-cols-2",children:[s.jsxs(At,{value:"farms",className:"gap-2",children:[s.jsx(xb,{className:"h-4 w-4"}),"Exploitations"]}),s.jsxs(At,{value:"interventions",className:"gap-2",children:[s.jsx(He,{className:"h-4 w-4"}),"Interventions"]})]}),s.jsxs(kt,{value:"farms",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Exploitations (",A.length,")"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:f==="cards"?"default":"outline",onClick:()=>m("cards"),className:"gap-2",children:[s.jsx(Ao,{className:"h-4 w-4"}),"Cartes"]}),s.jsxs(B,{size:"sm",variant:f==="table"?"default":"outline",onClick:()=>m("table"),className:"gap-2",children:[s.jsx(bi,{className:"h-4 w-4"}),"Tableau"]}),s.jsxs(B,{onClick:()=>x(!0),className:"gap-2",children:[s.jsx(jn,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]})]}),A.length===0?s.jsx(Z,{children:s.jsx(te,{className:"p-6 text-center text-muted-foreground",children:"Aucune exploitation trouvée"})}):f==="cards"?A.map(ne=>{var me;return s.jsx(Z,{className:"card-hover",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h4",{className:"text-xl font-semibold",children:ne.name}),s.jsx(Pe,{variant:"outline",className:R[ne.status],children:ne.status==="active"?"Actif":ne.status==="attention"?"Attention":"Urgent"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Propriétaire:"})," ",ne.owner]}),s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(ec,{className:"h-3 w-3"}),ne.address]}),s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(Pu,{className:"h-3 w-3"}),ne.phone]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Types:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(me=ne.types)==null?void 0:me.map(Ne=>s.jsx(Pe,{variant:"secondary",className:"text-xs",children:$[Ne]||Ne},Ne))})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Animaux:"})," ",ne.totalAnimals]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Vétérinaire:"})," ",ne.veterinarian]})]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernière visite: ",Da(ne.lastVisit)]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>V(ne),children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>H(ne),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",onClick:()=>I(),children:s.jsx(jn,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"destructive",onClick:()=>T(ne.id),children:s.jsx(Un,{className:"h-4 w-4"})})]})]})})},ne.id)}):s.jsx(Z,{children:s.jsx(te,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-4 font-medium",children:"Exploitation"}),s.jsx("th",{className:"p-4 font-medium",children:"Propriétaire"}),s.jsx("th",{className:"p-4 font-medium",children:"Type"}),s.jsx("th",{className:"p-4 font-medium",children:"Statut"}),s.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),s.jsx("th",{className:"p-4 font-medium",children:"Contact"}),s.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:A.map(ne=>{var me;return s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:ne.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:ne.address})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:ne.owner}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Vét: ",ne.veterinarian]})]})}),s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:(me=ne.types)==null?void 0:me.map(Ne=>s.jsx(Pe,{variant:"secondary",className:"text-xs",children:$[Ne]||Ne},Ne))})}),s.jsx("td",{className:"p-4",children:s.jsx(Pe,{variant:"outline",className:R[ne.status],children:ne.status==="active"?"Actif":ne.status==="attention"?"Attention":"Urgent"})}),s.jsx("td",{className:"p-4",children:ne.totalAnimals}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pu,{className:"h-3 w-3"}),ne.phone]}),s.jsxs("div",{className:"text-muted-foreground",children:["Dernière visite: ",Da(ne.lastVisit)]})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>V(ne),children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>H(ne),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",onClick:()=>I(),children:s.jsx(jn,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"destructive",onClick:()=>T(ne.id),children:s.jsx(Un,{className:"h-4 w-4"})})]})})]},ne.id)})})]})})})})]}),s.jsxs(kt,{value:"interventions",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Interventions récentes (",t.length,")"]}),s.jsxs(B,{onClick:()=>x(!0),className:"gap-2",children:[s.jsx(jn,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]}),t.length===0?s.jsx(Z,{children:s.jsx(te,{className:"p-6 text-center text-muted-foreground",children:"Aucune intervention enregistrée"})}):t.map(ne=>s.jsx(Z,{className:"card-hover",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h4",{className:"text-lg font-semibold",children:K[ne.type]}),s.jsx(Pe,{variant:"outline",className:ne.status==="completed"?"bg-green-100 text-green-800":ne.status==="ongoing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",children:ne.status==="completed"?"Terminé":ne.status==="ongoing"?"En cours":ne.status==="scheduled"?"Programmé":"Annulé"})]}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(He,{className:"h-3 w-3"}),Da(ne.date)]}),s.jsx("span",{children:ne.farmName}),s.jsx("span",{children:ne.veterinarian})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Animaux concernés:"})," ",ne.animals]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Suivi:"})," ",ne.followUp||"Aucun"]})]}),s.jsx("p",{className:"text-sm",children:ne.description}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[s.jsx(B,{size:"sm",variant:"outline",children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>U(ne),children:s.jsx(Mt,{className:"h-4 w-4"})}),ne.status==="ongoing"&&s.jsx(B,{size:"sm",children:s.jsx(jn,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"destructive",onClick:()=>F(ne.id),children:s.jsx(Un,{className:"h-4 w-4"})})]})]})})},ne.id))]})]}),s.jsx(nAe,{open:g,onOpenChange:p}),s.jsx(rAe,{open:v,onOpenChange:x,farmId:_==null?void 0:_.id,farmName:_==null?void 0:_.name}),s.jsx(sAe,{farm:_,open:y,onOpenChange:j,onEdit:()=>H(_),onNewIntervention:()=>{j(!1),x(!0)}}),s.jsx(aAe,{farm:_,open:w,onOpenChange:N}),s.jsx(iAe,{intervention:E,open:C,onOpenChange:S})]})};function yj({children:e,mode:t,protocol:n,open:r,onOpenChange:a}){var p;const i=dZ(),o=hZ(),{toast:l}=at(),[c,u]=b.useState(!1),d=r!==void 0?r:c,h=a||u,[f,m]=b.useState({species:(n==null?void 0:n.species)||"",vaccineName:(n==null?void 0:n.vaccine_name)||"",vaccineType:(n==null?void 0:n.vaccine_type)||"",ageRecommendation:(n==null?void 0:n.age_recommendation)||"",frequency:(n==null?void 0:n.frequency)||"",durationDays:((p=n==null?void 0:n.duration_days)==null?void 0:p.toString())||"",notes:(n==null?void 0:n.notes)||"",active:(n==null?void 0:n.active)??!0}),g=async v=>{if(v.preventDefault(),!f.species||!f.vaccineName||!f.vaccineType){l({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}try{const x={species:f.species,vaccine_name:f.vaccineName,vaccine_type:f.vaccineType,age_recommendation:f.ageRecommendation||void 0,frequency:f.frequency||void 0,duration_days:f.durationDays?parseInt(f.durationDays):void 0,notes:f.notes||void 0,active:f.active};t==="create"?(await i.mutateAsync(x),l({title:"Protocole créé",description:`Le protocole ${f.vaccineName} a été créé avec succès`})):n&&(await o.mutateAsync({id:n.id,data:x}),l({title:"Protocole modifié",description:`Le protocole ${f.vaccineName} a été modifié avec succès`})),t==="create"&&m({species:"",vaccineName:"",vaccineType:"",ageRecommendation:"",frequency:"",durationDays:"",notes:"",active:!0}),h(!1)}catch{l({title:"Erreur",description:`Impossible de ${t==="create"?"créer":"modifier"} le protocole`,variant:"destructive"})}};return s.jsxs(Ze,{open:d,onOpenChange:h,children:[s.jsx(Fx,{asChild:!0,children:e||s.jsxs(B,{className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),t==="create"?"Nouveau Protocole":"Modifier"]})}),s.jsxs(Ge,{className:"max-w-2xl",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"h-5 w-5"}),t==="create"?"Nouveau Protocole Vaccinal":"Modifier le Protocole"]})}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"species",children:"Espèce *"}),s.jsxs(be,{value:f.species,onValueChange:v=>m({...f,species:v}),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionnez l'espèce"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"Chien",children:"Chien"}),s.jsx(L,{value:"Chat",children:"Chat"}),s.jsx(L,{value:"Oiseau",children:"Oiseau"}),s.jsx(L,{value:"Lapin",children:"Lapin"}),s.jsx(L,{value:"Furet",children:"Furet"}),s.jsx(L,{value:"Autre",children:"Autre"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"vaccineName",children:"Nom du vaccin *"}),s.jsx(Y,{id:"vaccineName",value:f.vaccineName,onChange:v=>m({...f,vaccineName:v.target.value}),placeholder:"ex: DHPP, Rage, FVRCP...",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"vaccineType",children:"Type de vaccin *"}),s.jsxs(be,{value:f.vaccineType,onValueChange:v=>m({...f,vaccineType:v}),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionnez le type"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"core",children:"Essentiel"}),s.jsx(L,{value:"non-core",children:"Optionnel"}),s.jsx(L,{value:"rabies",children:"Rage"}),s.jsx(L,{value:"custom",children:"Personnalisé"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"ageRecommendation",children:"Âge recommandé"}),s.jsx(Y,{id:"ageRecommendation",value:f.ageRecommendation,onChange:v=>m({...f,ageRecommendation:v.target.value}),placeholder:"ex: 8 semaines, 3 mois..."})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"frequency",children:"Fréquence"}),s.jsx(Y,{id:"frequency",value:f.frequency,onChange:v=>m({...f,frequency:v.target.value}),placeholder:"ex: Annuelle, Tous les 3 ans..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"durationDays",children:"Durée (jours)"}),s.jsx(Y,{id:"durationDays",type:"number",value:f.durationDays,onChange:v=>m({...f,durationDays:v.target.value}),placeholder:"ex: 365, 1095...",min:"1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(Ue,{id:"notes",value:f.notes,onChange:v=>m({...f,notes:v.target.value}),placeholder:"Informations complémentaires sur le protocole...",rows:3})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"active",checked:f.active,onChange:v=>m({...f,active:v.target.checked}),className:"rounded"}),s.jsx(D,{htmlFor:"active",children:"Protocole actif"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Annuler"}),s.jsx(B,{type:"submit",disabled:i.isPending||o.isPending,children:i.isPending||o.isPending?t==="create"?"Création...":"Modification...":t==="create"?"Créer le protocole":"Modifier le protocole"})]})]})]})]})}const lAe=e=>{if(!e.next_due_date)return"completed";const t=new Date,n=new Date(e.next_due_date);return Hg(n,t)?"overdue":"scheduled"},XE=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},JE=e=>{switch(e){case"completed":return s.jsx(On,{className:"h-4 w-4"});case"overdue":return s.jsx(pn,{className:"h-4 w-4"});case"scheduled":return s.jsx(Jt,{className:"h-4 w-4"});case"missed":return s.jsx(pn,{className:"h-4 w-4"});default:return s.jsx(Jt,{className:"h-4 w-4"})}};function cAe(){const{data:e=[],isLoading:t}=_d(),{data:n=[],isLoading:r}=dr(),{data:a=[],isLoading:i}=ur(),{data:o=[]}=uZ(),l=cZ();lZ();const{toast:c}=at(),{currentView:u}=uc("vaccinations"),[d,h]=b.useState(u),[f,m]=b.useState(""),[g,p]=b.useState("all"),[v,x]=b.useState("overview"),[y,j]=b.useState(null),[w,N]=b.useState(!1),[C,S]=b.useState(!1),[_,k]=b.useState(null),E=b.useMemo(()=>t||r||i?[]:e.map(H=>{const T=n.find(F=>F.id===H.animal_id),I=a.find(F=>F.id===(T==null?void 0:T.client_id));return{...H,petName:(T==null?void 0:T.name)||"Animal inconnu",clientName:I?`${I.first_name} ${I.last_name}`:"Client inconnu",status:lAe(H),animal:T,client:I}}),[e,n,a,t,r,i]),P=b.useMemo(()=>{const H=E.length,T=E.filter(J=>J.status==="completed").length,I=E.filter(J=>J.status==="overdue").length,F=E.filter(J=>J.status==="scheduled").length,U=E.filter(J=>{if(!J.next_due_date)return!1;const ae=new Date,ne=new Date(J.next_due_date),me=qS(ae,30);return Gee(ne,ae)&&Hg(ne,me)}).length;return{total:H,completed:T,overdue:I,scheduled:F,upcoming:U}},[E]),A=b.useMemo(()=>E.filter(H=>{const T=H.petName.toLowerCase().includes(f.toLowerCase())||H.clientName.toLowerCase().includes(f.toLowerCase())||H.vaccine_name.toLowerCase().includes(f.toLowerCase()),I=g==="all"||H.status===g;return T&&I}),[E,f,g]),R=H=>{k(H),S(!0)},$=()=>{_&&(l.mutate(_.id),c({title:"Vaccination supprimée",description:`La vaccination ${_.vaccine_name} a été supprimée avec succès.`}),S(!1),k(null))},K=()=>{const H=JSON.stringify(E,null,2),T=new Blob([H],{type:"application/json"}),I=URL.createObjectURL(T),F=document.createElement("a");F.href=I,F.download=`vaccinations-${Xe(new Date,"yyyy-MM-dd")}.json`,F.click(),URL.revokeObjectURL(I)};return t||r||i?s.jsx("div",{className:"space-y-6 max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:s.jsx(Z,{children:s.jsxs(te,{className:"p-8 text-center",children:[s.jsx(Sr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),s.jsx("p",{children:"Chargement des données de vaccination..."})]})})}):s.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3 dark:text-white",children:[s.jsx(Lr,{className:"h-8 w-8 text-blue-600"}),"Gestion Vaccinale"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Suivi et planification des vaccinations"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(B,{onClick:K,variant:"outline",className:"gap-2",children:[s.jsx(gx,{className:"h-4 w-4"}),"Exporter"]}),s.jsx(UN,{})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx(Z,{children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(Lr,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:P.total})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(On,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Terminées"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:P.completed})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:s.jsx(pn,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"En Retard"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:P.overdue})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:s.jsx(Jt,{className:"h-6 w-6 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Prochaines 30j"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:P.upcoming})]})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx(He,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Planifiées"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:P.scheduled})]})]})})})]}),s.jsxs(ki,{value:v,onValueChange:x,children:[s.jsxs(qa,{className:"grid w-full grid-cols-2",children:[s.jsxs(At,{value:"overview",className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-4 w-4"}),"Vue d'ensemble"]}),s.jsxs(At,{value:"protocols",className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"h-4 w-4"}),"Protocoles"]})]}),s.jsxs(kt,{value:"overview",className:"space-y-4",children:[s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(Io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(Y,{placeholder:"Rechercher animal, client, vaccin...",value:f,onChange:H=>m(H.target.value),className:"pl-10"})]}),s.jsxs(be,{value:g,onValueChange:p,children:[s.jsx(xe,{className:"w-[150px]",children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"all",children:"Tous statuts"}),s.jsx(L,{value:"completed",children:"Terminées"}),s.jsx(L,{value:"scheduled",children:"Planifiées"}),s.jsx(L,{value:"overdue",children:"En retard"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{variant:d==="cards"?"default":"outline",size:"sm",onClick:()=>h("cards"),children:s.jsx(Ao,{className:"h-4 w-4"})}),s.jsx(B,{variant:d==="table"?"default":"outline",size:"sm",onClick:()=>h("table"),children:s.jsx(bi,{className:"h-4 w-4"})})]})]})})}),d==="cards"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(H=>{var T;return s.jsx(Z,{className:"hover:shadow-md transition-shadow",children:s.jsxs(te,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jn,{className:"h-10 w-10",children:s.jsx(Zn,{children:s.jsx(_g,{className:"h-5 w-5"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm",children:H.petName}),s.jsxs("p",{className:"text-xs text-gray-600",children:[(T=H.animal)==null?void 0:T.species," • ",H.clientName]})]})]}),s.jsxs(Pe,{className:XE(H.status),children:[JE(H.status),s.jsx("span",{className:"ml-1 capitalize",children:H.status})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lr,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-sm",children:H.vaccine_name}),H.vaccine_type&&s.jsx(Pe,{variant:"outline",className:"text-xs",children:H.vaccine_type})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(He,{className:"h-4 w-4"}),s.jsxs("span",{children:["Date: ",Xe(new Date(H.vaccination_date),"dd/MM/yyyy",{locale:In})]})]}),H.next_due_date&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Jt,{className:"h-4 w-4"}),s.jsxs("span",{children:["Prochain: ",Xe(new Date(H.next_due_date),"dd/MM/yyyy",{locale:In})]})]}),H.administered_by&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Fa,{className:"h-4 w-4"}),s.jsx("span",{children:H.administered_by})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-3 border-t",children:[s.jsxs(B,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{j(H),N(!0)},children:[s.jsx(bn,{className:"h-4 w-4 mr-1"}),"Détails"]}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>R(H),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Un,{className:"h-4 w-4"})})]})]})},H.id)})}):s.jsx(Z,{children:s.jsx(te,{className:"p-0",children:s.jsxs(Vd,{children:[s.jsx(qd,{children:s.jsxs(ca,{children:[s.jsx(lt,{children:"Animal"}),s.jsx(lt,{children:"Vaccin"}),s.jsx(lt,{children:"Date"}),s.jsx(lt,{children:"Prochain"}),s.jsx(lt,{children:"Statut"}),s.jsx(lt,{children:"Actions"})]})}),s.jsx(Ud,{children:A.map(H=>s.jsxs(ca,{children:[s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jn,{className:"h-8 w-8",children:s.jsx(Zn,{children:s.jsx(_g,{className:"h-4 w-4"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:H.petName}),s.jsx("div",{className:"text-xs text-gray-600",children:H.clientName})]})]})}),s.jsx(ct,{className:"font-medium",children:H.vaccine_name}),s.jsx(ct,{children:Xe(new Date(H.vaccination_date),"dd/MM/yyyy")}),s.jsx(ct,{children:H.next_due_date?Xe(new Date(H.next_due_date),"dd/MM/yyyy"):"N/A"}),s.jsx(ct,{children:s.jsxs(Pe,{className:XE(H.status),children:[JE(H.status),s.jsx("span",{className:"ml-1 capitalize",children:H.status})]})}),s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>{j(H),N(!0)},children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>R(H),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Un,{className:"h-4 w-4"})})]})})]},H.id))})]})})})]}),s.jsx(kt,{value:"protocols",children:s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"h-5 w-5"}),"Protocoles Vaccinaux (",o.length,")"]}),s.jsx(yj,{mode:"create"})]})}),s.jsxs(te,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(H=>s.jsx(Z,{className:"hover:shadow-md transition-shadow",children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h4",{className:"font-semibold",children:H.vaccine_name}),!H.active&&s.jsx(Pe,{variant:"secondary",className:"text-xs",children:"Inactif"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Espèce: ",H.species]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Type: ",H.vaccine_type]}),H.frequency&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Fréquence: ",H.frequency]}),H.age_recommendation&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Âge: ",H.age_recommendation]}),H.notes&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:H.notes}),s.jsx("div",{className:"flex gap-2 mt-3",children:s.jsx(yj,{mode:"edit",protocol:H,children:s.jsxs(B,{size:"sm",variant:"outline",className:"flex-1",children:[s.jsx(Mt,{className:"h-4 w-4 mr-1"}),"Modifier"]})})})]})})},H.id))}),o.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Wr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"Aucun protocole vaccinal configuré"}),s.jsx(yj,{mode:"create",children:s.jsxs(B,{className:"mt-4",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Créer un protocole"]})})]})]})]})})]}),s.jsx(Ze,{open:w,onOpenChange:N,children:s.jsxs(Ge,{className:"max-w-2xl",children:[s.jsx(et,{children:s.jsx(tt,{children:"Détails de la Vaccination"})}),y&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Animal:"}),s.jsx("p",{children:y.petName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Client:"}),s.jsx("p",{children:y.clientName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Vaccin:"}),s.jsx("p",{children:y.vaccine_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Date:"}),s.jsx("p",{children:Xe(new Date(y.vaccination_date),"dd/MM/yyyy",{locale:In})})]}),y.next_due_date&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Prochain rappel:"}),s.jsx("p",{children:Xe(new Date(y.next_due_date),"dd/MM/yyyy",{locale:In})})]})]}),y.notes&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Notes:"}),s.jsx("p",{className:"text-gray-600",children:y.notes})]}),s.jsx("div",{className:"border-t pt-4 mt-4",children:s.jsx("div",{className:"flex justify-center",children:s.jsx(q6,{animalId:y.animal_id})})})]})]})}),s.jsx(Ze,{open:C,onOpenChange:S,children:s.jsxs(Ge,{className:"max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Confirmer la suppression"})}),_&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-600",children:["Êtes-vous sûr de vouloir supprimer la vaccination ",s.jsx("strong",{children:_.vaccine_name})," pour ",s.jsx("strong",{children:_.petName})," ?"]}),s.jsx("p",{className:"text-sm text-red-600",children:"Cette action est irréversible."}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>S(!1),children:"Annuler"}),s.jsx(B,{variant:"destructive",onClick:$,children:"Supprimer"})]})]})]})})]})}var zy="Switch",[uAe,fke]=hs(zy),[dAe,hAe]=uAe(zy),H6=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=b.useState(null),g=vt(t,j=>m(j)),p=b.useRef(!1),v=f?d||!!f.closest("form"):!0,[x,y]=ji({prop:a,defaultProp:i??!1,onChange:u,caller:zy});return s.jsxs(dAe,{scope:n,checked:x,disabled:l,children:[s.jsx(Be.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":Q6(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:_e(e.onClick,j=>{y(w=>!w),v&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),v&&s.jsx(Y6,{control:f,bubbles:!p.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});H6.displayName=zy;var K6="SwitchThumb",G6=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=hAe(K6,n);return s.jsx(Be.span,{"data-state":Q6(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});G6.displayName=K6;var fAe="SwitchBubbleInput",Y6=b.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},i)=>{const o=b.useRef(null),l=vt(o,i),c=IS(n),u=tS(t);return b.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&m){const g=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(g)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Y6.displayName=fAe;function Q6(e){return e?"checked":"unchecked"}var X6=H6,mAe=G6;const Dr=b.forwardRef(({className:e,...t},n)=>s.jsx(X6,{className:Ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(mAe,{className:Ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Dr.displayName=X6.displayName;function pAe({open:e,onOpenChange:t,editingProtocol:n}){const r=vZ(),a=xZ(),{toast:i}=at(),[o,l]=b.useState({species:"",parasiteType:"",productName:"",activeIngredient:"",administrationRoute:"",dosageRecommendation:"",frequencyDays:"",ageRecommendation:"",weightRange:"",seasonRecommendation:"",notes:"",active:!0});b.useEffect(()=>{n&&l({species:n.species,parasiteType:n.parasite_type,productName:n.product_name,activeIngredient:n.active_ingredient||"",administrationRoute:n.administration_route||"",dosageRecommendation:n.dosage_per_kg||"",frequencyDays:"",ageRecommendation:n.age_restriction||"",weightRange:"",seasonRecommendation:"",notes:n.notes||"",active:n.active})},[n]);const c=(f,m)=>{l(g=>({...g,[f]:m}))},u=()=>{l({species:"",parasiteType:"",productName:"",activeIngredient:"",administrationRoute:"",dosageRecommendation:"",frequencyDays:"",ageRecommendation:"",weightRange:"",seasonRecommendation:"",notes:"",active:!0})},d=async f=>{if(f.preventDefault(),!o.species||!o.parasiteType||!o.productName){i({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}try{const m={species:o.species,parasite_type:o.parasiteType,product_name:o.productName,active_ingredient:o.activeIngredient||void 0,administration_route:o.administrationRoute||void 0,dosage_per_kg:o.dosageRecommendation||void 0,frequency:o.frequencyDays?`${o.frequencyDays} jours`:void 0,age_restriction:o.ageRecommendation||void 0,notes:[o.notes,o.weightRange?`Poids: ${o.weightRange}`:"",o.seasonRecommendation?`Saison: ${o.seasonRecommendation}`:""].filter(Boolean).join(" | ")||void 0,active:o.active};n?(await a.mutateAsync({id:n.id,updates:m}),i({title:"Succès",description:"Le protocole antiparasitaire a été modifié avec succès."})):(await r.mutateAsync(m),i({title:"Succès",description:"Le protocole antiparasitaire a été créé avec succès."})),u(),t(!1)}catch(m){console.error("Erreur lors de la sauvegarde du protocole:",m),i({title:"Erreur",description:"Une erreur s'est produite lors de la sauvegarde.",variant:"destructive"})}},h=r.isPending||a.isPending;return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"h-5 w-5"}),n?"Modifier le protocole":"Nouveau protocole antiparasitaire"]})}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"species",children:"Espèce *"}),s.jsxs(be,{value:o.species,onValueChange:f=>c("species",f),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner une espèce"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"Chien",children:"Chien"}),s.jsx(L,{value:"Chat",children:"Chat"}),s.jsx(L,{value:"Oiseau",children:"Oiseau"}),s.jsx(L,{value:"Lapin",children:"Lapin"}),s.jsx(L,{value:"Furet",children:"Furet"}),s.jsx(L,{value:"Autre",children:"Autre"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"parasiteType",children:"Type de parasite *"}),s.jsxs(be,{value:o.parasiteType,onValueChange:f=>c("parasiteType",f),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner le type"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"puces",children:"Puces"}),s.jsx(L,{value:"tiques",children:"Tiques"}),s.jsx(L,{value:"vers_intestinaux",children:"Vers intestinaux"}),s.jsx(L,{value:"vers_cardiaques",children:"Vers cardiaques"}),s.jsx(L,{value:"acariens",children:"Acariens"}),s.jsx(L,{value:"poux",children:"Poux"}),s.jsx(L,{value:"multi_parasites",children:"Multi-parasites"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"productName",children:"Nom du produit *"}),s.jsx(Y,{id:"productName",value:o.productName,onChange:f=>c("productName",f.target.value),placeholder:"Ex: Frontline, Bravecto...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"activeIngredient",children:"Principe actif"}),s.jsx(Y,{id:"activeIngredient",value:o.activeIngredient,onChange:f=>c("activeIngredient",f.target.value),placeholder:"Ex: Fipronil, Fluralaner..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"administrationRoute",children:"Voie d'administration"}),s.jsxs(be,{value:o.administrationRoute,onValueChange:f=>c("administrationRoute",f),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner la voie"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"spot_on",children:"Spot-on (pipette)"}),s.jsx(L,{value:"oral",children:"Orale (comprimé/liquide)"}),s.jsx(L,{value:"injection",children:"Injection"}),s.jsx(L,{value:"spray",children:"Spray"}),s.jsx(L,{value:"collier",children:"Collier"}),s.jsx(L,{value:"shampoing",children:"Shampoing"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"dosageRecommendation",children:"Recommandation de dosage"}),s.jsx(Y,{id:"dosageRecommendation",value:o.dosageRecommendation,onChange:f=>c("dosageRecommendation",f.target.value),placeholder:"Ex: 1 pipette par 10-20kg..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"frequencyDays",children:"Fréquence (jours)"}),s.jsx(Y,{id:"frequencyDays",type:"number",value:o.frequencyDays,onChange:f=>c("frequencyDays",f.target.value),placeholder:"Ex: 30, 90..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"ageRecommendation",children:"Recommandation d'âge"}),s.jsx(Y,{id:"ageRecommendation",value:o.ageRecommendation,onChange:f=>c("ageRecommendation",f.target.value),placeholder:"Ex: > 8 semaines, adulte..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"weightRange",children:"Gamme de poids"}),s.jsx(Y,{id:"weightRange",value:o.weightRange,onChange:f=>c("weightRange",f.target.value),placeholder:"Ex: 10-20kg, < 5kg..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"seasonRecommendation",children:"Recommandation saisonnière"}),s.jsxs(be,{value:o.seasonRecommendation,onValueChange:f=>c("seasonRecommendation",f),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner la saison"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"toute_annee",children:"Toute l'année"}),s.jsx(L,{value:"printemps_ete",children:"Printemps-Été"}),s.jsx(L,{value:"automne_hiver",children:"Automne-Hiver"}),s.jsx(L,{value:"printemps",children:"Printemps"}),s.jsx(L,{value:"ete",children:"Été"}),s.jsx(L,{value:"automne",children:"Automne"}),s.jsx(L,{value:"hiver",children:"Hiver"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(Ue,{id:"notes",value:o.notes,onChange:f=>c("notes",f.target.value),placeholder:"Informations supplémentaires, contre-indications...",rows:3})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dr,{id:"active",checked:o.active,onCheckedChange:f=>c("active",f)}),s.jsx(D,{htmlFor:"active",children:"Protocole actif"})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsxs(B,{type:"submit",disabled:h,children:[h&&s.jsx(Sr,{className:"h-4 w-4 mr-2 animate-spin"}),n?"Modifier":"Créer"]})]})]})]})})}const gAe=e=>{if(!e.next_treatment_date)return"completed";const t=new Date(e.next_treatment_date),n=new Date,r=qS(n,7);return Hg(t,n)?"overdue":Hg(t,r)?"upcoming":"scheduled"},ZE=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"upcoming":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},eO=e=>{switch(e){case"completed":return s.jsx(On,{className:"h-4 w-4"});case"overdue":return s.jsx(pn,{className:"h-4 w-4"});case"scheduled":return s.jsx(Jt,{className:"h-4 w-4"});case"upcoming":return s.jsx(He,{className:"h-4 w-4"});default:return s.jsx(Jt,{className:"h-4 w-4"})}},tO=e=>{switch(e){case"completed":return"Terminé";case"overdue":return"En retard";case"scheduled":return"Programmé";case"upcoming":return"À venir";default:return"Inconnu"}},vAe=(e,t,n)=>e.map(r=>{const a=t.find(l=>l.id===r.animal_id),i=a?n.find(l=>l.id===a.client_id):null,o=gAe(r);return{...r,petName:(a==null?void 0:a.name)||"Animal inconnu",petSpecies:(a==null?void 0:a.species)||"Espèce inconnue",clientName:i?`${i.first_name} ${i.last_name}`:"Client inconnu",status:o,animal:a,client:i}});function xAe(){const{currentView:e}=uc("antiparasitics"),{data:t=[],isLoading:n}=qx(),{data:r=[],isLoading:a}=pZ(),{data:i=[]}=dr(),{data:o=[]}=ur(),l=mZ(),{toast:c}=at(),[u,d]=b.useState(""),[h,f]=b.useState("all"),[m,g]=b.useState("all"),[p,v]=b.useState(!1),[x,y]=b.useState(!1),[j,w]=b.useState(!1),[N,C]=b.useState(null),[S,_]=b.useState(!1),[k,E]=b.useState(null),[P,A]=b.useState(null),R=b.useMemo(()=>vAe(t,i,o),[t,i,o]),$=b.useMemo(()=>R.filter(F=>{const U=!u||F.petName.toLowerCase().includes(u.toLowerCase())||F.clientName.toLowerCase().includes(u.toLowerCase())||F.product_name.toLowerCase().includes(u.toLowerCase()),J=h==="all"||F.status===h,ae=m==="all"||F.parasite_type===m;return U&&J&&ae}),[R,u,h,m]),K=b.useMemo(()=>{const F=R.length,U=R.filter(me=>me.status==="overdue").length,J=R.filter(me=>me.status==="upcoming").length,ae=R.filter(me=>me.status==="completed").length,ne=R.reduce((me,Ne)=>{const le=Ne.parasite_type||"Non spécifié";return me[le]=(me[le]||0)+1,me},{});return{total:F,overdue:U,upcoming:J,completed:ae,parasiteTypes:ne}},[R]),V=F=>{E(F),_(!0)},H=async()=>{if(k)try{await l.mutateAsync(k.id),c({title:"Succès",description:"Le traitement antiparasitaire a été supprimé."}),_(!1),E(null)}catch{c({title:"Erreur",description:"Impossible de supprimer le traitement.",variant:"destructive"})}},I=(F=>[...new Set(F)])(R.map(F=>F.parasite_type).filter(Boolean));return n?s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx(Sr,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Chargement des traitements antiparasitaires..."})]}):s.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(cl,{className:"h-8 w-8"}),"Traitements Antiparasitaires"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gestion des traitements antiparasitaires et protocoles"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{onClick:()=>y(!0),variant:"outline",className:"gap-2",children:[s.jsx(Wr,{className:"h-4 w-4"}),"Protocoles"]}),s.jsxs(B,{onClick:()=>v(!0),className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouveau traitement"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold",children:K.total})]}),s.jsx(Oa,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"En retard"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:K.overdue})]}),s.jsx(pn,{className:"h-8 w-8 text-red-500"})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"À venir"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:K.upcoming})]}),s.jsx(He,{className:"h-8 w-8 text-orange-500"})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Terminés"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:K.completed})]}),s.jsx(On,{className:"h-8 w-8 text-green-500"})]})})})]}),s.jsx(Z,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Y,{placeholder:"Rechercher par animal, client ou produit...",value:u,onChange:F=>d(F.target.value),className:"pl-10"})]})}),s.jsxs(be,{value:h,onValueChange:f,children:[s.jsx(xe,{className:"w-48",children:s.jsx(we,{placeholder:"Filtrer par statut"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"all",children:"Tous les statuts"}),s.jsx(L,{value:"overdue",children:"En retard"}),s.jsx(L,{value:"upcoming",children:"À venir"}),s.jsx(L,{value:"scheduled",children:"Programmés"}),s.jsx(L,{value:"completed",children:"Terminés"})]})]}),s.jsxs(be,{value:m,onValueChange:g,children:[s.jsx(xe,{className:"w-48",children:s.jsx(we,{placeholder:"Filtrer par parasite"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"all",children:"Tous les parasites"}),I.map(F=>s.jsx(L,{value:F,children:F},F))]})]})]})})}),s.jsxs(ki,{defaultValue:"overview",className:"space-y-4",children:[s.jsxs(qa,{children:[s.jsxs(At,{value:"overview",className:"flex items-center gap-2",children:[s.jsx(bi,{className:"h-4 w-4"}),"Vue d'ensemble"]}),s.jsxs(At,{value:"protocols",className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"h-4 w-4"}),"Protocoles"]}),s.jsxs(At,{value:"statistics",className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-4 w-4"}),"Statistiques"]})]}),s.jsx(kt,{value:"overview",children:s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Traitements antiparasitaires (",$.length,")"]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{},children:[s.jsx(gx,{className:"h-4 w-4 mr-1"}),"Export"]})})]})}),s.jsxs(te,{children:[e==="table"?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Vd,{children:[s.jsx(qd,{children:s.jsxs(ca,{children:[s.jsx(lt,{children:"Animal"}),s.jsx(lt,{children:"Client"}),s.jsx(lt,{children:"Produit"}),s.jsx(lt,{children:"Parasite"}),s.jsx(lt,{children:"Date traitement"}),s.jsx(lt,{children:"Prochain traitement"}),s.jsx(lt,{children:"Statut"}),s.jsx(lt,{children:"Actions"})]})}),s.jsx(Ud,{children:$.map(F=>s.jsxs(ca,{children:[s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-8 w-8",children:s.jsx(Zn,{children:s.jsx(_g,{className:"h-4 w-4"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:F.petName}),s.jsx("div",{className:"text-sm text-gray-500",children:F.petSpecies})]})]})}),s.jsx(ct,{children:F.clientName}),s.jsx(ct,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:F.product_name}),F.active_ingredient&&s.jsx("div",{className:"text-sm text-gray-500",children:F.active_ingredient})]})}),s.jsx(ct,{children:F.parasite_type&&s.jsx(Pe,{variant:"outline",children:F.parasite_type})}),s.jsx(ct,{children:Xe(new Date(F.treatment_date),"dd/MM/yyyy",{locale:In})}),s.jsx(ct,{children:F.next_treatment_date?Xe(new Date(F.next_treatment_date),"dd/MM/yyyy",{locale:In}):"N/A"}),s.jsx(ct,{children:s.jsx(Pe,{className:ZE(F.status),children:s.jsxs("div",{className:"flex items-center gap-1",children:[eO(F.status),tO(F.status)]})})}),s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>{C(F),w(!0)},children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>V(F),children:s.jsx(Un,{className:"h-4 w-4"})})]})})]},F.id))})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:$.map(F=>s.jsx(Z,{className:"hover:shadow-md transition-shadow",children:s.jsxs(te,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-8 w-8",children:s.jsx(Zn,{children:s.jsx(_g,{className:"h-4 w-4"})})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:F.petName}),s.jsx("p",{className:"text-xs text-gray-600",children:F.clientName})]})]}),s.jsx(Pe,{className:ZE(F.status),children:s.jsxs("div",{className:"flex items-center gap-1",children:[eO(F.status),tO(F.status)]})})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Produit:"})," ",F.product_name]}),F.parasite_type&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Parasite:"})," ",F.parasite_type]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Date:"})," ",Xe(new Date(F.treatment_date),"dd/MM/yyyy")]}),F.next_treatment_date&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Prochain:"})," ",Xe(new Date(F.next_treatment_date),"dd/MM/yyyy")]})]}),s.jsxs("div",{className:"flex justify-between mt-4",children:[s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{C(F),w(!0)},children:[s.jsx(bn,{className:"h-4 w-4 mr-1"}),"Détails"]}),s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>V(F),children:s.jsx(Un,{className:"h-4 w-4"})})]})]})},F.id))}),$.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(cl,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"Aucun traitement antiparasitaire trouvé"})]})]})]})}),s.jsx(kt,{value:"protocols",children:s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Protocoles antiparasitaires (",r.length,")"]}),s.jsxs(B,{onClick:()=>{A(null),y(!0)},className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouveau protocole"]})]})}),s.jsxs(te,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(F=>s.jsx(Z,{className:"hover:shadow-md transition-shadow",children:s.jsxs(te,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(Pe,{variant:"outline",children:F.species}),s.jsx("div",{className:"flex gap-1",children:s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>{A(F),y(!0)},children:s.jsx(Mt,{className:"h-4 w-4"})})})]}),s.jsx("h4",{className:"font-medium mb-2",children:F.product_name}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Parasite:"})," ",F.parasite_type]}),F.active_ingredient&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Principe actif:"})," ",F.active_ingredient]}),F.frequency&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Fréquence:"})," ",F.frequency]})]})]})},F.id))}),r.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Wr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"Aucun protocole configuré"})]})]})]})}),s.jsx(kt,{value:"statistics",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-5 w-5"}),"Répartition par type de parasite"]})}),s.jsx(te,{children:s.jsx("div",{className:"space-y-3",children:Object.entries(K.parasiteTypes).map(([F,U])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:F}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-gray-200 rounded-full h-2 w-20",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${U/K.total*100}%`}})}),s.jsx("span",{className:"text-sm font-medium",children:U})]})]},F))})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Résumé des traitements"})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Total des traitements"}),s.jsx("span",{className:"font-bold",children:K.total})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"En retard"}),s.jsx("span",{className:"font-bold text-red-600",children:K.overdue})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"À venir (7 jours)"}),s.jsx("span",{className:"font-bold text-orange-600",children:K.upcoming})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Terminés"}),s.jsx("span",{className:"font-bold text-green-600",children:K.completed})]})]})})]})]})})]}),s.jsx(WN,{open:p,onOpenChange:v}),s.jsx(pAe,{open:x,onOpenChange:y,editingProtocol:P}),s.jsx(Ze,{open:j,onOpenChange:w,children:s.jsxs(Ge,{className:"max-w-2xl",children:[s.jsx(et,{children:s.jsx(tt,{children:"Détails du traitement"})}),N&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Animal:"}),s.jsx("p",{children:N.petName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Client:"}),s.jsx("p",{children:N.clientName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Produit:"}),s.jsx("p",{children:N.product_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Principe actif:"}),s.jsx("p",{children:N.active_ingredient||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Type de parasite:"}),s.jsx("p",{children:N.parasite_type||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Voie d'administration:"}),s.jsx("p",{children:N.administration_route||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Dosage:"}),s.jsx("p",{children:N.dosage||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Date du traitement:"}),s.jsx("p",{children:Xe(new Date(N.treatment_date),"dd/MM/yyyy",{locale:In})})]}),N.next_treatment_date&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Prochain traitement:"}),s.jsx("p",{children:Xe(new Date(N.next_treatment_date),"dd/MM/yyyy",{locale:In})})]}),N.effectiveness_rating&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Efficacité:"}),s.jsxs("p",{children:[N.effectiveness_rating,"/10"]})]})]}),N.notes&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Notes:"}),s.jsx("p",{className:"text-gray-600",children:N.notes})]})]})]})}),s.jsx(Ze,{open:S,onOpenChange:_,children:s.jsxs(Ge,{className:"max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Confirmer la suppression"})}),k&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-600",children:["Êtes-vous sûr de vouloir supprimer le traitement ",s.jsx("strong",{children:k.product_name})," pour ",s.jsx("strong",{children:k.petName})," ?"]}),s.jsx("p",{className:"text-sm text-red-600",children:"Cette action est irréversible."}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>_(!1),children:"Annuler"}),s.jsx(B,{variant:"destructive",onClick:H,children:"Supprimer"})]})]})]})})]})}const yAe=[{value:"medication",label:"Médicaments",icon:"💊"},{value:"vaccine",label:"Vaccins",icon:"💉"},{value:"consumable",label:"Consommables",icon:"🩹"},{value:"equipment",label:"Équipement",icon:"🔧"},{value:"supplement",label:"Suppléments",icon:"🧪"}],jAe=[{value:"unit",label:"Unité"},{value:"box",label:"Boîte"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}],bAe={medication:["Antibiotique","Anti-inflammatoire","Antiparasitaire","Anesthésique","Analgésique","Antihistaminique","Corticoïde","Diurétique","Autre"],vaccine:["Vaccin Core","Vaccin Non-Core","Vaccin Obligatoire","Vaccin Recommandé","Autre"],consumable:["Matériel d'injection","Protection","Pansement","Suture","Autre"],equipment:["Diagnostic","Chirurgie","Monitoring","Stérilisation","Autre"],supplement:["Vitamines","Minéraux","Probiotiques","Acides aminés","Autre"]};function nO({open:e,onOpenChange:t,editingItem:n}){var h;const{addStockItem:r,updateStockItem:a}=yt(),{settings:i}=_t(),{toast:o}=at(),[l,c]=b.useState({name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0});b.useEffect(()=>{c(n?{name:n.name,category:n.category,subcategory:n.subcategory||"",description:n.description||"",manufacturer:n.manufacturer||"",batchNumber:n.batchNumber||"",dosage:n.dosage||"",unit:n.unit,currentStock:n.currentStock,minimumStock:n.minimumStock,maximumStock:n.maximumStock||0,purchasePrice:n.purchasePrice,sellingPrice:n.sellingPrice,expirationDate:n.expirationDate||"",supplier:n.supplier||"",location:n.location||"",notes:n.notes||"",barcode:n.barcode||"",sku:n.sku||"",isActive:n.isActive}:{name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0})},[n,e]);const u=f=>{if(f.preventDefault(),!l.name.trim()){o({title:"Erreur",description:"Le nom de l'élément est requis.",variant:"destructive"});return}if(l.currentStock<0||l.minimumStock<0||l.purchasePrice<0||l.sellingPrice<0){o({title:"Erreur",description:"Les valeurs numériques ne peuvent pas être négatives.",variant:"destructive"});return}const m={...l,currentStock:Number(l.currentStock),minimumStock:Number(l.minimumStock),maximumStock:Number(l.maximumStock)||void 0,purchasePrice:Number(l.purchasePrice),sellingPrice:Number(l.sellingPrice),expirationDate:l.expirationDate||void 0,subcategory:l.subcategory||void 0,description:l.description||void 0,manufacturer:l.manufacturer||void 0,batchNumber:l.batchNumber||void 0,dosage:l.dosage||void 0,supplier:l.supplier||void 0,location:l.location||void 0,notes:l.notes||void 0,barcode:l.barcode||void 0,sku:l.sku||void 0};n?(a(n.id,m),o({title:"Élément modifié",description:`"${l.name}" a été modifié avec succès.`})):(r(m),o({title:"Élément ajouté",description:`"${l.name}" a été ajouté au stock.`})),t(!1)},d=(f,m)=>{c(g=>({...g,[f]:m}))};return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:n?"Modifier l'élément de stock":"Nouvel élément de stock"}),s.jsx(Rt,{children:n?"Modifiez les informations de l'élément de stock.":"Ajoutez un nouvel élément à votre inventaire."})]}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Informations de base"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"name",children:"Nom de l'élément *"}),s.jsx(Y,{id:"name",value:l.name,onChange:f=>d("name",f.target.value),placeholder:"ex: Amoxicilline 500mg",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"category",children:"Catégorie *"}),s.jsxs(be,{value:l.category,onValueChange:f=>d("category",f),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner une catégorie"})}),s.jsx(ye,{children:yAe.map(f=>s.jsxs(L,{value:f.value,children:[f.icon," ",f.label]},f.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"subcategory",children:"Sous-catégorie"}),s.jsxs(be,{value:l.subcategory,onValueChange:f=>d("subcategory",f),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner une sous-catégorie"})}),s.jsx(ye,{children:(h=bAe[l.category])==null?void 0:h.map(f=>s.jsx(L,{value:f,children:f},f))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"manufacturer",children:"Fabricant"}),s.jsx(Y,{id:"manufacturer",value:l.manufacturer,onChange:f=>d("manufacturer",f.target.value),placeholder:"ex: Boehringer Ingelheim"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"description",children:"Description"}),s.jsx(Ue,{id:"description",value:l.description,onChange:f=>d("description",f.target.value),placeholder:"Description détaillée de l'élément...",rows:2})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Informations techniques"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"batchNumber",children:"Numéro de lot"}),s.jsx(Y,{id:"batchNumber",value:l.batchNumber,onChange:f=>d("batchNumber",f.target.value),placeholder:"ex: AMX2024001"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"dosage",children:"Dosage"}),s.jsx(Y,{id:"dosage",value:l.dosage,onChange:f=>d("dosage",f.target.value),placeholder:"ex: 500mg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"unit",children:"Unité"}),s.jsxs(be,{value:l.unit,onValueChange:f=>d("unit",f),children:[s.jsx(xe,{children:s.jsx(we,{placeholder:"Sélectionner une unité"})}),s.jsx(ye,{children:jAe.map(f=>s.jsx(L,{value:f.value,children:f.label},f.value))})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Gestion du stock"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"currentStock",children:"Stock actuel *"}),s.jsx(Y,{id:"currentStock",type:"number",min:"0",value:l.currentStock,onChange:f=>d("currentStock",parseInt(f.target.value)||0),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"minimumStock",children:"Stock minimum *"}),s.jsx(Y,{id:"minimumStock",type:"number",min:"0",value:l.minimumStock,onChange:f=>d("minimumStock",parseInt(f.target.value)||0),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"maximumStock",children:"Stock maximum"}),s.jsx(Y,{id:"maximumStock",type:"number",min:"0",value:l.maximumStock,onChange:f=>d("maximumStock",parseInt(f.target.value)||0)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(D,{htmlFor:"purchasePrice",children:["Prix d'achat (",i.currency,") *"]}),s.jsx(Y,{id:"purchasePrice",type:"number",step:"0.01",min:"0",value:l.purchasePrice,onChange:f=>d("purchasePrice",parseFloat(f.target.value)||0),required:!0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix d'achat au fournisseur"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(D,{htmlFor:"sellingPrice",children:["Prix de vente (",i.currency,") *"]}),s.jsx(Y,{id:"sellingPrice",type:"number",step:"0.01",min:"0",value:l.sellingPrice,onChange:f=>d("sellingPrice",parseFloat(f.target.value)||0),required:!0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix de vente au client"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"La valeur totale sera calculée automatiquement : Prix d'achat × Stock actuel"}),l.purchasePrice>0&&l.currentStock>0&&s.jsxs("div",{className:"text-sm font-medium text-primary",children:["Valeur totale : ",(l.purchasePrice*l.currentStock).toFixed(2)," ",i.currency]}),l.purchasePrice>0&&l.sellingPrice>0&&s.jsxs("div",{className:"text-sm font-medium text-green-600",children:["Marge : ",((l.sellingPrice-l.purchasePrice)*l.currentStock).toFixed(2)," ",i.currency]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Informations supplémentaires"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"expirationDate",children:"Date d'expiration"}),s.jsx(Y,{id:"expirationDate",type:"date",value:l.expirationDate,onChange:f=>d("expirationDate",f.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"supplier",children:"Fournisseur"}),s.jsx(Y,{id:"supplier",value:l.supplier,onChange:f=>d("supplier",f.target.value),placeholder:"ex: Pharmacie Vétérinaire Centrale"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"location",children:"Emplacement"}),s.jsx(Y,{id:"location",value:l.location,onChange:f=>d("location",f.target.value),placeholder:"ex: Armoire A - Étagère 1"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"barcode",children:"Code-barres"}),s.jsx(Y,{id:"barcode",value:l.barcode,onChange:f=>d("barcode",f.target.value),placeholder:"ex: 1234567890123"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"sku",children:"SKU"}),s.jsx(Y,{id:"sku",value:l.sku,onChange:f=>d("sku",f.target.value),placeholder:"ex: MED-AMX-500"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(Ue,{id:"notes",value:l.notes,onChange:f=>d("notes",f.target.value),placeholder:"Notes supplémentaires...",rows:3})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(B,{type:"submit",children:n?"Modifier":"Ajouter"})]})]})]})})}const wAe=[{value:"in",label:"Entrée",icon:sn,description:"Ajout de stock (achat, retour, etc.)"},{value:"out",label:"Sortie",icon:$l,description:"Utilisation, vente, perte, etc."},{value:"adjustment",label:"Ajustement",icon:aI,description:"Correction d'inventaire"},{value:"transfer",label:"Transfert",icon:yq,description:"Déplacement entre emplacements"}],NAe={in:["Achat fournisseur","Retour client","Inventaire initial","Don/échantillon","Transfert entrant","Autre"],out:["Utilisation consultation","Vente client","Périmé/expiré","Cassé/endommagé","Vol/perte","Transfert sortant","Autre"],adjustment:["Correction inventaire","Comptage physique","Erreur saisie","Autre"],transfer:["Changement emplacement","Transfert entre sites","Réorganisation stock","Autre"]};function SAe({open:e,onOpenChange:t,item:n}){var g;const{updateStockItem:r,addStockMovement:a}=yt(),{settings:i}=_t(),{toast:o}=at(),[l,c]=b.useState({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),[u,d]=b.useState("");b.useEffect(()=>{n&&(c({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),d(""))},[n,e]);const h=p=>{if(p.preventDefault(),!n)return;if(l.quantity<=0){o({title:"Erreur",description:"La quantité doit être supérieure à 0.",variant:"destructive"});return}if(!l.reason.trim()){o({title:"Erreur",description:"La raison du mouvement est requise.",variant:"destructive"});return}let v=n.currentStock;if(l.type==="in")v+=l.quantity;else if(l.type==="out"){if(l.quantity>n.currentStock){o({title:"Erreur",description:`Stock insuffisant. Stock disponible: ${n.currentStock}`,variant:"destructive"});return}v-=l.quantity}else l.type==="adjustment"&&(v=l.quantity);l.type!=="transfer"&&r(n.id,{currentStock:v,lastRestocked:l.type==="in"?new Date().toISOString().split("T")[0]:void 0});const x=l.performedBy==="Autre"?u:l.performedBy,y={itemId:n.id,itemName:n.name,type:l.type,quantity:l.quantity,reason:l.reason,reference:l.reference||void 0,performedBy:x||void 0,date:new Date().toISOString(),notes:l.notes||void 0};a(y),o({title:"Mouvement enregistré",description:`${{in:"Entrée",out:"Sortie",adjustment:"Ajustement",transfer:"Transfert"}[l.type]} de ${l.quantity} ${n.unit} pour "${n.name}" enregistrée.`}),t(!1)},f=(p,v)=>{c(x=>({...x,[p]:v}))},m=()=>{if(!n)return 0;let p=n.currentStock;return l.type==="in"?p+=l.quantity:l.type==="out"?p-=l.quantity:l.type==="adjustment"&&(p=l.quantity),Math.max(0,p)};return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-5 w-5"}),"Mouvement de stock"]}),s.jsxs(Rt,{children:['Enregistrer un mouvement pour "',n.name,'"']})]}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:[s.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[s.jsx(Oa,{className:"h-5 w-5 text-blue-600"}),"Élément concerné"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock actuel"}),s.jsxs("div",{className:"font-semibold text-lg",children:[n.currentStock," ",n.unit]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock minimum"}),s.jsxs("div",{className:"font-semibold text-lg",children:[n.minimumStock," ",n.unit]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Emplacement"}),s.jsxs("div",{className:"font-semibold text-lg flex items-center gap-1",children:[s.jsx(ec,{className:"h-4 w-4"}),n.location||"Non défini"]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix d'achat"}),s.jsxs("div",{className:"font-semibold text-lg text-blue-600",children:[n.purchasePrice.toFixed(2)," ",i.currency]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix de vente"}),s.jsxs("div",{className:"font-semibold text-lg text-green-600",children:[n.sellingPrice.toFixed(2)," ",i.currency]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Valeur totale"}),s.jsxs("div",{className:"font-semibold text-lg text-purple-600",children:[n.totalValue.toFixed(2)," ",i.currency]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{className:"text-base font-medium",children:"Type de mouvement *"}),s.jsxs(be,{value:l.type,onValueChange:p=>f("type",p),children:[s.jsx(xe,{className:"h-12",children:s.jsx(we,{placeholder:"Sélectionner le type de mouvement"})}),s.jsx(ye,{children:wAe.map(p=>{const v=p.icon;return s.jsx(L,{value:p.value,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(v,{className:"h-5 w-5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:p.label}),s.jsx("div",{className:"text-xs text-muted-foreground",children:p.description})]})]})},p.value)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"quantity",className:"text-base font-medium",children:"Quantité *"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Y,{id:"quantity",type:"number",min:"0",step:"0.01",value:l.quantity,onChange:p=>f("quantity",parseFloat(p.target.value)||0),className:"flex-1 h-12 text-lg",required:!0}),s.jsx("div",{className:"bg-muted px-3 py-2 rounded-md text-sm font-medium",children:n.unit})]}),l.quantity>0&&s.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Nouveau stock après mouvement:"}),s.jsxs("div",{className:`text-lg font-semibold ${m()<=n.minimumStock?"text-orange-600":"text-green-600"}`,children:[m()," ",n.unit]}),m()<=n.minimumStock&&s.jsxs("div",{className:"text-xs text-orange-600 mt-1 flex items-center gap-1",children:[s.jsx(pn,{className:"h-3 w-3"}),"Stock bas - Seuil minimum atteint"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"reason",className:"text-base font-medium",children:"Raison *"}),s.jsxs(be,{value:l.reason,onValueChange:p=>f("reason",p),children:[s.jsx(xe,{className:"h-12",children:s.jsx(we,{placeholder:"Sélectionner une raison"})}),s.jsx(ye,{children:(g=NAe[l.type])==null?void 0:g.map(p=>s.jsx(L,{value:p,children:p},p))})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"reference",className:"text-base font-medium",children:"Référence"}),s.jsx(Y,{id:"reference",value:l.reference,onChange:p=>f("reference",p.target.value),placeholder:"ex: Facture #12345, Consultation #678",className:"h-12"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"performedBy",className:"text-base font-medium",children:"Effectué par"}),s.jsxs(be,{value:l.performedBy,onValueChange:p=>f("performedBy",p),children:[s.jsx(xe,{className:"h-12",children:s.jsx(we,{placeholder:"Sélectionner un vétérinaire"})}),s.jsxs(ye,{children:[i.veterinarians.filter(p=>p.isActive).map(p=>s.jsx(L,{value:p.name,children:p.name},p.id)),s.jsx(L,{value:"Autre",children:"Autre (saisie manuelle)"})]})]}),l.performedBy==="Autre"&&s.jsx(Y,{placeholder:"Nom du responsable",value:u,onChange:p=>d(p.target.value),className:"h-10 mt-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",className:"text-base font-medium",children:"Notes"}),s.jsx(Ue,{id:"notes",value:l.notes,onChange:p=>f("notes",p.target.value),placeholder:"Notes supplémentaires...",rows:4,className:"resize-none"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[s.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),className:"h-12 px-6",children:"Annuler"}),s.jsxs(B,{type:"submit",className:"h-12 px-8 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[s.jsx(sn,{className:"h-4 w-4 mr-2"}),"Enregistrer le mouvement"]})]})]})]})}):null}const ph={medication:{label:"Médicaments",color:"bg-blue-100 text-blue-800",icon:"💊"},vaccine:{label:"Vaccins",color:"bg-green-100 text-green-800",icon:"💉"},consumable:{label:"Consommables",color:"bg-orange-100 text-orange-800",icon:"🩹"},equipment:{label:"Équipement",color:"bg-purple-100 text-purple-800",icon:"🔧"},supplement:{label:"Suppléments",color:"bg-yellow-100 text-yellow-800",icon:"🧪"}},CAe=[{value:"unit",label:"Unité"},{value:"box",label:"Boîte"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}];function _Ae(){const{stockItems:e,stockAlerts:t,stockMovements:n,addStockItem:r,updateStockItem:a,deleteStockItem:i,addStockMovement:o,getStockAlerts:l}=yt(),{settings:c}=_t(),{toast:u}=at(),[d,h]=b.useState(!1),[f,m]=b.useState(!1),[g,p]=b.useState(!1),[v,x]=b.useState(null),[y,j]=b.useState(null),[w,N]=b.useState(""),[C,S]=b.useState("all"),[_,k]=b.useState("all"),[E,P]=b.useState("name"),[A,R]=b.useState("asc"),[$,K]=b.useState(null),[V,H]=b.useState(""),T=b.useMemo(()=>{const re=e.length,se=e.reduce((fe,he)=>fe+he.totalValue,0),oe=e.filter(fe=>fe.currentStock<=fe.minimumStock).length,O=e.filter(fe=>fe.expirationDate&&new Date(fe.expirationDate)<new Date).length,W=e.filter(fe=>fe.expirationDate&&new Date(fe.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(fe.expirationDate)>new Date).length;return{totalItems:re,totalValue:se,lowStockItems:oe,expiredItems:O,expiringSoonItems:W}},[e]),I=b.useMemo(()=>{let re=e.filter(se=>{var fe,he;const oe=se.name.toLowerCase().includes(w.toLowerCase())||((fe=se.manufacturer)==null?void 0:fe.toLowerCase().includes(w.toLowerCase()))||((he=se.batchNumber)==null?void 0:he.toLowerCase().includes(w.toLowerCase())),O=C==="all"||se.category===C;let W=!0;return _==="low_stock"?W=se.currentStock<=se.minimumStock:_==="expired"?W=se.expirationDate&&new Date(se.expirationDate)<new Date:_==="expiring_soon"?W=se.expirationDate&&new Date(se.expirationDate)<=new Date(Date.now()+2592e6)&&new Date(se.expirationDate)>new Date:_==="active"&&(W=se.isActive),oe&&O&&W});return re.sort((se,oe)=>{let O,W;switch(E){case"name":O=se.name.toLowerCase(),W=oe.name.toLowerCase();break;case"currentStock":O=se.currentStock,W=oe.currentStock;break;case"totalValue":O=se.totalValue,W=oe.totalValue;break;case"expirationDate":O=se.expirationDate||"9999-12-31",W=oe.expirationDate||"9999-12-31";break;default:O=se.name.toLowerCase(),W=oe.name.toLowerCase()}return A==="asc"?O<W?-1:O>W?1:0:O>W?-1:O<W?1:0}),re},[e,w,C,_,E,A]),F=(re,se,oe)=>{const O={};switch(se){case"currentStock":O.currentStock=parseInt(oe)||0;break;case"minimumStock":O.minimumStock=parseInt(oe)||0;break;case"purchasePrice":O.purchasePrice=parseFloat(oe)||0;break;case"sellingPrice":O.sellingPrice=parseFloat(oe)||0;break;case"location":O.location=oe;break;case"notes":O.notes=oe;break}a(re,O),K(null),u({title:"Stock mis à jour",description:"L'élément de stock a été mis à jour avec succès."})},U=re=>{j(re),p(!0)},J=re=>{p(re),re||j(null)},ae=re=>{confirm(`Êtes-vous sûr de vouloir supprimer "${re.name}" du stock ?`)&&(i(re.id),u({title:"Élément supprimé",description:`"${re.name}" a été supprimé du stock.`}))},ne=re=>{x(re),m(!0)},me=()=>{const re=[["Nom","Catégorie","Sous-catégorie","Fabricant","Numéro de lot","Dosage","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),...e.map(W=>[`"${W.name}"`,`"${W.category}"`,`"${W.subcategory||""}"`,`"${W.manufacturer||""}"`,`"${W.batchNumber||""}"`,`"${W.dosage||""}"`,`"${W.unit}"`,W.currentStock,W.minimumStock,W.purchasePrice,W.sellingPrice,`"${W.expirationDate||""}"`,`"${W.supplier||""}"`,`"${W.location||""}"`,`"${W.notes||""}"`,`"${W.barcode||""}"`,`"${W.sku||""}"`].join(","))].join(`
`),se=new Blob([re],{type:"text/csv;charset=utf-8;"}),oe=document.createElement("a"),O=URL.createObjectURL(se);oe.setAttribute("href",O),oe.setAttribute("download",`stock_${new Date().toISOString().split("T")[0]}.csv`),oe.style.visibility="hidden",document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),u({title:"Export réussi",description:"Le fichier CSV a été téléchargé avec succès."})},Ne=re=>{var O;const se=(O=re.target.files)==null?void 0:O[0];if(!se)return;const oe=new FileReader;oe.onload=W=>{var fe;try{const Ye=((fe=W.target)==null?void 0:fe.result).split(`
`),We=Ye[0].split(",").map(jt=>jt.replace(/"/g,"").trim()),$e=["Nom","Catégorie","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente"].filter(jt=>!We.includes(jt));if($e.length>0){u({title:"Erreur d'import",description:`En-têtes manquants: ${$e.join(", ")}`,variant:"destructive"});return}const it=[];let ie=0,Me=0;for(let jt=1;jt<Ye.length;jt++){const Ft=Ye[jt].trim();if(Ft)try{const Kn=Ft.split(",").map(er=>er.replace(/"/g,"").trim()),pt={};if(We.forEach((er,Kr)=>{pt[er]=Kn[Kr]||""}),!pt.Nom||!pt.Catégorie||!pt.Unité){Me++;continue}if(!Object.keys(ph).includes(pt.Catégorie)){Me++;continue}const Sn={id:Date.now()+jt,name:pt.Nom,category:pt.Catégorie,subcategory:pt["Sous-catégorie"]||"",manufacturer:pt.Fabricant||"",batchNumber:pt["Numéro de lot"]||"",dosage:pt.Dosage||"",unit:pt.Unité,currentStock:parseInt(pt["Stock actuel"])||0,minimumStock:parseInt(pt["Stock minimum"])||0,purchasePrice:parseFloat(pt["Prix d'achat"])||0,sellingPrice:parseFloat(pt["Prix de vente"])||0,totalValue:(parseInt(pt["Stock actuel"])||0)*(parseFloat(pt["Prix d'achat"])||0),expirationDate:pt["Date d'expiration"]||void 0,supplier:pt.Fournisseur||"",location:pt.Emplacement||"",notes:pt.Notes||"",barcode:pt["Code-barres"]||"",sku:pt.SKU||"",lastUpdated:new Date().toISOString(),isActive:!0};it.push(Sn),ie++}catch(Kn){Me++,console.error(`Erreur ligne ${jt+1}:`,Kn)}}it.length>0&&it.forEach(jt=>{r(jt)}),u({title:"Import terminé",description:`${ie} éléments importés avec succès${Me>0?`, ${Me} erreurs`:""}.`})}catch{u({title:"Erreur d'import",description:"Impossible de lire le fichier CSV.",variant:"destructive"})}},oe.readAsText(se),re.target.value=""},le=()=>{const re=[["Nom","Catégorie","Sous-catégorie","Fabricant","Numéro de lot","Dosage","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),["Amoxicilline 500mg","medication","Antibiotique","Boehringer Ingelheim","AMX2024001","500mg","box","15","5","20.00","25.50","2025-12-31","Pharmacie Vétérinaire Centrale","Armoire A - Étagère 1","Stockage à température ambiante","1234567890123","MED-AMX-500"].join(","),["Vaccin DHPP","vaccine","Vaccin combiné","Merial","VAC2024001","1ml","vial","25","10","45.00","55.00","2025-06-30","VetoPharma","Réfrigérateur - Étagère 1","Conservation entre 2-8°C","9876543210987","VAC-DHPP-001"].join(","),["Seringues 5ml","consumable","Matériel médical","BD","SYR2024001","5ml","unit","100","20","0.50","0.75","","MedSupply","Armoire B - Étagère 2","Usage unique","5556667778889","CON-SYR-5ML"].join(",")].join(`
`),se=new Blob([re],{type:"text/csv;charset=utf-8;"}),oe=document.createElement("a"),O=URL.createObjectURL(se);oe.setAttribute("href",O),oe.setAttribute("download","gabarit_import_stock.csv"),oe.style.visibility="hidden",document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),u({title:"Gabarit téléchargé",description:"Le fichier gabarit a été téléchargé avec succès."})};return s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(Oa,{className:"h-8 w-8 text-primary"}),"Gestion de Stock"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez votre inventaire de médicaments, vaccins et consommables"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(B,{variant:"outline",onClick:me,className:"gap-2",children:[s.jsx(gx,{className:"h-4 w-4"}),"Exporter CSV"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:Ne,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"import-file"}),s.jsx(B,{variant:"outline",className:"gap-2",asChild:!0,children:s.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[s.jsx(yb,{className:"h-4 w-4"}),"Importer CSV"]})})]}),s.jsxs(B,{variant:"outline",onClick:le,className:"gap-2",children:[s.jsx(j_,{className:"h-4 w-4"}),"Gabarit"]}),s.jsxs(B,{className:"gap-2 medical-glow",onClick:()=>h(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvel Élément"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx(Z,{children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Éléments"}),s.jsx("p",{className:"text-2xl font-bold",children:T.totalItems})]}),s.jsx(Oa,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur Totale"}),s.jsxs("p",{className:"text-2xl font-bold",children:[T.totalValue.toFixed(2)," ",c.currency]})]}),s.jsx(fd,{className:"h-8 w-8 text-green-600"})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Stock Bas"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:T.lowStockItems})]}),s.jsx(pn,{className:"h-8 w-8 text-orange-600"})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirés"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:T.expiredItems})]}),s.jsx(uf,{className:"h-8 w-8 text-red-600"})]})})}),s.jsx(Z,{children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirent Bientôt"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:T.expiringSoonItems})]}),s.jsx(Jt,{className:"h-8 w-8 text-yellow-600"})]})})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(sI,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx("div",{className:"flex-1 min-w-[300px]",children:s.jsx(Y,{placeholder:"Rechercher par nom, fabricant, lot...",value:w,onChange:re=>N(re.target.value),className:"w-full"})}),s.jsxs(be,{value:C,onValueChange:S,children:[s.jsx(xe,{className:"w-48",children:s.jsx(we,{placeholder:"Catégorie"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"all",children:"Toutes les catégories"}),Object.entries(ph).map(([re,se])=>s.jsxs(L,{value:re,children:[se.icon," ",se.label]},re))]})]}),s.jsxs(be,{value:_,onValueChange:k,children:[s.jsx(xe,{className:"w-48",children:s.jsx(we,{placeholder:"Statut"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"all",children:"Tous les statuts"}),s.jsx(L,{value:"active",children:"Actifs"}),s.jsx(L,{value:"low_stock",children:"Stock bas"}),s.jsx(L,{value:"expired",children:"Expirés"}),s.jsx(L,{value:"expiring_soon",children:"Expirent bientôt"})]})]}),s.jsxs(be,{value:E,onValueChange:P,children:[s.jsx(xe,{className:"w-48",children:s.jsx(we,{placeholder:"Trier par"})}),s.jsxs(ye,{children:[s.jsx(L,{value:"name",children:"Nom"}),s.jsx(L,{value:"currentStock",children:"Stock actuel"}),s.jsx(L,{value:"totalValue",children:"Valeur totale"}),s.jsx(L,{value:"expirationDate",children:"Date d'expiration"})]})]}),s.jsx(B,{variant:"outline",onClick:()=>R(A==="asc"?"desc":"asc"),children:A==="asc"?s.jsx(sn,{className:"h-4 w-4"}):s.jsx($l,{className:"h-4 w-4"})})]})})]}),s.jsx(Z,{className:"bg-blue-50 border-blue-200",children:s.jsx(te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(j_,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-blue-900",children:"Import en masse"}),s.jsx("p",{className:"text-sm text-blue-700",children:'Utilisez le bouton "Gabarit" pour télécharger un fichier CSV avec le format correct. Les données importées seront ajoutées au stock existant.'}),s.jsxs("div",{className:"text-xs text-blue-600",children:[s.jsx("strong",{children:"Catégories valides :"})," medication, vaccine, consumable, equipment, supplement"]}),s.jsxs("div",{className:"text-xs text-blue-600",children:[s.jsx("strong",{children:"Unités valides :"})," box, vial, unit, ml, mg, g, kg, l, pack, tube, sachet"]})]})]})})}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{children:["Inventaire (",I.length," éléments)"]})}),s.jsxs(te,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Vd,{children:[s.jsx(qd,{children:s.jsxs(ca,{children:[s.jsx(lt,{children:"Nom"}),s.jsx(lt,{children:"Catégorie"}),s.jsx(lt,{children:"Fabricant"}),s.jsx(lt,{children:"Stock"}),s.jsx(lt,{children:"Prix d'achat"}),s.jsx(lt,{children:"Prix de vente"}),s.jsx(lt,{children:"Valeur totale"}),s.jsx(lt,{children:"Expiration"}),s.jsx(lt,{children:"Emplacement"}),s.jsx(lt,{children:"Actions"})]})}),s.jsx(Ud,{children:I.map(re=>{var W;const se=re.currentStock<=re.minimumStock,oe=re.expirationDate&&new Date(re.expirationDate)<new Date,O=re.expirationDate&&new Date(re.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(re.expirationDate)>new Date;return s.jsxs(ca,{className:re.isActive?"":"opacity-50",children:[s.jsx(ct,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium",children:re.name}),re.batchNumber&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Lot: ",re.batchNumber]}),re.dosage&&s.jsx("div",{className:"text-sm text-muted-foreground",children:re.dosage})]})}),s.jsxs(ct,{children:[s.jsxs(Pe,{className:ph[re.category].color,children:[ph[re.category].icon," ",ph[re.category].label]}),re.subcategory&&s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:re.subcategory})]}),s.jsx(ct,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{children:re.manufacturer||"-"}),re.supplier&&s.jsx("div",{className:"text-sm text-muted-foreground",children:re.supplier})]})}),s.jsx(ct,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`font-medium ${se?"text-orange-600":""}`,children:[re.currentStock," ",((W=CAe.find(fe=>fe.value===re.unit))==null?void 0:W.label)||re.unit]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Min: ",re.minimumStock]}),s.jsxs("div",{className:"flex items-center gap-2",children:[se&&s.jsx(Pe,{variant:"destructive",className:"text-xs",children:"Stock bas"}),re.lastUpdated&&new Date(re.lastUpdated).getTime()>Date.now()-24*60*60*1e3&&s.jsx(Pe,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:"Mis à jour"})]})]})}),s.jsx(ct,{children:($==null?void 0:$.id)===re.id&&$.field==="purchasePrice"?s.jsx(Y,{type:"number",step:"0.01",value:V,onChange:fe=>H(fe.target.value),onBlur:()=>F(re.id,"purchasePrice",V),onKeyDown:fe=>{fe.key==="Enter"&&F(re.id,"purchasePrice",V)},autoFocus:!0,className:"w-20"}):s.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{K({id:re.id,field:"purchasePrice"}),H(re.purchasePrice.toString())},children:[re.purchasePrice.toFixed(2)," ",c.currency]})}),s.jsx(ct,{children:($==null?void 0:$.id)===re.id&&$.field==="sellingPrice"?s.jsx(Y,{type:"number",step:"0.01",value:V,onChange:fe=>H(fe.target.value),onBlur:()=>F(re.id,"sellingPrice",V),onKeyDown:fe=>{fe.key==="Enter"&&F(re.id,"sellingPrice",V)},autoFocus:!0,className:"w-20"}):s.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{K({id:re.id,field:"sellingPrice"}),H(re.sellingPrice.toString())},children:[s.jsxs("div",{className:"font-medium",children:[re.sellingPrice.toFixed(2)," ",c.currency]}),s.jsxs("div",{className:"text-xs text-green-600",children:["Marge: ",((re.sellingPrice-re.purchasePrice)*re.currentStock).toFixed(2)," ",c.currency]})]})}),s.jsx(ct,{children:s.jsxs("div",{className:"font-medium",children:[re.totalValue.toFixed(2)," ",c.currency]})}),s.jsx(ct,{children:re.expirationDate?s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:`text-sm ${oe?"text-red-600 font-medium":O?"text-yellow-600 font-medium":""}`,children:Xe(new Date(re.expirationDate),"dd/MM/yyyy",{locale:In})}),oe&&s.jsx(Pe,{variant:"destructive",className:"text-xs",children:"Expiré"}),O&&!oe&&s.jsx(Pe,{variant:"secondary",className:"text-xs bg-yellow-100 text-yellow-800",children:"Expire bientôt"})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(ct,{children:($==null?void 0:$.id)===re.id&&$.field==="location"?s.jsx(Y,{value:V,onChange:fe=>H(fe.target.value),onBlur:()=>F(re.id,"location",V),onKeyDown:fe=>{fe.key==="Enter"&&F(re.id,"location",V)},autoFocus:!0,className:"w-32"}):s.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded flex items-center gap-1",onClick:()=>{K({id:re.id,field:"location"}),H(re.location||"")},children:[s.jsx(ec,{className:"h-3 w-3"}),re.location||"Non défini"]})}),s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>ne(re),children:s.jsx(sn,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>U(re),children:s.jsx(Mt,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>ae(re),children:s.jsx(Un,{className:"h-3 w-3"})})]})})]},re.id)})})]})}),I.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Oa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Aucun élément trouvé"}),s.jsx("p",{className:"text-sm",children:"Ajustez vos filtres ou ajoutez de nouveaux éléments"})]})]})]}),s.jsxs(Z,{children:[s.jsxs(ue,{children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-5 w-5"}),"Historique des Mouvements (",n.length,")"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Derniers mouvements de stock (prescriptions, achats, ajustements)"})]}),s.jsx(te,{children:n.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Jt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Aucun mouvement de stock enregistré"})]}):s.jsxs("div",{className:"space-y-4",children:[n.sort((re,se)=>new Date(se.date).getTime()-new Date(re.date).getTime()).slice(0,20).map(re=>{const oe={in:{label:"Entrée",color:"text-green-600",icon:"↗️"},out:{label:re.reason==="Prescription médicale"?"Prescription":"Sortie",color:re.reason==="Prescription médicale"?"text-orange-600":"text-red-600",icon:re.reason==="Prescription médicale"?"💊":"↘️"},adjustment:{label:"Ajustement",color:"text-blue-600",icon:"⚖️"},transfer:{label:"Transfert",color:"text-purple-600",icon:"↔️"}}[re.type];return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-2xl",children:oe.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:re.itemName}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[re.reason," • ",re.performedBy||"Non spécifié"]}),re.reference&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Référence: ",re.reference]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`font-semibold ${oe.color}`,children:[re.type==="in"?"+":re.type==="out"?"-":"",re.quantity]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:Xe(new Date(re.date),"dd/MM/yyyy HH:mm",{locale:In})})]})]},re.id)}),n.length>20&&s.jsx("div",{className:"text-center pt-4",children:s.jsxs(B,{variant:"outline",size:"sm",children:["Voir tous les mouvements (",n.length,")"]})})]})})]}),s.jsx(nO,{open:d,onOpenChange:h}),s.jsx(nO,{open:g,onOpenChange:J,editingItem:y}),s.jsx(SAe,{open:f,onOpenChange:m,item:v})]})}const PAe={monthly:[{description:"Salaire Secrétaire",amount:3e3,type:"expense",frequency:"monthly",source:"salary"},{description:"CNSS Secrétaire",amount:700,type:"expense",frequency:"monthly",source:"insurance"},{description:"CNSS Vétérinaire",amount:1500,type:"expense",frequency:"monthly",source:"insurance"},{description:"Loyer",amount:3e3,type:"expense",frequency:"monthly",source:"rent"},{description:"Eau et Électricité",amount:300,type:"expense",frequency:"monthly",source:"other"}],annual:[{description:"Impôts",amount:3e3,type:"expense",frequency:"annual",source:"tax"},{description:"Cotisation Ordre des Vétérinaires",amount:1200,type:"expense",frequency:"annual",source:"other"}],occasional:[{description:"Maintenance Équipement",amount:500,type:"expense",frequency:"occasional",source:"other"},{description:"Formation Professionnelle",amount:800,type:"expense",frequency:"occasional",source:"other"},{description:"Achat Matériel",amount:1200,type:"expense",frequency:"occasional",source:"other"}]},AAe=()=>{const{accountingEntries:e,addAccountingEntry:t,updateAccountingEntry:n,deleteAccountingEntry:r,generateAccountingSummary:a,consultations:i,vaccinations:o,antiparasitics:l,prescriptions:c,stockMovements:u,stockItems:d}=yt(),{settings:h}=_t();at();const[f,m]=b.useState("month"),[g,p]=b.useState(""),[v,x]=b.useState(""),[y,j]=b.useState(!1),[w,N]=b.useState(null),[C,S]=b.useState(null),[_,k]=b.useState(!1),[E,P]=b.useState(PAe),[A,R]=b.useState(!1),[$,K]=b.useState(null),[V,H]=b.useState({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),[T,I]=b.useState({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""});b.useEffect(()=>{const O=new Date,W=new Date(O.getFullYear(),O.getMonth(),1),fe=new Date(O.getFullYear(),O.getMonth()+1,0);p(Xe(W,"yyyy-MM-dd")),x(Xe(fe,"yyyy-MM-dd"))},[]),b.useEffect(()=>{if(g&&v){const O=f==="month"?Xe(new Date(g),"yyyy-MM",{locale:In}):f==="year"?Xe(new Date(g),"yyyy",{locale:In}):f==="day"?Xe(new Date(g),"dd/MM/yyyy",{locale:In}):`${Xe(new Date(g),"dd/MM/yyyy")} - ${Xe(new Date(v),"dd/MM/yyyy")}`,W=a(O,g,v);S(W)}},[g,v,f,e,i,o,l,c,u,a]);const F=O=>{m(O);const W=new Date;switch(O){case"day":const fe=Xe(W,"yyyy-MM-dd");p(fe),x(fe);break;case"month":const he=new Date(W.getFullYear(),W.getMonth(),1),Ye=new Date(W.getFullYear(),W.getMonth()+1,0);p(Xe(he,"yyyy-MM-dd")),x(Xe(Ye,"yyyy-MM-dd"));break;case"quarter":const We=Math.floor(W.getMonth()/3),ut=new Date(W.getFullYear(),We*3,1),$e=new Date(W.getFullYear(),We*3+3,0);p(Xe(ut,"yyyy-MM-dd")),x(Xe($e,"yyyy-MM-dd"));break;case"year":const it=new Date(W.getFullYear(),0,1),ie=new Date(W.getFullYear(),11,31);p(Xe(it,"yyyy-MM-dd")),x(Xe(ie,"yyyy-MM-dd"));break}},U=()=>{if(!T.description||!T.amount||!T.date)return;const O={type:T.type,category:"manual",frequency:T.frequency,description:T.description,amount:parseFloat(T.amount),date:T.date,source:T.source,notes:T.notes};w?(n(w.id,O),N(null)):t(O),I({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""}),j(!1)},J=O=>{N(O),I({type:O.type,frequency:O.frequency,description:O.description,amount:O.amount.toString(),date:O.date,source:O.source||"other",notes:O.notes||""}),j(!0)},ae=O=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette entrée ?")&&r(O)},ne=O=>{I({...T,type:O.type,frequency:O.frequency||"occasional",description:O.description,amount:O.amount.toString(),source:O.source,date:T.date||Xe(new Date,"yyyy-MM-dd")}),k(!1)},me=()=>{if(!V.description||!V.amount)return;const O={description:V.description,amount:parseFloat(V.amount),type:V.type,frequency:V.frequency,source:V.source};if($){const W={...E},fe=$.frequency,he=W[fe].findIndex(Ye=>Ye===$);he!==-1&&(W[fe][he]=O),P(W),K(null)}else{const W={...E},fe=V.frequency;W[fe].push(O),P(W)}H({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),R(!1)},Ne=O=>{K(O),H({description:O.description,amount:O.amount.toString(),type:O.type,frequency:O.frequency,source:O.source}),R(!0)},le=O=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette suggestion ?")){const W={...E},fe=O.frequency;W[fe]=W[fe].filter(he=>he!==O),P(W)}},re=e.filter(O=>{const W=new Date(O.date),fe=new Date(g),he=new Date(v);return W>=fe&&W<=he}),se=O=>`${O.toFixed(2)} ${h.currency}`,oe=O=>{switch(O){case"consultation":return"🩺";case"vaccination":return"💉";case"antiparasitic":return"💊";case"prescription":return"📋";case"stock_purchase":return"📦";case"salary":return"👥";case"rent":return"🏢";case"tax":return"📊";case"insurance":return"🛡️";default:return"📄"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(tI,{className:"h-8 w-8"}),"Gestion Comptable"]}),s.jsx("p",{className:"text-muted-foreground",children:"Suivi des recettes et charges de votre clinique vétérinaire"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(Ze,{open:y,onOpenChange:j,children:[s.jsx(Fx,{asChild:!0,children:s.jsxs(B,{onClick:()=>{N(null),I({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""})},children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter une entrée"]})}),s.jsxs(Ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:w?"Modifier l'entrée comptable":"Ajouter une entrée comptable"}),s.jsx(Rt,{children:w?"Modifiez les informations de cette entrée.":"Ajoutez une nouvelle recette ou charge manuelle."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(w0,{className:"h-4 w-4 text-yellow-600"}),s.jsx(D,{className:"text-sm font-medium",children:"Suggestions prédéfinies"})]}),s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>k(!_),children:_?s.jsx(vx,{className:"h-4 w-4"}):s.jsx(w0,{className:"h-4 w-4"})})]}),_&&s.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges mensuelles"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:E.monthly.map((O,W)=>s.jsx(B,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ne(O),children:s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("span",{className:"text-sm",children:O.description}),s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[O.amount," ",h.currency]})]})},W))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges annuelles"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:E.annual.map((O,W)=>s.jsx(B,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ne(O),children:s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("span",{className:"text-sm",children:O.description}),s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[O.amount," ",h.currency]})]})},W))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges occasionnelles"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:E.occasional.map((O,W)=>s.jsx(B,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ne(O),children:s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("span",{className:"text-sm",children:O.description}),s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[O.amount," ",h.currency]})]})},W))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"type",children:"Type"}),s.jsxs(be,{value:T.type,onValueChange:O=>I({...T,type:O}),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"revenue",children:"Recette"}),s.jsx(L,{value:"expense",children:"Charge"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"frequency",children:"Fréquence"}),s.jsxs(be,{value:T.frequency,onValueChange:O=>I({...T,frequency:O}),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"monthly",children:"Mensuel"}),s.jsx(L,{value:"annual",children:"Annuel"}),s.jsx(L,{value:"occasional",children:"Occasionnel"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"description",children:"Description"}),s.jsx(Y,{id:"description",value:T.description,onChange:O=>I({...T,description:O.target.value}),placeholder:"Ex: Salaire employé, Loyer, etc."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(D,{htmlFor:"amount",children:["Montant (",h.currency,")"]}),s.jsx(Y,{id:"amount",type:"number",step:"0.01",value:T.amount,onChange:O=>I({...T,amount:O.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"date",children:"Date"}),s.jsx(Y,{id:"date",type:"date",value:T.date,onChange:O=>I({...T,date:O.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"source",children:"Source"}),s.jsxs(be,{value:T.source,onValueChange:O=>I({...T,source:O}),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"salary",children:"Salaire"}),s.jsx(L,{value:"rent",children:"Loyer"}),s.jsx(L,{value:"tax",children:"Impôts"}),s.jsx(L,{value:"insurance",children:"Assurance"}),s.jsx(L,{value:"other",children:"Autre"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"notes",children:"Notes (optionnel)"}),s.jsx(Ue,{id:"notes",value:T.notes,onChange:O=>I({...T,notes:O.target.value}),placeholder:"Informations supplémentaires..."})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>j(!1),children:"Annuler"}),s.jsx(B,{onClick:U,children:w?"Modifier":"Ajouter"})]})]})]})]})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5"}),"Période d'analyse"]})}),s.jsx(te,{children:s.jsxs("div",{className:"flex gap-4 items-end",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:f==="day"?"default":"outline",onClick:()=>F("day"),size:"sm",children:"Ce jour"}),s.jsx(B,{variant:f==="month"?"default":"outline",onClick:()=>F("month"),size:"sm",children:"Ce mois"}),s.jsx(B,{variant:f==="quarter"?"default":"outline",onClick:()=>F("quarter"),size:"sm",children:"Ce trimestre"}),s.jsx(B,{variant:f==="year"?"default":"outline",onClick:()=>F("year"),size:"sm",children:"Cette année"})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(D,{htmlFor:"startDate",children:"Du"}),s.jsx(Y,{id:"startDate",type:"date",value:g,onChange:O=>p(O.target.value),className:"w-40"}),s.jsx(D,{htmlFor:"endDate",children:"Au"}),s.jsx(Y,{id:"endDate",type:"date",value:v,onChange:O=>x(O.target.value),className:"w-40"})]})]})})]}),C&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Z,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Total Recettes"}),s.jsx(sn,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:se(C.totalRevenue)}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsxs("div",{children:["Consultations: ",se(C.revenueBreakdown.consultations)]}),s.jsxs("div",{children:["Vaccinations: ",se(C.revenueBreakdown.vaccinations)]}),s.jsxs("div",{children:["Antiparasitaires: ",se(C.revenueBreakdown.antiparasitics)]}),s.jsxs("div",{children:["Prescriptions: ",se(C.revenueBreakdown.prescriptions)]}),s.jsxs("div",{children:["Manuelles: ",se(C.revenueBreakdown.manualEntries)]})]})]})]}),s.jsxs(Z,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Total Charges"}),s.jsx($l,{className:"h-4 w-4 text-red-600"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:se(C.totalExpenses)}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsxs("div",{children:["Achats stock: ",se(C.expenseBreakdown.stockPurchases)]}),s.jsxs("div",{children:["Salaires: ",se(C.expenseBreakdown.salaries)]}),s.jsxs("div",{children:["Loyer: ",se(C.expenseBreakdown.rent)]}),s.jsxs("div",{children:["Impôts: ",se(C.expenseBreakdown.taxes)]}),s.jsxs("div",{children:["Autres: ",se(C.expenseBreakdown.other)]})]})]})]}),s.jsxs(Z,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Résultat Net"}),s.jsx(fd,{className:"h-4 w-4"})]}),s.jsxs(te,{children:[s.jsx("div",{className:`text-2xl font-bold ${C.netIncome>=0?"text-green-600":"text-red-600"}`,children:se(C.netIncome)}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:C.netIncome>=0?"Bénéfice":"Perte"})]})]})]}),s.jsxs(ki,{defaultValue:"entries",className:"space-y-4",children:[s.jsxs(qa,{children:[s.jsx(At,{value:"entries",children:"Entrées Comptables"}),s.jsx(At,{value:"configuration",children:"Configuration"})]}),s.jsx(kt,{value:"entries",children:s.jsxs(Z,{children:[s.jsxs(ue,{children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-5 w-5"}),"Entrées comptables automatiques et manuelles"]}),s.jsx(Iu,{children:"Entrées générées automatiquement (consultations, vaccinations, etc.) et entrées manuelles ajoutées"})]}),s.jsxs(te,{children:[s.jsxs(Vd,{children:[s.jsx(qd,{children:s.jsxs(ca,{children:[s.jsx(lt,{children:"Date"}),s.jsx(lt,{children:"Type"}),s.jsx(lt,{children:"Description"}),s.jsx(lt,{children:"Source"}),s.jsx(lt,{children:"Fréquence"}),s.jsx(lt,{children:"Montant"}),s.jsx(lt,{children:"Actions"})]})}),s.jsx(Ud,{children:re.map(O=>s.jsxs(ca,{children:[s.jsx(ct,{children:Xe(new Date(O.date),"dd/MM/yyyy",{locale:In})}),s.jsx(ct,{children:s.jsx(Pe,{variant:O.type==="revenue"?"default":"destructive",children:O.type==="revenue"?"Recette":"Charge"})}),s.jsx(ct,{children:O.description}),s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:oe(O.source||"other")}),s.jsx("span",{className:"text-sm",children:O.category==="automatic"?"Automatique":"Manuel"})]})}),s.jsx(ct,{children:s.jsx(Pe,{variant:"outline",children:O.frequency==="monthly"?"Mensuel":O.frequency==="annual"?"Annuel":"Occasionnel"})}),s.jsxs(ct,{className:`font-medium ${O.type==="revenue"?"text-green-600":"text-red-600"}`,children:[O.type==="revenue"?"+":"-",se(O.amount)]}),s.jsx(ct,{children:O.category==="manual"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>J(O),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>ae(O.id),children:s.jsx(Un,{className:"h-4 w-4"})})]})})]},O.id))})]}),re.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune entrée comptable pour cette période"})]})]})}),s.jsx(kt,{value:"configuration",children:s.jsxs(Z,{children:[s.jsxs(ue,{children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(w0,{className:"h-5 w-5"}),"Configuration des Suggestions"]}),s.jsx(Iu,{children:"Configurez les suggestions prédéfinies pour faciliter la saisie des charges et recettes"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Mensuelles"}),s.jsxs(B,{onClick:()=>{K(null),H({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),R(!0)},children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),s.jsx("div",{className:"grid gap-3",children:E.monthly.map((O,W)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium",children:O.description}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[O.amount," ",h.currency]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>Ne(O),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>le(O),children:s.jsx(Un,{className:"h-4 w-4"})})]})]},W))}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Annuelles"}),s.jsxs(B,{onClick:()=>{K(null),H({description:"",amount:"",type:"expense",frequency:"annual",source:"other"}),R(!0)},children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),s.jsx("div",{className:"grid gap-3",children:E.annual.map((O,W)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium",children:O.description}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[O.amount," ",h.currency]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>Ne(O),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>le(O),children:s.jsx(Un,{className:"h-4 w-4"})})]})]},W))}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Occasionnelles"}),s.jsxs(B,{onClick:()=>{K(null),H({description:"",amount:"",type:"expense",frequency:"occasional",source:"other"}),R(!0)},children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),s.jsx("div",{className:"grid gap-3",children:E.occasional.map((O,W)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium",children:O.description}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[O.amount," ",h.currency]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>Ne(O),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>le(O),children:s.jsx(Un,{className:"h-4 w-4"})})]})]},W))})]})]})})]}),s.jsx(Ze,{open:A,onOpenChange:R,children:s.jsxs(Ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:$?"Modifier la suggestion":"Ajouter une suggestion"}),s.jsx(Rt,{children:$?"Modifiez les informations de cette suggestion.":"Ajoutez une nouvelle suggestion prédéfinie."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"suggestion-type",children:"Type"}),s.jsxs(be,{value:V.type,onValueChange:O=>H({...V,type:O}),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"revenue",children:"Recette"}),s.jsx(L,{value:"expense",children:"Charge"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"suggestion-frequency",children:"Fréquence"}),s.jsxs(be,{value:V.frequency,onValueChange:O=>H({...V,frequency:O}),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"monthly",children:"Mensuel"}),s.jsx(L,{value:"annual",children:"Annuel"}),s.jsx(L,{value:"occasional",children:"Occasionnel"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"suggestion-description",children:"Description"}),s.jsx(Y,{id:"suggestion-description",value:V.description,onChange:O=>H({...V,description:O.target.value}),placeholder:"Ex: Salaire employé, Loyer, etc."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(D,{htmlFor:"suggestion-amount",children:["Montant (",h.currency,")"]}),s.jsx(Y,{id:"suggestion-amount",type:"number",step:"0.01",value:V.amount,onChange:O=>H({...V,amount:O.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"suggestion-source",children:"Source"}),s.jsxs(be,{value:V.source,onValueChange:O=>H({...V,source:O}),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"salary",children:"Salaire"}),s.jsx(L,{value:"rent",children:"Loyer"}),s.jsx(L,{value:"tax",children:"Impôts"}),s.jsx(L,{value:"insurance",children:"Assurance"}),s.jsx(L,{value:"other",children:"Autre"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>R(!1),children:"Annuler"}),s.jsx(B,{onClick:me,children:$?"Modifier":"Ajouter"})]})]})]})})]})},kAe=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:r,appointments:a,addConsultation:i,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=yt(),u=()=>{if(e.length>0){const m=e[0],g=m.pets[0];g&&i({clientId:m.id,clientName:m.name,petId:g.id,petName:g.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const m=e[0],g=m.pets[0];g&&o({clientId:m.id,clientName:m.name,petId:g.id,petName:g.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},h=()=>{if(e.length>0){const m=e[0],g=m.pets[0];g&&l({clientId:m.id,clientName:m.name,petId:g.id,petName:g.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},f=()=>{e.length>0&&e.forEach(m=>{c(m.id)})};return s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Test des Statistiques des Clients"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Actions de Test"})}),s.jsxs(te,{className:"space-y-3",children:[s.jsxs(B,{onClick:u,className:"w-full",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),s.jsxs(B,{onClick:d,className:"w-full",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),s.jsxs(B,{onClick:h,className:"w-full",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),s.jsx(B,{onClick:f,variant:"outline",className:"w-full",children:"Mettre à jour Stats"})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Statistiques Globales"})}),s.jsxs(te,{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Clients:"})," ",e.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Consultations:"})," ",t.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Antiparasites:"})," ",r.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Rendez-vous:"})," ",a.length]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Détails des Clients"})}),s.jsx(te,{className:"space-y-3",children:e.map(m=>s.jsxs("div",{className:"border-b pb-2",children:[s.jsx("p",{className:"font-medium",children:m.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",m.totalVisits," | Dernière visite: ",new Date(m.lastVisit).toLocaleDateString("fr-FR")]})]},m.id))})]})]})]})},TAe=()=>s.jsx(ES,{children:s.jsx(kAe,{})}),EAe=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:r,appointments:a,addConsultation:i,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=yt(),u=()=>{if(e.length>0){const m=e[0],g=m.pets[0];g&&i({clientId:m.id,clientName:m.name,petId:g.id,petName:g.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const m=e[0],g=m.pets[0];g&&o({clientId:m.id,clientName:m.name,petId:g.id,petName:g.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},h=()=>{if(e.length>0){const m=e[0],g=m.pets[0];g&&l({clientId:m.id,clientName:m.name,petId:g.id,petName:g.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},f=()=>{e.length>0&&e.forEach(m=>{c(m.id)})};return s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Test Simple des Statistiques"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Actions de Test"})}),s.jsxs(te,{className:"space-y-3",children:[s.jsxs(B,{onClick:u,className:"w-full",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),s.jsxs(B,{onClick:d,className:"w-full",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),s.jsxs(B,{onClick:h,className:"w-full",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),s.jsx(B,{onClick:f,variant:"outline",className:"w-full",children:"Mettre à jour Stats"})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Statistiques Globales"})}),s.jsxs(te,{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Clients:"})," ",e.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Consultations:"})," ",t.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Antiparasites:"})," ",r.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Rendez-vous:"})," ",a.length]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Détails des Clients"})}),s.jsx(te,{className:"space-y-3",children:e.map(m=>s.jsxs("div",{className:"border-b pb-2",children:[s.jsx("p",{className:"font-medium",children:m.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",m.totalVisits," | Dernière visite: ",new Date(m.lastVisit).toLocaleDateString("fr-FR")]})]},m.id))})]})]})]})},OAe=()=>s.jsx(ES,{children:s.jsx(EAe,{})}),DAe=()=>{const e=Lo();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var MAe="Separator",rO="horizontal",IAe=["horizontal","vertical"],J6=b.forwardRef((e,t)=>{const{decorative:n,orientation:r=rO,...a}=e,i=$Ae(r)?r:rO,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Be.div,{"data-orientation":i,...l,...a,ref:t})});J6.displayName=MAe;function $Ae(e){return IAe.includes(e)}var Z6=J6;const Yv=b.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(Z6,{ref:a,decorative:n,orientation:t,className:Ie("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Yv.displayName=Z6.displayName;function RAe(){const{user:e,logout:t,refreshProfile:n}=sc(),{toast:r}=at(),{data:a,isLoading:i,refetch:o}=wZ(),l=NZ(),[c,u]=b.useState(!1);b.useState(!1);const[d,h]=b.useState({full_name:"",username:"",email:"",phone:"",address:"",specialty:"",experience:"",bio:"",languages:["Français","Arabe","Anglais"]});b.useEffect(()=>{a&&e&&h(v=>({...v,full_name:a.full_name||"",username:a.username||"",email:e.email||"",phone:a.phone||"",address:a.address||"",specialty:a.specialty||"",experience:a.experience||"",bio:a.bio||""}))},[a,e]),b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),b.useState({notifications:{email:!0,sms:!1,push:!0},privacy:{showEmail:!1,showPhone:!0,showAddress:!1},language:"fr",timezone:"Africa/Casablanca"});const f=async()=>{try{await l.mutateAsync({full_name:d.full_name,username:d.username,phone:d.phone,address:d.address,specialty:d.specialty,experience:d.experience,bio:d.bio}),await Promise.all([o(),n()]),r({title:"Profil mis à jour",description:"Vos informations personnelles ont été sauvegardées avec succès."}),u(!1)}catch(v){r({title:"Erreur",description:v instanceof Error?v.message:"Impossible de sauvegarder le profil.",variant:"destructive"})}},m=v=>v.split(" ").map(x=>x.charAt(0)).join("").toUpperCase().slice(0,2),g=v=>{switch(v){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},p=v=>{switch(v){case"admin":return"bg-red-100 text-red-800";case"assistant":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e?i?s.jsx("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx(Sr,{className:"h-8 w-8 animate-spin"}),s.jsx("p",{className:"text-muted-foreground",children:"Chargement du profil..."})]})})}):s.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Mon Profil"}),s.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gérez vos informations personnelles et préférences"})]}),s.jsx("div",{className:"flex gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx(B,{variant:"outline",onClick:()=>u(!1),children:"Annuler"}),s.jsxs(B,{onClick:f,className:"gap-2",disabled:l.isPending,children:[l.isPending?s.jsx(Sr,{className:"h-4 w-4 animate-spin"}):s.jsx(Ih,{className:"h-4 w-4"}),l.isPending?"Sauvegarde...":"Sauvegarder"]})]}):s.jsxs(B,{onClick:()=>u(!0),className:"gap-2",children:[s.jsx(Mt,{className:"h-4 w-4"}),"Modifier"]})})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Cr,{className:"h-5 w-5"}),"Informations Personnelles"]})}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Jn,{className:"h-20 w-20",children:s.jsx(Zn,{className:"bg-primary text-primary-foreground text-xl",children:m(e.profile.full_name)})}),c&&s.jsx(B,{size:"sm",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full",variant:"secondary",children:s.jsx(_u,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold",children:e.profile.full_name||e.profile.username}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(pm,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Pe,{className:p(e.profile.role),children:g(e.profile.role)})]})]})]}),s.jsx(Yv,{}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"full_name",children:"Nom complet"}),s.jsx(Y,{id:"full_name",value:d.full_name,onChange:v=>h(x=>({...x,full_name:v.target.value})),disabled:!c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"username",children:"Nom d'utilisateur"}),s.jsx(Y,{id:"username",value:d.username,onChange:v=>h(x=>({...x,username:v.target.value})),disabled:!c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"email",children:"Email"}),s.jsx(Y,{id:"email",type:"email",value:d.email,disabled:!0,className:"bg-muted"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"phone",children:"Téléphone"}),s.jsx(Y,{id:"phone",value:d.phone,onChange:v=>h(x=>({...x,phone:v.target.value})),disabled:!c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"address",children:"Adresse"}),s.jsx(Y,{id:"address",value:d.address,onChange:v=>h(x=>({...x,address:v.target.value})),disabled:!c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"specialty",children:"Spécialité"}),s.jsx(Y,{id:"specialty",value:d.specialty,onChange:v=>h(x=>({...x,specialty:v.target.value})),disabled:!c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"experience",children:"Expérience"}),s.jsx(Y,{id:"experience",value:d.experience,onChange:v=>h(x=>({...x,experience:v.target.value})),disabled:!c})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"bio",children:"Biographie"}),s.jsx("textarea",{id:"bio",className:"w-full min-h-[100px] px-3 py-2 border border-input bg-background rounded-md text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:d.bio,onChange:v=>h(x=>({...x,bio:v.target.value})),disabled:!c})]})]})]})]}):null}function LAe(){const{user:e}=sc(),{toast:t}=at(),[n,r]=b.useState({twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginNotifications:!0,deviceTracking:!0,autoLogout:!0}),[a,i]=b.useState({rememberMe:!0,autoLogin:!1,sessionDuration:8,maxConcurrentSessions:3}),[o,l]=b.useState({loginAlerts:!0,securityAlerts:!0,deviceAlerts:!0,emailNotifications:!0,smsNotifications:!1,pushNotifications:!0});b.useState({dataSharing:!1,analytics:!0,crashReports:!0,marketingEmails:!1,profileVisibility:"private"}),b.useState({language:"fr",timezone:"Africa/Casablanca",dateFormat:"DD/MM/YYYY",timeFormat:"24h",theme:"system"});const[c]=b.useState([{id:1,device:"MacBook Pro",browser:"Chrome",location:"Rabat, Maroc",lastActive:"Maintenant",current:!0,ip:"192.168.1.100"},{id:2,device:"iPhone 14",browser:"Safari",location:"Rabat, Maroc",lastActive:"Il y a 2 heures",current:!1,ip:"192.168.1.101"}]),u=()=>{t({title:"Paramètres de sécurité sauvegardés",description:"Vos paramètres de sécurité ont été mis à jour."})},d=()=>{t({title:"Paramètres de session sauvegardés",description:"Vos paramètres de session ont été mis à jour."})},h=()=>{t({title:"Paramètres de notification sauvegardés",description:"Vos paramètres de notification ont été mis à jour."})},f=p=>{t({title:"Session terminée",description:"La session a été fermée avec succès."})},m=()=>{t({title:"Toutes les sessions terminées",description:"Toutes les autres sessions ont été fermées."})},g=p=>p.includes("iPhone")||p.includes("Android")?s.jsx(Mq,{className:"h-4 w-4"}):p.includes("iPad")||p.includes("Tablet")?s.jsx(Rq,{className:"h-4 w-4"}):s.jsx(w_,{className:"h-4 w-4"});return e?s.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Paramètres de Connexion"}),s.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gérez vos paramètres de sécurité et de session"})]})}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"h-5 w-5"}),"Sécurité"]})}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Authentification à deux facteurs"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez une couche de sécurité supplémentaire"})]}),s.jsx(Dr,{checked:n.twoFactorAuth,onCheckedChange:p=>r(v=>({...v,twoFactorAuth:p}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Délai d'expiration de session (minutes)"}),s.jsxs(be,{value:n.sessionTimeout.toString(),onValueChange:p=>r(v=>({...v,sessionTimeout:parseInt(p)})),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"15",children:"15 minutes"}),s.jsx(L,{value:"30",children:"30 minutes"}),s.jsx(L,{value:"60",children:"1 heure"}),s.jsx(L,{value:"120",children:"2 heures"}),s.jsx(L,{value:"480",children:"8 heures"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Expiration du mot de passe (jours)"}),s.jsxs(be,{value:n.passwordExpiry.toString(),onValueChange:p=>r(v=>({...v,passwordExpiry:parseInt(p)})),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"30",children:"30 jours"}),s.jsx(L,{value:"60",children:"60 jours"}),s.jsx(L,{value:"90",children:"90 jours"}),s.jsx(L,{value:"180",children:"6 mois"}),s.jsx(L,{value:"365",children:"1 an"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Notifications de connexion"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez des alertes pour les nouvelles connexions"})]}),s.jsx(Dr,{checked:n.loginNotifications,onCheckedChange:p=>r(v=>({...v,loginNotifications:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Suivi des appareils"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Surveillez les appareils connectés"})]}),s.jsx(Dr,{checked:n.deviceTracking,onCheckedChange:p=>r(v=>({...v,deviceTracking:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Déconnexion automatique"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Déconnexion après inactivité"})]}),s.jsx(Dr,{checked:n.autoLogout,onCheckedChange:p=>r(v=>({...v,autoLogout:p}))})]})]}),s.jsxs(B,{onClick:u,className:"w-full gap-2",children:[s.jsx(Ih,{className:"h-4 w-4"}),"Sauvegarder les paramètres de sécurité"]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(w_,{className:"h-5 w-5"}),"Sessions Actives"]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-3",children:c.map(p=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[g(p.device),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:p.device}),p.current&&s.jsx(Pe,{variant:"secondary",className:"text-xs",children:"Actuel"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.browser," • ",p.location]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Dernière activité: ",p.lastActive]})]})]}),!p.current&&s.jsx(B,{variant:"outline",size:"sm",onClick:()=>f(p.id),children:"Terminer"})]},p.id))}),s.jsx(Yv,{}),s.jsx(B,{variant:"destructive",onClick:m,className:"w-full",children:"Terminer toutes les autres sessions"})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-5 w-5"}),"Gestion des Sessions"]})}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Se souvenir de moi"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Restez connecté entre les sessions"})]}),s.jsx(Dr,{checked:a.rememberMe,onCheckedChange:p=>i(v=>({...v,rememberMe:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Connexion automatique"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connexion automatique au démarrage"})]}),s.jsx(Dr,{checked:a.autoLogin,onCheckedChange:p=>i(v=>({...v,autoLogin:p}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Durée de session (heures)"}),s.jsxs(be,{value:a.sessionDuration.toString(),onValueChange:p=>i(v=>({...v,sessionDuration:parseInt(p)})),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"1",children:"1 heure"}),s.jsx(L,{value:"4",children:"4 heures"}),s.jsx(L,{value:"8",children:"8 heures"}),s.jsx(L,{value:"12",children:"12 heures"}),s.jsx(L,{value:"24",children:"24 heures"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Sessions simultanées maximum"}),s.jsxs(be,{value:a.maxConcurrentSessions.toString(),onValueChange:p=>i(v=>({...v,maxConcurrentSessions:parseInt(p)})),children:[s.jsx(xe,{children:s.jsx(we,{})}),s.jsxs(ye,{children:[s.jsx(L,{value:"1",children:"1 session"}),s.jsx(L,{value:"2",children:"2 sessions"}),s.jsx(L,{value:"3",children:"3 sessions"}),s.jsx(L,{value:"5",children:"5 sessions"}),s.jsx(L,{value:"10",children:"10 sessions"})]})]})]})]}),s.jsxs(B,{onClick:d,className:"w-full gap-2",children:[s.jsx(Ih,{className:"h-4 w-4"}),"Sauvegarder les paramètres de session"]})]})]}),s.jsxs(Z,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(jq,{className:"h-5 w-5"}),"Notifications de Sécurité"]})}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Alertes de connexion"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouvelles connexions"})]}),s.jsx(Dr,{checked:o.loginAlerts,onCheckedChange:p=>l(v=>({...v,loginAlerts:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Alertes de sécurité"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les événements de sécurité"})]}),s.jsx(Dr,{checked:o.securityAlerts,onCheckedChange:p=>l(v=>({...v,securityAlerts:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Alertes d'appareil"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouveaux appareils"})]}),s.jsx(Dr,{checked:o.deviceAlerts,onCheckedChange:p=>l(v=>({...v,deviceAlerts:p}))})]}),s.jsx(Yv,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Notifications par email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par email"})]}),s.jsx(Dr,{checked:o.emailNotifications,onCheckedChange:p=>l(v=>({...v,emailNotifications:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Notifications SMS"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par SMS"})]}),s.jsx(Dr,{checked:o.smsNotifications,onCheckedChange:p=>l(v=>({...v,smsNotifications:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Notifications push"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes push"})]}),s.jsx(Dr,{checked:o.pushNotifications,onCheckedChange:p=>l(v=>({...v,pushNotifications:p}))})]})]}),s.jsxs(B,{onClick:h,className:"w-full gap-2",children:[s.jsx(Ih,{className:"h-4 w-4"}),"Sauvegarder les paramètres de notification"]})]})]})]})]}):null}function FAe(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[a,i]=b.useState(!1),[o,l]=b.useState(!1),[c,u]=b.useState(""),[d,h]=b.useState(!1),[f,m]=b.useState(!1),g=bd(),{toast:p}=at();jH(),b.useEffect(()=>{(async()=>{try{const{data:{session:j},error:w}=await De.auth.getSession();if(w){u("Lien de réinitialisation invalide ou expiré");return}j?m(!0):u("Lien de réinitialisation invalide ou expiré")}catch{u("Erreur lors de la vérification du lien de réinitialisation")}})()},[]);const v=y=>y.length<8?"Le mot de passe doit contenir au moins 8 caractères":/[A-Z]/.test(y)?/[a-z]/.test(y)?/\d/.test(y)?/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?]/.test(y)?null:"Le mot de passe doit contenir au moins un caractère spécial":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une lettre minuscule":"Le mot de passe doit contenir au moins une lettre majuscule",x=async y=>{if(y.preventDefault(),u(""),!e||!n){p({title:"Champs requis",description:"Veuillez remplir tous les champs",variant:"destructive"});return}if(e!==n){p({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"});return}const j=v(e);if(j){p({title:"Mot de passe invalide",description:j,variant:"destructive"});return}h(!0);try{const{error:w}=await De.auth.updateUser({password:e});if(w)throw w;p({title:"Mot de passe mis à jour",description:"Votre mot de passe a été réinitialisé avec succès."}),g("/login")}catch(w){u(w instanceof Error?w.message:"Une erreur est survenue lors de la mise à jour du mot de passe")}finally{h(!1)}};return!f&&!c?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:s.jsx(Z,{className:"w-full max-w-md",children:s.jsxs(te,{className:"pt-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(Sr,{className:"h-8 w-8 animate-spin"})}),s.jsx("p",{className:"text-center mt-4 text-sm text-muted-foreground",children:"Vérification du lien de réinitialisation..."})]})})}):c?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:s.jsxs(Z,{className:"w-full max-w-md",children:[s.jsxs(ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:s.jsx(dt,{className:"h-8 w-8 text-red-600"})})}),s.jsx(de,{className:"text-2xl font-bold text-red-600",children:"Lien invalide"})]}),s.jsxs(te,{children:[s.jsx(Bg,{className:"mb-4",children:s.jsx(zg,{children:c})}),s.jsx(B,{onClick:()=>g("/login"),className:"w-full",children:"Retour à la connexion"})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:s.jsxs(Z,{className:"w-full max-w-md",children:[s.jsxs(ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:s.jsx(dt,{className:"h-8 w-8 text-primary"})})}),s.jsx(de,{className:"text-2xl font-bold",children:"VetPro CRM3"}),s.jsx(Iu,{children:"Définir un nouveau mot de passe"})]}),s.jsx(te,{children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"password",children:"Nouveau mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(Y,{id:"password",type:a?"text":"password",value:e,onChange:y=>t(y.target.value),placeholder:"Votre nouveau mot de passe",required:!0}),s.jsx(B,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!a),children:a?s.jsx(vb,{className:"h-4 w-4"}):s.jsx(bn,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Le mot de passe doit contenir au moins 8 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(Y,{id:"confirmPassword",type:o?"text":"password",value:n,onChange:y=>r(y.target.value),placeholder:"Confirmer votre nouveau mot de passe",required:!0}),s.jsx(B,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!o),children:o?s.jsx(vb,{className:"h-4 w-4"}):s.jsx(bn,{className:"h-4 w-4"})})]})]}),s.jsx(B,{type:"submit",className:"w-full",disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx(Sr,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour..."]}):"Mettre à jour le mot de passe"})]})})]})})}const BAe=new oW({defaultOptions:{queries:{retry:(e,t)=>(t==null?void 0:t.status)>=400&&(t==null?void 0:t.status)<500?!1:e<2,staleTime:3*60*1e3,gcTime:8*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:"always",refetchOnMount:!0,networkMode:"offlineFirst"},mutations:{retry:1,networkMode:"offlineFirst"}}}),zAe=()=>s.jsx(OX,{children:s.jsx(lW,{client:BAe,children:s.jsxs(R9,{children:[s.jsx(bU,{}),s.jsx(ZU,{}),s.jsx(TX,{children:s.jsx(ES,{children:s.jsx(PZ,{children:s.jsx(wH,{children:s.jsx(gH,{children:s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs(lH,{children:[s.jsx(hn,{path:"/",element:s.jsx(BX,{})}),s.jsx(hn,{path:"/login",element:s.jsx(FX,{children:s.jsx(LX,{})})}),s.jsx(hn,{path:"/register",element:s.jsx(zX,{})}),s.jsx(hn,{path:"/dashboard",element:s.jsxs(mr,{children:[s.jsx(fr,{}),s.jsx(DPe,{})]})}),s.jsx(hn,{path:"/clients",element:s.jsxs(mr,{children:[s.jsx(fr,{}),s.jsx($Pe,{})]})}),s.jsx(hn,{path:"/pets",element:s.jsxs(mr,{children:[s.jsx(fr,{}),s.jsx(zPe,{})]})}),s.jsx(hn,{path:"/appointments",element:s.jsxs(mr,{children:[s.jsx(fr,{}),s.jsx(GPe,{})]})}),s.jsx(hn,{path:"/consultations",element:s.jsxs(mr,{children:[s.jsx(fr,{}),s.jsx(JPe,{})]})}),s.jsx(hn,{path:"/history",element:s.jsxs(mr,{children:[s.jsx(fr,{}),s.jsx(tAe,{})]})}),s.jsx(hn,{path:"/farm",element:s.jsxs(mr,{children:[s.jsx(fr,{}),s.jsx(oAe,{})]})}),s.jsx(hn,{path:"/vaccinations",element:s.jsxs(mr,{children:[s.jsx(fr,{}),s.jsx(cAe,{})]})}),s.jsx(hn,{path:"/antiparasites",element:s.jsxs(mr,{children:[s.jsx(fr,{}),s.jsx(xAe,{})]})}),s.jsx(hn,{path:"/stock",element:s.jsxs(mr,{children:[s.jsx(fr,{}),s.jsx(_Ae,{})]})}),s.jsx(hn,{path:"/accounting",element:s.jsxs(mr,{children:[s.jsx(fr,{}),s.jsx(AAe,{})]})}),s.jsx(hn,{path:"/test-stats",element:s.jsxs(mr,{children:[s.jsx(fr,{}),s.jsx(TAe,{})]})}),s.jsx(hn,{path:"/simple-test",element:s.jsxs(mr,{children:[s.jsx(fr,{}),s.jsx(OAe,{})]})}),s.jsx(hn,{path:"/profile",element:s.jsxs(mr,{children:[s.jsx(fr,{}),s.jsx(RAe,{})]})}),s.jsx(hn,{path:"/auth-settings",element:s.jsxs(mr,{children:[s.jsx(fr,{}),s.jsx(LAe,{})]})}),s.jsx(hn,{path:"/reset-password",element:s.jsx(FAe,{})}),s.jsx(hn,{path:"*",element:s.jsx(DAe,{})})]})})})})})})})]})})});AM(document.getElementById("root")).render(s.jsx(zAe,{}));
