var GO=e=>{throw TypeError(e)};var yN=(e,t,n)=>t.has(e)||GO("Cannot "+n);var ce=(e,t,n)=>(yN(e,t,"read from private field"),n?n.call(e):t.get(e)),ut=(e,t,n)=>t.has(e)?GO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Xe=(e,t,n,s)=>(yN(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),zt=(e,t,n)=>(yN(e,t,"access private method"),n);var _x=(e,t,n,s)=>({set _(i){Xe(e,t,i,n)},get _(){return ce(e,t,s)}});function cJ(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uJ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var lL={exports:{}},Wj={},cL={exports:{}},Jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv=Symbol.for("react.element"),dJ=Symbol.for("react.portal"),hJ=Symbol.for("react.fragment"),fJ=Symbol.for("react.strict_mode"),mJ=Symbol.for("react.profiler"),pJ=Symbol.for("react.provider"),gJ=Symbol.for("react.context"),vJ=Symbol.for("react.forward_ref"),xJ=Symbol.for("react.suspense"),yJ=Symbol.for("react.memo"),jJ=Symbol.for("react.lazy"),KO=Symbol.iterator;function bJ(e){return e===null||typeof e!="object"?null:(e=KO&&e[KO]||e["@@iterator"],typeof e=="function"?e:null)}var uL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dL=Object.assign,hL={};function Rf(e,t,n){this.props=e,this.context=t,this.refs=hL,this.updater=n||uL}Rf.prototype.isReactComponent={};Rf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fL(){}fL.prototype=Rf.prototype;function CP(e,t,n){this.props=e,this.context=t,this.refs=hL,this.updater=n||uL}var _P=CP.prototype=new fL;_P.constructor=CP;dL(_P,Rf.prototype);_P.isPureReactComponent=!0;var YO=Array.isArray,mL=Object.prototype.hasOwnProperty,PP={current:null},pL={key:!0,ref:!0,__self:!0,__source:!0};function gL(e,t,n){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)mL.call(t,s)&&!pL.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:tv,type:e,key:a,ref:o,props:i,_owner:PP.current}}function wJ(e,t){return{$$typeof:tv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function AP(e){return typeof e=="object"&&e!==null&&e.$$typeof===tv}function NJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var QO=/\/+/g;function jN(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NJ(""+e.key):t.toString(36)}function Py(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case tv:case dJ:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+jN(o,0):s,YO(i)?(n="",e!=null&&(n=e.replace(QO,"$&/")+"/"),Py(i,t,n,"",function(u){return u})):i!=null&&(AP(i)&&(i=wJ(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(QO,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",YO(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+jN(a,l);o+=Py(a,t,n,c,i)}else if(c=bJ(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+jN(a,l++),o+=Py(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Px(e,t,n){if(e==null)return e;var s=[],i=0;return Py(e,s,"","",function(a){return t.call(n,a,i++)}),s}function SJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rs={current:null},Ay={transition:null},CJ={ReactCurrentDispatcher:Rs,ReactCurrentBatchConfig:Ay,ReactCurrentOwner:PP};function vL(){throw Error("act(...) is not supported in production builds of React.")}Jt.Children={map:Px,forEach:function(e,t,n){Px(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Px(e,function(){t++}),t},toArray:function(e){return Px(e,function(t){return t})||[]},only:function(e){if(!AP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Jt.Component=Rf;Jt.Fragment=hJ;Jt.Profiler=mJ;Jt.PureComponent=CP;Jt.StrictMode=fJ;Jt.Suspense=xJ;Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CJ;Jt.act=vL;Jt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=dL({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=PP.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)mL.call(t,c)&&!pL.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:tv,type:e.type,key:i,ref:a,props:s,_owner:o}};Jt.createContext=function(e){return e={$$typeof:gJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pJ,_context:e},e.Consumer=e};Jt.createElement=gL;Jt.createFactory=function(e){var t=gL.bind(null,e);return t.type=e,t};Jt.createRef=function(){return{current:null}};Jt.forwardRef=function(e){return{$$typeof:vJ,render:e}};Jt.isValidElement=AP;Jt.lazy=function(e){return{$$typeof:jJ,_payload:{_status:-1,_result:e},_init:SJ}};Jt.memo=function(e,t){return{$$typeof:yJ,type:e,compare:t===void 0?null:t}};Jt.startTransition=function(e){var t=Ay.transition;Ay.transition={};try{e()}finally{Ay.transition=t}};Jt.unstable_act=vL;Jt.useCallback=function(e,t){return Rs.current.useCallback(e,t)};Jt.useContext=function(e){return Rs.current.useContext(e)};Jt.useDebugValue=function(){};Jt.useDeferredValue=function(e){return Rs.current.useDeferredValue(e)};Jt.useEffect=function(e,t){return Rs.current.useEffect(e,t)};Jt.useId=function(){return Rs.current.useId()};Jt.useImperativeHandle=function(e,t,n){return Rs.current.useImperativeHandle(e,t,n)};Jt.useInsertionEffect=function(e,t){return Rs.current.useInsertionEffect(e,t)};Jt.useLayoutEffect=function(e,t){return Rs.current.useLayoutEffect(e,t)};Jt.useMemo=function(e,t){return Rs.current.useMemo(e,t)};Jt.useReducer=function(e,t,n){return Rs.current.useReducer(e,t,n)};Jt.useRef=function(e){return Rs.current.useRef(e)};Jt.useState=function(e){return Rs.current.useState(e)};Jt.useSyncExternalStore=function(e,t,n){return Rs.current.useSyncExternalStore(e,t,n)};Jt.useTransition=function(){return Rs.current.useTransition()};Jt.version="18.3.1";cL.exports=Jt;var w=cL.exports;const U=pn(w),EP=cJ({__proto__:null,default:U},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _J=w,PJ=Symbol.for("react.element"),AJ=Symbol.for("react.fragment"),EJ=Object.prototype.hasOwnProperty,kJ=_J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TJ={key:!0,ref:!0,__self:!0,__source:!0};function xL(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)EJ.call(t,s)&&!TJ.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:PJ,type:e,key:a,ref:o,props:i,_owner:kJ.current}}Wj.Fragment=AJ;Wj.jsx=xL;Wj.jsxs=xL;lL.exports=Wj;var r=lL.exports,yL={exports:{}},Pi={},jL={exports:{}},bL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,D){var ie=X.length;X.push(D);e:for(;0<ie;){var me=ie-1>>>1,te=X[me];if(0<i(te,D))X[me]=D,X[ie]=te,ie=me;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var D=X[0],ie=X.pop();if(ie!==D){X[0]=ie;e:for(var me=0,te=X.length,J=te>>>1;me<J;){var ne=2*(me+1)-1,ve=X[ne],ye=ne+1,be=X[ye];if(0>i(ve,ie))ye<te&&0>i(be,ve)?(X[me]=be,X[ye]=ie,me=ye):(X[me]=ve,X[ne]=ie,me=ne);else if(ye<te&&0>i(be,ie))X[me]=be,X[ye]=ie,me=ye;else break e}}return D}function i(X,D){var ie=X.sortIndex-D.sortIndex;return ie!==0?ie:X.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,g=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(X){for(var D=n(u);D!==null;){if(D.callback===null)s(u);else if(D.startTime<=X)s(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function _(X){if(v=!1,j(X),!x)if(n(c)!==null)x=!0,H(C);else{var D=n(u);D!==null&&ae(_,D.startTime-X)}}function C(X,D){x=!1,v&&(v=!1,N(E),E=-1),g=!0;var ie=m;try{for(j(D),f=n(c);f!==null&&(!(f.expirationTime>D)||X&&!T());){var me=f.callback;if(typeof me=="function"){f.callback=null,m=f.priorityLevel;var te=me(f.expirationTime<=D);D=e.unstable_now(),typeof te=="function"?f.callback=te:f===n(c)&&s(c),j(D)}else s(c);f=n(c)}if(f!==null)var J=!0;else{var ne=n(u);ne!==null&&ae(_,ne.startTime-D),J=!1}return J}finally{f=null,m=ie,g=!1}}var A=!1,P=null,E=-1,M=5,$=-1;function T(){return!(e.unstable_now()-$<M)}function O(){if(P!==null){var X=e.unstable_now();$=X;var D=!0;try{D=P(!0,X)}finally{D?L():(A=!1,P=null)}}else A=!1}var L;if(typeof b=="function")L=function(){b(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Z=B.port2;B.port1.onmessage=O,L=function(){Z.postMessage(null)}}else L=function(){y(O,0)};function H(X){P=X,A||(A=!0,L())}function ae(X,D){E=y(function(){X(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,H(C))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(X){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var ie=m;m=D;try{return X()}finally{m=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,D){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ie=m;m=X;try{return D()}finally{m=ie}},e.unstable_scheduleCallback=function(X,D,ie){var me=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?me+ie:me):ie=me,X){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ie+te,X={id:d++,callback:D,priorityLevel:X,startTime:ie,expirationTime:te,sortIndex:-1},ie>me?(X.sortIndex=ie,t(u,X),n(c)===null&&X===n(u)&&(v?(N(E),E=-1):v=!0,ae(_,ie-me))):(X.sortIndex=te,t(c,X),x||g||(x=!0,H(C))),X},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(X){var D=m;return function(){var ie=m;m=D;try{return X.apply(this,arguments)}finally{m=ie}}}})(bL);jL.exports=bL;var OJ=jL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DJ=w,_i=OJ;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wL=new Set,zp={};function ad(e,t){Gh(e,t),Gh(e+"Capture",t)}function Gh(e,t){for(zp[e]=t,e=0;e<t.length;e++)wL.add(t[e])}var tl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),QS=Object.prototype.hasOwnProperty,MJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XO={},JO={};function IJ(e){return QS.call(JO,e)?!0:QS.call(XO,e)?!1:MJ.test(e)?JO[e]=!0:(XO[e]=!0,!1)}function $J(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function RJ(e,t,n,s){if(t===null||typeof t>"u"||$J(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ls(e,t,n,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ss={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ss[e]=new Ls(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ss[t]=new Ls(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ss[e]=new Ls(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ss[e]=new Ls(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ss[e]=new Ls(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ss[e]=new Ls(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ss[e]=new Ls(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ss[e]=new Ls(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ss[e]=new Ls(e,5,!1,e.toLowerCase(),null,!1,!1)});var kP=/[\-:]([a-z])/g;function TP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kP,TP);ss[t]=new Ls(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kP,TP);ss[t]=new Ls(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kP,TP);ss[t]=new Ls(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ss[e]=new Ls(e,1,!1,e.toLowerCase(),null,!1,!1)});ss.xlinkHref=new Ls("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ss[e]=new Ls(e,1,!1,e.toLowerCase(),null,!0,!0)});function OP(e,t,n,s){var i=ss.hasOwnProperty(t)?ss[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(RJ(t,n,i,s)&&(n=null),s||i===null?IJ(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var fl=DJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ax=Symbol.for("react.element"),nh=Symbol.for("react.portal"),rh=Symbol.for("react.fragment"),DP=Symbol.for("react.strict_mode"),XS=Symbol.for("react.profiler"),NL=Symbol.for("react.provider"),SL=Symbol.for("react.context"),MP=Symbol.for("react.forward_ref"),JS=Symbol.for("react.suspense"),ZS=Symbol.for("react.suspense_list"),IP=Symbol.for("react.memo"),Fl=Symbol.for("react.lazy"),CL=Symbol.for("react.offscreen"),ZO=Symbol.iterator;function Bm(e){return e===null||typeof e!="object"?null:(e=ZO&&e[ZO]||e["@@iterator"],typeof e=="function"?e:null)}var tr=Object.assign,bN;function dp(e){if(bN===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bN=t&&t[1]||""}return`
`+bN+e}var wN=!1;function NN(e,t){if(!e||wN)return"";wN=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{wN=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?dp(e):""}function LJ(e){switch(e.tag){case 5:return dp(e.type);case 16:return dp("Lazy");case 13:return dp("Suspense");case 19:return dp("SuspenseList");case 0:case 2:case 15:return e=NN(e.type,!1),e;case 11:return e=NN(e.type.render,!1),e;case 1:return e=NN(e.type,!0),e;default:return""}}function eC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rh:return"Fragment";case nh:return"Portal";case XS:return"Profiler";case DP:return"StrictMode";case JS:return"Suspense";case ZS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case SL:return(e.displayName||"Context")+".Consumer";case NL:return(e._context.displayName||"Context")+".Provider";case MP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case IP:return t=e.displayName||null,t!==null?t:eC(e.type)||"Memo";case Fl:t=e._payload,e=e._init;try{return eC(e(t))}catch{}}return null}function FJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eC(t);case 8:return t===DP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _L(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function BJ(e){var t=_L(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ex(e){e._valueTracker||(e._valueTracker=BJ(e))}function PL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=_L(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Gy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tC(e,t){var n=t.checked;return tr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function eD(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=yc(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function AL(e,t){t=t.checked,t!=null&&OP(e,"checked",t,!1)}function nC(e,t){AL(e,t);var n=yc(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rC(e,t.type,n):t.hasOwnProperty("defaultValue")&&rC(e,t.type,yc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tD(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function rC(e,t,n){(t!=="number"||Gy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hp=Array.isArray;function jh(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+yc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function sC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return tr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nD(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(hp(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yc(n)}}function EL(e,t){var n=yc(t.value),s=yc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function rD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kx,TL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kx=kx||document.createElement("div"),kx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zJ=["Webkit","ms","Moz","O"];Object.keys(jp).forEach(function(e){zJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jp[t]=jp[e]})});function OL(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||jp.hasOwnProperty(e)&&jp[e]?(""+t).trim():t+"px"}function DL(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=OL(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var VJ=tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aC(e,t){if(t){if(VJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function oC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lC=null;function $P(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cC=null,bh=null,wh=null;function sD(e){if(e=sv(e)){if(typeof cC!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=Qj(t),cC(e.stateNode,e.type,t))}}function ML(e){bh?wh?wh.push(e):wh=[e]:bh=e}function IL(){if(bh){var e=bh,t=wh;if(wh=bh=null,sD(e),t)for(e=0;e<t.length;e++)sD(t[e])}}function $L(e,t){return e(t)}function RL(){}var SN=!1;function LL(e,t,n){if(SN)return e(t,n);SN=!0;try{return $L(e,t,n)}finally{SN=!1,(bh!==null||wh!==null)&&(RL(),IL())}}function Up(e,t){var n=e.stateNode;if(n===null)return null;var s=Qj(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var uC=!1;if(tl)try{var zm={};Object.defineProperty(zm,"passive",{get:function(){uC=!0}}),window.addEventListener("test",zm,zm),window.removeEventListener("test",zm,zm)}catch{uC=!1}function UJ(e,t,n,s,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var bp=!1,Ky=null,Yy=!1,dC=null,qJ={onError:function(e){bp=!0,Ky=e}};function WJ(e,t,n,s,i,a,o,l,c){bp=!1,Ky=null,UJ.apply(qJ,arguments)}function HJ(e,t,n,s,i,a,o,l,c){if(WJ.apply(this,arguments),bp){if(bp){var u=Ky;bp=!1,Ky=null}else throw Error(Ue(198));Yy||(Yy=!0,dC=u)}}function od(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function FL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function iD(e){if(od(e)!==e)throw Error(Ue(188))}function GJ(e){var t=e.alternate;if(!t){if(t=od(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return iD(i),e;if(a===s)return iD(i),t;a=a.sibling}throw Error(Ue(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(Ue(189))}}if(n.alternate!==s)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function BL(e){return e=GJ(e),e!==null?zL(e):null}function zL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zL(e);if(t!==null)return t;e=e.sibling}return null}var VL=_i.unstable_scheduleCallback,aD=_i.unstable_cancelCallback,KJ=_i.unstable_shouldYield,YJ=_i.unstable_requestPaint,fr=_i.unstable_now,QJ=_i.unstable_getCurrentPriorityLevel,RP=_i.unstable_ImmediatePriority,UL=_i.unstable_UserBlockingPriority,Qy=_i.unstable_NormalPriority,XJ=_i.unstable_LowPriority,qL=_i.unstable_IdlePriority,Hj=null,co=null;function JJ(e){if(co&&typeof co.onCommitFiberRoot=="function")try{co.onCommitFiberRoot(Hj,e,void 0,(e.current.flags&128)===128)}catch{}}var Aa=Math.clz32?Math.clz32:tZ,ZJ=Math.log,eZ=Math.LN2;function tZ(e){return e>>>=0,e===0?32:31-(ZJ(e)/eZ|0)|0}var Tx=64,Ox=4194304;function fp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xy(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=fp(l):(a&=o,a!==0&&(s=fp(a)))}else o=n&~i,o!==0?s=fp(o):a!==0&&(s=fp(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Aa(t),i=1<<n,s|=e[n],t&=~i;return s}function nZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rZ(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Aa(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=nZ(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function hC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function WL(){var e=Tx;return Tx<<=1,!(Tx&4194240)&&(Tx=64),e}function CN(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nv(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Aa(t),e[t]=n}function sZ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Aa(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}function LP(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Aa(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var bn=0;function HL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var GL,FP,KL,YL,QL,fC=!1,Dx=[],oc=null,lc=null,cc=null,qp=new Map,Wp=new Map,Vl=[],iZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oD(e,t){switch(e){case"focusin":case"focusout":oc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":cc=null;break;case"pointerover":case"pointerout":qp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wp.delete(t.pointerId)}}function Vm(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=sv(t),t!==null&&FP(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function aZ(e,t,n,s,i){switch(t){case"focusin":return oc=Vm(oc,e,t,n,s,i),!0;case"dragenter":return lc=Vm(lc,e,t,n,s,i),!0;case"mouseover":return cc=Vm(cc,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return qp.set(a,Vm(qp.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,Wp.set(a,Vm(Wp.get(a)||null,e,t,n,s,i)),!0}return!1}function XL(e){var t=mu(e.target);if(t!==null){var n=od(t);if(n!==null){if(t=n.tag,t===13){if(t=FL(n),t!==null){e.blockedOn=t,QL(e.priority,function(){KL(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ey(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);lC=s,n.target.dispatchEvent(s),lC=null}else return t=sv(n),t!==null&&FP(t),e.blockedOn=n,!1;t.shift()}return!0}function lD(e,t,n){Ey(e)&&n.delete(t)}function oZ(){fC=!1,oc!==null&&Ey(oc)&&(oc=null),lc!==null&&Ey(lc)&&(lc=null),cc!==null&&Ey(cc)&&(cc=null),qp.forEach(lD),Wp.forEach(lD)}function Um(e,t){e.blockedOn===t&&(e.blockedOn=null,fC||(fC=!0,_i.unstable_scheduleCallback(_i.unstable_NormalPriority,oZ)))}function Hp(e){function t(i){return Um(i,e)}if(0<Dx.length){Um(Dx[0],e);for(var n=1;n<Dx.length;n++){var s=Dx[n];s.blockedOn===e&&(s.blockedOn=null)}}for(oc!==null&&Um(oc,e),lc!==null&&Um(lc,e),cc!==null&&Um(cc,e),qp.forEach(t),Wp.forEach(t),n=0;n<Vl.length;n++)s=Vl[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Vl.length&&(n=Vl[0],n.blockedOn===null);)XL(n),n.blockedOn===null&&Vl.shift()}var Nh=fl.ReactCurrentBatchConfig,Jy=!0;function lZ(e,t,n,s){var i=bn,a=Nh.transition;Nh.transition=null;try{bn=1,BP(e,t,n,s)}finally{bn=i,Nh.transition=a}}function cZ(e,t,n,s){var i=bn,a=Nh.transition;Nh.transition=null;try{bn=4,BP(e,t,n,s)}finally{bn=i,Nh.transition=a}}function BP(e,t,n,s){if(Jy){var i=mC(e,t,n,s);if(i===null)IN(e,t,s,Zy,n),oD(e,s);else if(aZ(i,e,t,n,s))s.stopPropagation();else if(oD(e,s),t&4&&-1<iZ.indexOf(e)){for(;i!==null;){var a=sv(i);if(a!==null&&GL(a),a=mC(e,t,n,s),a===null&&IN(e,t,s,Zy,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else IN(e,t,s,null,n)}}var Zy=null;function mC(e,t,n,s){if(Zy=null,e=$P(s),e=mu(e),e!==null)if(t=od(e),t===null)e=null;else if(n=t.tag,n===13){if(e=FL(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zy=e,null}function JL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QJ()){case RP:return 1;case UL:return 4;case Qy:case XJ:return 16;case qL:return 536870912;default:return 16}default:return 16}}var tc=null,zP=null,ky=null;function ZL(){if(ky)return ky;var e,t=zP,n=t.length,s,i="value"in tc?tc.value:tc.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[a-s];s++);return ky=i.slice(e,1<s?1-s:void 0)}function Ty(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mx(){return!0}function cD(){return!1}function Ai(e){function t(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Mx:cD,this.isPropagationStopped=cD,this}return tr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mx)},persist:function(){},isPersistent:Mx}),t}var Lf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},VP=Ai(Lf),rv=tr({},Lf,{view:0,detail:0}),uZ=Ai(rv),_N,PN,qm,Gj=tr({},rv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qm&&(qm&&e.type==="mousemove"?(_N=e.screenX-qm.screenX,PN=e.screenY-qm.screenY):PN=_N=0,qm=e),_N)},movementY:function(e){return"movementY"in e?e.movementY:PN}}),uD=Ai(Gj),dZ=tr({},Gj,{dataTransfer:0}),hZ=Ai(dZ),fZ=tr({},rv,{relatedTarget:0}),AN=Ai(fZ),mZ=tr({},Lf,{animationName:0,elapsedTime:0,pseudoElement:0}),pZ=Ai(mZ),gZ=tr({},Lf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vZ=Ai(gZ),xZ=tr({},Lf,{data:0}),dD=Ai(xZ),yZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bZ[e])?!!t[e]:!1}function UP(){return wZ}var NZ=tr({},rv,{key:function(e){if(e.key){var t=yZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ty(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UP,charCode:function(e){return e.type==="keypress"?Ty(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ty(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SZ=Ai(NZ),CZ=tr({},Gj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hD=Ai(CZ),_Z=tr({},rv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UP}),PZ=Ai(_Z),AZ=tr({},Lf,{propertyName:0,elapsedTime:0,pseudoElement:0}),EZ=Ai(AZ),kZ=tr({},Gj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TZ=Ai(kZ),OZ=[9,13,27,32],qP=tl&&"CompositionEvent"in window,wp=null;tl&&"documentMode"in document&&(wp=document.documentMode);var DZ=tl&&"TextEvent"in window&&!wp,eF=tl&&(!qP||wp&&8<wp&&11>=wp),fD=" ",mD=!1;function tF(e,t){switch(e){case"keyup":return OZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sh=!1;function MZ(e,t){switch(e){case"compositionend":return nF(t);case"keypress":return t.which!==32?null:(mD=!0,fD);case"textInput":return e=t.data,e===fD&&mD?null:e;default:return null}}function IZ(e,t){if(sh)return e==="compositionend"||!qP&&tF(e,t)?(e=ZL(),ky=zP=tc=null,sh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eF&&t.locale!=="ko"?null:t.data;default:return null}}var $Z={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$Z[e.type]:t==="textarea"}function rF(e,t,n,s){ML(s),t=e0(t,"onChange"),0<t.length&&(n=new VP("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Np=null,Gp=null;function RZ(e){mF(e,0)}function Kj(e){var t=oh(e);if(PL(t))return e}function LZ(e,t){if(e==="change")return t}var sF=!1;if(tl){var EN;if(tl){var kN="oninput"in document;if(!kN){var gD=document.createElement("div");gD.setAttribute("oninput","return;"),kN=typeof gD.oninput=="function"}EN=kN}else EN=!1;sF=EN&&(!document.documentMode||9<document.documentMode)}function vD(){Np&&(Np.detachEvent("onpropertychange",iF),Gp=Np=null)}function iF(e){if(e.propertyName==="value"&&Kj(Gp)){var t=[];rF(t,Gp,e,$P(e)),LL(RZ,t)}}function FZ(e,t,n){e==="focusin"?(vD(),Np=t,Gp=n,Np.attachEvent("onpropertychange",iF)):e==="focusout"&&vD()}function BZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kj(Gp)}function zZ(e,t){if(e==="click")return Kj(t)}function VZ(e,t){if(e==="input"||e==="change")return Kj(t)}function UZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Da=typeof Object.is=="function"?Object.is:UZ;function Kp(e,t){if(Da(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!QS.call(t,i)||!Da(e[i],t[i]))return!1}return!0}function xD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yD(e,t){var n=xD(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xD(n)}}function aF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oF(){for(var e=window,t=Gy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gy(e.document)}return t}function WP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qZ(e){var t=oF(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&aF(n.ownerDocument.documentElement,n)){if(s!==null&&WP(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=yD(n,a);var o=yD(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WZ=tl&&"documentMode"in document&&11>=document.documentMode,ih=null,pC=null,Sp=null,gC=!1;function jD(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gC||ih==null||ih!==Gy(s)||(s=ih,"selectionStart"in s&&WP(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Sp&&Kp(Sp,s)||(Sp=s,s=e0(pC,"onSelect"),0<s.length&&(t=new VP("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ih)))}function Ix(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ah={animationend:Ix("Animation","AnimationEnd"),animationiteration:Ix("Animation","AnimationIteration"),animationstart:Ix("Animation","AnimationStart"),transitionend:Ix("Transition","TransitionEnd")},TN={},lF={};tl&&(lF=document.createElement("div").style,"AnimationEvent"in window||(delete ah.animationend.animation,delete ah.animationiteration.animation,delete ah.animationstart.animation),"TransitionEvent"in window||delete ah.transitionend.transition);function Yj(e){if(TN[e])return TN[e];if(!ah[e])return e;var t=ah[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lF)return TN[e]=t[n];return e}var cF=Yj("animationend"),uF=Yj("animationiteration"),dF=Yj("animationstart"),hF=Yj("transitionend"),fF=new Map,bD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ac(e,t){fF.set(e,t),ad(t,[e])}for(var ON=0;ON<bD.length;ON++){var DN=bD[ON],HZ=DN.toLowerCase(),GZ=DN[0].toUpperCase()+DN.slice(1);Ac(HZ,"on"+GZ)}Ac(cF,"onAnimationEnd");Ac(uF,"onAnimationIteration");Ac(dF,"onAnimationStart");Ac("dblclick","onDoubleClick");Ac("focusin","onFocus");Ac("focusout","onBlur");Ac(hF,"onTransitionEnd");Gh("onMouseEnter",["mouseout","mouseover"]);Gh("onMouseLeave",["mouseout","mouseover"]);Gh("onPointerEnter",["pointerout","pointerover"]);Gh("onPointerLeave",["pointerout","pointerover"]);ad("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ad("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ad("onBeforeInput",["compositionend","keypress","textInput","paste"]);ad("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ad("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ad("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(mp));function wD(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,HJ(s,t,void 0,e),e.currentTarget=null}function mF(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;wD(i,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;wD(i,l,u),a=c}}}if(Yy)throw e=dC,Yy=!1,dC=null,e}function Ln(e,t){var n=t[bC];n===void 0&&(n=t[bC]=new Set);var s=e+"__bubble";n.has(s)||(pF(t,e,2,!1),n.add(s))}function MN(e,t,n){var s=0;t&&(s|=4),pF(n,e,s,t)}var $x="_reactListening"+Math.random().toString(36).slice(2);function Yp(e){if(!e[$x]){e[$x]=!0,wL.forEach(function(n){n!=="selectionchange"&&(KZ.has(n)||MN(n,!1,e),MN(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$x]||(t[$x]=!0,MN("selectionchange",!1,t))}}function pF(e,t,n,s){switch(JL(t)){case 1:var i=lZ;break;case 4:i=cZ;break;default:i=BP}n=i.bind(null,t,n,e),i=void 0,!uC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function IN(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=mu(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}LL(function(){var u=a,d=$P(n),f=[];e:{var m=fF.get(e);if(m!==void 0){var g=VP,x=e;switch(e){case"keypress":if(Ty(n)===0)break e;case"keydown":case"keyup":g=SZ;break;case"focusin":x="focus",g=AN;break;case"focusout":x="blur",g=AN;break;case"beforeblur":case"afterblur":g=AN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=uD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=hZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=PZ;break;case cF:case uF:case dF:g=pZ;break;case hF:g=EZ;break;case"scroll":g=uZ;break;case"wheel":g=TZ;break;case"copy":case"cut":case"paste":g=vZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=hD}var v=(t&4)!==0,y=!v&&e==="scroll",N=v?m!==null?m+"Capture":null:m;v=[];for(var b=u,j;b!==null;){j=b;var _=j.stateNode;if(j.tag===5&&_!==null&&(j=_,N!==null&&(_=Up(b,N),_!=null&&v.push(Qp(b,_,j)))),y)break;b=b.return}0<v.length&&(m=new g(m,x,null,n,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==lC&&(x=n.relatedTarget||n.fromElement)&&(mu(x)||x[nl]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?mu(x):null,x!==null&&(y=od(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=uD,_="onMouseLeave",N="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=hD,_="onPointerLeave",N="onPointerEnter",b="pointer"),y=g==null?m:oh(g),j=x==null?m:oh(x),m=new v(_,b+"leave",g,n,d),m.target=y,m.relatedTarget=j,_=null,mu(d)===u&&(v=new v(N,b+"enter",x,n,d),v.target=j,v.relatedTarget=y,_=v),y=_,g&&x)t:{for(v=g,N=x,b=0,j=v;j;j=Rd(j))b++;for(j=0,_=N;_;_=Rd(_))j++;for(;0<b-j;)v=Rd(v),b--;for(;0<j-b;)N=Rd(N),j--;for(;b--;){if(v===N||N!==null&&v===N.alternate)break t;v=Rd(v),N=Rd(N)}v=null}else v=null;g!==null&&ND(f,m,g,v,!1),x!==null&&y!==null&&ND(f,y,x,v,!0)}}e:{if(m=u?oh(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var C=LZ;else if(pD(m))if(sF)C=VZ;else{C=BZ;var A=FZ}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=zZ);if(C&&(C=C(e,u))){rF(f,C,n,d);break e}A&&A(e,m,u),e==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&rC(m,"number",m.value)}switch(A=u?oh(u):window,e){case"focusin":(pD(A)||A.contentEditable==="true")&&(ih=A,pC=u,Sp=null);break;case"focusout":Sp=pC=ih=null;break;case"mousedown":gC=!0;break;case"contextmenu":case"mouseup":case"dragend":gC=!1,jD(f,n,d);break;case"selectionchange":if(WZ)break;case"keydown":case"keyup":jD(f,n,d)}var P;if(qP)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else sh?tF(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(eF&&n.locale!=="ko"&&(sh||E!=="onCompositionStart"?E==="onCompositionEnd"&&sh&&(P=ZL()):(tc=d,zP="value"in tc?tc.value:tc.textContent,sh=!0)),A=e0(u,E),0<A.length&&(E=new dD(E,e,null,n,d),f.push({event:E,listeners:A}),P?E.data=P:(P=nF(n),P!==null&&(E.data=P)))),(P=DZ?MZ(e,n):IZ(e,n))&&(u=e0(u,"onBeforeInput"),0<u.length&&(d=new dD("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=P))}mF(f,t)})}function Qp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function e0(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Up(e,n),a!=null&&s.unshift(Qp(e,a,i)),a=Up(e,t),a!=null&&s.push(Qp(e,a,i))),e=e.return}return s}function Rd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ND(e,t,n,s,i){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,i?(c=Up(n,a),c!=null&&o.unshift(Qp(n,c,l))):i||(c=Up(n,a),c!=null&&o.push(Qp(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var YZ=/\r\n?/g,QZ=/\u0000|\uFFFD/g;function SD(e){return(typeof e=="string"?e:""+e).replace(YZ,`
`).replace(QZ,"")}function Rx(e,t,n){if(t=SD(t),SD(e)!==t&&n)throw Error(Ue(425))}function t0(){}var vC=null,xC=null;function yC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jC=typeof setTimeout=="function"?setTimeout:void 0,XZ=typeof clearTimeout=="function"?clearTimeout:void 0,CD=typeof Promise=="function"?Promise:void 0,JZ=typeof queueMicrotask=="function"?queueMicrotask:typeof CD<"u"?function(e){return CD.resolve(null).then(e).catch(ZZ)}:jC;function ZZ(e){setTimeout(function(){throw e})}function $N(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),Hp(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Hp(t)}function uc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _D(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ff=Math.random().toString(36).slice(2),to="__reactFiber$"+Ff,Xp="__reactProps$"+Ff,nl="__reactContainer$"+Ff,bC="__reactEvents$"+Ff,eee="__reactListeners$"+Ff,tee="__reactHandles$"+Ff;function mu(e){var t=e[to];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nl]||n[to]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_D(e);e!==null;){if(n=e[to])return n;e=_D(e)}return t}e=n,n=e.parentNode}return null}function sv(e){return e=e[to]||e[nl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function Qj(e){return e[Xp]||null}var wC=[],lh=-1;function Ec(e){return{current:e}}function zn(e){0>lh||(e.current=wC[lh],wC[lh]=null,lh--)}function Mn(e,t){lh++,wC[lh]=e.current,e.current=t}var jc={},vs=Ec(jc),Zs=Ec(!1),Lu=jc;function Kh(e,t){var n=e.type.contextTypes;if(!n)return jc;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ei(e){return e=e.childContextTypes,e!=null}function n0(){zn(Zs),zn(vs)}function PD(e,t,n){if(vs.current!==jc)throw Error(Ue(168));Mn(vs,t),Mn(Zs,n)}function gF(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(Ue(108,FJ(e)||"Unknown",i));return tr({},n,s)}function r0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jc,Lu=vs.current,Mn(vs,e),Mn(Zs,Zs.current),!0}function AD(e,t,n){var s=e.stateNode;if(!s)throw Error(Ue(169));n?(e=gF(e,t,Lu),s.__reactInternalMemoizedMergedChildContext=e,zn(Zs),zn(vs),Mn(vs,e)):zn(Zs),Mn(Zs,n)}var zo=null,Xj=!1,RN=!1;function vF(e){zo===null?zo=[e]:zo.push(e)}function nee(e){Xj=!0,vF(e)}function kc(){if(!RN&&zo!==null){RN=!0;var e=0,t=bn;try{var n=zo;for(bn=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}zo=null,Xj=!1}catch(i){throw zo!==null&&(zo=zo.slice(e+1)),VL(RP,kc),i}finally{bn=t,RN=!1}}return null}var ch=[],uh=0,s0=null,i0=0,Ui=[],qi=0,Fu=null,Ho=1,Go="";function iu(e,t){ch[uh++]=i0,ch[uh++]=s0,s0=e,i0=t}function xF(e,t,n){Ui[qi++]=Ho,Ui[qi++]=Go,Ui[qi++]=Fu,Fu=e;var s=Ho;e=Go;var i=32-Aa(s)-1;s&=~(1<<i),n+=1;var a=32-Aa(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Ho=1<<32-Aa(t)+i|n<<i|s,Go=a+e}else Ho=1<<a|n<<i|s,Go=e}function HP(e){e.return!==null&&(iu(e,1),xF(e,1,0))}function GP(e){for(;e===s0;)s0=ch[--uh],ch[uh]=null,i0=ch[--uh],ch[uh]=null;for(;e===Fu;)Fu=Ui[--qi],Ui[qi]=null,Go=Ui[--qi],Ui[qi]=null,Ho=Ui[--qi],Ui[qi]=null}var bi=null,ji=null,qn=!1,Na=null;function yF(e,t){var n=Hi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ED(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bi=e,ji=uc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bi=e,ji=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fu!==null?{id:Ho,overflow:Go}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Hi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bi=e,ji=null,!0):!1;default:return!1}}function NC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function SC(e){if(qn){var t=ji;if(t){var n=t;if(!ED(e,t)){if(NC(e))throw Error(Ue(418));t=uc(n.nextSibling);var s=bi;t&&ED(e,t)?yF(s,n):(e.flags=e.flags&-4097|2,qn=!1,bi=e)}}else{if(NC(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,qn=!1,bi=e}}}function kD(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bi=e}function Lx(e){if(e!==bi)return!1;if(!qn)return kD(e),qn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yC(e.type,e.memoizedProps)),t&&(t=ji)){if(NC(e))throw jF(),Error(Ue(418));for(;t;)yF(e,t),t=uc(t.nextSibling)}if(kD(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ji=uc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ji=null}}else ji=bi?uc(e.stateNode.nextSibling):null;return!0}function jF(){for(var e=ji;e;)e=uc(e.nextSibling)}function Yh(){ji=bi=null,qn=!1}function KP(e){Na===null?Na=[e]:Na.push(e)}var ree=fl.ReactCurrentBatchConfig;function Wm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var s=n.stateNode}if(!s)throw Error(Ue(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function Fx(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function TD(e){var t=e._init;return t(e._payload)}function bF(e){function t(N,b){if(e){var j=N.deletions;j===null?(N.deletions=[b],N.flags|=16):j.push(b)}}function n(N,b){if(!e)return null;for(;b!==null;)t(N,b),b=b.sibling;return null}function s(N,b){for(N=new Map;b!==null;)b.key!==null?N.set(b.key,b):N.set(b.index,b),b=b.sibling;return N}function i(N,b){return N=mc(N,b),N.index=0,N.sibling=null,N}function a(N,b,j){return N.index=j,e?(j=N.alternate,j!==null?(j=j.index,j<b?(N.flags|=2,b):j):(N.flags|=2,b)):(N.flags|=1048576,b)}function o(N){return e&&N.alternate===null&&(N.flags|=2),N}function l(N,b,j,_){return b===null||b.tag!==6?(b=qN(j,N.mode,_),b.return=N,b):(b=i(b,j),b.return=N,b)}function c(N,b,j,_){var C=j.type;return C===rh?d(N,b,j.props.children,_,j.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Fl&&TD(C)===b.type)?(_=i(b,j.props),_.ref=Wm(N,b,j),_.return=N,_):(_=Ly(j.type,j.key,j.props,null,N.mode,_),_.ref=Wm(N,b,j),_.return=N,_)}function u(N,b,j,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=WN(j,N.mode,_),b.return=N,b):(b=i(b,j.children||[]),b.return=N,b)}function d(N,b,j,_,C){return b===null||b.tag!==7?(b=Mu(j,N.mode,_,C),b.return=N,b):(b=i(b,j),b.return=N,b)}function f(N,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=qN(""+b,N.mode,j),b.return=N,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ax:return j=Ly(b.type,b.key,b.props,null,N.mode,j),j.ref=Wm(N,null,b),j.return=N,j;case nh:return b=WN(b,N.mode,j),b.return=N,b;case Fl:var _=b._init;return f(N,_(b._payload),j)}if(hp(b)||Bm(b))return b=Mu(b,N.mode,j,null),b.return=N,b;Fx(N,b)}return null}function m(N,b,j,_){var C=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return C!==null?null:l(N,b,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ax:return j.key===C?c(N,b,j,_):null;case nh:return j.key===C?u(N,b,j,_):null;case Fl:return C=j._init,m(N,b,C(j._payload),_)}if(hp(j)||Bm(j))return C!==null?null:d(N,b,j,_,null);Fx(N,j)}return null}function g(N,b,j,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return N=N.get(j)||null,l(b,N,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ax:return N=N.get(_.key===null?j:_.key)||null,c(b,N,_,C);case nh:return N=N.get(_.key===null?j:_.key)||null,u(b,N,_,C);case Fl:var A=_._init;return g(N,b,j,A(_._payload),C)}if(hp(_)||Bm(_))return N=N.get(j)||null,d(b,N,_,C,null);Fx(b,_)}return null}function x(N,b,j,_){for(var C=null,A=null,P=b,E=b=0,M=null;P!==null&&E<j.length;E++){P.index>E?(M=P,P=null):M=P.sibling;var $=m(N,P,j[E],_);if($===null){P===null&&(P=M);break}e&&P&&$.alternate===null&&t(N,P),b=a($,b,E),A===null?C=$:A.sibling=$,A=$,P=M}if(E===j.length)return n(N,P),qn&&iu(N,E),C;if(P===null){for(;E<j.length;E++)P=f(N,j[E],_),P!==null&&(b=a(P,b,E),A===null?C=P:A.sibling=P,A=P);return qn&&iu(N,E),C}for(P=s(N,P);E<j.length;E++)M=g(P,N,E,j[E],_),M!==null&&(e&&M.alternate!==null&&P.delete(M.key===null?E:M.key),b=a(M,b,E),A===null?C=M:A.sibling=M,A=M);return e&&P.forEach(function(T){return t(N,T)}),qn&&iu(N,E),C}function v(N,b,j,_){var C=Bm(j);if(typeof C!="function")throw Error(Ue(150));if(j=C.call(j),j==null)throw Error(Ue(151));for(var A=C=null,P=b,E=b=0,M=null,$=j.next();P!==null&&!$.done;E++,$=j.next()){P.index>E?(M=P,P=null):M=P.sibling;var T=m(N,P,$.value,_);if(T===null){P===null&&(P=M);break}e&&P&&T.alternate===null&&t(N,P),b=a(T,b,E),A===null?C=T:A.sibling=T,A=T,P=M}if($.done)return n(N,P),qn&&iu(N,E),C;if(P===null){for(;!$.done;E++,$=j.next())$=f(N,$.value,_),$!==null&&(b=a($,b,E),A===null?C=$:A.sibling=$,A=$);return qn&&iu(N,E),C}for(P=s(N,P);!$.done;E++,$=j.next())$=g(P,N,E,$.value,_),$!==null&&(e&&$.alternate!==null&&P.delete($.key===null?E:$.key),b=a($,b,E),A===null?C=$:A.sibling=$,A=$);return e&&P.forEach(function(O){return t(N,O)}),qn&&iu(N,E),C}function y(N,b,j,_){if(typeof j=="object"&&j!==null&&j.type===rh&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ax:e:{for(var C=j.key,A=b;A!==null;){if(A.key===C){if(C=j.type,C===rh){if(A.tag===7){n(N,A.sibling),b=i(A,j.props.children),b.return=N,N=b;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Fl&&TD(C)===A.type){n(N,A.sibling),b=i(A,j.props),b.ref=Wm(N,A,j),b.return=N,N=b;break e}n(N,A);break}else t(N,A);A=A.sibling}j.type===rh?(b=Mu(j.props.children,N.mode,_,j.key),b.return=N,N=b):(_=Ly(j.type,j.key,j.props,null,N.mode,_),_.ref=Wm(N,b,j),_.return=N,N=_)}return o(N);case nh:e:{for(A=j.key;b!==null;){if(b.key===A)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){n(N,b.sibling),b=i(b,j.children||[]),b.return=N,N=b;break e}else{n(N,b);break}else t(N,b);b=b.sibling}b=WN(j,N.mode,_),b.return=N,N=b}return o(N);case Fl:return A=j._init,y(N,b,A(j._payload),_)}if(hp(j))return x(N,b,j,_);if(Bm(j))return v(N,b,j,_);Fx(N,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(n(N,b.sibling),b=i(b,j),b.return=N,N=b):(n(N,b),b=qN(j,N.mode,_),b.return=N,N=b),o(N)):n(N,b)}return y}var Qh=bF(!0),wF=bF(!1),a0=Ec(null),o0=null,dh=null,YP=null;function QP(){YP=dh=o0=null}function XP(e){var t=a0.current;zn(a0),e._currentValue=t}function CC(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Sh(e,t){o0=e,YP=dh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xs=!0),e.firstContext=null)}function Ji(e){var t=e._currentValue;if(YP!==e)if(e={context:e,memoizedValue:t,next:null},dh===null){if(o0===null)throw Error(Ue(308));dh=e,o0.dependencies={lanes:0,firstContext:e}}else dh=dh.next=e;return t}var pu=null;function JP(e){pu===null?pu=[e]:pu.push(e)}function NF(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,JP(t)):(n.next=i.next,i.next=n),t.interleaved=n,rl(e,s)}function rl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bl=!1;function ZP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dc(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,an&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,rl(e,n)}return i=s.interleaved,i===null?(t.next=t,JP(s)):(t.next=i.next,i.next=t),s.interleaved=t,rl(e,n)}function Oy(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,LP(e,n)}}function OD(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function l0(e,t,n,s){var i=e.updateQueue;Bl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,g=l.eventTime;if((s&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(m=t,g=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(g,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,m=typeof x=="function"?x.call(g,f,m):x,m==null)break e;f=tr({},f,m);break e;case 2:Bl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);zu|=o,e.lanes=o,e.memoizedState=f}}function DD(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(Ue(191,i));i.call(s)}}}var iv={},uo=Ec(iv),Jp=Ec(iv),Zp=Ec(iv);function gu(e){if(e===iv)throw Error(Ue(174));return e}function eA(e,t){switch(Mn(Zp,t),Mn(Jp,e),Mn(uo,iv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:iC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=iC(t,e)}zn(uo),Mn(uo,t)}function Xh(){zn(uo),zn(Jp),zn(Zp)}function CF(e){gu(Zp.current);var t=gu(uo.current),n=iC(t,e.type);t!==n&&(Mn(Jp,e),Mn(uo,n))}function tA(e){Jp.current===e&&(zn(uo),zn(Jp))}var Zn=Ec(0);function c0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var LN=[];function nA(){for(var e=0;e<LN.length;e++)LN[e]._workInProgressVersionPrimary=null;LN.length=0}var Dy=fl.ReactCurrentDispatcher,FN=fl.ReactCurrentBatchConfig,Bu=0,er=null,kr=null,zr=null,u0=!1,Cp=!1,eg=0,see=0;function cs(){throw Error(Ue(321))}function rA(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Da(e[n],t[n]))return!1;return!0}function sA(e,t,n,s,i,a){if(Bu=a,er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dy.current=e===null||e.memoizedState===null?lee:cee,e=n(s,i),Cp){a=0;do{if(Cp=!1,eg=0,25<=a)throw Error(Ue(301));a+=1,zr=kr=null,t.updateQueue=null,Dy.current=uee,e=n(s,i)}while(Cp)}if(Dy.current=d0,t=kr!==null&&kr.next!==null,Bu=0,zr=kr=er=null,u0=!1,t)throw Error(Ue(300));return e}function iA(){var e=eg!==0;return eg=0,e}function Qa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?er.memoizedState=zr=e:zr=zr.next=e,zr}function Zi(){if(kr===null){var e=er.alternate;e=e!==null?e.memoizedState:null}else e=kr.next;var t=zr===null?er.memoizedState:zr.next;if(t!==null)zr=t,kr=e;else{if(e===null)throw Error(Ue(310));kr=e,e={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},zr===null?er.memoizedState=zr=e:zr=zr.next=e}return zr}function tg(e,t){return typeof t=="function"?t(e):t}function BN(e){var t=Zi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var s=kr,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Bu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,er.lanes|=d,zu|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,Da(s,t.memoizedState)||(Xs=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do a=i.lane,er.lanes|=a,zu|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zN(e){var t=Zi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Da(a,t.memoizedState)||(Xs=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function _F(){}function PF(e,t){var n=er,s=Zi(),i=t(),a=!Da(s.memoizedState,i);if(a&&(s.memoizedState=i,Xs=!0),s=s.queue,aA(kF.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||zr!==null&&zr.memoizedState.tag&1){if(n.flags|=2048,ng(9,EF.bind(null,n,s,i,t),void 0,null),Wr===null)throw Error(Ue(349));Bu&30||AF(n,t,i)}return i}function AF(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function EF(e,t,n,s){t.value=n,t.getSnapshot=s,TF(t)&&OF(e)}function kF(e,t,n){return n(function(){TF(t)&&OF(e)})}function TF(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Da(e,n)}catch{return!0}}function OF(e){var t=rl(e,1);t!==null&&Ea(t,e,1,-1)}function MD(e){var t=Qa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tg,lastRenderedState:e},t.queue=e,e=e.dispatch=oee.bind(null,er,e),[t.memoizedState,e]}function ng(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function DF(){return Zi().memoizedState}function My(e,t,n,s){var i=Qa();er.flags|=e,i.memoizedState=ng(1|t,n,void 0,s===void 0?null:s)}function Jj(e,t,n,s){var i=Zi();s=s===void 0?null:s;var a=void 0;if(kr!==null){var o=kr.memoizedState;if(a=o.destroy,s!==null&&rA(s,o.deps)){i.memoizedState=ng(t,n,a,s);return}}er.flags|=e,i.memoizedState=ng(1|t,n,a,s)}function ID(e,t){return My(8390656,8,e,t)}function aA(e,t){return Jj(2048,8,e,t)}function MF(e,t){return Jj(4,2,e,t)}function IF(e,t){return Jj(4,4,e,t)}function $F(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RF(e,t,n){return n=n!=null?n.concat([e]):null,Jj(4,4,$F.bind(null,t,e),n)}function oA(){}function LF(e,t){var n=Zi();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&rA(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function FF(e,t){var n=Zi();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&rA(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function BF(e,t,n){return Bu&21?(Da(n,t)||(n=WL(),er.lanes|=n,zu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xs=!0),e.memoizedState=n)}function iee(e,t){var n=bn;bn=n!==0&&4>n?n:4,e(!0);var s=FN.transition;FN.transition={};try{e(!1),t()}finally{bn=n,FN.transition=s}}function zF(){return Zi().memoizedState}function aee(e,t,n){var s=fc(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},VF(e))UF(t,n);else if(n=NF(e,t,n,s),n!==null){var i=Is();Ea(n,e,s,i),qF(n,t,s)}}function oee(e,t,n){var s=fc(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(VF(e))UF(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Da(l,o)){var c=t.interleaved;c===null?(i.next=i,JP(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=NF(e,t,i,s),n!==null&&(i=Is(),Ea(n,e,s,i),qF(n,t,s))}}function VF(e){var t=e.alternate;return e===er||t!==null&&t===er}function UF(e,t){Cp=u0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qF(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,LP(e,n)}}var d0={readContext:Ji,useCallback:cs,useContext:cs,useEffect:cs,useImperativeHandle:cs,useInsertionEffect:cs,useLayoutEffect:cs,useMemo:cs,useReducer:cs,useRef:cs,useState:cs,useDebugValue:cs,useDeferredValue:cs,useTransition:cs,useMutableSource:cs,useSyncExternalStore:cs,useId:cs,unstable_isNewReconciler:!1},lee={readContext:Ji,useCallback:function(e,t){return Qa().memoizedState=[e,t===void 0?null:t],e},useContext:Ji,useEffect:ID,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,My(4194308,4,$F.bind(null,t,e),n)},useLayoutEffect:function(e,t){return My(4194308,4,e,t)},useInsertionEffect:function(e,t){return My(4,2,e,t)},useMemo:function(e,t){var n=Qa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Qa();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=aee.bind(null,er,e),[s.memoizedState,e]},useRef:function(e){var t=Qa();return e={current:e},t.memoizedState=e},useState:MD,useDebugValue:oA,useDeferredValue:function(e){return Qa().memoizedState=e},useTransition:function(){var e=MD(!1),t=e[0];return e=iee.bind(null,e[1]),Qa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=er,i=Qa();if(qn){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),Wr===null)throw Error(Ue(349));Bu&30||AF(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ID(kF.bind(null,s,a,e),[e]),s.flags|=2048,ng(9,EF.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Qa(),t=Wr.identifierPrefix;if(qn){var n=Go,s=Ho;n=(s&~(1<<32-Aa(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=eg++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=see++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cee={readContext:Ji,useCallback:LF,useContext:Ji,useEffect:aA,useImperativeHandle:RF,useInsertionEffect:MF,useLayoutEffect:IF,useMemo:FF,useReducer:BN,useRef:DF,useState:function(){return BN(tg)},useDebugValue:oA,useDeferredValue:function(e){var t=Zi();return BF(t,kr.memoizedState,e)},useTransition:function(){var e=BN(tg)[0],t=Zi().memoizedState;return[e,t]},useMutableSource:_F,useSyncExternalStore:PF,useId:zF,unstable_isNewReconciler:!1},uee={readContext:Ji,useCallback:LF,useContext:Ji,useEffect:aA,useImperativeHandle:RF,useInsertionEffect:MF,useLayoutEffect:IF,useMemo:FF,useReducer:zN,useRef:DF,useState:function(){return zN(tg)},useDebugValue:oA,useDeferredValue:function(e){var t=Zi();return kr===null?t.memoizedState=e:BF(t,kr.memoizedState,e)},useTransition:function(){var e=zN(tg)[0],t=Zi().memoizedState;return[e,t]},useMutableSource:_F,useSyncExternalStore:PF,useId:zF,unstable_isNewReconciler:!1};function ga(e,t){if(e&&e.defaultProps){t=tr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _C(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:tr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zj={isMounted:function(e){return(e=e._reactInternals)?od(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Is(),i=fc(e),a=Xo(s,i);a.payload=t,n!=null&&(a.callback=n),t=dc(e,a,i),t!==null&&(Ea(t,e,i,s),Oy(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Is(),i=fc(e),a=Xo(s,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=dc(e,a,i),t!==null&&(Ea(t,e,i,s),Oy(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Is(),s=fc(e),i=Xo(n,s);i.tag=2,t!=null&&(i.callback=t),t=dc(e,i,s),t!==null&&(Ea(t,e,s,n),Oy(t,e,s))}};function $D(e,t,n,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!Kp(n,s)||!Kp(i,a):!0}function WF(e,t,n){var s=!1,i=jc,a=t.contextType;return typeof a=="object"&&a!==null?a=Ji(a):(i=ei(t)?Lu:vs.current,s=t.contextTypes,a=(s=s!=null)?Kh(e,i):jc),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zj,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function RD(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Zj.enqueueReplaceState(t,t.state,null)}function PC(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ZP(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ji(a):(a=ei(t)?Lu:vs.current,i.context=Kh(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(_C(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Zj.enqueueReplaceState(i,i.state,null),l0(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Jh(e,t){try{var n="",s=t;do n+=LJ(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function VN(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function AC(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dee=typeof WeakMap=="function"?WeakMap:Map;function HF(e,t,n){n=Xo(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){f0||(f0=!0,LC=s),AC(e,t)},n}function GF(e,t,n){n=Xo(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){AC(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){AC(e,t),typeof s!="function"&&(hc===null?hc=new Set([this]):hc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function LD(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new dee;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=Cee.bind(null,e,t,n),t.then(e,e))}function FD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function BD(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xo(-1,1),t.tag=2,dc(n,t,1))),n.lanes|=1),e)}var hee=fl.ReactCurrentOwner,Xs=!1;function Es(e,t,n,s){t.child=e===null?wF(t,null,n,s):Qh(t,e.child,n,s)}function zD(e,t,n,s,i){n=n.render;var a=t.ref;return Sh(t,i),s=sA(e,t,n,s,a,i),n=iA(),e!==null&&!Xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sl(e,t,i)):(qn&&n&&HP(t),t.flags|=1,Es(e,t,s,i),t.child)}function VD(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!pA(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,KF(e,t,a,s,i)):(e=Ly(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Kp,n(o,s)&&e.ref===t.ref)return sl(e,t,i)}return t.flags|=1,e=mc(a,s),e.ref=t.ref,e.return=t,t.child=e}function KF(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(Kp(a,s)&&e.ref===t.ref)if(Xs=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(Xs=!0);else return t.lanes=e.lanes,sl(e,t,i)}return EC(e,t,n,s,i)}function YF(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mn(fh,pi),pi|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mn(fh,pi),pi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,Mn(fh,pi),pi|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,Mn(fh,pi),pi|=s;return Es(e,t,i,n),t.child}function QF(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function EC(e,t,n,s,i){var a=ei(n)?Lu:vs.current;return a=Kh(t,a),Sh(t,i),n=sA(e,t,n,s,a,i),s=iA(),e!==null&&!Xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sl(e,t,i)):(qn&&s&&HP(t),t.flags|=1,Es(e,t,n,i),t.child)}function UD(e,t,n,s,i){if(ei(n)){var a=!0;r0(t)}else a=!1;if(Sh(t,i),t.stateNode===null)Iy(e,t),WF(t,n,s),PC(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ji(u):(u=ei(n)?Lu:vs.current,u=Kh(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&RD(t,o,s,u),Bl=!1;var m=t.memoizedState;o.state=m,l0(t,s,o,i),c=t.memoizedState,l!==s||m!==c||Zs.current||Bl?(typeof d=="function"&&(_C(t,n,d,s),c=t.memoizedState),(l=Bl||$D(t,n,l,s,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,SF(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ga(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ji(c):(c=ei(n)?Lu:vs.current,c=Kh(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&RD(t,o,s,c),Bl=!1,m=t.memoizedState,o.state=m,l0(t,s,o,i);var x=t.memoizedState;l!==f||m!==x||Zs.current||Bl?(typeof g=="function"&&(_C(t,n,g,s),x=t.memoizedState),(u=Bl||$D(t,n,u,s,m,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return kC(e,t,n,s,a,i)}function kC(e,t,n,s,i,a){QF(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&AD(t,n,!1),sl(e,t,a);s=t.stateNode,hee.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Qh(t,e.child,null,a),t.child=Qh(t,null,l,a)):Es(e,t,l,a),t.memoizedState=s.state,i&&AD(t,n,!0),t.child}function XF(e){var t=e.stateNode;t.pendingContext?PD(e,t.pendingContext,t.pendingContext!==t.context):t.context&&PD(e,t.context,!1),eA(e,t.containerInfo)}function qD(e,t,n,s,i){return Yh(),KP(i),t.flags|=256,Es(e,t,n,s),t.child}var TC={dehydrated:null,treeContext:null,retryLane:0};function OC(e){return{baseLanes:e,cachePool:null,transitions:null}}function JF(e,t,n){var s=t.pendingProps,i=Zn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Mn(Zn,i&1),e===null)return SC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=nb(o,s,0,null),e=Mu(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=OC(n),t.memoizedState=TC,e):lA(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return fee(e,t,o,s,l,i,n);if(a){a=s.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=mc(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=mc(l,a):(a=Mu(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?OC(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=TC,s}return a=e.child,e=a.sibling,s=mc(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function lA(e,t){return t=nb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bx(e,t,n,s){return s!==null&&KP(s),Qh(t,e.child,null,n),e=lA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fee(e,t,n,s,i,a,o){if(n)return t.flags&256?(t.flags&=-257,s=VN(Error(Ue(422))),Bx(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=nb({mode:"visible",children:s.children},i,0,null),a=Mu(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Qh(t,e.child,null,o),t.child.memoizedState=OC(o),t.memoizedState=TC,a);if(!(t.mode&1))return Bx(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(Ue(419)),s=VN(a,s,void 0),Bx(e,t,o,s)}if(l=(o&e.childLanes)!==0,Xs||l){if(s=Wr,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,rl(e,i),Ea(s,e,i,-1))}return mA(),s=VN(Error(Ue(421))),Bx(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=_ee.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ji=uc(i.nextSibling),bi=t,qn=!0,Na=null,e!==null&&(Ui[qi++]=Ho,Ui[qi++]=Go,Ui[qi++]=Fu,Ho=e.id,Go=e.overflow,Fu=t),t=lA(t,s.children),t.flags|=4096,t)}function WD(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),CC(e.return,t,n)}function UN(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function ZF(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(Es(e,t,s.children,n),s=Zn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&WD(e,n,t);else if(e.tag===19)WD(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Mn(Zn,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&c0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),UN(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&c0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}UN(t,!0,n,null,a);break;case"together":UN(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Iy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=mc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mee(e,t,n){switch(t.tag){case 3:XF(t),Yh();break;case 5:CF(t);break;case 1:ei(t.type)&&r0(t);break;case 4:eA(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;Mn(a0,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Mn(Zn,Zn.current&1),t.flags|=128,null):n&t.child.childLanes?JF(e,t,n):(Mn(Zn,Zn.current&1),e=sl(e,t,n),e!==null?e.sibling:null);Mn(Zn,Zn.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return ZF(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mn(Zn,Zn.current),s)break;return null;case 22:case 23:return t.lanes=0,YF(e,t,n)}return sl(e,t,n)}var e5,DC,t5,n5;e5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};DC=function(){};t5=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,gu(uo.current);var a=null;switch(n){case"input":i=tC(e,i),s=tC(e,s),a=[];break;case"select":i=tr({},i,{value:void 0}),s=tr({},s,{value:void 0}),a=[];break;case"textarea":i=sC(e,i),s=sC(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=t0)}aC(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zp.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ln("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};n5=function(e,t,n,s){n!==s&&(t.flags|=4)};function Hm(e,t){if(!qn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function us(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function pee(e,t,n){var s=t.pendingProps;switch(GP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return us(t),null;case 1:return ei(t.type)&&n0(),us(t),null;case 3:return s=t.stateNode,Xh(),zn(Zs),zn(vs),nA(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Lx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Na!==null&&(zC(Na),Na=null))),DC(e,t),us(t),null;case 5:tA(t);var i=gu(Zp.current);if(n=t.type,e!==null&&t.stateNode!=null)t5(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Ue(166));return us(t),null}if(e=gu(uo.current),Lx(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[to]=t,s[Xp]=a,e=(t.mode&1)!==0,n){case"dialog":Ln("cancel",s),Ln("close",s);break;case"iframe":case"object":case"embed":Ln("load",s);break;case"video":case"audio":for(i=0;i<mp.length;i++)Ln(mp[i],s);break;case"source":Ln("error",s);break;case"img":case"image":case"link":Ln("error",s),Ln("load",s);break;case"details":Ln("toggle",s);break;case"input":eD(s,a),Ln("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Ln("invalid",s);break;case"textarea":nD(s,a),Ln("invalid",s)}aC(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Rx(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Rx(s.textContent,l,e),i=["children",""+l]):zp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ln("scroll",s)}switch(n){case"input":Ex(s),tD(s,a,!0);break;case"textarea":Ex(s),rD(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=t0)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kL(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[to]=t,e[Xp]=s,e5(e,t,!1,!1),t.stateNode=e;e:{switch(o=oC(n,s),n){case"dialog":Ln("cancel",e),Ln("close",e),i=s;break;case"iframe":case"object":case"embed":Ln("load",e),i=s;break;case"video":case"audio":for(i=0;i<mp.length;i++)Ln(mp[i],e);i=s;break;case"source":Ln("error",e),i=s;break;case"img":case"image":case"link":Ln("error",e),Ln("load",e),i=s;break;case"details":Ln("toggle",e),i=s;break;case"input":eD(e,s),i=tC(e,s),Ln("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=tr({},s,{value:void 0}),Ln("invalid",e);break;case"textarea":nD(e,s),i=sC(e,s),Ln("invalid",e);break;default:i=s}aC(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?DL(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&TL(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vp(e,c):typeof c=="number"&&Vp(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(zp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ln("scroll",e):c!=null&&OP(e,a,c,o))}switch(n){case"input":Ex(e),tD(e,s,!1);break;case"textarea":Ex(e),rD(e);break;case"option":s.value!=null&&e.setAttribute("value",""+yc(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?jh(e,!!s.multiple,a,!1):s.defaultValue!=null&&jh(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=t0)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return us(t),null;case 6:if(e&&t.stateNode!=null)n5(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=gu(Zp.current),gu(uo.current),Lx(t)){if(s=t.stateNode,n=t.memoizedProps,s[to]=t,(a=s.nodeValue!==n)&&(e=bi,e!==null))switch(e.tag){case 3:Rx(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rx(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[to]=t,t.stateNode=s}return us(t),null;case 13:if(zn(Zn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qn&&ji!==null&&t.mode&1&&!(t.flags&128))jF(),Yh(),t.flags|=98560,a=!1;else if(a=Lx(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(Ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ue(317));a[to]=t}else Yh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;us(t),a=!1}else Na!==null&&(zC(Na),Na=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Zn.current&1?Dr===0&&(Dr=3):mA())),t.updateQueue!==null&&(t.flags|=4),us(t),null);case 4:return Xh(),DC(e,t),e===null&&Yp(t.stateNode.containerInfo),us(t),null;case 10:return XP(t.type._context),us(t),null;case 17:return ei(t.type)&&n0(),us(t),null;case 19:if(zn(Zn),a=t.memoizedState,a===null)return us(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)Hm(a,!1);else{if(Dr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=c0(e),o!==null){for(t.flags|=128,Hm(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mn(Zn,Zn.current&1|2),t.child}e=e.sibling}a.tail!==null&&fr()>Zh&&(t.flags|=128,s=!0,Hm(a,!1),t.lanes=4194304)}else{if(!s)if(e=c0(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hm(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!qn)return us(t),null}else 2*fr()-a.renderingStartTime>Zh&&n!==1073741824&&(t.flags|=128,s=!0,Hm(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=fr(),t.sibling=null,n=Zn.current,Mn(Zn,s?n&1|2:n&1),t):(us(t),null);case 22:case 23:return fA(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?pi&1073741824&&(us(t),t.subtreeFlags&6&&(t.flags|=8192)):us(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function gee(e,t){switch(GP(t),t.tag){case 1:return ei(t.type)&&n0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xh(),zn(Zs),zn(vs),nA(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tA(t),null;case 13:if(zn(Zn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Yh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zn(Zn),null;case 4:return Xh(),null;case 10:return XP(t.type._context),null;case 22:case 23:return fA(),null;case 24:return null;default:return null}}var zx=!1,ms=!1,vee=typeof WeakSet=="function"?WeakSet:Set,nt=null;function hh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ar(e,t,s)}else n.current=null}function MC(e,t,n){try{n()}catch(s){ar(e,t,s)}}var HD=!1;function xee(e,t){if(vC=Jy,e=oF(),WP(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==a||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===n&&++u===i&&(l=o),m===a&&++d===s&&(c=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xC={focusedElem:e,selectionRange:n},Jy=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){t=nt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,y=x.memoizedState,N=t.stateNode,b=N.getSnapshotBeforeUpdate(t.elementType===t.type?v:ga(t.type,v),y);N.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(_){ar(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}return x=HD,HD=!1,x}function _p(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&MC(t,n,a)}i=i.next}while(i!==s)}}function eb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function IC(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function r5(e){var t=e.alternate;t!==null&&(e.alternate=null,r5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[to],delete t[Xp],delete t[bC],delete t[eee],delete t[tee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function s5(e){return e.tag===5||e.tag===3||e.tag===4}function GD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||s5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $C(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=t0));else if(s!==4&&(e=e.child,e!==null))for($C(e,t,n),e=e.sibling;e!==null;)$C(e,t,n),e=e.sibling}function RC(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(RC(e,t,n),e=e.sibling;e!==null;)RC(e,t,n),e=e.sibling}var ts=null,ya=!1;function kl(e,t,n){for(n=n.child;n!==null;)i5(e,t,n),n=n.sibling}function i5(e,t,n){if(co&&typeof co.onCommitFiberUnmount=="function")try{co.onCommitFiberUnmount(Hj,n)}catch{}switch(n.tag){case 5:ms||hh(n,t);case 6:var s=ts,i=ya;ts=null,kl(e,t,n),ts=s,ya=i,ts!==null&&(ya?(e=ts,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ts.removeChild(n.stateNode));break;case 18:ts!==null&&(ya?(e=ts,n=n.stateNode,e.nodeType===8?$N(e.parentNode,n):e.nodeType===1&&$N(e,n),Hp(e)):$N(ts,n.stateNode));break;case 4:s=ts,i=ya,ts=n.stateNode.containerInfo,ya=!0,kl(e,t,n),ts=s,ya=i;break;case 0:case 11:case 14:case 15:if(!ms&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&MC(n,t,o),i=i.next}while(i!==s)}kl(e,t,n);break;case 1:if(!ms&&(hh(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){ar(n,t,l)}kl(e,t,n);break;case 21:kl(e,t,n);break;case 22:n.mode&1?(ms=(s=ms)||n.memoizedState!==null,kl(e,t,n),ms=s):kl(e,t,n);break;default:kl(e,t,n)}}function KD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vee),t.forEach(function(s){var i=Pee.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function da(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ts=l.stateNode,ya=!1;break e;case 3:ts=l.stateNode.containerInfo,ya=!0;break e;case 4:ts=l.stateNode.containerInfo,ya=!0;break e}l=l.return}if(ts===null)throw Error(Ue(160));i5(a,o,i),ts=null,ya=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ar(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)a5(t,e),t=t.sibling}function a5(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(da(t,e),Ya(e),s&4){try{_p(3,e,e.return),eb(3,e)}catch(v){ar(e,e.return,v)}try{_p(5,e,e.return)}catch(v){ar(e,e.return,v)}}break;case 1:da(t,e),Ya(e),s&512&&n!==null&&hh(n,n.return);break;case 5:if(da(t,e),Ya(e),s&512&&n!==null&&hh(n,n.return),e.flags&32){var i=e.stateNode;try{Vp(i,"")}catch(v){ar(e,e.return,v)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&AL(i,a),oC(l,o);var u=oC(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?DL(i,f):d==="dangerouslySetInnerHTML"?TL(i,f):d==="children"?Vp(i,f):OP(i,d,f,u)}switch(l){case"input":nC(i,a);break;case"textarea":EL(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?jh(i,!!a.multiple,g,!1):m!==!!a.multiple&&(a.defaultValue!=null?jh(i,!!a.multiple,a.defaultValue,!0):jh(i,!!a.multiple,a.multiple?[]:"",!1))}i[Xp]=a}catch(v){ar(e,e.return,v)}}break;case 6:if(da(t,e),Ya(e),s&4){if(e.stateNode===null)throw Error(Ue(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){ar(e,e.return,v)}}break;case 3:if(da(t,e),Ya(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Hp(t.containerInfo)}catch(v){ar(e,e.return,v)}break;case 4:da(t,e),Ya(e);break;case 13:da(t,e),Ya(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(dA=fr())),s&4&&KD(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ms=(u=ms)||d,da(t,e),ms=u):da(t,e),Ya(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(nt=e,d=e.child;d!==null;){for(f=nt=d;nt!==null;){switch(m=nt,g=m.child,m.tag){case 0:case 11:case 14:case 15:_p(4,m,m.return);break;case 1:hh(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){s=m,n=m.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){ar(s,n,v)}}break;case 5:hh(m,m.return);break;case 22:if(m.memoizedState!==null){QD(f);continue}}g!==null?(g.return=m,nt=g):QD(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=OL("display",o))}catch(v){ar(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ar(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:da(t,e),Ya(e),s&4&&KD(e);break;case 21:break;default:da(t,e),Ya(e)}}function Ya(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(s5(n)){var s=n;break e}n=n.return}throw Error(Ue(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Vp(i,""),s.flags&=-33);var a=GD(e);RC(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=GD(e);$C(e,l,o);break;default:throw Error(Ue(161))}}catch(c){ar(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yee(e,t,n){nt=e,o5(e)}function o5(e,t,n){for(var s=(e.mode&1)!==0;nt!==null;){var i=nt,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||zx;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ms;l=zx;var u=ms;if(zx=o,(ms=c)&&!u)for(nt=i;nt!==null;)o=nt,c=o.child,o.tag===22&&o.memoizedState!==null?XD(i):c!==null?(c.return=o,nt=c):XD(i);for(;a!==null;)nt=a,o5(a),a=a.sibling;nt=i,zx=l,ms=u}YD(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,nt=a):YD(e)}}function YD(e){for(;nt!==null;){var t=nt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ms||eb(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ms)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&DD(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}DD(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Hp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}ms||t.flags&512&&IC(t)}catch(m){ar(t,t.return,m)}}if(t===e){nt=null;break}if(n=t.sibling,n!==null){n.return=t.return,nt=n;break}nt=t.return}}function QD(e){for(;nt!==null;){var t=nt;if(t===e){nt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,nt=n;break}nt=t.return}}function XD(e){for(;nt!==null;){var t=nt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eb(4,t)}catch(c){ar(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){ar(t,i,c)}}var a=t.return;try{IC(t)}catch(c){ar(t,a,c)}break;case 5:var o=t.return;try{IC(t)}catch(c){ar(t,o,c)}}}catch(c){ar(t,t.return,c)}if(t===e){nt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,nt=l;break}nt=t.return}}var jee=Math.ceil,h0=fl.ReactCurrentDispatcher,cA=fl.ReactCurrentOwner,Yi=fl.ReactCurrentBatchConfig,an=0,Wr=null,yr=null,ns=0,pi=0,fh=Ec(0),Dr=0,rg=null,zu=0,tb=0,uA=0,Pp=null,Ys=null,dA=0,Zh=1/0,Lo=null,f0=!1,LC=null,hc=null,Vx=!1,nc=null,m0=0,Ap=0,FC=null,$y=-1,Ry=0;function Is(){return an&6?fr():$y!==-1?$y:$y=fr()}function fc(e){return e.mode&1?an&2&&ns!==0?ns&-ns:ree.transition!==null?(Ry===0&&(Ry=WL()),Ry):(e=bn,e!==0||(e=window.event,e=e===void 0?16:JL(e.type)),e):1}function Ea(e,t,n,s){if(50<Ap)throw Ap=0,FC=null,Error(Ue(185));nv(e,n,s),(!(an&2)||e!==Wr)&&(e===Wr&&(!(an&2)&&(tb|=n),Dr===4&&Ul(e,ns)),ti(e,s),n===1&&an===0&&!(t.mode&1)&&(Zh=fr()+500,Xj&&kc()))}function ti(e,t){var n=e.callbackNode;rZ(e,t);var s=Xy(e,e===Wr?ns:0);if(s===0)n!==null&&aD(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&aD(n),t===1)e.tag===0?nee(JD.bind(null,e)):vF(JD.bind(null,e)),JZ(function(){!(an&6)&&kc()}),n=null;else{switch(HL(s)){case 1:n=RP;break;case 4:n=UL;break;case 16:n=Qy;break;case 536870912:n=qL;break;default:n=Qy}n=p5(n,l5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function l5(e,t){if($y=-1,Ry=0,an&6)throw Error(Ue(327));var n=e.callbackNode;if(Ch()&&e.callbackNode!==n)return null;var s=Xy(e,e===Wr?ns:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=p0(e,s);else{t=s;var i=an;an|=2;var a=u5();(Wr!==e||ns!==t)&&(Lo=null,Zh=fr()+500,Du(e,t));do try{Nee();break}catch(l){c5(e,l)}while(!0);QP(),h0.current=a,an=i,yr!==null?t=0:(Wr=null,ns=0,t=Dr)}if(t!==0){if(t===2&&(i=hC(e),i!==0&&(s=i,t=BC(e,i))),t===1)throw n=rg,Du(e,0),Ul(e,s),ti(e,fr()),n;if(t===6)Ul(e,s);else{if(i=e.current.alternate,!(s&30)&&!bee(i)&&(t=p0(e,s),t===2&&(a=hC(e),a!==0&&(s=a,t=BC(e,a))),t===1))throw n=rg,Du(e,0),Ul(e,s),ti(e,fr()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(Ue(345));case 2:au(e,Ys,Lo);break;case 3:if(Ul(e,s),(s&130023424)===s&&(t=dA+500-fr(),10<t)){if(Xy(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){Is(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=jC(au.bind(null,e,Ys,Lo),t);break}au(e,Ys,Lo);break;case 4:if(Ul(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-Aa(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=fr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*jee(s/1960))-s,10<s){e.timeoutHandle=jC(au.bind(null,e,Ys,Lo),s);break}au(e,Ys,Lo);break;case 5:au(e,Ys,Lo);break;default:throw Error(Ue(329))}}}return ti(e,fr()),e.callbackNode===n?l5.bind(null,e):null}function BC(e,t){var n=Pp;return e.current.memoizedState.isDehydrated&&(Du(e,t).flags|=256),e=p0(e,t),e!==2&&(t=Ys,Ys=n,t!==null&&zC(t)),e}function zC(e){Ys===null?Ys=e:Ys.push.apply(Ys,e)}function bee(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!Da(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ul(e,t){for(t&=~uA,t&=~tb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Aa(t),s=1<<n;e[n]=-1,t&=~s}}function JD(e){if(an&6)throw Error(Ue(327));Ch();var t=Xy(e,0);if(!(t&1))return ti(e,fr()),null;var n=p0(e,t);if(e.tag!==0&&n===2){var s=hC(e);s!==0&&(t=s,n=BC(e,s))}if(n===1)throw n=rg,Du(e,0),Ul(e,t),ti(e,fr()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,au(e,Ys,Lo),ti(e,fr()),null}function hA(e,t){var n=an;an|=1;try{return e(t)}finally{an=n,an===0&&(Zh=fr()+500,Xj&&kc())}}function Vu(e){nc!==null&&nc.tag===0&&!(an&6)&&Ch();var t=an;an|=1;var n=Yi.transition,s=bn;try{if(Yi.transition=null,bn=1,e)return e()}finally{bn=s,Yi.transition=n,an=t,!(an&6)&&kc()}}function fA(){pi=fh.current,zn(fh)}function Du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,XZ(n)),yr!==null)for(n=yr.return;n!==null;){var s=n;switch(GP(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&n0();break;case 3:Xh(),zn(Zs),zn(vs),nA();break;case 5:tA(s);break;case 4:Xh();break;case 13:zn(Zn);break;case 19:zn(Zn);break;case 10:XP(s.type._context);break;case 22:case 23:fA()}n=n.return}if(Wr=e,yr=e=mc(e.current,null),ns=pi=t,Dr=0,rg=null,uA=tb=zu=0,Ys=Pp=null,pu!==null){for(t=0;t<pu.length;t++)if(n=pu[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}pu=null}return e}function c5(e,t){do{var n=yr;try{if(QP(),Dy.current=d0,u0){for(var s=er.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}u0=!1}if(Bu=0,zr=kr=er=null,Cp=!1,eg=0,cA.current=null,n===null||n.return===null){Dr=1,rg=t,yr=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=ns,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=FD(o);if(g!==null){g.flags&=-257,BD(g,o,l,a,t),g.mode&1&&LD(a,u,t),t=g,c=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(c),t.updateQueue=v}else x.add(c);break e}else{if(!(t&1)){LD(a,u,t),mA();break e}c=Error(Ue(426))}}else if(qn&&l.mode&1){var y=FD(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),BD(y,o,l,a,t),KP(Jh(c,l));break e}}a=c=Jh(c,l),Dr!==4&&(Dr=2),Pp===null?Pp=[a]:Pp.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var N=HF(a,c,t);OD(a,N);break e;case 1:l=c;var b=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(hc===null||!hc.has(j)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=GF(a,l,t);OD(a,_);break e}}a=a.return}while(a!==null)}h5(n)}catch(C){t=C,yr===n&&n!==null&&(yr=n=n.return);continue}break}while(!0)}function u5(){var e=h0.current;return h0.current=d0,e===null?d0:e}function mA(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),Wr===null||!(zu&268435455)&&!(tb&268435455)||Ul(Wr,ns)}function p0(e,t){var n=an;an|=2;var s=u5();(Wr!==e||ns!==t)&&(Lo=null,Du(e,t));do try{wee();break}catch(i){c5(e,i)}while(!0);if(QP(),an=n,h0.current=s,yr!==null)throw Error(Ue(261));return Wr=null,ns=0,Dr}function wee(){for(;yr!==null;)d5(yr)}function Nee(){for(;yr!==null&&!KJ();)d5(yr)}function d5(e){var t=m5(e.alternate,e,pi);e.memoizedProps=e.pendingProps,t===null?h5(e):yr=t,cA.current=null}function h5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gee(n,t),n!==null){n.flags&=32767,yr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dr=6,yr=null;return}}else if(n=pee(n,t,pi),n!==null){yr=n;return}if(t=t.sibling,t!==null){yr=t;return}yr=t=e}while(t!==null);Dr===0&&(Dr=5)}function au(e,t,n){var s=bn,i=Yi.transition;try{Yi.transition=null,bn=1,See(e,t,n,s)}finally{Yi.transition=i,bn=s}return null}function See(e,t,n,s){do Ch();while(nc!==null);if(an&6)throw Error(Ue(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(sZ(e,a),e===Wr&&(yr=Wr=null,ns=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vx||(Vx=!0,p5(Qy,function(){return Ch(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Yi.transition,Yi.transition=null;var o=bn;bn=1;var l=an;an|=4,cA.current=null,xee(e,n),a5(n,e),qZ(xC),Jy=!!vC,xC=vC=null,e.current=n,yee(n),YJ(),an=l,bn=o,Yi.transition=a}else e.current=n;if(Vx&&(Vx=!1,nc=e,m0=i),a=e.pendingLanes,a===0&&(hc=null),JJ(n.stateNode),ti(e,fr()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(f0)throw f0=!1,e=LC,LC=null,e;return m0&1&&e.tag!==0&&Ch(),a=e.pendingLanes,a&1?e===FC?Ap++:(Ap=0,FC=e):Ap=0,kc(),null}function Ch(){if(nc!==null){var e=HL(m0),t=Yi.transition,n=bn;try{if(Yi.transition=null,bn=16>e?16:e,nc===null)var s=!1;else{if(e=nc,nc=null,m0=0,an&6)throw Error(Ue(331));var i=an;for(an|=4,nt=e.current;nt!==null;){var a=nt,o=a.child;if(nt.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(nt=u;nt!==null;){var d=nt;switch(d.tag){case 0:case 11:case 15:_p(8,d,a)}var f=d.child;if(f!==null)f.return=d,nt=f;else for(;nt!==null;){d=nt;var m=d.sibling,g=d.return;if(r5(d),d===u){nt=null;break}if(m!==null){m.return=g,nt=m;break}nt=g}}}var x=a.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}nt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,nt=o;else e:for(;nt!==null;){if(a=nt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:_p(9,a,a.return)}var N=a.sibling;if(N!==null){N.return=a.return,nt=N;break e}nt=a.return}}var b=e.current;for(nt=b;nt!==null;){o=nt;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,nt=j;else e:for(o=b;nt!==null;){if(l=nt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:eb(9,l)}}catch(C){ar(l,l.return,C)}if(l===o){nt=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,nt=_;break e}nt=l.return}}if(an=i,kc(),co&&typeof co.onPostCommitFiberRoot=="function")try{co.onPostCommitFiberRoot(Hj,e)}catch{}s=!0}return s}finally{bn=n,Yi.transition=t}}return!1}function ZD(e,t,n){t=Jh(n,t),t=HF(e,t,1),e=dc(e,t,1),t=Is(),e!==null&&(nv(e,1,t),ti(e,t))}function ar(e,t,n){if(e.tag===3)ZD(e,e,n);else for(;t!==null;){if(t.tag===3){ZD(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(hc===null||!hc.has(s))){e=Jh(n,e),e=GF(t,e,1),t=dc(t,e,1),e=Is(),t!==null&&(nv(t,1,e),ti(t,e));break}}t=t.return}}function Cee(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Is(),e.pingedLanes|=e.suspendedLanes&n,Wr===e&&(ns&n)===n&&(Dr===4||Dr===3&&(ns&130023424)===ns&&500>fr()-dA?Du(e,0):uA|=n),ti(e,t)}function f5(e,t){t===0&&(e.mode&1?(t=Ox,Ox<<=1,!(Ox&130023424)&&(Ox=4194304)):t=1);var n=Is();e=rl(e,t),e!==null&&(nv(e,t,n),ti(e,n))}function _ee(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),f5(e,n)}function Pee(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Ue(314))}s!==null&&s.delete(t),f5(e,n)}var m5;m5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zs.current)Xs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xs=!1,mee(e,t,n);Xs=!!(e.flags&131072)}else Xs=!1,qn&&t.flags&1048576&&xF(t,i0,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Iy(e,t),e=t.pendingProps;var i=Kh(t,vs.current);Sh(t,n),i=sA(null,t,s,e,i,n);var a=iA();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ei(s)?(a=!0,r0(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ZP(t),i.updater=Zj,t.stateNode=i,i._reactInternals=t,PC(t,s,e,n),t=kC(null,t,s,!0,a,n)):(t.tag=0,qn&&a&&HP(t),Es(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Iy(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=Eee(s),e=ga(s,e),i){case 0:t=EC(null,t,s,e,n);break e;case 1:t=UD(null,t,s,e,n);break e;case 11:t=zD(null,t,s,e,n);break e;case 14:t=VD(null,t,s,ga(s.type,e),n);break e}throw Error(Ue(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ga(s,i),EC(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ga(s,i),UD(e,t,s,i,n);case 3:e:{if(XF(t),e===null)throw Error(Ue(387));s=t.pendingProps,a=t.memoizedState,i=a.element,SF(e,t),l0(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Jh(Error(Ue(423)),t),t=qD(e,t,s,n,i);break e}else if(s!==i){i=Jh(Error(Ue(424)),t),t=qD(e,t,s,n,i);break e}else for(ji=uc(t.stateNode.containerInfo.firstChild),bi=t,qn=!0,Na=null,n=wF(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yh(),s===i){t=sl(e,t,n);break e}Es(e,t,s,n)}t=t.child}return t;case 5:return CF(t),e===null&&SC(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,yC(s,i)?o=null:a!==null&&yC(s,a)&&(t.flags|=32),QF(e,t),Es(e,t,o,n),t.child;case 6:return e===null&&SC(t),null;case 13:return JF(e,t,n);case 4:return eA(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Qh(t,null,s,n):Es(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ga(s,i),zD(e,t,s,i,n);case 7:return Es(e,t,t.pendingProps,n),t.child;case 8:return Es(e,t,t.pendingProps.children,n),t.child;case 12:return Es(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Mn(a0,s._currentValue),s._currentValue=o,a!==null)if(Da(a.value,o)){if(a.children===i.children&&!Zs.current){t=sl(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Xo(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),CC(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ue(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),CC(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Es(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Sh(t,n),i=Ji(i),s=s(i),t.flags|=1,Es(e,t,s,n),t.child;case 14:return s=t.type,i=ga(s,t.pendingProps),i=ga(s.type,i),VD(e,t,s,i,n);case 15:return KF(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ga(s,i),Iy(e,t),t.tag=1,ei(s)?(e=!0,r0(t)):e=!1,Sh(t,n),WF(t,s,i),PC(t,s,i,n),kC(null,t,s,!0,e,n);case 19:return ZF(e,t,n);case 22:return YF(e,t,n)}throw Error(Ue(156,t.tag))};function p5(e,t){return VL(e,t)}function Aee(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(e,t,n,s){return new Aee(e,t,n,s)}function pA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Eee(e){if(typeof e=="function")return pA(e)?1:0;if(e!=null){if(e=e.$$typeof,e===MP)return 11;if(e===IP)return 14}return 2}function mc(e,t){var n=e.alternate;return n===null?(n=Hi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ly(e,t,n,s,i,a){var o=2;if(s=e,typeof e=="function")pA(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rh:return Mu(n.children,i,a,t);case DP:o=8,i|=8;break;case XS:return e=Hi(12,n,t,i|2),e.elementType=XS,e.lanes=a,e;case JS:return e=Hi(13,n,t,i),e.elementType=JS,e.lanes=a,e;case ZS:return e=Hi(19,n,t,i),e.elementType=ZS,e.lanes=a,e;case CL:return nb(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NL:o=10;break e;case SL:o=9;break e;case MP:o=11;break e;case IP:o=14;break e;case Fl:o=16,s=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=Hi(o,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function Mu(e,t,n,s){return e=Hi(7,e,s,t),e.lanes=n,e}function nb(e,t,n,s){return e=Hi(22,e,s,t),e.elementType=CL,e.lanes=n,e.stateNode={isHidden:!1},e}function qN(e,t,n){return e=Hi(6,e,null,t),e.lanes=n,e}function WN(e,t,n){return t=Hi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kee(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=CN(0),this.expirationTimes=CN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=CN(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gA(e,t,n,s,i,a,o,l,c){return e=new kee(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Hi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZP(a),e}function Tee(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nh,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function g5(e){if(!e)return jc;e=e._reactInternals;e:{if(od(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ei(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(ei(n))return gF(e,n,t)}return t}function v5(e,t,n,s,i,a,o,l,c){return e=gA(n,s,!0,e,i,a,o,l,c),e.context=g5(null),n=e.current,s=Is(),i=fc(n),a=Xo(s,i),a.callback=t??null,dc(n,a,i),e.current.lanes=i,nv(e,i,s),ti(e,s),e}function rb(e,t,n,s){var i=t.current,a=Is(),o=fc(i);return n=g5(n),t.context===null?t.context=n:t.pendingContext=n,t=Xo(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=dc(i,t,o),e!==null&&(Ea(e,i,o,a),Oy(e,i,o)),o}function g0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vA(e,t){eM(e,t),(e=e.alternate)&&eM(e,t)}function Oee(){return null}var x5=typeof reportError=="function"?reportError:function(e){console.error(e)};function xA(e){this._internalRoot=e}sb.prototype.render=xA.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));rb(e,t,null,null)};sb.prototype.unmount=xA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vu(function(){rb(null,e,null,null)}),t[nl]=null}};function sb(e){this._internalRoot=e}sb.prototype.unstable_scheduleHydration=function(e){if(e){var t=YL();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vl.length&&t!==0&&t<Vl[n].priority;n++);Vl.splice(n,0,e),n===0&&XL(e)}};function yA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ib(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tM(){}function Dee(e,t,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=g0(o);a.call(u)}}var o=v5(t,s,e,0,null,!1,!1,"",tM);return e._reactRootContainer=o,e[nl]=o.current,Yp(e.nodeType===8?e.parentNode:e),Vu(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var u=g0(c);l.call(u)}}var c=gA(e,0,!1,null,null,!1,!1,"",tM);return e._reactRootContainer=c,e[nl]=c.current,Yp(e.nodeType===8?e.parentNode:e),Vu(function(){rb(t,c,n,s)}),c}function ab(e,t,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=g0(o);l.call(c)}}rb(t,o,e,i)}else o=Dee(n,t,e,i,s);return g0(o)}GL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fp(t.pendingLanes);n!==0&&(LP(t,n|1),ti(t,fr()),!(an&6)&&(Zh=fr()+500,kc()))}break;case 13:Vu(function(){var s=rl(e,1);if(s!==null){var i=Is();Ea(s,e,1,i)}}),vA(e,1)}};FP=function(e){if(e.tag===13){var t=rl(e,134217728);if(t!==null){var n=Is();Ea(t,e,134217728,n)}vA(e,134217728)}};KL=function(e){if(e.tag===13){var t=fc(e),n=rl(e,t);if(n!==null){var s=Is();Ea(n,e,t,s)}vA(e,t)}};YL=function(){return bn};QL=function(e,t){var n=bn;try{return bn=e,t()}finally{bn=n}};cC=function(e,t,n){switch(t){case"input":if(nC(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=Qj(s);if(!i)throw Error(Ue(90));PL(s),nC(s,i)}}}break;case"textarea":EL(e,n);break;case"select":t=n.value,t!=null&&jh(e,!!n.multiple,t,!1)}};$L=hA;RL=Vu;var Mee={usingClientEntryPoint:!1,Events:[sv,oh,Qj,ML,IL,hA]},Gm={findFiberByHostInstance:mu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iee={bundleType:Gm.bundleType,version:Gm.version,rendererPackageName:Gm.rendererPackageName,rendererConfig:Gm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=BL(e),e===null?null:e.stateNode},findFiberByHostInstance:Gm.findFiberByHostInstance||Oee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ux=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ux.isDisabled&&Ux.supportsFiber)try{Hj=Ux.inject(Iee),co=Ux}catch{}}Pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mee;Pi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yA(t))throw Error(Ue(200));return Tee(e,t,null,n)};Pi.createRoot=function(e,t){if(!yA(e))throw Error(Ue(299));var n=!1,s="",i=x5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=gA(e,1,!1,null,null,n,!1,s,i),e[nl]=t.current,Yp(e.nodeType===8?e.parentNode:e),new xA(t)};Pi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=BL(t),e=e===null?null:e.stateNode,e};Pi.flushSync=function(e){return Vu(e)};Pi.hydrate=function(e,t,n){if(!ib(t))throw Error(Ue(200));return ab(null,e,t,!0,n)};Pi.hydrateRoot=function(e,t,n){if(!yA(e))throw Error(Ue(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=x5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=v5(t,null,e,1,n??null,i,!1,a,o),e[nl]=t.current,Yp(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sb(t)};Pi.render=function(e,t,n){if(!ib(t))throw Error(Ue(200));return ab(null,e,t,!1,n)};Pi.unmountComponentAtNode=function(e){if(!ib(e))throw Error(Ue(40));return e._reactRootContainer?(Vu(function(){ab(null,null,e,!1,function(){e._reactRootContainer=null,e[nl]=null})}),!0):!1};Pi.unstable_batchedUpdates=hA;Pi.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!ib(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return ab(e,t,n,!1,s)};Pi.version="18.3.1-next-f1338f8080-20240426";function y5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y5)}catch(e){console.error(e)}}y5(),yL.exports=Pi;var ld=yL.exports;const j5=pn(ld);var b5,nM=ld;b5=nM.createRoot,nM.hydrateRoot;const $ee=1,Ree=1e6;let HN=0;function Lee(){return HN=(HN+1)%Number.MAX_SAFE_INTEGER,HN.toString()}const GN=new Map,rM=e=>{if(GN.has(e))return;const t=setTimeout(()=>{GN.delete(e),Ep({type:"REMOVE_TOAST",toastId:e})},Ree);GN.set(e,t)},Fee=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,$ee)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?rM(n):e.toasts.forEach(s=>{rM(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Fy=[];let By={toasts:[]};function Ep(e){By=Fee(By,e),Fy.forEach(t=>{t(By)})}function Bee({...e}){const t=Lee(),n=i=>Ep({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>Ep({type:"DISMISS_TOAST",toastId:t});return Ep({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}function $t(){const[e,t]=w.useState(By);return w.useEffect(()=>(Fy.push(t),()=>{const n=Fy.indexOf(t);n>-1&&Fy.splice(n,1)}),[e]),{...e,toast:Bee,dismiss:n=>Ep({type:"DISMISS_TOAST",toastId:n})}}function He(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function sM(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function il(...e){return t=>{let n=!1;const s=e.map(i=>{const a=sM(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():sM(e[i],null)}}}}function Xt(...e){return w.useCallback(il(...e),e)}function zee(e,t){const n=w.createContext(t),s=a=>{const{children:o,...l}=a,c=w.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function i(a){const o=w.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,i]}function ni(e,t=[]){let n=[];function s(a,o){const l=w.createContext(o),c=n.length;n=[...n,o];const u=f=>{var N;const{scope:m,children:g,...x}=f,v=((N=m==null?void 0:m[e])==null?void 0:N[c])||l,y=w.useMemo(()=>x,Object.values(x));return r.jsx(v.Provider,{value:y,children:g})};u.displayName=a+"Provider";function d(f,m){var v;const g=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=w.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[s,Vee(i,...t)]}function Vee(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function bc(e){const t=qee(e),n=w.forwardRef((s,i)=>{const{children:a,...o}=s,l=w.Children.toArray(a),c=l.find(Hee);if(c){const u=c.props.children,d=l.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var Uee=bc("Slot");function qee(e){const t=w.forwardRef((n,s)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const o=Kee(i),l=Gee(a,i.props);return i.type!==w.Fragment&&(l.ref=s?il(s,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var w5=Symbol("radix.slottable");function Wee(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=w5,t}function Hee(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===w5}function Gee(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Kee(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ob(e){const t=e+"CollectionProvider",[n,s]=ni(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:N}=v,b=U.useRef(null),j=U.useRef(new Map).current;return r.jsx(i,{scope:y,itemMap:j,collectionRef:b,children:N})};o.displayName=t;const l=e+"CollectionSlot",c=bc(l),u=U.forwardRef((v,y)=>{const{scope:N,children:b}=v,j=a(l,N),_=Xt(y,j.collectionRef);return r.jsx(c,{ref:_,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=bc(d),g=U.forwardRef((v,y)=>{const{scope:N,children:b,...j}=v,_=U.useRef(null),C=Xt(y,_),A=a(d,N);return U.useEffect(()=>(A.itemMap.set(_,{ref:_,...j}),()=>void A.itemMap.delete(_))),r.jsx(m,{[f]:"",ref:C,children:b})});g.displayName=d;function x(v){const y=a(e+"CollectionConsumer",v);return U.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const j=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((A,P)=>j.indexOf(A.ref.current)-j.indexOf(P.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},x,s]}var Yee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=Yee.reduce((e,t)=>{const n=bc(`Primitive.${t}`),s=w.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function jA(e,t){e&&ld.flushSync(()=>e.dispatchEvent(t))}function $s(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function Qee(e,t=globalThis==null?void 0:globalThis.document){const n=$s(e);w.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Xee="DismissableLayer",VC="dismissableLayer.update",Jee="dismissableLayer.pointerDownOutside",Zee="dismissableLayer.focusOutside",iM,N5=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cd=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=w.useContext(N5),[d,f]=w.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=w.useState({}),x=Xt(t,P=>f(P)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(y),b=d?v.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=N,C=tte(P=>{const E=P.target,M=[...u.branches].some($=>$.contains(E));!_||M||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},m),A=nte(P=>{const E=P.target;[...u.branches].some($=>$.contains(E))||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},m);return Qee(P=>{b===u.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},m),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(iM=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),aM(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=iM)}},[d,m,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),aM())},[d,u]),w.useEffect(()=>{const P=()=>g({});return document.addEventListener(VC,P),()=>document.removeEventListener(VC,P)},[]),r.jsx(st.div,{...c,ref:x,style:{pointerEvents:j?_?"auto":"none":void 0,...e.style},onFocusCapture:He(e.onFocusCapture,A.onFocusCapture),onBlurCapture:He(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:He(e.onPointerDownCapture,C.onPointerDownCapture)})});cd.displayName=Xee;var ete="DismissableLayerBranch",S5=w.forwardRef((e,t)=>{const n=w.useContext(N5),s=w.useRef(null),i=Xt(t,s);return w.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(st.div,{...e,ref:i})});S5.displayName=ete;function tte(e,t=globalThis==null?void 0:globalThis.document){const n=$s(e),s=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){C5(Jee,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function nte(e,t=globalThis==null?void 0:globalThis.document){const n=$s(e),s=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!s.current&&C5(Zee,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function aM(){const e=new CustomEvent(VC);document.dispatchEvent(e)}function C5(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?jA(i,a):i.dispatchEvent(a)}var rte=cd,ste=S5,Nr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},ite="Portal",Bf=w.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[i,a]=w.useState(!1);Nr(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?j5.createPortal(r.jsx(st.div,{...s,ref:t}),o):null});Bf.displayName=ite;function ate(e,t){return w.useReducer((n,s)=>t[n][s]??n,e)}var ri=e=>{const{present:t,children:n}=e,s=ote(t),i=typeof n=="function"?n({present:s.isPresent}):w.Children.only(n),a=Xt(s.ref,lte(i));return typeof n=="function"||s.isPresent?w.cloneElement(i,{ref:a}):null};ri.displayName="Presence";function ote(e){const[t,n]=w.useState(),s=w.useRef(null),i=w.useRef(e),a=w.useRef("none"),o=e?"mounted":"unmounted",[l,c]=ate(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=qx(s.current);a.current=l==="mounted"?u:"none"},[l]),Nr(()=>{const u=s.current,d=i.current;if(d!==e){const m=a.current,g=qx(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Nr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const v=qx(s.current).includes(g.animationName);if(g.target===t&&v&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=g=>{g.target===t&&(a.current=qx(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function qx(e){return(e==null?void 0:e.animationName)||"none"}function lte(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var cte=EP[" useInsertionEffect ".trim().toString()]||Nr;function vo({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,a,o]=ute({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=w.useCallback(d=>{var f;if(l){const m=dte(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else a(d)},[l,e,a,o]);return[c,u]}function ute({defaultProp:e,onChange:t}){const[n,s]=w.useState(e),i=w.useRef(n),a=w.useRef(t);return cte(()=>{a.current=t},[t]),w.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,s,a]}function dte(e){return typeof e=="function"}var _5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hte="VisuallyHidden",lb=w.forwardRef((e,t)=>r.jsx(st.span,{...e,ref:t,style:{..._5,...e.style}}));lb.displayName=hte;var fte=lb,bA="ToastProvider",[wA,mte,pte]=ob("Toast"),[P5,P6e]=ni("Toast",[pte]),[gte,cb]=P5(bA),A5=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),m=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${bA}\`. Expected non-empty \`string\`.`),r.jsx(wA.Provider,{scope:t,children:r.jsx(gte,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(g=>g+1),[]),onToastRemove:w.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};A5.displayName=bA;var E5="ToastViewport",vte=["F8"],UC="toast.viewportPause",qC="toast.viewportResume",k5=w.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=vte,label:i="Notifications ({hotkey})",...a}=e,o=cb(E5,n),l=mte(n),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),m=Xt(t,f,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;w.useEffect(()=>{const y=N=>{var j;s.length!==0&&s.every(_=>N[_]||N.code===_)&&((j=f.current)==null||j.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[s]),w.useEffect(()=>{const y=c.current,N=f.current;if(x&&y&&N){const b=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(UC);N.dispatchEvent(A),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(qC);N.dispatchEvent(A),o.isClosePausedRef.current=!1}},_=A=>{!y.contains(A.relatedTarget)&&j()},C=()=>{y.contains(document.activeElement)||j()};return y.addEventListener("focusin",b),y.addEventListener("focusout",_),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",C),window.addEventListener("blur",b),window.addEventListener("focus",j),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",b),window.removeEventListener("focus",j)}}},[x,o.isClosePausedRef]);const v=w.useCallback(({tabbingDirection:y})=>{const b=l().map(j=>{const _=j.ref.current,C=[_,...kte(_)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?b.reverse():b).flat()},[l]);return w.useEffect(()=>{const y=f.current;if(y){const N=b=>{var C,A,P;const j=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!j){const E=document.activeElement,M=b.shiftKey;if(b.target===y&&M){(C=u.current)==null||C.focus();return}const O=v({tabbingDirection:M?"backwards":"forwards"}),L=O.findIndex(B=>B===E);KN(O.slice(L+1))?b.preventDefault():M?(A=u.current)==null||A.focus():(P=d.current)==null||P.focus()}};return y.addEventListener("keydown",N),()=>y.removeEventListener("keydown",N)}},[l,v]),r.jsxs(ste,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&r.jsx(WC,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});KN(y)}}),r.jsx(wA.Slot,{scope:n,children:r.jsx(st.ol,{tabIndex:-1,...a,ref:m})}),x&&r.jsx(WC,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});KN(y)}})]})});k5.displayName=E5;var T5="ToastFocusProxy",WC=w.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,a=cb(T5,n);return r.jsx(lb,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&s()}})});WC.displayName=T5;var av="Toast",xte="toast.swipeStart",yte="toast.swipeMove",jte="toast.swipeCancel",bte="toast.swipeEnd",O5=w.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=vo({prop:s,defaultProp:i??!0,onChange:a,caller:av});return r.jsx(ri,{present:n||l,children:r.jsx(Ste,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:$s(e.onPause),onResume:$s(e.onResume),onSwipeStart:He(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:He(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});O5.displayName=av;var[wte,Nte]=P5(av,{onClose(){}}),Ste=w.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...x}=e,v=cb(av,n),[y,N]=w.useState(null),b=Xt(t,B=>N(B)),j=w.useRef(null),_=w.useRef(null),C=i||v.duration,A=w.useRef(0),P=w.useRef(C),E=w.useRef(0),{onToastAdd:M,onToastRemove:$}=v,T=$s(()=>{var Z;(y==null?void 0:y.contains(document.activeElement))&&((Z=v.viewport)==null||Z.focus()),o()}),O=w.useCallback(B=>{!B||B===1/0||(window.clearTimeout(E.current),A.current=new Date().getTime(),E.current=window.setTimeout(T,B))},[T]);w.useEffect(()=>{const B=v.viewport;if(B){const Z=()=>{O(P.current),u==null||u()},H=()=>{const ae=new Date().getTime()-A.current;P.current=P.current-ae,window.clearTimeout(E.current),c==null||c()};return B.addEventListener(UC,H),B.addEventListener(qC,Z),()=>{B.removeEventListener(UC,H),B.removeEventListener(qC,Z)}}},[v.viewport,C,c,u,O]),w.useEffect(()=>{a&&!v.isClosePausedRef.current&&O(C)},[a,C,v.isClosePausedRef,O]),w.useEffect(()=>(M(),()=>$()),[M,$]);const L=w.useMemo(()=>y?F5(y):null,[y]);return v.viewport?r.jsxs(r.Fragment,{children:[L&&r.jsx(Cte,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),r.jsx(wte,{scope:n,onClose:T,children:ld.createPortal(r.jsx(wA.ItemSlot,{scope:n,children:r.jsx(rte,{asChild:!0,onEscapeKeyDown:He(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||T(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(st.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:He(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:He(e.onPointerDown,B=>{B.button===0&&(j.current={x:B.clientX,y:B.clientY})}),onPointerMove:He(e.onPointerMove,B=>{if(!j.current)return;const Z=B.clientX-j.current.x,H=B.clientY-j.current.y,ae=!!_.current,X=["left","right"].includes(v.swipeDirection),D=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ie=X?D(0,Z):0,me=X?0:D(0,H),te=B.pointerType==="touch"?10:2,J={x:ie,y:me},ne={originalEvent:B,delta:J};ae?(_.current=J,Wx(yte,f,ne,{discrete:!1})):oM(J,v.swipeDirection,te)?(_.current=J,Wx(xte,d,ne,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(Z)>te||Math.abs(H)>te)&&(j.current=null)}),onPointerUp:He(e.onPointerUp,B=>{const Z=_.current,H=B.target;if(H.hasPointerCapture(B.pointerId)&&H.releasePointerCapture(B.pointerId),_.current=null,j.current=null,Z){const ae=B.currentTarget,X={originalEvent:B,delta:Z};oM(Z,v.swipeDirection,v.swipeThreshold)?Wx(bte,g,X,{discrete:!0}):Wx(jte,m,X,{discrete:!0}),ae.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Cte=e=>{const{__scopeToast:t,children:n,...s}=e,i=cb(av,t),[a,o]=w.useState(!1),[l,c]=w.useState(!1);return Ate(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:r.jsx(Bf,{asChild:!0,children:r.jsx(lb,{...s,children:a&&r.jsxs(r.Fragment,{children:[i.label," ",n]})})})},_te="ToastTitle",D5=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(st.div,{...s,ref:t})});D5.displayName=_te;var Pte="ToastDescription",M5=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(st.div,{...s,ref:t})});M5.displayName=Pte;var I5="ToastAction",$5=w.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(L5,{altText:n,asChild:!0,children:r.jsx(NA,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${I5}\`. Expected non-empty \`string\`.`),null)});$5.displayName=I5;var R5="ToastClose",NA=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=Nte(R5,n);return r.jsx(L5,{asChild:!0,children:r.jsx(st.button,{type:"button",...s,ref:t,onClick:He(e.onClick,i.onClose)})})});NA.displayName=R5;var L5=w.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return r.jsx(st.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function F5(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),Ete(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...F5(s))}}),t}function Wx(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?jA(i,a):i.dispatchEvent(a)}var oM=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),a=s>i;return t==="left"||t==="right"?a&&s>n:!a&&i>n};function Ate(e=()=>{}){const t=$s(e);Nr(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function Ete(e){return e.nodeType===e.ELEMENT_NODE}function kte(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function KN(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Tte=A5,B5=k5,z5=O5,V5=D5,U5=M5,q5=$5,W5=NA;function H5(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=H5(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function At(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=H5(e))&&(s&&(s+=" "),s+=t);return s}const lM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cM=At,ov=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return cM(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const m=lM(d)||lM(f);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(x=>{let[v,y]=x;return Array.isArray(y)?y.includes({...a,...l}[v]):{...a,...l}[v]===y})?[...u,f,m]:u},[]);return cM(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G5=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...Dte,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:G5("lucide",i),...l},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const n=w.forwardRef(({className:s,...i},a)=>w.createElement(Mte,{ref:a,iconNode:t,className:G5(`lucide-${Ote(e)}`,s),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=Ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=Ye("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=Ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=Ye("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=Ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=Ye("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Ye("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=Ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=Ye("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=Ye("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=Ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=Ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=Ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=Ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=Ye("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=Ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=Ye("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=Ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=Ye("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=Ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=Ye("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=Ye("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=Ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=Ye("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Ye("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=Ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=Ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=Ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=Ye("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=Ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Ye("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Ye("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=Ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=Ye("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=Ye("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=Ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=Ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=Ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=Ye("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=Ye("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=Ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=Ye("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=Ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Ye("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=Ye("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Ye("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Ye("Tractor",[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=Ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=Ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=Ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=Ye("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=Ye("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),PA="-",rne=e=>{const t=ine(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(PA);return l[0]===""&&l.length!==1&&l.shift(),Z5(l,t)||sne(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},Z5=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?Z5(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(PA);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},mM=/^\[(.+)\]$/,sne=e=>{if(mM.test(e)){const t=mM.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},ine=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return one(Object.entries(e.classGroups),n).forEach(([a,o])=>{QC(o,s,a,t)}),s},QC=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:pM(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(ane(i)){QC(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{QC(o,pM(t,a),n,s)})})},pM=(e,t)=>{let n=e;return t.split(PA).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},ane=e=>e.isThemeGetter,one=(e,t)=>t?e.map(([n,s])=>{const i=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,i]}):e,lne=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},e6="!",cne=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let N=l[y];if(u===0){if(N===i&&(s||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(N==="/"){f=y;continue}}N==="["?u++:N==="]"&&u--}const m=c.length===0?l:l.substring(d),g=m.startsWith(e6),x=g?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},une=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},dne=e=>({cache:lne(e.cacheSize),parseClassName:cne(e),...rne(e)}),hne=/\s+/,fne=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(hne);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let x=!!g,v=s(x?m.substring(0,g):m);if(!v){if(!x){l=u+(l.length>0?" "+l:l);continue}if(v=s(m),!v){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=une(d).join(":"),N=f?y+e6:y,b=N+v;if(a.includes(b))continue;a.push(b);const j=i(v,x);for(let _=0;_<j.length;++_){const C=j[_];a.push(N+C)}l=u+(l.length>0?" "+l:l)}return l};function mne(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=t6(t))&&(s&&(s+=" "),s+=n);return s}const t6=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=t6(e[s]))&&(n&&(n+=" "),n+=t);return n};function pne(e,...t){let n,s,i,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=dne(u),s=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=fne(c,n);return i(c,d),d}return function(){return a(mne.apply(null,arguments))}}const Rn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},n6=/^\[(?:([a-z-]+):)?(.+)\]$/i,gne=/^\d+\/\d+$/,vne=new Set(["px","full","screen"]),xne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mo=e=>Ph(e)||vne.has(e)||gne.test(e),Tl=e=>Uf(e,"length",kne),Ph=e=>!!e&&!Number.isNaN(Number(e)),QN=e=>Uf(e,"number",Ph),Km=e=>!!e&&Number.isInteger(Number(e)),Nne=e=>e.endsWith("%")&&Ph(e.slice(0,-1)),Ft=e=>n6.test(e),Ol=e=>xne.test(e),Sne=new Set(["length","size","percentage"]),Cne=e=>Uf(e,Sne,r6),_ne=e=>Uf(e,"position",r6),Pne=new Set(["image","url"]),Ane=e=>Uf(e,Pne,One),Ene=e=>Uf(e,"",Tne),Ym=()=>!0,Uf=(e,t,n)=>{const s=n6.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},kne=e=>yne.test(e)&&!jne.test(e),r6=()=>!1,Tne=e=>bne.test(e),One=e=>wne.test(e),Dne=()=>{const e=Rn("colors"),t=Rn("spacing"),n=Rn("blur"),s=Rn("brightness"),i=Rn("borderColor"),a=Rn("borderRadius"),o=Rn("borderSpacing"),l=Rn("borderWidth"),c=Rn("contrast"),u=Rn("grayscale"),d=Rn("hueRotate"),f=Rn("invert"),m=Rn("gap"),g=Rn("gradientColorStops"),x=Rn("gradientColorStopPositions"),v=Rn("inset"),y=Rn("margin"),N=Rn("opacity"),b=Rn("padding"),j=Rn("saturate"),_=Rn("scale"),C=Rn("sepia"),A=Rn("skew"),P=Rn("space"),E=Rn("translate"),M=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Ft,t],O=()=>[Ft,t],L=()=>["",Mo,Tl],B=()=>["auto",Ph,Ft],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Ft],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],me=()=>[Ph,Ft];return{cacheSize:500,separator:":",theme:{colors:[Ym],spacing:[Mo,Tl],blur:["none","",Ol,Ft],brightness:me(),borderColor:[e],borderRadius:["none","","full",Ol,Ft],borderSpacing:O(),borderWidth:L(),contrast:me(),grayscale:D(),hueRotate:me(),invert:D(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[Nne,Tl],inset:T(),margin:T(),opacity:me(),padding:O(),saturate:me(),scale:me(),sepia:D(),skew:me(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ft]}],container:["container"],columns:[{columns:[Ol]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),Ft]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Km,Ft]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ft]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Km,Ft]}],"grid-cols":[{"grid-cols":[Ym]}],"col-start-end":[{col:["auto",{span:["full",Km,Ft]},Ft]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Ym]}],"row-start-end":[{row:["auto",{span:[Km,Ft]},Ft]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ft]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ft,t]}],"min-w":[{"min-w":[Ft,t,"min","max","fit"]}],"max-w":[{"max-w":[Ft,t,"none","full","min","max","fit","prose",{screen:[Ol]},Ol]}],h:[{h:[Ft,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ft,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ft,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ft,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ol,Tl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",QN]}],"font-family":[{font:[Ym]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ft]}],"line-clamp":[{"line-clamp":["none",Ph,QN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mo,Ft]}],"list-image":[{"list-image":["none",Ft]}],"list-style-type":[{list:["none","disc","decimal",Ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mo,Tl]}],"underline-offset":[{"underline-offset":["auto",Mo,Ft]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),_ne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Cne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ane]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Mo,Ft]}],"outline-w":[{outline:[Mo,Tl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Mo,Tl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ol,Ene]}],"shadow-color":[{shadow:[Ym]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ol,Ft]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ft]}],duration:[{duration:me()}],ease:[{ease:["linear","in","out","in-out",Ft]}],delay:[{delay:me()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Km,Ft]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ft]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ft]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ft]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Mo,Tl,QN]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Mne=pne(Dne);function Ze(...e){return Mne(At(e))}function nf(e){if(!e)return"Âge inconnu";const t=new Date(e),n=new Date;if(isNaN(t.getTime()))return"Date invalide";let s=n.getFullYear()-t.getFullYear(),i=n.getMonth()-t.getMonth();if((i<0||i===0&&n.getDate()<t.getDate())&&(s--,i+=12),s===0){if(i===0){const a=Math.floor((n.getTime()-t.getTime())/864e5);return`${a} jour${a>1?"s":""}`}return`${i} mois`}else return i===0?`${s} an${s>1?"s":""}`:`${s} an${s>1?"s":""} et ${i} mois`}function ho(e){if(!e)return"Non renseigné";const t=new Date(e);return isNaN(t.getTime())?"Date invalide":t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}const Ine=Tte,s6=w.forwardRef(({className:e,...t},n)=>r.jsx(B5,{ref:n,className:Ze("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));s6.displayName=B5.displayName;const $ne=ov("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),i6=w.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(z5,{ref:s,className:Ze($ne({variant:t}),e),...n}));i6.displayName=z5.displayName;const Rne=w.forwardRef(({className:e,...t},n)=>r.jsx(q5,{ref:n,className:Ze("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Rne.displayName=q5.displayName;const a6=w.forwardRef(({className:e,...t},n)=>r.jsx(W5,{ref:n,className:Ze("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(hb,{className:"h-4 w-4"})}));a6.displayName=W5.displayName;const o6=w.forwardRef(({className:e,...t},n)=>r.jsx(V5,{ref:n,className:Ze("text-sm font-semibold",e),...t}));o6.displayName=V5.displayName;const l6=w.forwardRef(({className:e,...t},n)=>r.jsx(U5,{ref:n,className:Ze("text-sm opacity-90",e),...t}));l6.displayName=U5.displayName;function Lne(){const{toasts:e}=$t();return r.jsxs(Ine,{children:[e.map(function({id:t,title:n,description:s,action:i,...a}){return r.jsxs(i6,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(o6,{children:n}),s&&r.jsx(l6,{children:s})]}),i,r.jsx(a6,{})]},t)}),r.jsx(s6,{})]})}var gM=["light","dark"],Fne="(prefers-color-scheme: dark)",Bne=w.createContext(void 0),zne={setTheme:e=>{},themes:[]},Vne=()=>{var e;return(e=w.useContext(Bne))!=null?e:zne};w.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:i,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?gM.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,v=!1,y=!0)=>{let N=o?o[x]:x,b=v?x+"|| ''":`'${N}'`,j="";return i&&y&&!v&&gM.includes(x)&&(j+=`d.style.colorScheme = '${x}';`),n==="class"?v||N?j+=`c.add(${b})`:j+="null":N&&(j+=`d[s](n,${b})`),j},g=e?`!function(){${d}${m(e)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Fne}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var Une=e=>{switch(e){case"success":return Hne;case"info":return Kne;case"warning":return Gne;case"error":return Yne;default:return null}},qne=Array(12).fill(0),Wne=({visible:e,className:t})=>U.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},U.createElement("div",{className:"sonner-spinner"},qne.map((n,s)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Hne=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Gne=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Kne=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Yne=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Qne=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Xne=()=>{let[e,t]=U.useState(document.hidden);return U.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},XC=1,Jne=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:XC++,a=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),i=n!==void 0,a,o=s.then(async c=>{if(a=["resolve",c],U.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(ere(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||XC++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ks=new Jne,Zne=(e,t)=>{let n=(t==null?void 0:t.id)||XC++;return Ks.addToast({title:e,...t,id:n}),n},ere=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",tre=Zne,nre=()=>Ks.toasts,rre=()=>Ks.getActiveToasts();Object.assign(tre,{success:Ks.success,info:Ks.info,warning:Ks.warning,error:Ks.error,custom:Ks.custom,message:Ks.message,promise:Ks.promise,dismiss:Ks.dismiss,loading:Ks.loading},{getHistory:nre,getToasts:rre});function sre(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}sre(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Hx(e){return e.label!==void 0}var ire=3,are="32px",ore="16px",vM=4e3,lre=356,cre=14,ure=20,dre=200;function ha(...e){return e.filter(Boolean).join(" ")}function hre(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var fre=e=>{var t,n,s,i,a,o,l,c,u,d,f;let{invert:m,toast:g,unstyled:x,interacting:v,setHeights:y,visibleToasts:N,heights:b,index:j,toasts:_,expanded:C,removeToast:A,defaultRichColors:P,closeButton:E,style:M,cancelButtonStyle:$,actionButtonStyle:T,className:O="",descriptionClassName:L="",duration:B,position:Z,gap:H,loadingIcon:ae,expandByDefault:X,classNames:D,icons:ie,closeButtonAriaLabel:me="Close toast",pauseWhenPageIsHidden:te}=e,[J,ne]=U.useState(null),[ve,ye]=U.useState(null),[be,z]=U.useState(!1),[Y,ee]=U.useState(!1),[G,I]=U.useState(!1),[xe,Ne]=U.useState(!1),[Be,Fe]=U.useState(!1),[it,lt]=U.useState(0),[ft,we]=U.useState(0),Ge=U.useRef(g.duration||B||vM),Ke=U.useRef(null),Ht=U.useRef(null),Yn=j===0,Et=j+1<=N,Nn=g.type,ur=g.dismissible!==!1,Qn=g.className||"",ys=g.descriptionClassName||"",Se=U.useMemo(()=>b.findIndex(jt=>jt.toastId===g.id)||0,[b,g.id]),Ut=U.useMemo(()=>{var jt;return(jt=g.closeButton)!=null?jt:E},[g.closeButton,E]),tt=U.useMemo(()=>g.duration||B||vM,[g.duration,B]),mt=U.useRef(0),sn=U.useRef(0),as=U.useRef(0),Qr=U.useRef(null),[Bs,yl]=Z.split("-"),le=U.useMemo(()=>b.reduce((jt,on,gn)=>gn>=Se?jt:jt+on.height,0),[b,Se]),qe=Xne(),Le=g.invert||m,kn=Nn==="loading";sn.current=U.useMemo(()=>Se*H+le,[Se,le]),U.useEffect(()=>{Ge.current=tt},[tt]),U.useEffect(()=>{z(!0)},[]),U.useEffect(()=>{let jt=Ht.current;if(jt){let on=jt.getBoundingClientRect().height;return we(on),y(gn=>[{toastId:g.id,height:on,position:g.position},...gn]),()=>y(gn=>gn.filter(js=>js.toastId!==g.id))}},[y,g.id]),U.useLayoutEffect(()=>{if(!be)return;let jt=Ht.current,on=jt.style.height;jt.style.height="auto";let gn=jt.getBoundingClientRect().height;jt.style.height=on,we(gn),y(js=>js.find(bs=>bs.toastId===g.id)?js.map(bs=>bs.toastId===g.id?{...bs,height:gn}:bs):[{toastId:g.id,height:gn,position:g.position},...js])},[be,g.title,g.description,y,g.id]);let Xn=U.useCallback(()=>{ee(!0),lt(sn.current),y(jt=>jt.filter(on=>on.toastId!==g.id)),setTimeout(()=>{A(g)},dre)},[g,A,y,sn]);U.useEffect(()=>{if(g.promise&&Nn==="loading"||g.duration===1/0||g.type==="loading")return;let jt;return C||v||te&&qe?(()=>{if(as.current<mt.current){let on=new Date().getTime()-mt.current;Ge.current=Ge.current-on}as.current=new Date().getTime()})():Ge.current!==1/0&&(mt.current=new Date().getTime(),jt=setTimeout(()=>{var on;(on=g.onAutoClose)==null||on.call(g,g),Xn()},Ge.current)),()=>clearTimeout(jt)},[C,v,g,Nn,te,qe,Xn]),U.useEffect(()=>{g.delete&&Xn()},[Xn,g.delete]);function ia(){var jt,on,gn;return ie!=null&&ie.loading?U.createElement("div",{className:ha(D==null?void 0:D.loader,(jt=g==null?void 0:g.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":Nn==="loading"},ie.loading):ae?U.createElement("div",{className:ha(D==null?void 0:D.loader,(on=g==null?void 0:g.classNames)==null?void 0:on.loader,"sonner-loader"),"data-visible":Nn==="loading"},ae):U.createElement(Wne,{className:ha(D==null?void 0:D.loader,(gn=g==null?void 0:g.classNames)==null?void 0:gn.loader),visible:Nn==="loading"})}return U.createElement("li",{tabIndex:0,ref:Ht,className:ha(O,Qn,D==null?void 0:D.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[Nn],(n=g==null?void 0:g.classNames)==null?void 0:n[Nn]),"data-sonner-toast":"","data-rich-colors":(s=g.richColors)!=null?s:P,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":be,"data-promise":!!g.promise,"data-swiped":Be,"data-removed":Y,"data-visible":Et,"data-y-position":Bs,"data-x-position":yl,"data-index":j,"data-front":Yn,"data-swiping":G,"data-dismissible":ur,"data-type":Nn,"data-invert":Le,"data-swipe-out":xe,"data-swipe-direction":ve,"data-expanded":!!(C||X&&be),style:{"--index":j,"--toasts-before":j,"--z-index":_.length-j,"--offset":`${Y?it:sn.current}px`,"--initial-height":X?"auto":`${ft}px`,...M,...g.style},onDragEnd:()=>{I(!1),ne(null),Qr.current=null},onPointerDown:jt=>{kn||!ur||(Ke.current=new Date,lt(sn.current),jt.target.setPointerCapture(jt.pointerId),jt.target.tagName!=="BUTTON"&&(I(!0),Qr.current={x:jt.clientX,y:jt.clientY}))},onPointerUp:()=>{var jt,on,gn,js;if(xe||!ur)return;Qr.current=null;let bs=Number(((jt=Ht.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ei=Number(((on=Ht.current)==null?void 0:on.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ai=new Date().getTime()-((gn=Ke.current)==null?void 0:gn.getTime()),ws=J==="x"?bs:Ei,zs=Math.abs(ws)/ai;if(Math.abs(ws)>=ure||zs>.11){lt(sn.current),(js=g.onDismiss)==null||js.call(g,g),ye(J==="x"?bs>0?"right":"left":Ei>0?"down":"up"),Xn(),Ne(!0),Fe(!1);return}I(!1),ne(null)},onPointerMove:jt=>{var on,gn,js,bs;if(!Qr.current||!ur||((on=window.getSelection())==null?void 0:on.toString().length)>0)return;let Ei=jt.clientY-Qr.current.y,ai=jt.clientX-Qr.current.x,ws=(gn=e.swipeDirections)!=null?gn:hre(Z);!J&&(Math.abs(ai)>1||Math.abs(Ei)>1)&&ne(Math.abs(ai)>Math.abs(Ei)?"x":"y");let zs={x:0,y:0};J==="y"?(ws.includes("top")||ws.includes("bottom"))&&(ws.includes("top")&&Ei<0||ws.includes("bottom")&&Ei>0)&&(zs.y=Ei):J==="x"&&(ws.includes("left")||ws.includes("right"))&&(ws.includes("left")&&ai<0||ws.includes("right")&&ai>0)&&(zs.x=ai),(Math.abs(zs.x)>0||Math.abs(zs.y)>0)&&Fe(!0),(js=Ht.current)==null||js.style.setProperty("--swipe-amount-x",`${zs.x}px`),(bs=Ht.current)==null||bs.style.setProperty("--swipe-amount-y",`${zs.y}px`)}},Ut&&!g.jsx?U.createElement("button",{"aria-label":me,"data-disabled":kn,"data-close-button":!0,onClick:kn||!ur?()=>{}:()=>{var jt;Xn(),(jt=g.onDismiss)==null||jt.call(g,g)},className:ha(D==null?void 0:D.closeButton,(i=g==null?void 0:g.classNames)==null?void 0:i.closeButton)},(a=ie==null?void 0:ie.close)!=null?a:Qne):null,g.jsx||w.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:U.createElement(U.Fragment,null,Nn||g.icon||g.promise?U.createElement("div",{"data-icon":"",className:ha(D==null?void 0:D.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ia():null,g.type!=="loading"?g.icon||(ie==null?void 0:ie[Nn])||Une(Nn):null):null,U.createElement("div",{"data-content":"",className:ha(D==null?void 0:D.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},U.createElement("div",{"data-title":"",className:ha(D==null?void 0:D.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?U.createElement("div",{"data-description":"",className:ha(L,ys,D==null?void 0:D.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),w.isValidElement(g.cancel)?g.cancel:g.cancel&&Hx(g.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||$,onClick:jt=>{var on,gn;Hx(g.cancel)&&ur&&((gn=(on=g.cancel).onClick)==null||gn.call(on,jt),Xn())},className:ha(D==null?void 0:D.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,w.isValidElement(g.action)?g.action:g.action&&Hx(g.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||T,onClick:jt=>{var on,gn;Hx(g.action)&&((gn=(on=g.action).onClick)==null||gn.call(on,jt),!jt.defaultPrevented&&Xn())},className:ha(D==null?void 0:D.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function xM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function mre(e,t){let n={};return[e,t].forEach((s,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",l=a?ore:are;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(l)}),n}var pre=w.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:g,visibleToasts:x=ire,toastOptions:v,dir:y=xM(),gap:N=cre,loadingIcon:b,icons:j,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:C}=e,[A,P]=U.useState([]),E=U.useMemo(()=>Array.from(new Set([s].concat(A.filter(te=>te.position).map(te=>te.position)))),[A,s]),[M,$]=U.useState([]),[T,O]=U.useState(!1),[L,B]=U.useState(!1),[Z,H]=U.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ae=U.useRef(null),X=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=U.useRef(null),ie=U.useRef(!1),me=U.useCallback(te=>{P(J=>{var ne;return(ne=J.find(ve=>ve.id===te.id))!=null&&ne.delete||Ks.dismiss(te.id),J.filter(({id:ve})=>ve!==te.id)})},[]);return U.useEffect(()=>Ks.subscribe(te=>{if(te.dismiss){P(J=>J.map(ne=>ne.id===te.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{j5.flushSync(()=>{P(J=>{let ne=J.findIndex(ve=>ve.id===te.id);return ne!==-1?[...J.slice(0,ne),{...J[ne],...te},...J.slice(ne+1)]:[te,...J]})})})}),[]),U.useEffect(()=>{if(d!=="system"){H(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:J})=>{H(J?"dark":"light")})}catch{te.addListener(({matches:ne})=>{try{H(ne?"dark":"light")}catch(ve){console.error(ve)}})}},[d]),U.useEffect(()=>{A.length<=1&&O(!1)},[A]),U.useEffect(()=>{let te=J=>{var ne,ve;i.every(ye=>J[ye]||J.code===ye)&&(O(!0),(ne=ae.current)==null||ne.focus()),J.code==="Escape"&&(document.activeElement===ae.current||(ve=ae.current)!=null&&ve.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[i]),U.useEffect(()=>{if(ae.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,ie.current=!1)}},[ae.current]),U.createElement("section",{ref:t,"aria-label":`${_} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((te,J)=>{var ne;let[ve,ye]=te.split("-");return A.length?U.createElement("ol",{key:te,dir:y==="auto"?xM():y,tabIndex:-1,ref:ae,className:l,"data-sonner-toaster":!0,"data-theme":Z,"data-y-position":ve,"data-lifted":T&&A.length>1&&!a,"data-x-position":ye,style:{"--front-toast-height":`${((ne=M[0])==null?void 0:ne.height)||0}px`,"--width":`${lre}px`,"--gap":`${N}px`,...g,...mre(c,u)},onBlur:be=>{ie.current&&!be.currentTarget.contains(be.relatedTarget)&&(ie.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||ie.current||(ie.current=!0,D.current=be.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{L||O(!1)},onDragEnd:()=>O(!1),onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},A.filter(be=>!be.position&&J===0||be.position===te).map((be,z)=>{var Y,ee;return U.createElement(fre,{key:be.id,icons:j,index:z,toast:be,defaultRichColors:f,duration:(Y=v==null?void 0:v.duration)!=null?Y:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:x,closeButton:(ee=v==null?void 0:v.closeButton)!=null?ee:o,interacting:L,position:te,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:me,toasts:A.filter(G=>G.position==be.position),heights:M.filter(G=>G.position==be.position),setHeights:$,expandByDefault:a,gap:N,loadingIcon:b,expanded:T,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const gre=({...e})=>{const{theme:t="system"}=Vne();return r.jsx(pre,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var vre=EP[" useId ".trim().toString()]||(()=>{}),xre=0;function rs(e){const[t,n]=w.useState(vre());return Nr(()=>{n(s=>s??String(xre++))},[e]),t?`radix-${t}`:""}const yre=["top","right","bottom","left"],Sc=Math.min,vi=Math.max,y0=Math.round,Gx=Math.floor,fo=e=>({x:e,y:e}),jre={left:"right",right:"left",bottom:"top",top:"bottom"},bre={start:"end",end:"start"};function JC(e,t,n){return vi(e,Sc(t,n))}function al(e,t){return typeof e=="function"?e(t):e}function ol(e){return e.split("-")[0]}function qf(e){return e.split("-")[1]}function AA(e){return e==="x"?"y":"x"}function EA(e){return e==="y"?"height":"width"}const wre=new Set(["top","bottom"]);function io(e){return wre.has(ol(e))?"y":"x"}function kA(e){return AA(io(e))}function Nre(e,t,n){n===void 0&&(n=!1);const s=qf(e),i=kA(e),a=EA(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=j0(o)),[o,j0(o)]}function Sre(e){const t=j0(e);return[ZC(e),t,ZC(t)]}function ZC(e){return e.replace(/start|end/g,t=>bre[t])}const yM=["left","right"],jM=["right","left"],Cre=["top","bottom"],_re=["bottom","top"];function Pre(e,t,n){switch(e){case"top":case"bottom":return n?t?jM:yM:t?yM:jM;case"left":case"right":return t?Cre:_re;default:return[]}}function Are(e,t,n,s){const i=qf(e);let a=Pre(ol(e),n==="start",s);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(ZC)))),a}function j0(e){return e.replace(/left|right|bottom|top/g,t=>jre[t])}function Ere(e){return{top:0,right:0,bottom:0,left:0,...e}}function c6(e){return typeof e!="number"?Ere(e):{top:e,right:e,bottom:e,left:e}}function b0(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function bM(e,t,n){let{reference:s,floating:i}=e;const a=io(t),o=kA(t),l=EA(o),c=ol(t),u=a==="y",d=s.x+s.width/2-i.width/2,f=s.y+s.height/2-i.height/2,m=s[l]/2-i[l]/2;let g;switch(c){case"top":g={x:d,y:s.y-i.height};break;case"bottom":g={x:d,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:f};break;case"left":g={x:s.x-i.width,y:f};break;default:g={x:s.x,y:s.y}}switch(qf(t)){case"start":g[o]-=m*(n&&u?-1:1);break;case"end":g[o]+=m*(n&&u?-1:1);break}return g}const kre=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=bM(u,s,c),m=s,g={},x=0;for(let v=0;v<l.length;v++){const{name:y,fn:N}=l[v],{x:b,y:j,data:_,reset:C}=await N({x:d,y:f,initialPlacement:s,placement:m,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=j??f,g={...g,[y]:{...g[y],..._}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:d,y:f}=bM(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:g}};async function ig(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=al(t,e),x=c6(g),y=l[m?f==="floating"?"reference":"floating":f],N=b0(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},C=b0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:j,strategy:c}):b);return{top:(N.top-C.top+x.top)/_.y,bottom:(C.bottom-N.bottom+x.bottom)/_.y,left:(N.left-C.left+x.left)/_.x,right:(C.right-N.right+x.right)/_.x}}const Tre=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=al(e,t)||{};if(u==null)return{};const f=c6(d),m={x:n,y:s},g=kA(i),x=EA(g),v=await o.getDimensions(u),y=g==="y",N=y?"top":"left",b=y?"bottom":"right",j=y?"clientHeight":"clientWidth",_=a.reference[x]+a.reference[g]-m[g]-a.floating[x],C=m[g]-a.reference[g],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=A?A[j]:0;(!P||!await(o.isElement==null?void 0:o.isElement(A)))&&(P=l.floating[j]||a.floating[x]);const E=_/2-C/2,M=P/2-v[x]/2-1,$=Sc(f[N],M),T=Sc(f[b],M),O=$,L=P-v[x]-T,B=P/2-v[x]/2+E,Z=JC(O,B,L),H=!c.arrow&&qf(i)!=null&&B!==Z&&a.reference[x]/2-(B<O?$:T)-v[x]/2<0,ae=H?B<O?B-O:B-L:0;return{[g]:m[g]+ae,data:{[g]:Z,centerOffset:B-Z-ae,...H&&{alignmentOffset:ae}},reset:H}}}),Ore=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...y}=al(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=ol(i),b=io(l),j=ol(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(j||!v?[j0(l)]:Sre(l)),A=x!=="none";!m&&A&&C.push(...Are(l,v,x,_));const P=[l,...C],E=await ig(t,y),M=[];let $=((s=a.flip)==null?void 0:s.overflows)||[];if(d&&M.push(E[N]),f){const B=Nre(i,o,_);M.push(E[B[0]],E[B[1]])}if($=[...$,{placement:i,overflows:M}],!M.every(B=>B<=0)){var T,O;const B=(((T=a.flip)==null?void 0:T.index)||0)+1,Z=P[B];if(Z&&(!(f==="alignment"?b!==io(Z):!1)||$.every(X=>X.overflows[0]>0&&io(X.placement)===b)))return{data:{index:B,overflows:$},reset:{placement:Z}};let H=(O=$.filter(ae=>ae.overflows[0]<=0).sort((ae,X)=>ae.overflows[1]-X.overflows[1])[0])==null?void 0:O.placement;if(!H)switch(g){case"bestFit":{var L;const ae=(L=$.filter(X=>{if(A){const D=io(X.placement);return D===b||D==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(D=>D>0).reduce((D,ie)=>D+ie,0)]).sort((X,D)=>X[1]-D[1])[0])==null?void 0:L[0];ae&&(H=ae);break}case"initialPlacement":H=l;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function wM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function NM(e){return yre.some(t=>e[t]>=0)}const Dre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=al(e,t);switch(s){case"referenceHidden":{const a=await ig(t,{...i,elementContext:"reference"}),o=wM(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:NM(o)}}}case"escaped":{const a=await ig(t,{...i,altBoundary:!0}),o=wM(a,n.floating);return{data:{escapedOffsets:o,escaped:NM(o)}}}default:return{}}}}},u6=new Set(["left","top"]);async function Mre(e,t){const{placement:n,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=ol(n),l=qf(n),c=io(n)==="y",u=u6.has(o)?-1:1,d=a&&c?-1:1,f=al(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(g=l==="end"?x*-1:x),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const Ire=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await Mre(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},$re=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:N,y:b}=y;return{x:N,y:b}}},...c}=al(e,t),u={x:n,y:s},d=await ig(t,c),f=io(ol(i)),m=AA(f);let g=u[m],x=u[f];if(a){const y=m==="y"?"top":"left",N=m==="y"?"bottom":"right",b=g+d[y],j=g-d[N];g=JC(b,g,j)}if(o){const y=f==="y"?"top":"left",N=f==="y"?"bottom":"right",b=x+d[y],j=x-d[N];x=JC(b,x,j)}const v=l.fn({...t,[m]:g,[f]:x});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[m]:a,[f]:o}}}}}},Rre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=al(e,t),d={x:n,y:s},f=io(i),m=AA(f);let g=d[m],x=d[f];const v=al(l,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const j=m==="y"?"height":"width",_=a.reference[m]-a.floating[j]+y.mainAxis,C=a.reference[m]+a.reference[j]-y.mainAxis;g<_?g=_:g>C&&(g=C)}if(u){var N,b;const j=m==="y"?"width":"height",_=u6.has(ol(i)),C=a.reference[f]-a.floating[j]+(_&&((N=o.offset)==null?void 0:N[f])||0)+(_?0:y.crossAxis),A=a.reference[f]+a.reference[j]+(_?0:((b=o.offset)==null?void 0:b[f])||0)-(_?y.crossAxis:0);x<C?x=C:x>A&&(x=A)}return{[m]:g,[f]:x}}}},Lre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=al(e,t),d=await ig(t,u),f=ol(i),m=qf(i),g=io(i)==="y",{width:x,height:v}=a.floating;let y,N;f==="top"||f==="bottom"?(y=f,N=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=f,y=m==="end"?"top":"bottom");const b=v-d.top-d.bottom,j=x-d.left-d.right,_=Sc(v-d[y],b),C=Sc(x-d[N],j),A=!t.middlewareData.shift;let P=_,E=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=j),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(P=b),A&&!m){const $=vi(d.left,0),T=vi(d.right,0),O=vi(d.top,0),L=vi(d.bottom,0);g?E=x-2*($!==0||T!==0?$+T:vi(d.left,d.right)):P=v-2*(O!==0||L!==0?O+L:vi(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:P});const M=await o.getDimensions(l.floating);return x!==M.width||v!==M.height?{reset:{rects:!0}}:{}}}};function fb(){return typeof window<"u"}function Wf(e){return d6(e)?(e.nodeName||"").toLowerCase():"#document"}function Ni(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jo(e){var t;return(t=(d6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function d6(e){return fb()?e instanceof Node||e instanceof Ni(e).Node:!1}function $a(e){return fb()?e instanceof Element||e instanceof Ni(e).Element:!1}function xo(e){return fb()?e instanceof HTMLElement||e instanceof Ni(e).HTMLElement:!1}function SM(e){return!fb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ni(e).ShadowRoot}const Fre=new Set(["inline","contents"]);function lv(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=Ra(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!Fre.has(i)}const Bre=new Set(["table","td","th"]);function zre(e){return Bre.has(Wf(e))}const Vre=[":popover-open",":modal"];function mb(e){return Vre.some(t=>{try{return e.matches(t)}catch{return!1}})}const Ure=["transform","translate","scale","rotate","perspective"],qre=["transform","translate","scale","rotate","perspective","filter"],Wre=["paint","layout","strict","content"];function TA(e){const t=OA(),n=$a(e)?Ra(e):e;return Ure.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||qre.some(s=>(n.willChange||"").includes(s))||Wre.some(s=>(n.contain||"").includes(s))}function Hre(e){let t=Cc(e);for(;xo(t)&&!rf(t);){if(TA(t))return t;if(mb(t))return null;t=Cc(t)}return null}function OA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Gre=new Set(["html","body","#document"]);function rf(e){return Gre.has(Wf(e))}function Ra(e){return Ni(e).getComputedStyle(e)}function pb(e){return $a(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Cc(e){if(Wf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||SM(e)&&e.host||jo(e);return SM(t)?t.host:t}function h6(e){const t=Cc(e);return rf(t)?e.ownerDocument?e.ownerDocument.body:e.body:xo(t)&&lv(t)?t:h6(t)}function ag(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=h6(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),o=Ni(i);if(a){const l=e2(o);return t.concat(o,o.visualViewport||[],lv(i)?i:[],l&&n?ag(l):[])}return t.concat(i,ag(i,[],n))}function e2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function f6(e){const t=Ra(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=xo(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:s,l=y0(n)!==a||y0(s)!==o;return l&&(n=a,s=o),{width:n,height:s,$:l}}function DA(e){return $a(e)?e:e.contextElement}function Ah(e){const t=DA(e);if(!xo(t))return fo(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:a}=f6(t);let o=(a?y0(n.width):n.width)/s,l=(a?y0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Kre=fo(0);function m6(e){const t=Ni(e);return!OA()||!t.visualViewport?Kre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Yre(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ni(e)?!1:t}function qu(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=DA(e);let o=fo(1);t&&(s?$a(s)&&(o=Ah(s)):o=Ah(e));const l=Yre(a,n,s)?m6(a):fo(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const m=Ni(a),g=s&&$a(s)?Ni(s):s;let x=m,v=e2(x);for(;v&&s&&g!==x;){const y=Ah(v),N=v.getBoundingClientRect(),b=Ra(v),j=N.left+(v.clientLeft+parseFloat(b.paddingLeft))*y.x,_=N.top+(v.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=j,u+=_,x=Ni(v),v=e2(x)}}return b0({width:d,height:f,x:c,y:u})}function MA(e,t){const n=pb(e).scrollLeft;return t?t.left+n:qu(jo(e)).left+n}function p6(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:MA(e,s)),a=s.top+t.scrollTop;return{x:i,y:a}}function Qre(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const a=i==="fixed",o=jo(s),l=t?mb(t.floating):!1;if(s===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=fo(1);const d=fo(0),f=xo(s);if((f||!f&&!a)&&((Wf(s)!=="body"||lv(o))&&(c=pb(s)),xo(s))){const g=qu(s);u=Ah(s),d.x=g.x+s.clientLeft,d.y=g.y+s.clientTop}const m=o&&!f&&!a?p6(o,c,!0):fo(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function Xre(e){return Array.from(e.getClientRects())}function Jre(e){const t=jo(e),n=pb(e),s=e.ownerDocument.body,i=vi(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=vi(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+MA(e);const l=-n.scrollTop;return Ra(s).direction==="rtl"&&(o+=vi(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:o,y:l}}function Zre(e,t){const n=Ni(e),s=jo(e),i=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=OA();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}const ese=new Set(["absolute","fixed"]);function tse(e,t){const n=qu(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,a=xo(e)?Ah(e):fo(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=s*a.y;return{width:o,height:l,x:c,y:u}}function CM(e,t,n){let s;if(t==="viewport")s=Zre(e,n);else if(t==="document")s=Jre(jo(e));else if($a(t))s=tse(t,n);else{const i=m6(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return b0(s)}function g6(e,t){const n=Cc(e);return n===t||!$a(n)||rf(n)?!1:Ra(n).position==="fixed"||g6(n,t)}function nse(e,t){const n=t.get(e);if(n)return n;let s=ag(e,[],!1).filter(l=>$a(l)&&Wf(l)!=="body"),i=null;const a=Ra(e).position==="fixed";let o=a?Cc(e):e;for(;$a(o)&&!rf(o);){const l=Ra(o),c=TA(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&ese.has(i.position)||lv(o)&&!c&&g6(e,o))?s=s.filter(d=>d!==o):i=l,o=Cc(o)}return t.set(e,s),s}function rse(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const o=[...n==="clippingAncestors"?mb(t)?[]:nse(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((u,d)=>{const f=CM(t,d,i);return u.top=vi(f.top,u.top),u.right=Sc(f.right,u.right),u.bottom=Sc(f.bottom,u.bottom),u.left=vi(f.left,u.left),u},CM(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function sse(e){const{width:t,height:n}=f6(e);return{width:t,height:n}}function ise(e,t,n){const s=xo(t),i=jo(t),a=n==="fixed",o=qu(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=fo(0);function u(){c.x=MA(i)}if(s||!s&&!a)if((Wf(t)!=="body"||lv(i))&&(l=pb(t)),s){const g=qu(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else i&&u();a&&!s&&i&&u();const d=i&&!s&&!a?p6(i,l):fo(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function XN(e){return Ra(e).position==="static"}function _M(e,t){if(!xo(e)||Ra(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return jo(e)===n&&(n=n.ownerDocument.body),n}function v6(e,t){const n=Ni(e);if(mb(e))return n;if(!xo(e)){let i=Cc(e);for(;i&&!rf(i);){if($a(i)&&!XN(i))return i;i=Cc(i)}return n}let s=_M(e,t);for(;s&&zre(s)&&XN(s);)s=_M(s,t);return s&&rf(s)&&XN(s)&&!TA(s)?n:s||Hre(e)||n}const ase=async function(e){const t=this.getOffsetParent||v6,n=this.getDimensions,s=await n(e.floating);return{reference:ise(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function ose(e){return Ra(e).direction==="rtl"}const lse={convertOffsetParentRelativeRectToViewportRelativeRect:Qre,getDocumentElement:jo,getClippingRect:rse,getOffsetParent:v6,getElementRects:ase,getClientRects:Xre,getDimensions:sse,getScale:Ah,isElement:$a,isRTL:ose};function x6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function cse(e,t){let n=null,s;const i=jo(e);function a(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:g}=u;if(l||t(),!m||!g)return;const x=Gx(f),v=Gx(i.clientWidth-(d+m)),y=Gx(i.clientHeight-(f+g)),N=Gx(d),j={rootMargin:-x+"px "+-v+"px "+-y+"px "+-N+"px",threshold:vi(0,Sc(1,c))||1};let _=!0;function C(A){const P=A[0].intersectionRatio;if(P!==c){if(!_)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!x6(u,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(C,{...j,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,j)}n.observe(e)}return o(!0),a}function use(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=DA(e),d=i||a?[...u?ag(u):[],...ag(t)]:[];d.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const f=u&&l?cse(u,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(N=>{let[b]=N;b&&b.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=g)==null||j.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let x,v=c?qu(e):null;c&&y();function y(){const N=qu(e);v&&!x6(v,N)&&n(),v=N,x=requestAnimationFrame(y)}return n(),()=>{var N;d.forEach(b=>{i&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),f==null||f(),(N=g)==null||N.disconnect(),g=null,c&&cancelAnimationFrame(x)}}const dse=Ire,hse=$re,fse=Ore,mse=Lre,pse=Dre,PM=Tre,gse=Rre,vse=(e,t,n)=>{const s=new Map,i={platform:lse,...n},a={...i.platform,_c:s};return kre(e,t,{...i,platform:a})};var xse=typeof document<"u",yse=function(){},zy=xse?w.useLayoutEffect:yse;function w0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!w0(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!w0(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function y6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function AM(e,t){const n=y6(e);return Math.round(t*n)/n}function JN(e){const t=w.useRef(e);return zy(()=>{t.current=e}),t}function jse(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=w.useState(s);w0(m,s)||g(s);const[x,v]=w.useState(null),[y,N]=w.useState(null),b=w.useCallback(X=>{X!==A.current&&(A.current=X,v(X))},[]),j=w.useCallback(X=>{X!==P.current&&(P.current=X,N(X))},[]),_=a||x,C=o||y,A=w.useRef(null),P=w.useRef(null),E=w.useRef(d),M=c!=null,$=JN(c),T=JN(i),O=JN(u),L=w.useCallback(()=>{if(!A.current||!P.current)return;const X={placement:t,strategy:n,middleware:m};T.current&&(X.platform=T.current),vse(A.current,P.current,X).then(D=>{const ie={...D,isPositioned:O.current!==!1};B.current&&!w0(E.current,ie)&&(E.current=ie,ld.flushSync(()=>{f(ie)}))})},[m,t,n,T,O]);zy(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(X=>({...X,isPositioned:!1})))},[u]);const B=w.useRef(!1);zy(()=>(B.current=!0,()=>{B.current=!1}),[]),zy(()=>{if(_&&(A.current=_),C&&(P.current=C),_&&C){if($.current)return $.current(_,C,L);L()}},[_,C,L,$,M]);const Z=w.useMemo(()=>({reference:A,floating:P,setReference:b,setFloating:j}),[b,j]),H=w.useMemo(()=>({reference:_,floating:C}),[_,C]),ae=w.useMemo(()=>{const X={position:n,left:0,top:0};if(!H.floating)return X;const D=AM(H.floating,d.x),ie=AM(H.floating,d.y);return l?{...X,transform:"translate("+D+"px, "+ie+"px)",...y6(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:ie}},[n,l,H.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:L,refs:Z,elements:H,floatingStyles:ae}),[d,L,Z,H,ae])}const bse=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?PM({element:s.current,padding:i}).fn(n):{}:s?PM({element:s,padding:i}).fn(n):{}}}},wse=(e,t)=>({...dse(e),options:[e,t]}),Nse=(e,t)=>({...hse(e),options:[e,t]}),Sse=(e,t)=>({...gse(e),options:[e,t]}),Cse=(e,t)=>({...fse(e),options:[e,t]}),_se=(e,t)=>({...mse(e),options:[e,t]}),Pse=(e,t)=>({...pse(e),options:[e,t]}),Ase=(e,t)=>({...bse(e),options:[e,t]});var Ese="Arrow",j6=w.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...a}=e;return r.jsx(st.svg,{...a,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});j6.displayName=Ese;var kse=j6;function IA(e){const[t,n]=w.useState(void 0);return Nr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var $A="Popper",[b6,Tc]=ni($A),[Tse,w6]=b6($A),N6=e=>{const{__scopePopper:t,children:n}=e,[s,i]=w.useState(null);return r.jsx(Tse,{scope:t,anchor:s,onAnchorChange:i,children:n})};N6.displayName=$A;var S6="PopperAnchor",C6=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,a=w6(S6,n),o=w.useRef(null),l=Xt(t,o);return w.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(st.div,{...i,ref:l})});C6.displayName=S6;var RA="PopperContent",[Ose,Dse]=b6(RA),_6=w.forwardRef((e,t)=>{var be,z,Y,ee,G,I;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...v}=e,y=w6(RA,n),[N,b]=w.useState(null),j=Xt(t,xe=>b(xe)),[_,C]=w.useState(null),A=IA(_),P=(A==null?void 0:A.width)??0,E=(A==null?void 0:A.height)??0,M=s+(a!=="center"?"-"+a:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],O=T.length>0,L={padding:$,boundary:T.filter(Ise),altBoundary:O},{refs:B,floatingStyles:Z,placement:H,isPositioned:ae,middlewareData:X}=jse({strategy:"fixed",placement:M,whileElementsMounted:(...xe)=>use(...xe,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[wse({mainAxis:i+E,alignmentAxis:o}),c&&Nse({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Sse():void 0,...L}),c&&Cse({...L}),_se({...L,apply:({elements:xe,rects:Ne,availableWidth:Be,availableHeight:Fe})=>{const{width:it,height:lt}=Ne.reference,ft=xe.floating.style;ft.setProperty("--radix-popper-available-width",`${Be}px`),ft.setProperty("--radix-popper-available-height",`${Fe}px`),ft.setProperty("--radix-popper-anchor-width",`${it}px`),ft.setProperty("--radix-popper-anchor-height",`${lt}px`)}}),_&&Ase({element:_,padding:l}),$se({arrowWidth:P,arrowHeight:E}),m&&Pse({strategy:"referenceHidden",...L})]}),[D,ie]=E6(H),me=$s(x);Nr(()=>{ae&&(me==null||me())},[ae,me]);const te=(be=X.arrow)==null?void 0:be.x,J=(z=X.arrow)==null?void 0:z.y,ne=((Y=X.arrow)==null?void 0:Y.centerOffset)!==0,[ve,ye]=w.useState();return Nr(()=>{N&&ye(window.getComputedStyle(N).zIndex)},[N]),r.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:ae?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(ee=X.transformOrigin)==null?void 0:ee.x,(G=X.transformOrigin)==null?void 0:G.y].join(" "),...((I=X.hide)==null?void 0:I.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(Ose,{scope:n,placedSide:D,onArrowChange:C,arrowX:te,arrowY:J,shouldHideArrow:ne,children:r.jsx(st.div,{"data-side":D,"data-align":ie,...v,ref:j,style:{...v.style,animation:ae?void 0:"none"}})})})});_6.displayName=RA;var P6="PopperArrow",Mse={top:"bottom",right:"left",bottom:"top",left:"right"},A6=w.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,a=Dse(P6,s),o=Mse[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(kse,{...i,ref:n,style:{...i.style,display:"block"}})})});A6.displayName=P6;function Ise(e){return e!==null}var $se=e=>({name:"transformOrigin",options:e,fn(t){var y,N,b;const{placement:n,rects:s,middlewareData:i}=t,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=E6(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((N=i.arrow)==null?void 0:N.x)??0)+l/2,g=(((b=i.arrow)==null?void 0:b.y)??0)+c/2;let x="",v="";return u==="bottom"?(x=o?f:`${m}px`,v=`${-c}px`):u==="top"?(x=o?f:`${m}px`,v=`${s.floating.height+c}px`):u==="right"?(x=`${-c}px`,v=o?f:`${g}px`):u==="left"&&(x=`${s.floating.width+c}px`,v=o?f:`${g}px`),{data:{x,y:v}}}});function E6(e){const[t,n="center"]=e.split("-");return[t,n]}var LA=N6,cv=C6,gb=_6,vb=A6,[xb,A6e]=ni("Tooltip",[Tc]),FA=Tc(),k6="TooltipProvider",Rse=700,EM="tooltip.open",[Lse,T6]=xb(k6),O6=e=>{const{__scopeTooltip:t,delayDuration:n=Rse,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=e,o=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),r.jsx(Lse,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};O6.displayName=k6;var D6="Tooltip",[E6e,yb]=xb(D6),t2="TooltipTrigger",Fse=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=yb(t2,n),a=T6(t2,n),o=FA(n),l=w.useRef(null),c=Xt(t,l,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(cv,{asChild:!0,...o,children:r.jsx(st.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:c,onPointerMove:He(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:He(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:He(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:He(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:He(e.onBlur,i.onClose),onClick:He(e.onClick,i.onClose)})})});Fse.displayName=t2;var Bse="TooltipPortal",[k6e,zse]=xb(Bse,{forceMount:void 0}),sf="TooltipContent",M6=w.forwardRef((e,t)=>{const n=zse(sf,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...a}=e,o=yb(sf,e.__scopeTooltip);return r.jsx(ri,{present:s||o.open,children:o.disableHoverableContent?r.jsx(I6,{side:i,...a,ref:t}):r.jsx(Vse,{side:i,...a,ref:t})})}),Vse=w.forwardRef((e,t)=>{const n=yb(sf,e.__scopeTooltip),s=T6(sf,e.__scopeTooltip),i=w.useRef(null),a=Xt(t,i),[o,l]=w.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=s,m=w.useCallback(()=>{l(null),f(!1)},[f]),g=w.useCallback((x,v)=>{const y=x.currentTarget,N={x:x.clientX,y:x.clientY},b=Gse(N,y.getBoundingClientRect()),j=Kse(N,b),_=Yse(v.getBoundingClientRect()),C=Xse([...j,..._]);l(C),f(!0)},[f]);return w.useEffect(()=>()=>m(),[m]),w.useEffect(()=>{if(c&&d){const x=y=>g(y,d),v=y=>g(y,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",v)}}},[c,d,g,m]),w.useEffect(()=>{if(o){const x=v=>{const y=v.target,N={x:v.clientX,y:v.clientY},b=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),j=!Qse(N,o);b?m():j&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,m]),r.jsx(I6,{...e,ref:a})}),[Use,qse]=xb(D6,{isInside:!1}),Wse=Wee("TooltipContent"),I6=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=yb(sf,n),u=FA(n),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(EM,d),()=>document.removeEventListener(EM,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),r.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:r.jsxs(gb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Wse,{children:s}),r.jsx(Use,{scope:n,isInside:!0,children:r.jsx(fte,{id:c.contentId,role:"tooltip",children:i||s})})]})})});M6.displayName=sf;var $6="TooltipArrow",Hse=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=FA(n);return qse($6,n).isInside?null:r.jsx(vb,{...i,...s,ref:t})});Hse.displayName=$6;function Gse(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,i,a)){case a:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Kse(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function Yse(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function Qse(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(i=!i)}return i}function Xse(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Jse(t)}function Jse(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Zse=O6,R6=M6;const eie=Zse,tie=w.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(R6,{ref:s,sideOffset:t,className:Ze("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));tie.displayName=R6.displayName;var Hf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nie={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Hl,SP,X3,rie=(X3=class{constructor(){ut(this,Hl,nie);ut(this,SP,!1)}setTimeoutProvider(e){Xe(this,Hl,e)}setTimeout(e,t){return ce(this,Hl).setTimeout(e,t)}clearTimeout(e){ce(this,Hl).clearTimeout(e)}setInterval(e,t){return ce(this,Hl).setInterval(e,t)}clearInterval(e){ce(this,Hl).clearInterval(e)}},Hl=new WeakMap,SP=new WeakMap,X3),xu=new rie;function sie(e){setTimeout(e,0)}var Wu=typeof window>"u"||"Deno"in globalThis;function ks(){}function iie(e,t){return typeof e=="function"?e(t):e}function n2(e){return typeof e=="number"&&e>=0&&e!==1/0}function L6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pc(e,t){return typeof e=="function"?e(t):e}function Vi(e,t){return typeof e=="function"?e(t):e}function kM(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==BA(o,t.options))return!1}else if(!og(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function TM(e,t){const{exact:n,status:s,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Hu(t.options.mutationKey)!==Hu(a))return!1}else if(!og(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function BA(e,t){return((t==null?void 0:t.queryKeyHashFn)||Hu)(e)}function Hu(e){return JSON.stringify(e,(t,n)=>r2(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function og(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>og(e[n],t[n])):!1}var aie=Object.prototype.hasOwnProperty;function F6(e,t){if(e===t)return e;const n=OM(e)&&OM(t);if(!n&&!(r2(e)&&r2(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u],f=e[d],m=t[d];if(f===m){l[d]=f,(n?u<i:aie.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const g=F6(f,m);l[d]=g,g===f&&c++}return i===o&&c===i?e:l}function N0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function OM(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function r2(e){if(!DM(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!DM(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function DM(e){return Object.prototype.toString.call(e)==="[object Object]"}function oie(e){return new Promise(t=>{xu.setTimeout(t,e)})}function s2(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?F6(e,t):t}function lie(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function cie(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var zA=Symbol();function B6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===zA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function z6(e,t){return typeof e=="function"?e(...t):!!e}var Su,Gl,Ih,J3,uie=(J3=class extends Hf{constructor(){super();ut(this,Su);ut(this,Gl);ut(this,Ih);Xe(this,Ih,t=>{if(!Wu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ce(this,Gl)||this.setEventListener(ce(this,Ih))}onUnsubscribe(){var t;this.hasListeners()||((t=ce(this,Gl))==null||t.call(this),Xe(this,Gl,void 0))}setEventListener(t){var n;Xe(this,Ih,t),(n=ce(this,Gl))==null||n.call(this),Xe(this,Gl,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){ce(this,Su)!==t&&(Xe(this,Su,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ce(this,Su)=="boolean"?ce(this,Su):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Su=new WeakMap,Gl=new WeakMap,Ih=new WeakMap,J3),VA=new uie;function i2(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}var die=sie;function hie(){let e=[],t=0,n=l=>{l()},s=l=>{l()},i=die;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var Tr=hie(),$h,Kl,Rh,Z3,fie=(Z3=class extends Hf{constructor(){super();ut(this,$h,!0);ut(this,Kl);ut(this,Rh);Xe(this,Rh,t=>{if(!Wu&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){ce(this,Kl)||this.setEventListener(ce(this,Rh))}onUnsubscribe(){var t;this.hasListeners()||((t=ce(this,Kl))==null||t.call(this),Xe(this,Kl,void 0))}setEventListener(t){var n;Xe(this,Rh,t),(n=ce(this,Kl))==null||n.call(this),Xe(this,Kl,t(this.setOnline.bind(this)))}setOnline(t){ce(this,$h)!==t&&(Xe(this,$h,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return ce(this,$h)}},$h=new WeakMap,Kl=new WeakMap,Rh=new WeakMap,Z3),S0=new fie;function mie(e){return Math.min(1e3*2**e,3e4)}function V6(e){return(e??"online")==="online"?S0.isOnline():!0}var a2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function U6(e){let t=!1,n=0,s;const i=i2(),a=()=>i.status!=="pending",o=v=>{var y;if(!a()){const N=new a2(v);m(N),(y=e.onCancel)==null||y.call(e,N)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>VA.isFocused()&&(e.networkMode==="always"||S0.isOnline())&&e.canRun(),d=()=>V6(e.networkMode)&&e.canRun(),f=v=>{a()||(s==null||s(),i.resolve(v))},m=v=>{a()||(s==null||s(),i.reject(v))},g=()=>new Promise(v=>{var y;s=N=>{(a()||u())&&v(N)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;s=void 0,a()||(v=e.onContinue)==null||v.call(e)}),x=()=>{if(a())return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(N){v=Promise.reject(N)}Promise.resolve(v).then(f).catch(N=>{var A;if(a())return;const b=e.retry??(Wu?0:3),j=e.retryDelay??mie,_=typeof j=="function"?j(n,N):j,C=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,N);if(t||!C){m(N);return}n++,(A=e.onFail)==null||A.call(e,n,N),oie(_).then(()=>u()?void 0:g()).then(()=>{t?m(N):x()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():g().then(x),i)}}var Cu,eL,q6=(eL=class{constructor(){ut(this,Cu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),n2(this.gcTime)&&Xe(this,Cu,xu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wu?1/0:5*60*1e3))}clearGcTimeout(){ce(this,Cu)&&(xu.clearTimeout(ce(this,Cu)),Xe(this,Cu,void 0))}},Cu=new WeakMap,eL),_u,Lh,zi,Pu,Lr,Qg,Au,va,$o,tL,pie=(tL=class extends q6{constructor(t){super();ut(this,va);ut(this,_u);ut(this,Lh);ut(this,zi);ut(this,Pu);ut(this,Lr);ut(this,Qg);ut(this,Au);Xe(this,Au,!1),Xe(this,Qg,t.defaultOptions),this.setOptions(t.options),this.observers=[],Xe(this,Pu,t.client),Xe(this,zi,ce(this,Pu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Xe(this,_u,MM(this.options)),this.state=t.state??ce(this,_u),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ce(this,Lr))==null?void 0:t.promise}setOptions(t){if(this.options={...ce(this,Qg),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=MM(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Xe(this,_u,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ce(this,zi).remove(this)}setData(t,n){const s=s2(this.state.data,t,this.options);return zt(this,va,$o).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){zt(this,va,$o).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,i;const n=(s=ce(this,Lr))==null?void 0:s.promise;return(i=ce(this,Lr))==null||i.cancel(t),n?n.then(ks).catch(ks):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ce(this,_u))}isActive(){return this.observers.some(t=>Vi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>pc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!L6(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ce(this,Lr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ce(this,Lr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ce(this,zi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ce(this,Lr)&&(ce(this,Au)?ce(this,Lr).cancel({revert:!0}):ce(this,Lr).cancelRetry()),this.scheduleGc()),ce(this,zi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||zt(this,va,$o).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,m,g,x,v,y,N,b,j;if(this.state.fetchStatus!=="idle"&&((c=ce(this,Lr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ce(this,Lr))return ce(this,Lr).continueRetry(),ce(this,Lr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(C=>C.options.queryFn);_&&this.setOptions(_.options)}const s=new AbortController,i=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Xe(this,Au,!0),s.signal)})},a=()=>{const _=B6(this.options,n),A=(()=>{const P={client:ce(this,Pu),queryKey:this.queryKey,meta:this.meta};return i(P),P})();return Xe(this,Au,!1),this.options.persister?this.options.persister(_,A,this):_(A)},l=(()=>{const _={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ce(this,Pu),state:this.state,fetchFn:a};return i(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),Xe(this,Lh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&zt(this,va,$o).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Xe(this,Lr,U6({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof a2&&_.revert&&this.setState({...ce(this,Lh),fetchStatus:"idle"}),s.abort()},onFail:(_,C)=>{zt(this,va,$o).call(this,{type:"failed",failureCount:_,error:C})},onPause:()=>{zt(this,va,$o).call(this,{type:"pause"})},onContinue:()=>{zt(this,va,$o).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await ce(this,Lr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(g=(m=ce(this,zi).config).onSuccess)==null||g.call(m,_,this),(v=(x=ce(this,zi).config).onSettled)==null||v.call(x,_,this.state.error,this),_}catch(_){if(_ instanceof a2){if(_.silent)return ce(this,Lr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw zt(this,va,$o).call(this,{type:"error",error:_}),(N=(y=ce(this,zi).config).onError)==null||N.call(y,_,this),(j=(b=ce(this,zi).config).onSettled)==null||j.call(b,this.state.data,_,this),_}finally{this.scheduleGc()}}},_u=new WeakMap,Lh=new WeakMap,zi=new WeakMap,Pu=new WeakMap,Lr=new WeakMap,Qg=new WeakMap,Au=new WeakMap,va=new WeakSet,$o=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...W6(s.data,this.options),fetchMeta:t.meta??null};case"success":const i={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Xe(this,Lh,t.manual?i:void 0),i;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Tr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ce(this,zi).notify({query:this,type:"updated",action:t})})},tL);function W6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:V6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function MM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hs,rn,Xg,Ps,Eu,Fh,Vo,Yl,Jg,Bh,zh,ku,Tu,Ql,Vh,mn,pp,o2,l2,c2,u2,d2,h2,f2,H6,nL,gie=(nL=class extends Hf{constructor(t,n){super();ut(this,mn);ut(this,Hs);ut(this,rn);ut(this,Xg);ut(this,Ps);ut(this,Eu);ut(this,Fh);ut(this,Vo);ut(this,Yl);ut(this,Jg);ut(this,Bh);ut(this,zh);ut(this,ku);ut(this,Tu);ut(this,Ql);ut(this,Vh,new Set);this.options=n,Xe(this,Hs,t),Xe(this,Yl,null),Xe(this,Vo,i2()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ce(this,rn).addObserver(this),IM(ce(this,rn),this.options)?zt(this,mn,pp).call(this):this.updateResult(),zt(this,mn,u2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return m2(ce(this,rn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return m2(ce(this,rn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,zt(this,mn,d2).call(this),zt(this,mn,h2).call(this),ce(this,rn).removeObserver(this)}setOptions(t){const n=this.options,s=ce(this,rn);if(this.options=ce(this,Hs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vi(this.options.enabled,ce(this,rn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");zt(this,mn,f2).call(this),ce(this,rn).setOptions(this.options),n._defaulted&&!N0(this.options,n)&&ce(this,Hs).getQueryCache().notify({type:"observerOptionsUpdated",query:ce(this,rn),observer:this});const i=this.hasListeners();i&&$M(ce(this,rn),s,this.options,n)&&zt(this,mn,pp).call(this),this.updateResult(),i&&(ce(this,rn)!==s||Vi(this.options.enabled,ce(this,rn))!==Vi(n.enabled,ce(this,rn))||pc(this.options.staleTime,ce(this,rn))!==pc(n.staleTime,ce(this,rn)))&&zt(this,mn,o2).call(this);const a=zt(this,mn,l2).call(this);i&&(ce(this,rn)!==s||Vi(this.options.enabled,ce(this,rn))!==Vi(n.enabled,ce(this,rn))||a!==ce(this,Ql))&&zt(this,mn,c2).call(this,a)}getOptimisticResult(t){const n=ce(this,Hs).getQueryCache().build(ce(this,Hs),t),s=this.createResult(n,t);return xie(this,s)&&(Xe(this,Ps,s),Xe(this,Fh,this.options),Xe(this,Eu,ce(this,rn).state)),s}getCurrentResult(){return ce(this,Ps)}trackResult(t,n){return new Proxy(t,{get:(s,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&ce(this,Vo).status==="pending"&&ce(this,Vo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,i))})}trackProp(t){ce(this,Vh).add(t)}getCurrentQuery(){return ce(this,rn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ce(this,Hs).defaultQueryOptions(t),s=ce(this,Hs).getQueryCache().build(ce(this,Hs),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return zt(this,mn,pp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ce(this,Ps)))}createResult(t,n){var M;const s=ce(this,rn),i=this.options,a=ce(this,Ps),o=ce(this,Eu),l=ce(this,Fh),u=t!==s?t.state:ce(this,Xg),{state:d}=t;let f={...d},m=!1,g;if(n._optimisticResults){const $=this.hasListeners(),T=!$&&IM(t,n),O=$&&$M(t,s,n,i);(T||O)&&(f={...f,...W6(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:y}=f;g=f.data;let N=!1;if(n.placeholderData!==void 0&&g===void 0&&y==="pending"){let $;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?($=a.data,N=!0):$=typeof n.placeholderData=="function"?n.placeholderData((M=ce(this,zh))==null?void 0:M.state.data,ce(this,zh)):n.placeholderData,$!==void 0&&(y="success",g=s2(a==null?void 0:a.data,$,n),m=!0)}if(n.select&&g!==void 0&&!N)if(a&&g===(o==null?void 0:o.data)&&n.select===ce(this,Jg))g=ce(this,Bh);else try{Xe(this,Jg,n.select),g=n.select(g),g=s2(a==null?void 0:a.data,g,n),Xe(this,Bh,g),Xe(this,Yl,null)}catch($){Xe(this,Yl,$)}ce(this,Yl)&&(x=ce(this,Yl),g=ce(this,Bh),v=Date.now(),y="error");const b=f.fetchStatus==="fetching",j=y==="pending",_=y==="error",C=j&&b,A=g!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:j,isSuccess:y==="success",isError:_,isInitialLoading:C,isLoading:C,data:g,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!j,isLoadingError:_&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&A,isStale:UA(t,n),refetch:this.refetch,promise:ce(this,Vo),isEnabled:Vi(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=L=>{E.status==="error"?L.reject(E.error):E.data!==void 0&&L.resolve(E.data)},T=()=>{const L=Xe(this,Vo,E.promise=i2());$(L)},O=ce(this,Vo);switch(O.status){case"pending":t.queryHash===s.queryHash&&$(O);break;case"fulfilled":(E.status==="error"||E.data!==O.value)&&T();break;case"rejected":(E.status!=="error"||E.error!==O.reason)&&T();break}}return E}updateResult(){const t=ce(this,Ps),n=this.createResult(ce(this,rn),this.options);if(Xe(this,Eu,ce(this,rn).state),Xe(this,Fh,this.options),ce(this,Eu).data!==void 0&&Xe(this,zh,ce(this,rn)),N0(n,t))return;Xe(this,Ps,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!ce(this,Vh).size)return!0;const o=new Set(a??ce(this,Vh));return this.options.throwOnError&&o.add("error"),Object.keys(ce(this,Ps)).some(l=>{const c=l;return ce(this,Ps)[c]!==t[c]&&o.has(c)})};zt(this,mn,H6).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&zt(this,mn,u2).call(this)}},Hs=new WeakMap,rn=new WeakMap,Xg=new WeakMap,Ps=new WeakMap,Eu=new WeakMap,Fh=new WeakMap,Vo=new WeakMap,Yl=new WeakMap,Jg=new WeakMap,Bh=new WeakMap,zh=new WeakMap,ku=new WeakMap,Tu=new WeakMap,Ql=new WeakMap,Vh=new WeakMap,mn=new WeakSet,pp=function(t){zt(this,mn,f2).call(this);let n=ce(this,rn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(ks)),n},o2=function(){zt(this,mn,d2).call(this);const t=pc(this.options.staleTime,ce(this,rn));if(Wu||ce(this,Ps).isStale||!n2(t))return;const s=L6(ce(this,Ps).dataUpdatedAt,t)+1;Xe(this,ku,xu.setTimeout(()=>{ce(this,Ps).isStale||this.updateResult()},s))},l2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ce(this,rn)):this.options.refetchInterval)??!1},c2=function(t){zt(this,mn,h2).call(this),Xe(this,Ql,t),!(Wu||Vi(this.options.enabled,ce(this,rn))===!1||!n2(ce(this,Ql))||ce(this,Ql)===0)&&Xe(this,Tu,xu.setInterval(()=>{(this.options.refetchIntervalInBackground||VA.isFocused())&&zt(this,mn,pp).call(this)},ce(this,Ql)))},u2=function(){zt(this,mn,o2).call(this),zt(this,mn,c2).call(this,zt(this,mn,l2).call(this))},d2=function(){ce(this,ku)&&(xu.clearTimeout(ce(this,ku)),Xe(this,ku,void 0))},h2=function(){ce(this,Tu)&&(xu.clearInterval(ce(this,Tu)),Xe(this,Tu,void 0))},f2=function(){const t=ce(this,Hs).getQueryCache().build(ce(this,Hs),this.options);if(t===ce(this,rn))return;const n=ce(this,rn);Xe(this,rn,t),Xe(this,Xg,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},H6=function(t){Tr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ce(this,Ps))}),ce(this,Hs).getQueryCache().notify({query:ce(this,rn),type:"observerResultsUpdated"})})},nL);function vie(e,t){return Vi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function IM(e,t){return vie(e,t)||e.state.data!==void 0&&m2(e,t,t.refetchOnMount)}function m2(e,t,n){if(Vi(t.enabled,e)!==!1&&pc(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&UA(e,t)}return!1}function $M(e,t,n,s){return(e!==t||Vi(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&UA(e,n)}function UA(e,t){return Vi(t.enabled,e)!==!1&&e.isStaleByTime(pc(t.staleTime,e))}function xie(e,t){return!N0(e.getCurrentResult(),t)}function RM(e){return{onFetch:(t,n)=>{var d,f,m,g,x;const s=t.options,i=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},N=B6(t.options,t.fetchOptions),b=async(j,_,C)=>{if(v)return Promise.reject();if(_==null&&j.pages.length)return Promise.resolve(j);const P=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:_,direction:C?"backward":"forward",meta:t.options.meta};return y(T),T})(),E=await N(P),{maxPages:M}=t.options,$=C?cie:lie;return{pages:$(j.pages,E,M),pageParams:$(j.pageParams,_,M)}};if(i&&a.length){const j=i==="backward",_=j?yie:LM,C={pages:a,pageParams:o},A=_(s,C);l=await b(C,A,j)}else{const j=e??a.length;do{const _=c===0?o[0]??s.initialPageParam:LM(s,l);if(c>0&&_==null)break;l=await b(l,_),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function LM(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function yie(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var Zg,Ja,As,Ou,Za,Il,rL,jie=(rL=class extends q6{constructor(t){super();ut(this,Za);ut(this,Zg);ut(this,Ja);ut(this,As);ut(this,Ou);Xe(this,Zg,t.client),this.mutationId=t.mutationId,Xe(this,As,t.mutationCache),Xe(this,Ja,[]),this.state=t.state||G6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ce(this,Ja).includes(t)||(ce(this,Ja).push(t),this.clearGcTimeout(),ce(this,As).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Xe(this,Ja,ce(this,Ja).filter(n=>n!==t)),this.scheduleGc(),ce(this,As).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ce(this,Ja).length||(this.state.status==="pending"?this.scheduleGc():ce(this,As).remove(this))}continue(){var t;return((t=ce(this,Ou))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,m,g,x,v,y,N,b,j,_,C,A,P,E,M;const n=()=>{zt(this,Za,Il).call(this,{type:"continue"})},s={client:ce(this,Zg),meta:this.options.meta,mutationKey:this.options.mutationKey};Xe(this,Ou,U6({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:($,T)=>{zt(this,Za,Il).call(this,{type:"failed",failureCount:$,error:T})},onPause:()=>{zt(this,Za,Il).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ce(this,As).canRun(this)}));const i=this.state.status==="pending",a=!ce(this,Ou).canStart();try{if(i)n();else{zt(this,Za,Il).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=ce(this,As).config).onMutate)==null?void 0:l.call(o,t,this,s));const T=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,s));T!==this.state.context&&zt(this,Za,Il).call(this,{type:"pending",context:T,variables:t,isPaused:a})}const $=await ce(this,Ou).start();return await((f=(d=ce(this,As).config).onSuccess)==null?void 0:f.call(d,$,t,this.state.context,this,s)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,$,t,this.state.context,s)),await((v=(x=ce(this,As).config).onSettled)==null?void 0:v.call(x,$,null,this.state.variables,this.state.context,this,s)),await((N=(y=this.options).onSettled)==null?void 0:N.call(y,$,null,t,this.state.context,s)),zt(this,Za,Il).call(this,{type:"success",data:$}),$}catch($){try{throw await((j=(b=ce(this,As).config).onError)==null?void 0:j.call(b,$,t,this.state.context,this,s)),await((C=(_=this.options).onError)==null?void 0:C.call(_,$,t,this.state.context,s)),await((P=(A=ce(this,As).config).onSettled)==null?void 0:P.call(A,void 0,$,this.state.variables,this.state.context,this,s)),await((M=(E=this.options).onSettled)==null?void 0:M.call(E,void 0,$,t,this.state.context,s)),$}finally{zt(this,Za,Il).call(this,{type:"error",error:$})}}finally{ce(this,As).runNext(this)}}},Zg=new WeakMap,Ja=new WeakMap,As=new WeakMap,Ou=new WeakMap,Za=new WeakSet,Il=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Tr.batch(()=>{ce(this,Ja).forEach(s=>{s.onMutationUpdate(t)}),ce(this,As).notify({mutation:this,type:"updated",action:t})})},rL);function G6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Uo,xa,ev,sL,bie=(sL=class extends Hf{constructor(t={}){super();ut(this,Uo);ut(this,xa);ut(this,ev);this.config=t,Xe(this,Uo,new Set),Xe(this,xa,new Map),Xe(this,ev,0)}build(t,n,s){const i=new jie({client:t,mutationCache:this,mutationId:++_x(this,ev)._,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){ce(this,Uo).add(t);const n=Kx(t);if(typeof n=="string"){const s=ce(this,xa).get(n);s?s.push(t):ce(this,xa).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ce(this,Uo).delete(t)){const n=Kx(t);if(typeof n=="string"){const s=ce(this,xa).get(n);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&ce(this,xa).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Kx(t);if(typeof n=="string"){const s=ce(this,xa).get(n),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const n=Kx(t);if(typeof n=="string"){const i=(s=ce(this,xa).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tr.batch(()=>{ce(this,Uo).forEach(t=>{this.notify({type:"removed",mutation:t})}),ce(this,Uo).clear(),ce(this,xa).clear()})}getAll(){return Array.from(ce(this,Uo))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>TM(n,s))}findAll(t={}){return this.getAll().filter(n=>TM(t,n))}notify(t){Tr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Tr.batch(()=>Promise.all(t.map(n=>n.continue().catch(ks))))}},Uo=new WeakMap,xa=new WeakMap,ev=new WeakMap,sL);function Kx(e){var t;return(t=e.options.scope)==null?void 0:t.id}var qo,Xl,Gs,Wo,el,Vy,p2,iL,wie=(iL=class extends Hf{constructor(n,s){super();ut(this,el);ut(this,qo);ut(this,Xl);ut(this,Gs);ut(this,Wo);Xe(this,qo,n),this.setOptions(s),this.bindMethods(),zt(this,el,Vy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const s=this.options;this.options=ce(this,qo).defaultMutationOptions(n),N0(this.options,s)||ce(this,qo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ce(this,Gs),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Hu(s.mutationKey)!==Hu(this.options.mutationKey)?this.reset():((i=ce(this,Gs))==null?void 0:i.state.status)==="pending"&&ce(this,Gs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ce(this,Gs))==null||n.removeObserver(this)}onMutationUpdate(n){zt(this,el,Vy).call(this),zt(this,el,p2).call(this,n)}getCurrentResult(){return ce(this,Xl)}reset(){var n;(n=ce(this,Gs))==null||n.removeObserver(this),Xe(this,Gs,void 0),zt(this,el,Vy).call(this),zt(this,el,p2).call(this)}mutate(n,s){var i;return Xe(this,Wo,s),(i=ce(this,Gs))==null||i.removeObserver(this),Xe(this,Gs,ce(this,qo).getMutationCache().build(ce(this,qo),this.options)),ce(this,Gs).addObserver(this),ce(this,Gs).execute(n)}},qo=new WeakMap,Xl=new WeakMap,Gs=new WeakMap,Wo=new WeakMap,el=new WeakSet,Vy=function(){var s;const n=((s=ce(this,Gs))==null?void 0:s.state)??G6();Xe(this,Xl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},p2=function(n){Tr.batch(()=>{var s,i,a,o,l,c,u,d;if(ce(this,Wo)&&this.hasListeners()){const f=ce(this,Xl).variables,m=ce(this,Xl).context,g={client:ce(this,qo),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(s=ce(this,Wo)).onSuccess)==null||i.call(s,n.data,f,m,g),(o=(a=ce(this,Wo)).onSettled)==null||o.call(a,n.data,null,f,m,g)):(n==null?void 0:n.type)==="error"&&((c=(l=ce(this,Wo)).onError)==null||c.call(l,n.error,f,m,g),(d=(u=ce(this,Wo)).onSettled)==null||d.call(u,void 0,n.error,f,m,g))}this.listeners.forEach(f=>{f(ce(this,Xl))})})},iL),eo,aL,Nie=(aL=class extends Hf{constructor(t={}){super();ut(this,eo);this.config=t,Xe(this,eo,new Map)}build(t,n,s){const i=n.queryKey,a=n.queryHash??BA(i,n);let o=this.get(a);return o||(o=new pie({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){ce(this,eo).has(t.queryHash)||(ce(this,eo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ce(this,eo).get(t.queryHash);n&&(t.destroy(),n===t&&ce(this,eo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ce(this,eo).get(t)}getAll(){return[...ce(this,eo).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>kM(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>kM(t,s)):n}notify(t){Tr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},eo=new WeakMap,aL),ir,Jl,Zl,Uh,qh,ec,Wh,Hh,oL,Sie=(oL=class{constructor(e={}){ut(this,ir);ut(this,Jl);ut(this,Zl);ut(this,Uh);ut(this,qh);ut(this,ec);ut(this,Wh);ut(this,Hh);Xe(this,ir,e.queryCache||new Nie),Xe(this,Jl,e.mutationCache||new bie),Xe(this,Zl,e.defaultOptions||{}),Xe(this,Uh,new Map),Xe(this,qh,new Map),Xe(this,ec,0)}mount(){_x(this,ec)._++,ce(this,ec)===1&&(Xe(this,Wh,VA.subscribe(async e=>{e&&(await this.resumePausedMutations(),ce(this,ir).onFocus())})),Xe(this,Hh,S0.subscribe(async e=>{e&&(await this.resumePausedMutations(),ce(this,ir).onOnline())})))}unmount(){var e,t;_x(this,ec)._--,ce(this,ec)===0&&((e=ce(this,Wh))==null||e.call(this),Xe(this,Wh,void 0),(t=ce(this,Hh))==null||t.call(this),Xe(this,Hh,void 0))}isFetching(e){return ce(this,ir).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ce(this,Jl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ce(this,ir).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ce(this,ir).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(pc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return ce(this,ir).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=ce(this,ir).get(s.queryHash),a=i==null?void 0:i.state.data,o=iie(t,a);if(o!==void 0)return ce(this,ir).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Tr.batch(()=>ce(this,ir).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ce(this,ir).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ce(this,ir);Tr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ce(this,ir);return Tr.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Tr.batch(()=>ce(this,ir).findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(ks).catch(ks)}invalidateQueries(e,t={}){return Tr.batch(()=>(ce(this,ir).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Tr.batch(()=>ce(this,ir).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(ks)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(ks)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ce(this,ir).build(this,t);return n.isStaleByTime(pc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ks).catch(ks)}fetchInfiniteQuery(e){return e.behavior=RM(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ks).catch(ks)}ensureInfiniteQueryData(e){return e.behavior=RM(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return S0.isOnline()?ce(this,Jl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ce(this,ir)}getMutationCache(){return ce(this,Jl)}getDefaultOptions(){return ce(this,Zl)}setDefaultOptions(e){Xe(this,Zl,e)}setQueryDefaults(e,t){ce(this,Uh).set(Hu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ce(this,Uh).values()],n={};return t.forEach(s=>{og(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){ce(this,qh).set(Hu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ce(this,qh).values()],n={};return t.forEach(s=>{og(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ce(this,Zl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=BA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===zA&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ce(this,Zl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ce(this,ir).clear(),ce(this,Jl).clear()}},ir=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,Uh=new WeakMap,qh=new WeakMap,ec=new WeakMap,Wh=new WeakMap,Hh=new WeakMap,oL),K6=w.createContext(void 0),is=e=>{const t=w.useContext(K6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Cie=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(K6.Provider,{value:e,children:t})),Y6=w.createContext(!1),_ie=()=>w.useContext(Y6);Y6.Provider;function Pie(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Aie=w.createContext(Pie()),Eie=()=>w.useContext(Aie),kie=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Tie=e=>{w.useEffect(()=>{e.clearReset()},[e])},Oie=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&e.data===void 0||z6(n,[e.error,s])),Die=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...i)=>n(s(...i)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Mie=(e,t)=>e.isLoading&&e.isFetching&&!t,Iie=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,FM=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function $ie(e,t,n){var f,m,g,x,v;const s=_ie(),i=Eie(),a=is(),o=a.defaultQueryOptions(e);(m=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",Die(o),kie(o,i),Tie(i);const l=!a.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!s&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(y=>{const N=d?c.subscribe(Tr.batchCalls(y)):ks;return c.updateResult(),N},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o)},[o,c]),Iie(o,u))throw FM(o,c,i);if(Oie({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||x.call(g,o,u),o.experimental_prefetchInRender&&!Wu&&Mie(u,s)){const y=l?FM(o,c,i):(v=a.getQueryCache().get(o.queryHash))==null?void 0:v.promise;y==null||y.catch(ks).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function ml(e,t){return $ie(e,gie)}function xs(e,t){const n=is(),[s]=w.useState(()=>new wie(n,e));w.useEffect(()=>{s.setOptions(e)},[s,e]);const i=w.useSyncExternalStore(w.useCallback(o=>s.subscribe(Tr.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=w.useCallback((o,l)=>{s.mutate(o,l).catch(ks)},[s]);if(i.error&&z6(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lg.apply(this,arguments)}var sc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sc||(sc={}));const BM="popstate";function Rie(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:l}=s.location;return g2("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:C0(i)}return Fie(t,n,null,e)}function vr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Q6(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lie(){return Math.random().toString(36).substr(2,8)}function zM(e,t){return{usr:e.state,key:e.key,idx:t}}function g2(e,t,n,s){return n===void 0&&(n=null),lg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Gf(t):t,{state:n,key:t&&t.key||s||Lie()})}function C0(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Gf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Fie(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=sc.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(lg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=sc.Pop;let y=d(),N=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:N})}function m(y,N){l=sc.Push;let b=g2(v.location,y,N);u=d()+1;let j=zM(b,u),_=v.createHref(b);try{o.pushState(j,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(_)}a&&c&&c({action:l,location:v.location,delta:1})}function g(y,N){l=sc.Replace;let b=g2(v.location,y,N);u=d();let j=zM(b,u),_=v.createHref(b);o.replaceState(j,"",_),a&&c&&c({action:l,location:v.location,delta:0})}function x(y){let N=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:C0(y);return b=b.replace(/ $/,"%20"),vr(N,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,N)}let v={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(BM,f),c=y,()=>{i.removeEventListener(BM,f),c=null}},createHref(y){return t(i,y)},createURL:x,encodeLocation(y){let N=x(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:g,go(y){return o.go(y)}};return v}var VM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(VM||(VM={}));function Bie(e,t,n){return n===void 0&&(n="/"),zie(e,t,n,!1)}function zie(e,t,n,s){let i=typeof t=="string"?Gf(t):t,a=qA(i.pathname||"/",n);if(a==null)return null;let o=X6(e);Vie(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Zie(a);l=Xie(o[c],u,s)}return l}function X6(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(vr(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=gc([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(vr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),X6(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Yie(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of J6(a.path))i(a,o,c)}),t}function J6(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=J6(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Vie(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Qie(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Uie=/^:[\w-]+$/,qie=3,Wie=2,Hie=1,Gie=10,Kie=-2,UM=e=>e==="*";function Yie(e,t){let n=e.split("/"),s=n.length;return n.some(UM)&&(s+=Kie),t&&(s+=Wie),n.filter(i=>!UM(i)).reduce((i,a)=>i+(Uie.test(a)?qie:a===""?Hie:Gie),s)}function Qie(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function Xie(e,t,n){let{routesMeta:s}=e,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=qM({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!s[s.length-1].route.index&&(f=qM({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:gc([a,f.pathname]),pathnameBase:rae(gc([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=gc([a,f.pathnameBase]))}return o}function qM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Jie(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((u,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let v=l[f]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const x=l[f];return g&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Jie(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Q6(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function Zie(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Q6(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function eae(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Gf(e):e;return{pathname:n?n.startsWith("/")?n:tae(n,t):t,search:sae(s),hash:iae(i)}}function tae(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ZN(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nae(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function WA(e,t){let n=nae(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function HA(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Gf(e):(i=lg({},e),vr(!i.pathname||!i.pathname.includes("?"),ZN("?","pathname","search",i)),vr(!i.pathname||!i.pathname.includes("#"),ZN("#","pathname","hash",i)),vr(!i.search||!i.search.includes("#"),ZN("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=eae(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const gc=e=>e.join("/").replace(/\/\/+/g,"/"),rae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Z6=["post","put","patch","delete"];new Set(Z6);const oae=["get",...Z6];new Set(oae);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cg.apply(this,arguments)}const GA=w.createContext(null),lae=w.createContext(null),Oc=w.createContext(null),jb=w.createContext(null),Dc=w.createContext({outlet:null,matches:[],isDataRoute:!1}),e8=w.createContext(null);function cae(e,t){let{relative:n}=t===void 0?{}:t;Kf()||vr(!1);let{basename:s,navigator:i}=w.useContext(Oc),{hash:a,pathname:o,search:l}=n8(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:gc([s,o])),i.createHref({pathname:c,search:l,hash:a})}function Kf(){return w.useContext(jb)!=null}function Mc(){return Kf()||vr(!1),w.useContext(jb).location}function t8(e){w.useContext(Oc).static||w.useLayoutEffect(e)}function Yf(){let{isDataRoute:e}=w.useContext(Dc);return e?wae():uae()}function uae(){Kf()||vr(!1);let e=w.useContext(GA),{basename:t,future:n,navigator:s}=w.useContext(Oc),{matches:i}=w.useContext(Dc),{pathname:a}=Mc(),o=JSON.stringify(WA(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return t8(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let f=HA(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gc([t,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[t,s,o,a,e])}function n8(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=w.useContext(Oc),{matches:i}=w.useContext(Dc),{pathname:a}=Mc(),o=JSON.stringify(WA(i,s.v7_relativeSplatPath));return w.useMemo(()=>HA(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function dae(e,t){return hae(e,t)}function hae(e,t,n,s){Kf()||vr(!1);let{navigator:i}=w.useContext(Oc),{matches:a}=w.useContext(Dc),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Mc(),d;if(t){var f;let y=typeof t=="string"?Gf(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||vr(!1),d=y}else d=u;let m=d.pathname||"/",g=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=Bie(e,{pathname:g}),v=vae(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:gc([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:gc([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,s);return t&&v?w.createElement(jb.Provider,{value:{location:cg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:sc.Pop}},v):v}function fae(){let e=bae(),t=aae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const mae=w.createElement(fae,null);class pae extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Dc.Provider,{value:this.props.routeContext},w.createElement(e8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gae(e){let{routeContext:t,match:n,children:s}=e,i=w.useContext(GA);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Dc.Provider,{value:t},s)}function vae(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||vr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:g}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let g,x=!1,v=null,y=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||mae,c&&(u<0&&m===0?(x=!0,y=null):u===m&&(x=!0,y=f.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,m+1)),b=()=>{let j;return g?j=v:x?j=y:f.route.Component?j=w.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,w.createElement(gae,{match:f,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:j})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(pae,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:b(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):b()},null)}var r8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(r8||{}),_0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_0||{});function xae(e){let t=w.useContext(GA);return t||vr(!1),t}function yae(e){let t=w.useContext(lae);return t||vr(!1),t}function jae(e){let t=w.useContext(Dc);return t||vr(!1),t}function s8(e){let t=jae(),n=t.matches[t.matches.length-1];return n.route.id||vr(!1),n.route.id}function bae(){var e;let t=w.useContext(e8),n=yae(_0.UseRouteError),s=s8(_0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function wae(){let{router:e}=xae(r8.UseNavigateStable),t=s8(_0.UseNavigateStable),n=w.useRef(!1);return t8(()=>{n.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,cg({fromRouteId:t},a)))},[e,t])}function Nae(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function v2(e){let{to:t,replace:n,state:s,relative:i}=e;Kf()||vr(!1);let{future:a,static:o}=w.useContext(Oc),{matches:l}=w.useContext(Dc),{pathname:c}=Mc(),u=Yf(),d=HA(t,WA(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:n,state:s,relative:i}),[u,f,i,n,s]),null}function rr(e){vr(!1)}function Sae(e){let{basename:t="/",children:n=null,location:s,navigationType:i=sc.Pop,navigator:a,static:o=!1,future:l}=e;Kf()&&vr(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:o,future:cg({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=Gf(s));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:x="default"}=s,v=w.useMemo(()=>{let y=qA(d,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:g,key:x},navigationType:i}},[c,d,f,m,g,x,i]);return v==null?null:w.createElement(Oc.Provider,{value:u},w.createElement(jb.Provider,{children:n,value:v}))}function Cae(e){let{children:t,location:n}=e;return dae(x2(t),n)}new Promise(()=>{});function x2(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(s,i)=>{if(!w.isValidElement(s))return;let a=[...t,i];if(s.type===w.Fragment){n.push.apply(n,x2(s.props.children,a));return}s.type!==rr&&vr(!1),!s.props.index||!s.props.children||vr(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=x2(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function y2(){return y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},y2.apply(this,arguments)}function _ae(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Pae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Aae(e,t){return e.button===0&&(!t||t==="_self")&&!Pae(e)}function j2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function Eae(e,t){let n=j2(e);return t&&t.forEach((s,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const kae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tae="6";try{window.__reactRouterVersion=Tae}catch{}const Oae="startTransition",WM=EP[Oae];function Dae(e){let{basename:t,children:n,future:s,window:i}=e,a=w.useRef();a.current==null&&(a.current=Rie({window:i,v5Compat:!0}));let o=a.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=w.useCallback(f=>{u&&WM?WM(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>Nae(s),[s]),w.createElement(Sae,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const Mae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Iae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sa=w.forwardRef(function(t,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=_ae(t,kae),{basename:g}=w.useContext(Oc),x,v=!1;if(typeof u=="string"&&Iae.test(u)&&(x=u,Mae))try{let j=new URL(window.location.href),_=u.startsWith("//")?new URL(j.protocol+u):new URL(u),C=qA(_.pathname,g);_.origin===j.origin&&C!=null?u=C+_.search+_.hash:v=!0}catch{}let y=cae(u,{relative:i}),N=$ae(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function b(j){s&&s(j),j.defaultPrevented||N(j)}return w.createElement("a",y2({},m,{href:x||y,onClick:v||a?s:b,ref:n,target:c}))});var HM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(HM||(HM={}));var GM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(GM||(GM={}));function $ae(e,t){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Yf(),u=Mc(),d=n8(e,{relative:o});return w.useCallback(f=>{if(Aae(f,n)){f.preventDefault();let m=s!==void 0?s:C0(u)===C0(d);c(e,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,i,n,e,a,o,l])}function Rae(e){let t=w.useRef(j2(e)),n=w.useRef(!1),s=Mc(),i=w.useMemo(()=>Eae(s.search,n.current?null:t.current),[s.search]),a=Yf(),o=w.useCallback((l,c)=>{const u=j2(typeof l=="function"?l(i):l);n.current=!0,a("?"+u,c)},[a,i]);return[i,o]}const Lae=ov("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=w.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},a)=>{const o=s?Uee:"button";return r.jsx(o,{className:Ze(Lae({variant:t,size:n,className:e})),ref:a,...i})});V.displayName="Button";const i8=w.createContext(void 0);function Fae({children:e}){const[t,n]=w.useState(()=>{const i=localStorage.getItem("theme");return i||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});w.useEffect(()=>{localStorage.setItem("theme",t);const i=document.documentElement;t==="dark"?i.classList.add("dark"):i.classList.remove("dark")},[t]);const s=()=>{n(i=>i==="light"?"dark":"light")};return r.jsx(i8.Provider,{value:{theme:t,setTheme:n,toggleTheme:s},children:e})}function a8(){const e=w.useContext(i8);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function KM(){const{theme:e,toggleTheme:t}=a8();return r.jsxs(V,{variant:"outline",size:"sm",onClick:t,className:"h-9 w-9 p-0",title:e==="light"?"Activer le mode sombre":"Activer le mode clair",children:[e==="light"?r.jsx(Yte,{className:"h-4 w-4"}):r.jsx(Zte,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:e==="light"?"Activer le mode sombre":"Activer le mode clair"})]})}var Bae=w.createContext(void 0);function bb(e){const t=w.useContext(Bae);return e||t||"ltr"}var eS=0;function wb(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??YM()),document.body.insertAdjacentElement("beforeend",e[1]??YM()),eS++,()=>{eS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),eS--}},[])}function YM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tS="focusScope.autoFocusOnMount",nS="focusScope.autoFocusOnUnmount",QM={bubbles:!1,cancelable:!0},zae="FocusScope",uv=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=w.useState(null),u=$s(i),d=$s(a),f=w.useRef(null),m=Xt(t,v=>c(v)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let v=function(j){if(g.paused||!l)return;const _=j.target;l.contains(_)?f.current=_:$l(f.current,{select:!0})},y=function(j){if(g.paused||!l)return;const _=j.relatedTarget;_!==null&&(l.contains(_)||$l(f.current,{select:!0}))},N=function(j){if(document.activeElement===document.body)for(const C of j)C.removedNodes.length>0&&$l(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const b=new MutationObserver(N);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),b.disconnect()}}},[s,l,g.paused]),w.useEffect(()=>{if(l){JM.add(g);const v=document.activeElement;if(!l.contains(v)){const N=new CustomEvent(tS,QM);l.addEventListener(tS,u),l.dispatchEvent(N),N.defaultPrevented||(Vae(Gae(o8(l)),{select:!0}),document.activeElement===v&&$l(l))}return()=>{l.removeEventListener(tS,u),setTimeout(()=>{const N=new CustomEvent(nS,QM);l.addEventListener(nS,d),l.dispatchEvent(N),N.defaultPrevented||$l(v??document.body,{select:!0}),l.removeEventListener(nS,d),JM.remove(g)},0)}}},[l,u,d,g]);const x=w.useCallback(v=>{if(!n&&!s||g.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(y&&N){const b=v.currentTarget,[j,_]=Uae(b);j&&_?!v.shiftKey&&N===_?(v.preventDefault(),n&&$l(j,{select:!0})):v.shiftKey&&N===j&&(v.preventDefault(),n&&$l(_,{select:!0})):N===b&&v.preventDefault()}},[n,s,g.paused]);return r.jsx(st.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});uv.displayName=zae;function Vae(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if($l(s,{select:t}),document.activeElement!==n)return}function Uae(e){const t=o8(e),n=XM(t,e),s=XM(t.reverse(),e);return[n,s]}function o8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function XM(e,t){for(const n of e)if(!qae(n,{upTo:t}))return n}function qae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Wae(e){return e instanceof HTMLInputElement&&"select"in e}function $l(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Wae(e)&&t&&e.select()}}var JM=Hae();function Hae(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ZM(e,t),e.unshift(t)},remove(t){var n;e=ZM(e,t),(n=e[0])==null||n.resume()}}}function ZM(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Gae(e){return e.filter(t=>t.tagName!=="A")}var rS="rovingFocusGroup.onEntryFocus",Kae={bubbles:!1,cancelable:!0},dv="RovingFocusGroup",[b2,l8,Yae]=ob(dv),[Qae,Nb]=ni(dv,[Yae]),[Xae,Jae]=Qae(dv),c8=w.forwardRef((e,t)=>r.jsx(b2.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(b2.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Zae,{...e,ref:t})})}));c8.displayName=dv;var Zae=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=w.useRef(null),g=Xt(t,m),x=bb(a),[v,y]=vo({prop:o,defaultProp:l??null,onChange:c,caller:dv}),[N,b]=w.useState(!1),j=$s(u),_=l8(n),C=w.useRef(!1),[A,P]=w.useState(0);return w.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(rS,j),()=>E.removeEventListener(rS,j)},[j]),r.jsx(Xae,{scope:n,orientation:s,dir:x,loop:i,currentTabStopId:v,onItemFocus:w.useCallback(E=>y(E),[y]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>P(E=>E+1),[]),onFocusableItemRemove:w.useCallback(()=>P(E=>E-1),[]),children:r.jsx(st.div,{tabIndex:N||A===0?-1:0,"data-orientation":s,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:He(e.onMouseDown,()=>{C.current=!0}),onFocus:He(e.onFocus,E=>{const M=!C.current;if(E.target===E.currentTarget&&M&&!N){const $=new CustomEvent(rS,Kae);if(E.currentTarget.dispatchEvent($),!$.defaultPrevented){const T=_().filter(H=>H.focusable),O=T.find(H=>H.active),L=T.find(H=>H.id===v),Z=[O,L,...T].filter(Boolean).map(H=>H.ref.current);h8(Z,d)}}C.current=!1}),onBlur:He(e.onBlur,()=>b(!1))})})}),u8="RovingFocusGroupItem",d8=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=rs(),u=a||c,d=Jae(u8,n),f=d.currentTabStopId===u,m=l8(n),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:v}=d;return w.useEffect(()=>{if(s)return g(),()=>x()},[s,g,x]),r.jsx(b2.ItemSlot,{scope:n,id:u,focusable:s,active:i,children:r.jsx(st.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:He(e.onMouseDown,y=>{s?d.onItemFocus(u):y.preventDefault()}),onFocus:He(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:He(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const N=noe(y,d.orientation,d.dir);if(N!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let j=m().filter(_=>_.focusable).map(_=>_.ref.current);if(N==="last")j.reverse();else if(N==="prev"||N==="next"){N==="prev"&&j.reverse();const _=j.indexOf(y.currentTarget);j=d.loop?roe(j,_+1):j.slice(_+1)}setTimeout(()=>h8(j))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});d8.displayName=u8;var eoe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function toe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function noe(e,t,n){const s=toe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return eoe[s]}function h8(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function roe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var f8=c8,m8=d8,soe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ld=new WeakMap,Yx=new WeakMap,Qx={},sS=0,p8=function(e){return e&&(e.host||p8(e.parentNode))},ioe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=p8(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},aoe=function(e,t,n,s){var i=ioe(t,Array.isArray(e)?e:[e]);Qx[n]||(Qx[n]=new WeakMap);var a=Qx[n],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(s),x=g!==null&&g!=="false",v=(Ld.get(m)||0)+1,y=(a.get(m)||0)+1;Ld.set(m,v),a.set(m,y),o.push(m),v===1&&x&&Yx.set(m,!0),y===1&&m.setAttribute(n,"true"),x||m.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",m,N)}})};return d(t),l.clear(),sS++,function(){o.forEach(function(f){var m=Ld.get(f)-1,g=a.get(f)-1;Ld.set(f,m),a.set(f,g),m||(Yx.has(f)||f.removeAttribute(s),Yx.delete(f)),g||f.removeAttribute(n)}),sS--,sS||(Ld=new WeakMap,Ld=new WeakMap,Yx=new WeakMap,Qx={})}},Sb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=soe(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),aoe(s,i,n,"aria-hidden")):function(){return null}},no=function(){return no=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},no.apply(this,arguments)};function g8(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function ooe(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var Uy="right-scroll-bar-position",qy="width-before-scroll-bar",loe="with-scroll-bars-hidden",coe="--removed-body-scroll-bar-size";function iS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uoe(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var doe=typeof window<"u"?w.useLayoutEffect:w.useEffect,eI=new WeakMap;function hoe(e,t){var n=uoe(null,function(s){return e.forEach(function(i){return iS(i,s)})});return doe(function(){var s=eI.get(n);if(s){var i=new Set(s),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||iS(l,null)}),a.forEach(function(l){i.has(l)||iS(l,o)})}eI.set(n,e)},[e]),n}function foe(e){return e}function moe(e,t){t===void 0&&(t=foe);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function poe(e){e===void 0&&(e={});var t=moe(null);return t.options=no({async:!0,ssr:!1},e),t}var v8=function(e){var t=e.sideCar,n=g8(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,no({},n))};v8.isSideCarExport=!0;function goe(e,t){return e.useMedium(t),v8}var x8=poe(),aS=function(){},Cb=w.forwardRef(function(e,t){var n=w.useRef(null),s=w.useState({onScrollCapture:aS,onWheelCapture:aS,onTouchMoveCapture:aS}),i=s[0],a=s[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,g=e.noRelative,x=e.noIsolation,v=e.inert,y=e.allowPinchZoom,N=e.as,b=N===void 0?"div":N,j=e.gapMode,_=g8(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,A=hoe([n,t]),P=no(no({},_),i);return w.createElement(w.Fragment,null,d&&w.createElement(C,{sideCar:x8,removeScrollBar:u,shards:f,noRelative:g,noIsolation:x,inert:v,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:j}),o?w.cloneElement(w.Children.only(l),no(no({},P),{ref:A})):w.createElement(b,no({},P,{className:c,ref:A}),l))});Cb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cb.classNames={fullWidth:qy,zeroRight:Uy};var voe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xoe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=voe();return t&&e.setAttribute("nonce",t),e}function yoe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function joe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var boe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=xoe())&&(yoe(t,n),joe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},woe=function(){var e=boe();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},y8=function(){var e=woe(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},Noe={left:0,top:0,right:0,gap:0},oS=function(e){return parseInt(e||"",10)||0},Soe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[oS(n),oS(s),oS(i)]},Coe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Noe;var t=Soe(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},_oe=y8(),Eh="data-scroll-locked",Poe=function(e,t,n,s){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(loe,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Eh,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Uy,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(qy,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Uy," .").concat(Uy,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(qy," .").concat(qy,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Eh,`] {
    `).concat(coe,": ").concat(l,`px;
  }
`)},tI=function(){var e=parseInt(document.body.getAttribute(Eh)||"0",10);return isFinite(e)?e:0},Aoe=function(){w.useEffect(function(){return document.body.setAttribute(Eh,(tI()+1).toString()),function(){var e=tI()-1;e<=0?document.body.removeAttribute(Eh):document.body.setAttribute(Eh,e.toString())}},[])},Eoe=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;Aoe();var a=w.useMemo(function(){return Coe(i)},[i]);return w.createElement(_oe,{styles:Poe(a,!t,i,n?"":"!important")})},w2=!1;if(typeof window<"u")try{var Xx=Object.defineProperty({},"passive",{get:function(){return w2=!0,!0}});window.addEventListener("test",Xx,Xx),window.removeEventListener("test",Xx,Xx)}catch{w2=!1}var Fd=w2?{passive:!1}:!1,koe=function(e){return e.tagName==="TEXTAREA"},j8=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!koe(e)&&n[t]==="visible")},Toe=function(e){return j8(e,"overflowY")},Ooe=function(e){return j8(e,"overflowX")},nI=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=b8(e,s);if(i){var a=w8(e,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Doe=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},Moe=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},b8=function(e,t){return e==="v"?Toe(t):Ooe(t)},w8=function(e,t){return e==="v"?Doe(t):Moe(t)},Ioe=function(e,t){return e==="h"&&t==="rtl"?-1:1},$oe=function(e,t,n,s,i){var a=Ioe(e,window.getComputedStyle(t).direction),o=a*s,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var g=w8(e,l),x=g[0],v=g[1],y=g[2],N=v-y-a*x;(x||N)&&b8(e,l)&&(f+=N,m+=x);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(m)<1||!i))&&(u=!0),u},Jx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rI=function(e){return[e.deltaX,e.deltaY]},sI=function(e){return e&&"current"in e?e.current:e},Roe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Loe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Foe=0,Bd=[];function Boe(e){var t=w.useRef([]),n=w.useRef([0,0]),s=w.useRef(),i=w.useState(Foe++)[0],a=w.useState(y8)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=ooe([e.lockRef.current],(e.shards||[]).map(sI),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var N=Jx(v),b=n.current,j="deltaX"in v?v.deltaX:b[0]-N[0],_="deltaY"in v?v.deltaY:b[1]-N[1],C,A=v.target,P=Math.abs(j)>Math.abs(_)?"h":"v";if("touches"in v&&P==="h"&&A.type==="range")return!1;var E=nI(P,A);if(!E)return!0;if(E?C=P:(C=P==="v"?"h":"v",E=nI(P,A)),!E)return!1;if(!s.current&&"changedTouches"in v&&(j||_)&&(s.current=C),!C)return!0;var M=s.current||C;return $oe(M,y,v,M==="h"?j:_,!0)},[]),c=w.useCallback(function(v){var y=v;if(!(!Bd.length||Bd[Bd.length-1]!==a)){var N="deltaY"in y?rI(y):Jx(y),b=t.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&Roe(C.delta,N)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var j=(o.current.shards||[]).map(sI).filter(Boolean).filter(function(C){return C.contains(y.target)}),_=j.length>0?l(y,j[0]):!o.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=w.useCallback(function(v,y,N,b){var j={name:v,delta:y,target:N,should:b,shadowParent:zoe(N)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(_){return _!==j})},1)},[]),d=w.useCallback(function(v){n.current=Jx(v),s.current=void 0},[]),f=w.useCallback(function(v){u(v.type,rI(v),v.target,l(v,e.lockRef.current))},[]),m=w.useCallback(function(v){u(v.type,Jx(v),v.target,l(v,e.lockRef.current))},[]);w.useEffect(function(){return Bd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Fd),document.addEventListener("touchmove",c,Fd),document.addEventListener("touchstart",d,Fd),function(){Bd=Bd.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,Fd),document.removeEventListener("touchmove",c,Fd),document.removeEventListener("touchstart",d,Fd)}},[]);var g=e.removeScrollBar,x=e.inert;return w.createElement(w.Fragment,null,x?w.createElement(a,{styles:Loe(i)}):null,g?w.createElement(Eoe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function zoe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Voe=goe(x8,Boe);var hv=w.forwardRef(function(e,t){return w.createElement(Cb,no({},e,{ref:t,sideCar:Voe}))});hv.classNames=Cb.classNames;var N2=["Enter"," "],Uoe=["ArrowDown","PageUp","Home"],N8=["ArrowUp","PageDown","End"],qoe=[...Uoe,...N8],Woe={ltr:[...N2,"ArrowRight"],rtl:[...N2,"ArrowLeft"]},Hoe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fv="Menu",[ug,Goe,Koe]=ob(fv),[dd,S8]=ni(fv,[Koe,Tc,Nb]),_b=Tc(),C8=Nb(),[Yoe,hd]=dd(fv),[Qoe,mv]=dd(fv),_8=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:i,onOpenChange:a,modal:o=!0}=e,l=_b(t),[c,u]=w.useState(null),d=w.useRef(!1),f=$s(a),m=bb(i);return w.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),r.jsx(LA,{...l,children:r.jsx(Yoe,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:r.jsx(Qoe,{scope:t,onClose:w.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:s})})})};_8.displayName=fv;var Xoe="MenuAnchor",KA=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=_b(n);return r.jsx(cv,{...i,...s,ref:t})});KA.displayName=Xoe;var YA="MenuPortal",[Joe,P8]=dd(YA,{forceMount:void 0}),A8=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:i}=e,a=hd(YA,t);return r.jsx(Joe,{scope:t,forceMount:n,children:r.jsx(ri,{present:n||a.open,children:r.jsx(Bf,{asChild:!0,container:i,children:s})})})};A8.displayName=YA;var Qi="MenuContent",[Zoe,QA]=dd(Qi),E8=w.forwardRef((e,t)=>{const n=P8(Qi,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=hd(Qi,e.__scopeMenu),o=mv(Qi,e.__scopeMenu);return r.jsx(ug.Provider,{scope:e.__scopeMenu,children:r.jsx(ri,{present:s||a.open,children:r.jsx(ug.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(ele,{...i,ref:t}):r.jsx(tle,{...i,ref:t})})})})}),ele=w.forwardRef((e,t)=>{const n=hd(Qi,e.__scopeMenu),s=w.useRef(null),i=Xt(t,s);return w.useEffect(()=>{const a=s.current;if(a)return Sb(a)},[]),r.jsx(XA,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:He(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),tle=w.forwardRef((e,t)=>{const n=hd(Qi,e.__scopeMenu);return r.jsx(XA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),nle=bc("MenuContent.ScrollLock"),XA=w.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...v}=e,y=hd(Qi,n),N=mv(Qi,n),b=_b(n),j=C8(n),_=Goe(n),[C,A]=w.useState(null),P=w.useRef(null),E=Xt(t,P,y.onContentChange),M=w.useRef(0),$=w.useRef(""),T=w.useRef(0),O=w.useRef(null),L=w.useRef("right"),B=w.useRef(0),Z=x?hv:w.Fragment,H=x?{as:nle,allowPinchZoom:!0}:void 0,ae=D=>{var be,z;const ie=$.current+D,me=_().filter(Y=>!Y.disabled),te=document.activeElement,J=(be=me.find(Y=>Y.ref.current===te))==null?void 0:be.textValue,ne=me.map(Y=>Y.textValue),ve=mle(ne,ie,J),ye=(z=me.find(Y=>Y.textValue===ve))==null?void 0:z.ref.current;(function Y(ee){$.current=ee,window.clearTimeout(M.current),ee!==""&&(M.current=window.setTimeout(()=>Y(""),1e3))})(ie),ye&&setTimeout(()=>ye.focus())};w.useEffect(()=>()=>window.clearTimeout(M.current),[]),wb();const X=w.useCallback(D=>{var me,te;return L.current===((me=O.current)==null?void 0:me.side)&&gle(D,(te=O.current)==null?void 0:te.area)},[]);return r.jsx(Zoe,{scope:n,searchRef:$,onItemEnter:w.useCallback(D=>{X(D)&&D.preventDefault()},[X]),onItemLeave:w.useCallback(D=>{var ie;X(D)||((ie=P.current)==null||ie.focus(),A(null))},[X]),onTriggerLeave:w.useCallback(D=>{X(D)&&D.preventDefault()},[X]),pointerGraceTimerRef:T,onPointerGraceIntentChange:w.useCallback(D=>{O.current=D},[]),children:r.jsx(Z,{...H,children:r.jsx(uv,{asChild:!0,trapped:i,onMountAutoFocus:He(a,D=>{var ie;D.preventDefault(),(ie=P.current)==null||ie.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(cd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:r.jsx(f8,{asChild:!0,...j,dir:N.dir,orientation:"vertical",loop:s,currentTabStopId:C,onCurrentTabStopIdChange:A,onEntryFocus:He(c,D=>{N.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(gb,{role:"menu","aria-orientation":"vertical","data-state":W8(y.open),"data-radix-menu-content":"",dir:N.dir,...b,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:He(v.onKeyDown,D=>{const me=D.target.closest("[data-radix-menu-content]")===D.currentTarget,te=D.ctrlKey||D.altKey||D.metaKey,J=D.key.length===1;me&&(D.key==="Tab"&&D.preventDefault(),!te&&J&&ae(D.key));const ne=P.current;if(D.target!==ne||!qoe.includes(D.key))return;D.preventDefault();const ye=_().filter(be=>!be.disabled).map(be=>be.ref.current);N8.includes(D.key)&&ye.reverse(),hle(ye)}),onBlur:He(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(M.current),$.current="")}),onPointerMove:He(e.onPointerMove,dg(D=>{const ie=D.target,me=B.current!==D.clientX;if(D.currentTarget.contains(ie)&&me){const te=D.clientX>B.current?"right":"left";L.current=te,B.current=D.clientX}}))})})})})})})});E8.displayName=Qi;var rle="MenuGroup",JA=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(st.div,{role:"group",...s,ref:t})});JA.displayName=rle;var sle="MenuLabel",k8=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(st.div,{...s,ref:t})});k8.displayName=sle;var P0="MenuItem",iI="menu.itemSelect",Pb=w.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...i}=e,a=w.useRef(null),o=mv(P0,e.__scopeMenu),l=QA(P0,e.__scopeMenu),c=Xt(t,a),u=w.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const m=new CustomEvent(iI,{bubbles:!0,cancelable:!0});f.addEventListener(iI,g=>s==null?void 0:s(g),{once:!0}),jA(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return r.jsx(T8,{...i,ref:c,disabled:n,onClick:He(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:He(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:He(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||N2.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Pb.displayName=P0;var T8=w.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...a}=e,o=QA(P0,n),l=C8(n),c=w.useRef(null),u=Xt(t,c),[d,f]=w.useState(!1),[m,g]=w.useState("");return w.useEffect(()=>{const x=c.current;x&&g((x.textContent??"").trim())},[a.children]),r.jsx(ug.ItemSlot,{scope:n,disabled:s,textValue:i??m,children:r.jsx(m8,{asChild:!0,...l,focusable:!s,children:r.jsx(st.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:u,onPointerMove:He(e.onPointerMove,dg(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:He(e.onPointerLeave,dg(x=>o.onItemLeave(x))),onFocus:He(e.onFocus,()=>f(!0)),onBlur:He(e.onBlur,()=>f(!1))})})})}),ile="MenuCheckboxItem",O8=w.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...i}=e;return r.jsx(R8,{scope:e.__scopeMenu,checked:n,children:r.jsx(Pb,{role:"menuitemcheckbox","aria-checked":A0(n)?"mixed":n,...i,ref:t,"data-state":eE(n),onSelect:He(i.onSelect,()=>s==null?void 0:s(A0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});O8.displayName=ile;var D8="MenuRadioGroup",[ale,ole]=dd(D8,{value:void 0,onValueChange:()=>{}}),M8=w.forwardRef((e,t)=>{const{value:n,onValueChange:s,...i}=e,a=$s(s);return r.jsx(ale,{scope:e.__scopeMenu,value:n,onValueChange:a,children:r.jsx(JA,{...i,ref:t})})});M8.displayName=D8;var I8="MenuRadioItem",$8=w.forwardRef((e,t)=>{const{value:n,...s}=e,i=ole(I8,e.__scopeMenu),a=n===i.value;return r.jsx(R8,{scope:e.__scopeMenu,checked:a,children:r.jsx(Pb,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":eE(a),onSelect:He(s.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});$8.displayName=I8;var ZA="MenuItemIndicator",[R8,lle]=dd(ZA,{checked:!1}),L8=w.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...i}=e,a=lle(ZA,n);return r.jsx(ri,{present:s||A0(a.checked)||a.checked===!0,children:r.jsx(st.span,{...i,ref:t,"data-state":eE(a.checked)})})});L8.displayName=ZA;var cle="MenuSeparator",F8=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(st.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});F8.displayName=cle;var ule="MenuArrow",B8=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=_b(n);return r.jsx(vb,{...i,...s,ref:t})});B8.displayName=ule;var dle="MenuSub",[O6e,z8]=dd(dle),gp="MenuSubTrigger",V8=w.forwardRef((e,t)=>{const n=hd(gp,e.__scopeMenu),s=mv(gp,e.__scopeMenu),i=z8(gp,e.__scopeMenu),a=QA(gp,e.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),r.jsx(KA,{asChild:!0,...u,children:r.jsx(T8,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":W8(n.open),...e,ref:il(t,i.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:He(e.onPointerMove,dg(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:He(e.onPointerLeave,dg(f=>{var g,x;d();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const v=(x=n.content)==null?void 0:x.dataset.side,y=v==="right",N=y?-5:5,b=m[y?"left":"right"],j=m[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:b,y:m.top},{x:j,y:m.top},{x:j,y:m.bottom},{x:b,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:He(e.onKeyDown,f=>{var g;const m=a.searchRef.current!=="";e.disabled||m&&f.key===" "||Woe[s.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});V8.displayName=gp;var U8="MenuSubContent",q8=w.forwardRef((e,t)=>{const n=P8(Qi,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=hd(Qi,e.__scopeMenu),o=mv(Qi,e.__scopeMenu),l=z8(U8,e.__scopeMenu),c=w.useRef(null),u=Xt(t,c);return r.jsx(ug.Provider,{scope:e.__scopeMenu,children:r.jsx(ri,{present:s||a.open,children:r.jsx(ug.Slot,{scope:e.__scopeMenu,children:r.jsx(XA,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:He(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:He(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:He(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),m=Hoe[o.dir].includes(d.key);f&&m&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});q8.displayName=U8;function W8(e){return e?"open":"closed"}function A0(e){return e==="indeterminate"}function eE(e){return A0(e)?"indeterminate":e?"checked":"unchecked"}function hle(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function fle(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function mle(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=fle(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function ple(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(i=!i)}return i}function gle(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return ple(n,t)}function dg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var vle=_8,xle=KA,yle=A8,jle=E8,ble=JA,wle=k8,Nle=Pb,Sle=O8,Cle=M8,_le=$8,Ple=L8,Ale=F8,Ele=B8,kle=V8,Tle=q8,Ab="DropdownMenu",[Ole,D6e]=ni(Ab,[S8]),Fs=S8(),[Dle,H8]=Ole(Ab),G8=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Fs(t),u=w.useRef(null),[d,f]=vo({prop:i,defaultProp:a??!1,onChange:o,caller:Ab});return r.jsx(Dle,{scope:t,triggerId:rs(),triggerRef:u,contentId:rs(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(m=>!m),[f]),modal:l,children:r.jsx(vle,{...c,open:d,onOpenChange:f,dir:s,modal:l,children:n})})};G8.displayName=Ab;var K8="DropdownMenuTrigger",Y8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=e,a=H8(K8,n),o=Fs(n);return r.jsx(xle,{asChild:!0,...o,children:r.jsx(st.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:il(t,a.triggerRef),onPointerDown:He(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:He(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Y8.displayName=K8;var Mle="DropdownMenuPortal",Q8=e=>{const{__scopeDropdownMenu:t,...n}=e,s=Fs(t);return r.jsx(yle,{...s,...n})};Q8.displayName=Mle;var X8="DropdownMenuContent",J8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=H8(X8,n),a=Fs(n),o=w.useRef(!1);return r.jsx(jle,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:t,onCloseAutoFocus:He(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:He(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});J8.displayName=X8;var Ile="DropdownMenuGroup",$le=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(ble,{...i,...s,ref:t})});$le.displayName=Ile;var Rle="DropdownMenuLabel",Z8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(wle,{...i,...s,ref:t})});Z8.displayName=Rle;var Lle="DropdownMenuItem",eB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Nle,{...i,...s,ref:t})});eB.displayName=Lle;var Fle="DropdownMenuCheckboxItem",tB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Sle,{...i,...s,ref:t})});tB.displayName=Fle;var Ble="DropdownMenuRadioGroup",zle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Cle,{...i,...s,ref:t})});zle.displayName=Ble;var Vle="DropdownMenuRadioItem",nB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(_le,{...i,...s,ref:t})});nB.displayName=Vle;var Ule="DropdownMenuItemIndicator",rB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Ple,{...i,...s,ref:t})});rB.displayName=Ule;var qle="DropdownMenuSeparator",sB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Ale,{...i,...s,ref:t})});sB.displayName=qle;var Wle="DropdownMenuArrow",Hle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Ele,{...i,...s,ref:t})});Hle.displayName=Wle;var Gle="DropdownMenuSubTrigger",iB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(kle,{...i,...s,ref:t})});iB.displayName=Gle;var Kle="DropdownMenuSubContent",aB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Tle,{...i,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aB.displayName=Kle;var Yle=G8,Qle=Y8,Xle=Q8,oB=J8,lB=Z8,cB=eB,uB=tB,dB=nB,hB=rB,fB=sB,mB=iB,pB=aB;const Jle=Yle,Zle=Qle,ece=w.forwardRef(({className:e,inset:t,children:n,...s},i)=>r.jsxs(mB,{ref:i,className:Ze("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx(Bte,{className:"ml-auto h-4 w-4"})]}));ece.displayName=mB.displayName;const tce=w.forwardRef(({className:e,...t},n)=>r.jsx(pB,{ref:n,className:Ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));tce.displayName=pB.displayName;const gB=w.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(Xle,{children:r.jsx(oB,{ref:s,sideOffset:t,className:Ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));gB.displayName=oB.displayName;const Wy=w.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(cB,{ref:s,className:Ze("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Wy.displayName=cB.displayName;const nce=w.forwardRef(({className:e,children:t,checked:n,...s},i)=>r.jsxs(uB,{ref:i,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(hB,{children:r.jsx(SA,{className:"h-4 w-4"})})}),t]}));nce.displayName=uB.displayName;const rce=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(dB,{ref:s,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(hB,{children:r.jsx(Vte,{className:"h-2 w-2 fill-current"})})}),t]}));rce.displayName=dB.displayName;const vB=w.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(lB,{ref:s,className:Ze("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));vB.displayName=lB.displayName;const S2=w.forwardRef(({className:e,...t},n)=>r.jsx(fB,{ref:n,className:Ze("-mx-1 my-1 h-px bg-muted",e),...t}));S2.displayName=fB.displayName;var xB={exports:{}},yB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=w;function sce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ice=typeof Object.is=="function"?Object.is:sce,ace=af.useState,oce=af.useEffect,lce=af.useLayoutEffect,cce=af.useDebugValue;function uce(e,t){var n=t(),s=ace({inst:{value:n,getSnapshot:t}}),i=s[0].inst,a=s[1];return lce(function(){i.value=n,i.getSnapshot=t,lS(i)&&a({inst:i})},[e,n,t]),oce(function(){return lS(i)&&a({inst:i}),e(function(){lS(i)&&a({inst:i})})},[e]),cce(n),n}function lS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ice(e,n)}catch{return!0}}function dce(e,t){return t()}var hce=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dce:uce;yB.useSyncExternalStore=af.useSyncExternalStore!==void 0?af.useSyncExternalStore:hce;xB.exports=yB;var fce=xB.exports;function mce(){return fce.useSyncExternalStore(pce,()=>!0,()=>!1)}function pce(){return()=>{}}var tE="Avatar",[gce,M6e]=ni(tE),[vce,jB]=gce(tE),bB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[i,a]=w.useState("idle");return r.jsx(vce,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:r.jsx(st.span,{...s,ref:t})})});bB.displayName=tE;var wB="AvatarImage",NB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...a}=e,o=jB(wB,n),l=xce(s,a),c=$s(u=>{i(u),o.onImageLoadingStatusChange(u)});return Nr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(st.img,{...a,ref:t,src:s}):null});NB.displayName=wB;var SB="AvatarFallback",CB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,a=jB(SB,n),[o,l]=w.useState(s===void 0);return w.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&a.imageLoadingStatus!=="loaded"?r.jsx(st.span,{...i,ref:t}):null});CB.displayName=SB;function aI(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xce(e,{referrerPolicy:t,crossOrigin:n}){const s=mce(),i=w.useRef(null),a=s?(i.current||(i.current=new window.Image),i.current):null,[o,l]=w.useState(()=>aI(a,e));return Nr(()=>{l(aI(a,e))},[a,e]),Nr(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var _B=bB,PB=NB,AB=CB;const Gr=w.forwardRef(({className:e,...t},n)=>r.jsx(_B,{ref:n,className:Ze("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Gr.displayName=_B.displayName;const ll=w.forwardRef(({className:e,...t},n)=>r.jsx(PB,{ref:n,className:Ze("aspect-square h-full w-full",e),...t}));ll.displayName=PB.displayName;const Kr=w.forwardRef(({className:e,...t},n)=>r.jsx(AB,{ref:n,className:Ze("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Kr.displayName=AB.displayName;const yce="modulepreload",jce=function(e){return"/"+e},oI={},pv=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=jce(c),c in oI)return;oI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":yce,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},bce=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pv(async()=>{const{default:s}=await Promise.resolve().then(()=>Qf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class nE extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class wce extends nE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lI extends nE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cI extends nE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var C2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(C2||(C2={}));var Nce=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class Sce{constructor(t,{headers:n={},customFetch:s,region:i=C2.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=bce(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return Nce(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(v=>{throw new wce(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new lI(f);if(!f.ok)throw new cI(f);let g=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield f.json():g==="application/octet-stream"?x=yield f.blob():g==="text/event-stream"?x=f:g==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof cI||i instanceof lI?i.context:void 0}}})}}var Qs={},rE={},Eb={},gv={},kb={},Tb={},Cce=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},of=Cce();const _ce=of.fetch,EB=of.fetch.bind(of),kB=of.Headers,Pce=of.Request,Ace=of.Response,Qf=Object.freeze(Object.defineProperty({__proto__:null,Headers:kB,Request:Pce,Response:Ace,default:EB,fetch:_ce},Symbol.toStringTag,{value:"Module"})),Ece=uJ(Qf);var Ob={};Object.defineProperty(Ob,"__esModule",{value:!0});let kce=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ob.default=kce;var TB=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tb,"__esModule",{value:!0});const Tce=TB(Ece),Oce=TB(Ob);let Dce=class{constructor(t){var n,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Tce.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,u;let d=null,f=null,m=null,g=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=b:f=JSON.parse(b))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),N=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&N&&N.length>1&&(m=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,g=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(f=[],d=null,g=200,x="OK")}catch{a.status===404&&y===""?(g=204,x="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,g=200,x="OK"),d&&this.shouldThrowOnError)throw new Oce.default(d)}return{error:d,data:f,count:m,status:g,statusText:x}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Tb.default=Dce;var Mce=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kb,"__esModule",{value:!0});const Ice=Mce(Tb);let $ce=class extends Ice.default{select(t){let n=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};kb.default=$ce;var Rce=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gv,"__esModule",{value:!0});const Lce=Rce(kb);let Fce=class extends Lce.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};gv.default=Fce;var Bce=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eb,"__esModule",{value:!0});const Qm=Bce(gv);let zce=class{constructor(t,{headers:n={},schema:s,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=s,this.fetch=i}select(t,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new Qm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:s=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Qm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Qm.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var s;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Qm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var n;const s="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Qm.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Eb.default=zce;var OB=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rE,"__esModule",{value:!0});const Vce=OB(Eb),Uce=OB(gv);let qce=class DB{constructor(t,{headers:n={},schema:s,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=s,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new Vce.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new DB(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;s||i?(l=s?"HEAD":"GET",Object.entries(n).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",u=n);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new Uce.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};rE.default=qce;var Xf=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.PostgrestError=Qs.PostgrestBuilder=Qs.PostgrestTransformBuilder=Qs.PostgrestFilterBuilder=Qs.PostgrestQueryBuilder=Qs.PostgrestClient=void 0;const MB=Xf(rE);Qs.PostgrestClient=MB.default;const IB=Xf(Eb);Qs.PostgrestQueryBuilder=IB.default;const $B=Xf(gv);Qs.PostgrestFilterBuilder=$B.default;const RB=Xf(kb);Qs.PostgrestTransformBuilder=RB.default;const LB=Xf(Tb);Qs.PostgrestBuilder=LB.default;const FB=Xf(Ob);Qs.PostgrestError=FB.default;var Wce=Qs.default={PostgrestClient:MB.default,PostgrestQueryBuilder:IB.default,PostgrestFilterBuilder:$B.default,PostgrestTransformBuilder:RB.default,PostgrestBuilder:LB.default,PostgrestError:FB.default};const{PostgrestClient:Hce,PostgrestQueryBuilder:B6e,PostgrestFilterBuilder:z6e,PostgrestTransformBuilder:V6e,PostgrestBuilder:U6e,PostgrestError:q6e}=Wce;class Gce{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Kce="2.15.5",Yce=`realtime-js/${Kce}`,Qce="1.0.0",_2=1e4,Xce=1e3,Jce=100;var Tp;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Tp||(Tp={}));var Ar;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ar||(Ar={}));var ja;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ja||(ja={}));var P2;(function(e){e.websocket="websocket"})(P2||(P2={}));var hu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hu||(hu={}));class Zce{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+i));o=o+i;const c=s.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class BB{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tn||(Tn={}));const uI=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,o)=>(a[o]=eue(o,e,t,i),a),{})},eue=(e,t,n,s)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!s.includes(a)?zB(a,o):A2(o)},zB=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return sue(t,n)}switch(e){case Tn.bool:return tue(t);case Tn.float4:case Tn.float8:case Tn.int2:case Tn.int4:case Tn.int8:case Tn.numeric:case Tn.oid:return nue(t);case Tn.json:case Tn.jsonb:return rue(t);case Tn.timestamp:return iue(t);case Tn.abstime:case Tn.date:case Tn.daterange:case Tn.int4range:case Tn.int8range:case Tn.money:case Tn.reltime:case Tn.text:case Tn.time:case Tn.timestamptz:case Tn.timetz:case Tn.tsrange:case Tn.tstzrange:return A2(t);default:return A2(t)}},A2=e=>e,tue=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},nue=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},rue=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},sue=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>zB(t,l))}return e},iue=e=>typeof e=="string"?e.replace(" ","T"):e,VB=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class cS{constructor(t,n,s={},i=_2){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dI||(dI={}));class Op{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Op.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Op.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Op.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const m=d.map(y=>y.presence_ref),g=f.map(y=>y.presence_ref),x=d.filter(y=>g.indexOf(y.presence_ref)<0),v=f.filter(y=>m.indexOf(y.presence_ref)<0);x.length>0&&(l[u]=x),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},s,i)}static syncDiff(t,n,s,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),m=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...m)}s(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hI||(hI={}));var Dp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Dp||(Dp={}));var Fo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fo||(Fo={}));class sE{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new cS(this,ja.join,this.params,this.timeout),this.rejoinTimer=new BB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ar.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ja.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Op(this),this.broadcastEndpointURL=VB(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ar.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Dp.PRESENCE]&&this.bindings[Dp.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Fo.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Fo.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){t==null||t(Fo.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,N=[];for(let b=0;b<y;b++){const j=v[b],{filter:{event:_,schema:C,table:A,filter:P}}=j,E=g&&g[b];if(E&&E.event===_&&E.schema===C&&E.table===A&&E.filter===P)N.push(Object.assign(Object.assign({},j),{id:E.id}));else{this.unsubscribe(),this.state=Ar.errored,t==null||t(Fo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Fo.SUBSCRIBED);return}}).receive("error",g=>{this.state=Ar.errored,t==null||t(Fo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===Ar.joined&&t===Dp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ar.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ja.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new cS(this,ja.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ar.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new cS(this,t,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Jce){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ja;if(s&&[l,c,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,n,s);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var x,v,y;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(v=g.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(g=>g.callback(m,s)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var x,v,y,N,b,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const _=g.id,C=(x=g.filter)===null||x===void 0?void 0:x.event;return _&&((v=n.ids)===null||v===void 0?void 0:v.includes(_))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(b=(N=g==null?void 0:g.filter)===null||N===void 0?void 0:N.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:v,table:y,commit_timestamp:N,type:b,errors:j}=x;m=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:N,eventType:b,new:{},old:{},errors:j}),this._getPayloadRecords(x))}g.callback(m,s)})}_isClosed(){return this.state===Ar.closed}_isJoined(){return this.state===Ar.joined}_isJoining(){return this.state===Ar.joining}_isLeaving(){return this.state===Ar.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&sE.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ja.close,{},t)}_onError(t){this._on(ja.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ar.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=uI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=uI(t.columns,t.old_record)),n}}const uS=()=>{},Zx={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},aue=[1e3,2e3,5e3,1e4],oue=1e4,lue=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cue{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_2,this.transport=null,this.heartbeatIntervalMs=Zx.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uS,this.ref=0,this.reconnectTimer=null,this.logger=uS,this.conn=null,this.sendBuffer=[],this.serializer=new Zce,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>pv(async()=>{const{default:l}=await Promise.resolve().then(()=>Qf);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${P2.websocket}`,this.httpEndpoint=VB(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gce.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Qce}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Tp.connecting:return hu.Connecting;case Tp.open:return hu.Open;case Tp.closing:return hu.Closing;default:return hu.Closed}}isConnected(){return this.connectionState()===hu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new sE(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Xce,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Zx.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${s} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ja.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([lue],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:Yce};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ja.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new BB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zx.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,i,a,o,l,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:_2,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Zx.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:uS,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>aue[f-1]||oue,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class iE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Er(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class uue extends iE{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class E2 extends iE{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var due=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const UB=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pv(async()=>{const{default:s}=await Promise.resolve().then(()=>Qf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},hue=()=>due(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pv(()=>Promise.resolve().then(()=>Qf),void 0)).Response:Response}),k2=e=>{if(Array.isArray(e))return e.map(n=>k2(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=k2(s)}),t},fue=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var fd=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const dS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mue=(e,t,n)=>fd(void 0,void 0,void 0,function*(){const s=yield hue();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new uue(dS(i),a,o))}).catch(i=>{t(new E2(dS(i),i))}):t(new E2(dS(e),e))}),pue=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?i:(fue(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(s)):i.body=s,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function vv(e,t,n,s,i,a){return fd(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,pue(t,s,i,a)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>mue(c,l,s))})})}function E0(e,t,n,s){return fd(this,void 0,void 0,function*(){return vv(e,"GET",t,n,s)})}function Xa(e,t,n,s,i){return fd(this,void 0,void 0,function*(){return vv(e,"POST",t,s,i,n)})}function T2(e,t,n,s,i){return fd(this,void 0,void 0,function*(){return vv(e,"PUT",t,s,i,n)})}function gue(e,t,n,s){return fd(this,void 0,void 0,function*(){return vv(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function qB(e,t,n,s,i){return fd(this,void 0,void 0,function*(){return vv(e,"DELETE",t,s,i,n)})}var _s=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const vue={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xue{constructor(t,n={},s,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=s,this.fetch=UB(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,s,i){return _s(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},fI),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?T2:Xa)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Er(a))return{data:null,error:a};throw a}})}upload(t,n,s){return _s(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return _s(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:fI.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield T2(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Er(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return _s(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Xa(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new iE("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}update(t,n,s){return _s(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return _s(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}copy(t,n,s){return _s(this,void 0,void 0,function*(){try{return{data:{path:(yield Xa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return _s(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Xa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return _s(this,void 0,void 0,function*(){try{const i=yield Xa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}download(t,n){return _s(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield E0(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Er(l))return{data:null,error:l};throw l}})}info(t){return _s(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield E0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:k2(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}exists(t){return _s(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield gue(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s)&&s instanceof E2){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(t){return _s(this,void 0,void 0,function*(){try{return{data:yield qB(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}list(t,n,s){return _s(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},vue),n),{prefix:t||""});return{data:yield Xa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}listV2(t,n){return _s(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield Xa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const yue="2.12.1",jue={"X-Client-Info":`storage-js/${yue}`};var zd=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class bue{constructor(t,n={},s,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},jue),n),this.fetch=UB(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return zd(this,void 0,void 0,function*(){try{return{data:yield E0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Er(t))return{data:null,error:t};throw t}})}getBucket(t){return zd(this,void 0,void 0,function*(){try{return{data:yield E0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return zd(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return zd(this,void 0,void 0,function*(){try{return{data:yield T2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}emptyBucket(t){return zd(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}deleteBucket(t){return zd(this,void 0,void 0,function*(){try{return{data:yield qB(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}}class wue extends bue{constructor(t,n={},s,i){super(t,n,s,i)}from(t){return new xue(this.url,this.headers,t,this.fetch)}}const Nue="2.57.4";let vp="";typeof Deno<"u"?vp="deno":typeof document<"u"?vp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vp="react-native":vp="node";const Sue={"X-Client-Info":`supabase-js-${vp}/${Nue}`},Cue={headers:Sue},_ue={schema:"public"},Pue={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Aue={};var Eue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const kue=e=>{let t;return e?t=e:typeof fetch>"u"?t=EB:t=fetch,(...n)=>t(...n)},Tue=()=>typeof Headers>"u"?kB:Headers,Oue=(e,t,n)=>{const s=kue(n),i=Tue();return(a,o)=>Eue(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(a,Object.assign(Object.assign({},o),{headers:u}))})};var Due=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};function Mue(e){return e.endsWith("/")?e:e+"/"}function Iue(e,t){var n,s;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Due(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function $ue(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Mue(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const WB="2.71.1",Jd=30*1e3,O2=3,hS=O2*Jd,Rue="http://localhost:9999",Lue="supabase.auth.token",Fue={"X-Client-Info":`gotrue-js/${WB}`},D2="X-Supabase-Api-Version",HB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bue=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zue=10*60*1e3;class aE extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Rt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Vue extends aE{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Uue(e){return Rt(e)&&e.name==="AuthApiError"}class GB extends aE{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ic extends aE{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class Rl extends Ic{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function que(e){return Rt(e)&&e.name==="AuthSessionMissingError"}class ey extends Ic{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ty extends Ic{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ny extends Ic{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Wue(e){return Rt(e)&&e.name==="AuthImplicitGrantRedirectError"}class mI extends Ic{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class M2 extends Ic{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function fS(e){return Rt(e)&&e.name==="AuthRetryableFetchError"}class pI extends Ic{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class I2 extends Ic{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const k0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gI=` 	
\r=`.split(""),Hue=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<gI.length;t+=1)e[gI[t].charCodeAt(0)]=-2;for(let t=0;t<k0.length;t+=1)e[k0[t].charCodeAt(0)]=t;return e})();function vI(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(k0[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(k0[s]),t.queuedBits-=6}}function KB(e,t,n){const s=Hue[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function xI(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Yue(o,s,n)};for(let o=0;o<e.length;o+=1)KB(e.charCodeAt(o),i,a);return t.join("")}function Gue(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Kue(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Gue(s,t)}}function Yue(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Que(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)KB(e.charCodeAt(i),n,s);return new Uint8Array(t)}function Xue(e){const t=[];return Kue(e,n=>t.push(n)),new Uint8Array(t)}function Jue(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>vI(i,n,s)),vI(null,n,s),t.join("")}function Zue(e){return Math.round(Date.now()/1e3)+e}function ede(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ma=()=>typeof window<"u"&&typeof document<"u",eu={tested:!1,writable:!1},YB=()=>{if(!ma())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(eu.tested)return eu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),eu.tested=!0,eu.writable=!0}catch{eu.tested=!0,eu.writable=!1}return eu.writable};function tde(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const QB=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pv(async()=>{const{default:s}=await Promise.resolve().then(()=>Qf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},nde=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},tu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Dl=async(e,t)=>{await e.removeItem(t)};class Db{constructor(){this.promise=new Db.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Db.promiseConstructor=Promise;function mS(e){const t=e.split(".");if(t.length!==3)throw new I2("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Bue.test(t[s]))throw new I2("JWT not in base64url format");return{header:JSON.parse(xI(t[0])),payload:JSON.parse(xI(t[1])),signature:Que(t[2]),raw:{header:t[0],payload:t[1]}}}async function rde(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sde(e,t){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){s(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function ide(e){return("0"+e.toString(16)).substr(-2)}function ade(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,ide).join("")}async function ode(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function lde(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ode(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vd(e,t,n=!1){const s=ade();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Zd(e,`${t}-code-verifier`,i);const a=await lde(s);return[a,s===a?"plain":"s256"]}const cde=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ude(e){const t=e.headers.get(D2);if(!t||!t.match(cde))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dde(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function hde(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fde=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ud(e){if(!fde.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pS(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yI(e){return JSON.parse(JSON.stringify(e))}var mde=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const ou=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pde=[502,503,504];async function jI(e){var t;if(!nde(e))throw new M2(ou(e),0);if(pde.includes(e.status))throw new M2(ou(e),e.status);let n;try{n=await e.json()}catch(a){throw new GB(ou(a),a)}let s;const i=ude(e);if(i&&i.getTime()>=HB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new pI(ou(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Rl}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new pI(ou(n),e.status,n.weak_password.reasons);throw new Vue(ou(n),e.status||500,s)}const gde=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function Yt(e,t,n,s){var i;const a=Object.assign({},s==null?void 0:s.headers);a[D2]||(a[D2]=HB["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await vde(e,t,n+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function vde(e,t,n,s,i,a){const o=gde(t,s,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new M2(ou(c),0)}if(l.ok||await jI(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await jI(c)}}function Ro(e){var t;let n=null;bde(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Zue(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function bI(e){const t=Ro(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ql(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xde(e){return{data:e,error:null}}function yde(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=e,o=mde(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function jde(e){return e}function bde(e){return e.access_token&&e.refresh_token&&e.expires_in}const gS=["global","local","others"];var wde=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};class Nde{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=QB(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=gS[0]){if(gS.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gS.join(", ")}`);try{return await Yt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ql})}catch(s){if(Rt(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=wde(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await Yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:yde,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Rt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Yt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ql})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:jde});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Rt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ud(t);try{return await Yt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ql})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ud(t);try{return await Yt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ql})}catch(s){if(Rt(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Ud(t);try{return await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ql})}catch(s){if(Rt(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ud(t.userId);try{const{data:n,error:s}=await Yt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ud(t.userId),Ud(t.id);try{return{data:await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}}function wI(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Sde(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qd={debug:!!(globalThis&&YB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class XB extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Cde extends XB{}async function _de(e,t,n){qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),qd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Cde(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qd.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Sde();const Pde={url:Rue,storageKey:Lue,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fue,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function NI(e,t,n){return await n()}const Wd={};class hg{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hg.nextInstanceID,hg.nextInstanceID+=1,this.instanceID>0&&ma()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Pde),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Nde({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=QB(i.fetch),this.lock=i.lock||NI,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ma()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_de:this.lock=NI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:YB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wI(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=wI(this.memoryStorage)),ma()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Wd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Wd[this.storageKey]=Object.assign(Object.assign({},Wd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Wd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wd[this.storageKey]=Object.assign(Object.assign({},Wd[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${WB}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=tde(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),ma()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Wue(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Rt(n)?{error:n}:{error:new GB("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const a=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ro}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Rt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,s,i;try{let a;if("email"in t){const{email:d,password:f,options:m}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Vd(this.storage,this.storageKey)),a=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},xform:Ro})}else if("phone"in t){const{phone:d,password:f,options:m}=t;a=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ro})}else throw new ty("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Rt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bI})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bI})}else throw new ty("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ey}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,i,a,o,l,c,u,d,f,m,g;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:y,wallet:N,statement:b,options:j}=t;let _;if(ma())if(typeof N=="object")_=N;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))_=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=N}const C=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const A=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),b?{statement:b}:null));let P;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")P=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)P=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)x=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),v=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${C.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(s=j==null?void 0:j.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=j==null?void 0:j.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((f=(d=j==null?void 0:j.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...j.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const A=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=A}}try{const{data:y,error:N}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Jue(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ro});if(N)throw N;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ey}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:N})}catch(y){if(Rt(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await tu(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:a,error:o}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Ro});if(await Dl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ey}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Rt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:a,nonce:o}=t,l=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ro}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ey}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Vd(this.storage,this.storageKey));const{error:f}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ty("You must provide either an email or phone number.")}catch(l){if(Rt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await Yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ro});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Rt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Vd(this.storage,this.storageKey)),await Yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:xde})}catch(a){if(Rt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Rl;const{error:i}=await Yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Rt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:a}=t,{error:o}=await Yt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:i,options:a}=t,{data:o,error:l}=await Yt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ty("You must provide either an email or phone number and a type")}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await tu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<hS:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await tu(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=pS()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ql}):await this._useSession(async n=>{var s,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rl}:await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ql})})}catch(n){if(Rt(n))return que(n)&&(await this._removeSession(),await Dl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new Rl;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Vd(this.storage,this.storageKey));const{data:u,error:d}=await Yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ql});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Rt(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rl;const n=Date.now()/1e3;let s=n,i=!0,a=null;const{payload:o}=mS(t.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Rt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Rl;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ma())throw new ny("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ny(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new mI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ny("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mI("No code detected.");const{data:b,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new ny("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const g=m-d;g*1e3<=Jd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const x=m-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:v,error:y}=await this._getUser(a);if(y)throw y;const N={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(s){if(Rt(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await tu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{error:a};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Uue(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Dl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=ede(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Vd(this.storage,this.storageKey,!0));try{return await Yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Rt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:m}=a;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Yt(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ma()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Rt(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)throw o;return await Yt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await sde(async i=>(i>0&&await rde(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ro})),(i,a)=>{const o=200*Math.pow(2,i);return a&&fS(a)&&Date.now()+o-s<Jd})}catch(s){if(this._debug(n,"error",s),Rt(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),ma()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await tu(this.storage,this.storageKey);if(i&&this.userStorage){let o=await tu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Zd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:pS()}else if(i&&!i.user&&!i.user){const o=await tu(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Dl(this.storage,this.storageKey+"-user"),await Zd(this.storage,this.storageKey,i)):i.user=pS()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<hS;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${hS}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),fS(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Rl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Db;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Rl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Rt(a)){const o={session:null,error:a};return fS(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Zd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=yI(i);await Zd(this.storage,this.storageKey,a)}else{const i=yI(n);await Zd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Dl(this.storage,this.storageKey),await Dl(this.storage,this.storageKey+"-code-verifier"),await Dl(this.storage,this.storageKey+"-user"),this.userStorage&&await Dl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ma()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Jd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Jd}ms, refresh threshold is ${O2} ticks`),i<=O2&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof XB)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ma()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,o]=await Vd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Yt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Yt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await Yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],i=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mS(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+zue>i)return s;const{data:a,error:o}=await Yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,s=a.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};s=g.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=mS(s);n!=null&&n.allowExpired||dde(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:a,header:i,signature:o},error:null}}const d=hde(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Xue(`${l}.${c}`)))throw new I2("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}}}hg.nextInstanceID=0;const Ade=hg;class Ede extends Ade{constructor(t){super(t)}}var kde=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class Tde{constructor(t,n,s){var i,a,o;this.supabaseUrl=t,this.supabaseKey=n;const l=$ue(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:_ue,realtime:Aue,auth:Object.assign(Object.assign({},Pue),{storageKey:c}),global:Cue},d=Iue(s??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Oue(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Hce(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new wue(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Sce(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return kde(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ede({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new cue(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ode=(e,t,n)=>new Tde(e,t,n);function Dde(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Dde()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const JB="https://fqmeqckchbppabetefuk.supabase.co",Mde="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxbWVxY2tjaGJwcGFiZXRlZnVrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY2NzUzODYsImV4cCI6MjA3MjI1MTM4Nn0.MkyVvQVmqUXShrHXHTpHib0Dyq39ZB47KhGZZgBlF-o",Vt=Ode(JB,Mde,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),ZB=async()=>{const{data:{user:e},error:t}=await Vt.auth.getUser();if(t)throw t;return e},Mb=async()=>{const e=await ZB();if(!e)return null;const{data:t,error:n}=await Vt.from("user_profiles").select("*").eq("id",e.id).single();if(n)throw n;return t},Ide=async(e,t,n,s,i="assistant")=>{const{data:a,error:o}=await Vt.auth.signUp({email:e,password:t,options:{data:{username:n,full_name:s,role:i}}});if(o)throw o;return a},$de=async()=>{const{error:e}=await Vt.auth.signOut();if(e)throw e;try{localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("sb-"+JB.split("//")[1].split(".")[0]+"-auth-token"),document.cookie.split(";").forEach(t=>{document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")})}catch(t){console.warn("Error clearing auth storage:",t)}},Rde=async e=>{const t=await ZB();if(!t)throw new Error("No authenticated user");const{data:n,error:s}=await Vt.from("user_profiles").select("*").eq("id",t.id).single();n||await ez(t);const i=Object.entries({...e,updated_at:new Date().toISOString()}).reduce((l,[c,u])=>(u!=null&&u!==""&&(l[c]=u),l),{}),{data:a,error:o}=await Vt.from("user_profiles").update(i).eq("id",t.id).select().single();if(o){const l=t.user_metadata||{},c=l.full_name||l.name||"",u=(n==null?void 0:n.username)||l.username||t.email.split("@")[0],d=(n==null?void 0:n.role)||l.role||"assistant",f={id:t.id,email:t.email,username:u,full_name:c,role:d,...i},{data:m,error:g}=await Vt.from("user_profiles").upsert(f).select().single();if(g)throw new Error(`Profile update failed: ${g.message}`);return m}return a},ez=async e=>{const t=await Mb();if(t)return t;const n=e.user_metadata||{},s=n.full_name||n.name||"",i=n.username||e.email.split("@")[0],a=n.role||"assistant",{data:o,error:l}=await Vt.from("user_profiles").insert({id:e.id,email:e.email,username:i,full_name:s,role:a}).select().single();if(l)throw l;return o},Lde=async e=>{const{data:t,error:n}=await Vt.auth.resetPasswordForEmail(e,{redirectTo:"http://localhost:8000/dashboard/reset-password"});if(n)throw n;return t},Pa={all:["auth"],session:()=>[...Pa.all,"session"]},Fde=async()=>{try{const{data:{session:e},error:t}=await Vt.auth.getSession();if(t||!(e!=null&&e.user))return null;let n=null;try{n=await Mb()}catch{try{n=await ez(e.user)}catch(i){console.error("Failed to create user profile:",i);const a=e.user.user_metadata||{},o=a.full_name||a.name||"",l=a.username||e.user.email.split("@")[0];n={id:e.user.id,email:e.user.email,username:l,full_name:o,role:"assistant",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),avatar_url:a.avatar_url||a.picture||null}}}return n?{id:e.user.id,email:e.user.email,profile:n}:null}catch{return null}},Bde=()=>ml({queryKey:Pa.session(),queryFn:Fde,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:"always",refetchOnReconnect:!1,networkMode:"offlineFirst"}),zde=()=>{const e=is();return xs({mutationFn:async({email:t,password:n})=>{const{data:s,error:i}=await Vt.auth.signInWithPassword({email:t,password:n});if(i){const o={"Invalid login credentials":"Email ou mot de passe incorrect","Email not confirmed":"Veuillez confirmer votre email avant de vous connecter","Too many requests":"Trop de tentatives de connexion. Veuillez réessayer plus tard"}[i.message]||i.message;throw new Error(o)}if(!s.user||!s.session)throw new Error("Échec de connexion - session invalide");return s.user},onSuccess:async()=>{await new Promise(t=>setTimeout(t,100)),e.refetchQueries({queryKey:Pa.session()})},onError:()=>{e.setQueryData(Pa.session(),null)}})},Vde=()=>{const e=is();return xs({mutationFn:async()=>{await $de()},onSuccess:()=>{e.setQueryData(Pa.session(),null),e.removeQueries({queryKey:Pa.session()})}})},Ude=()=>{const e=is();return xs({mutationFn:async()=>{const t=await Mb();if(!t)throw new Error("Could not refresh profile");return t},onSuccess:()=>{e.invalidateQueries({queryKey:Pa.session()})}})},qde=()=>xs({mutationFn:async()=>{const{data:e,error:t}=await Vt.auth.signInWithOAuth({provider:"google",options:{redirectTo:"http://localhost:8000/dashboard"}});if(t)throw t;return e}}),Wde=()=>xs({mutationFn:async e=>{await Lde(e)}}),tz=w.createContext(void 0);function Hde({children:e}){const{data:t,isLoading:n,error:s}=Bde(),i=zde(),a=Vde(),o=Ude(),l=is(),[c,u]=w.useState(!1),d=w.useRef(!1);w.useEffect(()=>{if(d.current)return;d.current=!0;const{data:{subscription:N}}=Vt.auth.onAuthStateChange((j,_)=>{j==="SIGNED_OUT"?(l.setQueryData(Pa.session(),null),l.removeQueries({queryKey:Pa.session()})):j==="TOKEN_REFRESHED"&&_&&l.invalidateQueries({queryKey:Pa.session()}),c||u(!0)}),b=setTimeout(()=>{c||u(!0)},2e3);return()=>{N.unsubscribe(),clearTimeout(b),d.current=!1}},[l,c]);const f=async(N,b)=>{try{return await i.mutateAsync({email:N,password:b}),!0}catch(j){return console.error("Login error:",j),!1}},m=async()=>{try{await a.mutateAsync()}catch(N){console.error("Logout error:",N),l.setQueryData(Pa.session(),null)}},g=async()=>{await o.mutateAsync()},x=!c||n&&!s&&t===void 0,v=i.isPending||a.isPending,y={user:t||null,isAuthenticated:!!t&&c,isLoading:x||v,login:f,logout:m,refreshProfile:g};return r.jsx(tz.Provider,{value:y,children:e})}function $c(){const e=w.useContext(tz);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function SI(){const{user:e,logout:t}=$c(),{toast:n}=$t(),s=Yf(),[i,a]=w.useState(!1),o=async()=>{a(!0),await new Promise(d=>setTimeout(d,500)),t(),n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."}),a(!1)};if(!e)return null;const l=d=>d?d.split(" ").map(f=>f.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),c=d=>{switch(d){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},u=d=>{switch(d){case"admin":return r.jsx(wi,{className:"h-3 w-3"});case"assistant":return r.jsx(Hr,{className:"h-3 w-3"});default:return r.jsx(Hr,{className:"h-3 w-3"})}};return r.jsxs(Jle,{children:[r.jsx(Zle,{asChild:!0,children:r.jsx(V,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:r.jsx(Gr,{className:"h-8 w-8",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-sm",children:l(e.profile.full_name)})})})}),r.jsxs(gB,{className:"w-56",align:"end",forceMount:!0,children:[r.jsx(vB,{className:"font-normal",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("p",{className:"text-sm font-medium leading-none",children:e.profile.full_name||e.profile.username}),r.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email}),r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u(e.profile.role),r.jsx("span",{className:"text-xs text-muted-foreground",children:c(e.profile.role)})]})]})}),r.jsx(S2,{}),r.jsxs(Wy,{className:"cursor-pointer",onClick:()=>s("/profile"),children:[r.jsx(Hr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Profil"})]}),r.jsxs(Wy,{className:"cursor-pointer",onClick:()=>s("/auth-settings"),children:[r.jsx(Qte,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Paramètres de connexion"})]}),r.jsx(S2,{}),r.jsxs(Wy,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:o,disabled:i,children:[r.jsx(X5,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:i?"Déconnexion...":"Se déconnecter"})]})]})]})}const nz=[{icon:Gte,label:"Dashboard",path:"/dashboard"},{icon:Ia,label:"Clients",path:"/clients"},{icon:Wt,label:"Animaux",path:"/pets"},{icon:Dt,label:"RDV",path:"/appointments"},{icon:cr,label:"Consultations",path:"/consultations"},{icon:Ts,label:"Vaccinations",path:"/vaccinations"},{icon:rc,label:"Antiparasites",path:"/antiparasites"},{icon:Y5,label:"Historiques",path:"/history"},{icon:KC,label:"Farm Mgmt",path:"/farm"}],rz=[{icon:Wn,label:"Stock",path:"/stock"},{icon:K5,label:"Comptabilité",path:"/accounting"},{icon:Ute,label:"Paramètres",path:"/settings"}],Gde=[...nz,...rz];function ds(){const e=Mc(),[t,n]=w.useState(!1);return r.jsx("nav",{className:"bg-card border-b shadow-card",children:r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[r.jsxs(Sa,{to:"/dashboard",className:"flex items-center gap-1 sm:gap-2",children:[r.jsx(Wt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-primary"}),r.jsx("h1",{className:"text-lg sm:text-xl font-bold gradient-primary bg-clip-text text-transparent hidden sm:block",children:"VetPro CRM"}),r.jsx("h1",{className:"text-base sm:text-lg font-bold gradient-primary bg-clip-text text-transparent sm:hidden",children:"VetPro"})]}),r.jsx("div",{className:"hidden sm:block",children:r.jsx(KM,{})})]}),r.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[nz.map(s=>r.jsx(V,{variant:e.pathname===s.path?"default":"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",asChild:!0,children:r.jsxs(Sa,{to:s.path,children:[r.jsx(s.icon,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden xl:inline",children:s.label})]})},s.path)),r.jsxs("div",{className:"relative group",children:[r.jsxs(V,{variant:"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",children:[r.jsx(hM,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden xl:inline",children:"Plus"})]}),r.jsx("div",{className:"absolute right-0 top-full mt-1 w-40 bg-card border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:r.jsx("div",{className:"py-1",children:rz.map(s=>r.jsxs(Sa,{to:s.path,className:`flex items-center gap-2 px-4 py-2 text-sm transition-colors hover:bg-muted ${e.pathname===s.path?"bg-primary text-primary-foreground":""}`,children:[r.jsx(s.icon,{className:"h-4 w-4"}),s.label]},s.path))})})]})]}),r.jsx("div",{className:"hidden lg:flex items-center gap-2",children:r.jsx(SI,{})}),r.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[r.jsx("div",{className:"sm:hidden",children:r.jsx(KM,{})}),r.jsx(SI,{}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>n(!t),className:"gap-1 p-2",children:t?r.jsx(hb,{className:"h-4 w-4"}):r.jsx(hM,{className:"h-4 w-4"})})]})]}),t&&r.jsx("div",{className:"lg:hidden mt-2 pt-2 border-t",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1",children:Gde.map(s=>r.jsx(V,{variant:e.pathname===s.path?"default":"ghost",size:"sm",className:"gap-2 justify-start text-xs sm:text-sm",asChild:!0,onClick:()=>n(!1),children:r.jsxs(Sa,{to:s.path,children:[r.jsx(s.icon,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"truncate",children:s.label})]})},s.path))})})]})})}class Kde extends w.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n})}render(){var t,n;return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-8",children:r.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-lg shadow-lg border border-red-200",children:[r.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-4",children:"🚨 Erreur dans l'application"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Erreur :"}),r.jsx("pre",{className:"bg-red-100 p-4 rounded text-sm text-red-800 overflow-auto",children:(t=this.state.error)==null?void 0:t.toString()})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Stack Trace :"}),r.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm text-gray-800 overflow-auto max-h-64",children:(n=this.state.errorInfo)==null?void 0:n.componentStack})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Recharger la page"}),r.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Retour"})]})]})]})}):this.props.children}}const sz=w.createContext(void 0),CI=[{id:1,name:"Marie Dubois",firstName:"Marie",lastName:"Dubois",email:"marie.dubois@email.com",phone:"06 12 34 56 78",address:"123 Rue de la Paix",city:"Paris",postalCode:"75001",idNumber:"1234567890123",pets:[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",gender:"female",birthDate:"2021-03-15",weight:"28 kg",color:"Doré",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:4,name:"Luna",type:"Chat",breed:"Siamois",gender:"female",birthDate:"2022-05-12",weight:"3.8 kg",color:"Crème et marron",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-08",nextAppointment:"2024-02-08",microchip:"982000111222333",vaccinations:["Rage","FVRCP","FeLV"]}],lastVisit:"2024-01-15",totalVisits:12},{id:2,name:"Jean Martin",firstName:"Jean",lastName:"Martin",email:"jean.martin@email.com",phone:"06 98 76 54 32",address:"45 Avenue des Roses",city:"Lyon",postalCode:"69000",idNumber:"9876543210987",pets:[{id:2,name:"Whiskers",type:"Chat",breed:"Persan",gender:"male",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]}],lastVisit:"2024-01-10",totalVisits:8},{id:3,name:"Sophie Leroux",firstName:"Sophie",lastName:"Leroux",email:"sophie.leroux@email.com",phone:"06 45 67 89 12",address:"78 Boulevard Maritime",city:"Marseille",postalCode:"13000",idNumber:"4567891234567",pets:[{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",gender:"male",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]},{id:5,name:"Max",type:"Chien",breed:"Labrador",gender:"male",birthDate:"2020-09-03",weight:"30 kg",color:"Noir",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-22",nextAppointment:"2024-02-22",microchip:"982000444555666",vaccinations:["Rage","DHPP","Lyme","Bordetella"]}],lastVisit:"2024-01-18",totalVisits:15}],Xm=[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",birthDate:"2021-03-15",weight:"28 kg",color:"Doré",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:2,name:"Whiskers",type:"Chat",breed:"Persan",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]},{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]}],ry=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",weight:"28.2 kg",temperature:"38.5",symptoms:"Contrôle annuel, bonne santé générale",diagnosis:"Aucun problème détecté",treatment:"Vaccination annuelle",medications:"Rappel vaccin DHPP",followUp:"Contrôle dans 1 an",cost:"85.00",notes:"Animal en excellente santé",photos:[],createdAt:"2024-01-15T10:30:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",weight:"4.3 kg",temperature:"39.2",symptoms:"Perte d'appétit, léthargie",diagnosis:"Infection urinaire",treatment:"Antibiotiques",medications:"Amoxicilline 50mg 2x/jour pendant 7 jours",followUp:"Contrôle dans 1 semaine",cost:"120.00",notes:"Surveiller la consommation d'eau",photos:[],createdAt:"2024-01-10T14:15:00Z"}],sy=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-25",time:"14:30",type:"vaccination",duration:30,reason:"Vaccination annuelle",notes:"Rappel vaccinal complet",status:"scheduled",reminderSent:!1,createdAt:"2024-01-20T09:00:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-22",time:"10:00",type:"controle",duration:45,reason:"Contrôle post-traitement",notes:"Vérifier l'amélioration de l'appétit",status:"confirmed",reminderSent:!0,createdAt:"2024-01-18T16:30:00Z"},{id:3,clientId:3,clientName:"Sophie Leroux",petId:3,petName:"Rex",date:"2024-01-26",time:"16:00",type:"sterilisation",duration:60,reason:"Stérilisation",notes:"Jeûne 12h avant l'intervention",status:"scheduled",reminderSent:!1,createdAt:"2024-01-19T11:15:00Z"}],iy=[{id:1,consultationId:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",prescribedBy:"Dr. Martin",diagnosis:"Trachéobronchite",medications:[{id:1,name:"Doxycycline",dosage:"100mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprimés",refills:0,cost:25.5},{id:2,name:"Sirop antitussif",dosage:"5ml",frequency:"3x/jour",duration:"5 jours",instructions:"Donner 30 minutes avant les repas",quantity:75,unit:"ml",refills:1,cost:15}],instructions:"Surveiller la température et l'appétit. Retour en cas d'aggravation.",duration:"7 jours",followUpDate:"2024-01-22",status:"active",notes:"Patient calme, bon appétit maintenu",createdAt:"2024-01-15T10:30:00Z"},{id:2,consultationId:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",prescribedBy:"Dr. Martin",diagnosis:"Infection urinaire",medications:[{id:3,name:"Amoxicilline",dosage:"50mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprimés",refills:0,cost:18}],instructions:"Augmenter la consommation d'eau. Surveiller les urines.",duration:"7 jours",followUpDate:"2024-01-17",status:"completed",notes:"Amélioration progressive",createdAt:"2024-01-10T14:15:00Z"}],ay=[{id:1,name:"Ferme des Prairies",owner:"Pierre Durand",address:"123 Route de la Campagne, 45000 Orléans",coordinates:{latitude:47.9056,longitude:1.919},phone:"02 38 45 67 89",email:"p.durand@fermedespra.fr",types:["Bovin laitier"],totalAnimals:85,animalDetails:[{category:"Bovins laitiers",maleCount:3,femaleCount:82,breeds:["Holstein","Prim'Holstein"],ageGroups:["Veaux (0-6 mois)","Génisses (6-24 mois)","Vaches adultes"]}],lastVisit:"2024-01-15",status:"active",veterinarian:"Dr. Dupont",notes:"Exploitation bien gérée, animaux en bonne santé",registrationNumber:"FR45123456789",surfaceArea:45.5,buildingDetails:"Étable moderne 850m², stabulation libre, salle de traite 2x8",equipmentDetails:"Tracteur John Deere, Tank à lait 2000L, Système de ventilation automatique",certifications:["Agriculture Biologique","Haute Valeur Environnementale"],insuranceDetails:"Groupama - Police n°123456789",emergencyContact:{name:"Marie Durand",phone:"06 12 34 56 78",relation:"Épouse"},photos:[{id:"photo_1",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBDaGVwdGVsPC90ZXh0Pgo8L3N2Zz4K",description:"Vaches Holstein dans le pré",category:"cheptel",uploadedAt:"2024-01-15T10:00:00Z"},{id:"photo_2",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBCw6J0aW1lbnRzPC90ZXh0Pgo8L3N2Zz4K",description:"Étable moderne avec salle de traite",category:"batiments",uploadedAt:"2024-01-15T10:00:00Z"}],createdAt:"2024-01-01T09:00:00Z"},{id:2,name:"Élevage Martin",owner:"Jean-Luc Martin",address:"456 Chemin des Champs, 41000 Blois",coordinates:{latitude:47.5886,longitude:1.334},phone:"02 54 78 90 12",email:"jl.martin@elevagemartin.fr",types:["Porcin"],totalAnimals:150,animalDetails:[{category:"Porcs",maleCount:75,femaleCount:75,breeds:["Large White","Landrace"],ageGroups:["Porcelets (0-2 mois)","Porcs en croissance (2-6 mois)"]}],lastVisit:"2024-01-10",status:"active",veterinarian:"Dr. Martin",notes:"Nouveau système de ventilation installé",registrationNumber:"FR41987654321",surfaceArea:28.3,buildingDetails:"Porcherie 600m², nurserie 200m², système de ventilation automatique",equipmentDetails:"Système d'alimentation automatique, Pompe à lisier, Générateur de secours",certifications:["Label Rouge"],insuranceDetails:"Crédit Agricole Assurances - Police n°987654321",emergencyContact:{name:"Sophie Martin",phone:"06 98 76 54 32",relation:"Sœur"},createdAt:"2024-01-02T10:30:00Z"},{id:3,name:"Ferme Avicole Leroux",owner:"Marie Leroux",address:"789 Avenue des Volailles, 37000 Tours",coordinates:{latitude:47.3936,longitude:.6848},phone:"02 47 12 34 56",email:"m.leroux@avicole-leroux.fr",types:["Avicole"],totalAnimals:2500,animalDetails:[{category:"Poules pondeuses",maleCount:50,femaleCount:2e3,breeds:["ISA Brown","Lohmann Brown"],ageGroups:["Poussins (0-18 semaines)","Pondeuses (18+ semaines)"]},{category:"Poulets de chair",maleCount:225,femaleCount:225,breeds:["Cobb 500","Ross 308"],ageGroups:["0-6 semaines"]}],lastVisit:"2024-01-18",status:"attention",veterinarian:"Dr. Dupont",notes:"Problème de ventilation détecté, surveillance renforcée",registrationNumber:"FR37555666777",surfaceArea:12.8,buildingDetails:"Poulailler automatisé 1200m², aire de parcours 5000m²",equipmentDetails:"Système de ramassage automatique des œufs, Ventilation programmable, Éclairage LED",certifications:["Œufs de France","Bien-être animal"],insuranceDetails:"MMA - Police n°555666777",emergencyContact:{name:"Paul Leroux",phone:"06 47 12 34 56",relation:"Fils"},createdAt:"2024-01-03T14:15:00Z"},{id:4,name:"Ferme Équine du Val",owner:"Sophie Moreau",address:"12 Chemin des Écuries, 78000 Versailles",coordinates:{latitude:48.8044,longitude:2.1232},phone:"01 39 50 12 34",email:"s.moreau@fermeequine.fr",types:["Équin"],totalAnimals:25,animalDetails:[{category:"Chevaux",maleCount:8,femaleCount:17,breeds:["Pur-sang","Selle français","Arabe"],ageGroups:["Poulains (0-3 ans)","Jeunes chevaux (3-7 ans)","Chevaux adultes (7+ ans)"]}],lastVisit:"2024-01-20",status:"active",veterinarian:"Dr. Martin",notes:"Écurie de prestige, chevaux de compétition",registrationNumber:"FR78123456789",surfaceArea:15.2,buildingDetails:"Écuries 800m², manège couvert 1200m², carrière extérieure 2000m²",equipmentDetails:"Tracteur, Système d'arrosage automatique, Éclairage LED, Système de sécurité",certifications:["Bien-être animal","Équitation de tradition française"],insuranceDetails:"Allianz - Police n°781234567",emergencyContact:{name:"Marc Moreau",phone:"06 12 34 56 78",relation:"Époux"},createdAt:"2024-01-04T08:30:00Z"},{id:5,name:"Rucher des Fleurs",owner:"Jean Dupuis",address:"45 Route des Champs, 13000 Marseille",coordinates:{latitude:43.2965,longitude:5.3698},phone:"04 91 23 45 67",email:"j.dupuis@rucherdesfleurs.fr",types:["Apiculture"],totalAnimals:120,animalDetails:[{category:"Abeilles",maleCount:0,femaleCount:120,breeds:["Abeille noire","Buckfast"],ageGroups:["Reines (1-3 ans)","Ouvrières (6 semaines)","Faux-bourdons (3 mois)"]}],lastVisit:"2024-01-12",status:"active",veterinarian:"Dr. Dupont",notes:"Production de miel de qualité, apiculture biologique",registrationNumber:"FR13123456789",surfaceArea:8.5,buildingDetails:"Miellerie 200m², entrepôt 150m², zone de conditionnement 100m²",equipmentDetails:"Extracteur de miel, Centrifugeuse, Filtres, Matériel de conditionnement",certifications:["Agriculture Biologique","Miel de France"],insuranceDetails:"MAIF - Police n°131234567",emergencyContact:{name:"Marie Dupuis",phone:"06 91 23 45 67",relation:"Épouse"},createdAt:"2024-01-05T11:15:00Z"}],oy=[{id:1,date:"2024-01-20",farmId:1,farmName:"Ferme des Prairies",type:"vaccination",animals:"15 bovins",veterinarian:"Dr. Dupont",description:"Vaccination contre la fièvre aphteuse",status:"completed",followUp:"Contrôle dans 6 mois",cost:450,notes:"Intervention réussie, aucun effet secondaire",createdAt:"2024-01-20T08:00:00Z"},{id:2,date:"2024-01-18",farmId:3,farmName:"Ferme Avicole Leroux",type:"urgence",animals:"50 poules",veterinarian:"Dr. Dupont",description:"Traitement infection respiratoire",status:"ongoing",followUp:"Suivi hebdomadaire",cost:320,notes:"Traitement antibiotique en cours",createdAt:"2024-01-18T14:30:00Z"},{id:3,date:"2024-01-15",farmId:2,farmName:"Élevage Martin",type:"controle",animals:"Tous les porcins",veterinarian:"Dr. Martin",description:"Contrôle sanitaire trimestriel",status:"completed",followUp:"Prochain contrôle en avril",cost:280,notes:"Tous les paramètres dans les normes",createdAt:"2024-01-15T10:00:00Z"}],ly=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"DHPP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2025-01-15",batchNumber:"VAC2024-001",veterinarian:"Dr. Martin",notes:"Première vaccination annuelle",status:"completed",cost:"45.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-12-31",createdAt:"2024-01-15T10:30:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Rage",vaccineType:"rabies",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2027-01-15",batchNumber:"RAB2024-005",veterinarian:"Dr. Martin",notes:"Vaccination antirabique obligatoire",status:"completed",cost:"35.00",location:"right_shoulder",manufacturer:"Merial",expirationDate:"2026-08-15",createdAt:"2024-01-15T10:45:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:3,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",vaccineName:"FVRCP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2023-08-22",nextDueDate:"2024-08-22",batchNumber:"CAT2023-012",veterinarian:"Dr. Dupont",notes:"Vaccination de base pour chat",status:"overdue",cost:"40.00",location:"subcutaneous",manufacturer:"Virbac",expirationDate:"2025-06-30",createdAt:"2023-08-22T14:20:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:4,petId:3,petName:"Rex",clientId:3,clientName:"Sophie Leroux",vaccineName:"Bordetella",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-18",nextDueDate:"2025-01-18",batchNumber:"BOR2024-008",veterinarian:"Dr. Martin",notes:"Vaccination contre la toux de chenil",status:"completed",cost:"30.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-09-30",createdAt:"2024-01-18T16:15:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:5,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Lyme",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-25",nextDueDate:"2024-04-25",batchNumber:"LYM2024-003",veterinarian:"Dr. Martin",notes:"Vaccination contre la maladie de Lyme",status:"scheduled",cost:"50.00",location:"left_hip",manufacturer:"Boehringer Ingelheim",expirationDate:"2025-11-20",createdAt:"2024-01-25T09:00:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1}],Hd=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",productName:"Frontline Combo Spot-On",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",dateGiven:"2024-01-10",nextDueDate:"2024-02-10",dosage:"1 pipette",administrationRoute:"topical",veterinarian:"Dr. Martin",notes:"Application entre les omoplates",batchNumber:"FRC2024-001",manufacturer:"Boehringer Ingelheim",weight:"28kg",status:"completed",cost:"25.50",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",productName:"Milbemax Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cœur",dateGiven:"2024-01-05",nextDueDate:"2024-04-05",dosage:"1/2 comprimé",administrationRoute:"oral",veterinarian:"Dr. Dupont",notes:"Donné avec la nourriture",batchNumber:"MLX2024-008",manufacturer:"Novartis",weight:"4.5kg",status:"completed",cost:"18.00",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1}],Jm=[{id:1,name:"Frontline Combo Spot-On",species:"Chien",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",description:"Protection complète contre puces et tiques pendant 8 semaines",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"2-60kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!0,notes:"Éviter le bain 48h avant et après application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:2,name:"NexGard Spectra",species:"Chien",productType:"combined",targetParasites:"Puces, Tiques, Vers du cœur, Vers ronds, Vers plats",description:"Protection combinée externe et interne mensuelle",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Première dose"},{offsetDays:30,label:"Dose mensuelle"}],weightRange:"2-60kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!1,notes:"Donner avec la nourriture pour une meilleure absorption",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:3,name:"Drontal Plus",species:"Chien",productType:"worming",targetParasites:"Vers ronds, Vers plats, Ankylostomes, Trichures",description:"Vermifugation large spectre",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Première vermifugation"},{offsetDays:90,label:"Rappel trimestriel"},{offsetDays:180,label:"Rappel semestriel"}],weightRange:"2-35kg",ageRequirement:"Dès 2 semaines",seasonalTreatment:!1,notes:"Administrer le matin à jeun, répéter selon exposition aux parasites",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:4,name:"Advocate Spot-On",species:"Chien",productType:"combined",targetParasites:"Puces, Vers du cœur, Vers ronds, Ankylostomes, Gale sarcoptique",description:"Protection topique combinée mensuelle",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"1-40kg",ageRequirement:"Dès 7 semaines",seasonalTreatment:!1,notes:"Appliquer sur peau sèche entre les omoplates",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:5,name:"Frontline Combo Chat",species:"Chat",productType:"flea_tick",targetParasites:"Puces, Tiques",description:"Protection mensuelle contre puces et tiques chez le chat",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"1-8kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!0,notes:"Attention aux réactions cutanées, surveiller 24h après application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:6,name:"Stronghold Plus",species:"Chat",productType:"combined",targetParasites:"Puces, Vers du cœur, Vers ronds, Ankylostomes, Gale des oreilles",description:"Protection combinée mensuelle pour chats",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"0.5-8kg",ageRequirement:"Dès 6 semaines",seasonalTreatment:!1,notes:"Efficace contre gale des oreilles en 1 application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:7,name:"Milbemax Chat",species:"Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cœur",description:"Vermifugation complète pour chats",manufacturer:"Novartis",intervals:[{offsetDays:0,label:"Première vermifugation"},{offsetDays:90,label:"Rappel trimestriel"}],weightRange:"0.5-8kg",ageRequirement:"Dès 6 semaines",seasonalTreatment:!1,notes:"Comprimés appétents, peut être donné avec ou sans nourriture",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:8,name:"Eprinex Pour-On",species:"Bovins",productType:"external",targetParasites:"Mouches, Poux, Gales, Vers gastro-intestinaux",description:"Traitement pour-on systémique pour bovins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application unique"},{offsetDays:84,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Tous âges",seasonalTreatment:!0,notes:"Temps d'attente viande: 15 jours, lait: 0 jour",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:9,name:"Panacur 100",species:"Bovins",productType:"worming",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires",description:"Vermifuge oral pour bovins",manufacturer:"MSD",intervals:[{offsetDays:0,label:"Traitement initial"},{offsetDays:120,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Dès 2 semaines",seasonalTreatment:!1,notes:"Temps d'attente viande: 14 jours, lait: 3 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:10,name:"Cydectin 0.1%",species:"Ovins",productType:"combined",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires, Gales",description:"Traitement injectable pour ovins et caprins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Injection unique"},{offsetDays:90,label:"Rappel saisonnier"}],weightRange:"10-100kg",ageRequirement:"Dès 4 semaines",seasonalTreatment:!0,notes:"Temps d'attente viande: 35 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],_I=[{id:1,name:"Amoxicilline 500mg",category:"medication",subcategory:"Antibiotique",description:"Antibiotique à large spectre",manufacturer:"Boehringer Ingelheim",batchNumber:"AMX2024001",dosage:"500mg",unit:"box",currentStock:15,minimumStock:5,maximumStock:50,purchasePrice:20,sellingPrice:25.5,totalValue:300,expirationDate:"2025-12-31",supplier:"Pharmacie Vétérinaire Centrale",location:"Armoire A - Étagère 1",notes:"Stockage à température ambiante",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-15",isActive:!0,barcode:"1234567890123",sku:"MED-AMX-500"},{id:2,name:"Frontline Combo Spot-On",category:"medication",subcategory:"Antiparasitaire",description:"Traitement contre puces et tiques",manufacturer:"Boehringer Ingelheim",batchNumber:"FRC2024001",dosage:"1 pipette",unit:"pack",currentStock:8,minimumStock:10,maximumStock:100,purchasePrice:15,sellingPrice:18.75,totalValue:120,expirationDate:"2026-06-30",supplier:"VetoSupply Maroc",location:"Armoire B - Étagère 2",notes:"Pour chiens 20-40kg",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-10",isActive:!0,barcode:"2345678901234",sku:"ANT-FRONT-20-40"},{id:3,name:"DHPP Canine",category:"vaccine",subcategory:"Vaccin Core",description:"Vaccin contre Distemper, Hépatite, Parvovirus, Parainfluenza",manufacturer:"Merial",batchNumber:"DHPP2024001",dosage:"1 dose",unit:"vial",currentStock:25,minimumStock:10,maximumStock:100,purchasePrice:9.5,sellingPrice:12,totalValue:237.5,expirationDate:"2025-08-15",supplier:"Vaccins Vétérinaires SA",location:"Réfrigérateur - Étagère 1",notes:"Conservation 2-8°C",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-20",isActive:!0,barcode:"3456789012345",sku:"VAC-DHPP-001"},{id:4,name:"Rage Canine",category:"vaccine",subcategory:"Vaccin Obligatoire",description:"Vaccin antirabique obligatoire",manufacturer:"Merial",batchNumber:"RAB2024001",dosage:"1 dose",unit:"vial",currentStock:12,minimumStock:5,maximumStock:50,purchasePrice:12,sellingPrice:15,totalValue:144,expirationDate:"2025-10-20",supplier:"Vaccins Vétérinaires SA",location:"Réfrigérateur - Étagère 2",notes:"Conservation 2-8°C - Obligatoire",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-18",isActive:!0,barcode:"4567890123456",sku:"VAC-RAB-001"},{id:5,name:"Seringues 5ml",category:"consumable",subcategory:"Matériel d'injection",description:"Seringues stériles 5ml avec aiguilles",manufacturer:"BD Medical",batchNumber:"SYR2024001",dosage:"5ml",unit:"box",currentStock:50,minimumStock:20,maximumStock:200,purchasePrice:.35,sellingPrice:.45,totalValue:17.5,expirationDate:"2027-03-15",supplier:"Matériel Médical Pro",location:"Armoire C - Étagère 1",notes:"Stériles, usage unique",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-12",isActive:!0,barcode:"5678901234567",sku:"CON-SYR-5ML"},{id:6,name:"Masques chirurgicaux",category:"consumable",subcategory:"Protection",description:"Masques chirurgicaux jetables",manufacturer:"3M",batchNumber:"MSK2024001",dosage:"1 unité",unit:"box",currentStock:200,minimumStock:50,maximumStock:500,purchasePrice:.12,sellingPrice:.15,totalValue:24,expirationDate:"2026-12-31",supplier:"Protection Médicale",location:"Armoire D - Étagère 1",notes:"Type IIR, boîte de 50",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-08",isActive:!0,barcode:"6789012345678",sku:"CON-MSK-50"},{id:7,name:"Gants nitrile",category:"consumable",subcategory:"Protection",description:"Gants nitrile non poudrés",manufacturer:"Ansell",batchNumber:"GNT2024001",dosage:"1 paire",unit:"box",currentStock:30,minimumStock:10,maximumStock:100,purchasePrice:.2,sellingPrice:.25,totalValue:6,expirationDate:"2026-08-20",supplier:"Protection Médicale",location:"Armoire D - Étagère 2",notes:"Taille M, boîte de 100",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-05",isActive:!0,barcode:"7890123456789",sku:"CON-GNT-M-100"},{id:8,name:"Thermomètre digital",category:"equipment",subcategory:"Diagnostic",description:"Thermomètre digital vétérinaire",manufacturer:"Gima",batchNumber:"THM2024001",dosage:"1 unité",unit:"unit",currentStock:3,minimumStock:2,maximumStock:10,purchasePrice:35,sellingPrice:45,totalValue:105,expirationDate:void 0,supplier:"Équipement Vétérinaire",location:"Bureau - Tiroir 1",notes:"Résistant à l'eau, écran LCD",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-03",isActive:!0,barcode:"8901234567890",sku:"EQP-THM-DIG"},{id:9,name:"Vitamines B Complex",category:"supplement",subcategory:"Vitamines",description:"Complexe vitaminique B pour animaux",manufacturer:"Virbac",batchNumber:"VIT2024001",dosage:"1ml",unit:"bottle",currentStock:5,minimumStock:3,maximumStock:20,purchasePrice:6.5,sellingPrice:8.5,totalValue:32.5,expirationDate:"2025-11-30",supplier:"Suppléments Vétérinaires",location:"Armoire A - Étagère 3",notes:"Flacon 50ml",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-14",isActive:!0,barcode:"9012345678901",sku:"SUP-VIT-B-50"}],cy=[{id:1,name:"DAPP (DHPP)",species:"Chien",vaccineType:"core",description:"Distemper, Adénovirus, Parvovirus, Parainfluenza - Vaccination essentielle",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"J0 (première injection)"},{offsetDays:21,label:"21 jours (2e injection)"},{offsetDays:42,label:"42 jours (3e injection)"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"6-8 semaines (renforcer jusqu'à 16 semaines)",notes:"Protocole d'initiation à 6-8-12-16 semaines puis rappel à 1 an, puis triennal",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:2,name:"Rage (Rabies)",species:"Chien",vaccineType:"rabies",description:"Vaccination antirabique obligatoire selon la législation locale",manufacturer:"Merial",intervals:[{offsetDays:0,label:"À l'âge de 12 semaines minimum"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"12 semaines minimum",notes:"Rappel annuel ou biennal selon réglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:3,name:"Bordetella bronchiseptica",species:"Chien",vaccineType:"non-core",description:"Protection contre la toux de chenil",manufacturer:"Zoetis",intervals:[{offsetDays:8,label:"8 semaines"}],ageRequirement:"8 semaines",notes:"Vaccination intracellulaire recommandée pour chiens en collectivité",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:4,name:"Leptospirose",species:"Chien",vaccineType:"non-core",description:"Protection contre les sérovars pathogènes de Leptospira",manufacturer:"Virbac",intervals:[{offsetDays:12,label:"12 semaines"}],ageRequirement:"12 semaines",notes:"Double sérovariels recommandé",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:5,name:"RCP (FVRCP)",species:"Chat",vaccineType:"core",description:"Calicivirose, Panleucopénie, Rhinotrachéite virale féline",manufacturer:"Virbac",intervals:[{offsetDays:0,label:"6 semaines"},{offsetDays:21,label:"12 semaines"},{offsetDays:28,label:"1 an"}],ageRequirement:"6-8-12 semaines",notes:"Renforcement à 1 an puis rappel triennal ou annuel selon protocole",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:6,name:"Rage (Rabies)",species:"Chat",vaccineType:"rabies",description:"Vaccination antirabique selon réglementation voyage",manufacturer:"Merial",intervals:[{offsetDays:365,label:"1 an"},{offsetDays:730,label:"2 ans"}],ageRequirement:"12 semaines",notes:"Rappel annuel ou biennal selon réglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:7,name:"Distemper furet (Maladie de Carré)",species:"Furet",vaccineType:"core",description:"Protection contre le morbillivirus (Carré)",manufacturer:"Merial",intervals:[{offsetDays:6,label:"6 semaines"},{offsetDays:12,label:"8 semaines"}],ageRequirement:"6-8 semaines",notes:"Protocole similaire à celui des chiens",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:8,name:"Myxomatose",species:"Lapin",vaccineType:"core",description:"Protection contre la myxomatose",manufacturer:"Virbac",intervals:[{offsetDays:180,label:"180 jours"}],ageRequirement:"5-6 semaines",notes:"Vaccination semestrielle",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:9,name:"VHD (Maladie hémorragique virale)",species:"Lapin",vaccineType:"core",description:"Protection contre VHD de type 1 et 2",manufacturer:"Virbac",intervals:[{offsetDays:6,label:"6 semaines"}],ageRequirement:"6 semaines",notes:"Rappel annuel",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"}];function oE({children:e}){const t=()=>{try{const Q=localStorage.getItem("vetpro-clients"),ue=localStorage.getItem("vetpro-pets"),pe=localStorage.getItem("vetpro-consultations"),We=localStorage.getItem("vetpro-appointments"),Je=localStorage.getItem("vetpro-prescriptions"),ze=localStorage.getItem("vetpro-farms"),at=localStorage.getItem("vetpro-farmInterventions"),_n=localStorage.getItem("vetpro-vaccinations"),vn=localStorage.getItem("vetpro-vaccinationProtocols"),dt=localStorage.getItem("vetpro-antiparasitics"),$n=localStorage.getItem("vetpro-antiparasiticProtocols"),Xr=localStorage.getItem("vetpro-stockItems"),aa=localStorage.getItem("vetpro-stockAlerts"),Wa=localStorage.getItem("vetpro-stockMovements"),Nd=localStorage.getItem("vetpro-accountingEntries");if(Q&&ue){const n1=JSON.parse(Q),Nm=JSON.parse(ue),r1=pe?JSON.parse(pe):ry,s1=We?JSON.parse(We):sy,i1=Je?JSON.parse(Je):iy,a1=ze?JSON.parse(ze):ay,Sm=at?JSON.parse(at):oy,o1=_n?JSON.parse(_n):ly,l1=vn?JSON.parse(vn):cy,c1=dt?JSON.parse(dt):Hd,u1=$n?JSON.parse($n):Jm,d1=Xr?JSON.parse(Xr):_I,Pn=aa?JSON.parse(aa):[],Sn=Wa?JSON.parse(Wa):[],h1=Nd?JSON.parse(Nd):[];return{clients:n1.map(Bv=>({...Bv,pets:Nm.filter(f1=>f1.ownerId===Bv.id)})),pets:Nm,consultations:r1,appointments:s1,prescriptions:i1,farms:a1,farmInterventions:Sm,vaccinations:o1,vaccinationProtocols:l1,antiparasitics:c1,antiparasiticProtocols:u1,stockItems:d1,stockAlerts:Pn,stockMovements:Sn,accountingEntries:h1}}}catch(Q){console.error("Erreur lors du chargement des données:",Q)}return{clients:CI.map(Q=>({...Q,pets:Xm.filter(ue=>ue.ownerId===Q.id)})),pets:Xm,consultations:ry,appointments:sy,prescriptions:iy,farms:ay,farmInterventions:oy,vaccinations:ly,vaccinationProtocols:cy,antiparasitics:Hd,antiparasiticProtocols:Jm,stockItems:_I,stockAlerts:[],stockMovements:[],accountingEntries:[]}},n=(re,Q,ue,pe=d,We=m,Je=x,ze=y,at=b,_n=_,vn=A,dt=E,$n=$,Xr=O,aa=B,Wa=H)=>{try{localStorage.setItem("vetpro-clients",JSON.stringify(re)),localStorage.setItem("vetpro-pets",JSON.stringify(Q)),localStorage.setItem("vetpro-consultations",JSON.stringify(ue)),localStorage.setItem("vetpro-appointments",JSON.stringify(pe)),localStorage.setItem("vetpro-prescriptions",JSON.stringify(We)),localStorage.setItem("vetpro-farms",JSON.stringify(Je)),localStorage.setItem("vetpro-farmInterventions",JSON.stringify(ze)),localStorage.setItem("vetpro-vaccinations",JSON.stringify(at)),localStorage.setItem("vetpro-vaccinationProtocols",JSON.stringify(_n)),localStorage.setItem("vetpro-antiparasitics",JSON.stringify(vn)),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(dt)),localStorage.setItem("vetpro-stockItems",JSON.stringify($n)),localStorage.setItem("vetpro-stockAlerts",JSON.stringify(Xr)),localStorage.setItem("vetpro-stockMovements",JSON.stringify(aa)),localStorage.setItem("vetpro-accountingEntries",JSON.stringify(Wa))}catch(Nd){console.error("Erreur lors de la sauvegarde des données:",Nd)}},s=t(),[i,a]=w.useState(s.clients),[o,l]=w.useState(s.pets),[c,u]=w.useState(s.consultations),[d,f]=w.useState(s.appointments),[m,g]=w.useState(s.prescriptions),[x,v]=w.useState(s.farms),[y,N]=w.useState(s.farmInterventions),[b,j]=w.useState(s.vaccinations),[_,C]=w.useState(s.vaccinationProtocols),[A,P]=w.useState(s.antiparasitics),[E,M]=w.useState(s.antiparasiticProtocols),[$,T]=w.useState(s.stockItems||[]),[O,L]=w.useState(s.stockAlerts||[]),[B,Z]=w.useState(s.stockMovements||[]),[H,ae]=w.useState(s.accountingEntries||[]);w.useEffect(()=>{localStorage.getItem("vetpro-antiparasiticProtocols")||localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(Jm)),localStorage.getItem("vetpro-antiparasitics")||(localStorage.setItem("vetpro-antiparasitics",JSON.stringify(Hd)),P(Hd))},[]),w.useEffect(()=>{const re=new Date;new Date(re.getFullYear(),re.getMonth(),1),new Date(re.getFullYear(),re.getMonth()+1,0)},[]),w.useEffect(()=>{const re=new Date,Q=new Date(re.getFullYear(),re.getMonth(),1),ue=new Date(re.getFullYear(),re.getMonth()+1,0);wd(Q.toISOString().split("T")[0],ue.toISOString().split("T")[0]),wm(Q.toISOString().split("T")[0],ue.toISOString().split("T")[0])},[c,b,A,m,B]),w.useEffect(()=>{},[A]),w.useEffect(()=>{i.length>0&&c.length>=0&&b.length>=0&&A.length>=0&&d.length>=0&&i.forEach(re=>{te(re.id)})},[i.length,c.length,b.length,A.length,d.length]);const X=re=>{const Q={...re,name:`${re.firstName} ${re.lastName}`,id:Math.max(...i.map(pe=>pe.id),0)+1,pets:[],lastVisit:new Date().toISOString().split("T")[0],totalVisits:0},ue=[...i,Q];a(ue),n(ue,o,c,d,m,x,y,b)},D=re=>{const Q={...re,id:Math.max(...o.map(We=>We.id),0)+1,status:re.status||"healthy",lastVisit:new Date().toISOString().split("T")[0]},ue=[...o,Q];l(ue);const pe=i.map(We=>We.id===re.ownerId?{...We,pets:[...We.pets,{id:Q.id,name:Q.name,type:Q.type,breed:Q.breed,birthDate:Q.birthDate,weight:Q.weight,color:Q.color,microchip:Q.microchip,medicalNotes:Q.medicalNotes,photo:Q.photo,ownerId:Q.ownerId,owner:Q.owner,status:Q.status,lastVisit:Q.lastVisit,nextAppointment:Q.nextAppointment,vaccinations:Q.vaccinations}]}:We);a(pe),n(pe,ue,c,d,m,x,y,b)},ie=(re,Q)=>{const ue=i.map(pe=>pe.id===re?{...pe,...Q,name:Q.firstName&&Q.lastName?`${Q.firstName} ${Q.lastName}`:pe.name}:pe);a(ue),n(ue,o,c,d,m,x,y,b)},me=(re,Q)=>{({...o.find(We=>We.id===re),...Q});const ue=o.map(We=>We.id===re?{...We,...Q}:We);l(ue);const pe=i.map(We=>({...We,pets:We.pets.map(Je=>Je.id===re?{...Je,...Q}:Je)}));a(pe),n(pe,ue,c)},te=re=>{const Q=i.find(dt=>dt.id===re);if(!Q)return;const ue=c.filter(dt=>dt.clientId===re),pe=b.filter(dt=>dt.clientId===re),We=A.filter(dt=>dt.clientId===re),Je=d.filter(dt=>dt.clientId===re&&dt.status==="completed"),ze=ue.length+pe.length+We.length+Je.length,at=[...ue.map(dt=>({date:dt.date,type:"consultation"})),...pe.map(dt=>({date:dt.dateGiven,type:"vaccination"})),...We.map(dt=>({date:dt.dateGiven,type:"antiparasitic"})),...Je.map(dt=>({date:dt.date,type:"appointment"}))],_n=at.length>0?at.reduce((dt,$n)=>new Date($n.date)>new Date(dt.date)?$n:dt).date:Q.lastVisit,vn=i.map(dt=>dt.id===re?{...dt,totalVisits:ze,lastVisit:_n}:dt);return a(vn),{totalVisits:ze,lastVisit:_n}},J=re=>{const Q={...re,id:Math.max(...$.map(pe=>pe.id),0)+1,lastUpdated:new Date().toISOString(),totalValue:re.currentStock*re.purchasePrice},ue=[...$,Q];return T(ue),n(i,o,c,d,m,x,y,b,_,A,E,ue,O,B),Q},ne=(re,Q)=>{const ue=$.map(pe=>{if(pe.id===re){const We={...pe,...Q};return(Q.currentStock!==void 0||Q.purchasePrice!==void 0)&&(We.totalValue=We.currentStock*We.purchasePrice),We.lastUpdated=new Date().toISOString(),We}return pe});return T(ue),n(i,o,c,d,m,x,y,b,_,A,E,ue,O,B),ue.find(pe=>pe.id===re)},ve=re=>{const Q=$.filter(ue=>ue.id!==re);T(Q),n(i,o,c,d,m,x,y,b,_,A,E,Q,O,B)},ye=re=>{const Q={...re,id:Math.max(...B.map(pe=>pe.id),0)+1},ue=[...B,Q];return Z(ue),n(i,o,c,d,m,x,y,b,_,A,E,$,O,ue),Q},be=()=>{const re=[],Q=new Date().toISOString().split("T")[0],ue=new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0];return $.forEach(pe=>{pe.currentStock<=pe.minimumStock&&re.push({id:re.length+1,itemId:pe.id,itemName:pe.name,type:"low_stock",message:`Stock bas: ${pe.currentStock} ${pe.unit} restant(s)`,severity:pe.currentStock===0?"critical":"high",createdAt:new Date().toISOString(),isRead:!1}),pe.expirationDate&&(pe.expirationDate<Q?re.push({id:re.length+1,itemId:pe.id,itemName:pe.name,type:"expired",message:`Expiré le ${pe.expirationDate}`,severity:"critical",createdAt:new Date().toISOString(),isRead:!1}):pe.expirationDate<=ue&&re.push({id:re.length+1,itemId:pe.id,itemName:pe.name,type:"expiring_soon",message:`Expire le ${pe.expirationDate}`,severity:"medium",createdAt:new Date().toISOString(),isRead:!1}))}),re},z=re=>{const Q={...re,id:Math.max(...c.map(Je=>Je.id),0)+1,createdAt:new Date().toISOString(),photos:re.photos||[]},ue=[...c,Q];u(ue);const pe=o.map(Je=>Je.id===re.petId?{...Je,lastVisit:re.date}:Je);l(pe);const We=i.map(Je=>({...Je,pets:Je.pets.map(ze=>ze.id===re.petId?{...ze,lastVisit:re.date}:ze)}));a(We),te(re.clientId),n(We,pe,ue)},Y=re=>{if(!o.find(We=>We.id===re))return;const ue=o.filter(We=>We.id!==re);l(ue);const pe=i.map(We=>({...We,pets:We.pets.filter(Je=>Je.id!==re)}));a(pe),n(pe,ue,c)},ee=()=>{localStorage.removeItem("vetpro-clients"),localStorage.removeItem("vetpro-pets"),localStorage.removeItem("vetpro-consultations"),localStorage.removeItem("vetpro-appointments"),localStorage.removeItem("vetpro-prescriptions"),localStorage.removeItem("vetpro-farms"),localStorage.removeItem("vetpro-farmInterventions"),localStorage.removeItem("vetpro-vaccinations"),localStorage.removeItem("vetpro-vaccinationProtocols"),localStorage.removeItem("vetpro-antiparasitics"),localStorage.removeItem("vetpro-antiparasiticProtocols");const re=CI.map(Q=>({...Q,pets:Xm.filter(ue=>ue.ownerId===Q.id)}));a(re),l(Xm),u(ry),f(sy),g(iy),v(ay),N(oy),j(ly),C(cy),P(Hd),M(Jm),n(re,Xm,ry,sy,iy,ay,oy,ly,cy,Hd,Jm)},G=()=>{const re={clients:i,pets:o,consultations:c,appointments:d,prescriptions:m,farms:x,farmInterventions:y,vaccinations:b,vaccinationProtocols:_,antiparasitics:A,antiparasiticProtocols:E},Q=new Blob([JSON.stringify(re,null,2)],{type:"application/json"}),ue=URL.createObjectURL(Q),pe=document.createElement("a");pe.href=ue,pe.download=`vetpro-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(ue)},I=re=>{const Q=re.clients.map(ue=>({...ue,pets:re.pets.filter(pe=>pe.ownerId===ue.id)}));a(Q),l(re.pets),u(re.consultations||[]),f(re.appointments||[]),g(re.prescriptions||[]),v(re.farms||[]),N(re.farmInterventions||[]),j(re.vaccinations||[]),C(re.vaccinationProtocols||[]),P(re.antiparasitics||[]),M(re.antiparasiticProtocols||[]),n(Q,re.pets,re.consultations||[],re.appointments||[],re.prescriptions||[],re.farms||[],re.farmInterventions||[],re.vaccinations||[],re.vaccinationProtocols||[],re.antiparasitics||[],re.antiparasiticProtocols||[])},xe=(re,Q)=>{const ue=c.map(pe=>pe.id===re?{...pe,...Q}:pe);u(ue),n(i,o,ue)},Ne=re=>{const Q=c.filter(ue=>ue.id!==re);u(Q),n(i,o,Q)},Be=re=>{const Q=$.find(ue=>ue.name.toLowerCase()===re.productName.toLowerCase()&&ue.category==="medication"&&ue.isActive);return Q&&Q.currentStock>=1?{...re,stockItemId:Q.id,isInStock:!0,stockQuantity:Q.currentStock,stockDeducted:!0}:Q&&Q.currentStock>0?{...re,stockItemId:Q.id,isInStock:!0,stockQuantity:Q.currentStock,stockDeducted:!1}:{...re,isInStock:!1,stockQuantity:0,stockDeducted:!1}},Fe=re=>{const Q=Be(re);let ue=[...$];if(Q.stockDeducted&&Q.stockItemId){const Je=ue.findIndex(ze=>ze.id===Q.stockItemId);if(Je!==-1){const ze=ue[Je];ue[Je]={...ze,currentStock:ze.currentStock-1,lastUpdated:new Date().toISOString()},ye({itemId:Q.stockItemId,itemName:Q.productName,type:"out",quantity:1,reason:"Traitement antiparasitaire",reference:`Antiparasitaire #${Math.max(0,...A.map(at=>at.id))+1}`,performedBy:Q.veterinarian,date:new Date().toISOString(),notes:`Traitement antiparasitaire de ${Q.petName} - ${Q.productName}`})}}const pe={...Q,id:Math.max(0,...A.map(Je=>Je.id))+1,createdAt:new Date().toISOString()},We=[...A,pe];P(We),T(ue),te(re.clientId),n(i,o,c,d,m,x,y,b,_,We,E,ue,O,B),localStorage.getItem("vetpro-antiparasitics")},it=(re,Q)=>{const ue=A.map(pe=>pe.id===re?{...pe,...Q}:pe);P(ue),n(i,o,c,d,m,x,y,b,_,ue,E)},lt=re=>{const Q=A.filter(ue=>ue.id!==re);P(Q),n(i,o,c,d,m,x,y,b,_,Q,E)},ft=re=>{const Q={...re,id:Math.max(0,...E.map(pe=>pe.id))+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},ue=[...E,Q];M(ue),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(ue))},we=(re,Q)=>{const ue=E.map(pe=>pe.id===re?{...pe,...Q,updatedAt:new Date().toISOString()}:pe);M(ue),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(ue))},Ge=re=>{const Q=E.filter(ue=>ue.id!==re);M(Q),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(Q))},Ke=re=>A.find(Q=>Q.id===re),Ht=re=>A.filter(ue=>ue.petId===re),Yn=re=>A.filter(Q=>Q.clientId===re),Et=()=>{const re=new Date().toISOString().split("T")[0];return A.filter(Q=>Q.nextDueDate&&Q.nextDueDate<re&&Q.status!=="completed")},Nn=(re=7)=>{const Q=new Date,ue=new Date(Q.getTime()+re*24*60*60*1e3);return A.filter(pe=>{if(!pe.nextDueDate)return!1;const We=new Date(pe.nextDueDate);return We>=Q&&We<=ue})},ur=re=>A.filter(Q=>Q.status===re),Qn=re=>E.find(Q=>Q.id===re),ys=re=>E.filter(Q=>Q.species===re&&Q.isActive),Se=()=>E.filter(re=>re.isActive),Ut=re=>i.find(Q=>Q.id===re),tt=re=>o.find(Q=>Q.id===re),mt=re=>c.find(Q=>Q.id===re),sn=re=>o.filter(Q=>Q.ownerId===re),as=re=>c.filter(Q=>Q.petId===re),Qr=re=>c.filter(Q=>Q.clientId===re),Bs=re=>{const Q={...re,id:Math.max(...d.map(pe=>pe.id),0)+1,createdAt:new Date().toISOString()},ue=[...d,Q];f(ue),te(re.clientId),n(i,o,c,ue,m)},yl=(re,Q)=>{const ue=d.map(pe=>pe.id===re?{...pe,...Q}:pe);f(ue),n(i,o,c,ue,m)},le=re=>{const Q=d.filter(ue=>ue.id!==re);f(Q),n(i,o,c,Q,m)},qe=re=>d.find(Q=>Q.id===re),Le=re=>d.filter(Q=>Q.clientId===re),kn=re=>d.filter(Q=>Q.petId===re),Xn=re=>d.filter(Q=>Q.date===re),ia=()=>{const re=new Date().toISOString().split("T")[0];return d.filter(Q=>Q.date>=re&&Q.status!=="cancelled"&&Q.status!=="completed").sort((Q,ue)=>new Date(Q.date+"T"+Q.time).getTime()-new Date(ue.date+"T"+ue.time).getTime())},jt=()=>{const re=new Date().toISOString().split("T")[0];return d.filter(Q=>Q.date<re&&Q.status==="scheduled").sort((Q,ue)=>new Date(Q.date+"T"+Q.time).getTime()-new Date(ue.date+"T"+ue.time).getTime())},on=re=>re.map(Q=>{const ue=$.find(pe=>pe.name.toLowerCase()===Q.name.toLowerCase()&&pe.category==="medication"&&pe.isActive);return ue&&ue.currentStock>=Q.quantity?{...Q,stockItemId:ue.id,isInStock:!0,stockQuantity:ue.currentStock,stockDeducted:!0}:ue&&ue.currentStock>0?{...Q,stockItemId:ue.id,isInStock:!0,stockQuantity:ue.currentStock,stockDeducted:!1}:{...Q,isInStock:!1,stockQuantity:0,stockDeducted:!1}}),gn=re=>{const Q=on(re.medications);let ue=[...$];Q.forEach(Je=>{if(Je.stockDeducted&&Je.stockItemId){const ze=ue.findIndex(at=>at.id===Je.stockItemId);if(ze!==-1){const at=ue[ze];ue[ze]={...at,currentStock:at.currentStock-Je.quantity,lastUpdated:new Date().toISOString()},ye({itemId:Je.stockItemId,itemName:Je.name,type:"out",quantity:Je.quantity,reason:"Prescription médicale",reference:`Prescription #${Math.max(...m.map(_n=>_n.id),0)+1}`,performedBy:re.prescribedBy,date:new Date().toISOString(),notes:`Prescription pour ${re.petName} - ${re.diagnosis}`})}}});const pe={...re,medications:Q,id:Math.max(...m.map(Je=>Je.id),0)+1,createdAt:new Date().toISOString()},We=[...m,pe];g(We),T(ue),n(i,o,c,d,We,x,y,b,_,A,E,ue,O,B,H)},js=(re,Q)=>{const ue=m.map(pe=>pe.id===re?{...pe,...Q}:pe);g(ue),n(i,o,c,d,ue,x,y,b,_,A,E,$,O,B,H)},bs=re=>{const Q=m.filter(ue=>ue.id!==re);g(Q),n(i,o,c,d,Q,x,y,b,_,A,E,$,O,B,H)},Ei=re=>m.find(Q=>Q.id===re),ai=re=>m.filter(Q=>Q.petId===re),ws=re=>m.filter(Q=>Q.consultationId===re),zs=()=>m.filter(re=>re.status==="active").sort((re,Q)=>new Date(Q.date).getTime()-new Date(re.date).getTime()),$w=re=>{const Q={...re,id:Math.max(...x.map(pe=>pe.id),0)+1,createdAt:new Date().toISOString()},ue=[...x,Q];v(ue),n(i,o,c,d,m,ue,y)},Rw=(re,Q)=>{const ue=x.map(pe=>pe.id===re?{...pe,...Q}:pe);v(ue),n(i,o,c,d,m,ue,y)},Lw=re=>{const Q=x.filter(ue=>ue.id!==re);v(Q),n(i,o,c,d,m,Q,y)},Fw=re=>{const Q={...re,id:Math.max(...y.map(pe=>pe.id),0)+1,createdAt:new Date().toISOString()},ue=[...y,Q];N(ue),n(i,o,c,d,m,x,ue)},Bw=(re,Q)=>{const ue=y.map(pe=>pe.id===re?{...pe,...Q}:pe);N(ue),n(i,o,c,d,m,x,ue)},zw=re=>{const Q=y.filter(ue=>ue.id!==re);N(Q),n(i,o,c,d,m,x,Q)},Vw=re=>x.find(Q=>Q.id===re),Uw=re=>y.find(Q=>Q.id===re),Tv=re=>y.filter(Q=>Q.farmId===re),qw=()=>{const re=new Date().toISOString().split("T")[0];return y.filter(Q=>Q.date>=re&&Q.status!=="cancelled").sort((Q,ue)=>new Date(Q.date).getTime()-new Date(ue.date).getTime())},Ww=re=>x.filter(Q=>Q.status===re),Hw=re=>{const Q=$.find(ue=>ue.name.toLowerCase()===re.vaccineName.toLowerCase()&&ue.category==="vaccine"&&ue.isActive);return Q&&Q.currentStock>=1?{...re,stockItemId:Q.id,isInStock:!0,stockQuantity:Q.currentStock,stockDeducted:!0}:Q&&Q.currentStock>0?{...re,stockItemId:Q.id,isInStock:!0,stockQuantity:Q.currentStock,stockDeducted:!1}:{...re,isInStock:!1,stockQuantity:0,stockDeducted:!1}},jm=re=>{const Q=Hw(re);let ue=[...$];if(Q.stockDeducted&&Q.stockItemId){const We=ue.findIndex(Je=>Je.id===Q.stockItemId);if(We!==-1){const Je=ue[We];ue[We]={...Je,currentStock:Je.currentStock-1,lastUpdated:new Date().toISOString()},ye({itemId:Q.stockItemId,itemName:Q.vaccineName,type:"out",quantity:1,reason:"Vaccination",reference:`Vaccination #${Math.max(...b.map(ze=>ze.id),0)+1}`,performedBy:Q.veterinarian,date:new Date().toISOString(),notes:`Vaccination de ${Q.petName} - ${Q.vaccineName}`})}}const pe={...Q,id:Math.max(...b.map(We=>We.id),0)+1,createdAt:new Date().toISOString()};return j(We=>{const Je=[...We,pe];return te(re.clientId),n(i,o,c,d,m,x,y,Je,_,A,E,ue,O,B),Je}),T(ue),pe.id},yd=(re,Q)=>{const ue=b.map(pe=>pe.id===re?{...pe,...Q}:pe);j(ue),n(i,o,c,d,m,x,y,ue)},Gw=re=>{const Q=b.find(pe=>pe.id===re);if(!Q)return;let ue=[...b];Q.vaccinationCategory==="new"?(b.filter(pe=>pe.originalVaccinationId===re),ue=b.filter(pe=>pe.id!==re&&pe.originalVaccinationId!==re)):ue=b.filter(pe=>pe.id!==re),j(ue),n(i,o,c,d,m,x,y,ue)},So=re=>b.find(Q=>Q.id===re),Kw=re=>b.filter(Q=>Q.petId===re),jd=re=>b.filter(Q=>Q.clientId===re),Yw=()=>{const re=new Date().toISOString().split("T")[0];return b.filter(Q=>Q.nextDueDate<re&&Q.status!=="completed").sort((Q,ue)=>new Date(Q.nextDueDate).getTime()-new Date(ue.nextDueDate).getTime())},Qw=()=>{const re=new Date,Q=new Date(re.getTime()+30*24*60*60*1e3).toISOString().split("T")[0],ue=re.toISOString().split("T")[0];return b.filter(pe=>pe.nextDueDate>=ue&&pe.nextDueDate<=Q&&pe.status!=="completed").sort((pe,We)=>new Date(pe.nextDueDate).getTime()-new Date(We.nextDueDate).getTime())},Xw=re=>b.filter(Q=>Q.status===re),Ov=()=>{const re=new Date().toISOString().split("T")[0];let Q=!1;const ue=b.map(pe=>pe.status==="completed"?pe:pe.nextDueDate<re&&pe.status!=="overdue"?(Q=!0,{...pe,status:"overdue"}):pe.nextDueDate>=re&&pe.status!=="scheduled"?(Q=!0,{...pe,status:"scheduled"}):pe);return Q&&(j(ue),n(i,o,c,d,m,x,y,ue)),ue},Dv=re=>{const Q={...re,id:Math.max(..._.map(pe=>pe.id),0)+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},ue=[..._,Q];C(ue),n(i,o,c,d,m,x,y,b,ue)},Mv=(re,Q)=>{const ue=_.map(pe=>pe.id===re?{...pe,...Q,updatedAt:new Date().toISOString()}:pe);C(ue),n(i,o,c,d,m,x,y,b,ue)},Jw=re=>{const Q=_.filter(ue=>ue.id!==re);C(Q),n(i,o,c,d,m,x,y,b,Q)},Zw=re=>_.find(Q=>Q.id===re),e1=re=>_.filter(Q=>Q.species===re&&Q.isActive),t1=()=>_.filter(re=>re.isActive),Iv=(re,Q,ue)=>{const pe=_.find(ze=>ze.name===re&&ze.species===Q&&ze.isActive);if(!pe||!pe.intervals.length)return null;const We=pe.intervals[pe.intervals.length-1],Je=new Date(ue);return Je.setDate(Je.getDate()+We.offsetDays),Je.toISOString().split("T")[0]},$v=(re,Q,ue)=>{var vn;const pe=So(re);if(!pe)return;const We={clientId:pe.clientId,clientName:pe.clientName,petId:pe.petId,petName:pe.petName,date:Q,time:ue,type:"vaccination",duration:30,reason:`Rappel vaccinal - ${pe.vaccineName}`,notes:`Rappel pour ${pe.vaccineName} (vaccination originale ID: ${re})`,status:"scheduled",reminderSent:!1};Bs(We);const Je=Math.max(...d.map(dt=>dt.id),0)+1,ze={petId:pe.petId,petName:pe.petName,clientId:pe.clientId,clientName:pe.clientName,vaccineName:pe.vaccineName,vaccineType:pe.vaccineType,vaccinationCategory:"reminder",dateGiven:Q,nextDueDate:pe.nextDueDate,batchNumber:pe.batchNumber,veterinarian:pe.veterinarian,notes:`Rappel de ${pe.vaccineName} (original: ${re})`,status:"scheduled",cost:pe.cost,location:pe.location,manufacturer:pe.manufacturer,originalVaccinationId:re,reminderAppointmentId:Je,isReminder:!0};jm(ze);const at={id:Math.max(...((vn=pe.reminderHistory)==null?void 0:vn.map(dt=>dt.id))||[0],0)+1,vaccinationId:re,appointmentId:Je,scheduledDate:Q,status:"scheduled",notes:`Rappel programmé pour ${pe.vaccineName}`,createdAt:new Date().toISOString()},_n=[...pe.reminderHistory||[],at];return yd(re,{reminderHistory:_n}),{appointment:We,reminderVaccination:ze,reminder:at}},Rv=(re,Q,ue)=>{var ze;const pe=So(re);if(!pe)return;const Je={status:"completed",reminderHistory:((ze=pe.reminderHistory)==null?void 0:ze.map(at=>at.appointmentId===Q?{...at,status:"completed"}:at))||[],reminderAppointmentId:void 0};return ue&&(Je.nextDueDate=ue),yd(re,Je),yl(Q,{status:"completed"}),pe},bm=(re,Q)=>{const ue=So(re);if(!ue)return null;const pe={petId:ue.petId,petName:ue.petName,clientId:ue.clientId,clientName:ue.clientName,vaccineName:ue.vaccineName,vaccineType:ue.vaccineType,vaccinationCategory:"reminder",dateGiven:Q.datePerformed,nextDueDate:Q.newNextDueDate||ue.nextDueDate,calculatedDueDate:ue.calculatedDueDate,batchNumber:Q.batchNumber||ue.batchNumber,veterinarian:Q.veterinarian,notes:Q.notes||`Rappel effectué - ${ue.vaccineName}`,status:"completed",cost:ue.cost,location:ue.location,manufacturer:ue.manufacturer,expirationDate:ue.expirationDate,adverseReactions:ue.adverseReactions,originalVaccinationId:re,isReminder:!0};jm(pe);const We={status:"completed",reminderAppointmentId:void 0};return Q.newNextDueDate&&(We.nextDueDate=Q.newNextDueDate),yd(re,We),pe},jl=re=>{const Q={...re,id:Math.max(...H.map(pe=>pe.id),0)+1,createdAt:new Date().toISOString()},ue=[...H,Q];return ae(ue),n(i,o,c,d,m,x,y,b,_,A,E,$,O,B,ue),Q},Lv=(re,Q)=>{const ue=H.map(pe=>pe.id===re?{...pe,...Q}:pe);ae(ue),n(i,o,c,d,m,x,y,b,_,A,E,$,O,B,ue)},bd=re=>{const Q=H.filter(ue=>ue.id!==re);ae(Q),n(i,o,c,d,m,x,y,b,_,A,E,$,O,B,Q)},wd=(re,Q)=>{const ue=new Date(re),pe=new Date(Q);let We=0;const Je={consultations:0,vaccinations:0,antiparasitics:0,prescriptions:0,stockSales:0,manualEntries:0,recurringCharges:0};return c.filter(ze=>{const at=new Date(ze.date);return at>=ue&&at<=pe}).forEach(ze=>{var vn;const at=parseFloat(((vn=ze.cost)==null?void 0:vn.toString())||"0");We+=at,Je.consultations+=at,H.find(dt=>dt.source==="consultation"&&dt.sourceId===ze.id)||jl({type:"revenue",category:"automatic",frequency:"occasional",description:`Consultation - ${ze.petName}`,amount:at,date:ze.date,reference:`Consultation #${ze.id}`,source:"consultation",sourceId:ze.id,notes:`Consultation automatique pour ${ze.petName}`})}),b.filter(ze=>{const at=new Date(ze.dateGiven);return at>=ue&&at<=pe}).forEach(ze=>{var vn;const at=parseFloat(((vn=ze.cost)==null?void 0:vn.toString())||"0");We+=at,Je.vaccinations+=at,H.find(dt=>dt.source==="vaccination"&&dt.sourceId===ze.id)||jl({type:"revenue",category:"automatic",frequency:"occasional",description:`Vaccination - ${ze.vaccineName}`,amount:at,date:ze.dateGiven,reference:`Vaccination #${ze.id}`,source:"vaccination",sourceId:ze.id,notes:`Vaccination automatique pour ${ze.petName}`})}),A.filter(ze=>{const at=new Date(ze.dateGiven);return at>=ue&&at<=pe}).forEach(ze=>{var vn;const at=parseFloat(((vn=ze.cost)==null?void 0:vn.toString())||"0");We+=at,Je.antiparasitics+=at,H.find(dt=>dt.source==="antiparasitic"&&dt.sourceId===ze.id)||jl({type:"revenue",category:"automatic",frequency:"occasional",description:`Antiparasitaire - ${ze.productName}`,amount:at,date:ze.dateGiven,reference:`Antiparasitaire #${ze.id}`,source:"antiparasitic",sourceId:ze.id,notes:`Antiparasitaire automatique pour ${ze.petName}`})}),m.filter(ze=>{const at=new Date(ze.createdAt);return at>=ue&&at<=pe}).forEach(ze=>{const at=ze.medications.reduce((vn,dt)=>{var $n;return vn+parseFloat((($n=dt.cost)==null?void 0:$n.toString())||"0")*dt.quantity},0);We+=at,Je.prescriptions+=at,!H.find(vn=>vn.source==="prescription"&&vn.sourceId===ze.id)&&at>0&&jl({type:"revenue",category:"automatic",frequency:"occasional",description:`Prescription - ${ze.petName}`,amount:at,date:ze.createdAt,reference:`Prescription #${ze.id}`,source:"prescription",sourceId:ze.id,notes:`Prescription automatique pour ${ze.petName}`})}),{totalRevenue:We,revenueBreakdown:Je}},wm=(re,Q)=>{const ue=new Date(re),pe=new Date(Q);let We=0;const Je={stockPurchases:0,salaries:0,rent:0,taxes:0,insurance:0,other:0,manualEntries:0,recurringCharges:0};return B.filter(ze=>{const at=new Date(ze.date);return at>=ue&&at<=pe&&ze.type==="in"&&ze.reason==="Achat fournisseur"}).forEach(ze=>{const at=$.find(_n=>_n.id===ze.itemId);if(at){const _n=at.purchasePrice*ze.quantity;We+=_n,Je.stockPurchases+=_n,H.find(dt=>dt.source==="stock_purchase"&&dt.reference===ze.reference)||jl({type:"expense",category:"automatic",frequency:"occasional",description:`Achat stock - ${ze.itemName}`,amount:_n,date:ze.date,reference:ze.reference,source:"stock_purchase",notes:`Achat automatique de ${ze.quantity} ${ze.itemName}`})}}),{totalExpenses:We,expenseBreakdown:Je}},Fv=(re,Q,ue)=>{const{totalRevenue:pe,revenueBreakdown:We}=wd(Q,ue),{totalExpenses:Je,expenseBreakdown:ze}=wm(Q,ue),at=H.filter($n=>{const Xr=new Date($n.date),aa=new Date(Q),Wa=new Date(ue);return Xr>=aa&&Xr<=Wa&&$n.category==="manual"&&$n.type==="revenue"}).reduce(($n,Xr)=>$n+Xr.amount,0),_n=H.filter($n=>{const Xr=new Date($n.date),aa=new Date(Q),Wa=new Date(ue);return Xr>=aa&&Xr<=Wa&&$n.category==="manual"&&$n.type==="expense"}).reduce(($n,Xr)=>$n+Xr.amount,0);We.manualEntries=at,ze.manualEntries=_n;const vn=pe+at,dt=Je+_n;return{period:re,totalRevenue:vn,totalExpenses:dt,netIncome:vn-dt,revenueBreakdown:We,expenseBreakdown:ze}};return r.jsx(sz.Provider,{value:{clients:i,pets:o,consultations:c,appointments:d,prescriptions:m,farms:x,farmInterventions:y,vaccinations:b,vaccinationProtocols:_,antiparasitics:A,antiparasiticProtocols:E,stockItems:$,stockAlerts:O,stockMovements:B,accountingEntries:H,addClient:X,addPet:D,addConsultation:z,addAppointment:Bs,addPrescription:gn,addFarm:$w,addFarmIntervention:Fw,addVaccination:jm,addVaccinationProtocol:Dv,addAntiparasitic:Fe,addAntiparasiticProtocol:ft,addStockItem:J,addStockMovement:ye,addAccountingEntry:jl,updateAccountingEntry:Lv,deleteAccountingEntry:bd,calculateAutomaticRevenue:wd,calculateAutomaticExpenses:wm,generateAccountingSummary:Fv,updateClient:ie,updatePet:me,updateConsultation:xe,updateAppointment:yl,updatePrescription:js,updateFarm:Rw,updateFarmIntervention:Bw,updateVaccination:yd,updateVaccinationProtocol:Mv,updateAntiparasitic:it,updateAntiparasiticProtocol:we,updateStockItem:ne,deletePet:Y,deleteConsultation:Ne,deleteAppointment:le,deletePrescription:bs,deleteFarm:Lw,deleteFarmIntervention:zw,deleteVaccination:Gw,deleteVaccinationProtocol:Jw,deleteAntiparasitic:lt,deleteAntiparasiticProtocol:Ge,deleteStockItem:ve,resetData:ee,exportData:G,importData:I,getClientById:Ut,getPetById:tt,getConsultationById:mt,getAppointmentById:qe,getPrescriptionById:Ei,getFarmById:Vw,getFarmInterventionById:Uw,getVaccinationById:So,getVaccinationProtocolById:Zw,getVaccinationProtocolsBySpecies:e1,getActiveVaccinationProtocols:t1,getAntiparasiticById:Ke,getAntiparasiticsByPetId:Ht,getAntiparasiticsByClientId:Yn,getOverdueAntiparasitics:Et,getUpcomingAntiparasitics:Nn,getAntiparasiticsByStatus:ur,getAntiparasiticProtocolById:Qn,getAntiparasiticProtocolsBySpecies:ys,getActiveAntiparasiticProtocols:Se,getPetsByOwnerId:sn,getConsultationsByPetId:as,getConsultationsByClientId:Qr,getAppointmentsByClientId:Le,getAppointmentsByPetId:kn,getAppointmentsByDate:Xn,getUpcomingAppointments:ia,getOverdueAppointments:jt,getPrescriptionsByPetId:ai,getPrescriptionsByConsultationId:ws,getActivePrescriptions:zs,getFarmInterventionsByFarmId:Tv,getUpcomingFarmInterventions:qw,getFarmsByStatus:Ww,getVaccinationsByPetId:Kw,getVaccinationsByClientId:jd,getOverdueVaccinations:Yw,getUpcomingVaccinations:Qw,getVaccinationsByStatus:Xw,createVaccinationReminder:$v,completeVaccinationReminder:Rv,confirmVaccinationReminder:bm,updateVaccinationStatuses:Ov,calculateDueDateFromProtocol:Iv,updateClientStats:te,getStockAlerts:be},children:e})}const Nt=()=>{const e=w.useContext(sz);if(e===void 0)throw new Error("useClients must be used within a ClientProvider");return e},se=w.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:Ze("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));se.displayName="Input";var Yde="Label",iz=w.forwardRef((e,t)=>r.jsx(st.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));iz.displayName=Yde;var az=iz;const Qde=ov("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),F=w.forwardRef(({className:e,...t},n)=>r.jsx(az,{ref:n,className:Ze(Qde(),e),...t}));F.displayName=az.displayName;const de=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));de.displayName="Card";const _e=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("flex flex-col space-y-1.5 p-6",e),...t}));_e.displayName="CardHeader";const Pe=w.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:Ze("text-2xl font-semibold leading-none tracking-tight",e),...t}));Pe.displayName="CardTitle";const lf=w.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:Ze("text-sm text-muted-foreground",e),...t}));lf.displayName="CardDescription";const he=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("p-6 pt-0",e),...t}));he.displayName="CardContent";const Xde=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("flex items-center p-6 pt-0",e),...t}));Xde.displayName="CardFooter";const Jde=ov("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),T0=w.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:Ze(Jde({variant:t}),e),...n}));T0.displayName="Alert";const Zde=w.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:Ze("mb-1 font-medium leading-none tracking-tight",e),...t}));Zde.displayName="AlertTitle";const O0=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("text-sm [&_p]:leading-relaxed",e),...t}));O0.displayName="AlertDescription";function ehe(){const[e,t]=w.useState(""),[n,s]=w.useState(""),[i,a]=w.useState(!1),[o,l]=w.useState(""),[c,u]=w.useState(!1),[d,f]=w.useState(!1),{login:m,isLoading:g}=$c(),x=qde(),v=Wde(),y=async _=>{if(_.preventDefault(),l(""),!e||!n){l("Veuillez remplir tous les champs");return}await m(e,n)||l("Email ou mot de passe incorrect, ou email non confirmé")},N=async()=>{l("");try{await x.mutateAsync()}catch{l("Erreur lors de la connexion avec Google")}},b=async _=>{if(_.preventDefault(),l(""),!e){l("Veuillez saisir votre email");return}try{await v.mutateAsync(e),f(!0)}catch(C){l(C instanceof Error?C.message:"Une erreur est survenue")}},j=()=>{u(!1),f(!1),l(""),s("")};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsxs(de,{className:"w-full max-w-md",children:[r.jsxs(_e,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:r.jsx(Wt,{className:"h-8 w-8 text-primary"})})}),r.jsx(Pe,{className:"text-2xl font-bold",children:"VetPro CRM3"}),r.jsx(lf,{children:c?d?"Vérifiez votre email":"Réinitialiser votre mot de passe":"Connectez-vous à votre espace vétérinaire"})]}),r.jsx(he,{children:d?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Nous avons envoyé un lien de réinitialisation à ",r.jsx("strong",{children:e})]}),r.jsx("p",{className:"text-xs text-muted-foreground mb-6",children:"Cliquez sur le lien dans l'email pour réinitialiser votre mot de passe. Si vous ne voyez pas l'email, vérifiez votre dossier spam."})]}),r.jsxs(V,{onClick:j,className:"w-full",children:[r.jsx(uM,{className:"mr-2 h-4 w-4"}),"Retour à la connexion"]})]}):c?r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o&&r.jsx(T0,{variant:"destructive",children:r.jsx(O0,{children:o})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"reset-email",children:"Email"}),r.jsx(se,{id:"reset-email",type:"email",placeholder:"votre.email@example.com",value:e,onChange:_=>t(_.target.value),disabled:v.isPending,required:!0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Entrez l'adresse email associée à votre compte"})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:v.isPending,children:v.isPending?r.jsxs(r.Fragment,{children:[r.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi en cours..."]}):"Envoyer le lien de réinitialisation"}),r.jsx("div",{className:"text-center",children:r.jsxs(V,{type:"button",variant:"link",onClick:j,className:"text-sm",children:[r.jsx(uM,{className:"mr-1 h-4 w-4"}),"Retour à la connexion"]})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o&&r.jsx(T0,{variant:"destructive",children:r.jsx(O0,{children:o})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",placeholder:"vet@vetpro.com",value:e,onChange:_=>t(_.target.value),disabled:g,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"password",children:"Mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(se,{id:"password",type:i?"text":"password",placeholder:"••••••••",value:n,onChange:_=>s(_.target.value),disabled:g,required:!0}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),disabled:g,children:i?r.jsx(GC,{className:"h-4 w-4"}):r.jsx(Ir,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{type:"button",variant:"link",className:"text-xs p-0 h-auto",onClick:()=>u(!0),children:"Mot de passe oublié ?"})})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:g,children:g?r.jsxs(r.Fragment,{children:[r.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continuer avec"})})]}),r.jsx(V,{type:"button",variant:"outline",className:"w-full",onClick:N,disabled:g||x.isPending,children:x.isPending?r.jsxs(r.Fragment,{children:[r.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion avec Google..."]}):r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuer avec Google"]})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pas encore de compte ?"," ",r.jsx("a",{href:"/register",className:"text-primary hover:underline",children:"S'inscrire"})]})})]})})]})})}function hs({children:e}){const{isAuthenticated:t,isLoading:n,user:s}=$c(),[i,a]=w.useState(!1);return w.useEffect(()=>{if(n){const o=setTimeout(()=>{a(!0)},3e3);return()=>clearTimeout(o)}else a(!1)},[n]),i?r.jsx(v2,{to:"/login",replace:!0}):n&&!i?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Vérification de l'authentification..."})]})}):!t||!s?r.jsx(v2,{to:"/login",replace:!0}):r.jsx(r.Fragment,{children:e})}function the({children:e,redirectTo:t="/dashboard"}){const{isAuthenticated:n,isLoading:s,user:i}=$c(),[a,o]=w.useState(!1);return w.useEffect(()=>{if(s){const l=setTimeout(()=>{o(!0)},2e3);return()=>clearTimeout(l)}else o(!1)},[s]),a?r.jsx(r.Fragment,{children:e}):s&&!a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Chargement..."})]})}):n&&i?r.jsx(v2,{to:t,replace:!0}):r.jsx(r.Fragment,{children:e})}const oz="/assets/vet-hero-UFBVcjRL.jpg";function nhe(){return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"border-b",children:r.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-xl font-bold",children:"VetPro"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(V,{variant:"ghost",asChild:!0,children:r.jsx(Sa,{to:"/login",children:"Se connecter"})}),r.jsx(V,{asChild:!0,children:r.jsx(Sa,{to:"/register",children:"Commencer"})})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-sm font-medium text-primary",children:"Solution CRM Vétérinaire Complète"})]}),r.jsxs("h1",{className:"text-5xl font-bold leading-tight",children:["Gérez votre pratique",r.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"vétérinaire efficacement"})]}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"VetPro vous aide à gérer vos clients, leurs animaux, les rendez-vous, consultations et l'historique médical. Optimisez votre pratique avec notre solution tout-en-un."})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(V,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:r.jsxs(Sa,{to:"/register",children:["Commencer gratuitement",r.jsx(HC,{className:"h-4 w-4"})]})}),r.jsx(V,{variant:"outline",size:"lg",className:"gap-2",asChild:!0,children:r.jsx(Sa,{to:"/login",children:"Voir la démo"})})]})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsx("img",{src:oz,alt:"Vétérinaire professionnel",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})})}),r.jsx("section",{className:"py-20 bg-muted/30",children:r.jsxs("div",{className:"container mx-auto px-6",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Tout ce dont vous avez besoin pour votre clinique"}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Une solution complète pour moderniser et optimiser votre pratique vétérinaire"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Ia,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Gestion des Clients"}),r.jsx("p",{className:"text-muted-foreground",children:"Gérez facilement vos clients et leurs animaux avec un système intuitif et complet."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Dt,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Rendez-vous"}),r.jsx("p",{className:"text-muted-foreground",children:"Planifiez et gérez vos rendez-vous avec un calendrier intelligent et flexible."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(cr,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Consultations"}),r.jsx("p",{className:"text-muted-foreground",children:"Documentez vos consultations et maintenez un historique médical détaillé."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Y5,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Statistiques"}),r.jsx("p",{className:"text-muted-foreground",children:"Analysez votre activité avec des rapports détaillés et des tableaux de bord."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(wi,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Sécurisé"}),r.jsx("p",{className:"text-muted-foreground",children:"Vos données sont protégées avec les plus hauts standards de sécurité."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Wt,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Farm Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Gérez les exploitations agricoles et suivez la santé des troupeaux."})]})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-6 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Prêt à moderniser votre pratique ?"}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Rejoignez des centaines de vétérinaires qui font confiance à VetPro pour gérer leur clinique efficacement."}),r.jsx("div",{className:"flex gap-4 justify-center",children:r.jsx(V,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:r.jsxs(Sa,{to:"/register",children:["Commencer maintenant",r.jsx(HC,{className:"h-4 w-4"})]})})})]})})}),r.jsx("footer",{className:"border-t py-8",children:r.jsx("div",{className:"container mx-auto px-6 text-center text-muted-foreground",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," VetPro. Tous droits réservés."]})})})]})}const rhe=()=>{const e=Yf(),{toast:t}=$t(),[n,s]=w.useState(!1),[i,a]=w.useState({username:"",fullName:"",email:"",password:"",confirmPassword:""}),o=u=>u.length<8?"Le mot de passe doit contenir au moins 8 caractères":/[A-Z]/.test(u)?/[a-z]/.test(u)?/\d/.test(u)?/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?]/.test(u)?null:"Le mot de passe doit contenir au moins un caractère spécial":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une lettre minuscule":"Le mot de passe doit contenir au moins une lettre majuscule",l=u=>{a(d=>({...d,[u.target.id]:u.target.value}))},c=async u=>{if(u.preventDefault(),s(!0),i.password!==i.confirmPassword){t({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"}),s(!1);return}const d=o(i.password);if(d){t({title:"Erreur",description:d,variant:"destructive"}),s(!1);return}try{await Ide(i.email,i.password,i.username,i.fullName,"assistant"),t({title:"Inscription réussie",description:"Votre compte a été créé avec succès. Veuillez vérifier votre email et cliquer sur le lien de confirmation pour pouvoir vous connecter."}),e("/login")}catch(f){const m=f instanceof Error?f.message:"Une erreur est survenue lors de l'inscription";t({title:"Erreur d'inscription",description:m,variant:"destructive"})}finally{s(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:r.jsxs(de,{className:"w-full max-w-md",children:[r.jsxs(_e,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(Wt,{className:"h-12 w-12 text-primary"})}),r.jsx(Pe,{className:"text-2xl gradient-primary bg-clip-text text-transparent",children:"VetPro CRM"}),r.jsx(lf,{children:"Créez votre compte vétérinaire"})]}),r.jsxs(he,{children:[r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"username",children:"Nom d'utilisateur"}),r.jsx(se,{id:"username",placeholder:"martin.dubois",value:i.username,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"fullName",children:"Nom complet"}),r.jsx(se,{id:"fullName",placeholder:"Dr. Martin Dubois",value:i.fullName,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",placeholder:"votre.email@example.com",value:i.email,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"password",children:"Mot de passe"}),r.jsx(se,{id:"password",type:"password",placeholder:"Votre mot de passe sécurisé",value:i.password,onChange:l,required:!0,minLength:8}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Le mot de passe doit contenir au moins 8 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),r.jsx(se,{id:"confirmPassword",type:"password",placeholder:"Confirmer votre mot de passe",value:i.confirmPassword,onChange:l,required:!0,minLength:8})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Création en cours..."]}):"Créer le compte"})]}),r.jsxs("div",{className:"mt-6 text-center",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Déjà un compte ?"," ",r.jsx(Sa,{to:"/login",className:"text-primary hover:underline",children:"Se connecter"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:r.jsx(Sa,{to:"/",className:"hover:underline",children:"Retour à l'accueil"})})]})]})]})})};var Ib="Dialog",[lz,W6e]=ni(Ib),[she,Va]=lz(Ib),cz=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=vo({prop:s,defaultProp:i??!1,onChange:a,caller:Ib});return r.jsx(she,{scope:t,triggerRef:l,contentRef:c,contentId:rs(),titleId:rs(),descriptionId:rs(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};cz.displayName=Ib;var uz="DialogTrigger",dz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Va(uz,n),a=Xt(t,i.triggerRef);return r.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":uE(i.open),...s,ref:a,onClick:He(e.onClick,i.onOpenToggle)})});dz.displayName=uz;var lE="DialogPortal",[ihe,hz]=lz(lE,{forceMount:void 0}),fz=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,a=Va(lE,t);return r.jsx(ihe,{scope:t,forceMount:n,children:w.Children.map(s,o=>r.jsx(ri,{present:n||a.open,children:r.jsx(Bf,{asChild:!0,container:i,children:o})}))})};fz.displayName=lE;var D0="DialogOverlay",mz=w.forwardRef((e,t)=>{const n=hz(D0,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Va(D0,e.__scopeDialog);return a.modal?r.jsx(ri,{present:s||a.open,children:r.jsx(ohe,{...i,ref:t})}):null});mz.displayName=D0;var ahe=bc("DialogOverlay.RemoveScroll"),ohe=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Va(D0,n);return r.jsx(hv,{as:ahe,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(st.div,{"data-state":uE(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Gu="DialogContent",pz=w.forwardRef((e,t)=>{const n=hz(Gu,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Va(Gu,e.__scopeDialog);return r.jsx(ri,{present:s||a.open,children:a.modal?r.jsx(lhe,{...i,ref:t}):r.jsx(che,{...i,ref:t})})});pz.displayName=Gu;var lhe=w.forwardRef((e,t)=>{const n=Va(Gu,e.__scopeDialog),s=w.useRef(null),i=Xt(t,n.contentRef,s);return w.useEffect(()=>{const a=s.current;if(a)return Sb(a)},[]),r.jsx(gz,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:He(e.onFocusOutside,a=>a.preventDefault())})}),che=w.forwardRef((e,t)=>{const n=Va(Gu,e.__scopeDialog),s=w.useRef(!1),i=w.useRef(!1);return r.jsx(gz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),gz=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=Va(Gu,n),c=w.useRef(null),u=Xt(t,c);return wb(),r.jsxs(r.Fragment,{children:[r.jsx(uv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(cd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":uE(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(uhe,{titleId:l.titleId}),r.jsx(hhe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),cE="DialogTitle",vz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Va(cE,n);return r.jsx(st.h2,{id:i.titleId,...s,ref:t})});vz.displayName=cE;var xz="DialogDescription",yz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Va(xz,n);return r.jsx(st.p,{id:i.descriptionId,...s,ref:t})});yz.displayName=xz;var jz="DialogClose",bz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Va(jz,n);return r.jsx(st.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>i.onOpenChange(!1))})});bz.displayName=jz;function uE(e){return e?"open":"closed"}var wz="DialogTitleWarning",[H6e,Nz]=zee(wz,{contentName:Gu,titleName:cE,docsSlug:"dialog"}),uhe=({titleId:e})=>{const t=Nz(wz),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},dhe="DialogDescriptionWarning",hhe=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Nz(dhe).contentName}}.`;return w.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Sz=cz,fhe=dz,Cz=fz,dE=mz,hE=pz,_z=vz,Pz=yz,mhe=bz;const St=Sz,Rc=fhe,phe=Cz,Az=w.forwardRef(({className:e,...t},n)=>r.jsx(dE,{ref:n,className:Ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Az.displayName=dE.displayName;const bt=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(phe,{children:[r.jsx(Az,{}),r.jsxs(hE,{ref:s,className:Ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(mhe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(hb,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bt.displayName=hE.displayName;const Ct=({className:e,...t})=>r.jsx("div",{className:Ze("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ct.displayName="DialogHeader";const _t=w.forwardRef(({className:e,...t},n)=>r.jsx(_z,{ref:n,className:Ze("text-lg font-semibold leading-none tracking-tight",e),...t}));_t.displayName=_z.displayName;const jn=w.forwardRef(({className:e,...t},n)=>r.jsx(Pz,{ref:n,className:Ze("text-sm text-muted-foreground",e),...t}));jn.displayName=Pz.displayName;const wt=w.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Ze("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));wt.displayName="Textarea";function PI(e,[t,n]){return Math.min(n,Math.max(t,e))}function fE(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ghe=[" ","Enter","ArrowUp","ArrowDown"],vhe=[" ","Enter"],Ku="Select",[$b,Rb,xhe]=ob(Ku),[Jf,G6e]=ni(Ku,[xhe,Tc]),Lb=Tc(),[yhe,Lc]=Jf(Ku),[jhe,bhe]=Jf(Ku),Ez=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:g,form:x}=e,v=Lb(t),[y,N]=w.useState(null),[b,j]=w.useState(null),[_,C]=w.useState(!1),A=bb(u),[P,E]=vo({prop:s,defaultProp:i??!1,onChange:a,caller:Ku}),[M,$]=vo({prop:o,defaultProp:l,onChange:c,caller:Ku}),T=w.useRef(null),O=y?x||!!y.closest("form"):!0,[L,B]=w.useState(new Set),Z=Array.from(L).map(H=>H.props.value).join(";");return r.jsx(LA,{...v,children:r.jsxs(yhe,{required:g,scope:t,trigger:y,onTriggerChange:N,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:rs(),value:M,onValueChange:$,open:P,onOpenChange:E,dir:A,triggerPointerDownPosRef:T,disabled:m,children:[r.jsx($b.Provider,{scope:t,children:r.jsx(jhe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(H=>{B(ae=>new Set(ae).add(H))},[]),onNativeOptionRemove:w.useCallback(H=>{B(ae=>{const X=new Set(ae);return X.delete(H),X})},[]),children:n})}),O?r.jsxs(Zz,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:M,onChange:H=>$(H.target.value),disabled:m,form:x,children:[M===void 0?r.jsx("option",{value:""}):null,Array.from(L)]},Z):null]})})};Ez.displayName=Ku;var kz="SelectTrigger",Tz=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,a=Lb(n),o=Lc(kz,n),l=o.disabled||s,c=Xt(t,o.onTriggerChange),u=Rb(n),d=w.useRef("touch"),[f,m,g]=tV(v=>{const y=u().filter(j=>!j.disabled),N=y.find(j=>j.value===o.value),b=nV(y,v,N);b!==void 0&&o.onValueChange(b.value)}),x=v=>{l||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return r.jsx(cv,{asChild:!0,...a,children:r.jsx(st.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":eV(o.value)?"":void 0,...i,ref:c,onClick:He(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&x(v)}),onPointerDown:He(i.onPointerDown,v=>{d.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:He(i.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(y&&v.key===" ")&&ghe.includes(v.key)&&(x(),v.preventDefault())})})})});Tz.displayName=kz;var Oz="SelectValue",Dz=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:o="",...l}=e,c=Lc(Oz,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Xt(t,c.onValueNodeChange);return Nr(()=>{u(d)},[u,d]),r.jsx(st.span,{...l,ref:f,style:{pointerEvents:"none"},children:eV(c.value)?r.jsx(r.Fragment,{children:o}):a})});Dz.displayName=Oz;var whe="SelectIcon",Mz=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(st.span,{"aria-hidden":!0,...i,ref:t,children:s||"▼"})});Mz.displayName=whe;var Nhe="SelectPortal",Iz=e=>r.jsx(Bf,{asChild:!0,...e});Iz.displayName=Nhe;var Yu="SelectContent",$z=w.forwardRef((e,t)=>{const n=Lc(Yu,e.__scopeSelect),[s,i]=w.useState();if(Nr(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?ld.createPortal(r.jsx(Rz,{scope:e.__scopeSelect,children:r.jsx($b.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(Lz,{...e,ref:t})});$z.displayName=Yu;var pa=10,[Rz,Fc]=Jf(Yu),She="SelectContentImpl",Che=bc("SelectContent.RemoveScroll"),Lz=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:y,...N}=e,b=Lc(Yu,n),[j,_]=w.useState(null),[C,A]=w.useState(null),P=Xt(t,be=>_(be)),[E,M]=w.useState(null),[$,T]=w.useState(null),O=Rb(n),[L,B]=w.useState(!1),Z=w.useRef(!1);w.useEffect(()=>{if(j)return Sb(j)},[j]),wb();const H=w.useCallback(be=>{const[z,...Y]=O().map(I=>I.ref.current),[ee]=Y.slice(-1),G=document.activeElement;for(const I of be)if(I===G||(I==null||I.scrollIntoView({block:"nearest"}),I===z&&C&&(C.scrollTop=0),I===ee&&C&&(C.scrollTop=C.scrollHeight),I==null||I.focus(),document.activeElement!==G))return},[O,C]),ae=w.useCallback(()=>H([E,j]),[H,E,j]);w.useEffect(()=>{L&&ae()},[L,ae]);const{onOpenChange:X,triggerPointerDownPosRef:D}=b;w.useEffect(()=>{if(j){let be={x:0,y:0};const z=ee=>{var G,I;be={x:Math.abs(Math.round(ee.pageX)-(((G=D.current)==null?void 0:G.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((I=D.current)==null?void 0:I.y)??0))}},Y=ee=>{be.x<=10&&be.y<=10?ee.preventDefault():j.contains(ee.target)||X(!1),document.removeEventListener("pointermove",z),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",z),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",Y,{capture:!0})}}},[j,X,D]),w.useEffect(()=>{const be=()=>X(!1);return window.addEventListener("blur",be),window.addEventListener("resize",be),()=>{window.removeEventListener("blur",be),window.removeEventListener("resize",be)}},[X]);const[ie,me]=tV(be=>{const z=O().filter(G=>!G.disabled),Y=z.find(G=>G.ref.current===document.activeElement),ee=nV(z,be,Y);ee&&setTimeout(()=>ee.ref.current.focus())}),te=w.useCallback((be,z,Y)=>{const ee=!Z.current&&!Y;(b.value!==void 0&&b.value===z||ee)&&(M(be),ee&&(Z.current=!0))},[b.value]),J=w.useCallback(()=>j==null?void 0:j.focus(),[j]),ne=w.useCallback((be,z,Y)=>{const ee=!Z.current&&!Y;(b.value!==void 0&&b.value===z||ee)&&T(be)},[b.value]),ve=s==="popper"?$2:Fz,ye=ve===$2?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:y}:{};return r.jsx(Rz,{scope:n,content:j,viewport:C,onViewportChange:A,itemRefCallback:te,selectedItem:E,onItemLeave:J,itemTextRefCallback:ne,focusSelectedItem:ae,selectedItemText:$,position:s,isPositioned:L,searchRef:ie,children:r.jsx(hv,{as:Che,allowPinchZoom:!0,children:r.jsx(uv,{asChild:!0,trapped:b.open,onMountAutoFocus:be=>{be.preventDefault()},onUnmountAutoFocus:He(i,be=>{var z;(z=b.trigger)==null||z.focus({preventScroll:!0}),be.preventDefault()}),children:r.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:be=>be.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:r.jsx(ve,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:be=>be.preventDefault(),...N,...ye,onPlaced:()=>B(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:He(N.onKeyDown,be=>{const z=be.ctrlKey||be.altKey||be.metaKey;if(be.key==="Tab"&&be.preventDefault(),!z&&be.key.length===1&&me(be.key),["ArrowUp","ArrowDown","Home","End"].includes(be.key)){let ee=O().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(be.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(be.key)){const G=be.target,I=ee.indexOf(G);ee=ee.slice(I+1)}setTimeout(()=>H(ee)),be.preventDefault()}})})})})})})});Lz.displayName=She;var _he="SelectItemAlignedPosition",Fz=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,a=Lc(Yu,n),o=Fc(Yu,n),[l,c]=w.useState(null),[u,d]=w.useState(null),f=Xt(t,P=>d(P)),m=Rb(n),g=w.useRef(!1),x=w.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:N,focusSelectedItem:b}=o,j=w.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&y&&N){const P=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),$=N.getBoundingClientRect();if(a.dir!=="rtl"){const G=$.left-E.left,I=M.left-G,xe=P.left-I,Ne=P.width+xe,Be=Math.max(Ne,E.width),Fe=window.innerWidth-pa,it=PI(I,[pa,Math.max(pa,Fe-Be)]);l.style.minWidth=Ne+"px",l.style.left=it+"px"}else{const G=E.right-$.right,I=window.innerWidth-M.right-G,xe=window.innerWidth-P.right-I,Ne=P.width+xe,Be=Math.max(Ne,E.width),Fe=window.innerWidth-pa,it=PI(I,[pa,Math.max(pa,Fe-Be)]);l.style.minWidth=Ne+"px",l.style.right=it+"px"}const T=m(),O=window.innerHeight-pa*2,L=v.scrollHeight,B=window.getComputedStyle(u),Z=parseInt(B.borderTopWidth,10),H=parseInt(B.paddingTop,10),ae=parseInt(B.borderBottomWidth,10),X=parseInt(B.paddingBottom,10),D=Z+H+L+X+ae,ie=Math.min(y.offsetHeight*5,D),me=window.getComputedStyle(v),te=parseInt(me.paddingTop,10),J=parseInt(me.paddingBottom,10),ne=P.top+P.height/2-pa,ve=O-ne,ye=y.offsetHeight/2,be=y.offsetTop+ye,z=Z+H+be,Y=D-z;if(z<=ne){const G=T.length>0&&y===T[T.length-1].ref.current;l.style.bottom="0px";const I=u.clientHeight-v.offsetTop-v.offsetHeight,xe=Math.max(ve,ye+(G?J:0)+I+ae),Ne=z+xe;l.style.height=Ne+"px"}else{const G=T.length>0&&y===T[0].ref.current;l.style.top="0px";const xe=Math.max(ne,Z+v.offsetTop+(G?te:0)+ye)+Y;l.style.height=xe+"px",v.scrollTop=z-ne+v.offsetTop}l.style.margin=`${pa}px 0`,l.style.minHeight=ie+"px",l.style.maxHeight=O+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[m,a.trigger,a.valueNode,l,u,v,y,N,a.dir,s]);Nr(()=>j(),[j]);const[_,C]=w.useState();Nr(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const A=w.useCallback(P=>{P&&x.current===!0&&(j(),b==null||b(),x.current=!1)},[j,b]);return r.jsx(Ahe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:A,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:r.jsx(st.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Fz.displayName=_he;var Phe="SelectPopperPosition",$2=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=pa,...a}=e,o=Lb(n);return r.jsx(gb,{...o,...a,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$2.displayName=Phe;var[Ahe,mE]=Jf(Yu,{}),R2="SelectViewport",Bz=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,a=Fc(R2,n),o=mE(R2,n),l=Xt(t,a.onViewportChange),c=w.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx($b.Slot,{scope:n,children:r.jsx(st.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:He(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const x=window.innerHeight-pa*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),N=Math.max(v,y);if(N<x){const b=N+g,j=Math.min(x,b),_=b-j;f.style.height=j+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Bz.displayName=R2;var zz="SelectGroup",[Ehe,khe]=Jf(zz),The=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=rs();return r.jsx(Ehe,{scope:n,id:i,children:r.jsx(st.div,{role:"group","aria-labelledby":i,...s,ref:t})})});The.displayName=zz;var Vz="SelectLabel",Uz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=khe(Vz,n);return r.jsx(st.div,{id:i.id,...s,ref:t})});Uz.displayName=Vz;var M0="SelectItem",[Ohe,qz]=Jf(M0),Wz=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...o}=e,l=Lc(M0,n),c=Fc(M0,n),u=l.value===s,[d,f]=w.useState(a??""),[m,g]=w.useState(!1),x=Xt(t,b=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,b,s,i)}),v=rs(),y=w.useRef("touch"),N=()=>{i||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Ohe,{scope:n,value:s,disabled:i,textId:v,isSelected:u,onItemTextChange:w.useCallback(b=>{f(j=>j||((b==null?void 0:b.textContent)??"").trim())},[]),children:r.jsx($b.ItemSlot,{scope:n,value:s,disabled:i,textValue:d,children:r.jsx(st.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:He(o.onFocus,()=>g(!0)),onBlur:He(o.onBlur,()=>g(!1)),onClick:He(o.onClick,()=>{y.current!=="mouse"&&N()}),onPointerUp:He(o.onPointerUp,()=>{y.current==="mouse"&&N()}),onPointerDown:He(o.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:He(o.onPointerMove,b=>{var j;y.current=b.pointerType,i?(j=c.onItemLeave)==null||j.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(o.onPointerLeave,b=>{var j;b.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:He(o.onKeyDown,b=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(vhe.includes(b.key)&&N(),b.key===" "&&b.preventDefault())})})})})});Wz.displayName=M0;var xp="SelectItemText",Hz=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...a}=e,o=Lc(xp,n),l=Fc(xp,n),c=qz(xp,n),u=bhe(xp,n),[d,f]=w.useState(null),m=Xt(t,N=>f(N),c.onItemTextChange,N=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,N,c.value,c.disabled)}),g=d==null?void 0:d.textContent,x=w.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return Nr(()=>(v(x),()=>y(x)),[v,y,x]),r.jsxs(r.Fragment,{children:[r.jsx(st.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ld.createPortal(a.children,o.valueNode):null]})});Hz.displayName=xp;var Gz="SelectItemIndicator",Kz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return qz(Gz,n).isSelected?r.jsx(st.span,{"aria-hidden":!0,...s,ref:t}):null});Kz.displayName=Gz;var L2="SelectScrollUpButton",Yz=w.forwardRef((e,t)=>{const n=Fc(L2,e.__scopeSelect),s=mE(L2,e.__scopeSelect),[i,a]=w.useState(!1),o=Xt(t,s.onScrollButtonChange);return Nr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(Xz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Yz.displayName=L2;var F2="SelectScrollDownButton",Qz=w.forwardRef((e,t)=>{const n=Fc(F2,e.__scopeSelect),s=mE(F2,e.__scopeSelect),[i,a]=w.useState(!1),o=Xt(t,s.onScrollButtonChange);return Nr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(Xz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Qz.displayName=F2;var Xz=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,a=Fc("SelectScrollButton",n),o=w.useRef(null),l=Rb(n),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Nr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),r.jsx(st.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:He(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:He(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:He(i.onPointerLeave,()=>{c()})})}),Dhe="SelectSeparator",Jz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(st.div,{"aria-hidden":!0,...s,ref:t})});Jz.displayName=Dhe;var B2="SelectArrow",Mhe=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Lb(n),a=Lc(B2,n),o=Fc(B2,n);return a.open&&o.position==="popper"?r.jsx(vb,{...i,...s,ref:t}):null});Mhe.displayName=B2;var Ihe="SelectBubbleInput",Zz=w.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=w.useRef(null),a=Xt(s,i),o=fE(t);return w.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(st.select,{...n,style:{..._5,...n.style},ref:a,defaultValue:t})});Zz.displayName=Ihe;function eV(e){return e===""||e===void 0}function tV(e){const t=$s(e),n=w.useRef(""),s=w.useRef(0),i=w.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=w.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function nV(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=$he(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function $he(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Rhe=Ez,rV=Tz,Lhe=Dz,Fhe=Mz,Bhe=Iz,sV=$z,zhe=Bz,iV=Uz,aV=Wz,Vhe=Hz,Uhe=Kz,oV=Yz,lV=Qz,cV=Jz;const Me=Rhe,Ie=Lhe,Oe=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(rV,{ref:s,className:Ze("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(Fhe,{asChild:!0,children:r.jsx(ub,{className:"h-4 w-4 opacity-50"})})]}));Oe.displayName=rV.displayName;const uV=w.forwardRef(({className:e,...t},n)=>r.jsx(oV,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(zte,{className:"h-4 w-4"})}));uV.displayName=oV.displayName;const dV=w.forwardRef(({className:e,...t},n)=>r.jsx(lV,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(ub,{className:"h-4 w-4"})}));dV.displayName=lV.displayName;const De=w.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>r.jsx(Bhe,{children:r.jsxs(sV,{ref:i,className:Ze("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(uV,{}),r.jsx(zhe,{className:Ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(dV,{})]})}));De.displayName=sV.displayName;const qhe=w.forwardRef(({className:e,...t},n)=>r.jsx(iV,{ref:n,className:Ze("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));qhe.displayName=iV.displayName;const W=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(aV,{ref:s,className:Ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Uhe,{children:r.jsx(SA,{className:"h-4 w-4"})})}),r.jsx(Vhe,{children:t})]}));W.displayName=aV.displayName;const Whe=w.forwardRef(({className:e,...t},n)=>r.jsx(cV,{ref:n,className:Ze("-mx-1 my-1 h-px bg-muted",e),...t}));Whe.displayName=cV.displayName;const Hhe=async()=>{const{data:e,error:t}=await Vt.from("clients").select("*").order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching clients: ${t.message}`);return e||[]},Ghe=async e=>{const{data:{user:t}}=await Vt.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:n,error:s}=await Vt.from("clients").insert({...e,user_id:t.id,city:e.city||"Rabat",country:e.country||"Maroc",client_type:e.client_type||"particulier"}).select().single();if(s)throw new Error(`Error creating client: ${s.message}`);return n},Khe=async(e,t)=>{const{data:n,error:s}=await Vt.from("clients").update(t).eq("id",e).select().single();if(s)throw new Error(`Error updating client: ${s.message}`);return n},Yhe=async()=>{const{data:e,error:t}=await Vt.from("animals").select(`
      *,
      client:clients(*)
    `).order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching animals: ${t.message}`);return e||[]},Qhe=async e=>{var o,l,c;const{data:{user:t}}=await Vt.auth.getUser();if(!t)throw new Error("User not authenticated");const n={...e};"microchip_number"in n&&!((o=n.microchip_number)!=null&&o.trim())&&delete n.microchip_number,"birth_date"in n&&!((l=n.birth_date)!=null&&l.trim())&&delete n.birth_date,"sterilization_date"in n&&!((c=n.sterilization_date)!=null&&c.trim())&&delete n.sterilization_date;const s=u=>{switch(u){case"healthy":return"vivant";case"urgent":return"décédé";case"treatment":return"perdu";default:return"vivant"}},{data:i,error:a}=await Vt.from("animals").insert({...n,user_id:t.id,sterilized:n.sterilized||!1,status:s(n.status)}).select(`
      *,
      client:clients(*)
    `).single();if(a)throw new Error(`Error creating animal: ${a.message}`);return i},Xhe=async(e,t)=>{var a,o,l;const n={...t};"microchip_number"in n&&!((a=n.microchip_number)!=null&&a.trim())&&(n.microchip_number=null),"birth_date"in n&&!((o=n.birth_date)!=null&&o.trim())&&(n.birth_date=null),"sterilization_date"in n&&!((l=n.sterilization_date)!=null&&l.trim())&&(n.sterilization_date=null);const{data:s,error:i}=await Vt.from("animals").update(n).eq("id",e).select(`
      *,
      client:clients(*)
    `).single();if(i)throw new Error(`Error updating animal: ${i.message}`);return s},Jhe=async e=>{const{data:{user:t}}=await Vt.auth.getUser();if(!t)throw new Error("User not authenticated");const{medications:n,...s}=e,{data:i,error:a}=await Vt.from("prescriptions").insert({...s,veterinarian_id:s.veterinarian_id||t.id}).select().single();if(a)throw new Error(`Error creating prescription: ${a.message}`);if(n&&n.length>0){const c=n.map(d=>({...d,prescription_id:i.id})),{error:u}=await Vt.from("prescription_medications").insert(c);if(u)throw new Error(`Error creating prescription medications: ${u.message}`)}const{data:o,error:l}=await Vt.from("prescriptions").select(`
      *,
      animal:animals(*),
      client:clients(*),
      medications:prescription_medications(*)
    `).eq("id",i.id).single();if(l)throw new Error(`Error fetching complete prescription: ${l.message}`);return o},Zhe=async()=>{const{data:e,error:t}=await Vt.from("appointments").select(`
      *,
      client:clients(*),
      animal:animals(*)
    `).order("appointment_date",{ascending:!0});if(t)throw new Error(`Error fetching appointments: ${t.message}`);return e||[]},efe=async e=>{const{data:{user:t}}=await Vt.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:n,error:s}=await Vt.from("appointments").insert({...e,veterinarian_id:e.veterinarian_id||t.id,duration_minutes:e.duration_minutes||30}).select(`
      *,
      client:clients(*),
      animal:animals(*)
    `).single();if(s)throw new Error(`Error creating appointment: ${s.message}`);return n},tfe=async(e,t)=>{const{data:n,error:s}=await Vt.from("appointments").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select(`
      *,
      client:clients(*),
      animal:animals(*)
    `).single();if(s)throw new Error(`Error updating appointment: ${s.message}`);return n},nfe=async e=>{const{error:t}=await Vt.from("appointments").delete().eq("id",e);if(t)throw new Error(`Error deleting appointment: ${t.message}`)},rfe=async()=>{const{data:e,error:t}=await Vt.from("stock_items").select("*").eq("active",!0).order("name",{ascending:!0});if(t)throw new Error(`Error fetching stock items: ${t.message}`);return e||[]},Ca={all:["clients"],lists:()=>[...Ca.all,"list"],list:e=>[...Ca.lists(),{filters:e}],details:()=>[...Ca.all,"detail"],detail:e=>[...Ca.details(),e],search:e=>[...Ca.all,"search",e]},xi={all:["animals"],lists:()=>[...xi.all,"list"],list:e=>[...xi.lists(),{filters:e}],details:()=>[...xi.all,"detail"],detail:e=>[...xi.details(),e],byClient:e=>[...xi.all,"client",e],search:e=>[...xi.all,"search",e]},ps={all:["appointments"],lists:()=>[...ps.all,"list"],list:e=>[...ps.lists(),{filters:e}],details:()=>[...ps.all,"detail"],detail:e=>[...ps.details(),e],byAnimal:e=>[...ps.all,"animal",e],byClient:e=>[...ps.all,"client",e]},xv={all:["stats"],clients:()=>[...xv.all,"clients"]},pE={all:["userProfile"],profile:()=>[...pE.all,"profile"]},Zf=()=>ml({queryKey:Ca.lists(),queryFn:Hhe,staleTime:5*60*1e3}),sfe=()=>{const e=is();return xs({mutationFn:Ghe,onSuccess:t=>{e.invalidateQueries({queryKey:Ca.lists()}),e.setQueryData(Ca.detail(t.id),t),e.invalidateQueries({queryKey:xv.clients()})}})},ife=()=>{const e=is();return xs({mutationFn:({id:t,data:n})=>Khe(t,n),onSuccess:t=>{e.setQueryData(Ca.detail(t.id),t),e.invalidateQueries({queryKey:Ca.lists()})}})},em=()=>ml({queryKey:xi.lists(),queryFn:Yhe,staleTime:5*60*1e3}),afe=()=>{const e=is();return xs({mutationFn:Qhe,onSuccess:t=>{e.invalidateQueries({queryKey:xi.lists()}),e.setQueryData(xi.detail(t.id),t),e.invalidateQueries({queryKey:xi.byClient(t.client_id)}),e.invalidateQueries({queryKey:xv.clients()})}})},ofe=()=>{const e=is();return xs({mutationFn:({id:t,data:n})=>Xhe(t,n),onSuccess:t=>{e.setQueryData(xi.detail(t.id),t),e.invalidateQueries({queryKey:xi.lists()}),e.invalidateQueries({queryKey:xi.byClient(t.client_id)})}})},hV=()=>ml({queryKey:["consultations"],queryFn:async()=>{const{data:e,error:t}=await Vt.from("consultations").select(`
          *,
          animal:animals(*),
          client:clients(*)
        `).order("consultation_date",{ascending:!1});if(t)throw t;return e||[]}}),fV=()=>{const e=is();return xs({mutationFn:async t=>{const{data:{user:n}}=await Vt.auth.getUser();if(!n)throw new Error("User not authenticated");const s={...t,veterinarian_id:n.id,consultation_date:t.consultation_date||new Date().toISOString(),status:"completed"},{data:i,error:a}=await Vt.from("consultations").insert(s).select().single();if(a)throw a;return i},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},lfe=()=>{const e=is();return xs({mutationFn:async t=>{const{error:n}=await Vt.from("consultations").delete().eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},cfe=()=>ml({queryKey:["vaccinations"],queryFn:async()=>{const{data:e,error:t}=await Vt.from("vaccinations").select(`
          *,
          animal:animals(*),
          client:clients(*)
        `).order("date_vaccination",{ascending:!1});if(t)throw t;return e||[]}}),ufe=()=>ml({queryKey:["client-stats"],queryFn:async()=>{var a,o,l,c;const[e,t]=await Promise.all([Vt.from("clients").select("id, status"),Vt.from("animals").select("id, status")]);if(e.error||t.error)throw new Error("Failed to fetch client stats");const n=((a=e.data)==null?void 0:a.filter(u=>u.status==="actif").length)||0;(o=e.data)!=null&&o.length;const s=((l=t.data)==null?void 0:l.length)||0,i=((c=t.data)==null?void 0:c.reduce((u,d)=>(u[d.status]=(u[d.status]||0)+1,u),{}))||{};return{totalClients:n,totalAnimals:s,animalsByStatus:i}},staleTime:5*60*1e3}),dfe=()=>{const e=is();return xs({mutationFn:Jhe,onSuccess:()=>{e.invalidateQueries({queryKey:["prescriptions"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},hfe=()=>ml({queryKey:["stock-items"],queryFn:rfe,staleTime:5*60*1e3}),ffe=()=>ml({queryKey:pE.profile(),queryFn:Mb,staleTime:5*60*1e3}),mfe=()=>{const e=is();return xs({mutationFn:t=>Rde(t),onSuccess:t=>{e.setQueryData(pE.profile(),t),e.invalidateQueries({queryKey:["auth","session"]})}})},pfe=()=>ml({queryKey:ps.lists(),queryFn:Zhe,staleTime:2*60*1e3}),gfe=()=>{const e=is();return xs({mutationFn:efe,onSuccess:t=>{e.invalidateQueries({queryKey:ps.lists()}),t.animal_id&&e.invalidateQueries({queryKey:ps.byAnimal(t.animal_id)}),t.client_id&&(e.invalidateQueries({queryKey:ps.byClient(t.client_id)}),e.invalidateQueries({queryKey:Ca.detail(t.client_id)})),e.invalidateQueries({queryKey:xv.clients()})}})},vfe=()=>{const e=is();return xs({mutationFn:({id:t,data:n})=>tfe(t,n),onSuccess:t=>{e.invalidateQueries({queryKey:ps.lists()}),e.setQueryData(ps.lists(),n=>n?n.map(s=>s.id===t.id?t:s):[]),t.animal_id&&e.invalidateQueries({queryKey:ps.byAnimal(t.animal_id)}),t.client_id&&e.invalidateQueries({queryKey:ps.byClient(t.client_id)})}})},xfe=()=>{const e=is();return xs({mutationFn:nfe,onSuccess:(t,n)=>{e.setQueryData(ps.lists(),s=>s?s.filter(i=>i.id!==n):[]),e.invalidateQueries({queryKey:ps.lists()}),e.invalidateQueries({queryKey:xv.clients()})}})};function yv({open:e,onOpenChange:t}){const n=sfe(),{toast:s}=$t(),[i,a]=w.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),o=u=>{const{id:d,value:f}=u.target;a(m=>({...m,[d]:f}))},l=(u,d)=>{a(f=>({...f,[u]:d}))},c=async u=>{u.preventDefault();try{await n.mutateAsync(i),s({title:"Client ajouté",description:`${i.first_name} ${i.last_name} a été ajouté et sauvegardé avec succès.`}),a({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),t(!1)}catch{s({title:"Erreur",description:"Une erreur s'est produite lors de l'ajout du client.",variant:"destructive"})}};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[500px]",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouveau Client"}),r.jsx(jn,{children:"Ajoutez un nouveau client à votre base de données."})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"first_name",children:"Prénom *"}),r.jsx(se,{id:"first_name",value:i.first_name,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"last_name",children:"Nom *"}),r.jsx(se,{id:"last_name",value:i.last_name,onChange:o,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:i.email||"",onChange:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"phone",children:"Téléphone *"}),r.jsx(se,{id:"phone",value:i.phone||"",onChange:o,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"address",children:"Adresse"}),r.jsx(se,{id:"address",value:i.address||"",onChange:o})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"city",children:"Ville"}),r.jsx(se,{id:"city",value:i.city||"",onChange:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"postal_code",children:"Code postal"}),r.jsx(se,{id:"postal_code",value:i.postal_code||"",onChange:o})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"mobile_phone",children:"Téléphone portable"}),r.jsx(se,{id:"mobile_phone",value:i.mobile_phone||"",onChange:o,placeholder:"Numéro de téléphone portable"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"client_type",children:"Type de client"}),r.jsxs(Me,{value:i.client_type,onValueChange:u=>l("client_type",u),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le type"})}),r.jsxs(De,{children:[r.jsx(W,{value:"particulier",children:"Particulier"}),r.jsx(W,{value:"eleveur",children:"Éleveur"}),r.jsx(W,{value:"ferme",children:"Ferme"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",value:i.notes||"",onChange:o,placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",disabled:n.isPending,children:[n.isPending&&r.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Ajouter Client"]})]})]})]})})}const yfe=ov("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $e({className:e,variant:t,...n}){return r.jsx("div",{className:Ze(yfe({variant:t}),e),...n})}const uy="vetpro-clinicSettings",mV={farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},pV={clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},gV={openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]},z2=[{id:1,name:"Dr. Jean Dupont",isActive:!0},{id:2,name:"Dr. Marie Martin",isActive:!0},{id:3,name:"Pr. Ahmed El Alaoui",isActive:!0}],dy={clinicName:"",address:"",phone:"",email:"",website:"",footerText:"",logo:"/placeholder.svg",currency:"MAD",species:"",showClinicInfo:!0,showVetsInfo:!0,veterinarians:z2,farmManagement:mV,displayPreferences:pV,defaultConsultationPrice:150,scheduleSettings:gV},vV=w.createContext(void 0),jfe=({children:e})=>{const[t,n]=w.useState(dy);w.useEffect(()=>{const i=localStorage.getItem(uy);if(i)try{const a=JSON.parse(i),o={...dy,...a,veterinarians:a.veterinarians&&a.veterinarians.some(l=>l.name==="Dr. Martin"||l.name==="Dr. Dupont")?z2:a.veterinarians||z2,farmManagement:{...mV,...a.farmManagement},displayPreferences:{...pV,...a.displayPreferences},scheduleSettings:{...gV,...a.scheduleSettings}};n(o),localStorage.setItem(uy,JSON.stringify(o))}catch(a){console.error("Erreur lors du chargement des paramètres:",a),n(dy)}else localStorage.setItem(uy,JSON.stringify(dy))},[]);const s=i=>{n(i),localStorage.setItem(uy,JSON.stringify(i))};return r.jsx(vV.Provider,{value:{settings:t,updateSettings:s},children:e})},Zt=()=>{const e=w.useContext(vV);if(!e)throw new Error("useSettings must be used within SettingsProvider");return e};var Fb="Checkbox",[bfe,K6e]=ni(Fb),[wfe,gE]=bfe(Fb);function Nfe(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,g]=vo({prop:n,defaultProp:i??!1,onChange:c,caller:Fb}),[x,v]=w.useState(null),[y,N]=w.useState(null),b=w.useRef(!1),j=x?!!o||!!x.closest("form"):!0,_={checked:m,disabled:a,setChecked:g,control:x,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:vc(i)?!1:i,isFormControl:j,bubbleInput:y,setBubbleInput:N};return r.jsx(wfe,{scope:t,..._,children:Sfe(f)?f(_):s})}var xV="CheckboxTrigger",yV=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},i)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:x}=gE(xV,e),v=Xt(i,d),y=w.useRef(c);return w.useEffect(()=>{const N=a==null?void 0:a.form;if(N){const b=()=>f(y.current);return N.addEventListener("reset",b),()=>N.removeEventListener("reset",b)}},[a,f]),r.jsx(st.button,{type:"button",role:"checkbox","aria-checked":vc(c)?"mixed":c,"aria-required":u,"data-state":SV(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:v,onKeyDown:He(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:He(n,N=>{f(b=>vc(b)?!0:!b),x&&g&&(m.current=N.isPropagationStopped(),m.current||N.stopPropagation())})})});yV.displayName=xV;var vE=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return r.jsx(Nfe,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>r.jsxs(r.Fragment,{children:[r.jsx(yV,{...f,ref:t,__scopeCheckbox:n}),m&&r.jsx(NV,{__scopeCheckbox:n})]})})});vE.displayName=Fb;var jV="CheckboxIndicator",bV=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,a=gE(jV,n);return r.jsx(ri,{present:s||vc(a.checked)||a.checked===!0,children:r.jsx(st.span,{"data-state":SV(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});bV.displayName=jV;var wV="CheckboxBubbleInput",NV=w.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:g}=gE(wV,e),x=Xt(n,g),v=fE(a),y=IA(s);w.useEffect(()=>{const b=m;if(!b)return;const j=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(j,"checked").set,A=!i.current;if(v!==a&&C){const P=new Event("click",{bubbles:A});b.indeterminate=vc(a),C.call(b,vc(a)?!1:a),b.dispatchEvent(P)}},[m,v,a,i]);const N=w.useRef(vc(a)?!1:a);return r.jsx(st.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});NV.displayName=wV;function Sfe(e){return typeof e=="function"}function vc(e){return e==="indeterminate"}function SV(e){return vc(e)?"indeterminate":e?"checked":"unchecked"}const Xi=w.forwardRef(({className:e,...t},n)=>r.jsx(vE,{ref:n,className:Ze("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(bV,{className:Ze("flex items-center justify-center text-current"),children:r.jsx(SA,{className:"h-4 w-4"})})}));Xi.displayName=vE.displayName;function jv({open:e,onOpenChange:t}){const{data:n=[]}=Zf(),{data:s=[]}=em(),i=afe(),{settings:a}=Zt(),{toast:o}=$t(),[l,c]=w.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),u=m=>{c(g=>({...g,[m.target.id]:m.target.value}))},d=(m,g)=>{c(x=>({...x,[m]:g}))},f=async m=>{if(m.preventDefault(),!n.find(x=>x.id===l.ownerId)){o({title:"Erreur",description:"Veuillez sélectionner un propriétaire valide."});return}if(l.microchip&&l.microchip.trim()&&s.find(v=>v.microchip_number===l.microchip.trim())){o({title:"Erreur",description:"Un animal avec ce numéro de puce existe déjà.",variant:"destructive"});return}try{const x={client_id:l.ownerId,name:l.name,species:l.type,breed:l.breed||void 0,color:l.color||void 0,sex:l.gender==="male"?"Mâle":l.gender==="female"?"Femelle":"Inconnu",weight:l.weight?Number(l.weight):void 0,birth_date:l.birthDate||void 0,...l.microchip&&l.microchip.trim()?{microchip_number:l.microchip.trim()}:{},notes:l.medicalNotes||void 0,photo_url:l.photo||void 0,status:l.status};await i.mutateAsync(x),o({title:"Animal ajouté",description:`${l.name} a été ajouté et sauvegardé avec succès.`}),c({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),t(!1)}catch{o({title:"Erreur",description:"Erreur lors de l'ajout de l'animal",variant:"destructive"})}};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvel Animal"}),r.jsx(jn,{children:"Ajoutez un nouvel animal à votre base de données."})]}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"name",children:"Nom de l'animal *"}),r.jsx(se,{id:"name",value:l.name,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Type d'animal *"}),r.jsxs(Me,{value:l.type,onValueChange:m=>d("type",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le type"})}),r.jsx(De,{children:a.species?a.species.split(",").map((m,g)=>{const x=m.trim();return x?r.jsx(W,{value:x,children:x},g):null}).filter(Boolean):r.jsxs(r.Fragment,{children:[r.jsx(W,{value:"Chien",children:"Chien"}),r.jsx(W,{value:"Chat",children:"Chat"}),r.jsx(W,{value:"Oiseau",children:"Oiseau"}),r.jsx(W,{value:"Lapin",children:"Lapin"}),r.jsx(W,{value:"Furet",children:"Furet"}),r.jsx(W,{value:"Souris",children:"Souris"}),r.jsx(W,{value:"Hamster",children:"Hamster"}),r.jsx(W,{value:"Reptile",children:"Reptile"}),r.jsx(W,{value:"Autre",children:"Autre"})]})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"breed",children:"Race"}),r.jsx(se,{id:"breed",value:l.breed,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Sexe"}),r.jsxs(Me,{value:l.gender,onValueChange:m=>d("gender",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le sexe"})}),r.jsxs(De,{children:[r.jsx(W,{value:"male",children:"Mâle"}),r.jsx(W,{value:"female",children:"Femelle"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"birthDate",children:"Date de naissance"}),r.jsx(se,{id:"birthDate",type:"date",value:l.birthDate,onChange:u,max:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(se,{id:"weight",value:l.weight,onChange:u})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"color",children:"Couleur"}),r.jsx(se,{id:"color",value:l.color,onChange:u})]}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Propriétaire *"}),n.length===0?r.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible. Veuillez d'abord ajouter un client."})}):r.jsxs(Me,{value:l.ownerId.toString(),onValueChange:m=>d("ownerId",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le propriétaire"})}),r.jsx(De,{children:n.map(m=>r.jsxs(W,{value:m.id.toString(),children:[m.first_name," ",m.last_name," - ",m.email]},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"microchip",children:"Numéro de puce électronique"}),r.jsx(se,{id:"microchip",value:l.microchip,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"medicalNotes",children:"Notes médicales"}),r.jsx(wt,{id:"medicalNotes",value:l.medicalNotes,onChange:u,placeholder:"Allergies, conditions médicales, notes importantes..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"État de santé"}),r.jsxs(Me,{value:l.status,onValueChange:m=>d("status",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner l'état de santé"})}),r.jsxs(De,{children:[r.jsx(W,{value:"healthy",children:"En bonne santé"}),r.jsx(W,{value:"treatment",children:"En traitement"}),r.jsx(W,{value:"urgent",children:"Urgent"})]})]})]}),r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xi,{id:"hasPedigree",checked:l.hasPedigree,onCheckedChange:m=>c(g=>({...g,hasPedigree:m}))}),r.jsx(F,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),l.hasPedigree&&r.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(se,{id:"officialName",value:l.officialName,onChange:u,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),r.jsx(se,{id:"pedigreeNumber",value:l.pedigreeNumber,onChange:u,placeholder:"Numéro de pedigree"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"breeder",children:"Éleveur"}),r.jsx(se,{id:"breeder",value:l.breeder,onChange:u,placeholder:"Nom de l'éleveur"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Père"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom du père",value:l.fatherName,onChange:u}),r.jsx(se,{placeholder:"N° pedigree du père",value:l.fatherPedigree,onChange:u}),r.jsx(se,{placeholder:"Race du père",value:l.fatherBreed,onChange:u}),r.jsx(wt,{placeholder:"Titres du père",value:l.fatherTitles,onChange:u,rows:2})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom de la mère",value:l.motherName,onChange:u}),r.jsx(se,{placeholder:"N° pedigree de la mère",value:l.motherPedigree,onChange:u}),r.jsx(se,{placeholder:"Race de la mère",value:l.motherBreed,onChange:u}),r.jsx(wt,{placeholder:"Titres de la mère",value:l.motherTitles,onChange:u,rows:2})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Document pedigree"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,pedigreePhoto:x.result})),x.readAsDataURL(g)}}),l.pedigreePhoto&&r.jsx("img",{src:l.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Photo de l'animal"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,photo:x.result})),x.readAsDataURL(g)}}),l.photo&&r.jsx("img",{src:l.photo,alt:"preview",className:"h-24 w-24 object-cover rounded"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Ajouter Animal"})]})]})]})})}function xE(e,t,n){const s=[],{openingTime:i,closingTime:a,slotDuration:o,lunchBreakStart:l,lunchBreakEnd:c}=t,u=hy(i),d=hy(a),f=l?hy(l):null,m=c?hy(c):null;for(let g=u;g<d;g+=o){const x=_fe(g),v=f&&m&&g>=f&&g<m,y=n.some(N=>N.date===e&&N.time===x);s.push({time:x,isAvailable:!y&&!v,isLunchBreak:!!v})}return s}function Cfe(e,t,n,s){const a=xE(e,n,s).find(o=>o.time===t);return a?a.isAvailable:!1}function hy(e){const[t,n]=e.split(":").map(Number);return t*60+n}function _fe(e){const t=Math.floor(e/60),n=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function Pfe(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"long"})}function Afe(e,t){const n=Pfe(e).toLowerCase();return t.workingDays.includes(n)}function CV({open:e,onOpenChange:t,prefillClientId:n,prefillPetId:s,prefillType:i,prefillReason:a,originalVaccinationId:o}){var ae,X;const{clients:l,pets:c,addAppointment:u,getPetsByOwnerId:d,createVaccinationReminder:f,appointments:m}=Nt(),{settings:g}=Zt(),{toast:x}=$t(),[v,y]=w.useState(!1),[N,b]=w.useState(!1),[j,_]=w.useState([]),[C,A]=w.useState({clientId:0,petId:0,date:"",time:"",type:"",duration:30,reason:"",notes:""}),[P,E]=w.useState([]),[M,$]=w.useState([]);w.useEffect(()=>{e&&(A({clientId:n||0,petId:s||0,date:"",time:"",type:i||"",duration:30,reason:a||"",notes:""}),E([]),$([]))},[e,n,s,i,a]),w.useEffect(()=>{if(e&&n&&s){const D=d(n);E(D);const ie=D.find(me=>me.id===s);A(ie?me=>({...me,petId:s}):me=>({...me,petId:0}))}},[e,n,s,d]),w.useEffect(()=>{if(C.clientId>0){const D=d(C.clientId);E(D),(!s||!D.find(ie=>ie.id===s))&&A(ie=>({...ie,petId:0}))}else E([])},[C.clientId,d,s]),w.useEffect(()=>{if(C.date){const D=xE(C.date,g.scheduleSettings,m);_(D),C.time&&!Cfe(C.date,C.time,g.scheduleSettings,m)&&A(ie=>({...ie,time:""}))}else _([])},[C.date,g.scheduleSettings,m]),w.useEffect(()=>{C.date&&C.time&&C.duration&&T()},[C.date,C.time,C.duration]);const T=()=>{const D=[],ie=new Date(`${C.date}T${C.time}`),me=new Date(ie.getTime()+C.duration*6e4),te=ie.getHours(),J=me.getHours();(te<8||J>18)&&D.push("Le rendez-vous doit être entre 8h00 et 18h00");const ne=ie.getDay();(ne===0||ne===6)&&D.push("Pas de rendez-vous le weekend"),$(D)},O=D=>{A(ie=>({...ie,[D.target.id]:D.target.value}))},L=(D,ie)=>{A(me=>({...me,[D]:D==="clientId"||D==="petId"||D==="duration"?parseInt(ie):ie}))},B=D=>{if(D.preventDefault(),M.length>0){x({title:"Conflits détectés",description:M.join(", "),variant:"destructive"});return}if(!C.clientId||!C.petId||!C.date||!C.time||!C.type){x({title:"Informations manquantes",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}const ie=l.find(te=>te.id===C.clientId),me=c.find(te=>te.id===C.petId);if(!ie||!me){x({title:"Erreur",description:"Client ou animal non trouvé.",variant:"destructive"});return}u({clientId:C.clientId,clientName:ie.name,petId:C.petId,petName:me.name,date:C.date,time:C.time,type:C.type,duration:C.duration,reason:C.reason,notes:C.notes,status:"scheduled",reminderSent:!1}),i==="vaccination"&&o&&(f(o,C.date,C.time),x({title:"Rappel enregistré",description:"Le rappel de vaccination a été ajouté."})),x({title:"Rendez-vous planifié",description:`RDV pour ${me.name} (${ie.name}) prévu le ${C.date} à ${C.time}.`}),t(!1)},Z=()=>new Date().toISOString().split("T")[0],H=D=>({consultation:"Consultation générale",vaccination:"Vaccination",chirurgie:"Chirurgie",urgence:"Urgence",controle:"Contrôle post-opératoire",sterilisation:"Stérilisation",dentaire:"Soins dentaires"})[D]||D;return r.jsxs(r.Fragment,{children:[r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-5 w-5"}),"Nouveau Rendez-vous"]}),r.jsx(jn,{children:"Planifiez un nouveau rendez-vous pour un client et son animal."})]}),r.jsxs("form",{onSubmit:B,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Client *"}),l.length===0?r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible."}),r.jsxs(V,{type:"button",size:"sm",variant:"outline",className:"mt-2 gap-1",onClick:()=>y(!0),children:[r.jsx(ht,{className:"h-3 w-3"}),"Ajouter Client"]})]}):r.jsxs(Me,{value:C.clientId.toString(),onValueChange:D=>L("clientId",D),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le client"})}),r.jsx(De,{children:l.map(D=>r.jsx(W,{value:D.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-3 w-3"}),D.name]})},D.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Animal *"}),C.clientId===0?r.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md",children:r.jsx("p",{className:"text-gray-600 text-sm",children:"Sélectionnez d'abord un client"})}):P.length===0?r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun animal pour ce client."}),r.jsxs(V,{type:"button",size:"sm",variant:"outline",className:"mt-2 gap-1",onClick:()=>b(!0),children:[r.jsx(ht,{className:"h-3 w-3"}),"Ajouter Animal"]})]}):r.jsxs(Me,{value:C.petId.toString(),onValueChange:D=>L("petId",D),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner l'animal"})}),r.jsx(De,{children:P.map(D=>r.jsx(W,{value:D.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wt,{className:"h-3 w-3"}),D.name," (",D.type,")"]})},D.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"date",children:"Date *"}),r.jsx(se,{id:"date",type:"date",value:C.date,onChange:O,min:Z(),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"time",children:"Heure *"}),C.date?r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Me,{value:C.time,onValueChange:D=>A(ie=>({...ie,time:D})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un créneau"})}),r.jsx(De,{className:"max-h-60",children:j.map(D=>r.jsx(W,{value:D.time,disabled:!D.isAvailable,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:D.time}),D.isLunchBreak&&r.jsx($e,{variant:"secondary",className:"text-xs",children:"Pause"}),!D.isAvailable&&r.jsx($e,{variant:"destructive",className:"text-xs",children:"Occupé"})]})},D.time))})]}),j.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun créneau disponible pour cette date"})]}):r.jsx(se,{id:"time",type:"time",value:C.time,onChange:O,disabled:!0,placeholder:"Sélectionnez d'abord une date"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Type de consultation *"}),r.jsxs(Me,{value:C.type,onValueChange:D=>L("type",D),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de RDV"})}),r.jsxs(De,{children:[r.jsx(W,{value:"consultation",children:"Consultation générale"}),r.jsx(W,{value:"vaccination",children:"Vaccination"}),r.jsx(W,{value:"chirurgie",children:"Chirurgie"}),r.jsx(W,{value:"urgence",children:"Urgence"}),r.jsx(W,{value:"controle",children:"Contrôle post-opératoire"}),r.jsx(W,{value:"sterilisation",children:"Stérilisation"}),r.jsx(W,{value:"dentaire",children:"Soins dentaires"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Durée (minutes)"}),r.jsxs(Me,{value:C.duration.toString(),onValueChange:D=>L("duration",D),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"15",children:"15 minutes"}),r.jsx(W,{value:"30",children:"30 minutes"}),r.jsx(W,{value:"45",children:"45 minutes"}),r.jsx(W,{value:"60",children:"1 heure"}),r.jsx(W,{value:"90",children:"1h30"}),r.jsx(W,{value:"120",children:"2 heures"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"reason",children:"Motif de consultation"}),r.jsx(se,{id:"reason",value:C.reason,onChange:O,placeholder:"ex: Vaccination annuelle, boiterie, contrôle..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",value:C.notes,onChange:O,placeholder:"Instructions spéciales, préparation nécessaire..."})]}),M.length>0&&r.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[r.jsx(Vr,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Conflits détectés :"})]}),r.jsx("ul",{className:"mt-2 text-sm text-red-700",children:M.map((D,ie)=>r.jsxs("li",{children:["• ",D]},ie))})]}),C.clientId&&C.petId&&C.date&&C.time&&C.type&&r.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Résumé du rendez-vous :"}),r.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Client :"})," ",(ae=l.find(D=>D.id===C.clientId))==null?void 0:ae.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Animal :"})," ",(X=c.find(D=>D.id===C.petId))==null?void 0:X.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date :"})," ",new Date(C.date).toLocaleDateString("fr-FR")]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Heure :"})," ",C.time]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type :"})," ",H(C.type)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Durée :"})," ",C.duration," minutes"]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",disabled:M.length>0,children:"Planifier RDV"})]})]})]})}),r.jsx(yv,{open:v,onOpenChange:y}),r.jsx(jv,{open:N,onOpenChange:b})]})}function tm({open:e,onOpenChange:t}){const{data:n=[],isLoading:s}=Zf(),{data:i=[],isLoading:a}=em(),o=fV(),{toast:l}=$t(),{settings:c}=Zt(),[u,d]=w.useState(!1),[f,m]=w.useState(!1),[g,x]=w.useState({clientId:"",clientName:"",animalId:"",animalName:"",date:"",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:c.defaultConsultationPrice.toString(),notes:"",photos:[]}),v=i.filter(_=>_.client_id===g.clientId),y=new Date().toISOString().split("T")[0];w.useEffect(()=>{c.defaultConsultationPrice&&!g.cost&&x(_=>({..._,cost:c.defaultConsultationPrice.toString()}))},[c.defaultConsultationPrice,g.cost]);const N=_=>{x(C=>({...C,[_.target.id]:_.target.value}))},b=(_,C)=>{if(_==="clientId"){const A=n.find(P=>P.id===C);x(P=>({...P,clientId:C,clientName:A?`${A.first_name} ${A.last_name}`:"",animalId:"",animalName:""}))}else if(_==="animalId"){const A=i.find(P=>P.id===C);x(P=>({...P,animalId:C,animalName:(A==null?void 0:A.name)||""}))}else x(A=>({...A,[_]:C}))},j=async _=>{if(_.preventDefault(),!g.clientId||!g.animalId){l({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}try{const C={client_id:g.clientId,animal_id:g.animalId,consultation_type:"routine",consultation_date:g.date||y,weight:g.weight?Math.min(parseFloat(g.weight),999.9):void 0,temperature:g.temperature?Math.min(parseFloat(g.temperature),99.9):void 0,symptoms:g.symptoms,diagnosis:g.diagnosis,treatment:g.treatment,follow_up_notes:g.followUp,notes:g.notes};await o.mutateAsync(C),l({title:"Consultation enregistrée",description:`Consultation pour ${g.animalName} (${g.clientName}) a été enregistrée avec succès.`}),x({clientId:"",clientName:"",animalId:"",animalName:"",date:y,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:c.defaultConsultationPrice.toString(),notes:"",photos:[]}),t(!1)}catch{l({title:"Erreur",description:"Impossible d'enregistrer la consultation. Veuillez réessayer.",variant:"destructive"})}};return w.useEffect(()=>{e&&x({clientId:"",clientName:"",animalId:"",animalName:"",date:y,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:c.defaultConsultationPrice.toString(),notes:"",photos:[]})},[e,y]),r.jsxs(r.Fragment,{children:[r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Consultation"}),r.jsx(jn,{children:"Enregistrez une nouvelle consultation vétérinaire."})]}),r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Client *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Me,{value:g.clientId.toString(),onValueChange:_=>b("clientId",_),children:[r.jsx(Oe,{className:"flex-1",children:r.jsx(Ie,{placeholder:"Sélectionner le client"})}),r.jsx(De,{children:n.map(_=>r.jsxs(W,{value:_.id,children:[_.first_name," ",_.last_name]},_.id))})]}),r.jsx(V,{type:"button",size:"sm",variant:"outline",onClick:()=>d(!0),className:"px-2",children:r.jsx(ht,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Animal *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Me,{value:g.animalId,onValueChange:_=>b("animalId",_),disabled:!g.clientId,children:[r.jsx(Oe,{className:"flex-1",children:r.jsx(Ie,{placeholder:g.clientId?"Sélectionner l'animal":"Sélectionnez d'abord un client"})}),r.jsx(De,{children:v.map(_=>r.jsxs(W,{value:_.id,children:[_.name," (",_.species,")"]},_.id))})]}),r.jsx(V,{type:"button",size:"sm",variant:"outline",onClick:()=>m(!0),className:"px-2",disabled:!g.clientId,children:r.jsx(ht,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"date",children:"Date *"}),r.jsx(se,{id:"date",type:"date",value:g.date||y,onChange:N,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(se,{id:"weight",type:"number",step:"0.1",min:"0",max:"999.9",value:g.weight,onChange:N,placeholder:"ex: 25.5"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"temperature",children:"Température (°C)"}),r.jsx(se,{id:"temperature",type:"number",step:"0.1",min:"0",max:"99.9",value:g.temperature,onChange:N,placeholder:"ex: 38.5"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"symptoms",children:"Symptômes observés"}),r.jsx(wt,{id:"symptoms",value:g.symptoms,onChange:N,placeholder:"Décrivez les symptômes et observations...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(wt,{id:"diagnosis",value:g.diagnosis,onChange:N,placeholder:"Diagnostic posé...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"treatment",children:"Traitement administré"}),r.jsx(wt,{id:"treatment",value:g.treatment,onChange:N,placeholder:"Traitements, injections, interventions...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"followUp",children:"Suivi recommandé"}),r.jsx(se,{id:"followUp",value:g.followUp,onChange:N,placeholder:"ex: Contrôle dans 1 semaine"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(F,{htmlFor:"cost",children:["Coût (",c.currency,")"]}),r.jsx(se,{id:"cost",type:"number",step:"0.01",value:g.cost,onChange:N,placeholder:"ex: 85.50"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes additionnelles"}),r.jsx(wt,{id:"notes",value:g.notes,onChange:N,placeholder:"Notes diverses, recommandations...",rows:3})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(F,{children:"Photos de la consultation"}),r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:async _=>{const C=Array.from(_.target.files||[]),A=await Promise.all(C.map(P=>new Promise((E,M)=>{const $=new FileReader;$.onload=()=>E($.result),$.onerror=()=>M(),$.readAsDataURL(P)})));x(P=>({...P,photos:[...P.photos,...A]}))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"}),g.photos.length>0&&r.jsx("div",{className:"flex gap-2 overflow-x-auto pt-2",children:g.photos.map((_,C)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:_,alt:`photo-${C}`,className:"h-24 w-24 object-cover rounded"}),r.jsx("button",{type:"button",onClick:()=>x(A=>({...A,photos:A.photos.filter((P,E)=>E!==C)})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},C))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",disabled:!g.animalId||o.isPending,children:o.isPending?"Enregistrement...":"Enregistrer Consultation"})]})]})]})}),r.jsx(yv,{open:u,onOpenChange:d}),r.jsx(jv,{open:f,onOpenChange:m})]})}const Efe=({children:e,allowedRoles:t,fallback:n=null})=>{const{user:s}=$c();return!s||!t.includes(s.profile.role)?r.jsx(r.Fragment,{children:n}):r.jsx(r.Fragment,{children:e})},V2=({children:e,fallback:t=null})=>r.jsx(Efe,{allowedRoles:["admin"],fallback:t,children:e});function kfe(){const{clients:e,pets:t,consultations:n,vaccinations:s,antiparasitics:i,generateAccountingSummary:a}=Nt(),{settings:o}=Zt(),l=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),c=l.length===1?`Bienvenue ${l[0].title} ${l[0].name}`:`Bienvenue à ${o.clinicName}`,[u,d]=w.useState(!1),[f,m]=w.useState(!1),[g,x]=w.useState(!1),[v,y]=w.useState(!1),N=e.length,b=t.length,j=s.length,_=i.length,C=new Date().toISOString().split("T")[0],A=n.filter(O=>O.date===C).length,P=new Date().getMonth(),E=new Date().getFullYear(),M=new Date(E,P,1).toISOString().split("T")[0],$=new Date(E,P+1,0).toISOString().split("T")[0],T=a(`${E}-${String(P+1).padStart(2,"0")}`,M,$);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"relative overflow-hidden gradient-hero rounded-2xl p-8 mb-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-8",children:[o.logo&&r.jsx("img",{src:o.logo,alt:"Logo clinique",className:"h-20 w-20 object-contain rounded"}),r.jsxs("div",{className:"flex-1 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-sm font-medium text-primary",children:"Gestion Vétérinaire Complète"})]}),r.jsxs("h1",{className:"text-4xl font-bold leading-tight max-w-3xl",children:[c,", ",r.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"Dashboard VetPro"})]}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl",children:"Gérez efficacement vos clients, leurs animaux, les rendez-vous et consultations. Votre pratique vétérinaire optimisée en un seul endroit."}),r.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[r.jsxs(V,{size:"lg",className:"gap-2 medical-glow",onClick:()=>d(!0),children:[r.jsx(Ia,{className:"h-5 w-5"}),"Nouveau Client",r.jsx(HC,{className:"h-4 w-4"})]}),r.jsxs(V,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>x(!0),children:[r.jsx(Wt,{className:"h-5 w-5"}),"Nouvel Animal"]}),r.jsxs(V,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>m(!0),children:[r.jsx(Dt,{className:"h-5 w-5"}),"Planifier RDV"]}),r.jsxs(V,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>y(!0),children:[r.jsx(jr,{className:"h-5 w-5"}),"Nouvelle Consultation"]})]}),r.jsxs("div",{className:"flex gap-6 pt-8 flex-wrap",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:N}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Clients actifs"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-secondary",children:b}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Animaux suivis"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-accent",children:A}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Consultations aujourd'hui"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Vaccinations"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:_}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Antiparasitaires"})]}),r.jsx(V2,{children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[T.totalRevenue.toFixed(0)," ",o.currency||"€"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Revenus ce mois"})]})})]})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsx("img",{src:oz,alt:"Vétérinaire professionnel examinant un chien",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})}),r.jsx(yv,{open:u,onOpenChange:d}),r.jsx(CV,{open:f,onOpenChange:m}),r.jsx(jv,{open:g,onOpenChange:x}),r.jsx(tm,{open:v,onOpenChange:y})]})}function Tfe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,vaccinations:o,antiparasitics:l,stockItems:c,stockMovements:u,accountingEntries:d,getUpcomingAppointments:f,getOverdueAppointments:m,generateAccountingSummary:g}=Nt(),{settings:x}=Zt(),v=e.length,y=t.length;n.length,s.length,i.length;const N=a.length,b=o.length,j=l.length,_=c.length,C=new Date().getMonth(),A=new Date().getFullYear(),P=n.filter(z=>{const Y=new Date(z.date);return Y.getMonth()===C&&Y.getFullYear()===A}).length,E=o.filter(z=>{const Y=new Date(z.dateGiven);return Y.getMonth()===C&&Y.getFullYear()===A}).length,M=l.filter(z=>{const Y=new Date(z.dateGiven);return Y.getMonth()===C&&Y.getFullYear()===A}).length,$=new Date().toISOString().split("T")[0],T=n.filter(z=>z.date===$).length,O=s.filter(z=>z.date===$&&z.status!=="cancelled"&&z.status!=="completed").length,L=f();m();const B=c.filter(z=>z.currentStock<=z.minimumStock).length,Z=c.filter(z=>z.currentStock===0).length;c.reduce((z,Y)=>z+Y.currentStock*Y.purchasePrice,0);const H=new Date(A,C,1).toISOString().split("T")[0],ae=new Date(A,C+1,0).toISOString().split("T")[0],X=g(`${A}-${String(C+1).padStart(2,"0")}`,H,ae),D=X.totalRevenue;X.totalExpenses;const ie=X.netIncome,me=(z,Y)=>{if(Y===0)return z>0?"+100%":"0%";const ee=(z-Y)/Y*100;return ee>=0?`+${Math.round(ee)}%`:`${Math.round(ee)}%`},te=C===0?11:C-1,J=C===0?A-1:A,ne=n.filter(z=>{const Y=new Date(z.date);return Y.getMonth()===te&&Y.getFullYear()===J}).length,ve=e.filter(z=>{const Y=new Date(z.lastVisit);return Y.getMonth()===te&&Y.getFullYear()===J}).length,ye=t.filter(z=>{if(!z.lastVisit)return!1;const Y=new Date(z.lastVisit);return Y.getMonth()===te&&Y.getFullYear()===J}).length;s.filter(z=>{const Y=new Date(z.date);return Y.getMonth()===te&&Y.getFullYear()===J}).length;const be=[{title:"Clients Total",value:v.toString(),change:me(v,ve),icon:Ia,color:"text-blue-600",bgColor:"bg-blue-50",description:`${v>0?Math.round(v/10):0} nouveaux ce mois`},{title:"Animaux Suivis",value:y.toString(),change:me(y,ye),icon:Wt,color:"text-red-600",bgColor:"bg-red-50",description:`${y>0?Math.round(y/8):0} nouveaux ce mois`},{title:"RDV Aujourd'hui",value:O.toString(),change:O>0?"+"+Math.min(20,Math.floor(O*.3))+"%":"0%",icon:Dt,color:"text-purple-600",bgColor:"bg-purple-50",description:`${L.length} à venir cette semaine`},{title:"Consultations",value:P.toString(),change:me(P,ne),icon:jr,color:"text-green-600",bgColor:"bg-green-50",description:`${T} aujourd'hui`},{title:"Revenus Réels",value:`${D.toFixed(0)} ${x.currency||"€"}`,change:D>0?"+"+Math.round(D/1e3*10)+"%":"0%",icon:zf,color:"text-emerald-600",bgColor:"bg-emerald-50",description:`Bénéfice: ${ie.toFixed(0)} ${x.currency||"€"}`},{title:"Activité Ferme",value:N.toString(),change:N>0?"+"+Math.min(15,Math.floor(N*.2))+"%":"0%",icon:Ma,color:"text-orange-600",bgColor:"bg-orange-50",description:`${N} exploitations actives`},{title:"Vaccinations",value:E.toString(),change:E>0?"+"+Math.min(25,Math.floor(E*.3))+"%":"0%",icon:Ts,color:"text-blue-600",bgColor:"bg-blue-50",description:`${b} total ce mois`},{title:"Antiparasitaires",value:M.toString(),change:M>0?"+"+Math.min(20,Math.floor(M*.25))+"%":"0%",icon:wi,color:"text-purple-600",bgColor:"bg-purple-50",description:`${j} total ce mois`},{title:"Stock",value:_.toString(),change:B>0?"-"+Math.min(15,Math.floor(B*.2))+"%":"0%",icon:B>0?Vn:Wn,color:B>0?"text-red-600":"text-green-600",bgColor:B>0?"bg-red-50":"bg-green-50",description:`${B} en rupture, ${Z} épuisés`}];return r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:be.map(z=>r.jsxs(de,{className:"card-hover",children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Pe,{className:"text-sm font-medium text-muted-foreground",children:z.title}),r.jsx("div",{className:`p-2 rounded-lg ${z.bgColor}`,children:r.jsx(z.icon,{className:`h-4 w-4 ${z.color}`})})]}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold",children:z.value}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r.jsx("span",{className:"text-secondary font-medium",children:z.change})," vs mois dernier"]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:z.description})]})]},z.title))})}function Ofe({open:e,onOpenChange:t,client:n,onEdit:s}){return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[600px]",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Profil Client"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{className:"h-20 w-20",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-xl",children:n.name.split(" ").map(i=>i[0]).join("")})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Vf,{className:"h-3 w-3"}),n.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),n.phone]})]})]})]}),n.address&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Adresse"}),r.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground",children:[r.jsx(ud,{className:"h-4 w-4 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{children:n.address}),r.jsxs("p",{children:[n.postalCode," ",n.city]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[r.jsx(Wt,{className:"h-4 w-4 text-primary"}),"Animaux (",n.pets.length,")"]}),n.pets.length>0?r.jsx("div",{className:"space-y-2",children:n.pets.map((i,a)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:i.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.type," • ",i.breed]})]}),r.jsx($e,{variant:"outline",children:i.status==="healthy"?"En bonne santé":i.status==="treatment"?"En traitement":"Urgent"})]},a))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucun animal enregistré"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernière visite:"}),r.jsx("p",{children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Total visites:"}),r.jsx("p",{children:n.totalVisits})]})]}),n.notes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Notes"}),r.jsx("p",{className:"text-muted-foreground",children:n.notes})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{onClick:s,className:"gap-2",children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})]})]})]})}):null}function Dfe({open:e,onOpenChange:t,client:n}){const{updateClient:s}=Nt(),{toast:i}=$t(),[a,o]=w.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",idNumber:"",notes:""});w.useEffect(()=>{n&&o({firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,address:n.address||"",city:n.city||"",postalCode:n.postalCode||"",idNumber:n.idNumber||"",notes:n.notes||""})},[n]);const l=u=>{o(d=>({...d,[u.target.id]:u.target.value}))},c=u=>{u.preventDefault(),n&&(s(n.id,a),i({title:"Client modifié",description:`Les informations de ${a.firstName} ${a.lastName} ont été mises à jour.`}),t(!1))};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[500px]",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Modifier Client"})}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"firstName",children:"Prénom *"}),r.jsx(se,{id:"firstName",value:a.firstName,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"lastName",children:"Nom *"}),r.jsx(se,{id:"lastName",value:a.lastName,onChange:l,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:a.email,onChange:l})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"phone",children:"Téléphone *"}),r.jsx(se,{id:"phone",value:a.phone,onChange:l,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"address",children:"Adresse"}),r.jsx(se,{id:"address",value:a.address,onChange:l})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"city",children:"Ville"}),r.jsx(se,{id:"city",value:a.city,onChange:l})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"postalCode",children:"Code postal"}),r.jsx(se,{id:"postalCode",value:a.postalCode,onChange:l})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"idNumber",children:"N° pièce d'identité"}),r.jsx(se,{id:"idNumber",value:a.idNumber,onChange:l,placeholder:"Numéro de carte d'identité, passeport, etc."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",value:a.notes,onChange:l,placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}function Mfe(){const{clients:e,pets:t,consultations:n,appointments:s}=Nt();Zt();const[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),g=[...e].sort((P,E)=>new Date(E.lastVisit).getTime()-new Date(P.lastVisit).getTime()).slice(0,5),x=e.length,v=e.filter(P=>{const E=new Date(P.lastVisit),M=new Date;return M.setDate(M.getDate()-30),E>=M}).length,y=e.filter(P=>{const E=new Date(P.lastVisit),M=new Date().getMonth(),$=new Date().getFullYear();return E.getMonth()===M&&E.getFullYear()===$}).length,N=x>0?(t.length/x).toFixed(1):"0",b=P=>{f(P),l(!0)},j=P=>{f(P),u(!0)},_=()=>{l(!1),u(!0)},C=P=>{const E=new Date(P),$=Math.abs(new Date().getTime()-E.getTime()),T=Math.ceil($/(1e3*60*60*24));return T===0?"Aujourd'hui":T===1?"Hier":T<7?`Il y a ${T} jours`:T<30?`Il y a ${Math.floor(T/7)} semaine${Math.floor(T/7)>1?"s":""}`:`Il y a ${Math.floor(T/30)} mois`},A=P=>{const E=t.filter(T=>T.ownerId===P.id),M=n.filter(T=>T.clientId===P.id),$=s.filter(T=>T.clientId===P.id);return{pets:E.length,consultations:M.length,appointments:$.length,lastActivity:M.length>0?Math.max(...M.map(T=>new Date(T.date).getTime())):new Date(P.lastVisit).getTime()}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{className:"card-hover",children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Pe,{className:"text-lg font-semibold",children:"Clients Récents"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ia,{className:"h-3 w-3"}),r.jsxs("span",{children:[x," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ma,{className:"h-3 w-3"}),r.jsxs("span",{children:[v," actifs"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(gr,{className:"h-3 w-3"}),r.jsxs("span",{children:["+",y," ce mois"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Kn,{className:"h-3 w-3"}),r.jsxs("span",{children:["Ø ",N," animaux"]})]})]})]}),r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>a(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau Client"]})]}),r.jsx(he,{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Ia,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun client enregistré"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier client"})]}):g.map(P=>{const E=A(P);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{children:r.jsx(Kr,{className:"bg-primary text-primary-foreground",children:P.name.split(" ").map(M=>M[0]).join("")})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium",children:P.name}),r.jsxs($e,{variant:"outline",className:"text-xs",children:[E.pets," animal",E.pets>1?"s":""]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Vf,{className:"h-3 w-3"}),P.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),P.phone]}),P.city&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ud,{className:"h-3 w-3"}),P.city]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Dernière visite: ",C(P.lastVisit)]}),r.jsxs("span",{children:["Total visites: ",P.totalVisits]}),r.jsxs("span",{children:["Consultations: ",E.consultations]}),r.jsxs("span",{children:["RDV: ",E.appointments]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>b(P),children:[r.jsx(Ir,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>j(P),children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})]})]},P.id)})})]}),r.jsx(yv,{open:i,onOpenChange:a}),r.jsx(Ofe,{open:o,onOpenChange:l,client:d,onEdit:_}),r.jsx(Dfe,{open:c,onOpenChange:u,client:d})]})}function _V({open:e,onOpenChange:t,pet:n,onEdit:s,onShowDossier:i}){const{updatePet:a}=Nt(),[o,l]=w.useState(null);w.useEffect(()=>{e&&l((n==null?void 0:n.photo)||null)},[e,n]);const c=w.useRef(null),u=d=>{var m;const f=(m=d.target.files)==null?void 0:m[0];if(f){const g=new FileReader;g.onload=x=>{var y;const v=(y=x.target)==null?void 0:y.result;l(v),a(n.id,{photo:v})},g.readAsDataURL(f)}};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Profil Animal"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(Gr,{className:"h-24 w-24",children:o?r.jsx(ll,{src:o,alt:n.name,className:"h-full w-full object-cover rounded-full"}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Wt,{className:"h-12 w-12"})})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2 w-full flex items-center justify-center",onClick:()=>{var d;return(d=c.current)==null?void 0:d.click()},children:[r.jsx(ef,{className:"h-4 w-4"}),o?"Changer photo":"Ajouter photo"]}),o&&r.jsx(V,{size:"sm",variant:"destructive",className:"gap-2 w-full",onClick:()=>{l(null),a(n.id,{photo:void 0})},children:"Supprimer photo"}),r.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:u,className:"hidden"})]})]}),r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),r.jsx($e,{variant:"outline",className:n.status==="healthy"?"bg-secondary text-secondary-foreground":n.status==="treatment"?"bg-accent text-accent-foreground":"bg-destructive text-destructive-foreground",children:n.status==="healthy"?"En bonne santé":n.status==="treatment"?"En traitement":"Urgent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"}),r.jsx("p",{className:"text-muted-foreground",children:n.type})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"}),r.jsx("p",{className:"text-muted-foreground",children:n.breed||"Non spécifiée"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"}),r.jsx("p",{className:"text-muted-foreground",children:n.birthDate?r.jsxs(r.Fragment,{children:[nf(n.birthDate),r.jsx("br",{}),r.jsxs("span",{className:"text-xs",children:["Né(e) le ",ho(n.birthDate)]})]}):"Non spécifié"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"}),r.jsx("p",{className:"text-muted-foreground",children:n.weight||"Non spécifié"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"}),r.jsx("p",{className:"text-muted-foreground",children:n.color||"Non spécifiée"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Propriétaire:"}),r.jsx("p",{className:"text-muted-foreground",children:n.owner})]})]}),n.microchip&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Puce électronique:"}),r.jsx("p",{className:"text-muted-foreground font-mono",children:n.microchip})]})]}),r.jsxs("div",{className:"space-y-4",children:[n.lastVisit&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernière visite:"}),r.jsx("p",{className:"text-muted-foreground",children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]})]}),n.nextAppointment&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Prochain RDV:"}),r.jsx("p",{className:"text-muted-foreground",children:new Date(n.nextAppointment).toLocaleDateString("fr-FR")})]})]})]})]}),n.vaccinations&&n.vaccinations.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Vaccinations"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:n.vaccinations.map((d,f)=>r.jsx($e,{variant:"outline",children:d},f))})]}),n.medicalNotes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Notes médicales"}),r.jsx("p",{className:"text-muted-foreground p-3 bg-muted/30 rounded-lg",children:n.medicalNotes})]}),r.jsxs("div",{className:"flex justify-between gap-2 pt-4 border-t",children:[r.jsxs(V,{variant:"outline",onClick:i,className:"gap-2",children:[r.jsx(cr,{className:"h-4 w-4"}),"Voir Dossier Médical"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{onClick:s,className:"gap-2",children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})]})]})]})]})}):null}function Ife({open:e,onOpenChange:t,pet:n}){const{updatePet:s,clients:i}=Nt(),{settings:a}=Zt(),{toast:o}=$t(),[l,c]=w.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:0,microchip:"",medicalNotes:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""});w.useEffect(()=>{n&&c({name:n.name,type:n.type,breed:n.breed||"",gender:n.gender||"",birthDate:n.birthDate||"",weight:n.weight||"",color:n.color||"",ownerId:n.ownerId,microchip:n.microchip||"",medicalNotes:n.medicalNotes||"",status:n.status,hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""})},[n]);const u=m=>{c(g=>({...g,[m.target.id]:m.target.value}))},d=(m,g)=>{c(x=>({...x,[m]:m==="ownerId"?parseInt(g):g}))},f=m=>{if(m.preventDefault(),!n)return;const g=i.find(x=>x.id===l.ownerId);s(n.id,{...l,owner:(g==null?void 0:g.name)||n.owner}),o({title:"Animal modifié",description:`Les informations de ${l.name} ont été mises à jour.`}),t(!1)};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Modifier Animal"})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"name",children:"Nom de l'animal *"}),r.jsx(se,{id:"name",value:l.name,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Type d'animal *"}),r.jsxs(Me,{value:l.type,onValueChange:m=>d("type",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsx(De,{children:a.species?a.species.split(",").map((m,g)=>{const x=m.trim();return x?r.jsx(W,{value:x,children:x},g):null}).filter(Boolean):r.jsx(W,{value:"Chien",children:"Chien"})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"breed",children:"Race"}),r.jsx(se,{id:"breed",value:l.breed,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Sexe"}),r.jsxs(Me,{value:l.gender,onValueChange:m=>d("gender",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le sexe"})}),r.jsxs(De,{children:[r.jsx(W,{value:"male",children:"Mâle"}),r.jsx(W,{value:"female",children:"Femelle"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"birthDate",children:"Date de naissance"}),r.jsx(se,{id:"birthDate",type:"date",value:l.birthDate,onChange:u,max:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(se,{id:"weight",value:l.weight,onChange:u})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"color",children:"Couleur"}),r.jsx(se,{id:"color",value:l.color,onChange:u})]}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Propriétaire *"}),r.jsxs(Me,{value:l.ownerId.toString(),onValueChange:m=>d("ownerId",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsx(De,{children:i.map(m=>r.jsx(W,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Statut de santé"}),r.jsxs(Me,{value:l.status,onValueChange:m=>d("status",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"healthy",children:"En bonne santé"}),r.jsx(W,{value:"treatment",children:"En traitement"}),r.jsx(W,{value:"urgent",children:"Urgent"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"microchip",children:"Numéro de puce électronique"}),r.jsx(se,{id:"microchip",value:l.microchip,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"medicalNotes",children:"Notes médicales"}),r.jsx(wt,{id:"medicalNotes",value:l.medicalNotes,onChange:u,placeholder:"Allergies, conditions médicales, notes importantes..."})]}),r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xi,{id:"hasPedigree",checked:l.hasPedigree,onCheckedChange:m=>c(g=>({...g,hasPedigree:m}))}),r.jsx(F,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),l.hasPedigree&&r.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(se,{id:"officialName",value:l.officialName,onChange:u,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),r.jsx(se,{id:"pedigreeNumber",value:l.pedigreeNumber,onChange:u,placeholder:"Numéro de pedigree"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"breeder",children:"Éleveur"}),r.jsx(se,{id:"breeder",value:l.breeder,onChange:u,placeholder:"Nom de l'éleveur"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Père"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom du père",value:l.fatherName,onChange:u}),r.jsx(se,{placeholder:"N° pedigree du père",value:l.fatherPedigree,onChange:u}),r.jsx(se,{placeholder:"Race du père",value:l.fatherBreed,onChange:u}),r.jsx(wt,{placeholder:"Titres du père",value:l.fatherTitles,onChange:u,rows:2})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom de la mère",value:l.motherName,onChange:u}),r.jsx(se,{placeholder:"N° pedigree de la mère",value:l.motherPedigree,onChange:u}),r.jsx(se,{placeholder:"Race de la mère",value:l.motherBreed,onChange:u}),r.jsx(wt,{placeholder:"Titres de la mère",value:l.motherTitles,onChange:u,rows:2})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Document pedigree"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,pedigreePhoto:x.result})),x.readAsDataURL(g)}}),l.pedigreePhoto&&r.jsx("img",{src:l.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}var Bb="Tabs",[$fe,Y6e]=ni(Bb,[Nb]),PV=Nb(),[Rfe,yE]=$fe(Bb),AV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=bb(l),[f,m]=vo({prop:s,onChange:i,defaultProp:a??"",caller:Bb});return r.jsx(Rfe,{scope:n,baseId:rs(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:r.jsx(st.div,{dir:d,"data-orientation":o,...u,ref:t})})});AV.displayName=Bb;var EV="TabsList",kV=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,a=yE(EV,n),o=PV(n);return r.jsx(f8,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(st.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});kV.displayName=EV;var TV="TabsTrigger",OV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...a}=e,o=yE(TV,n),l=PV(n),c=IV(o.baseId,s),u=$V(o.baseId,s),d=s===o.value;return r.jsx(m8,{asChild:!0,...l,focusable:!i,active:d,children:r.jsx(st.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:He(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:He(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:He(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(s)})})})});OV.displayName=TV;var DV="TabsContent",MV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:a,...o}=e,l=yE(DV,n),c=IV(l.baseId,s),u=$V(l.baseId,s),d=s===l.value,f=w.useRef(d);return w.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(ri,{present:i||d,children:({present:m})=>r.jsx(st.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});MV.displayName=DV;function IV(e,t){return`${e}-trigger-${t}`}function $V(e,t){return`${e}-content-${t}`}var Lfe=AV,RV=kV,LV=OV,FV=MV;const pl=Lfe,bo=w.forwardRef(({className:e,...t},n)=>r.jsx(RV,{ref:n,className:Ze("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));bo.displayName=RV.displayName;const ln=w.forwardRef(({className:e,...t},n)=>r.jsx(LV,{ref:n,className:Ze("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ln.displayName=LV.displayName;const cn=w.forwardRef(({className:e,...t},n)=>r.jsx(FV,{ref:n,className:Ze("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));cn.displayName=FV.displayName;function na(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function _c(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function BV(e,t){const n=na(e);return isNaN(t)?_c(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const zV=6048e5,Ffe=864e5;let Bfe={};function zb(){return Bfe}function fg(e,t){var l,c,u,d;const n=zb(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=na(e),a=i.getDay(),o=(a<s?7:0)+a-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function I0(e){return fg(e,{weekStartsOn:1})}function VV(e){const t=na(e),n=t.getFullYear(),s=_c(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=I0(s),a=_c(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=I0(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function $0(e){const t=na(e);return t.setHours(0,0,0,0),t}function AI(e){const t=na(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function zfe(e,t){const n=$0(e),s=$0(t),i=+n-AI(n),a=+s-AI(s);return Math.round((i-a)/Ffe)}function Vfe(e){const t=VV(e),n=_c(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),I0(n)}function Ufe(e,t){const n=$0(e),s=$0(t);return+n==+s}function qfe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Wfe(e){if(!qfe(e)&&typeof e!="number")return!1;const t=na(e);return!isNaN(Number(t))}function Hfe(e){const t=na(e),n=_c(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Gfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Kfe=(e,t,n)=>{let s;const i=Gfe[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function kh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Yfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jfe={date:kh({formats:Yfe,defaultWidth:"full"}),time:kh({formats:Qfe,defaultWidth:"full"}),dateTime:kh({formats:Xfe,defaultWidth:"full"})},Zfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eme=(e,t,n,s)=>Zfe[e];function ro(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const tme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ime={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ame={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ome=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lme={ordinalNumber:ome,era:ro({values:tme,defaultWidth:"wide"}),quarter:ro({values:nme,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ro({values:rme,defaultWidth:"wide"}),day:ro({values:sme,defaultWidth:"wide"}),dayPeriod:ro({values:ime,defaultWidth:"wide",formattingValues:ame,defaultFormattingWidth:"wide"})};function so(e){return(t,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ume(l,f=>f.test(o)):cme(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function cme(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function ume(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function UV(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const dme=/^(\d+)(th|st|nd|rd)?/i,hme=/\d+/i,fme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mme={any:[/^b/i,/^(a|c)/i]},pme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gme={any:[/1/i,/2/i,/3/i,/4/i]},vme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nme={ordinalNumber:UV({matchPattern:dme,parsePattern:hme,valueCallback:e=>parseInt(e,10)}),era:so({matchPatterns:fme,defaultMatchWidth:"wide",parsePatterns:mme,defaultParseWidth:"any"}),quarter:so({matchPatterns:pme,defaultMatchWidth:"wide",parsePatterns:gme,defaultParseWidth:"any",valueCallback:e=>e+1}),month:so({matchPatterns:vme,defaultMatchWidth:"wide",parsePatterns:xme,defaultParseWidth:"any"}),day:so({matchPatterns:yme,defaultMatchWidth:"wide",parsePatterns:jme,defaultParseWidth:"any"}),dayPeriod:so({matchPatterns:bme,defaultMatchWidth:"any",parsePatterns:wme,defaultParseWidth:"any"})},Sme={code:"en-US",formatDistance:Kfe,formatLong:Jfe,formatRelative:eme,localize:lme,match:Nme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Cme(e){const t=na(e);return zfe(t,Hfe(t))+1}function _me(e){const t=na(e),n=+I0(t)-+Vfe(t);return Math.round(n/zV)+1}function qV(e,t){var d,f,m,g;const n=na(e),s=n.getFullYear(),i=zb(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=_c(e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=fg(o,t),c=_c(e,0);c.setFullYear(s,0,a),c.setHours(0,0,0,0);const u=fg(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function Pme(e,t){var l,c,u,d;const n=zb(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=qV(e,t),a=_c(e,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),fg(a,t)}function Ame(e,t){const n=na(e),s=+fg(n,t)-+Pme(n,t);return Math.round(s/zV)+1}function yn(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const Ml={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return yn(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):yn(n+1,2)},d(e,t){return yn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return yn(e.getHours()%12||12,t.length)},H(e,t){return yn(e.getHours(),t.length)},m(e,t){return yn(e.getMinutes(),t.length)},s(e,t){return yn(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return yn(i,t.length)}},Gd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},EI={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return Ml.y(e,t)},Y:function(e,t,n,s){const i=qV(e,s),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return yn(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):yn(a,t.length)},R:function(e,t){const n=VV(e);return yn(n,t.length)},u:function(e,t){const n=e.getFullYear();return yn(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return yn(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return yn(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Ml.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return yn(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const i=Ame(e,s);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):yn(i,t.length)},I:function(e,t,n){const s=_me(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):yn(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ml.d(e,t)},D:function(e,t,n){const s=Cme(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):yn(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return yn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return yn(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return yn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let i;switch(s===12?i=Gd.noon:s===0?i=Gd.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let i;switch(s>=17?i=Gd.evening:s>=12?i=Gd.afternoon:s>=4?i=Gd.morning:i=Gd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ml.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ml.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):yn(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):yn(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ml.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ml.s(e,t)},S:function(e,t){return Ml.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return TI(s);case"XXXX":case"XX":return lu(s);case"XXXXX":case"XXX":default:return lu(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return TI(s);case"xxxx":case"xx":return lu(s);case"xxxxx":case"xxx":default:return lu(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+kI(s,":");case"OOOO":default:return"GMT"+lu(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+kI(s,":");case"zzzz":default:return"GMT"+lu(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return yn(s,t.length)},T:function(e,t,n){const s=e.getTime();return yn(s,t.length)}};function kI(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),a=s%60;return a===0?n+String(i):n+String(i)+t+yn(a,2)}function TI(e,t){return e%60===0?(e>0?"-":"+")+yn(Math.abs(e)/60,2):lu(e,t)}function lu(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=yn(Math.trunc(s/60),2),a=yn(s%60,2);return n+i+t+a}const OI=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},WV=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Eme=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return OI(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",OI(s,t)).replace("{{time}}",WV(i,t))},kme={p:WV,P:Eme},Tme=/^D+$/,Ome=/^Y+$/,Dme=["D","DD","YY","YYYY"];function Mme(e){return Tme.test(e)}function Ime(e){return Ome.test(e)}function $me(e,t,n){const s=Rme(e,t,n);if(console.warn(s),Dme.includes(e))throw new RangeError(s)}function Rme(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Lme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bme=/^'([^]*?)'?$/,zme=/''/g,Vme=/[a-zA-Z]/;function It(e,t,n){var d,f,m,g,x,v,y,N;const s=zb(),i=(n==null?void 0:n.locale)??s.locale??Sme,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((N=(y=s.locale)==null?void 0:y.options)==null?void 0:N.weekStartsOn)??0,l=na(e);if(!Wfe(l))throw new RangeError("Invalid time value");let c=t.match(Fme).map(b=>{const j=b[0];if(j==="p"||j==="P"){const _=kme[j];return _(b,i.formatLong)}return b}).join("").match(Lme).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const j=b[0];if(j==="'")return{isToken:!1,value:Ume(b)};if(EI[j])return{isToken:!0,value:b};if(j.match(Vme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(b=>{if(!b.isToken)return b.value;const j=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Ime(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Mme(j))&&$me(j,t,String(e));const _=EI[j[0]];return _(l,j,i.localize,u)}).join("")}function Ume(e){const t=e.match(Bme);return t?t[1].replace(zme,"'"):e}var DI=1,qme=.9,Wme=.8,Hme=.17,vS=.1,xS=.999,Gme=.9999,Kme=.99,Yme=/[\\\/_+.#"@\[\(\{&]/,Qme=/[\\\/_+.#"@\[\(\{&]/g,Xme=/[\s-]/,HV=/[\s-]/g;function U2(e,t,n,s,i,a,o){if(a===t.length)return i===e.length?DI:Kme;var l=`${i},${a}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(a),u=n.indexOf(c,i),d=0,f,m,g,x;u>=0;)f=U2(e,t,n,s,u+1,a+1,o),f>d&&(u===i?f*=DI:Yme.test(e.charAt(u-1))?(f*=Wme,g=e.slice(i,u-1).match(Qme),g&&i>0&&(f*=Math.pow(xS,g.length))):Xme.test(e.charAt(u-1))?(f*=qme,x=e.slice(i,u-1).match(HV),x&&i>0&&(f*=Math.pow(xS,x.length))):(f*=Hme,i>0&&(f*=Math.pow(xS,u-i))),e.charAt(u)!==t.charAt(a)&&(f*=Gme)),(f<vS&&n.charAt(u-1)===s.charAt(a+1)||s.charAt(a+1)===s.charAt(a)&&n.charAt(u-1)!==s.charAt(a))&&(m=U2(e,t,n,s,u+1,a+2,o),m*vS>f&&(f=m*vS)),f>d&&(d=f),u=n.indexOf(c,u+1);return o[l]=d,d}function MI(e){return e.toLowerCase().replace(HV," ")}function Jme(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,U2(e,t,MI(e),MI(t),0,0,{})}var Zm='[cmdk-group=""]',yS='[cmdk-group-items=""]',Zme='[cmdk-group-heading=""]',GV='[cmdk-item=""]',II=`${GV}:not([aria-disabled="true"])`,q2="cmdk-item-select",eh="data-value",epe=(e,t,n)=>Jme(e,t,n),KV=w.createContext(void 0),bv=()=>w.useContext(KV),YV=w.createContext(void 0),jE=()=>w.useContext(YV),QV=w.createContext(void 0),XV=w.forwardRef((e,t)=>{let n=th(()=>{var te,J;return{search:"",value:(J=(te=e.value)!=null?te:e.defaultValue)!=null?J:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=th(()=>new Set),i=th(()=>new Map),a=th(()=>new Map),o=th(()=>new Set),l=JV(e),{label:c,children:u,value:d,onValueChange:f,filter:m,shouldFilter:g,loop:x,disablePointerSelection:v=!1,vimBindings:y=!0,...N}=e,b=rs(),j=rs(),_=rs(),C=w.useRef(null),A=dpe();Qu(()=>{if(d!==void 0){let te=d.trim();n.current.value=te,P.emit()}},[d]),Qu(()=>{A(6,L)},[]);let P=w.useMemo(()=>({subscribe:te=>(o.current.add(te),()=>o.current.delete(te)),snapshot:()=>n.current,setState:(te,J,ne)=>{var ve,ye,be,z;if(!Object.is(n.current[te],J)){if(n.current[te]=J,te==="search")O(),$(),A(1,T);else if(te==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Y=document.getElementById(_);Y?Y.focus():(ve=document.getElementById(b))==null||ve.focus()}if(A(7,()=>{var Y;n.current.selectedItemId=(Y=B())==null?void 0:Y.id,P.emit()}),ne||A(5,L),((ye=l.current)==null?void 0:ye.value)!==void 0){let Y=J??"";(z=(be=l.current).onValueChange)==null||z.call(be,Y);return}}P.emit()}},emit:()=>{o.current.forEach(te=>te())}}),[]),E=w.useMemo(()=>({value:(te,J,ne)=>{var ve;J!==((ve=a.current.get(te))==null?void 0:ve.value)&&(a.current.set(te,{value:J,keywords:ne}),n.current.filtered.items.set(te,M(J,ne)),A(2,()=>{$(),P.emit()}))},item:(te,J)=>(s.current.add(te),J&&(i.current.has(J)?i.current.get(J).add(te):i.current.set(J,new Set([te]))),A(3,()=>{O(),$(),n.current.value||T(),P.emit()}),()=>{a.current.delete(te),s.current.delete(te),n.current.filtered.items.delete(te);let ne=B();A(4,()=>{O(),(ne==null?void 0:ne.getAttribute("id"))===te&&T(),P.emit()})}),group:te=>(i.current.has(te)||i.current.set(te,new Set),()=>{a.current.delete(te),i.current.delete(te)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:b,inputId:_,labelId:j,listInnerRef:C}),[]);function M(te,J){var ne,ve;let ye=(ve=(ne=l.current)==null?void 0:ne.filter)!=null?ve:epe;return te?ye(te,n.current.search,J):0}function $(){if(!n.current.search||l.current.shouldFilter===!1)return;let te=n.current.filtered.items,J=[];n.current.filtered.groups.forEach(ve=>{let ye=i.current.get(ve),be=0;ye.forEach(z=>{let Y=te.get(z);be=Math.max(Y,be)}),J.push([ve,be])});let ne=C.current;Z().sort((ve,ye)=>{var be,z;let Y=ve.getAttribute("id"),ee=ye.getAttribute("id");return((be=te.get(ee))!=null?be:0)-((z=te.get(Y))!=null?z:0)}).forEach(ve=>{let ye=ve.closest(yS);ye?ye.appendChild(ve.parentElement===ye?ve:ve.closest(`${yS} > *`)):ne.appendChild(ve.parentElement===ne?ve:ve.closest(`${yS} > *`))}),J.sort((ve,ye)=>ye[1]-ve[1]).forEach(ve=>{var ye;let be=(ye=C.current)==null?void 0:ye.querySelector(`${Zm}[${eh}="${encodeURIComponent(ve[0])}"]`);be==null||be.parentElement.appendChild(be)})}function T(){let te=Z().find(ne=>ne.getAttribute("aria-disabled")!=="true"),J=te==null?void 0:te.getAttribute(eh);P.setState("value",J||void 0)}function O(){var te,J,ne,ve;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let ye=0;for(let be of s.current){let z=(J=(te=a.current.get(be))==null?void 0:te.value)!=null?J:"",Y=(ve=(ne=a.current.get(be))==null?void 0:ne.keywords)!=null?ve:[],ee=M(z,Y);n.current.filtered.items.set(be,ee),ee>0&&ye++}for(let[be,z]of i.current)for(let Y of z)if(n.current.filtered.items.get(Y)>0){n.current.filtered.groups.add(be);break}n.current.filtered.count=ye}function L(){var te,J,ne;let ve=B();ve&&(((te=ve.parentElement)==null?void 0:te.firstChild)===ve&&((ne=(J=ve.closest(Zm))==null?void 0:J.querySelector(Zme))==null||ne.scrollIntoView({block:"nearest"})),ve.scrollIntoView({block:"nearest"}))}function B(){var te;return(te=C.current)==null?void 0:te.querySelector(`${GV}[aria-selected="true"]`)}function Z(){var te;return Array.from(((te=C.current)==null?void 0:te.querySelectorAll(II))||[])}function H(te){let J=Z()[te];J&&P.setState("value",J.getAttribute(eh))}function ae(te){var J;let ne=B(),ve=Z(),ye=ve.findIndex(z=>z===ne),be=ve[ye+te];(J=l.current)!=null&&J.loop&&(be=ye+te<0?ve[ve.length-1]:ye+te===ve.length?ve[0]:ve[ye+te]),be&&P.setState("value",be.getAttribute(eh))}function X(te){let J=B(),ne=J==null?void 0:J.closest(Zm),ve;for(;ne&&!ve;)ne=te>0?cpe(ne,Zm):upe(ne,Zm),ve=ne==null?void 0:ne.querySelector(II);ve?P.setState("value",ve.getAttribute(eh)):ae(te)}let D=()=>H(Z().length-1),ie=te=>{te.preventDefault(),te.metaKey?D():te.altKey?X(1):ae(1)},me=te=>{te.preventDefault(),te.metaKey?H(0):te.altKey?X(-1):ae(-1)};return w.createElement(st.div,{ref:t,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:te=>{var J;(J=N.onKeyDown)==null||J.call(N,te);let ne=te.nativeEvent.isComposing||te.keyCode===229;if(!(te.defaultPrevented||ne))switch(te.key){case"n":case"j":{y&&te.ctrlKey&&ie(te);break}case"ArrowDown":{ie(te);break}case"p":case"k":{y&&te.ctrlKey&&me(te);break}case"ArrowUp":{me(te);break}case"Home":{te.preventDefault(),H(0);break}case"End":{te.preventDefault(),D();break}case"Enter":{te.preventDefault();let ve=B();if(ve){let ye=new Event(q2);ve.dispatchEvent(ye)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:fpe},c),Vb(e,te=>w.createElement(YV.Provider,{value:P},w.createElement(KV.Provider,{value:E},te))))}),tpe=w.forwardRef((e,t)=>{var n,s;let i=rs(),a=w.useRef(null),o=w.useContext(QV),l=bv(),c=JV(e),u=(s=(n=c.current)==null?void 0:n.forceMount)!=null?s:o==null?void 0:o.forceMount;Qu(()=>{if(!u)return l.item(i,o==null?void 0:o.id)},[u]);let d=ZV(i,a,[e.value,e.children,a],e.keywords),f=jE(),m=Pc(A=>A.value&&A.value===d.current),g=Pc(A=>u||l.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);w.useEffect(()=>{let A=a.current;if(!(!A||e.disabled))return A.addEventListener(q2,x),()=>A.removeEventListener(q2,x)},[g,e.onSelect,e.disabled]);function x(){var A,P;v(),(P=(A=c.current).onSelect)==null||P.call(A,d.current)}function v(){f.setState("value",d.current,!0)}if(!g)return null;let{disabled:y,value:N,onSelect:b,forceMount:j,keywords:_,...C}=e;return w.createElement(st.div,{ref:il(a,t),...C,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!m,"data-disabled":!!y,"data-selected":!!m,onPointerMove:y||l.getDisablePointerSelection()?void 0:v,onClick:y?void 0:x},e.children)}),npe=w.forwardRef((e,t)=>{let{heading:n,children:s,forceMount:i,...a}=e,o=rs(),l=w.useRef(null),c=w.useRef(null),u=rs(),d=bv(),f=Pc(g=>i||d.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);Qu(()=>d.group(o),[]),ZV(o,l,[e.value,e.heading,c]);let m=w.useMemo(()=>({id:o,forceMount:i}),[i]);return w.createElement(st.div,{ref:il(l,t),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&w.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),Vb(e,g=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},w.createElement(QV.Provider,{value:m},g))))}),rpe=w.forwardRef((e,t)=>{let{alwaysRender:n,...s}=e,i=w.useRef(null),a=Pc(o=>!o.search);return!n&&!a?null:w.createElement(st.div,{ref:il(i,t),...s,"cmdk-separator":"",role:"separator"})}),spe=w.forwardRef((e,t)=>{let{onValueChange:n,...s}=e,i=e.value!=null,a=jE(),o=Pc(u=>u.search),l=Pc(u=>u.selectedItemId),c=bv();return w.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),w.createElement(st.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:i?e.value:o,onChange:u=>{i||a.setState("search",u.target.value),n==null||n(u.target.value)}})}),ipe=w.forwardRef((e,t)=>{let{children:n,label:s="Suggestions",...i}=e,a=w.useRef(null),o=w.useRef(null),l=Pc(u=>u.selectedItemId),c=bv();return w.useEffect(()=>{if(o.current&&a.current){let u=o.current,d=a.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let g=u.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(f),m.unobserve(u)}}},[]),w.createElement(st.div,{ref:il(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":s,id:c.listId},Vb(e,u=>w.createElement("div",{ref:il(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),ape=w.forwardRef((e,t)=>{let{open:n,onOpenChange:s,overlayClassName:i,contentClassName:a,container:o,...l}=e;return w.createElement(Sz,{open:n,onOpenChange:s},w.createElement(Cz,{container:o},w.createElement(dE,{"cmdk-overlay":"",className:i}),w.createElement(hE,{"aria-label":e.label,"cmdk-dialog":"",className:a},w.createElement(XV,{ref:t,...l}))))}),ope=w.forwardRef((e,t)=>Pc(n=>n.filtered.count===0)?w.createElement(st.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),lpe=w.forwardRef((e,t)=>{let{progress:n,children:s,label:i="Loading...",...a}=e;return w.createElement(st.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Vb(e,o=>w.createElement("div",{"aria-hidden":!0},o)))}),si=Object.assign(XV,{List:ipe,Item:tpe,Input:spe,Group:npe,Separator:rpe,Dialog:ape,Empty:ope,Loading:lpe});function cpe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function upe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function JV(e){let t=w.useRef(e);return Qu(()=>{t.current=e}),t}var Qu=typeof window>"u"?w.useEffect:w.useLayoutEffect;function th(e){let t=w.useRef();return t.current===void 0&&(t.current=e()),t}function Pc(e){let t=jE(),n=()=>e(t.snapshot());return w.useSyncExternalStore(t.subscribe,n,n)}function ZV(e,t,n,s=[]){let i=w.useRef(),a=bv();return Qu(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=s.map(u=>u.trim());a.value(e,l,c),(o=t.current)==null||o.setAttribute(eh,l),i.current=l}),i}var dpe=()=>{let[e,t]=w.useState(),n=th(()=>new Map);return Qu(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,i)=>{n.current.set(s,i),t({})}};function hpe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Vb({asChild:e,children:t},n){return e&&w.isValidElement(t)?w.cloneElement(hpe(t),{ref:t.ref},n(t.props.children)):n(t)}var fpe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const bE=w.forwardRef(({className:e,...t},n)=>r.jsx(si,{ref:n,className:Ze("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));bE.displayName=si.displayName;const wE=w.forwardRef(({className:e,...t},n)=>r.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[r.jsx(mr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx(si.Input,{ref:n,className:Ze("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));wE.displayName=si.Input.displayName;const NE=w.forwardRef(({className:e,...t},n)=>r.jsx(si.List,{ref:n,className:Ze("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));NE.displayName=si.List.displayName;const SE=w.forwardRef((e,t)=>r.jsx(si.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));SE.displayName=si.Empty.displayName;const CE=w.forwardRef(({className:e,...t},n)=>r.jsx(si.Group,{ref:n,className:Ze("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));CE.displayName=si.Group.displayName;const mpe=w.forwardRef(({className:e,...t},n)=>r.jsx(si.Separator,{ref:n,className:Ze("-mx-1 h-px bg-border",e),...t}));mpe.displayName=si.Separator.displayName;const mg=w.forwardRef(({className:e,...t},n)=>r.jsx(si.Item,{ref:n,className:Ze("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));mg.displayName=si.Item.displayName;var Ub="Popover",[eU,Q6e]=ni(Ub,[Tc]),wv=Tc(),[ppe,Bc]=eU(Ub),tU=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=wv(t),c=w.useRef(null),[u,d]=w.useState(!1),[f,m]=vo({prop:s,defaultProp:i??!1,onChange:a,caller:Ub});return r.jsx(LA,{...l,children:r.jsx(ppe,{scope:t,contentId:rs(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:o,children:n})})};tU.displayName=Ub;var nU="PopoverAnchor",gpe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Bc(nU,n),a=wv(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return w.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(cv,{...a,...s,ref:t})});gpe.displayName=nU;var rU="PopoverTrigger",sU=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Bc(rU,n),a=wv(n),o=Xt(t,i.triggerRef),l=r.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":cU(i.open),...s,ref:o,onClick:He(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:r.jsx(cv,{asChild:!0,...a,children:l})});sU.displayName=rU;var _E="PopoverPortal",[vpe,xpe]=eU(_E,{forceMount:void 0}),iU=e=>{const{__scopePopover:t,forceMount:n,children:s,container:i}=e,a=Bc(_E,t);return r.jsx(vpe,{scope:t,forceMount:n,children:r.jsx(ri,{present:n||a.open,children:r.jsx(Bf,{asChild:!0,container:i,children:s})})})};iU.displayName=_E;var cf="PopoverContent",aU=w.forwardRef((e,t)=>{const n=xpe(cf,e.__scopePopover),{forceMount:s=n.forceMount,...i}=e,a=Bc(cf,e.__scopePopover);return r.jsx(ri,{present:s||a.open,children:a.modal?r.jsx(jpe,{...i,ref:t}):r.jsx(bpe,{...i,ref:t})})});aU.displayName=cf;var ype=bc("PopoverContent.RemoveScroll"),jpe=w.forwardRef((e,t)=>{const n=Bc(cf,e.__scopePopover),s=w.useRef(null),i=Xt(t,s),a=w.useRef(!1);return w.useEffect(()=>{const o=s.current;if(o)return Sb(o)},[]),r.jsx(hv,{as:ype,allowPinchZoom:!0,children:r.jsx(oU,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:He(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),bpe=w.forwardRef((e,t)=>{const n=Bc(cf,e.__scopePopover),s=w.useRef(!1),i=w.useRef(!1);return r.jsx(oU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),oU=w.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=Bc(cf,n),g=wv(n);return wb(),r.jsx(uv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(cd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:r.jsx(gb,{"data-state":cU(m.open),role:"dialog",id:m.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),lU="PopoverClose",wpe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Bc(lU,n);return r.jsx(st.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>i.onOpenChange(!1))})});wpe.displayName=lU;var Npe="PopoverArrow",Spe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=wv(n);return r.jsx(vb,{...i,...s,ref:t})});Spe.displayName=Npe;function cU(e){return e?"open":"closed"}var Cpe=tU,_pe=sU,Ppe=iU,uU=aU;const dU=Cpe,hU=_pe,PE=w.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},i)=>r.jsx(Ppe,{children:r.jsx(uU,{ref:i,align:t,sideOffset:n,className:Ze("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));PE.displayName=uU.displayName;const Ape=[{value:"left_shoulder",label:"Épaule gauche"},{value:"right_shoulder",label:"Épaule droite"},{value:"left_hip",label:"Hanche gauche"},{value:"right_hip",label:"Hanche droite"},{value:"subcutaneous",label:"Sous-cutané"}];function R0({children:e,selectedPetId:t,selectedClientId:n,isReminder:s=!1,originalVaccinationId:i,open:a,onOpenChange:o,editingVaccination:l}){const{clients:c,pets:u,addVaccination:d,updateVaccination:f,getVaccinationProtocolsBySpecies:m,calculateDueDateFromProtocol:g,stockItems:x}=Nt(),{settings:v}=Zt(),{toast:y}=$t(),[N,b]=w.useState(!1),j=a!==void 0?a:N,_=o||b;w.useState(!1);const[C,A]=w.useState(!1),[P,E]=w.useState(!1),[M,$]=w.useState([]),[T,O]=w.useState({clientId:n||"",petId:t||"",vaccineName:"",vaccineType:"",dateGiven:It(new Date,"yyyy-MM-dd"),batchNumber:"",veterinarian:"",notes:"",cost:"",location:"",manufacturer:"",expirationDate:"",adverseReactions:""}),[L,B]=w.useState([]),Z=L||[],[H,ae]=w.useState({}),[X,D]=w.useState(null),[ie,me]=w.useState("");w.useEffect(()=>{n&&O(z=>({...z,clientId:n.toString()})),t&&O(z=>({...z,petId:t.toString()}))},[n,t]),w.useEffect(()=>{const z=x.filter(Y=>Y.category==="vaccine"&&Y.isActive&&Y.currentStock>0).sort((Y,ee)=>Y.name.localeCompare(ee.name));$(z)},[x]),w.useEffect(()=>{l&&O({clientId:l.clientId.toString(),petId:l.petId.toString(),vaccineName:l.vaccineName,vaccineType:l.vaccineType,dateGiven:l.dateGiven,nextDueDate:l.nextDueDate,batchNumber:l.batchNumber||"",veterinarian:l.veterinarian||"",notes:l.notes||"",cost:l.cost||"",location:l.location||"",manufacturer:l.manufacturer||"",injectionSite:l.injectionSite||""})},[l]),w.useEffect(()=>{if(T.vaccineName&&T.dateGiven&&T.petId){const z=u.find(Y=>Y.id===parseInt(T.petId));if(z){const Y=g(T.vaccineName,z.type,T.dateGiven);Y&&me(Y)}}},[T.vaccineName,T.dateGiven,T.petId,u,g]),w.useEffect(()=>{if(Z.length>0&&T.dateGiven){const z={};Z.forEach(Y=>{Y.intervals.forEach(ee=>{const G=`${Y.id}-${ee.offsetDays}`;z[G]=It(BV(new Date(T.dateGiven),ee.offsetDays),"yyyy-MM-dd")})}),ae(z)}else ae({})},[Z,T.dateGiven]);const te=z=>{O(Y=>({...Y,vaccineName:z.name,manufacturer:z.manufacturer||Y.manufacturer,cost:z.sellingPrice.toString()})),A(!1),E(!1)},J=()=>{E(!0),A(!1)},ne=()=>{E(!1),O(z=>({...z,vaccineName:"",manufacturer:"",cost:""}))},ve=z=>{if(z.preventDefault(),l){if(!T.clientId||!T.petId){y({title:"Erreur",description:"Client ou animal manquant",variant:"destructive"});return}}else if(!T.clientId||!T.petId||Z.length===0&&!T.vaccineName){y({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const Y=c.find(I=>I.id===parseInt(T.clientId)),ee=u.find(I=>I.id===parseInt(T.petId));if(!Y||!ee){y({title:"Erreur",description:"Client ou animal introuvable",variant:"destructive"});return}if(Z.length>0&&!l){Z.forEach(I=>{var xe,Ne;if(I.intervals&&Array.isArray(I.intervals)){let Be;const Fe=I.intervals.find(it=>it.offsetDays===0);if(Fe){const it=`${I.id}-${Fe.offsetDays}`,lt=H[it]||"";Be=d({clientId:parseInt(T.clientId),clientName:((xe=c.find(ft=>ft.id===parseInt(T.clientId)))==null?void 0:xe.name)||"",petId:parseInt(T.petId),petName:((Ne=u.find(ft=>ft.id===parseInt(T.petId)))==null?void 0:Ne.name)||"",vaccineName:`${I.name} (${Fe.label})`,vaccineType:I.vaccineType,dateGiven:T.dateGiven,nextDueDate:lt,batchNumber:T.batchNumber,veterinarian:T.veterinarian,notes:T.notes,status:"completed",cost:T.cost,location:T.location,manufacturer:I.manufacturer||T.manufacturer,expirationDate:T.expirationDate,adverseReactions:T.adverseReactions,vaccinationCategory:"new",isReminder:!1})}I.intervals.forEach(it=>{var lt,ft;if(it.offsetDays>0){const we=`${I.id}-${it.offsetDays}`,Ge=H[we]||"";d({clientId:parseInt(T.clientId),clientName:((lt=c.find(Ke=>Ke.id===parseInt(T.clientId)))==null?void 0:lt.name)||"",petId:parseInt(T.petId),petName:((ft=u.find(Ke=>Ke.id===parseInt(T.petId)))==null?void 0:ft.name)||"",vaccineName:`${I.name} (${it.label})`,vaccineType:I.vaccineType,dateGiven:Ge,nextDueDate:Ge,batchNumber:T.batchNumber,veterinarian:T.veterinarian,notes:T.notes,status:"scheduled",cost:T.cost,location:T.location,manufacturer:I.manufacturer||T.manufacturer,expirationDate:T.expirationDate,adverseReactions:T.adverseReactions,vaccinationCategory:"reminder",originalVaccinationId:Be,isReminder:!0})}})}}),y({title:"Vaccinations enregistrées",description:`${Z.length} vaccinations ajoutées.`}),B([]),_(!1);return}const G=Object.values(H).sort().pop()||ie||T.dateGiven;if(l){const I=l.vaccinationCategory==="reminder"?"rappel":"vaccination";f(l.id,{clientId:parseInt(T.clientId),clientName:Y.name,petId:parseInt(T.petId),petName:ee.name,vaccineName:T.vaccineName,vaccineType:T.vaccineType,vaccinationCategory:l.vaccinationCategory,dateGiven:T.dateGiven,nextDueDate:l.vaccinationCategory==="reminder"?T.dateGiven:G,calculatedDueDate:ie,batchNumber:T.batchNumber,veterinarian:T.veterinarian,notes:T.notes,status:l.status,cost:T.cost,location:T.location,manufacturer:T.manufacturer,expirationDate:T.expirationDate,adverseReactions:T.adverseReactions,originalVaccinationId:l.originalVaccinationId,isReminder:l.isReminder}),y({title:`${I.charAt(0).toUpperCase()+I.slice(1)} modifiée`,description:`${I.charAt(0).toUpperCase()+I.slice(1)} ${T.vaccineName} modifiée pour ${ee.name}`})}else d({clientId:parseInt(T.clientId),clientName:Y.name,petId:parseInt(T.petId),petName:ee.name,vaccineName:T.vaccineName,vaccineType:T.vaccineType,vaccinationCategory:s?"reminder":"new",dateGiven:T.dateGiven,nextDueDate:G,calculatedDueDate:ie,batchNumber:T.batchNumber,veterinarian:T.veterinarian,notes:T.notes,status:"completed",cost:T.cost,location:T.location,manufacturer:T.manufacturer,expirationDate:T.expirationDate,adverseReactions:T.adverseReactions,originalVaccinationId:s?i:void 0,isReminder:s}),y({title:"Vaccination enregistrée",description:`Vaccination ${T.vaccineName} ajoutée pour ${ee.name}`});O({clientId:(n==null?void 0:n.toString())||"",petId:(t==null?void 0:t.toString())||"",vaccineName:"",vaccineType:"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",batchNumber:"",veterinarian:"",notes:"",cost:"",location:"",manufacturer:"",expirationDate:"",adverseReactions:""}),B([]),_(!1)},ye=u.find(z=>z.id===parseInt(T.petId)),be=ye?m(ye.type):[];return r.jsxs(St,{open:j,onOpenChange:_,children:[r.jsx(Rc,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle Vaccination"]})}),r.jsxs(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(Ts,{className:"h-5 w-5"}),l?l.vaccinationCategory==="reminder"?"Modifier le Rappel":"Modifier la Vaccination":"Nouvelle Vaccination"]}),l&&l.vaccinationCategory==="reminder"&&r.jsxs("div",{className:"text-sm text-orange-600 bg-orange-50 p-2 rounded-md border border-orange-200",children:[r.jsx("strong",{children:"Mode édition de rappel :"})," Vous modifiez uniquement ce rappel spécifique. Les autres rappels de la même vaccination ne seront pas affectés."]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l&&r.jsxs("div",{className:"col-span-2 text-sm text-blue-600 bg-blue-50 p-2 rounded-md border border-blue-200",children:[r.jsx("strong",{children:"Mode édition :"})," Vous modifiez uniquement cette vaccination spécifique. Le client et l'animal sont verrouillés. Les protocoles ne sont pas affichés car ils ne s'appliquent qu'à la création."]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"clientId",children:"Client *"}),r.jsxs(Me,{value:T.clientId,onValueChange:z=>{O(Y=>({...Y,clientId:z,petId:""})),D(null)},disabled:!!l,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un client"})}),r.jsx(De,{children:c&&Array.isArray(c)&&c.length>0?c.map(z=>r.jsx(W,{value:z.id.toString(),children:z.name},z.id)):r.jsx(W,{value:"no-clients",disabled:!0,children:"Aucun client trouvé"})})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"petId",children:"Animal *"}),r.jsxs(Me,{value:T.petId,onValueChange:z=>{O(Y=>({...Y,petId:z})),D(null)},disabled:l?!0:!T.clientId,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un animal"})}),r.jsx(De,{children:u.filter(z=>z.ownerId===parseInt(T.clientId)).map(z=>r.jsxs(W,{value:z.id.toString(),children:[z.name," (",z.type,")"]},z.id))})]})]})]}),be.length>0&&!l&&r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs(F,{children:["Protocoles suggérés pour ",ye==null?void 0:ye.type," (sélection multiple)"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:be.map(z=>{const Y=Z.some(ee=>ee.id===z.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-muted/50",children:[r.jsx(Xi,{id:`protocol-${z.id}`,checked:Y,onCheckedChange:ee=>{B(ee?G=>[...G,z]:G=>G.filter(I=>I.id!==z.id))}}),r.jsxs("label",{htmlFor:`protocol-${z.id}`,className:"ml-2 flex-1 text-sm",children:[r.jsx("div",{className:"font-medium",children:z.name}),r.jsx("div",{className:"text-xs text-gray-600",children:z.description})]})]},z.id)})})]}),Z.length>0&&!l?r.jsxs(de,{className:"mb-4",children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-sm",children:"Vaccins sélectionnés"})}),r.jsx(he,{children:r.jsx("ul",{className:"list-disc list-inside text-sm",children:Z.map(z=>r.jsx("li",{children:z.name},z.id))})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs(F,{htmlFor:"vaccineName",children:["Nom du vaccin ",!l&&"*"]}),r.jsxs($e,{variant:"outline",className:"text-xs",children:[M.length," vaccins en stock"]})]}),P?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Saisie manuelle"})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:ne,className:"text-xs",children:"Changer"})]}),r.jsx(se,{value:T.vaccineName,onChange:z=>O(Y=>({...Y,vaccineName:z.target.value})),placeholder:"Nom du vaccin (non disponible en stock)",className:"bg-white",required:!l})]})}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(dU,{open:C,onOpenChange:A,children:[r.jsx(hU,{asChild:!0,children:r.jsxs(V,{variant:"outline",role:"combobox","aria-expanded":C,className:"flex-1 justify-between",children:[T.vaccineName||"Sélectionner un vaccin...",r.jsx(ub,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(PE,{className:"w-[400px] p-0",children:r.jsxs(bE,{children:[r.jsx(wE,{placeholder:"Rechercher un vaccin..."}),r.jsxs(NE,{children:[r.jsx(SE,{children:"Aucun vaccin trouvé."}),r.jsxs(CE,{children:[M.map(z=>r.jsxs(mg,{value:z.name,onSelect:()=>te(z),className:"flex flex-col items-start gap-1 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:z.name})]}),r.jsxs($e,{variant:z.currentStock>=5?"default":"destructive",className:"ml-2",children:[z.currentStock," en stock"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[z.manufacturer&&r.jsxs("span",{children:["Fabricant: ",z.manufacturer]}),r.jsxs("span",{children:["Prix: ",z.sellingPrice.toFixed(2)," ",v.currency]})]})]},z.id)),r.jsx(mg,{onSelect:J,children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 p-2",children:[r.jsx(mr,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Saisie manuelle"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Vaccin non disponible en stock"})]})]})})]})]})]})})]}),T.vaccineName&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:J,className:"px-3",title:"Passer en saisie manuelle",children:r.jsx(mr,{className:"h-4 w-4"})})]}),T.vaccineName&&r.jsx("div",{className:"flex items-center gap-2",children:(()=>{const z=M.find(Y=>Y.name.toLowerCase()===T.vaccineName.toLowerCase());return z?z.currentStock>=1?r.jsxs($e,{variant:"default",className:"bg-green-100 text-green-800",children:[r.jsx(br,{className:"h-3 w-3 mr-1"}),"En stock (",z.currentStock,")"]}):r.jsxs($e,{variant:"destructive",children:[r.jsx(Vn,{className:"h-3 w-3 mr-1"}),"Stock insuffisant"]}):r.jsxs($e,{variant:"secondary",children:[r.jsx(mr,{className:"h-3 w-3 mr-1"}),"Non en stock"]})})()})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"vaccineType",children:"Type de vaccin"}),r.jsxs(Me,{value:T.vaccineType,onValueChange:z=>O(Y=>({...Y,vaccineType:z})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de vaccin"})}),r.jsxs(De,{children:[r.jsx(W,{value:"core",children:"Essentiel"}),r.jsx(W,{value:"non-core",children:"Optionnel"}),r.jsx(W,{value:"rabies",children:"Rage"}),r.jsx(W,{value:"custom",children:"Personnalisé"})]})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs("div",{children:[r.jsxs(F,{htmlFor:"dateGiven",children:["Date d'administration ",!l&&"*"]}),r.jsx(se,{id:"dateGiven",type:"date",value:T.dateGiven,onChange:z=>O(Y=>({...Y,dateGiven:z.target.value})),required:!l})]})}),Z.length>0&&!l&&r.jsx("div",{className:"space-y-4 mb-4",children:Z.map(z=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"font-medium text-sm",children:["Étapes pour ",z.name]}),z.intervals.map(Y=>{const ee=`${z.id}-${Y.offsetDays}`,G=new Date(T.dateGiven);G.setDate(G.getDate()+Y.offsetDays);const I=G.toISOString().split("T")[0];return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center",children:[r.jsxs("div",{className:"text-sm",children:[Y.label," (+",Y.offsetDays," jours)"]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:ee,children:"Date de rappel"}),r.jsx(se,{id:ee,type:"date",value:H[ee]||I,onChange:xe=>ae(Ne=>({...Ne,[ee]:xe.target.value}))}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Suggérée: ",G.toLocaleDateString("fr-FR")]})]})]},ee)})]},z.id))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"veterinarian",children:"Vétérinaire"}),r.jsxs(Me,{value:T.veterinarian,onValueChange:z=>O(Y=>({...Y,veterinarian:z})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un vétérinaire"})}),r.jsx(De,{children:v.veterinarians.filter(z=>z.isActive).map(z=>r.jsx(W,{value:z.name,children:z.name},z.id))})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"location",children:"Site d'injection"}),r.jsxs(Me,{value:T.location,onValueChange:z=>O(Y=>({...Y,location:z})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le site"})}),r.jsx(De,{children:Ape.map(z=>r.jsx(W,{value:z.value,children:z.label},z.value))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"batchNumber",children:"Numéro de lot"}),r.jsx(se,{id:"batchNumber",value:T.batchNumber,onChange:z=>O(Y=>({...Y,batchNumber:z.target.value})),placeholder:"Ex: VAC2024-001"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(se,{id:"manufacturer",value:T.manufacturer,onChange:z=>O(Y=>({...Y,manufacturer:z.target.value})),placeholder:"Ex: Zoetis, Merial"})]}),r.jsxs("div",{children:[r.jsxs(F,{htmlFor:"cost",children:["Coût (",v.currency,")"]}),r.jsx(se,{id:"cost",value:T.cost,onChange:z=>O(Y=>({...Y,cost:z.target.value})),placeholder:"0.00",type:"number",step:"0.01"})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"expirationDate",children:"Date d'expiration du vaccin"}),r.jsx(se,{id:"expirationDate",type:"date",value:T.expirationDate,onChange:z=>O(Y=>({...Y,expirationDate:z.target.value}))})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",value:T.notes,onChange:z=>O(Y=>({...Y,notes:z.target.value})),placeholder:"Notes sur la vaccination...",rows:3})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"adverseReactions",children:"Réactions adverses"}),r.jsx(wt,{id:"adverseReactions",value:T.adverseReactions,onChange:z=>O(Y=>({...Y,adverseReactions:z.target.value})),placeholder:"Décrire toute réaction adverse observée...",rows:2})]}),T.vaccineName&&r.jsxs(de,{className:"mt-4",children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"text-sm flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4"}),"Résumé du stock"]})}),r.jsx(he,{children:(()=>{const z=M.find(Y=>Y.name.toLowerCase()===T.vaccineName.toLowerCase());return z?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:z.name}),r.jsxs($e,{variant:z.currentStock>=1?"default":"destructive",children:[z.currentStock," en stock"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Fabricant: ",z.manufacturer||"Non spécifié"]}),r.jsxs("div",{children:["Prix de vente: ",z.sellingPrice.toFixed(2)," ",v.currency]}),r.jsxs("div",{children:["Stock minimum: ",z.minimumStock]}),z.currentStock<=z.minimumStock&&r.jsx("div",{className:"text-orange-600 font-medium mt-1",children:"⚠️ Stock bas - Réapprovisionnement recommandé"})]})]}):r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4"}),r.jsx("span",{children:"Vaccin non disponible en stock"})]}),r.jsx("div",{className:"mt-1",children:"Le vaccin sera administré sans impact sur le stock."})]})})()})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>setOpen(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",children:[r.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Enregistrer la vaccination"]})]})]})}),r.jsxs("div",{className:"space-y-4",children:[ye&&r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-sm",children:"Informations Animal"})}),r.jsx(he,{className:"pt-0",children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Nom:"})," ",ye.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",ye.type]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Race:"})," ",ye.breed||"Non spécifiée"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Âge:"})," ",ye.birthDate?`${Math.floor((new Date().getTime()-new Date(ye.birthDate).getTime())/(365.25*24*60*60*1e3))} ans`:"Non spécifié"]})]})})]}),r.jsxs(de,{className:"border-amber-200 bg-amber-50",children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"text-sm text-amber-700 flex items-center gap-2",children:[r.jsx(Vn,{className:"h-4 w-4"}),"Important"]})}),r.jsx(he,{className:"pt-0",children:r.jsxs("ul",{className:"text-xs text-amber-700 space-y-1",children:[r.jsx("li",{children:"• Vérifiez la date d'expiration du vaccin"}),r.jsx("li",{children:"• Respectez la chaîne du froid"}),r.jsx("li",{children:"• Surveillez les réactions dans les 24h"}),r.jsx("li",{children:"• Enregistrez le numéro de lot"}),r.jsx("li",{children:"• Planifiez le rappel"})]})})]})]})]})]})]})}function L0({children:e,selectedClientId:t,selectedPetId:n,open:s,onOpenChange:i,editingAntiparasitic:a}){var me,te;const{clients:o,pets:l,addAntiparasitic:c,updateAntiparasitic:u,getAntiparasiticProtocolsBySpecies:d,addAppointment:f,stockItems:m}=Nt(),{settings:g}=Zt(),{toast:x}=$t(),[v,y]=w.useState(!1),N=s!==void 0?s:v,b=i||y,[j,_]=w.useState({clientId:(t==null?void 0:t.toString())||"",petId:(n==null?void 0:n.toString())||"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",dosage:"",administrationRoute:"",veterinarian:"",notes:"",batchNumber:"",manufacturer:"",weight:"",cost:"",sideEffects:""}),[C,A]=w.useState([]),[P,E]=w.useState(!1),[M,$]=w.useState(!1),[T,O]=w.useState([]),L=C||[],[B,Z]=w.useState({});w.useEffect(()=>{t&&_(J=>({...J,clientId:t.toString(),petId:""})),n&&_(J=>({...J,petId:n.toString()}))},[t,n]),w.useEffect(()=>{const J=m.filter(ne=>ne.category==="medication"&&ne.isActive&&ne.currentStock>0).sort((ne,ve)=>ne.name.localeCompare(ve.name));O(J)},[m]),w.useEffect(()=>{a&&_({clientId:a.clientId.toString(),petId:a.petId.toString(),dateGiven:a.dateGiven,nextDueDate:a.nextDueDate||"",dosage:a.dosage||"",administrationRoute:a.administrationRoute||"",veterinarian:a.veterinarian||"",notes:a.notes||"",batchNumber:a.batchNumber||"",manufacturer:a.manufacturer||"",weight:a.weight||"",cost:a.cost||"",sideEffects:a.sideEffects||""})},[a]),w.useEffect(()=>{if(L.length&&j.dateGiven){const J={};L.forEach(ne=>{ne.intervals.forEach(ve=>{const ye=`${ne.id}-${ve.offsetDays}`;J[ye]=It(BV(new Date(j.dateGiven),ve.offsetDays),"yyyy-MM-dd")})}),Z(J)}else Z({})},[L,j.dateGiven]);const H=j.petId?d(((me=l.find(J=>J.id===parseInt(j.petId)))==null?void 0:me.type)||""):[],ae=J=>{_(ne=>({...ne,productName:J.name,manufacturer:J.manufacturer||ne.manufacturer,cost:J.sellingPrice.toString()})),E(!1),$(!1)},X=()=>{$(!0),E(!1)},D=()=>{$(!1),_(J=>({...J,productName:"",manufacturer:"",cost:""}))},ie=J=>{if(J.preventDefault(),!j.clientId||!j.petId){x({title:"Erreur",description:"Client et animal requis.",variant:"destructive"});return}const ne=o.find(ye=>ye.id===parseInt(j.clientId)),ve=l.find(ye=>ye.id===parseInt(j.petId));if(!ne||!ve){x({title:"Erreur",description:"Client ou animal introuvable.",variant:"destructive"});return}if(a){u(a.id,{clientId:parseInt(j.clientId),clientName:ne.name,petId:parseInt(j.petId),petName:ve.name,productName:a.productName,productType:a.productType,targetParasites:a.targetParasites,dateGiven:j.dateGiven,nextDueDate:j.nextDueDate,dosage:j.dosage,administrationRoute:j.administrationRoute,veterinarian:j.veterinarian,notes:j.notes,batchNumber:j.batchNumber,manufacturer:j.manufacturer,weight:j.weight,status:a.status,cost:j.cost,sideEffects:j.sideEffects}),x({title:"Traitement modifié",description:`Le traitement ${a.productName} a été mis à jour avec succès.`}),b(!1);return}if(L.length>0)L.forEach(ye=>{ye.intervals.forEach(be=>{const z=`${ye.id}-${be.offsetDays}`,Y=B[z]||"",ee=be.offsetDays===0?j.dateGiven:Y;c({clientId:ne.id,clientName:ne.name,petId:ve.id,petName:ve.name,productName:`${ye.name} (${be.label})`,productType:ye.productType,targetParasites:ye.targetParasites,dateGiven:ee,nextDueDate:Y,dosage:j.dosage,administrationRoute:j.administrationRoute||ye.productType,veterinarian:j.veterinarian,notes:j.notes,batchNumber:j.batchNumber,manufacturer:j.manufacturer||ye.manufacturer||"",weight:j.weight,status:be.offsetDays===0?"completed":"scheduled",cost:j.cost,sideEffects:j.sideEffects})})}),L.forEach(ye=>{(ye.intervals||[]).forEach(be=>{const z=`${ye.id}-${be.offsetDays}`,Y=B[z];Y&&be.offsetDays>0&&f({clientId:ne.id,clientName:ne.name,petId:ve.id,petName:ve.name,date:Y,time:"09:00",type:"consultation",duration:15,reason:`Rappel antiparasitaire ${ye.name}`,status:"scheduled",reminderSent:!1})})}),x({title:"Traitements ajoutés",description:`${L.reduce((ye,be)=>ye+be.intervals.length,0)} traitement(s) enregistré(s) dans le dossier médical et rappels programmés.`});else{const ye=j.notes||"Traitement antiparasitaire";c({clientId:ne.id,clientName:ne.name,petId:ve.id,petName:ve.name,productName:ye,productType:"external",targetParasites:"Non spécifié",dateGiven:j.dateGiven,nextDueDate:j.nextDueDate,dosage:j.dosage,administrationRoute:j.administrationRoute,veterinarian:j.veterinarian,notes:j.notes,batchNumber:j.batchNumber,manufacturer:j.manufacturer,weight:j.weight,status:"completed",cost:j.cost,sideEffects:j.sideEffects}),j.nextDueDate&&f({clientId:ne.id,clientName:ne.name,petId:ve.id,petName:ve.name,date:j.nextDueDate,time:"09:00",type:"consultation",duration:15,reason:`Rappel antiparasitaire ${ye}`,status:"scheduled",reminderSent:!1}),x({title:"Traitement ajouté",description:`Traitement pour ${ve.name} enregistré dans le dossier médical.`})}A([]),_({clientId:(t==null?void 0:t.toString())||"",petId:(n==null?void 0:n.toString())||"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",dosage:"",administrationRoute:"",veterinarian:"",notes:"",batchNumber:"",manufacturer:"",weight:"",cost:"",sideEffects:""}),b(!1)};return r.jsxs(St,{open:N,onOpenChange:b,children:[!a&&r.jsx(Rc,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau traitement"]})}),r.jsxs(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsx(_t,{children:a?`Modifier ${a.productName}`:"Nouveau traitement antiparasitaire"})}),r.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a&&r.jsxs("div",{className:"col-span-2 text-sm text-blue-600 bg-blue-50 p-2 rounded-md border border-blue-200",children:[r.jsx("strong",{children:"Mode édition :"})," Vous modifiez uniquement ce traitement spécifique. Le client et l'animal sont verrouillés. Les protocoles ne sont pas affichés car ils ne s'appliquent qu'à la création."]}),r.jsxs("div",{children:[r.jsx(F,{children:"Client *"}),r.jsxs(Me,{value:j.clientId,onValueChange:J=>_(ne=>({...ne,clientId:J,petId:""})),disabled:a,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un client"})}),r.jsx(De,{children:o&&Array.isArray(o)&&o.length>0?o.map(J=>r.jsx(W,{value:J.id.toString(),children:J.name},J.id)):r.jsx(W,{value:"no-clients",disabled:!0,children:"Aucun client trouvé"})})]})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Animal *"}),r.jsxs(Me,{value:j.petId,onValueChange:J=>_(ne=>({...ne,petId:J})),disabled:!j.clientId||a,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un animal"})}),r.jsx(De,{children:l.filter(J=>J.ownerId===parseInt(j.clientId)).map(J=>r.jsxs(W,{value:J.id.toString(),children:[J.name," (",J.type,")"]},J.id))})]})]})]}),H.length>0&&!a&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs(F,{children:["Protocoles suggérés (",(te=l.find(J=>J.id===parseInt(j.petId)))==null?void 0:te.type,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:H.map(J=>{const ne=L.some(ve=>ve.id===J.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-muted/50",children:[r.jsx(Xi,{checked:ne,onCheckedChange:ve=>A(ve?ye=>[...ye,J]:ye=>ye.filter(be=>be.id!==J.id))}),r.jsxs("label",{className:"ml-2 flex-1 text-sm",children:[r.jsx("div",{className:"font-medium",children:J.name}),r.jsx("div",{className:"text-xs text-gray-600",children:J.description})]})]},J.id)})})]}),L.length>0?r.jsxs(de,{className:"mb-4",children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-sm",children:"Protocoles sélectionnés"})}),r.jsx(he,{children:r.jsx("ul",{className:"list-disc list-inside text-sm",children:L.map(J=>r.jsx("li",{children:J.name},J.id))})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(F,{children:"Produit antiparasitaire"}),r.jsxs($e,{variant:"outline",className:"text-xs",children:[T.length," antiparasitaires en stock"]})]}),M?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Saisie manuelle"})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:D,className:"text-xs",children:"Changer"})]}),r.jsx(se,{value:j.productName,onChange:J=>_(ne=>({...ne,productName:J.target.value})),placeholder:"Nom du produit antiparasitaire (non disponible en stock)",className:"bg-white"})]})}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(dU,{open:P,onOpenChange:E,children:[r.jsx(hU,{asChild:!0,children:r.jsxs(V,{variant:"outline",role:"combobox","aria-expanded":P,className:"flex-1 justify-between",children:[j.productName||"Sélectionner un antiparasitaire...",r.jsx(ub,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(PE,{className:"w-[400px] p-0",children:r.jsxs(bE,{children:[r.jsx(wE,{placeholder:"Rechercher un antiparasitaire..."}),r.jsxs(NE,{children:[r.jsx(SE,{children:"Aucun antiparasitaire trouvé."}),r.jsxs(CE,{children:[T.map(J=>r.jsxs(mg,{value:J.name,onSelect:()=>ae(J),className:"flex flex-col items-start gap-1 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:J.name})]}),r.jsxs($e,{variant:J.currentStock>=5?"default":"destructive",className:"ml-2",children:[J.currentStock," en stock"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[J.manufacturer&&r.jsxs("span",{children:["Fabricant: ",J.manufacturer]}),r.jsxs("span",{children:["Prix: ",J.sellingPrice.toFixed(2)," ",g.currency]})]})]},J.id)),r.jsx(mg,{onSelect:X,children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 p-2",children:[r.jsx(mr,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Saisie manuelle"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Antiparasitaire non disponible en stock"})]})]})})]})]})]})})]}),j.productName&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:X,className:"px-3",title:"Passer en saisie manuelle",children:r.jsx(mr,{className:"h-4 w-4"})})]}),j.productName&&r.jsx("div",{className:"flex items-center gap-2",children:(()=>{const J=T.find(ne=>ne.name.toLowerCase()===j.productName.toLowerCase());return J?J.currentStock>=1?r.jsxs($e,{variant:"default",className:"bg-green-100 text-green-800",children:[r.jsx(br,{className:"h-3 w-3 mr-1"}),"En stock (",J.currentStock,")"]}):r.jsxs($e,{variant:"destructive",children:[r.jsx(Vn,{className:"h-3 w-3 mr-1"}),"Stock insuffisant"]}):r.jsxs($e,{variant:"secondary",children:[r.jsx(mr,{className:"h-3 w-3 mr-1"}),"Non en stock"]})})()})]})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Type"}),r.jsx(se,{value:j.administrationRoute,onChange:J=>_(ne=>({...ne,administrationRoute:J.target.value})),placeholder:"Type (oral, topical...)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{children:"Date d'administration *"}),r.jsx(se,{type:"date",value:j.dateGiven,onChange:J=>_(ne=>({...ne,dateGiven:J.target.value})),required:!0})]}),!L.length&&r.jsxs("div",{children:[r.jsx(F,{children:"Date de rappel"}),r.jsx(se,{type:"date",value:j.nextDueDate,onChange:J=>_(ne=>({...ne,nextDueDate:J.target.value}))})]})]}),L.length>0&&r.jsx("div",{className:"space-y-4 mb-4",children:L.map(J=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"font-medium text-sm",children:["Étapes pour ",J.name]}),J.intervals.map(ne=>{const ve=`${J.id}-${ne.offsetDays}`;return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center",children:[r.jsxs("div",{className:"text-sm",children:[ne.label," (+",ne.offsetDays," jours)"]}),r.jsxs("div",{children:[r.jsx(F,{children:"Date exacte"}),r.jsx(se,{type:"date",id:ve,value:B[ve]||"",onChange:ye=>Z(be=>({...be,[ve]:ye.target.value}))})]})]},ve)})]},J.id))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{children:"Dosage"}),r.jsx(se,{value:j.dosage,onChange:J=>_(ne=>({...ne,dosage:J.target.value})),placeholder:"Dosage"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Vétérinaire"}),r.jsxs(Me,{value:j.veterinarian,onValueChange:J=>_(ne=>({...ne,veterinarian:J})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un vétérinaire"})}),r.jsx(De,{children:(g.veterinarians||[]).filter(J=>J.isActive).map(J=>r.jsx(W,{value:J.name,children:J.name},J.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{children:"Numéro de lot"}),r.jsx(se,{value:j.batchNumber,onChange:J=>_(ne=>({...ne,batchNumber:J.target.value})),placeholder:"Numéro de lot"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Fabricant"}),r.jsx(se,{value:j.manufacturer,onChange:J=>_(ne=>({...ne,manufacturer:J.target.value})),placeholder:"Fabricant"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{children:"Poids"}),r.jsx(se,{value:j.weight,onChange:J=>_(ne=>({...ne,weight:J.target.value})),placeholder:"Poids"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Coût"}),r.jsx(se,{type:"number",step:"0.01",value:j.cost,onChange:J=>_(ne=>({...ne,cost:J.target.value})),placeholder:"0.00"})]})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Effets indésirables"}),r.jsx(se,{value:j.sideEffects,onChange:J=>_(ne=>({...ne,sideEffects:J.target.value})),placeholder:"Effets indésirables"})]}),j.productName&&r.jsxs(de,{className:"mt-4",children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"text-sm flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4"}),"Résumé du stock"]})}),r.jsx(he,{children:(()=>{const J=T.find(ne=>ne.name.toLowerCase()===j.productName.toLowerCase());return J?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:J.name}),r.jsxs($e,{variant:J.currentStock>=1?"default":"destructive",children:[J.currentStock," en stock"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Fabricant: ",J.manufacturer||"Non spécifié"]}),r.jsxs("div",{children:["Prix de vente: ",J.sellingPrice.toFixed(2)," ",g.currency]}),r.jsxs("div",{children:["Stock minimum: ",J.minimumStock]}),J.currentStock<=J.minimumStock&&r.jsx("div",{className:"text-orange-600 font-medium mt-1",children:"⚠️ Stock bas - Réapprovisionnement recommandé"})]})]}):r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4"}),r.jsx("span",{children:"Antiparasitaire non disponible en stock"})]}),r.jsx("div",{className:"mt-1",children:"L'antiparasitaire sera administré sans impact sur le stock."})]})})()})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{variant:"outline",type:"button",onClick:()=>i?i(!1):y(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Ajouter"})]})]})]})]})}function Epe({open:e,onOpenChange:t,vaccination:n}){const{confirmVaccinationReminder:s,calculateDueDateFromProtocol:i}=Nt(),{toast:a}=$t(),[o,l]=w.useState({datePerformed:It(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),c=d=>{if(d.preventDefault(),!o.veterinarian){a({title:"Erreur",description:"Le nom du vétérinaire est requis",variant:"destructive"});return}let f=o.newNextDueDate;!f&&n&&(f=i(n.vaccineName,"chien",o.datePerformed)||""),s(n.id,{datePerformed:o.datePerformed,veterinarian:o.veterinarian,batchNumber:o.batchNumber,notes:o.notes,newNextDueDate:f})&&(a({title:"Rappel confirmé",description:`Le rappel de ${n.vaccineName} a été confirmé et enregistré`}),l({datePerformed:It(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),t(!1))},u=d=>{l(f=>({...f,[d.target.name]:d.target.value}))};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[500px]",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Confirmer le rappel de vaccination"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Vaccination à confirmer :"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:n.vaccineName})," pour ",n.petName]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Rappel prévu le : ",new Date(n.nextDueDate).toLocaleDateString("fr-FR")]})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"datePerformed",children:"Date d'administration *"}),r.jsx(se,{id:"datePerformed",name:"datePerformed",type:"date",value:o.datePerformed,onChange:u,required:!0})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"veterinarian",children:"Vétérinaire *"}),r.jsx(se,{id:"veterinarian",name:"veterinarian",value:o.veterinarian,onChange:u,placeholder:"Nom du vétérinaire",required:!0})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"batchNumber",children:"Numéro de lot"}),r.jsx(se,{id:"batchNumber",name:"batchNumber",value:o.batchNumber,onChange:u,placeholder:"Numéro de lot du vaccin"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"newNextDueDate",children:"Nouvelle date de rappel"}),r.jsx(se,{id:"newNextDueDate",name:"newNextDueDate",type:"date",value:o.newNextDueDate,onChange:u,placeholder:"Date du prochain rappel"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Laissez vide pour utiliser la date calculée selon le protocole"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",name:"notes",value:o.notes,onChange:u,placeholder:"Notes sur l'administration du vaccin",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Confirmer le rappel"})]})]})]})]})}):null}var kpe=Array.isArray,ii=kpe,Tpe=typeof lr=="object"&&lr&&lr.Object===Object&&lr,fU=Tpe,Ope=fU,Dpe=typeof self=="object"&&self&&self.Object===Object&&self,Mpe=Ope||Dpe||Function("return this")(),wo=Mpe,Ipe=wo,$pe=Ipe.Symbol,Nv=$pe,$I=Nv,mU=Object.prototype,Rpe=mU.hasOwnProperty,Lpe=mU.toString,ep=$I?$I.toStringTag:void 0;function Fpe(e){var t=Rpe.call(e,ep),n=e[ep];try{e[ep]=void 0;var s=!0}catch{}var i=Lpe.call(e);return s&&(t?e[ep]=n:delete e[ep]),i}var Bpe=Fpe,zpe=Object.prototype,Vpe=zpe.toString;function Upe(e){return Vpe.call(e)}var qpe=Upe,RI=Nv,Wpe=Bpe,Hpe=qpe,Gpe="[object Null]",Kpe="[object Undefined]",LI=RI?RI.toStringTag:void 0;function Ype(e){return e==null?e===void 0?Kpe:Gpe:LI&&LI in Object(e)?Wpe(e):Hpe(e)}var gl=Ype;function Qpe(e){return e!=null&&typeof e=="object"}var vl=Qpe,Xpe=gl,Jpe=vl,Zpe="[object Symbol]";function ege(e){return typeof e=="symbol"||Jpe(e)&&Xpe(e)==Zpe}var nm=ege,tge=ii,nge=nm,rge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sge=/^\w*$/;function ige(e,t){if(tge(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||nge(e)?!0:sge.test(e)||!rge.test(e)||t!=null&&e in Object(t)}var AE=ige;function age(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var zc=age;const rm=pn(zc);var oge=gl,lge=zc,cge="[object AsyncFunction]",uge="[object Function]",dge="[object GeneratorFunction]",hge="[object Proxy]";function fge(e){if(!lge(e))return!1;var t=oge(e);return t==uge||t==dge||t==cge||t==hge}var EE=fge;const yt=pn(EE);var mge=wo,pge=mge["__core-js_shared__"],gge=pge,jS=gge,FI=function(){var e=/[^.]+$/.exec(jS&&jS.keys&&jS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function vge(e){return!!FI&&FI in e}var xge=vge,yge=Function.prototype,jge=yge.toString;function bge(e){if(e!=null){try{return jge.call(e)}catch{}try{return e+""}catch{}}return""}var pU=bge,wge=EE,Nge=xge,Sge=zc,Cge=pU,_ge=/[\\^$.*+?()[\]{}|]/g,Pge=/^\[object .+?Constructor\]$/,Age=Function.prototype,Ege=Object.prototype,kge=Age.toString,Tge=Ege.hasOwnProperty,Oge=RegExp("^"+kge.call(Tge).replace(_ge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Dge(e){if(!Sge(e)||Nge(e))return!1;var t=wge(e)?Oge:Pge;return t.test(Cge(e))}var Mge=Dge;function Ige(e,t){return e==null?void 0:e[t]}var $ge=Ige,Rge=Mge,Lge=$ge;function Fge(e,t){var n=Lge(e,t);return Rge(n)?n:void 0}var md=Fge,Bge=md,zge=Bge(Object,"create"),qb=zge,BI=qb;function Vge(){this.__data__=BI?BI(null):{},this.size=0}var Uge=Vge;function qge(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Wge=qge,Hge=qb,Gge="__lodash_hash_undefined__",Kge=Object.prototype,Yge=Kge.hasOwnProperty;function Qge(e){var t=this.__data__;if(Hge){var n=t[e];return n===Gge?void 0:n}return Yge.call(t,e)?t[e]:void 0}var Xge=Qge,Jge=qb,Zge=Object.prototype,eve=Zge.hasOwnProperty;function tve(e){var t=this.__data__;return Jge?t[e]!==void 0:eve.call(t,e)}var nve=tve,rve=qb,sve="__lodash_hash_undefined__";function ive(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=rve&&t===void 0?sve:t,this}var ave=ive,ove=Uge,lve=Wge,cve=Xge,uve=nve,dve=ave;function sm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}sm.prototype.clear=ove;sm.prototype.delete=lve;sm.prototype.get=cve;sm.prototype.has=uve;sm.prototype.set=dve;var hve=sm;function fve(){this.__data__=[],this.size=0}var mve=fve;function pve(e,t){return e===t||e!==e&&t!==t}var kE=pve,gve=kE;function vve(e,t){for(var n=e.length;n--;)if(gve(e[n][0],t))return n;return-1}var Wb=vve,xve=Wb,yve=Array.prototype,jve=yve.splice;function bve(e){var t=this.__data__,n=xve(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():jve.call(t,n,1),--this.size,!0}var wve=bve,Nve=Wb;function Sve(e){var t=this.__data__,n=Nve(t,e);return n<0?void 0:t[n][1]}var Cve=Sve,_ve=Wb;function Pve(e){return _ve(this.__data__,e)>-1}var Ave=Pve,Eve=Wb;function kve(e,t){var n=this.__data__,s=Eve(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var Tve=kve,Ove=mve,Dve=wve,Mve=Cve,Ive=Ave,$ve=Tve;function im(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}im.prototype.clear=Ove;im.prototype.delete=Dve;im.prototype.get=Mve;im.prototype.has=Ive;im.prototype.set=$ve;var Hb=im,Rve=md,Lve=wo,Fve=Rve(Lve,"Map"),TE=Fve,zI=hve,Bve=Hb,zve=TE;function Vve(){this.size=0,this.__data__={hash:new zI,map:new(zve||Bve),string:new zI}}var Uve=Vve;function qve(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Wve=qve,Hve=Wve;function Gve(e,t){var n=e.__data__;return Hve(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Gb=Gve,Kve=Gb;function Yve(e){var t=Kve(this,e).delete(e);return this.size-=t?1:0,t}var Qve=Yve,Xve=Gb;function Jve(e){return Xve(this,e).get(e)}var Zve=Jve,exe=Gb;function txe(e){return exe(this,e).has(e)}var nxe=txe,rxe=Gb;function sxe(e,t){var n=rxe(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var ixe=sxe,axe=Uve,oxe=Qve,lxe=Zve,cxe=nxe,uxe=ixe;function am(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}am.prototype.clear=axe;am.prototype.delete=oxe;am.prototype.get=lxe;am.prototype.has=cxe;am.prototype.set=uxe;var OE=am,gU=OE,dxe="Expected a function";function DE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(dxe);var n=function(){var s=arguments,i=t?t.apply(this,s):s[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,s);return n.cache=a.set(i,o)||a,o};return n.cache=new(DE.Cache||gU),n}DE.Cache=gU;var vU=DE;const hxe=pn(vU);var fxe=vU,mxe=500;function pxe(e){var t=fxe(e,function(s){return n.size===mxe&&n.clear(),s}),n=t.cache;return t}var gxe=pxe,vxe=gxe,xxe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yxe=/\\(\\)?/g,jxe=vxe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(xxe,function(n,s,i,a){t.push(i?a.replace(yxe,"$1"):s||n)}),t}),bxe=jxe;function wxe(e,t){for(var n=-1,s=e==null?0:e.length,i=Array(s);++n<s;)i[n]=t(e[n],n,e);return i}var ME=wxe,VI=Nv,Nxe=ME,Sxe=ii,Cxe=nm,_xe=1/0,UI=VI?VI.prototype:void 0,qI=UI?UI.toString:void 0;function xU(e){if(typeof e=="string")return e;if(Sxe(e))return Nxe(e,xU)+"";if(Cxe(e))return qI?qI.call(e):"";var t=e+"";return t=="0"&&1/e==-_xe?"-0":t}var Pxe=xU,Axe=Pxe;function Exe(e){return e==null?"":Axe(e)}var yU=Exe,kxe=ii,Txe=AE,Oxe=bxe,Dxe=yU;function Mxe(e,t){return kxe(e)?e:Txe(e,t)?[e]:Oxe(Dxe(e))}var jU=Mxe,Ixe=nm,$xe=1/0;function Rxe(e){if(typeof e=="string"||Ixe(e))return e;var t=e+"";return t=="0"&&1/e==-$xe?"-0":t}var Kb=Rxe,Lxe=jU,Fxe=Kb;function Bxe(e,t){t=Lxe(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[Fxe(t[n++])];return n&&n==s?e:void 0}var IE=Bxe,zxe=IE;function Vxe(e,t,n){var s=e==null?void 0:zxe(e,t);return s===void 0?n:s}var bU=Vxe;const Si=pn(bU);function Uxe(e){return e==null}var qxe=Uxe;const Pt=pn(qxe);var Wxe=gl,Hxe=ii,Gxe=vl,Kxe="[object String]";function Yxe(e){return typeof e=="string"||!Hxe(e)&&Gxe(e)&&Wxe(e)==Kxe}var Qxe=Yxe;const Xu=pn(Qxe);var wU={exports:{}},wn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E=Symbol.for("react.element"),RE=Symbol.for("react.portal"),Yb=Symbol.for("react.fragment"),Qb=Symbol.for("react.strict_mode"),Xb=Symbol.for("react.profiler"),Jb=Symbol.for("react.provider"),Zb=Symbol.for("react.context"),Xxe=Symbol.for("react.server_context"),ew=Symbol.for("react.forward_ref"),tw=Symbol.for("react.suspense"),nw=Symbol.for("react.suspense_list"),rw=Symbol.for("react.memo"),sw=Symbol.for("react.lazy"),Jxe=Symbol.for("react.offscreen"),NU;NU=Symbol.for("react.module.reference");function ra(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $E:switch(e=e.type,e){case Yb:case Xb:case Qb:case tw:case nw:return e;default:switch(e=e&&e.$$typeof,e){case Xxe:case Zb:case ew:case sw:case rw:case Jb:return e;default:return t}}case RE:return t}}}wn.ContextConsumer=Zb;wn.ContextProvider=Jb;wn.Element=$E;wn.ForwardRef=ew;wn.Fragment=Yb;wn.Lazy=sw;wn.Memo=rw;wn.Portal=RE;wn.Profiler=Xb;wn.StrictMode=Qb;wn.Suspense=tw;wn.SuspenseList=nw;wn.isAsyncMode=function(){return!1};wn.isConcurrentMode=function(){return!1};wn.isContextConsumer=function(e){return ra(e)===Zb};wn.isContextProvider=function(e){return ra(e)===Jb};wn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$E};wn.isForwardRef=function(e){return ra(e)===ew};wn.isFragment=function(e){return ra(e)===Yb};wn.isLazy=function(e){return ra(e)===sw};wn.isMemo=function(e){return ra(e)===rw};wn.isPortal=function(e){return ra(e)===RE};wn.isProfiler=function(e){return ra(e)===Xb};wn.isStrictMode=function(e){return ra(e)===Qb};wn.isSuspense=function(e){return ra(e)===tw};wn.isSuspenseList=function(e){return ra(e)===nw};wn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yb||e===Xb||e===Qb||e===tw||e===nw||e===Jxe||typeof e=="object"&&e!==null&&(e.$$typeof===sw||e.$$typeof===rw||e.$$typeof===Jb||e.$$typeof===Zb||e.$$typeof===ew||e.$$typeof===NU||e.getModuleId!==void 0)};wn.typeOf=ra;wU.exports=wn;var Zxe=wU.exports,eye=gl,tye=vl,nye="[object Number]";function rye(e){return typeof e=="number"||tye(e)&&eye(e)==nye}var SU=rye;const sye=pn(SU);var iye=SU;function aye(e){return iye(e)&&e!=+e}var oye=aye;const om=pn(oye);var Os=function(t){return t===0?0:t>0?1:-1},yu=function(t){return Xu(t)&&t.indexOf("%")===t.length-1},Ve=function(t){return sye(t)&&!om(t)},lye=function(t){return Pt(t)},Mr=function(t){return Ve(t)||Xu(t)},cye=0,pd=function(t){var n=++cye;return"".concat(t||"").concat(n)},Ds=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(t)&&!Xu(t))return s;var a;if(yu(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return om(a)&&(a=s),i&&a>n&&(a=n),a},Wl=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},uye=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,s={},i=0;i<n;i++)if(!s[t[i]])s[t[i]]=!0;else return!0;return!1},Or=function(t,n){return Ve(t)&&Ve(n)?function(s){return t+s*(n-t)}:function(){return n}};function F0(e,t,n){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):Si(s,t))===n})}var dye=function(t,n){return Ve(t)&&Ve(n)?t-n:Xu(t)&&Xu(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Th(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function W2(e){"@babel/helpers - typeof";return W2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W2(e)}var hye=["viewBox","children"],fye=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WI=["points","pathLength"],bS={svg:hye,polygon:WI,polyline:WI},LE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],B0=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(w.isValidElement(t)&&(s=t.props),!rm(s))return null;var i={};return Object.keys(s).forEach(function(a){LE.includes(a)&&(i[a]=n||function(o){return s[a](s,o)})}),i},mye=function(t,n,s){return function(i){return t(n,s,i),null}},Ju=function(t,n,s){if(!rm(t)||W2(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];LE.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=mye(o,n,s))}),i},pye=["children"],gye=["children"];function HI(e,t){if(e==null)return{};var n=vye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function vye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function H2(e){"@babel/helpers - typeof";return H2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H2(e)}var GI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},KI=null,wS=null,FE=function e(t){if(t===KI&&Array.isArray(wS))return wS;var n=[];return w.Children.forEach(t,function(s){Pt(s)||(Zxe.isFragment(s)?n=n.concat(e(s.props.children)):n.push(s))}),wS=n,KI=t,n};function Ci(e,t){var n=[],s=[];return Array.isArray(t)?s=t.map(function(i){return Jo(i)}):s=[Jo(t)],FE(e).forEach(function(i){var a=Si(i,"type.displayName")||Si(i,"type.name");s.indexOf(a)!==-1&&n.push(i)}),n}function gi(e,t){var n=Ci(e,t);return n&&n[0]}var YI=function(t){if(!t||!t.props)return!1;var n=t.props,s=n.width,i=n.height;return!(!Ve(s)||s<=0||!Ve(i)||i<=0)},xye=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yye=function(t){return t&&t.type&&Xu(t.type)&&xye.indexOf(t.type)>=0},CU=function(t){return t&&H2(t)==="object"&&"clipDot"in t},jye=function(t,n,s,i){var a,o=(a=bS==null?void 0:bS[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!yt(t)&&(i&&o.includes(n)||fye.includes(n))||s&&LE.includes(n)},ct=function(t,n,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(w.isValidElement(t)&&(i=t.props),!rm(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;jye((l=i)===null||l===void 0?void 0:l[o],o,n,s)&&(a[o]=i[o])}),a},G2=function e(t,n){if(t===n)return!0;var s=w.Children.count(t);if(s!==w.Children.count(n))return!1;if(s===0)return!0;if(s===1)return QI(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<s;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!QI(a,o))return!1}return!0},QI=function(t,n){if(Pt(t)&&Pt(n))return!0;if(!Pt(t)&&!Pt(n)){var s=t.props||{},i=s.children,a=HI(s,pye),o=n.props||{},l=o.children,c=HI(o,gye);return i&&l?Th(a,c)&&G2(i,l):!i&&!l?Th(a,c):!1}return!1},XI=function(t,n){var s=[],i={};return FE(t).forEach(function(a,o){if(yye(a))s.push(a);else if(a){var l=Jo(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,o);s.push(f),i[l]=!0}}}),s},bye=function(t){var n=t&&t.type;return n&&GI[n]?GI[n]:null},wye=function(t,n){return FE(n).indexOf(t)},Nye=["children","width","height","viewBox","className","style","title","desc"];function K2(){return K2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},K2.apply(this,arguments)}function Sye(e,t){if(e==null)return{};var n=Cye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Cye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Y2(e){var t=e.children,n=e.width,s=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=Sye(e,Nye),d=i||{width:n,height:s,x:0,y:0},f=At("recharts-surface",a);return U.createElement("svg",K2({},ct(u,!0,"svg"),{className:f,width:n,height:s,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),U.createElement("title",null,l),U.createElement("desc",null,c),t)}var _ye=["children","className"];function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Q2.apply(this,arguments)}function Pye(e,t){if(e==null)return{};var n=Aye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Aye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Qt=U.forwardRef(function(e,t){var n=e.children,s=e.className,i=Pye(e,_ye),a=At("recharts-layer",s);return U.createElement("g",Q2({className:a},ct(i,!0),{ref:t}),n)}),Ta=function(t,n){for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a]};function Eye(e,t,n){var s=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++s<i;)a[s]=e[s+t];return a}var kye=Eye,Tye=kye;function Oye(e,t,n){var s=e.length;return n=n===void 0?s:n,!t&&n>=s?e:Tye(e,t,n)}var Dye=Oye,Mye="\\ud800-\\udfff",Iye="\\u0300-\\u036f",$ye="\\ufe20-\\ufe2f",Rye="\\u20d0-\\u20ff",Lye=Iye+$ye+Rye,Fye="\\ufe0e\\ufe0f",Bye="\\u200d",zye=RegExp("["+Bye+Mye+Lye+Fye+"]");function Vye(e){return zye.test(e)}var _U=Vye;function Uye(e){return e.split("")}var qye=Uye,PU="\\ud800-\\udfff",Wye="\\u0300-\\u036f",Hye="\\ufe20-\\ufe2f",Gye="\\u20d0-\\u20ff",Kye=Wye+Hye+Gye,Yye="\\ufe0e\\ufe0f",Qye="["+PU+"]",X2="["+Kye+"]",J2="\\ud83c[\\udffb-\\udfff]",Xye="(?:"+X2+"|"+J2+")",AU="[^"+PU+"]",EU="(?:\\ud83c[\\udde6-\\uddff]){2}",kU="[\\ud800-\\udbff][\\udc00-\\udfff]",Jye="\\u200d",TU=Xye+"?",OU="["+Yye+"]?",Zye="(?:"+Jye+"(?:"+[AU,EU,kU].join("|")+")"+OU+TU+")*",e0e=OU+TU+Zye,t0e="(?:"+[AU+X2+"?",X2,EU,kU,Qye].join("|")+")",n0e=RegExp(J2+"(?="+J2+")|"+t0e+e0e,"g");function r0e(e){return e.match(n0e)||[]}var s0e=r0e,i0e=qye,a0e=_U,o0e=s0e;function l0e(e){return a0e(e)?o0e(e):i0e(e)}var c0e=l0e,u0e=Dye,d0e=_U,h0e=c0e,f0e=yU;function m0e(e){return function(t){t=f0e(t);var n=d0e(t)?h0e(t):void 0,s=n?n[0]:t.charAt(0),i=n?u0e(n,1).join(""):t.slice(1);return s[e]()+i}}var p0e=m0e,g0e=p0e,v0e=g0e("toUpperCase"),x0e=v0e;const iw=pn(x0e);function Dn(e){return function(){return e}}const DU=Math.cos,z0=Math.sin,Ua=Math.sqrt,V0=Math.PI,aw=2*V0,Z2=Math.PI,e_=2*Z2,cu=1e-6,y0e=e_-cu;function MU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function j0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return MU;const n=10**t;return function(s){this._+=s[0];for(let i=1,a=s.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+s[i]}}class b0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?MU:j0e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,s,i){this._append`Q${+t},${+n},${this._x1=+s},${this._y1=+i}`}bezierCurveTo(t,n,s,i,a,o){this._append`C${+t},${+n},${+s},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,s,i,a){if(t=+t,n=+n,s=+s,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=s-t,u=i-n,d=o-t,f=l-n,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>cu)if(!(Math.abs(f*c-u*d)>cu)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let g=s-o,x=i-l,v=c*c+u*u,y=g*g+x*x,N=Math.sqrt(v),b=Math.sqrt(m),j=a*Math.tan((Z2-Math.acos((v+m-y)/(2*N*b)))/2),_=j/b,C=j/N;Math.abs(_-1)>cu&&this._append`L${t+_*d},${n+_*f}`,this._append`A${a},${a},0,0,${+(f*g>d*x)},${this._x1=t+C*c},${this._y1=n+C*u}`}}arc(t,n,s,i,a,o){if(t=+t,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(i),c=s*Math.sin(i),u=t+l,d=n+c,f=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>cu||Math.abs(this._y1-d)>cu)&&this._append`L${u},${d}`,s&&(m<0&&(m=m%e_+e_),m>y0e?this._append`A${s},${s},0,1,${f},${t-l},${n-c}A${s},${s},0,1,${f},${this._x1=u},${this._y1=d}`:m>cu&&this._append`A${s},${s},0,${+(m>=Z2)},${f},${this._x1=t+s*Math.cos(a)},${this._y1=n+s*Math.sin(a)}`)}rect(t,n,s,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${s=+s}v${+i}h${-s}Z`}toString(){return this._}}function BE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);t=s}return e},()=>new b0e(t)}function zE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IU(e){this._context=e}IU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ow(e){return new IU(e)}function $U(e){return e[0]}function RU(e){return e[1]}function LU(e,t){var n=Dn(!0),s=null,i=ow,a=null,o=BE(l);e=typeof e=="function"?e:e===void 0?$U:Dn(e),t=typeof t=="function"?t:t===void 0?RU:Dn(t);function l(c){var u,d=(c=zE(c)).length,f,m=!1,g;for(s==null&&(a=i(g=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(f,u,c),+t(f,u,c));if(g)return a=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Dn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Dn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Dn(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,s!=null&&(a=i(s)),l):i},l.context=function(c){return arguments.length?(c==null?s=a=null:a=i(s=c),l):s},l}function fy(e,t,n){var s=null,i=Dn(!0),a=null,o=ow,l=null,c=BE(u);e=typeof e=="function"?e:e===void 0?$U:Dn(+e),t=typeof t=="function"?t:Dn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?RU:Dn(+n);function u(f){var m,g,x,v=(f=zE(f)).length,y,N=!1,b,j=new Array(v),_=new Array(v);for(a==null&&(l=o(b=c())),m=0;m<=v;++m){if(!(m<v&&i(y=f[m],m,f))===N)if(N=!N)g=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=g;--x)l.point(j[x],_[x]);l.lineEnd(),l.areaEnd()}N&&(j[m]=+e(y,m,f),_[m]=+t(y,m,f),l.point(s?+s(y,m,f):j[m],n?+n(y,m,f):_[m]))}if(b)return l=null,b+""||null}function d(){return LU().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Dn(+f),s=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Dn(+f),u):e},u.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Dn(+f),u):s},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Dn(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Dn(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Dn(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(s).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Dn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class FU{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function w0e(e){return new FU(e,!0)}function N0e(e){return new FU(e,!1)}const VE={draw(e,t){const n=Ua(t/V0);e.moveTo(n,0),e.arc(0,0,n,0,aw)}},S0e={draw(e,t){const n=Ua(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},BU=Ua(1/3),C0e=BU*2,_0e={draw(e,t){const n=Ua(t/C0e),s=n*BU;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},P0e={draw(e,t){const n=Ua(t),s=-n/2;e.rect(s,s,n,n)}},A0e=.8908130915292852,zU=z0(V0/10)/z0(7*V0/10),E0e=z0(aw/10)*zU,k0e=-DU(aw/10)*zU,T0e={draw(e,t){const n=Ua(t*A0e),s=E0e*n,i=k0e*n;e.moveTo(0,-n),e.lineTo(s,i);for(let a=1;a<5;++a){const o=aw*a/5,l=DU(o),c=z0(o);e.lineTo(c*n,-l*n),e.lineTo(l*s-c*i,c*s+l*i)}e.closePath()}},NS=Ua(3),O0e={draw(e,t){const n=-Ua(t/(NS*3));e.moveTo(0,n*2),e.lineTo(-NS*n,-n),e.lineTo(NS*n,-n),e.closePath()}},Li=-.5,Fi=Ua(3)/2,t_=1/Ua(12),D0e=(t_/2+1)*3,M0e={draw(e,t){const n=Ua(t/D0e),s=n/2,i=n*t_,a=s,o=n*t_+n,l=-a,c=o;e.moveTo(s,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Li*s-Fi*i,Fi*s+Li*i),e.lineTo(Li*a-Fi*o,Fi*a+Li*o),e.lineTo(Li*l-Fi*c,Fi*l+Li*c),e.lineTo(Li*s+Fi*i,Li*i-Fi*s),e.lineTo(Li*a+Fi*o,Li*o-Fi*a),e.lineTo(Li*l+Fi*c,Li*c-Fi*l),e.closePath()}};function I0e(e,t){let n=null,s=BE(i);e=typeof e=="function"?e:Dn(e||VE),t=typeof t=="function"?t:Dn(t===void 0?64:+t);function i(){let a;if(n||(n=a=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Dn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Dn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function U0(){}function q0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function VU(e){this._context=e}VU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:q0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:q0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $0e(e){return new VU(e)}function UU(e){this._context=e}UU.prototype={areaStart:U0,areaEnd:U0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:q0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function R0e(e){return new UU(e)}function qU(e){this._context=e}qU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:q0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function L0e(e){return new qU(e)}function WU(e){this._context=e}WU.prototype={areaStart:U0,areaEnd:U0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function F0e(e){return new WU(e)}function JI(e){return e<0?-1:1}function ZI(e,t,n){var s=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(s||i<0&&-0),o=(n-e._y1)/(i||s<0&&-0),l=(a*i+o*s)/(s+i);return(JI(a)+JI(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function e4(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function SS(e,t,n){var s=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-s)/3;e._context.bezierCurveTo(s+l,i+l*t,a-l,o-l*n,a,o)}function W0(e){this._context=e}W0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:SS(this,this._t0,e4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,SS(this,e4(this,n=ZI(this,e,t)),n);break;default:SS(this,this._t0,n=ZI(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function HU(e){this._context=new GU(e)}(HU.prototype=Object.create(W0.prototype)).point=function(e,t){W0.prototype.point.call(this,t,e)};function GU(e){this._context=e}GU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,i,a){this._context.bezierCurveTo(t,e,s,n,a,i)}};function B0e(e){return new W0(e)}function z0e(e){return new HU(e)}function KU(e){this._context=e}KU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=t4(e),i=t4(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(s[0][a],i[0][a],s[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function t4(e){var t,n=e.length-1,s,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=i[t]/a[t-1],a[t]-=s,o[t]-=s*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function V0e(e){return new KU(e)}function lw(e,t){this._context=e,this._t=t}lw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function U0e(e){return new lw(e,.5)}function q0e(e){return new lw(e,0)}function W0e(e){return new lw(e,1)}function uf(e,t){if((o=e.length)>1)for(var n=1,s,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],s=0;s<l;++s)a[s][1]+=a[s][0]=isNaN(i[s][1])?i[s][0]:i[s][1]}function n_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function H0e(e,t){return e[t]}function G0e(e){const t=[];return t.key=e,t}function K0e(){var e=Dn([]),t=n_,n=uf,s=H0e;function i(a){var o=Array.from(e.apply(this,arguments),G0e),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+s(f,o[l].key,u,a)]).data=f;for(l=0,d=zE(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Dn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(s=typeof a=="function"?a:Dn(+a),i):s},i.order=function(a){return arguments.length?(t=a==null?n_:typeof a=="function"?a:Dn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??uf,i):n},i}function Y0e(e,t){if((s=e.length)>0){for(var n,s,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<s;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<s;++n)e[n][i][1]/=o}uf(e,t)}}function Q0e(e,t){if((i=e.length)>0){for(var n=0,s=e[t[0]],i,a=s.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}uf(e,t)}}function X0e(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,s=1,i,a,o;s<a;++s){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[s][1]||0,m=d[s-1][1]||0,g=(f-m)/2,x=0;x<l;++x){var v=e[t[x]],y=v[s][1]||0,N=v[s-1][1]||0;g+=y-N}c+=f,u+=g*f}i[s-1][1]+=i[s-1][0]=n,c&&(n-=u/c)}i[s-1][1]+=i[s-1][0]=n,uf(e,t)}}function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}var J0e=["type","size","sizeType"];function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r_.apply(this,arguments)}function n4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function r4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n4(Object(n),!0).forEach(function(s){Z0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Z0e(e,t,n){return t=eje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eje(e){var t=tje(e,"string");return pg(t)=="symbol"?t:t+""}function tje(e,t){if(pg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(pg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nje(e,t){if(e==null)return{};var n=rje(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function rje(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var YU={symbolCircle:VE,symbolCross:S0e,symbolDiamond:_0e,symbolSquare:P0e,symbolStar:T0e,symbolTriangle:O0e,symbolWye:M0e},sje=Math.PI/180,ije=function(t){var n="symbol".concat(iw(t));return YU[n]||VE},aje=function(t,n,s){if(n==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*sje;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},oje=function(t,n){YU["symbol".concat(iw(t))]=n},UE=function(t){var n=t.type,s=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=nje(t,J0e),u=r4(r4({},c),{},{type:s,size:a,sizeType:l}),d=function(){var y=ije(s),N=I0e().type(y).size(aje(a,l,s));return N()},f=u.className,m=u.cx,g=u.cy,x=ct(u,!0);return m===+m&&g===+g&&a===+a?U.createElement("path",r_({},x,{className:At("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};UE.registerSymbol=oje;function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},s_.apply(this,arguments)}function s4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function lje(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s4(Object(n),!0).forEach(function(s){gg(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function cje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uje(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,XU(s.key),s)}}function dje(e,t,n){return t&&uje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hje(e,t,n){return t=H0(t),fje(e,QU()?Reflect.construct(t,n||[],H0(e).constructor):t.apply(e,n))}function fje(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mje(e)}function mje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QU=function(){return!!e})()}function H0(e){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H0(e)}function pje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i_(e,t)}function i_(e,t){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},i_(e,t)}function gg(e,t,n){return t=XU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XU(e){var t=gje(e,"string");return df(t)=="symbol"?t:t+""}function gje(e,t){if(df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(df(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bi=32,qE=function(e){function t(){return cje(this,t),hje(this,t,arguments)}return pje(t,e),dje(t,[{key:"renderIcon",value:function(s){var i=this.props.inactiveColor,a=Bi/2,o=Bi/6,l=Bi/3,c=s.inactive?i:s.color;if(s.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:a,x2:Bi,y2:a,className:"recharts-legend-icon"});if(s.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Bi,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(s.type==="rect")return U.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Bi/8,"h").concat(Bi,"v").concat(Bi*3/4,"h").concat(-Bi,"z"),className:"recharts-legend-icon"});if(U.isValidElement(s.legendIcon)){var u=lje({},s);return delete u.legendIcon,U.cloneElement(s.legendIcon,u)}return U.createElement(UE,{fill:c,cx:a,cy:a,size:Bi,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Bi,height:Bi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,x){var v=g.formatter||c,y=At(gg(gg({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var N=yt(g.value)?null:g.value;Ta(!yt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=g.inactive?u:g.color;return U.createElement("li",s_({className:y,style:f,key:"legend-item-".concat(x)},Ju(s.props,g,x)),U.createElement(Y2,{width:o,height:o,viewBox:d,style:m},s.renderIcon(g)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},v?v(N,g,x):N))})}},{key:"render",value:function(){var s=this.props,i=s.payload,a=s.layout,o=s.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);gg(qE,"displayName","Legend");gg(qE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var vje=Hb;function xje(){this.__data__=new vje,this.size=0}var yje=xje;function jje(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var bje=jje;function wje(e){return this.__data__.get(e)}var Nje=wje;function Sje(e){return this.__data__.has(e)}var Cje=Sje,_je=Hb,Pje=TE,Aje=OE,Eje=200;function kje(e,t){var n=this.__data__;if(n instanceof _je){var s=n.__data__;if(!Pje||s.length<Eje-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new Aje(s)}return n.set(e,t),this.size=n.size,this}var Tje=kje,Oje=Hb,Dje=yje,Mje=bje,Ije=Nje,$je=Cje,Rje=Tje;function lm(e){var t=this.__data__=new Oje(e);this.size=t.size}lm.prototype.clear=Dje;lm.prototype.delete=Mje;lm.prototype.get=Ije;lm.prototype.has=$je;lm.prototype.set=Rje;var JU=lm,Lje="__lodash_hash_undefined__";function Fje(e){return this.__data__.set(e,Lje),this}var Bje=Fje;function zje(e){return this.__data__.has(e)}var Vje=zje,Uje=OE,qje=Bje,Wje=Vje;function G0(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Uje;++t<n;)this.add(e[t])}G0.prototype.add=G0.prototype.push=qje;G0.prototype.has=Wje;var ZU=G0;function Hje(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var eq=Hje;function Gje(e,t){return e.has(t)}var tq=Gje,Kje=ZU,Yje=eq,Qje=tq,Xje=1,Jje=2;function Zje(e,t,n,s,i,a){var o=n&Xje,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,m=!0,g=n&Jje?new Kje:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var x=e[f],v=t[f];if(s)var y=o?s(v,x,f,t,e,a):s(x,v,f,e,t,a);if(y!==void 0){if(y)continue;m=!1;break}if(g){if(!Yje(t,function(N,b){if(!Qje(g,b)&&(x===N||i(x,N,n,s,a)))return g.push(b)})){m=!1;break}}else if(!(x===v||i(x,v,n,s,a))){m=!1;break}}return a.delete(e),a.delete(t),m}var nq=Zje,ebe=wo,tbe=ebe.Uint8Array,nbe=tbe;function rbe(e){var t=-1,n=Array(e.size);return e.forEach(function(s,i){n[++t]=[i,s]}),n}var sbe=rbe;function ibe(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var WE=ibe,i4=Nv,a4=nbe,abe=kE,obe=nq,lbe=sbe,cbe=WE,ube=1,dbe=2,hbe="[object Boolean]",fbe="[object Date]",mbe="[object Error]",pbe="[object Map]",gbe="[object Number]",vbe="[object RegExp]",xbe="[object Set]",ybe="[object String]",jbe="[object Symbol]",bbe="[object ArrayBuffer]",wbe="[object DataView]",o4=i4?i4.prototype:void 0,CS=o4?o4.valueOf:void 0;function Nbe(e,t,n,s,i,a,o){switch(n){case wbe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case bbe:return!(e.byteLength!=t.byteLength||!a(new a4(e),new a4(t)));case hbe:case fbe:case gbe:return abe(+e,+t);case mbe:return e.name==t.name&&e.message==t.message;case vbe:case ybe:return e==t+"";case pbe:var l=lbe;case xbe:var c=s&ube;if(l||(l=cbe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;s|=dbe,o.set(e,t);var d=obe(l(e),l(t),s,i,a,o);return o.delete(e),d;case jbe:if(CS)return CS.call(e)==CS.call(t)}return!1}var Sbe=Nbe;function Cbe(e,t){for(var n=-1,s=t.length,i=e.length;++n<s;)e[i+n]=t[n];return e}var rq=Cbe,_be=rq,Pbe=ii;function Abe(e,t,n){var s=t(e);return Pbe(e)?s:_be(s,n(e))}var Ebe=Abe;function kbe(e,t){for(var n=-1,s=e==null?0:e.length,i=0,a=[];++n<s;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var Tbe=kbe;function Obe(){return[]}var Dbe=Obe,Mbe=Tbe,Ibe=Dbe,$be=Object.prototype,Rbe=$be.propertyIsEnumerable,l4=Object.getOwnPropertySymbols,Lbe=l4?function(e){return e==null?[]:(e=Object(e),Mbe(l4(e),function(t){return Rbe.call(e,t)}))}:Ibe,Fbe=Lbe;function Bbe(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var zbe=Bbe,Vbe=gl,Ube=vl,qbe="[object Arguments]";function Wbe(e){return Ube(e)&&Vbe(e)==qbe}var Hbe=Wbe,c4=Hbe,Gbe=vl,sq=Object.prototype,Kbe=sq.hasOwnProperty,Ybe=sq.propertyIsEnumerable,Qbe=c4(function(){return arguments}())?c4:function(e){return Gbe(e)&&Kbe.call(e,"callee")&&!Ybe.call(e,"callee")},HE=Qbe,K0={exports:{}};function Xbe(){return!1}var Jbe=Xbe;K0.exports;(function(e,t){var n=wo,s=Jbe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||s;e.exports=u})(K0,K0.exports);var iq=K0.exports,Zbe=9007199254740991,ewe=/^(?:0|[1-9]\d*)$/;function twe(e,t){var n=typeof e;return t=t??Zbe,!!t&&(n=="number"||n!="symbol"&&ewe.test(e))&&e>-1&&e%1==0&&e<t}var GE=twe,nwe=9007199254740991;function rwe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nwe}var KE=rwe,swe=gl,iwe=KE,awe=vl,owe="[object Arguments]",lwe="[object Array]",cwe="[object Boolean]",uwe="[object Date]",dwe="[object Error]",hwe="[object Function]",fwe="[object Map]",mwe="[object Number]",pwe="[object Object]",gwe="[object RegExp]",vwe="[object Set]",xwe="[object String]",ywe="[object WeakMap]",jwe="[object ArrayBuffer]",bwe="[object DataView]",wwe="[object Float32Array]",Nwe="[object Float64Array]",Swe="[object Int8Array]",Cwe="[object Int16Array]",_we="[object Int32Array]",Pwe="[object Uint8Array]",Awe="[object Uint8ClampedArray]",Ewe="[object Uint16Array]",kwe="[object Uint32Array]",Fn={};Fn[wwe]=Fn[Nwe]=Fn[Swe]=Fn[Cwe]=Fn[_we]=Fn[Pwe]=Fn[Awe]=Fn[Ewe]=Fn[kwe]=!0;Fn[owe]=Fn[lwe]=Fn[jwe]=Fn[cwe]=Fn[bwe]=Fn[uwe]=Fn[dwe]=Fn[hwe]=Fn[fwe]=Fn[mwe]=Fn[pwe]=Fn[gwe]=Fn[vwe]=Fn[xwe]=Fn[ywe]=!1;function Twe(e){return awe(e)&&iwe(e.length)&&!!Fn[swe(e)]}var Owe=Twe;function Dwe(e){return function(t){return e(t)}}var aq=Dwe,Y0={exports:{}};Y0.exports;(function(e,t){var n=fU,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===s,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Y0,Y0.exports);var Mwe=Y0.exports,Iwe=Owe,$we=aq,u4=Mwe,d4=u4&&u4.isTypedArray,Rwe=d4?$we(d4):Iwe,oq=Rwe,Lwe=zbe,Fwe=HE,Bwe=ii,zwe=iq,Vwe=GE,Uwe=oq,qwe=Object.prototype,Wwe=qwe.hasOwnProperty;function Hwe(e,t){var n=Bwe(e),s=!n&&Fwe(e),i=!n&&!s&&zwe(e),a=!n&&!s&&!i&&Uwe(e),o=n||s||i||a,l=o?Lwe(e.length,String):[],c=l.length;for(var u in e)(t||Wwe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vwe(u,c)))&&l.push(u);return l}var Gwe=Hwe,Kwe=Object.prototype;function Ywe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Kwe;return e===n}var Qwe=Ywe;function Xwe(e,t){return function(n){return e(t(n))}}var lq=Xwe,Jwe=lq,Zwe=Jwe(Object.keys,Object),e1e=Zwe,t1e=Qwe,n1e=e1e,r1e=Object.prototype,s1e=r1e.hasOwnProperty;function i1e(e){if(!t1e(e))return n1e(e);var t=[];for(var n in Object(e))s1e.call(e,n)&&n!="constructor"&&t.push(n);return t}var a1e=i1e,o1e=EE,l1e=KE;function c1e(e){return e!=null&&l1e(e.length)&&!o1e(e)}var Sv=c1e,u1e=Gwe,d1e=a1e,h1e=Sv;function f1e(e){return h1e(e)?u1e(e):d1e(e)}var cw=f1e,m1e=Ebe,p1e=Fbe,g1e=cw;function v1e(e){return m1e(e,g1e,p1e)}var x1e=v1e,h4=x1e,y1e=1,j1e=Object.prototype,b1e=j1e.hasOwnProperty;function w1e(e,t,n,s,i,a){var o=n&y1e,l=h4(e),c=l.length,u=h4(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:b1e.call(t,m)))return!1}var g=a.get(e),x=a.get(t);if(g&&x)return g==t&&x==e;var v=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){m=l[f];var N=e[m],b=t[m];if(s)var j=o?s(b,N,m,t,e,a):s(N,b,m,e,t,a);if(!(j===void 0?N===b||i(N,b,n,s,a):j)){v=!1;break}y||(y=m=="constructor")}if(v&&!y){var _=e.constructor,C=t.constructor;_!=C&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof C=="function"&&C instanceof C)&&(v=!1)}return a.delete(e),a.delete(t),v}var N1e=w1e,S1e=md,C1e=wo,_1e=S1e(C1e,"DataView"),P1e=_1e,A1e=md,E1e=wo,k1e=A1e(E1e,"Promise"),T1e=k1e,O1e=md,D1e=wo,M1e=O1e(D1e,"Set"),cq=M1e,I1e=md,$1e=wo,R1e=I1e($1e,"WeakMap"),L1e=R1e,a_=P1e,o_=TE,l_=T1e,c_=cq,u_=L1e,uq=gl,cm=pU,f4="[object Map]",F1e="[object Object]",m4="[object Promise]",p4="[object Set]",g4="[object WeakMap]",v4="[object DataView]",B1e=cm(a_),z1e=cm(o_),V1e=cm(l_),U1e=cm(c_),q1e=cm(u_),uu=uq;(a_&&uu(new a_(new ArrayBuffer(1)))!=v4||o_&&uu(new o_)!=f4||l_&&uu(l_.resolve())!=m4||c_&&uu(new c_)!=p4||u_&&uu(new u_)!=g4)&&(uu=function(e){var t=uq(e),n=t==F1e?e.constructor:void 0,s=n?cm(n):"";if(s)switch(s){case B1e:return v4;case z1e:return f4;case V1e:return m4;case U1e:return p4;case q1e:return g4}return t});var W1e=uu,_S=JU,H1e=nq,G1e=Sbe,K1e=N1e,x4=W1e,y4=ii,j4=iq,Y1e=oq,Q1e=1,b4="[object Arguments]",w4="[object Array]",my="[object Object]",X1e=Object.prototype,N4=X1e.hasOwnProperty;function J1e(e,t,n,s,i,a){var o=y4(e),l=y4(t),c=o?w4:x4(e),u=l?w4:x4(t);c=c==b4?my:c,u=u==b4?my:u;var d=c==my,f=u==my,m=c==u;if(m&&j4(e)){if(!j4(t))return!1;o=!0,d=!1}if(m&&!d)return a||(a=new _S),o||Y1e(e)?H1e(e,t,n,s,i,a):G1e(e,t,c,n,s,i,a);if(!(n&Q1e)){var g=d&&N4.call(e,"__wrapped__"),x=f&&N4.call(t,"__wrapped__");if(g||x){var v=g?e.value():e,y=x?t.value():t;return a||(a=new _S),i(v,y,n,s,a)}}return m?(a||(a=new _S),K1e(e,t,n,s,i,a)):!1}var Z1e=J1e,eNe=Z1e,S4=vl;function dq(e,t,n,s,i){return e===t?!0:e==null||t==null||!S4(e)&&!S4(t)?e!==e&&t!==t:eNe(e,t,n,s,dq,i)}var YE=dq,tNe=JU,nNe=YE,rNe=1,sNe=2;function iNe(e,t,n,s){var i=n.length,a=i,o=!s;if(e==null)return!a;for(e=Object(e);i--;){var l=n[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=n[i];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new tNe;if(s)var m=s(u,d,c,e,t,f);if(!(m===void 0?nNe(d,u,rNe|sNe,s,f):m))return!1}}return!0}var aNe=iNe,oNe=zc;function lNe(e){return e===e&&!oNe(e)}var hq=lNe,cNe=hq,uNe=cw;function dNe(e){for(var t=uNe(e),n=t.length;n--;){var s=t[n],i=e[s];t[n]=[s,i,cNe(i)]}return t}var hNe=dNe;function fNe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var fq=fNe,mNe=aNe,pNe=hNe,gNe=fq;function vNe(e){var t=pNe(e);return t.length==1&&t[0][2]?gNe(t[0][0],t[0][1]):function(n){return n===e||mNe(n,e,t)}}var xNe=vNe;function yNe(e,t){return e!=null&&t in Object(e)}var jNe=yNe,bNe=jU,wNe=HE,NNe=ii,SNe=GE,CNe=KE,_Ne=Kb;function PNe(e,t,n){t=bNe(t,e);for(var s=-1,i=t.length,a=!1;++s<i;){var o=_Ne(t[s]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++s!=i?a:(i=e==null?0:e.length,!!i&&CNe(i)&&SNe(o,i)&&(NNe(e)||wNe(e)))}var ANe=PNe,ENe=jNe,kNe=ANe;function TNe(e,t){return e!=null&&kNe(e,t,ENe)}var ONe=TNe,DNe=YE,MNe=bU,INe=ONe,$Ne=AE,RNe=hq,LNe=fq,FNe=Kb,BNe=1,zNe=2;function VNe(e,t){return $Ne(e)&&RNe(t)?LNe(FNe(e),t):function(n){var s=MNe(n,e);return s===void 0&&s===t?INe(n,e):DNe(t,s,BNe|zNe)}}var UNe=VNe;function qNe(e){return e}var um=qNe;function WNe(e){return function(t){return t==null?void 0:t[e]}}var HNe=WNe,GNe=IE;function KNe(e){return function(t){return GNe(t,e)}}var YNe=KNe,QNe=HNe,XNe=YNe,JNe=AE,ZNe=Kb;function eSe(e){return JNe(e)?QNe(ZNe(e)):XNe(e)}var tSe=eSe,nSe=xNe,rSe=UNe,sSe=um,iSe=ii,aSe=tSe;function oSe(e){return typeof e=="function"?e:e==null?sSe:typeof e=="object"?iSe(e)?rSe(e[0],e[1]):nSe(e):aSe(e)}var No=oSe;function lSe(e,t,n,s){for(var i=e.length,a=n+(s?1:-1);s?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var mq=lSe;function cSe(e){return e!==e}var uSe=cSe;function dSe(e,t,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===t)return s;return-1}var hSe=dSe,fSe=mq,mSe=uSe,pSe=hSe;function gSe(e,t,n){return t===t?pSe(e,t,n):fSe(e,mSe,n)}var vSe=gSe,xSe=vSe;function ySe(e,t){var n=e==null?0:e.length;return!!n&&xSe(e,t,0)>-1}var jSe=ySe;function bSe(e,t,n){for(var s=-1,i=e==null?0:e.length;++s<i;)if(n(t,e[s]))return!0;return!1}var wSe=bSe;function NSe(){}var SSe=NSe,PS=cq,CSe=SSe,_Se=WE,PSe=1/0,ASe=PS&&1/_Se(new PS([,-0]))[1]==PSe?function(e){return new PS(e)}:CSe,ESe=ASe,kSe=ZU,TSe=jSe,OSe=wSe,DSe=tq,MSe=ESe,ISe=WE,$Se=200;function RSe(e,t,n){var s=-1,i=TSe,a=e.length,o=!0,l=[],c=l;if(n)o=!1,i=OSe;else if(a>=$Se){var u=t?null:MSe(e);if(u)return ISe(u);o=!1,i=DSe,c=new kSe}else c=t?[]:l;e:for(;++s<a;){var d=e[s],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var LSe=RSe,FSe=No,BSe=LSe;function zSe(e,t){return e&&e.length?BSe(e,FSe(t)):[]}var VSe=zSe;const C4=pn(VSe);function pq(e,t,n){return t===!0?C4(e,n):yt(t)?C4(e,t):e}function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}var USe=["ref"];function _4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Io(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(n),!0).forEach(function(s){uw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P4(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,vq(s.key),s)}}function WSe(e,t,n){return t&&P4(e.prototype,t),n&&P4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function HSe(e,t,n){return t=Q0(t),GSe(e,gq()?Reflect.construct(t,n||[],Q0(e).constructor):t.apply(e,n))}function GSe(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KSe(e)}function KSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gq=function(){return!!e})()}function Q0(e){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(e)}function YSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d_(e,t)}function d_(e,t){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},d_(e,t)}function uw(e,t,n){return t=vq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vq(e){var t=QSe(e,"string");return hf(t)=="symbol"?t:t+""}function QSe(e,t){if(hf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(hf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XSe(e,t){if(e==null)return{};var n=JSe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function JSe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function ZSe(e){return e.value}function eCe(e,t){if(U.isValidElement(e))return U.cloneElement(e,t);if(typeof e=="function")return U.createElement(e,t);t.ref;var n=XSe(t,USe);return U.createElement(qE,n)}var A4=1,Oh=function(e){function t(){var n;qSe(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=HSe(this,t,[].concat(i)),uw(n,"lastBoundingBox",{width:-1,height:-1}),n}return YSe(t,e),WSe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>A4||Math.abs(i.height-this.lastBoundingBox.height)>A4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,s&&s(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Io({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,m;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((d||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Io(Io({},f),m)}},{key:"render",value:function(){var s=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Io(Io({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){s.wrapperNode=g}},eCe(a,Io(Io({},this.props),{},{payload:pq(d,u,ZSe)})))}}],[{key:"getWithHeight",value:function(s,i){var a=Io(Io({},this.defaultProps),s.props),o=a.layout;return o==="vertical"&&Ve(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||i}:null}}])}(w.PureComponent);uw(Oh,"displayName","Legend");uw(Oh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var E4=Nv,tCe=HE,nCe=ii,k4=E4?E4.isConcatSpreadable:void 0;function rCe(e){return nCe(e)||tCe(e)||!!(k4&&e&&e[k4])}var sCe=rCe,iCe=rq,aCe=sCe;function xq(e,t,n,s,i){var a=-1,o=e.length;for(n||(n=aCe),i||(i=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?xq(l,t-1,n,s,i):iCe(i,l):s||(i[i.length]=l)}return i}var yq=xq;function oCe(e){return function(t,n,s){for(var i=-1,a=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++i];if(n(a[c],c,a)===!1)break}return t}}var lCe=oCe,cCe=lCe,uCe=cCe(),dCe=uCe,hCe=dCe,fCe=cw;function mCe(e,t){return e&&hCe(e,t,fCe)}var jq=mCe,pCe=Sv;function gCe(e,t){return function(n,s){if(n==null)return n;if(!pCe(n))return e(n,s);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&s(o[a],a,o)!==!1;);return n}}var vCe=gCe,xCe=jq,yCe=vCe,jCe=yCe(xCe),QE=jCe,bCe=QE,wCe=Sv;function NCe(e,t){var n=-1,s=wCe(e)?Array(e.length):[];return bCe(e,function(i,a,o){s[++n]=t(i,a,o)}),s}var bq=NCe;function SCe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var CCe=SCe,T4=nm;function _Ce(e,t){if(e!==t){var n=e!==void 0,s=e===null,i=e===e,a=T4(e),o=t!==void 0,l=t===null,c=t===t,u=T4(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||s&&o&&c||!n&&c||!i)return 1;if(!s&&!a&&!u&&e<t||u&&n&&i&&!s&&!a||l&&n&&i||!o&&i||!c)return-1}return 0}var PCe=_Ce,ACe=PCe;function ECe(e,t,n){for(var s=-1,i=e.criteria,a=t.criteria,o=i.length,l=n.length;++s<o;){var c=ACe(i[s],a[s]);if(c){if(s>=l)return c;var u=n[s];return c*(u=="desc"?-1:1)}}return e.index-t.index}var kCe=ECe,AS=ME,TCe=IE,OCe=No,DCe=bq,MCe=CCe,ICe=aq,$Ce=kCe,RCe=um,LCe=ii;function FCe(e,t,n){t.length?t=AS(t,function(a){return LCe(a)?function(o){return TCe(o,a.length===1?a[0]:a)}:a}):t=[RCe];var s=-1;t=AS(t,ICe(OCe));var i=DCe(e,function(a,o,l){var c=AS(t,function(u){return u(a)});return{criteria:c,index:++s,value:a}});return MCe(i,function(a,o){return $Ce(a,o,n)})}var BCe=FCe;function zCe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var VCe=zCe,UCe=VCe,O4=Math.max;function qCe(e,t,n){return t=O4(t===void 0?e.length-1:t,0),function(){for(var s=arguments,i=-1,a=O4(s.length-t,0),o=Array(a);++i<a;)o[i]=s[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=s[i];return l[t]=n(o),UCe(e,this,l)}}var WCe=qCe;function HCe(e){return function(){return e}}var GCe=HCe,KCe=md,YCe=function(){try{var e=KCe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wq=YCe,QCe=GCe,D4=wq,XCe=um,JCe=D4?function(e,t){return D4(e,"toString",{configurable:!0,enumerable:!1,value:QCe(t),writable:!0})}:XCe,ZCe=JCe,e2e=800,t2e=16,n2e=Date.now;function r2e(e){var t=0,n=0;return function(){var s=n2e(),i=t2e-(s-n);if(n=s,i>0){if(++t>=e2e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var s2e=r2e,i2e=ZCe,a2e=s2e,o2e=a2e(i2e),l2e=o2e,c2e=um,u2e=WCe,d2e=l2e;function h2e(e,t){return d2e(u2e(e,t,c2e),e+"")}var f2e=h2e,m2e=kE,p2e=Sv,g2e=GE,v2e=zc;function x2e(e,t,n){if(!v2e(n))return!1;var s=typeof t;return(s=="number"?p2e(n)&&g2e(t,n.length):s=="string"&&t in n)?m2e(n[t],e):!1}var dw=x2e,y2e=yq,j2e=BCe,b2e=f2e,M4=dw,w2e=b2e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&M4(e,t[0],t[1])?t=[]:n>2&&M4(t[0],t[1],t[2])&&(t=[t[0]]),j2e(e,y2e(t,1),[])}),N2e=w2e;const XE=pn(N2e);function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},h_.apply(this,arguments)}function S2e(e,t){return A2e(e)||P2e(e,t)||_2e(e,t)||C2e()}function C2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _2e(e,t){if(e){if(typeof e=="string")return I4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I4(e,t)}}function I4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function P2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function A2e(e){if(Array.isArray(e))return e}function $4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ES(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(n),!0).forEach(function(s){E2e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function E2e(e,t,n){return t=k2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k2e(e){var t=T2e(e,"string");return vg(t)=="symbol"?t:t+""}function T2e(e,t){if(vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O2e(e){return Array.isArray(e)&&Mr(e[0])&&Mr(e[1])?e.join(" ~ "):e}var D2e=function(t){var n=t.separator,s=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,g=t.wrapperClassName,x=t.labelClassName,v=t.label,y=t.labelFormatter,N=t.accessibilityLayer,b=N===void 0?!1:N,j=function(){if(d&&d.length){var O={padding:0,margin:0},L=(m?XE(d,m):d).map(function(B,Z){if(B.type==="none")return null;var H=ES({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),ae=B.formatter||f||O2e,X=B.value,D=B.name,ie=X,me=D;if(ae&&ie!=null&&me!=null){var te=ae(X,D,B,Z,d);if(Array.isArray(te)){var J=S2e(te,2);ie=J[0],me=J[1]}else ie=te}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:H},Mr(me)?U.createElement("span",{className:"recharts-tooltip-item-name"},me):null,Mr(me)?U.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,U.createElement("span",{className:"recharts-tooltip-item-value"},ie),U.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},_=ES({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=ES({margin:0},u),A=!Pt(v),P=A?v:"",E=At("recharts-default-tooltip",g),M=At("recharts-tooltip-label",x);A&&y&&d!==void 0&&d!==null&&(P=y(v,d));var $=b?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",h_({className:E,style:_},$),U.createElement("p",{className:M,style:C},U.isValidElement(P)?P:"".concat(P)),j())};function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function py(e,t,n){return t=M2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M2e(e){var t=I2e(e,"string");return xg(t)=="symbol"?t:t+""}function I2e(e,t){if(xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(xg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tp="recharts-tooltip-wrapper",$2e={visibility:"hidden"};function R2e(e){var t=e.coordinate,n=e.translateX,s=e.translateY;return At(tp,py(py(py(py({},"".concat(tp,"-right"),Ve(n)&&t&&Ve(t.x)&&n>=t.x),"".concat(tp,"-left"),Ve(n)&&t&&Ve(t.x)&&n<t.x),"".concat(tp,"-bottom"),Ve(s)&&t&&Ve(t.y)&&s>=t.y),"".concat(tp,"-top"),Ve(s)&&t&&Ve(t.y)&&s<t.y))}function R4(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&Ve(a[s]))return a[s];var d=n[s]-l-i,f=n[s]+i;if(t[s])return o[s]?d:f;if(o[s]){var m=d,g=c[s];return m<g?Math.max(f,c[s]):Math.max(d,c[s])}var x=f+l,v=c[s]+u;return x>v?Math.max(d,c[s]):Math.max(f,c[s])}function L2e(e){var t=e.translateX,n=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function F2e(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=R4({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=R4({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=L2e({translateX:d,translateY:f,useTranslate3d:l})):u=$2e,{cssProperties:u,cssClasses:R2e({translateX:d,translateY:f,coordinate:n})}}function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function L4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function F4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L4(Object(n),!0).forEach(function(s){m_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function B2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Sq(s.key),s)}}function V2e(e,t,n){return t&&z2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U2e(e,t,n){return t=X0(t),q2e(e,Nq()?Reflect.construct(t,n||[],X0(e).constructor):t.apply(e,n))}function q2e(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W2e(e)}function W2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nq=function(){return!!e})()}function X0(e){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X0(e)}function H2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},f_(e,t)}function m_(e,t,n){return t=Sq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sq(e){var t=G2e(e,"string");return ff(t)=="symbol"?t:t+""}function G2e(e,t){if(ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ff(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B4=1,K2e=function(e){function t(){var n;B2e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=U2e(this,t,[].concat(i)),m_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),m_(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return H2e(t,e),V2e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>B4||Math.abs(s.height-this.state.lastBoundingBox.height)>B4)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,m=i.isAnimationActive,g=i.offset,x=i.position,v=i.reverseDirection,y=i.useTranslate3d,N=i.viewBox,b=i.wrapperStyle,j=F2e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:g,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:N}),_=j.cssClasses,C=j.cssProperties,A=F4(F4({transition:m&&a?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return U.createElement("div",{tabIndex:-1,className:_,style:A,ref:function(E){s.wrapperNode=E}},u)}}])}(w.PureComponent),Y2e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Oa={isSsr:Y2e(),get:function(t){return Oa[t]},set:function(t,n){if(typeof t=="string")Oa[t]=n;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(i){Oa[i]=t[i]})}}};function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function z4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function V4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(n),!0).forEach(function(s){JE(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Q2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_q(s.key),s)}}function J2e(e,t,n){return t&&X2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z2e(e,t,n){return t=J0(t),e_e(e,Cq()?Reflect.construct(t,n||[],J0(e).constructor):t.apply(e,n))}function e_e(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t_e(e)}function t_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cq=function(){return!!e})()}function J0(e){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(e)}function n_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p_(e,t)}function p_(e,t){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},p_(e,t)}function JE(e,t,n){return t=_q(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _q(e){var t=r_e(e,"string");return mf(t)=="symbol"?t:t+""}function r_e(e,t){if(mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(mf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s_e(e){return e.dataKey}function i_e(e,t){return U.isValidElement(e)?U.cloneElement(e,t):typeof e=="function"?U.createElement(e,t):U.createElement(D2e,t)}var Ur=function(e){function t(){return Q2e(this,t),Z2e(this,t,arguments)}return n_e(t,e),J2e(t,[{key:"render",value:function(){var s=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,m=i.isAnimationActive,g=i.offset,x=i.payload,v=i.payloadUniqBy,y=i.position,N=i.reverseDirection,b=i.useTranslate3d,j=i.viewBox,_=i.wrapperStyle,C=x??[];f&&C.length&&(C=pq(x.filter(function(P){return P.value!=null&&(P.hide!==!0||s.props.includeHidden)}),v,s_e));var A=C.length>0;return U.createElement(K2e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:a,coordinate:d,hasPayload:A,offset:g,position:y,reverseDirection:N,useTranslate3d:b,viewBox:j,wrapperStyle:_},i_e(u,V4(V4({},this.props),{},{payload:C})))}}])}(w.PureComponent);JE(Ur,"displayName","Tooltip");JE(Ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Oa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var a_e=wo,o_e=function(){return a_e.Date.now()},l_e=o_e,c_e=/\s/;function u_e(e){for(var t=e.length;t--&&c_e.test(e.charAt(t)););return t}var d_e=u_e,h_e=d_e,f_e=/^\s+/;function m_e(e){return e&&e.slice(0,h_e(e)+1).replace(f_e,"")}var p_e=m_e,g_e=p_e,U4=zc,v_e=nm,q4=NaN,x_e=/^[-+]0x[0-9a-f]+$/i,y_e=/^0b[01]+$/i,j_e=/^0o[0-7]+$/i,b_e=parseInt;function w_e(e){if(typeof e=="number")return e;if(v_e(e))return q4;if(U4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=U4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=g_e(e);var n=y_e.test(e);return n||j_e.test(e)?b_e(e.slice(2),n?2:8):x_e.test(e)?q4:+e}var Pq=w_e,N_e=zc,kS=l_e,W4=Pq,S_e="Expected a function",C_e=Math.max,__e=Math.min;function P_e(e,t,n){var s,i,a,o,l,c,u=0,d=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(S_e);t=W4(t)||0,N_e(n)&&(d=!!n.leading,f="maxWait"in n,a=f?C_e(W4(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m);function g(A){var P=s,E=i;return s=i=void 0,u=A,o=e.apply(E,P),o}function x(A){return u=A,l=setTimeout(N,t),d?g(A):o}function v(A){var P=A-c,E=A-u,M=t-P;return f?__e(M,a-E):M}function y(A){var P=A-c,E=A-u;return c===void 0||P>=t||P<0||f&&E>=a}function N(){var A=kS();if(y(A))return b(A);l=setTimeout(N,v(A))}function b(A){return l=void 0,m&&s?g(A):(s=i=void 0,o)}function j(){l!==void 0&&clearTimeout(l),u=0,s=c=i=l=void 0}function _(){return l===void 0?o:b(kS())}function C(){var A=kS(),P=y(A);if(s=arguments,i=this,c=A,P){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(N,t),g(c)}return l===void 0&&(l=setTimeout(N,t)),o}return C.cancel=j,C.flush=_,C}var A_e=P_e,E_e=A_e,k_e=zc,T_e="Expected a function";function O_e(e,t,n){var s=!0,i=!0;if(typeof e!="function")throw new TypeError(T_e);return k_e(n)&&(s="leading"in n?!!n.leading:s,i="trailing"in n?!!n.trailing:i),E_e(e,t,{leading:s,maxWait:t,trailing:i})}var D_e=O_e;const Aq=pn(D_e);function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function H4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function gy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H4(Object(n),!0).forEach(function(s){M_e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function M_e(e,t,n){return t=I_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I_e(e){var t=$_e(e,"string");return yg(t)=="symbol"?t:t+""}function $_e(e,t){if(yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(yg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R_e(e,t){return z_e(e)||B_e(e,t)||F_e(e,t)||L_e()}function L_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F_e(e,t){if(e){if(typeof e=="string")return G4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G4(e,t)}}function G4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function B_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function z_e(e){if(Array.isArray(e))return e}var cl=w.forwardRef(function(e,t){var n=e.aspect,s=e.initialDimension,i=s===void 0?{width:-1,height:-1}:s,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,g=e.children,x=e.debounce,v=x===void 0?0:x,y=e.id,N=e.className,b=e.onResize,j=e.style,_=j===void 0?{}:j,C=w.useRef(null),A=w.useRef();A.current=b,w.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var P=w.useState({containerWidth:i.width,containerHeight:i.height}),E=R_e(P,2),M=E[0],$=E[1],T=w.useCallback(function(L,B){$(function(Z){var H=Math.round(L),ae=Math.round(B);return Z.containerWidth===H&&Z.containerHeight===ae?Z:{containerWidth:H,containerHeight:ae}})},[]);w.useEffect(function(){var L=function(D){var ie,me=D[0].contentRect,te=me.width,J=me.height;T(te,J),(ie=A.current)===null||ie===void 0||ie.call(A,te,J)};v>0&&(L=Aq(L,v,{trailing:!0,leading:!1}));var B=new ResizeObserver(L),Z=C.current.getBoundingClientRect(),H=Z.width,ae=Z.height;return T(H,ae),B.observe(C.current),function(){B.disconnect()}},[T,v]);var O=w.useMemo(function(){var L=M.containerWidth,B=M.containerHeight;if(L<0||B<0)return null;Ta(yu(o)||yu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ta(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Z=yu(o)?L:o,H=yu(c)?B:c;n&&n>0&&(Z?H=Z/n:H&&(Z=H*n),m&&H>m&&(H=m)),Ta(Z>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,H,o,c,d,f,n);var ae=!Array.isArray(g)&&Jo(g.type).endsWith("Chart");return U.Children.map(g,function(X){return U.isValidElement(X)?w.cloneElement(X,gy({width:Z,height:H},ae?{style:gy({height:"100%",width:"100%",maxHeight:H,maxWidth:Z},X.props.style)}:{})):X})},[n,g,c,m,f,d,M,o]);return U.createElement("div",{id:y?"".concat(y):void 0,className:At("recharts-responsive-container",N),style:gy(gy({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:C},O)}),dm=function(t){return null};dm.displayName="Cell";function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function K4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function g_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(n),!0).forEach(function(s){V_e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function V_e(e,t,n){return t=U_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U_e(e){var t=q_e(e,"string");return jg(t)=="symbol"?t:t+""}function q_e(e,t){if(jg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(jg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kd={widthCache:{},cacheCount:0},W_e=2e3,H_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Y4="recharts_measurement_span";function G_e(e){var t=g_({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Mp=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Oa.isSsr)return{width:0,height:0};var s=G_e(n),i=JSON.stringify({text:t,copyStyle:s});if(Kd.widthCache[i])return Kd.widthCache[i];try{var a=document.getElementById(Y4);a||(a=document.createElement("span"),a.setAttribute("id",Y4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=g_(g_({},H_e),s);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Kd.widthCache[i]=c,++Kd.cacheCount>W_e&&(Kd.cacheCount=0,Kd.widthCache={}),c}catch{return{width:0,height:0}}},K_e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function Z0(e,t){return J_e(e)||X_e(e,t)||Q_e(e,t)||Y_e()}function Y_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q_e(e,t){if(e){if(typeof e=="string")return Q4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q4(e,t)}}function Q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function X_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function J_e(e){if(Array.isArray(e))return e}function Z_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X4(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,tPe(s.key),s)}}function ePe(e,t,n){return t&&X4(e.prototype,t),n&&X4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tPe(e){var t=nPe(e,"string");return bg(t)=="symbol"?t:t+""}function nPe(e,t){if(bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(bg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var J4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Z4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Eq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iPe=Object.keys(Eq),mh="NaN";function aPe(e,t){return e*Eq[t]}var vy=function(){function e(t,n){Z_e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!rPe.test(n)&&(this.num=NaN,this.unit=""),iPe.includes(n)&&(this.num=aPe(t,n),this.unit="px")}return ePe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,i=(s=sPe.exec(n))!==null&&s!==void 0?s:[],a=Z0(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function kq(e){if(e.includes(mh))return mh;for(var t=e;t.includes("*")||t.includes("/");){var n,s=(n=J4.exec(t))!==null&&n!==void 0?n:[],i=Z0(s,4),a=i[1],o=i[2],l=i[3],c=vy.parse(a??""),u=vy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return mh;t=t.replace(J4,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=Z4.exec(t))!==null&&f!==void 0?f:[],g=Z0(m,4),x=g[1],v=g[2],y=g[3],N=vy.parse(x??""),b=vy.parse(y??""),j=v==="+"?N.add(b):N.subtract(b);if(j.isNaN())return mh;t=t.replace(Z4,j.toString())}return t}var e$=/\(([^()]*)\)/;function oPe(e){for(var t=e;t.includes("(");){var n=e$.exec(t),s=Z0(n,2),i=s[1];t=t.replace(e$,kq(i))}return t}function lPe(e){var t=e.replace(/\s+/g,"");return t=oPe(t),t=kq(t),t}function cPe(e){try{return lPe(e)}catch{return mh}}function TS(e){var t=cPe(e.slice(5,-1));return t===mh?"":t}var uPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dPe=["dx","dy","angle","className","breakAll"];function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},v_.apply(this,arguments)}function t$(e,t){if(e==null)return{};var n=hPe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function hPe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function n$(e,t){return gPe(e)||pPe(e,t)||mPe(e,t)||fPe()}function fPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mPe(e,t){if(e){if(typeof e=="string")return r$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r$(e,t)}}function r$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function pPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function gPe(e){if(Array.isArray(e))return e}var Tq=/[ \f\n\r\t\v\u2028\u2029]+/,Oq=function(t){var n=t.children,s=t.breakAll,i=t.style;try{var a=[];Pt(n)||(s?a=n.toString().split(""):a=n.toString().split(Tq));var o=a.map(function(c){return{word:c,width:Mp(c,i).width}}),l=s?0:Mp(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},vPe=function(t,n,s,i,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ve(o),f=l,m=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(H,ae){var X=ae.word,D=ae.width,ie=H[H.length-1];if(ie&&(i==null||a||ie.width+D+s<Number(i)))ie.words.push(X),ie.width+=D+s;else{var me={words:[X],width:D};H.push(me)}return H},[])},g=m(n),x=function(Z){return Z.reduce(function(H,ae){return H.width>ae.width?H:ae})};if(!d)return g;for(var v="…",y=function(Z){var H=f.slice(0,Z),ae=Oq({breakAll:u,style:c,children:H+v}).wordsWithComputedWidth,X=m(ae),D=X.length>o||x(X).width>Number(i);return[D,X]},N=0,b=f.length-1,j=0,_;N<=b&&j<=f.length-1;){var C=Math.floor((N+b)/2),A=C-1,P=y(A),E=n$(P,2),M=E[0],$=E[1],T=y(C),O=n$(T,1),L=O[0];if(!M&&!L&&(N=C+1),M&&L&&(b=C-1),!M&&L){_=$;break}j++}return _||g},s$=function(t){var n=Pt(t)?[]:t.toString().split(Tq);return[{words:n}]},xPe=function(t){var n=t.width,s=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||s)&&!Oa.isSsr){var c,u,d=Oq({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return s$(i);return vPe({breakAll:o,children:i,maxLines:l,style:a},c,u,n,s)}return s$(i)},i$="#808080",Zu=function(t){var n=t.x,s=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,g=m===void 0?"start":m,x=t.verticalAnchor,v=x===void 0?"end":x,y=t.fill,N=y===void 0?i$:y,b=t$(t,uPe),j=w.useMemo(function(){return xPe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,C=b.dy,A=b.angle,P=b.className,E=b.breakAll,M=t$(b,dPe);if(!Mr(s)||!Mr(a))return null;var $=s+(Ve(_)?_:0),T=a+(Ve(C)?C:0),O;switch(v){case"start":O=TS("calc(".concat(u,")"));break;case"middle":O=TS("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=TS("calc(".concat(j.length-1," * -").concat(l,")"));break}var L=[];if(f){var B=j[0].width,Z=b.width;L.push("scale(".concat((Ve(Z)?Z/B:1)/B,")"))}return A&&L.push("rotate(".concat(A,", ").concat($,", ").concat(T,")")),L.length&&(M.transform=L.join(" ")),U.createElement("text",v_({},ct(M,!0),{x:$,y:T,className:At("recharts-text",P),textAnchor:g,fill:N.includes("url")?i$:N}),j.map(function(H,ae){var X=H.words.join(E?"":" ");return U.createElement("tspan",{x:$,dy:ae===0?O:l,key:"".concat(X,"-").concat(ae)},X)}))};function xc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ZE(e){let t,n,s;e.length!==2?(t=xc,n=(l,c)=>xc(e(l),c),s=(l,c)=>e(l)-c):(t=e===xc||e===yPe?e:jPe,n=e,s=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&s(l[f-1],c)>-s(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function jPe(){return 0}function Dq(e){return e===null?NaN:+e}function*bPe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const wPe=ZE(xc),Cv=wPe.right;ZE(Dq).center;class a$ extends Map{constructor(t,n=CPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[s,i]of t)this.set(s,i)}get(t){return super.get(o$(this,t))}has(t){return super.has(o$(this,t))}set(t,n){return super.set(NPe(this,t),n)}delete(t){return super.delete(SPe(this,t))}}function o$({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function NPe({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function SPe({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function CPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _Pe(e=xc){if(e===xc)return Mq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const s=e(t,n);return s||s===0?s:(e(n,n)===0)-(e(t,t)===0)}}function Mq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const PPe=Math.sqrt(50),APe=Math.sqrt(10),EPe=Math.sqrt(2);function ej(e,t,n){const s=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(s)),a=s/Math.pow(10,i),o=a>=PPe?10:a>=APe?5:a>=EPe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?ej(e,t,n*2):[l,c,u]}function x_(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const s=t<e,[i,a,o]=s?ej(t,e,n):ej(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(s)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function y_(e,t,n){return t=+t,e=+e,n=+n,ej(e,t,n)[2]}function j_(e,t,n){t=+t,e=+e,n=+n;const s=t<e,i=s?y_(t,e,n):y_(e,t,n);return(s?-1:1)*(i<0?1/-i:i)}function l$(e,t){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function c$(e,t){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function Iq(e,t,n=0,s=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=t&&t<=s))return e;for(i=i===void 0?Mq:_Pe(i);s>n;){if(s-n>600){const c=s-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(n,Math.floor(t-u*f/c+m)),x=Math.min(s,Math.floor(t+(c-u)*f/c+m));Iq(e,t,g,x,i)}const a=e[t];let o=n,l=s;for(np(e,n,t),i(e[s],a)>0&&np(e,n,s);o<l;){for(np(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?np(e,n,l):(++l,np(e,l,s)),l<=t&&(n=l+1),t<=l&&(s=l-1)}return e}function np(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function kPe(e,t,n){if(e=Float64Array.from(bPe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return c$(e);if(t>=1)return l$(e);var s,i=(s-1)*t,a=Math.floor(i),o=l$(Iq(e,a).subarray(0,a+1)),l=c$(e.subarray(a+1));return o+(l-o)*(i-a)}}function TPe(e,t,n=Dq){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+n(e[0],0,e);if(t>=1)return+n(e[s-1],s-1,e);var s,i=(s-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function OPe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var s=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++s<i;)a[s]=e+s*n;return a}function sa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const b_=Symbol("implicit");function ek(){var e=new a$,t=[],n=[],s=b_;function i(a){let o=e.get(a);if(o===void 0){if(s!==b_)return s;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new a$;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(s=a,i):s},i.copy=function(){return ek(t,n).unknown(s)},sa.apply(i,arguments),i}function wg(){var e=ek().unknown(void 0),t=e.domain,n=e.range,s=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,g=i<s,x=g?i:s,v=g?s:i;a=(v-x)/Math.max(1,m-c+u*2),l&&(a=Math.floor(a)),x+=(v-x-a*(m-c))*d,o=a*(1-c),l&&(x=Math.round(x),o=Math.round(o));var y=OPe(m).map(function(N){return x+a*N});return n(g?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([s,i]=m,s=+s,i=+i,f()):[s,i]},e.rangeRound=function(m){return[s,i]=m,s=+s,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return wg(t(),[s,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},sa.apply(f(),arguments)}function $q(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $q(t())},e}function Ip(){return $q(wg.apply(null,arguments).paddingInner(1))}function tk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Rq(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function _v(){}var Ng=.7,tj=1/Ng,Dh="\\s*([+-]?\\d+)\\s*",Sg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DPe=/^#([0-9a-f]{3,8})$/,MPe=new RegExp(`^rgb\\(${Dh},${Dh},${Dh}\\)$`),IPe=new RegExp(`^rgb\\(${mo},${mo},${mo}\\)$`),$Pe=new RegExp(`^rgba\\(${Dh},${Dh},${Dh},${Sg}\\)$`),RPe=new RegExp(`^rgba\\(${mo},${mo},${mo},${Sg}\\)$`),LPe=new RegExp(`^hsl\\(${Sg},${mo},${mo}\\)$`),FPe=new RegExp(`^hsla\\(${Sg},${mo},${mo},${Sg}\\)$`),u$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tk(_v,Cg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:d$,formatHex:d$,formatHex8:BPe,formatHsl:zPe,formatRgb:h$,toString:h$});function d$(){return this.rgb().formatHex()}function BPe(){return this.rgb().formatHex8()}function zPe(){return Lq(this).formatHsl()}function h$(){return this.rgb().formatRgb()}function Cg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=DPe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?f$(t):n===3?new Js(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?xy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?xy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=MPe.exec(e))?new Js(t[1],t[2],t[3],1):(t=IPe.exec(e))?new Js(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$Pe.exec(e))?xy(t[1],t[2],t[3],t[4]):(t=RPe.exec(e))?xy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LPe.exec(e))?g$(t[1],t[2]/100,t[3]/100,1):(t=FPe.exec(e))?g$(t[1],t[2]/100,t[3]/100,t[4]):u$.hasOwnProperty(e)?f$(u$[e]):e==="transparent"?new Js(NaN,NaN,NaN,0):null}function f$(e){return new Js(e>>16&255,e>>8&255,e&255,1)}function xy(e,t,n,s){return s<=0&&(e=t=n=NaN),new Js(e,t,n,s)}function VPe(e){return e instanceof _v||(e=Cg(e)),e?(e=e.rgb(),new Js(e.r,e.g,e.b,e.opacity)):new Js}function w_(e,t,n,s){return arguments.length===1?VPe(e):new Js(e,t,n,s??1)}function Js(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}tk(Js,w_,Rq(_v,{brighter(e){return e=e==null?tj:Math.pow(tj,e),new Js(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ng:Math.pow(Ng,e),new Js(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Js(Iu(this.r),Iu(this.g),Iu(this.b),nj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:m$,formatHex:m$,formatHex8:UPe,formatRgb:p$,toString:p$}));function m$(){return`#${ju(this.r)}${ju(this.g)}${ju(this.b)}`}function UPe(){return`#${ju(this.r)}${ju(this.g)}${ju(this.b)}${ju((isNaN(this.opacity)?1:this.opacity)*255)}`}function p$(){const e=nj(this.opacity);return`${e===1?"rgb(":"rgba("}${Iu(this.r)}, ${Iu(this.g)}, ${Iu(this.b)}${e===1?")":`, ${e})`}`}function nj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Iu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ju(e){return e=Iu(e),(e<16?"0":"")+e.toString(16)}function g$(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new _a(e,t,n,s)}function Lq(e){if(e instanceof _a)return new _a(e.h,e.s,e.l,e.opacity);if(e instanceof _v||(e=Cg(e)),!e)return new _a;if(e instanceof _a)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,i=Math.min(t,n,s),a=Math.max(t,n,s),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(n-s)/l+(n<s)*6:n===a?o=(s-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new _a(o,l,c,e.opacity)}function qPe(e,t,n,s){return arguments.length===1?Lq(e):new _a(e,t,n,s??1)}function _a(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}tk(_a,qPe,Rq(_v,{brighter(e){return e=e==null?tj:Math.pow(tj,e),new _a(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ng:Math.pow(Ng,e),new _a(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,i=2*n-s;return new Js(OS(e>=240?e-240:e+120,i,s),OS(e,i,s),OS(e<120?e+240:e-120,i,s),this.opacity)},clamp(){return new _a(v$(this.h),yy(this.s),yy(this.l),nj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nj(this.opacity);return`${e===1?"hsl(":"hsla("}${v$(this.h)}, ${yy(this.s)*100}%, ${yy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function v$(e){return e=(e||0)%360,e<0?e+360:e}function yy(e){return Math.max(0,Math.min(1,e||0))}function OS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const nk=e=>()=>e;function WPe(e,t){return function(n){return e+n*t}}function HPe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function GPe(e){return(e=+e)==1?Fq:function(t,n){return n-t?HPe(t,n,e):nk(isNaN(t)?n:t)}}function Fq(e,t){var n=t-e;return n?WPe(e,n):nk(isNaN(e)?t:e)}const x$=function e(t){var n=GPe(t);function s(i,a){var o=n((i=w_(i)).r,(a=w_(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=Fq(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return s.gamma=e,s}(1);function KPe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),i;return function(a){for(i=0;i<n;++i)s[i]=e[i]*(1-a)+t[i]*a;return s}}function YPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function QPe(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,i=new Array(s),a=new Array(n),o;for(o=0;o<s;++o)i[o]=hm(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<s;++o)a[o]=i[o](l);return a}}function XPe(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function rj(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function JPe(e,t){var n={},s={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=hm(e[i],t[i]):s[i]=t[i];return function(a){for(i in n)s[i]=n[i](a);return s}}var N_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,DS=new RegExp(N_.source,"g");function ZPe(e){return function(){return e}}function eAe(e){return function(t){return e(t)+""}}function tAe(e,t){var n=N_.lastIndex=DS.lastIndex=0,s,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=N_.exec(e))&&(i=DS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(s=s[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:rj(s,i)})),n=DS.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?eAe(c[0].x):ZPe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function hm(e,t){var n=typeof t,s;return t==null||n==="boolean"?nk(t):(n==="number"?rj:n==="string"?(s=Cg(t))?(t=s,x$):tAe:t instanceof Cg?x$:t instanceof Date?XPe:YPe(t)?KPe:Array.isArray(t)?QPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?JPe:rj)(e,t)}function rk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function nAe(e,t){t===void 0&&(t=e,e=hm);for(var n=0,s=t.length-1,i=t[0],a=new Array(s<0?0:s);n<s;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return a[l](o-l)}}function rAe(e){return function(){return e}}function sj(e){return+e}var y$=[0,1];function Ms(e){return e}function S_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:rAe(isNaN(t)?NaN:.5)}function sAe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(s){return Math.max(e,Math.min(t,s))}}function iAe(e,t,n){var s=e[0],i=e[1],a=t[0],o=t[1];return i<s?(s=S_(i,s),a=n(o,a)):(s=S_(s,i),a=n(a,o)),function(l){return a(s(l))}}function aAe(e,t,n){var s=Math.min(e.length,t.length)-1,i=new Array(s),a=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)i[o]=S_(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=Cv(e,l,1,s)-1;return a[c](i[c](l))}}function Pv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hw(){var e=y$,t=y$,n=hm,s,i,a,o=Ms,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Ms&&(o=sAe(e[0],e[m-1])),l=m>2?aAe:iAe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?a:(c||(c=l(e.map(s),t,n)))(s(o(m)))}return f.invert=function(m){return o(i((u||(u=l(t,e.map(s),rj)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,sj),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),n=rk,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Ms,d()):o!==Ms},f.interpolate=function(m){return arguments.length?(n=m,d()):n},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,g){return s=m,i=g,d()}}function sk(){return hw()(Ms,Ms)}function oAe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ij(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function pf(e){return e=ij(Math.abs(e)),e?e[1]:NaN}function lAe(e,t){return function(n,s){for(var i=n.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function cAe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var uAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _g(e){if(!(t=uAe.exec(e)))throw new Error("invalid format: "+e);var t;return new ik({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_g.prototype=ik.prototype;function ik(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ik.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dAe(e){e:for(var t=e.length,n=1,s=-1,i;n<t;++n)switch(e[n]){case".":s=i=n;break;case"0":s===0&&(s=n),i=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(i+1):e}var Bq;function hAe(e,t){var n=ij(e,t);if(!n)return e+"";var s=n[0],i=n[1],a=i-(Bq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=s.length;return a===o?s:a>o?s+new Array(a-o+1).join("0"):a>0?s.slice(0,a)+"."+s.slice(a):"0."+new Array(1-a).join("0")+ij(e,Math.max(0,t+a-1))[0]}function j$(e,t){var n=ij(e,t);if(!n)return e+"";var s=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+s:s.length>i+1?s.slice(0,i+1)+"."+s.slice(i+1):s+new Array(i-s.length+2).join("0")}const b$={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oAe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>j$(e*100,t),r:j$,s:hAe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function w$(e){return e}var N$=Array.prototype.map,S$=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fAe(e){var t=e.grouping===void 0||e.thousands===void 0?w$:lAe(N$.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?w$:cAe(N$.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=_g(f);var m=f.fill,g=f.align,x=f.sign,v=f.symbol,y=f.zero,N=f.width,b=f.comma,j=f.precision,_=f.trim,C=f.type;C==="n"?(b=!0,C="g"):b$[C]||(j===void 0&&(j=12),_=!0,C="g"),(y||m==="0"&&g==="=")&&(y=!0,m="0",g="=");var A=v==="$"?n:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=v==="$"?s:/[%p]/.test(C)?o:"",E=b$[C],M=/[defgprs%]/.test(C);j=j===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function $(T){var O=A,L=P,B,Z,H;if(C==="c")L=E(T)+L,T="";else{T=+T;var ae=T<0||1/T<0;if(T=isNaN(T)?c:E(Math.abs(T),j),_&&(T=dAe(T)),ae&&+T==0&&x!=="+"&&(ae=!1),O=(ae?x==="("?x:l:x==="-"||x==="("?"":x)+O,L=(C==="s"?S$[8+Bq/3]:"")+L+(ae&&x==="("?")":""),M){for(B=-1,Z=T.length;++B<Z;)if(H=T.charCodeAt(B),48>H||H>57){L=(H===46?i+T.slice(B+1):T.slice(B))+L,T=T.slice(0,B);break}}}b&&!y&&(T=t(T,1/0));var X=O.length+T.length+L.length,D=X<N?new Array(N-X+1).join(m):"";switch(b&&y&&(T=t(D+T,D.length?N-L.length:1/0),D=""),g){case"<":T=O+T+L+D;break;case"=":T=O+D+T+L;break;case"^":T=D.slice(0,X=D.length>>1)+O+T+L+D.slice(X);break;default:T=D+O+T+L;break}return a(T)}return $.toString=function(){return f+""},$}function d(f,m){var g=u((f=_g(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(pf(m)/3)))*3,v=Math.pow(10,-x),y=S$[8+x/3];return function(N){return g(v*N)+y}}return{format:u,formatPrefix:d}}var jy,ak,zq;mAe({thousands:",",grouping:[3],currency:["$",""]});function mAe(e){return jy=fAe(e),ak=jy.format,zq=jy.formatPrefix,jy}function pAe(e){return Math.max(0,-pf(Math.abs(e)))}function gAe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pf(t)/3)))*3-pf(Math.abs(e)))}function vAe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pf(t)-pf(e))+1}function Vq(e,t,n,s){var i=j_(e,t,n),a;switch(s=_g(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(a=gAe(i,o))&&(s.precision=a),zq(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(a=vAe(i,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=a-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(a=pAe(i))&&(s.precision=a-(s.type==="%")*2);break}}return ak(s)}function Vc(e){var t=e.domain;return e.ticks=function(n){var s=t();return x_(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var i=t();return Vq(i[0],i[i.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=t(),i=0,a=s.length-1,o=s[i],l=s[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=y_(o,l,n),u===c)return s[i]=o,s[a]=l,t(s);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function aj(){var e=sk();return e.copy=function(){return Pv(e,aj())},sa.apply(e,arguments),Vc(e)}function Uq(e){var t;function n(s){return s==null||isNaN(s=+s)?t:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,sj),n):e.slice()},n.unknown=function(s){return arguments.length?(t=s,n):t},n.copy=function(){return Uq(e).unknown(t)},e=arguments.length?Array.from(e,sj):[0,1],Vc(n)}function qq(e,t){e=e.slice();var n=0,s=e.length-1,i=e[n],a=e[s],o;return a<i&&(o=n,n=s,s=o,o=i,i=a,a=o),e[n]=t.floor(i),e[s]=t.ceil(a),e}function C$(e){return Math.log(e)}function _$(e){return Math.exp(e)}function xAe(e){return-Math.log(-e)}function yAe(e){return-Math.exp(-e)}function jAe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bAe(e){return e===10?jAe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wAe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function P$(e){return(t,n)=>-e(-t,n)}function ok(e){const t=e(C$,_$),n=t.domain;let s=10,i,a;function o(){return i=wAe(s),a=bAe(s),n()[0]<0?(i=P$(i),a=P$(a),e(xAe,yAe)):e(C$,_$),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=i(u),g=i(d),x,v;const y=l==null?10:+l;let N=[];if(!(s%1)&&g-m<y){if(m=Math.floor(m),g=Math.ceil(g),u>0){for(;m<=g;++m)for(x=1;x<s;++x)if(v=m<0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;N.push(v)}}else for(;m<=g;++m)for(x=s-1;x>=1;--x)if(v=m>0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;N.push(v)}N.length*2<y&&(N=x_(u,d,y))}else N=x_(m,g,Math.min(g-m,y)).map(a);return f?N.reverse():N},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=_g(c)).precision==null&&(c.trim=!0),c=ak(c)),l===1/0)return c;const u=Math.max(1,s*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*s<s-.5&&(f*=s),f<=u?c(d):""}},t.nice=()=>n(qq(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function Wq(){const e=ok(hw()).domain([1,10]);return e.copy=()=>Pv(e,Wq()).base(e.base()),sa.apply(e,arguments),e}function A$(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function E$(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lk(e){var t=1,n=e(A$(t),E$(t));return n.constant=function(s){return arguments.length?e(A$(t=+s),E$(t)):t},Vc(n)}function Hq(){var e=lk(hw());return e.copy=function(){return Pv(e,Hq()).constant(e.constant())},sa.apply(e,arguments)}function k$(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function NAe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function SAe(e){return e<0?-e*e:e*e}function ck(e){var t=e(Ms,Ms),n=1;function s(){return n===1?e(Ms,Ms):n===.5?e(NAe,SAe):e(k$(n),k$(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,s()):n},Vc(t)}function uk(){var e=ck(hw());return e.copy=function(){return Pv(e,uk()).exponent(e.exponent())},sa.apply(e,arguments),e}function CAe(){return uk.apply(null,arguments).exponent(.5)}function T$(e){return Math.sign(e)*e*e}function _Ae(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Gq(){var e=sk(),t=[0,1],n=!1,s;function i(a){var o=_Ae(e(a));return isNaN(o)?s:n?Math.round(o):o}return i.invert=function(a){return e.invert(T$(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,sj)).map(T$)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(s=a,i):s},i.copy=function(){return Gq(e.domain(),t).round(n).clamp(e.clamp()).unknown(s)},sa.apply(i,arguments),Vc(i)}function Kq(){var e=[],t=[],n=[],s;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=TPe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?s:t[Cv(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(xc),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(s=o,a):s},a.quantiles=function(){return n.slice()},a.copy=function(){return Kq().domain(e).range(t).unknown(s)},sa.apply(a,arguments)}function Yq(){var e=0,t=1,n=1,s=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Cv(s,c,0,n)]:a}function l(){var c=-1;for(s=new Array(n);++c<n;)s[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=n?[s[n-1],t]:[s[u-1],s[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return Yq().domain([e,t]).range(i).unknown(a)},sa.apply(Vc(o),arguments)}function Qq(){var e=[.5],t=[0,1],n,s=1;function i(a){return a!=null&&a<=a?t[Cv(e,a,0,s)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),s=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),s=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Qq().domain(e).range(t).unknown(n)},sa.apply(i,arguments)}const MS=new Date,IS=new Date;function $r(e,t,n,s){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},i.filter=a=>$r(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(MS.setTime(+a),IS.setTime(+o),e(MS),e(IS),Math.floor(n(MS,IS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(s?o=>s(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const oj=$r(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);oj.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$r(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):oj);oj.range;const Ko=1e3,Gi=Ko*60,Yo=Gi*60,ul=Yo*24,dk=ul*7,O$=ul*30,$S=ul*365,bu=$r(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ko)},(e,t)=>(t-e)/Ko,e=>e.getUTCSeconds());bu.range;const hk=$r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ko)},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getMinutes());hk.range;const fk=$r(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getUTCMinutes());fk.range;const mk=$r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ko-e.getMinutes()*Gi)},(e,t)=>{e.setTime(+e+t*Yo)},(e,t)=>(t-e)/Yo,e=>e.getHours());mk.range;const pk=$r(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yo)},(e,t)=>(t-e)/Yo,e=>e.getUTCHours());pk.range;const Av=$r(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gi)/ul,e=>e.getDate()-1);Av.range;const fw=$r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ul,e=>e.getUTCDate()-1);fw.range;const Xq=$r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ul,e=>Math.floor(e/ul));Xq.range;function gd(e){return $r(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Gi)/dk)}const mw=gd(0),lj=gd(1),PAe=gd(2),AAe=gd(3),gf=gd(4),EAe=gd(5),kAe=gd(6);mw.range;lj.range;PAe.range;AAe.range;gf.range;EAe.range;kAe.range;function vd(e){return $r(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/dk)}const pw=vd(0),cj=vd(1),TAe=vd(2),OAe=vd(3),vf=vd(4),DAe=vd(5),MAe=vd(6);pw.range;cj.range;TAe.range;OAe.range;vf.range;DAe.range;MAe.range;const gk=$r(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());gk.range;const vk=$r(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vk.range;const dl=$r(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());dl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$r(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});dl.range;const hl=$r(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());hl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$r(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});hl.range;function Jq(e,t,n,s,i,a){const o=[[bu,1,Ko],[bu,5,5*Ko],[bu,15,15*Ko],[bu,30,30*Ko],[a,1,Gi],[a,5,5*Gi],[a,15,15*Gi],[a,30,30*Gi],[i,1,Yo],[i,3,3*Yo],[i,6,6*Yo],[i,12,12*Yo],[s,1,ul],[s,2,2*ul],[n,1,dk],[t,1,O$],[t,3,3*O$],[e,1,$S]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),x=g?g.range(u,+d+1):[];return m?x.reverse():x}function c(u,d,f){const m=Math.abs(d-u)/f,g=ZE(([,,y])=>y).right(o,m);if(g===o.length)return e.every(j_(u/$S,d/$S,f));if(g===0)return oj.every(Math.max(j_(u,d,f),1));const[x,v]=o[m/o[g-1][2]<o[g][2]/m?g-1:g];return x.every(v)}return[l,c]}const[IAe,$Ae]=Jq(hl,vk,pw,Xq,pk,fk),[RAe,LAe]=Jq(dl,gk,mw,Av,mk,hk);function RS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function LS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rp(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function FAe(e){var t=e.dateTime,n=e.date,s=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=sp(i),d=ip(i),f=sp(a),m=ip(a),g=sp(o),x=ip(o),v=sp(l),y=ip(l),N=sp(c),b=ip(c),j={a:ae,A:X,b:D,B:ie,c:null,d:L$,e:L$,f:lEe,g:xEe,G:jEe,H:iEe,I:aEe,j:oEe,L:Zq,m:cEe,M:uEe,p:me,q:te,Q:z$,s:V$,S:dEe,u:hEe,U:fEe,V:mEe,w:pEe,W:gEe,x:null,X:null,y:vEe,Y:yEe,Z:bEe,"%":B$},_={a:J,A:ne,b:ve,B:ye,c:null,d:F$,e:F$,f:CEe,g:IEe,G:REe,H:wEe,I:NEe,j:SEe,L:t7,m:_Ee,M:PEe,p:be,q:z,Q:z$,s:V$,S:AEe,u:EEe,U:kEe,V:TEe,w:OEe,W:DEe,x:null,X:null,y:MEe,Y:$Ee,Z:LEe,"%":B$},C={a:$,A:T,b:O,B:L,c:B,d:$$,e:$$,f:tEe,g:I$,G:M$,H:R$,I:R$,j:XAe,L:eEe,m:QAe,M:JAe,p:M,q:YAe,Q:rEe,s:sEe,S:ZAe,u:qAe,U:WAe,V:HAe,w:UAe,W:GAe,x:Z,X:H,y:I$,Y:M$,Z:KAe,"%":nEe};j.x=A(n,j),j.X=A(s,j),j.c=A(t,j),_.x=A(n,_),_.X=A(s,_),_.c=A(t,_);function A(Y,ee){return function(G){var I=[],xe=-1,Ne=0,Be=Y.length,Fe,it,lt;for(G instanceof Date||(G=new Date(+G));++xe<Be;)Y.charCodeAt(xe)===37&&(I.push(Y.slice(Ne,xe)),(it=D$[Fe=Y.charAt(++xe)])!=null?Fe=Y.charAt(++xe):it=Fe==="e"?" ":"0",(lt=ee[Fe])&&(Fe=lt(G,it)),I.push(Fe),Ne=xe+1);return I.push(Y.slice(Ne,xe)),I.join("")}}function P(Y,ee){return function(G){var I=rp(1900,void 0,1),xe=E(I,Y,G+="",0),Ne,Be;if(xe!=G.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(ee&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(Ne=LS(rp(I.y,0,1)),Be=Ne.getUTCDay(),Ne=Be>4||Be===0?cj.ceil(Ne):cj(Ne),Ne=fw.offset(Ne,(I.V-1)*7),I.y=Ne.getUTCFullYear(),I.m=Ne.getUTCMonth(),I.d=Ne.getUTCDate()+(I.w+6)%7):(Ne=RS(rp(I.y,0,1)),Be=Ne.getDay(),Ne=Be>4||Be===0?lj.ceil(Ne):lj(Ne),Ne=Av.offset(Ne,(I.V-1)*7),I.y=Ne.getFullYear(),I.m=Ne.getMonth(),I.d=Ne.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),Be="Z"in I?LS(rp(I.y,0,1)).getUTCDay():RS(rp(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(Be+5)%7:I.w+I.U*7-(Be+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,LS(I)):RS(I)}}function E(Y,ee,G,I){for(var xe=0,Ne=ee.length,Be=G.length,Fe,it;xe<Ne;){if(I>=Be)return-1;if(Fe=ee.charCodeAt(xe++),Fe===37){if(Fe=ee.charAt(xe++),it=C[Fe in D$?ee.charAt(xe++):Fe],!it||(I=it(Y,G,I))<0)return-1}else if(Fe!=G.charCodeAt(I++))return-1}return I}function M(Y,ee,G){var I=u.exec(ee.slice(G));return I?(Y.p=d.get(I[0].toLowerCase()),G+I[0].length):-1}function $(Y,ee,G){var I=g.exec(ee.slice(G));return I?(Y.w=x.get(I[0].toLowerCase()),G+I[0].length):-1}function T(Y,ee,G){var I=f.exec(ee.slice(G));return I?(Y.w=m.get(I[0].toLowerCase()),G+I[0].length):-1}function O(Y,ee,G){var I=N.exec(ee.slice(G));return I?(Y.m=b.get(I[0].toLowerCase()),G+I[0].length):-1}function L(Y,ee,G){var I=v.exec(ee.slice(G));return I?(Y.m=y.get(I[0].toLowerCase()),G+I[0].length):-1}function B(Y,ee,G){return E(Y,t,ee,G)}function Z(Y,ee,G){return E(Y,n,ee,G)}function H(Y,ee,G){return E(Y,s,ee,G)}function ae(Y){return o[Y.getDay()]}function X(Y){return a[Y.getDay()]}function D(Y){return c[Y.getMonth()]}function ie(Y){return l[Y.getMonth()]}function me(Y){return i[+(Y.getHours()>=12)]}function te(Y){return 1+~~(Y.getMonth()/3)}function J(Y){return o[Y.getUTCDay()]}function ne(Y){return a[Y.getUTCDay()]}function ve(Y){return c[Y.getUTCMonth()]}function ye(Y){return l[Y.getUTCMonth()]}function be(Y){return i[+(Y.getUTCHours()>=12)]}function z(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ee=A(Y+="",j);return ee.toString=function(){return Y},ee},parse:function(Y){var ee=P(Y+="",!1);return ee.toString=function(){return Y},ee},utcFormat:function(Y){var ee=A(Y+="",_);return ee.toString=function(){return Y},ee},utcParse:function(Y){var ee=P(Y+="",!0);return ee.toString=function(){return Y},ee}}}var D$={"-":"",_:" ",0:"0"},Yr=/^\s*\d+/,BAe=/^%/,zAe=/[\\^$*+?|[\]().{}]/g;function un(e,t,n){var s=e<0?"-":"",i=(s?-e:e)+"",a=i.length;return s+(a<n?new Array(n-a+1).join(t)+i:i)}function VAe(e){return e.replace(zAe,"\\$&")}function sp(e){return new RegExp("^(?:"+e.map(VAe).join("|")+")","i")}function ip(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function UAe(e,t,n){var s=Yr.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function qAe(e,t,n){var s=Yr.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function WAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function HAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function GAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function M$(e,t,n){var s=Yr.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function I$(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function KAe(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function YAe(e,t,n){var s=Yr.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function QAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function $$(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function XAe(e,t,n){var s=Yr.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function R$(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function JAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function ZAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function eEe(e,t,n){var s=Yr.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function tEe(e,t,n){var s=Yr.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function nEe(e,t,n){var s=BAe.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function rEe(e,t,n){var s=Yr.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function sEe(e,t,n){var s=Yr.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function L$(e,t){return un(e.getDate(),t,2)}function iEe(e,t){return un(e.getHours(),t,2)}function aEe(e,t){return un(e.getHours()%12||12,t,2)}function oEe(e,t){return un(1+Av.count(dl(e),e),t,3)}function Zq(e,t){return un(e.getMilliseconds(),t,3)}function lEe(e,t){return Zq(e,t)+"000"}function cEe(e,t){return un(e.getMonth()+1,t,2)}function uEe(e,t){return un(e.getMinutes(),t,2)}function dEe(e,t){return un(e.getSeconds(),t,2)}function hEe(e){var t=e.getDay();return t===0?7:t}function fEe(e,t){return un(mw.count(dl(e)-1,e),t,2)}function e7(e){var t=e.getDay();return t>=4||t===0?gf(e):gf.ceil(e)}function mEe(e,t){return e=e7(e),un(gf.count(dl(e),e)+(dl(e).getDay()===4),t,2)}function pEe(e){return e.getDay()}function gEe(e,t){return un(lj.count(dl(e)-1,e),t,2)}function vEe(e,t){return un(e.getFullYear()%100,t,2)}function xEe(e,t){return e=e7(e),un(e.getFullYear()%100,t,2)}function yEe(e,t){return un(e.getFullYear()%1e4,t,4)}function jEe(e,t){var n=e.getDay();return e=n>=4||n===0?gf(e):gf.ceil(e),un(e.getFullYear()%1e4,t,4)}function bEe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+un(t/60|0,"0",2)+un(t%60,"0",2)}function F$(e,t){return un(e.getUTCDate(),t,2)}function wEe(e,t){return un(e.getUTCHours(),t,2)}function NEe(e,t){return un(e.getUTCHours()%12||12,t,2)}function SEe(e,t){return un(1+fw.count(hl(e),e),t,3)}function t7(e,t){return un(e.getUTCMilliseconds(),t,3)}function CEe(e,t){return t7(e,t)+"000"}function _Ee(e,t){return un(e.getUTCMonth()+1,t,2)}function PEe(e,t){return un(e.getUTCMinutes(),t,2)}function AEe(e,t){return un(e.getUTCSeconds(),t,2)}function EEe(e){var t=e.getUTCDay();return t===0?7:t}function kEe(e,t){return un(pw.count(hl(e)-1,e),t,2)}function n7(e){var t=e.getUTCDay();return t>=4||t===0?vf(e):vf.ceil(e)}function TEe(e,t){return e=n7(e),un(vf.count(hl(e),e)+(hl(e).getUTCDay()===4),t,2)}function OEe(e){return e.getUTCDay()}function DEe(e,t){return un(cj.count(hl(e)-1,e),t,2)}function MEe(e,t){return un(e.getUTCFullYear()%100,t,2)}function IEe(e,t){return e=n7(e),un(e.getUTCFullYear()%100,t,2)}function $Ee(e,t){return un(e.getUTCFullYear()%1e4,t,4)}function REe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?vf(e):vf.ceil(e),un(e.getUTCFullYear()%1e4,t,4)}function LEe(){return"+0000"}function B$(){return"%"}function z$(e){return+e}function V$(e){return Math.floor(+e/1e3)}var Yd,r7,s7;FEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FEe(e){return Yd=FAe(e),r7=Yd.format,Yd.parse,s7=Yd.utcFormat,Yd.utcParse,Yd}function BEe(e){return new Date(e)}function zEe(e){return e instanceof Date?+e:+new Date(+e)}function xk(e,t,n,s,i,a,o,l,c,u){var d=sk(),f=d.invert,m=d.domain,g=u(".%L"),x=u(":%S"),v=u("%I:%M"),y=u("%I %p"),N=u("%a %d"),b=u("%b %d"),j=u("%B"),_=u("%Y");function C(A){return(c(A)<A?g:l(A)<A?x:o(A)<A?v:a(A)<A?y:s(A)<A?i(A)<A?N:b:n(A)<A?j:_)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?m(Array.from(A,zEe)):m().map(BEe)},d.ticks=function(A){var P=m();return e(P[0],P[P.length-1],A??10)},d.tickFormat=function(A,P){return P==null?C:u(P)},d.nice=function(A){var P=m();return(!A||typeof A.range!="function")&&(A=t(P[0],P[P.length-1],A??10)),A?m(qq(P,A)):d},d.copy=function(){return Pv(d,xk(e,t,n,s,i,a,o,l,c,u))},d}function VEe(){return sa.apply(xk(RAe,LAe,dl,gk,mw,Av,mk,hk,bu,r7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function UEe(){return sa.apply(xk(IAe,$Ae,hl,vk,pw,fw,pk,fk,bu,s7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gw(){var e=0,t=1,n,s,i,a,o=Ms,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),s=a(t=+t),i=n===s?0:1/(s-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var g,x;return arguments.length?([g,x]=m,o=f(g,x),u):[o(0),o(1)]}}return u.range=d(hm),u.rangeRound=d(rk),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(e),s=f(t),i=n===s?0:1/(s-n),u}}function Uc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function i7(){var e=Vc(gw()(Ms));return e.copy=function(){return Uc(e,i7())},xl.apply(e,arguments)}function a7(){var e=ok(gw()).domain([1,10]);return e.copy=function(){return Uc(e,a7()).base(e.base())},xl.apply(e,arguments)}function o7(){var e=lk(gw());return e.copy=function(){return Uc(e,o7()).constant(e.constant())},xl.apply(e,arguments)}function yk(){var e=ck(gw());return e.copy=function(){return Uc(e,yk()).exponent(e.exponent())},xl.apply(e,arguments)}function qEe(){return yk.apply(null,arguments).exponent(.5)}function l7(){var e=[],t=Ms;function n(s){if(s!=null&&!isNaN(s=+s))return t((Cv(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let i of s)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(xc),n},n.interpolator=function(s){return arguments.length?(t=s,n):t},n.range=function(){return e.map((s,i)=>t(i/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(i,a)=>kPe(e,a/s))},n.copy=function(){return l7(t).domain(e)},xl.apply(n,arguments)}function vw(){var e=0,t=.5,n=1,s=1,i,a,o,l,c,u=Ms,d,f=!1,m;function g(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-a)*(s*v<s*a?l:c),u(f?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([e,t,n]=v,i=d(e=+e),a=d(t=+t),o=d(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),s=a<i?-1:1,g):[e,t,n]},g.clamp=function(v){return arguments.length?(f=!!v,g):f},g.interpolator=function(v){return arguments.length?(u=v,g):u};function x(v){return function(y){var N,b,j;return arguments.length?([N,b,j]=y,u=nAe(v,[N,b,j]),g):[u(0),u(.5),u(1)]}}return g.range=x(hm),g.rangeRound=x(rk),g.unknown=function(v){return arguments.length?(m=v,g):m},function(v){return d=v,i=v(e),a=v(t),o=v(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),s=a<i?-1:1,g}}function c7(){var e=Vc(vw()(Ms));return e.copy=function(){return Uc(e,c7())},xl.apply(e,arguments)}function u7(){var e=ok(vw()).domain([.1,1,10]);return e.copy=function(){return Uc(e,u7()).base(e.base())},xl.apply(e,arguments)}function d7(){var e=lk(vw());return e.copy=function(){return Uc(e,d7()).constant(e.constant())},xl.apply(e,arguments)}function jk(){var e=ck(vw());return e.copy=function(){return Uc(e,jk()).exponent(e.exponent())},xl.apply(e,arguments)}function WEe(){return jk.apply(null,arguments).exponent(.5)}const U$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wg,scaleDiverging:c7,scaleDivergingLog:u7,scaleDivergingPow:jk,scaleDivergingSqrt:WEe,scaleDivergingSymlog:d7,scaleIdentity:Uq,scaleImplicit:b_,scaleLinear:aj,scaleLog:Wq,scaleOrdinal:ek,scalePoint:Ip,scalePow:uk,scaleQuantile:Kq,scaleQuantize:Yq,scaleRadial:Gq,scaleSequential:i7,scaleSequentialLog:a7,scaleSequentialPow:yk,scaleSequentialQuantile:l7,scaleSequentialSqrt:qEe,scaleSequentialSymlog:o7,scaleSqrt:CAe,scaleSymlog:Hq,scaleThreshold:Qq,scaleTime:VEe,scaleUtc:UEe,tickFormat:Vq},Symbol.toStringTag,{value:"Module"}));var HEe=nm;function GEe(e,t,n){for(var s=-1,i=e.length;++s<i;){var a=e[s],o=t(a);if(o!=null&&(l===void 0?o===o&&!HEe(o):n(o,l)))var l=o,c=a}return c}var xw=GEe;function KEe(e,t){return e>t}var h7=KEe,YEe=xw,QEe=h7,XEe=um;function JEe(e){return e&&e.length?YEe(e,XEe,QEe):void 0}var ZEe=JEe;const ic=pn(ZEe);function eke(e,t){return e<t}var f7=eke,tke=xw,nke=f7,rke=um;function ske(e){return e&&e.length?tke(e,rke,nke):void 0}var ike=ske;const yw=pn(ike);var ake=ME,oke=No,lke=bq,cke=ii;function uke(e,t){var n=cke(e)?ake:lke;return n(e,oke(t))}var dke=uke,hke=yq,fke=dke;function mke(e,t){return hke(fke(e,t),1)}var pke=mke;const gke=pn(pke);var vke=YE;function xke(e,t){return vke(e,t)}var yke=xke;const ed=pn(yke);var fm=1e9,jke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wk,Gn=!0,ea="[DecimalError] ",$u=ea+"Invalid argument: ",bk=ea+"Exponent out of range: ",mm=Math.floor,du=Math.pow,bke=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yi,Br=1e7,Bn=7,m7=9007199254740991,uj=mm(m7/Bn),rt={};rt.absoluteValue=rt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};rt.comparedTo=rt.cmp=function(e){var t,n,s,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(s=a.d.length,i=e.d.length,t=0,n=s<i?s:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return s===i?0:s>i^a.s<0?1:-1};rt.decimalPlaces=rt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Bn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};rt.dividedBy=rt.div=function(e){return Zo(this,new this.constructor(e))};rt.dividedToIntegerBy=rt.idiv=function(e){var t=this,n=t.constructor;return En(Zo(t,new n(e),0,1),n.precision)};rt.equals=rt.eq=function(e){return!this.cmp(e)};rt.exponent=function(){return wr(this)};rt.greaterThan=rt.gt=function(e){return this.cmp(e)>0};rt.greaterThanOrEqualTo=rt.gte=function(e){return this.cmp(e)>=0};rt.isInteger=rt.isint=function(){return this.e>this.d.length-2};rt.isNegative=rt.isneg=function(){return this.s<0};rt.isPositive=rt.ispos=function(){return this.s>0};rt.isZero=function(){return this.s===0};rt.lessThan=rt.lt=function(e){return this.cmp(e)<0};rt.lessThanOrEqualTo=rt.lte=function(e){return this.cmp(e)<1};rt.logarithm=rt.log=function(e){var t,n=this,s=n.constructor,i=s.precision,a=i+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(yi))throw Error(ea+"NaN");if(n.s<1)throw Error(ea+(n.s?"NaN":"-Infinity"));return n.eq(yi)?new s(0):(Gn=!1,t=Zo(Pg(n,a),Pg(e,a),a),Gn=!0,En(t,i))};rt.minus=rt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v7(t,e):p7(t,(e.s=-e.s,e))};rt.modulo=rt.mod=function(e){var t,n=this,s=n.constructor,i=s.precision;if(e=new s(e),!e.s)throw Error(ea+"NaN");return n.s?(Gn=!1,t=Zo(n,e,0,1).times(e),Gn=!0,n.minus(t)):En(new s(n),i)};rt.naturalExponential=rt.exp=function(){return g7(this)};rt.naturalLogarithm=rt.ln=function(){return Pg(this)};rt.negated=rt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};rt.plus=rt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?p7(t,e):v7(t,(e.s=-e.s,e))};rt.precision=rt.sd=function(e){var t,n,s,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($u+e);if(t=wr(i)+1,s=i.d.length-1,n=s*Bn+1,s=i.d[s],s){for(;s%10==0;s/=10)n--;for(s=i.d[0];s>=10;s/=10)n++}return e&&t>n?t:n};rt.squareRoot=rt.sqrt=function(){var e,t,n,s,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ea+"NaN")}for(e=wr(l),Gn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=ao(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=mm((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=s,s=a.plus(Zo(l,a,o+2)).times(.5),ao(a.d).slice(0,o)===(t=ao(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(En(a,n+1,0),a.times(a).eq(l)){s=a;break}}else if(t!="9999")break;o+=4}return Gn=!0,En(s,n)};rt.times=rt.mul=function(e){var t,n,s,i,a,o,l,c,u,d=this,f=d.constructor,m=d.d,g=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=m.length,u=g.length,c<u&&(a=m,m=g,g=a,o=c,c=u,u=o),a=[],o=c+u,s=o;s--;)a.push(0);for(s=u;--s>=0;){for(t=0,i=c+s;i>s;)l=a[i]+g[s]*m[i-s-1]+t,a[i--]=l%Br|0,t=l/Br|0;a[i]=(a[i]+t)%Br|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Gn?En(e,f.precision):e};rt.toDecimalPlaces=rt.todp=function(e,t){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(yo(e,0,fm),t===void 0?t=s.rounding:yo(t,0,8),En(n,e+wr(n)+1,t))};rt.toExponential=function(e,t){var n,s=this,i=s.constructor;return e===void 0?n=td(s,!0):(yo(e,0,fm),t===void 0?t=i.rounding:yo(t,0,8),s=En(new i(s),e+1,t),n=td(s,!0,e+1)),n};rt.toFixed=function(e,t){var n,s,i=this,a=i.constructor;return e===void 0?td(i):(yo(e,0,fm),t===void 0?t=a.rounding:yo(t,0,8),s=En(new a(i),e+wr(i)+1,t),n=td(s.abs(),!1,e+wr(s)+1),i.isneg()&&!i.isZero()?"-"+n:n)};rt.toInteger=rt.toint=function(){var e=this,t=e.constructor;return En(new t(e),wr(e)+1,t.rounding)};rt.toNumber=function(){return+this};rt.toPower=rt.pow=function(e){var t,n,s,i,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(yi);if(l=new c(l),!l.s){if(e.s<1)throw Error(ea+"Infinity");return l}if(l.eq(yi))return l;if(s=c.precision,e.eq(yi))return En(l,s);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=d<0?-d:d)<=m7){for(i=new c(yi),t=Math.ceil(s/Bn+4),Gn=!1;n%2&&(i=i.times(l),W$(i.d,t)),n=mm(n/2),n!==0;)l=l.times(l),W$(l.d,t);return Gn=!0,e.s<0?new c(yi).div(i):En(i,s)}}else if(a<0)throw Error(ea+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Gn=!1,i=e.times(Pg(l,s+u)),Gn=!0,i=g7(i),i.s=a,i};rt.toPrecision=function(e,t){var n,s,i=this,a=i.constructor;return e===void 0?(n=wr(i),s=td(i,n<=a.toExpNeg||n>=a.toExpPos)):(yo(e,1,fm),t===void 0?t=a.rounding:yo(t,0,8),i=En(new a(i),e,t),n=wr(i),s=td(i,e<=n||n<=a.toExpNeg,e)),s};rt.toSignificantDigits=rt.tosd=function(e,t){var n=this,s=n.constructor;return e===void 0?(e=s.precision,t=s.rounding):(yo(e,1,fm),t===void 0?t=s.rounding:yo(t,0,8)),En(new s(n),e,t)};rt.toString=rt.valueOf=rt.val=rt.toJSON=rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wr(e),n=e.constructor;return td(e,t<=n.toExpNeg||t>=n.toExpPos)};function p7(e,t){var n,s,i,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Gn?En(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(s=c,a=-a,l=u.length):(s=u,i=o,l=c.length),o=Math.ceil(f/Bn),l=o>l?o+1:l+1,a>l&&(a=l,s.length=1),s.reverse();a--;)s.push(0);s.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,s=u,u=c,c=s),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/Br|0,c[a]%=Br;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Gn?En(t,f):t}function yo(e,t,n){if(e!==~~e||e<t||e>n)throw Error($u+e)}function ao(e){var t,n,s,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)s=e[t]+"",n=Bn-s.length,n&&(a+=zl(n)),a+=s;o=e[t],s=o+"",n=Bn-s.length,n&&(a+=zl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Zo=function(){function e(s,i){var a,o=0,l=s.length;for(s=s.slice();l--;)a=s[l]*i+o,s[l]=a%Br|0,o=a/Br|0;return o&&s.unshift(o),s}function t(s,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(s[l]!=i[l]){c=s[l]>i[l]?1:-1;break}return c}function n(s,i,a){for(var o=0;a--;)s[a]-=o,o=s[a]<i[a]?1:0,s[a]=o*Br+s[a]-i[a];for(;!s[0]&&s.length>1;)s.shift()}return function(s,i,a,o){var l,c,u,d,f,m,g,x,v,y,N,b,j,_,C,A,P,E,M=s.constructor,$=s.s==i.s?1:-1,T=s.d,O=i.d;if(!s.s)return new M(s);if(!i.s)throw Error(ea+"Division by zero");for(c=s.e-i.e,P=O.length,C=T.length,g=new M($),x=g.d=[],u=0;O[u]==(T[u]||0);)++u;if(O[u]>(T[u]||0)&&--c,a==null?b=a=M.precision:o?b=a+(wr(s)-wr(i))+1:b=a,b<0)return new M(0);if(b=b/Bn+2|0,u=0,P==1)for(d=0,O=O[0],b++;(u<C||d)&&b--;u++)j=d*Br+(T[u]||0),x[u]=j/O|0,d=j%O|0;else{for(d=Br/(O[0]+1)|0,d>1&&(O=e(O,d),T=e(T,d),P=O.length,C=T.length),_=P,v=T.slice(0,P),y=v.length;y<P;)v[y++]=0;E=O.slice(),E.unshift(0),A=O[0],O[1]>=Br/2&&++A;do d=0,l=t(O,v,P,y),l<0?(N=v[0],P!=y&&(N=N*Br+(v[1]||0)),d=N/A|0,d>1?(d>=Br&&(d=Br-1),f=e(O,d),m=f.length,y=v.length,l=t(f,v,m,y),l==1&&(d--,n(f,P<m?E:O,m))):(d==0&&(l=d=1),f=O.slice()),m=f.length,m<y&&f.unshift(0),n(v,f,y),l==-1&&(y=v.length,l=t(O,v,P,y),l<1&&(d++,n(v,P<y?E:O,y))),y=v.length):l===0&&(d++,v=[0]),x[u++]=d,l&&v[0]?v[y++]=T[_]||0:(v=[T[_]],y=1);while((_++<C||v[0]!==void 0)&&b--)}return x[0]||x.shift(),g.e=c,En(g,o?a+wr(g)+1:a)}}();function g7(e,t){var n,s,i,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(wr(e)>16)throw Error(bk+wr(e));if(!e.s)return new d(yi);for(t==null?(Gn=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s=Math.log(du(2,u))/Math.LN10*2+5|0,l+=s,n=i=a=new d(yi),d.precision=l;;){if(i=En(i.times(e),l),n=n.times(++c),o=a.plus(Zo(i,n,l)),ao(o.d).slice(0,l)===ao(a.d).slice(0,l)){for(;u--;)a=En(a.times(a),l);return d.precision=f,t==null?(Gn=!0,En(a,f)):a}a=o}}function wr(e){for(var t=e.e*Bn,n=e.d[0];n>=10;n/=10)t++;return t}function FS(e,t,n){if(t>e.LN10.sd())throw Gn=!0,n&&(e.precision=n),Error(ea+"LN10 precision limit exceeded");return En(new e(e.LN10),t)}function zl(e){for(var t="";e--;)t+="0";return t}function Pg(e,t){var n,s,i,a,o,l,c,u,d,f=1,m=10,g=e,x=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(ea+(g.s?"NaN":"-Infinity"));if(g.eq(yi))return new v(0);if(t==null?(Gn=!1,u=y):u=t,g.eq(10))return t==null&&(Gn=!0),FS(v,u);if(u+=m,v.precision=u,n=ao(x),s=n.charAt(0),a=wr(g),Math.abs(a)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)g=g.times(e),n=ao(g.d),s=n.charAt(0),f++;a=wr(g),s>1?(g=new v("0."+n),a++):g=new v(s+"."+n.slice(1))}else return c=FS(v,u+2,y).times(a+""),g=Pg(new v(s+"."+n.slice(1)),u-m).plus(c),v.precision=y,t==null?(Gn=!0,En(g,y)):g;for(l=o=g=Zo(g.minus(yi),g.plus(yi),u),d=En(g.times(g),u),i=3;;){if(o=En(o.times(d),u),c=l.plus(Zo(o,new v(i),u)),ao(c.d).slice(0,u)===ao(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(FS(v,u+2,y).times(a+""))),l=Zo(l,new v(f),u),v.precision=y,t==null?(Gn=!0,En(l,y)):l;l=c,i+=2}}function q$(e,t){var n,s,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(n<0&&(n=s),n+=+t.slice(s+1),t=t.substring(0,s)):n<0&&(n=t.length),s=0;t.charCodeAt(s)===48;)++s;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(s,i),t){if(i-=s,n=n-s-1,e.e=mm(n/Bn),e.d=[],s=(n+1)%Bn,n<0&&(s+=Bn),s<i){for(s&&e.d.push(+t.slice(0,s)),i-=Bn;s<i;)e.d.push(+t.slice(s,s+=Bn));t=t.slice(s),s=Bn-t.length}else s-=i;for(;s--;)t+="0";if(e.d.push(+t),Gn&&(e.e>uj||e.e<-uj))throw Error(bk+n)}else e.s=0,e.e=0,e.d=[0];return e}function En(e,t,n){var s,i,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(s=t-o,s<0)s+=Bn,i=t,u=f[d=0];else{if(d=Math.ceil((s+1)/Bn),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;s%=Bn,i=s-Bn+o}if(n!==void 0&&(a=du(10,o-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(s>0?i>0?u/du(10,o-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=wr(e),f.length=1,t=t-a-1,f[0]=du(10,(Bn-t%Bn)%Bn),e.e=mm(-t/Bn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=d,a=1,d--):(f.length=d+1,a=du(10,Bn-s),f[d]=i>0?(u/du(10,o-i)%du(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Br&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Br)break;f[d--]=0,a=1}for(s=f.length;f[--s]===0;)f.pop();if(Gn&&(e.e>uj||e.e<-uj))throw Error(bk+wr(e));return e}function v7(e,t){var n,s,i,a,o,l,c,u,d,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Gn?En(t,g):t;if(c=e.d,f=t.d,s=t.e,u=e.e,c=c.slice(),o=u-s,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,s=u,l=c.length),i=Math.max(Math.ceil(g/Bn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Br-1;--c[a],c[i]+=Br}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,Gn?En(t,g):t):new m(0)}function td(e,t,n){var s,i=wr(e),a=ao(e.d),o=a.length;return t?(n&&(s=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+zl(s):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+zl(-i-1)+a,n&&(s=n-o)>0&&(a+=zl(s))):i>=o?(a+=zl(i+1-o),n&&(s=n-i-1)>0&&(a=a+"."+zl(s))):((s=i+1)<o&&(a=a.slice(0,s)+"."+a.slice(s)),n&&(s=n-o)>0&&(i+1===o&&(a+="."),a+=zl(s))),e.s<0?"-"+a:a}function W$(e,t){if(e.length>t)return e.length=t,!0}function x7(e){var t,n,s;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error($u+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return q$(o,a.toString())}else if(typeof a!="string")throw Error($u+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,bke.test(a))q$(o,a);else throw Error($u+a)}if(i.prototype=rt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=x7,i.config=i.set=wke,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(n=s[t++])||(e[n]=this[n]);return i.config(e),i}function wke(e){if(!e||typeof e!="object")throw Error(ea+"Object expected");var t,n,s,i=["precision",1,fm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((s=e[n=i[t]])!==void 0)if(mm(s)===s&&s>=i[t+1]&&s<=i[t+2])this[n]=s;else throw Error($u+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error($u+n+": "+s);return this}var wk=x7(jke);yi=new wk(1);const Cn=wk;function Nke(e){return Pke(e)||_ke(e)||Cke(e)||Ske()}function Ske(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cke(e,t){if(e){if(typeof e=="string")return C_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C_(e,t)}}function _ke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Pke(e){if(Array.isArray(e))return C_(e)}function C_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var Ake=function(t){return t},y7={"@@functional/placeholder":!0},j7=function(t){return t===y7},H$=function(t){return function n(){return arguments.length===0||arguments.length===1&&j7(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Eke=function e(t,n){return t===1?n:H$(function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==y7}).length;return o>=t?n.apply(void 0,i):e(t-o,H$(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return j7(f)?c.shift():f});return n.apply(void 0,Nke(d).concat(c))}))})},jw=function(t){return Eke(t.length,t)},__=function(t,n){for(var s=[],i=t;i<n;++i)s[i-t]=i;return s},kke=jw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Tke=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(!n.length)return Ake;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},P_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},b7=function(t){var n=null,s=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,s=t.apply(void 0,a)),s}};function Oke(e){var t;return e===0?t=1:t=Math.floor(new Cn(e).abs().log(10).toNumber())+1,t}function Dke(e,t,n){for(var s=new Cn(e),i=0,a=[];s.lt(t)&&i<1e5;)a.push(s.toNumber()),s=s.add(n),i++;return a}var Mke=jw(function(e,t,n){var s=+e,i=+t;return s+n*(i-s)}),Ike=jw(function(e,t,n){var s=t-+e;return s=s||1/0,(n-e)/s}),$ke=jw(function(e,t,n){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});const bw={rangeStep:Dke,getDigitCount:Oke,interpolateNumber:Mke,uninterpolateNumber:Ike,uninterpolateTruncation:$ke};function A_(e){return Fke(e)||Lke(e)||w7(e)||Rke()}function Rke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Fke(e){if(Array.isArray(e))return E_(e)}function Ag(e,t){return Vke(e)||zke(e,t)||w7(e,t)||Bke()}function Bke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w7(e,t){if(e){if(typeof e=="string")return E_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E_(e,t)}}function E_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function zke(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],s=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));s=!0);}catch(c){i=!0,a=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Vke(e){if(Array.isArray(e))return e}function N7(e){var t=Ag(e,2),n=t[0],s=t[1],i=n,a=s;return n>s&&(i=s,a=n),[i,a]}function S7(e,t,n){if(e.lte(0))return new Cn(0);var s=bw.getDigitCount(e.toNumber()),i=new Cn(10).pow(s),a=e.div(i),o=s!==1?.05:.1,l=new Cn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return t?c:new Cn(Math.ceil(c))}function Uke(e,t,n){var s=1,i=new Cn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(s=new Cn(10).pow(bw.getDigitCount(e)-1),i=new Cn(Math.floor(i.div(s).toNumber())).mul(s)):a>1&&(i=new Cn(Math.floor(e)))}else e===0?i=new Cn(Math.floor((t-1)/2)):n||(i=new Cn(Math.floor(e)));var o=Math.floor((t-1)/2),l=Tke(kke(function(c){return i.add(new Cn(c-o).mul(s)).toNumber()}),__);return l(0,t)}function C7(e,t,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Cn(0),tickMin:new Cn(0),tickMax:new Cn(0)};var a=S7(new Cn(t).sub(e).div(n-1),s,i),o;e<=0&&t>=0?o=new Cn(0):(o=new Cn(e).add(t).div(2),o=o.sub(new Cn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Cn(t).sub(o).div(a).toNumber()),u=l+c+1;return u>n?C7(e,t,n,s,i+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:o.sub(new Cn(l).mul(a)),tickMax:o.add(new Cn(c).mul(a))})}function qke(e){var t=Ag(e,2),n=t[0],s=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=N7([n,s]),c=Ag(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(A_(__(0,i-1).map(function(){return 1/0}))):[].concat(A_(__(0,i-1).map(function(){return-1/0})),[d]);return n>s?P_(f):f}if(u===d)return Uke(u,i,a);var m=C7(u,d,o,a),g=m.step,x=m.tickMin,v=m.tickMax,y=bw.rangeStep(x,v.add(new Cn(.1).mul(g)),g);return n>s?P_(y):y}function Wke(e,t){var n=Ag(e,2),s=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=N7([s,i]),l=Ag(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[s,i];if(c===u)return[c];var d=Math.max(t,2),f=S7(new Cn(u).sub(c).div(d-1),a,0),m=[].concat(A_(bw.rangeStep(new Cn(c),new Cn(u).sub(new Cn(.99).mul(f)),f)),[u]);return s>i?P_(m):m}var Hke=b7(qke),Gke=b7(Wke),Kke="Invariant failed";function nd(e,t){throw new Error(Kke)}var Yke=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function dj(){return dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dj.apply(this,arguments)}function Qke(e,t){return eTe(e)||Zke(e,t)||Jke(e,t)||Xke()}function Xke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jke(e,t){if(e){if(typeof e=="string")return G$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G$(e,t)}}function G$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Zke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function eTe(e){if(Array.isArray(e))return e}function tTe(e,t){if(e==null)return{};var n=nTe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function nTe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function rTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sTe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,A7(s.key),s)}}function iTe(e,t,n){return t&&sTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aTe(e,t,n){return t=hj(t),oTe(e,_7()?Reflect.construct(t,n||[],hj(e).constructor):t.apply(e,n))}function oTe(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lTe(e)}function lTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_7=function(){return!!e})()}function hj(e){return hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hj(e)}function cTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k_(e,t)}function k_(e,t){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},k_(e,t)}function P7(e,t,n){return t=A7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A7(e){var t=uTe(e,"string");return xf(t)=="symbol"?t:t+""}function uTe(e,t){if(xf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(xf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ev=function(e){function t(){return rTe(this,t),aTe(this,t,arguments)}return cTe(t,e),iTe(t,[{key:"render",value:function(){var s=this.props,i=s.offset,a=s.layout,o=s.width,l=s.dataKey,c=s.data,u=s.dataPointFormatter,d=s.xAxis,f=s.yAxis,m=tTe(s,Yke),g=ct(m,!1);this.props.direction==="x"&&d.type!=="number"&&nd();var x=c.map(function(v){var y=u(v,l),N=y.x,b=y.y,j=y.value,_=y.errorVal;if(!_)return null;var C=[],A,P;if(Array.isArray(_)){var E=Qke(_,2);A=E[0],P=E[1]}else A=P=_;if(a==="vertical"){var M=d.scale,$=b+i,T=$+o,O=$-o,L=M(j-A),B=M(j+P);C.push({x1:B,y1:T,x2:B,y2:O}),C.push({x1:L,y1:$,x2:B,y2:$}),C.push({x1:L,y1:T,x2:L,y2:O})}else if(a==="horizontal"){var Z=f.scale,H=N+i,ae=H-o,X=H+o,D=Z(j-A),ie=Z(j+P);C.push({x1:ae,y1:ie,x2:X,y2:ie}),C.push({x1:H,y1:D,x2:H,y2:ie}),C.push({x1:ae,y1:D,x2:X,y2:D})}return U.createElement(Qt,dj({className:"recharts-errorBar",key:"bar-".concat(C.map(function(me){return"".concat(me.x1,"-").concat(me.x2,"-").concat(me.y1,"-").concat(me.y2)}))},g),C.map(function(me){return U.createElement("line",dj({},me,{key:"line-".concat(me.x1,"-").concat(me.x2,"-").concat(me.y1,"-").concat(me.y2)}))}))});return U.createElement(Qt,{className:"recharts-errorBars"},x)}}])}(U.Component);P7(Ev,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});P7(Ev,"displayName","ErrorBar");function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function K$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K$(Object(n),!0).forEach(function(s){dTe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function dTe(e,t,n){return t=hTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hTe(e){var t=fTe(e,"string");return Eg(t)=="symbol"?t:t+""}function fTe(e,t){if(Eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Eg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E7=function(t){var n=t.children,s=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=gi(n,Oh);if(!o)return null;var l=Oh.defaultProps,c=l!==void 0?nu(nu({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(s||[]).reduce(function(d,f){var m=f.item,g=f.props,x=g.sectors||g.data||[];return d.concat(x.map(function(v){return{type:o.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(s||[]).map(function(d){var f=d.item,m=f.type.defaultProps,g=m!==void 0?nu(nu({},m),f.props):{},x=g.dataKey,v=g.name,y=g.legendType,N=g.hide;return{inactive:N,dataKey:x,type:c.iconType||y||"square",color:Nk(f),value:v||x,payload:g}}),nu(nu(nu({},c),Oh.getWithHeight(o,i)),{},{payload:u,item:o})};function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function Y$(e){return vTe(e)||gTe(e)||pTe(e)||mTe()}function mTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pTe(e,t){if(e){if(typeof e=="string")return T_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(e,t)}}function gTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vTe(e){if(Array.isArray(e))return T_(e)}function T_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Q$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q$(Object(n),!0).forEach(function(s){Mh(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Mh(e,t,n){return t=xTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xTe(e){var t=yTe(e,"string");return kg(t)=="symbol"?t:t+""}function yTe(e,t){if(kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(kg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pr(e,t,n){return Pt(e)||Pt(t)?n:Mr(t)?Si(e,t,n):yt(t)?t(e):n}function $p(e,t,n,s){var i=gke(e,function(l){return pr(l,t)});if(n==="number"){var a=i.filter(function(l){return Ve(l)||parseFloat(l)});return a.length?[yw(a),ic(a)]:[1/0,-1/0]}var o=s?i.filter(function(l){return!Pt(l)}):i;return o.map(function(l){return Mr(l)||l instanceof Date?l:""})}var jTe=function(t){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s==null?void 0:s.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,m=u>=l-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Os(f-d)!==Os(m-f)){var x=[];if(Os(m-f)===Os(c[1]-c[0])){g=m;var v=f+c[1]-c[0];x[0]=Math.min(v,(v+d)/2),x[1]=Math.max(v,(v+d)/2)}else{g=d;var y=m+c[1]-c[0];x[0]=Math.min(f,(y+f)/2),x[1]=Math.max(f,(y+f)/2)}var N=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>N[0]&&t<=N[1]||t>=x[0]&&t<=x[1]){o=i[u].index;break}}else{var b=Math.min(d,m),j=Math.max(d,m);if(t>(b+f)/2&&t<=(j+f)/2){o=i[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(s[_].coordinate+s[_+1].coordinate)/2||_>0&&_<l-1&&t>(s[_].coordinate+s[_-1].coordinate)/2&&t<=(s[_].coordinate+s[_+1].coordinate)/2||_===l-1&&t>(s[_].coordinate+s[_-1].coordinate)/2){o=s[_].index;break}return o},Nk=function(t){var n,s=t,i=s.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},bTe=function(t){var n=t.barSize,s=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),m=0,g=f.length;m<g;m++){var x=d[f[m]],v=x.items,y=x.cateAxisId,N=v.filter(function(P){return Jo(P.type).indexOf("Bar")>=0});if(N&&N.length){var b=N[0].type.defaultProps,j=b!==void 0?or(or({},b),N[0].props):N[0].props,_=j.barSize,C=j[y];o[C]||(o[C]=[]);var A=Pt(_)?n:_;o[C].push({item:N[0],stackList:N.slice(1),barSize:Pt(A)?void 0:Ds(A,s,0)})}}return o},wTe=function(t){var n=t.barGap,s=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Ds(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,g=i/c,x=o.reduce(function(_,C){return _+C.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&g>0&&(m=!0,g*=.9,x=c*g);var v=(i-x)/2>>0,y={offset:v-u,size:0};d=o.reduce(function(_,C){var A={item:C.item,position:{offset:y.offset+y.size+u,size:m?g:C.barSize}},P=[].concat(Y$(_),[A]);return y=P[P.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){P.push({item:E,position:y})}),P},f)}else{var N=Ds(s,i,0,!0);i-2*N-(c-1)*u<=0&&(u=0);var b=(i-2*N-(c-1)*u)/c;b>1&&(b>>=0);var j=l===+l?Math.min(b,l):b;d=o.reduce(function(_,C,A){var P=[].concat(Y$(_),[{item:C.item,position:{offset:N+(b+u)*A+(b-j)/2,size:j}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){P.push({item:E,position:P[P.length-1].position})}),P},f)}return d},NTe=function(t,n,s,i){var a=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),u=E7({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,m=d.height,g=u.align,x=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&g!=="center"&&Ve(t[g]))return or(or({},t),{},Mh({},g,t[g]+(f||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&x!=="middle"&&Ve(t[x]))return or(or({},t),{},Mh({},x,t[x]+(m||0)))}return t},STe=function(t,n,s){return Pt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},k7=function(t,n,s,i,a){var o=n.props.children,l=Ci(o,Ev).filter(function(u){return STe(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=pr(d,s);if(Pt(f))return u;var m=Array.isArray(f)?[yw(f),ic(f)]:[f,f],g=c.reduce(function(x,v){var y=pr(d,v,0),N=m[0]-Math.abs(Array.isArray(y)?y[0]:y),b=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(N,x[0]),Math.max(b,x[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},CTe=function(t,n,s,i,a){var o=n.map(function(l){return k7(t,l,s,a,i)}).filter(function(l){return!Pt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},T7=function(t,n,s,i,a){var o=n.map(function(c){var u=c.props.dataKey;return s==="number"&&u&&k7(t,c,u,i)||$p(t,u,s,a)});if(s==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},O7=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},D7=function(t,n,s,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===s&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(s),l},Qo=function(t,n,s){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||s)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Os(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=a?a.indexOf(f):f;return{coordinate:i(m)+u,value:f,offset:u}});return d.filter(function(f){return!om(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:i(f)+u,value:f,index:m,offset:u}}):i.ticks&&!s?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,m){return{coordinate:i(f)+u,value:a?a[f]:f,index:m,offset:u}})},BS=new WeakMap,by=function(t,n){if(typeof n!="function")return t;BS.has(t)||BS.set(t,new WeakMap);var s=BS.get(t);if(s.has(n))return s.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,i),i},M7=function(t,n,s){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:wg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:aj(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:Ip(),realScaleType:"point"}:a==="category"?{scale:wg(),realScaleType:"band"}:{scale:aj(),realScaleType:"linear"};if(Xu(i)){var c="scale".concat(iw(i));return{scale:(U$[c]||Ip)(),realScaleType:U$[c]?c:"point"}}return yt(i)?{scale:i}:{scale:Ip(),realScaleType:"point"}},X$=1e-4,I7=function(t){var n=t.domain();if(!(!n||n.length<=2)){var s=n.length,i=t.range(),a=Math.min(i[0],i[1])-X$,o=Math.max(i[0],i[1])+X$,l=t(n[0]),c=t(n[s-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[s-1]])}},_Te=function(t,n){if(!t)return null;for(var s=0,i=t.length;s<i;s++)if(t[s].item===n)return t[s].position;return null},PTe=function(t,n){if(!n||n.length!==2||!Ve(n[0])||!Ve(n[1]))return t;var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!Ve(t[0])||t[0]<s)&&(a[0]=s),(!Ve(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<s&&(a[1]=s),a},ATe=function(t){var n=t.length;if(!(n<=0))for(var s=0,i=t[0].length;s<i;++s)for(var a=0,o=0,l=0;l<n;++l){var c=om(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=a,t[l][s][1]=a+c,a=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},ETe=function(t){var n=t.length;if(!(n<=0))for(var s=0,i=t[0].length;s<i;++s)for(var a=0,o=0;o<n;++o){var l=om(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=a,t[o][s][1]=a+l,a=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},kTe={sign:ATe,expand:Y0e,none:uf,silhouette:Q0e,wiggle:X0e,positive:ETe},TTe=function(t,n,s){var i=n.map(function(l){return l.props.dataKey}),a=kTe[s],o=K0e().keys(i).value(function(l,c){return+pr(l,c,0)}).order(n_).offset(a);return o(t)},OTe=function(t,n,s,i,a,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,m){var g,x=(g=m.type)!==null&&g!==void 0&&g.defaultProps?or(or({},m.type.defaultProps),m.props):m.props,v=x.stackId,y=x.hide;if(y)return f;var N=x[s],b=f[N]||{hasStack:!1,stackGroups:{}};if(Mr(v)){var j=b.stackGroups[v]||{numericAxisId:s,cateAxisId:i,items:[]};j.items.push(m),b.hasStack=!0,b.stackGroups[v]=j}else b.stackGroups[pd("_stackId_")]={numericAxisId:s,cateAxisId:i,items:[m]};return or(or({},f),{},Mh({},N,b))},c),d={};return Object.keys(u).reduce(function(f,m){var g=u[m];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,y){var N=g.stackGroups[y];return or(or({},v),{},Mh({},y,{numericAxisId:s,cateAxisId:i,items:N.items,stackedData:TTe(t,N.items,a)}))},x)}return or(or({},f),{},Mh({},m,g))},d)},$7=function(t,n){var s=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=s||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Hke(u,a,l);return t.domain([yw(d),ic(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),m=Gke(f,a,l);return{niceTicks:m}}return null};function fj(e){var t=e.axis,n=e.ticks,s=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Pt(i[t.dataKey])){var l=F0(n,"value",i[t.dataKey]);if(l)return l.coordinate+s/2}return n[a]?n[a].coordinate+s/2:null}var c=pr(i,Pt(o)?t.dataKey:o);return Pt(c)?null:t.scale(c)}var J$=function(t){var n=t.axis,s=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return s[l]?s[l].coordinate+i:null;var c=pr(o,n.dataKey,n.domain[l]);return Pt(c)?null:n.scale(c)-a/2+i},DTe=function(t){var n=t.numericAxis,s=n.scale.domain();if(n.type==="number"){var i=Math.min(s[0],s[1]),a=Math.max(s[0],s[1]);return i<=0&&a>=0?0:a<0?a:i}return s[0]},MTe=function(t,n){var s,i=(s=t.type)!==null&&s!==void 0&&s.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Mr(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},ITe=function(t){return t.reduce(function(n,s){return[yw(s.concat([n[0]]).filter(Ve)),ic(s.concat([n[1]]).filter(Ve))]},[1/0,-1/0])},R7=function(t,n,s){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=ITe(d.slice(n,s+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Z$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,O_=function(t,n,s){if(yt(t))return t(n,s);if(!Array.isArray(t))return n;var i=[];if(Ve(t[0]))i[0]=s?t[0]:Math.min(t[0],n[0]);else if(Z$.test(t[0])){var a=+Z$.exec(t[0])[1];i[0]=n[0]-a}else yt(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Ve(t[1]))i[1]=s?t[1]:Math.max(t[1],n[1]);else if(eR.test(t[1])){var o=+eR.exec(t[1])[1];i[1]=n[1]+o}else yt(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},mj=function(t,n,s){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!s||i>0)return i}if(t&&n&&n.length>=2){for(var a=XE(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},tR=function(t,n,s){return!t||!t.length||ed(t,Si(s,"type.defaultProps.domain"))?n:t},L7=function(t,n){var s=t.type.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,i=s.dataKey,a=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,u=s.chartType,d=s.hide;return or(or({},ct(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:Nk(t),value:pr(n,i),type:c,payload:n,chartType:u,hide:d})};function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function nR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(n),!0).forEach(function(s){F7(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function F7(e,t,n){return t=$Te(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Te(e){var t=RTe(e,"string");return Tg(t)=="symbol"?t:t+""}function RTe(e,t){if(Tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Tg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LTe(e,t){return VTe(e)||zTe(e,t)||BTe(e,t)||FTe()}function FTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BTe(e,t){if(e){if(typeof e=="string")return rR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rR(e,t)}}function rR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function zTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function VTe(e){if(Array.isArray(e))return e}var pj=Math.PI/180,UTe=function(t){return t*180/Math.PI},In=function(t,n,s,i){return{x:t+Math.cos(-pj*i)*s,y:n+Math.sin(-pj*i)*s}},B7=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},qTe=function(t,n,s,i,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Ds(t.cx,o,o/2),f=Ds(t.cy,l,l/2),m=B7(o,l,s),g=Ds(t.innerRadius,m,0),x=Ds(t.outerRadius,m,m*.8),v=Object.keys(n);return v.reduce(function(y,N){var b=n[N],j=b.domain,_=b.reversed,C;if(Pt(b.range))i==="angleAxis"?C=[c,u]:i==="radiusAxis"&&(C=[g,x]),_&&(C=[C[1],C[0]]);else{C=b.range;var A=C,P=LTe(A,2);c=P[0],u=P[1]}var E=M7(b,a),M=E.realScaleType,$=E.scale;$.domain(j).range(C),I7($);var T=$7($,Bo(Bo({},b),{},{realScaleType:M})),O=Bo(Bo(Bo({},b),T),{},{range:C,radius:x,realScaleType:M,scale:$,cx:d,cy:f,innerRadius:g,outerRadius:x,startAngle:c,endAngle:u});return Bo(Bo({},y),{},F7({},N,O))},{})},WTe=function(t,n){var s=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(s-a,2)+Math.pow(i-o,2))},HTe=function(t,n){var s=t.x,i=t.y,a=n.cx,o=n.cy,l=WTe({x:s,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(s-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:UTe(u),angleInRadian:u}},GTe=function(t){var n=t.startAngle,s=t.endAngle,i=Math.floor(n/360),a=Math.floor(s/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:s-o*360}},KTe=function(t,n){var s=n.startAngle,i=n.endAngle,a=Math.floor(s/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},sR=function(t,n){var s=t.x,i=t.y,a=HTe({x:s,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=GTe(n),f=d.startAngle,m=d.endAngle,g=l,x;if(f<=m){for(;g>m;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=m}else{for(;g>f;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=f}return x?Bo(Bo({},n),{},{radius:o,angle:KTe(g,n)}):null},z7=function(t){return!w.isValidElement(t)&&!yt(t)&&typeof t!="boolean"?t.className:""};function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}var YTe=["offset"];function QTe(e){return eOe(e)||ZTe(e)||JTe(e)||XTe()}function XTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JTe(e,t){if(e){if(typeof e=="string")return D_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D_(e,t)}}function ZTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eOe(e){if(Array.isArray(e))return D_(e)}function D_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function tOe(e,t){if(e==null)return{};var n=nOe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function nOe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(s){rOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function rOe(e,t,n){return t=sOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sOe(e){var t=iOe(e,"string");return Og(t)=="symbol"?t:t+""}function iOe(e,t){if(Og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Og(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Dg.apply(this,arguments)}var aOe=function(t){var n=t.value,s=t.formatter,i=Pt(t.children)?n:t.children;return yt(s)?s(i):i},oOe=function(t,n){var s=Os(n-t),i=Math.min(Math.abs(n-t),360);return s*i},lOe=function(t,n,s){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,g=c.startAngle,x=c.endAngle,v=c.clockWise,y=(f+m)/2,N=oOe(g,x),b=N>=0?1:-1,j,_;i==="insideStart"?(j=g+b*o,_=v):i==="insideEnd"?(j=x-b*o,_=!v):i==="end"&&(j=x+b*o,_=v),_=N<=0?_:!_;var C=In(u,d,y,j),A=In(u,d,y,j+(_?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(A.x,",").concat(A.y),E=Pt(t.id)?pd("recharts-radial-line-"):t.id;return U.createElement("text",Dg({},s,{dominantBaseline:"central",className:At("recharts-radial-bar-label",l)}),U.createElement("defs",null,U.createElement("path",{id:E,d:P})),U.createElement("textPath",{xlinkHref:"#".concat(E)},n))},cOe=function(t){var n=t.viewBox,s=t.offset,i=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,m=(d+f)/2;if(i==="outside"){var g=In(o,l,u+s,m),x=g.x,v=g.y;return{x,y:v,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,N=In(o,l,y,m),b=N.x,j=N.y;return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},uOe=function(t){var n=t.viewBox,s=t.parentViewBox,i=t.offset,a=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*i,g=f>0?"end":"start",x=f>0?"start":"end",v=u>=0?1:-1,y=v*i,N=v>0?"end":"start",b=v>0?"start":"end";if(a==="top"){var j={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:g};return Pr(Pr({},j),s?{height:Math.max(c-s.y,0),width:u}:{})}if(a==="bottom"){var _={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:x};return Pr(Pr({},_),s?{height:Math.max(s.y+s.height-(c+d),0),width:u}:{})}if(a==="left"){var C={x:l-y,y:c+d/2,textAnchor:N,verticalAnchor:"middle"};return Pr(Pr({},C),s?{width:Math.max(C.x-s.x,0),height:d}:{})}if(a==="right"){var A={x:l+u+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Pr(Pr({},A),s?{width:Math.max(s.x+s.width-A.x,0),height:d}:{})}var P=s?{width:u,height:d}:{};return a==="insideLeft"?Pr({x:l+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},P):a==="insideRight"?Pr({x:l+u-y,y:c+d/2,textAnchor:N,verticalAnchor:"middle"},P):a==="insideTop"?Pr({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:x},P):a==="insideBottom"?Pr({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:g},P):a==="insideTopLeft"?Pr({x:l+y,y:c+m,textAnchor:b,verticalAnchor:x},P):a==="insideTopRight"?Pr({x:l+u-y,y:c+m,textAnchor:N,verticalAnchor:x},P):a==="insideBottomLeft"?Pr({x:l+y,y:c+d-m,textAnchor:b,verticalAnchor:g},P):a==="insideBottomRight"?Pr({x:l+u-y,y:c+d-m,textAnchor:N,verticalAnchor:g},P):rm(a)&&(Ve(a.x)||yu(a.x))&&(Ve(a.y)||yu(a.y))?Pr({x:l+Ds(a.x,u),y:c+Ds(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):Pr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},dOe=function(t){return"cx"in t&&Ve(t.cx)};function qr(e){var t=e.offset,n=t===void 0?5:t,s=tOe(e,YTe),i=Pr({offset:n},s),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,m=i.textBreakAll;if(!a||Pt(l)&&Pt(c)&&!w.isValidElement(u)&&!yt(u))return null;if(w.isValidElement(u))return w.cloneElement(u,i);var g;if(yt(u)){if(g=w.createElement(u,i),w.isValidElement(g))return g}else g=aOe(i);var x=dOe(a),v=ct(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return lOe(i,g,v);var y=x?cOe(i):uOe(i);return U.createElement(Zu,Dg({className:At("recharts-label",f)},v,y,{breakAll:m}),g)}qr.displayName="Label";var V7=function(t){var n=t.cx,s=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,g=t.top,x=t.left,v=t.width,y=t.height,N=t.clockWise,b=t.labelViewBox;if(b)return b;if(Ve(v)&&Ve(y)){if(Ve(f)&&Ve(m))return{x:f,y:m,width:v,height:y};if(Ve(g)&&Ve(x))return{x:g,y:x,width:v,height:y}}return Ve(f)&&Ve(m)?{x:f,y:m,width:0,height:0}:Ve(n)&&Ve(s)?{cx:n,cy:s,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:N}:t.viewBox?t.viewBox:{}},hOe=function(t,n){return t?t===!0?U.createElement(qr,{key:"label-implicit",viewBox:n}):Mr(t)?U.createElement(qr,{key:"label-implicit",viewBox:n,value:t}):w.isValidElement(t)?t.type===qr?w.cloneElement(t,{key:"label-implicit",viewBox:n}):U.createElement(qr,{key:"label-implicit",content:t,viewBox:n}):yt(t)?U.createElement(qr,{key:"label-implicit",content:t,viewBox:n}):rm(t)?U.createElement(qr,Dg({viewBox:n},t,{key:"label-implicit"})):null:null},fOe=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var i=t.children,a=V7(t),o=Ci(i,qr).map(function(c,u){return w.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!s)return o;var l=hOe(t.label,n||a);return[l].concat(QTe(o))};qr.parseViewBox=V7;qr.renderCallByParent=fOe;function mOe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var pOe=mOe;const gOe=pn(pOe);function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}var vOe=["valueAccessor"],xOe=["data","dataKey","clockWise","id","textBreakAll"];function yOe(e){return NOe(e)||wOe(e)||bOe(e)||jOe()}function jOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bOe(e,t){if(e){if(typeof e=="string")return M_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M_(e,t)}}function wOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NOe(e){if(Array.isArray(e))return M_(e)}function M_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function gj(){return gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gj.apply(this,arguments)}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function oR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(n),!0).forEach(function(s){SOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function SOe(e,t,n){return t=COe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function COe(e){var t=_Oe(e,"string");return Mg(t)=="symbol"?t:t+""}function _Oe(e,t){if(Mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Mg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lR(e,t){if(e==null)return{};var n=POe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function POe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var AOe=function(t){return Array.isArray(t.value)?gOe(t.value):t.value};function po(e){var t=e.valueAccessor,n=t===void 0?AOe:t,s=lR(e,vOe),i=s.data,a=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,u=lR(s,xOe);return!i||!i.length?null:U.createElement(Qt,{className:"recharts-label-list"},i.map(function(d,f){var m=Pt(a)?n(d,f):pr(d&&d.payload,a),g=Pt(l)?{}:{id:"".concat(l,"-").concat(f)};return U.createElement(qr,gj({},ct(d,!0),u,g,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:qr.parseViewBox(Pt(o)?d:oR(oR({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}po.displayName="LabelList";function EOe(e,t){return e?e===!0?U.createElement(po,{key:"labelList-implicit",data:t}):U.isValidElement(e)||yt(e)?U.createElement(po,{key:"labelList-implicit",data:t,content:e}):rm(e)?U.createElement(po,gj({data:t},e,{key:"labelList-implicit"})):null:null}function kOe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,i=Ci(s,po).map(function(o,l){return w.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=EOe(e.label,t);return[a].concat(yOe(i))}po.renderCallByParent=kOe;function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},I_.apply(this,arguments)}function cR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function uR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(n),!0).forEach(function(s){TOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function TOe(e,t,n){return t=OOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OOe(e){var t=DOe(e,"string");return Ig(t)=="symbol"?t:t+""}function DOe(e,t){if(Ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ig(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MOe=function(t,n){var s=Os(n-t),i=Math.min(Math.abs(n-t),359.999);return s*i},wy=function(t){var n=t.cx,s=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/pj,m=u?a:a+o*f,g=In(n,s,d,m),x=In(n,s,i,m),v=u?a-o*f:a,y=In(n,s,d*Math.cos(f*pj),v);return{center:g,circleTangency:x,lineTangency:y,theta:f}},U7=function(t){var n=t.cx,s=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=MOe(o,l),u=o+c,d=In(n,s,a,o),f=In(n,s,a,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=In(n,s,i,o),x=In(n,s,i,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(n,",").concat(s," Z");return m},IOe=function(t){var n=t.cx,s=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Os(d-u),m=wy({cx:n,cy:s,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),g=m.circleTangency,x=m.lineTangency,v=m.theta,y=wy({cx:n,cy:s,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),N=y.circleTangency,b=y.lineTangency,j=y.theta,_=c?Math.abs(u-d):Math.abs(u-d)-v-j;if(_<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):U7({cx:n,cy:s,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var C="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var A=wy({cx:n,cy:s,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=A.circleTangency,E=A.lineTangency,M=A.theta,$=wy({cx:n,cy:s,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=$.circleTangency,O=$.lineTangency,L=$.theta,B=c?Math.abs(u-d):Math.abs(u-d)-M-L;if(B<0&&o===0)return"".concat(C,"L").concat(n,",").concat(s,"Z");C+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else C+="L".concat(n,",").concat(s,"Z");return C},$Oe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},q7=function(t){var n=uR(uR({},$Oe),t),s=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,m=n.className;if(o<a||d===f)return null;var g=At("recharts-sector",m),x=o-a,v=Ds(l,x,0,!0),y;return v>0&&Math.abs(d-f)<360?y=IOe({cx:s,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=U7({cx:s,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),U.createElement("path",I_({},ct(n,!0),{className:g,d:y,role:"img"}))};function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$_.apply(this,arguments)}function dR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function hR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(n),!0).forEach(function(s){ROe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ROe(e,t,n){return t=LOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LOe(e){var t=FOe(e,"string");return $g(t)=="symbol"?t:t+""}function FOe(e,t){if($g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if($g(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fR={curveBasisClosed:R0e,curveBasisOpen:L0e,curveBasis:$0e,curveBumpX:w0e,curveBumpY:N0e,curveLinearClosed:F0e,curveLinear:ow,curveMonotoneX:B0e,curveMonotoneY:z0e,curveNatural:V0e,curveStep:U0e,curveStepAfter:W0e,curveStepBefore:q0e},Ny=function(t){return t.x===+t.x&&t.y===+t.y},ap=function(t){return t.x},op=function(t){return t.y},BOe=function(t,n){if(yt(t))return t;var s="curve".concat(iw(t));return(s==="curveMonotone"||s==="curveBump")&&n?fR["".concat(s).concat(n==="vertical"?"Y":"X")]:fR[s]||ow},zOe=function(t){var n=t.type,s=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=BOe(s,l),f=u?a.filter(function(v){return Ny(v)}):a,m;if(Array.isArray(o)){var g=u?o.filter(function(v){return Ny(v)}):o,x=f.map(function(v,y){return hR(hR({},v),{},{base:g[y]})});return l==="vertical"?m=fy().y(op).x1(ap).x0(function(v){return v.base.x}):m=fy().x(ap).y1(op).y0(function(v){return v.base.y}),m.defined(Ny).curve(d),m(x)}return l==="vertical"&&Ve(o)?m=fy().y(op).x1(ap).x0(o):Ve(o)?m=fy().x(ap).y1(op).y0(o):m=LU().x(ap).y(op),m.defined(Ny).curve(d),m(f)},Ru=function(t){var n=t.className,s=t.points,i=t.path,a=t.pathRef;if((!s||!s.length)&&!i)return null;var o=s&&s.length?zOe(t):i;return w.createElement("path",$_({},ct(t,!1),B0(t),{className:At("recharts-curve",n),d:o,ref:a}))},W7={exports:{}},VOe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",UOe=VOe,qOe=UOe;function H7(){}function G7(){}G7.resetWarningCache=H7;var WOe=function(){function e(s,i,a,o,l,c){if(c!==qOe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:G7,resetWarningCache:H7};return n.PropTypes=n,n};W7.exports=WOe();var HOe=W7.exports;const fn=pn(HOe);var GOe=Object.getOwnPropertyNames,KOe=Object.getOwnPropertySymbols,YOe=Object.prototype.hasOwnProperty;function mR(e,t){return function(s,i,a){return e(s,i,a)&&t(s,i,a)}}function Sy(e){return function(n,s,i){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,i);var a=i.cache,o=a.get(n),l=a.get(s);if(o&&l)return o===s&&l===n;a.set(n,s),a.set(s,n);var c=e(n,s,i);return a.delete(n),a.delete(s),c}}function pR(e){return GOe(e).concat(KOe(e))}var QOe=Object.hasOwn||function(e,t){return YOe.call(e,t)};function xd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var XOe="__v",JOe="__o",ZOe="_owner",gR=Object.getOwnPropertyDescriptor,vR=Object.keys;function eDe(e,t,n){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],t[s],s,s,e,t,n))return!1;return!0}function tDe(e,t){return xd(e.getTime(),t.getTime())}function nDe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function rDe(e,t){return e===t}function xR(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var i=new Array(s),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var m=o.value,g=l.value;if(n.equals(m[0],g[0],c,f,e,t,n)&&n.equals(m[1],g[1],m[0],g[0],e,t,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var sDe=xd;function iDe(e,t,n){var s=vR(e),i=s.length;if(vR(t).length!==i)return!1;for(;i-- >0;)if(!K7(e,t,n,s[i]))return!1;return!0}function lp(e,t,n){var s=pR(e),i=s.length;if(pR(t).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=s[i],!K7(e,t,n,a)||(o=gR(e,a),l=gR(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function aDe(e,t){return xd(e.valueOf(),t.valueOf())}function oDe(e,t){return e.source===t.source&&e.flags===t.flags}function yR(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var i=new Array(s),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function lDe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function cDe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function K7(e,t,n,s){return(s===ZOe||s===JOe||s===XOe)&&(e.$$typeof||t.$$typeof)?!0:QOe(t,s)&&n.equals(e[s],t[s],s,s,e,t,n)}var uDe="[object Arguments]",dDe="[object Boolean]",hDe="[object Date]",fDe="[object Error]",mDe="[object Map]",pDe="[object Number]",gDe="[object Object]",vDe="[object RegExp]",xDe="[object Set]",yDe="[object String]",jDe="[object URL]",bDe=Array.isArray,jR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,bR=Object.assign,wDe=Object.prototype.toString.call.bind(Object.prototype.toString);function NDe(e){var t=e.areArraysEqual,n=e.areDatesEqual,s=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(x,v,y){if(x===v)return!0;if(x==null||v==null)return!1;var N=typeof x;if(N!==typeof v)return!1;if(N!=="object")return N==="number"?o(x,v,y):N==="function"?i(x,v,y):!1;var b=x.constructor;if(b!==v.constructor)return!1;if(b===Object)return l(x,v,y);if(bDe(x))return t(x,v,y);if(jR!=null&&jR(x))return f(x,v,y);if(b===Date)return n(x,v,y);if(b===RegExp)return u(x,v,y);if(b===Map)return a(x,v,y);if(b===Set)return d(x,v,y);var j=wDe(x);return j===hDe?n(x,v,y):j===vDe?u(x,v,y):j===mDe?a(x,v,y):j===xDe?d(x,v,y):j===gDe?typeof x.then!="function"&&typeof v.then!="function"&&l(x,v,y):j===jDe?m(x,v,y):j===fDe?s(x,v,y):j===uDe?l(x,v,y):j===dDe||j===pDe||j===yDe?c(x,v,y):!1}}function SDe(e){var t=e.circular,n=e.createCustomConfig,s=e.strict,i={areArraysEqual:s?lp:eDe,areDatesEqual:tDe,areErrorsEqual:nDe,areFunctionsEqual:rDe,areMapsEqual:s?mR(xR,lp):xR,areNumbersEqual:sDe,areObjectsEqual:s?lp:iDe,arePrimitiveWrappersEqual:aDe,areRegExpsEqual:oDe,areSetsEqual:s?mR(yR,lp):yR,areTypedArraysEqual:s?lp:lDe,areUrlsEqual:cDe};if(n&&(i=bR({},i,n(i))),t){var a=Sy(i.areArraysEqual),o=Sy(i.areMapsEqual),l=Sy(i.areObjectsEqual),c=Sy(i.areSetsEqual);i=bR({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function CDe(e){return function(t,n,s,i,a,o,l){return e(t,n,l)}}function _De(e){var t=e.circular,n=e.comparator,s=e.createState,i=e.equals,a=e.strict;if(s)return function(c,u){var d=s(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,g=d.meta;return n(c,u,{cache:m,equals:i,meta:g,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var PDe=qc();qc({strict:!0});qc({circular:!0});qc({circular:!0,strict:!0});qc({createInternalComparator:function(){return xd}});qc({strict:!0,createInternalComparator:function(){return xd}});qc({circular:!0,createInternalComparator:function(){return xd}});qc({circular:!0,createInternalComparator:function(){return xd},strict:!0});function qc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,s=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,l=SDe(e),c=NDe(l),u=s?s(c):CDe(c);return _De({circular:n,comparator:c,createState:i,equals:u,strict:o})}function ADe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function wR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):ADe(i)};requestAnimationFrame(s)}function R_(e){"@babel/helpers - typeof";return R_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R_(e)}function EDe(e){return DDe(e)||ODe(e)||TDe(e)||kDe()}function kDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TDe(e,t){if(e){if(typeof e=="string")return NR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NR(e,t)}}function NR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ODe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DDe(e){if(Array.isArray(e))return e}function MDe(){var e={},t=function(){return null},n=!1,s=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=EDe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){wR(i.bind(null,u),c);return}i(c),wR(i.bind(null,u));return}R_(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,s(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function SR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function CR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(n),!0).forEach(function(s){Y7(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Y7(e,t,n){return t=IDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IDe(e){var t=$De(e,"string");return Rg(t)==="symbol"?t:String(t)}function $De(e,t){if(Rg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Rg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RDe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(s,i){return s.filter(function(a){return i.includes(a)})})},LDe=function(t){return t},FDe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Rp=function(t,n){return Object.keys(n).reduce(function(s,i){return CR(CR({},s),{},Y7({},i,t(i,n[i])))},{})},_R=function(t,n,s){return t.map(function(i){return"".concat(FDe(i)," ").concat(n,"ms ").concat(s)}).join(",")};function BDe(e,t){return UDe(e)||VDe(e,t)||Q7(e,t)||zDe()}function zDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function UDe(e){if(Array.isArray(e))return e}function qDe(e){return GDe(e)||HDe(e)||Q7(e)||WDe()}function WDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q7(e,t){if(e){if(typeof e=="string")return L_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L_(e,t)}}function HDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GDe(e){if(Array.isArray(e))return L_(e)}function L_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var vj=1e-4,X7=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},J7=function(t,n){return t.map(function(s,i){return s*Math.pow(n,i)}).reduce(function(s,i){return s+i})},PR=function(t,n){return function(s){var i=X7(t,n);return J7(i,s)}},KDe=function(t,n){return function(s){var i=X7(t,n),a=[].concat(qDe(i.map(function(o,l){return o*l}).slice(1)),[0]);return J7(a,s)}},AR=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=BDe(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var f=PR(i,o),m=PR(a,l),g=KDe(i,o),x=function(N){return N>1?1:N<0?0:N},v=function(N){for(var b=N>1?1:N,j=b,_=0;_<8;++_){var C=f(j)-b,A=g(j);if(Math.abs(C-b)<vj||A<vj)return m(j);j=x(j-C/A)}return m(j)};return v.isStepper=!1,v},YDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,s=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var g=-(d-f)*s,x=m*a,v=m+(g-x)*l/1e3,y=m*l/1e3+d;return Math.abs(y-f)<vj&&Math.abs(v)<vj?[f,0]:[y,v]};return c.isStepper=!0,c.dt=l,c},QDe=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AR(i);case"spring":return YDe();default:if(i.split("(")[0]==="cubic-bezier")return AR(i)}return typeof i=="function"?i:null};function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function ER(e){return ZDe(e)||JDe(e)||Z7(e)||XDe()}function XDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZDe(e){if(Array.isArray(e))return B_(e)}function kR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(n),!0).forEach(function(s){F_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function F_(e,t,n){return t=eMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eMe(e){var t=tMe(e,"string");return Lg(t)==="symbol"?t:String(t)}function tMe(e,t){if(Lg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Lg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nMe(e,t){return iMe(e)||sMe(e,t)||Z7(e,t)||rMe()}function rMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z7(e,t){if(e){if(typeof e=="string")return B_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(e,t)}}function B_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function sMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function iMe(e){if(Array.isArray(e))return e}var xj=function(t,n,s){return t+(n-t)*s},z_=function(t){var n=t.from,s=t.to;return n!==s},aMe=function e(t,n,s){var i=Rp(function(a,o){if(z_(o)){var l=t(o.from,o.to,o.velocity),c=nMe(l,2),u=c[0],d=c[1];return es(es({},o),{},{from:u,velocity:d})}return o},n);return s<1?Rp(function(a,o){return z_(o)?es(es({},o),{},{velocity:xj(o.velocity,i[a].velocity,s),from:xj(o.from,i[a].from,s)}):o},n):e(t,i,s-1)};const oMe=function(e,t,n,s,i){var a=RDe(e,t),o=a.reduce(function(y,N){return es(es({},y),{},F_({},N,[e[N],t[N]]))},{}),l=a.reduce(function(y,N){return es(es({},y),{},F_({},N,{from:e[N],velocity:0,to:t[N]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Rp(function(N,b){return b.from},l)},g=function(){return!Object.values(l).filter(z_).length},x=function(N){u||(u=N);var b=N-u,j=b/n.dt;l=aMe(n,l,j),i(es(es(es({},e),t),m())),u=N,g()||(c=requestAnimationFrame(f))},v=function(N){d||(d=N);var b=(N-d)/s,j=Rp(function(C,A){return xj.apply(void 0,ER(A).concat([n(b)]))},o);if(i(es(es(es({},e),t),j)),b<1)c=requestAnimationFrame(f);else{var _=Rp(function(C,A){return xj.apply(void 0,ER(A).concat([n(1)]))},o);i(es(es(es({},e),t),_))}};return f=n.isStepper?x:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}var lMe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cMe(e,t){if(e==null)return{};var n=uMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function uMe(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function zS(e){return mMe(e)||fMe(e)||hMe(e)||dMe()}function dMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hMe(e,t){if(e){if(typeof e=="string")return V_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V_(e,t)}}function fMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mMe(e){if(Array.isArray(e))return V_(e)}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function fa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(s){yp(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function yp(e,t,n){return t=eW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gMe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,eW(s.key),s)}}function vMe(e,t,n){return t&&gMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eW(e){var t=xMe(e,"string");return yf(t)==="symbol"?t:String(t)}function xMe(e,t){if(yf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(yf(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U_(e,t)}function U_(e,t){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},U_(e,t)}function jMe(e){var t=bMe();return function(){var s=yj(e),i;if(t){var a=yj(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return q_(this,i)}}function q_(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W_(e)}function W_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yj(e){return yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yj(e)}var La=function(e){yMe(n,e);var t=jMe(n);function n(s,i){var a;pMe(this,n),a=t.call(this,s,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,g=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(W_(a)),a.changeStyle=a.changeStyle.bind(W_(a)),!l||g<=0)return a.state={style:{}},typeof m=="function"&&(a.state={style:d}),q_(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof m=="function")return a.state={style:u},q_(a);a.state={style:c?yp({},c,u):u}}else a.state={style:{}};return a}return vMe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,m=this.state.style;if(l){if(!o){var g={style:c?yp({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(g);return}if(!(PDe(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||u?f:i.to;if(this.state&&m){var y={style:c?yp({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(y)}this.runAnimation(fa(fa({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,m=i.onAnimationStart,g=oMe(o,l,QDe(u),c,this.changeStyle),x=function(){a.stopJSAnimation=g()};this.manager.start([m,d,x,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,g=function(v,y,N){if(N===0)return v;var b=y.duration,j=y.easing,_=j===void 0?"ease":j,C=y.style,A=y.properties,P=y.onAnimationEnd,E=N>0?o[N-1]:y,M=A||Object.keys(C);if(typeof _=="function"||_==="spring")return[].concat(zS(v),[a.runJSAnimation.bind(a,{from:E.style,to:C,duration:b,easing:_}),b]);var $=_R(M,b,_),T=fa(fa(fa({},E.style),C),{},{transition:$});return[].concat(zS(v),[T,b,P]).filter(LDe)};return this.manager.start([c].concat(zS(o.reduce(g,[d,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=MDe());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,m=i.steps,g=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var v=l?yp({},l,c):c,y=_R(Object.keys(v),o,u);x.start([d,a,fa(fa({},v),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=cMe(i,lMe),u=w.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(g){var x=g.props,v=x.style,y=v===void 0?{}:v,N=x.className,b=w.cloneElement(g,fa(fa({},c),{},{style:fa(fa({},y),d),className:N}));return b};return u===1?f(w.Children.only(a)):U.createElement("div",null,w.Children.map(a,function(m){return f(m)}))}}]),n}(w.PureComponent);La.displayName="Animate";La.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};La.propTypes={from:fn.oneOfType([fn.object,fn.string]),to:fn.oneOfType([fn.object,fn.string]),attributeName:fn.string,duration:fn.number,begin:fn.number,easing:fn.oneOfType([fn.string,fn.func]),steps:fn.arrayOf(fn.shape({duration:fn.number.isRequired,style:fn.object.isRequired,easing:fn.oneOfType([fn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),fn.func]),properties:fn.arrayOf("string"),onAnimationEnd:fn.func})),children:fn.oneOfType([fn.node,fn.func]),isActive:fn.bool,canBegin:fn.bool,onAnimationEnd:fn.func,shouldReAnimate:fn.bool,onAnimationStart:fn.func,onAnimationReStart:fn.func};function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jj.apply(this,arguments)}function wMe(e,t){return _Me(e)||CMe(e,t)||SMe(e,t)||NMe()}function NMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SMe(e,t){if(e){if(typeof e=="string")return OR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OR(e,t)}}function OR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function CMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function _Me(e){if(Array.isArray(e))return e}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function MR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(s){PMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function PMe(e,t,n){return t=AMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AMe(e){var t=EMe(e,"string");return Fg(t)=="symbol"?t:t+""}function EMe(e,t){if(Fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Fg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IR=function(t,n,s,i,a){var o=Math.min(Math.abs(s)/2,Math.abs(i)/2),l=i>=0?1:-1,c=s>=0?1:-1,u=i>=0&&s>=0||i<0&&s<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],m=0,g=4;m<g;m++)f[m]=a[m]>o?o:a[m];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+s-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+s,",").concat(n+l*f[1])),d+="L ".concat(t+s,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+s-c*f[2],",").concat(n+i)),d+="L ".concat(t+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);d="M ".concat(t,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(n,`
            L `).concat(t+s-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s,",").concat(n+l*x,`
            L `).concat(t+s,",").concat(n+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s-c*x,",").concat(n+i,`
            L `).concat(t+c*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(n+i-l*x," Z")}else d="M ".concat(t,",").concat(n," h ").concat(s," v ").concat(i," h ").concat(-s," Z");return d},kMe=function(t,n){if(!t||!n)return!1;var s=t.x,i=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return s>=u&&s<=d&&i>=f&&i<=m}return!1},TMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sk=function(t){var n=MR(MR({},TMe),t),s=w.useRef(),i=w.useState(-1),a=wMe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var _=s.current.getTotalLength();_&&l(_)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,m=n.radius,g=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isAnimationActive,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=At("recharts-rectangle",g);return b?U.createElement(La,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:v,animationEasing:x,isActive:b},function(_){var C=_.width,A=_.height,P=_.x,E=_.y;return U.createElement(La,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:N,easing:x},U.createElement("path",jj({},ct(n,!0),{className:j,d:IR(P,E,C,A,m),ref:s})))}):U.createElement("path",jj({},ct(n,!0),{className:j,d:IR(c,u,d,f,m)}))},OMe=["points","className","baseLinePoints","connectNulls"];function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ph.apply(this,arguments)}function DMe(e,t){if(e==null)return{};var n=MMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function MMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function $R(e){return LMe(e)||RMe(e)||$Me(e)||IMe()}function IMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Me(e,t){if(e){if(typeof e=="string")return H_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(e,t)}}function RMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LMe(e){if(Array.isArray(e))return H_(e)}function H_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var RR=function(t){return t&&t.x===+t.x&&t.y===+t.y},FMe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(s){RR(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),RR(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Lp=function(t,n){var s=FMe(t);n&&(s=[s.reduce(function(a,o){return[].concat($R(a),$R(o))},[])]);var i=s.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(i,"Z"):i},BMe=function(t,n,s){var i=Lp(t,s);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Lp(n.reverse(),s).slice(1))},zMe=function(t){var n=t.points,s=t.className,i=t.baseLinePoints,a=t.connectNulls,o=DMe(t,OMe);if(!n||!n.length)return null;var l=At("recharts-polygon",s);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=BMe(n,i,a);return U.createElement("g",{className:l},U.createElement("path",ph({},ct(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?U.createElement("path",ph({},ct(o,!0),{fill:"none",d:Lp(n,a)})):null,c?U.createElement("path",ph({},ct(o,!0),{fill:"none",d:Lp(i,a)})):null)}var d=Lp(n,a);return U.createElement("path",ph({},ct(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},G_.apply(this,arguments)}var kv=function(t){var n=t.cx,s=t.cy,i=t.r,a=t.className,o=At("recharts-dot",a);return n===+n&&s===+s&&i===+i?w.createElement("circle",G_({},ct(t,!1),B0(t),{className:o,cx:n,cy:s,r:i})):null};function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}var VMe=["x","y","top","left","width","height","className"];function K_(){return K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},K_.apply(this,arguments)}function LR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function UMe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(n),!0).forEach(function(s){qMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qMe(e,t,n){return t=WMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WMe(e){var t=HMe(e,"string");return Bg(t)=="symbol"?t:t+""}function HMe(e,t){if(Bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Bg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GMe(e,t){if(e==null)return{};var n=KMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function KMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var YMe=function(t,n,s,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(s)},QMe=function(t){var n=t.x,s=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,g=m===void 0?0:m,x=t.className,v=GMe(t,VMe),y=UMe({x:s,y:a,top:l,left:u,width:f,height:g},v);return!Ve(s)||!Ve(a)||!Ve(f)||!Ve(g)||!Ve(l)||!Ve(u)?null:U.createElement("path",K_({},ct(y,!0),{className:At("recharts-cross",x),d:YMe(s,a,f,g,l,u)}))},XMe=xw,JMe=h7,ZMe=No;function eIe(e,t){return e&&e.length?XMe(e,ZMe(t),JMe):void 0}var tIe=eIe;const nIe=pn(tIe);var rIe=xw,sIe=No,iIe=f7;function aIe(e,t){return e&&e.length?rIe(e,sIe(t),iIe):void 0}var oIe=aIe;const lIe=pn(oIe);var cIe=["cx","cy","angle","ticks","axisLine"],uIe=["ticks","tick","angle","tickFormatter","stroke"];function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fp.apply(this,arguments)}function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ru(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(s){ww(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function BR(e,t){if(e==null)return{};var n=dIe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function dIe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function hIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,nW(s.key),s)}}function fIe(e,t,n){return t&&zR(e.prototype,t),n&&zR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mIe(e,t,n){return t=bj(t),pIe(e,tW()?Reflect.construct(t,n||[],bj(e).constructor):t.apply(e,n))}function pIe(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gIe(e)}function gIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tW=function(){return!!e})()}function bj(e){return bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bj(e)}function vIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y_(e,t)}function Y_(e,t){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},Y_(e,t)}function ww(e,t,n){return t=nW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nW(e){var t=xIe(e,"string");return jf(t)=="symbol"?t:t+""}function xIe(e,t){if(jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(jf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nw=function(e){function t(){return hIe(this,t),mIe(this,t,arguments)}return vIe(t,e),fIe(t,[{key:"getTickValueCoord",value:function(s){var i=s.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return In(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,i;switch(s){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.angle,l=s.ticks,c=nIe(l,function(d){return d.coordinate||0}),u=lIe(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,u=BR(s,cIe),d=l.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),f=In(i,a,d[0],o),m=In(i,a,d[1],o),g=ru(ru(ru({},ct(u,!1)),{},{fill:"none"},ct(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return U.createElement("line",Fp({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var s=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=BR(i,uIe),f=this.getTickTextAnchor(),m=ct(d,!1),g=ct(o,!1),x=a.map(function(v,y){var N=s.getTickValueCoord(v),b=ru(ru(ru(ru({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},m),{},{stroke:"none",fill:u},g),{},{index:y},N),{},{payload:v});return U.createElement(Qt,Fp({className:At("recharts-polar-radius-axis-tick",z7(o)),key:"tick-".concat(v.coordinate)},Ju(s.props,v,y)),t.renderTickItem(o,b,c?c(v.value,y):v.value))});return U.createElement(Qt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,i=s.ticks,a=s.axisLine,o=s.tick;return!i||!i.length?null:U.createElement(Qt,{className:At("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),qr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,i,a){var o;return U.isValidElement(s)?o=U.cloneElement(s,i):yt(s)?o=s(i):o=U.createElement(Zu,Fp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(w.PureComponent);ww(Nw,"displayName","PolarRadiusAxis");ww(Nw,"axisType","radiusAxis");ww(Nw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fu.apply(this,arguments)}function VR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function su(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(n),!0).forEach(function(s){Sw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function yIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,sW(s.key),s)}}function jIe(e,t,n){return t&&UR(e.prototype,t),n&&UR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bIe(e,t,n){return t=wj(t),wIe(e,rW()?Reflect.construct(t,n||[],wj(e).constructor):t.apply(e,n))}function wIe(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NIe(e)}function NIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rW=function(){return!!e})()}function wj(e){return wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wj(e)}function SIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q_(e,t)}function Q_(e,t){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},Q_(e,t)}function Sw(e,t,n){return t=sW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sW(e){var t=CIe(e,"string");return bf(t)=="symbol"?t:t+""}function CIe(e,t){if(bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(bf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Ie=Math.PI/180,qR=1e-5,Cw=function(e){function t(){return yIe(this,t),bIe(this,t,arguments)}return SIe(t,e),jIe(t,[{key:"getTickLineCoord",value:function(s){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=In(a,o,l,s.coordinate),m=In(a,o,l+(c==="inner"?-1:1)*d,s.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(s){var i=this.props.orientation,a=Math.cos(-s.coordinate*_Ie),o;return a>qR?o=i==="outer"?"start":"end":a<-qR?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,u=su(su({},ct(this.props,!1)),{},{fill:"none"},ct(l,!1));if(c==="circle")return U.createElement(kv,fu({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(m){return In(i,a,o,m.coordinate)});return U.createElement(zMe,fu({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var s=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=ct(this.props,!1),f=ct(o,!1),m=su(su({},d),{},{fill:"none"},ct(l,!1)),g=a.map(function(x,v){var y=s.getTickLineCoord(x),N=s.getTickTextAnchor(x),b=su(su(su({textAnchor:N},d),{},{stroke:"none",fill:u},f),{},{index:v,payload:x,x:y.x2,y:y.y2});return U.createElement(Qt,fu({className:At("recharts-polar-angle-axis-tick",z7(o)),key:"tick-".concat(x.coordinate)},Ju(s.props,x,v)),l&&U.createElement("line",fu({className:"recharts-polar-angle-axis-tick-line"},m,y)),o&&t.renderTickItem(o,b,c?c(x.value,v):x.value))});return U.createElement(Qt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var s=this.props,i=s.ticks,a=s.radius,o=s.axisLine;return a<=0||!i||!i.length?null:U.createElement(Qt,{className:At("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,i,a){var o;return U.isValidElement(s)?o=U.cloneElement(s,i):yt(s)?o=s(i):o=U.createElement(Zu,fu({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(w.PureComponent);Sw(Cw,"displayName","PolarAngleAxis");Sw(Cw,"axisType","angleAxis");Sw(Cw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var PIe=lq,AIe=PIe(Object.getPrototypeOf,Object),EIe=AIe,kIe=gl,TIe=EIe,OIe=vl,DIe="[object Object]",MIe=Function.prototype,IIe=Object.prototype,iW=MIe.toString,$Ie=IIe.hasOwnProperty,RIe=iW.call(Object);function LIe(e){if(!OIe(e)||kIe(e)!=DIe)return!1;var t=TIe(e);if(t===null)return!0;var n=$Ie.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&iW.call(n)==RIe}var FIe=LIe;const BIe=pn(FIe);var zIe=gl,VIe=vl,UIe="[object Boolean]";function qIe(e){return e===!0||e===!1||VIe(e)&&zIe(e)==UIe}var WIe=qIe;const HIe=pn(WIe);function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nj.apply(this,arguments)}function GIe(e,t){return XIe(e)||QIe(e,t)||YIe(e,t)||KIe()}function KIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YIe(e,t){if(e){if(typeof e=="string")return WR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WR(e,t)}}function WR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function QIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function XIe(e){if(Array.isArray(e))return e}function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function GR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(n),!0).forEach(function(s){JIe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function JIe(e,t,n){return t=ZIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZIe(e){var t=e4e(e,"string");return zg(t)=="symbol"?t:t+""}function e4e(e,t){if(zg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(zg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KR=function(t,n,s,i,a){var o=s-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+s,",").concat(n),l+="L ".concat(t+s-o/2,",").concat(n+a),l+="L ".concat(t+s-o/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},t4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},n4e=function(t){var n=GR(GR({},t4e),t),s=w.useRef(),i=w.useState(-1),a=GIe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var j=s.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,m=n.height,g=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var b=At("recharts-trapezoid",g);return N?U.createElement(La,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:v,animationEasing:x,isActive:N},function(j){var _=j.upperWidth,C=j.lowerWidth,A=j.height,P=j.x,E=j.y;return U.createElement(La,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:x},U.createElement("path",Nj({},ct(n,!0),{className:b,d:KR(P,E,_,C,A),ref:s})))}):U.createElement("g",null,U.createElement("path",Nj({},ct(n,!0),{className:b,d:KR(c,u,d,f,m)})))},r4e=["option","shapeType","propTransformer","activeClassName","isActive"];function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function s4e(e,t){if(e==null)return{};var n=i4e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function i4e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function YR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Sj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(n),!0).forEach(function(s){a4e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function a4e(e,t,n){return t=o4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o4e(e){var t=l4e(e,"string");return Vg(t)=="symbol"?t:t+""}function l4e(e,t){if(Vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c4e(e,t){return Sj(Sj({},t),e)}function u4e(e,t){return e==="symbols"}function QR(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return U.createElement(Sk,n);case"trapezoid":return U.createElement(n4e,n);case"sector":return U.createElement(q7,n);case"symbols":if(u4e(t))return U.createElement(UE,n);break;default:return null}}function d4e(e){return w.isValidElement(e)?e.props:e}function aW(e){var t=e.option,n=e.shapeType,s=e.propTransformer,i=s===void 0?c4e:s,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=s4e(e,r4e),u;if(w.isValidElement(t))u=w.cloneElement(t,Sj(Sj({},c),d4e(t)));else if(yt(t))u=t(c);else if(BIe(t)&&!HIe(t)){var d=i(t,c);u=U.createElement(QR,{shapeType:n,elementProps:d})}else{var f=c;u=U.createElement(QR,{shapeType:n,elementProps:f})}return l?U.createElement(Qt,{className:o},u):u}function _w(e,t){return t!=null&&"trapezoids"in e.props}function Pw(e,t){return t!=null&&"sectors"in e.props}function Ug(e,t){return t!=null&&"points"in e.props}function h4e(e,t){var n,s,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return i&&a}function f4e(e,t){var n=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return n&&s}function m4e(e,t){var n=e.x===t.x,s=e.y===t.y,i=e.z===t.z;return n&&s&&i}function p4e(e,t){var n;return _w(e,t)?n=h4e:Pw(e,t)?n=f4e:Ug(e,t)&&(n=m4e),n}function g4e(e,t){var n;return _w(e,t)?n="trapezoids":Pw(e,t)?n="sectors":Ug(e,t)&&(n="points"),n}function v4e(e,t){if(_w(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Pw(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return Ug(e,t)?t.payload:{}}function x4e(e){var t=e.activeTooltipItem,n=e.graphicalItem,s=e.itemData,i=g4e(n,t),a=v4e(n,t),o=s.filter(function(c,u){var d=ed(a,c),f=n.props[i].filter(function(x){var v=p4e(n,t);return v(x,t)}),m=n.props[i].indexOf(f[f.length-1]),g=u===m;return d&&g}),l=s.indexOf(o[o.length-1]);return l}var Hy;function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gh.apply(this,arguments)}function XR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(n),!0).forEach(function(s){Wi(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function y4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,lW(s.key),s)}}function j4e(e,t,n){return t&&JR(e.prototype,t),n&&JR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b4e(e,t,n){return t=Cj(t),w4e(e,oW()?Reflect.construct(t,n||[],Cj(e).constructor):t.apply(e,n))}function w4e(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N4e(e)}function N4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oW=function(){return!!e})()}function Cj(e){return Cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cj(e)}function S4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X_(e,t)}function X_(e,t){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},X_(e,t)}function Wi(e,t,n){return t=lW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lW(e){var t=C4e(e,"string");return wf(t)=="symbol"?t:t+""}function C4e(e,t){if(wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(wf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qa=function(e){function t(n){var s;return y4e(this,t),s=b4e(this,t,[n]),Wi(s,"pieRef",null),Wi(s,"sectorRefs",[]),Wi(s,"id",pd("recharts-pie-")),Wi(s,"handleAnimationEnd",function(){var i=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),yt(i)&&i()}),Wi(s,"handleAnimationStart",function(){var i=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),yt(i)&&i()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return S4e(t,e),j4e(t,[{key:"isActiveIndex",value:function(s){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(s)!==-1:s===i}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=ct(this.props,!1),f=ct(o,!1),m=ct(l,!1),g=o&&o.offsetRadius||20,x=s.map(function(v,y){var N=(v.startAngle+v.endAngle)/2,b=In(v.cx,v.cy,v.outerRadius+g,N),j=On(On(On(On({},d),v),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(b.x,v.cx)},b),_=On(On(On(On({},d),v),{},{fill:"none",stroke:v.fill},m),{},{index:y,points:[In(v.cx,v.cy,v.outerRadius,N),b]}),C=c;return Pt(c)&&Pt(u)?C="value":Pt(c)&&(C=u),U.createElement(Qt,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,j,pr(v,C)))});return U.createElement(Qt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return s.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&s.length!==1)return null;var f=i.isActiveIndex(d),m=c&&i.hasActiveIndex()?c:null,g=f?o:m,x=On(On({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return U.createElement(Qt,gh({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Ju(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),U.createElement(aW,gh({option:g,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,m=f.prevSectors,g=f.prevIsAnimationActive;return U.createElement(La,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,y=[],N=a&&a[0],b=N.startAngle;return a.forEach(function(j,_){var C=m&&m[_],A=_>0?Si(j,"paddingAngle",0):0;if(C){var P=Or(C.endAngle-C.startAngle,j.endAngle-j.startAngle),E=On(On({},j),{},{startAngle:b+A,endAngle:b+P(v)+A});y.push(E),b=E.endAngle}else{var M=j.endAngle,$=j.startAngle,T=Or(0,M-$),O=T(v),L=On(On({},j),{},{startAngle:b+A,endAngle:b+O+A});y.push(L),b=L.endAngle}}),U.createElement(Qt,null,s.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(s){var i=this;s.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,i=s.sectors,a=s.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!ed(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,m=i.outerRadius,g=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!Ve(u)||!Ve(d)||!Ve(f)||!Ve(m))return null;var v=At("recharts-pie",l);return U.createElement(Qt,{tabIndex:this.props.rootTabIndex,className:v,ref:function(N){s.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),qr.renderCallByParent(this.props,null,!1),(!g||x)&&po.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return i.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:s.sectors!==i.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,i){return s>i?"start":s<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,i,a){if(U.isValidElement(s))return U.cloneElement(s,i);if(yt(s))return s(i);var o=At("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return U.createElement(Ru,gh({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,i,a){if(U.isValidElement(s))return U.cloneElement(s,i);var o=a;if(yt(s)&&(o=s(i),U.isValidElement(o)))return o;var l=At("recharts-pie-label-text",typeof s!="boolean"&&!yt(s)?s.className:"");return U.createElement(Zu,gh({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(w.PureComponent);Hy=qa;Wi(qa,"displayName","Pie");Wi(qa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Oa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Wi(qa,"parseDeltaAngle",function(e,t){var n=Os(t-e),s=Math.min(Math.abs(t-e),360);return n*s});Wi(qa,"getRealPieData",function(e){var t=e.data,n=e.children,s=ct(e,!1),i=Ci(n,dm);return t&&t.length?t.map(function(a,o){return On(On(On({payload:a},s),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return On(On({},s),a.props)}):[]});Wi(qa,"parseCoordinateOfPie",function(e,t){var n=t.top,s=t.left,i=t.width,a=t.height,o=B7(i,a),l=s+Ds(e.cx,i,i/2),c=n+Ds(e.cy,a,a/2),u=Ds(e.innerRadius,o,0),d=Ds(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Wi(qa,"getComposedData",function(e){var t=e.item,n=e.offset,s=t.type.defaultProps!==void 0?On(On({},t.type.defaultProps),t.props):t.props,i=Hy.getRealPieData(s);if(!i||!i.length)return null;var a=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,u=s.dataKey,d=s.nameKey,f=s.valueKey,m=s.tooltipType,g=Math.abs(s.minAngle),x=Hy.parseCoordinateOfPie(s,n),v=Hy.parseDeltaAngle(o,l),y=Math.abs(v),N=u;Pt(u)&&Pt(f)?(Ta(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):Pt(u)&&(Ta(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=f);var b=i.filter(function(E){return pr(E,N,0)!==0}).length,j=(y>=360?b:b-1)*c,_=y-b*g-j,C=i.reduce(function(E,M){var $=pr(M,N,0);return E+(Ve($)?$:0)},0),A;if(C>0){var P;A=i.map(function(E,M){var $=pr(E,N,0),T=pr(E,d,M),O=(Ve($)?$:0)/C,L;M?L=P.endAngle+Os(v)*c*($!==0?1:0):L=o;var B=L+Os(v)*(($!==0?g:0)+O*_),Z=(L+B)/2,H=(x.innerRadius+x.outerRadius)/2,ae=[{name:T,value:$,payload:E,dataKey:N,type:m}],X=In(x.cx,x.cy,H,Z);return P=On(On(On({percent:O,cornerRadius:a,name:T,tooltipPayload:ae,midAngle:Z,middleRadius:H,tooltipPosition:X},E),x),{},{value:pr(E,N),startAngle:L,endAngle:B,payload:E,paddingAngle:Os(v)*c}),P})}return On(On({},x),{},{sectors:A,data:i})});var _4e=Math.ceil,P4e=Math.max;function A4e(e,t,n,s){for(var i=-1,a=P4e(_4e((t-e)/(n||1)),0),o=Array(a);a--;)o[s?a:++i]=e,e+=n;return o}var E4e=A4e,k4e=Pq,ZR=1/0,T4e=17976931348623157e292;function O4e(e){if(!e)return e===0?e:0;if(e=k4e(e),e===ZR||e===-ZR){var t=e<0?-1:1;return t*T4e}return e===e?e:0}var cW=O4e,D4e=E4e,M4e=dw,VS=cW;function I4e(e){return function(t,n,s){return s&&typeof s!="number"&&M4e(t,n,s)&&(n=s=void 0),t=VS(t),n===void 0?(n=t,t=0):n=VS(n),s=s===void 0?t<n?1:-1:VS(s),D4e(t,n,s,e)}}var $4e=I4e,R4e=$4e,L4e=R4e(),F4e=L4e;const _j=pn(F4e);function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function e3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function t3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(n),!0).forEach(function(s){uW(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function uW(e,t,n){return t=B4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B4e(e){var t=z4e(e,"string");return qg(t)=="symbol"?t:t+""}function z4e(e,t){if(qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(qg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V4e=["Webkit","Moz","O","ms"],U4e=function(t,n){var s=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=V4e.reduce(function(a,o){return t3(t3({},a),{},uW({},o+s,n))},{});return i[t]=n,i};function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pj.apply(this,arguments)}function n3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function US(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n3(Object(n),!0).forEach(function(s){mi(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function q4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,hW(s.key),s)}}function W4e(e,t,n){return t&&r3(e.prototype,t),n&&r3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function H4e(e,t,n){return t=Aj(t),G4e(e,dW()?Reflect.construct(t,n||[],Aj(e).constructor):t.apply(e,n))}function G4e(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K4e(e)}function K4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dW=function(){return!!e})()}function Aj(e){return Aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Aj(e)}function Y4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J_(e,t)}function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},J_(e,t)}function mi(e,t,n){return t=hW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hW(e){var t=Q4e(e,"string");return Nf(t)=="symbol"?t:t+""}function Q4e(e,t){if(Nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Nf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X4e=function(t){var n=t.data,s=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Ip().domain(_j(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(s),endX:u(i),scale:u,scaleValues:d}},s3=function(t){return t.changedTouches&&!!t.changedTouches.length},Sf=function(e){function t(n){var s;return q4e(this,t),s=H4e(this,t,[n]),mi(s,"handleDrag",function(i){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(i):s.state.isSlideMoving&&s.handleSlideDrag(i)}),mi(s,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&s.handleDrag(i.changedTouches[0])}),mi(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=s.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),s.detachDragEndListener()}),mi(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),mi(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),mi(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),mi(s,"handleSlideDragStart",function(i){var a=s3(i)?i.changedTouches[0]:i;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return Y4e(t,e),W4e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var i=s.startX,a=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),m=Math.max(i,a),g=t.getIndexInRange(o,f),x=t.getIndexInRange(o,m);return{startIndex:g-g%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(s){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=pr(a[s],l,s);return yt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,g=c.endIndex,x=c.onChange,v=s.pageX-a;v>0?v=Math.min(v,u+d-f-l,u+d-f-o):v<0&&(v=Math.max(v,u-o,u-l));var y=this.getIndex({startX:o+v,endX:l+v});(y.startIndex!==m||y.endIndex!==g)&&x&&x(y),this.setState({startX:o+v,endX:l+v,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,i){var a=s3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,g=d.travellerWidth,x=d.onChange,v=d.gap,y=d.data,N={startX:this.state.startX,endX:this.state.endX},b=s.pageX-a;b>0?b=Math.min(b,f+m-g-u):b<0&&(b=Math.max(b,f-u)),N[o]=u+b;var j=this.getIndex(N),_=j.startIndex,C=j.endIndex,A=function(){var E=y.length-1;return o==="startX"&&(l>c?_%v===0:C%v===0)||l<c&&C===E||o==="endX"&&(l>c?C%v===0:_%v===0)||l>c&&C===E};this.setState(mi(mi({},o,u+b),"brushMoveStartX",s.pageX),function(){x&&A()&&x(j)})}},{key:"handleTravellerMoveKeyboard",value:function(s,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var m=f+s;if(!(m===-1||m>=l.length)){var g=l[m];i==="startX"&&g>=u||i==="endX"&&g<=c||this.setState(mi({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.fill,u=s.stroke;return U.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.data,u=s.children,d=s.padding,f=w.Children.only(u);return f?U.cloneElement(f,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,g=c.ariaLabel,x=c.data,v=c.startIndex,y=c.endIndex,N=Math.max(s,this.props.x),b=US(US({},ct(this.props,!1)),{},{x:N,y:u,width:d,height:f}),j=g||"Min value: ".concat((a=x[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return U.createElement(Qt,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,b))}},{key:"renderSlide",value:function(s,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(s,i)+u,f=Math.max(Math.abs(i-s)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var s=this.props,i=s.startIndex,a=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,u=s.stroke,d=this.state,f=d.startX,m=d.endX,g=5,x={pointerEvents:"none",fill:u};return U.createElement(Qt,{className:"recharts-brush-texts"},U.createElement(Zu,Pj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-g,y:o+l/2},x),this.getTextOfTick(i)),U.createElement(Zu,Pj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+g,y:o+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var s=this.props,i=s.data,a=s.className,o=s.children,l=s.x,c=s.y,u=s.width,d=s.height,f=s.alwaysShowText,m=this.state,g=m.startX,x=m.endX,v=m.isTextActive,y=m.isSlideMoving,N=m.isTravellerMoving,b=m.isTravellerFocused;if(!i||!i.length||!Ve(l)||!Ve(c)||!Ve(u)||!Ve(d)||u<=0||d<=0)return null;var j=At("recharts-brush",a),_=U.Children.count(o)===1,C=U4e("userSelect","none");return U.createElement(Qt,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(v||y||N||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var i=s.x,a=s.y,o=s.width,l=s.height,c=s.stroke,u=Math.floor(a+l/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),U.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,i){var a;return U.isValidElement(s)?a=U.cloneElement(s,i):yt(s)?a=s(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(s,i){var a=s.data,o=s.width,l=s.x,c=s.travellerWidth,u=s.updateId,d=s.startIndex,f=s.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return US({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?X4e({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var m=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(s.startIndex),endX:i.scale(s.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(s,i){for(var a=s.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>i?l=c:o=c}return i>=s[l]?l:o}}])}(w.PureComponent);mi(Sf,"displayName","Brush");mi(Sf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var J4e=QE;function Z4e(e,t){var n;return J4e(e,function(s,i,a){return n=t(s,i,a),!n}),!!n}var e$e=Z4e,t$e=eq,n$e=No,r$e=e$e,s$e=ii,i$e=dw;function a$e(e,t,n){var s=s$e(e)?t$e:r$e;return n&&i$e(e,t,n)&&(t=void 0),s(e,n$e(t))}var o$e=a$e;const l$e=pn(o$e);var go=function(t,n){var s=t.alwaysShow,i=t.ifOverflow;return s&&(i="extendDomain"),i===n},i3=wq;function c$e(e,t,n){t=="__proto__"&&i3?i3(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var u$e=c$e,d$e=u$e,h$e=jq,f$e=No;function m$e(e,t){var n={};return t=f$e(t),h$e(e,function(s,i,a){d$e(n,i,t(s,i,a))}),n}var p$e=m$e;const g$e=pn(p$e);function v$e(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!t(e[n],n,e))return!1;return!0}var x$e=v$e,y$e=QE;function j$e(e,t){var n=!0;return y$e(e,function(s,i,a){return n=!!t(s,i,a),n}),n}var b$e=j$e,w$e=x$e,N$e=b$e,S$e=No,C$e=ii,_$e=dw;function P$e(e,t,n){var s=C$e(e)?w$e:N$e;return n&&_$e(e,t,n)&&(t=void 0),s(e,S$e(t))}var A$e=P$e;const fW=pn(A$e);var E$e=["x","y"];function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function Z_(){return Z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Z_.apply(this,arguments)}function a3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function cp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(n),!0).forEach(function(s){k$e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function k$e(e,t,n){return t=T$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T$e(e){var t=O$e(e,"string");return Wg(t)=="symbol"?t:t+""}function O$e(e,t){if(Wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Wg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D$e(e,t){if(e==null)return{};var n=M$e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function M$e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function I$e(e,t){var n=e.x,s=e.y,i=D$e(e,E$e),a="".concat(n),o=parseInt(a,10),l="".concat(s),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),m=parseInt(f,10);return cp(cp(cp(cp(cp({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function o3(e){return U.createElement(aW,Z_({shapeType:"rectangle",propTransformer:I$e,activeClassName:"recharts-active-bar"},e))}var $$e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,i){if(typeof t=="number")return t;var a=Ve(s)||lye(s);return a?t(s,i):(a||nd(),n)}},R$e=["value","background"],mW;function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function L$e(e,t){if(e==null)return{};var n=F$e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function F$e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Ej(){return Ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ej.apply(this,arguments)}function l3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(n),!0).forEach(function(s){ac(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function B$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gW(s.key),s)}}function z$e(e,t,n){return t&&c3(e.prototype,t),n&&c3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function V$e(e,t,n){return t=kj(t),U$e(e,pW()?Reflect.construct(t,n||[],kj(e).constructor):t.apply(e,n))}function U$e(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q$e(e)}function q$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pW=function(){return!!e})()}function kj(e){return kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kj(e)}function W$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eP(e,t)}function eP(e,t){return eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},eP(e,t)}function ac(e,t,n){return t=gW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=H$e(e,"string");return Cf(t)=="symbol"?t:t+""}function H$e(e,t){if(Cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Cf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oo=function(e){function t(){var n;B$e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=V$e(this,t,[].concat(i)),ac(n,"state",{isAnimationFinished:!1}),ac(n,"id",pd("recharts-bar-")),ac(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ac(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return W$e(t,e),z$e(t,[{key:"renderRectanglesStatically",value:function(s){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=ct(this.props,!1);return s&&s.map(function(f,m){var g=m===c,x=g?u:o,v=xr(xr(xr({},d),f),{},{isActive:g,option:x,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(Qt,Ej({className:"recharts-bar-rectangle"},Ju(i.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(m)}),U.createElement(o3,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevData;return U.createElement(La,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,v=a.map(function(y,N){var b=m&&m[N];if(b){var j=Or(b.x,y.x),_=Or(b.y,y.y),C=Or(b.width,y.width),A=Or(b.height,y.height);return xr(xr({},y),{},{x:j(x),y:_(x),width:C(x),height:A(x)})}if(o==="horizontal"){var P=Or(0,y.height),E=P(x);return xr(xr({},y),{},{y:y.y+y.height-E,height:E})}var M=Or(0,y.width),$=M(x);return xr(xr({},y),{},{width:$})});return U.createElement(Qt,null,s.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var s=this.props,i=s.data,a=s.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ed(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var s=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=ct(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,m=L$e(u,R$e);if(!f)return null;var g=xr(xr(xr(xr(xr({},m),{},{fill:"#eee"},f),c),Ju(s.props,u,d)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return U.createElement(o3,Ej({key:"background-bar-".concat(d),option:s.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ci(d,Ev);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,g=function(y,N){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:pr(y,N)}},x={clipPath:s?"url(#clipPath-".concat(i,")"):null};return U.createElement(Qt,x,f.map(function(v){return U.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var s=this.props,i=s.hide,a=s.data,o=s.className,l=s.xAxis,c=s.yAxis,u=s.left,d=s.top,f=s.width,m=s.height,g=s.isAnimationActive,x=s.background,v=s.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,N=At("recharts-bar",o),b=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,_=b||j,C=Pt(v)?this.id:v;return U.createElement(Qt,{className:N},b||j?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(C)},U.createElement("rect",{x:b?u:u-f/2,y:j?d:d-m/2,width:b?f:f*2,height:j?m:m*2}))):null,U.createElement(Qt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(C,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,C),(!g||y)&&po.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:i.curData}:s.data!==i.curData?{curData:s.data}:null}}])}(w.PureComponent);mW=oo;ac(oo,"displayName","Bar");ac(oo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Oa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ac(oo,"getComposedData",function(e){var t=e.props,n=e.item,s=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,g=_Te(s,n);if(!g)return null;var x=t.layout,v=n.type.defaultProps,y=v!==void 0?xr(xr({},v),n.props):n.props,N=y.dataKey,b=y.children,j=y.minPointSize,_=x==="horizontal"?o:a,C=u?_.scale.domain():null,A=DTe({numericAxis:_}),P=Ci(b,dm),E=f.map(function(M,$){var T,O,L,B,Z,H;u?T=PTe(u[d+$],C):(T=pr(M,N),Array.isArray(T)||(T=[A,T]));var ae=$$e(j,mW.defaultProps.minPointSize)(T[1],$);if(x==="horizontal"){var X,D=[o.scale(T[0]),o.scale(T[1])],ie=D[0],me=D[1];O=J$({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:M,index:$}),L=(X=me??ie)!==null&&X!==void 0?X:void 0,B=g.size;var te=ie-me;if(Z=Number.isNaN(te)?0:te,H={x:O,y:o.y,width:B,height:o.height},Math.abs(ae)>0&&Math.abs(Z)<Math.abs(ae)){var J=Os(Z||ae)*(Math.abs(ae)-Math.abs(Z));L-=J,Z+=J}}else{var ne=[a.scale(T[0]),a.scale(T[1])],ve=ne[0],ye=ne[1];if(O=ve,L=J$({axis:o,ticks:c,bandSize:i,offset:g.offset,entry:M,index:$}),B=ye-ve,Z=g.size,H={x:a.x,y:L,width:a.width,height:Z},Math.abs(ae)>0&&Math.abs(B)<Math.abs(ae)){var be=Os(B||ae)*(Math.abs(ae)-Math.abs(B));B+=be}}return xr(xr(xr({},M),{},{x:O,y:L,width:B,height:Z,value:u?T:T[1],payload:M,background:H},P&&P[$]&&P[$].props),{},{tooltipPayload:[L7(n,M)],tooltipPosition:{x:O+B/2,y:L+Z/2}})});return xr({data:E,layout:x},m)});function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function G$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,vW(s.key),s)}}function K$e(e,t,n){return t&&u3(e.prototype,t),n&&u3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(n),!0).forEach(function(s){Aw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Aw(e,t,n){return t=vW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vW(e){var t=Y$e(e,"string");return Hg(t)=="symbol"?t:t+""}function Y$e(e,t){if(Hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Hg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ck=function(t,n,s,i,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},m=!!gi(u,oo);return d.reduce(function(g,x){var v=n[x],y=v.orientation,N=v.domain,b=v.padding,j=b===void 0?{}:b,_=v.mirror,C=v.reversed,A="".concat(y).concat(_?"Mirror":""),P,E,M,$,T;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var O=N[1]-N[0],L=1/0,B=v.categoricalDomain.sort(dye);if(B.forEach(function(ne,ve){ve>0&&(L=Math.min((ne||0)-(B[ve-1]||0),L))}),Number.isFinite(L)){var Z=L/O,H=v.layout==="vertical"?s.height:s.width;if(v.padding==="gap"&&(P=Z*H/2),v.padding==="no-gap"){var ae=Ds(t.barCategoryGap,Z*H),X=Z*H/2;P=X-ae-(X-ae)/H*ae}}}i==="xAxis"?E=[s.left+(j.left||0)+(P||0),s.left+s.width-(j.right||0)-(P||0)]:i==="yAxis"?E=c==="horizontal"?[s.top+s.height-(j.bottom||0),s.top+(j.top||0)]:[s.top+(j.top||0)+(P||0),s.top+s.height-(j.bottom||0)-(P||0)]:E=v.range,C&&(E=[E[1],E[0]]);var D=M7(v,a,m),ie=D.scale,me=D.realScaleType;ie.domain(N).range(E),I7(ie);var te=$7(ie,ba(ba({},v),{},{realScaleType:me}));i==="xAxis"?(T=y==="top"&&!_||y==="bottom"&&_,M=s.left,$=f[A]-T*v.height):i==="yAxis"&&(T=y==="left"&&!_||y==="right"&&_,M=f[A]-T*v.width,$=s.top);var J=ba(ba(ba({},v),te),{},{realScaleType:me,x:M,y:$,scale:ie,width:i==="xAxis"?s.width:v.width,height:i==="yAxis"?s.height:v.height});return J.bandSize=mj(J,te),!v.hide&&i==="xAxis"?f[A]+=(T?-1:1)*J.height:v.hide||(f[A]+=(T?-1:1)*J.width),ba(ba({},g),{},Aw({},x,J))},{})},xW=function(t,n){var s=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(s,a),y:Math.min(i,o),width:Math.abs(a-s),height:Math.abs(o-i)}},Q$e=function(t){var n=t.x1,s=t.y1,i=t.x2,a=t.y2;return xW({x:n,y:s},{x:i,y:a})},yW=function(){function e(t){G$e(this,e),this.scale=t}return K$e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,a=s.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),i=s[0],a=s[s.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();Aw(yW,"EPS",1e-4);var _k=function(t){var n=Object.keys(t).reduce(function(s,i){return ba(ba({},s),{},Aw({},i,yW.create(t[i])))},{});return ba(ba({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return g$e(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return fW(i,function(a,o){return n[o].isInRange(a)})}})};function X$e(e){return(e%180+180)%180}var J$e=function(t){var n=t.width,s=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=X$e(i),o=a*Math.PI/180,l=Math.atan(s/n),c=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Z$e=No,eRe=Sv,tRe=cw;function nRe(e){return function(t,n,s){var i=Object(t);if(!eRe(t)){var a=Z$e(n);t=tRe(t),n=function(l){return a(i[l],l,i)}}var o=e(t,n,s);return o>-1?i[a?t[o]:o]:void 0}}var rRe=nRe,sRe=cW;function iRe(e){var t=sRe(e),n=t%1;return t===t?n?t-n:t:0}var aRe=iRe,oRe=mq,lRe=No,cRe=aRe,uRe=Math.max;function dRe(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var i=n==null?0:cRe(n);return i<0&&(i=uRe(s+i,0)),oRe(e,lRe(t),i)}var hRe=dRe,fRe=rRe,mRe=hRe,pRe=fRe(mRe),gRe=pRe;const vRe=pn(gRe);var xRe=hxe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Pk=w.createContext(void 0),Ak=w.createContext(void 0),jW=w.createContext(void 0),bW=w.createContext({}),wW=w.createContext(void 0),NW=w.createContext(0),SW=w.createContext(0),h3=function(t){var n=t.state,s=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=xRe(a);return U.createElement(Pk.Provider,{value:s},U.createElement(Ak.Provider,{value:i},U.createElement(bW.Provider,{value:a},U.createElement(jW.Provider,{value:d},U.createElement(wW.Provider,{value:o},U.createElement(NW.Provider,{value:u},U.createElement(SW.Provider,{value:c},l)))))))},yRe=function(){return w.useContext(wW)},CW=function(t){var n=w.useContext(Pk);n==null&&nd();var s=n[t];return s==null&&nd(),s},jRe=function(){var t=w.useContext(Pk);return Wl(t)},bRe=function(){var t=w.useContext(Ak),n=vRe(t,function(s){return fW(s.domain,Number.isFinite)});return n||Wl(t)},_W=function(t){var n=w.useContext(Ak);n==null&&nd();var s=n[t];return s==null&&nd(),s},wRe=function(){var t=w.useContext(jW);return t},NRe=function(){return w.useContext(bW)},Ek=function(){return w.useContext(SW)},kk=function(){return w.useContext(NW)};function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function SRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,AW(s.key),s)}}function _Re(e,t,n){return t&&CRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PRe(e,t,n){return t=Tj(t),ARe(e,PW()?Reflect.construct(t,n||[],Tj(e).constructor):t.apply(e,n))}function ARe(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ERe(e)}function ERe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PW=function(){return!!e})()}function Tj(e){return Tj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tj(e)}function kRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tP(e,t)}function tP(e,t){return tP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},tP(e,t)}function f3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function m3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(n),!0).forEach(function(s){Tk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Tk(e,t,n){return t=AW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AW(e){var t=TRe(e,"string");return _f(t)=="symbol"?t:t+""}function TRe(e,t){if(_f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(_f(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ORe(e,t){return $Re(e)||IRe(e,t)||MRe(e,t)||DRe()}function DRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MRe(e,t){if(e){if(typeof e=="string")return p3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p3(e,t)}}function p3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function IRe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function $Re(e){if(Array.isArray(e))return e}function nP(){return nP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nP.apply(this,arguments)}var RRe=function(t,n){var s;return U.isValidElement(t)?s=U.cloneElement(t,n):yt(t)?s=t(n):s=U.createElement("line",nP({},n,{className:"recharts-reference-line-line"})),s},LRe=function(t,n,s,i,a,o,l,c,u){var d=a.x,f=a.y,m=a.width,g=a.height;if(s){var x=u.y,v=t.y.apply(x,{position:o});if(go(u,"discard")&&!t.y.isInRange(v))return null;var y=[{x:d+m,y:v},{x:d,y:v}];return c==="left"?y.reverse():y}if(n){var N=u.x,b=t.x.apply(N,{position:o});if(go(u,"discard")&&!t.x.isInRange(b))return null;var j=[{x:b,y:f+g},{x:b,y:f}];return l==="top"?j.reverse():j}if(i){var _=u.segment,C=_.map(function(A){return t.apply(A,{position:o})});return go(u,"discard")&&l$e(C,function(A){return!t.isInRange(A)})?null:C}return null};function FRe(e){var t=e.x,n=e.y,s=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=yRe(),d=CW(i),f=_W(a),m=wRe();if(!u||!m)return null;Ta(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=_k({x:d.scale,y:f.scale}),x=Mr(t),v=Mr(n),y=s&&s.length===2,N=LRe(g,x,v,y,m,e.position,d.orientation,f.orientation,e);if(!N)return null;var b=ORe(N,2),j=b[0],_=j.x,C=j.y,A=b[1],P=A.x,E=A.y,M=go(e,"hidden")?"url(#".concat(u,")"):void 0,$=m3(m3({clipPath:M},ct(e,!0)),{},{x1:_,y1:C,x2:P,y2:E});return U.createElement(Qt,{className:At("recharts-reference-line",l)},RRe(o,$),qr.renderCallByParent(e,Q$e({x1:_,y1:C,x2:P,y2:E})))}var Ok=function(e){function t(){return SRe(this,t),PRe(this,t,arguments)}return kRe(t,e),_Re(t,[{key:"render",value:function(){return U.createElement(FRe,this.props)}}])}(U.Component);Tk(Ok,"displayName","ReferenceLine");Tk(Ok,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rP(){return rP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rP.apply(this,arguments)}function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function g3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function v3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(n),!0).forEach(function(s){Ew(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function BRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,kW(s.key),s)}}function VRe(e,t,n){return t&&zRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function URe(e,t,n){return t=Oj(t),qRe(e,EW()?Reflect.construct(t,n||[],Oj(e).constructor):t.apply(e,n))}function qRe(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WRe(e)}function WRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EW=function(){return!!e})()}function Oj(e){return Oj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oj(e)}function HRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sP(e,t)}function sP(e,t){return sP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},sP(e,t)}function Ew(e,t,n){return t=kW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kW(e){var t=GRe(e,"string");return Pf(t)=="symbol"?t:t+""}function GRe(e,t){if(Pf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Pf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KRe=function(t){var n=t.x,s=t.y,i=t.xAxis,a=t.yAxis,o=_k({x:i.scale,y:a.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return go(t,"discard")&&!o.isInRange(l)?null:l},kw=function(e){function t(){return BRe(this,t),URe(this,t,arguments)}return HRe(t,e),VRe(t,[{key:"render",value:function(){var s=this.props,i=s.x,a=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,u=Mr(i),d=Mr(a);if(Ta(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=KRe(this.props);if(!f)return null;var m=f.x,g=f.y,x=this.props,v=x.shape,y=x.className,N=go(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=v3(v3({clipPath:N},ct(this.props,!0)),{},{cx:m,cy:g});return U.createElement(Qt,{className:At("recharts-reference-dot",y)},t.renderDot(v,b),qr.renderCallByParent(this.props,{x:m-o,y:g-o,width:2*o,height:2*o}))}}])}(U.Component);Ew(kw,"displayName","ReferenceDot");Ew(kw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ew(kw,"renderDot",function(e,t){var n;return U.isValidElement(e)?n=U.cloneElement(e,t):yt(e)?n=e(t):n=U.createElement(kv,rP({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function iP(){return iP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},iP.apply(this,arguments)}function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function x3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function y3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(n),!0).forEach(function(s){Tw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function YRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,OW(s.key),s)}}function XRe(e,t,n){return t&&QRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JRe(e,t,n){return t=Dj(t),ZRe(e,TW()?Reflect.construct(t,n||[],Dj(e).constructor):t.apply(e,n))}function ZRe(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e3e(e)}function e3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TW=function(){return!!e})()}function Dj(e){return Dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dj(e)}function t3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aP(e,t)}function aP(e,t){return aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},aP(e,t)}function Tw(e,t,n){return t=OW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OW(e){var t=n3e(e,"string");return Af(t)=="symbol"?t:t+""}function n3e(e,t){if(Af(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Af(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r3e=function(t,n,s,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var m=_k({x:d.scale,y:f.scale}),g={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:s?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:n?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return go(a,"discard")&&(!m.isInRange(g)||!m.isInRange(x))?null:xW(g,x)},Ow=function(e){function t(){return YRe(this,t),JRe(this,t,arguments)}return t3e(t,e),XRe(t,[{key:"render",value:function(){var s=this.props,i=s.x1,a=s.x2,o=s.y1,l=s.y2,c=s.className,u=s.alwaysShow,d=s.clipPathId;Ta(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Mr(i),m=Mr(a),g=Mr(o),x=Mr(l),v=this.props.shape;if(!f&&!m&&!g&&!x&&!v)return null;var y=r3e(f,m,g,x,this.props);if(!y&&!v)return null;var N=go(this.props,"hidden")?"url(#".concat(d,")"):void 0;return U.createElement(Qt,{className:At("recharts-reference-area",c)},t.renderRect(v,y3(y3({clipPath:N},ct(this.props,!0)),y)),qr.renderCallByParent(this.props,y))}}])}(U.Component);Tw(Ow,"displayName","ReferenceArea");Tw(Ow,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Tw(Ow,"renderRect",function(e,t){var n;return U.isValidElement(e)?n=U.cloneElement(e,t):yt(e)?n=e(t):n=U.createElement(Sk,iP({},t,{className:"recharts-reference-area-rect"})),n});function DW(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var s=[],i=0;i<e.length;i+=t)s.push(e[i]);return s}function s3e(e,t,n){var s={width:e.width+t.width,height:e.height+t.height};return J$e(s,n)}function i3e(e,t,n){var s=n==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:s?i:a,end:s?i+o:a+l}:{start:s?i+o:a+l,end:s?i:a}}function Mj(e,t,n,s,i){if(e*t<e*s||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-s)>=0&&e*(t+e*a/2-i)<=0}function a3e(e,t){return DW(e,t+1)}function o3e(e,t,n,s,i){for(var a=(s||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var x=s==null?void 0:s[c];if(x===void 0)return{v:DW(s,u)};var v=c,y,N=function(){return y===void 0&&(y=n(x,v)),y},b=x.coordinate,j=c===0||Mj(e,b,N,d,l);j||(c=0,d=o,u+=1),j&&(d=b+e*(N()/2+i),c+=u)},m;u<=a.length;)if(m=f(),m)return m.v;return[]}function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function j3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(n),!0).forEach(function(s){l3e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function l3e(e,t,n){return t=c3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c3e(e){var t=u3e(e,"string");return Gg(t)=="symbol"?t:t+""}function u3e(e,t){if(Gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Gg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d3e(e,t,n,s,i){for(var a=(s||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(m){var g=a[m],x,v=function(){return x===void 0&&(x=n(g,m)),x};if(m===o-1){var y=e*(g.coordinate+e*v()/2-c);a[m]=g=fs(fs({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate})}else a[m]=g=fs(fs({},g),{},{tickCoord:g.coordinate});var N=Mj(e,g.tickCoord,v,l,c);N&&(c=g.tickCoord-e*(v()/2+i),a[m]=fs(fs({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function h3e(e,t,n,s,i,a){var o=(s||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=s[l-1],f=n(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=fs(fs({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var g=Mj(e,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-e*(f/2+i),o[l-1]=fs(fs({},d),{},{isShow:!0}))}for(var x=a?l-1:l,v=function(b){var j=o[b],_,C=function(){return _===void 0&&(_=n(j,b)),_};if(b===0){var A=e*(j.coordinate-e*C()/2-c);o[b]=j=fs(fs({},j),{},{tickCoord:A<0?j.coordinate-A*e:j.coordinate})}else o[b]=j=fs(fs({},j),{},{tickCoord:j.coordinate});var P=Mj(e,j.tickCoord,C,c,u);P&&(c=j.tickCoord+e*(C()/2+i),o[b]=fs(fs({},j),{},{isShow:!0}))},y=0;y<x;y++)v(y);return o}function Dk(e,t,n){var s=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!s)return[];if(Ve(c)||Oa.isSsr)return a3e(i,typeof c=="number"&&Ve(c)?c:0);var m=[],g=l==="top"||l==="bottom"?"width":"height",x=d&&g==="width"?Mp(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=function(j,_){var C=yt(u)?u(j.value,_):j.value;return g==="width"?s3e(Mp(C,{fontSize:t,letterSpacing:n}),x,f):Mp(C,{fontSize:t,letterSpacing:n})[g]},y=i.length>=2?Os(i[1].coordinate-i[0].coordinate):1,N=i3e(a,y,g);return c==="equidistantPreserveStart"?o3e(y,N,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=h3e(y,N,v,i,o,c==="preserveStartEnd"):m=d3e(y,N,v,i,o),m.filter(function(b){return b.isShow}))}var f3e=["viewBox"],m3e=["viewBox"],p3e=["ticks"];function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vh.apply(this,arguments)}function b3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(n),!0).forEach(function(s){Mk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qS(e,t){if(e==null)return{};var n=g3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function g3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function v3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,IW(s.key),s)}}function x3e(e,t,n){return t&&w3(e.prototype,t),n&&w3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y3e(e,t,n){return t=Ij(t),j3e(e,MW()?Reflect.construct(t,n||[],Ij(e).constructor):t.apply(e,n))}function j3e(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b3e(e)}function b3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MW=function(){return!!e})()}function Ij(e){return Ij=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ij(e)}function w3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oP(e,t)}function oP(e,t){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},oP(e,t)}function Mk(e,t,n){return t=IW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(e){var t=N3e(e,"string");return Ef(t)=="symbol"?t:t+""}function N3e(e,t){if(Ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ef(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pm=function(e){function t(n){var s;return v3e(this,t),s=y3e(this,t,[n]),s.state={fontSize:"",letterSpacing:""},s}return w3e(t,e),x3e(t,[{key:"shouldComponentUpdate",value:function(s,i){var a=s.viewBox,o=qS(s,f3e),l=this.props,c=l.viewBox,u=qS(l,m3e);return!Th(a,c)||!Th(o,u)||!Th(i,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var i=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,m=i.tickMargin,g,x,v,y,N,b,j=f?-1:1,_=s.tickSize||d,C=Ve(s.tickCoord)?s.tickCoord:s.coordinate;switch(u){case"top":g=x=s.coordinate,y=o+ +!f*c,v=y-j*_,b=v-j*m,N=C;break;case"left":v=y=s.coordinate,x=a+ +!f*l,g=x-j*_,N=g-j*m,b=C;break;case"right":v=y=s.coordinate,x=a+ +f*l,g=x+j*_,N=g+j*m,b=C;break;default:g=x=s.coordinate,y=o+ +f*c,v=y+j*_,b=v+j*m,N=C;break}return{line:{x1:g,y1:v,x2:x,y2:y},tick:{x:N,y:b}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,i=s.orientation,a=s.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,i=s.orientation,a=s.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.orientation,u=s.mirror,d=s.axisLine,f=_r(_r(_r({},ct(this.props,!1)),ct(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=_r(_r({},f),{},{x1:i,y1:a+m*l,x2:i+o,y2:a+m*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=_r(_r({},f),{},{x1:i+g*o,y1:a,x2:i+g*o,y2:a+l})}return U.createElement("line",vh({},f,{className:At("recharts-cartesian-axis-line",Si(d,"className"))}))}},{key:"renderTicks",value:function(s,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,g=Dk(_r(_r({},this.props),{},{ticks:s}),i,a),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=ct(this.props,!1),N=ct(d,!1),b=_r(_r({},y),{},{fill:"none"},ct(c,!1)),j=g.map(function(_,C){var A=o.getTickLineCoord(_),P=A.line,E=A.tick,M=_r(_r(_r(_r({textAnchor:x,verticalAnchor:v},y),{},{stroke:"none",fill:u},N),E),{},{index:C,payload:_,visibleTicksCount:g.length,tickFormatter:f});return U.createElement(Qt,vh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Ju(o.props,_,C)),c&&U.createElement("line",vh({},b,P,{className:At("recharts-cartesian-axis-tick-line",Si(c,"className"))})),d&&t.renderTickItem(d,M,"".concat(yt(f)?f(_.value,C):_.value).concat(m||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var s=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,m=f.ticks,g=qS(f,p3e),x=m;return yt(c)&&(x=m&&m.length>0?c(this.props):c(g)),o<=0||l<=0||!x||!x.length?null:U.createElement(Qt,{className:At("recharts-cartesian-axis",u),ref:function(y){s.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),qr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,i,a){var o,l=At(i.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(s)?o=U.cloneElement(s,_r(_r({},i),{},{className:l})):yt(s)?o=s(_r(_r({},i),{},{className:l})):o=U.createElement(Zu,vh({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(w.Component);Mk(pm,"displayName","CartesianAxis");Mk(pm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var S3e=["x1","y1","x2","y2","key"],C3e=["offset"];function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function N3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(n),!0).forEach(function(s){_3e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function _3e(e,t,n){return t=P3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P3e(e){var t=A3e(e,"string");return rd(t)=="symbol"?t:t+""}function A3e(e,t){if(rd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(rd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wu.apply(this,arguments)}function S3(e,t){if(e==null)return{};var n=E3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function E3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var k3e=function(t){var n=t.fill;if(!n||n==="none")return null;var s=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return U.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function $W(e,t){var n;if(U.isValidElement(e))n=U.cloneElement(e,t);else if(yt(e))n=e(t);else{var s=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=S3(t,S3e),u=ct(c,!1);u.offset;var d=S3(u,C3e);n=U.createElement("line",wu({},d,{x1:s,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function T3e(e){var t=e.x,n=e.width,s=e.horizontal,i=s===void 0?!0:s,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=gs(gs({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return $W(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function O3e(e){var t=e.y,n=e.height,s=e.vertical,i=s===void 0?!0:s,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=gs(gs({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return $W(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function D3e(e){var t=e.horizontalFill,n=e.fillOpacity,s=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],v=x?i+o-m:d[g+1]-m;if(v<=0)return null;var y=g%t.length;return U.createElement("rect",{key:"react-".concat(g),y:m,x:s,height:v,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function M3e(e){var t=e.vertical,n=t===void 0?!0:t,s=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!s||!s.length)return null;var d=u.map(function(m){return Math.round(m+a-a)}).sort(function(m,g){return m-g});a!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],v=x?a+l-m:d[g+1]-m;if(v<=0)return null;var y=g%s.length;return U.createElement("rect",{key:"react-".concat(g),x:m,y:o,width:v,height:c,stroke:"none",fill:s[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var I3e=function(t,n){var s=t.xAxis,i=t.width,a=t.height,o=t.offset;return D7(Dk(gs(gs(gs({},pm.defaultProps),s),{},{ticks:Qo(s,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},$3e=function(t,n){var s=t.yAxis,i=t.width,a=t.height,o=t.offset;return D7(Dk(gs(gs(gs({},pm.defaultProps),s),{},{ticks:Qo(s,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Qd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sd(e){var t,n,s,i,a,o,l=Ek(),c=kk(),u=NRe(),d=gs(gs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Qd.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Qd.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Qd.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Qd.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Qd.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Qd.verticalFill,x:Ve(e.x)?e.x:u.left,y:Ve(e.y)?e.y:u.top,width:Ve(e.width)?e.width:u.width,height:Ve(e.height)?e.height:u.height}),f=d.x,m=d.y,g=d.width,x=d.height,v=d.syncWithTicks,y=d.horizontalValues,N=d.verticalValues,b=jRe(),j=bRe();if(!Ve(g)||g<=0||!Ve(x)||x<=0||!Ve(f)||f!==+f||!Ve(m)||m!==+m)return null;var _=d.verticalCoordinatesGenerator||I3e,C=d.horizontalCoordinatesGenerator||$3e,A=d.horizontalPoints,P=d.verticalPoints;if((!A||!A.length)&&yt(C)){var E=y&&y.length,M=C({yAxis:j?gs(gs({},j),{},{ticks:E?y:j.ticks}):void 0,width:l,height:c,offset:u},E?!0:v);Ta(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(rd(M),"]")),Array.isArray(M)&&(A=M)}if((!P||!P.length)&&yt(_)){var $=N&&N.length,T=_({xAxis:b?gs(gs({},b),{},{ticks:$?N:b.ticks}):void 0,width:l,height:c,offset:u},$?!0:v);Ta(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(rd(T),"]")),Array.isArray(T)&&(P=T)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(k3e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),U.createElement(T3e,wu({},d,{offset:u,horizontalPoints:A,xAxis:b,yAxis:j})),U.createElement(O3e,wu({},d,{offset:u,verticalPoints:P,xAxis:b,yAxis:j})),U.createElement(D3e,wu({},d,{horizontalPoints:A})),U.createElement(M3e,wu({},d,{verticalPoints:P})))}sd.displayName="CartesianGrid";var R3e=["type","layout","connectNulls","ref"],L3e=["key"];function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function C3(e,t){if(e==null)return{};var n=F3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function F3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bp.apply(this,arguments)}function _3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(n),!0).forEach(function(s){wa(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Xd(e){return U3e(e)||V3e(e)||z3e(e)||B3e()}function B3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z3e(e,t){if(e){if(typeof e=="string")return lP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lP(e,t)}}function V3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U3e(e){if(Array.isArray(e))return lP(e)}function lP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function q3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,LW(s.key),s)}}function W3e(e,t,n){return t&&P3(e.prototype,t),n&&P3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function H3e(e,t,n){return t=$j(t),G3e(e,RW()?Reflect.construct(t,n||[],$j(e).constructor):t.apply(e,n))}function G3e(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K3e(e)}function K3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RW=function(){return!!e})()}function $j(e){return $j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$j(e)}function Y3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cP(e,t)}function cP(e,t){return cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},cP(e,t)}function wa(e,t,n){return t=LW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LW(e){var t=Q3e(e,"string");return kf(t)=="symbol"?t:t+""}function Q3e(e,t){if(kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(kf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tf=function(e){function t(){var n;q3e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=H3e(this,t,[].concat(i)),wa(n,"state",{isAnimationFinished:!0,totalLength:0}),wa(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),wa(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(N,b){return N+b});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,g=[],x=0,v=0;x<c.length;v+=c[x],++x)if(v+c[x]>f){g=[].concat(Xd(c.slice(0,x)),[f-v]);break}var y=g.length%2===0?[0,m]:[m];return[].concat(Xd(t.repeat(c,d)),Xd(g),y).map(function(N){return"".concat(N,"px")}).join(", ")}),wa(n,"id",pd("recharts-line-")),wa(n,"pathRef",function(o){n.mainCurve=o}),wa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),wa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Y3e(t,e),W3e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ci(d,Ev);if(!f)return null;var m=function(v,y){return{x:v.x,y:v.y,value:v.value,errorVal:pr(v.payload,y)}},g={clipPath:s?"url(#clipPath-".concat(i,")"):null};return U.createElement(Qt,g,f.map(function(x){return U.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(s,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ct(this.props,!1),m=ct(c,!0),g=u.map(function(v,y){var N=fi(fi(fi({key:"dot-".concat(y),r:3},f),m),{},{index:y,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return t.renderDotItem(c,N)}),x={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return U.createElement(Qt,Bp({className:"recharts-line-dots",key:"dots"},x),g)}},{key:"renderCurveStatically",value:function(s,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=C3(l,R3e),m=fi(fi(fi({},ct(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:s},o),{},{type:c,layout:u,connectNulls:d});return U.createElement(Ru,Bp({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,g=o.animationId,x=o.animateNewValues,v=o.width,y=o.height,N=this.state,b=N.prevPoints,j=N.totalLength;return U.createElement(La,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var C=_.t;if(b){var A=b.length/l.length,P=l.map(function(O,L){var B=Math.floor(L*A);if(b[B]){var Z=b[B],H=Or(Z.x,O.x),ae=Or(Z.y,O.y);return fi(fi({},O),{},{x:H(C),y:ae(C)})}if(x){var X=Or(v*2,O.x),D=Or(y/2,O.y);return fi(fi({},O),{},{x:X(C),y:D(C)})}return fi(fi({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(P,s,i)}var E=Or(0,j),M=E(C),$;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});$=a.getStrokeDasharray(M,j,T)}else $=a.generateSimpleStrokeDasharray(j,M);return a.renderCurveStatically(l,s,i,{strokeDasharray:$})})}},{key:"renderCurve",value:function(s,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!ed(u,o))?this.renderCurveWithAnimation(s,i):this.renderCurveStatically(o,s,i)}},{key:"render",value:function(){var s,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,m=i.left,g=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,b=l.length===1,j=At("recharts-line",c),_=u&&u.allowDataOverflow,C=d&&d.allowDataOverflow,A=_||C,P=Pt(y)?this.id:y,E=(s=ct(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},M=E.r,$=M===void 0?3:M,T=E.strokeWidth,O=T===void 0?2:T,L=CU(o)?o:{},B=L.clipDot,Z=B===void 0?!0:B,H=$*2+O;return U.createElement(Qt,{className:j},_||C?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(P)},U.createElement("rect",{x:_?m:m-g/2,y:C?f:f-x/2,width:_?g:g*2,height:C?x:x*2})),!Z&&U.createElement("clipPath",{id:"clipPath-dots-".concat(P)},U.createElement("rect",{x:m-H/2,y:f-H/2,width:g+H,height:x+H}))):null,!b&&this.renderCurve(A,P),this.renderErrorBar(A,P),(b||o)&&this.renderDots(A,Z,P),(!v||N)&&po.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:i.curPoints}:s.points!==i.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,i){for(var a=s.length%2!==0?[].concat(Xd(s),[0]):s,o=[],l=0;l<i;++l)o=[].concat(Xd(o),Xd(a));return o}},{key:"renderDotItem",value:function(s,i){var a;if(U.isValidElement(s))a=U.cloneElement(s,i);else if(yt(s))a=s(i);else{var o=i.key,l=C3(i,L3e),c=At("recharts-line-dot",typeof s!="boolean"?s.className:"");a=U.createElement(kv,Bp({key:o},l,{className:c}))}return a}}])}(w.PureComponent);wa(Tf,"displayName","Line");wa(Tf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Oa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});wa(Tf,"getComposedData",function(e){var t=e.props,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(m,g){var x=pr(m,o);return d==="horizontal"?{x:fj({axis:n,ticks:i,bandSize:l,entry:m,index:g}),y:Pt(x)?null:s.scale(x),value:x,payload:m}:{x:Pt(x)?null:n.scale(x),y:fj({axis:s,ticks:a,bandSize:l,entry:m,index:g}),value:x,payload:m}});return fi({points:f,layout:d},u)});var X3e=["layout","type","stroke","connectNulls","isRange","ref"],J3e=["key"],FW;function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function BW(e,t){if(e==null)return{};var n=Z3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Z3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nu.apply(this,arguments)}function A3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A3(Object(n),!0).forEach(function(s){lo(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function eLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,VW(s.key),s)}}function tLe(e,t,n){return t&&E3(e.prototype,t),n&&E3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nLe(e,t,n){return t=Rj(t),rLe(e,zW()?Reflect.construct(t,n||[],Rj(e).constructor):t.apply(e,n))}function rLe(e,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sLe(e)}function sLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zW=function(){return!!e})()}function Rj(e){return Rj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rj(e)}function iLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uP(e,t)}function uP(e,t){return uP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},uP(e,t)}function lo(e,t,n){return t=VW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VW(e){var t=aLe(e,"string");return Of(t)=="symbol"?t:t+""}function aLe(e,t){if(Of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Of(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ta=function(e){function t(){var n;eLe(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=nLe(this,t,[].concat(i)),lo(n,"state",{isAnimationFinished:!0}),lo(n,"id",pd("recharts-area-")),lo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),yt(o)&&o()}),lo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),yt(o)&&o()}),n}return iLe(t,e),tLe(t,[{key:"renderDots",value:function(s,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,m=ct(this.props,!1),g=ct(u,!0),x=d.map(function(y,N){var b=Ll(Ll(Ll({key:"dot-".concat(N),r:3},m),g),{},{index:N,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,b)}),v={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return U.createElement(Qt,Nu({className:"recharts-area-dots"},v),x)}},{key:"renderHorizontalRect",value:function(s){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=s*Math.abs(c-u),f=ic(o.map(function(m){return m.y||0}));return Ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(ic(a.map(function(m){return m.y||0})),f)),Ve(f)?U.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=s*Math.abs(c-u),f=ic(o.map(function(m){return m.x||0}));return Ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(ic(a.map(function(m){return m.x||0})),f)),Ve(f)?U.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(s){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,i,a,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var g=BW(l,X3e);return U.createElement(Qt,{clipPath:a?"url(#clipPath-".concat(o,")"):null},U.createElement(Ru,Nu({},ct(g,!0),{points:s,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&U.createElement(Ru,Nu({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})),d!=="none"&&m&&U.createElement(Ru,Nu({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(s,i){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,g=o.animationId,x=this.state,v=x.prevPoints,y=x.prevBaseLine;return U.createElement(La,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var b=N.t;if(v){var j=v.length/l.length,_=l.map(function(E,M){var $=Math.floor(M*j);if(v[$]){var T=v[$],O=Or(T.x,E.x),L=Or(T.y,E.y);return Ll(Ll({},E),{},{x:O(b),y:L(b)})}return E}),C;if(Ve(c)&&typeof c=="number"){var A=Or(y,c);C=A(b)}else if(Pt(c)||om(c)){var P=Or(y,0);C=P(b)}else C=c.map(function(E,M){var $=Math.floor(M*j);if(y[$]){var T=y[$],O=Or(T.x,E.x),L=Or(T.y,E.y);return Ll(Ll({},E),{},{x:O(b),y:L(b)})}return E});return a.renderAreaStatically(_,C,s,i)}return U.createElement(Qt,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),U.createElement(Qt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,s,i)))})}},{key:"renderArea",value:function(s,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,m=u.totalLength;return c&&o&&o.length&&(!d&&m>0||!ed(d,o)||!ed(f,l))?this.renderAreaWithAnimation(s,i):this.renderAreaStatically(o,l,s,i)}},{key:"render",value:function(){var s,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,m=i.yAxis,g=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,b=l.length===1,j=At("recharts-area",c),_=f&&f.allowDataOverflow,C=m&&m.allowDataOverflow,A=_||C,P=Pt(y)?this.id:y,E=(s=ct(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},M=E.r,$=M===void 0?3:M,T=E.strokeWidth,O=T===void 0?2:T,L=CU(o)?o:{},B=L.clipDot,Z=B===void 0?!0:B,H=$*2+O;return U.createElement(Qt,{className:j},_||C?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(P)},U.createElement("rect",{x:_?d:d-g/2,y:C?u:u-x/2,width:_?g:g*2,height:C?x:x*2})),!Z&&U.createElement("clipPath",{id:"clipPath-dots-".concat(P)},U.createElement("rect",{x:d-H/2,y:u-H/2,width:g+H,height:x+H}))):null,b?null:this.renderArea(A,P),(o||b)&&this.renderDots(A,Z,P),(!v||N)&&po.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:s.points!==i.curPoints||s.baseLine!==i.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(w.PureComponent);FW=ta;lo(ta,"displayName","Area");lo(ta,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Oa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});lo(ta,"getBaseValue",function(e,t,n,s){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(Ve(l)&&typeof l=="number")return l;var c=i==="horizontal"?s:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});lo(ta,"getComposedData",function(e){var t=e.props,n=e.item,s=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,g=t.layout,x=u&&u.length,v=FW.getBaseValue(t,n,s,i),y=g==="horizontal",N=!1,b=f.map(function(_,C){var A;x?A=u[d+C]:(A=pr(_,c),Array.isArray(A)?N=!0:A=[v,A]);var P=A[1]==null||x&&pr(_,c)==null;return y?{x:fj({axis:s,ticks:a,bandSize:l,entry:_,index:C}),y:P?null:i.scale(A[1]),value:A,payload:_}:{x:P?null:s.scale(A[1]),y:fj({axis:i,ticks:o,bandSize:l,entry:_,index:C}),value:A,payload:_}}),j;return x||N?j=b.map(function(_){var C=Array.isArray(_.value)?_.value[0]:null;return y?{x:_.x,y:C!=null&&_.y!=null?i.scale(C):null}:{x:C!=null?s.scale(C):null,y:_.y}}):j=y?i.scale(v):s.scale(v),Ll({points:b,baseLine:j,layout:g,isRange:N},m)});lo(ta,"renderDotItem",function(e,t){var n;if(U.isValidElement(e))n=U.cloneElement(e,t);else if(yt(e))n=e(t);else{var s=At("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=BW(t,J3e);n=U.createElement(kv,Nu({},a,{key:i,className:s}))}return n});function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function oLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,WW(s.key),s)}}function cLe(e,t,n){return t&&lLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uLe(e,t,n){return t=Lj(t),dLe(e,UW()?Reflect.construct(t,n||[],Lj(e).constructor):t.apply(e,n))}function dLe(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hLe(e)}function hLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UW=function(){return!!e})()}function Lj(e){return Lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lj(e)}function fLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dP(e,t)}function dP(e,t){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},dP(e,t)}function qW(e,t,n){return t=WW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WW(e){var t=mLe(e,"string");return Df(t)=="symbol"?t:t+""}function mLe(e,t){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Df(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hP(){return hP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hP.apply(this,arguments)}function pLe(e){var t=e.xAxisId,n=Ek(),s=kk(),i=CW(t);return i==null?null:w.createElement(pm,hP({},i,{className:At("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return Qo(o,!0)}}))}var Fa=function(e){function t(){return oLe(this,t),uLe(this,t,arguments)}return fLe(t,e),cLe(t,[{key:"render",value:function(){return w.createElement(pLe,this.props)}}])}(w.Component);qW(Fa,"displayName","XAxis");qW(Fa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function gLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,KW(s.key),s)}}function xLe(e,t,n){return t&&vLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yLe(e,t,n){return t=Fj(t),jLe(e,HW()?Reflect.construct(t,n||[],Fj(e).constructor):t.apply(e,n))}function jLe(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bLe(e)}function bLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HW=function(){return!!e})()}function Fj(e){return Fj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fj(e)}function wLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fP(e,t)}function fP(e,t){return fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},fP(e,t)}function GW(e,t,n){return t=KW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KW(e){var t=NLe(e,"string");return Mf(t)=="symbol"?t:t+""}function NLe(e,t){if(Mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Mf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mP(){return mP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mP.apply(this,arguments)}var SLe=function(t){var n=t.yAxisId,s=Ek(),i=kk(),a=_W(n);return a==null?null:w.createElement(pm,mP({},a,{className:At("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:s,height:i},ticksGenerator:function(l){return Qo(l,!0)}}))},Ba=function(e){function t(){return gLe(this,t),yLe(this,t,arguments)}return wLe(t,e),xLe(t,[{key:"render",value:function(){return w.createElement(SLe,this.props)}}])}(w.Component);GW(Ba,"displayName","YAxis");GW(Ba,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function k3(e){return ALe(e)||PLe(e)||_Le(e)||CLe()}function CLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Le(e,t){if(e){if(typeof e=="string")return pP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pP(e,t)}}function PLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ALe(e){if(Array.isArray(e))return pP(e)}function pP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var gP=function(t,n,s,i,a){var o=Ci(t,Ok),l=Ci(t,kw),c=[].concat(k3(o),k3(l)),u=Ci(t,Ow),d="".concat(i,"Id"),f=i[0],m=n;if(c.length&&(m=c.reduce(function(v,y){if(y.props[d]===s&&go(y.props,"extendDomain")&&Ve(y.props[f])){var N=y.props[f];return[Math.min(v[0],N),Math.max(v[1],N)]}return v},m)),u.length){var g="".concat(f,"1"),x="".concat(f,"2");m=u.reduce(function(v,y){if(y.props[d]===s&&go(y.props,"extendDomain")&&Ve(y.props[g])&&Ve(y.props[x])){var N=y.props[g],b=y.props[x];return[Math.min(v[0],N,b),Math.max(v[1],N,b)]}return v},m)}return a&&a.length&&(m=a.reduce(function(v,y){return Ve(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},m)),m},YW={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||c,m),x=n?n+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],g]:c._events[x].push(g):(c._events[x]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new s:delete c._events[u]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,x=new Array(g);m<g;m++)x[m]=f[m].fn;return x},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,g,x){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],N=arguments.length,b,j;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),N){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,m),!0;case 5:return y.fn.call(y.context,d,f,m,g),!0;case 6:return y.fn.call(y.context,d,f,m,g,x),!0}for(j=1,b=new Array(N-1);j<N;j++)b[j-1]=arguments[j];y.fn.apply(y.context,b)}else{var _=y.length,C;for(j=0;j<_;j++)switch(y[j].once&&this.removeListener(u,y[j].fn,void 0,!0),N){case 1:y[j].fn.call(y[j].context);break;case 2:y[j].fn.call(y[j].context,d);break;case 3:y[j].fn.call(y[j].context,d,f);break;case 4:y[j].fn.call(y[j].context,d,f,m);break;default:if(!b)for(C=1,b=new Array(N-1);C<N;C++)b[C-1]=arguments[C];y[j].fn.apply(y[j].context,b)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var g=n?n+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var x=this._events[g];if(x.fn)x.fn===d&&(!m||x.once)&&(!f||x.context===f)&&o(this,g);else{for(var v=0,y=[],N=x.length;v<N;v++)(x[v].fn!==d||m&&!x[v].once||f&&x[v].context!==f)&&y.push(x[v]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(YW);var ELe=YW.exports;const kLe=pn(ELe);var WS=new kLe,HS="recharts.syncMouseEvents";function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function TLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,QW(s.key),s)}}function DLe(e,t,n){return t&&OLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GS(e,t,n){return t=QW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QW(e){var t=MLe(e,"string");return Kg(t)=="symbol"?t:t+""}function MLe(e,t){if(Kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Kg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ILe=function(){function e(){TLe(this,e),GS(this,"activeIndex",0),GS(this,"coordinateList",[]),GS(this,"layout","horizontal")}return DLe(e,[{key:"setDetails",value:function(n){var s,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,m=n.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(s=a??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((s=window)===null||s===void 0?void 0:s.scrollY)||0,f=a+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function $Le(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],i=e==null?void 0:e[1];if(s&&i&&Ve(s)&&Ve(i))return!0}return!1}function RLe(e,t,n,s){var i=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function XW(e){var t=e.cx,n=e.cy,s=e.radius,i=e.startAngle,a=e.endAngle,o=In(t,n,s,i),l=In(t,n,s,a);return{points:[o,l],cx:t,cy:n,radius:s,startAngle:i,endAngle:a}}function LLe(e,t,n){var s,i,a,o;if(e==="horizontal")s=t.x,a=s,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,s=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=In(l,c,u,f),g=In(l,c,d,f);s=m.x,i=m.y,a=g.x,o=g.y}else return XW(t);return[{x:s,y:i},{x:a,y:o}]}function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function T3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Cy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(n),!0).forEach(function(s){FLe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function FLe(e,t,n){return t=BLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BLe(e){var t=zLe(e,"string");return Yg(t)=="symbol"?t:t+""}function zLe(e,t){if(Yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Yg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VLe(e){var t,n,s=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,g=(t=s.props.cursor)!==null&&t!==void 0?t:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!g||!a||!o||m!=="ScatterChart"&&i!=="axis")return null;var x,v=Ru;if(m==="ScatterChart")x=o,v=QMe;else if(m==="BarChart")x=RLe(f,o,c,d),v=Sk;else if(f==="radial"){var y=XW(o),N=y.cx,b=y.cy,j=y.radius,_=y.startAngle,C=y.endAngle;x={cx:N,cy:b,startAngle:_,endAngle:C,innerRadius:j,outerRadius:j},v=q7}else x={points:LLe(f,o,c)},v=Ru;var A=Cy(Cy(Cy(Cy({stroke:"#ccc",pointerEvents:"none"},c),x),ct(g,!1)),{},{payload:l,payloadIndex:u,className:At("recharts-tooltip-cursor",g.className)});return w.isValidElement(g)?w.cloneElement(g,A):w.createElement(v,A)}var ULe=["item"],qLe=["children","className","width","height","style","compact","title","desc"];function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xh.apply(this,arguments)}function O3(e,t){return GLe(e)||HLe(e,t)||ZW(e,t)||WLe()}function WLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HLe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function GLe(e){if(Array.isArray(e))return e}function D3(e,t){if(e==null)return{};var n=KLe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function KLe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function YLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,e9(s.key),s)}}function XLe(e,t,n){return t&&QLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JLe(e,t,n){return t=Bj(t),ZLe(e,JW()?Reflect.construct(t,n||[],Bj(e).constructor):t.apply(e,n))}function ZLe(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eFe(e)}function eFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!e})()}function Bj(e){return Bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bj(e)}function tFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vP(e,t)}function vP(e,t){return vP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},vP(e,t)}function $f(e){return sFe(e)||rFe(e)||ZW(e)||nFe()}function nFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZW(e,t){if(e){if(typeof e=="string")return xP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xP(e,t)}}function rFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sFe(e){if(Array.isArray(e))return xP(e)}function xP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function M3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(n),!0).forEach(function(s){xt(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xt(e,t,n){return t=e9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e9(e){var t=iFe(e,"string");return If(t)=="symbol"?t:t+""}function iFe(e,t){if(If(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(If(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aFe={xAxis:["bottom","top"],yAxis:["left","right"]},oFe={width:"100%",height:"100%"},t9={x:0,y:0};function _y(e){return e}var lFe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},cFe=function(t,n,s,i){var a=n.find(function(d){return d&&d.index===s});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return Ae(Ae(Ae({},i),In(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return Ae(Ae(Ae({},i),In(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return t9},Dw=function(t,n){var s=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(s??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat($f(l),$f(u)):l},[]);return o.length>0?o:t&&t.length&&Ve(i)&&Ve(a)?t.slice(i,a+1):[]};function n9(e){return e==="number"?[0,"auto"]:void 0}var yP=function(t,n,s,i){var a=t.graphicalItems,o=t.tooltipAxis,l=Dw(n,t);return s<0||!a||!a.length||s>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var g=f===void 0?l:f;m=F0(g,o.dataKey,i)}else m=f&&f[s]||l[s];return m?[].concat($f(c),[L7(u,m)]):c},[])},I3=function(t,n,s,i){var a=i||{x:t.chartX,y:t.chartY},o=lFe(a,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=jTe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=yP(t,n,d,f),g=cFe(s,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:g}}return null},uFe=function(t,n){var s=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,g=O7(d,a);return s.reduce(function(x,v){var y,N=v.type.defaultProps!==void 0?Ae(Ae({},v.type.defaultProps),v.props):v.props,b=N.type,j=N.dataKey,_=N.allowDataOverflow,C=N.allowDuplicatedCategory,A=N.scale,P=N.ticks,E=N.includeHidden,M=N[o];if(x[M])return x;var $=Dw(t.data,{graphicalItems:i.filter(function(te){var J,ne=o in te.props?te.props[o]:(J=te.type.defaultProps)===null||J===void 0?void 0:J[o];return ne===M}),dataStartIndex:c,dataEndIndex:u}),T=$.length,O,L,B;$Le(N.domain,_,b)&&(O=O_(N.domain,null,_),g&&(b==="number"||A!=="auto")&&(B=$p($,j,"category")));var Z=n9(b);if(!O||O.length===0){var H,ae=(H=N.domain)!==null&&H!==void 0?H:Z;if(j){if(O=$p($,j,b),b==="category"&&g){var X=uye(O);C&&X?(L=O,O=_j(0,T)):C||(O=tR(ae,O,v).reduce(function(te,J){return te.indexOf(J)>=0?te:[].concat($f(te),[J])},[]))}else if(b==="category")C?O=O.filter(function(te){return te!==""&&!Pt(te)}):O=tR(ae,O,v).reduce(function(te,J){return te.indexOf(J)>=0||J===""||Pt(J)?te:[].concat($f(te),[J])},[]);else if(b==="number"){var D=CTe($,i.filter(function(te){var J,ne,ve=o in te.props?te.props[o]:(J=te.type.defaultProps)===null||J===void 0?void 0:J[o],ye="hide"in te.props?te.props.hide:(ne=te.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return ve===M&&(E||!ye)}),j,a,d);D&&(O=D)}g&&(b==="number"||A!=="auto")&&(B=$p($,j,"category"))}else g?O=_j(0,T):l&&l[M]&&l[M].hasStack&&b==="number"?O=m==="expand"?[0,1]:R7(l[M].stackGroups,c,u):O=T7($,i.filter(function(te){var J=o in te.props?te.props[o]:te.type.defaultProps[o],ne="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return J===M&&(E||!ne)}),b,d,!0);if(b==="number")O=gP(f,O,M,a,P),ae&&(O=O_(ae,O,_));else if(b==="category"&&ae){var ie=ae,me=O.every(function(te){return ie.indexOf(te)>=0});me&&(O=ie)}}return Ae(Ae({},x),{},xt({},M,Ae(Ae({},N),{},{axisType:a,domain:O,categoricalDomain:B,duplicateDomain:L,originalDomain:(y=N.domain)!==null&&y!==void 0?y:Z,isCategorical:g,layout:d})))},{})},dFe=function(t,n){var s=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=Dw(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:u}),g=m.length,x=O7(d,a),v=-1;return s.reduce(function(y,N){var b=N.type.defaultProps!==void 0?Ae(Ae({},N.type.defaultProps),N.props):N.props,j=b[o],_=n9("number");if(!y[j]){v++;var C;return x?C=_j(0,g):l&&l[j]&&l[j].hasStack?(C=R7(l[j].stackGroups,c,u),C=gP(f,C,j,a)):(C=O_(_,T7(m,s.filter(function(A){var P,E,M=o in A.props?A.props[o]:(P=A.type.defaultProps)===null||P===void 0?void 0:P[o],$="hide"in A.props?A.props.hide:(E=A.type.defaultProps)===null||E===void 0?void 0:E.hide;return M===j&&!$}),"number",d),i.defaultProps.allowDataOverflow),C=gP(f,C,j,a)),Ae(Ae({},y),{},xt({},j,Ae(Ae({axisType:a},i.defaultProps),{},{hide:!0,orientation:Si(aFe,"".concat(a,".").concat(v%2),null),domain:C,originalDomain:_,isCategorical:x,layout:d})))}return y},{})},hFe=function(t,n){var s=n.axisType,i=s===void 0?"xAxis":s,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(i,"Id"),m=Ci(d,a),g={};return m&&m.length?g=uFe(t,{axes:m,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(g=dFe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},fFe=function(t){var n=Wl(t),s=Qo(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:XE(s,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:mj(n,s)}},$3=function(t){var n=t.children,s=t.defaultShowTooltip,i=gi(n,Sf),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},mFe=function(t){return!t||!t.length?!1:t.some(function(n){var s=Jo(n&&n.type);return s&&s.indexOf("Bar")>=0})},R3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},pFe=function(t,n){var s=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=s.width,d=s.height,f=s.children,m=s.margin||{},g=gi(f,Sf),x=gi(f,Oh),v=Object.keys(c).reduce(function(C,A){var P=c[A],E=P.orientation;return!P.mirror&&!P.hide?Ae(Ae({},C),{},xt({},E,C[E]+P.width)):C},{left:m.left||0,right:m.right||0}),y=Object.keys(o).reduce(function(C,A){var P=o[A],E=P.orientation;return!P.mirror&&!P.hide?Ae(Ae({},C),{},xt({},E,Si(C,"".concat(E))+P.height)):C},{top:m.top||0,bottom:m.bottom||0}),N=Ae(Ae({},y),v),b=N.bottom;g&&(N.bottom+=g.props.height||Sf.defaultProps.height),x&&n&&(N=NTe(N,i,s,n));var j=u-N.left-N.right,_=d-N.top-N.bottom;return Ae(Ae({brushBottom:b},N),{},{width:Math.max(j,0),height:Math.max(_,0)})},gFe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Mw=function(t){var n=t.chartName,s=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(N,b){var j=b.graphicalItems,_=b.stackGroups,C=b.offset,A=b.updateId,P=b.dataStartIndex,E=b.dataEndIndex,M=N.barSize,$=N.layout,T=N.barGap,O=N.barCategoryGap,L=N.maxBarSize,B=R3($),Z=B.numericAxisName,H=B.cateAxisName,ae=mFe(j),X=[];return j.forEach(function(D,ie){var me=Dw(N.data,{graphicalItems:[D],dataStartIndex:P,dataEndIndex:E}),te=D.type.defaultProps!==void 0?Ae(Ae({},D.type.defaultProps),D.props):D.props,J=te.dataKey,ne=te.maxBarSize,ve=te["".concat(Z,"Id")],ye=te["".concat(H,"Id")],be={},z=c.reduce(function(Ge,Ke){var Ht=b["".concat(Ke.axisType,"Map")],Yn=te["".concat(Ke.axisType,"Id")];Ht&&Ht[Yn]||Ke.axisType==="zAxis"||nd();var Et=Ht[Yn];return Ae(Ae({},Ge),{},xt(xt({},Ke.axisType,Et),"".concat(Ke.axisType,"Ticks"),Qo(Et)))},be),Y=z[H],ee=z["".concat(H,"Ticks")],G=_&&_[ve]&&_[ve].hasStack&&MTe(D,_[ve].stackGroups),I=Jo(D.type).indexOf("Bar")>=0,xe=mj(Y,ee),Ne=[],Be=ae&&bTe({barSize:M,stackGroups:_,totalSize:gFe(z,H)});if(I){var Fe,it,lt=Pt(ne)?L:ne,ft=(Fe=(it=mj(Y,ee,!0))!==null&&it!==void 0?it:lt)!==null&&Fe!==void 0?Fe:0;Ne=wTe({barGap:T,barCategoryGap:O,bandSize:ft!==xe?ft:xe,sizeList:Be[ye],maxBarSize:lt}),ft!==xe&&(Ne=Ne.map(function(Ge){return Ae(Ae({},Ge),{},{position:Ae(Ae({},Ge.position),{},{offset:Ge.position.offset-ft/2})})}))}var we=D&&D.type&&D.type.getComposedData;we&&X.push({props:Ae(Ae({},we(Ae(Ae({},z),{},{displayedData:me,props:N,dataKey:J,item:D,bandSize:xe,barPosition:Ne,offset:C,stackedData:G,layout:$,dataStartIndex:P,dataEndIndex:E}))),{},xt(xt(xt({key:D.key||"item-".concat(ie)},Z,z[Z]),H,z[H]),"animationId",A)),childIndex:wye(D,N.children),item:D})}),X},g=function(N,b){var j=N.props,_=N.dataStartIndex,C=N.dataEndIndex,A=N.updateId;if(!YI({props:j}))return null;var P=j.children,E=j.layout,M=j.stackOffset,$=j.data,T=j.reverseStackOrder,O=R3(E),L=O.numericAxisName,B=O.cateAxisName,Z=Ci(P,s),H=OTe($,Z,"".concat(L,"Id"),"".concat(B,"Id"),M,T),ae=c.reduce(function(te,J){var ne="".concat(J.axisType,"Map");return Ae(Ae({},te),{},xt({},ne,hFe(j,Ae(Ae({},J),{},{graphicalItems:Z,stackGroups:J.axisType===L&&H,dataStartIndex:_,dataEndIndex:C}))))},{}),X=pFe(Ae(Ae({},ae),{},{props:j,graphicalItems:Z}),b==null?void 0:b.legendBBox);Object.keys(ae).forEach(function(te){ae[te]=d(j,ae[te],X,te.replace("Map",""),n)});var D=ae["".concat(B,"Map")],ie=fFe(D),me=m(j,Ae(Ae({},ae),{},{dataStartIndex:_,dataEndIndex:C,updateId:A,graphicalItems:Z,stackGroups:H,offset:X}));return Ae(Ae({formattedGraphicalItems:me,graphicalItems:Z,offset:X,stackGroups:H},ie),ae)},x=function(y){function N(b){var j,_,C;return YLe(this,N),C=JLe(this,N,[b]),xt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xt(C,"accessibilityManager",new ILe),xt(C,"handleLegendBBoxUpdate",function(A){if(A){var P=C.state,E=P.dataStartIndex,M=P.dataEndIndex,$=P.updateId;C.setState(Ae({legendBBox:A},g({props:C.props,dataStartIndex:E,dataEndIndex:M,updateId:$},Ae(Ae({},C.state),{},{legendBBox:A}))))}}),xt(C,"handleReceiveSyncEvent",function(A,P,E){if(C.props.syncId===A){if(E===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(P)}}),xt(C,"handleBrushChange",function(A){var P=A.startIndex,E=A.endIndex;if(P!==C.state.dataStartIndex||E!==C.state.dataEndIndex){var M=C.state.updateId;C.setState(function(){return Ae({dataStartIndex:P,dataEndIndex:E},g({props:C.props,dataStartIndex:P,dataEndIndex:E,updateId:M},C.state))}),C.triggerSyncEvent({dataStartIndex:P,dataEndIndex:E})}}),xt(C,"handleMouseEnter",function(A){var P=C.getMouseInfo(A);if(P){var E=Ae(Ae({},P),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var M=C.props.onMouseEnter;yt(M)&&M(E,A)}}),xt(C,"triggeredAfterMouseMove",function(A){var P=C.getMouseInfo(A),E=P?Ae(Ae({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var M=C.props.onMouseMove;yt(M)&&M(E,A)}),xt(C,"handleItemMouseEnter",function(A){C.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),xt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),xt(C,"handleMouseMove",function(A){A.persist(),C.throttleTriggeredAfterMouseMove(A)}),xt(C,"handleMouseLeave",function(A){C.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var E=C.props.onMouseLeave;yt(E)&&E(P,A)}),xt(C,"handleOuterEvent",function(A){var P=bye(A),E=Si(C.props,"".concat(P));if(P&&yt(E)){var M,$;/.*touch.*/i.test(P)?$=C.getMouseInfo(A.changedTouches[0]):$=C.getMouseInfo(A),E((M=$)!==null&&M!==void 0?M:{},A)}}),xt(C,"handleClick",function(A){var P=C.getMouseInfo(A);if(P){var E=Ae(Ae({},P),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var M=C.props.onClick;yt(M)&&M(E,A)}}),xt(C,"handleMouseDown",function(A){var P=C.props.onMouseDown;if(yt(P)){var E=C.getMouseInfo(A);P(E,A)}}),xt(C,"handleMouseUp",function(A){var P=C.props.onMouseUp;if(yt(P)){var E=C.getMouseInfo(A);P(E,A)}}),xt(C,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),xt(C,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseDown(A.changedTouches[0])}),xt(C,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseUp(A.changedTouches[0])}),xt(C,"handleDoubleClick",function(A){var P=C.props.onDoubleClick;if(yt(P)){var E=C.getMouseInfo(A);P(E,A)}}),xt(C,"handleContextMenu",function(A){var P=C.props.onContextMenu;if(yt(P)){var E=C.getMouseInfo(A);P(E,A)}}),xt(C,"triggerSyncEvent",function(A){C.props.syncId!==void 0&&WS.emit(HS,C.props.syncId,A,C.eventEmitterSymbol)}),xt(C,"applySyncEvent",function(A){var P=C.props,E=P.layout,M=P.syncMethod,$=C.state.updateId,T=A.dataStartIndex,O=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)C.setState(Ae({dataStartIndex:T,dataEndIndex:O},g({props:C.props,dataStartIndex:T,dataEndIndex:O,updateId:$},C.state)));else if(A.activeTooltipIndex!==void 0){var L=A.chartX,B=A.chartY,Z=A.activeTooltipIndex,H=C.state,ae=H.offset,X=H.tooltipTicks;if(!ae)return;if(typeof M=="function")Z=M(X,A);else if(M==="value"){Z=-1;for(var D=0;D<X.length;D++)if(X[D].value===A.activeLabel){Z=D;break}}var ie=Ae(Ae({},ae),{},{x:ae.left,y:ae.top}),me=Math.min(L,ie.x+ie.width),te=Math.min(B,ie.y+ie.height),J=X[Z]&&X[Z].value,ne=yP(C.state,C.props.data,Z),ve=X[Z]?{x:E==="horizontal"?X[Z].coordinate:me,y:E==="horizontal"?te:X[Z].coordinate}:t9;C.setState(Ae(Ae({},A),{},{activeLabel:J,activeCoordinate:ve,activePayload:ne,activeTooltipIndex:Z}))}else C.setState(A)}),xt(C,"renderCursor",function(A){var P,E=C.state,M=E.isTooltipActive,$=E.activeCoordinate,T=E.activePayload,O=E.offset,L=E.activeTooltipIndex,B=E.tooltipAxisBandSize,Z=C.getTooltipEventType(),H=(P=A.props.active)!==null&&P!==void 0?P:M,ae=C.props.layout,X=A.key||"_recharts-cursor";return U.createElement(VLe,{key:X,activeCoordinate:$,activePayload:T,activeTooltipIndex:L,chartName:n,element:A,isActive:H,layout:ae,offset:O,tooltipAxisBandSize:B,tooltipEventType:Z})}),xt(C,"renderPolarAxis",function(A,P,E){var M=Si(A,"type.axisType"),$=Si(C.state,"".concat(M,"Map")),T=A.type.defaultProps,O=T!==void 0?Ae(Ae({},T),A.props):A.props,L=$&&$[O["".concat(M,"Id")]];return w.cloneElement(A,Ae(Ae({},L),{},{className:At(M,L.className),key:A.key||"".concat(P,"-").concat(E),ticks:Qo(L,!0)}))}),xt(C,"renderPolarGrid",function(A){var P=A.props,E=P.radialLines,M=P.polarAngles,$=P.polarRadius,T=C.state,O=T.radiusAxisMap,L=T.angleAxisMap,B=Wl(O),Z=Wl(L),H=Z.cx,ae=Z.cy,X=Z.innerRadius,D=Z.outerRadius;return w.cloneElement(A,{polarAngles:Array.isArray(M)?M:Qo(Z,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray($)?$:Qo(B,!0).map(function(ie){return ie.coordinate}),cx:H,cy:ae,innerRadius:X,outerRadius:D,key:A.key||"polar-grid",radialLines:E})}),xt(C,"renderLegend",function(){var A=C.state.formattedGraphicalItems,P=C.props,E=P.children,M=P.width,$=P.height,T=C.props.margin||{},O=M-(T.left||0)-(T.right||0),L=E7({children:E,formattedGraphicalItems:A,legendWidth:O,legendContent:u});if(!L)return null;var B=L.item,Z=D3(L,ULe);return w.cloneElement(B,Ae(Ae({},Z),{},{chartWidth:M,chartHeight:$,margin:T,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),xt(C,"renderTooltip",function(){var A,P=C.props,E=P.children,M=P.accessibilityLayer,$=gi(E,Ur);if(!$)return null;var T=C.state,O=T.isTooltipActive,L=T.activeCoordinate,B=T.activePayload,Z=T.activeLabel,H=T.offset,ae=(A=$.props.active)!==null&&A!==void 0?A:O;return w.cloneElement($,{viewBox:Ae(Ae({},H),{},{x:H.left,y:H.top}),active:ae,label:Z,payload:ae?B:[],coordinate:L,accessibilityLayer:M})}),xt(C,"renderBrush",function(A){var P=C.props,E=P.margin,M=P.data,$=C.state,T=$.offset,O=$.dataStartIndex,L=$.dataEndIndex,B=$.updateId;return w.cloneElement(A,{key:A.key||"_recharts-brush",onChange:by(C.handleBrushChange,A.props.onChange),data:M,x:Ve(A.props.x)?A.props.x:T.left,y:Ve(A.props.y)?A.props.y:T.top+T.height+T.brushBottom-(E.bottom||0),width:Ve(A.props.width)?A.props.width:T.width,startIndex:O,endIndex:L,updateId:"brush-".concat(B)})}),xt(C,"renderReferenceElement",function(A,P,E){if(!A)return null;var M=C,$=M.clipPathId,T=C.state,O=T.xAxisMap,L=T.yAxisMap,B=T.offset,Z=A.type.defaultProps||{},H=A.props,ae=H.xAxisId,X=ae===void 0?Z.xAxisId:ae,D=H.yAxisId,ie=D===void 0?Z.yAxisId:D;return w.cloneElement(A,{key:A.key||"".concat(P,"-").concat(E),xAxis:O[X],yAxis:L[ie],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:$})}),xt(C,"renderActivePoints",function(A){var P=A.item,E=A.activePoint,M=A.basePoint,$=A.childIndex,T=A.isRange,O=[],L=P.props.key,B=P.item.type.defaultProps!==void 0?Ae(Ae({},P.item.type.defaultProps),P.item.props):P.item.props,Z=B.activeDot,H=B.dataKey,ae=Ae(Ae({index:$,dataKey:H,cx:E.x,cy:E.y,r:4,fill:Nk(P.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ct(Z,!1)),B0(Z));return O.push(N.renderActiveDot(Z,ae,"".concat(L,"-activePoint-").concat($))),M?O.push(N.renderActiveDot(Z,Ae(Ae({},ae),{},{cx:M.x,cy:M.y}),"".concat(L,"-basePoint-").concat($))):T&&O.push(null),O}),xt(C,"renderGraphicChild",function(A,P,E){var M=C.filterFormatItem(A,P,E);if(!M)return null;var $=C.getTooltipEventType(),T=C.state,O=T.isTooltipActive,L=T.tooltipAxis,B=T.activeTooltipIndex,Z=T.activeLabel,H=C.props.children,ae=gi(H,Ur),X=M.props,D=X.points,ie=X.isRange,me=X.baseLine,te=M.item.type.defaultProps!==void 0?Ae(Ae({},M.item.type.defaultProps),M.item.props):M.item.props,J=te.activeDot,ne=te.hide,ve=te.activeBar,ye=te.activeShape,be=!!(!ne&&O&&ae&&(J||ve||ye)),z={};$!=="axis"&&ae&&ae.props.trigger==="click"?z={onClick:by(C.handleItemMouseEnter,A.props.onClick)}:$!=="axis"&&(z={onMouseLeave:by(C.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:by(C.handleItemMouseEnter,A.props.onMouseEnter)});var Y=w.cloneElement(A,Ae(Ae({},M.props),z));function ee(Ke){return typeof L.dataKey=="function"?L.dataKey(Ke.payload):null}if(be)if(B>=0){var G,I;if(L.dataKey&&!L.allowDuplicatedCategory){var xe=typeof L.dataKey=="function"?ee:"payload.".concat(L.dataKey.toString());G=F0(D,xe,Z),I=ie&&me&&F0(me,xe,Z)}else G=D==null?void 0:D[B],I=ie&&me&&me[B];if(ye||ve){var Ne=A.props.activeIndex!==void 0?A.props.activeIndex:B;return[w.cloneElement(A,Ae(Ae(Ae({},M.props),z),{},{activeIndex:Ne})),null,null]}if(!Pt(G))return[Y].concat($f(C.renderActivePoints({item:M,activePoint:G,basePoint:I,childIndex:B,isRange:ie})))}else{var Be,Fe=(Be=C.getItemByXY(C.state.activeCoordinate))!==null&&Be!==void 0?Be:{graphicalItem:Y},it=Fe.graphicalItem,lt=it.item,ft=lt===void 0?A:lt,we=it.childIndex,Ge=Ae(Ae(Ae({},M.props),z),{},{activeIndex:we});return[w.cloneElement(ft,Ge),null,null]}return ie?[Y,null,null]:[Y,null]}),xt(C,"renderCustomized",function(A,P,E){return w.cloneElement(A,Ae(Ae({key:"recharts-customized-".concat(E)},C.props),C.state))}),xt(C,"renderMap",{CartesianGrid:{handler:_y,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:_y},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:_y},YAxis:{handler:_y},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((j=b.id)!==null&&j!==void 0?j:pd("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=Aq(C.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),C.state={},C}return tFe(N,y),XLe(N,[{key:"componentDidMount",value:function(){var j,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,_=j.children,C=j.data,A=j.height,P=j.layout,E=gi(_,Ur);if(E){var M=E.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,T=yP(this.state,C,M,$),O=this.state.tooltipTicks[M].coordinate,L=(this.state.offset.top+A)/2,B=P==="horizontal",Z=B?{x:O,y:L}:{y:O,x:L},H=this.state.formattedGraphicalItems.find(function(X){var D=X.item;return D.type.name==="Scatter"});H&&(Z=Ae(Ae({},Z),H.props.points[M].tooltipPosition),T=H.props.points[M].tooltipPayload);var ae={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:$,activePayload:T,activeCoordinate:Z};this.setState(ae),this.renderCursor(E),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var C,A;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(j){G2([gi(j.children,Ur)],[gi(this.props.children,Ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=gi(this.props.children,Ur);if(j&&typeof j.props.shared=="boolean"){var _=j.props.shared?"axis":"item";return l.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var _=this.container,C=_.getBoundingClientRect(),A=K_e(C),P={chartX:Math.round(j.pageX-A.left),chartY:Math.round(j.pageY-A.top)},E=C.width/_.offsetWidth||1,M=this.inRange(P.chartX,P.chartY,E);if(!M)return null;var $=this.state,T=$.xAxisMap,O=$.yAxisMap,L=this.getTooltipEventType(),B=I3(this.state,this.props.data,this.props.layout,M);if(L!=="axis"&&T&&O){var Z=Wl(T).scale,H=Wl(O).scale,ae=Z&&Z.invert?Z.invert(P.chartX):null,X=H&&H.invert?H.invert(P.chartY):null;return Ae(Ae({},P),{},{xValue:ae,yValue:X},B)}return B?Ae(Ae({},P),B):null}},{key:"inRange",value:function(j,_){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,P=j/C,E=_/C;if(A==="horizontal"||A==="vertical"){var M=this.state.offset,$=P>=M.left&&P<=M.left+M.width&&E>=M.top&&E<=M.top+M.height;return $?{x:P,y:E}:null}var T=this.state,O=T.angleAxisMap,L=T.radiusAxisMap;if(O&&L){var B=Wl(O);return sR({x:P,y:E},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,_=this.getTooltipEventType(),C=gi(j,Ur),A={};C&&_==="axis"&&(C.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=B0(this.props,this.handleOuterEvent);return Ae(Ae({},P),A)}},{key:"addListener",value:function(){WS.on(HS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){WS.removeListener(HS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,_,C){for(var A=this.state.formattedGraphicalItems,P=0,E=A.length;P<E;P++){var M=A[P];if(M.item===j||M.props.key===j.key||_===Jo(M.item.type)&&C===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,_=this.state.offset,C=_.left,A=_.top,P=_.height,E=_.width;return U.createElement("defs",null,U.createElement("clipPath",{id:j},U.createElement("rect",{x:C,y:A,height:P,width:E})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(_,C){var A=O3(C,2),P=A[0],E=A[1];return Ae(Ae({},_),{},xt({},P,E.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(_,C){var A=O3(C,2),P=A[0],E=A[1];return Ae(Ae({},_),{},xt({},P,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[j])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(j){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[j])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(j){var _=this.state,C=_.formattedGraphicalItems,A=_.activeItem;if(C&&C.length)for(var P=0,E=C.length;P<E;P++){var M=C[P],$=M.props,T=M.item,O=T.type.defaultProps!==void 0?Ae(Ae({},T.type.defaultProps),T.props):T.props,L=Jo(T.type);if(L==="Bar"){var B=($.data||[]).find(function(X){return kMe(j,X)});if(B)return{graphicalItem:M,payload:B}}else if(L==="RadialBar"){var Z=($.data||[]).find(function(X){return sR(j,X)});if(Z)return{graphicalItem:M,payload:Z}}else if(_w(M,A)||Pw(M,A)||Ug(M,A)){var H=x4e({graphicalItem:M,activeTooltipItem:A,itemData:O.data}),ae=O.activeIndex===void 0?H:O.activeIndex;return{graphicalItem:Ae(Ae({},M),{},{childIndex:ae}),payload:Ug(M,A)?O.data[H]:M.props.data[H]}}}return null}},{key:"render",value:function(){var j=this;if(!YI(this))return null;var _=this.props,C=_.children,A=_.className,P=_.width,E=_.height,M=_.style,$=_.compact,T=_.title,O=_.desc,L=D3(_,qLe),B=ct(L,!1);if($)return U.createElement(h3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(Y2,xh({},B,{width:P,height:E,title:T,desc:O}),this.renderClipPath(),XI(C,this.renderMap)));if(this.props.accessibilityLayer){var Z,H;B.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,B.role=(H=this.props.role)!==null&&H!==void 0?H:"application",B.onKeyDown=function(X){j.accessibilityManager.keyboardEvent(X)},B.onFocus=function(){j.accessibilityManager.focus()}}var ae=this.parseEventsOfWrapper();return U.createElement(h3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",xh({className:At("recharts-wrapper",A),style:Ae({position:"relative",cursor:"default",width:P,height:E},M)},ae,{ref:function(D){j.container=D}}),U.createElement(Y2,xh({},B,{width:P,height:E,title:T,desc:O,style:oFe}),this.renderClipPath(),XI(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);xt(x,"displayName",n),xt(x,"defaultProps",Ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),xt(x,"getDerivedStateFromProps",function(y,N){var b=y.dataKey,j=y.data,_=y.children,C=y.width,A=y.height,P=y.layout,E=y.stackOffset,M=y.margin,$=N.dataStartIndex,T=N.dataEndIndex;if(N.updateId===void 0){var O=$3(y);return Ae(Ae(Ae({},O),{},{updateId:0},g(Ae(Ae({props:y},O),{},{updateId:0}),N)),{},{prevDataKey:b,prevData:j,prevWidth:C,prevHeight:A,prevLayout:P,prevStackOffset:E,prevMargin:M,prevChildren:_})}if(b!==N.prevDataKey||j!==N.prevData||C!==N.prevWidth||A!==N.prevHeight||P!==N.prevLayout||E!==N.prevStackOffset||!Th(M,N.prevMargin)){var L=$3(y),B={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},Z=Ae(Ae({},I3(N,j,P)),{},{updateId:N.updateId+1}),H=Ae(Ae(Ae({},L),B),Z);return Ae(Ae(Ae({},H),g(Ae({props:y},H),N)),{},{prevDataKey:b,prevData:j,prevWidth:C,prevHeight:A,prevLayout:P,prevStackOffset:E,prevMargin:M,prevChildren:_})}if(!G2(_,N.prevChildren)){var ae,X,D,ie,me=gi(_,Sf),te=me&&(ae=(X=me.props)===null||X===void 0?void 0:X.startIndex)!==null&&ae!==void 0?ae:$,J=me&&(D=(ie=me.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&D!==void 0?D:T,ne=te!==$||J!==T,ve=!Pt(j),ye=ve&&!ne?N.updateId:N.updateId+1;return Ae(Ae({updateId:ye},g(Ae(Ae({props:y},N),{},{updateId:ye,dataStartIndex:te,dataEndIndex:J}),N)),{},{prevChildren:_,dataStartIndex:te,dataEndIndex:J})}return null}),xt(x,"renderActiveDot",function(y,N,b){var j;return w.isValidElement(y)?j=w.cloneElement(y,N):yt(y)?j=y(N):j=U.createElement(kv,N),U.createElement(Qt,{className:"recharts-active-dot",key:b},j)});var v=w.forwardRef(function(N,b){return U.createElement(x,xh({},N,{ref:b}))});return v.displayName=x.displayName,v},L3=Mw({chartName:"LineChart",GraphicalChild:Tf,axisComponents:[{axisType:"xAxis",AxisComp:Fa},{axisType:"yAxis",AxisComp:Ba}],formatAxisMap:Ck}),vFe=Mw({chartName:"BarChart",GraphicalChild:oo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Fa},{axisType:"yAxis",AxisComp:Ba}],formatAxisMap:Ck}),Ik=Mw({chartName:"PieChart",GraphicalChild:qa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Cw},{axisType:"radiusAxis",AxisComp:Nw}],formatAxisMap:qTe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),$k=Mw({chartName:"AreaChart",GraphicalChild:ta,axisComponents:[{axisType:"xAxis",AxisComp:Fa},{axisType:"yAxis",AxisComp:Ba}],formatAxisMap:Ck});function Rk({open:e,onOpenChange:t,petId:n,consultationId:s}){const{data:i=[]}=Zf(),{data:a=[]}=em(),{data:o=[]}=hfe(),l=dfe(),{toast:c}=$t(),[u,d]=w.useState({diagnosis:"",notes:"",validUntil:""}),[f,m]=w.useState([{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}]),g=a.find(C=>C.id===n),x=g?i.find(C=>C.id===g.client_id):null,v=o.filter(C=>(C.category==="medication"||C.category==="supplement")&&C.current_quantity>0&&C.active),y=C=>{const{name:A,value:P}=C.target;d(E=>({...E,[A]:P}))},N=(C,A,P)=>{m(E=>E.map((M,$)=>$===C?{...M,[A]:P}:M))},b=()=>{m(C=>[...C,{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}])},j=C=>{f.length>1&&m(A=>A.filter((P,E)=>E!==C))},_=async C=>{if(C.preventDefault(),!g||!x){c({title:"Erreur",description:"Impossible de trouver l'animal ou le client associé.",variant:"destructive"});return}const A=f.filter(E=>E.medication_name.trim()!=="");if(A.length===0){c({title:"Erreur",description:"Veuillez ajouter au moins un médicament à la prescription.",variant:"destructive"});return}const P={consultation_id:s,animal_id:g.id,client_id:x.id,diagnosis:u.diagnosis,notes:u.notes,valid_until:u.validUntil||void 0,medications:A};try{await l.mutateAsync(P),c({title:"Prescription créée",description:`Prescription créée avec succès pour ${g.name}.`}),t(!1),d({diagnosis:"",notes:"",validUntil:""}),m([{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}])}catch(E){console.error("Error creating prescription:",E),c({title:"Erreur",description:"Une erreur est survenue lors de la création de la prescription.",variant:"destructive"})}};return!g||!x?r.jsx(St,{open:e,onOpenChange:t,children:r.jsx(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:r.jsxs(Ct,{children:[r.jsx(_t,{children:"Erreur"}),r.jsx(jn,{children:"Impossible de trouver l'animal ou le client associé."})]})})}):r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Prescription"}),r.jsxs(jn,{children:["Créer une nouvelle prescription pour ",g.name," (",x.first_name," ",x.last_name,")"]})]}),r.jsxs("form",{onSubmit:_,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(wt,{id:"diagnosis",name:"diagnosis",value:u.diagnosis,onChange:y,placeholder:"Entrez le diagnostic...",className:"h-20"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"validUntil",children:"Valide jusqu'au (optionnel)"}),r.jsx(se,{id:"validUntil",name:"validUntil",type:"date",value:u.validUntil,onChange:y})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(F,{className:"text-lg font-semibold",children:"Médicaments"}),r.jsxs(V,{type:"button",onClick:b,size:"sm",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter un médicament"]})]}),f.map((C,A)=>r.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:["Médicament ",A+1]}),f.length>1&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>j(A),children:r.jsx(Hn,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{children:"Médicament *"}),r.jsxs(Me,{value:C.medication_name,onValueChange:P=>N(A,"medication_name",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner ou taper..."})}),r.jsx(De,{children:v.map(P=>r.jsxs(W,{value:P.name,children:[P.name," (",P.current_quantity," ",P.unit,")"]},P.id))})]}),!v.find(P=>P.name===C.medication_name)&&r.jsx(se,{className:"mt-2",value:C.medication_name,onChange:P=>N(A,"medication_name",P.target.value),placeholder:"Nom du médicament personnalisé"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Dosage"}),r.jsx(se,{value:C.dosage||"",onChange:P=>N(A,"dosage",P.target.value),placeholder:"ex: 5mg"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Fréquence"}),r.jsxs(Me,{value:C.frequency||"",onValueChange:P=>N(A,"frequency",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner..."})}),r.jsxs(De,{children:[r.jsx(W,{value:"1x/jour",children:"1 fois par jour"}),r.jsx(W,{value:"2x/jour",children:"2 fois par jour"}),r.jsx(W,{value:"3x/jour",children:"3 fois par jour"}),r.jsx(W,{value:"1x/semaine",children:"1 fois par semaine"}),r.jsx(W,{value:"selon besoin",children:"Selon besoin"})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Durée"}),r.jsx(se,{value:C.duration||"",onChange:P=>N(A,"duration",P.target.value),placeholder:"ex: 7 jours"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Quantité *"}),r.jsx(se,{type:"number",min:"1",value:C.quantity,onChange:P=>N(A,"quantity",parseInt(P.target.value)||1)})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Voie d'administration"}),r.jsxs(Me,{value:C.route||"oral",onValueChange:P=>N(A,"route",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"oral",children:"Orale"}),r.jsx(W,{value:"injectable",children:"Injectable"}),r.jsx(W,{value:"topique",children:"Topique"}),r.jsx(W,{value:"intraveineuse",children:"Intraveineuse"}),r.jsx(W,{value:"intramusculaire",children:"Intramusculaire"}),r.jsx(W,{value:"sous-cutanée",children:"Sous-cutanée"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Instructions spéciales"}),r.jsx(wt,{value:C.instructions||"",onChange:P=>N(A,"instructions",P.target.value),placeholder:"Instructions particulières pour ce médicament...",className:"h-16"})]})]},A))]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"notes",children:"Notes générales"}),r.jsx(wt,{id:"notes",name:"notes",value:u.notes,onChange:y,placeholder:"Notes générales sur la prescription...",className:"h-20"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l.isPending,children:"Annuler"}),r.jsx(V,{type:"submit",disabled:l.isPending,children:l.isPending?"Création...":"Créer la prescription"})]})]})]})})}function xFe({open:e,onOpenChange:t,prescription:n}){const{updatePrescription:s}=Nt(),{toast:i}=$t(),[a,o]=w.useState({date:"",prescribedBy:"",diagnosis:"",instructions:"",duration:"",followUpDate:"",status:"",notes:""}),[l,c]=w.useState([]);w.useEffect(()=>{e&&n&&(o({date:n.date,prescribedBy:n.prescribedBy,diagnosis:n.diagnosis,instructions:n.instructions,duration:n.duration,followUpDate:n.followUpDate||"",status:n.status,notes:n.notes||""}),c([...n.medications]))},[e,n]);const u=y=>{o(N=>({...N,[y.target.id]:y.target.value}))},d=(y,N)=>{o(b=>({...b,[y]:N}))},f=(y,N,b)=>{const j=[...l];j[y]={...j[y],[N]:N==="quantity"||N==="refills"||N==="cost"?Number(b):b},c(j)},m=()=>{const y=Math.max(...l.map(N=>N.id),0)+1;c([...l,{id:y,name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,unit:"comprimés",refills:0,cost:0}])},g=y=>{l.length>1&&c(l.filter((N,b)=>b!==y))},x=y=>{if(y.preventDefault(),!n)return;const N=l.filter(b=>b.name.trim()!=="");if(N.length===0){i({title:"Erreur",description:"Au moins un médicament doit être spécifié.",variant:"destructive"});return}s(n.id,{date:a.date,prescribedBy:a.prescribedBy,diagnosis:a.diagnosis,medications:N,instructions:a.instructions,duration:a.duration,followUpDate:a.followUpDate||void 0,status:a.status,notes:a.notes}),i({title:"Prescription mise à jour",description:"La prescription a été modifiée avec succès."}),t(!1)},v=()=>l.reduce((y,N)=>y+(N.cost||0),0);return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(_h,{className:"h-5 w-5"}),"Modifier la Prescription"]}),r.jsxs(jn,{children:["Modifiez la prescription pour ",n.petName," (",n.clientName,")."]})]}),r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"date",children:"Date de prescription *"}),r.jsx(se,{id:"date",type:"date",value:a.date,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"prescribedBy",children:"Prescrit par *"}),r.jsx(se,{id:"prescribedBy",value:a.prescribedBy,onChange:u,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"diagnosis",children:"Diagnostic *"}),r.jsx(se,{id:"diagnosis",value:a.diagnosis,onChange:u,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"duration",children:"Durée du traitement"}),r.jsx(se,{id:"duration",value:a.duration,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"followUpDate",children:"Date de suivi"}),r.jsx(se,{id:"followUpDate",type:"date",value:a.followUpDate,onChange:u,min:a.date})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Statut"}),r.jsxs(Me,{value:a.status,onValueChange:y=>d("status",y),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"active",children:"Active"}),r.jsx(W,{value:"completed",children:"Terminée"}),r.jsx(W,{value:"discontinued",children:"Arrêtée"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(F,{className:"text-base font-medium",children:"Médicaments prescrits"}),r.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:m,className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Ajouter médicament"]})]}),r.jsx("div",{className:"space-y-4",children:l.map((y,N)=>r.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:["Médicament ",N+1]}),l.length>1&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>g(N),className:"text-red-600 hover:text-red-700",children:r.jsx(Hn,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Nom du médicament *"}),r.jsx(se,{value:y.name,onChange:b=>f(N,"name",b.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Dosage *"}),r.jsx(se,{value:y.dosage,onChange:b=>f(N,"dosage",b.target.value),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Fréquence *"}),r.jsx(se,{value:y.frequency,onChange:b=>f(N,"frequency",b.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Durée"}),r.jsx(se,{value:y.duration,onChange:b=>f(N,"duration",b.target.value)})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Quantité"}),r.jsx(se,{type:"number",value:y.quantity,onChange:b=>f(N,"quantity",parseInt(b.target.value)),min:"1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Unité"}),r.jsxs(Me,{value:y.unit,onValueChange:b=>f(N,"unit",b),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"comprimés",children:"Comprimés"}),r.jsx(W,{value:"ml",children:"ml"}),r.jsx(W,{value:"g",children:"g"}),r.jsx(W,{value:"mg",children:"mg"}),r.jsx(W,{value:"ampoules",children:"Ampoules"}),r.jsx(W,{value:"flacons",children:"Flacons"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Coût (€)"}),r.jsx(se,{type:"number",step:"0.01",value:y.cost,onChange:b=>f(N,"cost",parseFloat(b.target.value)),min:"0"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Instructions spécifiques"}),r.jsx(se,{value:y.instructions,onChange:b=>f(N,"instructions",b.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Renouvellements"}),r.jsx(se,{type:"number",value:y.refills,onChange:b=>f(N,"refills",parseInt(b.target.value)),min:"0"})]})]})]},y.id))}),r.jsx("div",{className:"flex justify-end",children:r.jsxs($e,{variant:"outline",className:"text-lg px-4 py-2",children:["Coût total: ",v().toFixed(2),"€"]})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"instructions",children:"Instructions générales"}),r.jsx(wt,{id:"instructions",value:a.instructions,onChange:u,rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",value:a.notes,onChange:u,rows:2})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",className:"gap-2",children:[r.jsx(kp,{className:"h-4 w-4"}),"Sauvegarder"]})]})]})]})}):null}const yFe="vetpro-veterinarians";function jP({prescription:e}){const{settings:t}=Zt();JSON.parse(localStorage.getItem(yFe)||"[]");const n=e.prescribedBy,s=()=>{const i=window.open("","_blank");if(!i)return;const a=`
      <html>
        <head>
          <title>Prescription - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-info {
              margin-bottom: 30px;
            }
            .patient-info {
              margin-bottom: 30px;
            }
            .prescription-details {
              margin-bottom: 30px;
            }
            .medications {
              margin-bottom: 30px;
            }
            .medication-item {
              border: 1px solid #ccc;
              padding: 15px;
              margin-bottom: 15px;
              border-radius: 5px;
            }
            .instructions {
              margin-bottom: 30px;
            }
            .footer {
              margin-top: 50px;
              text-align: center;
            }
            .signature-line {
              border-top: 1px solid #333;
              width: 200px;
              margin: 20px auto;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 20px;
            }
            th, td {
              border: 1px solid #ddd;
              padding: 8px;
              text-align: left;
            }
            th {
              background-color: #f2f2f2;
            }
            .total-cost {
              font-weight: bold;
              text-align: right;
              margin-top: 20px;
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${t.logo?`<img src="${t.logo}" alt="Logo clinique" style="height:60px;margin-bottom:10px;"/>`:""}
            <h1>PRESCRIPTION MÉDICALE</h1>
            <h2>${t.clinicName}</h2>
            <p>${t.address}<br>
            Tél: ${t.phone} | Email: ${t.email}</p>
          </div>

          <div class="clinic-info">
            <strong>Date de prescription:</strong> ${new Date(e.date).toLocaleDateString("fr-FR")}<br>
            <strong>Prescrit par:</strong> ${n}
          </div>

          <div class="patient-info">
            <h3>Informations du patient</h3>
            <table>
              <tr>
                <th>Propriétaire</th>
                <td>${e.clientName}</td>
              </tr>
              <tr>
                <th>Animal</th>
                <td>${e.petName}</td>
              </tr>
              <tr>
                <th>Diagnostic</th>
                <td>${e.diagnosis}</td>
              </tr>
              <tr>
                <th>Durée du traitement</th>
                <td>${e.duration}</td>
              </tr>
            </table>
          </div>

          <div class="medications">
            <h3>Médicaments prescrits</h3>
            ${e.medications.map(o=>`
              <div class="medication-item">
                <h4>${o.name}</h4>
                <table>
                  <tr>
                    <th>Posologie</th>
                    <td>${o.dosage} - ${o.frequency}</td>
                  </tr>
                  <tr>
                    <th>Durée</th>
                    <td>${o.duration}</td>
                  </tr>
                  <tr>
                    <th>Quantité</th>
                    <td>${o.quantity} ${o.unit}</td>
                  </tr>
                  ${o.refills&&o.refills>0?`
                    <tr>
                      <th>Renouvellements</th>
                      <td>${o.refills}</td>
                    </tr>
                  `:""}
                  ${o.instructions?`
                    <tr>
                      <th>Instructions</th>
                      <td>${o.instructions}</td>
                    </tr>
                  `:""}
                  ${o.cost?`
                    <tr>
                      <th>Coût</th>
                      <td>${o.cost.toFixed(2)}€</td>
                    </tr>
                  `:""}
                </table>
              </div>
            `).join("")}
            
            <div class="total-cost">
              Coût total: ${e.medications.reduce((o,l)=>o+(l.cost||0),0).toFixed(2)}€
            </div>
          </div>

          ${e.instructions?`
            <div class="instructions">
              <h3>Instructions générales</h3>
              <p>${e.instructions}</p>
            </div>
          `:""}

          ${e.followUpDate?`
            <div class="instructions">
              <h3>Suivi</h3>
              <p><strong>Date de suivi prévue:</strong> ${new Date(e.followUpDate).toLocaleDateString("fr-FR")}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="instructions">
              <h3>Notes</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="signature-line"></div>
            <p>Signature du vétérinaire</p>
            <p><small>Cette prescription est valable pour la durée du traitement prescrit.</small></p>
          </div>
        </body>
      </html>
    `;i.document.write(a),i.document.close(),i.focus(),i.print(),i.close()};return r.jsxs(V,{size:"sm",variant:"outline",onClick:s,className:"gap-2",children:[r.jsx(_A,{className:"h-4 w-4"}),"Générer Ordonnance"]})}const jFe={active:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",discontinued:"bg-red-100 text-red-800"},bFe={active:"Active",completed:"Terminée",discontinued:"Arrêtée"};function r9({petId:e,consultationId:t}){const{prescriptions:n,getPrescriptionsByPetId:s,getPrescriptionsByConsultationId:i,deletePrescription:a}=Nt(),{toast:o}=$t(),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null),g=t?i(t):s(e),x=b=>{m(b),d(!0)},v=b=>{confirm(`Êtes-vous sûr de vouloir supprimer la prescription pour ${b.medications.map(j=>j.name).join(", ")} ?`)&&(a(b.id),o({title:"Prescription supprimée",description:"La prescription a été supprimée avec succès."}))},y=b=>{switch(b){case"active":return r.jsx(Vr,{className:"h-4 w-4 text-green-600"});case"completed":return r.jsx(br,{className:"h-4 w-4 text-gray-600"});case"discontinued":return r.jsx(db,{className:"h-4 w-4 text-red-600"});default:return r.jsx(Kn,{className:"h-4 w-4 text-gray-600"})}},N=b=>b.reduce((j,_)=>j+(_.cost||0),0);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(_h,{className:"h-5 w-5"}),"Prescriptions (",g.length,")"]}),r.jsxs(V,{size:"sm",onClick:()=>c(!0),disabled:!t,className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle Prescription"]})]}),g.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center text-muted-foreground",children:[r.jsx(_h,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune prescription trouvée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer une nouvelle prescription"})]})}):r.jsx("div",{className:"space-y-4",children:g.sort((b,j)=>new Date(j.date).getTime()-new Date(b.date).getTime()).map(b=>r.jsxs(de,{className:"card-hover",children:[r.jsx(_e,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[y(b.status),r.jsx($e,{className:jFe[b.status],children:bFe[b.status]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx(Dt,{className:"h-4 w-4 inline mr-1"}),new Date(b.date).toLocaleDateString("fr-FR")]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(jP,{prescription:b}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>x(b),className:"h-8 w-8 p-0",title:"Modifier",children:r.jsx(tn,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>v(b),className:"h-8 w-8 p-0 text-red-600",title:"Supprimer",children:r.jsx(Hn,{className:"h-3 w-3"})})]})]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Prescrit par:"}),r.jsx("p",{className:"text-muted-foreground",children:b.prescribedBy})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-muted-foreground",children:b.diagnosis})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Durée:"}),r.jsx("p",{className:"text-muted-foreground",children:b.duration})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Coût total:"}),r.jsxs("p",{className:"text-muted-foreground",children:[N(b.medications).toFixed(2),"€"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Médicaments prescrits:"}),r.jsx("div",{className:"space-y-3",children:b.medications.map(j=>r.jsx("div",{className:"p-3 border rounded-lg bg-muted/30",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium",children:j.name}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Posologie:"})," ",j.dosage," - ",j.frequency]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Durée:"})," ",j.duration]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Quantité:"})," ",j.quantity," ",j.unit]}),j.refills&&j.refills>0&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Renouvellements:"})," ",j.refills]}),j.instructions&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Instructions:"})," ",j.instructions]})]}),j.cost&&r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"font-medium",children:[j.cost.toFixed(2),"€"]})})]})},j.id))})]}),b.instructions&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Instructions générales:"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:b.instructions})]}),b.followUpDate&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Kn,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Suivi prévu:"}),r.jsx("span",{className:"text-muted-foreground",children:new Date(b.followUpDate).toLocaleDateString("fr-FR")})]}),b.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:b.notes})]})]})]},b.id))})]}),t&&r.jsx(Rk,{open:l,onOpenChange:c,petId:e.toString(),consultationId:t.toString()}),r.jsx(xFe,{open:u,onOpenChange:d,prescription:f})]})}var s9={exports:{}};(function(e,t){(function(n,s){e.exports=s(w)})(typeof self<"u"?self:lr,function(n){return function(){var s={155:function(N){N.exports=n}},i={};function a(N){var b=i[N];if(b!==void 0)return b.exports;var j=i[N]={exports:{}};return s[N](j,j.exports,a),j.exports}a.d=function(N,b){for(var j in b)a.o(b,j)&&!a.o(N,j)&&Object.defineProperty(N,j,{enumerable:!0,get:b[j]})},a.o=function(N,b){return Object.prototype.hasOwnProperty.call(N,b)},a.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var o={};a.r(o),a.d(o,{useReactToPrint:function(){return y}});var l=a(155);function c({level:N="error",messages:b,suppressErrors:j=!1}){j||(N==="error"?console.error(b):N==="warning"?console.warn(b):console.debug(b))}function u(N,b){if(b||!N){const j=document.getElementById("printWindow");j&&document.body.removeChild(j)}}function d(N){return N instanceof Error?N:new Error("Unknown Error")}function f(N,b){const{documentTitle:j,onAfterPrint:_,onPrintError:C,preserveAfterPrint:A,print:P,suppressErrors:E}=b;setTimeout(()=>{var M,$;if(N.contentWindow){let O=function(){_==null||_(),u(A)};var T=O;if(N.contentWindow.focus(),P)P(N).then(O).catch(L=>{C?C("print",d(L)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:E})});else{if(N.contentWindow.print){const L=($=(M=N.contentDocument)===null||M===void 0?void 0:M.title)!==null&&$!==void 0?$:"",B=N.ownerDocument.title;j&&(N.ownerDocument.title=j,N.contentDocument&&(N.contentDocument.title=j)),N.contentWindow.print(),j&&(N.ownerDocument.title=B,N.contentDocument&&(N.contentDocument.title=L))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:E});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(L=>{var B,Z;return((Z=(B=navigator.userAgent)!==null&&B!==void 0?B:navigator.vendor)!==null&&Z!==void 0?Z:"opera"in window&&window.opera).match(L)})?setTimeout(O,500):O()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:E})},500)}function m(N){const b=[],j=document.createTreeWalker(N,NodeFilter.SHOW_ELEMENT,null);let _=j.nextNode();for(;_;)b.push(_),_=j.nextNode();return b}function g(N,b,j){const _=m(N),C=m(b);if(_.length===C.length)for(let A=0;A<_.length;A++){const P=_[A],E=C[A],M=P.shadowRoot;if(M!==null){const $=E.attachShadow({mode:M.mode});$.innerHTML=M.innerHTML,g(M,$,j)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",N,b],suppressErrors:j})}const x=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function v(N,b,j,_){var C,A,P,E,M;const{contentNode:$,clonedContentNode:T,clonedImgNodes:O,clonedVideoNodes:L,numResourcesToLoad:B,originalCanvasNodes:Z}=j,{bodyClass:H,fonts:ae,ignoreGlobalStyles:X,pageStyle:D,nonce:ie,suppressErrors:me,copyShadowRoots:te}=_;N.onload=null;const J=(C=N.contentDocument)!==null&&C!==void 0?C:(A=N.contentWindow)===null||A===void 0?void 0:A.document;if(J){const ne=J.body.appendChild(T);te&&g($,ne,!!me),ae&&(!((P=N.contentDocument)===null||P===void 0)&&P.fonts&&(!((E=N.contentWindow)===null||E===void 0)&&E.FontFace)?ae.forEach(G=>{const I=new FontFace(G.family,G.source,{weight:G.weight,style:G.style});N.contentDocument.fonts.add(I),I.loaded.then(()=>{b(I)}).catch(xe=>{b(I,["Failed loading the font:",I,"Load error:",d(xe)])})}):(ae.forEach(G=>{b(G)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:me})));const ve=D??x,ye=J.createElement("style");ie&&(ye.setAttribute("nonce",ie),J.head.setAttribute("nonce",ie)),ye.appendChild(J.createTextNode(ve)),J.head.appendChild(ye),H&&J.body.classList.add(...H.split(" "));const be=J.querySelectorAll("canvas");for(let G=0;G<Z.length;++G){const I=Z[G],xe=be[G];if(xe===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",I],suppressErrors:me});continue}const Ne=xe.getContext("2d");Ne&&Ne.drawImage(I,0,0)}for(let G=0;G<O.length;G++){const I=O[G],xe=I.getAttribute("src");if(xe){const Ne=new Image;Ne.onload=()=>{b(I)},Ne.onerror=(Be,Fe,it,lt,ft)=>{b(I,["Error loading <img>",I,"Error",ft])},Ne.src=xe}else b(I,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',I])}for(let G=0;G<L.length;G++){const I=L[G];I.preload="auto";const xe=I.getAttribute("poster");if(xe){const Ne=new Image;Ne.onload=()=>{b(I)},Ne.onerror=(Be,Fe,it,lt,ft)=>{b(I,["Error loading video poster",xe,"for video",I,"Error:",ft])},Ne.src=xe}else I.readyState>=2?b(I):I.src?(I.onloadeddata=()=>{b(I)},I.onerror=(Ne,Be,Fe,it,lt)=>{b(I,["Error loading video",I,"Error",lt])},I.onstalled=()=>{b(I,["Loading video stalled, skipping",I])}):b(I,["Error loading video, `src` is empty",I])}const z="select",Y=$.querySelectorAll(z),ee=J.querySelectorAll(z);for(let G=0;G<Y.length;G++)ee[G].value=Y[G].value;if(!X){const G=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let I=0,xe=G.length;I<xe;++I){const Ne=G[I];if(Ne.tagName.toLowerCase()==="style"){const Be=J.createElement(Ne.tagName),Fe=Ne.sheet;if(Fe){let it="";try{const lt=Fe.cssRules.length;for(let ft=0;ft<lt;++ft)typeof Fe.cssRules[ft].cssText=="string"&&(it+=`${Fe.cssRules[ft].cssText}\r
`)}catch(lt){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Ne,`Original error: ${d(lt).message}`],level:"warning"})}Be.setAttribute("id",`react-to-print-${I}`),ie&&Be.setAttribute("nonce",ie),Be.appendChild(J.createTextNode(it)),J.head.appendChild(Be)}}else if(Ne.getAttribute("href"))if(Ne.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Ne],level:"warning"}),b(Ne);else{const Be=J.createElement(Ne.tagName);for(let Fe=0,it=Ne.attributes.length;Fe<it;++Fe){const lt=Ne.attributes[Fe];lt&&Be.setAttribute(lt.nodeName,(M=lt.nodeValue)!==null&&M!==void 0?M:"")}Be.onload=()=>{b(Be)},Be.onerror=(Fe,it,lt,ft,we)=>{b(Be,["Failed to load",Be,"Error:",we])},ie&&Be.setAttribute("nonce",ie),J.head.appendChild(Be)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Ne],level:"warning"}),b(Ne)}}}B===0&&f(N,_)}function y({bodyClass:N,contentRef:b,copyShadowRoots:j,documentTitle:_,fonts:C,ignoreGlobalStyles:A,nonce:P,onAfterPrint:E,onBeforePrint:M,onPrintError:$,pageStyle:T,preserveAfterPrint:O,print:L,suppressErrors:B}){return(0,l.useCallback)(Z=>{function H(){const ae={bodyClass:N,contentRef:b,copyShadowRoots:j,documentTitle:_,fonts:C,ignoreGlobalStyles:A,nonce:P,onAfterPrint:E,onBeforePrint:M,onPrintError:$,pageStyle:T,preserveAfterPrint:O,print:L,suppressErrors:B},X=function(){const me=document.createElement("iframe");return me.width=`${document.documentElement.clientWidth}px`,me.height=`${document.documentElement.clientHeight}px`,me.style.position="absolute",me.style.top=`-${document.documentElement.clientHeight+100}px`,me.style.left=`-${document.documentElement.clientWidth+100}px`,me.id="printWindow",me.srcdoc="<!DOCTYPE html>",me}(),D=function(me,te){const{contentRef:J,fonts:ne,ignoreGlobalStyles:ve,suppressErrors:ye}=te,be=function({contentRef:xe,optionalContent:Ne,suppressErrors:Be}){return Ne&&typeof Ne=="function"?(xe&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),Ne()):xe?xe.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Be})}({contentRef:J,optionalContent:me,suppressErrors:ye});if(!be)return;const z=be.cloneNode(!0),Y=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),ee=z.querySelectorAll("img"),G=z.querySelectorAll("video"),I=ne?ne.length:0;return{contentNode:be,clonedContentNode:z,clonedImgNodes:ee,clonedVideoNodes:G,numResourcesToLoad:(ve?0:Y.length)+ee.length+G.length+I,originalCanvasNodes:be.querySelectorAll("canvas")}}(Z,ae);if(!D)return void c({messages:["There is nothing to print"],suppressErrors:B});const ie=function(me,te,J){const{suppressErrors:ne}=me,ve=[],ye=[];return function(be,z){ve.includes(be)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",be],suppressErrors:ne}):(z?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...z],suppressErrors:ne}),ye.push(be)):ve.push(be),ve.length+ye.length===te&&f(J,me))}}(ae,D.numResourcesToLoad,X);(function(me,te,J,ne){me.onload=()=>{v(me,te,J,ne)},document.body.appendChild(me)})(X,ie,D,ae)}u(O,!0),M?M().then(()=>{H()}).catch(ae=>{$==null||$("onBeforePrint",d(ae))}):H()},[N,b,j,_,C,A,P,E,M,$,T,O,L,B])}return o}()})})(s9);var Lk=s9.exports,wFe=Object.defineProperty,zj=Object.getOwnPropertySymbols,i9=Object.prototype.hasOwnProperty,a9=Object.prototype.propertyIsEnumerable,F3=(e,t,n)=>t in e?wFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bP=(e,t)=>{for(var n in t||(t={}))i9.call(t,n)&&F3(e,n,t[n]);if(zj)for(var n of zj(t))a9.call(t,n)&&F3(e,n,t[n]);return e},wP=(e,t)=>{var n={};for(var s in e)i9.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&zj)for(var s of zj(e))t.indexOf(s)<0&&a9.call(e,s)&&(n[s]=e[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var id;(e=>{const t=class Kt{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Kt.MIN_VERSION||c>Kt.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let m=[];for(let x=0;x<this.size;x++)m.push(!1);for(let x=0;x<this.size;x++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),f==-1){let x=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const y=this.getPenaltyScore();y<x&&(f=v,x=y),this.applyMask(v)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return Kt.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return Kt.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,m=-1,g=!0){if(!(Kt.MIN_VERSION<=d&&d<=f&&f<=Kt.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let x,v;for(x=d;;x++){const j=Kt.getNumDataCodewords(x,u)*8,_=o.getTotalBits(c,x);if(_<=j){v=_;break}if(x>=f)throw new RangeError("Data too long")}for(const j of[Kt.Ecc.MEDIUM,Kt.Ecc.QUARTILE,Kt.Ecc.HIGH])g&&v<=Kt.getNumDataCodewords(x,j)*8&&(u=j);let y=[];for(const j of c){n(j.mode.modeBits,4,y),n(j.numChars,j.mode.numCharCountBits(x),y);for(const _ of j.getData())y.push(_)}i(y.length==v);const N=Kt.getNumDataCodewords(x,u)*8;i(y.length<=N),n(0,Math.min(4,N-y.length),y),n(0,(8-y.length%8)%8,y),i(y.length%8==0);for(let j=236;y.length<N;j^=253)n(j,8,y);let b=[];for(;b.length*8<y.length;)b.push(0);return y.forEach((j,_)=>b[_>>>3]|=j<<7-(_&7)),new Kt(x,u,b,m)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let m=0;m<10;m++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;i(f>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,s(f,m));this.setFunctionModule(8,7,s(f,6)),this.setFunctionModule(8,8,s(f,7)),this.setFunctionModule(7,8,s(f,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,s(f,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,s(f,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,s(f,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;i(u>>>18==0);for(let d=0;d<18;d++){const f=s(u,d),m=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(m,g,f),this.setFunctionModule(g,m,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const m=Math.max(Math.abs(f),Math.abs(d)),g=c+f,x=u+d;0<=g&&g<this.size&&0<=x&&x<this.size&&this.setFunctionModule(g,x,m!=2&&m!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Kt.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Kt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],m=Kt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],g=Math.floor(Kt.getNumRawDataModules(u)/8),x=f-g%f,v=Math.floor(g/f);let y=[];const N=Kt.reedSolomonComputeDivisor(m);for(let j=0,_=0;j<f;j++){let C=c.slice(_,_+v-m+(j<x?0:1));_+=C.length;const A=Kt.reedSolomonComputeRemainder(C,N);j<x&&C.push(0),y.push(C.concat(A))}let b=[];for(let j=0;j<y[0].length;j++)y.forEach((_,C)=>{(j!=v-m||C>=x)&&b.push(_[j])});return i(b.length==g),b}drawCodewords(c){if(c.length!=Math.floor(Kt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let m=0;m<2;m++){const g=d-m,v=(d+1&2)==0?this.size-1-f:f;!this.isFunction[v][g]&&u<c.length*8&&(this.modules[v][g]=s(c[u>>>3],7-(u&7)),u++)}}i(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let m=0;m<this.size;m++){let g=!1,x=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[m][y]==g?(x++,x==5?c+=Kt.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,v),g||(c+=this.finderPenaltyCountPatterns(v)*Kt.PENALTY_N3),g=this.modules[m][y],x=1);c+=this.finderPenaltyTerminateAndCount(g,x,v)*Kt.PENALTY_N3}for(let m=0;m<this.size;m++){let g=!1,x=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][m]==g?(x++,x==5?c+=Kt.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,v),g||(c+=this.finderPenaltyCountPatterns(v)*Kt.PENALTY_N3),g=this.modules[y][m],x=1);c+=this.finderPenaltyTerminateAndCount(g,x,v)*Kt.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let g=0;g<this.size-1;g++){const x=this.modules[m][g];x==this.modules[m][g+1]&&x==this.modules[m+1][g]&&x==this.modules[m+1][g+1]&&(c+=Kt.PENALTY_N2)}let u=0;for(const m of this.modules)u=m.reduce((g,x)=>g+(x?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=f&&f<=9),c+=f*Kt.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<Kt.MIN_VERSION||c>Kt.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Kt.getNumRawDataModules(c)/8)-Kt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Kt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let m=0;m<u.length;m++)u[m]=Kt.reedSolomonMultiply(u[m],d),m+1<u.length&&(u[m]^=u[m+1]);d=Kt.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const m=f^d.shift();d.push(0),u.forEach((g,x)=>d[x]^=Kt.reedSolomonMultiply(g,m))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return i(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];i(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function s(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const a=class sr{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new sr(sr.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!sr.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new sr(sr.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!sr.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=sr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=sr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(f,11,u)}return d<c.length&&n(sr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new sr(sr.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:sr.isNumeric(c)?[sr.makeNumeric(c)]:sr.isAlphanumeric(c)?[sr.makeAlphanumeric(c)]:[sr.makeBytes(sr.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new sr(sr.Mode.ECI,0,u)}static isNumeric(c){return sr.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return sr.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const m=f.mode.numCharCountBits(u);if(f.numChars>=1<<m)return 1/0;d+=4+m+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(id||(id={}));(e=>{(t=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(id||(id={}));(e=>{(t=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(id||(id={}));var yh=id;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var NFe={L:yh.QrCode.Ecc.LOW,M:yh.QrCode.Ecc.MEDIUM,Q:yh.QrCode.Ecc.QUARTILE,H:yh.QrCode.Ecc.HIGH},o9=128,l9="L",c9="#FFFFFF",u9="#000000",d9=!1,h9=1,SFe=4,CFe=0,_Fe=.1;function f9(e,t=0){const n=[];return e.forEach(function(s,i){let a=null;s.forEach(function(o,l){if(!o&&a!==null){n.push(`M${a+t} ${i+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===s.length-1){if(!o)return;a===null?n.push(`M${l+t},${i+t} h1v1H${l+t}z`):n.push(`M${a+t},${i+t} h${l+1-a}v1H${a+t}z`);return}o&&a===null&&(a=l)})}),n.join("")}function m9(e,t){return e.slice().map((n,s)=>s<t.y||s>=t.y+t.h?n:n.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function PFe(e,t,n,s){if(s==null)return null;const i=e.length+n*2,a=Math.floor(t*_Fe),o=i/t,l=(s.width||a)*o,c=(s.height||a)*o,u=s.x==null?e.length/2-l/2:s.x*o,d=s.y==null?e.length/2-c/2:s.y*o,f=s.opacity==null?1:s.opacity;let m=null;if(s.excavate){let x=Math.floor(u),v=Math.floor(d),y=Math.ceil(l+u-x),N=Math.ceil(c+d-v);m={x,y:v,w:y,h:N}}const g=s.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:m,opacity:f,crossOrigin:g}}function AFe(e,t){return t!=null?Math.max(Math.floor(t),0):e?SFe:CFe}function p9({value:e,level:t,minVersion:n,includeMargin:s,marginSize:i,imageSettings:a,size:o,boostLevel:l}){let c=U.useMemo(()=>{const x=(Array.isArray(e)?e:[e]).reduce((v,y)=>(v.push(...yh.QrSegment.makeSegments(y)),v),[]);return yh.QrCode.encodeSegments(x,NFe[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:m}=U.useMemo(()=>{let g=c.getModules();const x=AFe(s,i),v=g.length+x*2,y=PFe(g,o,x,a);return{cells:g,margin:x,numCells:v,calculatedImageSettings:y}},[c,o,a,s,i]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:m}}var EFe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),g9=U.forwardRef(function(t,n){const s=t,{value:i,size:a=o9,level:o=l9,bgColor:l=c9,fgColor:c=u9,includeMargin:u=d9,minVersion:d=h9,boostLevel:f,marginSize:m,imageSettings:g}=s,v=wP(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=v,N=wP(v,["style"]),b=g==null?void 0:g.src,j=U.useRef(null),_=U.useRef(null),C=U.useCallback(B=>{j.current=B,typeof n=="function"?n(B):n&&(n.current=B)},[n]),[A,P]=U.useState(!1),{margin:E,cells:M,numCells:$,calculatedImageSettings:T}=p9({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:g,size:a});U.useEffect(()=>{if(j.current!=null){const B=j.current,Z=B.getContext("2d");if(!Z)return;let H=M;const ae=_.current,X=T!=null&&ae!==null&&ae.complete&&ae.naturalHeight!==0&&ae.naturalWidth!==0;X&&T.excavation!=null&&(H=m9(M,T.excavation));const D=window.devicePixelRatio||1;B.height=B.width=a*D;const ie=a/$*D;Z.scale(ie,ie),Z.fillStyle=l,Z.fillRect(0,0,$,$),Z.fillStyle=c,EFe?Z.fill(new Path2D(f9(H,E))):M.forEach(function(me,te){me.forEach(function(J,ne){J&&Z.fillRect(ne+E,te+E,1,1)})}),T&&(Z.globalAlpha=T.opacity),X&&Z.drawImage(ae,T.x+E,T.y+E,T.w,T.h)}}),U.useEffect(()=>{P(!1)},[b]);const O=bP({height:a,width:a},y);let L=null;return b!=null&&(L=U.createElement("img",{src:b,key:b,style:{display:"none"},onLoad:()=>{P(!0)},ref:_,crossOrigin:T==null?void 0:T.crossOrigin})),U.createElement(U.Fragment,null,U.createElement("canvas",bP({style:O,height:a,width:a,ref:C,role:"img"},N)),L)});g9.displayName="QRCodeCanvas";var kFe=U.forwardRef(function(t,n){const s=t,{value:i,size:a=o9,level:o=l9,bgColor:l=c9,fgColor:c=u9,includeMargin:u=d9,minVersion:d=h9,boostLevel:f,title:m,marginSize:g,imageSettings:x}=s,v=wP(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:N,numCells:b,calculatedImageSettings:j}=p9({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:g,imageSettings:x,size:a});let _=N,C=null;x!=null&&j!=null&&(j.excavation!=null&&(_=m9(N,j.excavation)),C=U.createElement("image",{href:x.src,height:j.h,width:j.w,x:j.x+y,y:j.y+y,preserveAspectRatio:"none",opacity:j.opacity,crossOrigin:j.crossOrigin}));const A=f9(_,y);return U.createElement("svg",bP({height:a,width:a,viewBox:`0 0 ${b} ${b}`,ref:n,role:"img"},v),!!m&&U.createElement("title",null,m),U.createElement("path",{fill:l,d:`M0,0 h${b}v${b}H0z`,shapeRendering:"crispEdges"}),U.createElement("path",{fill:c,d:A,shapeRendering:"crispEdges"}),C)});kFe.displayName="QRCodeSVG";var Vj={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Vj.exports;(function(e,t){(function(){var n,s="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,m=2,g=4,x=1,v=2,y=1,N=2,b=4,j=8,_=16,C=32,A=64,P=128,E=256,M=512,$=30,T="...",O=800,L=16,B=1,Z=2,H=3,ae=1/0,X=9007199254740991,D=17976931348623157e292,ie=NaN,me=4294967295,te=me-1,J=me>>>1,ne=[["ary",P],["bind",y],["bindKey",N],["curry",j],["curryRight",_],["flip",M],["partial",C],["partialRight",A],["rearg",E]],ve="[object Arguments]",ye="[object Array]",be="[object AsyncFunction]",z="[object Boolean]",Y="[object Date]",ee="[object DOMException]",G="[object Error]",I="[object Function]",xe="[object GeneratorFunction]",Ne="[object Map]",Be="[object Number]",Fe="[object Null]",it="[object Object]",lt="[object Promise]",ft="[object Proxy]",we="[object RegExp]",Ge="[object Set]",Ke="[object String]",Ht="[object Symbol]",Yn="[object Undefined]",Et="[object WeakMap]",Nn="[object WeakSet]",ur="[object ArrayBuffer]",Qn="[object DataView]",ys="[object Float32Array]",Se="[object Float64Array]",Ut="[object Int8Array]",tt="[object Int16Array]",mt="[object Int32Array]",sn="[object Uint8Array]",as="[object Uint8ClampedArray]",Qr="[object Uint16Array]",Bs="[object Uint32Array]",yl=/\b__p \+= '';/g,le=/\b(__p \+=) '' \+/g,qe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Le=/&(?:amp|lt|gt|quot|#39);/g,kn=/[&<>"']/g,Xn=RegExp(Le.source),ia=RegExp(kn.source),jt=/<%-([\s\S]+?)%>/g,on=/<%([\s\S]+?)%>/g,gn=/<%=([\s\S]+?)%>/g,js=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bs=/^\w*$/,Ei=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ai=/[\\^$.*+?()[\]{}|]/g,ws=RegExp(ai.source),zs=/^\s+/,$w=/\s/,Rw=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Lw=/\{\n\/\* \[wrapped with (.+)\] \*/,Fw=/,? & /,Bw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zw=/[()=,{}\[\]\/\s]/,Vw=/\\(\\)?/g,Uw=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tv=/\w*$/,qw=/^[-+]0x[0-9a-f]+$/i,Ww=/^0b[01]+$/i,Hw=/^\[object .+?Constructor\]$/,jm=/^0o[0-7]+$/i,yd=/^(?:0|[1-9]\d*)$/,Gw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,So=/($^)/,Kw=/['\n\r\u2028\u2029\\]/g,jd="\\ud800-\\udfff",Yw="\\u0300-\\u036f",Qw="\\ufe20-\\ufe2f",Xw="\\u20d0-\\u20ff",Ov=Yw+Qw+Xw,Dv="\\u2700-\\u27bf",Mv="a-z\\xdf-\\xf6\\xf8-\\xff",Jw="\\xac\\xb1\\xd7\\xf7",Zw="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",e1="\\u2000-\\u206f",t1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Iv="A-Z\\xc0-\\xd6\\xd8-\\xde",$v="\\ufe0e\\ufe0f",Rv=Jw+Zw+e1+t1,bm="['’]",jl="["+jd+"]",Lv="["+Rv+"]",bd="["+Ov+"]",wd="\\d+",wm="["+Dv+"]",Fv="["+Mv+"]",re="[^"+jd+Rv+wd+Dv+Mv+Iv+"]",Q="\\ud83c[\\udffb-\\udfff]",ue="(?:"+bd+"|"+Q+")",pe="[^"+jd+"]",We="(?:\\ud83c[\\udde6-\\uddff]){2}",Je="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Iv+"]",at="\\u200d",_n="(?:"+Fv+"|"+re+")",vn="(?:"+ze+"|"+re+")",dt="(?:"+bm+"(?:d|ll|m|re|s|t|ve))?",$n="(?:"+bm+"(?:D|LL|M|RE|S|T|VE))?",Xr=ue+"?",aa="["+$v+"]?",Wa="(?:"+at+"(?:"+[pe,We,Je].join("|")+")"+aa+Xr+")*",Nd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",n1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nm=aa+Xr+Wa,r1="(?:"+[wm,We,Je].join("|")+")"+Nm,s1="(?:"+[pe+bd+"?",bd,We,Je,jl].join("|")+")",i1=RegExp(bm,"g"),a1=RegExp(bd,"g"),Sm=RegExp(Q+"(?="+Q+")|"+s1+Nm,"g"),o1=RegExp([ze+"?"+Fv+"+"+dt+"(?="+[Lv,ze,"$"].join("|")+")",vn+"+"+$n+"(?="+[Lv,ze+_n,"$"].join("|")+")",ze+"?"+_n+"+"+dt,ze+"+"+$n,n1,Nd,wd,r1].join("|"),"g"),l1=RegExp("["+at+jd+Ov+$v+"]"),c1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,u1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],d1=-1,Pn={};Pn[ys]=Pn[Se]=Pn[Ut]=Pn[tt]=Pn[mt]=Pn[sn]=Pn[as]=Pn[Qr]=Pn[Bs]=!0,Pn[ve]=Pn[ye]=Pn[ur]=Pn[z]=Pn[Qn]=Pn[Y]=Pn[G]=Pn[I]=Pn[Ne]=Pn[Be]=Pn[it]=Pn[we]=Pn[Ge]=Pn[Ke]=Pn[Et]=!1;var Sn={};Sn[ve]=Sn[ye]=Sn[ur]=Sn[Qn]=Sn[z]=Sn[Y]=Sn[ys]=Sn[Se]=Sn[Ut]=Sn[tt]=Sn[mt]=Sn[Ne]=Sn[Be]=Sn[it]=Sn[we]=Sn[Ge]=Sn[Ke]=Sn[Ht]=Sn[sn]=Sn[as]=Sn[Qr]=Sn[Bs]=!0,Sn[G]=Sn[I]=Sn[Et]=!1;var h1={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Fk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},f1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},E9=parseFloat,k9=parseInt,Bk=typeof lr=="object"&&lr&&lr.Object===Object&&lr,T9=typeof self=="object"&&self&&self.Object===Object&&self,Jr=Bk||T9||Function("return this")(),m1=t&&!t.nodeType&&t,Wc=m1&&!0&&e&&!e.nodeType&&e,zk=Wc&&Wc.exports===m1,p1=zk&&Bk.process,ki=function(){try{var ge=Wc&&Wc.require&&Wc.require("util").types;return ge||p1&&p1.binding&&p1.binding("util")}catch{}}(),Vk=ki&&ki.isArrayBuffer,Uk=ki&&ki.isDate,qk=ki&&ki.isMap,Wk=ki&&ki.isRegExp,Hk=ki&&ki.isSet,Gk=ki&&ki.isTypedArray;function oi(ge,Ee,Ce){switch(Ce.length){case 0:return ge.call(Ee);case 1:return ge.call(Ee,Ce[0]);case 2:return ge.call(Ee,Ce[0],Ce[1]);case 3:return ge.call(Ee,Ce[0],Ce[1],Ce[2])}return ge.apply(Ee,Ce)}function O9(ge,Ee,Ce,et){for(var kt=-1,dn=ge==null?0:ge.length;++kt<dn;){var Sr=ge[kt];Ee(et,Sr,Ce(Sr),ge)}return et}function Ti(ge,Ee){for(var Ce=-1,et=ge==null?0:ge.length;++Ce<et&&Ee(ge[Ce],Ce,ge)!==!1;);return ge}function D9(ge,Ee){for(var Ce=ge==null?0:ge.length;Ce--&&Ee(ge[Ce],Ce,ge)!==!1;);return ge}function Kk(ge,Ee){for(var Ce=-1,et=ge==null?0:ge.length;++Ce<et;)if(!Ee(ge[Ce],Ce,ge))return!1;return!0}function bl(ge,Ee){for(var Ce=-1,et=ge==null?0:ge.length,kt=0,dn=[];++Ce<et;){var Sr=ge[Ce];Ee(Sr,Ce,ge)&&(dn[kt++]=Sr)}return dn}function zv(ge,Ee){var Ce=ge==null?0:ge.length;return!!Ce&&Sd(ge,Ee,0)>-1}function g1(ge,Ee,Ce){for(var et=-1,kt=ge==null?0:ge.length;++et<kt;)if(Ce(Ee,ge[et]))return!0;return!1}function Un(ge,Ee){for(var Ce=-1,et=ge==null?0:ge.length,kt=Array(et);++Ce<et;)kt[Ce]=Ee(ge[Ce],Ce,ge);return kt}function wl(ge,Ee){for(var Ce=-1,et=Ee.length,kt=ge.length;++Ce<et;)ge[kt+Ce]=Ee[Ce];return ge}function v1(ge,Ee,Ce,et){var kt=-1,dn=ge==null?0:ge.length;for(et&&dn&&(Ce=ge[++kt]);++kt<dn;)Ce=Ee(Ce,ge[kt],kt,ge);return Ce}function M9(ge,Ee,Ce,et){var kt=ge==null?0:ge.length;for(et&&kt&&(Ce=ge[--kt]);kt--;)Ce=Ee(Ce,ge[kt],kt,ge);return Ce}function x1(ge,Ee){for(var Ce=-1,et=ge==null?0:ge.length;++Ce<et;)if(Ee(ge[Ce],Ce,ge))return!0;return!1}var I9=y1("length");function $9(ge){return ge.split("")}function R9(ge){return ge.match(Bw)||[]}function Yk(ge,Ee,Ce){var et;return Ce(ge,function(kt,dn,Sr){if(Ee(kt,dn,Sr))return et=dn,!1}),et}function Vv(ge,Ee,Ce,et){for(var kt=ge.length,dn=Ce+(et?1:-1);et?dn--:++dn<kt;)if(Ee(ge[dn],dn,ge))return dn;return-1}function Sd(ge,Ee,Ce){return Ee===Ee?Y9(ge,Ee,Ce):Vv(ge,Qk,Ce)}function L9(ge,Ee,Ce,et){for(var kt=Ce-1,dn=ge.length;++kt<dn;)if(et(ge[kt],Ee))return kt;return-1}function Qk(ge){return ge!==ge}function Xk(ge,Ee){var Ce=ge==null?0:ge.length;return Ce?b1(ge,Ee)/Ce:ie}function y1(ge){return function(Ee){return Ee==null?n:Ee[ge]}}function j1(ge){return function(Ee){return ge==null?n:ge[Ee]}}function Jk(ge,Ee,Ce,et,kt){return kt(ge,function(dn,Sr,An){Ce=et?(et=!1,dn):Ee(Ce,dn,Sr,An)}),Ce}function F9(ge,Ee){var Ce=ge.length;for(ge.sort(Ee);Ce--;)ge[Ce]=ge[Ce].value;return ge}function b1(ge,Ee){for(var Ce,et=-1,kt=ge.length;++et<kt;){var dn=Ee(ge[et]);dn!==n&&(Ce=Ce===n?dn:Ce+dn)}return Ce}function w1(ge,Ee){for(var Ce=-1,et=Array(ge);++Ce<ge;)et[Ce]=Ee(Ce);return et}function B9(ge,Ee){return Un(Ee,function(Ce){return[Ce,ge[Ce]]})}function Zk(ge){return ge&&ge.slice(0,rT(ge)+1).replace(zs,"")}function li(ge){return function(Ee){return ge(Ee)}}function N1(ge,Ee){return Un(Ee,function(Ce){return ge[Ce]})}function Cm(ge,Ee){return ge.has(Ee)}function eT(ge,Ee){for(var Ce=-1,et=ge.length;++Ce<et&&Sd(Ee,ge[Ce],0)>-1;);return Ce}function tT(ge,Ee){for(var Ce=ge.length;Ce--&&Sd(Ee,ge[Ce],0)>-1;);return Ce}function z9(ge,Ee){for(var Ce=ge.length,et=0;Ce--;)ge[Ce]===Ee&&++et;return et}var V9=j1(h1),U9=j1(Fk);function q9(ge){return"\\"+f1[ge]}function W9(ge,Ee){return ge==null?n:ge[Ee]}function Cd(ge){return l1.test(ge)}function H9(ge){return c1.test(ge)}function G9(ge){for(var Ee,Ce=[];!(Ee=ge.next()).done;)Ce.push(Ee.value);return Ce}function S1(ge){var Ee=-1,Ce=Array(ge.size);return ge.forEach(function(et,kt){Ce[++Ee]=[kt,et]}),Ce}function nT(ge,Ee){return function(Ce){return ge(Ee(Ce))}}function Nl(ge,Ee){for(var Ce=-1,et=ge.length,kt=0,dn=[];++Ce<et;){var Sr=ge[Ce];(Sr===Ee||Sr===d)&&(ge[Ce]=d,dn[kt++]=Ce)}return dn}function Uv(ge){var Ee=-1,Ce=Array(ge.size);return ge.forEach(function(et){Ce[++Ee]=et}),Ce}function K9(ge){var Ee=-1,Ce=Array(ge.size);return ge.forEach(function(et){Ce[++Ee]=[et,et]}),Ce}function Y9(ge,Ee,Ce){for(var et=Ce-1,kt=ge.length;++et<kt;)if(ge[et]===Ee)return et;return-1}function Q9(ge,Ee,Ce){for(var et=Ce+1;et--;)if(ge[et]===Ee)return et;return et}function _d(ge){return Cd(ge)?J9(ge):I9(ge)}function oa(ge){return Cd(ge)?Z9(ge):$9(ge)}function rT(ge){for(var Ee=ge.length;Ee--&&$w.test(ge.charAt(Ee)););return Ee}var X9=j1(Bv);function J9(ge){for(var Ee=Sm.lastIndex=0;Sm.test(ge);)++Ee;return Ee}function Z9(ge){return ge.match(Sm)||[]}function eH(ge){return ge.match(o1)||[]}var tH=function ge(Ee){Ee=Ee==null?Jr:Pd.defaults(Jr.Object(),Ee,Pd.pick(Jr,u1));var Ce=Ee.Array,et=Ee.Date,kt=Ee.Error,dn=Ee.Function,Sr=Ee.Math,An=Ee.Object,C1=Ee.RegExp,nH=Ee.String,Oi=Ee.TypeError,qv=Ce.prototype,rH=dn.prototype,Ad=An.prototype,Wv=Ee["__core-js_shared__"],Hv=rH.toString,xn=Ad.hasOwnProperty,sH=0,sT=function(){var h=/[^.]+$/.exec(Wv&&Wv.keys&&Wv.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Gv=Ad.toString,iH=Hv.call(An),aH=Jr._,oH=C1("^"+Hv.call(xn).replace(ai,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kv=zk?Ee.Buffer:n,Sl=Ee.Symbol,Yv=Ee.Uint8Array,iT=Kv?Kv.allocUnsafe:n,Qv=nT(An.getPrototypeOf,An),aT=An.create,oT=Ad.propertyIsEnumerable,Xv=qv.splice,lT=Sl?Sl.isConcatSpreadable:n,_m=Sl?Sl.iterator:n,Hc=Sl?Sl.toStringTag:n,Jv=function(){try{var h=Xc(An,"defineProperty");return h({},"",{}),h}catch{}}(),lH=Ee.clearTimeout!==Jr.clearTimeout&&Ee.clearTimeout,cH=et&&et.now!==Jr.Date.now&&et.now,uH=Ee.setTimeout!==Jr.setTimeout&&Ee.setTimeout,Zv=Sr.ceil,ex=Sr.floor,_1=An.getOwnPropertySymbols,dH=Kv?Kv.isBuffer:n,cT=Ee.isFinite,hH=qv.join,fH=nT(An.keys,An),Cr=Sr.max,os=Sr.min,mH=et.now,pH=Ee.parseInt,uT=Sr.random,gH=qv.reverse,P1=Xc(Ee,"DataView"),Pm=Xc(Ee,"Map"),A1=Xc(Ee,"Promise"),Ed=Xc(Ee,"Set"),Am=Xc(Ee,"WeakMap"),Em=Xc(An,"create"),tx=Am&&new Am,kd={},vH=Jc(P1),xH=Jc(Pm),yH=Jc(A1),jH=Jc(Ed),bH=Jc(Am),nx=Sl?Sl.prototype:n,km=nx?nx.valueOf:n,dT=nx?nx.toString:n;function q(h){if(nr(h)&&!Mt(h)&&!(h instanceof en)){if(h instanceof Di)return h;if(xn.call(h,"__wrapped__"))return hO(h)}return new Di(h)}var Td=function(){function h(){}return function(p){if(!Jn(p))return{};if(aT)return aT(p);h.prototype=p;var S=new h;return h.prototype=n,S}}();function rx(){}function Di(h,p){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}q.templateSettings={escape:jt,evaluate:on,interpolate:gn,variable:"",imports:{_:q}},q.prototype=rx.prototype,q.prototype.constructor=q,Di.prototype=Td(rx.prototype),Di.prototype.constructor=Di;function en(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=me,this.__views__=[]}function wH(){var h=new en(this.__wrapped__);return h.__actions__=Vs(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Vs(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Vs(this.__views__),h}function NH(){if(this.__filtered__){var h=new en(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function SH(){var h=this.__wrapped__.value(),p=this.__dir__,S=Mt(h),k=p<0,R=S?h.length:0,K=$G(0,R,this.__views__),oe=K.start,fe=K.end,je=fe-oe,ke=k?fe:oe-1,Te=this.__iteratees__,Re=Te.length,Qe=0,ot=os(je,this.__takeCount__);if(!S||!k&&R==je&&ot==je)return IT(h,this.__actions__);var gt=[];e:for(;je--&&Qe<ot;){ke+=p;for(var Bt=-1,vt=h[ke];++Bt<Re;){var Gt=Te[Bt],nn=Gt.iteratee,di=Gt.type,Cs=nn(vt);if(di==Z)vt=Cs;else if(!Cs){if(di==B)continue e;break e}}gt[Qe++]=vt}return gt}en.prototype=Td(rx.prototype),en.prototype.constructor=en;function Gc(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var k=h[p];this.set(k[0],k[1])}}function CH(){this.__data__=Em?Em(null):{},this.size=0}function _H(h){var p=this.has(h)&&delete this.__data__[h];return this.size-=p?1:0,p}function PH(h){var p=this.__data__;if(Em){var S=p[h];return S===c?n:S}return xn.call(p,h)?p[h]:n}function AH(h){var p=this.__data__;return Em?p[h]!==n:xn.call(p,h)}function EH(h,p){var S=this.__data__;return this.size+=this.has(h)?0:1,S[h]=Em&&p===n?c:p,this}Gc.prototype.clear=CH,Gc.prototype.delete=_H,Gc.prototype.get=PH,Gc.prototype.has=AH,Gc.prototype.set=EH;function Co(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var k=h[p];this.set(k[0],k[1])}}function kH(){this.__data__=[],this.size=0}function TH(h){var p=this.__data__,S=sx(p,h);if(S<0)return!1;var k=p.length-1;return S==k?p.pop():Xv.call(p,S,1),--this.size,!0}function OH(h){var p=this.__data__,S=sx(p,h);return S<0?n:p[S][1]}function DH(h){return sx(this.__data__,h)>-1}function MH(h,p){var S=this.__data__,k=sx(S,h);return k<0?(++this.size,S.push([h,p])):S[k][1]=p,this}Co.prototype.clear=kH,Co.prototype.delete=TH,Co.prototype.get=OH,Co.prototype.has=DH,Co.prototype.set=MH;function _o(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var k=h[p];this.set(k[0],k[1])}}function IH(){this.size=0,this.__data__={hash:new Gc,map:new(Pm||Co),string:new Gc}}function $H(h){var p=gx(this,h).delete(h);return this.size-=p?1:0,p}function RH(h){return gx(this,h).get(h)}function LH(h){return gx(this,h).has(h)}function FH(h,p){var S=gx(this,h),k=S.size;return S.set(h,p),this.size+=S.size==k?0:1,this}_o.prototype.clear=IH,_o.prototype.delete=$H,_o.prototype.get=RH,_o.prototype.has=LH,_o.prototype.set=FH;function Kc(h){var p=-1,S=h==null?0:h.length;for(this.__data__=new _o;++p<S;)this.add(h[p])}function BH(h){return this.__data__.set(h,c),this}function zH(h){return this.__data__.has(h)}Kc.prototype.add=Kc.prototype.push=BH,Kc.prototype.has=zH;function la(h){var p=this.__data__=new Co(h);this.size=p.size}function VH(){this.__data__=new Co,this.size=0}function UH(h){var p=this.__data__,S=p.delete(h);return this.size=p.size,S}function qH(h){return this.__data__.get(h)}function WH(h){return this.__data__.has(h)}function HH(h,p){var S=this.__data__;if(S instanceof Co){var k=S.__data__;if(!Pm||k.length<i-1)return k.push([h,p]),this.size=++S.size,this;S=this.__data__=new _o(k)}return S.set(h,p),this.size=S.size,this}la.prototype.clear=VH,la.prototype.delete=UH,la.prototype.get=qH,la.prototype.has=WH,la.prototype.set=HH;function hT(h,p){var S=Mt(h),k=!S&&Zc(h),R=!S&&!k&&El(h),K=!S&&!k&&!R&&Id(h),oe=S||k||R||K,fe=oe?w1(h.length,nH):[],je=fe.length;for(var ke in h)(p||xn.call(h,ke))&&!(oe&&(ke=="length"||R&&(ke=="offset"||ke=="parent")||K&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||ko(ke,je)))&&fe.push(ke);return fe}function fT(h){var p=h.length;return p?h[F1(0,p-1)]:n}function GH(h,p){return vx(Vs(h),Yc(p,0,h.length))}function KH(h){return vx(Vs(h))}function E1(h,p,S){(S!==n&&!ca(h[p],S)||S===n&&!(p in h))&&Po(h,p,S)}function Tm(h,p,S){var k=h[p];(!(xn.call(h,p)&&ca(k,S))||S===n&&!(p in h))&&Po(h,p,S)}function sx(h,p){for(var S=h.length;S--;)if(ca(h[S][0],p))return S;return-1}function YH(h,p,S,k){return Cl(h,function(R,K,oe){p(k,R,S(R),oe)}),k}function mT(h,p){return h&&Ga(p,Rr(p),h)}function QH(h,p){return h&&Ga(p,qs(p),h)}function Po(h,p,S){p=="__proto__"&&Jv?Jv(h,p,{configurable:!0,enumerable:!0,value:S,writable:!0}):h[p]=S}function k1(h,p){for(var S=-1,k=p.length,R=Ce(k),K=h==null;++S<k;)R[S]=K?n:uN(h,p[S]);return R}function Yc(h,p,S){return h===h&&(S!==n&&(h=h<=S?h:S),p!==n&&(h=h>=p?h:p)),h}function Mi(h,p,S,k,R,K){var oe,fe=p&f,je=p&m,ke=p&g;if(S&&(oe=R?S(h,k,R,K):S(h)),oe!==n)return oe;if(!Jn(h))return h;var Te=Mt(h);if(Te){if(oe=LG(h),!fe)return Vs(h,oe)}else{var Re=ls(h),Qe=Re==I||Re==xe;if(El(h))return LT(h,fe);if(Re==it||Re==ve||Qe&&!R){if(oe=je||Qe?{}:rO(h),!fe)return je?PG(h,QH(oe,h)):_G(h,mT(oe,h))}else{if(!Sn[Re])return R?h:{};oe=FG(h,Re,fe)}}K||(K=new la);var ot=K.get(h);if(ot)return ot;K.set(h,oe),OO(h)?h.forEach(function(vt){oe.add(Mi(vt,p,S,vt,h,K))}):kO(h)&&h.forEach(function(vt,Gt){oe.set(Gt,Mi(vt,p,S,Gt,h,K))});var gt=ke?je?Q1:Y1:je?qs:Rr,Bt=Te?n:gt(h);return Ti(Bt||h,function(vt,Gt){Bt&&(Gt=vt,vt=h[Gt]),Tm(oe,Gt,Mi(vt,p,S,Gt,h,K))}),oe}function XH(h){var p=Rr(h);return function(S){return pT(S,h,p)}}function pT(h,p,S){var k=S.length;if(h==null)return!k;for(h=An(h);k--;){var R=S[k],K=p[R],oe=h[R];if(oe===n&&!(R in h)||!K(oe))return!1}return!0}function gT(h,p,S){if(typeof h!="function")throw new Oi(o);return Lm(function(){h.apply(n,S)},p)}function Om(h,p,S,k){var R=-1,K=zv,oe=!0,fe=h.length,je=[],ke=p.length;if(!fe)return je;S&&(p=Un(p,li(S))),k?(K=g1,oe=!1):p.length>=i&&(K=Cm,oe=!1,p=new Kc(p));e:for(;++R<fe;){var Te=h[R],Re=S==null?Te:S(Te);if(Te=k||Te!==0?Te:0,oe&&Re===Re){for(var Qe=ke;Qe--;)if(p[Qe]===Re)continue e;je.push(Te)}else K(p,Re,k)||je.push(Te)}return je}var Cl=UT(Ha),vT=UT(O1,!0);function JH(h,p){var S=!0;return Cl(h,function(k,R,K){return S=!!p(k,R,K),S}),S}function ix(h,p,S){for(var k=-1,R=h.length;++k<R;){var K=h[k],oe=p(K);if(oe!=null&&(fe===n?oe===oe&&!ui(oe):S(oe,fe)))var fe=oe,je=K}return je}function ZH(h,p,S,k){var R=h.length;for(S=Lt(S),S<0&&(S=-S>R?0:R+S),k=k===n||k>R?R:Lt(k),k<0&&(k+=R),k=S>k?0:MO(k);S<k;)h[S++]=p;return h}function xT(h,p){var S=[];return Cl(h,function(k,R,K){p(k,R,K)&&S.push(k)}),S}function Zr(h,p,S,k,R){var K=-1,oe=h.length;for(S||(S=zG),R||(R=[]);++K<oe;){var fe=h[K];p>0&&S(fe)?p>1?Zr(fe,p-1,S,k,R):wl(R,fe):k||(R[R.length]=fe)}return R}var T1=qT(),yT=qT(!0);function Ha(h,p){return h&&T1(h,p,Rr)}function O1(h,p){return h&&yT(h,p,Rr)}function ax(h,p){return bl(p,function(S){return To(h[S])})}function Qc(h,p){p=Pl(p,h);for(var S=0,k=p.length;h!=null&&S<k;)h=h[Ka(p[S++])];return S&&S==k?h:n}function jT(h,p,S){var k=p(h);return Mt(h)?k:wl(k,S(h))}function Ns(h){return h==null?h===n?Yn:Fe:Hc&&Hc in An(h)?IG(h):KG(h)}function D1(h,p){return h>p}function eG(h,p){return h!=null&&xn.call(h,p)}function tG(h,p){return h!=null&&p in An(h)}function nG(h,p,S){return h>=os(p,S)&&h<Cr(p,S)}function M1(h,p,S){for(var k=S?g1:zv,R=h[0].length,K=h.length,oe=K,fe=Ce(K),je=1/0,ke=[];oe--;){var Te=h[oe];oe&&p&&(Te=Un(Te,li(p))),je=os(Te.length,je),fe[oe]=!S&&(p||R>=120&&Te.length>=120)?new Kc(oe&&Te):n}Te=h[0];var Re=-1,Qe=fe[0];e:for(;++Re<R&&ke.length<je;){var ot=Te[Re],gt=p?p(ot):ot;if(ot=S||ot!==0?ot:0,!(Qe?Cm(Qe,gt):k(ke,gt,S))){for(oe=K;--oe;){var Bt=fe[oe];if(!(Bt?Cm(Bt,gt):k(h[oe],gt,S)))continue e}Qe&&Qe.push(gt),ke.push(ot)}}return ke}function rG(h,p,S,k){return Ha(h,function(R,K,oe){p(k,S(R),K,oe)}),k}function Dm(h,p,S){p=Pl(p,h),h=oO(h,p);var k=h==null?h:h[Ka($i(p))];return k==null?n:oi(k,h,S)}function bT(h){return nr(h)&&Ns(h)==ve}function sG(h){return nr(h)&&Ns(h)==ur}function iG(h){return nr(h)&&Ns(h)==Y}function Mm(h,p,S,k,R){return h===p?!0:h==null||p==null||!nr(h)&&!nr(p)?h!==h&&p!==p:aG(h,p,S,k,Mm,R)}function aG(h,p,S,k,R,K){var oe=Mt(h),fe=Mt(p),je=oe?ye:ls(h),ke=fe?ye:ls(p);je=je==ve?it:je,ke=ke==ve?it:ke;var Te=je==it,Re=ke==it,Qe=je==ke;if(Qe&&El(h)){if(!El(p))return!1;oe=!0,Te=!1}if(Qe&&!Te)return K||(K=new la),oe||Id(h)?eO(h,p,S,k,R,K):DG(h,p,je,S,k,R,K);if(!(S&x)){var ot=Te&&xn.call(h,"__wrapped__"),gt=Re&&xn.call(p,"__wrapped__");if(ot||gt){var Bt=ot?h.value():h,vt=gt?p.value():p;return K||(K=new la),R(Bt,vt,S,k,K)}}return Qe?(K||(K=new la),MG(h,p,S,k,R,K)):!1}function oG(h){return nr(h)&&ls(h)==Ne}function I1(h,p,S,k){var R=S.length,K=R,oe=!k;if(h==null)return!K;for(h=An(h);R--;){var fe=S[R];if(oe&&fe[2]?fe[1]!==h[fe[0]]:!(fe[0]in h))return!1}for(;++R<K;){fe=S[R];var je=fe[0],ke=h[je],Te=fe[1];if(oe&&fe[2]){if(ke===n&&!(je in h))return!1}else{var Re=new la;if(k)var Qe=k(ke,Te,je,h,p,Re);if(!(Qe===n?Mm(Te,ke,x|v,k,Re):Qe))return!1}}return!0}function wT(h){if(!Jn(h)||UG(h))return!1;var p=To(h)?oH:Hw;return p.test(Jc(h))}function lG(h){return nr(h)&&Ns(h)==we}function cG(h){return nr(h)&&ls(h)==Ge}function uG(h){return nr(h)&&Nx(h.length)&&!!Pn[Ns(h)]}function NT(h){return typeof h=="function"?h:h==null?Ws:typeof h=="object"?Mt(h)?_T(h[0],h[1]):CT(h):WO(h)}function $1(h){if(!Rm(h))return fH(h);var p=[];for(var S in An(h))xn.call(h,S)&&S!="constructor"&&p.push(S);return p}function dG(h){if(!Jn(h))return GG(h);var p=Rm(h),S=[];for(var k in h)k=="constructor"&&(p||!xn.call(h,k))||S.push(k);return S}function R1(h,p){return h<p}function ST(h,p){var S=-1,k=Us(h)?Ce(h.length):[];return Cl(h,function(R,K,oe){k[++S]=p(R,K,oe)}),k}function CT(h){var p=J1(h);return p.length==1&&p[0][2]?iO(p[0][0],p[0][1]):function(S){return S===h||I1(S,h,p)}}function _T(h,p){return eN(h)&&sO(p)?iO(Ka(h),p):function(S){var k=uN(S,h);return k===n&&k===p?dN(S,h):Mm(p,k,x|v)}}function ox(h,p,S,k,R){h!==p&&T1(p,function(K,oe){if(R||(R=new la),Jn(K))hG(h,p,oe,S,ox,k,R);else{var fe=k?k(nN(h,oe),K,oe+"",h,p,R):n;fe===n&&(fe=K),E1(h,oe,fe)}},qs)}function hG(h,p,S,k,R,K,oe){var fe=nN(h,S),je=nN(p,S),ke=oe.get(je);if(ke){E1(h,S,ke);return}var Te=K?K(fe,je,S+"",h,p,oe):n,Re=Te===n;if(Re){var Qe=Mt(je),ot=!Qe&&El(je),gt=!Qe&&!ot&&Id(je);Te=je,Qe||ot||gt?Mt(fe)?Te=fe:dr(fe)?Te=Vs(fe):ot?(Re=!1,Te=LT(je,!0)):gt?(Re=!1,Te=FT(je,!0)):Te=[]:Fm(je)||Zc(je)?(Te=fe,Zc(fe)?Te=IO(fe):(!Jn(fe)||To(fe))&&(Te=rO(je))):Re=!1}Re&&(oe.set(je,Te),R(Te,je,k,K,oe),oe.delete(je)),E1(h,S,Te)}function PT(h,p){var S=h.length;if(S)return p+=p<0?S:0,ko(p,S)?h[p]:n}function AT(h,p,S){p.length?p=Un(p,function(K){return Mt(K)?function(oe){return Qc(oe,K.length===1?K[0]:K)}:K}):p=[Ws];var k=-1;p=Un(p,li(pt()));var R=ST(h,function(K,oe,fe){var je=Un(p,function(ke){return ke(K)});return{criteria:je,index:++k,value:K}});return F9(R,function(K,oe){return CG(K,oe,S)})}function fG(h,p){return ET(h,p,function(S,k){return dN(h,k)})}function ET(h,p,S){for(var k=-1,R=p.length,K={};++k<R;){var oe=p[k],fe=Qc(h,oe);S(fe,oe)&&Im(K,Pl(oe,h),fe)}return K}function mG(h){return function(p){return Qc(p,h)}}function L1(h,p,S,k){var R=k?L9:Sd,K=-1,oe=p.length,fe=h;for(h===p&&(p=Vs(p)),S&&(fe=Un(h,li(S)));++K<oe;)for(var je=0,ke=p[K],Te=S?S(ke):ke;(je=R(fe,Te,je,k))>-1;)fe!==h&&Xv.call(fe,je,1),Xv.call(h,je,1);return h}function kT(h,p){for(var S=h?p.length:0,k=S-1;S--;){var R=p[S];if(S==k||R!==K){var K=R;ko(R)?Xv.call(h,R,1):V1(h,R)}}return h}function F1(h,p){return h+ex(uT()*(p-h+1))}function pG(h,p,S,k){for(var R=-1,K=Cr(Zv((p-h)/(S||1)),0),oe=Ce(K);K--;)oe[k?K:++R]=h,h+=S;return oe}function B1(h,p){var S="";if(!h||p<1||p>X)return S;do p%2&&(S+=h),p=ex(p/2),p&&(h+=h);while(p);return S}function qt(h,p){return rN(aO(h,p,Ws),h+"")}function gG(h){return fT($d(h))}function vG(h,p){var S=$d(h);return vx(S,Yc(p,0,S.length))}function Im(h,p,S,k){if(!Jn(h))return h;p=Pl(p,h);for(var R=-1,K=p.length,oe=K-1,fe=h;fe!=null&&++R<K;){var je=Ka(p[R]),ke=S;if(je==="__proto__"||je==="constructor"||je==="prototype")return h;if(R!=oe){var Te=fe[je];ke=k?k(Te,je,fe):n,ke===n&&(ke=Jn(Te)?Te:ko(p[R+1])?[]:{})}Tm(fe,je,ke),fe=fe[je]}return h}var TT=tx?function(h,p){return tx.set(h,p),h}:Ws,xG=Jv?function(h,p){return Jv(h,"toString",{configurable:!0,enumerable:!1,value:fN(p),writable:!0})}:Ws;function yG(h){return vx($d(h))}function Ii(h,p,S){var k=-1,R=h.length;p<0&&(p=-p>R?0:R+p),S=S>R?R:S,S<0&&(S+=R),R=p>S?0:S-p>>>0,p>>>=0;for(var K=Ce(R);++k<R;)K[k]=h[k+p];return K}function jG(h,p){var S;return Cl(h,function(k,R,K){return S=p(k,R,K),!S}),!!S}function lx(h,p,S){var k=0,R=h==null?k:h.length;if(typeof p=="number"&&p===p&&R<=J){for(;k<R;){var K=k+R>>>1,oe=h[K];oe!==null&&!ui(oe)&&(S?oe<=p:oe<p)?k=K+1:R=K}return R}return z1(h,p,Ws,S)}function z1(h,p,S,k){var R=0,K=h==null?0:h.length;if(K===0)return 0;p=S(p);for(var oe=p!==p,fe=p===null,je=ui(p),ke=p===n;R<K;){var Te=ex((R+K)/2),Re=S(h[Te]),Qe=Re!==n,ot=Re===null,gt=Re===Re,Bt=ui(Re);if(oe)var vt=k||gt;else ke?vt=gt&&(k||Qe):fe?vt=gt&&Qe&&(k||!ot):je?vt=gt&&Qe&&!ot&&(k||!Bt):ot||Bt?vt=!1:vt=k?Re<=p:Re<p;vt?R=Te+1:K=Te}return os(K,te)}function OT(h,p){for(var S=-1,k=h.length,R=0,K=[];++S<k;){var oe=h[S],fe=p?p(oe):oe;if(!S||!ca(fe,je)){var je=fe;K[R++]=oe===0?0:oe}}return K}function DT(h){return typeof h=="number"?h:ui(h)?ie:+h}function ci(h){if(typeof h=="string")return h;if(Mt(h))return Un(h,ci)+"";if(ui(h))return dT?dT.call(h):"";var p=h+"";return p=="0"&&1/h==-ae?"-0":p}function _l(h,p,S){var k=-1,R=zv,K=h.length,oe=!0,fe=[],je=fe;if(S)oe=!1,R=g1;else if(K>=i){var ke=p?null:TG(h);if(ke)return Uv(ke);oe=!1,R=Cm,je=new Kc}else je=p?[]:fe;e:for(;++k<K;){var Te=h[k],Re=p?p(Te):Te;if(Te=S||Te!==0?Te:0,oe&&Re===Re){for(var Qe=je.length;Qe--;)if(je[Qe]===Re)continue e;p&&je.push(Re),fe.push(Te)}else R(je,Re,S)||(je!==fe&&je.push(Re),fe.push(Te))}return fe}function V1(h,p){return p=Pl(p,h),h=oO(h,p),h==null||delete h[Ka($i(p))]}function MT(h,p,S,k){return Im(h,p,S(Qc(h,p)),k)}function cx(h,p,S,k){for(var R=h.length,K=k?R:-1;(k?K--:++K<R)&&p(h[K],K,h););return S?Ii(h,k?0:K,k?K+1:R):Ii(h,k?K+1:0,k?R:K)}function IT(h,p){var S=h;return S instanceof en&&(S=S.value()),v1(p,function(k,R){return R.func.apply(R.thisArg,wl([k],R.args))},S)}function U1(h,p,S){var k=h.length;if(k<2)return k?_l(h[0]):[];for(var R=-1,K=Ce(k);++R<k;)for(var oe=h[R],fe=-1;++fe<k;)fe!=R&&(K[R]=Om(K[R]||oe,h[fe],p,S));return _l(Zr(K,1),p,S)}function $T(h,p,S){for(var k=-1,R=h.length,K=p.length,oe={};++k<R;){var fe=k<K?p[k]:n;S(oe,h[k],fe)}return oe}function q1(h){return dr(h)?h:[]}function W1(h){return typeof h=="function"?h:Ws}function Pl(h,p){return Mt(h)?h:eN(h,p)?[h]:dO(hn(h))}var bG=qt;function Al(h,p,S){var k=h.length;return S=S===n?k:S,!p&&S>=k?h:Ii(h,p,S)}var RT=lH||function(h){return Jr.clearTimeout(h)};function LT(h,p){if(p)return h.slice();var S=h.length,k=iT?iT(S):new h.constructor(S);return h.copy(k),k}function H1(h){var p=new h.constructor(h.byteLength);return new Yv(p).set(new Yv(h)),p}function wG(h,p){var S=p?H1(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.byteLength)}function NG(h){var p=new h.constructor(h.source,Tv.exec(h));return p.lastIndex=h.lastIndex,p}function SG(h){return km?An(km.call(h)):{}}function FT(h,p){var S=p?H1(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.length)}function BT(h,p){if(h!==p){var S=h!==n,k=h===null,R=h===h,K=ui(h),oe=p!==n,fe=p===null,je=p===p,ke=ui(p);if(!fe&&!ke&&!K&&h>p||K&&oe&&je&&!fe&&!ke||k&&oe&&je||!S&&je||!R)return 1;if(!k&&!K&&!ke&&h<p||ke&&S&&R&&!k&&!K||fe&&S&&R||!oe&&R||!je)return-1}return 0}function CG(h,p,S){for(var k=-1,R=h.criteria,K=p.criteria,oe=R.length,fe=S.length;++k<oe;){var je=BT(R[k],K[k]);if(je){if(k>=fe)return je;var ke=S[k];return je*(ke=="desc"?-1:1)}}return h.index-p.index}function zT(h,p,S,k){for(var R=-1,K=h.length,oe=S.length,fe=-1,je=p.length,ke=Cr(K-oe,0),Te=Ce(je+ke),Re=!k;++fe<je;)Te[fe]=p[fe];for(;++R<oe;)(Re||R<K)&&(Te[S[R]]=h[R]);for(;ke--;)Te[fe++]=h[R++];return Te}function VT(h,p,S,k){for(var R=-1,K=h.length,oe=-1,fe=S.length,je=-1,ke=p.length,Te=Cr(K-fe,0),Re=Ce(Te+ke),Qe=!k;++R<Te;)Re[R]=h[R];for(var ot=R;++je<ke;)Re[ot+je]=p[je];for(;++oe<fe;)(Qe||R<K)&&(Re[ot+S[oe]]=h[R++]);return Re}function Vs(h,p){var S=-1,k=h.length;for(p||(p=Ce(k));++S<k;)p[S]=h[S];return p}function Ga(h,p,S,k){var R=!S;S||(S={});for(var K=-1,oe=p.length;++K<oe;){var fe=p[K],je=k?k(S[fe],h[fe],fe,S,h):n;je===n&&(je=h[fe]),R?Po(S,fe,je):Tm(S,fe,je)}return S}function _G(h,p){return Ga(h,Z1(h),p)}function PG(h,p){return Ga(h,tO(h),p)}function ux(h,p){return function(S,k){var R=Mt(S)?O9:YH,K=p?p():{};return R(S,h,pt(k,2),K)}}function Od(h){return qt(function(p,S){var k=-1,R=S.length,K=R>1?S[R-1]:n,oe=R>2?S[2]:n;for(K=h.length>3&&typeof K=="function"?(R--,K):n,oe&&Ss(S[0],S[1],oe)&&(K=R<3?n:K,R=1),p=An(p);++k<R;){var fe=S[k];fe&&h(p,fe,k,K)}return p})}function UT(h,p){return function(S,k){if(S==null)return S;if(!Us(S))return h(S,k);for(var R=S.length,K=p?R:-1,oe=An(S);(p?K--:++K<R)&&k(oe[K],K,oe)!==!1;);return S}}function qT(h){return function(p,S,k){for(var R=-1,K=An(p),oe=k(p),fe=oe.length;fe--;){var je=oe[h?fe:++R];if(S(K[je],je,K)===!1)break}return p}}function AG(h,p,S){var k=p&y,R=$m(h);function K(){var oe=this&&this!==Jr&&this instanceof K?R:h;return oe.apply(k?S:this,arguments)}return K}function WT(h){return function(p){p=hn(p);var S=Cd(p)?oa(p):n,k=S?S[0]:p.charAt(0),R=S?Al(S,1).join(""):p.slice(1);return k[h]()+R}}function Dd(h){return function(p){return v1(UO(VO(p).replace(i1,"")),h,"")}}function $m(h){return function(){var p=arguments;switch(p.length){case 0:return new h;case 1:return new h(p[0]);case 2:return new h(p[0],p[1]);case 3:return new h(p[0],p[1],p[2]);case 4:return new h(p[0],p[1],p[2],p[3]);case 5:return new h(p[0],p[1],p[2],p[3],p[4]);case 6:return new h(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new h(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var S=Td(h.prototype),k=h.apply(S,p);return Jn(k)?k:S}}function EG(h,p,S){var k=$m(h);function R(){for(var K=arguments.length,oe=Ce(K),fe=K,je=Md(R);fe--;)oe[fe]=arguments[fe];var ke=K<3&&oe[0]!==je&&oe[K-1]!==je?[]:Nl(oe,je);if(K-=ke.length,K<S)return QT(h,p,dx,R.placeholder,n,oe,ke,n,n,S-K);var Te=this&&this!==Jr&&this instanceof R?k:h;return oi(Te,this,oe)}return R}function HT(h){return function(p,S,k){var R=An(p);if(!Us(p)){var K=pt(S,3);p=Rr(p),S=function(fe){return K(R[fe],fe,R)}}var oe=h(p,S,k);return oe>-1?R[K?p[oe]:oe]:n}}function GT(h){return Eo(function(p){var S=p.length,k=S,R=Di.prototype.thru;for(h&&p.reverse();k--;){var K=p[k];if(typeof K!="function")throw new Oi(o);if(R&&!oe&&px(K)=="wrapper")var oe=new Di([],!0)}for(k=oe?k:S;++k<S;){K=p[k];var fe=px(K),je=fe=="wrapper"?X1(K):n;je&&tN(je[0])&&je[1]==(P|j|C|E)&&!je[4].length&&je[9]==1?oe=oe[px(je[0])].apply(oe,je[3]):oe=K.length==1&&tN(K)?oe[fe]():oe.thru(K)}return function(){var ke=arguments,Te=ke[0];if(oe&&ke.length==1&&Mt(Te))return oe.plant(Te).value();for(var Re=0,Qe=S?p[Re].apply(this,ke):Te;++Re<S;)Qe=p[Re].call(this,Qe);return Qe}})}function dx(h,p,S,k,R,K,oe,fe,je,ke){var Te=p&P,Re=p&y,Qe=p&N,ot=p&(j|_),gt=p&M,Bt=Qe?n:$m(h);function vt(){for(var Gt=arguments.length,nn=Ce(Gt),di=Gt;di--;)nn[di]=arguments[di];if(ot)var Cs=Md(vt),hi=z9(nn,Cs);if(k&&(nn=zT(nn,k,R,ot)),K&&(nn=VT(nn,K,oe,ot)),Gt-=hi,ot&&Gt<ke){var hr=Nl(nn,Cs);return QT(h,p,dx,vt.placeholder,S,nn,hr,fe,je,ke-Gt)}var ua=Re?S:this,Do=Qe?ua[h]:h;return Gt=nn.length,fe?nn=YG(nn,fe):gt&&Gt>1&&nn.reverse(),Te&&je<Gt&&(nn.length=je),this&&this!==Jr&&this instanceof vt&&(Do=Bt||$m(Do)),Do.apply(ua,nn)}return vt}function KT(h,p){return function(S,k){return rG(S,h,p(k),{})}}function hx(h,p){return function(S,k){var R;if(S===n&&k===n)return p;if(S!==n&&(R=S),k!==n){if(R===n)return k;typeof S=="string"||typeof k=="string"?(S=ci(S),k=ci(k)):(S=DT(S),k=DT(k)),R=h(S,k)}return R}}function G1(h){return Eo(function(p){return p=Un(p,li(pt())),qt(function(S){var k=this;return h(p,function(R){return oi(R,k,S)})})})}function fx(h,p){p=p===n?" ":ci(p);var S=p.length;if(S<2)return S?B1(p,h):p;var k=B1(p,Zv(h/_d(p)));return Cd(p)?Al(oa(k),0,h).join(""):k.slice(0,h)}function kG(h,p,S,k){var R=p&y,K=$m(h);function oe(){for(var fe=-1,je=arguments.length,ke=-1,Te=k.length,Re=Ce(Te+je),Qe=this&&this!==Jr&&this instanceof oe?K:h;++ke<Te;)Re[ke]=k[ke];for(;je--;)Re[ke++]=arguments[++fe];return oi(Qe,R?S:this,Re)}return oe}function YT(h){return function(p,S,k){return k&&typeof k!="number"&&Ss(p,S,k)&&(S=k=n),p=Oo(p),S===n?(S=p,p=0):S=Oo(S),k=k===n?p<S?1:-1:Oo(k),pG(p,S,k,h)}}function mx(h){return function(p,S){return typeof p=="string"&&typeof S=="string"||(p=Ri(p),S=Ri(S)),h(p,S)}}function QT(h,p,S,k,R,K,oe,fe,je,ke){var Te=p&j,Re=Te?oe:n,Qe=Te?n:oe,ot=Te?K:n,gt=Te?n:K;p|=Te?C:A,p&=~(Te?A:C),p&b||(p&=~(y|N));var Bt=[h,p,R,ot,Re,gt,Qe,fe,je,ke],vt=S.apply(n,Bt);return tN(h)&&lO(vt,Bt),vt.placeholder=k,cO(vt,h,p)}function K1(h){var p=Sr[h];return function(S,k){if(S=Ri(S),k=k==null?0:os(Lt(k),292),k&&cT(S)){var R=(hn(S)+"e").split("e"),K=p(R[0]+"e"+(+R[1]+k));return R=(hn(K)+"e").split("e"),+(R[0]+"e"+(+R[1]-k))}return p(S)}}var TG=Ed&&1/Uv(new Ed([,-0]))[1]==ae?function(h){return new Ed(h)}:gN;function XT(h){return function(p){var S=ls(p);return S==Ne?S1(p):S==Ge?K9(p):B9(p,h(p))}}function Ao(h,p,S,k,R,K,oe,fe){var je=p&N;if(!je&&typeof h!="function")throw new Oi(o);var ke=k?k.length:0;if(ke||(p&=~(C|A),k=R=n),oe=oe===n?oe:Cr(Lt(oe),0),fe=fe===n?fe:Lt(fe),ke-=R?R.length:0,p&A){var Te=k,Re=R;k=R=n}var Qe=je?n:X1(h),ot=[h,p,S,k,R,Te,Re,K,oe,fe];if(Qe&&HG(ot,Qe),h=ot[0],p=ot[1],S=ot[2],k=ot[3],R=ot[4],fe=ot[9]=ot[9]===n?je?0:h.length:Cr(ot[9]-ke,0),!fe&&p&(j|_)&&(p&=~(j|_)),!p||p==y)var gt=AG(h,p,S);else p==j||p==_?gt=EG(h,p,fe):(p==C||p==(y|C))&&!R.length?gt=kG(h,p,S,k):gt=dx.apply(n,ot);var Bt=Qe?TT:lO;return cO(Bt(gt,ot),h,p)}function JT(h,p,S,k){return h===n||ca(h,Ad[S])&&!xn.call(k,S)?p:h}function ZT(h,p,S,k,R,K){return Jn(h)&&Jn(p)&&(K.set(p,h),ox(h,p,n,ZT,K),K.delete(p)),h}function OG(h){return Fm(h)?n:h}function eO(h,p,S,k,R,K){var oe=S&x,fe=h.length,je=p.length;if(fe!=je&&!(oe&&je>fe))return!1;var ke=K.get(h),Te=K.get(p);if(ke&&Te)return ke==p&&Te==h;var Re=-1,Qe=!0,ot=S&v?new Kc:n;for(K.set(h,p),K.set(p,h);++Re<fe;){var gt=h[Re],Bt=p[Re];if(k)var vt=oe?k(Bt,gt,Re,p,h,K):k(gt,Bt,Re,h,p,K);if(vt!==n){if(vt)continue;Qe=!1;break}if(ot){if(!x1(p,function(Gt,nn){if(!Cm(ot,nn)&&(gt===Gt||R(gt,Gt,S,k,K)))return ot.push(nn)})){Qe=!1;break}}else if(!(gt===Bt||R(gt,Bt,S,k,K))){Qe=!1;break}}return K.delete(h),K.delete(p),Qe}function DG(h,p,S,k,R,K,oe){switch(S){case Qn:if(h.byteLength!=p.byteLength||h.byteOffset!=p.byteOffset)return!1;h=h.buffer,p=p.buffer;case ur:return!(h.byteLength!=p.byteLength||!K(new Yv(h),new Yv(p)));case z:case Y:case Be:return ca(+h,+p);case G:return h.name==p.name&&h.message==p.message;case we:case Ke:return h==p+"";case Ne:var fe=S1;case Ge:var je=k&x;if(fe||(fe=Uv),h.size!=p.size&&!je)return!1;var ke=oe.get(h);if(ke)return ke==p;k|=v,oe.set(h,p);var Te=eO(fe(h),fe(p),k,R,K,oe);return oe.delete(h),Te;case Ht:if(km)return km.call(h)==km.call(p)}return!1}function MG(h,p,S,k,R,K){var oe=S&x,fe=Y1(h),je=fe.length,ke=Y1(p),Te=ke.length;if(je!=Te&&!oe)return!1;for(var Re=je;Re--;){var Qe=fe[Re];if(!(oe?Qe in p:xn.call(p,Qe)))return!1}var ot=K.get(h),gt=K.get(p);if(ot&&gt)return ot==p&&gt==h;var Bt=!0;K.set(h,p),K.set(p,h);for(var vt=oe;++Re<je;){Qe=fe[Re];var Gt=h[Qe],nn=p[Qe];if(k)var di=oe?k(nn,Gt,Qe,p,h,K):k(Gt,nn,Qe,h,p,K);if(!(di===n?Gt===nn||R(Gt,nn,S,k,K):di)){Bt=!1;break}vt||(vt=Qe=="constructor")}if(Bt&&!vt){var Cs=h.constructor,hi=p.constructor;Cs!=hi&&"constructor"in h&&"constructor"in p&&!(typeof Cs=="function"&&Cs instanceof Cs&&typeof hi=="function"&&hi instanceof hi)&&(Bt=!1)}return K.delete(h),K.delete(p),Bt}function Eo(h){return rN(aO(h,n,pO),h+"")}function Y1(h){return jT(h,Rr,Z1)}function Q1(h){return jT(h,qs,tO)}var X1=tx?function(h){return tx.get(h)}:gN;function px(h){for(var p=h.name+"",S=kd[p],k=xn.call(kd,p)?S.length:0;k--;){var R=S[k],K=R.func;if(K==null||K==h)return R.name}return p}function Md(h){var p=xn.call(q,"placeholder")?q:h;return p.placeholder}function pt(){var h=q.iteratee||mN;return h=h===mN?NT:h,arguments.length?h(arguments[0],arguments[1]):h}function gx(h,p){var S=h.__data__;return VG(p)?S[typeof p=="string"?"string":"hash"]:S.map}function J1(h){for(var p=Rr(h),S=p.length;S--;){var k=p[S],R=h[k];p[S]=[k,R,sO(R)]}return p}function Xc(h,p){var S=W9(h,p);return wT(S)?S:n}function IG(h){var p=xn.call(h,Hc),S=h[Hc];try{h[Hc]=n;var k=!0}catch{}var R=Gv.call(h);return k&&(p?h[Hc]=S:delete h[Hc]),R}var Z1=_1?function(h){return h==null?[]:(h=An(h),bl(_1(h),function(p){return oT.call(h,p)}))}:vN,tO=_1?function(h){for(var p=[];h;)wl(p,Z1(h)),h=Qv(h);return p}:vN,ls=Ns;(P1&&ls(new P1(new ArrayBuffer(1)))!=Qn||Pm&&ls(new Pm)!=Ne||A1&&ls(A1.resolve())!=lt||Ed&&ls(new Ed)!=Ge||Am&&ls(new Am)!=Et)&&(ls=function(h){var p=Ns(h),S=p==it?h.constructor:n,k=S?Jc(S):"";if(k)switch(k){case vH:return Qn;case xH:return Ne;case yH:return lt;case jH:return Ge;case bH:return Et}return p});function $G(h,p,S){for(var k=-1,R=S.length;++k<R;){var K=S[k],oe=K.size;switch(K.type){case"drop":h+=oe;break;case"dropRight":p-=oe;break;case"take":p=os(p,h+oe);break;case"takeRight":h=Cr(h,p-oe);break}}return{start:h,end:p}}function RG(h){var p=h.match(Lw);return p?p[1].split(Fw):[]}function nO(h,p,S){p=Pl(p,h);for(var k=-1,R=p.length,K=!1;++k<R;){var oe=Ka(p[k]);if(!(K=h!=null&&S(h,oe)))break;h=h[oe]}return K||++k!=R?K:(R=h==null?0:h.length,!!R&&Nx(R)&&ko(oe,R)&&(Mt(h)||Zc(h)))}function LG(h){var p=h.length,S=new h.constructor(p);return p&&typeof h[0]=="string"&&xn.call(h,"index")&&(S.index=h.index,S.input=h.input),S}function rO(h){return typeof h.constructor=="function"&&!Rm(h)?Td(Qv(h)):{}}function FG(h,p,S){var k=h.constructor;switch(p){case ur:return H1(h);case z:case Y:return new k(+h);case Qn:return wG(h,S);case ys:case Se:case Ut:case tt:case mt:case sn:case as:case Qr:case Bs:return FT(h,S);case Ne:return new k;case Be:case Ke:return new k(h);case we:return NG(h);case Ge:return new k;case Ht:return SG(h)}}function BG(h,p){var S=p.length;if(!S)return h;var k=S-1;return p[k]=(S>1?"& ":"")+p[k],p=p.join(S>2?", ":" "),h.replace(Rw,`{
/* [wrapped with `+p+`] */
`)}function zG(h){return Mt(h)||Zc(h)||!!(lT&&h&&h[lT])}function ko(h,p){var S=typeof h;return p=p??X,!!p&&(S=="number"||S!="symbol"&&yd.test(h))&&h>-1&&h%1==0&&h<p}function Ss(h,p,S){if(!Jn(S))return!1;var k=typeof p;return(k=="number"?Us(S)&&ko(p,S.length):k=="string"&&p in S)?ca(S[p],h):!1}function eN(h,p){if(Mt(h))return!1;var S=typeof h;return S=="number"||S=="symbol"||S=="boolean"||h==null||ui(h)?!0:bs.test(h)||!js.test(h)||p!=null&&h in An(p)}function VG(h){var p=typeof h;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?h!=="__proto__":h===null}function tN(h){var p=px(h),S=q[p];if(typeof S!="function"||!(p in en.prototype))return!1;if(h===S)return!0;var k=X1(S);return!!k&&h===k[0]}function UG(h){return!!sT&&sT in h}var qG=Wv?To:xN;function Rm(h){var p=h&&h.constructor,S=typeof p=="function"&&p.prototype||Ad;return h===S}function sO(h){return h===h&&!Jn(h)}function iO(h,p){return function(S){return S==null?!1:S[h]===p&&(p!==n||h in An(S))}}function WG(h){var p=bx(h,function(k){return S.size===u&&S.clear(),k}),S=p.cache;return p}function HG(h,p){var S=h[1],k=p[1],R=S|k,K=R<(y|N|P),oe=k==P&&S==j||k==P&&S==E&&h[7].length<=p[8]||k==(P|E)&&p[7].length<=p[8]&&S==j;if(!(K||oe))return h;k&y&&(h[2]=p[2],R|=S&y?0:b);var fe=p[3];if(fe){var je=h[3];h[3]=je?zT(je,fe,p[4]):fe,h[4]=je?Nl(h[3],d):p[4]}return fe=p[5],fe&&(je=h[5],h[5]=je?VT(je,fe,p[6]):fe,h[6]=je?Nl(h[5],d):p[6]),fe=p[7],fe&&(h[7]=fe),k&P&&(h[8]=h[8]==null?p[8]:os(h[8],p[8])),h[9]==null&&(h[9]=p[9]),h[0]=p[0],h[1]=R,h}function GG(h){var p=[];if(h!=null)for(var S in An(h))p.push(S);return p}function KG(h){return Gv.call(h)}function aO(h,p,S){return p=Cr(p===n?h.length-1:p,0),function(){for(var k=arguments,R=-1,K=Cr(k.length-p,0),oe=Ce(K);++R<K;)oe[R]=k[p+R];R=-1;for(var fe=Ce(p+1);++R<p;)fe[R]=k[R];return fe[p]=S(oe),oi(h,this,fe)}}function oO(h,p){return p.length<2?h:Qc(h,Ii(p,0,-1))}function YG(h,p){for(var S=h.length,k=os(p.length,S),R=Vs(h);k--;){var K=p[k];h[k]=ko(K,S)?R[K]:n}return h}function nN(h,p){if(!(p==="constructor"&&typeof h[p]=="function")&&p!="__proto__")return h[p]}var lO=uO(TT),Lm=uH||function(h,p){return Jr.setTimeout(h,p)},rN=uO(xG);function cO(h,p,S){var k=p+"";return rN(h,BG(k,QG(RG(k),S)))}function uO(h){var p=0,S=0;return function(){var k=mH(),R=L-(k-S);if(S=k,R>0){if(++p>=O)return arguments[0]}else p=0;return h.apply(n,arguments)}}function vx(h,p){var S=-1,k=h.length,R=k-1;for(p=p===n?k:p;++S<p;){var K=F1(S,R),oe=h[K];h[K]=h[S],h[S]=oe}return h.length=p,h}var dO=WG(function(h){var p=[];return h.charCodeAt(0)===46&&p.push(""),h.replace(Ei,function(S,k,R,K){p.push(R?K.replace(Vw,"$1"):k||S)}),p});function Ka(h){if(typeof h=="string"||ui(h))return h;var p=h+"";return p=="0"&&1/h==-ae?"-0":p}function Jc(h){if(h!=null){try{return Hv.call(h)}catch{}try{return h+""}catch{}}return""}function QG(h,p){return Ti(ne,function(S){var k="_."+S[0];p&S[1]&&!zv(h,k)&&h.push(k)}),h.sort()}function hO(h){if(h instanceof en)return h.clone();var p=new Di(h.__wrapped__,h.__chain__);return p.__actions__=Vs(h.__actions__),p.__index__=h.__index__,p.__values__=h.__values__,p}function XG(h,p,S){(S?Ss(h,p,S):p===n)?p=1:p=Cr(Lt(p),0);var k=h==null?0:h.length;if(!k||p<1)return[];for(var R=0,K=0,oe=Ce(Zv(k/p));R<k;)oe[K++]=Ii(h,R,R+=p);return oe}function JG(h){for(var p=-1,S=h==null?0:h.length,k=0,R=[];++p<S;){var K=h[p];K&&(R[k++]=K)}return R}function ZG(){var h=arguments.length;if(!h)return[];for(var p=Ce(h-1),S=arguments[0],k=h;k--;)p[k-1]=arguments[k];return wl(Mt(S)?Vs(S):[S],Zr(p,1))}var eK=qt(function(h,p){return dr(h)?Om(h,Zr(p,1,dr,!0)):[]}),tK=qt(function(h,p){var S=$i(p);return dr(S)&&(S=n),dr(h)?Om(h,Zr(p,1,dr,!0),pt(S,2)):[]}),nK=qt(function(h,p){var S=$i(p);return dr(S)&&(S=n),dr(h)?Om(h,Zr(p,1,dr,!0),n,S):[]});function rK(h,p,S){var k=h==null?0:h.length;return k?(p=S||p===n?1:Lt(p),Ii(h,p<0?0:p,k)):[]}function sK(h,p,S){var k=h==null?0:h.length;return k?(p=S||p===n?1:Lt(p),p=k-p,Ii(h,0,p<0?0:p)):[]}function iK(h,p){return h&&h.length?cx(h,pt(p,3),!0,!0):[]}function aK(h,p){return h&&h.length?cx(h,pt(p,3),!0):[]}function oK(h,p,S,k){var R=h==null?0:h.length;return R?(S&&typeof S!="number"&&Ss(h,p,S)&&(S=0,k=R),ZH(h,p,S,k)):[]}function fO(h,p,S){var k=h==null?0:h.length;if(!k)return-1;var R=S==null?0:Lt(S);return R<0&&(R=Cr(k+R,0)),Vv(h,pt(p,3),R)}function mO(h,p,S){var k=h==null?0:h.length;if(!k)return-1;var R=k-1;return S!==n&&(R=Lt(S),R=S<0?Cr(k+R,0):os(R,k-1)),Vv(h,pt(p,3),R,!0)}function pO(h){var p=h==null?0:h.length;return p?Zr(h,1):[]}function lK(h){var p=h==null?0:h.length;return p?Zr(h,ae):[]}function cK(h,p){var S=h==null?0:h.length;return S?(p=p===n?1:Lt(p),Zr(h,p)):[]}function uK(h){for(var p=-1,S=h==null?0:h.length,k={};++p<S;){var R=h[p];k[R[0]]=R[1]}return k}function gO(h){return h&&h.length?h[0]:n}function dK(h,p,S){var k=h==null?0:h.length;if(!k)return-1;var R=S==null?0:Lt(S);return R<0&&(R=Cr(k+R,0)),Sd(h,p,R)}function hK(h){var p=h==null?0:h.length;return p?Ii(h,0,-1):[]}var fK=qt(function(h){var p=Un(h,q1);return p.length&&p[0]===h[0]?M1(p):[]}),mK=qt(function(h){var p=$i(h),S=Un(h,q1);return p===$i(S)?p=n:S.pop(),S.length&&S[0]===h[0]?M1(S,pt(p,2)):[]}),pK=qt(function(h){var p=$i(h),S=Un(h,q1);return p=typeof p=="function"?p:n,p&&S.pop(),S.length&&S[0]===h[0]?M1(S,n,p):[]});function gK(h,p){return h==null?"":hH.call(h,p)}function $i(h){var p=h==null?0:h.length;return p?h[p-1]:n}function vK(h,p,S){var k=h==null?0:h.length;if(!k)return-1;var R=k;return S!==n&&(R=Lt(S),R=R<0?Cr(k+R,0):os(R,k-1)),p===p?Q9(h,p,R):Vv(h,Qk,R,!0)}function xK(h,p){return h&&h.length?PT(h,Lt(p)):n}var yK=qt(vO);function vO(h,p){return h&&h.length&&p&&p.length?L1(h,p):h}function jK(h,p,S){return h&&h.length&&p&&p.length?L1(h,p,pt(S,2)):h}function bK(h,p,S){return h&&h.length&&p&&p.length?L1(h,p,n,S):h}var wK=Eo(function(h,p){var S=h==null?0:h.length,k=k1(h,p);return kT(h,Un(p,function(R){return ko(R,S)?+R:R}).sort(BT)),k});function NK(h,p){var S=[];if(!(h&&h.length))return S;var k=-1,R=[],K=h.length;for(p=pt(p,3);++k<K;){var oe=h[k];p(oe,k,h)&&(S.push(oe),R.push(k))}return kT(h,R),S}function sN(h){return h==null?h:gH.call(h)}function SK(h,p,S){var k=h==null?0:h.length;return k?(S&&typeof S!="number"&&Ss(h,p,S)?(p=0,S=k):(p=p==null?0:Lt(p),S=S===n?k:Lt(S)),Ii(h,p,S)):[]}function CK(h,p){return lx(h,p)}function _K(h,p,S){return z1(h,p,pt(S,2))}function PK(h,p){var S=h==null?0:h.length;if(S){var k=lx(h,p);if(k<S&&ca(h[k],p))return k}return-1}function AK(h,p){return lx(h,p,!0)}function EK(h,p,S){return z1(h,p,pt(S,2),!0)}function kK(h,p){var S=h==null?0:h.length;if(S){var k=lx(h,p,!0)-1;if(ca(h[k],p))return k}return-1}function TK(h){return h&&h.length?OT(h):[]}function OK(h,p){return h&&h.length?OT(h,pt(p,2)):[]}function DK(h){var p=h==null?0:h.length;return p?Ii(h,1,p):[]}function MK(h,p,S){return h&&h.length?(p=S||p===n?1:Lt(p),Ii(h,0,p<0?0:p)):[]}function IK(h,p,S){var k=h==null?0:h.length;return k?(p=S||p===n?1:Lt(p),p=k-p,Ii(h,p<0?0:p,k)):[]}function $K(h,p){return h&&h.length?cx(h,pt(p,3),!1,!0):[]}function RK(h,p){return h&&h.length?cx(h,pt(p,3)):[]}var LK=qt(function(h){return _l(Zr(h,1,dr,!0))}),FK=qt(function(h){var p=$i(h);return dr(p)&&(p=n),_l(Zr(h,1,dr,!0),pt(p,2))}),BK=qt(function(h){var p=$i(h);return p=typeof p=="function"?p:n,_l(Zr(h,1,dr,!0),n,p)});function zK(h){return h&&h.length?_l(h):[]}function VK(h,p){return h&&h.length?_l(h,pt(p,2)):[]}function UK(h,p){return p=typeof p=="function"?p:n,h&&h.length?_l(h,n,p):[]}function iN(h){if(!(h&&h.length))return[];var p=0;return h=bl(h,function(S){if(dr(S))return p=Cr(S.length,p),!0}),w1(p,function(S){return Un(h,y1(S))})}function xO(h,p){if(!(h&&h.length))return[];var S=iN(h);return p==null?S:Un(S,function(k){return oi(p,n,k)})}var qK=qt(function(h,p){return dr(h)?Om(h,p):[]}),WK=qt(function(h){return U1(bl(h,dr))}),HK=qt(function(h){var p=$i(h);return dr(p)&&(p=n),U1(bl(h,dr),pt(p,2))}),GK=qt(function(h){var p=$i(h);return p=typeof p=="function"?p:n,U1(bl(h,dr),n,p)}),KK=qt(iN);function YK(h,p){return $T(h||[],p||[],Tm)}function QK(h,p){return $T(h||[],p||[],Im)}var XK=qt(function(h){var p=h.length,S=p>1?h[p-1]:n;return S=typeof S=="function"?(h.pop(),S):n,xO(h,S)});function yO(h){var p=q(h);return p.__chain__=!0,p}function JK(h,p){return p(h),h}function xx(h,p){return p(h)}var ZK=Eo(function(h){var p=h.length,S=p?h[0]:0,k=this.__wrapped__,R=function(K){return k1(K,h)};return p>1||this.__actions__.length||!(k instanceof en)||!ko(S)?this.thru(R):(k=k.slice(S,+S+(p?1:0)),k.__actions__.push({func:xx,args:[R],thisArg:n}),new Di(k,this.__chain__).thru(function(K){return p&&!K.length&&K.push(n),K}))});function eY(){return yO(this)}function tY(){return new Di(this.value(),this.__chain__)}function nY(){this.__values__===n&&(this.__values__=DO(this.value()));var h=this.__index__>=this.__values__.length,p=h?n:this.__values__[this.__index__++];return{done:h,value:p}}function rY(){return this}function sY(h){for(var p,S=this;S instanceof rx;){var k=hO(S);k.__index__=0,k.__values__=n,p?R.__wrapped__=k:p=k;var R=k;S=S.__wrapped__}return R.__wrapped__=h,p}function iY(){var h=this.__wrapped__;if(h instanceof en){var p=h;return this.__actions__.length&&(p=new en(this)),p=p.reverse(),p.__actions__.push({func:xx,args:[sN],thisArg:n}),new Di(p,this.__chain__)}return this.thru(sN)}function aY(){return IT(this.__wrapped__,this.__actions__)}var oY=ux(function(h,p,S){xn.call(h,S)?++h[S]:Po(h,S,1)});function lY(h,p,S){var k=Mt(h)?Kk:JH;return S&&Ss(h,p,S)&&(p=n),k(h,pt(p,3))}function cY(h,p){var S=Mt(h)?bl:xT;return S(h,pt(p,3))}var uY=HT(fO),dY=HT(mO);function hY(h,p){return Zr(yx(h,p),1)}function fY(h,p){return Zr(yx(h,p),ae)}function mY(h,p,S){return S=S===n?1:Lt(S),Zr(yx(h,p),S)}function jO(h,p){var S=Mt(h)?Ti:Cl;return S(h,pt(p,3))}function bO(h,p){var S=Mt(h)?D9:vT;return S(h,pt(p,3))}var pY=ux(function(h,p,S){xn.call(h,S)?h[S].push(p):Po(h,S,[p])});function gY(h,p,S,k){h=Us(h)?h:$d(h),S=S&&!k?Lt(S):0;var R=h.length;return S<0&&(S=Cr(R+S,0)),Sx(h)?S<=R&&h.indexOf(p,S)>-1:!!R&&Sd(h,p,S)>-1}var vY=qt(function(h,p,S){var k=-1,R=typeof p=="function",K=Us(h)?Ce(h.length):[];return Cl(h,function(oe){K[++k]=R?oi(p,oe,S):Dm(oe,p,S)}),K}),xY=ux(function(h,p,S){Po(h,S,p)});function yx(h,p){var S=Mt(h)?Un:ST;return S(h,pt(p,3))}function yY(h,p,S,k){return h==null?[]:(Mt(p)||(p=p==null?[]:[p]),S=k?n:S,Mt(S)||(S=S==null?[]:[S]),AT(h,p,S))}var jY=ux(function(h,p,S){h[S?0:1].push(p)},function(){return[[],[]]});function bY(h,p,S){var k=Mt(h)?v1:Jk,R=arguments.length<3;return k(h,pt(p,4),S,R,Cl)}function wY(h,p,S){var k=Mt(h)?M9:Jk,R=arguments.length<3;return k(h,pt(p,4),S,R,vT)}function NY(h,p){var S=Mt(h)?bl:xT;return S(h,wx(pt(p,3)))}function SY(h){var p=Mt(h)?fT:gG;return p(h)}function CY(h,p,S){(S?Ss(h,p,S):p===n)?p=1:p=Lt(p);var k=Mt(h)?GH:vG;return k(h,p)}function _Y(h){var p=Mt(h)?KH:yG;return p(h)}function PY(h){if(h==null)return 0;if(Us(h))return Sx(h)?_d(h):h.length;var p=ls(h);return p==Ne||p==Ge?h.size:$1(h).length}function AY(h,p,S){var k=Mt(h)?x1:jG;return S&&Ss(h,p,S)&&(p=n),k(h,pt(p,3))}var EY=qt(function(h,p){if(h==null)return[];var S=p.length;return S>1&&Ss(h,p[0],p[1])?p=[]:S>2&&Ss(p[0],p[1],p[2])&&(p=[p[0]]),AT(h,Zr(p,1),[])}),jx=cH||function(){return Jr.Date.now()};function kY(h,p){if(typeof p!="function")throw new Oi(o);return h=Lt(h),function(){if(--h<1)return p.apply(this,arguments)}}function wO(h,p,S){return p=S?n:p,p=h&&p==null?h.length:p,Ao(h,P,n,n,n,n,p)}function NO(h,p){var S;if(typeof p!="function")throw new Oi(o);return h=Lt(h),function(){return--h>0&&(S=p.apply(this,arguments)),h<=1&&(p=n),S}}var aN=qt(function(h,p,S){var k=y;if(S.length){var R=Nl(S,Md(aN));k|=C}return Ao(h,k,p,S,R)}),SO=qt(function(h,p,S){var k=y|N;if(S.length){var R=Nl(S,Md(SO));k|=C}return Ao(p,k,h,S,R)});function CO(h,p,S){p=S?n:p;var k=Ao(h,j,n,n,n,n,n,p);return k.placeholder=CO.placeholder,k}function _O(h,p,S){p=S?n:p;var k=Ao(h,_,n,n,n,n,n,p);return k.placeholder=_O.placeholder,k}function PO(h,p,S){var k,R,K,oe,fe,je,ke=0,Te=!1,Re=!1,Qe=!0;if(typeof h!="function")throw new Oi(o);p=Ri(p)||0,Jn(S)&&(Te=!!S.leading,Re="maxWait"in S,K=Re?Cr(Ri(S.maxWait)||0,p):K,Qe="trailing"in S?!!S.trailing:Qe);function ot(hr){var ua=k,Do=R;return k=R=n,ke=hr,oe=h.apply(Do,ua),oe}function gt(hr){return ke=hr,fe=Lm(Gt,p),Te?ot(hr):oe}function Bt(hr){var ua=hr-je,Do=hr-ke,HO=p-ua;return Re?os(HO,K-Do):HO}function vt(hr){var ua=hr-je,Do=hr-ke;return je===n||ua>=p||ua<0||Re&&Do>=K}function Gt(){var hr=jx();if(vt(hr))return nn(hr);fe=Lm(Gt,Bt(hr))}function nn(hr){return fe=n,Qe&&k?ot(hr):(k=R=n,oe)}function di(){fe!==n&&RT(fe),ke=0,k=je=R=fe=n}function Cs(){return fe===n?oe:nn(jx())}function hi(){var hr=jx(),ua=vt(hr);if(k=arguments,R=this,je=hr,ua){if(fe===n)return gt(je);if(Re)return RT(fe),fe=Lm(Gt,p),ot(je)}return fe===n&&(fe=Lm(Gt,p)),oe}return hi.cancel=di,hi.flush=Cs,hi}var TY=qt(function(h,p){return gT(h,1,p)}),OY=qt(function(h,p,S){return gT(h,Ri(p)||0,S)});function DY(h){return Ao(h,M)}function bx(h,p){if(typeof h!="function"||p!=null&&typeof p!="function")throw new Oi(o);var S=function(){var k=arguments,R=p?p.apply(this,k):k[0],K=S.cache;if(K.has(R))return K.get(R);var oe=h.apply(this,k);return S.cache=K.set(R,oe)||K,oe};return S.cache=new(bx.Cache||_o),S}bx.Cache=_o;function wx(h){if(typeof h!="function")throw new Oi(o);return function(){var p=arguments;switch(p.length){case 0:return!h.call(this);case 1:return!h.call(this,p[0]);case 2:return!h.call(this,p[0],p[1]);case 3:return!h.call(this,p[0],p[1],p[2])}return!h.apply(this,p)}}function MY(h){return NO(2,h)}var IY=bG(function(h,p){p=p.length==1&&Mt(p[0])?Un(p[0],li(pt())):Un(Zr(p,1),li(pt()));var S=p.length;return qt(function(k){for(var R=-1,K=os(k.length,S);++R<K;)k[R]=p[R].call(this,k[R]);return oi(h,this,k)})}),oN=qt(function(h,p){var S=Nl(p,Md(oN));return Ao(h,C,n,p,S)}),AO=qt(function(h,p){var S=Nl(p,Md(AO));return Ao(h,A,n,p,S)}),$Y=Eo(function(h,p){return Ao(h,E,n,n,n,p)});function RY(h,p){if(typeof h!="function")throw new Oi(o);return p=p===n?p:Lt(p),qt(h,p)}function LY(h,p){if(typeof h!="function")throw new Oi(o);return p=p==null?0:Cr(Lt(p),0),qt(function(S){var k=S[p],R=Al(S,0,p);return k&&wl(R,k),oi(h,this,R)})}function FY(h,p,S){var k=!0,R=!0;if(typeof h!="function")throw new Oi(o);return Jn(S)&&(k="leading"in S?!!S.leading:k,R="trailing"in S?!!S.trailing:R),PO(h,p,{leading:k,maxWait:p,trailing:R})}function BY(h){return wO(h,1)}function zY(h,p){return oN(W1(p),h)}function VY(){if(!arguments.length)return[];var h=arguments[0];return Mt(h)?h:[h]}function UY(h){return Mi(h,g)}function qY(h,p){return p=typeof p=="function"?p:n,Mi(h,g,p)}function WY(h){return Mi(h,f|g)}function HY(h,p){return p=typeof p=="function"?p:n,Mi(h,f|g,p)}function GY(h,p){return p==null||pT(h,p,Rr(p))}function ca(h,p){return h===p||h!==h&&p!==p}var KY=mx(D1),YY=mx(function(h,p){return h>=p}),Zc=bT(function(){return arguments}())?bT:function(h){return nr(h)&&xn.call(h,"callee")&&!oT.call(h,"callee")},Mt=Ce.isArray,QY=Vk?li(Vk):sG;function Us(h){return h!=null&&Nx(h.length)&&!To(h)}function dr(h){return nr(h)&&Us(h)}function XY(h){return h===!0||h===!1||nr(h)&&Ns(h)==z}var El=dH||xN,JY=Uk?li(Uk):iG;function ZY(h){return nr(h)&&h.nodeType===1&&!Fm(h)}function eQ(h){if(h==null)return!0;if(Us(h)&&(Mt(h)||typeof h=="string"||typeof h.splice=="function"||El(h)||Id(h)||Zc(h)))return!h.length;var p=ls(h);if(p==Ne||p==Ge)return!h.size;if(Rm(h))return!$1(h).length;for(var S in h)if(xn.call(h,S))return!1;return!0}function tQ(h,p){return Mm(h,p)}function nQ(h,p,S){S=typeof S=="function"?S:n;var k=S?S(h,p):n;return k===n?Mm(h,p,n,S):!!k}function lN(h){if(!nr(h))return!1;var p=Ns(h);return p==G||p==ee||typeof h.message=="string"&&typeof h.name=="string"&&!Fm(h)}function rQ(h){return typeof h=="number"&&cT(h)}function To(h){if(!Jn(h))return!1;var p=Ns(h);return p==I||p==xe||p==be||p==ft}function EO(h){return typeof h=="number"&&h==Lt(h)}function Nx(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=X}function Jn(h){var p=typeof h;return h!=null&&(p=="object"||p=="function")}function nr(h){return h!=null&&typeof h=="object"}var kO=qk?li(qk):oG;function sQ(h,p){return h===p||I1(h,p,J1(p))}function iQ(h,p,S){return S=typeof S=="function"?S:n,I1(h,p,J1(p),S)}function aQ(h){return TO(h)&&h!=+h}function oQ(h){if(qG(h))throw new kt(a);return wT(h)}function lQ(h){return h===null}function cQ(h){return h==null}function TO(h){return typeof h=="number"||nr(h)&&Ns(h)==Be}function Fm(h){if(!nr(h)||Ns(h)!=it)return!1;var p=Qv(h);if(p===null)return!0;var S=xn.call(p,"constructor")&&p.constructor;return typeof S=="function"&&S instanceof S&&Hv.call(S)==iH}var cN=Wk?li(Wk):lG;function uQ(h){return EO(h)&&h>=-X&&h<=X}var OO=Hk?li(Hk):cG;function Sx(h){return typeof h=="string"||!Mt(h)&&nr(h)&&Ns(h)==Ke}function ui(h){return typeof h=="symbol"||nr(h)&&Ns(h)==Ht}var Id=Gk?li(Gk):uG;function dQ(h){return h===n}function hQ(h){return nr(h)&&ls(h)==Et}function fQ(h){return nr(h)&&Ns(h)==Nn}var mQ=mx(R1),pQ=mx(function(h,p){return h<=p});function DO(h){if(!h)return[];if(Us(h))return Sx(h)?oa(h):Vs(h);if(_m&&h[_m])return G9(h[_m]());var p=ls(h),S=p==Ne?S1:p==Ge?Uv:$d;return S(h)}function Oo(h){if(!h)return h===0?h:0;if(h=Ri(h),h===ae||h===-ae){var p=h<0?-1:1;return p*D}return h===h?h:0}function Lt(h){var p=Oo(h),S=p%1;return p===p?S?p-S:p:0}function MO(h){return h?Yc(Lt(h),0,me):0}function Ri(h){if(typeof h=="number")return h;if(ui(h))return ie;if(Jn(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=Jn(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=Zk(h);var S=Ww.test(h);return S||jm.test(h)?k9(h.slice(2),S?2:8):qw.test(h)?ie:+h}function IO(h){return Ga(h,qs(h))}function gQ(h){return h?Yc(Lt(h),-X,X):h===0?h:0}function hn(h){return h==null?"":ci(h)}var vQ=Od(function(h,p){if(Rm(p)||Us(p)){Ga(p,Rr(p),h);return}for(var S in p)xn.call(p,S)&&Tm(h,S,p[S])}),$O=Od(function(h,p){Ga(p,qs(p),h)}),Cx=Od(function(h,p,S,k){Ga(p,qs(p),h,k)}),xQ=Od(function(h,p,S,k){Ga(p,Rr(p),h,k)}),yQ=Eo(k1);function jQ(h,p){var S=Td(h);return p==null?S:mT(S,p)}var bQ=qt(function(h,p){h=An(h);var S=-1,k=p.length,R=k>2?p[2]:n;for(R&&Ss(p[0],p[1],R)&&(k=1);++S<k;)for(var K=p[S],oe=qs(K),fe=-1,je=oe.length;++fe<je;){var ke=oe[fe],Te=h[ke];(Te===n||ca(Te,Ad[ke])&&!xn.call(h,ke))&&(h[ke]=K[ke])}return h}),wQ=qt(function(h){return h.push(n,ZT),oi(RO,n,h)});function NQ(h,p){return Yk(h,pt(p,3),Ha)}function SQ(h,p){return Yk(h,pt(p,3),O1)}function CQ(h,p){return h==null?h:T1(h,pt(p,3),qs)}function _Q(h,p){return h==null?h:yT(h,pt(p,3),qs)}function PQ(h,p){return h&&Ha(h,pt(p,3))}function AQ(h,p){return h&&O1(h,pt(p,3))}function EQ(h){return h==null?[]:ax(h,Rr(h))}function kQ(h){return h==null?[]:ax(h,qs(h))}function uN(h,p,S){var k=h==null?n:Qc(h,p);return k===n?S:k}function TQ(h,p){return h!=null&&nO(h,p,eG)}function dN(h,p){return h!=null&&nO(h,p,tG)}var OQ=KT(function(h,p,S){p!=null&&typeof p.toString!="function"&&(p=Gv.call(p)),h[p]=S},fN(Ws)),DQ=KT(function(h,p,S){p!=null&&typeof p.toString!="function"&&(p=Gv.call(p)),xn.call(h,p)?h[p].push(S):h[p]=[S]},pt),MQ=qt(Dm);function Rr(h){return Us(h)?hT(h):$1(h)}function qs(h){return Us(h)?hT(h,!0):dG(h)}function IQ(h,p){var S={};return p=pt(p,3),Ha(h,function(k,R,K){Po(S,p(k,R,K),k)}),S}function $Q(h,p){var S={};return p=pt(p,3),Ha(h,function(k,R,K){Po(S,R,p(k,R,K))}),S}var RQ=Od(function(h,p,S){ox(h,p,S)}),RO=Od(function(h,p,S,k){ox(h,p,S,k)}),LQ=Eo(function(h,p){var S={};if(h==null)return S;var k=!1;p=Un(p,function(K){return K=Pl(K,h),k||(k=K.length>1),K}),Ga(h,Q1(h),S),k&&(S=Mi(S,f|m|g,OG));for(var R=p.length;R--;)V1(S,p[R]);return S});function FQ(h,p){return LO(h,wx(pt(p)))}var BQ=Eo(function(h,p){return h==null?{}:fG(h,p)});function LO(h,p){if(h==null)return{};var S=Un(Q1(h),function(k){return[k]});return p=pt(p),ET(h,S,function(k,R){return p(k,R[0])})}function zQ(h,p,S){p=Pl(p,h);var k=-1,R=p.length;for(R||(R=1,h=n);++k<R;){var K=h==null?n:h[Ka(p[k])];K===n&&(k=R,K=S),h=To(K)?K.call(h):K}return h}function VQ(h,p,S){return h==null?h:Im(h,p,S)}function UQ(h,p,S,k){return k=typeof k=="function"?k:n,h==null?h:Im(h,p,S,k)}var FO=XT(Rr),BO=XT(qs);function qQ(h,p,S){var k=Mt(h),R=k||El(h)||Id(h);if(p=pt(p,4),S==null){var K=h&&h.constructor;R?S=k?new K:[]:Jn(h)?S=To(K)?Td(Qv(h)):{}:S={}}return(R?Ti:Ha)(h,function(oe,fe,je){return p(S,oe,fe,je)}),S}function WQ(h,p){return h==null?!0:V1(h,p)}function HQ(h,p,S){return h==null?h:MT(h,p,W1(S))}function GQ(h,p,S,k){return k=typeof k=="function"?k:n,h==null?h:MT(h,p,W1(S),k)}function $d(h){return h==null?[]:N1(h,Rr(h))}function KQ(h){return h==null?[]:N1(h,qs(h))}function YQ(h,p,S){return S===n&&(S=p,p=n),S!==n&&(S=Ri(S),S=S===S?S:0),p!==n&&(p=Ri(p),p=p===p?p:0),Yc(Ri(h),p,S)}function QQ(h,p,S){return p=Oo(p),S===n?(S=p,p=0):S=Oo(S),h=Ri(h),nG(h,p,S)}function XQ(h,p,S){if(S&&typeof S!="boolean"&&Ss(h,p,S)&&(p=S=n),S===n&&(typeof p=="boolean"?(S=p,p=n):typeof h=="boolean"&&(S=h,h=n)),h===n&&p===n?(h=0,p=1):(h=Oo(h),p===n?(p=h,h=0):p=Oo(p)),h>p){var k=h;h=p,p=k}if(S||h%1||p%1){var R=uT();return os(h+R*(p-h+E9("1e-"+((R+"").length-1))),p)}return F1(h,p)}var JQ=Dd(function(h,p,S){return p=p.toLowerCase(),h+(S?zO(p):p)});function zO(h){return hN(hn(h).toLowerCase())}function VO(h){return h=hn(h),h&&h.replace(Gw,V9).replace(a1,"")}function ZQ(h,p,S){h=hn(h),p=ci(p);var k=h.length;S=S===n?k:Yc(Lt(S),0,k);var R=S;return S-=p.length,S>=0&&h.slice(S,R)==p}function eX(h){return h=hn(h),h&&ia.test(h)?h.replace(kn,U9):h}function tX(h){return h=hn(h),h&&ws.test(h)?h.replace(ai,"\\$&"):h}var nX=Dd(function(h,p,S){return h+(S?"-":"")+p.toLowerCase()}),rX=Dd(function(h,p,S){return h+(S?" ":"")+p.toLowerCase()}),sX=WT("toLowerCase");function iX(h,p,S){h=hn(h),p=Lt(p);var k=p?_d(h):0;if(!p||k>=p)return h;var R=(p-k)/2;return fx(ex(R),S)+h+fx(Zv(R),S)}function aX(h,p,S){h=hn(h),p=Lt(p);var k=p?_d(h):0;return p&&k<p?h+fx(p-k,S):h}function oX(h,p,S){h=hn(h),p=Lt(p);var k=p?_d(h):0;return p&&k<p?fx(p-k,S)+h:h}function lX(h,p,S){return S||p==null?p=0:p&&(p=+p),pH(hn(h).replace(zs,""),p||0)}function cX(h,p,S){return(S?Ss(h,p,S):p===n)?p=1:p=Lt(p),B1(hn(h),p)}function uX(){var h=arguments,p=hn(h[0]);return h.length<3?p:p.replace(h[1],h[2])}var dX=Dd(function(h,p,S){return h+(S?"_":"")+p.toLowerCase()});function hX(h,p,S){return S&&typeof S!="number"&&Ss(h,p,S)&&(p=S=n),S=S===n?me:S>>>0,S?(h=hn(h),h&&(typeof p=="string"||p!=null&&!cN(p))&&(p=ci(p),!p&&Cd(h))?Al(oa(h),0,S):h.split(p,S)):[]}var fX=Dd(function(h,p,S){return h+(S?" ":"")+hN(p)});function mX(h,p,S){return h=hn(h),S=S==null?0:Yc(Lt(S),0,h.length),p=ci(p),h.slice(S,S+p.length)==p}function pX(h,p,S){var k=q.templateSettings;S&&Ss(h,p,S)&&(p=n),h=hn(h),p=Cx({},p,k,JT);var R=Cx({},p.imports,k.imports,JT),K=Rr(R),oe=N1(R,K),fe,je,ke=0,Te=p.interpolate||So,Re="__p += '",Qe=C1((p.escape||So).source+"|"+Te.source+"|"+(Te===gn?Uw:So).source+"|"+(p.evaluate||So).source+"|$","g"),ot="//# sourceURL="+(xn.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++d1+"]")+`
`;h.replace(Qe,function(vt,Gt,nn,di,Cs,hi){return nn||(nn=di),Re+=h.slice(ke,hi).replace(Kw,q9),Gt&&(fe=!0,Re+=`' +
__e(`+Gt+`) +
'`),Cs&&(je=!0,Re+=`';
`+Cs+`;
__p += '`),nn&&(Re+=`' +
((__t = (`+nn+`)) == null ? '' : __t) +
'`),ke=hi+vt.length,vt}),Re+=`';
`;var gt=xn.call(p,"variable")&&p.variable;if(!gt)Re=`with (obj) {
`+Re+`
}
`;else if(zw.test(gt))throw new kt(l);Re=(je?Re.replace(yl,""):Re).replace(le,"$1").replace(qe,"$1;"),Re="function("+(gt||"obj")+`) {
`+(gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(fe?", __e = _.escape":"")+(je?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Re+`return __p
}`;var Bt=qO(function(){return dn(K,ot+"return "+Re).apply(n,oe)});if(Bt.source=Re,lN(Bt))throw Bt;return Bt}function gX(h){return hn(h).toLowerCase()}function vX(h){return hn(h).toUpperCase()}function xX(h,p,S){if(h=hn(h),h&&(S||p===n))return Zk(h);if(!h||!(p=ci(p)))return h;var k=oa(h),R=oa(p),K=eT(k,R),oe=tT(k,R)+1;return Al(k,K,oe).join("")}function yX(h,p,S){if(h=hn(h),h&&(S||p===n))return h.slice(0,rT(h)+1);if(!h||!(p=ci(p)))return h;var k=oa(h),R=tT(k,oa(p))+1;return Al(k,0,R).join("")}function jX(h,p,S){if(h=hn(h),h&&(S||p===n))return h.replace(zs,"");if(!h||!(p=ci(p)))return h;var k=oa(h),R=eT(k,oa(p));return Al(k,R).join("")}function bX(h,p){var S=$,k=T;if(Jn(p)){var R="separator"in p?p.separator:R;S="length"in p?Lt(p.length):S,k="omission"in p?ci(p.omission):k}h=hn(h);var K=h.length;if(Cd(h)){var oe=oa(h);K=oe.length}if(S>=K)return h;var fe=S-_d(k);if(fe<1)return k;var je=oe?Al(oe,0,fe).join(""):h.slice(0,fe);if(R===n)return je+k;if(oe&&(fe+=je.length-fe),cN(R)){if(h.slice(fe).search(R)){var ke,Te=je;for(R.global||(R=C1(R.source,hn(Tv.exec(R))+"g")),R.lastIndex=0;ke=R.exec(Te);)var Re=ke.index;je=je.slice(0,Re===n?fe:Re)}}else if(h.indexOf(ci(R),fe)!=fe){var Qe=je.lastIndexOf(R);Qe>-1&&(je=je.slice(0,Qe))}return je+k}function wX(h){return h=hn(h),h&&Xn.test(h)?h.replace(Le,X9):h}var NX=Dd(function(h,p,S){return h+(S?" ":"")+p.toUpperCase()}),hN=WT("toUpperCase");function UO(h,p,S){return h=hn(h),p=S?n:p,p===n?H9(h)?eH(h):R9(h):h.match(p)||[]}var qO=qt(function(h,p){try{return oi(h,n,p)}catch(S){return lN(S)?S:new kt(S)}}),SX=Eo(function(h,p){return Ti(p,function(S){S=Ka(S),Po(h,S,aN(h[S],h))}),h});function CX(h){var p=h==null?0:h.length,S=pt();return h=p?Un(h,function(k){if(typeof k[1]!="function")throw new Oi(o);return[S(k[0]),k[1]]}):[],qt(function(k){for(var R=-1;++R<p;){var K=h[R];if(oi(K[0],this,k))return oi(K[1],this,k)}})}function _X(h){return XH(Mi(h,f))}function fN(h){return function(){return h}}function PX(h,p){return h==null||h!==h?p:h}var AX=GT(),EX=GT(!0);function Ws(h){return h}function mN(h){return NT(typeof h=="function"?h:Mi(h,f))}function kX(h){return CT(Mi(h,f))}function TX(h,p){return _T(h,Mi(p,f))}var OX=qt(function(h,p){return function(S){return Dm(S,h,p)}}),DX=qt(function(h,p){return function(S){return Dm(h,S,p)}});function pN(h,p,S){var k=Rr(p),R=ax(p,k);S==null&&!(Jn(p)&&(R.length||!k.length))&&(S=p,p=h,h=this,R=ax(p,Rr(p)));var K=!(Jn(S)&&"chain"in S)||!!S.chain,oe=To(h);return Ti(R,function(fe){var je=p[fe];h[fe]=je,oe&&(h.prototype[fe]=function(){var ke=this.__chain__;if(K||ke){var Te=h(this.__wrapped__),Re=Te.__actions__=Vs(this.__actions__);return Re.push({func:je,args:arguments,thisArg:h}),Te.__chain__=ke,Te}return je.apply(h,wl([this.value()],arguments))})}),h}function MX(){return Jr._===this&&(Jr._=aH),this}function gN(){}function IX(h){return h=Lt(h),qt(function(p){return PT(p,h)})}var $X=G1(Un),RX=G1(Kk),LX=G1(x1);function WO(h){return eN(h)?y1(Ka(h)):mG(h)}function FX(h){return function(p){return h==null?n:Qc(h,p)}}var BX=YT(),zX=YT(!0);function vN(){return[]}function xN(){return!1}function VX(){return{}}function UX(){return""}function qX(){return!0}function WX(h,p){if(h=Lt(h),h<1||h>X)return[];var S=me,k=os(h,me);p=pt(p),h-=me;for(var R=w1(k,p);++S<h;)p(S);return R}function HX(h){return Mt(h)?Un(h,Ka):ui(h)?[h]:Vs(dO(hn(h)))}function GX(h){var p=++sH;return hn(h)+p}var KX=hx(function(h,p){return h+p},0),YX=K1("ceil"),QX=hx(function(h,p){return h/p},1),XX=K1("floor");function JX(h){return h&&h.length?ix(h,Ws,D1):n}function ZX(h,p){return h&&h.length?ix(h,pt(p,2),D1):n}function eJ(h){return Xk(h,Ws)}function tJ(h,p){return Xk(h,pt(p,2))}function nJ(h){return h&&h.length?ix(h,Ws,R1):n}function rJ(h,p){return h&&h.length?ix(h,pt(p,2),R1):n}var sJ=hx(function(h,p){return h*p},1),iJ=K1("round"),aJ=hx(function(h,p){return h-p},0);function oJ(h){return h&&h.length?b1(h,Ws):0}function lJ(h,p){return h&&h.length?b1(h,pt(p,2)):0}return q.after=kY,q.ary=wO,q.assign=vQ,q.assignIn=$O,q.assignInWith=Cx,q.assignWith=xQ,q.at=yQ,q.before=NO,q.bind=aN,q.bindAll=SX,q.bindKey=SO,q.castArray=VY,q.chain=yO,q.chunk=XG,q.compact=JG,q.concat=ZG,q.cond=CX,q.conforms=_X,q.constant=fN,q.countBy=oY,q.create=jQ,q.curry=CO,q.curryRight=_O,q.debounce=PO,q.defaults=bQ,q.defaultsDeep=wQ,q.defer=TY,q.delay=OY,q.difference=eK,q.differenceBy=tK,q.differenceWith=nK,q.drop=rK,q.dropRight=sK,q.dropRightWhile=iK,q.dropWhile=aK,q.fill=oK,q.filter=cY,q.flatMap=hY,q.flatMapDeep=fY,q.flatMapDepth=mY,q.flatten=pO,q.flattenDeep=lK,q.flattenDepth=cK,q.flip=DY,q.flow=AX,q.flowRight=EX,q.fromPairs=uK,q.functions=EQ,q.functionsIn=kQ,q.groupBy=pY,q.initial=hK,q.intersection=fK,q.intersectionBy=mK,q.intersectionWith=pK,q.invert=OQ,q.invertBy=DQ,q.invokeMap=vY,q.iteratee=mN,q.keyBy=xY,q.keys=Rr,q.keysIn=qs,q.map=yx,q.mapKeys=IQ,q.mapValues=$Q,q.matches=kX,q.matchesProperty=TX,q.memoize=bx,q.merge=RQ,q.mergeWith=RO,q.method=OX,q.methodOf=DX,q.mixin=pN,q.negate=wx,q.nthArg=IX,q.omit=LQ,q.omitBy=FQ,q.once=MY,q.orderBy=yY,q.over=$X,q.overArgs=IY,q.overEvery=RX,q.overSome=LX,q.partial=oN,q.partialRight=AO,q.partition=jY,q.pick=BQ,q.pickBy=LO,q.property=WO,q.propertyOf=FX,q.pull=yK,q.pullAll=vO,q.pullAllBy=jK,q.pullAllWith=bK,q.pullAt=wK,q.range=BX,q.rangeRight=zX,q.rearg=$Y,q.reject=NY,q.remove=NK,q.rest=RY,q.reverse=sN,q.sampleSize=CY,q.set=VQ,q.setWith=UQ,q.shuffle=_Y,q.slice=SK,q.sortBy=EY,q.sortedUniq=TK,q.sortedUniqBy=OK,q.split=hX,q.spread=LY,q.tail=DK,q.take=MK,q.takeRight=IK,q.takeRightWhile=$K,q.takeWhile=RK,q.tap=JK,q.throttle=FY,q.thru=xx,q.toArray=DO,q.toPairs=FO,q.toPairsIn=BO,q.toPath=HX,q.toPlainObject=IO,q.transform=qQ,q.unary=BY,q.union=LK,q.unionBy=FK,q.unionWith=BK,q.uniq=zK,q.uniqBy=VK,q.uniqWith=UK,q.unset=WQ,q.unzip=iN,q.unzipWith=xO,q.update=HQ,q.updateWith=GQ,q.values=$d,q.valuesIn=KQ,q.without=qK,q.words=UO,q.wrap=zY,q.xor=WK,q.xorBy=HK,q.xorWith=GK,q.zip=KK,q.zipObject=YK,q.zipObjectDeep=QK,q.zipWith=XK,q.entries=FO,q.entriesIn=BO,q.extend=$O,q.extendWith=Cx,pN(q,q),q.add=KX,q.attempt=qO,q.camelCase=JQ,q.capitalize=zO,q.ceil=YX,q.clamp=YQ,q.clone=UY,q.cloneDeep=WY,q.cloneDeepWith=HY,q.cloneWith=qY,q.conformsTo=GY,q.deburr=VO,q.defaultTo=PX,q.divide=QX,q.endsWith=ZQ,q.eq=ca,q.escape=eX,q.escapeRegExp=tX,q.every=lY,q.find=uY,q.findIndex=fO,q.findKey=NQ,q.findLast=dY,q.findLastIndex=mO,q.findLastKey=SQ,q.floor=XX,q.forEach=jO,q.forEachRight=bO,q.forIn=CQ,q.forInRight=_Q,q.forOwn=PQ,q.forOwnRight=AQ,q.get=uN,q.gt=KY,q.gte=YY,q.has=TQ,q.hasIn=dN,q.head=gO,q.identity=Ws,q.includes=gY,q.indexOf=dK,q.inRange=QQ,q.invoke=MQ,q.isArguments=Zc,q.isArray=Mt,q.isArrayBuffer=QY,q.isArrayLike=Us,q.isArrayLikeObject=dr,q.isBoolean=XY,q.isBuffer=El,q.isDate=JY,q.isElement=ZY,q.isEmpty=eQ,q.isEqual=tQ,q.isEqualWith=nQ,q.isError=lN,q.isFinite=rQ,q.isFunction=To,q.isInteger=EO,q.isLength=Nx,q.isMap=kO,q.isMatch=sQ,q.isMatchWith=iQ,q.isNaN=aQ,q.isNative=oQ,q.isNil=cQ,q.isNull=lQ,q.isNumber=TO,q.isObject=Jn,q.isObjectLike=nr,q.isPlainObject=Fm,q.isRegExp=cN,q.isSafeInteger=uQ,q.isSet=OO,q.isString=Sx,q.isSymbol=ui,q.isTypedArray=Id,q.isUndefined=dQ,q.isWeakMap=hQ,q.isWeakSet=fQ,q.join=gK,q.kebabCase=nX,q.last=$i,q.lastIndexOf=vK,q.lowerCase=rX,q.lowerFirst=sX,q.lt=mQ,q.lte=pQ,q.max=JX,q.maxBy=ZX,q.mean=eJ,q.meanBy=tJ,q.min=nJ,q.minBy=rJ,q.stubArray=vN,q.stubFalse=xN,q.stubObject=VX,q.stubString=UX,q.stubTrue=qX,q.multiply=sJ,q.nth=xK,q.noConflict=MX,q.noop=gN,q.now=jx,q.pad=iX,q.padEnd=aX,q.padStart=oX,q.parseInt=lX,q.random=XQ,q.reduce=bY,q.reduceRight=wY,q.repeat=cX,q.replace=uX,q.result=zQ,q.round=iJ,q.runInContext=ge,q.sample=SY,q.size=PY,q.snakeCase=dX,q.some=AY,q.sortedIndex=CK,q.sortedIndexBy=_K,q.sortedIndexOf=PK,q.sortedLastIndex=AK,q.sortedLastIndexBy=EK,q.sortedLastIndexOf=kK,q.startCase=fX,q.startsWith=mX,q.subtract=aJ,q.sum=oJ,q.sumBy=lJ,q.template=pX,q.times=WX,q.toFinite=Oo,q.toInteger=Lt,q.toLength=MO,q.toLower=gX,q.toNumber=Ri,q.toSafeInteger=gQ,q.toString=hn,q.toUpper=vX,q.trim=xX,q.trimEnd=yX,q.trimStart=jX,q.truncate=bX,q.unescape=wX,q.uniqueId=GX,q.upperCase=NX,q.upperFirst=hN,q.each=jO,q.eachRight=bO,q.first=gO,pN(q,function(){var h={};return Ha(q,function(p,S){xn.call(q.prototype,S)||(h[S]=p)}),h}(),{chain:!1}),q.VERSION=s,Ti(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){q[h].placeholder=q}),Ti(["drop","take"],function(h,p){en.prototype[h]=function(S){S=S===n?1:Cr(Lt(S),0);var k=this.__filtered__&&!p?new en(this):this.clone();return k.__filtered__?k.__takeCount__=os(S,k.__takeCount__):k.__views__.push({size:os(S,me),type:h+(k.__dir__<0?"Right":"")}),k},en.prototype[h+"Right"]=function(S){return this.reverse()[h](S).reverse()}}),Ti(["filter","map","takeWhile"],function(h,p){var S=p+1,k=S==B||S==H;en.prototype[h]=function(R){var K=this.clone();return K.__iteratees__.push({iteratee:pt(R,3),type:S}),K.__filtered__=K.__filtered__||k,K}}),Ti(["head","last"],function(h,p){var S="take"+(p?"Right":"");en.prototype[h]=function(){return this[S](1).value()[0]}}),Ti(["initial","tail"],function(h,p){var S="drop"+(p?"":"Right");en.prototype[h]=function(){return this.__filtered__?new en(this):this[S](1)}}),en.prototype.compact=function(){return this.filter(Ws)},en.prototype.find=function(h){return this.filter(h).head()},en.prototype.findLast=function(h){return this.reverse().find(h)},en.prototype.invokeMap=qt(function(h,p){return typeof h=="function"?new en(this):this.map(function(S){return Dm(S,h,p)})}),en.prototype.reject=function(h){return this.filter(wx(pt(h)))},en.prototype.slice=function(h,p){h=Lt(h);var S=this;return S.__filtered__&&(h>0||p<0)?new en(S):(h<0?S=S.takeRight(-h):h&&(S=S.drop(h)),p!==n&&(p=Lt(p),S=p<0?S.dropRight(-p):S.take(p-h)),S)},en.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},en.prototype.toArray=function(){return this.take(me)},Ha(en.prototype,function(h,p){var S=/^(?:filter|find|map|reject)|While$/.test(p),k=/^(?:head|last)$/.test(p),R=q[k?"take"+(p=="last"?"Right":""):p],K=k||/^find/.test(p);R&&(q.prototype[p]=function(){var oe=this.__wrapped__,fe=k?[1]:arguments,je=oe instanceof en,ke=fe[0],Te=je||Mt(oe),Re=function(Gt){var nn=R.apply(q,wl([Gt],fe));return k&&Qe?nn[0]:nn};Te&&S&&typeof ke=="function"&&ke.length!=1&&(je=Te=!1);var Qe=this.__chain__,ot=!!this.__actions__.length,gt=K&&!Qe,Bt=je&&!ot;if(!K&&Te){oe=Bt?oe:new en(this);var vt=h.apply(oe,fe);return vt.__actions__.push({func:xx,args:[Re],thisArg:n}),new Di(vt,Qe)}return gt&&Bt?h.apply(this,fe):(vt=this.thru(Re),gt?k?vt.value()[0]:vt.value():vt)})}),Ti(["pop","push","shift","sort","splice","unshift"],function(h){var p=qv[h],S=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",k=/^(?:pop|shift)$/.test(h);q.prototype[h]=function(){var R=arguments;if(k&&!this.__chain__){var K=this.value();return p.apply(Mt(K)?K:[],R)}return this[S](function(oe){return p.apply(Mt(oe)?oe:[],R)})}}),Ha(en.prototype,function(h,p){var S=q[p];if(S){var k=S.name+"";xn.call(kd,k)||(kd[k]=[]),kd[k].push({name:p,func:S})}}),kd[dx(n,N).name]=[{name:"wrapper",func:n}],en.prototype.clone=wH,en.prototype.reverse=NH,en.prototype.value=SH,q.prototype.at=ZK,q.prototype.chain=eY,q.prototype.commit=tY,q.prototype.next=nY,q.prototype.plant=sY,q.prototype.reverse=iY,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=aY,q.prototype.first=q.prototype.head,_m&&(q.prototype[_m]=rY),q},Pd=tH();Wc?((Wc.exports=Pd)._=Pd,m1._=Pd):Jr._=Pd}).call(lr)})(Vj,Vj.exports);var KS=Vj.exports;const NP=w.forwardRef(({petId:e},t)=>{const{settings:n}=Zt(),{getPetById:s,getClientById:i,getVaccinationsByPetId:a}=Nt(),o=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),l=s(e),c=l?i(l.ownerId):null,u=l?a(l.id):[],d=f=>{const m=new Date(f),g=new Date;if(KS.isNaN(m.getTime()))return"N/A";let x=g.getFullYear()-m.getFullYear(),v=g.getMonth()-m.getMonth(),y=g.getDate()-m.getDate();if(y<0){v--;const j=new Date(g.getFullYear(),g.getMonth(),0);y+=j.getDate()}v<0&&(x--,v+=12);const N=Math.floor(y/7),b=[];return x>0&&b.push(`${x} an${x>1?"s":""}`),v>0&&b.push(`${v} mois`),N>0&&b.push(`${N} semain${N>1?"es":""}`),b.join(", ")||"0 jour"};return!l||!c?null:r.jsxs("div",{ref:t,className:"p-8 bg-white text-gray-900 font-sans",children:[n.showClinicInfo&&r.jsxs("section",{className:"mb-4 text-sm",children:[r.jsx("img",{src:n.logo,alt:"Logo",className:"h-12 mb-2"}),r.jsx("p",{children:n.clinicName}),r.jsx("p",{children:n.address}),r.jsxs("p",{children:[n.phone," | ",n.email]}),n.website&&r.jsx("p",{children:n.website})]}),r.jsxs("div",{className:"flex justify-between items-center mb-8 border-b pb-4",children:[r.jsx("h1",{className:"text-4xl font-bold text-primary",children:"Certificat de Vaccination"}),r.jsx(g9,{value:`pet:${l.id}`,size:100})]}),n.showVetsInfo&&r.jsxs("section",{className:"mb-6 text-sm",children:[r.jsx("h2",{className:"font-medium mb-2",children:"Vétérinaires"}),o.map(f=>r.jsxs("p",{children:[f.title," ",f.name," - ",f.specialty]},f.id))]}),l.photo&&r.jsx("div",{className:"mb-6 text-center",children:r.jsx("img",{src:l.photo,alt:l.name,className:"w-32 h-32 object-cover rounded-full mx-auto"})}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold border-b pb-2",children:"Informations de l'animal"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Nom:"})," ",l.name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",l.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"})," ",l.breed||"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"})," ",l.birthDate?d(l.birthDate):"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Propriétaire:"})," ",c.name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Contact:"})," ",c.phone]})]})]}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold border-b pb-2",children:"Historique des Vaccinations"}),r.jsx("div",{className:"mt-4 space-y-4",children:u.map(f=>r.jsxs(de,{className:"border-primary/50",children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-lg",children:f.vaccineName})}),r.jsxs(he,{className:"p-4 text-sm flex justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Date donnée:"})," ",f.dateGiven&&!KS.isNaN(Date.parse(f.dateGiven))?It(new Date(f.dateGiven),"dd/MM/yyyy"):"N/A"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Rappel prévu:"})," ",f.nextDueDate&&!KS.isNaN(Date.parse(f.nextDueDate))?It(new Date(f.nextDueDate),"dd/MM/yyyy"):"N/A"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Vétérinaire:"})," ",f.veterinarian]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Statut:"})," ",f.status]})]})]})]},f.id))})]}),r.jsxs("footer",{className:"mt-8 text-center text-xs text-gray-500",children:["Généré le ",It(new Date,"dd/MM/yyyy")," - VetPro CRM"]})]})});function v9({open:e,onOpenChange:t,pet:n}){const{consultations:s,clients:i,getConsultationsByPetId:a,getClientById:o,getPrescriptionsByPetId:l,getActivePrescriptions:c,getVaccinationsByPetId:u,getAntiparasiticsByPetId:d,updatePet:f,updateConsultation:m,updateVaccination:g,updateVaccinationStatuses:x}=Nt(),[v,y]=w.useState(!1),[N,b]=w.useState(!1),[j,_]=w.useState(!1),[C,A]=w.useState(!1),[P,E]=w.useState("overview"),[M,$]=w.useState(!1),[T,O]=w.useState({hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),[L,B]=w.useState((n==null?void 0:n.additionalPhotos)||[]),[Z,H]=w.useState({clientId:0,petId:0,type:"",reason:""}),[ae,X]=w.useState(null),[D,ie]=w.useState(!1),[me,te]=w.useState(null),[J,ne]=w.useState(null),{toast:ve}=$t(),ye=w.useRef(null),be=Lk.useReactToPrint({contentRef:ye,onAfterPrint:()=>t(!1)});w.useEffect(()=>{e&&x()},[e,x]);const z=()=>{n&&(f(n.id,{...n,...T}),Object.assign(n,T),$(!1))},Y=()=>{n&&(O({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),$(!1))},ee=le=>{n&&(H({clientId:n.ownerId,petId:n.id,type:"vaccination",reason:`Rappel vaccinal - ${le.vaccineName}`}),X(le),b(!0))},G=le=>{te(le),ie(!0)},I=(le,qe)=>{g(le,{status:qe}),ne(null),ve({title:"Statut mis à jour",description:`Le statut de la vaccination a été changé en "${{completed:"Terminée",scheduled:"Planifiée",overdue:"En retard",missed:"Manquée"}[qe]}"`})},xe=(le,qe)=>{const Le=s.find(ia=>ia.id===le);if(!Le||!Le.photos)return;const kn=Le.photos.filter((ia,jt)=>jt!==qe),Xn={...Le,photos:kn};m(le,Xn)},Ne=async le=>{var kn;const qe=(kn=le.target.files)==null?void 0:kn[0];if(!qe)return;const Le=new FileReader;Le.onload=()=>{const Xn=Le.result,ia=[...L,Xn];B(ia),n&&f(n.id,{...n,additionalPhotos:ia})},Le.readAsDataURL(qe)},Be=le=>{const qe=L.filter((Le,kn)=>kn!==le);B(qe),n&&f(n.id,{...n,additionalPhotos:qe})};if(w.useEffect(()=>{n&&(O({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),B(n.additionalPhotos||[]))},[n]),!n)return null;const Fe=o(n.ownerId),it=a(n.id),lt=u(n.id),ft=d(n.id),we=[...it].sort((le,qe)=>new Date(qe.date).getTime()-new Date(le.date).getTime()),Ge=[...lt].sort((le,qe)=>new Date(qe.dateGiven).getTime()-new Date(le.dateGiven).getTime()),Ke=[...ft||[]].sort((le,qe)=>new Date(qe.dateGiven).getTime()-new Date(le.dateGiven).getTime()),Ht=we.filter(le=>le.weight||le.temperature).map(le=>({date:new Date(le.date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),weight:le.weight?parseFloat(le.weight):0,temperature:le.temperature?parseFloat(le.temperature):0})).reverse(),Yn=we.filter(le=>le.weight).map(le=>parseFloat(le.weight)),Et=we.filter(le=>le.temperature).map(le=>parseFloat(le.temperature)),Nn=Yn[0]||0,ur=Yn[1]||0,Qn=Nn-ur,ys=Qn>0?"up":Qn<0?"down":"stable",Se=Et[0]||0,Ut=Et.length>0?Et.reduce((le,qe)=>le+qe,0)/Et.length:0,tt=we[0],mt=tt!=null&&tt.followUp?{reason:tt.followUp,estimatedDate:new Date(tt.date)}:null,sn=[];if(tt){const le=(new Date().getTime()-new Date(tt.date).getTime())/2592e6;le>6&&sn.push({type:"warning",title:"Contrôle de routine recommandé",message:`Dernière consultation il y a ${Math.floor(le)} mois`,action:"Planifier consultation",actionType:"consultation"})}(Se>39.5||Se<37.5)&&sn.push({type:"danger",title:"Température anormale",message:`Température actuelle: ${Se}°C`,action:"Contrôle urgent",actionType:"consultation"}),Qn<-2&&sn.push({type:"warning",title:"Perte de poids",message:`Perte de ${Math.abs(Qn)}kg depuis la dernière consultation`,action:"Surveiller",actionType:"consultation"});const as=new Date;new Date(as.getTime()+7*24*60*60*1e3),lt.forEach(le=>{if(le.nextDueDate){const qe=new Date(le.nextDueDate),Le=Math.ceil((qe.getTime()-as.getTime())/(1e3*60*60*24));Le<0?sn.push({type:"danger",title:"Vaccination en retard",message:`${le.vaccineName} - ${Math.abs(Le)} jour(s) de retard`,action:"Planifier vaccination",actionType:"vaccination"}):Le<=7&&sn.push({type:"warning",title:"Vaccination à prévoir",message:`${le.vaccineName} - Dans ${Le} jour(s)`,action:"Planifier vaccination",actionType:"vaccination"})}}),ft.forEach(le=>{if(le.nextDueDate){const qe=new Date(le.nextDueDate),Le=Math.ceil((qe.getTime()-as.getTime())/(1e3*60*60*24));Le<0?sn.push({type:"danger",title:"Traitement antiparasitaire en retard",message:`${le.productName} - ${Math.abs(Le)} jour(s) de retard`,action:"Planifier traitement",actionType:"antiparasitic"}):Le<=7&&sn.push({type:"warning",title:"Traitement antiparasitaire à prévoir",message:`${le.productName} - Dans ${Le} jour(s)`,action:"Planifier traitement",actionType:"antiparasitic"})}});const Qr=()=>{H({clientId:(Fe==null?void 0:Fe.id)||0,petId:n.id,type:"consultation",reason:"Nouvelle consultation"}),b(!0)},Bs=le=>{let qe="consultation",Le="";switch(le){case"consultation":qe="consultation",Le="Contrôle de routine recommandé";break;case"vaccination":qe="vaccination",Le="Vaccination à effectuer";break;case"antiparasitic":qe="controle",Le="Traitement antiparasitaire à effectuer";break;default:qe="consultation",Le="Rendez-vous médical"}H({clientId:(Fe==null?void 0:Fe.id)||0,petId:n.id,type:qe,reason:Le}),b(!0)},yl=()=>{const le=window.open("","_blank");if(!le)return;const qe=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Dossier Médical - ${n.name}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
            .clinic-name { font-size: 24px; font-weight: bold; color: #2563eb; }
            .pet-info { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
            .info-section { border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
            .info-section h3 { margin: 0 0 10px 0; color: #333; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .consultation { margin: 20px 0; border: 1px solid #eee; padding: 15px; border-radius: 5px; }
            .consultation h4 { margin: 0 0 10px 0; color: #333; }
            .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0; }
            .stat-card { border: 1px solid #ddd; padding: 10px; text-align: center; border-radius: 5px; }
            .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; }
            .stat-label { font-size: 12px; color: #666; }
            @media print { body { margin: 0; } }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <h2>Dossier Médical Complet</h2>
            <p><strong>Animal:</strong> ${n.name} | <strong>Généré le:</strong> ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
          </div>

          <div class="pet-info">
            <div class="info-section">
              <h3>Informations Animal</h3>
              <p><strong>Nom:</strong> ${n.name}</p>
              <p><strong>Espèce:</strong> ${n.type}</p>
              <p><strong>Race:</strong> ${n.breed||"Non spécifiée"}</p>
              <p><strong>Sexe:</strong> ${n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Non spécifié"}</p>
              <p><strong>Âge:</strong> ${n.birthDate?nf(n.birthDate):"Non spécifié"}</p>
              <p><strong>Poids actuel:</strong> ${Nn}kg</p>
              <p><strong>Température actuelle:</strong> ${Se}°C</p>
              <p><strong>Couleur:</strong> ${n.color||"Non spécifiée"}</p>
              <p><strong>Puce électronique:</strong> ${n.microchip||"Non spécifiée"}</p>
              ${n.medicalNotes?`<p><strong>Notes médicales:</strong> ${n.medicalNotes}</p>`:""}
            </div>
            <div class="info-section">
              <h3>Propriétaire</h3>
              <p><strong>Nom:</strong> ${(Fe==null?void 0:Fe.name)||"Non spécifié"}</p>
              <p><strong>Email:</strong> ${(Fe==null?void 0:Fe.email)||"Non spécifié"}</p>
              <p><strong>Téléphone:</strong> ${(Fe==null?void 0:Fe.phone)||"Non spécifié"}</p>
            </div>
          </div>

          <div class="stats">
            <div class="stat-card">
              <div class="stat-value">${we.length}</div>
              <div class="stat-label">Consultations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${lt.length}</div>
              <div class="stat-label">Vaccinations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${ft.length}</div>
              <div class="stat-label">Antiparasitaires</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${Nn}kg</div>
              <div class="stat-label">Poids actuel</div>
            </div>
          </div>

          <!-- Photo principale de l'animal -->
          ${n.photo?`
            <div style="text-align: center; margin: 20px 0;">
              <img src="${n.photo}" alt="${n.name}" style="max-width: 200px; max-height: 200px; object-fit: cover; border-radius: 8px; border: 2px solid #ddd;" />
              <p style="margin-top: 10px; font-weight: bold;">Photo de ${n.name}</p>
            </div>
          `:""}

          <!-- Historique des Consultations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Consultations (${we.length})</h3>
            ${we.length>0?we.map(Le=>`
              <div style="margin: 15px 0; border: 1px solid #ddd; padding: 15px; border-radius: 5px; background: #f9f9f9;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Consultation du ${new Date(Le.date).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Poids:</strong> ${Le.weight||"Non renseigné"}</p>
                    <p><strong>Température:</strong> ${Le.temperature||"Non renseigné"}</p>
                    ${Le.symptoms?`<p><strong>Symptômes:</strong> ${Le.symptoms}</p>`:""}
                  </div>
                  <div>
                    ${Le.diagnosis?`<p><strong>Diagnostic:</strong> ${Le.diagnosis}</p>`:""}
                    ${Le.treatment?`<p><strong>Traitement:</strong> ${Le.treatment}</p>`:""}
                    ${Le.medications?`<p><strong>Médicaments:</strong> ${Le.medications}</p>`:""}
                  </div>
                </div>
                ${Le.notes?`<p><strong>Notes:</strong> ${Le.notes}</p>`:""}
                ${Le.photos&&Le.photos.length>0?`
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin: 15px 0;">
                    ${Le.photos.map((kn,Xn)=>`
                      <div style="text-align: center;">
                        <img src="${kn}" alt="Photo consultation ${Xn+1}" style="max-width: 120px; max-height: 120px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                        <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo ${Xn+1}</div>
                      </div>
                    `).join("")}
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune consultation enregistrée</p>'}
          </div>

          <!-- Historique des Vaccinations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Vaccinations (${lt.length})</h3>
            ${lt.length>0?lt.map(Le=>`
              <div style="margin: 10px 0; padding: 10px; border-left: 3px solid #4CAF50; background: #f0f8f0;">
                <h4 style="margin: 0 0 10px 0;">${Le.vaccineName} - ${new Date(Le.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <p><strong>Type:</strong> ${Le.vaccineType||"Non spécifié"}</p>
                <p><strong>Prochain rappel:</strong> ${Le.nextDueDate?new Date(Le.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                <p><strong>Vétérinaire:</strong> ${Le.veterinarian||"Non spécifié"}</p>
                ${Le.notes?`<p><strong>Notes:</strong> ${Le.notes}</p>`:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune vaccination enregistrée</p>'}
          </div>

          <!-- Historique des Antiparasitaires -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Traitements Antiparasitaires (${ft.length})</h3>
            ${ft.length>0?ft.map(Le=>`
              <div style="margin: 15px 0; padding: 15px; border-left: 4px solid #9C27B0; background: #f3e5f5; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #7B1FA2;">${Le.productName} - ${new Date(Le.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 10px 0;">
                  <div>
                    <p><strong>Type de produit:</strong> ${Le.productType||"Non spécifié"}</p>
                    <p><strong>Parasites ciblés:</strong> ${Le.targetParasites||"Non spécifié"}</p>
                    <p><strong>Voie d'administration:</strong> ${Le.administrationRoute||"Non spécifié"}</p>
                    <p><strong>Dosage:</strong> ${Le.dosage||"Non spécifié"}</p>
                  </div>
                  <div>
                <p><strong>Prochain traitement:</strong> ${Le.nextDueDate?new Date(Le.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                <p><strong>Vétérinaire:</strong> ${Le.veterinarian||"Non spécifié"}</p>
                    <p><strong>Statut:</strong> ${Le.status==="completed"?"Terminé":Le.status==="scheduled"?"Planifié":Le.status==="overdue"?"En retard":"Manqué"}</p>
                    ${Le.cost?`<p><strong>Coût:</strong> ${Le.cost} €</p>`:""}
                  </div>
                </div>
                ${Le.batchNumber?`<p><strong>Numéro de lot:</strong> ${Le.batchNumber}</p>`:""}
                ${Le.manufacturer?`<p><strong>Fabricant:</strong> ${Le.manufacturer}</p>`:""}
                ${Le.weight?`<p><strong>Poids de l'animal:</strong> ${Le.weight}</p>`:""}
                ${Le.notes?`
                  <div style="margin: 10px 0; padding: 10px; background: rgba(156, 39, 176, 0.1); border-radius: 3px;">
                    <p><strong>Notes:</strong> ${Le.notes}</p>
                  </div>
                `:""}
                ${Le.sideEffects?`
                  <div style="margin: 10px 0; padding: 10px; background: #ffebee; border: 1px solid #f44336; border-radius: 3px;">
                    <p style="color: #d32f2f;"><strong>⚠️ Effets indésirables:</strong> ${Le.sideEffects}</p>
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucun traitement antiparasitaire enregistré</p>'}
          </div>

          <!-- Section Pedigree -->
          ${n.hasPedigree?`
            <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
              <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Pedigree Officiel</h3>
              
              <!-- Informations de l'animal -->
              <div style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Informations de l'animal</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Nom officiel:</strong> ${n.officialName||"Non spécifié"}</p>
                    <p><strong>N° Pedigree/LOF:</strong> ${n.pedigreeNumber||"Non spécifié"}</p>
                    <p><strong>N° Puce/Tatouage:</strong> ${n.microchip||"Non spécifié"}</p>
                    <p><strong>Race:</strong> ${n.breed||"Non spécifiée"}</p>
                  </div>
                  <div>
                    <p><strong>Sexe:</strong> ${n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Non spécifié"}</p>
                    <p><strong>Couleur/Robe:</strong> ${n.color||"Non spécifiée"}</p>
                    <p><strong>Date de naissance:</strong> ${n.birthDate?new Date(n.birthDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                    <p><strong>Éleveur:</strong> ${n.breeder||"Non spécifié"}</p>
                  </div>
                </div>
              </div>

              <!-- Parents -->
              <div style="margin: 20px 0;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Ascendance</h4>
                
                <!-- Père -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #007bff; background: #f0f8ff;">
                  <h5 style="margin: 0 0 8px 0; color: #007bff;">Père</h5>
                  <p><strong>Nom:</strong> ${n.fatherName||"Non spécifié"}</p>
                  <p><strong>N° Pedigree:</strong> ${n.fatherPedigree||"Non spécifié"}</p>
                  <p><strong>Race:</strong> ${n.fatherBreed||"Non spécifiée"}</p>
                  ${n.fatherTitles?`<p><strong>Titres:</strong> ${n.fatherTitles}</p>`:""}
                </div>

                <!-- Mère -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #e91e63; background: #fce4ec;">
                  <h5 style="margin: 0 0 8px 0; color: #e91e63;">Mère</h5>
                  <p><strong>Nom:</strong> ${n.motherName||"Non spécifié"}</p>
                  <p><strong>N° Pedigree:</strong> ${n.motherPedigree||"Non spécifié"}</p>
                  <p><strong>Race:</strong> ${n.motherBreed||"Non spécifiée"}</p>
                  ${n.motherTitles?`<p><strong>Titres:</strong> ${n.motherTitles}</p>`:""}
                </div>
              </div>

              <!-- Certificat Pedigree -->
              ${n.pedigreePhoto?`
                <div style="margin: 20px 0; text-align: center;">
                  <h4 style="margin: 0 0 15px 0; color: #333;">Certificat Pedigree</h4>
                  <img src="${n.pedigreePhoto}" alt="Certificat Pedigree" style="max-width: 100%; max-height: 400px; object-fit: contain; border-radius: 8px; border: 2px solid #ddd; box-shadow: 0 4px 8px rgba(0,0,0,0.1);" />
                  <p style="margin-top: 10px; font-size: 12px; color: #666;">Document officiel du pedigree</p>
                </div>
              `:""}
            </div>
          `:""}

          <!-- Album Photo -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Album Photo</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin: 15px 0;">
              ${n.photo?`
                <div style="text-align: center;">
                  <img src="${n.photo}" alt="Photo principale" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                  <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo principale</div>
                </div>
              `:""}
              ${we.some(Le=>Le.photos&&Le.photos.length>0)?we.map(Le=>Le.photos?Le.photos.map((kn,Xn)=>`
                    <div style="text-align: center;">
                      <img src="${kn}" alt="Consultation ${new Date(Le.date).toLocaleDateString("fr-FR")} - Photo ${Xn+1}" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                      <div style="font-size: 11px; color: #666; margin-top: 5px;">Consultation ${new Date(Le.date).toLocaleDateString("fr-FR")}</div>
                    </div>
                  `).join(""):"").join(""):""}
            </div>
            ${!n.photo&&!we.some(Le=>Le.photos&&Le.photos.length>0)?'<p style="text-align: center; color: #666; font-style: italic;">Aucune photo disponible</p>':""}
          </div>

          <div style="margin-top: 40px; text-align: center; font-size: 12px; color: #666;">
            <p>VetPro CRM - Gestion Vétérinaire Complète</p>
          </div>
        </body>
      </html>
    `;le.document.write(qe),le.document.close(),le.focus(),le.print(),le.close()};return r.jsxs(r.Fragment,{children:[r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[1000px] max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-5 w-5"}),"Dossier Médical - ",n.name,Fe&&r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(Propriétaire: ",Fe.name,")"]})]})}),r.jsxs(pl,{value:P,onValueChange:E,className:"space-y-4",children:[r.jsxs(bo,{className:"grid w-full grid-cols-7",children:[r.jsxs(ln,{value:"overview",className:"gap-2",children:[r.jsx(Ma,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(ln,{value:"history",className:"gap-2",children:[r.jsx(jr,{className:"h-4 w-4"}),"Historique"]}),r.jsxs(ln,{value:"prescriptions",className:"gap-2",children:[r.jsx(Ts,{className:"h-4 w-4"}),"Prescriptions"]}),r.jsxs(ln,{value:"vaccinations",className:"gap-2",children:[r.jsx(Ts,{className:"h-4 w-4"}),"Vaccinations"]}),r.jsxs(ln,{value:"antiparasites",className:"gap-2",children:[r.jsx(rc,{className:"h-4 w-4"}),"Antiparasitaires"]}),r.jsxs(ln,{value:"pedigree",className:"gap-2",children:[r.jsx(v0,{className:"h-4 w-4"}),"Pedigree"]}),r.jsxs(ln,{value:"charts",className:"gap-2",children:[r.jsx(gr,{className:"h-4 w-4"}),"Évolution"]}),r.jsxs(ln,{value:"alerts",className:"gap-2",children:[r.jsx(Vr,{className:"h-4 w-4"}),"Alertes"]})]}),r.jsxs(cn,{value:"overview",className:"space-y-4",children:[r.jsxs(de,{children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between",children:[r.jsx(Pe,{className:"text-lg",children:"Galerie photos"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:Ne,className:"hidden",id:"add-photo-input"}),r.jsxs("label",{htmlFor:"add-photo-input",className:"cursor-pointer inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:[r.jsx(ht,{className:"h-4 w-4"}),"Ajouter une photo"]})]})]}),r.jsx(he,{children:r.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[n.photo&&r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("img",{src:n.photo,alt:"Photo officielle",className:"h-32 w-32 object-cover rounded"}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:"Officielle"})]}),L.map((le,qe)=>r.jsxs("div",{className:"relative flex-shrink-0 group",children:[r.jsx("img",{src:le,alt:`Photo supplémentaire ${qe+1}`,className:"h-32 w-32 object-cover rounded"}),r.jsxs("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:["Photo ",qe+1]}),r.jsx("button",{onClick:()=>Be(qe),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:"×"})]},`additional-${qe}`)),we.map(le=>{var qe;return(qe=le.photos)==null?void 0:qe.map((Le,kn)=>r.jsxs("div",{className:"relative flex-shrink-0 group",children:[r.jsx("img",{src:Le,alt:`consultation-${le.id}-${kn}`,className:"h-32 w-32 object-cover rounded"}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:new Date(le.date).toLocaleDateString("fr-FR")}),r.jsx("button",{onClick:()=>xe(le.id,kn),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:"×"})]},`${le.id}-${kn}`))}),!n.photo&&L.length===0&&we.every(le=>!le.photos||le.photos.length===0)&&r.jsx("div",{className:"flex items-center justify-center h-32 w-full border-2 border-dashed border-gray-300 rounded text-gray-500",children:"Aucune photo disponible"})]})})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(x0,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),r.jsxs("p",{className:"text-2xl font-bold",children:[Nn,"kg"]}),Qn!==0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[ys==="up"?r.jsx(gr,{className:"h-3 w-3 text-green-600"}):r.jsx(Uu,{className:"h-3 w-3 text-red-600"}),r.jsxs("span",{className:ys==="up"?"text-green-600":"text-red-600",children:[Math.abs(Qn),"kg"]})]})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(sg,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Température"}),r.jsxs("p",{className:"text-2xl font-bold",children:[Se,"°C"]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Moy: ",Ut.toFixed(1),"°C"]})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),r.jsx("p",{className:"text-2xl font-bold",children:we.length}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernière: ",tt?new Date(tt.date).toLocaleDateString("fr-FR"):"Aucune"]})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vr,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),r.jsx("p",{className:"text-2xl font-bold",children:sn.length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:sn.length>0?"À traiter":"Aucune"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ts,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prescriptions"}),r.jsx("p",{className:"text-2xl font-bold",children:l(n.id).length}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[c().filter(le=>le.petId===n.id).length," active(s)"]})]})]})})})]}),mt&&r.jsx(de,{className:"border-primary",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Prochain suivi recommandé"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:mt.reason})]}),r.jsxs(V,{size:"sm",onClick:Qr,children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Planifier"]})]})})}),sn.length>0&&r.jsxs(de,{className:"border-destructive",children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-destructive",children:"Alertes importantes"})}),r.jsx(he,{className:"space-y-2",children:sn.slice(0,3).map((le,qe)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/10 rounded",children:[r.jsx(Vr,{className:"h-4 w-4 text-destructive"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:le.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:le.message})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Bs(le.actionType),children:le.action})]},qe))})]})]}),r.jsxs(cn,{value:"history",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique des consultations"}),r.jsxs(V,{size:"sm",onClick:Qr,className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Planifier Consultation"]})]}),we.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(jr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation enregistrée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer la première consultation"})]})}):r.jsx("div",{className:"space-y-4",children:we.map(le=>r.jsxs(de,{children:[r.jsx(_e,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Pe,{className:"text-base",children:["Consultation #",le.id]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(Dt,{className:"h-4 w-4"}),new Date(le.date).toLocaleDateString("fr-FR")]})]})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"}),r.jsx("span",{className:"ml-2",children:le.weight||"Non renseigné"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Température:"}),r.jsx("span",{className:"ml-2",children:le.temperature||"Non renseigné"})]})]}),le.symptoms&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Symptômes:"}),r.jsx("p",{className:"text-sm mt-1",children:le.symptoms})]}),le.diagnosis&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-sm mt-1",children:le.diagnosis})]}),le.treatment&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Traitement:"}),r.jsx("p",{className:"text-sm mt-1",children:le.treatment})]}),le.medications&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Médicaments:"}),r.jsx("p",{className:"text-sm mt-1",children:le.medications})]}),le.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:le.notes})]}),le.followUp&&r.jsxs("div",{className:"pt-2 border-t",children:[r.jsx("span",{className:"font-medium text-primary",children:"Suivi recommandé:"}),r.jsx("p",{className:"text-sm mt-1",children:le.followUp})]})]})]},le.id))})]}),r.jsx(cn,{value:"prescriptions",className:"space-y-4",children:r.jsx(r9,{petId:n.id})}),r.jsxs(cn,{value:"charts",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Évolution du poids et de la température"}),Ht.length>0?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(x0,{className:"h-5 w-5"}),"Évolution du poids"]})}),r.jsx(he,{children:r.jsx(cl,{width:"100%",height:200,children:r.jsxs(L3,{data:Ht,children:[r.jsx(sd,{strokeDasharray:"3 3"}),r.jsx(Fa,{dataKey:"date"}),r.jsx(Ba,{}),r.jsx(Ur,{}),r.jsx(Tf,{type:"monotone",dataKey:"weight",stroke:"#2563eb",strokeWidth:2})]})})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(sg,{className:"h-5 w-5"}),"Évolution de la température"]})}),r.jsx(he,{children:r.jsx(cl,{width:"100%",height:200,children:r.jsxs(L3,{data:Ht,children:[r.jsx(sd,{strokeDasharray:"3 3"}),r.jsx(Fa,{dataKey:"date"}),r.jsx(Ba,{}),r.jsx(Ur,{}),r.jsx(Tf,{type:"monotone",dataKey:"temperature",stroke:"#dc2626",strokeWidth:2})]})})})]})]}):r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(gr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune donnée disponible pour les graphiques"}),r.jsx("p",{className:"text-sm",children:"Ajoutez des consultations avec poids et température"})]})})]}),r.jsxs(cn,{value:"vaccinations",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique vaccinal"}),r.jsx(R0,{selectedClientId:Fe==null?void 0:Fe.id,selectedPetId:n.id,children:r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle vaccination"]})})]}),Ge.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(Ts,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune vaccination enregistrée"}),r.jsx("p",{className:"text-sm",children:"Commencez par ajouter la première vaccination"})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(Ts,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(Dt,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"À jour"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.filter(le=>le.status==="completed").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(Vr,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.filter(le=>le.status==="overdue").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(Dt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiées"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.filter(le=>le.status==="scheduled").length})]})]})})})]}),r.jsx("div",{className:"space-y-3",children:Ge.map(le=>r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Ts,{className:`h-5 w-5 ${le.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),r.jsxs("h4",{className:"font-semibold text-lg",children:[le.vaccineName,le.vaccinationCategory==="reminder"&&r.jsx("span",{className:"ml-2 text-sm text-orange-600 font-normal",children:"(Rappel)"})]}),r.jsx($e,{variant:le.vaccineType==="core"?"default":"secondary",className:"text-xs",children:le.vaccineType==="core"?"Essentiel":le.vaccineType==="non-core"?"Optionnel":le.vaccineType==="rabies"?"Rage":"Personnalisé"}),le.vaccinationCategory==="reminder"&&r.jsx($e,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"}),J===le.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{value:le.status,onValueChange:qe=>I(le.id,qe),children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"completed",children:"Terminée"}),r.jsx(W,{value:"scheduled",children:"Planifiée"}),r.jsx(W,{value:"overdue",children:"En retard"}),r.jsx(W,{value:"missed",children:"Manquée"})]})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ne(null),children:"Annuler"})]}):r.jsx($e,{className:le.status==="completed"?"bg-green-100 text-green-800 border-green-200 cursor-pointer hover:bg-green-200":le.status==="overdue"?"bg-red-100 text-red-800 border-red-200 cursor-pointer hover:bg-red-200":le.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200 cursor-pointer hover:bg-blue-200":"bg-orange-100 text-orange-800 border-orange-200 cursor-pointer hover:bg-orange-200",onClick:()=>ne(le.id),children:le.status==="completed"?"Terminée":le.status==="overdue"?"En retard":le.status==="scheduled"?"Planifiée":"Manquée"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:le.vaccinationCategory==="reminder"?"Date du rappel":"Date administrée"}),r.jsx("p",{className:"font-medium",children:ho(le.dateGiven)})]}),le.vaccinationCategory==="new"&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Rappel prévu"}),r.jsx("p",{className:"font-medium",children:ho(le.nextDueDate)})]}),le.vaccinationCategory==="reminder"&&le.originalVaccinationId&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vaccination originale"}),r.jsxs("p",{className:"font-medium text-sm text-gray-500",children:["ID: ",le.originalVaccinationId]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vétérinaire"}),r.jsx("p",{className:"font-medium",children:le.veterinarian})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Coût"}),r.jsx("p",{className:"font-medium",children:le.cost?`${le.cost} €`:"Non spécifié"})]})]}),le.batchNumber&&r.jsx("div",{className:"mt-3 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Numéro de lot: ",r.jsx("span",{className:"font-medium",children:le.batchNumber})]})}),le.manufacturer&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",r.jsx("span",{className:"font-medium",children:le.manufacturer})]})}),le.location&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Site d'injection: ",r.jsx("span",{className:"font-medium",children:le.location==="left_shoulder"?"Épaule gauche":le.location==="right_shoulder"?"Épaule droite":le.location==="left_hip"?"Hanche gauche":le.location==="right_hip"?"Hanche droite":"Sous-cutané"})]})}),le.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Notes:"})," ",le.notes]})}),le.adverseReactions&&r.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:"⚠️ Réactions adverses:"})," ",le.adverseReactions]})})]}),r.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:be,children:[r.jsx(cr,{className:"h-4 w-4"}),"Certificat"]}),le.nextDueDate&&new Date(le.nextDueDate)<=new Date&&le.status!=="completed"&&!le.reminderAppointmentId&&r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>ee(le),children:[r.jsx(ht,{className:"h-4 w-4"}),"Rappel"]}),le.reminderAppointmentId&&r.jsx($e,{variant:"outline",className:"text-xs",children:"Rappel programmé"}),le.status==="overdue"&&r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>G(le),children:[r.jsx(Jte,{className:"h-4 w-4"}),"Confirmer"]})]})]}),le.reminderHistory&&le.reminderHistory.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsx("h5",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Historique des rappels"}),r.jsx("div",{className:"space-y-2",children:le.reminderHistory.map(qe=>r.jsxs("div",{className:"flex items-center justify-between text-xs bg-muted/30 p-2 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(qe.scheduledDate).toLocaleDateString("fr-FR")})]}),r.jsx($e,{variant:qe.status==="completed"?"default":qe.status==="missed"?"destructive":"secondary",className:"text-xs",children:qe.status==="completed"?"Complété":qe.status==="missed"?"Manqué":qe.status==="cancelled"?"Annulé":"Programmé"})]},qe.id))})]})]})},le.id))})]})]}),r.jsxs(cn,{value:"antiparasites",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique antiparasitaire"}),r.jsx(L0,{selectedClientId:Fe==null?void 0:Fe.id,selectedPetId:n.id,children:r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),Ke.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(rc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun traitement antiparasitaire enregistré"}),r.jsx("p",{className:"text-sm",children:"Ajoutez des traitements depuis l'onglet Antiparasitaires"})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(rc,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(br,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Complétés"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.filter(le=>le.status==="completed").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(Vr,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.filter(le=>le.status==="overdue").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(Dt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiés"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.filter(le=>le.status==="scheduled").length})]})]})})})]}),r.jsx("div",{className:"space-y-3",children:Ke.map(le=>r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(rc,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold text-lg",children:le.productName}),r.jsx($e,{className:le.status==="completed"?"bg-green-100 text-green-800 border-green-200":le.status==="overdue"?"bg-red-100 text-red-800 border-red-200":le.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200":"bg-orange-100 text-orange-800 border-orange-200",children:le.status==="completed"?"Terminé":le.status==="overdue"?"En retard":le.status==="scheduled"?"Planifié":"Manqué"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Date administrée"}),r.jsx("p",{className:"font-medium",children:new Date(le.dateGiven).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Prochain traitement"}),r.jsx("p",{className:"font-medium",children:le.nextDueDate?new Date(le.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Type"}),r.jsx("p",{className:"font-medium",children:le.productType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vétérinaire"}),r.jsx("p",{className:"font-medium",children:le.veterinarian})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mt-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Parasites ciblés"}),r.jsx("p",{className:"font-medium",children:le.targetParasites})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Dosage"}),r.jsx("p",{className:"font-medium",children:le.dosage||"Non spécifié"})]})]}),le.batchNumber&&r.jsx("div",{className:"mt-3 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Numéro de lot: ",r.jsx("span",{className:"font-medium",children:le.batchNumber})]})}),le.manufacturer&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",r.jsx("span",{className:"font-medium",children:le.manufacturer})]})}),le.weight&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Poids de l'animal: ",r.jsx("span",{className:"font-medium",children:le.weight})]})}),le.cost&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Coût: ",r.jsxs("span",{className:"font-medium",children:[le.cost," €"]})]})}),le.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Notes:"})," ",le.notes]})}),le.sideEffects&&r.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:"⚠️ Effets indésirables:"})," ",le.sideEffects]})})]}),r.jsx("div",{className:"flex flex-col gap-2 ml-4",children:le.nextDueDate&&new Date(le.nextDueDate)<=new Date&&le.status!=="completed"&&r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Rappel"]})})]})})},le.id))})]})]}),r.jsxs(cn,{value:"pedigree",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Pedigree Officiel"}),r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>$(!M),className:"gap-2",children:[r.jsx(tn,{className:"h-4 w-4"}),M?"Annuler":"Modifier"]})]}),r.jsx(de,{children:r.jsx(_e,{children:r.jsxs(Pe,{className:"text-lg flex items-center gap-2",children:[r.jsx(Xi,{id:"hasPedigree",checked:T.hasPedigree,onCheckedChange:le=>O(qe=>({...qe,hasPedigree:le})),disabled:!M}),r.jsx(F,{htmlFor:"hasPedigree",className:"text-lg",children:"Cet animal a un pedigree officiel"})]})})}),T.hasPedigree&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-lg",children:"Informations sur l'animal"})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(se,{id:"officialName",value:T.officialName,onChange:le=>O(qe=>({...qe,officialName:le.target.value})),disabled:!M,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),r.jsx(se,{id:"pedigreeNumber",value:T.pedigreeNumber,onChange:le=>O(qe=>({...qe,pedigreeNumber:le.target.value})),disabled:!M,placeholder:"Numéro de pedigree"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"breeder",children:"Éleveur"}),r.jsx(se,{id:"breeder",value:T.breeder,onChange:le=>O(qe=>({...qe,breeder:le.target.value})),disabled:!M,placeholder:"Nom de l'éleveur"})]})]})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-lg",children:"Parents"})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:"Père"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom du père",value:T.fatherName,onChange:le=>O(qe=>({...qe,fatherName:le.target.value})),disabled:!M}),r.jsx(se,{placeholder:"N° pedigree du père",value:T.fatherPedigree,onChange:le=>O(qe=>({...qe,fatherPedigree:le.target.value})),disabled:!M}),r.jsx(se,{placeholder:"Race du père",value:T.fatherBreed,onChange:le=>O(qe=>({...qe,fatherBreed:le.target.value})),disabled:!M}),r.jsx(wt,{placeholder:"Titres du père",value:T.fatherTitles,onChange:le=>O(qe=>({...qe,fatherTitles:le.target.value})),disabled:!M,rows:2})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom de la mère",value:T.motherName,onChange:le=>O(qe=>({...qe,motherName:le.target.value})),disabled:!M}),r.jsx(se,{placeholder:"N° pedigree de la mère",value:T.motherPedigree,onChange:le=>O(qe=>({...qe,motherPedigree:le.target.value})),disabled:!M}),r.jsx(se,{placeholder:"Race de la mère",value:T.motherBreed,onChange:le=>O(qe=>({...qe,motherBreed:le.target.value})),disabled:!M}),r.jsx(wt,{placeholder:"Titres de la mère",value:T.motherTitles,onChange:le=>O(qe=>({...qe,motherTitles:le.target.value})),disabled:!M,rows:2})]})]})]})})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-lg",children:"Document officiel"})}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:async le=>{var kn;const qe=(kn=le.target.files)==null?void 0:kn[0];if(!qe)return;const Le=new FileReader;Le.onload=()=>O(Xn=>({...Xn,pedigreePhoto:Le.result})),Le.readAsDataURL(qe)},disabled:!M}),T.pedigreePhoto&&r.jsx("img",{src:T.pedigreePhoto,alt:"Document pedigree",className:"h-48 w-auto object-contain rounded border"})]})})]}),M&&r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:Y,children:"Annuler"}),r.jsx(V,{onClick:z,children:"Sauvegarder"})]})]}),!T.hasPedigree&&r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(v0,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun pedigree officiel"}),r.jsx("p",{className:"text-sm",children:"Cochez la case ci-dessus pour ajouter les informations du pedigree"})]})})]}),r.jsxs(cn,{value:"alerts",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Alertes et rappels"}),sn.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(Vr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune alerte active"}),r.jsx("p",{className:"text-sm",children:"Tout va bien !"})]})}):r.jsx("div",{className:"space-y-4",children:sn.map((le,qe)=>r.jsx(de,{className:le.type==="danger"?"border-destructive":"border-accent",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Vr,{className:`h-5 w-5 ${le.type==="danger"?"text-destructive":"text-accent"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:le.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:le.message})]}),r.jsx(V,{size:"sm",variant:"outline",children:le.action})]})})},qe))})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{onClick:yl,className:"gap-2",children:[r.jsx(_A,{className:"h-4 w-4"}),"Imprimer Dossier"]})]})]})}),r.jsx(tm,{open:v,onOpenChange:y}),r.jsx(CV,{open:N,onOpenChange:le=>{b(le),le||(H({clientId:0,petId:0,type:"",reason:""}),X(null))},prefillClientId:Z.clientId,prefillPetId:Z.petId,prefillType:Z.type,prefillReason:Z.reason,originalVaccinationId:ae==null?void 0:ae.id}),j&&r.jsx(R0,{selectedClientId:Fe==null?void 0:Fe.id,selectedPetId:n.id,children:r.jsx(V,{onClick:()=>_(!1),children:"Fermer"})}),r.jsx(Epe,{open:D,onOpenChange:le=>{ie(le),le||te(null)},vaccination:me}),C&&r.jsx(L0,{selectedClientId:Fe==null?void 0:Fe.id,selectedPetId:n.id,children:r.jsx(V,{onClick:()=>A(!1),children:"Fermer"})}),n&&r.jsx("div",{style:{display:"none"},children:r.jsx(NP,{ref:ye,petId:n.id})})]})}const TFe={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"};function OFe(){const{pets:e,consultations:t,appointments:n,clients:s}=Nt();Zt();const[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(null),N=[...e].sort((O,L)=>!O.lastVisit&&!L.lastVisit?0:O.lastVisit?L.lastVisit?new Date(L.lastVisit).getTime()-new Date(O.lastVisit).getTime():-1:1).slice(0,5),b=e.length,j=e.filter(O=>O.status==="healthy").length;e.filter(O=>O.status==="treatment").length,e.filter(O=>O.status==="urgent").length;const _=e.filter(O=>{if(!O.lastVisit)return!1;const L=new Date(O.lastVisit),B=new Date().getMonth(),Z=new Date().getFullYear();return L.getMonth()===B&&L.getFullYear()===Z}).length,C=b>0?(t.length/b).toFixed(1):"0",A=O=>{v(O),l(!0)},P=O=>{v(O),u(!0)},E=O=>{v(O),f(!0)},M=O=>{v(O),g(!0)},$=O=>{const L=t.filter(H=>H.petId===O.id),B=n.filter(H=>H.petId===O.id),Z=s.find(H=>H.id===O.ownerId);return{consultations:L.length,appointments:B.length,owner:(Z==null?void 0:Z.name)||O.owner,lastConsultation:L.length>0?Math.max(...L.map(H=>new Date(H.date).getTime())):O.lastVisit?new Date(O.lastVisit).getTime():0}},T=O=>{switch(O){case"healthy":return r.jsx(Wt,{className:"h-3 w-3 text-green-600"});case"treatment":return r.jsx(jr,{className:"h-3 w-3 text-yellow-600"});case"urgent":return r.jsx(Vn,{className:"h-3 w-3 text-red-600"});default:return r.jsx(Wt,{className:"h-3 w-3"})}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{className:"card-hover",children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Pe,{className:"text-lg font-semibold",children:"Animaux Récents"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wt,{className:"h-3 w-3"}),r.jsxs("span",{children:[b," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ma,{className:"h-3 w-3"}),r.jsxs("span",{children:[j," en bonne santé"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(gr,{className:"h-3 w-3"}),r.jsxs("span",{children:["+",_," ce mois"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Kn,{className:"h-3 w-3"}),r.jsxs("span",{children:["Ø ",C," consultations"]})]})]})]}),r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>a(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvel Animal"]})]}),r.jsx(he,{className:"space-y-4",children:N.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Wt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun animal enregistré"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier animal"})]}):N.map(O=>{const L=$(O);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[r.jsx(Gr,{className:"h-12 w-12 flex-shrink-0",children:O.photo?r.jsx(ll,{src:O.photo,alt:O.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Wt,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium truncate",children:O.name}),r.jsxs($e,{variant:"outline",className:TFe[O.status],children:[T(O.status),r.jsx("span",{className:"ml-1",children:O.status==="healthy"?"En bonne santé":O.status==="treatment"?"En traitement":"Urgent"})]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"font-medium",children:O.type}),O.breed&&r.jsxs("span",{children:[" - ",O.breed]}),O.gender&&r.jsxs("span",{children:[" (",O.gender==="male"?"Mâle":"Femelle",")"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Dt,{className:"h-3 w-3"}),r.jsx("span",{children:O.birthDate?nf(O.birthDate):"Âge inconnu"})]})]})}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Propriétaire: ",L.owner]}),r.jsxs("span",{children:["Consultations: ",L.consultations]}),r.jsxs("span",{children:["RDV: ",L.appointments]}),O.lastVisit&&r.jsxs("span",{children:["Dernière visite: ",new Date(O.lastVisit).toLocaleDateString("fr-FR")]})]})]})]}),r.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>A(O),className:"h-8 px-2",children:r.jsx(Ir,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>P(O),className:"h-8 px-2",children:r.jsx(tn,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>E(O),className:"h-8 px-2 text-xs",children:"Dossier"}),r.jsx(V,{size:"sm",onClick:()=>M(O),className:"h-8 px-2 text-xs",children:r.jsx(jr,{className:"h-3 w-3"})})]})]},O.id)})})]}),r.jsx(jv,{open:i,onOpenChange:a}),r.jsx(_V,{open:o,onOpenChange:l,pet:x,onEdit:()=>{l(!1),u(!0)},onShowDossier:()=>{l(!1),f(!0)}}),r.jsx(Ife,{open:c,onOpenChange:u,pet:x}),r.jsx(v9,{open:d,onOpenChange:f,pet:x}),r.jsx(tm,{open:m,onOpenChange:g})]})}function x9({open:e,onOpenChange:t,consultation:n}){const{clients:s,pets:i,updateConsultation:a}=Nt(),{toast:o}=$t(),{settings:l}=Zt(),[c,u]=w.useState({clientId:0,clientName:"",petId:0,petName:"",date:"",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",medications:"",followUp:"",cost:"",notes:""}),d=i.filter(v=>v.ownerId===c.clientId),f=new Date().toISOString().split("T")[0],m=v=>{u(y=>({...y,[v.target.id]:v.target.value}))},g=(v,y)=>{if(v==="clientId"){const N=parseInt(y),b=s.find(j=>j.id===N);u(j=>({...j,clientId:N,clientName:(b==null?void 0:b.name)||"",petId:0,petName:""}))}else if(v==="petId"){const N=parseInt(y),b=i.find(j=>j.id===N);u(j=>({...j,petId:N,petName:(b==null?void 0:b.name)||""}))}else u(N=>({...N,[v]:y}))},x=v=>{if(v.preventDefault(),!!n){if(!c.clientId||!c.petId){o({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}a(n.id,{clientId:c.clientId,clientName:c.clientName,petId:c.petId,petName:c.petName,date:c.date||f,weight:c.weight,temperature:c.temperature,symptoms:c.symptoms,diagnosis:c.diagnosis,treatment:c.treatment,medications:c.medications,followUp:c.followUp,cost:c.cost,notes:c.notes}),o({title:"Consultation modifiée",description:`Consultation pour ${c.petName} (${c.clientName}) a été modifiée et sauvegardée.`}),t(!1)}};return w.useEffect(()=>{e&&n&&u({clientId:n.clientId,clientName:n.clientName,petId:n.petId,petName:n.petName,date:n.date,weight:n.weight||"",temperature:n.temperature||"",symptoms:n.symptoms||"",diagnosis:n.diagnosis||"",treatment:n.treatment||"",medications:n.medications||"",followUp:n.followUp||"",cost:n.cost||"",notes:n.notes||""})},[e,n]),n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier la Consultation"}),r.jsxs(jn,{children:["Modifiez les détails de la consultation pour ",n.petName,"."]})]}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Client *"}),r.jsxs(Me,{value:c.clientId.toString(),onValueChange:v=>g("clientId",v),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le client"})}),r.jsx(De,{children:s.map(v=>r.jsx(W,{value:v.id.toString(),children:v.name},v.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Animal *"}),r.jsxs(Me,{value:c.petId.toString(),onValueChange:v=>g("petId",v),disabled:!c.clientId,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:c.clientId?"Sélectionner l'animal":"Sélectionnez d'abord un client"})}),r.jsx(De,{children:d.map(v=>r.jsxs(W,{value:v.id.toString(),children:[v.name," (",v.type,")"]},v.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"date",children:"Date *"}),r.jsx(se,{id:"date",type:"date",value:c.date||f,onChange:m,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(se,{id:"weight",type:"number",step:"0.1",value:c.weight,onChange:m,placeholder:"ex: 25.5"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"temperature",children:"Température (°C)"}),r.jsx(se,{id:"temperature",type:"number",step:"0.1",value:c.temperature,onChange:m,placeholder:"ex: 38.5"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"symptoms",children:"Symptômes observés"}),r.jsx(wt,{id:"symptoms",value:c.symptoms,onChange:m,placeholder:"Décrivez les symptômes et observations...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(wt,{id:"diagnosis",value:c.diagnosis,onChange:m,placeholder:"Diagnostic posé...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"treatment",children:"Traitement administré"}),r.jsx(wt,{id:"treatment",value:c.treatment,onChange:m,placeholder:"Traitements, injections, interventions...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"medications",children:"Médicaments prescrits"}),r.jsx(wt,{id:"medications",value:c.medications,onChange:m,placeholder:"Liste des médicaments avec posologie...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"followUp",children:"Suivi recommandé"}),r.jsx(se,{id:"followUp",value:c.followUp,onChange:m,placeholder:"ex: Contrôle dans 1 semaine"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(F,{htmlFor:"cost",children:["Coût (",l.currency,")"]}),r.jsx(se,{id:"cost",type:"number",step:"0.01",value:c.cost,onChange:m,placeholder:"ex: 85.50"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes additionnelles"}),r.jsx(wt,{id:"notes",value:c.notes,onChange:m,placeholder:"Notes diverses, recommandations...",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Modifier Consultation"})]})]})]})}):null}function Uj({consultation:e}){const{settings:t}=Zt(),n=()=>{const s=window.open("","_blank");if(!s)return;const i=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Consultation - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-name {
              font-size: 24px;
              font-weight: bold;
              color: #2563eb;
            }
            .consultation-title {
              font-size: 20px;
              margin: 10px 0;
            }
            .info-grid {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
              margin-bottom: 30px;
            }
            .info-section {
              border: 1px solid #ddd;
              padding: 15px;
              border-radius: 5px;
            }
            .info-section h3 {
              margin: 0 0 10px 0;
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .info-item {
              margin: 5px 0;
            }
            .info-label {
              font-weight: bold;
              color: #666;
            }
            .medical-section {
              margin: 20px 0;
            }
            .medical-section h3 {
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .footer {
              margin-top: 40px;
              text-align: center;
              font-size: 12px;
              color: #666;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <div class="consultation-title">Rapport de Consultation</div>
            <div>Date: ${new Date(e.date).toLocaleDateString("fr-FR")}</div>
          </div>

          <div class="info-grid">
            <div class="info-section">
              <h3>Informations Client</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${e.clientName}
              </div>
            </div>
            <div class="info-section">
              <h3>Informations Animal</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${e.petName}
              </div>
              <div class="info-item">
                <span class="info-label">Poids:</span> ${e.weight||"Non renseigné"}
              </div>
              <div class="info-item">
                <span class="info-label">Température:</span> ${e.temperature||"Non renseigné"}
              </div>
            </div>
          </div>

          ${e.symptoms?`
            <div class="medical-section">
              <h3>Symptômes Observés</h3>
              <p>${e.symptoms}</p>
            </div>
          `:""}

          ${e.diagnosis?`
            <div class="medical-section">
              <h3>Diagnostic</h3>
              <p>${e.diagnosis}</p>
            </div>
          `:""}

          ${e.treatment?`
            <div class="medical-section">
              <h3>Traitement Administré</h3>
              <p>${e.treatment}</p>
            </div>
          `:""}

          ${e.medications?`
            <div class="medical-section">
              <h3>Médicaments Prescrits</h3>
              <p>${e.medications}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="medical-section">
              <h3>Notes Additionnelles</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="info-grid">
            <div class="info-section">
              <h3>Suivi Recommandé</h3>
              <p>${e.followUp||"Aucun suivi prévu"}</p>
            </div>
            <div class="info-section">
              <h3>Coût</h3>
              <p>${e.cost?e.cost+" "+t.currency:"Non renseigné"}</p>
            </div>
          </div>

          <div class="footer">
            <p>Consultation générée le ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
            <p>VetPro CRM - Gestion Vétérinaire Complète</p>
          </div>
        </body>
      </html>
    `;s.document.write(i),s.document.close(),s.focus(),s.print(),s.close()};return r.jsxs(V,{size:"sm",variant:"outline",onClick:n,className:"gap-2",children:[r.jsx(_A,{className:"h-4 w-4"}),"Imprimer"]})}function DFe(){const{consultations:e,deleteConsultation:t,pets:n,clients:s}=Nt(),{settings:i}=Zt(),{toast:a}=$t(),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),g=[...e].sort((L,B)=>new Date(B.date).getTime()-new Date(L.date).getTime()).slice(0,5),x=e.length,v=e.filter(L=>L.date===new Date().toISOString().split("T")[0]).length,y=new Date().getMonth(),N=new Date().getFullYear(),b=e.filter(L=>{const B=new Date(L.date);return B.getMonth()===y&&B.getFullYear()===N}).length,j=e.filter(L=>{const B=new Date(L.date),Z=y===0?11:y-1,H=y===0?N-1:N;return B.getMonth()===Z&&B.getFullYear()===H}).length,_=j>0?Math.round((b-j)/j*100):b>0?100:0,C=b*50,A=j*50,P=A>0?Math.round((C-A)/A*100):C>0?100:0,E=L=>{f(L),u(!0)},M=L=>{confirm(`Êtes-vous sûr de vouloir supprimer la consultation pour ${L.petName} ?`)&&(t(L.id),a({title:"Consultation supprimée",description:`La consultation pour ${L.petName} a été supprimée.`}))},$=L=>{const B=new Date().toISOString().split("T")[0];return L.date===B?"bg-accent text-accent-foreground":L.date<B?"bg-secondary text-secondary-foreground":"bg-primary text-primary-foreground"},T=L=>{const B=new Date().toISOString().split("T")[0];return L.date===B?"Aujourd'hui":L.date<B?"Terminée":"À venir"},O=L=>{const B=n.find(H=>H.id===L.petId),Z=s.find(H=>H.id===L.clientId);return{petType:(B==null?void 0:B.type)||"Inconnu",petBreed:(B==null?void 0:B.breed)||"Non spécifiée",clientPhone:(Z==null?void 0:Z.phone)||"Non spécifié",clientCity:(Z==null?void 0:Z.city)||"Non spécifiée"}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{className:"card-hover",children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Pe,{className:"text-lg font-semibold",children:"Consultations Récentes"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(jr,{className:"h-3 w-3"}),r.jsxs("span",{children:[x," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ma,{className:"h-3 w-3"}),r.jsxs("span",{children:[v," aujourd'hui"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(gr,{className:"h-3 w-3"}),r.jsxs("span",{children:[b," ce mois"]}),_!==0&&r.jsxs($e,{variant:_>0?"default":"destructive",className:"text-xs",children:[_>0?"+":"",_,"%"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(zf,{className:"h-3 w-3"}),r.jsxs("span",{children:["~",C,"€ ce mois"]}),P!==0&&r.jsxs($e,{variant:P>0?"default":"destructive",className:"text-xs",children:[P>0?"+":"",P,"%"]})]})]})]}),r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>l(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]}),r.jsx(he,{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(jr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation enregistrée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre première consultation"})]}):g.map(L=>{const B=O(L);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{className:"h-12 w-12",children:r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(jr,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h4",{className:"font-medium",children:["Consultation #",L.id]}),r.jsx($e,{variant:"outline",className:$(L),children:T(L)}),L.cost&&r.jsxs($e,{variant:"secondary",className:"text-xs",children:[L.cost," ",i.currency||"€"]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wt,{className:"h-3 w-3"}),r.jsxs("span",{children:[L.petName," (",B.petType,")"]}),B.petBreed!=="Non spécifiée"&&r.jsxs("span",{children:[" - ",B.petBreed]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Hr,{className:"h-3 w-3"}),r.jsx("span",{children:L.clientName})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Dt,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(L.date).toLocaleDateString("fr-FR")})]})]})}),r.jsx("div",{className:"text-xs text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[L.diagnosis&&r.jsxs("span",{children:["Diagnostic: ",L.diagnosis]}),L.weight&&r.jsxs("span",{children:["Poids: ",L.weight]}),L.temperature&&r.jsxs("span",{children:["Température: ",L.temperature,"°C"]}),L.photos&&L.photos.length>0&&r.jsxs("span",{children:["📷 ",L.photos.length," photo",L.photos.length>1?"s":""]})]})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>E(L),className:"gap-2",children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]}),r.jsx(Uj,{consultation:L}),r.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>M(L),className:"gap-2",children:[r.jsx(cr,{className:"h-4 w-4"}),"Supprimer"]})]})]},L.id)})})]}),r.jsx(tm,{open:o,onOpenChange:l}),r.jsx(x9,{open:c,onOpenChange:u,consultation:d})]})}function MFe(){const{appointments:e,stockItems:t,getUpcomingAppointments:n,getOverdueAppointments:s}=Nt();Zt();const i=new Date().toISOString().split("T")[0];n();const a=s(),o=e.filter(d=>d.date===i&&d.status!=="cancelled"&&d.status!=="completed"),l=t.filter(d=>d.currentStock<=d.minimumStock),c=t.filter(d=>d.currentStock===0),u=[];return c.length>0&&u.push({type:"critical",icon:Vn,title:"Stock épuisé",message:`${c.length} produit(s) en rupture de stock`,count:c.length,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}),l.length>0&&u.push({type:"warning",icon:Wn,title:"Stock faible",message:`${l.length} produit(s) en stock faible`,count:l.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),a.length>0&&u.push({type:"warning",icon:Kn,title:"Rendez-vous en retard",message:`${a.length} rendez-vous en retard`,count:a.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),o.length>0&&u.push({type:"info",icon:Dt,title:"Rendez-vous aujourd'hui",message:`${o.length} rendez-vous prévus aujourd'hui`,count:o.length,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"}),u.length===0?r.jsxs(de,{className:"card-hover",children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(gr,{className:"h-5 w-5 text-green-600"}),"Aucune alerte"]})}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"text-green-600 text-4xl mb-2",children:"✅"}),r.jsx("p",{className:"text-muted-foreground",children:"Tout va bien ! Aucune alerte à signaler."})]})})]}):r.jsxs(de,{className:"card-hover",children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Vn,{className:"h-5 w-5 text-orange-600"}),"Alertes & Notifications",r.jsx($e,{variant:"destructive",className:"ml-2",children:u.length})]})}),r.jsx(he,{className:"space-y-3",children:u.map((d,f)=>r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${d.borderColor} ${d.bgColor}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-full ${d.bgColor}`,children:r.jsx(d.icon,{className:`h-4 w-4 ${d.color}`})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:d.title}),r.jsx("p",{className:"text-xs text-muted-foreground",children:d.message})]})]}),r.jsx($e,{variant:d.type==="critical"?"destructive":d.type==="warning"?"secondary":"default",className:"text-xs",children:d.count})]},f))})]})}function IFe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,farmInterventions:o}=Nt();Zt();const l=e.reduce((N,b)=>N+b.pets.length,0),c=l===t.length,u=e.length+t.length+n.length+s.length+i.length+a.length+o.length,d=c?100:Math.round((u-Math.abs(l-t.length))/u*100),f=new Date().toISOString().split("T")[0],m=n.filter(N=>N.date===f).length,g=s.filter(N=>N.date===f&&N.status!=="cancelled"&&N.status!=="completed").length,x=new Date().getMonth(),v=new Date().getFullYear(),y=n.filter(N=>{const b=new Date(N.date);return b.getMonth()===x&&b.getFullYear()===v}).length;return r.jsxs(de,{className:"mb-6",children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[c?r.jsx(br,{className:"h-5 w-5 text-green-600"}):r.jsx(Vr,{className:"h-5 w-5 text-yellow-600"}),"Statut de Synchronisation"]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ia,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",children:["Clients: ",e.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wt,{className:"h-4 w-4 text-red-600"}),r.jsxs("span",{className:"text-sm",children:["Animaux: ",t.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm",children:["Consultations: ",n.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-4 w-4 text-purple-600"}),r.jsxs("span",{className:"text-sm",children:["RDV: ",s.length]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gr,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",children:["Aujourd'hui: ",m+g]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm",children:["Ce mois: ",y]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(br,{className:"h-4 w-4 text-orange-600"}),r.jsxs("span",{className:"text-sm",children:["Prescriptions: ",i.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-4 w-4 text-indigo-600"}),r.jsxs("span",{className:"text-sm",children:["Fermes: ",a.length]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Intégrité des données:"}),r.jsxs($e,{variant:d>=95?"default":d>=80?"secondary":"destructive",children:[d,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${d>=95?"bg-green-600":d>=80?"bg-yellow-600":"bg-red-600"}`,style:{width:`${d}%`}})}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:c?r.jsxs(r.Fragment,{children:[r.jsx(br,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-green-700",children:"Synchronisation OK"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Vr,{className:"h-4 w-4 text-yellow-600"}),r.jsx("span",{className:"text-yellow-700",children:"Désynchronisation détectée"})]})}),!c&&r.jsxs("div",{className:"text-xs text-muted-foreground bg-yellow-50 p-2 rounded",children:[r.jsx("strong",{children:"Attention:"})," ",Math.abs(l-t.length)," animal(s) non synchronisé(s) entre clients et animaux"]})]})]})]})}function $Fe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,farmInterventions:o,resetData:l,exportData:c,importData:u}=Nt(),{settings:d}=Zt(),{toast:f}=$t(),[m,g]=w.useState(!1),[x,v]=w.useState(!1),y=e.length+t.length+n.length+s.length+i.length+a.length+o.length,N=Math.round(y*.5),b=[...e.map(O=>O.lastVisit),...t.map(O=>O.lastVisit).filter(Boolean),...n.map(O=>O.date),...s.map(O=>O.date),...i.map(O=>O.date),...a.map(O=>O.lastVisit)].filter(Boolean),j=b.length>0?new Date(Math.max(...b.map(O=>new Date(O).getTime()))):new Date,_=new Date().toISOString().split("T")[0],C=new Date().getMonth(),A=new Date().getFullYear(),P=[...e.filter(O=>O.lastVisit===_),...t.filter(O=>O.lastVisit===_),...n.filter(O=>O.date===_),...s.filter(O=>O.date===_)].length,E=[...e.filter(O=>{const L=new Date(O.lastVisit);return L.getMonth()===C&&L.getFullYear()===A}),...t.filter(O=>{if(!O.lastVisit)return!1;const L=new Date(O.lastVisit);return L.getMonth()===C&&L.getFullYear()===A}),...n.filter(O=>{const L=new Date(O.date);return L.getMonth()===C&&L.getFullYear()===A}),...s.filter(O=>{const L=new Date(O.date);return L.getMonth()===C&&L.getFullYear()===A})].length,M=()=>{try{c(),f({title:"Données exportées",description:`Export de ${y} enregistrements réussi.`})}catch{f({title:"Erreur d'export",description:"Impossible d'exporter les données.",variant:"destructive"})}},$=O=>{var Z;const L=(Z=O.target.files)==null?void 0:Z[0];if(!L)return;const B=new FileReader;B.onload=H=>{var ae,X;try{const D=JSON.parse((ae=H.target)==null?void 0:ae.result);if(D.clients&&D.pets)u(D),f({title:"Données importées",description:`${D.clients.length} clients, ${D.pets.length} animaux et ${((X=D.consultations)==null?void 0:X.length)||0} consultations importés avec succès.`});else throw new Error("Format de fichier invalide")}catch{f({title:"Erreur d'import",description:"Le fichier sélectionné n'est pas valide.",variant:"destructive"})}},B.readAsText(L),v(!1)},T=()=>{try{l(),f({title:"Données réinitialisées",description:"Toutes les données ont été remises aux valeurs par défaut."}),g(!1)}catch{f({title:"Erreur de réinitialisation",description:"Impossible de réinitialiser les données.",variant:"destructive"})}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(qte,{className:"h-5 w-5"}),"Gestion des Données"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Total:"}),r.jsxs("span",{className:"text-muted-foreground",children:[y," enregistrements"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Taille:"}),r.jsxs("span",{className:"text-muted-foreground",children:["~",N," KB"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Dernière modif:"}),r.jsx("span",{className:"text-muted-foreground",children:j.toLocaleDateString("fr-FR")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gr,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:"Aujourd'hui:"}),r.jsx("span",{className:"text-muted-foreground",children:P})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"Ce mois:"}),r.jsx("span",{className:"text-muted-foreground",children:E})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(br,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:"Clinique:"}),r.jsx("span",{className:"text-muted-foreground",children:d.clinicName||"Non configurée"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[r.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded",children:[r.jsx("div",{className:"font-medium text-blue-700",children:e.length}),r.jsx("div",{className:"text-blue-600",children:"Clients"})]}),r.jsxs("div",{className:"text-center p-2 bg-red-50 rounded",children:[r.jsx("div",{className:"font-medium text-red-700",children:t.length}),r.jsx("div",{className:"text-red-600",children:"Animaux"})]}),r.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[r.jsx("div",{className:"font-medium text-green-700",children:n.length}),r.jsx("div",{className:"text-green-600",children:"Consultations"})]}),r.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded",children:[r.jsx("div",{className:"font-medium text-purple-700",children:s.length}),r.jsx("div",{className:"text-purple-600",children:"RDV"})]}),r.jsxs("div",{className:"text-center p-2 bg-orange-50 rounded",children:[r.jsx("div",{className:"font-medium text-orange-700",children:i.length}),r.jsx("div",{className:"text-orange-600",children:"Prescriptions"})]}),r.jsxs("div",{className:"text-center p-2 bg-indigo-50 rounded",children:[r.jsx("div",{className:"font-medium text-indigo-700",children:a.length}),r.jsx("div",{className:"text-indigo-600",children:"Fermes"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:M,className:"gap-2",children:[r.jsx(CA,{className:"h-4 w-4"}),"Exporter"]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>v(!0),className:"gap-2",children:[r.jsx(YC,{className:"h-4 w-4"}),"Importer"]}),r.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>g(!0),className:"gap-2",children:[r.jsx(J5,{className:"h-4 w-4"}),"Réinitialiser"]})]})]})]}),r.jsx(St,{open:m,onOpenChange:g,children:r.jsxs(bt,{children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(Vn,{className:"h-5 w-5 text-red-600"}),"Réinitialiser toutes les données"]}),r.jsx(jn,{children:"Cette action supprimera définitivement toutes les données (clients, animaux, consultations, etc.) et les remettra aux valeurs par défaut. Cette action ne peut pas être annulée."})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(V,{variant:"outline",onClick:()=>g(!1),children:"Annuler"}),r.jsx(V,{variant:"destructive",onClick:T,children:"Réinitialiser"})]})]})}),r.jsx(St,{open:x,onOpenChange:v,children:r.jsxs(bt,{children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(YC,{className:"h-5 w-5"}),"Importer des données"]}),r.jsx(jn,{children:"Sélectionnez un fichier JSON exporté précédemment pour restaurer vos données."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"file",accept:".json",onChange:$,className:"w-full"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Note:"})," L'import remplacera toutes les données existantes."]})]}),r.jsx("div",{className:"flex gap-2 justify-end",children:r.jsx(V,{variant:"outline",onClick:()=>v(!1),children:"Annuler"})})]})})]})}function RFe(){const{clients:e,pets:t,consultations:n,appointments:s,vaccinations:i,antiparasitics:a,stockItems:o,getUpcomingAppointments:l,getOverdueAppointments:c,generateAccountingSummary:u}=Nt(),{settings:d}=Zt(),f=new Date().toISOString().split("T")[0],m=new Date().getMonth(),g=new Date().getFullYear(),x=n.filter(T=>T.date===f).length,v=s.filter(T=>T.date===f&&T.status!=="cancelled").length,N=l().filter(T=>{const O=new Date(T.date),L=new Date,B=new Date(L.getTime()+7*24*60*60*1e3);return O<=B}).length,b=c(),j=o.filter(T=>T.currentStock<=T.minimumStock).length,_=o.filter(T=>T.currentStock===0).length,C=new Date(g,m,1).toISOString().split("T")[0],A=new Date(g,m+1,0).toISOString().split("T")[0],P=u(`${g}-${String(m+1).padStart(2,"0")}`,C,A),E=e.filter(T=>{const O=new Date(T.createdAt);return O.getMonth()===m&&O.getFullYear()===g}).length,M=t.filter(T=>{const O=new Date(T.createdAt);return O.getMonth()===m&&O.getFullYear()===g}).length,$=[{title:"Consultations Aujourd'hui",value:x,icon:jr,color:"text-green-600",bgColor:"bg-green-50",trend:x>0?"up":"neutral",description:"Consultations réalisées"},{title:"RDV Aujourd'hui",value:v,icon:Dt,color:"text-blue-600",bgColor:"bg-blue-50",trend:v>0?"up":"neutral",description:"Rendez-vous programmés"},{title:"RDV Cette Semaine",value:N,icon:Kn,color:"text-purple-600",bgColor:"bg-purple-50",trend:N>0?"up":"neutral",description:"Rendez-vous à venir"},{title:"RDV En Retard",value:b.length,icon:Vn,color:b.length>0?"text-red-600":"text-gray-600",bgColor:b.length>0?"bg-red-50":"bg-gray-50",trend:b.length>0?"down":"neutral",description:"Rendez-vous en retard"},{title:"Nouveaux Clients",value:E,icon:Ia,color:"text-emerald-600",bgColor:"bg-emerald-50",trend:E>0?"up":"neutral",description:"Ce mois"},{title:"Nouveaux Animaux",value:M,icon:Wt,color:"text-pink-600",bgColor:"bg-pink-50",trend:M>0?"up":"neutral",description:"Ce mois"},{title:"Revenus du Mois",value:`${P.totalRevenue.toFixed(0)} ${d.currency||"€"}`,icon:zf,color:"text-green-600",bgColor:"bg-green-50",trend:P.totalRevenue>0?"up":"neutral",description:`Bénéfice: ${P.netIncome.toFixed(0)} ${d.currency||"€"}`},{title:"Stock Critique",value:j,icon:Ma,color:j>0?"text-orange-600":"text-green-600",bgColor:j>0?"bg-orange-50":"bg-green-50",trend:j>0?"down":"neutral",description:`${_} en rupture`}];return r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:$.map((T,O)=>r.jsxs(de,{className:"card-hover",children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Pe,{className:"text-sm font-medium text-muted-foreground",children:T.title}),r.jsx("div",{className:`p-2 rounded-lg ${T.bgColor}`,children:r.jsx(T.icon,{className:`h-4 w-4 ${T.color}`})})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-2xl font-bold",children:T.value}),r.jsxs("div",{className:"flex items-center gap-1",children:[T.trend==="up"&&r.jsxs(r.Fragment,{children:[r.jsx(gr,{className:"h-4 w-4 text-green-600"}),r.jsxs($e,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["+",Math.floor(Math.random()*20)+5,"%"]})]}),T.trend==="down"&&r.jsxs(r.Fragment,{children:[r.jsx(Uu,{className:"h-4 w-4 text-red-600"}),r.jsxs($e,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:["-",Math.floor(Math.random()*15)+3,"%"]})]}),T.trend==="neutral"&&r.jsx($e,{variant:"outline",className:"text-xs",children:"0%"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.description})]})]},O))})}function LFe(){const{accountingEntries:e}=Nt(),{settings:t}=Zt(),s=(()=>{const i=[],a=new Date;for(let o=5;o>=0;o--){const l=new Date(a.getFullYear(),a.getMonth()-o,1);`${l.getFullYear()}${String(l.getMonth()+1).padStart(2,"0")}`;const c=new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0],u=new Date(l.getFullYear(),l.getMonth()+1,0).toISOString().split("T")[0],d=e.filter(g=>{const x=new Date(g.date);return x>=new Date(c)&&x<=new Date(u)}),f=d.filter(g=>g.type==="revenue").reduce((g,x)=>g+x.amount,0),m=d.filter(g=>g.type==="expense").reduce((g,x)=>g+x.amount,0);i.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),revenue:Math.round(f),expenses:Math.round(m),profit:Math.round(f-m)})}return i})();return r.jsxs(de,{children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Pe,{className:"text-base font-medium",children:"Évolution des Revenus"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(gr,{className:"h-4 w-4 text-green-600"})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs($k,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(sd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Fa,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ba,{axisLine:!1,tickLine:!1,className:"text-xs",tickFormatter:i=>`${i}${t.currency||"€"}`}),r.jsx(Ur,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(i,a)=>[`${i} ${t.currency||"€"}`,a==="revenue"?"Revenus":a==="expenses"?"Dépenses":"Bénéfice"]}),r.jsx(ta,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,strokeWidth:2}),r.jsx(ta,{type:"monotone",dataKey:"expenses",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,strokeWidth:2})]})})}),r.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Revenus"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Dépenses"})]})]})]})]})}function FFe(){const{consultations:e,appointments:t,vaccinations:n,antiparasitics:s}=Nt(),a=(()=>{const o=[],l=new Date;for(let c=6;c>=0;c--){const u=new Date(l);u.setDate(u.getDate()-c);const d=u.toISOString().split("T")[0],f=e.filter(v=>v.date===d).length,m=t.filter(v=>v.date===d).length,g=n.filter(v=>v.dateGiven===d).length,x=s.filter(v=>v.dateGiven===d).length;o.push({day:u.toLocaleDateString("fr-FR",{weekday:"short"}),date:d,consultations:f,appointments:m,vaccinations:g,antiparasitics:x,total:f+m+g+x})}return o})();return r.jsxs(de,{children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Pe,{className:"text-base font-medium",children:"Activité des 7 derniers jours"}),r.jsx(Ma,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs(vFe,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(sd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Fa,{dataKey:"day",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ba,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ur,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(o,l)=>[o,l==="consultations"?"Consultations":l==="appointments"?"Rendez-vous":l==="vaccinations"?"Vaccinations":l==="antiparasitics"?"Antiparasitaires":"Total"]}),r.jsx(oo,{dataKey:"consultations",fill:"#10b981",radius:[2,2,0,0]}),r.jsx(oo,{dataKey:"appointments",fill:"#3b82f6",radius:[2,2,0,0]}),r.jsx(oo,{dataKey:"vaccinations",fill:"#8b5cf6",radius:[2,2,0,0]}),r.jsx(oo,{dataKey:"antiparasitics",fill:"#f59e0b",radius:[2,2,0,0]})]})})}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Consultations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Rendez-vous"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Vaccinations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Antiparasitaires"})]})]})]})]})}function BFe(){const{stockItems:e}=Nt(),t=U.useMemo(()=>{const i=e.length,a=e.filter(c=>c.currentStock<=c.minimumStock&&c.currentStock>0).length,o=e.filter(c=>c.currentStock===0).length;return[{name:"Stock Normal",value:i-a-o,color:"#10b981"},{name:"Stock Faible",value:a,color:"#f59e0b"},{name:"Rupture",value:o,color:"#ef4444"}].filter(c=>c.value>0)},[e]),n=e.reduce((i,a)=>i+a.currentStock*a.purchasePrice,0),s=e.sort((i,a)=>a.currentStock*a.purchasePrice-i.currentStock*i.purchasePrice).slice(0,5);return r.jsxs(de,{children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Pe,{className:"text-base font-medium",children:"État du Stock"}),r.jsx(Wn,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs(Ik,{children:[r.jsx(qa,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:a})=>`${i} ${(a*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((i,a)=>r.jsx(dm,{fill:i.color},`cell-${a}`))}),r.jsx(Ur,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:i=>[i,"Articles"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Valeur totale du stock"}),r.jsxs("span",{className:"font-medium",children:[n.toFixed(0)," €"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Articles les plus précieux"}),s.map((i,a)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"truncate flex-1",children:i.name}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:[(i.currentStock*i.purchasePrice).toFixed(0)," €"]})]},i.id))]})]})]})]})}function zFe(){const{clients:e,pets:t}=Nt(),s=(()=>{const i=[],a=new Date;for(let o=5;o>=0;o--){const l=new Date(a.getFullYear(),a.getMonth()-o,1),c=new Date(l.getFullYear(),l.getMonth(),1),u=new Date(l.getFullYear(),l.getMonth()+1,0),d=e.filter(x=>{const v=new Date(x.createdAt);return v>=c&&v<=u}).length,f=t.filter(x=>{const v=new Date(x.createdAt);return v>=c&&v<=u}).length,m=e.filter(x=>new Date(x.createdAt)<=u).length,g=t.filter(x=>new Date(x.createdAt)<=u).length;i.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),newClients:d,newPets:f,totalClients:m,totalPets:g})}return i})();return r.jsxs(de,{children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Pe,{className:"text-base font-medium",children:"Croissance des Clients"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ia,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(gr,{className:"h-4 w-4 text-blue-600"})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs($k,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(sd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Fa,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ba,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ur,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(i,a)=>[i,a==="newClients"?"Nouveaux Clients":a==="newPets"?"Nouveaux Animaux":a==="totalClients"?"Total Clients":"Total Animaux"]}),r.jsx(ta,{type:"monotone",dataKey:"newClients",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2}),r.jsx(ta,{type:"monotone",dataKey:"newPets",stackId:"2",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6,strokeWidth:2})]})})}),r.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Clients"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Animaux"})]})]})]})]})}function VFe(){const{appointments:e}=Nt(),t=U.useMemo(()=>{const c=e.reduce((f,m)=>(f[m.status]=(f[m.status]||0)+1,f),{}),u={scheduled:"Planifié",confirmed:"Confirmé",completed:"Terminé",cancelled:"Annulé","no-show":"Absent"},d={scheduled:"#3b82f6",confirmed:"#10b981",completed:"#6b7280",cancelled:"#ef4444","no-show":"#f59e0b"};return Object.entries(c).map(([f,m])=>({name:u[f]||f,value:m,color:d[f]||"#6b7280"}))},[e]),n=e.length,s=e.filter(c=>c.status==="completed").length,i=e.filter(c=>c.status==="scheduled"||c.status==="confirmed").length,a=e.filter(c=>c.status==="cancelled").length,o=n>0?s/n*100:0,l=n>0?a/n*100:0;return r.jsxs(de,{children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Pe,{className:"text-base font-medium",children:"Statuts des Rendez-vous"}),r.jsx(Dt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs(Ik,{children:[r.jsx(qa,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:t.map((c,u)=>r.jsx(dm,{fill:c.color},`cell-${u}`))}),r.jsx(Ur,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:c=>[c,"Rendez-vous"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[o.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux de réussite"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[l.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux d'annulation"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(br,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{children:"Terminés"})]}),r.jsx("span",{className:"font-medium",children:s})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{children:"À venir"})]}),r.jsx("span",{className:"font-medium",children:i})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(db,{className:"h-4 w-4 text-red-600"}),r.jsx("span",{children:"Annulés"})]}),r.jsx("span",{className:"font-medium",children:a})]})]})]})]})]})}function UFe(){const{consultations:e}=Nt(),n=(()=>{const s=[],i=new Date;for(let a=11;a>=0;a--){const o=new Date(i.getFullYear(),i.getMonth()-a,1),l=new Date(o.getFullYear(),o.getMonth(),1),c=new Date(o.getFullYear(),o.getMonth()+1,0),u=e.filter(m=>{const g=new Date(m.date);return g>=l&&g<=c}),d=u.reduce((m,g)=>m+(g.cost||0),0),f=u.length>0?d/u.length:0;s.push({month:o.toLocaleDateString("fr-FR",{month:"short",year:"2-digit"}),consultations:u.length,revenue:Math.round(d),averageRevenue:Math.round(f)})}return s})();return r.jsxs(de,{children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Pe,{className:"text-base font-medium",children:"Tendances des Consultations"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(gr,{className:"h-4 w-4 text-blue-600"})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs($k,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(sd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Fa,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ba,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ur,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(s,i)=>[i==="consultations"?s:`${s} €`,i==="consultations"?"Consultations":i==="revenue"?"Revenus":"Revenu moyen"]}),r.jsx(ta,{type:"monotone",dataKey:"consultations",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2})]})})}),r.jsx("div",{className:"flex items-center justify-between mt-4 text-sm",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nombre de consultations"})]})})]})]})}function qFe(){const{pets:e}=Nt(),t=U.useMemo(()=>{const o=e.reduce((c,u)=>{const d=u.species||"Autre";return c[d]=(c[d]||0)+1,c},{}),l=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"];return Object.entries(o).map(([c,u],d)=>({name:c,value:u,color:l[d%l.length]}))},[e]),n=e.length,s=t.length>0?t[0]:null,i=e.length>0?e.reduce((o,l)=>o+(l.age||0),0)/e.length:0,a=o=>{switch(o.toLowerCase()){case"chien":case"dog":return r.jsx(Wte,{className:"h-4 w-4"});case"chat":case"cat":return r.jsx(Fte,{className:"h-4 w-4"});case"poisson":case"fish":return r.jsx(Hte,{className:"h-4 w-4"});case"oiseau":case"bird":return r.jsx(Rte,{className:"h-4 w-4"});default:return r.jsx(Wt,{className:"h-4 w-4"})}};return r.jsxs(de,{children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Pe,{className:"text-base font-medium",children:"Répartition par Espèce"}),r.jsx(Wt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs(Ik,{children:[r.jsx(qa,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o} ${(l*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((o,l)=>r.jsx(dm,{fill:o.color},`cell-${l}`))}),r.jsx(Ur,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:o=>[o,"Animaux"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Total d'animaux"}),r.jsx("span",{className:"font-medium",children:n})]}),s&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Espèce la plus commune"}),r.jsxs("div",{className:"flex items-center gap-2",children:[a(s.name),r.jsx("span",{className:"font-medium",children:s.name})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Âge moyen"}),r.jsxs("span",{className:"font-medium",children:[i.toFixed(1)," ans"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Répartition détaillée"}),t.slice(0,5).map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a(o.name),r.jsx("span",{children:o.name})]}),r.jsxs("span",{className:"text-muted-foreground",children:[o.value," (",(o.value/n*100).toFixed(1),"%)"]})]},l))]})]})]})]})}const WFe=()=>r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[r.jsx(kfe,{}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"KPI en Temps Réel"}),r.jsx(RFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx(IFe,{}),r.jsx($Fe,{}),r.jsx(MFe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Vue d'ensemble"}),r.jsx(Tfe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Analyses et Tendances"}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(V2,{children:r.jsx(LFe,{})}),r.jsx(FFe,{})]})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx(BFe,{}),r.jsx(zFe,{}),r.jsx(VFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(UFe,{}),r.jsx(qFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(Mfe,{}),r.jsx(OFe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Activité Récente"}),r.jsx(DFe,{})]}),r.jsx(V2,{children:r.jsx("section",{children:r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Admin Dashboard"})})})]}),gm=e=>{const{settings:t}=Zt();return{currentView:t.displayPreferences[e],isTableView:t.displayPreferences[e]==="table",isCardsView:t.displayPreferences[e]==="cards"}},HFe=(e,t)=>{const n=t.filter(a=>a.client_id===e.id),s=Math.abs(e.id.split("").reduce((a,o)=>(a=(a<<5)-a+o.charCodeAt(0),a&a),0)),i=n.map(a=>({id:Math.abs(a.id.split("").reduce((l,c)=>(l=(l<<5)-l+c.charCodeAt(0),l&l),0)),name:a.name,type:a.species,breed:a.breed||""}));return{id:s,name:`${e.first_name} ${e.last_name}`,firstName:e.first_name,lastName:e.last_name,email:e.email||"",phone:e.phone||e.mobile_phone||"",address:e.address||"",city:e.city,pets:i,lastVisit:new Date(e.updated_at).toLocaleDateString("fr-FR"),totalVisits:0,dbId:e.id}},GFe=()=>{const{data:e=[],isLoading:t}=Zf(),{data:n=[],isLoading:s}=em(),i=ife(),{toast:a}=$t(),o=e.map(T=>HFe(T,n)),{currentView:l}=gm("clients"),[c,u]=w.useState(""),[d,f]=w.useState(l),[m,g]=w.useState(!1),[x,v]=w.useState(null),[y,N]=w.useState(!1),[b,j]=w.useState(!1),[_,C]=w.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"Rabat",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),A=o.filter(T=>T.name.toLowerCase().includes(c.toLowerCase())||T.email.toLowerCase().includes(c.toLowerCase())||T.city&&T.city.toLowerCase().includes(c.toLowerCase())),P=T=>{v(T),N(!0)},E=T=>{v(T),C({first_name:T.firstName,last_name:T.lastName,email:T.email,phone:T.phone,mobile_phone:"",address:T.address,city:T.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),j(!0)},M=()=>{x&&C({first_name:x.firstName,last_name:x.lastName,email:x.email,phone:x.phone,mobile_phone:"",address:x.address,city:x.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),N(!1),j(!0)},$=async T=>{if(T.preventDefault(),!x||!_.first_name||!_.last_name){a({title:"Erreur",description:"Le prénom et le nom sont obligatoires",variant:"destructive"});return}try{await i.mutateAsync({id:x.dbId,data:_}),a({title:"Client modifié",description:`${_.first_name} ${_.last_name} a été modifié avec succès`}),j(!1),v(null)}catch(O){a({title:"Erreur",description:O instanceof Error?O.message:"Erreur lors de la modification du client",variant:"destructive"})}};return t||s?r.jsx("div",{className:"container mx-auto px-6 py-8",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Chargement des clients..."})]})})}):r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Clients"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez tous vos clients et leurs informations"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:d==="cards"?"default":"outline",onClick:()=>f("cards"),className:"gap-2",children:[r.jsx(wc,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:d==="table"?"default":"outline",onClick:()=>f("table"),className:"gap-2",children:[r.jsx(Nc,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>g(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau Client"]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-5 w-5"}),"Rechercher un client"]})}),r.jsx(he,{children:r.jsx(se,{placeholder:"Rechercher par nom, email ou ville...",value:c,onChange:T=>u(T.target.value),className:"max-w-md"})})]}),d==="cards"?r.jsx("div",{className:"grid gap-6",children:A.map(T=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx(Gr,{className:"h-16 w-16",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-lg",children:T.name.split(" ").map(O=>O[0]).join("")})}),r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:T.name}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Vf,{className:"h-3 w-3"}),T.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),T.phone]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ud,{className:"h-3 w-3"}),T.address]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[r.jsx(Wt,{className:"h-4 w-4 text-primary"}),"Animaux (",T.pets.length,")"]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:T.pets.length>0?T.pets.map((O,L)=>r.jsxs($e,{variant:"secondary",className:"gap-1",children:[O.name," - ",O.type," ",O.breed&&`(${O.breed})`]},O.id||L)):r.jsx("span",{className:"text-sm text-muted-foreground",children:"Aucun animal enregistré"})})]}),r.jsxs("div",{className:"flex gap-6 text-sm",children:[r.jsxs("span",{children:[r.jsx("strong",{children:"Dernière visite:"})," ",T.lastVisit]}),r.jsxs("span",{children:[r.jsx("strong",{children:"Total visites:"})," ",T.totalVisits]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>P(T),children:[r.jsx(Ir,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>E(T),children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})]})]})})},T.id))}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Contact"}),r.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),r.jsx("th",{className:"p-4 font-medium",children:"Dernière visite"}),r.jsx("th",{className:"p-4 font-medium",children:"Total visites"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:A.map(T=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-10 w-10",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-sm",children:T.name.split(" ").map(O=>O[0]).join("")})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:T.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:T.address})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm",children:T.email}),r.jsx("div",{className:"text-sm text-muted-foreground",children:T.phone})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"flex gap-1 flex-wrap",children:T.pets.length>0?T.pets.map((O,L)=>r.jsx($e,{variant:"secondary",className:"text-xs",children:O.name},O.id||L)):r.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucun"})})}),r.jsx("td",{className:"p-4",children:T.lastVisit}),r.jsx("td",{className:"p-4",children:T.totalVisits}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>P(T),children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>E(T),children:r.jsx(tn,{className:"h-4 w-4"})})]})})]},T.id))})]})})})}),r.jsx(yv,{open:m,onOpenChange:g}),x&&y&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs(de,{className:"w-full max-w-2xl mx-4",children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center justify-between",children:["Profil Client - ",x.name,r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>N(!1),children:"✕"})]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Nom complet"}),r.jsx("p",{children:x.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Email"}),r.jsx("p",{children:x.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Téléphone"}),r.jsx("p",{children:x.phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Ville"}),r.jsx("p",{children:x.city})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Adresse"}),r.jsx("p",{children:x.address})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium",children:["Animaux (",x.pets.length,")"]}),r.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:x.pets.map((T,O)=>r.jsxs($e,{variant:"secondary",children:[T.name," - ",T.type," ",T.breed&&`(${T.breed})`]},T.id||O))})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(V,{onClick:()=>M(),children:"Modifier"}),r.jsx(V,{variant:"outline",onClick:()=>N(!1),children:"Fermer"})]})]})]})}),x&&b&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs(de,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center justify-between",children:["Modifier Client - ",x.name,r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>j(!1),children:"✕"})]})}),r.jsx(he,{children:r.jsxs("form",{onSubmit:$,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_first_name",children:"Prénom *"}),r.jsx(se,{id:"edit_first_name",value:_.first_name,onChange:T=>C(O=>({...O,first_name:T.target.value})),placeholder:"Prénom du client",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_last_name",children:"Nom *"}),r.jsx(se,{id:"edit_last_name",value:_.last_name,onChange:T=>C(O=>({...O,last_name:T.target.value})),placeholder:"Nom du client",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_email",children:"Email"}),r.jsx(se,{id:"edit_email",type:"email",value:_.email||"",onChange:T=>C(O=>({...O,email:T.target.value})),placeholder:"email@exemple.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_phone",children:"Téléphone"}),r.jsx(se,{id:"edit_phone",value:_.phone||"",onChange:T=>C(O=>({...O,phone:T.target.value})),placeholder:"06 12 34 56 78"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_mobile_phone",children:"Téléphone mobile"}),r.jsx(se,{id:"edit_mobile_phone",value:_.mobile_phone||"",onChange:T=>C(O=>({...O,mobile_phone:T.target.value})),placeholder:"06 12 34 56 78"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_city",children:"Ville"}),r.jsx(se,{id:"edit_city",value:_.city||"Rabat",onChange:T=>C(O=>({...O,city:T.target.value})),placeholder:"Ville"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_address",children:"Adresse"}),r.jsx(se,{id:"edit_address",value:_.address||"",onChange:T=>C(O=>({...O,address:T.target.value})),placeholder:"Adresse complète"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_postal_code",children:"Code postal"}),r.jsx(se,{id:"edit_postal_code",value:_.postal_code||"",onChange:T=>C(O=>({...O,postal_code:T.target.value})),placeholder:"10000"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_client_type",children:"Type de client"}),r.jsxs(Me,{value:_.client_type||"particulier",onValueChange:T=>C(O=>({...O,client_type:T})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de client"})}),r.jsxs(De,{children:[r.jsx(W,{value:"particulier",children:"Particulier"}),r.jsx(W,{value:"eleveur",children:"Éleveur"}),r.jsx(W,{value:"ferme",children:"Ferme"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_notes",children:"Notes"}),r.jsx(wt,{id:"edit_notes",value:_.notes||"",onChange:T=>C(O=>({...O,notes:T.target.value})),placeholder:"Notes supplémentaires...",rows:3})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(V,{type:"submit",disabled:i.isPending,className:"flex-1",children:i.isPending?r.jsxs(r.Fragment,{children:[r.jsx(ka,{className:"h-4 w-4 animate-spin mr-2"}),"Modification..."]}):"Enregistrer"}),r.jsx(V,{type:"button",variant:"outline",onClick:()=>j(!1),disabled:i.isPending,className:"flex-1",children:"Annuler"})]})]})})]})})]})},KFe=()=>r.jsx(GFe,{});function YFe({open:e,onOpenChange:t,pet:n}){const[s,i]=w.useState("overview");if(!n)return null;const a=n.birthDate?nf(n.birthDate):"Non renseigné",o=n.weight?`${n.weight} kg`:"Non renseigné";return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-5 w-5"}),"Dossier Médical - ",n.name," (Propriétaire: ",n.owner,")"]})}),r.jsxs(pl,{value:s,onValueChange:i,className:"w-full",children:[r.jsxs(bo,{className:"grid w-full grid-cols-6",children:[r.jsxs(ln,{value:"overview",className:"flex items-center gap-1",children:[r.jsx(Ma,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(ln,{value:"historique",className:"flex items-center gap-1",children:[r.jsx(Dt,{className:"h-4 w-4"}),"Historique"]}),r.jsxs(ln,{value:"prescriptions",className:"flex items-center gap-1",children:[r.jsx(cr,{className:"h-4 w-4"}),"Prescriptions"]}),r.jsxs(ln,{value:"vaccinations",className:"flex items-center gap-1",children:[r.jsx(Ts,{className:"h-4 w-4"}),"Vaccinations"]}),r.jsxs(ln,{value:"antiparasites",className:"flex items-center gap-1",children:[r.jsx(Vr,{className:"h-4 w-4"}),"Antiparasites"]}),r.jsxs(ln,{value:"pedigree",className:"flex items-center gap-1",children:[r.jsx(v0,{className:"h-4 w-4"}),"Pedigree"]})]}),r.jsxs(cn,{value:"overview",className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Informations générales"})}),r.jsx(he,{children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(Gr,{className:"h-32 w-32",children:n.photo?r.jsx(ll,{src:n.photo,alt:n.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Wt,{className:"h-16 w-16"})})}),r.jsxs(V,{variant:"outline",size:"sm",className:"gap-2",children:[r.jsx(ef,{className:"h-4 w-4"}),"Ajouter photo"]})]}),r.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:n.name}),r.jsxs("div",{className:"space-y-2 mt-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",n.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"})," ",n.breed||"Non renseignée"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Sexe:"})," ",n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Inconnu"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"})," ",a]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Date de naissance:"})," ",n.birthDate||"Non renseignée"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"})," ",n.color||"Non renseignée"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids actuel:"})," ",o]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"N° puce:"})," ",n.microchip||"Non renseigné"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Statut de santé:"}),r.jsx($e,{variant:n.status==="healthy"?"default":n.status==="treatment"?"secondary":"destructive",children:n.status==="healthy"?"En bonne santé":n.status==="treatment"?"En traitement":"Urgent"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Propriétaire:"})," ",n.owner]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernière visite:"})," ",n.lastVisit||"Aucune"]})]})]})]})})]}),r.jsxs(de,{children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between",children:[r.jsx(Pe,{children:"Galerie photos"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Ajouter une photo"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center",children:[r.jsx(ef,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo disponible"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez des photos de l'animal pour enrichir son dossier"})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(x0,{className:"h-5 w-5 text-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),r.jsx("p",{className:"text-lg font-bold",children:o}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"-28.2kg"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(sg,{className:"h-5 w-5 text-red-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Température"}),r.jsx("p",{className:"text-lg font-bold",children:"38.5°C"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Moy: 38.5°C"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),r.jsx("p",{className:"text-lg font-bold",children:"1"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Dernière: 15/01/2024"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vr,{className:"h-5 w-5 text-yellow-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),r.jsx("p",{className:"text-lg font-bold",children:"1"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"À traiter"})]})]})})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-5 w-5"}),"Prochain suivi recommandé"]})}),r.jsx(he,{children:r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg",children:[r.jsx("p",{className:"font-medium",children:"Contrôle dans 3 an"}),r.jsxs(V,{size:"sm",className:"mt-2 gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Planifier"]})]})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-red-600",children:"Alertes importantes"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(Vr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Contrôle de routine recommandé"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Dernière consultation il y a 20 mois"})]}),r.jsx(V,{size:"sm",variant:"outline",children:"Planifier consultation"})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(Vr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"DHPP - 247 jour(s) de retard"})]}),r.jsx(V,{size:"sm",variant:"outline",children:"Planifier vaccination"})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(Vr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Lyme - 512 jour(s) de retard"})]}),r.jsx(V,{size:"sm",variant:"outline",children:"Planifier vaccination"})]})]})]})]}),r.jsx(cn,{value:"historique",className:"space-y-4",children:r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Historique médical"})}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Dt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Pas assez de données pour afficher les tendances"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez plus de consultations avec poids et température"})]})})]})}),r.jsx(cn,{value:"prescriptions",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between",children:[r.jsx(Pe,{children:"Prescriptions"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle prescription"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(cr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune prescription disponible"})]})})]})}),r.jsx(cn,{value:"vaccinations",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between",children:[r.jsx(Pe,{children:"Vaccinations"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle vaccination"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm font-medium",children:[r.jsx("div",{children:"Rage"}),r.jsx("div",{children:"DHPP"}),r.jsx("div",{children:"Lyme"})]}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ts,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune vaccination enregistrée"})]})]})})]})}),r.jsx(cn,{value:"antiparasites",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between",children:[r.jsx(Pe,{children:"Antiparasitaires"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau traitement"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Vr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucun traitement antiparasitaire enregistré"})]})})]})}),r.jsx(cn,{value:"pedigree",className:"space-y-4",children:r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Informations de pedigree"})}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(v0,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune information de pedigree disponible"})]})})]})})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[r.jsx("div",{className:"flex gap-2",children:r.jsxs(V,{variant:"outline",size:"sm",children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Voir Dossier Médical"]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{children:[r.jsx(tn,{className:"h-4 w-4 mr-2"}),"Modifier"]})]})]}),r.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Animal modifié"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Les informations de ",n.name," ont été mises à jour."]})]})]})})}function QFe({pet:e,consultations:t}){var _,C,A;const n=[...t].sort((P,E)=>new Date(E.date).getTime()-new Date(P.date).getTime()),s=n.filter(P=>P.weight).map(P=>({date:P.date,weight:parseFloat(P.weight)})),i=n.filter(P=>P.temperature).map(P=>({date:P.date,temperature:parseFloat(P.temperature)})),a=((_=s[0])==null?void 0:_.weight)||0,o=((C=s[1])==null?void 0:C.weight)||0,l=a-o,c=l>0?"up":l<0?"down":"stable",u=((A=i[0])==null?void 0:A.temperature)||0,d=i.length>0?i.reduce((P,E)=>P+E.temperature,0)/i.length:0,f=i.length>0?Math.min(...i.map(P=>P.temperature)):0,m=i.length>0?Math.max(...i.map(P=>P.temperature)):0,g=t.length,x=new Date().getMonth(),v=new Date().getFullYear(),y=t.filter(P=>{const E=new Date(P.date);return E.getMonth()===x&&E.getFullYear()===v}).length,N=n[0],b=N?Math.floor((new Date().getTime()-new Date(N.date).getTime())/(1e3*60*60*24)):null,j=[];return u>39.5?j.push({type:"danger",message:"Température élevée",icon:Vn}):u<37.5&&j.push({type:"warning",message:"Température basse",icon:Vn}),l<-2&&j.push({type:"warning",message:"Perte de poids",icon:Uu}),b&&b>180&&j.push({type:"info",message:"Contrôle recommandé",icon:Dt}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Statistiques médicales"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(de,{children:[r.jsx(_e,{className:"pb-2",children:r.jsxs(Pe,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(x0,{className:"h-4 w-4"}),"Poids actuel"]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[a,"kg"]}),l!==0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[c==="up"?r.jsx(gr,{className:"h-3 w-3 text-green-600"}):c==="down"?r.jsx(Uu,{className:"h-3 w-3 text-red-600"}):r.jsx(Kte,{className:"h-3 w-3 text-gray-600"}),r.jsxs("span",{className:c==="up"?"text-green-600":c==="down"?"text-red-600":"text-gray-600",children:[Math.abs(l),"kg"]})]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{className:"pb-2",children:r.jsxs(Pe,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(sg,{className:"h-4 w-4"}),"Température"]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[u,"°C"]}),r.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Moy: ",d.toFixed(1),"°C"]}),i.length>1&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Min: ",f,"°C | Max: ",m,"°C"]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{className:"pb-2",children:r.jsxs(Pe,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(Ma,{className:"h-4 w-4"}),"Consultations"]})}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold",children:g}),r.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Ce mois: ",y]}),N&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Dernière: ",new Date(N.date).toLocaleDateString("fr-FR")]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{className:"pb-2",children:r.jsxs(Pe,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(Vn,{className:"h-4 w-4"}),"Alertes"]})}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold",children:j.length}),r.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:j.length>0?"À traiter":"Aucune"}),j.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:j.slice(0,2).map((P,E)=>r.jsx($e,{variant:"outline",className:"text-xs",children:P.message},E))})]})]})]}),j.length>0&&r.jsxs(de,{className:"border-destructive/20",children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-destructive text-base",children:"Alertes médicales"})}),r.jsx(he,{children:r.jsx("div",{className:"space-y-2",children:j.map((P,E)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/5 rounded",children:[r.jsx(P.icon,{className:`h-4 w-4 ${P.type==="danger"?"text-destructive":P.type==="warning"?"text-yellow-600":"text-blue-600"}`}),r.jsx("span",{className:"text-sm font-medium",children:P.message})]},E))})})]}),s.length>1||i.length>1?r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-base",children:"Tendances"})}),r.jsx(he,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.length>1&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Évolution du poids"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Poids initial:"}),r.jsxs("span",{children:[s[s.length-1].weight,"kg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Poids actuel:"}),r.jsxs("span",{children:[s[0].weight,"kg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Évolution totale:"}),r.jsxs("span",{className:s[0].weight>s[s.length-1].weight?"text-green-600":"text-red-600",children:[s[0].weight-s[s.length-1].weight,"kg"]})]})]})]}),i.length>1&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Évolution de la température"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Température moyenne:"}),r.jsxs("span",{children:[d.toFixed(1),"°C"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Variation:"}),r.jsxs("span",{children:[m-f,"°C"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Stabilité:"}),r.jsx("span",{className:m-f<1?"text-green-600":"text-yellow-600",children:m-f<1?"Stable":"Variable"})]})]})]})]})})]}):r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center text-muted-foreground",children:[r.jsx(Ma,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),r.jsx("p",{children:"Pas assez de données pour afficher les tendances"}),r.jsx("p",{className:"text-sm",children:"Ajoutez plus de consultations avec poids et température"})]})})]})}const B3={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"},XFe=(e,t)=>{const n=t.find(o=>o.id===e.client_id),s=n?`${n.first_name} ${n.last_name}`:"Propriétaire inconnu",i=Math.abs(e.id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0)),a=Math.abs(e.client_id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0));return{id:i,name:e.name,type:e.species,breed:e.breed||"",gender:e.sex==="Mâle"?"male":e.sex==="Femelle"?"female":void 0,birthDate:e.birth_date||"",weight:e.weight?e.weight.toString():"",color:e.color||"",microchip:e.microchip_number||"",medicalNotes:e.notes||"",photo:e.photo_url||"",ownerId:a,owner:s,status:e.status==="vivant"?"healthy":e.status==="décédé"?"urgent":"treatment",lastVisit:e.updated_at?new Date(e.updated_at).toLocaleDateString("fr-FR"):"Jamais",nextAppointment:void 0,vaccinations:[],dbId:e.id,dbClientId:e.client_id}},JFe=()=>{var Y;const{data:e=[],isLoading:t}=em(),{data:n=[],isLoading:s}=Zf(),{data:i}=ufe(),a=ofe(),o=e.map(ee=>XFe(ee,n)),{data:l=[]}=hV(),{data:c=[]}=cfe(),u=w.useCallback(ee=>{var I;const G=typeof ee=="string"?ee:(I=o.find(xe=>xe.id===ee))==null?void 0:I.dbId;return G?l.filter(xe=>xe.animal_id===G):[]},[o,l]),d=w.useCallback(ee=>{var I;const G=typeof ee=="string"?ee:(I=o.find(xe=>xe.id===ee))==null?void 0:I.dbId;return G?c.filter(xe=>xe.animal_id===G):[]},[o,c]),{currentView:f}=gm("pets"),[m,g]=w.useState(""),[x,v]=w.useState("all"),[y,N]=w.useState("all"),[b,j]=w.useState(f),{settings:_}=Zt(),C=_.species.split(",").map(ee=>ee.trim()).filter(ee=>ee.length>0),[A,P]=w.useState(!1),[E,M]=w.useState(!1),[$,T]=w.useState(null),[O,L]=w.useState(!1),[B,Z]=w.useState(!1),[H,ae]=w.useState(!1),{toast:X}=$t(),[D,ie]=w.useState({client_id:"",name:"",species:"Chien",breed:"",color:"",sex:"Inconnu",weight:void 0,height:void 0,birth_date:"",microchip_number:"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:"",photo_url:"",status:"healthy"}),me=o.filter(ee=>{const G=ee.name.toLowerCase().includes(m.toLowerCase())||ee.breed&&ee.breed.toLowerCase().includes(m.toLowerCase())||ee.owner.toLowerCase().includes(m.toLowerCase()),I=x==="all"||ee.type.toLowerCase()===x.toLowerCase(),xe=y==="all"||ee.status===y;return G&&I&&xe}),te=ee=>{T(ee),L(!0)},J=ee=>{T(ee),ie({client_id:ee.dbClientId,name:ee.name,species:ee.type,breed:ee.breed||"",color:ee.color||"",sex:ee.gender==="male"?"Mâle":ee.gender==="female"?"Femelle":"Inconnu",weight:ee.weight?parseFloat(ee.weight):void 0,height:void 0,birth_date:ee.birthDate||"",microchip_number:ee.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:ee.medicalNotes||"",photo_url:ee.photo||"",status:ee.status}),Z(!0)},ne=()=>{$&&ie({client_id:$.dbClientId,name:$.name,species:$.type,breed:$.breed||"",color:$.color||"",sex:$.gender==="male"?"Mâle":$.gender==="female"?"Femelle":"Inconnu",weight:$.weight?parseFloat($.weight):void 0,height:void 0,birth_date:$.birthDate||"",microchip_number:$.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:$.medicalNotes||"",photo_url:$.photo||"",status:$.status}),L(!1),Z(!0)},ve=ee=>{T(ee),ae(!0)},ye=()=>{L(!1),ae(!0)},be=async()=>{if($){if(D.microchip_number&&D.microchip_number.trim()&&e.find(G=>G.microchip_number===D.microchip_number.trim()&&G.id!==$.dbId)){X({title:"Erreur",description:"Un animal avec ce numéro de puce existe déjà.",variant:"destructive"});return}try{await a.mutateAsync({id:$.dbId,data:D}),X({title:"Animal modifié",description:`${D.name} a été modifié avec succès.`}),Z(!1)}catch{X({title:"Erreur",description:"Une erreur s'est produite lors de la modification de l'animal.",variant:"destructive"})}}},z=w.useMemo(()=>$?u($.id):[],[$,u]);return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Animaux"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivez tous les animaux et leurs informations médicales"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:b==="cards"?"default":"outline",onClick:()=>j("cards"),className:"gap-2",children:[r.jsx(wc,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:b==="table"?"default":"outline",onClick:()=>j("table"),className:"gap-2",children:[r.jsx(Nc,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>P(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvel Animal"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wt,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total animaux"}),r.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalAnimals)||o.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(br,{className:"h-5 w-5 text-green-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"En bonne santé"}),r.jsx("p",{className:"text-2xl font-bold",children:((Y=i==null?void 0:i.animalsByStatus)==null?void 0:Y.vivant)||o.filter(ee=>ee.status==="healthy").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vn,{className:"h-5 w-5 text-yellow-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"En traitement"}),r.jsx("p",{className:"text-2xl font-bold",children:o.filter(ee=>ee.status==="treatment").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Clients actifs"}),r.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalClients)||n.length})]})]})})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsx(se,{placeholder:"Rechercher par nom, race ou propriétaire...",value:m,onChange:ee=>g(ee.target.value),className:"max-w-md"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(Me,{value:x,onValueChange:v,children:[r.jsx(Oe,{className:"w-40",children:r.jsx(Ie,{placeholder:"Tous types"})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Tous types"}),C.map((ee,G)=>r.jsx(W,{value:ee.toLowerCase(),children:ee},G))]})]}),r.jsxs(Me,{value:y,onValueChange:N,children:[r.jsx(Oe,{className:"w-40",children:r.jsx(Ie,{placeholder:"Statut"})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Tous statuts"}),r.jsx(W,{value:"healthy",children:"En bonne santé"}),r.jsx(W,{value:"treatment",children:"En traitement"}),r.jsx(W,{value:"urgent",children:"Urgent"})]})]})]})]})]}),b==="cards"?r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:me.map(ee=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-16 w-16",children:ee.photo?r.jsx(ll,{src:ee.photo,alt:ee.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Wt,{className:"h-8 w-8"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:ee.name}),r.jsx("p",{className:"text-muted-foreground",children:ee.breed}),r.jsx($e,{variant:"outline",className:B3[ee.status],children:ee.status==="healthy"?"En bonne santé":ee.status==="treatment"?"En traitement":"Urgent"})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",ee.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"})," ",ee.birthDate?nf(ee.birthDate):"Non renseigné"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"})," ",ee.weight]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"})," ",ee.color]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Propriétaire: ",typeof ee.owner=="string"?ee.owner:(()=>{const G=n.find(I=>String(I.id)===String(ee.ownerId));return G?`${G.first_name} ${G.last_name}`:"Non spécifié"})()]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Dt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Dernière visite: ",ee.lastVisit?new Date(ee.lastVisit).toLocaleDateString("fr-FR"):"Aucune"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(jr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Consultations: ",u(ee.id).length]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Vaccinations:"}),r.jsx("div",{className:"flex gap-1 flex-wrap",children:(()=>{const G=d(ee.id);return G.length>0?G.map(I=>r.jsx($e,{variant:"outline",className:"text-xs",children:I.vaccin},I.id)):r.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucune vaccination enregistrée"})})()})]}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>te(ee),children:[r.jsx(Ir,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>J(ee),children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>ve(ee),children:"Dossier Médical"}),r.jsxs(V,{size:"sm",className:"flex-1",onClick:()=>{T(ee),M(!0)},children:[r.jsx(jr,{className:"h-4 w-4 mr-2"}),"Consultation"]})]})]})})},ee.id))}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Âge"}),r.jsx("th",{className:"p-4 font-medium",children:"Propriétaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Dernière visite"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:me.map(ee=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-10 w-10",children:ee.photo?r.jsx(ll,{src:ee.photo,alt:ee.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Wt,{className:"h-5 w-5"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:ee.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:ee.breed})]})]})}),r.jsx("td",{className:"p-4",children:ee.type}),r.jsx("td",{className:"p-4",children:ee.birthDate?nf(ee.birthDate):"Non renseigné"}),r.jsx("td",{className:"p-4",children:typeof ee.owner=="string"?ee.owner:(()=>{const G=n.find(I=>String(I.id)===String(ee.ownerId));return G?`${G.first_name} ${G.last_name}`:"Non spécifié"})()}),r.jsx("td",{className:"p-4",children:r.jsx($e,{variant:"outline",className:B3[ee.status],children:ee.status==="healthy"?"En bonne santé":ee.status==="treatment"?"En traitement":"Urgent"})}),r.jsx("td",{className:"p-4",children:ee.lastVisit?new Date(ee.lastVisit).toLocaleDateString("fr-FR"):"Aucune"}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>te(ee),children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>J(ee),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ve(ee),children:"Dossier"})]})})]},ee.id))})]})})})}),$&&r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Ma,{className:"h-5 w-5"}),"Statistiques médicales - ",$.name]})}),r.jsx(he,{children:r.jsx(QFe,{pet:$,consultations:z})})]}),r.jsx(jv,{open:A,onOpenChange:P}),r.jsx(tm,{open:E,onOpenChange:M}),r.jsx(_V,{open:O,onOpenChange:L,pet:$,onEdit:ne,onShowDossier:ye}),r.jsx(St,{open:B,onOpenChange:Z,children:r.jsxs(bt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier Animal"}),r.jsx(jn,{children:"Modifiez les informations de l'animal."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"name",children:"Nom *"}),r.jsx(se,{id:"name",value:D.name,onChange:ee=>ie(G=>({...G,name:ee.target.value})),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"species",children:"Espèce *"}),r.jsxs(Me,{value:D.species,onValueChange:ee=>ie(G=>({...G,species:ee})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner l'espèce"})}),r.jsxs(De,{children:[r.jsx(W,{value:"Chien",children:"Chien"}),r.jsx(W,{value:"Chat",children:"Chat"}),r.jsx(W,{value:"Oiseau",children:"Oiseau"}),r.jsx(W,{value:"Lapin",children:"Lapin"}),r.jsx(W,{value:"Furet",children:"Furet"}),r.jsx(W,{value:"Autre",children:"Autre"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"client_id",children:"Propriétaire *"}),r.jsxs(Me,{value:D.client_id,onValueChange:ee=>ie(G=>({...G,client_id:ee})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le propriétaire"})}),r.jsx(De,{children:n.map(ee=>r.jsxs(W,{value:ee.id,children:[ee.first_name," ",ee.last_name]},ee.id))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"breed",children:"Race"}),r.jsx(se,{id:"breed",value:D.breed||"",onChange:ee=>ie(G=>({...G,breed:ee.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"sex",children:"Sexe"}),r.jsxs(Me,{value:D.sex,onValueChange:ee=>ie(G=>({...G,sex:ee})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le sexe"})}),r.jsxs(De,{children:[r.jsx(W,{value:"Mâle",children:"Mâle"}),r.jsx(W,{value:"Femelle",children:"Femelle"}),r.jsx(W,{value:"Inconnu",children:"Inconnu"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"birth_date",children:"Date de naissance"}),r.jsx(se,{id:"birth_date",type:"date",value:D.birth_date||"",onChange:ee=>ie(G=>({...G,birth_date:ee.target.value||void 0}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(se,{id:"weight",type:"number",step:"0.1",value:D.weight||"",onChange:ee=>ie(G=>({...G,weight:ee.target.value?parseFloat(ee.target.value):void 0}))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"color",children:"Couleur"}),r.jsx(se,{id:"color",value:D.color||"",onChange:ee=>ie(G=>({...G,color:ee.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"microchip_number",children:"N° puce électronique"}),r.jsx(se,{id:"microchip_number",value:D.microchip_number||"",onChange:ee=>ie(G=>({...G,microchip_number:ee.target.value}))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes médicales"}),r.jsx(wt,{id:"notes",value:D.notes||"",onChange:ee=>ie(G=>({...G,notes:ee.target.value})),placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>Z(!1),children:"Annuler"}),r.jsxs(V,{onClick:be,disabled:a.isPending,children:[a.isPending&&r.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarder"]})]})]})]})}),r.jsx(YFe,{open:H,onOpenChange:ae,pet:$})]})},ZFe=()=>r.jsx(JFe,{});function e5e({open:e,onOpenChange:t}){var d;const{data:n=[]}=Zf(),{data:s=[]}=em(),i=gfe(),{toast:a}=$t(),[o,l]=w.useState({client_id:"",animal_id:"",appointment_date:"",duration_minutes:30,appointment_type:"consultation",notes:""}),c=f=>{if(f.preventDefault(),!o.client_id||!o.appointment_date){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}const m=new Date(o.appointment_date).toISOString();i.mutate({...o,appointment_date:m},{onSuccess:()=>{a({title:"Rendez-vous créé",description:"Le rendez-vous a été créé avec succès."}),t(!1),l({client_id:"",animal_id:"",appointment_date:"",duration_minutes:30,appointment_type:"consultation",notes:""})},onError:g=>{a({title:"Erreur",description:`Impossible de créer le rendez-vous: ${g.message}`,variant:"destructive"})}})},u=o.client_id?s.filter(f=>f.client_id===o.client_id):[];return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[500px]",children:[r.jsx(Ct,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-5 w-5"}),"Nouveau rendez-vous"]})}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"client",children:"Client *"}),r.jsxs(Me,{value:o.client_id,onValueChange:f=>l(m=>({...m,client_id:f,animal_id:""})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un client"})}),r.jsx(De,{children:n.map(f=>r.jsx(W,{value:f.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-4 w-4"}),f.first_name," ",f.last_name]})},f.id))})]})]}),o.client_id&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"animal",children:"Animal"}),r.jsxs(Me,{value:o.animal_id||"",onValueChange:f=>l(m=>({...m,animal_id:f||void 0})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un animal (optionnel)"})}),r.jsx(De,{children:u.map(f=>r.jsx(W,{value:f.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wt,{className:"h-4 w-4"}),f.name," (",f.species,")"]})},f.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"appointment_date",children:"Date et heure *"}),r.jsx(se,{id:"appointment_date",type:"datetime-local",value:o.appointment_date,onChange:f=>l(m=>({...m,appointment_date:f.target.value})),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"appointment_type",children:"Type de consultation"}),r.jsxs(Me,{value:o.appointment_type,onValueChange:f=>l(m=>({...m,appointment_type:f})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"consultation",children:"Consultation"}),r.jsx(W,{value:"vaccination",children:"Vaccination"}),r.jsx(W,{value:"surgery",children:"Chirurgie"}),r.jsx(W,{value:"follow-up",children:"Suivi"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"duration",children:"Durée (minutes)"}),r.jsxs(Me,{value:((d=o.duration_minutes)==null?void 0:d.toString())||"30",onValueChange:f=>l(m=>({...m,duration_minutes:parseInt(f)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"15",children:"15 minutes"}),r.jsx(W,{value:"30",children:"30 minutes"}),r.jsx(W,{value:"45",children:"45 minutes"}),r.jsx(W,{value:"60",children:"1 heure"}),r.jsx(W,{value:"90",children:"1h30"}),r.jsx(W,{value:"120",children:"2 heures"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",placeholder:"Notes sur le rendez-vous...",value:o.notes||"",onChange:f=>l(m=>({...m,notes:f.target.value})),rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",disabled:i.isPending||!o.client_id||!o.appointment_date,children:i.isPending?"Création...":"Créer le rendez-vous"})]})]})]})})}const t5e={scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800","in-progress":"bg-yellow-100 text-yellow-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800","no-show":"bg-orange-100 text-orange-800"},z3={scheduled:"Planifié",confirmed:"Confirmé","in-progress":"En cours",completed:"Terminé",cancelled:"Annulé","no-show":"Absent"},n5e={consultation:"Consultation",vaccination:"Vaccination",surgery:"Chirurgie","follow-up":"Suivi"};function r5e(){const{data:e=[],isLoading:t,error:n}=pfe(),s=vfe(),i=xfe(),{toast:a}=$t(),[o,l]=w.useState(""),[c,u]=w.useState("all"),[d,f]=w.useState(!1),m=j=>new Date(j.appointment_date).toLocaleDateString("fr-FR"),g=j=>new Date(j.appointment_date).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),x=j=>j.client?`${j.client.first_name} ${j.client.last_name}`:"Client inconnu",v=j=>{var _;return((_=j.animal)==null?void 0:_.name)||"Animal non spécifié"},y=(j,_)=>{s.mutate({id:j,data:{status:_}},{onSuccess:()=>{var C;a({title:"Statut mis à jour",description:`Le rendez-vous est maintenant ${(C=z3[_])==null?void 0:C.toLowerCase()}.`})},onError:()=>{a({title:"Erreur",description:"Impossible de mettre à jour le statut.",variant:"destructive"})}})},N=j=>{const _=v(j);confirm(`Êtes-vous sûr de vouloir supprimer le rendez-vous pour ${_} ?`)&&i.mutate(j.id,{onSuccess:()=>{a({title:"Rendez-vous supprimé",description:`Le rendez-vous pour ${_} a été supprimé.`})},onError:()=>{a({title:"Erreur",description:"Impossible de supprimer le rendez-vous.",variant:"destructive"})}})},b=e.filter(j=>{const _=x(j).toLowerCase().includes(o.toLowerCase())||v(j).toLowerCase().includes(o.toLowerCase())||j.notes&&j.notes.toLowerCase().includes(o.toLowerCase()),C=c==="all"||j.status===c;return _&&C});return t?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-600",children:"Chargement des rendez-vous..."})]})})}):n?r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"text-center text-red-600",children:[r.jsx(Vr,{className:"h-8 w-8 mx-auto mb-2"}),r.jsx("p",{children:"Erreur lors du chargement des rendez-vous"}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 text-blue-600 underline",children:"Réessayer"})]})}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Rendez-vous"}),r.jsxs(V,{onClick:()=>f(!0),children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Nouveau RDV"]})]}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(se,{placeholder:"Rechercher par client, animal ou notes...",value:o,onChange:j=>l(j.target.value),className:"pl-9"})]}),r.jsxs(Me,{value:c,onValueChange:u,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Filtrer par statut"})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Tous les statuts"}),r.jsx(W,{value:"scheduled",children:"Planifié"}),r.jsx(W,{value:"confirmed",children:"Confirmé"}),r.jsx(W,{value:"in-progress",children:"En cours"}),r.jsx(W,{value:"completed",children:"Terminé"}),r.jsx(W,{value:"cancelled",children:"Annulé"}),r.jsx(W,{value:"no-show",children:"Absent"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs(de,{children:[r.jsx(_e,{className:"pb-2",children:r.jsx(Pe,{className:"text-sm font-medium text-gray-600",children:"Total"})}),r.jsx(he,{className:"pt-0",children:r.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),r.jsxs(de,{children:[r.jsx(_e,{className:"pb-2",children:r.jsx(Pe,{className:"text-sm font-medium text-gray-600",children:"Planifiés"})}),r.jsx(he,{className:"pt-0",children:r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(j=>j.status==="scheduled").length})})]}),r.jsxs(de,{children:[r.jsx(_e,{className:"pb-2",children:r.jsx(Pe,{className:"text-sm font-medium text-gray-600",children:"Aujourd'hui"})}),r.jsx(he,{className:"pt-0",children:r.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(j=>new Date(j.appointment_date).toDateString()===new Date().toDateString()).length})})]}),r.jsxs(de,{children:[r.jsx(_e,{className:"pb-2",children:r.jsx(Pe,{className:"text-sm font-medium text-gray-600",children:"En retard"})}),r.jsx(he,{className:"pt-0",children:r.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(j=>new Date(j.appointment_date)<new Date&&j.status==="scheduled").length})})]})]}),r.jsx("div",{className:"space-y-4",children:b.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center",children:[r.jsx(Dt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Aucun rendez-vous trouvé"})]})}):b.sort((j,_)=>new Date(j.appointment_date).getTime()-new Date(_.appointment_date).getTime()).map(j=>r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"font-medium",children:x(j)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wt,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"font-medium",children:v(j)})]}),r.jsx($e,{className:t5e[j.status],children:z3[j.status]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{children:m(j)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{children:g(j)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Type:"}),r.jsx("span",{className:"ml-1",children:n5e[j.appointment_type]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Durée:"}),r.jsxs("span",{className:"ml-1",children:[j.duration_minutes," min"]})]})]}),j.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Notes:"}),r.jsx("p",{className:"text-sm mt-1 text-gray-600",children:j.notes})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[j.status==="scheduled"&&r.jsxs(r.Fragment,{children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>y(j.id,"confirmed"),className:"gap-1",children:[r.jsx(br,{className:"h-3 w-3"}),"Confirmer"]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>y(j.id,"cancelled"),className:"gap-1",children:[r.jsx(db,{className:"h-3 w-3"}),"Annuler"]})]}),j.status==="confirmed"&&r.jsxs(V,{size:"sm",onClick:()=>y(j.id,"completed"),className:"gap-1",children:[r.jsx(br,{className:"h-3 w-3"}),"Terminer"]}),r.jsx(V,{size:"sm",variant:"ghost",onClick:()=>N(j),className:"gap-1 text-red-600 hover:text-red-700",children:r.jsx(Hn,{className:"h-3 w-3"})})]})]})})},j.id))}),r.jsx(e5e,{open:d,onOpenChange:f})]})}const vm=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Ze("w-full caption-bottom text-sm",e),...t})}));vm.displayName="Table";const xm=w.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Ze("[&_tr]:border-b",e),...t}));xm.displayName="TableHeader";const ym=w.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Ze("[&_tr:last-child]:border-0",e),...t}));ym.displayName="TableBody";const s5e=w.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Ze("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));s5e.displayName="TableFooter";const za=w.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Ze("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));za.displayName="TableRow";const Tt=w.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Ze("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Tt.displayName="TableHead";const Ot=w.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Ze("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ot.displayName="TableCell";const i5e=w.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Ze("mt-4 text-sm text-muted-foreground",e),...t}));i5e.displayName="TableCaption";const a5e=()=>{const{data:e=[],isLoading:t}=hV();fV();const n=lfe(),{settings:s}=Zt(),{toast:i}=$t(),{currentView:a}=gm("consultations"),[o,l]=w.useState(""),[c,u]=w.useState("all"),[d,f]=w.useState(a),[m,g]=w.useState(!1),[x,v]=w.useState(!1),[y,N]=w.useState(null),[b,j]=w.useState(!1),[_,C]=w.useState(null),[A,P]=w.useState(null),E=e.filter(L=>{var ie,me,te;const B=`${((ie=L.client)==null?void 0:ie.first_name)||""} ${((me=L.client)==null?void 0:me.last_name)||""}`.trim(),Z=((te=L.animal)==null?void 0:te.name)||"",H=B.toLowerCase().includes(o.toLowerCase())||Z.toLowerCase().includes(o.toLowerCase())||L.symptoms&&L.symptoms.toLowerCase().includes(o.toLowerCase())||L.diagnosis&&L.diagnosis.toLowerCase().includes(o.toLowerCase());if(c==="all")return H;const ae=new Date(L.consultation_date),D=(new Date().getTime()-ae.getTime())/(1e3*3600*24);switch(c){case"week":return H&&D<=7;case"month":return H&&D<=30;case"quarter":return H&&D<=90;default:return H}}),M=L=>{N(L),v(!0)},$=L=>{C(parseInt(L.animal_id)),P(parseInt(L.id)),j(!0)},T=L=>{var B,Z;confirm(`Êtes-vous sûr de vouloir supprimer la consultation pour ${((B=L.animal)==null?void 0:B.name)||"cet animal"} ?`)&&(n.mutate(L.id),i({title:"Consultation supprimée",description:`La consultation pour ${((Z=L.animal)==null?void 0:Z.name)||"cet animal"} a été supprimée.`}))},O=L=>{N({...L,id:"",consultation_date:new Date().toISOString(),symptoms:"",diagnosis:"",treatment:"",notes:"",follow_up_date:null,follow_up_notes:"",status:"scheduled"}),g(!0)};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Consultations"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez et consultez tous les dossiers médicaux"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex border rounded-lg p-1",children:[r.jsx(V,{variant:d==="cards"?"default":"ghost",size:"sm",onClick:()=>f("cards"),className:"px-3",children:r.jsx(wc,{className:"h-4 w-4"})}),r.jsx(V,{variant:d==="table"?"default":"ghost",size:"sm",onClick:()=>f("table"),className:"px-3",children:r.jsx(Nc,{className:"h-4 w-4"})})]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>g(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx(se,{placeholder:"Rechercher par client, animal, symptômes ou diagnostic...",value:o,onChange:L=>l(L.target.value),className:"max-w-md"}),r.jsxs(Me,{value:c,onValueChange:u,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Période"})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Toutes les périodes"}),r.jsx(W,{value:"week",children:"Cette semaine"}),r.jsx(W,{value:"month",children:"Ce mois"}),r.jsx(W,{value:"quarter",children:"Ce trimestre"})]})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Consultations récentes (",E.length,")"]}),E.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(cr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation trouvée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre première consultation"})]})}):d==="cards"?E.map(L=>{var B,Z,H;return r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-lg font-semibold",children:((B=L.animal)==null?void 0:B.name)||"Animal inconnu"}),r.jsx($e,{variant:"secondary",children:"Consultation"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(L.consultation_date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Hr,{className:"h-4 w-4"}),(Z=L.client)==null?void 0:Z.first_name," ",(H=L.client)==null?void 0:H.last_name]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(cr,{className:"h-3 w-3"}),"Consultation #",L.id]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[L.temperature&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(sg,{className:"h-4 w-4 text-primary"}),L.temperature,"°C"]}),L.weight&&r.jsxs("span",{children:[L.weight," kg"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[L.symptoms&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Symptômes:"}),r.jsx("p",{className:"text-sm",children:L.symptoms})]}),L.diagnosis&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-sm",children:L.diagnosis})]})]}),r.jsxs("div",{className:"space-y-2",children:[L.treatment&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Traitement:"}),r.jsx("p",{className:"text-sm",children:L.treatment})]}),L.medications&&r.jsxs(r.Fragment,{children:[r.jsxs("h5",{className:"font-medium flex items-center gap-1",children:[r.jsx(_h,{className:"h-4 w-4"}),"Médicaments:"]}),r.jsx("p",{className:"text-sm",children:L.medications})]})]})]}),L.notes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm bg-muted p-3 rounded",children:L.notes})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.jsx(Dt,{className:"h-3 w-3 inline mr-1"}),L.followUp?`Suivi: ${L.followUp}`:"Aucun suivi prévu"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Uj,{consultation:L}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>M(L),className:"gap-1",children:[r.jsx(tn,{className:"h-3 w-3"}),"Modifier"]}),r.jsxs(V,{size:"sm",variant:"default",onClick:()=>$(L),className:"gap-1",children:[r.jsx(_h,{className:"h-3 w-3"}),"Prescription"]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>T(L),className:"gap-1 text-red-600 hover:text-red-700",children:[r.jsx(Hn,{className:"h-3 w-3"}),"Supprimer"]}),r.jsx(V,{size:"sm",onClick:()=>O(L),children:"Nouveau suivi"})]})]})]})})},L.id)}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsxs(vm,{children:[r.jsx(xm,{children:r.jsxs(za,{children:[r.jsx(Tt,{children:"Animal / Client"}),r.jsx(Tt,{children:"Date"}),r.jsx(Tt,{children:"Symptômes"}),r.jsx(Tt,{children:"Diagnostic"}),r.jsx(Tt,{children:"Température"}),r.jsx(Tt,{children:"Coût"}),r.jsx(Tt,{children:"Actions"})]})}),r.jsx(ym,{children:E.map(L=>{var B,Z,H;return r.jsxs(za,{children:[r.jsx(Ot,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:(B=L.animal)==null?void 0:B.name}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[(Z=L.client)==null?void 0:Z.first_name," ",(H=L.client)==null?void 0:H.last_name]})]})}),r.jsx(Ot,{children:new Date(L.consultation_date).toLocaleDateString("fr-FR")}),r.jsx(Ot,{children:r.jsx("div",{className:"max-w-xs truncate",children:L.symptoms||"-"})}),r.jsx(Ot,{children:r.jsx("div",{className:"max-w-xs truncate",children:L.diagnosis||"-"})}),r.jsx(Ot,{children:L.temperature?`${L.temperature}°C`:"-"}),r.jsx(Ot,{children:L.cost?`${L.cost} ${s.currency}`:"-"}),r.jsx(Ot,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Uj,{consultation:L}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>M(L),children:r.jsx(tn,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"default",onClick:()=>$(L),children:r.jsx(_h,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>T(L),className:"text-red-600 hover:text-red-700",children:r.jsx(Hn,{className:"h-3 w-3"})})]})})]},L.id)})})]})})})]}),r.jsx(tm,{open:m,onOpenChange:g}),r.jsx(x9,{open:x,onOpenChange:v,consultation:y}),_&&A&&r.jsx(Rk,{open:b,onOpenChange:j,petId:_.toString(),consultationId:A.toString()})]})},o5e=({consultation:e,open:t,onOpenChange:n,onEdit:s})=>{if(!e)return null;const{getClientById:i,getPetById:a}=Nt(),o=i(e.clientId),l=a(e.petId);return r.jsx(St,{open:t,onOpenChange:n,children:r.jsxs(bt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{children:["Consultation #",e.id," - ",ho(e.date)]}),r.jsx(jn,{children:"Détails de la consultation générale"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(Dt,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:e.purpose||"Consultation générale"})]}),r.jsxs("div",{className:"flex gap-8 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wt,{className:"h-4 w-4"}),l==null?void 0:l.name," (",l==null?void 0:l.type,")"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Hr,{className:"h-4 w-4"}),o==null?void 0:o.name]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(jr,{className:"h-4 w-4"}),e.veterinarian]})]}),e.symptoms&&r.jsx(de,{children:r.jsx(he,{children:r.jsxs("p",{children:[r.jsx("strong",{children:"Symptômes:"})," ",e.symptoms]})})}),r.jsxs(pl,{defaultValue:"overview",className:"space-y-4",children:[r.jsxs(bo,{className:"grid grid-cols-2",children:[r.jsx(ln,{value:"overview",children:"Détails"}),r.jsx(ln,{value:"prescriptions",children:"Prescriptions"})]}),r.jsx(cn,{value:"overview",children:r.jsx(de,{children:r.jsxs(he,{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Motif:"})," ",e.purpose||"Non spécifié"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",e.notes||"Aucune"]}),e.photos&&e.photos.length>0&&r.jsxs("div",{className:"pt-4",children:[r.jsx("h5",{className:"font-medium mb-2",children:"Photos de la consultation"}),r.jsx("div",{className:"flex gap-2 overflow-x-auto",children:e.photos.map((c,u)=>r.jsx("div",{className:"relative",children:r.jsx("img",{src:c,alt:`consult-photo-${u}`,className:"h-32 w-32 object-cover rounded cursor-pointer hover:opacity-80"})},u))})]})]})})}),r.jsx(cn,{value:"prescriptions",children:r.jsx(r9,{petId:e.petId,consultationId:e.id})})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsxs(V,{variant:"outline",onClick:s,children:[r.jsx(tn,{className:"h-4 w-4"})," Modifier"]}),r.jsx(Uj,{consultation:e})]})]})})};function l5e({prescription:e}){const{settings:t}=Zt(),{logo:n,clinicName:s,address:i,phone:a,email:o,website:l,currency:c}=t,d=e.medications.map(m=>m.cost*(m.quantity||1)).reduce((m,g)=>m+g,0),f=()=>{window.print()};return r.jsxs("div",{className:"p-8 max-w-screen-lg mx-auto bg-white text-gray-800",children:[r.jsxs("header",{className:"flex items-center justify-between mb-8",children:[n&&r.jsx("img",{src:n,alt:"Logo clinique",className:"h-16 w-16 object-contain"}),r.jsxs("div",{className:"text-center flex-1",children:[r.jsx("h1",{className:"text-2xl font-bold",children:s}),r.jsx("p",{className:"text-sm",children:i}),r.jsxs("p",{className:"text-sm",children:[a," | ",o]}),l&&r.jsx("p",{className:"text-sm",children:l})]}),r.jsx("div",{children:r.jsx(V,{variant:"outline",onClick:f,className:"uppercase text-sm",children:"Imprimer"})})]}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Ordonnance"}),r.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-4",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Date :"})," ",e.date]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Patient :"})," ",e.petName," (",e.clientName,")"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Prescrit par :"})," ",e.prescribedBy]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Diagnostic :"})," ",e.diagnosis]})]})]}),r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b py-2 text-left",children:"Médicament"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Dosage"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Fréquence"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Durée"})]})}),r.jsx("tbody",{children:e.medications.map(m=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:m.name}),r.jsx("td",{className:"py-2",children:m.dosage}),r.jsx("td",{className:"py-2",children:m.frequency}),r.jsx("td",{className:"py-2",children:m.duration})]},m.id))})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Facture"}),r.jsxs("table",{className:"w-full border-collapse mb-4",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b py-2 text-left",children:"Produit / Service"}),r.jsx("th",{className:"border-b py-2 text-right",children:"Quantité"}),r.jsxs("th",{className:"border-b py-2 text-right",children:["Prix Unitaire (",c,")"]}),r.jsxs("th",{className:"border-b py-2 text-right",children:["Total (",c,")"]})]})}),r.jsx("tbody",{children:e.medications.map(m=>{const g=m.quantity||1,x=(m.cost||0)*g;return r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:m.name}),r.jsx("td",{className:"py-2 text-right",children:g}),r.jsx("td",{className:"py-2 text-right",children:m.cost.toFixed(2)}),r.jsx("td",{className:"py-2 text-right",children:x.toFixed(2)})]},m.id)})}),r.jsx("tfoot",{children:r.jsxs("tr",{children:[r.jsx("td",{colSpan:3,className:"py-2 text-right font-semibold",children:"Montant total :"}),r.jsx("td",{className:"py-2 text-right font-semibold",children:d.toFixed(2)})]})})]})]})]})}const c5e=()=>{var ae,X;const{consultations:e,prescriptions:t,getClientById:n,getPetById:s}=Nt(),[i,a]=w.useState(""),[o,l]=w.useState("all"),[c,u]=w.useState("all"),[d,f]=w.useState("all"),[m,g]=w.useState(""),[x,v]=w.useState("cards"),[y,N]=w.useState(!1),[b,j]=w.useState(null),[_,C]=w.useState(!1),[A,P]=w.useState(null),[E,M]=w.useState(!1),[$,T]=w.useState(null),O=[...e.map(D=>{var ie;return{id:D.id,date:D.date,petName:D.petName,petType:((ie=s(D.petId))==null?void 0:ie.type)||"",client:D.clientName,type:"consultation",title:D.diagnosis||"Consultation",veterinarian:D.notes||"Non spécifié",details:D.symptoms||"",prescriptions:[],cost:D.cost,status:"completed"}})].sort((D,ie)=>new Date(ie.date).getTime()-new Date(D.date).getTime()),L=t.map(D=>{var ie,me;return{id:D.id,date:D.date,petName:D.petName,client:D.clientName,medication:D.medications.map(te=>te.name).join(", "),dosage:((ie=D.medications[0])==null?void 0:ie.dosage)||"",frequency:((me=D.medications[0])==null?void 0:me.frequency)||"",duration:D.duration,veterinarian:D.prescribedBy,status:D.status}}),B=O.filter(D=>{const ie=D.petName.toLowerCase().includes(i.toLowerCase())||D.client.toLowerCase().includes(i.toLowerCase())||D.title.toLowerCase().includes(i.toLowerCase()),me=o==="all"||D.petName.toLowerCase().includes(o.toLowerCase()),te=c==="all"||D.type===c;let J=!0;if(d==="today"){const ne=new Date().toISOString().split("T")[0];J=D.date===ne}else if(d==="week"){const ne=new Date(D.date),ve=new Date,ye=ve.getDay(),be=ve.getDate()-ye+(ye===0?-6:1),z=new Date(ve.setDate(be)),Y=new Date(z);Y.setDate(z.getDate()+6),J=ne>=z&&ne<=Y}else d==="specific"&&(J=m&&D.date===m);return ie&&me&&te&&J}),Z=L.filter(D=>{const ie=D.petName.toLowerCase().includes(i.toLowerCase())||D.client.toLowerCase().includes(i.toLowerCase())||D.medication.toLowerCase().includes(i.toLowerCase()),me=o==="all"||D.petName.toLowerCase().includes(o.toLowerCase()),te=c==="all"||!0;let J=!0;if(d==="today"){const ne=new Date().toISOString().split("T")[0];J=D.date===ne}else if(d==="week"){const ne=new Date(D.date),ve=new Date,ye=ve.getDay(),be=ve.getDate()-ye+(ye===0?-6:1),z=new Date(ve.setDate(be)),Y=new Date(z);Y.setDate(z.getDate()+6),J=ne>=z&&ne<=Y}else d==="specific"&&(J=m&&D.date===m);return ie&&me&&te&&J}),H={active:"bg-blue-100 text-blue-800 hover:bg-blue-200",completed:"bg-green-100 text-green-800 hover:bg-green-200",discontinued:"bg-red-100 text-red-800 hover:bg-red-200"};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Historique Médical"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Consultez l'historique complet des soins et traitements"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(wc,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(Nc,{className:"h-4 w-4"}),"Tableau"]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-5 w-5"}),"Rechercher"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(se,{placeholder:"Rechercher par nom, animal, diagnostic...",value:i,onChange:D=>a(D.target.value)}),r.jsxs(Me,{value:o,onValueChange:l,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Filtrer par animal"})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Tous les animaux"}),Array.from(new Set(O.map(D=>D.petName))).map(D=>r.jsx(W,{value:D,children:D},D))]})]}),r.jsxs(Me,{value:c,onValueChange:u,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Filtrer par type"})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Tous types"}),r.jsx(W,{value:"consultation",children:"Consultations"}),r.jsx(W,{value:"treatment",children:"Traitements"}),r.jsx(W,{value:"surgery",children:"Chirurgies"})]})]}),r.jsxs(Me,{value:d,onValueChange:f,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Période"})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Toute période"}),r.jsx(W,{value:"today",children:"Aujourd'hui"}),r.jsx(W,{value:"week",children:"Cette semaine"}),r.jsx(W,{value:"specific",children:"Date spécifique"})]})]})]}),d==="specific"&&r.jsx(se,{type:"date",value:m,onChange:D=>g(D.target.value),className:"max-w-xs"})]})]}),r.jsxs(pl,{defaultValue:"medical",className:"space-y-4",children:[r.jsxs(bo,{className:"grid w-full grid-cols-2",children:[r.jsxs(ln,{value:"medical",className:"gap-2",children:[r.jsx(Dt,{className:"h-4 w-4"}),"Historique Médical"]}),r.jsxs(ln,{value:"prescriptions",className:"gap-2",children:[r.jsx(Wt,{className:"h-4 w-4"}),"Prescriptions"]})]}),r.jsxs(cn,{value:"medical",className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des consultations (",B.length," entrées)"]})}),x==="cards"?r.jsx("div",{className:"grid gap-6",children:B.map(D=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:new Date(D.date).toLocaleDateString("fr-FR")})]}),r.jsx($e,{variant:"outline",className:"text-xs",children:D.type})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold",children:D.title}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Wt,{className:"h-3 w-3"}),D.petName]}),r.jsxs("span",{children:["Client: ",D.client]}),r.jsxs("span",{children:["Vétérinaire: ",D.veterinarian]})]})]}),D.details&&r.jsx("p",{className:"text-sm text-muted-foreground",children:D.details}),D.cost&&r.jsx("div",{className:"text-sm",children:r.jsxs("span",{className:"font-medium",children:["Coût: ",D.cost," MAD"]})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{j(D),N(!0)},children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(tn,{className:"h-4 w-4"})})]})]})})},D.id))}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Date"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Titre"}),r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Vétérinaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:B.map(D=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:new Date(D.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"p-4",children:r.jsx($e,{variant:"outline",className:"text-xs",children:D.type})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-medium",children:D.title}),D.details&&r.jsx("div",{className:"text-sm text-muted-foreground",children:D.details})]}),r.jsx("td",{className:"p-4",children:D.petName}),r.jsx("td",{className:"p-4",children:D.client}),r.jsx("td",{className:"p-4",children:D.veterinarian}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{j(D),N(!0)},children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(tn,{className:"h-4 w-4"})})]})})]},D.id))})]})})})})]}),r.jsxs(cn,{value:"prescriptions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des prescriptions (",Z.length," entrées)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(wc,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(Nc,{className:"h-4 w-4"}),"Tableau"]})]})]}),x==="cards"?Z.map(D=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:new Date(D.date).toLocaleDateString("fr-FR")})]}),r.jsx($e,{variant:"outline",className:H[D.status],children:D.status==="active"?"Actif":D.status==="completed"?"Terminé":"Arrêté"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold",children:D.medication}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Wt,{className:"h-3 w-3"}),D.petName]}),r.jsxs("span",{children:["Client: ",D.client]}),r.jsxs("span",{children:["Prescrit par: ",D.veterinarian]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dosage:"})," ",D.dosage]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Fréquence:"})," ",D.frequency]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Durée:"})," ",D.duration]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{P(D),C(!0)},children:"Renouveler"}),r.jsx(jP,{prescription:t.find(ie=>ie.id===D.id)}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{const ie=t.find(me=>me.id===D.id);T(ie),M(!0)},children:"Facture"})]})]})})},D.id)):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Date"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Médicament"}),r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Dosage"}),r.jsx("th",{className:"p-4 font-medium",children:"Durée"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:Z.map(D=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:new Date(D.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"p-4",children:r.jsx($e,{variant:"outline",className:H[D.status],children:D.status==="active"?"Actif":D.status==="completed"?"Terminé":"Arrêté"})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-medium",children:D.medication}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Prescrit par: ",D.veterinarian]})]}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wt,{className:"h-4 w-4 text-primary"}),D.petName]})}),r.jsx("td",{className:"p-4",children:D.client}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{children:D.dosage}),r.jsx("div",{className:"text-muted-foreground",children:D.frequency})]})}),r.jsx("td",{className:"p-4",children:D.duration}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{P(D),C(!0)},children:"Renouveler"}),r.jsx(jP,{prescription:t.find(ie=>ie.id===D.id)}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{const ie=t.find(me=>me.id===D.id);T(ie),M(!0)},children:"Facture"})]})})]},D.id))})]})})})})]})]}),r.jsx(o5e,{consultation:b,open:y,onOpenChange:N,onEdit:()=>{}}),(A==null?void 0:A.id)&&r.jsx(Rk,{open:_,onOpenChange:C,petId:((X=(ae=t.find(D=>D.id===(A==null?void 0:A.id)))==null?void 0:ae.petId)==null?void 0:X.toString())||"",consultationId:A.id.toString()}),r.jsx(St,{open:E,onOpenChange:M,children:r.jsx(bt,{children:$&&r.jsx(l5e,{prescription:$})})})]})},y9=({photos:e,onPhotosChange:t,farmName:n})=>{const{toast:s}=$t(),i=w.useRef(null),[a,o]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState({description:"",category:"general"}),g=_=>{const C=_.target.files;if(!C||C.length===0)return;const A=Array.from(C).map(P=>{const E=new FileReader,M={id:`photo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,url:"",description:f.description||`Photo de ${n}`,category:f.category,uploadedAt:new Date().toISOString()};return E.onload=$=>{var O;M.url=(O=$.target)==null?void 0:O.result;const T=[...e,M];t(T)},E.readAsDataURL(P),M});m({description:"",category:"general"}),o(!1),s({title:"Photos ajoutées",description:`${A.length} photo(s) ajoutée(s) à l'exploitation ${n}`})},x=_=>{const C=e.filter(A=>A.id!==_);t(C),s({title:"Photo supprimée",description:"La photo a été supprimée avec succès"})},v=_=>{d(_),m({description:_.description,category:_.category}),c(!0)},y=()=>{if(!u)return;const _=e.map(C=>C.id===u.id?{...C,...f}:C);t(_),c(!1),d(null),m({description:"",category:"general"}),s({title:"Photo modifiée",description:"La photo a été modifiée avec succès"})},N=_=>({cheptel:"Cheptel",batiments:"Bâtiments",equipements:"Équipements",general:"Général"})[_],b=_=>({cheptel:"bg-blue-100 text-blue-800",batiments:"bg-green-100 text-green-800",equipements:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800"})[_],j=e.reduce((_,C)=>(_[C.category]||(_[C.category]=[]),_[C.category].push(C),_),{});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Photos de l'exploitation"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Gérez les photos de votre exploitation, du cheptel et des équipements"})]}),r.jsxs(St,{open:a,onOpenChange:o,children:[r.jsx(Rc,{asChild:!0,children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Ajouter des photos"]})}),r.jsxs(bt,{className:"max-w-md",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Ajouter des photos"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"photo-description",children:"Description"}),r.jsx(se,{id:"photo-description",placeholder:"Description des photos",value:f.description,onChange:_=>m({...f,description:_.target.value})})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"photo-category",children:"Catégorie"}),r.jsxs(Me,{value:f.category,onValueChange:_=>m({...f,category:_}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"cheptel",children:"Cheptel"}),r.jsx(W,{value:"batiments",children:"Bâtiments"}),r.jsx(W,{value:"equipements",children:"Équipements"}),r.jsx(W,{value:"general",children:"Général"})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"photo-files",children:"Sélectionner des photos"}),r.jsx(se,{id:"photo-files",type:"file",multiple:!0,accept:"image/*",ref:i,onChange:g,className:"cursor-pointer"})]})]})]})]})]}),e.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center",children:[r.jsx(ef,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoutée"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Commencez par ajouter des photos de votre exploitation"})]})}):r.jsx("div",{className:"space-y-6",children:Object.entries(j).map(([_,C])=>r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx($e,{className:b(_),children:N(_)}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",C.length," photo",C.length>1?"s":"",")"]})]})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(A=>r.jsxs("div",{className:"group relative",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[r.jsx("img",{src:A.url,alt:A.description,className:"w-full h-full object-cover"}),r.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[r.jsx(V,{size:"sm",variant:"secondary",onClick:()=>d(A),children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"secondary",onClick:()=>v(A),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>x(A.id),children:r.jsx(Hn,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:A.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(A.uploadedAt).toLocaleDateString()})]})]},A.id))})})]},_))}),r.jsx(St,{open:l,onOpenChange:c,children:r.jsxs(bt,{className:"max-w-md",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Modifier la photo"})}),r.jsxs("div",{className:"space-y-4",children:[u&&r.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border",children:r.jsx("img",{src:u.url,alt:u.description,className:"w-full h-full object-cover"})}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"edit-description",children:"Description"}),r.jsx(se,{id:"edit-description",value:f.description,onChange:_=>m({...f,description:_.target.value})})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"edit-category",children:"Catégorie"}),r.jsxs(Me,{value:f.category,onValueChange:_=>m({...f,category:_}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"cheptel",children:"Cheptel"}),r.jsx(W,{value:"batiments",children:"Bâtiments"}),r.jsx(W,{value:"equipements",children:"Équipements"}),r.jsx(W,{value:"general",children:"Général"})]})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(V,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsx(V,{onClick:y,children:"Enregistrer"})]})]})]})})]})},u5e=({open:e,onOpenChange:t})=>{var N,b,j,_,C,A;const{addFarm:n}=Nt(),{settings:s}=Zt(),{toast:i}=$t(),[a,o]=w.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),[l,c]=w.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!s.farmManagement)return console.error("farmManagement settings not found, using defaults"),r.jsx(St,{open:e,onOpenChange:t,children:r.jsx(bt,{children:r.jsxs(Ct,{children:[r.jsx(_t,{children:"Erreur de configuration"}),r.jsx(jn,{children:"Les paramètres de gestion des fermes ne sont pas configurés. Veuillez recharger la page ou vérifier les paramètres."})]})})});w.useEffect(()=>{e||(o({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const u=(P,E)=>{if(P.includes(".")){const[M,$]=P.split(".");o(T=>{const O=T[M];return{...T,[M]:{...O,[$]:E}}})}else o(M=>({...M,[P]:E}))},d=P=>{o(E=>{var M;return{...E,types:(M=E.types)!=null&&M.includes(P)?E.types.filter($=>$!==P):[...E.types||[],P]}})},f=P=>{o(E=>{var M;return{...E,certifications:(M=E.certifications)!=null&&M.includes(P)?E.certifications.filter($=>$!==P):[...E.certifications||[],P]}})},m=()=>{if(!l.category){i({title:"Erreur",description:"Veuillez sélectionner une catégorie d'animal",variant:"destructive"});return}o(P=>({...P,animalDetails:[...P.animalDetails||[],{...l}]})),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},g=P=>{o(E=>{var M;return{...E,animalDetails:((M=E.animalDetails)==null?void 0:M.filter(($,T)=>T!==P))||[]}})},x=P=>{c(E=>({...E,breeds:[...E.breeds,P]}))},v=P=>{c(E=>({...E,breeds:E.breeds.filter(M=>M!==P)}))},y=P=>{var M;if(P.preventDefault(),!a.name||!a.owner||!a.address||!((M=a.types)!=null&&M.length)){i({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const E={name:a.name,owner:a.owner,ownerIdNumber:a.ownerIdNumber||"",address:a.address,coordinates:a.coordinates||{latitude:0,longitude:0},phone:a.phone||"",email:a.email||"",types:a.types||[],totalAnimals:(a.animalDetails||[]).reduce(($,T)=>$+T.maleCount+T.femaleCount,0),animalDetails:a.animalDetails||[],lastVisit:new Date().toISOString().split("T")[0],status:a.status||"active",veterinarian:a.veterinarian||"",notes:a.notes||"",registrationNumber:a.registrationNumber||"",surfaceArea:a.surfaceArea||0,buildingDetails:a.buildingDetails||"",equipmentDetails:a.equipmentDetails||"",certifications:a.certifications||[],insuranceDetails:a.insuranceDetails||"",emergencyContact:a.emergencyContact||{name:"",phone:"",relation:""}};n(E),i({title:"Succès",description:"Nouvelle exploitation créée avec succès"}),t(!1)};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Exploitation Agricole"}),r.jsx(jn,{children:"Créez une nouvelle exploitation agricole avec toutes les informations détaillées"})]}),r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Informations générales"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"name",children:"Nom de l'exploitation *"}),r.jsx(se,{id:"name",value:a.name||"",onChange:P=>u("name",P.target.value),placeholder:"Nom de l'exploitation"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"owner",children:"Propriétaire *"}),r.jsx(se,{id:"owner",value:a.owner||"",onChange:P=>u("owner",P.target.value),placeholder:"Nom du propriétaire"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"ownerIdNumber",children:"N° pièce d'identité du propriétaire"}),r.jsx(se,{id:"ownerIdNumber",value:a.ownerIdNumber||"",onChange:P=>u("ownerIdNumber",P.target.value),placeholder:"Numéro de carte d'identité, passeport, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"address",children:"Adresse *"}),r.jsx(se,{id:"address",value:a.address||"",onChange:P=>u("address",P.target.value),placeholder:"Adresse complète"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"latitude",children:"Latitude"}),r.jsx(se,{id:"latitude",type:"number",step:"0.0001",value:((N=a.coordinates)==null?void 0:N.latitude)||"",onChange:P=>u("coordinates.latitude",parseFloat(P.target.value)||0),placeholder:"47.9056"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"longitude",children:"Longitude"}),r.jsx(se,{id:"longitude",type:"number",step:"0.0001",value:((b=a.coordinates)==null?void 0:b.longitude)||"",onChange:P=>u("coordinates.longitude",parseFloat(P.target.value)||0),placeholder:"1.9190"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"phone",children:"Téléphone"}),r.jsx(se,{id:"phone",value:a.phone||"",onChange:P=>u("phone",P.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:a.email||"",onChange:P=>u("email",P.target.value),placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"veterinarian",children:"Vétérinaire responsable"}),r.jsx(se,{id:"veterinarian",value:a.veterinarian||"",onChange:P=>u("veterinarian",P.target.value),placeholder:"Vétérinaire"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"status",children:"Statut"}),r.jsxs(Me,{value:a.status,onValueChange:P=>u("status",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"active",children:"Active"}),r.jsx(W,{value:"attention",children:"Attention"}),r.jsx(W,{value:"urgent",children:"Urgent"})]})]})]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Types d'élevage *"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.farmManagement.farmTypes.map(P=>{var E;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`type-${P}`,checked:((E=a.types)==null?void 0:E.includes(P))||!1,onCheckedChange:()=>d(P)}),r.jsx(F,{htmlFor:`type-${P}`,children:P})]},P)})})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Détails du cheptel"})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(F,{children:"Catégorie"}),r.jsxs(Me,{value:l.category,onValueChange:P=>c(E=>({...E,category:P})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner"})}),r.jsx(De,{children:s.farmManagement.animalCategories.map(P=>r.jsx(W,{value:P,children:P},P))})]})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Mâles"}),r.jsx(se,{type:"number",value:l.maleCount,onChange:P=>c(E=>({...E,maleCount:parseInt(P.target.value)||0})),placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Femelles"}),r.jsx(se,{type:"number",value:l.femaleCount,onChange:P=>c(E=>({...E,femaleCount:parseInt(P.target.value)||0})),placeholder:"0"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(V,{type:"button",onClick:m,className:"w-full",children:"Ajouter"})})]}),l.category&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs(F,{children:["Races pour ",l.category]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(j=s.farmManagement.breedsByCategory[l.category])==null?void 0:j.map(P=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`breed-${P}`,checked:l.breeds.includes(P),onCheckedChange:()=>{l.breeds.includes(P)?v(P):x(P)}}),r.jsx(F,{htmlFor:`breed-${P}`,children:P})]},P))})]}),a.animalDetails&&a.animalDetails.length>0&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(F,{children:"Cheptel configuré"}),r.jsx("div",{className:"mt-2 space-y-2",children:a.animalDetails.map((P,E)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("span",{children:[r.jsx($e,{variant:"secondary",children:P.category}),r.jsxs("span",{className:"ml-2",children:[P.maleCount," mâles, ",P.femaleCount," femelles"]}),P.breeds.length>0&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",P.breeds.join(", ")]})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>g(E),children:"Supprimer"})]},E))})]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Informations administratives"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"registrationNumber",children:"Numéro d'immatriculation"}),r.jsx(se,{id:"registrationNumber",value:a.registrationNumber||"",onChange:P=>u("registrationNumber",P.target.value),placeholder:"Numéro d'immatriculation"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),r.jsx(se,{id:"surfaceArea",type:"number",step:"0.1",value:a.surfaceArea||"",onChange:P=>u("surfaceArea",parseFloat(P.target.value)||0),placeholder:"Surface en hectares"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"buildingDetails",children:"Détails des bâtiments"}),r.jsx(wt,{id:"buildingDetails",value:a.buildingDetails||"",onChange:P=>u("buildingDetails",P.target.value),placeholder:"Description des bâtiments, étables, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"equipmentDetails",children:"Équipements"}),r.jsx(wt,{id:"equipmentDetails",value:a.equipmentDetails||"",onChange:P=>u("equipmentDetails",P.target.value),placeholder:"Liste des équipements disponibles"})]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Certifications"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.farmManagement.certificationTypes.map(P=>{var E;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`cert-${P}`,checked:((E=a.certifications)==null?void 0:E.includes(P))||!1,onCheckedChange:()=>f(P)}),r.jsx(F,{htmlFor:`cert-${P}`,children:P})]},P)})})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Assurance et contact d'urgence"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"insuranceDetails",children:"Détails de l'assurance"}),r.jsx(se,{id:"insuranceDetails",value:a.insuranceDetails||"",onChange:P=>u("insuranceDetails",P.target.value),placeholder:"Compagnie d'assurance et numéro de police"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),r.jsx(se,{id:"emergencyName",value:((_=a.emergencyContact)==null?void 0:_.name)||"",onChange:P=>u("emergencyContact.name",P.target.value),placeholder:"Nom du contact"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"emergencyPhone",children:"Téléphone d'urgence"}),r.jsx(se,{id:"emergencyPhone",value:((C=a.emergencyContact)==null?void 0:C.phone)||"",onChange:P=>u("emergencyContact.phone",P.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"emergencyRelation",children:"Relation"}),r.jsx(se,{id:"emergencyRelation",value:((A=a.emergencyContact)==null?void 0:A.relation)||"",onChange:P=>u("emergencyContact.relation",P.target.value),placeholder:"Relation (époux, fils, etc.)"})]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Photos de l'exploitation"})}),r.jsx(he,{children:r.jsx(y9,{photos:a.photos||[],onPhotosChange:P=>u("photos",P),farmName:a.name||"Nouvelle exploitation"})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Notes complémentaires"})}),r.jsx(he,{children:r.jsx(wt,{value:a.notes||"",onChange:P=>u("notes",P.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Créer l'exploitation"})]})]})]})})},d5e=({open:e,onOpenChange:t,farmId:n,farmName:s})=>{const{addFarmIntervention:i,farms:a}=Nt(),{toast:o}=$t(),[l,c]=w.useState({farmId:"",farmName:"",date:"",type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""});w.useEffect(()=>{if(e){const m=new Date().toISOString().split("T")[0];c({farmId:(n==null?void 0:n.toString())||"",farmName:s||"",date:m,type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""})}},[e,n,s]);const u=(m,g)=>{c(x=>({...x,[m]:g}))},{settings:d}=Zt(),f=m=>{if(m.preventDefault(),!l.farmId||!l.date||!l.type||!l.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const g=a.find(v=>v.id===parseInt(l.farmId));if(!g){o({title:"Erreur",description:"Exploitation non trouvée",variant:"destructive"});return}const x={farmId:parseInt(l.farmId),farmName:g.name,date:l.date,type:l.type,animals:l.animals,veterinarian:l.veterinarian,description:l.description,status:l.status,followUp:l.followUp,cost:l.cost?parseFloat(l.cost):void 0,notes:l.notes};i(x),o({title:"Succès",description:"Intervention programmée avec succès"}),t(!1)};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Intervention"}),r.jsx(jn,{children:"Programmez une nouvelle intervention vétérinaire"})]}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"farmId",children:"Exploitation *"}),r.jsxs(Me,{value:l.farmId,onValueChange:m=>{const g=a.find(x=>x.id===parseInt(m));u("farmId",m),u("farmName",(g==null?void 0:g.name)||"")},children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner une exploitation"})}),r.jsx(De,{children:a.map(m=>r.jsx(W,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"date",children:"Date *"}),r.jsx(se,{id:"date",type:"date",value:l.date,onChange:m=>u("date",m.target.value),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"type",children:"Type d'intervention *"}),r.jsxs(Me,{value:l.type,onValueChange:m=>u("type",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un type"})}),r.jsxs(De,{children:[r.jsx(W,{value:"vaccination",children:"Vaccination"}),r.jsx(W,{value:"controle",children:"Contrôle sanitaire"}),r.jsx(W,{value:"urgence",children:"Urgence"}),r.jsx(W,{value:"chirurgie",children:"Chirurgie"}),r.jsx(W,{value:"prevention",children:"Prévention"}),r.jsx(W,{value:"consultation",children:"Consultation"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"status",children:"Statut"}),r.jsxs(Me,{value:l.status,onValueChange:m=>u("status",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"scheduled",children:"Programmée"}),r.jsx(W,{value:"ongoing",children:"En cours"}),r.jsx(W,{value:"completed",children:"Terminée"}),r.jsx(W,{value:"cancelled",children:"Annulée"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"animals",children:"Animaux concernés"}),r.jsx(se,{id:"animals",value:l.animals,onChange:m=>u("animals",m.target.value),placeholder:"15 bovins, 50 poules..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"veterinarian",children:"Vétérinaire"}),r.jsx(se,{id:"veterinarian",value:l.veterinarian,onChange:m=>u("veterinarian",m.target.value),placeholder:"Dr. Dupont"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"description",children:"Description *"}),r.jsx(wt,{id:"description",value:l.description,onChange:m=>u("description",m.target.value),placeholder:"Détails de l'intervention...",rows:3,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(F,{htmlFor:"cost",children:["Coût (",d.currency,")"]}),r.jsx(se,{id:"cost",type:"number",value:l.cost,onChange:m=>u("cost",m.target.value),placeholder:"0.00",min:"0",step:"0.01"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"followUp",children:"Suivi"}),r.jsx(se,{id:"followUp",value:l.followUp,onChange:m=>u("followUp",m.target.value),placeholder:"Contrôle dans 6 mois"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",value:l.notes,onChange:m=>u("notes",m.target.value),placeholder:"Informations complémentaires...",rows:2})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Programmer Intervention"})]})]})]})})},h5e=({farm:e,open:t,onOpenChange:n,onEdit:s,onNewIntervention:i})=>{var u;const{getFarmInterventionsByFarmId:a}=Nt();if(!e)return null;const o=a(e.id),l={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},c=d=>{switch(d){case"active":return r.jsx(br,{className:"h-4 w-4"});case"attention":return r.jsx(Vn,{className:"h-4 w-4"});case"urgent":return r.jsx(Vn,{className:"h-4 w-4 text-red-600"});default:return r.jsx(Kn,{className:"h-4 w-4"})}};return r.jsx(St,{open:t,onOpenChange:n,children:r.jsxs(bt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[c(e.status),e.name,r.jsx($e,{className:l[e.status],children:e.status==="active"?"Actif":e.status==="attention"?"Attention":"Urgent"})]}),r.jsx(jn,{children:"Détails complets de l'exploitation agricole"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(tne,{className:"h-5 w-5"}),"Informations Générales"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Propriétaire"}),r.jsx("p",{className:"font-medium",children:e.owner})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Types d'élevage"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(u=e.types)==null?void 0:u.map(d=>r.jsx($e,{variant:"secondary",children:d},d))})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nombre total d'animaux"}),r.jsx("p",{className:"font-medium",children:e.totalAnimals})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vétérinaire"}),r.jsx("p",{className:"font-medium",children:e.veterinarian||"Non assigné"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Dernière visite"}),r.jsx("p",{className:"font-medium",children:ho(e.lastVisit)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Date de création"}),r.jsx("p",{className:"font-medium",children:ho(e.createdAt)})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(ud,{className:"h-3 w-3"}),"Adresse"]}),r.jsx("p",{className:"font-medium",children:e.address})]}),e.coordinates&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Coordonnées GPS"}),r.jsxs("p",{className:"font-mono text-sm",children:[e.coordinates.latitude.toFixed(4),", ",e.coordinates.longitude.toFixed(4)]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),"Téléphone"]}),r.jsx("p",{className:"font-medium",children:e.phone||"Non renseigné"})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(Vf,{className:"h-3 w-3"}),"Email"]}),r.jsx("p",{className:"font-medium",children:e.email||"Non renseigné"})]})]})]})]}),e.animalDetails&&e.animalDetails.length>0&&r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(nne,{className:"h-5 w-5"}),"Détails du Cheptel"]})}),r.jsx(he,{children:r.jsx("div",{className:"space-y-3",children:e.animalDetails.map((d,f)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx($e,{variant:"secondary",children:d.category}),r.jsxs("span",{className:"text-sm font-medium",children:["Total: ",d.maleCount+d.femaleCount," animaux"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Mâles:"})," ",d.maleCount]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Femelles:"})," ",d.femaleCount]}),d.breeds.length>0&&r.jsxs("div",{className:"md:col-span-3",children:[r.jsx("span",{className:"text-muted-foreground",children:"Races:"})," ",d.breeds.join(", ")]})]})]},f))})})]}),(e.registrationNumber||e.surfaceArea||e.buildingDetails||e.equipmentDetails)&&r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Lte,{className:"h-5 w-5"}),"Informations Administratives"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.registrationNumber&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"N° d'immatriculation"}),r.jsx("p",{className:"font-medium",children:e.registrationNumber})]}),e.surfaceArea&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Surface"}),r.jsxs("p",{className:"font-medium",children:[e.surfaceArea," hectares"]})]})]}),e.buildingDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Bâtiments"}),r.jsx("p",{className:"font-medium",children:e.buildingDetails})]}),e.equipmentDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Équipements"}),r.jsx("p",{className:"font-medium",children:e.equipmentDetails})]})]})]}),e.certifications&&e.certifications.length>0&&r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(wi,{className:"h-5 w-5"}),"Certifications"]})}),r.jsx(he,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:e.certifications.map(d=>r.jsx($e,{variant:"outline",children:d},d))})})]}),(e.insuranceDetails||e.emergencyContact)&&r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-5 w-5"}),"Assurance et Contact d'Urgence"]})}),r.jsxs(he,{className:"space-y-4",children:[e.insuranceDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Assurance"}),r.jsx("p",{className:"font-medium",children:e.insuranceDetails})]}),e.emergencyContact&&e.emergencyContact.name&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contact d'urgence"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Téléphone"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.phone})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Relation"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.relation})]})]})]})]}),e.notes&&r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Notes"})}),r.jsx(he,{children:r.jsx("p",{className:"text-sm",children:e.notes})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Détails du Cheptel"})}),r.jsx(he,{children:e.animalDetails&&e.animalDetails.length>0?r.jsx("div",{className:"space-y-4",children:e.animalDetails.map((d,f)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-semibold text-lg",children:d.category}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs($e,{variant:"secondary",children:[d.maleCount+d.femaleCount," animaux"]}),r.jsxs($e,{variant:"outline",children:[d.maleCount," mâles"]}),r.jsxs($e,{variant:"outline",children:[d.femaleCount," femelles"]})]})]}),d.breeds&&d.breeds.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Races: "}),d.breeds.map((m,g)=>r.jsx($e,{variant:"outline",className:"mr-1 text-xs",children:m},g))]}),d.ageGroups&&d.ageGroups.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Groupes d'âge: "}),d.ageGroups.map((m,g)=>r.jsx($e,{variant:"outline",className:"mr-1 text-xs",children:m},g))]})]},f))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucun détail de cheptel configuré pour cette exploitation"})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Photos de l'exploitation"})}),r.jsx(he,{children:e.photos&&e.photos.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.photos.map(d=>r.jsxs("div",{className:"group relative",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[r.jsx("img",{src:d.url,alt:d.description,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx($e,{variant:"secondary",className:"text-xs bg-black/70 text-white border-0",children:d.category==="cheptel"?"Cheptel":d.category==="batiments"?"Bâtiments":d.category==="equipements"?"Équipements":"Général"})})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:d.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(d.uploadedAt).toLocaleDateString()})]})]},d.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ef,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoutée"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Les photos peuvent être ajoutées lors de la modification de l'exploitation"})]})})]}),r.jsxs(pl,{defaultValue:"interventions",className:"w-full",children:[r.jsx(bo,{className:"grid w-full grid-cols-1",children:r.jsxs(ln,{value:"interventions",children:[r.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Interventions (",o.length,")"]})}),r.jsx(cn,{value:"interventions",className:"space-y-4",children:r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Interventions vétérinaires"})}),r.jsx(he,{children:o.length>0?r.jsx("div",{className:"space-y-2",children:o.map(d=>r.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:d.type}),r.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:ho(d.date)})]}),r.jsx($e,{variant:"outline",children:d.status})]},d.id))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucune intervention enregistrée pour cette exploitation"})})]})})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx(V,{onClick:i,variant:"outline",children:"Nouvelle Intervention"}),r.jsx(V,{onClick:s,children:"Modifier"})]})]})})},f5e=({open:e,onOpenChange:t,farm:n})=>{var b,j,_,C,A,P;const{updateFarm:s}=Nt(),{settings:i}=Zt(),{toast:a}=$t(),[o,l]=w.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),[c,u]=w.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!i.farmManagement)return console.error("farmManagement settings not found, using defaults"),r.jsx(St,{open:e,onOpenChange:t,children:r.jsx(bt,{children:r.jsxs(Ct,{children:[r.jsx(_t,{children:"Erreur de configuration"}),r.jsx(jn,{children:"Les paramètres de gestion des fermes ne sont pas configurés. Veuillez recharger la page ou vérifier les paramètres."})]})})});w.useEffect(()=>{n&&e&&l({...n,coordinates:n.coordinates||{latitude:0,longitude:0},types:n.types||[],animalDetails:n.animalDetails||[],certifications:n.certifications||[],emergencyContact:n.emergencyContact||{name:"",phone:"",relation:""}})},[n,e]),w.useEffect(()=>{e||(l({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const d=(E,M)=>{if(E.includes(".")){const[$,T]=E.split(".");l(O=>({...O,[$]:{...O[$],[T]:M}}))}else l($=>({...$,[E]:M}))},f=E=>{l(M=>{var $;return{...M,types:($=M.types)!=null&&$.includes(E)?M.types.filter(T=>T!==E):[...M.types||[],E]}})},m=E=>{l(M=>{var $;return{...M,certifications:($=M.certifications)!=null&&$.includes(E)?M.certifications.filter(T=>T!==E):[...M.certifications||[],E]}})},g=()=>{if(!c.category){a({title:"Erreur",description:"Veuillez sélectionner une catégorie d'animal",variant:"destructive"});return}l(E=>({...E,animalDetails:[...E.animalDetails||[],{...c}]})),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},x=E=>{l(M=>{var $;return{...M,animalDetails:(($=M.animalDetails)==null?void 0:$.filter((T,O)=>O!==E))||[]}})},v=E=>{u(M=>({...M,breeds:[...M.breeds,E]}))},y=E=>{u(M=>({...M,breeds:M.breeds.filter($=>$!==E)}))},N=E=>{var $;if(E.preventDefault(),!n)return;if(!o.name||!o.owner||!o.address||!(($=o.types)!=null&&$.length)){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const M={...n,...o,coordinates:o.coordinates||{latitude:0,longitude:0},types:o.types||[],animalDetails:o.animalDetails||[],totalAnimals:(o.animalDetails||[]).reduce((T,O)=>T+O.maleCount+O.femaleCount,0),certifications:o.certifications||[],emergencyContact:o.emergencyContact||{name:"",phone:"",relation:""}};s(n.id,M),a({title:"Succès",description:"Exploitation mise à jour avec succès"}),t(!1)};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier l'Exploitation"}),r.jsx(jn,{children:"Modifiez les informations de l'exploitation agricole"})]}),r.jsxs("form",{onSubmit:N,className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Informations générales"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"name",children:"Nom de l'exploitation *"}),r.jsx(se,{id:"name",value:o.name||"",onChange:E=>d("name",E.target.value),placeholder:"Nom de l'exploitation"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"owner",children:"Propriétaire *"}),r.jsx(se,{id:"owner",value:o.owner||"",onChange:E=>d("owner",E.target.value),placeholder:"Nom du propriétaire"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"ownerIdNumber",children:"N° pièce d'identité du propriétaire"}),r.jsx(se,{id:"ownerIdNumber",value:o.ownerIdNumber||"",onChange:E=>d("ownerIdNumber",E.target.value),placeholder:"Numéro de carte d'identité, passeport, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"address",children:"Adresse *"}),r.jsx(se,{id:"address",value:o.address||"",onChange:E=>d("address",E.target.value),placeholder:"Adresse complète"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"latitude",children:"Latitude"}),r.jsx(se,{id:"latitude",type:"number",step:"0.0001",value:((b=o.coordinates)==null?void 0:b.latitude)||"",onChange:E=>d("coordinates.latitude",parseFloat(E.target.value)||0),placeholder:"47.9056"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"longitude",children:"Longitude"}),r.jsx(se,{id:"longitude",type:"number",step:"0.0001",value:((j=o.coordinates)==null?void 0:j.longitude)||"",onChange:E=>d("coordinates.longitude",parseFloat(E.target.value)||0),placeholder:"1.9190"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"phone",children:"Téléphone"}),r.jsx(se,{id:"phone",value:o.phone||"",onChange:E=>d("phone",E.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:o.email||"",onChange:E=>d("email",E.target.value),placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"veterinarian",children:"Vétérinaire responsable"}),r.jsx(se,{id:"veterinarian",value:o.veterinarian||"",onChange:E=>d("veterinarian",E.target.value),placeholder:"Vétérinaire"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"status",children:"Statut"}),r.jsxs(Me,{value:o.status,onValueChange:E=>d("status",E),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"active",children:"Active"}),r.jsx(W,{value:"attention",children:"Attention"}),r.jsx(W,{value:"urgent",children:"Urgent"})]})]})]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Types d'élevage *"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.farmManagement.farmTypes.map(E=>{var M;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`type-${E}`,checked:((M=o.types)==null?void 0:M.includes(E))||!1,onCheckedChange:()=>f(E)}),r.jsx(F,{htmlFor:`type-${E}`,children:E})]},E)})})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Détails du cheptel"})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(F,{children:"Catégorie"}),r.jsxs(Me,{value:c.category,onValueChange:E=>u(M=>({...M,category:E})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner"})}),r.jsx(De,{children:i.farmManagement.animalCategories.map(E=>r.jsx(W,{value:E,children:E},E))})]})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Mâles"}),r.jsx(se,{type:"number",value:c.maleCount,onChange:E=>u(M=>({...M,maleCount:parseInt(E.target.value)||0})),placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Femelles"}),r.jsx(se,{type:"number",value:c.femaleCount,onChange:E=>u(M=>({...M,femaleCount:parseInt(E.target.value)||0})),placeholder:"0"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(V,{type:"button",onClick:g,className:"w-full",children:"Ajouter"})})]}),c.category&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs(F,{children:["Races pour ",c.category]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(_=i.farmManagement.breedsByCategory[c.category])==null?void 0:_.map(E=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`breed-${E}`,checked:c.breeds.includes(E),onCheckedChange:()=>{c.breeds.includes(E)?y(E):v(E)}}),r.jsx(F,{htmlFor:`breed-${E}`,children:E})]},E))})]}),o.animalDetails&&o.animalDetails.length>0&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(F,{children:"Cheptel configuré"}),r.jsx("div",{className:"mt-2 space-y-2",children:o.animalDetails.map((E,M)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("span",{children:[r.jsx($e,{variant:"secondary",children:E.category}),r.jsxs("span",{className:"ml-2",children:[E.maleCount," mâles, ",E.femaleCount," femelles"]}),E.breeds.length>0&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",E.breeds.join(", ")]})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>x(M),children:"Supprimer"})]},M))})]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Informations administratives"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"registrationNumber",children:"Numéro d'immatriculation"}),r.jsx(se,{id:"registrationNumber",value:o.registrationNumber||"",onChange:E=>d("registrationNumber",E.target.value),placeholder:"Numéro d'immatriculation"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),r.jsx(se,{id:"surfaceArea",type:"number",step:"0.1",value:o.surfaceArea||"",onChange:E=>d("surfaceArea",parseFloat(E.target.value)||0),placeholder:"Surface en hectares"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"buildingDetails",children:"Détails des bâtiments"}),r.jsx(wt,{id:"buildingDetails",value:o.buildingDetails||"",onChange:E=>d("buildingDetails",E.target.value),placeholder:"Description des bâtiments, étables, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"equipmentDetails",children:"Équipements"}),r.jsx(wt,{id:"equipmentDetails",value:o.equipmentDetails||"",onChange:E=>d("equipmentDetails",E.target.value),placeholder:"Liste des équipements disponibles"})]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Certifications"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.farmManagement.certificationTypes.map(E=>{var M;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`cert-${E}`,checked:((M=o.certifications)==null?void 0:M.includes(E))||!1,onCheckedChange:()=>m(E)}),r.jsx(F,{htmlFor:`cert-${E}`,children:E})]},E)})})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Assurance et contact d'urgence"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"insuranceDetails",children:"Détails de l'assurance"}),r.jsx(se,{id:"insuranceDetails",value:o.insuranceDetails||"",onChange:E=>d("insuranceDetails",E.target.value),placeholder:"Compagnie d'assurance et numéro de police"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),r.jsx(se,{id:"emergencyName",value:((C=o.emergencyContact)==null?void 0:C.name)||"",onChange:E=>d("emergencyContact.name",E.target.value),placeholder:"Nom du contact"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"emergencyPhone",children:"Téléphone d'urgence"}),r.jsx(se,{id:"emergencyPhone",value:((A=o.emergencyContact)==null?void 0:A.phone)||"",onChange:E=>d("emergencyContact.phone",E.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"emergencyRelation",children:"Relation"}),r.jsx(se,{id:"emergencyRelation",value:((P=o.emergencyContact)==null?void 0:P.relation)||"",onChange:E=>d("emergencyContact.relation",E.target.value),placeholder:"Relation (époux, fils, etc.)"})]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Photos de l'exploitation"})}),r.jsx(he,{children:r.jsx(y9,{photos:o.photos||[],onPhotosChange:E=>d("photos",E),farmName:o.name||"Exploitation"})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Notes complémentaires"})}),r.jsx(he,{children:r.jsx(wt,{value:o.notes||"",onChange:E=>d("notes",E.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Mettre à jour l'exploitation"})]})]})]})}):null},m5e=({open:e,onOpenChange:t,intervention:n})=>{const{updateFarmIntervention:s,farms:i}=Nt(),{toast:a}=$t(),[o,l]=w.useState({farmId:"",type:"",date:"",animals:"",description:"",veterinarian:"",status:"scheduled",followUp:"",cost:""});w.useEffect(()=>{n&&e&&l({farmId:n.farmId.toString(),type:n.type,date:n.date,animals:n.animals,description:n.description,veterinarian:n.veterinarian,status:n.status,followUp:n.followUp||"",cost:n.cost||""})},[n,e]);const c=(f,m)=>{l(g=>({...g,[f]:m}))},u=f=>{if(f.preventDefault(),!n)return;if(!o.farmId||!o.type||!o.date||!o.animals||!o.description){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const m={farmId:parseInt(o.farmId),type:o.type,date:o.date,animals:o.animals,description:o.description,veterinarian:o.veterinarian,status:o.status,followUp:o.followUp,cost:o.cost};s(n.id,m),a({title:"Succès",description:"Intervention mise à jour avec succès"}),t(!1)};if(!n)return null;const d=i.find(f=>f.id===parseInt(o.farmId));return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier l'Intervention"}),r.jsxs(jn,{children:["Modifiez les informations de l'intervention du ",new Date(n.date).toLocaleDateString("fr-FR")]})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Exploitation *"}),r.jsxs(Me,{value:o.farmId,onValueChange:f=>c("farmId",f),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner l'exploitation"})}),r.jsx(De,{children:i.map(f=>r.jsxs(W,{value:f.id.toString(),children:[f.name," - ",f.owner]},f.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Type d'intervention *"}),r.jsxs(Me,{value:o.type,onValueChange:f=>c("type",f),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le type"})}),r.jsxs(De,{children:[r.jsx(W,{value:"vaccination",children:"Vaccination"}),r.jsx(W,{value:"controle",children:"Contrôle sanitaire"}),r.jsx(W,{value:"urgence",children:"Urgence"}),r.jsx(W,{value:"chirurgie",children:"Chirurgie"}),r.jsx(W,{value:"prevention",children:"Prévention"}),r.jsx(W,{value:"consultation",children:"Consultation"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"date",children:"Date *"}),r.jsx(se,{id:"date",type:"date",value:o.date,onChange:f=>c("date",f.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Statut"}),r.jsxs(Me,{value:o.status,onValueChange:f=>c("status",f),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"scheduled",children:"Programmé"}),r.jsx(W,{value:"ongoing",children:"En cours"}),r.jsx(W,{value:"completed",children:"Terminé"}),r.jsx(W,{value:"cancelled",children:"Annulé"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"animals",children:"Animaux concernés *"}),r.jsx(se,{id:"animals",value:o.animals,onChange:f=>c("animals",f.target.value),placeholder:"ex: 50 vaches, 100 porcs...",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"veterinarian",children:"Vétérinaire *"}),r.jsx(se,{id:"veterinarian",value:o.veterinarian,onChange:f=>c("veterinarian",f.target.value),required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"description",children:"Description *"}),r.jsx(wt,{id:"description",value:o.description,onChange:f=>c("description",f.target.value),rows:3,placeholder:"Détails de l'intervention, observations, traitements...",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"followUp",children:"Suivi recommandé"}),r.jsx(wt,{id:"followUp",value:o.followUp,onChange:f=>c("followUp",f.target.value),rows:2,placeholder:"Recommandations, prochain contrôle..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"cost",children:"Coût (€)"}),r.jsx(se,{id:"cost",type:"number",value:o.cost,onChange:f=>c("cost",f.target.value),min:"0",step:"0.01",placeholder:"0.00"})]})]}),d&&r.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Informations de l'exploitation"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Nom:"})," ",d.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Propriétaire:"})," ",d.owner]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type:"})," ",d.type]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Adresse:"})," ",d.address]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Mettre à jour"})]})]})]})})},p5e=()=>{const{farms:e,farmInterventions:t,deleteFarm:n,deleteFarmIntervention:s,getFarmsByStatus:i,getUpcomingFarmInterventions:a}=Nt(),{toast:o}=$t(),{currentView:l}=gm("farms"),[c,u]=w.useState(""),[d,f]=w.useState("all"),[m,g]=w.useState(l),[x,v]=w.useState(!1),[y,N]=w.useState(!1),[b,j]=w.useState(!1),[_,C]=w.useState(!1),[A,P]=w.useState(!1),[E,M]=w.useState(null),[$,T]=w.useState(null),O=e.filter(ne=>{var be,z;const ve=ne.name.toLowerCase().includes(c.toLowerCase())||ne.owner.toLowerCase().includes(c.toLowerCase())||((be=ne.types)==null?void 0:be.some(Y=>Y.toLowerCase().includes(c.toLowerCase())))||!1,ye=d==="all"||((z=ne.types)==null?void 0:z.includes(d))||!1;return ve&&ye}),L={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},B={"Bovin laitier":"Élevage bovin laitier","Bovin viande":"Élevage bovin viande",Porcin:"Élevage porcin",Avicole:"Élevage avicole",Ovin:"Élevage ovin",Caprin:"Élevage caprin",Équin:"Élevage équin",Apiculture:"Apiculture",Aquaculture:"Aquaculture",Cuniculture:"Cuniculture",Mixte:"Élevage mixte"},Z={vaccination:"Vaccination",controle:"Contrôle sanitaire",urgence:"Urgence",chirurgie:"Chirurgie",prevention:"Prévention",consultation:"Consultation"},H=ne=>{M(ne),j(!0)},ae=ne=>{M(ne),C(!0)},X=ne=>{confirm("Êtes-vous sûr de vouloir supprimer cette exploitation ?")&&(n(ne),o({title:"Succès",description:"Exploitation supprimée"}))},D=ne=>{N(!0)},ie=ne=>{confirm("Êtes-vous sûr de vouloir supprimer cette intervention ?")&&(s(ne),o({title:"Succès",description:"Intervention supprimée"}))},me=ne=>{T(ne),P(!0)},te=i("attention").length+i("urgent").length,J=a();return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Exploitations"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez les fermes, élevages et interventions vétérinaires"})]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>v(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle Exploitation"]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center",children:[r.jsx(KC,{className:"h-12 w-12 text-primary mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:e.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Exploitations"})]})}),r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center",children:[r.jsx(Vn,{className:"h-12 w-12 text-accent mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:te}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Alertes actives"})]})}),r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center",children:[r.jsx(Dt,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:J.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Interventions à venir"})]})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx(se,{placeholder:"Rechercher par nom, propriétaire ou type...",value:c,onChange:ne=>u(ne.target.value),className:"max-w-md"}),r.jsxs(Me,{value:d,onValueChange:f,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Type d'élevage"})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Tous types"}),r.jsx(W,{value:"Bovin laitier",children:"Élevage bovin laitier"}),r.jsx(W,{value:"Bovin viande",children:"Élevage bovin viande"}),r.jsx(W,{value:"Porcin",children:"Élevage porcin"}),r.jsx(W,{value:"Avicole",children:"Élevage avicole"}),r.jsx(W,{value:"Ovin",children:"Élevage ovin"}),r.jsx(W,{value:"Caprin",children:"Élevage caprin"}),r.jsx(W,{value:"Équin",children:"Élevage équin"}),r.jsx(W,{value:"Apiculture",children:"Apiculture"}),r.jsx(W,{value:"Aquaculture",children:"Aquaculture"}),r.jsx(W,{value:"Cuniculture",children:"Cuniculture"}),r.jsx(W,{value:"Mixte",children:"Élevage mixte"})]})]})]})})]}),r.jsxs(pl,{defaultValue:"farms",className:"space-y-6",children:[r.jsxs(bo,{className:"grid w-full grid-cols-2",children:[r.jsxs(ln,{value:"farms",className:"gap-2",children:[r.jsx(KC,{className:"h-4 w-4"}),"Exploitations"]}),r.jsxs(ln,{value:"interventions",className:"gap-2",children:[r.jsx(Dt,{className:"h-4 w-4"}),"Interventions"]})]}),r.jsxs(cn,{value:"farms",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Exploitations (",O.length,")"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:m==="cards"?"default":"outline",onClick:()=>g("cards"),className:"gap-2",children:[r.jsx(wc,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:m==="table"?"default":"outline",onClick:()=>g("table"),className:"gap-2",children:[r.jsx(Nc,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(V,{onClick:()=>N(!0),className:"gap-2",children:[r.jsx(jr,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]})]}),O.length===0?r.jsx(de,{children:r.jsx(he,{className:"p-6 text-center text-muted-foreground",children:"Aucune exploitation trouvée"})}):m==="cards"?O.map(ne=>{var ve;return r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-xl font-semibold",children:ne.name}),r.jsx($e,{variant:"outline",className:L[ne.status],children:ne.status==="active"?"Actif":ne.status==="attention"?"Attention":"Urgent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Propriétaire:"})," ",ne.owner]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(ud,{className:"h-3 w-3"}),ne.address]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),ne.phone]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Types:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(ve=ne.types)==null?void 0:ve.map(ye=>r.jsx($e,{variant:"secondary",className:"text-xs",children:B[ye]||ye},ye))})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Animaux:"})," ",ne.totalAnimals]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vétérinaire:"})," ",ne.veterinarian]})]})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernière visite: ",ho(ne.lastVisit)]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>H(ne),children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ae(ne),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",onClick:()=>D(),children:r.jsx(jr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>X(ne.id),children:r.jsx(Hn,{className:"h-4 w-4"})})]})]})})},ne.id)}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Exploitation"}),r.jsx("th",{className:"p-4 font-medium",children:"Propriétaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),r.jsx("th",{className:"p-4 font-medium",children:"Contact"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:O.map(ne=>{var ve;return r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:ne.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:ne.address})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:ne.owner}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Vét: ",ne.veterinarian]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:(ve=ne.types)==null?void 0:ve.map(ye=>r.jsx($e,{variant:"secondary",className:"text-xs",children:B[ye]||ye},ye))})}),r.jsx("td",{className:"p-4",children:r.jsx($e,{variant:"outline",className:L[ne.status],children:ne.status==="active"?"Actif":ne.status==="attention"?"Attention":"Urgent"})}),r.jsx("td",{className:"p-4",children:ne.totalAnimals}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),ne.phone]}),r.jsxs("div",{className:"text-muted-foreground",children:["Dernière visite: ",ho(ne.lastVisit)]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>H(ne),children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ae(ne),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",onClick:()=>D(),children:r.jsx(jr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>X(ne.id),children:r.jsx(Hn,{className:"h-4 w-4"})})]})})]},ne.id)})})]})})})})]}),r.jsxs(cn,{value:"interventions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Interventions récentes (",t.length,")"]}),r.jsxs(V,{onClick:()=>N(!0),className:"gap-2",children:[r.jsx(jr,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]}),t.length===0?r.jsx(de,{children:r.jsx(he,{className:"p-6 text-center text-muted-foreground",children:"Aucune intervention enregistrée"})}):t.map(ne=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-lg font-semibold",children:Z[ne.type]}),r.jsx($e,{variant:"outline",className:ne.status==="completed"?"bg-green-100 text-green-800":ne.status==="ongoing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",children:ne.status==="completed"?"Terminé":ne.status==="ongoing"?"En cours":ne.status==="scheduled"?"Programmé":"Annulé"})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Dt,{className:"h-3 w-3"}),ho(ne.date)]}),r.jsx("span",{children:ne.farmName}),r.jsx("span",{children:ne.veterinarian})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Animaux concernés:"})," ",ne.animals]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Suivi:"})," ",ne.followUp||"Aucun"]})]}),r.jsx("p",{className:"text-sm",children:ne.description}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>me(ne),children:r.jsx(tn,{className:"h-4 w-4"})}),ne.status==="ongoing"&&r.jsx(V,{size:"sm",children:r.jsx(jr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>ie(ne.id),children:r.jsx(Hn,{className:"h-4 w-4"})})]})]})})},ne.id))]})]}),r.jsx(u5e,{open:x,onOpenChange:v}),r.jsx(d5e,{open:y,onOpenChange:N,farmId:E==null?void 0:E.id,farmName:E==null?void 0:E.name}),r.jsx(h5e,{farm:E,open:b,onOpenChange:j,onEdit:()=>ae(E),onNewIntervention:()=>{j(!1),N(!0)}}),r.jsx(f5e,{farm:E,open:_,onOpenChange:C}),r.jsx(m5e,{intervention:$,open:A,onOpenChange:P})]})},g5e={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},v5e=(e,t,n)=>{let s;const i=g5e[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+s:"il y a "+s:s},x5e={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},y5e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},j5e={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},b5e={date:kh({formats:x5e,defaultWidth:"full"}),time:kh({formats:y5e,defaultWidth:"full"}),dateTime:kh({formats:j5e,defaultWidth:"full"})},w5e={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},N5e=(e,t,n,s)=>w5e[e],S5e={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},C5e={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},_5e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},P5e={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},A5e={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},E5e=(e,t)=>{const n=Number(e),s=t==null?void 0:t.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let a;return n===1?a=s&&i.includes(s)?"ère":"er":a="ème",n+a},k5e=["MMM","MMMM"],T5e={preprocessor:(e,t)=>e.getDate()===1||!t.some(s=>s.isToken&&k5e.includes(s.value))?t:t.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:E5e,era:ro({values:S5e,defaultWidth:"wide"}),quarter:ro({values:C5e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ro({values:_5e,defaultWidth:"wide"}),day:ro({values:P5e,defaultWidth:"wide"}),dayPeriod:ro({values:A5e,defaultWidth:"wide"})},O5e=/^(\d+)(ième|ère|ème|er|e)?/i,D5e=/\d+/i,M5e={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},I5e={any:[/^av/i,/^ap/i]},$5e={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},R5e={any:[/1/i,/2/i,/3/i,/4/i]},L5e={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},F5e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},B5e={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},z5e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},V5e={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},U5e={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},q5e={ordinalNumber:UV({matchPattern:O5e,parsePattern:D5e,valueCallback:e=>parseInt(e)}),era:so({matchPatterns:M5e,defaultMatchWidth:"wide",parsePatterns:I5e,defaultParseWidth:"any"}),quarter:so({matchPatterns:$5e,defaultMatchWidth:"wide",parsePatterns:R5e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:so({matchPatterns:L5e,defaultMatchWidth:"wide",parsePatterns:F5e,defaultParseWidth:"any"}),day:so({matchPatterns:B5e,defaultMatchWidth:"wide",parsePatterns:z5e,defaultParseWidth:"any"}),dayPeriod:so({matchPatterns:V5e,defaultMatchWidth:"any",parsePatterns:U5e,defaultParseWidth:"any"})},Ki={code:"fr",formatDistance:v5e,formatLong:b5e,formatRelative:N5e,localize:T5e,match:q5e,options:{weekStartsOn:1,firstWeekContainsDate:4}};var Iw="Switch",[W5e,Z6e]=ni(Iw),[H5e,G5e]=W5e(Iw),j9=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,g]=w.useState(null),x=Xt(t,j=>g(j)),v=w.useRef(!1),y=m?d||!!m.closest("form"):!0,[N,b]=vo({prop:i,defaultProp:a??!1,onChange:u,caller:Iw});return r.jsxs(H5e,{scope:n,checked:N,disabled:l,children:[r.jsx(st.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":S9(N),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:He(e.onClick,j=>{b(_=>!_),y&&(v.current=j.isPropagationStopped(),v.current||j.stopPropagation())})}),y&&r.jsx(N9,{control:m,bubbles:!v.current,name:s,value:c,checked:N,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});j9.displayName=Iw;var b9="SwitchThumb",w9=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,i=G5e(b9,n);return r.jsx(st.span,{"data-state":S9(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});w9.displayName=b9;var K5e="SwitchBubbleInput",N9=w.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...i},a)=>{const o=w.useRef(null),l=Xt(o,a),c=fE(n),u=IA(t);return w.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const x=new Event("click",{bubbles:s});g.call(d,n),d.dispatchEvent(x)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});N9.displayName=K5e;function S9(e){return e?"checked":"unchecked"}var C9=j9,Y5e=w9;const Fr=w.forwardRef(({className:e,...t},n)=>r.jsx(C9,{className:Ze("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(Y5e,{className:Ze("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Fr.displayName=C9.displayName;function YS({children:e,protocol:t,mode:n}){const{addVaccinationProtocol:s,updateVaccinationProtocol:i}=Nt(),{settings:a}=Zt(),{toast:o}=$t(),[l,c]=w.useState(!1),[u,d]=w.useState({name:"",species:"",vaccineType:"",description:"",manufacturer:"",intervals:[{offsetDays:365,label:"1 an (intervalle par défaut)"}],ageRequirement:"",notes:"",isActive:!0});w.useEffect(()=>{n==="edit"&&t&&d({name:t.name,species:t.species,vaccineType:t.vaccineType,description:t.description,manufacturer:t.manufacturer||"",intervals:t.intervals||[],ageRequirement:t.ageRequirement||"",notes:t.notes||"",isActive:t.isActive})},[n,t]);const f=g=>{if(g.preventDefault(),!u.name||!u.species||!u.vaccineType||!u.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}n==="create"?(s({name:u.name,species:u.species,vaccineType:u.vaccineType,description:u.description,manufacturer:u.manufacturer,intervals:u.intervals,ageRequirement:u.ageRequirement,notes:u.notes,isActive:u.isActive}),o({title:"Protocole créé",description:`Le protocole ${u.name} a été créé avec succès`})):t&&(i(t.id,{name:u.name,species:u.species,vaccineType:u.vaccineType,description:u.description,manufacturer:u.manufacturer,intervals:u.intervals,ageRequirement:u.ageRequirement,notes:u.notes,isActive:u.isActive}),o({title:"Protocole modifié",description:`Le protocole ${u.name} a été modifié avec succès`})),d({name:"",species:"",vaccineType:"",description:"",manufacturer:"",intervals:[{offsetDays:365,label:"1 an (intervalle par défaut)"}],ageRequirement:"",notes:"",isActive:!0}),c(!1)},m=a.species?a.species.split(",").map(g=>g.trim()):["Chien","Chat","Furet","Lapin","Oiseau","Rongeur"];return r.jsxs(St,{open:l,onOpenChange:c,children:[r.jsx(Rc,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[n==="create"?r.jsx(ht,{className:"h-4 w-4"}):r.jsx(tn,{className:"h-4 w-4"}),n==="create"?"Nouveau Protocole":"Modifier"]})}),r.jsxs(bt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(wi,{className:"h-5 w-5"}),n==="create"?"Nouveau Protocole Vaccinal":"Modifier le Protocole"]})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"name",children:"Nom du vaccin *"}),r.jsx(se,{id:"name",value:u.name,onChange:g=>d(x=>({...x,name:g.target.value})),placeholder:"Ex: DHPP, FVRCP, Rage...",required:!0})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"species",children:"Espèce *"}),r.jsxs(Me,{value:u.species,onValueChange:g=>d(x=>({...x,species:g})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner une espèce"})}),r.jsx(De,{children:m.map(g=>r.jsx(W,{value:g,children:g},g))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"vaccineType",children:"Type de vaccin *"}),r.jsxs(Me,{value:u.vaccineType,onValueChange:g=>d(x=>({...x,vaccineType:g})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de vaccin"})}),r.jsxs(De,{children:[r.jsx(W,{value:"core",children:"Essentiel (Core)"}),r.jsx(W,{value:"non-core",children:"Optionnel (Non-core)"}),r.jsx(W,{value:"rabies",children:"Rage"}),r.jsx(W,{value:"custom",children:"Personnalisé"})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(se,{id:"manufacturer",value:u.manufacturer,onChange:g=>d(x=>({...x,manufacturer:g.target.value})),placeholder:"Ex: Zoetis, Merial, Virbac..."})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"description",children:"Description *"}),r.jsx(wt,{id:"description",value:u.description,onChange:g=>d(x=>({...x,description:g.target.value})),placeholder:"Description du vaccin et des maladies qu'il prévient...",rows:3,required:!0})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(F,{children:"Étapes du protocole"}),(u.intervals||[]).map((g,x)=>{let v=g.offsetDays,y="days";g.offsetDays%30===0&&g.offsetDays!==0?(v=g.offsetDays/30,y="months"):g.offsetDays%7===0&&g.offsetDays!==0&&(v=g.offsetDays/7,y="weeks");const N=`${v} ${y==="weeks"?"semaine(s)":y==="months"?"mois":"jour(s)"}`;return r.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center",children:[r.jsx(se,{type:"number",min:0,value:v,onChange:b=>{const j=parseInt(b.target.value)||0,_=y==="weeks"?j*7:y==="months"?j*30:j;d(C=>{const A=[...C.intervals];return A[x].offsetDays=_,{...C,intervals:A}})}}),r.jsxs(Me,{value:y,onValueChange:b=>{const j=b,_=j==="weeks"?v*7:j==="months"?v*30:v;d(C=>{const A=[...C.intervals];return A[x].offsetDays=_,{...C,intervals:A}})},children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"days",children:"Jours"}),r.jsx(W,{value:"weeks",children:"Semaines"}),r.jsx(W,{value:"months",children:"Mois"})]})]}),r.jsx("div",{className:"p-2",children:N}),r.jsx(V,{type:"button",variant:"outline",size:"icon",onClick:()=>{d(b=>{const j=b.intervals.filter((_,C)=>C!==x);return{...b,intervals:j}})},children:"❌"})]},x)}),r.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:()=>d(g=>({...g,intervals:[...g.intervals||[],{offsetDays:0}]})),children:[r.jsx(ht,{className:"h-4 w-4"})," Ajouter une étape"]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"ageRequirement",children:"Âge requis"}),r.jsx(se,{id:"ageRequirement",value:u.ageRequirement,onChange:g=>d(x=>({...x,ageRequirement:g.target.value})),placeholder:"Ex: À partir de 6 semaines"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"notes",children:"Notes supplémentaires"}),r.jsx(wt,{id:"notes",value:u.notes,onChange:g=>d(x=>({...x,notes:g.target.value})),placeholder:"Informations complémentaires, contre-indications, etc...",rows:2})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Fr,{id:"isActive",checked:u.isActive,onCheckedChange:g=>d(x=>({...x,isActive:g}))}),r.jsx(F,{htmlFor:"isActive",children:"Protocole actif"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",children:[r.jsx(wi,{className:"h-4 w-4 mr-2"}),n==="create"?"Créer le protocole":"Modifier le protocole"]})]})]})]})]})}const V3=(e,t)=>{switch(e){case"appointment":switch(t){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}case"vaccination":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}case"antiparasitic":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}default:return"bg-gray-100 text-gray-800 border-gray-200"}},U3=(e,t)=>{switch(e){case"appointment":return r.jsx(Kn,{className:"h-3 w-3"});case"vaccination":return r.jsx(br,{className:"h-3 w-3"});case"antiparasitic":return r.jsx(Vn,{className:"h-3 w-3"});default:return r.jsx(Dt,{className:"h-3 w-3"})}},_9=({events:e,onEventClick:t,onDateClick:n,onTimeSlotClick:s,showTimeSlots:i=!1,title:a="Calendrier",icon:o=r.jsx(Dt,{className:"h-5 w-5"})})=>{var A;const{settings:l}=Zt(),[c,u]=w.useState(new Date),[d,f]=w.useState(""),m=new Date(c.getFullYear(),c.getMonth(),1),g=new Date(c.getFullYear(),c.getMonth()+1,0),x=new Date(m);x.setDate(x.getDate()-m.getDay());const v=[],y=new Date(x);for(;y<=g||v.length<42;)v.push(new Date(y)),y.setDate(y.getDate()+1);const N=w.useMemo(()=>{const P={};return e.forEach(E=>{const M=E.date;P[M]||(P[M]=[]),P[M].push(E)}),P},[e]),b=w.useMemo(()=>!d||!i?[]:xE(d,l.scheduleSettings,[]),[d,i,l.scheduleSettings]),j=P=>{const E=new Date(c);E.setMonth(c.getMonth()+(P==="next"?1:-1)),u(E)},_=P=>{const E=It(P,"yyyy-MM-dd");f(E),n==null||n(E)},C=P=>{s&&d&&s(d,P)};return r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs(de,{children:[r.jsx(_e,{className:"pb-3 sm:pb-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[r.jsxs(Pe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o,a]}),r.jsxs("div",{className:"flex items-center justify-between sm:gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>j("prev"),className:"flex-1 sm:flex-none",children:"←"}),r.jsx("span",{className:"font-medium text-sm sm:text-base px-2 sm:min-w-[140px] text-center",children:It(c,"MMMM yyyy",{locale:Ki})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>j("next"),className:"flex-1 sm:flex-none",children:"→"})]})]})}),r.jsxs(he,{className:"p-2 sm:p-6",children:[r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2 sm:mb-4",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(P=>r.jsx("div",{className:"p-1 sm:p-2 text-center text-xs sm:text-sm font-medium text-gray-500",children:P},P))}),r.jsx("div",{className:"grid grid-cols-7 gap-1",children:v.map((P,E)=>{const M=It(P,"yyyy-MM-dd"),$=N[M]||[],T=P.getMonth()===c.getMonth(),O=Ufe(P,new Date),L=M===d,B=Afe(M,l.scheduleSettings);return r.jsxs("div",{className:`
                    min-h-[60px] sm:min-h-[80px] p-1 border rounded-lg relative cursor-pointer hover:bg-muted/50
                    ${T?"bg-white":"bg-gray-50"}
                    ${O?"ring-2 ring-blue-500":""}
                    ${L?"bg-blue-100 border-blue-300":""}
                    ${B?"":"opacity-50"}
                  `,onClick:()=>_(P),children:[r.jsx("div",{className:`text-xs sm:text-sm font-medium ${T?"text-gray-900":"text-gray-400"}`,children:P.getDate()}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1 mt-0.5 sm:mt-1",children:[$.slice(0,2).map((Z,H)=>r.jsx("div",{className:`
                          text-xs p-0.5 sm:p-1 rounded text-center truncate border cursor-pointer
                          ${V3(Z.type,Z.status)}
                        `,title:`${Z.title}${Z.time?` - ${Z.time}`:""}${Z.clientName?` (${Z.clientName})`:""}`,onClick:ae=>{ae.stopPropagation(),t==null||t(Z)},children:r.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 justify-center",children:[U3(Z.type,Z.status),r.jsx("span",{className:"truncate text-xs",children:Z.title})]})},H)),$.length>2&&r.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",$.length-2]})]})]},E)})})]})]}),d&&r.jsxs(de,{children:[r.jsx(_e,{className:"pb-3",children:r.jsx(Pe,{className:"text-base sm:text-lg",children:It(new Date(d),"EEEE d MMMM yyyy",{locale:Ki})})}),r.jsxs(he,{className:"p-3 sm:p-6",children:[((A=N[d])==null?void 0:A.length)>0?r.jsx("div",{className:"space-y-3",children:N[d].map(P=>r.jsxs("div",{className:`
                      p-3 rounded-lg border cursor-pointer hover:shadow-sm
                      ${V3(P.type,P.status)}
                    `,onClick:()=>t==null?void 0:t(P),children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[U3(P.type,P.status),r.jsx("span",{className:"font-medium",children:P.title})]}),r.jsx($e,{variant:"outline",className:"text-xs",children:P.status})]}),P.time&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(Kn,{className:"h-3 w-3"}),r.jsx("span",{children:P.time})]}),P.clientName&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(Hr,{className:"h-3 w-3"}),r.jsx("span",{children:P.clientName})]}),P.petName&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(Wt,{className:"h-3 w-3"}),r.jsx("span",{children:P.petName})]})]},P.id))}):r.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun événement prévu pour cette date"}),i&&b.length>0&&r.jsxs("div",{className:"mt-4 sm:mt-6",children:[r.jsx("h4",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:"Créneaux disponibles"}),r.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-1 sm:gap-2",children:b.map(P=>r.jsxs(V,{variant:P.isAvailable?"outline":"ghost",size:"sm",disabled:!P.isAvailable,onClick:()=>C(P.time),className:"text-xs p-1 sm:p-2",children:[P.time,P.isLunchBreak&&r.jsx($e,{variant:"secondary",className:"ml-1 text-xs hidden sm:inline",children:"Pause"})]},P.time))})]})]})]})]})},q3=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},W3=e=>{switch(e){case"completed":return r.jsx(br,{className:"h-4 w-4"});case"overdue":return r.jsx(Vn,{className:"h-4 w-4"});case"scheduled":return r.jsx(Kn,{className:"h-4 w-4"});case"missed":return r.jsx(Vn,{className:"h-4 w-4"});default:return r.jsx(Kn,{className:"h-4 w-4"})}},Q5e=()=>{const{vaccinations:e,pets:t,clients:n}=Nt(),s=w.useMemo(()=>e.map(o=>{var l,c;return{id:o.id,type:"vaccination",title:o.vaccineName,date:o.nextDueDate,status:o.status,clientName:(l=n.find(u=>u.id===o.clientId))==null?void 0:l.name,petName:(c=t.find(u=>u.id===o.petId))==null?void 0:c.name}}),[e,n,t]),i=o=>{},a=o=>{};return r.jsx(_9,{events:s,onEventClick:i,onDateClick:a,title:"Calendrier Vaccinal",icon:r.jsx(Dt,{className:"h-5 w-5"})})};function X5e(){var ys;const{vaccinations:e,pets:t,clients:n,vaccinationProtocols:s,getVaccinationsByPetId:i,getOverdueVaccinations:a,getUpcomingVaccinations:o,getVaccinationsByStatus:l,getActiveVaccinationProtocols:c,getVaccinationProtocolsBySpecies:u,deleteVaccinationProtocol:d,deleteVaccination:f,updateVaccination:m}=Nt(),{settings:g}=Zt(),{currentView:x}=gm("vaccinations"),{toast:v}=$t(),[y,N]=w.useState(x),[b,j]=w.useState(""),[_,C]=w.useState("all"),[A,P]=w.useState("all"),[E,M]=w.useState("all"),[$,T]=w.useState("overview"),[O,L]=w.useState(!1),[B,Z]=w.useState(null),[H,ae]=w.useState(null),[X,D]=w.useState(null),[ie,me]=w.useState(null),[te,J]=w.useState(!1),[ne,ve]=w.useState(!1),[ye,be]=w.useState(null),z=w.useRef(null),[Y,ee]=w.useState(null),[G,I]=w.useState(!1),[xe,Ne]=w.useState(!1),[Be,Fe]=w.useState(null),[it,lt]=w.useState(""),ft=()=>{if(!Be)return;const{id:Se,field:Ut}=Be,tt=e.find(mt=>mt.id===Se);if(tt){const mt={...tt,[Ut]:it};m(Se,mt),v({title:"Modifié",description:`${Ut} mis à jour`})}Fe(null)},we=Lk.useReactToPrint({contentRef:z,onAfterPrint:()=>L(!1)}),Ge=(Se,Ut)=>{m(Se,{status:Ut}),D(null),v({title:"Statut mis à jour",description:`Le statut de la vaccination a été changé en "${{completed:"Terminée",scheduled:"Planifiée",overdue:"En retard",missed:"Manquée"}[Ut]}"`})},Ke=Se=>{me(Se),J(!0)},Ht=Se=>{be(Se),ve(!0)},Yn=()=>{if(ye){f(ye.id);const Se=ye.vaccinationCategory==="reminder"?"rappel":"vaccination",Ut=ye.vaccinationCategory==="new"?e.filter(tt=>tt.originalVaccinationId===ye.id).length:0;v({title:`${Se.charAt(0).toUpperCase()+Se.slice(1)} supprimée`,description:ye.vaccinationCategory==="new"&&Ut>0?`La vaccination ${ye.vaccineName} et ses ${Ut} rappel(s) ont été supprimés avec succès.`:`Le ${Se} ${ye.vaccineName} a été supprimé avec succès.`}),ve(!1),be(null)}},Et=()=>{J(!1),me(null)},Nn=w.useMemo(()=>{const Se=e.length,Ut=l("completed").length,tt=a().length,mt=o().length,sn=l("scheduled").length,as=e.filter(Bs=>Bs.vaccinationCategory==="reminder").length,Qr=e.filter(Bs=>Bs.vaccinationCategory==="new").length;return{total:Se,completed:Ut,overdue:tt,upcoming:mt,scheduled:sn,reminders:as,originalVaccinations:Qr}},[e,l,a,o]),ur=w.useMemo(()=>e.filter(Se=>{const Ut=Se.petName.toLowerCase().includes(b.toLowerCase())||Se.clientName.toLowerCase().includes(b.toLowerCase())||Se.vaccineName.toLowerCase().includes(b.toLowerCase())||Se.veterinarian.toLowerCase().includes(b.toLowerCase()),tt=_==="all"||Se.status===_,mt=A==="all"||Se.vaccineType===A,sn=E==="all"||Se.vaccinationCategory===E;return Ut&&tt&&mt&&sn}),[e,b,_,A,E]),Qn=()=>{const Se=JSON.stringify(e,null,2),Ut=new Blob([Se],{type:"application/json"}),tt=URL.createObjectURL(Ut),mt=document.createElement("a");mt.href=tt,mt.download=`vaccinations-${It(new Date,"yyyy-MM-dd")}.json`,mt.click(),URL.revokeObjectURL(tt)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(Ts,{className:"h-8 w-8 text-blue-600"}),"Gestion Vaccinale"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Suivi et planification des vaccinations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(V,{onClick:Qn,variant:"outline",className:"gap-2",children:[r.jsx(CA,{className:"h-4 w-4"}),"Exporter"]}),r.jsx(R0,{})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx(Ts,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Nn.total})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:r.jsx(br,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Terminées"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Nn.completed})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:r.jsx(Vn,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En Retard"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Nn.overdue})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:r.jsx(Kn,{className:"h-6 w-6 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prochaines 30j"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Nn.upcoming})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:r.jsx(Dt,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiées"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Nn.scheduled})]})]})})})]}),r.jsxs(pl,{value:$,onValueChange:T,children:[r.jsxs(bo,{className:"grid w-full grid-cols-4",children:[r.jsxs(ln,{value:"overview",className:"flex items-center gap-2",children:[r.jsx(gr,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(ln,{value:"calendar",className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-4 w-4"}),"Calendrier"]}),r.jsxs(ln,{value:"protocols",className:"flex items-center gap-2",children:[r.jsx(wi,{className:"h-4 w-4"}),"Protocoles"]}),r.jsxs(ln,{value:"certificates",className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-4 w-4"}),"Certificats"]})]}),r.jsxs(cn,{value:"overview",className:"space-y-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(se,{placeholder:"Rechercher animal, client, vaccin...",value:b,onChange:Se=>j(Se.target.value),className:"pl-10"})]}),r.jsxs(Me,{value:_,onValueChange:C,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Tous statuts"}),r.jsx(W,{value:"completed",children:"Terminées"}),r.jsx(W,{value:"scheduled",children:"Planifiées"}),r.jsx(W,{value:"overdue",children:"En retard"}),r.jsx(W,{value:"missed",children:"Manquées"})]})]}),r.jsxs(Me,{value:A,onValueChange:P,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Tous types"}),r.jsx(W,{value:"core",children:"Essentiels"}),r.jsx(W,{value:"non-core",children:"Optionnels"}),r.jsx(W,{value:"rabies",children:"Rage"}),r.jsx(W,{value:"custom",children:"Personnalisés"})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(Me,{value:E,onValueChange:M,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Toutes catégories"}),r.jsx(W,{value:"new",children:"Vaccinations"}),r.jsx(W,{value:"reminder",children:"Rappels"})]})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{variant:y==="cards"?"default":"outline",size:"sm",onClick:()=>N("cards"),children:r.jsx(wc,{className:"h-4 w-4"})}),r.jsx(V,{variant:y==="table"?"default":"outline",size:"sm",onClick:()=>N("table"),children:r.jsx(Nc,{className:"h-4 w-4"})})]})]})})}),y==="cards"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ur.map(Se=>{const Ut=t.find(mt=>mt.id===Se.petId),tt=n.find(mt=>mt.id===Se.clientId);return r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Gr,{className:"h-10 w-10",children:[r.jsx(ll,{src:Ut==null?void 0:Ut.photo}),r.jsx(Kr,{children:r.jsx(vu,{className:"h-5 w-5"})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm",children:Se.petName}),r.jsxs("p",{className:"text-xs text-gray-600",children:[Ut==null?void 0:Ut.type," • ",tt==null?void 0:tt.name]})]})]}),X===Se.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{value:Se.status,onValueChange:mt=>Ge(Se.id,mt),children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"completed",children:"Terminée"}),r.jsx(W,{value:"scheduled",children:"Planifiée"}),r.jsx(W,{value:"overdue",children:"En retard"}),r.jsx(W,{value:"missed",children:"Manquée"})]})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>D(null),children:"Annuler"})]}):r.jsxs($e,{className:`${q3(Se.status)} cursor-pointer hover:opacity-80`,onClick:()=>D(Se.id),children:[W3(Se.status),r.jsx("span",{className:"ml-1 capitalize",children:Se.status})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ts,{className:`h-4 w-4 ${Se.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),r.jsxs("span",{className:"font-medium text-sm",children:[Se.vaccineName,Se.vaccinationCategory==="reminder"&&r.jsx("span",{className:"ml-2 text-xs text-orange-600 font-normal",children:"(Rappel)"})]}),r.jsx($e,{variant:"outline",className:"text-xs",children:Se.vaccineType}),Se.vaccinationCategory==="reminder"&&r.jsx($e,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Dt,{className:"h-4 w-4"}),r.jsxs("span",{children:["Date d'administration: ",It(new Date(Se.dateGiven),"dd/MM/yyyy",{locale:Ki})]})]}),Se.vaccinationCategory==="new"&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Kn,{className:"h-4 w-4"}),r.jsxs("span",{children:["Prochain rappel: ",It(new Date(Se.nextDueDate),"dd/MM/yyyy",{locale:Ki})]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Ia,{className:"h-4 w-4"}),r.jsx("span",{children:Se.veterinarian})]}),Se.cost&&r.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:r.jsxs("span",{className:"font-medium",children:[Se.cost," ",g.currency]})}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:Se.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4 text-green-600"}),r.jsx($e,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Se.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Se.stockQuantity,")"]})]}):Se.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4 text-gray-400"}),r.jsx($e,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-3 border-t",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{ee(Se),I(!0)},children:[r.jsx(Ir,{className:"h-4 w-4 mr-1"}),"Détails"]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{ee(Se),Ne(!0)},children:r.jsx(cr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Ke(Se),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Ht(Se),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(Hn,{className:"h-4 w-4"})})]})]})},Se.id)})}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsxs(vm,{children:[r.jsx(xm,{children:r.jsxs(za,{children:[r.jsx(Tt,{children:"Animal"}),r.jsx(Tt,{children:"Vaccin"}),r.jsx(Tt,{children:"Type"}),r.jsx(Tt,{children:"Date donnée"}),r.jsx(Tt,{children:"Statut"}),r.jsx(Tt,{children:"Stock"}),r.jsx(Tt,{children:"Vétérinaire"}),r.jsx(Tt,{children:"Coût"}),r.jsx(Tt,{children:"Actions"})]})}),r.jsx(ym,{children:ur.map(Se=>{const Ut=t.find(mt=>mt.id===Se.petId),tt=n.find(mt=>mt.id===Se.clientId);return r.jsxs(za,{children:[r.jsx(Ot,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Gr,{className:"h-8 w-8",children:[r.jsx(ll,{src:Ut==null?void 0:Ut.photo}),r.jsx(Kr,{children:r.jsx(vu,{className:"h-4 w-4"})})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:Se.petName}),r.jsx("div",{className:"text-xs text-gray-600",children:tt==null?void 0:tt.name})]})]})}),r.jsx(Ot,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:Se.vaccineName}),Se.vaccinationCategory==="reminder"&&r.jsx($e,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"})]})}),r.jsx(Ot,{children:r.jsx($e,{variant:"outline",className:"text-xs",children:Se.vaccineType})}),r.jsx(Ot,{className:"cursor-pointer",onClick:()=>{Fe({id:Se.id,field:"dateGiven"}),lt(Se.dateGiven)},children:(Be==null?void 0:Be.id)===Se.id&&Be.field==="dateGiven"?r.jsx(se,{type:"date",value:it,onChange:mt=>lt(mt.target.value),onBlur:ft,autoFocus:!0}):It(new Date(Se.dateGiven),"dd/MM/yyyy")}),r.jsx(Ot,{children:X===Se.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{value:Se.status,onValueChange:mt=>Ge(Se.id,mt),children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"completed",children:"Terminée"}),r.jsx(W,{value:"scheduled",children:"Planifiée"}),r.jsx(W,{value:"overdue",children:"En retard"}),r.jsx(W,{value:"missed",children:"Manquée"})]})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>D(null),children:"Annuler"})]}):r.jsxs($e,{className:`${q3(Se.status)} cursor-pointer hover:opacity-80`,onClick:()=>D(Se.id),children:[W3(Se.status),r.jsx("span",{className:"ml-1 capitalize",children:Se.status})]})}),r.jsx(Ot,{children:Se.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4 text-green-600"}),r.jsx($e,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Se.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Se.stockQuantity,")"]})]}):Se.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4 text-gray-400"}),r.jsx($e,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})}),r.jsx(Ot,{className:"cursor-pointer",onClick:()=>{Fe({id:Se.id,field:"veterinarian"}),lt(Se.veterinarian)},children:(Be==null?void 0:Be.id)===Se.id&&Be.field==="veterinarian"?r.jsxs(Me,{value:it,onValueChange:mt=>{lt(mt),Fe(null);const sn={...e.find(as=>as.id===Se.id),veterinarian:mt};m(Se.id,sn)},children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsx(De,{children:g.veterinarians.filter(mt=>mt.isActive).map(mt=>r.jsx(W,{value:mt.name,children:mt.name},mt.id))})]}):Se.veterinarian}),r.jsx(Ot,{className:"cursor-pointer",onClick:()=>{Fe({id:Se.id,field:"cost"}),lt(String(Se.cost||""))},children:(Be==null?void 0:Be.id)===Se.id&&Be.field==="cost"?r.jsx(se,{type:"number",value:it,onChange:mt=>lt(mt.target.value),onBlur:()=>{ft()},autoFocus:!0}):r.jsxs(r.Fragment,{children:[" ",Se.cost," ",g.currency," "]})}),r.jsx(Ot,{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{ee(Se),I(!0)},children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{ee(Se),Ne(!0)},children:r.jsx(cr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Ke(Se),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Ht(Se),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(Hn,{className:"h-4 w-4"})})]})})]},Se.id)})})]})})})]}),r.jsx(cn,{value:"calendar",children:r.jsx(Q5e,{})}),r.jsxs(cn,{value:"protocols",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Gestion des Protocoles Vaccinaux"}),r.jsx(YS,{mode:"create"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(wi,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Protocoles"}),r.jsx("p",{className:"text-xl font-bold",children:s.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(br,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Actifs"}),r.jsx("p",{className:"text-xl font-bold",children:s.filter(Se=>Se.isActive).length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(Wt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Essentiels"}),r.jsx("p",{className:"text-xl font-bold",children:s.filter(Se=>Se.vaccineType==="core").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:r.jsx(Ia,{className:"h-4 w-4 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Espèces"}),r.jsx("p",{className:"text-xl font-bold",children:new Set(s.map(Se=>Se.species)).size})]})]})})})]}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs(Me,{value:A,onValueChange:P,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Tous types"}),r.jsx(W,{value:"core",children:"Essentiels"}),r.jsx(W,{value:"non-core",children:"Optionnels"}),r.jsx(W,{value:"rabies",children:"Rage"}),r.jsx(W,{value:"custom",children:"Personnalisés"})]})]}),r.jsxs(Me,{value:E,onValueChange:M,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Toutes catégories"}),r.jsx(W,{value:"new",children:"Vaccinations"}),r.jsx(W,{value:"reminder",children:"Rappels"})]})]}),r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(se,{placeholder:"Rechercher un protocole...",value:b,onChange:Se=>j(Se.target.value),className:"pl-10"})]})]}),r.jsx("div",{className:"space-y-6",children:Array.from(new Set(s.map(Se=>Se.species))).map(Se=>{const Ut=s.filter(tt=>tt.species===Se).filter(tt=>{const mt=A==="all"||tt.vaccineType===A,sn=tt.name.toLowerCase().includes(b.toLowerCase())||tt.description.toLowerCase().includes(b.toLowerCase());return mt&&sn});return Ut.length===0?null:r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vu,{className:"h-5 w-5"}),Se," (",Ut.length," protocoles)"]})})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ut.map(tt=>r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsxs(he,{className:"p-4",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:tt.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx($e,{variant:tt.vaccineType==="core"?"default":"secondary",className:"text-xs",children:tt.vaccineType==="core"?"Essentiel":tt.vaccineType==="non-core"?"Optionnel":tt.vaccineType==="rabies"?"Rage":"Personnalisé"}),!tt.isActive&&r.jsx($e,{variant:"outline",className:"text-xs",children:"Inactif"})]})]})}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:tt.description}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Rappel:"}),r.jsx("span",{className:"font-medium",children:tt.intervals&&tt.intervals.length>0?tt.intervals.map(mt=>mt.label).join(", "):"Non spécifié"})]}),tt.manufacturer&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Fabricant:"}),r.jsx("span",{className:"font-medium",children:tt.manufacturer})]}),tt.ageRequirement&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Âge requis:"}),r.jsx("span",{className:"font-medium",children:tt.ageRequirement})]})]}),tt.notes&&r.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded",children:r.jsx("p",{className:"text-xs text-gray-600",children:tt.notes})}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx(YS,{mode:"edit",protocol:tt,children:r.jsxs(V,{size:"sm",variant:"outline",className:"flex-1",children:[r.jsx(tn,{className:"h-4 w-4 mr-1"}),"Modifier"]})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{confirm(`Êtes-vous sûr de vouloir supprimer le protocole "${tt.name}" ?`)&&d(tt.id)},className:"text-red-600 hover:text-red-700",children:"🗑️"})]})]})},tt.id))})})]},Se)})}),s.length===0&&r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(wi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun protocole vaccinal configuré"}),r.jsx("p",{className:"text-sm mb-4",children:"Commencez par créer votre premier protocole"}),r.jsx(YS,{mode:"create",children:r.jsxs(V,{children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Créer un protocole"]})})]})})]}),r.jsx(cn,{value:"certificates",children:r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-5 w-5"}),"Certificats de Vaccination"]})}),r.jsxs(he,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Générez des certificats officiels de vaccination pour les voyages et compétitions."}),r.jsxs(St,{open:O,onOpenChange:L,children:[r.jsx(Rc,{asChild:!0,children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Générer un Certificat"]})}),r.jsxs(bt,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Sélectionner l'animal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Me,{value:(H==null?void 0:H.toString())||"",onValueChange:Se=>{ae(parseInt(Se)),Z(null)},children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un client"})}),r.jsx(De,{children:n.map(Se=>r.jsx(W,{value:Se.id.toString(),children:Se.name},Se.id))})]}),r.jsxs(Me,{value:(B==null?void 0:B.toString())||"",onValueChange:Se=>Z(parseInt(Se)),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un animal"})}),r.jsx(De,{children:t.filter(Se=>H?Se.ownerId===H:!1).map(Se=>r.jsxs(W,{value:Se.id.toString(),children:[Se.name," (",Se.type,")"]},Se.id))})]}),B&&r.jsx("div",{className:"hidden",children:r.jsx(NP,{ref:z,petId:B})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{disabled:!B,onClick:we,children:"Générer PDF"})})]})]})]})]})]})})]}),r.jsx(St,{open:G,onOpenChange:I,children:r.jsxs(bt,{className:"max-w-2xl",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Détails de la Vaccination"})}),Y&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Animal:"}),r.jsx("p",{children:Y.petName})]}),r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Client:"}),r.jsx("p",{children:(ys=n.find(Se=>Se.id===Y.clientId))==null?void 0:ys.name})]}),r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Vaccin:"}),r.jsx("p",{children:Y.vaccineName})]}),r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Type:"}),r.jsx("p",{children:Y.vaccineType})]}),r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Date donnée:"}),r.jsx("p",{children:It(new Date(Y.dateGiven),"dd/MM/yyyy",{locale:Ki})})]}),r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Rappel:"}),r.jsx("p",{children:It(new Date(Y.nextDueDate),"dd/MM/yyyy",{locale:Ki})})]}),r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Vétérinaire:"}),r.jsx("p",{children:Y.veterinarian})]}),r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Coût:"}),r.jsxs("p",{children:[Y.cost," ",g.currency]})]})]}),Y.notes&&r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-muted-foreground",children:Y.notes})]})]})]})}),r.jsx(St,{open:xe,onOpenChange:Ne,children:r.jsxs(bt,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Document de Vaccination"})}),Y&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-muted-foreground",children:["Générez un document officiel pour la vaccination de ",Y.petName,"."]}),r.jsx("div",{className:"hidden",children:r.jsx(NP,{ref:z,petId:Y.petId})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>Ne(!1),children:"Annuler"}),r.jsx(V,{onClick:we,children:"Générer PDF"})]})]})]})}),r.jsx(R0,{open:te,onOpenChange:Et,editingVaccination:ie}),r.jsx(St,{open:ne,onOpenChange:ve,children:r.jsxs(bt,{className:"max-w-md",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Confirmer la suppression"})}),ye&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-muted-foreground",children:["Êtes-vous sûr de vouloir supprimer ",ye.vaccinationCategory==="reminder"?"le rappel":"la vaccination"," ",r.jsx("strong",{children:ye.vaccineName})," pour ",r.jsx("strong",{children:ye.petName})," ?"]}),r.jsxs("p",{className:"text-sm text-red-600",children:["Cette action est irréversible et supprimera également l'entrée du dossier médical.",ye.vaccinationCategory==="reminder"?r.jsxs("span",{className:"block mt-1",children:[r.jsx("strong",{children:"Note :"})," Seul ce rappel sera supprimé, les autres rappels de la même vaccination ne seront pas affectés."]}):r.jsxs("span",{className:"block mt-1",children:[r.jsx("strong",{children:"Attention :"})," La suppression de cette vaccination supprimera également tous ses rappels associés."]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>ve(!1),children:"Annuler"}),r.jsx(V,{variant:"destructive",onClick:Yn,children:"Supprimer"})]})]})]})})]})}function H3({children:e,protocol:t,mode:n}){const{addAntiparasiticProtocol:s,updateAntiparasiticProtocol:i}=Nt(),{settings:a}=Zt(),{toast:o}=$t(),[l,c]=w.useState(!1),[u,d]=w.useState({name:"",species:"",productType:"external",targetParasites:"",description:"",manufacturer:"",intervals:[{offsetDays:30,label:"30 jours"}],weightRange:"",ageRequirement:"",seasonalTreatment:!1,notes:"",isActive:!0}),[f,m]=w.useState(["days"]);w.useEffect(()=>{n==="edit"&&t&&(d({name:t.name,species:t.species,productType:t.productType,targetParasites:t.targetParasites,description:t.description,manufacturer:t.manufacturer||"",intervals:t.intervals,weightRange:t.weightRange||"",ageRequirement:t.ageRequirement||"",seasonalTreatment:t.seasonalTreatment||!1,notes:t.notes||"",isActive:t.isActive}),m(t.intervals.map(v=>v.offsetDays%30===0?"months":v.offsetDays%7===0?"weeks":"days")))},[n,t]);const g=v=>{if(v.preventDefault(),!u.name||!u.species||!u.productType||!u.description){o({title:"Erreur",description:"Champs obligatoires manquants",variant:"destructive"});return}n==="create"?(s(u),o({title:"Protocole créé",description:`${u.name} a été ajouté.`})):t&&(i(t.id,u),o({title:"Protocole mis à jour",description:`${u.name} a été modifié.`})),d({name:"",species:"",productType:"external",targetParasites:"",description:"",manufacturer:"",intervals:[{offsetDays:30,label:"30 jours"}],weightRange:"",ageRequirement:"",seasonalTreatment:!1,notes:"",isActive:!0}),c(!1)},x=a.species?a.species.split(",").map(v=>v.trim()):["Chien","Chat","Bovins","Ovins"];return r.jsxs(St,{open:l,onOpenChange:c,children:[r.jsx(Rc,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[n==="create"?r.jsx(ht,{className:"h-4 w-4"}):r.jsx(tn,{className:"h-4 w-4"}),n==="create"?"Nouveau Protocole":"Modifier"]})}),r.jsxs(bt,{children:[r.jsx(Ct,{children:r.jsx(_t,{children:n==="create"?"Nouveau Protocole Antiparasitaire":"Modifier le Protocole"})}),r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"name",children:"Nom du protocole *"}),r.jsx(se,{id:"name",value:u.name,onChange:v=>d(y=>({...y,name:v.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"species",children:"Espèce *"}),r.jsxs(Me,{value:u.species,onValueChange:v=>d(y=>({...y,species:v})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Espèce"})}),r.jsx(De,{children:x.map(v=>r.jsx(W,{value:v,children:v},v))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"productType",children:"Type de produit"}),r.jsxs(Me,{value:u.productType,onValueChange:v=>d(y=>({...y,productType:v})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type"})}),r.jsxs(De,{children:[r.jsx(W,{value:"external",children:"Externe"}),r.jsx(W,{value:"internal",children:"Interne"}),r.jsx(W,{value:"combined",children:"Combiné"}),r.jsx(W,{value:"heartworm",children:"Ver du cœur"}),r.jsx(W,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(W,{value:"worming",children:"Vermifugation"})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"targetParasites",children:"Parasites cibles"}),r.jsx(se,{id:"targetParasites",value:u.targetParasites,onChange:v=>d(y=>({...y,targetParasites:v.target.value}))})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"description",children:"Description"}),r.jsx(wt,{id:"description",value:u.description,onChange:v=>d(y=>({...y,description:v.target.value})),required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fr,{checked:u.isActive,onCheckedChange:v=>d(y=>({...y,isActive:v}))}),r.jsx(F,{children:"Actif"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Étapes / Intervalles"}),u.intervals.map((v,y)=>{const N=f[y],b=N==="months"?v.offsetDays/30:N==="weeks"?v.offsetDays/7:v.offsetDays;return r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(se,{type:"number",value:b,min:0,onChange:j=>{const _=parseInt(j.target.value)||0,C=N==="months"?_*30:N==="weeks"?_*7:_;d(A=>{const P=[...A.intervals];return P[y].offsetDays=C,{...A,intervals:P}})},className:"w-20"}),r.jsxs(Me,{value:N,onValueChange:j=>{m(_=>{const C=[..._];return C[y]=j,C})},children:[r.jsx(Oe,{className:"w-24",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"days",children:"jours"}),r.jsx(W,{value:"weeks",children:"semaines"}),r.jsx(W,{value:"months",children:"mois"})]})]}),r.jsxs("span",{className:"ml-2",children:[v.offsetDays," jours"]}),r.jsx(V,{type:"button",variant:"destructive",onClick:()=>{d(j=>({...j,intervals:j.intervals.filter((_,C)=>C!==y)})),m(j=>j.filter((_,C)=>C!==y))},children:"Suppr."})]},y)}),r.jsx(V,{type:"button",onClick:()=>{d(v=>({...v,intervals:[...v.intervals,{offsetDays:0,label:""}]})),m(v=>[...v,"days"])},children:"Ajouter une étape"})]}),r.jsx(V,{type:"submit",className:"w-full",children:n==="create"?"Créer":"Mettre à jour"})]})]})]})}const G3=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},J5e=()=>{const{antiparasitics:e,pets:t,clients:n}=Nt(),s=w.useMemo(()=>e.map(o=>{var l,c;return{id:o.id,type:"antiparasitic",title:o.productName,date:o.nextDueDate,status:o.status,clientName:(l=n.find(u=>u.id===o.clientId))==null?void 0:l.name,petName:(c=t.find(u=>u.id===o.petId))==null?void 0:c.name}}),[e,n,t]),i=o=>{},a=o=>{};return r.jsx(_9,{events:s,onEventClick:i,onDateClick:a,title:"Calendrier Antiparasitaire",icon:r.jsx(rc,{className:"h-5 w-5"})})},K3=e=>{switch(e){case"completed":return r.jsx(br,{className:"h-4 w-4"});case"overdue":return r.jsx(Vn,{className:"h-4 w-4"});case"scheduled":return r.jsx(Kn,{className:"h-4 w-4"});case"missed":return r.jsx(Vn,{className:"h-4 w-4"});default:return r.jsx(Kn,{className:"h-4 w-4"})}};function Z5e(){const{antiparasitics:e,pets:t,clients:n,antiparasiticProtocols:s,getOverdueAntiparasitics:i,getUpcomingAntiparasitics:a,getAntiparasiticsByStatus:o,getActiveAntiparasiticProtocols:l,getAntiparasiticProtocolsBySpecies:c,addAntiparasitic:u,updateAntiparasitic:d,deleteAntiparasitic:f}=Nt(),{settings:m}=Zt(),{currentView:g}=gm("antiparasitics"),{toast:x}=$t(),[v,y]=w.useState(null),[N,b]=w.useState(""),[j,_]=w.useState(!1),[C,A]=w.useState(null),[P,E]=w.useState(!1),[M,$]=w.useState(null),T=()=>{if(!v)return;const{id:we,field:Ge}=v,Ke=e.find(Ht=>Ht.id===we);if(Ke){const Ht={...Ke,[Ge]:N};d(we,Ht),x({title:"Modifié",description:`${Ge} mis à jour`})}y(null)},[O,L]=w.useState(""),[B,Z]=w.useState("all"),[H,ae]=w.useState("all"),[X,D]=w.useState(g),[ie,me]=w.useState(!1),[te,J]=w.useState(null),[ne,ve]=w.useState(null),ye=w.useRef(null),be=Lk.useReactToPrint({contentRef:ye,onAfterPrint:()=>me(!1)}),z=e.length,Y=o("completed").length,ee=i().length,G=a().length,I=w.useMemo(()=>[...new Set(s.map(Ge=>Ge.species))].reduce((Ge,Ke)=>(Ge[Ke]=c(Ke),Ge),{}),[s]),xe=w.useMemo(()=>e.filter(we=>{t.find(Yn=>Yn.id===we.petId),n.find(Yn=>Yn.id===we.clientId);const Ge=!O||we.productName.toLowerCase().includes(O.toLowerCase())||we.petName.toLowerCase().includes(O.toLowerCase())||we.clientName.toLowerCase().includes(O.toLowerCase()),Ke=B==="all"||we.status===B,Ht=H==="all"||we.productType===H;return Ge&&Ke&&Ht}),[e,t,n,O,B,H]),[Ne,Be]=w.useState(""),[Fe,it]=w.useState("all");w.useMemo(()=>s.filter(we=>{const Ge=!Ne||we.name.toLowerCase().includes(Ne.toLowerCase())||we.species.toLowerCase().includes(Ne.toLowerCase())||we.targetParasites.toLowerCase().includes(Ne.toLowerCase()),Ke=Fe==="all"||we.productType===Fe;return Ge&&Ke}),[s,Ne,Fe]);const lt=we=>{$(we.petId),E(!0)},ft=we=>{A(we),_(!0)};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold gradient-primary bg-clip-text text-transparent",children:"Gestion Antiparasitaire"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivi des traitements antiparasitaires et protocoles de prévention"})]}),r.jsx(L0,{children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Traitements"}),r.jsx("p",{className:"text-2xl font-bold",children:z})]}),r.jsx(rc,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Complétés"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:Y})]}),r.jsx(br,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"En Retard"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:ee})]}),r.jsx(Vn,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"À Venir (7j)"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:G})]}),r.jsx(Kn,{className:"h-8 w-8 text-blue-600"})]})})})]}),r.jsxs(pl,{defaultValue:"treatments",className:"space-y-6",children:[r.jsxs(bo,{className:"grid w-full grid-cols-4",children:[r.jsx(ln,{value:"treatments",children:"Traitements"}),r.jsx(ln,{value:"calendar",children:"Calendrier"}),r.jsx(ln,{value:"protocols",children:"Protocoles"}),r.jsx(ln,{value:"certificates",children:"Certificats"})]}),r.jsxs(cn,{value:"treatments",className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Q5,{className:"h-5 w-5"}),"Filtres et Recherche"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(se,{placeholder:"Rechercher par produit, animal ou client...",value:O,onChange:we=>L(we.target.value),className:"pl-10"})]})}),r.jsxs(Me,{value:B,onValueChange:Z,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{placeholder:"Statut"})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Tous statuts"}),r.jsx(W,{value:"completed",children:"Complété"}),r.jsx(W,{value:"scheduled",children:"Planifié"}),r.jsx(W,{value:"overdue",children:"En retard"}),r.jsx(W,{value:"missed",children:"Manqué"})]})]}),r.jsxs(Me,{value:H,onValueChange:ae,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{placeholder:"Type"})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Tous types"}),r.jsx(W,{value:"external",children:"Externe"}),r.jsx(W,{value:"internal",children:"Interne"}),r.jsx(W,{value:"combined",children:"Combiné"}),r.jsx(W,{value:"heartworm",children:"Ver du cœur"}),r.jsx(W,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(W,{value:"worming",children:"Vermifugation"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:X==="cards"?"default":"outline",size:"sm",onClick:()=>D("cards"),children:r.jsx(wc,{className:"h-4 w-4"})}),r.jsx(V,{variant:X==="table"?"default":"outline",size:"sm",onClick:()=>D("table"),children:r.jsx(Nc,{className:"h-4 w-4"})})]})]})})]}),X==="cards"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:xe.map(we=>{const Ge=t.find(Ke=>Ke.id===we.petId);return n.find(Ke=>Ke.id===we.clientId),r.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(_e,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Pe,{className:"text-lg",children:we.productName}),r.jsxs($e,{className:G3(we.status),children:[K3(we.status),r.jsx("span",{className:"ml-1",children:we.status==="completed"?"Complété":we.status==="scheduled"?"Planifié":we.status==="overdue"?"En retard":"Manqué"})]})]})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-10 w-10",children:Ge!=null&&Ge.photo?r.jsx(ll,{src:Ge.photo,alt:Ge.name}):r.jsx(Kr,{children:r.jsx(vu,{className:"h-5 w-5"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:we.petName}),r.jsx("p",{className:"text-sm text-muted-foreground",children:we.clientName})]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{children:we.productType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Parasites:"}),r.jsx("span",{className:"text-right",children:we.targetParasites})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Date donnée:"}),r.jsx("span",{children:It(new Date(we.dateGiven),"dd/MM/yyyy")})]}),we.nextDueDate&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Prochain rappel:"}),r.jsx("span",{children:It(new Date(we.nextDueDate),"dd/MM/yyyy")})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Vétérinaire:"}),r.jsx("span",{children:we.veterinarian})]}),we.cost&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Coût:"}),r.jsxs("span",{className:"font-medium",children:[we.cost," ",m.currency]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Stock:"}),we.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4 text-green-600"}),r.jsx($e,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),we.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",we.stockQuantity,")"]})]}):we.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4 text-gray-400"}),r.jsx($e,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>lt(we),children:[r.jsx(Ir,{className:"h-4 w-4 mr-1"}),"Détails"]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ft(we),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("Supprimer ce traitement antiparasitaire ?")&&(f(we.id),x({title:"Supprimé",description:`${we.productName} supprimé.`}))},children:r.jsx(Hn,{className:"h-4 w-4"})})]})]})]},we.id)})}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsxs(vm,{children:[r.jsx(xm,{children:r.jsxs(za,{children:[r.jsx(Tt,{children:"Animal"}),r.jsx(Tt,{children:"Produit"}),r.jsx(Tt,{children:"Type"}),r.jsx(Tt,{children:"Date donnée"}),r.jsx(Tt,{children:"Prochain rappel"}),r.jsx(Tt,{children:"Statut"}),r.jsx(Tt,{children:"Stock"}),r.jsx(Tt,{children:"Vétérinaire"}),r.jsx(Tt,{children:"Coût"}),r.jsx(Tt,{children:"Actions"})]})}),r.jsx(ym,{children:xe.map(we=>r.jsxs(za,{children:[r.jsx(Ot,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gr,{className:"h-8 w-8",children:r.jsx(Kr,{children:r.jsx(vu,{className:"h-4 w-4"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:we.petName}),r.jsx("p",{className:"text-sm text-muted-foreground",children:we.clientName})]})]})}),r.jsx(Ot,{className:"font-medium",children:we.productName}),r.jsx(Ot,{children:we.productType}),r.jsx(Ot,{className:"cursor-pointer",onClick:()=>{y({id:we.id,field:"dateGiven"}),b(we.dateGiven)},children:(v==null?void 0:v.id)===we.id&&v.field==="dateGiven"?r.jsx(se,{type:"date",value:N,onChange:Ge=>b(Ge.target.value),onBlur:T,autoFocus:!0}):It(new Date(we.dateGiven),"dd/MM/yyyy")}),r.jsx(Ot,{children:we.nextDueDate?It(new Date(we.nextDueDate),"dd/MM/yyyy"):"-"}),r.jsx(Ot,{children:r.jsxs($e,{className:G3(we.status),children:[K3(we.status),r.jsx("span",{className:"ml-1",children:we.status==="completed"?"Complété":we.status==="scheduled"?"Planifié":we.status==="overdue"?"En retard":"Manqué"})]})}),r.jsx(Ot,{children:we.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4 text-green-600"}),r.jsx($e,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),we.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",we.stockQuantity,")"]})]}):we.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4 text-gray-400"}),r.jsx($e,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})}),r.jsx(Ot,{className:"cursor-pointer",onClick:()=>{y({id:we.id,field:"veterinarian"}),b(we.veterinarian)},children:(v==null?void 0:v.id)===we.id&&v.field==="veterinarian"?r.jsxs(Me,{value:N,onValueChange:Ge=>{b(Ge),d(we.id,{veterinarian:Ge}),y(null)},children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsx(De,{children:m.veterinarians.filter(Ge=>Ge.isActive).map(Ge=>r.jsx(W,{value:Ge.name,children:Ge.name},Ge.id))})]}):we.veterinarian}),r.jsx(Ot,{className:"cursor-pointer",onClick:()=>{y({id:we.id,field:"cost"}),b(we.cost||"")},children:(v==null?void 0:v.id)===we.id&&v.field==="cost"?r.jsx(se,{type:"number",value:N,onChange:Ge=>b(Ge.target.value),onBlur:T,autoFocus:!0}):we.cost?`${we.cost} ${m.currency}`:"-"}),r.jsx(Ot,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>lt(we),children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ft(we),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("Supprimer ce traitement antiparasitaire ?")&&(f(we.id),x({title:"Supprimé",description:`${we.productName} supprimé.`}))},children:r.jsx(Hn,{className:"h-4 w-4"})})]})})]},we.id))})]})})})]}),r.jsx(cn,{value:"calendar",children:r.jsx(J5e,{})}),r.jsxs(cn,{value:"protocols",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Protocoles Antiparasitaires"}),r.jsx("p",{className:"text-muted-foreground",children:"Gérez les protocoles de traitement par espèce"})]}),r.jsx(H3,{mode:"create",children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau Protocole"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Protocoles"}),r.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),r.jsx(cr,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Actifs"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.filter(we=>we.isActive).length})]}),r.jsx(br,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Externes"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.filter(we=>we.productType==="external"||we.productType==="flea_tick").length})]}),r.jsx(rc,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Espèces"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Object.keys(I).length})]}),r.jsx(vu,{className:"h-8 w-8 text-purple-600"})]})})})]}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(se,{placeholder:"Rechercher un protocole...",value:Ne,onChange:we=>Be(we.target.value),className:"pl-10"})]})}),r.jsxs(Me,{value:Fe,onValueChange:it,children:[r.jsx(Oe,{className:"w-[200px]",children:r.jsx(Ie,{placeholder:"Type de produit"})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Tous types"}),r.jsx(W,{value:"external",children:"Externe"}),r.jsx(W,{value:"internal",children:"Interne"}),r.jsx(W,{value:"combined",children:"Combiné"}),r.jsx(W,{value:"heartworm",children:"Ver du cœur"}),r.jsx(W,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(W,{value:"worming",children:"Vermifugation"})]})]})]})})}),r.jsx("div",{className:"space-y-6",children:Object.keys(I).map(we=>{const Ge=I[we].filter(Ke=>{const Ht=!Ne||Ke.name.toLowerCase().includes(Ne.toLowerCase())||Ke.targetParasites.toLowerCase().includes(Ne.toLowerCase()),Yn=Fe==="all"||Ke.productType===Fe;return Ht&&Yn});return Ge.length===0?null:r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(vu,{className:"h-5 w-5"}),we," (",Ge.length," protocoles)"]})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ge.map(Ke=>r.jsxs(de,{className:"border-l-4 border-l-primary",children:[r.jsx(_e,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Pe,{className:"text-base",children:Ke.name}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(H3,{mode:"edit",protocol:Ke,children:r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(tn,{className:"h-4 w-4"})})}),r.jsx($e,{variant:Ke.isActive?"default":"secondary",children:Ke.isActive?"Actif":"Inactif"})]})]})}),r.jsxs(he,{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:Ke.description}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{children:Ke.productType})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Parasites:"}),r.jsx("span",{className:"text-right",children:Ke.targetParasites})]}),Ke.weightRange&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Poids:"}),r.jsx("span",{children:Ke.weightRange})]}),Ke.ageRequirement&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Âge:"}),r.jsx("span",{children:Ke.ageRequirement})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rappels:"}),r.jsx("span",{children:Ke.intervals.map(Ht=>Ht.label).join(", ")})]}),Ke.manufacturer&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Fabricant:"}),r.jsx("span",{children:Ke.manufacturer})]})]}),Ke.notes&&r.jsx("div",{className:"mt-3 p-2 bg-muted rounded text-sm",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",Ke.notes]})})]})]},Ke.id))})})]},we)})})]}),r.jsx(cn,{value:"certificates",children:r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-5 w-5"}),"Certificats Antiparasitaires"]})}),r.jsxs(he,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Générez des certificats officiels de traitement antiparasitaire pour les voyages et compétitions."}),r.jsxs(St,{open:ie,onOpenChange:me,children:[r.jsx(Rc,{asChild:!0,children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Générer un Certificat"]})}),r.jsxs(bt,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Sélectionner l'animal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Me,{value:(te==null?void 0:te.toString())||"",onValueChange:we=>{J(parseInt(we)),ve(null)},children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un client"})}),r.jsx(De,{children:n.map(we=>r.jsx(W,{value:we.id.toString(),children:we.name},we.id))})]}),r.jsxs(Me,{value:(ne==null?void 0:ne.toString())||"",onValueChange:we=>ve(parseInt(we)),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un animal"})}),r.jsx(De,{children:t.filter(we=>te?we.ownerId===te:!1).map(we=>r.jsxs(W,{value:we.id.toString(),children:[we.name," (",we.type,")"]},we.id))})]}),ne&&r.jsx("div",{className:"hidden",children:r.jsxs("div",{ref:ye,children:["Certificat antiparasitaire pour animal ",ne]})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{disabled:!ne,onClick:be,children:"Générer PDF"})})]})]})]})]})]})})]}),r.jsx(L0,{open:j,onOpenChange:we=>{_(we),we||A(null)},editingAntiparasitic:C}),M&&r.jsx(v9,{petId:M,open:P,onOpenChange:E})]})}const e6e=[{value:"medication",label:"Médicaments",icon:"💊"},{value:"vaccine",label:"Vaccins",icon:"💉"},{value:"consumable",label:"Consommables",icon:"🩹"},{value:"equipment",label:"Équipement",icon:"🔧"},{value:"supplement",label:"Suppléments",icon:"🧪"}],t6e=[{value:"unit",label:"Unité"},{value:"box",label:"Boîte"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}],n6e={medication:["Antibiotique","Anti-inflammatoire","Antiparasitaire","Anesthésique","Analgésique","Antihistaminique","Corticoïde","Diurétique","Autre"],vaccine:["Vaccin Core","Vaccin Non-Core","Vaccin Obligatoire","Vaccin Recommandé","Autre"],consumable:["Matériel d'injection","Protection","Pansement","Suture","Autre"],equipment:["Diagnostic","Chirurgie","Monitoring","Stérilisation","Autre"],supplement:["Vitamines","Minéraux","Probiotiques","Acides aminés","Autre"]};function Y3({open:e,onOpenChange:t,editingItem:n}){var f;const{addStockItem:s,updateStockItem:i}=Nt(),{settings:a}=Zt(),{toast:o}=$t(),[l,c]=w.useState({name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0});w.useEffect(()=>{c(n?{name:n.name,category:n.category,subcategory:n.subcategory||"",description:n.description||"",manufacturer:n.manufacturer||"",batchNumber:n.batchNumber||"",dosage:n.dosage||"",unit:n.unit,currentStock:n.currentStock,minimumStock:n.minimumStock,maximumStock:n.maximumStock||0,purchasePrice:n.purchasePrice,sellingPrice:n.sellingPrice,expirationDate:n.expirationDate||"",supplier:n.supplier||"",location:n.location||"",notes:n.notes||"",barcode:n.barcode||"",sku:n.sku||"",isActive:n.isActive}:{name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0})},[n,e]);const u=m=>{if(m.preventDefault(),!l.name.trim()){o({title:"Erreur",description:"Le nom de l'élément est requis.",variant:"destructive"});return}if(l.currentStock<0||l.minimumStock<0||l.purchasePrice<0||l.sellingPrice<0){o({title:"Erreur",description:"Les valeurs numériques ne peuvent pas être négatives.",variant:"destructive"});return}const g={...l,currentStock:Number(l.currentStock),minimumStock:Number(l.minimumStock),maximumStock:Number(l.maximumStock)||void 0,purchasePrice:Number(l.purchasePrice),sellingPrice:Number(l.sellingPrice),expirationDate:l.expirationDate||void 0,subcategory:l.subcategory||void 0,description:l.description||void 0,manufacturer:l.manufacturer||void 0,batchNumber:l.batchNumber||void 0,dosage:l.dosage||void 0,supplier:l.supplier||void 0,location:l.location||void 0,notes:l.notes||void 0,barcode:l.barcode||void 0,sku:l.sku||void 0};n?(i(n.id,g),o({title:"Élément modifié",description:`"${l.name}" a été modifié avec succès.`})):(s(g),o({title:"Élément ajouté",description:`"${l.name}" a été ajouté au stock.`})),t(!1)},d=(m,g)=>{c(x=>({...x,[m]:g}))};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:n?"Modifier l'élément de stock":"Nouvel élément de stock"}),r.jsx(jn,{children:n?"Modifiez les informations de l'élément de stock.":"Ajoutez un nouvel élément à votre inventaire."})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations de base"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"name",children:"Nom de l'élément *"}),r.jsx(se,{id:"name",value:l.name,onChange:m=>d("name",m.target.value),placeholder:"ex: Amoxicilline 500mg",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"category",children:"Catégorie *"}),r.jsxs(Me,{value:l.category,onValueChange:m=>d("category",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner une catégorie"})}),r.jsx(De,{children:e6e.map(m=>r.jsxs(W,{value:m.value,children:[m.icon," ",m.label]},m.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"subcategory",children:"Sous-catégorie"}),r.jsxs(Me,{value:l.subcategory,onValueChange:m=>d("subcategory",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner une sous-catégorie"})}),r.jsx(De,{children:(f=n6e[l.category])==null?void 0:f.map(m=>r.jsx(W,{value:m,children:m},m))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(se,{id:"manufacturer",value:l.manufacturer,onChange:m=>d("manufacturer",m.target.value),placeholder:"ex: Boehringer Ingelheim"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"description",children:"Description"}),r.jsx(wt,{id:"description",value:l.description,onChange:m=>d("description",m.target.value),placeholder:"Description détaillée de l'élément...",rows:2})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations techniques"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"batchNumber",children:"Numéro de lot"}),r.jsx(se,{id:"batchNumber",value:l.batchNumber,onChange:m=>d("batchNumber",m.target.value),placeholder:"ex: AMX2024001"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"dosage",children:"Dosage"}),r.jsx(se,{id:"dosage",value:l.dosage,onChange:m=>d("dosage",m.target.value),placeholder:"ex: 500mg"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"unit",children:"Unité"}),r.jsxs(Me,{value:l.unit,onValueChange:m=>d("unit",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner une unité"})}),r.jsx(De,{children:t6e.map(m=>r.jsx(W,{value:m.value,children:m.label},m.value))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Gestion du stock"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"currentStock",children:"Stock actuel *"}),r.jsx(se,{id:"currentStock",type:"number",min:"0",value:l.currentStock,onChange:m=>d("currentStock",parseInt(m.target.value)||0),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"minimumStock",children:"Stock minimum *"}),r.jsx(se,{id:"minimumStock",type:"number",min:"0",value:l.minimumStock,onChange:m=>d("minimumStock",parseInt(m.target.value)||0),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"maximumStock",children:"Stock maximum"}),r.jsx(se,{id:"maximumStock",type:"number",min:"0",value:l.maximumStock,onChange:m=>d("maximumStock",parseInt(m.target.value)||0)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(F,{htmlFor:"purchasePrice",children:["Prix d'achat (",a.currency,") *"]}),r.jsx(se,{id:"purchasePrice",type:"number",step:"0.01",min:"0",value:l.purchasePrice,onChange:m=>d("purchasePrice",parseFloat(m.target.value)||0),required:!0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix d'achat au fournisseur"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(F,{htmlFor:"sellingPrice",children:["Prix de vente (",a.currency,") *"]}),r.jsx(se,{id:"sellingPrice",type:"number",step:"0.01",min:"0",value:l.sellingPrice,onChange:m=>d("sellingPrice",parseFloat(m.target.value)||0),required:!0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix de vente au client"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"La valeur totale sera calculée automatiquement : Prix d'achat × Stock actuel"}),l.purchasePrice>0&&l.currentStock>0&&r.jsxs("div",{className:"text-sm font-medium text-primary",children:["Valeur totale : ",(l.purchasePrice*l.currentStock).toFixed(2)," ",a.currency]}),l.purchasePrice>0&&l.sellingPrice>0&&r.jsxs("div",{className:"text-sm font-medium text-green-600",children:["Marge : ",((l.sellingPrice-l.purchasePrice)*l.currentStock).toFixed(2)," ",a.currency]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations supplémentaires"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"expirationDate",children:"Date d'expiration"}),r.jsx(se,{id:"expirationDate",type:"date",value:l.expirationDate,onChange:m=>d("expirationDate",m.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"supplier",children:"Fournisseur"}),r.jsx(se,{id:"supplier",value:l.supplier,onChange:m=>d("supplier",m.target.value),placeholder:"ex: Pharmacie Vétérinaire Centrale"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"location",children:"Emplacement"}),r.jsx(se,{id:"location",value:l.location,onChange:m=>d("location",m.target.value),placeholder:"ex: Armoire A - Étagère 1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"barcode",children:"Code-barres"}),r.jsx(se,{id:"barcode",value:l.barcode,onChange:m=>d("barcode",m.target.value),placeholder:"ex: 1234567890123"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"sku",children:"SKU"}),r.jsx(se,{id:"sku",value:l.sku,onChange:m=>d("sku",m.target.value),placeholder:"ex: MED-AMX-500"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",value:l.notes,onChange:m=>d("notes",m.target.value),placeholder:"Notes supplémentaires...",rows:3})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:n?"Modifier":"Ajouter"})]})]})]})})}const r6e=[{value:"in",label:"Entrée",icon:gr,description:"Ajout de stock (achat, retour, etc.)"},{value:"out",label:"Sortie",icon:Uu,description:"Utilisation, vente, perte, etc."},{value:"adjustment",label:"Ajustement",icon:J5,description:"Correction d'inventaire"},{value:"transfer",label:"Transfert",icon:Ite,description:"Déplacement entre emplacements"}],s6e={in:["Achat fournisseur","Retour client","Inventaire initial","Don/échantillon","Transfert entrant","Autre"],out:["Utilisation consultation","Vente client","Périmé/expiré","Cassé/endommagé","Vol/perte","Transfert sortant","Autre"],adjustment:["Correction inventaire","Comptage physique","Erreur saisie","Autre"],transfer:["Changement emplacement","Transfert entre sites","Réorganisation stock","Autre"]};function i6e({open:e,onOpenChange:t,item:n}){var x;const{updateStockItem:s,addStockMovement:i}=Nt(),{settings:a}=Zt(),{toast:o}=$t(),[l,c]=w.useState({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),[u,d]=w.useState("");w.useEffect(()=>{n&&(c({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),d(""))},[n,e]);const f=v=>{if(v.preventDefault(),!n)return;if(l.quantity<=0){o({title:"Erreur",description:"La quantité doit être supérieure à 0.",variant:"destructive"});return}if(!l.reason.trim()){o({title:"Erreur",description:"La raison du mouvement est requise.",variant:"destructive"});return}let y=n.currentStock;if(l.type==="in")y+=l.quantity;else if(l.type==="out"){if(l.quantity>n.currentStock){o({title:"Erreur",description:`Stock insuffisant. Stock disponible: ${n.currentStock}`,variant:"destructive"});return}y-=l.quantity}else l.type==="adjustment"&&(y=l.quantity);l.type!=="transfer"&&s(n.id,{currentStock:y,lastRestocked:l.type==="in"?new Date().toISOString().split("T")[0]:void 0});const N=l.performedBy==="Autre"?u:l.performedBy,b={itemId:n.id,itemName:n.name,type:l.type,quantity:l.quantity,reason:l.reason,reference:l.reference||void 0,performedBy:N||void 0,date:new Date().toISOString(),notes:l.notes||void 0};i(b),o({title:"Mouvement enregistré",description:`${{in:"Entrée",out:"Sortie",adjustment:"Ajustement",transfer:"Transfert"}[l.type]} de ${l.quantity} ${n.unit} pour "${n.name}" enregistrée.`}),t(!1)},m=(v,y)=>{c(N=>({...N,[v]:y}))},g=()=>{if(!n)return 0;let v=n.currentStock;return l.type==="in"?v+=l.quantity:l.type==="out"?v-=l.quantity:l.type==="adjustment"&&(v=l.quantity),Math.max(0,v)};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(gr,{className:"h-5 w-5"}),"Mouvement de stock"]}),r.jsxs(jn,{children:['Enregistrer un mouvement pour "',n.name,'"']})]}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:[r.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(Wn,{className:"h-5 w-5 text-blue-600"}),"Élément concerné"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock actuel"}),r.jsxs("div",{className:"font-semibold text-lg",children:[n.currentStock," ",n.unit]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock minimum"}),r.jsxs("div",{className:"font-semibold text-lg",children:[n.minimumStock," ",n.unit]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Emplacement"}),r.jsxs("div",{className:"font-semibold text-lg flex items-center gap-1",children:[r.jsx(ud,{className:"h-4 w-4"}),n.location||"Non défini"]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix d'achat"}),r.jsxs("div",{className:"font-semibold text-lg text-blue-600",children:[n.purchasePrice.toFixed(2)," ",a.currency]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix de vente"}),r.jsxs("div",{className:"font-semibold text-lg text-green-600",children:[n.sellingPrice.toFixed(2)," ",a.currency]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Valeur totale"}),r.jsxs("div",{className:"font-semibold text-lg text-purple-600",children:[n.totalValue.toFixed(2)," ",a.currency]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{className:"text-base font-medium",children:"Type de mouvement *"}),r.jsxs(Me,{value:l.type,onValueChange:v=>m("type",v),children:[r.jsx(Oe,{className:"h-12",children:r.jsx(Ie,{placeholder:"Sélectionner le type de mouvement"})}),r.jsx(De,{children:r6e.map(v=>{const y=v.icon;return r.jsx(W,{value:v.value,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(y,{className:"h-5 w-5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:v.label}),r.jsx("div",{className:"text-xs text-muted-foreground",children:v.description})]})]})},v.value)})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"quantity",className:"text-base font-medium",children:"Quantité *"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(se,{id:"quantity",type:"number",min:"0",step:"0.01",value:l.quantity,onChange:v=>m("quantity",parseFloat(v.target.value)||0),className:"flex-1 h-12 text-lg",required:!0}),r.jsx("div",{className:"bg-muted px-3 py-2 rounded-md text-sm font-medium",children:n.unit})]}),l.quantity>0&&r.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Nouveau stock après mouvement:"}),r.jsxs("div",{className:`text-lg font-semibold ${g()<=n.minimumStock?"text-orange-600":"text-green-600"}`,children:[g()," ",n.unit]}),g()<=n.minimumStock&&r.jsxs("div",{className:"text-xs text-orange-600 mt-1 flex items-center gap-1",children:[r.jsx(Vn,{className:"h-3 w-3"}),"Stock bas - Seuil minimum atteint"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"reason",className:"text-base font-medium",children:"Raison *"}),r.jsxs(Me,{value:l.reason,onValueChange:v=>m("reason",v),children:[r.jsx(Oe,{className:"h-12",children:r.jsx(Ie,{placeholder:"Sélectionner une raison"})}),r.jsx(De,{children:(x=s6e[l.type])==null?void 0:x.map(v=>r.jsx(W,{value:v,children:v},v))})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"reference",className:"text-base font-medium",children:"Référence"}),r.jsx(se,{id:"reference",value:l.reference,onChange:v=>m("reference",v.target.value),placeholder:"ex: Facture #12345, Consultation #678",className:"h-12"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"performedBy",className:"text-base font-medium",children:"Effectué par"}),r.jsxs(Me,{value:l.performedBy,onValueChange:v=>m("performedBy",v),children:[r.jsx(Oe,{className:"h-12",children:r.jsx(Ie,{placeholder:"Sélectionner un vétérinaire"})}),r.jsxs(De,{children:[a.veterinarians.filter(v=>v.isActive).map(v=>r.jsx(W,{value:v.name,children:v.name},v.id)),r.jsx(W,{value:"Autre",children:"Autre (saisie manuelle)"})]})]}),l.performedBy==="Autre"&&r.jsx(se,{placeholder:"Nom du responsable",value:u,onChange:v=>d(v.target.value),className:"h-10 mt-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",className:"text-base font-medium",children:"Notes"}),r.jsx(wt,{id:"notes",value:l.notes,onChange:v=>m("notes",v.target.value),placeholder:"Notes supplémentaires...",rows:4,className:"resize-none"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),className:"h-12 px-6",children:"Annuler"}),r.jsxs(V,{type:"submit",className:"h-12 px-8 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[r.jsx(gr,{className:"h-4 w-4 mr-2"}),"Enregistrer le mouvement"]})]})]})]})}):null}const up={medication:{label:"Médicaments",color:"bg-blue-100 text-blue-800",icon:"💊"},vaccine:{label:"Vaccins",color:"bg-green-100 text-green-800",icon:"💉"},consumable:{label:"Consommables",color:"bg-orange-100 text-orange-800",icon:"🩹"},equipment:{label:"Équipement",color:"bg-purple-100 text-purple-800",icon:"🔧"},supplement:{label:"Suppléments",color:"bg-yellow-100 text-yellow-800",icon:"🧪"}},a6e=[{value:"unit",label:"Unité"},{value:"box",label:"Boîte"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}];function o6e(){const{stockItems:e,stockAlerts:t,stockMovements:n,addStockItem:s,updateStockItem:i,deleteStockItem:a,addStockMovement:o,getStockAlerts:l}=Nt(),{settings:c}=Zt(),{toast:u}=$t(),[d,f]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(!1),[y,N]=w.useState(null),[b,j]=w.useState(null),[_,C]=w.useState(""),[A,P]=w.useState("all"),[E,M]=w.useState("all"),[$,T]=w.useState("name"),[O,L]=w.useState("asc"),[B,Z]=w.useState(null),[H,ae]=w.useState(""),X=w.useMemo(()=>{const z=e.length,Y=e.reduce((xe,Ne)=>xe+Ne.totalValue,0),ee=e.filter(xe=>xe.currentStock<=xe.minimumStock).length,G=e.filter(xe=>xe.expirationDate&&new Date(xe.expirationDate)<new Date).length,I=e.filter(xe=>xe.expirationDate&&new Date(xe.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(xe.expirationDate)>new Date).length;return{totalItems:z,totalValue:Y,lowStockItems:ee,expiredItems:G,expiringSoonItems:I}},[e]),D=w.useMemo(()=>{let z=e.filter(Y=>{var xe,Ne;const ee=Y.name.toLowerCase().includes(_.toLowerCase())||((xe=Y.manufacturer)==null?void 0:xe.toLowerCase().includes(_.toLowerCase()))||((Ne=Y.batchNumber)==null?void 0:Ne.toLowerCase().includes(_.toLowerCase())),G=A==="all"||Y.category===A;let I=!0;return E==="low_stock"?I=Y.currentStock<=Y.minimumStock:E==="expired"?I=Y.expirationDate&&new Date(Y.expirationDate)<new Date:E==="expiring_soon"?I=Y.expirationDate&&new Date(Y.expirationDate)<=new Date(Date.now()+2592e6)&&new Date(Y.expirationDate)>new Date:E==="active"&&(I=Y.isActive),ee&&G&&I});return z.sort((Y,ee)=>{let G,I;switch($){case"name":G=Y.name.toLowerCase(),I=ee.name.toLowerCase();break;case"currentStock":G=Y.currentStock,I=ee.currentStock;break;case"totalValue":G=Y.totalValue,I=ee.totalValue;break;case"expirationDate":G=Y.expirationDate||"9999-12-31",I=ee.expirationDate||"9999-12-31";break;default:G=Y.name.toLowerCase(),I=ee.name.toLowerCase()}return O==="asc"?G<I?-1:G>I?1:0:G>I?-1:G<I?1:0}),z},[e,_,A,E,$,O]),ie=(z,Y,ee)=>{const G={};switch(Y){case"currentStock":G.currentStock=parseInt(ee)||0;break;case"minimumStock":G.minimumStock=parseInt(ee)||0;break;case"purchasePrice":G.purchasePrice=parseFloat(ee)||0;break;case"sellingPrice":G.sellingPrice=parseFloat(ee)||0;break;case"location":G.location=ee;break;case"notes":G.notes=ee;break}i(z,G),Z(null),u({title:"Stock mis à jour",description:"L'élément de stock a été mis à jour avec succès."})},me=z=>{j(z),v(!0)},te=z=>{v(z),z||j(null)},J=z=>{confirm(`Êtes-vous sûr de vouloir supprimer "${z.name}" du stock ?`)&&(a(z.id),u({title:"Élément supprimé",description:`"${z.name}" a été supprimé du stock.`}))},ne=z=>{N(z),g(!0)},ve=()=>{const z=[["Nom","Catégorie","Sous-catégorie","Fabricant","Numéro de lot","Dosage","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),...e.map(I=>[`"${I.name}"`,`"${I.category}"`,`"${I.subcategory||""}"`,`"${I.manufacturer||""}"`,`"${I.batchNumber||""}"`,`"${I.dosage||""}"`,`"${I.unit}"`,I.currentStock,I.minimumStock,I.purchasePrice,I.sellingPrice,`"${I.expirationDate||""}"`,`"${I.supplier||""}"`,`"${I.location||""}"`,`"${I.notes||""}"`,`"${I.barcode||""}"`,`"${I.sku||""}"`].join(","))].join(`
`),Y=new Blob([z],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a"),G=URL.createObjectURL(Y);ee.setAttribute("href",G),ee.setAttribute("download",`stock_${new Date().toISOString().split("T")[0]}.csv`),ee.style.visibility="hidden",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),u({title:"Export réussi",description:"Le fichier CSV a été téléchargé avec succès."})},ye=z=>{var G;const Y=(G=z.target.files)==null?void 0:G[0];if(!Y)return;const ee=new FileReader;ee.onload=I=>{var xe;try{const Be=((xe=I.target)==null?void 0:xe.result).split(`
`),Fe=Be[0].split(",").map(Ke=>Ke.replace(/"/g,"").trim()),lt=["Nom","Catégorie","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente"].filter(Ke=>!Fe.includes(Ke));if(lt.length>0){u({title:"Erreur d'import",description:`En-têtes manquants: ${lt.join(", ")}`,variant:"destructive"});return}const ft=[];let we=0,Ge=0;for(let Ke=1;Ke<Be.length;Ke++){const Ht=Be[Ke].trim();if(Ht)try{const Yn=Ht.split(",").map(Qn=>Qn.replace(/"/g,"").trim()),Et={};if(Fe.forEach((Qn,ys)=>{Et[Qn]=Yn[ys]||""}),!Et.Nom||!Et.Catégorie||!Et.Unité){Ge++;continue}if(!Object.keys(up).includes(Et.Catégorie)){Ge++;continue}const ur={id:Date.now()+Ke,name:Et.Nom,category:Et.Catégorie,subcategory:Et["Sous-catégorie"]||"",manufacturer:Et.Fabricant||"",batchNumber:Et["Numéro de lot"]||"",dosage:Et.Dosage||"",unit:Et.Unité,currentStock:parseInt(Et["Stock actuel"])||0,minimumStock:parseInt(Et["Stock minimum"])||0,purchasePrice:parseFloat(Et["Prix d'achat"])||0,sellingPrice:parseFloat(Et["Prix de vente"])||0,totalValue:(parseInt(Et["Stock actuel"])||0)*(parseFloat(Et["Prix d'achat"])||0),expirationDate:Et["Date d'expiration"]||void 0,supplier:Et.Fournisseur||"",location:Et.Emplacement||"",notes:Et.Notes||"",barcode:Et["Code-barres"]||"",sku:Et.SKU||"",lastUpdated:new Date().toISOString(),isActive:!0};ft.push(ur),we++}catch(Yn){Ge++,console.error(`Erreur ligne ${Ke+1}:`,Yn)}}ft.length>0&&ft.forEach(Ke=>{s(Ke)}),u({title:"Import terminé",description:`${we} éléments importés avec succès${Ge>0?`, ${Ge} erreurs`:""}.`})}catch{u({title:"Erreur d'import",description:"Impossible de lire le fichier CSV.",variant:"destructive"})}},ee.readAsText(Y),z.target.value=""},be=()=>{const z=[["Nom","Catégorie","Sous-catégorie","Fabricant","Numéro de lot","Dosage","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),["Amoxicilline 500mg","medication","Antibiotique","Boehringer Ingelheim","AMX2024001","500mg","box","15","5","20.00","25.50","2025-12-31","Pharmacie Vétérinaire Centrale","Armoire A - Étagère 1","Stockage à température ambiante","1234567890123","MED-AMX-500"].join(","),["Vaccin DHPP","vaccine","Vaccin combiné","Merial","VAC2024001","1ml","vial","25","10","45.00","55.00","2025-06-30","VetoPharma","Réfrigérateur - Étagère 1","Conservation entre 2-8°C","9876543210987","VAC-DHPP-001"].join(","),["Seringues 5ml","consumable","Matériel médical","BD","SYR2024001","5ml","unit","100","20","0.50","0.75","","MedSupply","Armoire B - Étagère 2","Usage unique","5556667778889","CON-SYR-5ML"].join(",")].join(`
`),Y=new Blob([z],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a"),G=URL.createObjectURL(Y);ee.setAttribute("href",G),ee.setAttribute("download","gabarit_import_stock.csv"),ee.style.visibility="hidden",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),u({title:"Gabarit téléchargé",description:"Le fichier gabarit a été téléchargé avec succès."})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[r.jsx(Wn,{className:"h-8 w-8 text-primary"}),"Gestion de Stock"]}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez votre inventaire de médicaments, vaccins et consommables"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(V,{variant:"outline",onClick:ve,className:"gap-2",children:[r.jsx(CA,{className:"h-4 w-4"}),"Exporter CSV"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:ye,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"import-file"}),r.jsx(V,{variant:"outline",className:"gap-2",asChild:!0,children:r.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[r.jsx(YC,{className:"h-4 w-4"}),"Importer CSV"]})})]}),r.jsxs(V,{variant:"outline",onClick:be,className:"gap-2",children:[r.jsx(dM,{className:"h-4 w-4"}),"Gabarit"]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>f(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvel Élément"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Éléments"}),r.jsx("p",{className:"text-2xl font-bold",children:X.totalItems})]}),r.jsx(Wn,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur Totale"}),r.jsxs("p",{className:"text-2xl font-bold",children:[X.totalValue.toFixed(2)," ",c.currency]})]}),r.jsx(zf,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Stock Bas"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:X.lowStockItems})]}),r.jsx(Vn,{className:"h-8 w-8 text-orange-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirés"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:X.expiredItems})]}),r.jsx(db,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirent Bientôt"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:X.expiringSoonItems})]}),r.jsx(Kn,{className:"h-8 w-8 text-yellow-600"})]})})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Q5,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4 flex-wrap",children:[r.jsx("div",{className:"flex-1 min-w-[300px]",children:r.jsx(se,{placeholder:"Rechercher par nom, fabricant, lot...",value:_,onChange:z=>C(z.target.value),className:"w-full"})}),r.jsxs(Me,{value:A,onValueChange:P,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Catégorie"})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Toutes les catégories"}),Object.entries(up).map(([z,Y])=>r.jsxs(W,{value:z,children:[Y.icon," ",Y.label]},z))]})]}),r.jsxs(Me,{value:E,onValueChange:M,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Statut"})}),r.jsxs(De,{children:[r.jsx(W,{value:"all",children:"Tous les statuts"}),r.jsx(W,{value:"active",children:"Actifs"}),r.jsx(W,{value:"low_stock",children:"Stock bas"}),r.jsx(W,{value:"expired",children:"Expirés"}),r.jsx(W,{value:"expiring_soon",children:"Expirent bientôt"})]})]}),r.jsxs(Me,{value:$,onValueChange:T,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Trier par"})}),r.jsxs(De,{children:[r.jsx(W,{value:"name",children:"Nom"}),r.jsx(W,{value:"currentStock",children:"Stock actuel"}),r.jsx(W,{value:"totalValue",children:"Valeur totale"}),r.jsx(W,{value:"expirationDate",children:"Date d'expiration"})]})]}),r.jsx(V,{variant:"outline",onClick:()=>L(O==="asc"?"desc":"asc"),children:O==="asc"?r.jsx(gr,{className:"h-4 w-4"}):r.jsx(Uu,{className:"h-4 w-4"})})]})})]}),r.jsx(de,{className:"bg-blue-50 border-blue-200",children:r.jsx(he,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(dM,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold text-blue-900",children:"Import en masse"}),r.jsx("p",{className:"text-sm text-blue-700",children:'Utilisez le bouton "Gabarit" pour télécharger un fichier CSV avec le format correct. Les données importées seront ajoutées au stock existant.'}),r.jsxs("div",{className:"text-xs text-blue-600",children:[r.jsx("strong",{children:"Catégories valides :"})," medication, vaccine, consumable, equipment, supplement"]}),r.jsxs("div",{className:"text-xs text-blue-600",children:[r.jsx("strong",{children:"Unités valides :"})," box, vial, unit, ml, mg, g, kg, l, pack, tube, sachet"]})]})]})})}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{children:["Inventaire (",D.length," éléments)"]})}),r.jsxs(he,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(vm,{children:[r.jsx(xm,{children:r.jsxs(za,{children:[r.jsx(Tt,{children:"Nom"}),r.jsx(Tt,{children:"Catégorie"}),r.jsx(Tt,{children:"Fabricant"}),r.jsx(Tt,{children:"Stock"}),r.jsx(Tt,{children:"Prix d'achat"}),r.jsx(Tt,{children:"Prix de vente"}),r.jsx(Tt,{children:"Valeur totale"}),r.jsx(Tt,{children:"Expiration"}),r.jsx(Tt,{children:"Emplacement"}),r.jsx(Tt,{children:"Actions"})]})}),r.jsx(ym,{children:D.map(z=>{var I;const Y=z.currentStock<=z.minimumStock,ee=z.expirationDate&&new Date(z.expirationDate)<new Date,G=z.expirationDate&&new Date(z.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(z.expirationDate)>new Date;return r.jsxs(za,{className:z.isActive?"":"opacity-50",children:[r.jsx(Ot,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium",children:z.name}),z.batchNumber&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Lot: ",z.batchNumber]}),z.dosage&&r.jsx("div",{className:"text-sm text-muted-foreground",children:z.dosage})]})}),r.jsxs(Ot,{children:[r.jsxs($e,{className:up[z.category].color,children:[up[z.category].icon," ",up[z.category].label]}),z.subcategory&&r.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:z.subcategory})]}),r.jsx(Ot,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{children:z.manufacturer||"-"}),z.supplier&&r.jsx("div",{className:"text-sm text-muted-foreground",children:z.supplier})]})}),r.jsx(Ot,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:`font-medium ${Y?"text-orange-600":""}`,children:[z.currentStock," ",((I=a6e.find(xe=>xe.value===z.unit))==null?void 0:I.label)||z.unit]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Min: ",z.minimumStock]}),r.jsxs("div",{className:"flex items-center gap-2",children:[Y&&r.jsx($e,{variant:"destructive",className:"text-xs",children:"Stock bas"}),z.lastUpdated&&new Date(z.lastUpdated).getTime()>Date.now()-24*60*60*1e3&&r.jsx($e,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:"Mis à jour"})]})]})}),r.jsx(Ot,{children:(B==null?void 0:B.id)===z.id&&B.field==="purchasePrice"?r.jsx(se,{type:"number",step:"0.01",value:H,onChange:xe=>ae(xe.target.value),onBlur:()=>ie(z.id,"purchasePrice",H),onKeyDown:xe=>{xe.key==="Enter"&&ie(z.id,"purchasePrice",H)},autoFocus:!0,className:"w-20"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{Z({id:z.id,field:"purchasePrice"}),ae(z.purchasePrice.toString())},children:[z.purchasePrice.toFixed(2)," ",c.currency]})}),r.jsx(Ot,{children:(B==null?void 0:B.id)===z.id&&B.field==="sellingPrice"?r.jsx(se,{type:"number",step:"0.01",value:H,onChange:xe=>ae(xe.target.value),onBlur:()=>ie(z.id,"sellingPrice",H),onKeyDown:xe=>{xe.key==="Enter"&&ie(z.id,"sellingPrice",H)},autoFocus:!0,className:"w-20"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{Z({id:z.id,field:"sellingPrice"}),ae(z.sellingPrice.toString())},children:[r.jsxs("div",{className:"font-medium",children:[z.sellingPrice.toFixed(2)," ",c.currency]}),r.jsxs("div",{className:"text-xs text-green-600",children:["Marge: ",((z.sellingPrice-z.purchasePrice)*z.currentStock).toFixed(2)," ",c.currency]})]})}),r.jsx(Ot,{children:r.jsxs("div",{className:"font-medium",children:[z.totalValue.toFixed(2)," ",c.currency]})}),r.jsx(Ot,{children:z.expirationDate?r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:`text-sm ${ee?"text-red-600 font-medium":G?"text-yellow-600 font-medium":""}`,children:It(new Date(z.expirationDate),"dd/MM/yyyy",{locale:Ki})}),ee&&r.jsx($e,{variant:"destructive",className:"text-xs",children:"Expiré"}),G&&!ee&&r.jsx($e,{variant:"secondary",className:"text-xs bg-yellow-100 text-yellow-800",children:"Expire bientôt"})]}):r.jsx("span",{className:"text-muted-foreground",children:"-"})}),r.jsx(Ot,{children:(B==null?void 0:B.id)===z.id&&B.field==="location"?r.jsx(se,{value:H,onChange:xe=>ae(xe.target.value),onBlur:()=>ie(z.id,"location",H),onKeyDown:xe=>{xe.key==="Enter"&&ie(z.id,"location",H)},autoFocus:!0,className:"w-32"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded flex items-center gap-1",onClick:()=>{Z({id:z.id,field:"location"}),ae(z.location||"")},children:[r.jsx(ud,{className:"h-3 w-3"}),z.location||"Non défini"]})}),r.jsx(Ot,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ne(z),children:r.jsx(gr,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>me(z),children:r.jsx(tn,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>J(z),children:r.jsx(Hn,{className:"h-3 w-3"})})]})})]},z.id)})})]})}),D.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Wn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucun élément trouvé"}),r.jsx("p",{className:"text-sm",children:"Ajustez vos filtres ou ajoutez de nouveaux éléments"})]})]})]}),r.jsxs(de,{children:[r.jsxs(_e,{children:[r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-5 w-5"}),"Historique des Mouvements (",n.length,")"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Derniers mouvements de stock (prescriptions, achats, ajustements)"})]}),r.jsx(he,{children:n.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Kn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucun mouvement de stock enregistré"})]}):r.jsxs("div",{className:"space-y-4",children:[n.sort((z,Y)=>new Date(Y.date).getTime()-new Date(z.date).getTime()).slice(0,20).map(z=>{const ee={in:{label:"Entrée",color:"text-green-600",icon:"↗️"},out:{label:z.reason==="Prescription médicale"?"Prescription":"Sortie",color:z.reason==="Prescription médicale"?"text-orange-600":"text-red-600",icon:z.reason==="Prescription médicale"?"💊":"↘️"},adjustment:{label:"Ajustement",color:"text-blue-600",icon:"⚖️"},transfer:{label:"Transfert",color:"text-purple-600",icon:"↔️"}}[z.type];return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-2xl",children:ee.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:z.itemName}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[z.reason," • ",z.performedBy||"Non spécifié"]}),z.reference&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Référence: ",z.reference]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`font-semibold ${ee.color}`,children:[z.type==="in"?"+":z.type==="out"?"-":"",z.quantity]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:It(new Date(z.date),"dd/MM/yyyy HH:mm",{locale:Ki})})]})]},z.id)}),n.length>20&&r.jsx("div",{className:"text-center pt-4",children:r.jsxs(V,{variant:"outline",size:"sm",children:["Voir tous les mouvements (",n.length,")"]})})]})})]}),r.jsx(Y3,{open:d,onOpenChange:f}),r.jsx(Y3,{open:x,onOpenChange:te,editingItem:b}),r.jsx(i6e,{open:m,onOpenChange:g,item:y})]})}const l6e={monthly:[{description:"Salaire Secrétaire",amount:3e3,type:"expense",frequency:"monthly",source:"salary"},{description:"CNSS Secrétaire",amount:700,type:"expense",frequency:"monthly",source:"insurance"},{description:"CNSS Vétérinaire",amount:1500,type:"expense",frequency:"monthly",source:"insurance"},{description:"Loyer",amount:3e3,type:"expense",frequency:"monthly",source:"rent"},{description:"Eau et Électricité",amount:300,type:"expense",frequency:"monthly",source:"other"}],annual:[{description:"Impôts",amount:3e3,type:"expense",frequency:"annual",source:"tax"},{description:"Cotisation Ordre des Vétérinaires",amount:1200,type:"expense",frequency:"annual",source:"other"}],occasional:[{description:"Maintenance Équipement",amount:500,type:"expense",frequency:"occasional",source:"other"},{description:"Formation Professionnelle",amount:800,type:"expense",frequency:"occasional",source:"other"},{description:"Achat Matériel",amount:1200,type:"expense",frequency:"occasional",source:"other"}]},c6e=()=>{const{accountingEntries:e,addAccountingEntry:t,updateAccountingEntry:n,deleteAccountingEntry:s,generateAccountingSummary:i,consultations:a,vaccinations:o,antiparasitics:l,prescriptions:c,stockMovements:u,stockItems:d}=Nt(),{settings:f}=Zt();$t();const[m,g]=w.useState("month"),[x,v]=w.useState(""),[y,N]=w.useState(""),[b,j]=w.useState(!1),[_,C]=w.useState(null),[A,P]=w.useState(null),[E,M]=w.useState(!1),[$,T]=w.useState(l6e),[O,L]=w.useState(!1),[B,Z]=w.useState(null),[H,ae]=w.useState({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),[X,D]=w.useState({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""});w.useEffect(()=>{const G=new Date,I=new Date(G.getFullYear(),G.getMonth(),1),xe=new Date(G.getFullYear(),G.getMonth()+1,0);v(It(I,"yyyy-MM-dd")),N(It(xe,"yyyy-MM-dd"))},[]),w.useEffect(()=>{if(x&&y){const G=m==="month"?It(new Date(x),"yyyy-MM",{locale:Ki}):m==="year"?It(new Date(x),"yyyy",{locale:Ki}):m==="day"?It(new Date(x),"dd/MM/yyyy",{locale:Ki}):`${It(new Date(x),"dd/MM/yyyy")} - ${It(new Date(y),"dd/MM/yyyy")}`,I=i(G,x,y);P(I)}},[x,y,m,e,a,o,l,c,u,i]);const ie=G=>{g(G);const I=new Date;switch(G){case"day":const xe=It(I,"yyyy-MM-dd");v(xe),N(xe);break;case"month":const Ne=new Date(I.getFullYear(),I.getMonth(),1),Be=new Date(I.getFullYear(),I.getMonth()+1,0);v(It(Ne,"yyyy-MM-dd")),N(It(Be,"yyyy-MM-dd"));break;case"quarter":const Fe=Math.floor(I.getMonth()/3),it=new Date(I.getFullYear(),Fe*3,1),lt=new Date(I.getFullYear(),Fe*3+3,0);v(It(it,"yyyy-MM-dd")),N(It(lt,"yyyy-MM-dd"));break;case"year":const ft=new Date(I.getFullYear(),0,1),we=new Date(I.getFullYear(),11,31);v(It(ft,"yyyy-MM-dd")),N(It(we,"yyyy-MM-dd"));break}},me=()=>{if(!X.description||!X.amount||!X.date)return;const G={type:X.type,category:"manual",frequency:X.frequency,description:X.description,amount:parseFloat(X.amount),date:X.date,source:X.source,notes:X.notes};_?(n(_.id,G),C(null)):t(G),D({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""}),j(!1)},te=G=>{C(G),D({type:G.type,frequency:G.frequency,description:G.description,amount:G.amount.toString(),date:G.date,source:G.source||"other",notes:G.notes||""}),j(!0)},J=G=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette entrée ?")&&s(G)},ne=G=>{D({...X,type:G.type,frequency:G.frequency||"occasional",description:G.description,amount:G.amount.toString(),source:G.source,date:X.date||It(new Date,"yyyy-MM-dd")}),M(!1)},ve=()=>{if(!H.description||!H.amount)return;const G={description:H.description,amount:parseFloat(H.amount),type:H.type,frequency:H.frequency,source:H.source};if(B){const I={...$},xe=B.frequency,Ne=I[xe].findIndex(Be=>Be===B);Ne!==-1&&(I[xe][Ne]=G),T(I),Z(null)}else{const I={...$},xe=H.frequency;I[xe].push(G),T(I)}ae({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),L(!1)},ye=G=>{Z(G),ae({description:G.description,amount:G.amount.toString(),type:G.type,frequency:G.frequency,source:G.source}),L(!0)},be=G=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette suggestion ?")){const I={...$},xe=G.frequency;I[xe]=I[xe].filter(Ne=>Ne!==G),T(I)}},z=e.filter(G=>{const I=new Date(G.date),xe=new Date(x),Ne=new Date(y);return I>=xe&&I<=Ne}),Y=G=>`${G.toFixed(2)} ${f.currency}`,ee=G=>{switch(G){case"consultation":return"🩺";case"vaccination":return"💉";case"antiparasitic":return"💊";case"prescription":return"📋";case"stock_purchase":return"📦";case"salary":return"👥";case"rent":return"🏢";case"tax":return"📊";case"insurance":return"🛡️";default:return"📄"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(K5,{className:"h-8 w-8"}),"Gestion Comptable"]}),r.jsx("p",{className:"text-muted-foreground",children:"Suivi des recettes et charges de votre clinique vétérinaire"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(St,{open:b,onOpenChange:j,children:[r.jsx(Rc,{asChild:!0,children:r.jsxs(V,{onClick:()=>{C(null),D({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""})},children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter une entrée"]})}),r.jsxs(bt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:_?"Modifier l'entrée comptable":"Ajouter une entrée comptable"}),r.jsx(jn,{children:_?"Modifiez les informations de cette entrée.":"Ajoutez une nouvelle recette ou charge manuelle."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(YN,{className:"h-4 w-4 text-yellow-600"}),r.jsx(F,{className:"text-sm font-medium",children:"Suggestions prédéfinies"})]}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>M(!E),children:E?r.jsx(hb,{className:"h-4 w-4"}):r.jsx(YN,{className:"h-4 w-4"})})]}),E&&r.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges mensuelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:$.monthly.map((G,I)=>r.jsx(V,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ne(G),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:G.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[G.amount," ",f.currency]})]})},I))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges annuelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:$.annual.map((G,I)=>r.jsx(V,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ne(G),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:G.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[G.amount," ",f.currency]})]})},I))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges occasionnelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:$.occasional.map((G,I)=>r.jsx(V,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ne(G),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:G.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[G.amount," ",f.currency]})]})},I))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"type",children:"Type"}),r.jsxs(Me,{value:X.type,onValueChange:G=>D({...X,type:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"revenue",children:"Recette"}),r.jsx(W,{value:"expense",children:"Charge"})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"frequency",children:"Fréquence"}),r.jsxs(Me,{value:X.frequency,onValueChange:G=>D({...X,frequency:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"monthly",children:"Mensuel"}),r.jsx(W,{value:"annual",children:"Annuel"}),r.jsx(W,{value:"occasional",children:"Occasionnel"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"description",children:"Description"}),r.jsx(se,{id:"description",value:X.description,onChange:G=>D({...X,description:G.target.value}),placeholder:"Ex: Salaire employé, Loyer, etc."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(F,{htmlFor:"amount",children:["Montant (",f.currency,")"]}),r.jsx(se,{id:"amount",type:"number",step:"0.01",value:X.amount,onChange:G=>D({...X,amount:G.target.value}),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"date",children:"Date"}),r.jsx(se,{id:"date",type:"date",value:X.date,onChange:G=>D({...X,date:G.target.value})})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"source",children:"Source"}),r.jsxs(Me,{value:X.source,onValueChange:G=>D({...X,source:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"salary",children:"Salaire"}),r.jsx(W,{value:"rent",children:"Loyer"}),r.jsx(W,{value:"tax",children:"Impôts"}),r.jsx(W,{value:"insurance",children:"Assurance"}),r.jsx(W,{value:"other",children:"Autre"})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"notes",children:"Notes (optionnel)"}),r.jsx(wt,{id:"notes",value:X.notes,onChange:G=>D({...X,notes:G.target.value}),placeholder:"Informations supplémentaires..."})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>j(!1),children:"Annuler"}),r.jsx(V,{onClick:me,children:_?"Modifier":"Ajouter"})]})]})]})]})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-5 w-5"}),"Période d'analyse"]})}),r.jsx(he,{children:r.jsxs("div",{className:"flex gap-4 items-end",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:m==="day"?"default":"outline",onClick:()=>ie("day"),size:"sm",children:"Ce jour"}),r.jsx(V,{variant:m==="month"?"default":"outline",onClick:()=>ie("month"),size:"sm",children:"Ce mois"}),r.jsx(V,{variant:m==="quarter"?"default":"outline",onClick:()=>ie("quarter"),size:"sm",children:"Ce trimestre"}),r.jsx(V,{variant:m==="year"?"default":"outline",onClick:()=>ie("year"),size:"sm",children:"Cette année"})]}),r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(F,{htmlFor:"startDate",children:"Du"}),r.jsx(se,{id:"startDate",type:"date",value:x,onChange:G=>v(G.target.value),className:"w-40"}),r.jsx(F,{htmlFor:"endDate",children:"Au"}),r.jsx(se,{id:"endDate",type:"date",value:y,onChange:G=>N(G.target.value),className:"w-40"})]})]})})]}),A&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(de,{children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Pe,{className:"text-sm font-medium",children:"Total Recettes"}),r.jsx(gr,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:Y(A.totalRevenue)}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[r.jsxs("div",{children:["Consultations: ",Y(A.revenueBreakdown.consultations)]}),r.jsxs("div",{children:["Vaccinations: ",Y(A.revenueBreakdown.vaccinations)]}),r.jsxs("div",{children:["Antiparasitaires: ",Y(A.revenueBreakdown.antiparasitics)]}),r.jsxs("div",{children:["Prescriptions: ",Y(A.revenueBreakdown.prescriptions)]}),r.jsxs("div",{children:["Manuelles: ",Y(A.revenueBreakdown.manualEntries)]})]})]})]}),r.jsxs(de,{children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Pe,{className:"text-sm font-medium",children:"Total Charges"}),r.jsx(Uu,{className:"h-4 w-4 text-red-600"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:Y(A.totalExpenses)}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[r.jsxs("div",{children:["Achats stock: ",Y(A.expenseBreakdown.stockPurchases)]}),r.jsxs("div",{children:["Salaires: ",Y(A.expenseBreakdown.salaries)]}),r.jsxs("div",{children:["Loyer: ",Y(A.expenseBreakdown.rent)]}),r.jsxs("div",{children:["Impôts: ",Y(A.expenseBreakdown.taxes)]}),r.jsxs("div",{children:["Autres: ",Y(A.expenseBreakdown.other)]})]})]})]}),r.jsxs(de,{children:[r.jsxs(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Pe,{className:"text-sm font-medium",children:"Résultat Net"}),r.jsx(zf,{className:"h-4 w-4"})]}),r.jsxs(he,{children:[r.jsx("div",{className:`text-2xl font-bold ${A.netIncome>=0?"text-green-600":"text-red-600"}`,children:Y(A.netIncome)}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:A.netIncome>=0?"Bénéfice":"Perte"})]})]})]}),r.jsxs(pl,{defaultValue:"entries",className:"space-y-4",children:[r.jsxs(bo,{children:[r.jsx(ln,{value:"entries",children:"Entrées Comptables"}),r.jsx(ln,{value:"configuration",children:"Configuration"})]}),r.jsx(cn,{value:"entries",children:r.jsxs(de,{children:[r.jsxs(_e,{children:[r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-5 w-5"}),"Entrées comptables automatiques et manuelles"]}),r.jsx(lf,{children:"Entrées générées automatiquement (consultations, vaccinations, etc.) et entrées manuelles ajoutées"})]}),r.jsxs(he,{children:[r.jsxs(vm,{children:[r.jsx(xm,{children:r.jsxs(za,{children:[r.jsx(Tt,{children:"Date"}),r.jsx(Tt,{children:"Type"}),r.jsx(Tt,{children:"Description"}),r.jsx(Tt,{children:"Source"}),r.jsx(Tt,{children:"Fréquence"}),r.jsx(Tt,{children:"Montant"}),r.jsx(Tt,{children:"Actions"})]})}),r.jsx(ym,{children:z.map(G=>r.jsxs(za,{children:[r.jsx(Ot,{children:It(new Date(G.date),"dd/MM/yyyy",{locale:Ki})}),r.jsx(Ot,{children:r.jsx($e,{variant:G.type==="revenue"?"default":"destructive",children:G.type==="revenue"?"Recette":"Charge"})}),r.jsx(Ot,{children:G.description}),r.jsx(Ot,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:ee(G.source||"other")}),r.jsx("span",{className:"text-sm",children:G.category==="automatic"?"Automatique":"Manuel"})]})}),r.jsx(Ot,{children:r.jsx($e,{variant:"outline",children:G.frequency==="monthly"?"Mensuel":G.frequency==="annual"?"Annuel":"Occasionnel"})}),r.jsxs(Ot,{className:`font-medium ${G.type==="revenue"?"text-green-600":"text-red-600"}`,children:[G.type==="revenue"?"+":"-",Y(G.amount)]}),r.jsx(Ot,{children:G.category==="manual"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>te(G),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>J(G.id),children:r.jsx(Hn,{className:"h-4 w-4"})})]})})]},G.id))})]}),z.length===0&&r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune entrée comptable pour cette période"})]})]})}),r.jsx(cn,{value:"configuration",children:r.jsxs(de,{children:[r.jsxs(_e,{children:[r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(YN,{className:"h-5 w-5"}),"Configuration des Suggestions"]}),r.jsx(lf,{children:"Configurez les suggestions prédéfinies pour faciliter la saisie des charges et recettes"})]}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Mensuelles"}),r.jsxs(V,{onClick:()=>{Z(null),ae({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),L(!0)},children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:$.monthly.map((G,I)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:G.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[G.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>ye(G),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>be(G),children:r.jsx(Hn,{className:"h-4 w-4"})})]})]},I))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Annuelles"}),r.jsxs(V,{onClick:()=>{Z(null),ae({description:"",amount:"",type:"expense",frequency:"annual",source:"other"}),L(!0)},children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:$.annual.map((G,I)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:G.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[G.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>ye(G),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>be(G),children:r.jsx(Hn,{className:"h-4 w-4"})})]})]},I))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Occasionnelles"}),r.jsxs(V,{onClick:()=>{Z(null),ae({description:"",amount:"",type:"expense",frequency:"occasional",source:"other"}),L(!0)},children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:$.occasional.map((G,I)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:G.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[G.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>ye(G),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>be(G),children:r.jsx(Hn,{className:"h-4 w-4"})})]})]},I))})]})]})})]}),r.jsx(St,{open:O,onOpenChange:L,children:r.jsxs(bt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:B?"Modifier la suggestion":"Ajouter une suggestion"}),r.jsx(jn,{children:B?"Modifiez les informations de cette suggestion.":"Ajoutez une nouvelle suggestion prédéfinie."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"suggestion-type",children:"Type"}),r.jsxs(Me,{value:H.type,onValueChange:G=>ae({...H,type:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"revenue",children:"Recette"}),r.jsx(W,{value:"expense",children:"Charge"})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"suggestion-frequency",children:"Fréquence"}),r.jsxs(Me,{value:H.frequency,onValueChange:G=>ae({...H,frequency:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"monthly",children:"Mensuel"}),r.jsx(W,{value:"annual",children:"Annuel"}),r.jsx(W,{value:"occasional",children:"Occasionnel"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"suggestion-description",children:"Description"}),r.jsx(se,{id:"suggestion-description",value:H.description,onChange:G=>ae({...H,description:G.target.value}),placeholder:"Ex: Salaire employé, Loyer, etc."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(F,{htmlFor:"suggestion-amount",children:["Montant (",f.currency,")"]}),r.jsx(se,{id:"suggestion-amount",type:"number",step:"0.01",value:H.amount,onChange:G=>ae({...H,amount:G.target.value}),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"suggestion-source",children:"Source"}),r.jsxs(Me,{value:H.source,onValueChange:G=>ae({...H,source:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"salary",children:"Salaire"}),r.jsx(W,{value:"rent",children:"Loyer"}),r.jsx(W,{value:"tax",children:"Impôts"}),r.jsx(W,{value:"insurance",children:"Assurance"}),r.jsx(W,{value:"other",children:"Autre"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>L(!1),children:"Annuler"}),r.jsx(V,{onClick:ve,children:B?"Modifier":"Ajouter"})]})]})]})})]})},u6e=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:s,appointments:i,addConsultation:a,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=Nt(),u=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&a({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&o({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},f=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&l({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},m=()=>{e.length>0&&e.forEach(g=>{c(g.id)})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Test des Statistiques des Clients"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-lg",children:"Actions de Test"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs(V,{onClick:u,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),r.jsxs(V,{onClick:d,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),r.jsxs(V,{onClick:f,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),r.jsx(V,{onClick:m,variant:"outline",className:"w-full",children:"Mettre à jour Stats"})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-lg",children:"Statistiques Globales"})}),r.jsxs(he,{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Clients:"})," ",e.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Consultations:"})," ",t.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Antiparasites:"})," ",s.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Rendez-vous:"})," ",i.length]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-lg",children:"Détails des Clients"})}),r.jsx(he,{className:"space-y-3",children:e.map(g=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",g.totalVisits," | Dernière visite: ",new Date(g.lastVisit).toLocaleDateString("fr-FR")]})]},g.id))})]})]})]})},d6e=()=>r.jsx(oE,{children:r.jsx(u6e,{})}),h6e=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:s,appointments:i,addConsultation:a,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=Nt(),u=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&a({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&o({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},f=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&l({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},m=()=>{e.length>0&&e.forEach(g=>{c(g.id)})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Test Simple des Statistiques"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-lg",children:"Actions de Test"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs(V,{onClick:u,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),r.jsxs(V,{onClick:d,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),r.jsxs(V,{onClick:f,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),r.jsx(V,{onClick:m,variant:"outline",className:"w-full",children:"Mettre à jour Stats"})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-lg",children:"Statistiques Globales"})}),r.jsxs(he,{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Clients:"})," ",e.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Consultations:"})," ",t.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Antiparasites:"})," ",s.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Rendez-vous:"})," ",i.length]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-lg",children:"Détails des Clients"})}),r.jsx(he,{className:"space-y-3",children:e.map(g=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",g.totalVisits," | Dernière visite: ",new Date(g.lastVisit).toLocaleDateString("fr-FR")]})]},g.id))})]})]})]})},f6e=()=>r.jsx(oE,{children:r.jsx(h6e,{})}),m6e=()=>{const e=Mc();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),r.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),r.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function p6e(){const{user:e,logout:t}=$c(),{toast:n}=$t();if(!e)return null;const s=l=>l?l.split(" ").map(c=>c.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),i=l=>{switch(l){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},a=l=>{switch(l){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"assistant":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},o=async()=>{await t(),n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."})};return r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-5 w-5"}),"Profil Utilisateur"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{className:"h-16 w-16",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-lg",children:s(e.profile.full_name||e.profile.username)})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold",children:e.profile.full_name||e.profile.username}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Vf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",e.profile.username]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(wi,{className:"h-4 w-4 text-muted-foreground"}),r.jsx($e,{className:a(e.profile.role),children:i(e.profile.role)})]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"text-sm font-medium mb-3",children:"Informations de session"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"ID Utilisateur:"}),r.jsx("span",{className:"font-mono text-xs",children:e.id})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Nom d'utilisateur:"}),r.jsxs("span",{children:["@",e.profile.username]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rôle:"}),r.jsx("span",{children:i(e.profile.role)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Statut:"}),r.jsx($e,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Connecté"})]})]})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs(V,{variant:"outline",onClick:o,className:"w-full gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx(X5,{className:"h-4 w-4"}),"Se déconnecter"]})})]})]})}const g6e={clinicName:"Clinique du Soleil",address:"123 Avenue Hassan II, Rabat, Maroc",phone:"+212 5 37 00 00 00",email:"contact@cliniquedusoleil.ma",website:"https://www.cliniquedusoleil.ma",footerText:"Clinique du Soleil - Soins vétérinaires à Rabat",logo:"/placeholder.svg",currency:"MAD",species:"Chien, Chat, Bovins, Porcins, Volailles",showClinicInfo:!0,showVetsInfo:!0,veterinarians:[],displayPreferences:{clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},farmManagement:{farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},defaultConsultationPrice:150,scheduleSettings:{openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]}};function v6e(){const{toast:e}=$t(),{settings:t,updateSettings:n}=Zt(),{theme:s,setTheme:i}=a8(),a=[{id:1,name:"Dr. Jean Dupont",title:"Dr.",specialty:"Médecine générale",phone:"+212 5 37 00 00 01",email:"j.dupont@cliniquedusoleil.ma"},{id:2,name:"Dr. Marie Martin",title:"Dr.",specialty:"Chirurgie",phone:"+212 5 37 00 00 02",email:"m.martin@cliniquedusoleil.ma"},{id:3,name:"Pr. Ahmed El Alaoui",title:"Pr.",specialty:"Dermatologie",phone:"+212 5 37 00 00 03",email:"a.alaoui@cliniquedusoleil.ma"}],o=t.veterinarians.map(I=>({id:I.id,name:I.name,title:I.name.startsWith("Dr.")?"Dr.":I.name.startsWith("Pr.")?"Pr.":"Dr.",specialty:"Médecine générale",phone:"",email:""})),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState({name:"",title:"",specialty:"",phone:"",email:""}),[g,x]=w.useState(!1),[v,y]=w.useState(""),[N,b]=w.useState(!1),[j,_]=w.useState(""),[C,A]=w.useState(""),[P,E]=w.useState(!1),[M,$]=w.useState(""),[T,O]=w.useState(!1),[L,B]=w.useState("");w.useEffect(()=>{if(t.veterinarians.length===0){const I=a.map(xe=>({id:xe.id,name:xe.name,isActive:!0}));n({...t,veterinarians:I})}},[t.veterinarians.length]);const{pets:Z}=Nt();w.useEffect(()=>{const I=Array.from(new Set([...Z.map(Ne=>Ne.type)])),xe=Array.from(new Set([...t.species.split(",").map(Ne=>Ne.trim()),...I]));n({...t,species:xe.join(", ")})},[Z]);const H=(I,xe)=>{n({...t,[I]:xe})},ae=()=>{e({title:"Paramètres sauvegardés",description:"Informations de la clinique mises à jour."})},X=I=>{var Ne;const xe=(Ne=I.target.files)==null?void 0:Ne[0];if(xe){const Be=new FileReader;Be.onload=()=>H("logo",Be.result),Be.readAsDataURL(xe)}},D=(I,xe)=>{const Ne={...t.displayPreferences,[I]:xe},Be={...t,displayPreferences:Ne};n(Be),e({title:"Préférence d'affichage mise à jour",description:`${I} s'affichera maintenant en ${xe==="table"?"tableau":"cartes"}`})},ie=()=>{d(null),m({name:"",title:"",specialty:"",phone:"",email:""}),c(!0)},me=I=>{d(I),m({name:I.name,title:I.title,specialty:I.specialty||"",phone:I.phone||"",email:I.email||""}),c(!0)},te=()=>{if(!f.name||!f.title){e({title:"Erreur",description:"Nom et titre requis",variant:"destructive"});return}const I=`${f.title} ${f.name}`;let xe;if(u)xe=t.veterinarians.map(Ne=>Ne.id===u.id?{...Ne,name:I,isActive:!0}:Ne);else{const Ne={id:Math.max(0,...t.veterinarians.map(Be=>Be.id))+1,name:I,isActive:!0};xe=[...t.veterinarians,Ne]}n({...t,veterinarians:xe}),e({title:"Vétérinaire enregistré"}),c(!1)},J=I=>{if(!confirm("Supprimer ce vétérinaire ?"))return;const xe=t.veterinarians.filter(Ne=>Ne.id!==I);n({...t,veterinarians:xe}),e({title:"Vétérinaire supprimé"})},ne=()=>{if(!v.trim())return;const I={...t,farmManagement:{...t.farmManagement,farmTypes:[...t.farmManagement.farmTypes,v.trim()]}};n(I),y(""),x(!1),e({title:"Type d'élevage ajouté"})},ve=I=>{if(!confirm(`Supprimer le type "${I}" ?`))return;const xe={...t,farmManagement:{...t.farmManagement,farmTypes:t.farmManagement.farmTypes.filter(Ne=>Ne!==I)}};n(xe),e({title:"Type d'élevage supprimé"})},ye=()=>{if(!j.trim())return;const I={...t,farmManagement:{...t.farmManagement,animalCategories:[...t.farmManagement.animalCategories,j.trim()],breedsByCategory:{...t.farmManagement.breedsByCategory,[j.trim()]:[]}}};n(I),_(""),b(!1),e({title:"Catégorie d'animal ajoutée"})},be=I=>{if(!confirm(`Supprimer la catégorie "${I}" ?`))return;const xe={...t.farmManagement.breedsByCategory};delete xe[I];const Ne={...t,farmManagement:{...t.farmManagement,animalCategories:t.farmManagement.animalCategories.filter(Be=>Be!==I),breedsByCategory:xe}};n(Ne),e({title:"Catégorie d'animal supprimée"})},z=()=>{if(!M.trim()||!C)return;const I=t.farmManagement.breedsByCategory[C]||[],xe={...t,farmManagement:{...t.farmManagement,breedsByCategory:{...t.farmManagement.breedsByCategory,[C]:[...I,M.trim()]}}};n(xe),$(""),E(!1),e({title:"Race ajoutée"})},Y=(I,xe)=>{if(!confirm(`Supprimer la race "${xe}" ?`))return;const Ne=t.farmManagement.breedsByCategory[I]||[],Be={...t,farmManagement:{...t.farmManagement,breedsByCategory:{...t.farmManagement.breedsByCategory,[I]:Ne.filter(Fe=>Fe!==xe)}}};n(Be),e({title:"Race supprimée"})},ee=()=>{if(!L.trim())return;const I={...t,farmManagement:{...t.farmManagement,certificationTypes:[...t.farmManagement.certificationTypes,L.trim()]}};n(I),B(""),O(!1),e({title:"Certification ajoutée"})},G=I=>{if(!confirm(`Supprimer la certification "${I}" ?`))return;const xe={...t,farmManagement:{...t.farmManagement,certificationTypes:t.farmManagement.certificationTypes.filter(Ne=>Ne!==I)}};n(xe),e({title:"Certification supprimée"})};return r.jsx("div",{className:"container mx-auto px-6 py-8 space-y-8",children:r.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Paramètres de la Clinique"})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"logo",children:"Logo de la clinique"}),r.jsx(se,{id:"logo",type:"file",accept:"image/*",onChange:X}),t.logo&&r.jsx("img",{src:t.logo,alt:"Logo",className:"h-24 mt-2"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"clinicName",children:"Nom de la clinique"}),r.jsx(se,{id:"clinicName",value:t.clinicName,onChange:I=>H("clinicName",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"address",children:"Adresse"}),r.jsx(se,{id:"address",value:t.address,onChange:I=>H("address",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"phone",children:"Téléphone"}),r.jsx(se,{id:"phone",value:t.phone,onChange:I=>H("phone",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:t.email,onChange:I=>H("email",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"website",children:"Site web"}),r.jsx(se,{id:"website",value:t.website,onChange:I=>H("website",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"currency",children:"Devise"}),r.jsx(se,{id:"currency",value:t.currency,onChange:I=>H("currency",I.target.value)})]}),r.jsxs("div",{children:[r.jsxs(F,{htmlFor:"defaultConsultationPrice",children:["Prix de consultation par défaut (",t.currency,")"]}),r.jsx(se,{id:"defaultConsultationPrice",type:"number",step:"0.01",min:"0",value:t.defaultConsultationPrice,onChange:I=>H("defaultConsultationPrice",parseFloat(I.target.value)||0)})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"species",children:"Liste des espèces (virgule séparées)"}),r.jsx(se,{id:"species",value:t.species,onChange:I=>H("species",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"footerText",children:"Texte de pied de page"}),r.jsx(se,{id:"footerText",value:t.footerText,onChange:I=>H("footerText",I.target.value)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fr,{id:"showClinicInfo",checked:t.showClinicInfo,onCheckedChange:I=>H("showClinicInfo",I)}),r.jsx(F,{htmlFor:"showClinicInfo",children:"Afficher coordonnées de la clinique sur le certificat"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fr,{id:"showVetsInfo",checked:t.showVetsInfo,onCheckedChange:I=>H("showVetsInfo",I)}),r.jsx(F,{htmlFor:"showVetsInfo",children:"Afficher liste des vétérinaires sur le certificat"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{onClick:ae,children:"Enregistrer"}),r.jsx(V,{variant:"outline",onClick:()=>{const I=a.map(Ne=>({id:Ne.id,name:Ne.name,isActive:!0})),xe={...g6e,veterinarians:I};n(xe),e({title:"Paramètres réinitialisés",description:"Valeurs par défaut restaurées."})},children:"Restaurer valeurs par défaut"}),r.jsx(V,{variant:"outline",onClick:()=>{const xe={...t,farmManagement:{farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"}};n(xe),e({title:"Paramètres ferme réinitialisés",description:"Configuration des fermes restaurée aux valeurs par défaut."})},children:"Restaurer paramètres ferme"})]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Thème de l'application"})}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez le thème de l'application pour votre confort visuel."}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{htmlFor:"theme-select",children:"Thème"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s==="light"?"Mode clair":"Mode sombre"})]}),r.jsxs(Me,{value:s,onValueChange:I=>{i(I),e({title:"Thème mis à jour",description:`Thème changé en mode ${I==="light"?"clair":"sombre"}`})},children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"light",children:"Mode clair"}),r.jsx(W,{value:"dark",children:"Mode sombre"})]})]})]})]})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Préférences d'affichage"})}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez comment vous souhaitez afficher les différentes sections par défaut."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"clients-display",children:"Clients"}),r.jsxs(Me,{value:t.displayPreferences.clients,onValueChange:I=>D("clients",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"table",children:"Tableau"}),r.jsx(W,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"pets-display",children:"Animaux"}),r.jsxs(Me,{value:t.displayPreferences.pets,onValueChange:I=>D("pets",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"table",children:"Tableau"}),r.jsx(W,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"consultations-display",children:"Consultations"}),r.jsxs(Me,{value:t.displayPreferences.consultations,onValueChange:I=>D("consultations",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"table",children:"Tableau"}),r.jsx(W,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"appointments-display",children:"Rendez-vous"}),r.jsxs(Me,{value:t.displayPreferences.appointments,onValueChange:I=>D("appointments",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"table",children:"Tableau"}),r.jsx(W,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"prescriptions-display",children:"Prescriptions"}),r.jsxs(Me,{value:t.displayPreferences.prescriptions,onValueChange:I=>D("prescriptions",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"table",children:"Tableau"}),r.jsx(W,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"farms-display",children:"Fermes"}),r.jsxs(Me,{value:t.displayPreferences.farms,onValueChange:I=>D("farms",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"table",children:"Tableau"}),r.jsx(W,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"vaccinations-display",children:"Vaccinations"}),r.jsxs(Me,{value:t.displayPreferences.vaccinations,onValueChange:I=>D("vaccinations",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"table",children:"Tableau"}),r.jsx(W,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"antiparasitics-display",children:"Antiparasitaires"}),r.jsxs(Me,{value:t.displayPreferences.antiparasitics,onValueChange:I=>D("antiparasitics",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"table",children:"Tableau"}),r.jsx(W,{value:"cards",children:"Cartes"})]})]})]})]})]})})]}),r.jsxs(de,{children:[r.jsxs(_e,{className:"flex justify-between items-center",children:[r.jsx(Pe,{children:"Vétérinaires"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>{},children:"Debug"}),r.jsxs(V,{onClick:ie,className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"})," Ajouter"]})]})]}),r.jsx(he,{className:"space-y-2",children:o.length===0?r.jsx("p",{className:"text-muted-foreground",children:"Aucun vétérinaire configuré"}):o.map(I=>r.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[I.title," ",I.name]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:I.specialty}),r.jsxs("p",{className:"text-xs",children:[I.phone," | ",I.email]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>me(I),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>J(I.id),children:r.jsx(Hn,{className:"h-4 w-4"})})]})]},I.id))})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Configuration des Horaires"})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"openingTime",children:"Heure d'ouverture"}),r.jsx(se,{id:"openingTime",type:"time",value:t.scheduleSettings.openingTime,onChange:I=>H("scheduleSettings",{...t.scheduleSettings,openingTime:I.target.value})})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"closingTime",children:"Heure de fermeture"}),r.jsx(se,{id:"closingTime",type:"time",value:t.scheduleSettings.closingTime,onChange:I=>H("scheduleSettings",{...t.scheduleSettings,closingTime:I.target.value})})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(F,{htmlFor:"slotDuration",children:"Durée des créneaux (minutes)"}),r.jsxs(Me,{value:t.scheduleSettings.slotDuration.toString(),onValueChange:I=>H("scheduleSettings",{...t.scheduleSettings,slotDuration:parseInt(I)}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"15",children:"15 minutes"}),r.jsx(W,{value:"30",children:"30 minutes"}),r.jsx(W,{value:"45",children:"45 minutes"}),r.jsx(W,{value:"60",children:"1 heure"})]})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Pause déjeuner"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"lunchBreakStart",children:"Début de pause"}),r.jsx(se,{id:"lunchBreakStart",type:"time",value:t.scheduleSettings.lunchBreakStart||"",onChange:I=>H("scheduleSettings",{...t.scheduleSettings,lunchBreakStart:I.target.value})})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"lunchBreakEnd",children:"Fin de pause"}),r.jsx(se,{id:"lunchBreakEnd",type:"time",value:t.scheduleSettings.lunchBreakEnd||"",onChange:I=>H("scheduleSettings",{...t.scheduleSettings,lunchBreakEnd:I.target.value})})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Jours de travail"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"monday",label:"Lundi"},{key:"tuesday",label:"Mardi"},{key:"wednesday",label:"Mercredi"},{key:"thursday",label:"Jeudi"},{key:"friday",label:"Vendredi"},{key:"saturday",label:"Samedi"},{key:"sunday",label:"Dimanche"}].map(I=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Fr,{id:I.key,checked:t.scheduleSettings.workingDays.includes(I.key),onCheckedChange:xe=>{const Ne=xe?[...t.scheduleSettings.workingDays,I.key]:t.scheduleSettings.workingDays.filter(Be=>Be!==I.key);H("scheduleSettings",{...t.scheduleSettings,workingDays:Ne})}}),r.jsx(F,{htmlFor:I.key,className:"text-sm",children:I.label})]},I.key))})]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{children:"Gestion des Exploitations"})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Types d'élevage"}),r.jsxs(V,{size:"sm",onClick:()=>x(!0),className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.farmManagement.farmTypes.map(I=>r.jsxs($e,{variant:"secondary",className:"gap-2",children:[I,r.jsx("button",{onClick:()=>ve(I),className:"hover:text-red-500",children:r.jsx(Hn,{className:"h-3 w-3"})})]},I))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Catégories d'animaux"}),r.jsxs(V,{size:"sm",onClick:()=>b(!0),className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"space-y-3",children:t.farmManagement.animalCategories.map(I=>r.jsxs("div",{className:"border rounded p-3",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h5",{className:"font-medium",children:I}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>{A(I),E(!0)},children:[r.jsx(ht,{className:"h-3 w-3"})," Race"]}),r.jsx("button",{onClick:()=>be(I),className:"text-red-500 hover:text-red-700",children:r.jsx(Hn,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:(t.farmManagement.breedsByCategory[I]||[]).map(xe=>r.jsxs($e,{variant:"outline",className:"text-xs gap-1",children:[xe,r.jsx("button",{onClick:()=>Y(I,xe),className:"hover:text-red-500",children:r.jsx(Hn,{className:"h-2 w-2"})})]},xe))})]},I))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Types de certifications"}),r.jsxs(V,{size:"sm",onClick:()=>O(!0),className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.farmManagement.certificationTypes.map(I=>r.jsxs($e,{variant:"outline",className:"gap-2",children:[I,r.jsx("button",{onClick:()=>G(I),className:"hover:text-red-500",children:r.jsx(Hn,{className:"h-3 w-3"})})]},I))})]})]})]}),r.jsx(St,{open:l,onOpenChange:c,children:r.jsxs(bt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:u?"Modifier vétérinaire":"Nouveau vétérinaire"}),r.jsx(jn,{children:"Nom, titre, spécialité, contact"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"vetName",children:"Nom complet *"}),r.jsx(se,{id:"vetName",value:f.name,onChange:I=>m(xe=>({...xe,name:I.target.value}))})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"vetTitle",children:"Titre *"}),r.jsx(se,{id:"vetTitle",value:f.title,onChange:I=>m(xe=>({...xe,title:I.target.value}))})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"vetSpec",children:"Spécialité"}),r.jsx(se,{id:"vetSpec",value:f.specialty,onChange:I=>m(xe=>({...xe,specialty:I.target.value}))})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"vetPhone",children:"Téléphone"}),r.jsx(se,{id:"vetPhone",value:f.phone,onChange:I=>m(xe=>({...xe,phone:I.target.value}))})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"vetEmail",children:"Email"}),r.jsx(se,{id:"vetEmail",type:"email",value:f.email,onChange:I=>m(xe=>({...xe,email:I.target.value}))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsx(V,{onClick:te,children:u?"Mettre à jour":"Créer"})]})]})]})}),r.jsx(St,{open:g,onOpenChange:x,children:r.jsxs(bt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouveau type d'élevage"}),r.jsx(jn,{children:"Ajouter un nouveau type d'exploitation agricole"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(se,{placeholder:"Ex: Apiculture, Aquaculture...",value:v,onChange:I=>y(I.target.value),onKeyPress:I=>I.key==="Enter"&&ne()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>x(!1),children:"Annuler"}),r.jsx(V,{onClick:ne,children:"Ajouter"})]})]})]})}),r.jsx(St,{open:N,onOpenChange:b,children:r.jsxs(bt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle catégorie d'animal"}),r.jsx(jn,{children:"Ajouter une nouvelle catégorie d'animaux d'élevage"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(se,{placeholder:"Ex: Cochons d'Inde, Autruches...",value:j,onChange:I=>_(I.target.value),onKeyPress:I=>I.key==="Enter"&&ye()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>b(!1),children:"Annuler"}),r.jsx(V,{onClick:ye,children:"Ajouter"})]})]})]})}),r.jsx(St,{open:P,onOpenChange:E,children:r.jsxs(bt,{children:[r.jsxs(Ct,{children:[r.jsxs(_t,{children:["Nouvelle race - ",C]}),r.jsxs(jn,{children:["Ajouter une nouvelle race pour la catégorie ",C]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(se,{placeholder:"Nom de la race...",value:M,onChange:I=>$(I.target.value),onKeyPress:I=>I.key==="Enter"&&z()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>E(!1),children:"Annuler"}),r.jsx(V,{onClick:z,children:"Ajouter"})]})]})]})}),r.jsx(St,{open:T,onOpenChange:O,children:r.jsxs(bt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle certification"}),r.jsx(jn,{children:"Ajouter un nouveau type de certification"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(se,{placeholder:"Ex: Commerce équitable, Demeter...",value:L,onChange:I=>B(I.target.value),onKeyPress:I=>I.key==="Enter"&&ee()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>O(!1),children:"Annuler"}),r.jsx(V,{onClick:ee,children:"Ajouter"})]})]})]})})]}),r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsx(p6e,{}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsx(Pe,{className:"text-base",children:"Liens Rapides"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs(V,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>window.location.href="/profile",children:[r.jsx(Hr,{className:"h-4 w-4"}),"Mon Profil"]}),r.jsxs(V,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>window.location.href="/auth-settings",children:[r.jsx(wi,{className:"h-4 w-4"}),"Paramètres de Connexion"]})]})]})]})]})})}var x6e="Separator",Q3="horizontal",y6e=["horizontal","vertical"],P9=w.forwardRef((e,t)=>{const{decorative:n,orientation:s=Q3,...i}=e,a=j6e(s)?s:Q3,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(st.div,{"data-orientation":a,...l,...i,ref:t})});P9.displayName=x6e;function j6e(e){return y6e.includes(e)}var A9=P9;const qj=w.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},i)=>r.jsx(A9,{ref:i,decorative:n,orientation:t,className:Ze("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));qj.displayName=A9.displayName;function b6e(){const{user:e,logout:t,refreshProfile:n}=$c(),{toast:s}=$t(),{data:i,isLoading:a,refetch:o}=ffe(),l=mfe(),[c,u]=w.useState(!1);w.useState(!1);const[d,f]=w.useState({full_name:"",username:"",email:"",phone:"",address:"",specialty:"",experience:"",bio:"",languages:["Français","Arabe","Anglais"]});w.useEffect(()=>{i&&e&&f(y=>({...y,full_name:i.full_name||"",username:i.username||"",email:e.email||"",phone:i.phone||"",address:i.address||"",specialty:i.specialty||"",experience:i.experience||"",bio:i.bio||""}))},[i,e]),w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),w.useState({notifications:{email:!0,sms:!1,push:!0},privacy:{showEmail:!1,showPhone:!0,showAddress:!1},language:"fr",timezone:"Africa/Casablanca"});const m=async()=>{try{await l.mutateAsync({full_name:d.full_name,username:d.username,phone:d.phone,address:d.address,specialty:d.specialty,experience:d.experience,bio:d.bio}),await Promise.all([o(),n()]),s({title:"Profil mis à jour",description:"Vos informations personnelles ont été sauvegardées avec succès."}),u(!1)}catch(y){s({title:"Erreur",description:y instanceof Error?y.message:"Impossible de sauvegarder le profil.",variant:"destructive"})}},g=y=>y.split(" ").map(N=>N.charAt(0)).join("").toUpperCase().slice(0,2),x=y=>{switch(y){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},v=y=>{switch(y){case"admin":return"bg-red-100 text-red-800";case"assistant":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e?a?r.jsx("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(ka,{className:"h-8 w-8 animate-spin"}),r.jsx("p",{className:"text-muted-foreground",children:"Chargement du profil..."})]})})}):r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Mon Profil"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gérez vos informations personnelles et préférences"})]}),r.jsx("div",{className:"flex gap-2",children:c?r.jsxs(r.Fragment,{children:[r.jsx(V,{variant:"outline",onClick:()=>u(!1),children:"Annuler"}),r.jsxs(V,{onClick:m,className:"gap-2",disabled:l.isPending,children:[l.isPending?r.jsx(ka,{className:"h-4 w-4 animate-spin"}):r.jsx(kp,{className:"h-4 w-4"}),l.isPending?"Sauvegarde...":"Sauvegarder"]})]}):r.jsxs(V,{onClick:()=>u(!0),className:"gap-2",children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-5 w-5"}),"Informations Personnelles"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Gr,{className:"h-20 w-20",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-xl",children:g(e.profile.full_name)})}),c&&r.jsx(V,{size:"sm",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full",variant:"secondary",children:r.jsx(ef,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold",children:e.profile.full_name||e.profile.username}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Vf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(wi,{className:"h-4 w-4 text-muted-foreground"}),r.jsx($e,{className:v(e.profile.role),children:x(e.profile.role)})]})]})]}),r.jsx(qj,{}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"full_name",children:"Nom complet"}),r.jsx(se,{id:"full_name",value:d.full_name,onChange:y=>f(N=>({...N,full_name:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"username",children:"Nom d'utilisateur"}),r.jsx(se,{id:"username",value:d.username,onChange:y=>f(N=>({...N,username:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:d.email,disabled:!0,className:"bg-muted"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"phone",children:"Téléphone"}),r.jsx(se,{id:"phone",value:d.phone,onChange:y=>f(N=>({...N,phone:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"address",children:"Adresse"}),r.jsx(se,{id:"address",value:d.address,onChange:y=>f(N=>({...N,address:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"specialty",children:"Spécialité"}),r.jsx(se,{id:"specialty",value:d.specialty,onChange:y=>f(N=>({...N,specialty:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"experience",children:"Expérience"}),r.jsx(se,{id:"experience",value:d.experience,onChange:y=>f(N=>({...N,experience:y.target.value})),disabled:!c})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"bio",children:"Biographie"}),r.jsx("textarea",{id:"bio",className:"w-full min-h-[100px] px-3 py-2 border border-input bg-background rounded-md text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:d.bio,onChange:y=>f(N=>({...N,bio:y.target.value})),disabled:!c})]})]})]})]}):null}function w6e(){const{user:e}=$c(),{toast:t}=$t(),[n,s]=w.useState({twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginNotifications:!0,deviceTracking:!0,autoLogout:!0}),[i,a]=w.useState({rememberMe:!0,autoLogin:!1,sessionDuration:8,maxConcurrentSessions:3}),[o,l]=w.useState({loginAlerts:!0,securityAlerts:!0,deviceAlerts:!0,emailNotifications:!0,smsNotifications:!1,pushNotifications:!0});w.useState({dataSharing:!1,analytics:!0,crashReports:!0,marketingEmails:!1,profileVisibility:"private"}),w.useState({language:"fr",timezone:"Africa/Casablanca",dateFormat:"DD/MM/YYYY",timeFormat:"24h",theme:"system"});const[c]=w.useState([{id:1,device:"MacBook Pro",browser:"Chrome",location:"Rabat, Maroc",lastActive:"Maintenant",current:!0,ip:"192.168.1.100"},{id:2,device:"iPhone 14",browser:"Safari",location:"Rabat, Maroc",lastActive:"Il y a 2 heures",current:!1,ip:"192.168.1.101"}]),u=()=>{t({title:"Paramètres de sécurité sauvegardés",description:"Vos paramètres de sécurité ont été mis à jour."})},d=()=>{t({title:"Paramètres de session sauvegardés",description:"Vos paramètres de session ont été mis à jour."})},f=()=>{t({title:"Paramètres de notification sauvegardés",description:"Vos paramètres de notification ont été mis à jour."})},m=v=>{t({title:"Session terminée",description:"La session a été fermée avec succès."})},g=()=>{t({title:"Toutes les sessions terminées",description:"Toutes les autres sessions ont été fermées."})},x=v=>v.includes("iPhone")||v.includes("Android")?r.jsx(Xte,{className:"h-4 w-4"}):v.includes("iPad")||v.includes("Tablet")?r.jsx(ene,{className:"h-4 w-4"}):r.jsx(fM,{className:"h-4 w-4"});return e?r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Paramètres de Connexion"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gérez vos paramètres de sécurité et de session"})]})}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(wi,{className:"h-5 w-5"}),"Sécurité"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Authentification à deux facteurs"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez une couche de sécurité supplémentaire"})]}),r.jsx(Fr,{checked:n.twoFactorAuth,onCheckedChange:v=>s(y=>({...y,twoFactorAuth:v}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Délai d'expiration de session (minutes)"}),r.jsxs(Me,{value:n.sessionTimeout.toString(),onValueChange:v=>s(y=>({...y,sessionTimeout:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"15",children:"15 minutes"}),r.jsx(W,{value:"30",children:"30 minutes"}),r.jsx(W,{value:"60",children:"1 heure"}),r.jsx(W,{value:"120",children:"2 heures"}),r.jsx(W,{value:"480",children:"8 heures"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Expiration du mot de passe (jours)"}),r.jsxs(Me,{value:n.passwordExpiry.toString(),onValueChange:v=>s(y=>({...y,passwordExpiry:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"30",children:"30 jours"}),r.jsx(W,{value:"60",children:"60 jours"}),r.jsx(W,{value:"90",children:"90 jours"}),r.jsx(W,{value:"180",children:"6 mois"}),r.jsx(W,{value:"365",children:"1 an"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Notifications de connexion"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez des alertes pour les nouvelles connexions"})]}),r.jsx(Fr,{checked:n.loginNotifications,onCheckedChange:v=>s(y=>({...y,loginNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Suivi des appareils"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Surveillez les appareils connectés"})]}),r.jsx(Fr,{checked:n.deviceTracking,onCheckedChange:v=>s(y=>({...y,deviceTracking:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Déconnexion automatique"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Déconnexion après inactivité"})]}),r.jsx(Fr,{checked:n.autoLogout,onCheckedChange:v=>s(y=>({...y,autoLogout:v}))})]})]}),r.jsxs(V,{onClick:u,className:"w-full gap-2",children:[r.jsx(kp,{className:"h-4 w-4"}),"Sauvegarder les paramètres de sécurité"]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(fM,{className:"h-5 w-5"}),"Sessions Actives"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsx("div",{className:"space-y-3",children:c.map(v=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[x(v.device),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:v.device}),v.current&&r.jsx($e,{variant:"secondary",className:"text-xs",children:"Actuel"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.browser," • ",v.location]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Dernière activité: ",v.lastActive]})]})]}),!v.current&&r.jsx(V,{variant:"outline",size:"sm",onClick:()=>m(v.id),children:"Terminer"})]},v.id))}),r.jsx(qj,{}),r.jsx(V,{variant:"destructive",onClick:g,className:"w-full",children:"Terminer toutes les autres sessions"})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-5 w-5"}),"Gestion des Sessions"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Se souvenir de moi"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Restez connecté entre les sessions"})]}),r.jsx(Fr,{checked:i.rememberMe,onCheckedChange:v=>a(y=>({...y,rememberMe:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Connexion automatique"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Connexion automatique au démarrage"})]}),r.jsx(Fr,{checked:i.autoLogin,onCheckedChange:v=>a(y=>({...y,autoLogin:v}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Durée de session (heures)"}),r.jsxs(Me,{value:i.sessionDuration.toString(),onValueChange:v=>a(y=>({...y,sessionDuration:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"1",children:"1 heure"}),r.jsx(W,{value:"4",children:"4 heures"}),r.jsx(W,{value:"8",children:"8 heures"}),r.jsx(W,{value:"12",children:"12 heures"}),r.jsx(W,{value:"24",children:"24 heures"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Sessions simultanées maximum"}),r.jsxs(Me,{value:i.maxConcurrentSessions.toString(),onValueChange:v=>a(y=>({...y,maxConcurrentSessions:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(W,{value:"1",children:"1 session"}),r.jsx(W,{value:"2",children:"2 sessions"}),r.jsx(W,{value:"3",children:"3 sessions"}),r.jsx(W,{value:"5",children:"5 sessions"}),r.jsx(W,{value:"10",children:"10 sessions"})]})]})]})]}),r.jsxs(V,{onClick:d,className:"w-full gap-2",children:[r.jsx(kp,{className:"h-4 w-4"}),"Sauvegarder les paramètres de session"]})]})]}),r.jsxs(de,{children:[r.jsx(_e,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx($te,{className:"h-5 w-5"}),"Notifications de Sécurité"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Alertes de connexion"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouvelles connexions"})]}),r.jsx(Fr,{checked:o.loginAlerts,onCheckedChange:v=>l(y=>({...y,loginAlerts:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Alertes de sécurité"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les événements de sécurité"})]}),r.jsx(Fr,{checked:o.securityAlerts,onCheckedChange:v=>l(y=>({...y,securityAlerts:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Alertes d'appareil"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouveaux appareils"})]}),r.jsx(Fr,{checked:o.deviceAlerts,onCheckedChange:v=>l(y=>({...y,deviceAlerts:v}))})]}),r.jsx(qj,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Notifications par email"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par email"})]}),r.jsx(Fr,{checked:o.emailNotifications,onCheckedChange:v=>l(y=>({...y,emailNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Notifications SMS"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par SMS"})]}),r.jsx(Fr,{checked:o.smsNotifications,onCheckedChange:v=>l(y=>({...y,smsNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Notifications push"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes push"})]}),r.jsx(Fr,{checked:o.pushNotifications,onCheckedChange:v=>l(y=>({...y,pushNotifications:v}))})]})]}),r.jsxs(V,{onClick:f,className:"w-full gap-2",children:[r.jsx(kp,{className:"h-4 w-4"}),"Sauvegarder les paramètres de notification"]})]})]})]})]}):null}function N6e(){const[e,t]=w.useState(""),[n,s]=w.useState(""),[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(""),[d,f]=w.useState(!1),[m,g]=w.useState(!1),x=Yf(),{toast:v}=$t();Rae(),w.useEffect(()=>{(async()=>{try{const{data:{session:j},error:_}=await Vt.auth.getSession();if(_){u("Lien de réinitialisation invalide ou expiré");return}j?g(!0):u("Lien de réinitialisation invalide ou expiré")}catch{u("Erreur lors de la vérification du lien de réinitialisation")}})()},[]);const y=b=>b.length<8?"Le mot de passe doit contenir au moins 8 caractères":/[A-Z]/.test(b)?/[a-z]/.test(b)?/\d/.test(b)?/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?]/.test(b)?null:"Le mot de passe doit contenir au moins un caractère spécial":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une lettre minuscule":"Le mot de passe doit contenir au moins une lettre majuscule",N=async b=>{if(b.preventDefault(),u(""),!e||!n){v({title:"Champs requis",description:"Veuillez remplir tous les champs",variant:"destructive"});return}if(e!==n){v({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"});return}const j=y(e);if(j){v({title:"Mot de passe invalide",description:j,variant:"destructive"});return}f(!0);try{const{error:_}=await Vt.auth.updateUser({password:e});if(_)throw _;v({title:"Mot de passe mis à jour",description:"Votre mot de passe a été réinitialisé avec succès."}),x("/login")}catch(_){u(_ instanceof Error?_.message:"Une erreur est survenue lors de la mise à jour du mot de passe")}finally{f(!1)}};return!m&&!c?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsx(de,{className:"w-full max-w-md",children:r.jsxs(he,{className:"pt-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(ka,{className:"h-8 w-8 animate-spin"})}),r.jsx("p",{className:"text-center mt-4 text-sm text-muted-foreground",children:"Vérification du lien de réinitialisation..."})]})})}):c?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsxs(de,{className:"w-full max-w-md",children:[r.jsxs(_e,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:r.jsx(Wt,{className:"h-8 w-8 text-red-600"})})}),r.jsx(Pe,{className:"text-2xl font-bold text-red-600",children:"Lien invalide"})]}),r.jsxs(he,{children:[r.jsx(T0,{className:"mb-4",children:r.jsx(O0,{children:c})}),r.jsx(V,{onClick:()=>x("/login"),className:"w-full",children:"Retour à la connexion"})]})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsxs(de,{className:"w-full max-w-md",children:[r.jsxs(_e,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:r.jsx(Wt,{className:"h-8 w-8 text-primary"})})}),r.jsx(Pe,{className:"text-2xl font-bold",children:"VetPro CRM3"}),r.jsx(lf,{children:"Définir un nouveau mot de passe"})]}),r.jsx(he,{children:r.jsxs("form",{onSubmit:N,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"password",children:"Nouveau mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(se,{id:"password",type:i?"text":"password",value:e,onChange:b=>t(b.target.value),placeholder:"Votre nouveau mot de passe",required:!0}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),children:i?r.jsx(GC,{className:"h-4 w-4"}):r.jsx(Ir,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Le mot de passe doit contenir au moins 8 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(se,{id:"confirmPassword",type:o?"text":"password",value:n,onChange:b=>s(b.target.value),placeholder:"Confirmer votre nouveau mot de passe",required:!0}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!o),children:o?r.jsx(GC,{className:"h-4 w-4"}):r.jsx(Ir,{className:"h-4 w-4"})})]})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:d,children:d?r.jsxs(r.Fragment,{children:[r.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour..."]}):"Mettre à jour le mot de passe"})]})})]})})}const S6e=new Sie({defaultOptions:{queries:{retry:(e,t)=>(t==null?void 0:t.status)>=400&&(t==null?void 0:t.status)<500?!1:e<2,staleTime:3*60*1e3,gcTime:8*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:"always",refetchOnMount:!0,networkMode:"offlineFirst"},mutations:{retry:1,networkMode:"offlineFirst"}}}),C6e=()=>r.jsx(Kde,{children:r.jsx(Cie,{client:S6e,children:r.jsxs(eie,{children:[r.jsx(Lne,{}),r.jsx(gre,{}),r.jsx(Hde,{children:r.jsx(oE,{children:r.jsx(jfe,{children:r.jsx(Fae,{children:r.jsx(Dae,{children:r.jsx("div",{className:"min-h-screen bg-background",children:r.jsxs(Cae,{children:[r.jsx(rr,{path:"/",element:r.jsx(nhe,{})}),r.jsx(rr,{path:"/login",element:r.jsx(the,{children:r.jsx(ehe,{})})}),r.jsx(rr,{path:"/register",element:r.jsx(rhe,{})}),r.jsx(rr,{path:"/dashboard",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(WFe,{})]})}),r.jsx(rr,{path:"/clients",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(KFe,{})]})}),r.jsx(rr,{path:"/pets",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(ZFe,{})]})}),r.jsx(rr,{path:"/appointments",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(r5e,{})]})}),r.jsx(rr,{path:"/consultations",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(a5e,{})]})}),r.jsx(rr,{path:"/history",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(c5e,{})]})}),r.jsx(rr,{path:"/farm",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(p5e,{})]})}),r.jsx(rr,{path:"/vaccinations",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(X5e,{})]})}),r.jsx(rr,{path:"/antiparasites",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(Z5e,{})]})}),r.jsx(rr,{path:"/stock",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(o6e,{})]})}),r.jsx(rr,{path:"/accounting",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(c6e,{})]})}),r.jsx(rr,{path:"/test-stats",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(d6e,{})]})}),r.jsx(rr,{path:"/simple-test",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(f6e,{})]})}),r.jsx(rr,{path:"/settings",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(v6e,{})]})}),r.jsx(rr,{path:"/profile",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(b6e,{})]})}),r.jsx(rr,{path:"/auth-settings",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(w6e,{})]})}),r.jsx(rr,{path:"/reset-password",element:r.jsx(N6e,{})}),r.jsx(rr,{path:"*",element:r.jsx(m6e,{})})]})})})})})})})]})})});b5(document.getElementById("root")).render(r.jsx(C6e,{}));
