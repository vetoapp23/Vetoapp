var Z2=e=>{throw TypeError(e)};var Vy=(e,t,n)=>t.has(e)||Z2("Cannot "+n);var X=(e,t,n)=>(Vy(e,t,"read from private field"),n?n.call(e):t.get(e)),Fe=(e,t,n)=>t.has(e)?Z2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ke=(e,t,n,r)=>(Vy(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ot=(e,t,n)=>(Vy(e,t,"access private method"),n);var Dm=(e,t,n,r)=>({set _(a){ke(e,t,a,n)},get _(){return X(e,t,r)}});function q8(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ct(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function W8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var hO={exports:{}},Gv={},fO={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am=Symbol.for("react.element"),H8=Symbol.for("react.portal"),K8=Symbol.for("react.fragment"),G8=Symbol.for("react.strict_mode"),Y8=Symbol.for("react.profiler"),Q8=Symbol.for("react.provider"),X8=Symbol.for("react.context"),J8=Symbol.for("react.forward_ref"),Z8=Symbol.for("react.suspense"),eB=Symbol.for("react.memo"),tB=Symbol.for("react.lazy"),eC=Symbol.iterator;function nB(e){return e===null||typeof e!="object"?null:(e=eC&&e[eC]||e["@@iterator"],typeof e=="function"?e:null)}var mO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pO=Object.assign,gO={};function cd(e,t,n){this.props=e,this.context=t,this.refs=gO,this.updater=n||mO}cd.prototype.isReactComponent={};cd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vO(){}vO.prototype=cd.prototype;function UN(e,t,n){this.props=e,this.context=t,this.refs=gO,this.updater=n||mO}var qN=UN.prototype=new vO;qN.constructor=UN;pO(qN,cd.prototype);qN.isPureReactComponent=!0;var tC=Array.isArray,xO=Object.prototype.hasOwnProperty,WN={current:null},yO={key:!0,ref:!0,__self:!0,__source:!0};function jO(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)xO.call(t,r)&&!yO.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:am,type:e,key:i,ref:o,props:a,_owner:WN.current}}function rB(e,t){return{$$typeof:am,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function HN(e){return typeof e=="object"&&e!==null&&e.$$typeof===am}function sB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var nC=/\/+/g;function Uy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sB(""+e.key):t.toString(36)}function Mp(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case am:case H8:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Uy(o,0):r,tC(a)?(n="",e!=null&&(n=e.replace(nC,"$&/")+"/"),Mp(a,t,n,"",function(u){return u})):a!=null&&(HN(a)&&(a=rB(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(nC,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",tC(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Uy(i,l);o+=Mp(i,t,n,c,a)}else if(c=nB(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Uy(i,l++),o+=Mp(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Mm(e,t,n){if(e==null)return e;var r=[],a=0;return Mp(e,r,"","",function(i){return t.call(n,i,a++)}),r}function aB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cr={current:null},Ip={transition:null},iB={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:Ip,ReactCurrentOwner:WN};function bO(){throw Error("act(...) is not supported in production builds of React.")}mt.Children={map:Mm,forEach:function(e,t,n){Mm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mm(e,function(){t++}),t},toArray:function(e){return Mm(e,function(t){return t})||[]},only:function(e){if(!HN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};mt.Component=cd;mt.Fragment=K8;mt.Profiler=Y8;mt.PureComponent=UN;mt.StrictMode=G8;mt.Suspense=Z8;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iB;mt.act=bO;mt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pO({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=WN.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)xO.call(t,c)&&!yO.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:am,type:e.type,key:a,ref:i,props:r,_owner:o}};mt.createContext=function(e){return e={$$typeof:X8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Q8,_context:e},e.Consumer=e};mt.createElement=jO;mt.createFactory=function(e){var t=jO.bind(null,e);return t.type=e,t};mt.createRef=function(){return{current:null}};mt.forwardRef=function(e){return{$$typeof:J8,render:e}};mt.isValidElement=HN;mt.lazy=function(e){return{$$typeof:tB,_payload:{_status:-1,_result:e},_init:aB}};mt.memo=function(e,t){return{$$typeof:eB,type:e,compare:t===void 0?null:t}};mt.startTransition=function(e){var t=Ip.transition;Ip.transition={};try{e()}finally{Ip.transition=t}};mt.unstable_act=bO;mt.useCallback=function(e,t){return Cr.current.useCallback(e,t)};mt.useContext=function(e){return Cr.current.useContext(e)};mt.useDebugValue=function(){};mt.useDeferredValue=function(e){return Cr.current.useDeferredValue(e)};mt.useEffect=function(e,t){return Cr.current.useEffect(e,t)};mt.useId=function(){return Cr.current.useId()};mt.useImperativeHandle=function(e,t,n){return Cr.current.useImperativeHandle(e,t,n)};mt.useInsertionEffect=function(e,t){return Cr.current.useInsertionEffect(e,t)};mt.useLayoutEffect=function(e,t){return Cr.current.useLayoutEffect(e,t)};mt.useMemo=function(e,t){return Cr.current.useMemo(e,t)};mt.useReducer=function(e,t,n){return Cr.current.useReducer(e,t,n)};mt.useRef=function(e){return Cr.current.useRef(e)};mt.useState=function(e){return Cr.current.useState(e)};mt.useSyncExternalStore=function(e,t,n){return Cr.current.useSyncExternalStore(e,t,n)};mt.useTransition=function(){return Cr.current.useTransition()};mt.version="18.3.1";fO.exports=mt;var b=fO.exports;const $=Ct(b),KN=q8({__proto__:null,default:$},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oB=b,lB=Symbol.for("react.element"),cB=Symbol.for("react.fragment"),uB=Object.prototype.hasOwnProperty,dB=oB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hB={key:!0,ref:!0,__self:!0,__source:!0};function wO(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)uB.call(t,r)&&!hB.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:lB,type:e,key:i,ref:o,props:a,_owner:dB.current}}Gv.Fragment=cB;Gv.jsx=wO;Gv.jsxs=wO;hO.exports=Gv;var s=hO.exports,NO={exports:{}},ls={},SO={exports:{}},CO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,I){var U=T.length;T.push(I);e:for(;0<U;){var H=U-1>>>1,Z=T[H];if(0<a(Z,I))T[H]=I,T[U]=Z,U=H;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var I=T[0],U=T.pop();if(U!==I){T[0]=U;e:for(var H=0,Z=T.length,ae=Z>>>1;H<ae;){var se=2*(H+1)-1,me=T[se],xe=se+1,le=T[xe];if(0>a(me,U))xe<Z&&0>a(le,me)?(T[H]=le,T[xe]=U,H=xe):(T[H]=me,T[se]=U,H=se);else if(xe<Z&&0>a(le,U))T[H]=le,T[xe]=U,H=xe;else break e}}return I}function a(T,I){var U=T.sortIndex-I.sortIndex;return U!==0?U:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(T){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=T)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function N(T){if(p=!1,j(T),!g)if(n(c)!==null)g=!0,z(w);else{var I=n(u);I!==null&&W(N,I.startTime-T)}}function w(T,I){g=!1,p&&(p=!1,x(_),_=-1),m=!0;var U=f;try{for(j(I),h=n(c);h!==null&&(!(h.expirationTime>I)||T&&!P());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var Z=H(h.expirationTime<=I);I=e.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(c)&&r(c),j(I)}else r(c);h=n(c)}if(h!==null)var ae=!0;else{var se=n(u);se!==null&&W(N,se.startTime-I),ae=!1}return ae}finally{h=null,f=U,m=!1}}var C=!1,S=null,_=-1,k=5,E=-1;function P(){return!(e.unstable_now()-E<k)}function A(){if(S!==null){var T=e.unstable_now();E=T;var I=!0;try{I=S(!0,T)}finally{I?R():(C=!1,S=null)}}else C=!1}var R;if(typeof y=="function")R=function(){y(A)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,K=M.port2;M.port1.onmessage=A,R=function(){K.postMessage(null)}}else R=function(){v(A,0)};function z(T){S=T,C||(C=!0,R())}function W(T,I){_=v(function(){T(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,z(w))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var U=f;f=I;try{return T()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var U=f;f=T;try{return I()}finally{f=U}},e.unstable_scheduleCallback=function(T,I,U){var H=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?H+U:H):U=H,T){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=U+Z,T={id:d++,callback:I,priorityLevel:T,startTime:U,expirationTime:Z,sortIndex:-1},U>H?(T.sortIndex=U,t(u,T),n(c)===null&&T===n(u)&&(p?(x(_),_=-1):p=!0,W(N,U-H))):(T.sortIndex=Z,t(c,T),g||m||(g=!0,z(w))),T},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(T){var I=f;return function(){var U=f;f=I;try{return T.apply(this,arguments)}finally{f=U}}}})(CO);SO.exports=CO;var fB=SO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mB=b,os=fB;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _O=new Set,qh={};function Xl(e,t){yu(e,t),yu(e+"Capture",t)}function yu(e,t){for(qh[e]=t,e=0;e<t.length;e++)_O.add(t[e])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gj=Object.prototype.hasOwnProperty,pB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rC={},sC={};function gB(e){return gj.call(sC,e)?!0:gj.call(rC,e)?!1:pB.test(e)?sC[e]=!0:(rC[e]=!0,!1)}function vB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xB(e,t,n,r){if(t===null||typeof t>"u"||vB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _r(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new _r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new _r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new _r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new _r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new _r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new _r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new _r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new _r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new _r(e,5,!1,e.toLowerCase(),null,!1,!1)});var GN=/[\-:]([a-z])/g;function YN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(GN,YN);Xn[t]=new _r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(GN,YN);Xn[t]=new _r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(GN,YN);Xn[t]=new _r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new _r(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new _r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new _r(e,1,!1,e.toLowerCase(),null,!0,!0)});function QN(e,t,n,r){var a=Xn.hasOwnProperty(t)?Xn[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xB(t,n,a,r)&&(n=null),r||a===null?gB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ai=mB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Im=Symbol.for("react.element"),Tc=Symbol.for("react.portal"),Ec=Symbol.for("react.fragment"),XN=Symbol.for("react.strict_mode"),vj=Symbol.for("react.profiler"),PO=Symbol.for("react.provider"),AO=Symbol.for("react.context"),JN=Symbol.for("react.forward_ref"),xj=Symbol.for("react.suspense"),yj=Symbol.for("react.suspense_list"),ZN=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),kO=Symbol.for("react.offscreen"),aC=Symbol.iterator;function Ud(e){return e===null||typeof e!="object"?null:(e=aC&&e[aC]||e["@@iterator"],typeof e=="function"?e:null)}var an=Object.assign,qy;function mh(e){if(qy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qy=t&&t[1]||""}return`
`+qy+e}var Wy=!1;function Hy(e,t){if(!e||Wy)return"";Wy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Wy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mh(e):""}function yB(e){switch(e.tag){case 5:return mh(e.type);case 16:return mh("Lazy");case 13:return mh("Suspense");case 19:return mh("SuspenseList");case 0:case 2:case 15:return e=Hy(e.type,!1),e;case 11:return e=Hy(e.type.render,!1),e;case 1:return e=Hy(e.type,!0),e;default:return""}}function jj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ec:return"Fragment";case Tc:return"Portal";case vj:return"Profiler";case XN:return"StrictMode";case xj:return"Suspense";case yj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case AO:return(e.displayName||"Context")+".Consumer";case PO:return(e._context.displayName||"Context")+".Provider";case JN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ZN:return t=e.displayName||null,t!==null?t:jj(e.type)||"Memo";case Wi:t=e._payload,e=e._init;try{return jj(e(t))}catch{}}return null}function jB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jj(t);case 8:return t===XN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _o(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function TO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bB(e){var t=TO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $m(e){e._valueTracker||(e._valueTracker=bB(e))}function EO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=TO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bj(e,t){var n=t.checked;return an({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function iC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_o(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function OO(e,t){t=t.checked,t!=null&&QN(e,"checked",t,!1)}function wj(e,t){OO(e,t);var n=_o(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nj(e,t.type,n):t.hasOwnProperty("defaultValue")&&Nj(e,t.type,_o(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Nj(e,t,n){(t!=="number"||Zp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ph=Array.isArray;function Kc(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_o(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Sj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return an({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ve(92));if(ph(n)){if(1<n.length)throw Error(ve(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_o(n)}}function DO(e,t){var n=_o(t.value),r=_o(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function cC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function MO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?MO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rm,IO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rm=Rm||document.createElement("div"),Rm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wB=["Webkit","ms","Moz","O"];Object.keys(Nh).forEach(function(e){wB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nh[t]=Nh[e]})});function $O(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nh.hasOwnProperty(e)&&Nh[e]?(""+t).trim():t+"px"}function RO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=$O(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var NB=an({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _j(e,t){if(t){if(NB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function Pj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Aj=null;function e1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kj=null,Gc=null,Yc=null;function uC(e){if(e=lm(e)){if(typeof kj!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=Zv(t),kj(e.stateNode,e.type,t))}}function LO(e){Gc?Yc?Yc.push(e):Yc=[e]:Gc=e}function FO(){if(Gc){var e=Gc,t=Yc;if(Yc=Gc=null,uC(e),t)for(e=0;e<t.length;e++)uC(t[e])}}function BO(e,t){return e(t)}function zO(){}var Ky=!1;function VO(e,t,n){if(Ky)return e(t,n);Ky=!0;try{return BO(e,t,n)}finally{Ky=!1,(Gc!==null||Yc!==null)&&(zO(),FO())}}function Hh(e,t){var n=e.stateNode;if(n===null)return null;var r=Zv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ve(231,t,typeof n));return n}var Tj=!1;if(gi)try{var qd={};Object.defineProperty(qd,"passive",{get:function(){Tj=!0}}),window.addEventListener("test",qd,qd),window.removeEventListener("test",qd,qd)}catch{Tj=!1}function SB(e,t,n,r,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Sh=!1,eg=null,tg=!1,Ej=null,CB={onError:function(e){Sh=!0,eg=e}};function _B(e,t,n,r,a,i,o,l,c){Sh=!1,eg=null,SB.apply(CB,arguments)}function PB(e,t,n,r,a,i,o,l,c){if(_B.apply(this,arguments),Sh){if(Sh){var u=eg;Sh=!1,eg=null}else throw Error(ve(198));tg||(tg=!0,Ej=u)}}function Jl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function UO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dC(e){if(Jl(e)!==e)throw Error(ve(188))}function AB(e){var t=e.alternate;if(!t){if(t=Jl(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return dC(a),e;if(i===r)return dC(a),t;i=i.sibling}throw Error(ve(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?e:t}function qO(e){return e=AB(e),e!==null?WO(e):null}function WO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=WO(e);if(t!==null)return t;e=e.sibling}return null}var HO=os.unstable_scheduleCallback,hC=os.unstable_cancelCallback,kB=os.unstable_shouldYield,TB=os.unstable_requestPaint,fn=os.unstable_now,EB=os.unstable_getCurrentPriorityLevel,t1=os.unstable_ImmediatePriority,KO=os.unstable_UserBlockingPriority,ng=os.unstable_NormalPriority,OB=os.unstable_LowPriority,GO=os.unstable_IdlePriority,Yv=null,Ta=null;function DB(e){if(Ta&&typeof Ta.onCommitFiberRoot=="function")try{Ta.onCommitFiberRoot(Yv,e,void 0,(e.current.flags&128)===128)}catch{}}var Js=Math.clz32?Math.clz32:$B,MB=Math.log,IB=Math.LN2;function $B(e){return e>>>=0,e===0?32:31-(MB(e)/IB|0)|0}var Lm=64,Fm=4194304;function gh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=gh(l):(i&=o,i!==0&&(r=gh(i)))}else o=n&~a,o!==0?r=gh(o):i!==0&&(r=gh(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Js(t),a=1<<n,r|=e[n],t&=~a;return r}function RB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Js(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=RB(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Oj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function YO(){var e=Lm;return Lm<<=1,!(Lm&4194240)&&(Lm=64),e}function Gy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function im(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Js(t),e[t]=n}function FB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Js(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function n1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Js(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Tt=0;function QO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var XO,r1,JO,ZO,eD,Dj=!1,Bm=[],mo=null,po=null,go=null,Kh=new Map,Gh=new Map,Gi=[],BB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fC(e,t){switch(e){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":Kh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gh.delete(t.pointerId)}}function Wd(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=lm(t),t!==null&&r1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function zB(e,t,n,r,a){switch(t){case"focusin":return mo=Wd(mo,e,t,n,r,a),!0;case"dragenter":return po=Wd(po,e,t,n,r,a),!0;case"mouseover":return go=Wd(go,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Kh.set(i,Wd(Kh.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Gh.set(i,Wd(Gh.get(i)||null,e,t,n,r,a)),!0}return!1}function tD(e){var t=il(e.target);if(t!==null){var n=Jl(t);if(n!==null){if(t=n.tag,t===13){if(t=UO(n),t!==null){e.blockedOn=t,eD(e.priority,function(){JO(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $p(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Mj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Aj=r,n.target.dispatchEvent(r),Aj=null}else return t=lm(n),t!==null&&r1(t),e.blockedOn=n,!1;t.shift()}return!0}function mC(e,t,n){$p(e)&&n.delete(t)}function VB(){Dj=!1,mo!==null&&$p(mo)&&(mo=null),po!==null&&$p(po)&&(po=null),go!==null&&$p(go)&&(go=null),Kh.forEach(mC),Gh.forEach(mC)}function Hd(e,t){e.blockedOn===t&&(e.blockedOn=null,Dj||(Dj=!0,os.unstable_scheduleCallback(os.unstable_NormalPriority,VB)))}function Yh(e){function t(a){return Hd(a,e)}if(0<Bm.length){Hd(Bm[0],e);for(var n=1;n<Bm.length;n++){var r=Bm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(mo!==null&&Hd(mo,e),po!==null&&Hd(po,e),go!==null&&Hd(go,e),Kh.forEach(t),Gh.forEach(t),n=0;n<Gi.length;n++)r=Gi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)tD(n),n.blockedOn===null&&Gi.shift()}var Qc=Ai.ReactCurrentBatchConfig,sg=!0;function UB(e,t,n,r){var a=Tt,i=Qc.transition;Qc.transition=null;try{Tt=1,s1(e,t,n,r)}finally{Tt=a,Qc.transition=i}}function qB(e,t,n,r){var a=Tt,i=Qc.transition;Qc.transition=null;try{Tt=4,s1(e,t,n,r)}finally{Tt=a,Qc.transition=i}}function s1(e,t,n,r){if(sg){var a=Mj(e,t,n,r);if(a===null)s0(e,t,r,ag,n),fC(e,r);else if(zB(a,e,t,n,r))r.stopPropagation();else if(fC(e,r),t&4&&-1<BB.indexOf(e)){for(;a!==null;){var i=lm(a);if(i!==null&&XO(i),i=Mj(e,t,n,r),i===null&&s0(e,t,r,ag,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else s0(e,t,r,null,n)}}var ag=null;function Mj(e,t,n,r){if(ag=null,e=e1(r),e=il(e),e!==null)if(t=Jl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=UO(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ag=e,null}function nD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EB()){case t1:return 1;case KO:return 4;case ng:case OB:return 16;case GO:return 536870912;default:return 16}default:return 16}}var lo=null,a1=null,Rp=null;function rD(){if(Rp)return Rp;var e,t=a1,n=t.length,r,a="value"in lo?lo.value:lo.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Rp=a.slice(e,1<r?1-r:void 0)}function Lp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zm(){return!0}function pC(){return!1}function cs(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?zm:pC,this.isPropagationStopped=pC,this}return an(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zm)},persist:function(){},isPersistent:zm}),t}var ud={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i1=cs(ud),om=an({},ud,{view:0,detail:0}),WB=cs(om),Yy,Qy,Kd,Qv=an({},om,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kd&&(Kd&&e.type==="mousemove"?(Yy=e.screenX-Kd.screenX,Qy=e.screenY-Kd.screenY):Qy=Yy=0,Kd=e),Yy)},movementY:function(e){return"movementY"in e?e.movementY:Qy}}),gC=cs(Qv),HB=an({},Qv,{dataTransfer:0}),KB=cs(HB),GB=an({},om,{relatedTarget:0}),Xy=cs(GB),YB=an({},ud,{animationName:0,elapsedTime:0,pseudoElement:0}),QB=cs(YB),XB=an({},ud,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),JB=cs(XB),ZB=an({},ud,{data:0}),vC=cs(ZB),ez={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nz[e])?!!t[e]:!1}function o1(){return rz}var sz=an({},om,{key:function(e){if(e.key){var t=ez[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o1,charCode:function(e){return e.type==="keypress"?Lp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),az=cs(sz),iz=an({},Qv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xC=cs(iz),oz=an({},om,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o1}),lz=cs(oz),cz=an({},ud,{propertyName:0,elapsedTime:0,pseudoElement:0}),uz=cs(cz),dz=an({},Qv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hz=cs(dz),fz=[9,13,27,32],l1=gi&&"CompositionEvent"in window,Ch=null;gi&&"documentMode"in document&&(Ch=document.documentMode);var mz=gi&&"TextEvent"in window&&!Ch,sD=gi&&(!l1||Ch&&8<Ch&&11>=Ch),yC=" ",jC=!1;function aD(e,t){switch(e){case"keyup":return fz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oc=!1;function pz(e,t){switch(e){case"compositionend":return iD(t);case"keypress":return t.which!==32?null:(jC=!0,yC);case"textInput":return e=t.data,e===yC&&jC?null:e;default:return null}}function gz(e,t){if(Oc)return e==="compositionend"||!l1&&aD(e,t)?(e=rD(),Rp=a1=lo=null,Oc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sD&&t.locale!=="ko"?null:t.data;default:return null}}var vz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vz[e.type]:t==="textarea"}function oD(e,t,n,r){LO(r),t=ig(t,"onChange"),0<t.length&&(n=new i1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _h=null,Qh=null;function xz(e){xD(e,0)}function Xv(e){var t=Ic(e);if(EO(t))return e}function yz(e,t){if(e==="change")return t}var lD=!1;if(gi){var Jy;if(gi){var Zy="oninput"in document;if(!Zy){var wC=document.createElement("div");wC.setAttribute("oninput","return;"),Zy=typeof wC.oninput=="function"}Jy=Zy}else Jy=!1;lD=Jy&&(!document.documentMode||9<document.documentMode)}function NC(){_h&&(_h.detachEvent("onpropertychange",cD),Qh=_h=null)}function cD(e){if(e.propertyName==="value"&&Xv(Qh)){var t=[];oD(t,Qh,e,e1(e)),VO(xz,t)}}function jz(e,t,n){e==="focusin"?(NC(),_h=t,Qh=n,_h.attachEvent("onpropertychange",cD)):e==="focusout"&&NC()}function bz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xv(Qh)}function wz(e,t){if(e==="click")return Xv(t)}function Nz(e,t){if(e==="input"||e==="change")return Xv(t)}function Sz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var na=typeof Object.is=="function"?Object.is:Sz;function Xh(e,t){if(na(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!gj.call(t,a)||!na(e[a],t[a]))return!1}return!0}function SC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function CC(e,t){var n=SC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=SC(n)}}function uD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dD(){for(var e=window,t=Zp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zp(e.document)}return t}function c1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Cz(e){var t=dD(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uD(n.ownerDocument.documentElement,n)){if(r!==null&&c1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=CC(n,i);var o=CC(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _z=gi&&"documentMode"in document&&11>=document.documentMode,Dc=null,Ij=null,Ph=null,$j=!1;function _C(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$j||Dc==null||Dc!==Zp(r)||(r=Dc,"selectionStart"in r&&c1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ph&&Xh(Ph,r)||(Ph=r,r=ig(Ij,"onSelect"),0<r.length&&(t=new i1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Dc)))}function Vm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mc={animationend:Vm("Animation","AnimationEnd"),animationiteration:Vm("Animation","AnimationIteration"),animationstart:Vm("Animation","AnimationStart"),transitionend:Vm("Transition","TransitionEnd")},e0={},hD={};gi&&(hD=document.createElement("div").style,"AnimationEvent"in window||(delete Mc.animationend.animation,delete Mc.animationiteration.animation,delete Mc.animationstart.animation),"TransitionEvent"in window||delete Mc.transitionend.transition);function Jv(e){if(e0[e])return e0[e];if(!Mc[e])return e;var t=Mc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hD)return e0[e]=t[n];return e}var fD=Jv("animationend"),mD=Jv("animationiteration"),pD=Jv("animationstart"),gD=Jv("transitionend"),vD=new Map,PC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oo(e,t){vD.set(e,t),Xl(t,[e])}for(var t0=0;t0<PC.length;t0++){var n0=PC[t0],Pz=n0.toLowerCase(),Az=n0[0].toUpperCase()+n0.slice(1);Oo(Pz,"on"+Az)}Oo(fD,"onAnimationEnd");Oo(mD,"onAnimationIteration");Oo(pD,"onAnimationStart");Oo("dblclick","onDoubleClick");Oo("focusin","onFocus");Oo("focusout","onBlur");Oo(gD,"onTransitionEnd");yu("onMouseEnter",["mouseout","mouseover"]);yu("onMouseLeave",["mouseout","mouseover"]);yu("onPointerEnter",["pointerout","pointerover"]);yu("onPointerLeave",["pointerout","pointerover"]);Xl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kz=new Set("cancel close invalid load scroll toggle".split(" ").concat(vh));function AC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,PB(r,t,void 0,e),e.currentTarget=null}function xD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;AC(a,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;AC(a,l,u),i=c}}}if(tg)throw e=Ej,tg=!1,Ej=null,e}function Gt(e,t){var n=t[zj];n===void 0&&(n=t[zj]=new Set);var r=e+"__bubble";n.has(r)||(yD(t,e,2,!1),n.add(r))}function r0(e,t,n){var r=0;t&&(r|=4),yD(n,e,r,t)}var Um="_reactListening"+Math.random().toString(36).slice(2);function Jh(e){if(!e[Um]){e[Um]=!0,_O.forEach(function(n){n!=="selectionchange"&&(kz.has(n)||r0(n,!1,e),r0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Um]||(t[Um]=!0,r0("selectionchange",!1,t))}}function yD(e,t,n,r){switch(nD(t)){case 1:var a=UB;break;case 4:a=qB;break;default:a=s1}n=a.bind(null,t,n,e),a=void 0,!Tj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function s0(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=il(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}VO(function(){var u=i,d=e1(n),h=[];e:{var f=vD.get(e);if(f!==void 0){var m=i1,g=e;switch(e){case"keypress":if(Lp(n)===0)break e;case"keydown":case"keyup":m=az;break;case"focusin":g="focus",m=Xy;break;case"focusout":g="blur",m=Xy;break;case"beforeblur":case"afterblur":m=Xy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=gC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=KB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=lz;break;case fD:case mD:case pD:m=QB;break;case gD:m=uz;break;case"scroll":m=WB;break;case"wheel":m=hz;break;case"copy":case"cut":case"paste":m=JB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=xC}var p=(t&4)!==0,v=!p&&e==="scroll",x=p?f!==null?f+"Capture":null:f;p=[];for(var y=u,j;y!==null;){j=y;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,x!==null&&(N=Hh(y,x),N!=null&&p.push(Zh(y,N,j)))),v)break;y=y.return}0<p.length&&(f=new m(f,g,null,n,d),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Aj&&(g=n.relatedTarget||n.fromElement)&&(il(g)||g[vi]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?il(g):null,g!==null&&(v=Jl(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=gC,N="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=xC,N="onPointerLeave",x="onPointerEnter",y="pointer"),v=m==null?f:Ic(m),j=g==null?f:Ic(g),f=new p(N,y+"leave",m,n,d),f.target=v,f.relatedTarget=j,N=null,il(d)===u&&(p=new p(x,y+"enter",g,n,d),p.target=j,p.relatedTarget=v,N=p),v=N,m&&g)t:{for(p=m,x=g,y=0,j=p;j;j=fc(j))y++;for(j=0,N=x;N;N=fc(N))j++;for(;0<y-j;)p=fc(p),y--;for(;0<j-y;)x=fc(x),j--;for(;y--;){if(p===x||x!==null&&p===x.alternate)break t;p=fc(p),x=fc(x)}p=null}else p=null;m!==null&&kC(h,f,m,p,!1),g!==null&&v!==null&&kC(h,v,g,p,!0)}}e:{if(f=u?Ic(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var w=yz;else if(bC(f))if(lD)w=Nz;else{w=bz;var C=jz}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=wz);if(w&&(w=w(e,u))){oD(h,w,n,d);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Nj(f,"number",f.value)}switch(C=u?Ic(u):window,e){case"focusin":(bC(C)||C.contentEditable==="true")&&(Dc=C,Ij=u,Ph=null);break;case"focusout":Ph=Ij=Dc=null;break;case"mousedown":$j=!0;break;case"contextmenu":case"mouseup":case"dragend":$j=!1,_C(h,n,d);break;case"selectionchange":if(_z)break;case"keydown":case"keyup":_C(h,n,d)}var S;if(l1)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Oc?aD(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(sD&&n.locale!=="ko"&&(Oc||_!=="onCompositionStart"?_==="onCompositionEnd"&&Oc&&(S=rD()):(lo=d,a1="value"in lo?lo.value:lo.textContent,Oc=!0)),C=ig(u,_),0<C.length&&(_=new vC(_,e,null,n,d),h.push({event:_,listeners:C}),S?_.data=S:(S=iD(n),S!==null&&(_.data=S)))),(S=mz?pz(e,n):gz(e,n))&&(u=ig(u,"onBeforeInput"),0<u.length&&(d=new vC("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=S))}xD(h,t)})}function Zh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ig(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Hh(e,n),i!=null&&r.unshift(Zh(e,i,a)),i=Hh(e,t),i!=null&&r.push(Zh(e,i,a))),e=e.return}return r}function fc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kC(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=Hh(n,i),c!=null&&o.unshift(Zh(n,c,l))):a||(c=Hh(n,i),c!=null&&o.push(Zh(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Tz=/\r\n?/g,Ez=/\u0000|\uFFFD/g;function TC(e){return(typeof e=="string"?e:""+e).replace(Tz,`
`).replace(Ez,"")}function qm(e,t,n){if(t=TC(t),TC(e)!==t&&n)throw Error(ve(425))}function og(){}var Rj=null,Lj=null;function Fj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bj=typeof setTimeout=="function"?setTimeout:void 0,Oz=typeof clearTimeout=="function"?clearTimeout:void 0,EC=typeof Promise=="function"?Promise:void 0,Dz=typeof queueMicrotask=="function"?queueMicrotask:typeof EC<"u"?function(e){return EC.resolve(null).then(e).catch(Mz)}:Bj;function Mz(e){setTimeout(function(){throw e})}function a0(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Yh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Yh(t)}function vo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function OC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var dd=Math.random().toString(36).slice(2),wa="__reactFiber$"+dd,ef="__reactProps$"+dd,vi="__reactContainer$"+dd,zj="__reactEvents$"+dd,Iz="__reactListeners$"+dd,$z="__reactHandles$"+dd;function il(e){var t=e[wa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[wa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=OC(e);e!==null;){if(n=e[wa])return n;e=OC(e)}return t}e=n,n=e.parentNode}return null}function lm(e){return e=e[wa]||e[vi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ic(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function Zv(e){return e[ef]||null}var Vj=[],$c=-1;function Do(e){return{current:e}}function Xt(e){0>$c||(e.current=Vj[$c],Vj[$c]=null,$c--)}function qt(e,t){$c++,Vj[$c]=e.current,e.current=t}var Po={},lr=Do(Po),Br=Do(!1),Tl=Po;function ju(e,t){var n=e.type.contextTypes;if(!n)return Po;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function zr(e){return e=e.childContextTypes,e!=null}function lg(){Xt(Br),Xt(lr)}function DC(e,t,n){if(lr.current!==Po)throw Error(ve(168));qt(lr,t),qt(Br,n)}function jD(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(ve(108,jB(e)||"Unknown",a));return an({},n,r)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Po,Tl=lr.current,qt(lr,e),qt(Br,Br.current),!0}function MC(e,t,n){var r=e.stateNode;if(!r)throw Error(ve(169));n?(e=jD(e,t,Tl),r.__reactInternalMemoizedMergedChildContext=e,Xt(Br),Xt(lr),qt(lr,e)):Xt(Br),qt(Br,n)}var ti=null,ex=!1,i0=!1;function bD(e){ti===null?ti=[e]:ti.push(e)}function Rz(e){ex=!0,bD(e)}function Mo(){if(!i0&&ti!==null){i0=!0;var e=0,t=Tt;try{var n=ti;for(Tt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ti=null,ex=!1}catch(a){throw ti!==null&&(ti=ti.slice(e+1)),HO(t1,Mo),a}finally{Tt=t,i0=!1}}return null}var Rc=[],Lc=0,ug=null,dg=0,ys=[],js=0,El=null,ii=1,oi="";function Xo(e,t){Rc[Lc++]=dg,Rc[Lc++]=ug,ug=e,dg=t}function wD(e,t,n){ys[js++]=ii,ys[js++]=oi,ys[js++]=El,El=e;var r=ii;e=oi;var a=32-Js(r)-1;r&=~(1<<a),n+=1;var i=32-Js(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,ii=1<<32-Js(t)+a|n<<a|r,oi=i+e}else ii=1<<i|n<<a|r,oi=e}function u1(e){e.return!==null&&(Xo(e,1),wD(e,1,0))}function d1(e){for(;e===ug;)ug=Rc[--Lc],Rc[Lc]=null,dg=Rc[--Lc],Rc[Lc]=null;for(;e===El;)El=ys[--js],ys[js]=null,oi=ys[--js],ys[js]=null,ii=ys[--js],ys[js]=null}var rs=null,ns=null,en=!1,Ks=null;function ND(e,t){var n=ws(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function IC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rs=e,ns=vo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rs=e,ns=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=El!==null?{id:ii,overflow:oi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ws(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rs=e,ns=null,!0):!1;default:return!1}}function Uj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qj(e){if(en){var t=ns;if(t){var n=t;if(!IC(e,t)){if(Uj(e))throw Error(ve(418));t=vo(n.nextSibling);var r=rs;t&&IC(e,t)?ND(r,n):(e.flags=e.flags&-4097|2,en=!1,rs=e)}}else{if(Uj(e))throw Error(ve(418));e.flags=e.flags&-4097|2,en=!1,rs=e}}}function $C(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rs=e}function Wm(e){if(e!==rs)return!1;if(!en)return $C(e),en=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fj(e.type,e.memoizedProps)),t&&(t=ns)){if(Uj(e))throw SD(),Error(ve(418));for(;t;)ND(e,t),t=vo(t.nextSibling)}if($C(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ns=vo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ns=null}}else ns=rs?vo(e.stateNode.nextSibling):null;return!0}function SD(){for(var e=ns;e;)e=vo(e.nextSibling)}function bu(){ns=rs=null,en=!1}function h1(e){Ks===null?Ks=[e]:Ks.push(e)}var Lz=Ai.ReactCurrentBatchConfig;function Gd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,e))}return e}function Hm(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function RC(e){var t=e._init;return t(e._payload)}function CD(e){function t(x,y){if(e){var j=x.deletions;j===null?(x.deletions=[y],x.flags|=16):j.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=bo(x,y),x.index=0,x.sibling=null,x}function i(x,y,j){return x.index=j,e?(j=x.alternate,j!==null?(j=j.index,j<y?(x.flags|=2,y):j):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,j,N){return y===null||y.tag!==6?(y=f0(j,x.mode,N),y.return=x,y):(y=a(y,j),y.return=x,y)}function c(x,y,j,N){var w=j.type;return w===Ec?d(x,y,j.props.children,N,j.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Wi&&RC(w)===y.type)?(N=a(y,j.props),N.ref=Gd(x,y,j),N.return=x,N):(N=Wp(j.type,j.key,j.props,null,x.mode,N),N.ref=Gd(x,y,j),N.return=x,N)}function u(x,y,j,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==j.containerInfo||y.stateNode.implementation!==j.implementation?(y=m0(j,x.mode,N),y.return=x,y):(y=a(y,j.children||[]),y.return=x,y)}function d(x,y,j,N,w){return y===null||y.tag!==7?(y=_l(j,x.mode,N,w),y.return=x,y):(y=a(y,j),y.return=x,y)}function h(x,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return y=f0(""+y,x.mode,j),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Im:return j=Wp(y.type,y.key,y.props,null,x.mode,j),j.ref=Gd(x,null,y),j.return=x,j;case Tc:return y=m0(y,x.mode,j),y.return=x,y;case Wi:var N=y._init;return h(x,N(y._payload),j)}if(ph(y)||Ud(y))return y=_l(y,x.mode,j,null),y.return=x,y;Hm(x,y)}return null}function f(x,y,j,N){var w=y!==null?y.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return w!==null?null:l(x,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Im:return j.key===w?c(x,y,j,N):null;case Tc:return j.key===w?u(x,y,j,N):null;case Wi:return w=j._init,f(x,y,w(j._payload),N)}if(ph(j)||Ud(j))return w!==null?null:d(x,y,j,N,null);Hm(x,j)}return null}function m(x,y,j,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(j)||null,l(y,x,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Im:return x=x.get(N.key===null?j:N.key)||null,c(y,x,N,w);case Tc:return x=x.get(N.key===null?j:N.key)||null,u(y,x,N,w);case Wi:var C=N._init;return m(x,y,j,C(N._payload),w)}if(ph(N)||Ud(N))return x=x.get(j)||null,d(y,x,N,w,null);Hm(y,N)}return null}function g(x,y,j,N){for(var w=null,C=null,S=y,_=y=0,k=null;S!==null&&_<j.length;_++){S.index>_?(k=S,S=null):k=S.sibling;var E=f(x,S,j[_],N);if(E===null){S===null&&(S=k);break}e&&S&&E.alternate===null&&t(x,S),y=i(E,y,_),C===null?w=E:C.sibling=E,C=E,S=k}if(_===j.length)return n(x,S),en&&Xo(x,_),w;if(S===null){for(;_<j.length;_++)S=h(x,j[_],N),S!==null&&(y=i(S,y,_),C===null?w=S:C.sibling=S,C=S);return en&&Xo(x,_),w}for(S=r(x,S);_<j.length;_++)k=m(S,x,_,j[_],N),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?_:k.key),y=i(k,y,_),C===null?w=k:C.sibling=k,C=k);return e&&S.forEach(function(P){return t(x,P)}),en&&Xo(x,_),w}function p(x,y,j,N){var w=Ud(j);if(typeof w!="function")throw Error(ve(150));if(j=w.call(j),j==null)throw Error(ve(151));for(var C=w=null,S=y,_=y=0,k=null,E=j.next();S!==null&&!E.done;_++,E=j.next()){S.index>_?(k=S,S=null):k=S.sibling;var P=f(x,S,E.value,N);if(P===null){S===null&&(S=k);break}e&&S&&P.alternate===null&&t(x,S),y=i(P,y,_),C===null?w=P:C.sibling=P,C=P,S=k}if(E.done)return n(x,S),en&&Xo(x,_),w;if(S===null){for(;!E.done;_++,E=j.next())E=h(x,E.value,N),E!==null&&(y=i(E,y,_),C===null?w=E:C.sibling=E,C=E);return en&&Xo(x,_),w}for(S=r(x,S);!E.done;_++,E=j.next())E=m(S,x,_,E.value,N),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?_:E.key),y=i(E,y,_),C===null?w=E:C.sibling=E,C=E);return e&&S.forEach(function(A){return t(x,A)}),en&&Xo(x,_),w}function v(x,y,j,N){if(typeof j=="object"&&j!==null&&j.type===Ec&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Im:e:{for(var w=j.key,C=y;C!==null;){if(C.key===w){if(w=j.type,w===Ec){if(C.tag===7){n(x,C.sibling),y=a(C,j.props.children),y.return=x,x=y;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Wi&&RC(w)===C.type){n(x,C.sibling),y=a(C,j.props),y.ref=Gd(x,C,j),y.return=x,x=y;break e}n(x,C);break}else t(x,C);C=C.sibling}j.type===Ec?(y=_l(j.props.children,x.mode,N,j.key),y.return=x,x=y):(N=Wp(j.type,j.key,j.props,null,x.mode,N),N.ref=Gd(x,y,j),N.return=x,x=N)}return o(x);case Tc:e:{for(C=j.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===j.containerInfo&&y.stateNode.implementation===j.implementation){n(x,y.sibling),y=a(y,j.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=m0(j,x.mode,N),y.return=x,x=y}return o(x);case Wi:return C=j._init,v(x,y,C(j._payload),N)}if(ph(j))return g(x,y,j,N);if(Ud(j))return p(x,y,j,N);Hm(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,y!==null&&y.tag===6?(n(x,y.sibling),y=a(y,j),y.return=x,x=y):(n(x,y),y=f0(j,x.mode,N),y.return=x,x=y),o(x)):n(x,y)}return v}var wu=CD(!0),_D=CD(!1),hg=Do(null),fg=null,Fc=null,f1=null;function m1(){f1=Fc=fg=null}function p1(e){var t=hg.current;Xt(hg),e._currentValue=t}function Wj(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xc(e,t){fg=e,f1=Fc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lr=!0),e.firstContext=null)}function _s(e){var t=e._currentValue;if(f1!==e)if(e={context:e,memoizedValue:t,next:null},Fc===null){if(fg===null)throw Error(ve(308));Fc=e,fg.dependencies={lanes:0,firstContext:e}}else Fc=Fc.next=e;return t}var ol=null;function g1(e){ol===null?ol=[e]:ol.push(e)}function PD(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,g1(t)):(n.next=a.next,a.next=n),t.interleaved=n,xi(e,r)}function xi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Hi=!1;function v1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,yt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,xi(e,n)}return a=r.interleaved,a===null?(t.next=t,g1(r)):(t.next=a.next,a.next=t),r.interleaved=t,xi(e,n)}function Fp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,n1(e,n)}}function LC(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function mg(e,t,n,r){var a=e.updateQueue;Hi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(f=t,m=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=an({},h,f);break e;case 2:Hi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=h}}function FC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(ve(191,a));a.call(r)}}}var cm={},Ea=Do(cm),tf=Do(cm),nf=Do(cm);function ll(e){if(e===cm)throw Error(ve(174));return e}function x1(e,t){switch(qt(nf,t),qt(tf,e),qt(Ea,cm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cj(t,e)}Xt(Ea),qt(Ea,t)}function Nu(){Xt(Ea),Xt(tf),Xt(nf)}function kD(e){ll(nf.current);var t=ll(Ea.current),n=Cj(t,e.type);t!==n&&(qt(tf,e),qt(Ea,n))}function y1(e){tf.current===e&&(Xt(Ea),Xt(tf))}var nn=Do(0);function pg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var o0=[];function j1(){for(var e=0;e<o0.length;e++)o0[e]._workInProgressVersionPrimary=null;o0.length=0}var Bp=Ai.ReactCurrentDispatcher,l0=Ai.ReactCurrentBatchConfig,Ol=0,rn=null,kn=null,Bn=null,gg=!1,Ah=!1,rf=0,Fz=0;function tr(){throw Error(ve(321))}function b1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!na(e[n],t[n]))return!1;return!0}function w1(e,t,n,r,a,i){if(Ol=i,rn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bp.current=e===null||e.memoizedState===null?Uz:qz,e=n(r,a),Ah){i=0;do{if(Ah=!1,rf=0,25<=i)throw Error(ve(301));i+=1,Bn=kn=null,t.updateQueue=null,Bp.current=Wz,e=n(r,a)}while(Ah)}if(Bp.current=vg,t=kn!==null&&kn.next!==null,Ol=0,Bn=kn=rn=null,gg=!1,t)throw Error(ve(300));return e}function N1(){var e=rf!==0;return rf=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?rn.memoizedState=Bn=e:Bn=Bn.next=e,Bn}function Ps(){if(kn===null){var e=rn.alternate;e=e!==null?e.memoizedState:null}else e=kn.next;var t=Bn===null?rn.memoizedState:Bn.next;if(t!==null)Bn=t,kn=e;else{if(e===null)throw Error(ve(310));kn=e,e={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},Bn===null?rn.memoizedState=Bn=e:Bn=Bn.next=e}return Bn}function sf(e,t){return typeof t=="function"?t(e):t}function c0(e){var t=Ps(),n=t.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=e;var r=kn,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Ol&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,rn.lanes|=d,Dl|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,na(r,t.memoizedState)||(Lr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,rn.lanes|=i,Dl|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function u0(e){var t=Ps(),n=t.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);na(i,t.memoizedState)||(Lr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function TD(){}function ED(e,t){var n=rn,r=Ps(),a=t(),i=!na(r.memoizedState,a);if(i&&(r.memoizedState=a,Lr=!0),r=r.queue,S1(MD.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Bn!==null&&Bn.memoizedState.tag&1){if(n.flags|=2048,af(9,DD.bind(null,n,r,a,t),void 0,null),Wn===null)throw Error(ve(349));Ol&30||OD(n,t,a)}return a}function OD(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=rn.updateQueue,t===null?(t={lastEffect:null,stores:null},rn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function DD(e,t,n,r){t.value=n,t.getSnapshot=r,ID(t)&&$D(e)}function MD(e,t,n){return n(function(){ID(t)&&$D(e)})}function ID(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!na(e,n)}catch{return!0}}function $D(e){var t=xi(e,1);t!==null&&Zs(t,e,1,-1)}function BC(e){var t=va();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sf,lastRenderedState:e},t.queue=e,e=e.dispatch=Vz.bind(null,rn,e),[t.memoizedState,e]}function af(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=rn.updateQueue,t===null?(t={lastEffect:null,stores:null},rn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function RD(){return Ps().memoizedState}function zp(e,t,n,r){var a=va();rn.flags|=e,a.memoizedState=af(1|t,n,void 0,r===void 0?null:r)}function tx(e,t,n,r){var a=Ps();r=r===void 0?null:r;var i=void 0;if(kn!==null){var o=kn.memoizedState;if(i=o.destroy,r!==null&&b1(r,o.deps)){a.memoizedState=af(t,n,i,r);return}}rn.flags|=e,a.memoizedState=af(1|t,n,i,r)}function zC(e,t){return zp(8390656,8,e,t)}function S1(e,t){return tx(2048,8,e,t)}function LD(e,t){return tx(4,2,e,t)}function FD(e,t){return tx(4,4,e,t)}function BD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zD(e,t,n){return n=n!=null?n.concat([e]):null,tx(4,4,BD.bind(null,t,e),n)}function C1(){}function VD(e,t){var n=Ps();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&b1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function UD(e,t){var n=Ps();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&b1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qD(e,t,n){return Ol&21?(na(n,t)||(n=YO(),rn.lanes|=n,Dl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lr=!0),e.memoizedState=n)}function Bz(e,t){var n=Tt;Tt=n!==0&&4>n?n:4,e(!0);var r=l0.transition;l0.transition={};try{e(!1),t()}finally{Tt=n,l0.transition=r}}function WD(){return Ps().memoizedState}function zz(e,t,n){var r=jo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HD(e))KD(t,n);else if(n=PD(e,t,n,r),n!==null){var a=br();Zs(n,e,r,a),GD(n,t,r)}}function Vz(e,t,n){var r=jo(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HD(e))KD(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,na(l,o)){var c=t.interleaved;c===null?(a.next=a,g1(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=PD(e,t,a,r),n!==null&&(a=br(),Zs(n,e,r,a),GD(n,t,r))}}function HD(e){var t=e.alternate;return e===rn||t!==null&&t===rn}function KD(e,t){Ah=gg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function GD(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,n1(e,n)}}var vg={readContext:_s,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},Uz={readContext:_s,useCallback:function(e,t){return va().memoizedState=[e,t===void 0?null:t],e},useContext:_s,useEffect:zC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zp(4194308,4,BD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zp(4194308,4,e,t)},useInsertionEffect:function(e,t){return zp(4,2,e,t)},useMemo:function(e,t){var n=va();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zz.bind(null,rn,e),[r.memoizedState,e]},useRef:function(e){var t=va();return e={current:e},t.memoizedState=e},useState:BC,useDebugValue:C1,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=BC(!1),t=e[0];return e=Bz.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=rn,a=va();if(en){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=t(),Wn===null)throw Error(ve(349));Ol&30||OD(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,zC(MD.bind(null,r,i,e),[e]),r.flags|=2048,af(9,DD.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=va(),t=Wn.identifierPrefix;if(en){var n=oi,r=ii;n=(r&~(1<<32-Js(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=rf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qz={readContext:_s,useCallback:VD,useContext:_s,useEffect:S1,useImperativeHandle:zD,useInsertionEffect:LD,useLayoutEffect:FD,useMemo:UD,useReducer:c0,useRef:RD,useState:function(){return c0(sf)},useDebugValue:C1,useDeferredValue:function(e){var t=Ps();return qD(t,kn.memoizedState,e)},useTransition:function(){var e=c0(sf)[0],t=Ps().memoizedState;return[e,t]},useMutableSource:TD,useSyncExternalStore:ED,useId:WD,unstable_isNewReconciler:!1},Wz={readContext:_s,useCallback:VD,useContext:_s,useEffect:S1,useImperativeHandle:zD,useInsertionEffect:LD,useLayoutEffect:FD,useMemo:UD,useReducer:u0,useRef:RD,useState:function(){return u0(sf)},useDebugValue:C1,useDeferredValue:function(e){var t=Ps();return kn===null?t.memoizedState=e:qD(t,kn.memoizedState,e)},useTransition:function(){var e=u0(sf)[0],t=Ps().memoizedState;return[e,t]},useMutableSource:TD,useSyncExternalStore:ED,useId:WD,unstable_isNewReconciler:!1};function Bs(e,t){if(e&&e.defaultProps){t=an({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hj(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:an({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nx={isMounted:function(e){return(e=e._reactInternals)?Jl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=br(),a=jo(e),i=di(r,a);i.payload=t,n!=null&&(i.callback=n),t=xo(e,i,a),t!==null&&(Zs(t,e,a,r),Fp(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=br(),a=jo(e),i=di(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=xo(e,i,a),t!==null&&(Zs(t,e,a,r),Fp(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=br(),r=jo(e),a=di(n,r);a.tag=2,t!=null&&(a.callback=t),t=xo(e,a,r),t!==null&&(Zs(t,e,r,n),Fp(t,e,r))}};function VC(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Xh(n,r)||!Xh(a,i):!0}function YD(e,t,n){var r=!1,a=Po,i=t.contextType;return typeof i=="object"&&i!==null?i=_s(i):(a=zr(t)?Tl:lr.current,r=t.contextTypes,i=(r=r!=null)?ju(e,a):Po),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nx,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function UC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nx.enqueueReplaceState(t,t.state,null)}function Kj(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},v1(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=_s(i):(i=zr(t)?Tl:lr.current,a.context=ju(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Hj(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&nx.enqueueReplaceState(a,a.state,null),mg(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Su(e,t){try{var n="",r=t;do n+=yB(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function d0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gj(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Hz=typeof WeakMap=="function"?WeakMap:Map;function QD(e,t,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){yg||(yg=!0,sb=r),Gj(e,t)},n}function XD(e,t,n){n=di(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Gj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Gj(e,t),typeof r!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function qC(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Hz;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=iV.bind(null,e,t,n),t.then(e,e))}function WC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function HC(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=di(-1,1),t.tag=2,xo(n,t,1))),n.lanes|=1),e)}var Kz=Ai.ReactCurrentOwner,Lr=!1;function pr(e,t,n,r){t.child=e===null?_D(t,null,n,r):wu(t,e.child,n,r)}function KC(e,t,n,r,a){n=n.render;var i=t.ref;return Xc(t,a),r=w1(e,t,n,r,i,a),n=N1(),e!==null&&!Lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,yi(e,t,a)):(en&&n&&u1(t),t.flags|=1,pr(e,t,r,a),t.child)}function GC(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!D1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,JD(e,t,i,r,a)):(e=Wp(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xh,n(o,r)&&e.ref===t.ref)return yi(e,t,a)}return t.flags|=1,e=bo(i,r),e.ref=t.ref,e.return=t,t.child=e}function JD(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Xh(i,r)&&e.ref===t.ref)if(Lr=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Lr=!0);else return t.lanes=e.lanes,yi(e,t,a)}return Yj(e,t,n,r,a)}function ZD(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(zc,Xr),Xr|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qt(zc,Xr),Xr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qt(zc,Xr),Xr|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,qt(zc,Xr),Xr|=r;return pr(e,t,a,n),t.child}function eM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yj(e,t,n,r,a){var i=zr(n)?Tl:lr.current;return i=ju(t,i),Xc(t,a),n=w1(e,t,n,r,i,a),r=N1(),e!==null&&!Lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,yi(e,t,a)):(en&&r&&u1(t),t.flags|=1,pr(e,t,n,a),t.child)}function YC(e,t,n,r,a){if(zr(n)){var i=!0;cg(t)}else i=!1;if(Xc(t,a),t.stateNode===null)Vp(e,t),YD(t,n,r),Kj(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=_s(u):(u=zr(n)?Tl:lr.current,u=ju(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&UC(t,o,r,u),Hi=!1;var f=t.memoizedState;o.state=f,mg(t,r,o,a),c=t.memoizedState,l!==r||f!==c||Br.current||Hi?(typeof d=="function"&&(Hj(t,n,d,r),c=t.memoizedState),(l=Hi||VC(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,AD(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Bs(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=_s(c):(c=zr(n)?Tl:lr.current,c=ju(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&UC(t,o,r,c),Hi=!1,f=t.memoizedState,o.state=f,mg(t,r,o,a);var g=t.memoizedState;l!==h||f!==g||Br.current||Hi?(typeof m=="function"&&(Hj(t,n,m,r),g=t.memoizedState),(u=Hi||VC(t,n,u,r,f,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Qj(e,t,n,r,i,a)}function Qj(e,t,n,r,a,i){eM(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&MC(t,n,!1),yi(e,t,i);r=t.stateNode,Kz.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=wu(t,e.child,null,i),t.child=wu(t,null,l,i)):pr(e,t,l,i),t.memoizedState=r.state,a&&MC(t,n,!0),t.child}function tM(e){var t=e.stateNode;t.pendingContext?DC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&DC(e,t.context,!1),x1(e,t.containerInfo)}function QC(e,t,n,r,a){return bu(),h1(a),t.flags|=256,pr(e,t,n,r),t.child}var Xj={dehydrated:null,treeContext:null,retryLane:0};function Jj(e){return{baseLanes:e,cachePool:null,transitions:null}}function nM(e,t,n){var r=t.pendingProps,a=nn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),qt(nn,a&1),e===null)return qj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ax(o,r,0,null),e=_l(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Jj(n),t.memoizedState=Xj,e):_1(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Gz(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=bo(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=bo(l,i):(i=_l(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Jj(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Xj,r}return i=e.child,e=i.sibling,r=bo(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _1(e,t){return t=ax({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Km(e,t,n,r){return r!==null&&h1(r),wu(t,e.child,null,n),e=_1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gz(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=d0(Error(ve(422))),Km(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=ax({mode:"visible",children:r.children},a,0,null),i=_l(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&wu(t,e.child,null,o),t.child.memoizedState=Jj(o),t.memoizedState=Xj,i);if(!(t.mode&1))return Km(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ve(419)),r=d0(i,r,void 0),Km(e,t,o,r)}if(l=(o&e.childLanes)!==0,Lr||l){if(r=Wn,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,xi(e,a),Zs(r,e,a,-1))}return O1(),r=d0(Error(ve(421))),Km(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=oV.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ns=vo(a.nextSibling),rs=t,en=!0,Ks=null,e!==null&&(ys[js++]=ii,ys[js++]=oi,ys[js++]=El,ii=e.id,oi=e.overflow,El=t),t=_1(t,r.children),t.flags|=4096,t)}function XC(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wj(e.return,t,n)}function h0(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function rM(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(pr(e,t,r.children,n),r=nn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&XC(e,n,t);else if(e.tag===19)XC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qt(nn,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&pg(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),h0(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&pg(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}h0(t,!0,n,null,i);break;case"together":h0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,n=bo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=bo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yz(e,t,n){switch(t.tag){case 3:tM(t),bu();break;case 5:kD(t);break;case 1:zr(t.type)&&cg(t);break;case 4:x1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;qt(hg,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qt(nn,nn.current&1),t.flags|=128,null):n&t.child.childLanes?nM(e,t,n):(qt(nn,nn.current&1),e=yi(e,t,n),e!==null?e.sibling:null);qt(nn,nn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rM(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),qt(nn,nn.current),r)break;return null;case 22:case 23:return t.lanes=0,ZD(e,t,n)}return yi(e,t,n)}var sM,Zj,aM,iM;sM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zj=function(){};aM=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ll(Ea.current);var i=null;switch(n){case"input":a=bj(e,a),r=bj(e,r),i=[];break;case"select":a=an({},a,{value:void 0}),r=an({},r,{value:void 0}),i=[];break;case"textarea":a=Sj(e,a),r=Sj(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=og)}_j(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Gt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};iM=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yd(e,t){if(!en)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qz(e,t,n){var r=t.pendingProps;switch(d1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(t),null;case 1:return zr(t.type)&&lg(),nr(t),null;case 3:return r=t.stateNode,Nu(),Xt(Br),Xt(lr),j1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Wm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ks!==null&&(ob(Ks),Ks=null))),Zj(e,t),nr(t),null;case 5:y1(t);var a=ll(nf.current);if(n=t.type,e!==null&&t.stateNode!=null)aM(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ve(166));return nr(t),null}if(e=ll(Ea.current),Wm(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[wa]=t,r[ef]=i,e=(t.mode&1)!==0,n){case"dialog":Gt("cancel",r),Gt("close",r);break;case"iframe":case"object":case"embed":Gt("load",r);break;case"video":case"audio":for(a=0;a<vh.length;a++)Gt(vh[a],r);break;case"source":Gt("error",r);break;case"img":case"image":case"link":Gt("error",r),Gt("load",r);break;case"details":Gt("toggle",r);break;case"input":iC(r,i),Gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Gt("invalid",r);break;case"textarea":lC(r,i),Gt("invalid",r)}_j(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&qm(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qm(r.textContent,l,e),a=["children",""+l]):qh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Gt("scroll",r)}switch(n){case"input":$m(r),oC(r,i,!0);break;case"textarea":$m(r),cC(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=og)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=MO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[wa]=t,e[ef]=r,sM(e,t,!1,!1),t.stateNode=e;e:{switch(o=Pj(n,r),n){case"dialog":Gt("cancel",e),Gt("close",e),a=r;break;case"iframe":case"object":case"embed":Gt("load",e),a=r;break;case"video":case"audio":for(a=0;a<vh.length;a++)Gt(vh[a],e);a=r;break;case"source":Gt("error",e),a=r;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),a=r;break;case"details":Gt("toggle",e),a=r;break;case"input":iC(e,r),a=bj(e,r),Gt("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=an({},r,{value:void 0}),Gt("invalid",e);break;case"textarea":lC(e,r),a=Sj(e,r),Gt("invalid",e);break;default:a=r}_j(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?RO(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&IO(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wh(e,c):typeof c=="number"&&Wh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Gt("scroll",e):c!=null&&QN(e,i,c,o))}switch(n){case"input":$m(e),oC(e,r,!1);break;case"textarea":$m(e),cC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_o(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Kc(e,!!r.multiple,i,!1):r.defaultValue!=null&&Kc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=og)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nr(t),null;case 6:if(e&&t.stateNode!=null)iM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ve(166));if(n=ll(nf.current),ll(Ea.current),Wm(t)){if(r=t.stateNode,n=t.memoizedProps,r[wa]=t,(i=r.nodeValue!==n)&&(e=rs,e!==null))switch(e.tag){case 3:qm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qm(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wa]=t,t.stateNode=r}return nr(t),null;case 13:if(Xt(nn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(en&&ns!==null&&t.mode&1&&!(t.flags&128))SD(),bu(),t.flags|=98560,i=!1;else if(i=Wm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ve(317));i[wa]=t}else bu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nr(t),i=!1}else Ks!==null&&(ob(Ks),Ks=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||nn.current&1?Dn===0&&(Dn=3):O1())),t.updateQueue!==null&&(t.flags|=4),nr(t),null);case 4:return Nu(),Zj(e,t),e===null&&Jh(t.stateNode.containerInfo),nr(t),null;case 10:return p1(t.type._context),nr(t),null;case 17:return zr(t.type)&&lg(),nr(t),null;case 19:if(Xt(nn),i=t.memoizedState,i===null)return nr(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Yd(i,!1);else{if(Dn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=pg(e),o!==null){for(t.flags|=128,Yd(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qt(nn,nn.current&1|2),t.child}e=e.sibling}i.tail!==null&&fn()>Cu&&(t.flags|=128,r=!0,Yd(i,!1),t.lanes=4194304)}else{if(!r)if(e=pg(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!en)return nr(t),null}else 2*fn()-i.renderingStartTime>Cu&&n!==1073741824&&(t.flags|=128,r=!0,Yd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=fn(),t.sibling=null,n=nn.current,qt(nn,r?n&1|2:n&1),t):(nr(t),null);case 22:case 23:return E1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xr&1073741824&&(nr(t),t.subtreeFlags&6&&(t.flags|=8192)):nr(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function Xz(e,t){switch(d1(t),t.tag){case 1:return zr(t.type)&&lg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nu(),Xt(Br),Xt(lr),j1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return y1(t),null;case 13:if(Xt(nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));bu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xt(nn),null;case 4:return Nu(),null;case 10:return p1(t.type._context),null;case 22:case 23:return E1(),null;case 24:return null;default:return null}}var Gm=!1,sr=!1,Jz=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Bc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){un(e,t,r)}else n.current=null}function eb(e,t,n){try{n()}catch(r){un(e,t,r)}}var JC=!1;function Zz(e,t){if(Rj=sg,e=dD(),c1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||a!==0&&h.nodeType!==3||(l=o+a),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lj={focusedElem:e,selectionRange:n},sg=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:Bs(t.type,p),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(N){un(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return g=JC,JC=!1,g}function kh(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&eb(t,n,i)}a=a.next}while(a!==r)}}function rx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tb(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oM(e){var t=e.alternate;t!==null&&(e.alternate=null,oM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wa],delete t[ef],delete t[zj],delete t[Iz],delete t[$z])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lM(e){return e.tag===5||e.tag===3||e.tag===4}function ZC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=og));else if(r!==4&&(e=e.child,e!==null))for(nb(e,t,n),e=e.sibling;e!==null;)nb(e,t,n),e=e.sibling}function rb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(rb(e,t,n),e=e.sibling;e!==null;)rb(e,t,n),e=e.sibling}var Yn=null,Us=!1;function $i(e,t,n){for(n=n.child;n!==null;)cM(e,t,n),n=n.sibling}function cM(e,t,n){if(Ta&&typeof Ta.onCommitFiberUnmount=="function")try{Ta.onCommitFiberUnmount(Yv,n)}catch{}switch(n.tag){case 5:sr||Bc(n,t);case 6:var r=Yn,a=Us;Yn=null,$i(e,t,n),Yn=r,Us=a,Yn!==null&&(Us?(e=Yn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yn.removeChild(n.stateNode));break;case 18:Yn!==null&&(Us?(e=Yn,n=n.stateNode,e.nodeType===8?a0(e.parentNode,n):e.nodeType===1&&a0(e,n),Yh(e)):a0(Yn,n.stateNode));break;case 4:r=Yn,a=Us,Yn=n.stateNode.containerInfo,Us=!0,$i(e,t,n),Yn=r,Us=a;break;case 0:case 11:case 14:case 15:if(!sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&eb(n,t,o),a=a.next}while(a!==r)}$i(e,t,n);break;case 1:if(!sr&&(Bc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){un(n,t,l)}$i(e,t,n);break;case 21:$i(e,t,n);break;case 22:n.mode&1?(sr=(r=sr)||n.memoizedState!==null,$i(e,t,n),sr=r):$i(e,t,n);break;default:$i(e,t,n)}}function e_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jz),t.forEach(function(r){var a=lV.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Is(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Yn=l.stateNode,Us=!1;break e;case 3:Yn=l.stateNode.containerInfo,Us=!0;break e;case 4:Yn=l.stateNode.containerInfo,Us=!0;break e}l=l.return}if(Yn===null)throw Error(ve(160));cM(i,o,a),Yn=null,Us=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){un(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uM(t,e),t=t.sibling}function uM(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Is(t,e),ga(e),r&4){try{kh(3,e,e.return),rx(3,e)}catch(p){un(e,e.return,p)}try{kh(5,e,e.return)}catch(p){un(e,e.return,p)}}break;case 1:Is(t,e),ga(e),r&512&&n!==null&&Bc(n,n.return);break;case 5:if(Is(t,e),ga(e),r&512&&n!==null&&Bc(n,n.return),e.flags&32){var a=e.stateNode;try{Wh(a,"")}catch(p){un(e,e.return,p)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&OO(a,i),Pj(l,o);var u=Pj(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?RO(a,h):d==="dangerouslySetInnerHTML"?IO(a,h):d==="children"?Wh(a,h):QN(a,d,h,u)}switch(l){case"input":wj(a,i);break;case"textarea":DO(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Kc(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Kc(a,!!i.multiple,i.defaultValue,!0):Kc(a,!!i.multiple,i.multiple?[]:"",!1))}a[ef]=i}catch(p){un(e,e.return,p)}}break;case 6:if(Is(t,e),ga(e),r&4){if(e.stateNode===null)throw Error(ve(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){un(e,e.return,p)}}break;case 3:if(Is(t,e),ga(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yh(t.containerInfo)}catch(p){un(e,e.return,p)}break;case 4:Is(t,e),ga(e);break;case 13:Is(t,e),ga(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(k1=fn())),r&4&&e_(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(sr=(u=sr)||d,Is(t,e),sr=u):Is(t,e),ga(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ee=e,d=e.child;d!==null;){for(h=Ee=d;Ee!==null;){switch(f=Ee,m=f.child,f.tag){case 0:case 11:case 14:case 15:kh(4,f,f.return);break;case 1:Bc(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){un(r,n,p)}}break;case 5:Bc(f,f.return);break;case 22:if(f.memoizedState!==null){n_(h);continue}}m!==null?(m.return=f,Ee=m):n_(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=$O("display",o))}catch(p){un(e,e.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){un(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Is(t,e),ga(e),r&4&&e_(e);break;case 21:break;default:Is(t,e),ga(e)}}function ga(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lM(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Wh(a,""),r.flags&=-33);var i=ZC(e);rb(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ZC(e);nb(e,l,o);break;default:throw Error(ve(161))}}catch(c){un(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eV(e,t,n){Ee=e,dM(e)}function dM(e,t,n){for(var r=(e.mode&1)!==0;Ee!==null;){var a=Ee,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Gm;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||sr;l=Gm;var u=sr;if(Gm=o,(sr=c)&&!u)for(Ee=a;Ee!==null;)o=Ee,c=o.child,o.tag===22&&o.memoizedState!==null?r_(a):c!==null?(c.return=o,Ee=c):r_(a);for(;i!==null;)Ee=i,dM(i),i=i.sibling;Ee=a,Gm=l,sr=u}t_(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ee=i):t_(e)}}function t_(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sr||rx(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!sr)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Bs(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&FC(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}FC(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Yh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}sr||t.flags&512&&tb(t)}catch(f){un(t,t.return,f)}}if(t===e){Ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function n_(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function r_(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rx(4,t)}catch(c){un(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){un(t,a,c)}}var i=t.return;try{tb(t)}catch(c){un(t,i,c)}break;case 5:var o=t.return;try{tb(t)}catch(c){un(t,o,c)}}}catch(c){un(t,t.return,c)}if(t===e){Ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ee=l;break}Ee=t.return}}var tV=Math.ceil,xg=Ai.ReactCurrentDispatcher,P1=Ai.ReactCurrentOwner,Ss=Ai.ReactCurrentBatchConfig,yt=0,Wn=null,yn=null,Qn=0,Xr=0,zc=Do(0),Dn=0,of=null,Dl=0,sx=0,A1=0,Th=null,Ir=null,k1=0,Cu=1/0,Ja=null,yg=!1,sb=null,yo=null,Ym=!1,co=null,jg=0,Eh=0,ab=null,Up=-1,qp=0;function br(){return yt&6?fn():Up!==-1?Up:Up=fn()}function jo(e){return e.mode&1?yt&2&&Qn!==0?Qn&-Qn:Lz.transition!==null?(qp===0&&(qp=YO()),qp):(e=Tt,e!==0||(e=window.event,e=e===void 0?16:nD(e.type)),e):1}function Zs(e,t,n,r){if(50<Eh)throw Eh=0,ab=null,Error(ve(185));im(e,n,r),(!(yt&2)||e!==Wn)&&(e===Wn&&(!(yt&2)&&(sx|=n),Dn===4&&Yi(e,Qn)),Vr(e,r),n===1&&yt===0&&!(t.mode&1)&&(Cu=fn()+500,ex&&Mo()))}function Vr(e,t){var n=e.callbackNode;LB(e,t);var r=rg(e,e===Wn?Qn:0);if(r===0)n!==null&&hC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&hC(n),t===1)e.tag===0?Rz(s_.bind(null,e)):bD(s_.bind(null,e)),Dz(function(){!(yt&6)&&Mo()}),n=null;else{switch(QO(r)){case 1:n=t1;break;case 4:n=KO;break;case 16:n=ng;break;case 536870912:n=GO;break;default:n=ng}n=yM(n,hM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hM(e,t){if(Up=-1,qp=0,yt&6)throw Error(ve(327));var n=e.callbackNode;if(Jc()&&e.callbackNode!==n)return null;var r=rg(e,e===Wn?Qn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bg(e,r);else{t=r;var a=yt;yt|=2;var i=mM();(Wn!==e||Qn!==t)&&(Ja=null,Cu=fn()+500,Cl(e,t));do try{sV();break}catch(l){fM(e,l)}while(!0);m1(),xg.current=i,yt=a,yn!==null?t=0:(Wn=null,Qn=0,t=Dn)}if(t!==0){if(t===2&&(a=Oj(e),a!==0&&(r=a,t=ib(e,a))),t===1)throw n=of,Cl(e,0),Yi(e,r),Vr(e,fn()),n;if(t===6)Yi(e,r);else{if(a=e.current.alternate,!(r&30)&&!nV(a)&&(t=bg(e,r),t===2&&(i=Oj(e),i!==0&&(r=i,t=ib(e,i))),t===1))throw n=of,Cl(e,0),Yi(e,r),Vr(e,fn()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(ve(345));case 2:Jo(e,Ir,Ja);break;case 3:if(Yi(e,r),(r&130023424)===r&&(t=k1+500-fn(),10<t)){if(rg(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){br(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Bj(Jo.bind(null,e,Ir,Ja),t);break}Jo(e,Ir,Ja);break;case 4:if(Yi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Js(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tV(r/1960))-r,10<r){e.timeoutHandle=Bj(Jo.bind(null,e,Ir,Ja),r);break}Jo(e,Ir,Ja);break;case 5:Jo(e,Ir,Ja);break;default:throw Error(ve(329))}}}return Vr(e,fn()),e.callbackNode===n?hM.bind(null,e):null}function ib(e,t){var n=Th;return e.current.memoizedState.isDehydrated&&(Cl(e,t).flags|=256),e=bg(e,t),e!==2&&(t=Ir,Ir=n,t!==null&&ob(t)),e}function ob(e){Ir===null?Ir=e:Ir.push.apply(Ir,e)}function nV(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!na(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yi(e,t){for(t&=~A1,t&=~sx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Js(t),r=1<<n;e[n]=-1,t&=~r}}function s_(e){if(yt&6)throw Error(ve(327));Jc();var t=rg(e,0);if(!(t&1))return Vr(e,fn()),null;var n=bg(e,t);if(e.tag!==0&&n===2){var r=Oj(e);r!==0&&(t=r,n=ib(e,r))}if(n===1)throw n=of,Cl(e,0),Yi(e,t),Vr(e,fn()),n;if(n===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jo(e,Ir,Ja),Vr(e,fn()),null}function T1(e,t){var n=yt;yt|=1;try{return e(t)}finally{yt=n,yt===0&&(Cu=fn()+500,ex&&Mo())}}function Ml(e){co!==null&&co.tag===0&&!(yt&6)&&Jc();var t=yt;yt|=1;var n=Ss.transition,r=Tt;try{if(Ss.transition=null,Tt=1,e)return e()}finally{Tt=r,Ss.transition=n,yt=t,!(yt&6)&&Mo()}}function E1(){Xr=zc.current,Xt(zc)}function Cl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Oz(n)),yn!==null)for(n=yn.return;n!==null;){var r=n;switch(d1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lg();break;case 3:Nu(),Xt(Br),Xt(lr),j1();break;case 5:y1(r);break;case 4:Nu();break;case 13:Xt(nn);break;case 19:Xt(nn);break;case 10:p1(r.type._context);break;case 22:case 23:E1()}n=n.return}if(Wn=e,yn=e=bo(e.current,null),Qn=Xr=t,Dn=0,of=null,A1=sx=Dl=0,Ir=Th=null,ol!==null){for(t=0;t<ol.length;t++)if(n=ol[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}ol=null}return e}function fM(e,t){do{var n=yn;try{if(m1(),Bp.current=vg,gg){for(var r=rn.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}gg=!1}if(Ol=0,Bn=kn=rn=null,Ah=!1,rf=0,P1.current=null,n===null||n.return===null){Dn=1,of=t,yn=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Qn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=WC(o);if(m!==null){m.flags&=-257,HC(m,o,l,i,t),m.mode&1&&qC(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){qC(i,u,t),O1();break e}c=Error(ve(426))}}else if(en&&l.mode&1){var v=WC(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),HC(v,o,l,i,t),h1(Su(c,l));break e}}i=c=Su(c,l),Dn!==4&&(Dn=2),Th===null?Th=[i]:Th.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=QD(i,c,t);LC(i,x);break e;case 1:l=c;var y=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(yo===null||!yo.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=XD(i,l,t);LC(i,N);break e}}i=i.return}while(i!==null)}gM(n)}catch(w){t=w,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(!0)}function mM(){var e=xg.current;return xg.current=vg,e===null?vg:e}function O1(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Wn===null||!(Dl&268435455)&&!(sx&268435455)||Yi(Wn,Qn)}function bg(e,t){var n=yt;yt|=2;var r=mM();(Wn!==e||Qn!==t)&&(Ja=null,Cl(e,t));do try{rV();break}catch(a){fM(e,a)}while(!0);if(m1(),yt=n,xg.current=r,yn!==null)throw Error(ve(261));return Wn=null,Qn=0,Dn}function rV(){for(;yn!==null;)pM(yn)}function sV(){for(;yn!==null&&!kB();)pM(yn)}function pM(e){var t=xM(e.alternate,e,Xr);e.memoizedProps=e.pendingProps,t===null?gM(e):yn=t,P1.current=null}function gM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xz(n,t),n!==null){n.flags&=32767,yn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dn=6,yn=null;return}}else if(n=Qz(n,t,Xr),n!==null){yn=n;return}if(t=t.sibling,t!==null){yn=t;return}yn=t=e}while(t!==null);Dn===0&&(Dn=5)}function Jo(e,t,n){var r=Tt,a=Ss.transition;try{Ss.transition=null,Tt=1,aV(e,t,n,r)}finally{Ss.transition=a,Tt=r}return null}function aV(e,t,n,r){do Jc();while(co!==null);if(yt&6)throw Error(ve(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(FB(e,i),e===Wn&&(yn=Wn=null,Qn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ym||(Ym=!0,yM(ng,function(){return Jc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ss.transition,Ss.transition=null;var o=Tt;Tt=1;var l=yt;yt|=4,P1.current=null,Zz(e,n),uM(n,e),Cz(Lj),sg=!!Rj,Lj=Rj=null,e.current=n,eV(n),TB(),yt=l,Tt=o,Ss.transition=i}else e.current=n;if(Ym&&(Ym=!1,co=e,jg=a),i=e.pendingLanes,i===0&&(yo=null),DB(n.stateNode),Vr(e,fn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(yg)throw yg=!1,e=sb,sb=null,e;return jg&1&&e.tag!==0&&Jc(),i=e.pendingLanes,i&1?e===ab?Eh++:(Eh=0,ab=e):Eh=0,Mo(),null}function Jc(){if(co!==null){var e=QO(jg),t=Ss.transition,n=Tt;try{if(Ss.transition=null,Tt=16>e?16:e,co===null)var r=!1;else{if(e=co,co=null,jg=0,yt&6)throw Error(ve(331));var a=yt;for(yt|=4,Ee=e.current;Ee!==null;){var i=Ee,o=i.child;if(Ee.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ee=u;Ee!==null;){var d=Ee;switch(d.tag){case 0:case 11:case 15:kh(8,d,i)}var h=d.child;if(h!==null)h.return=d,Ee=h;else for(;Ee!==null;){d=Ee;var f=d.sibling,m=d.return;if(oM(d),d===u){Ee=null;break}if(f!==null){f.return=m,Ee=f;break}Ee=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ee=o;else e:for(;Ee!==null;){if(i=Ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:kh(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ee=x;break e}Ee=i.return}}var y=e.current;for(Ee=y;Ee!==null;){o=Ee;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Ee=j;else e:for(o=y;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rx(9,l)}}catch(w){un(l,l.return,w)}if(l===o){Ee=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ee=N;break e}Ee=l.return}}if(yt=a,Mo(),Ta&&typeof Ta.onPostCommitFiberRoot=="function")try{Ta.onPostCommitFiberRoot(Yv,e)}catch{}r=!0}return r}finally{Tt=n,Ss.transition=t}}return!1}function a_(e,t,n){t=Su(n,t),t=QD(e,t,1),e=xo(e,t,1),t=br(),e!==null&&(im(e,1,t),Vr(e,t))}function un(e,t,n){if(e.tag===3)a_(e,e,n);else for(;t!==null;){if(t.tag===3){a_(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yo===null||!yo.has(r))){e=Su(n,e),e=XD(t,e,1),t=xo(t,e,1),e=br(),t!==null&&(im(t,1,e),Vr(t,e));break}}t=t.return}}function iV(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=br(),e.pingedLanes|=e.suspendedLanes&n,Wn===e&&(Qn&n)===n&&(Dn===4||Dn===3&&(Qn&130023424)===Qn&&500>fn()-k1?Cl(e,0):A1|=n),Vr(e,t)}function vM(e,t){t===0&&(e.mode&1?(t=Fm,Fm<<=1,!(Fm&130023424)&&(Fm=4194304)):t=1);var n=br();e=xi(e,t),e!==null&&(im(e,t,n),Vr(e,n))}function oV(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vM(e,n)}function lV(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(t),vM(e,n)}var xM;xM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Br.current)Lr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Lr=!1,Yz(e,t,n);Lr=!!(e.flags&131072)}else Lr=!1,en&&t.flags&1048576&&wD(t,dg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vp(e,t),e=t.pendingProps;var a=ju(t,lr.current);Xc(t,n),a=w1(null,t,r,e,a,n);var i=N1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zr(r)?(i=!0,cg(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,v1(t),a.updater=nx,t.stateNode=a,a._reactInternals=t,Kj(t,r,e,n),t=Qj(null,t,r,!0,i,n)):(t.tag=0,en&&i&&u1(t),pr(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vp(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=uV(r),e=Bs(r,e),a){case 0:t=Yj(null,t,r,e,n);break e;case 1:t=YC(null,t,r,e,n);break e;case 11:t=KC(null,t,r,e,n);break e;case 14:t=GC(null,t,r,Bs(r.type,e),n);break e}throw Error(ve(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Bs(r,a),Yj(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Bs(r,a),YC(e,t,r,a,n);case 3:e:{if(tM(t),e===null)throw Error(ve(387));r=t.pendingProps,i=t.memoizedState,a=i.element,AD(e,t),mg(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Su(Error(ve(423)),t),t=QC(e,t,r,n,a);break e}else if(r!==a){a=Su(Error(ve(424)),t),t=QC(e,t,r,n,a);break e}else for(ns=vo(t.stateNode.containerInfo.firstChild),rs=t,en=!0,Ks=null,n=_D(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bu(),r===a){t=yi(e,t,n);break e}pr(e,t,r,n)}t=t.child}return t;case 5:return kD(t),e===null&&qj(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Fj(r,a)?o=null:i!==null&&Fj(r,i)&&(t.flags|=32),eM(e,t),pr(e,t,o,n),t.child;case 6:return e===null&&qj(t),null;case 13:return nM(e,t,n);case 4:return x1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wu(t,null,r,n):pr(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Bs(r,a),KC(e,t,r,a,n);case 7:return pr(e,t,t.pendingProps,n),t.child;case 8:return pr(e,t,t.pendingProps.children,n),t.child;case 12:return pr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,qt(hg,r._currentValue),r._currentValue=o,i!==null)if(na(i.value,o)){if(i.children===a.children&&!Br.current){t=yi(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=di(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Wj(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ve(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Wj(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pr(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Xc(t,n),a=_s(a),r=r(a),t.flags|=1,pr(e,t,r,n),t.child;case 14:return r=t.type,a=Bs(r,t.pendingProps),a=Bs(r.type,a),GC(e,t,r,a,n);case 15:return JD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Bs(r,a),Vp(e,t),t.tag=1,zr(r)?(e=!0,cg(t)):e=!1,Xc(t,n),YD(t,r,a),Kj(t,r,a,n),Qj(null,t,r,!0,e,n);case 19:return rM(e,t,n);case 22:return ZD(e,t,n)}throw Error(ve(156,t.tag))};function yM(e,t){return HO(e,t)}function cV(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(e,t,n,r){return new cV(e,t,n,r)}function D1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uV(e){if(typeof e=="function")return D1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===JN)return 11;if(e===ZN)return 14}return 2}function bo(e,t){var n=e.alternate;return n===null?(n=ws(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wp(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")D1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ec:return _l(n.children,a,i,t);case XN:o=8,a|=8;break;case vj:return e=ws(12,n,t,a|2),e.elementType=vj,e.lanes=i,e;case xj:return e=ws(13,n,t,a),e.elementType=xj,e.lanes=i,e;case yj:return e=ws(19,n,t,a),e.elementType=yj,e.lanes=i,e;case kO:return ax(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case PO:o=10;break e;case AO:o=9;break e;case JN:o=11;break e;case ZN:o=14;break e;case Wi:o=16,r=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=ws(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function _l(e,t,n,r){return e=ws(7,e,r,t),e.lanes=n,e}function ax(e,t,n,r){return e=ws(22,e,r,t),e.elementType=kO,e.lanes=n,e.stateNode={isHidden:!1},e}function f0(e,t,n){return e=ws(6,e,null,t),e.lanes=n,e}function m0(e,t,n){return t=ws(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dV(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gy(0),this.expirationTimes=Gy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gy(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function M1(e,t,n,r,a,i,o,l,c){return e=new dV(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ws(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},v1(i),e}function hV(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function jM(e){if(!e)return Po;e=e._reactInternals;e:{if(Jl(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var n=e.type;if(zr(n))return jD(e,n,t)}return t}function bM(e,t,n,r,a,i,o,l,c){return e=M1(n,r,!0,e,a,i,o,l,c),e.context=jM(null),n=e.current,r=br(),a=jo(n),i=di(r,a),i.callback=t??null,xo(n,i,a),e.current.lanes=a,im(e,a,r),Vr(e,r),e}function ix(e,t,n,r){var a=t.current,i=br(),o=jo(a);return n=jM(n),t.context===null?t.context=n:t.pendingContext=n,t=di(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xo(a,t,o),e!==null&&(Zs(e,a,o,i),Fp(e,a,o)),o}function wg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function i_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function I1(e,t){i_(e,t),(e=e.alternate)&&i_(e,t)}function fV(){return null}var wM=typeof reportError=="function"?reportError:function(e){console.error(e)};function $1(e){this._internalRoot=e}ox.prototype.render=$1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));ix(e,t,null,null)};ox.prototype.unmount=$1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ml(function(){ix(null,e,null,null)}),t[vi]=null}};function ox(e){this._internalRoot=e}ox.prototype.unstable_scheduleHydration=function(e){if(e){var t=ZO();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gi.length&&t!==0&&t<Gi[n].priority;n++);Gi.splice(n,0,e),n===0&&tD(e)}};function R1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function o_(){}function mV(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=wg(o);i.call(u)}}var o=bM(t,r,e,0,null,!1,!1,"",o_);return e._reactRootContainer=o,e[vi]=o.current,Jh(e.nodeType===8?e.parentNode:e),Ml(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=wg(c);l.call(u)}}var c=M1(e,0,!1,null,null,!1,!1,"",o_);return e._reactRootContainer=c,e[vi]=c.current,Jh(e.nodeType===8?e.parentNode:e),Ml(function(){ix(t,c,n,r)}),c}function cx(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=wg(o);l.call(c)}}ix(t,o,e,a)}else o=mV(n,t,e,a,r);return wg(o)}XO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gh(t.pendingLanes);n!==0&&(n1(t,n|1),Vr(t,fn()),!(yt&6)&&(Cu=fn()+500,Mo()))}break;case 13:Ml(function(){var r=xi(e,1);if(r!==null){var a=br();Zs(r,e,1,a)}}),I1(e,1)}};r1=function(e){if(e.tag===13){var t=xi(e,134217728);if(t!==null){var n=br();Zs(t,e,134217728,n)}I1(e,134217728)}};JO=function(e){if(e.tag===13){var t=jo(e),n=xi(e,t);if(n!==null){var r=br();Zs(n,e,t,r)}I1(e,t)}};ZO=function(){return Tt};eD=function(e,t){var n=Tt;try{return Tt=e,t()}finally{Tt=n}};kj=function(e,t,n){switch(t){case"input":if(wj(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Zv(r);if(!a)throw Error(ve(90));EO(r),wj(r,a)}}}break;case"textarea":DO(e,n);break;case"select":t=n.value,t!=null&&Kc(e,!!n.multiple,t,!1)}};BO=T1;zO=Ml;var pV={usingClientEntryPoint:!1,Events:[lm,Ic,Zv,LO,FO,T1]},Qd={findFiberByHostInstance:il,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gV={bundleType:Qd.bundleType,version:Qd.version,rendererPackageName:Qd.rendererPackageName,rendererConfig:Qd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qO(e),e===null?null:e.stateNode},findFiberByHostInstance:Qd.findFiberByHostInstance||fV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qm.isDisabled&&Qm.supportsFiber)try{Yv=Qm.inject(gV),Ta=Qm}catch{}}ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pV;ls.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R1(t))throw Error(ve(200));return hV(e,t,null,n)};ls.createRoot=function(e,t){if(!R1(e))throw Error(ve(299));var n=!1,r="",a=wM;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=M1(e,1,!1,null,null,n,!1,r,a),e[vi]=t.current,Jh(e.nodeType===8?e.parentNode:e),new $1(t)};ls.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=qO(t),e=e===null?null:e.stateNode,e};ls.flushSync=function(e){return Ml(e)};ls.hydrate=function(e,t,n){if(!lx(t))throw Error(ve(200));return cx(null,e,t,!0,n)};ls.hydrateRoot=function(e,t,n){if(!R1(e))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=wM;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=bM(t,null,e,1,n??null,a,!1,i,o),e[vi]=t.current,Jh(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ox(t)};ls.render=function(e,t,n){if(!lx(t))throw Error(ve(200));return cx(null,e,t,!1,n)};ls.unmountComponentAtNode=function(e){if(!lx(e))throw Error(ve(40));return e._reactRootContainer?(Ml(function(){cx(null,null,e,!1,function(){e._reactRootContainer=null,e[vi]=null})}),!0):!1};ls.unstable_batchedUpdates=T1;ls.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!lx(n))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return cx(e,t,n,!1,r)};ls.version="18.3.1-next-f1338f8080-20240426";function NM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NM)}catch(e){console.error(e)}}NM(),NO.exports=ls;var Zl=NO.exports;const SM=Ct(Zl);var CM,l_=Zl;CM=l_.createRoot,l_.hydrateRoot;const vV=1,xV=1e6;let p0=0;function yV(){return p0=(p0+1)%Number.MAX_SAFE_INTEGER,p0.toString()}const g0=new Map,c_=e=>{if(g0.has(e))return;const t=setTimeout(()=>{g0.delete(e),Oh({type:"REMOVE_TOAST",toastId:e})},xV);g0.set(e,t)},jV=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,vV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?c_(n):e.toasts.forEach(r=>{c_(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Hp=[];let Kp={toasts:[]};function Oh(e){Kp=jV(Kp,e),Hp.forEach(t=>{t(Kp)})}function bV({...e}){const t=yV(),n=a=>Oh({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>Oh({type:"DISMISS_TOAST",toastId:t});return Oh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function at(){const[e,t]=b.useState(Kp);return b.useEffect(()=>(Hp.push(t),()=>{const n=Hp.indexOf(t);n>-1&&Hp.splice(n,1)}),[e]),{...e,toast:bV,dismiss:n=>Oh({type:"DISMISS_TOAST",toastId:n})}}function _e(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function u_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ux(...e){return t=>{let n=!1;const r=e.map(a=>{const i=u_(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():u_(e[a],null)}}}}function xt(...e){return b.useCallback(ux(...e),e)}function wV(e,t){const n=b.createContext(t),r=i=>{const{children:o,...l}=i,c=b.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=b.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function us(e,t=[]){let n=[];function r(i,o){const l=b.createContext(o),c=n.length;n=[...n,o];const u=h=>{var x;const{scope:f,children:m,...g}=h,p=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,v=b.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(h,f){var p;const m=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=n.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,NV(a,...t)]}function NV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Il(e){const t=CV(e),n=b.forwardRef((r,a)=>{const{children:i,...o}=r,l=b.Children.toArray(i),c=l.find(PV);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var SV=Il("Slot");function CV(e){const t=b.forwardRef((n,r)=>{const{children:a,...i}=n;if(b.isValidElement(a)){const o=kV(a),l=AV(i,a.props);return a.type!==b.Fragment&&(l.ref=r?ux(r,o):o),b.cloneElement(a,l)}return b.Children.count(a)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _M=Symbol("radix.slottable");function _V(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=_M,t}function PV(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_M}function AV(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function kV(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function dx(e){const t=e+"CollectionProvider",[n,r]=us(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:x}=p,y=$.useRef(null),j=$.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:j,collectionRef:y,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=Il(l),u=$.forwardRef((p,v)=>{const{scope:x,children:y}=p,j=i(l,x),N=xt(v,j.collectionRef);return s.jsx(c,{ref:N,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Il(d),m=$.forwardRef((p,v)=>{const{scope:x,children:y,...j}=p,N=$.useRef(null),w=xt(v,N),C=i(d,x);return $.useEffect(()=>(C.itemMap.set(N,{ref:N,...j}),()=>void C.itemMap.delete(N))),s.jsx(f,{[h]:"",ref:w,children:y})});m.displayName=d;function g(p){const v=i(e+"CollectionConsumer",p);return $.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const j=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((C,S)=>j.indexOf(C.ref.current)-j.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,r]}var TV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=TV.reduce((e,t)=>{const n=Il(`Primitive.${t}`),r=b.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function L1(e,t){e&&Zl.flushSync(()=>e.dispatchEvent(t))}function Sr(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function EV(e,t=globalThis==null?void 0:globalThis.document){const n=Sr(e);b.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var OV="DismissableLayer",lb="dismissableLayer.update",DV="dismissableLayer.pointerDownOutside",MV="dismissableLayer.focusOutside",d_,PM=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hd=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=b.useContext(PM),[d,h]=b.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),g=xt(t,S=>h(S)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(v),y=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,N=y>=x,w=$V(S=>{const _=S.target,k=[...u.branches].some(E=>E.contains(_));!N||k||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},f),C=RV(S=>{const _=S.target;[...u.branches].some(E=>E.contains(_))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},f);return EV(S=>{y===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},f),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(d_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),h_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=d_)}},[d,f,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),h_())},[d,u]),b.useEffect(()=>{const S=()=>m({});return document.addEventListener(lb,S),()=>document.removeEventListener(lb,S)},[]),s.jsx(Be.div,{...c,ref:g,style:{pointerEvents:j?N?"auto":"none":void 0,...e.style},onFocusCapture:_e(e.onFocusCapture,C.onFocusCapture),onBlurCapture:_e(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:_e(e.onPointerDownCapture,w.onPointerDownCapture)})});hd.displayName=OV;var IV="DismissableLayerBranch",AM=b.forwardRef((e,t)=>{const n=b.useContext(PM),r=b.useRef(null),a=xt(t,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(Be.div,{...e,ref:a})});AM.displayName=IV;function $V(e,t=globalThis==null?void 0:globalThis.document){const n=Sr(e),r=b.useRef(!1),a=b.useRef(()=>{});return b.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){kM(DV,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function RV(e,t=globalThis==null?void 0:globalThis.document){const n=Sr(e),r=b.useRef(!1);return b.useEffect(()=>{const a=i=>{i.target&&!r.current&&kM(MV,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function h_(){const e=new CustomEvent(lb);document.dispatchEvent(e)}function kM(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?L1(a,i):a.dispatchEvent(i)}var LV=hd,FV=AM,Nn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},BV="Portal",um=b.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=b.useState(!1);Nn(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?SM.createPortal(s.jsx(Be.div,{...r,ref:t}),o):null});um.displayName=BV;function zV(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var Ts=e=>{const{present:t,children:n}=e,r=VV(t),a=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=xt(r.ref,UV(a));return typeof n=="function"||r.isPresent?b.cloneElement(a,{ref:i}):null};Ts.displayName="Presence";function VV(e){const[t,n]=b.useState(),r=b.useRef(null),a=b.useRef(e),i=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=zV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Xm(r.current);i.current=l==="mounted"?u:"none"},[l]),Nn(()=>{const u=r.current,d=a.current;if(d!==e){const f=i.current,m=Xm(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Nn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const p=Xm(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},f=m=>{m.target===t&&(i.current=Xm(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Xm(e){return(e==null?void 0:e.animationName)||"none"}function UV(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qV=KN[" useInsertionEffect ".trim().toString()]||Nn;function ji({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=WV({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const d=b.useRef(e!==void 0);b.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=b.useCallback(d=>{var h;if(l){const f=HV(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else i(d)},[l,e,i,o]);return[c,u]}function WV({defaultProp:e,onChange:t}){const[n,r]=b.useState(e),a=b.useRef(n),i=b.useRef(t);return qV(()=>{i.current=t},[t]),b.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function HV(e){return typeof e=="function"}var TM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KV="VisuallyHidden",hx=b.forwardRef((e,t)=>s.jsx(Be.span,{...e,ref:t,style:{...TM,...e.style}}));hx.displayName=KV;var GV=hx,F1="ToastProvider",[B1,YV,QV]=dx("Toast"),[EM,qAe]=us("Toast",[QV]),[XV,fx]=EM(F1),OM=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=b.useState(null),[u,d]=b.useState(0),h=b.useRef(!1),f=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${F1}\`. Expected non-empty \`string\`.`),s.jsx(B1.Provider,{scope:t,children:s.jsx(XV,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>d(m=>m+1),[]),onToastRemove:b.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};OM.displayName=F1;var DM="ToastViewport",JV=["F8"],cb="toast.viewportPause",ub="toast.viewportResume",MM=b.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=JV,label:a="Notifications ({hotkey})",...i}=e,o=fx(DM,n),l=YV(n),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),h=b.useRef(null),f=xt(t,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;b.useEffect(()=>{const v=x=>{var j;r.length!==0&&r.every(N=>x[N]||x.code===N)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),b.useEffect(()=>{const v=c.current,x=h.current;if(g&&v&&x){const y=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(cb);x.dispatchEvent(C),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(ub);x.dispatchEvent(C),o.isClosePausedRef.current=!1}},N=C=>{!v.contains(C.relatedTarget)&&j()},w=()=>{v.contains(document.activeElement)||j()};return v.addEventListener("focusin",y),v.addEventListener("focusout",N),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",w),window.addEventListener("blur",y),window.addEventListener("focus",j),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",N),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",w),window.removeEventListener("blur",y),window.removeEventListener("focus",j)}}},[g,o.isClosePausedRef]);const p=b.useCallback(({tabbingDirection:v})=>{const y=l().map(j=>{const N=j.ref.current,w=[N,...dU(N)];return v==="forwards"?w:w.reverse()});return(v==="forwards"?y.reverse():y).flat()},[l]);return b.useEffect(()=>{const v=h.current;if(v){const x=y=>{var w,C,S;const j=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!j){const _=document.activeElement,k=y.shiftKey;if(y.target===v&&k){(w=u.current)==null||w.focus();return}const A=p({tabbingDirection:k?"backwards":"forwards"}),R=A.findIndex(M=>M===_);v0(A.slice(R+1))?y.preventDefault():k?(C=u.current)==null||C.focus():(S=d.current)==null||S.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,p]),s.jsxs(FV,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(db,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});v0(v)}}),s.jsx(B1.Slot,{scope:n,children:s.jsx(Be.ol,{tabIndex:-1,...i,ref:f})}),g&&s.jsx(db,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});v0(v)}})]})});MM.displayName=DM;var IM="ToastFocusProxy",db=b.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=fx(IM,n);return s.jsx(hx,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});db.displayName=IM;var dm="Toast",ZV="toast.swipeStart",eU="toast.swipeMove",tU="toast.swipeCancel",nU="toast.swipeEnd",$M=b.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=ji({prop:r,defaultProp:a??!0,onChange:i,caller:dm});return s.jsx(Ts,{present:n||l,children:s.jsx(aU,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Sr(e.onPause),onResume:Sr(e.onResume),onSwipeStart:_e(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_e(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:_e(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_e(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});$M.displayName=dm;var[rU,sU]=EM(dm,{onClose(){}}),aU=b.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...g}=e,p=fx(dm,n),[v,x]=b.useState(null),y=xt(t,M=>x(M)),j=b.useRef(null),N=b.useRef(null),w=a||p.duration,C=b.useRef(0),S=b.useRef(w),_=b.useRef(0),{onToastAdd:k,onToastRemove:E}=p,P=Sr(()=>{var K;(v==null?void 0:v.contains(document.activeElement))&&((K=p.viewport)==null||K.focus()),o()}),A=b.useCallback(M=>{!M||M===1/0||(window.clearTimeout(_.current),C.current=new Date().getTime(),_.current=window.setTimeout(P,M))},[P]);b.useEffect(()=>{const M=p.viewport;if(M){const K=()=>{A(S.current),u==null||u()},z=()=>{const W=new Date().getTime()-C.current;S.current=S.current-W,window.clearTimeout(_.current),c==null||c()};return M.addEventListener(cb,z),M.addEventListener(ub,K),()=>{M.removeEventListener(cb,z),M.removeEventListener(ub,K)}}},[p.viewport,w,c,u,A]),b.useEffect(()=>{i&&!p.isClosePausedRef.current&&A(w)},[i,w,p.isClosePausedRef,A]),b.useEffect(()=>(k(),()=>E()),[k,E]);const R=b.useMemo(()=>v?UM(v):null,[v]);return p.viewport?s.jsxs(s.Fragment,{children:[R&&s.jsx(iU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),s.jsx(rU,{scope:n,onClose:P,children:Zl.createPortal(s.jsx(B1.ItemSlot,{scope:n,children:s.jsx(LV,{asChild:!0,onEscapeKeyDown:_e(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||P(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:_e(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:_e(e.onPointerDown,M=>{M.button===0&&(j.current={x:M.clientX,y:M.clientY})}),onPointerMove:_e(e.onPointerMove,M=>{if(!j.current)return;const K=M.clientX-j.current.x,z=M.clientY-j.current.y,W=!!N.current,T=["left","right"].includes(p.swipeDirection),I=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,U=T?I(0,K):0,H=T?0:I(0,z),Z=M.pointerType==="touch"?10:2,ae={x:U,y:H},se={originalEvent:M,delta:ae};W?(N.current=ae,Jm(eU,h,se,{discrete:!1})):f_(ae,p.swipeDirection,Z)?(N.current=ae,Jm(ZV,d,se,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(K)>Z||Math.abs(z)>Z)&&(j.current=null)}),onPointerUp:_e(e.onPointerUp,M=>{const K=N.current,z=M.target;if(z.hasPointerCapture(M.pointerId)&&z.releasePointerCapture(M.pointerId),N.current=null,j.current=null,K){const W=M.currentTarget,T={originalEvent:M,delta:K};f_(K,p.swipeDirection,p.swipeThreshold)?Jm(nU,m,T,{discrete:!0}):Jm(tU,f,T,{discrete:!0}),W.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),iU=e=>{const{__scopeToast:t,children:n,...r}=e,a=fx(dm,t),[i,o]=b.useState(!1),[l,c]=b.useState(!1);return cU(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(um,{asChild:!0,children:s.jsx(hx,{...r,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},oU="ToastTitle",RM=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Be.div,{...r,ref:t})});RM.displayName=oU;var lU="ToastDescription",LM=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Be.div,{...r,ref:t})});LM.displayName=lU;var FM="ToastAction",BM=b.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(VM,{altText:n,asChild:!0,children:s.jsx(z1,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${FM}\`. Expected non-empty \`string\`.`),null)});BM.displayName=FM;var zM="ToastClose",z1=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=sU(zM,n);return s.jsx(VM,{asChild:!0,children:s.jsx(Be.button,{type:"button",...r,ref:t,onClick:_e(e.onClick,a.onClose)})})});z1.displayName=zM;var VM=b.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function UM(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),uU(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...UM(r))}}),t}function Jm(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?L1(a,i):a.dispatchEvent(i)}var f_=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function cU(e=()=>{}){const t=Sr(e);Nn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function uU(e){return e.nodeType===e.ELEMENT_NODE}function dU(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function v0(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var hU=OM,qM=MM,WM=$M,HM=RM,KM=LM,GM=BM,YM=z1;function QM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=QM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=QM(e))&&(r&&(r+=" "),r+=t);return r}const m_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,p_=Je,hm=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return p_(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=m_(d)||m_(h);return a[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...i,...l}[p]):{...i,...l}[p]===v})?[...u,h,f]:u},[]);return p_(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XM=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...mU,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:XM("lucide",a),...l},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const n=b.forwardRef(({className:r,...a},i)=>b.createElement(pU,{ref:i,iconNode:t,className:XM(`lucide-${fU(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=Ae("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Ae("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=Ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=Ae("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=Ae("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=Ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=Ae("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=Ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=Ae("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=Ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=Ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=Ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=Ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=Ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=Ae("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=Ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Ae("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=Ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=Ae("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Ae("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=Ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=Ae("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Ae("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=Ae("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Ae("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=Ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Ae("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=Ae("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=Ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Ae("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=Ae("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=Ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=Ae("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=Ae("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=Ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Ae("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=Ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=Ae("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=Ae("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=Ae("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=Ae("Tractor",[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Ae("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=Ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=Ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=Ae("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Ae("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),U1="-",RU=e=>{const t=FU(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(U1);return l[0]===""&&l.length!==1&&l.shift(),rI(l,t)||LU(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},rI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?rI(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(U1);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},j_=/^\[(.+)\]$/,LU=e=>{if(j_.test(e)){const t=j_.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},FU=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return zU(Object.entries(e.classGroups),n).forEach(([i,o])=>{gb(o,r,i,t)}),r},gb=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:b_(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(BU(a)){gb(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{gb(o,b_(t,i),n,r)})})},b_=(e,t)=>{let n=e;return t.split(U1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},BU=e=>e.isThemeGetter,zU=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,VU=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},sI="!",UU=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===a&&(r||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(x==="/"){h=v;continue}}x==="["?u++:x==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(sI),g=m?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},qU=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},WU=e=>({cache:VU(e.cacheSize),parseClassName:UU(e),...RU(e)}),HU=/\s+/,KU=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(HU);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let g=!!m,p=r(g?f.substring(0,m):f);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=r(f),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=qU(d).join(":"),x=h?v+sI:v,y=x+p;if(i.includes(y))continue;i.push(y);const j=a(p,g);for(let N=0;N<j.length;++N){const w=j[N];i.push(x+w)}l=u+(l.length>0?" "+l:l)}return l};function GU(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=aI(t))&&(r&&(r+=" "),r+=n);return r}const aI=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=aI(e[r]))&&(n&&(n+=" "),n+=t);return n};function YU(e,...t){let n,r,a,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return n=WU(u),r=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=KU(c,n);return a(c,d),d}return function(){return i(GU.apply(null,arguments))}}const Kt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},iI=/^\[(?:([a-z-]+):)?(.+)\]$/i,QU=/^\d+\/\d+$/,XU=new Set(["px","full","screen"]),JU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ga=e=>Zc(e)||XU.has(e)||QU.test(e),Ri=e=>md(e,"length",uq),Zc=e=>!!e&&!Number.isNaN(Number(e)),y0=e=>md(e,"number",Zc),Xd=e=>!!e&&Number.isInteger(Number(e)),rq=e=>e.endsWith("%")&&Zc(e.slice(0,-1)),st=e=>iI.test(e),Li=e=>JU.test(e),sq=new Set(["length","size","percentage"]),aq=e=>md(e,sq,oI),iq=e=>md(e,"position",oI),oq=new Set(["image","url"]),lq=e=>md(e,oq,hq),cq=e=>md(e,"",dq),Jd=()=>!0,md=(e,t,n)=>{const r=iI.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},uq=e=>ZU.test(e)&&!eq.test(e),oI=()=>!1,dq=e=>tq.test(e),hq=e=>nq.test(e),fq=()=>{const e=Kt("colors"),t=Kt("spacing"),n=Kt("blur"),r=Kt("brightness"),a=Kt("borderColor"),i=Kt("borderRadius"),o=Kt("borderSpacing"),l=Kt("borderWidth"),c=Kt("contrast"),u=Kt("grayscale"),d=Kt("hueRotate"),h=Kt("invert"),f=Kt("gap"),m=Kt("gradientColorStops"),g=Kt("gradientColorStopPositions"),p=Kt("inset"),v=Kt("margin"),x=Kt("opacity"),y=Kt("padding"),j=Kt("saturate"),N=Kt("scale"),w=Kt("sepia"),C=Kt("skew"),S=Kt("space"),_=Kt("translate"),k=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",st,t],A=()=>[st,t],R=()=>["",Ga,Ri],M=()=>["auto",Zc,st],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",st],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Zc,st];return{cacheSize:500,separator:":",theme:{colors:[Jd],spacing:[Ga,Ri],blur:["none","",Li,st],brightness:H(),borderColor:[e],borderRadius:["none","","full",Li,st],borderSpacing:A(),borderWidth:R(),contrast:H(),grayscale:I(),hueRotate:H(),invert:I(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[rq,Ri],inset:P(),margin:P(),opacity:H(),padding:A(),saturate:H(),scale:H(),sepia:I(),skew:H(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",st]}],container:["container"],columns:[{columns:[Li]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),st]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xd,st]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",st]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Xd,st]}],"grid-cols":[{"grid-cols":[Jd]}],"col-start-end":[{col:["auto",{span:["full",Xd,st]},st]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Jd]}],"row-start-end":[{row:["auto",{span:[Xd,st]},st]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",st]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",st]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",st,t]}],"min-w":[{"min-w":[st,t,"min","max","fit"]}],"max-w":[{"max-w":[st,t,"none","full","min","max","fit","prose",{screen:[Li]},Li]}],h:[{h:[st,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[st,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[st,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[st,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Li,Ri]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",y0]}],"font-family":[{font:[Jd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",st]}],"line-clamp":[{"line-clamp":["none",Zc,y0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ga,st]}],"list-image":[{"list-image":["none",st]}],"list-style-type":[{list:["none","disc","decimal",st]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ga,Ri]}],"underline-offset":[{"underline-offset":["auto",Ga,st]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),iq]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lq]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:z()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Ga,st]}],"outline-w":[{outline:[Ga,Ri]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ga,Ri]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Li,cq]}],"shadow-color":[{shadow:[Jd]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Li,st]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",st]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",st]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",st]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Xd,st]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",st]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ga,Ri,y0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mq=YU(fq);function Ie(...e){return mq(Je(e))}function ku(e){if(!e)return"Âge inconnu";const t=new Date(e),n=new Date;if(isNaN(t.getTime()))return"Date invalide";let r=n.getFullYear()-t.getFullYear(),a=n.getMonth()-t.getMonth();if((a<0||a===0&&n.getDate()<t.getDate())&&(r--,a+=12),r===0){if(a===0){const i=Math.floor((n.getTime()-t.getTime())/864e5);return`${i} jour${i>1?"s":""}`}return`${a} mois`}else return a===0?`${r} an${r>1?"s":""}`:`${r} an${r>1?"s":""} et ${a} mois`}function Da(e){if(!e)return"Non renseigné";const t=new Date(e);return isNaN(t.getTime())?"Date invalide":t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}const pq=hU,lI=b.forwardRef(({className:e,...t},n)=>s.jsx(qM,{ref:n,className:Ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));lI.displayName=qM.displayName;const gq=hm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cI=b.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(WM,{ref:r,className:Ie(gq({variant:t}),e),...n}));cI.displayName=WM.displayName;const vq=b.forwardRef(({className:e,...t},n)=>s.jsx(GM,{ref:n,className:Ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));vq.displayName=GM.displayName;const uI=b.forwardRef(({className:e,...t},n)=>s.jsx(YM,{ref:n,className:Ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(px,{className:"h-4 w-4"})}));uI.displayName=YM.displayName;const dI=b.forwardRef(({className:e,...t},n)=>s.jsx(HM,{ref:n,className:Ie("text-sm font-semibold",e),...t}));dI.displayName=HM.displayName;const hI=b.forwardRef(({className:e,...t},n)=>s.jsx(KM,{ref:n,className:Ie("text-sm opacity-90",e),...t}));hI.displayName=KM.displayName;function xq(){const{toasts:e}=at();return s.jsxs(pq,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return s.jsxs(cI,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(dI,{children:n}),r&&s.jsx(hI,{children:r})]}),a,s.jsx(uI,{})]},t)}),s.jsx(lI,{})]})}var w_=["light","dark"],yq="(prefers-color-scheme: dark)",jq=b.createContext(void 0),bq={setTheme:e=>{},themes:[]},wq=()=>{var e;return(e=b.useContext(jq))!=null?e:bq};b.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=a?w_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,p=!1,v=!0)=>{let x=o?o[g]:g,y=p?g+"|| ''":`'${x}'`,j="";return a&&v&&!p&&w_.includes(g)&&(j+=`d.style.colorScheme = '${g}';`),n==="class"?p||x?j+=`c.add(${y})`:j+="null":x&&(j+=`d[s](n,${y})`),j},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${yq}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return b.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var Nq=e=>{switch(e){case"success":return _q;case"info":return Aq;case"warning":return Pq;case"error":return kq;default:return null}},Sq=Array(12).fill(0),Cq=({visible:e,className:t})=>$.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},$.createElement("div",{className:"sonner-spinner"},Sq.map((n,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),_q=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Pq=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Aq=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kq=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Tq=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Eq=()=>{let[e,t]=$.useState(document.hidden);return $.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},vb=1,Oq=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:vb++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),a=n!==void 0,i,o=r.then(async c=>{if(i=["resolve",c],$.isValidElement(c))a=!1,this.create({id:n,type:"default",message:c});else if(Mq(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||vb++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Mr=new Oq,Dq=(e,t)=>{let n=(t==null?void 0:t.id)||vb++;return Mr.addToast({title:e,...t,id:n}),n},Mq=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Iq=Dq,$q=()=>Mr.toasts,Rq=()=>Mr.getActiveToasts();Object.assign(Iq,{success:Mr.success,info:Mr.info,warning:Mr.warning,error:Mr.error,custom:Mr.custom,message:Mr.message,promise:Mr.promise,dismiss:Mr.dismiss,loading:Mr.loading},{getHistory:$q,getToasts:Rq});function Lq(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Lq(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zm(e){return e.label!==void 0}var Fq=3,Bq="32px",zq="16px",N_=4e3,Vq=356,Uq=14,qq=20,Wq=200;function $s(...e){return e.filter(Boolean).join(" ")}function Hq(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var Kq=e=>{var t,n,r,a,i,o,l,c,u,d,h;let{invert:f,toast:m,unstyled:g,interacting:p,setHeights:v,visibleToasts:x,heights:y,index:j,toasts:N,expanded:w,removeToast:C,defaultRichColors:S,closeButton:_,style:k,cancelButtonStyle:E,actionButtonStyle:P,className:A="",descriptionClassName:R="",duration:M,position:K,gap:z,loadingIcon:W,expandByDefault:T,classNames:I,icons:U,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:Z}=e,[ae,se]=$.useState(null),[me,xe]=$.useState(null),[le,Y]=$.useState(!1),[ee,oe]=$.useState(!1),[O,q]=$.useState(!1),[fe,he]=$.useState(!1),[Ye,We]=$.useState(!1),[ut,$e]=$.useState(0),[it,ie]=$.useState(0),Me=$.useRef(m.duration||M||N_),jt=$.useRef(null),Ft=$.useRef(null),Kn=j===0,gt=j+1<=x,Ot=m.type,Sn=m.dismissible!==!1,er=m.className||"",Wr=m.descriptionClassName||"",vn=$.useMemo(()=>y.findIndex(Qe=>Qe.toastId===m.id)||0,[y,m.id]),Di=$.useMemo(()=>{var Qe;return(Qe=m.closeButton)!=null?Qe:_},[m.closeButton,_]),Rn=$.useMemo(()=>m.duration||M||N_,[m.duration,M]),Ha=$.useRef(0),Ds=$.useRef(0),dc=$.useRef(0),fa=$.useRef(null),[G,Se]=K.split("-"),pe=$.useMemo(()=>y.reduce((Qe,wt,Bt)=>Bt>=vn?Qe:Qe+wt.height,0),[y,vn]),on=Eq(),kr=m.invert||f,Ms=Ot==="loading";Ds.current=$.useMemo(()=>vn*z+pe,[vn,pe]),$.useEffect(()=>{Me.current=Rn},[Rn]),$.useEffect(()=>{Y(!0)},[]),$.useEffect(()=>{let Qe=Ft.current;if(Qe){let wt=Qe.getBoundingClientRect().height;return ie(wt),v(Bt=>[{toastId:m.id,height:wt,position:m.position},...Bt]),()=>v(Bt=>Bt.filter(Hr=>Hr.toastId!==m.id))}},[v,m.id]),$.useLayoutEffect(()=>{if(!le)return;let Qe=Ft.current,wt=Qe.style.height;Qe.style.height="auto";let Bt=Qe.getBoundingClientRect().height;Qe.style.height=wt,ie(Bt),v(Hr=>Hr.find(Kr=>Kr.toastId===m.id)?Hr.map(Kr=>Kr.toastId===m.id?{...Kr,height:Bt}:Kr):[{toastId:m.id,height:Bt,position:m.position},...Hr])},[le,m.title,m.description,v,m.id]);let fs=$.useCallback(()=>{oe(!0),$e(Ds.current),v(Qe=>Qe.filter(wt=>wt.toastId!==m.id)),setTimeout(()=>{C(m)},Wq)},[m,C,v,Ds]);$.useEffect(()=>{if(m.promise&&Ot==="loading"||m.duration===1/0||m.type==="loading")return;let Qe;return w||p||Z&&on?(()=>{if(dc.current<Ha.current){let wt=new Date().getTime()-Ha.current;Me.current=Me.current-wt}dc.current=new Date().getTime()})():Me.current!==1/0&&(Ha.current=new Date().getTime(),Qe=setTimeout(()=>{var wt;(wt=m.onAutoClose)==null||wt.call(m,m),fs()},Me.current)),()=>clearTimeout(Qe)},[w,p,m,Ot,Z,on,fs]),$.useEffect(()=>{m.delete&&fs()},[fs,m.delete]);function Ly(){var Qe,wt,Bt;return U!=null&&U.loading?$.createElement("div",{className:$s(I==null?void 0:I.loader,(Qe=m==null?void 0:m.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":Ot==="loading"},U.loading):W?$.createElement("div",{className:$s(I==null?void 0:I.loader,(wt=m==null?void 0:m.classNames)==null?void 0:wt.loader,"sonner-loader"),"data-visible":Ot==="loading"},W):$.createElement(Cq,{className:$s(I==null?void 0:I.loader,(Bt=m==null?void 0:m.classNames)==null?void 0:Bt.loader),visible:Ot==="loading"})}return $.createElement("li",{tabIndex:0,ref:Ft,className:$s(A,er,I==null?void 0:I.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[Ot],(n=m==null?void 0:m.classNames)==null?void 0:n[Ot]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:S,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":le,"data-promise":!!m.promise,"data-swiped":Ye,"data-removed":ee,"data-visible":gt,"data-y-position":G,"data-x-position":Se,"data-index":j,"data-front":Kn,"data-swiping":O,"data-dismissible":Sn,"data-type":Ot,"data-invert":kr,"data-swipe-out":fe,"data-swipe-direction":me,"data-expanded":!!(w||T&&le),style:{"--index":j,"--toasts-before":j,"--z-index":N.length-j,"--offset":`${ee?ut:Ds.current}px`,"--initial-height":T?"auto":`${it}px`,...k,...m.style},onDragEnd:()=>{q(!1),se(null),fa.current=null},onPointerDown:Qe=>{Ms||!Sn||(jt.current=new Date,$e(Ds.current),Qe.target.setPointerCapture(Qe.pointerId),Qe.target.tagName!=="BUTTON"&&(q(!0),fa.current={x:Qe.clientX,y:Qe.clientY}))},onPointerUp:()=>{var Qe,wt,Bt,Hr;if(fe||!Sn)return;fa.current=null;let Kr=Number(((Qe=Ft.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ma=Number(((wt=Ft.current)==null?void 0:wt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ka=new Date().getTime()-((Bt=jt.current)==null?void 0:Bt.getTime()),Gr=ae==="x"?Kr:ma,pa=Math.abs(Gr)/Ka;if(Math.abs(Gr)>=qq||pa>.11){$e(Ds.current),(Hr=m.onDismiss)==null||Hr.call(m,m),xe(ae==="x"?Kr>0?"right":"left":ma>0?"down":"up"),fs(),he(!0),We(!1);return}q(!1),se(null)},onPointerMove:Qe=>{var wt,Bt,Hr,Kr;if(!fa.current||!Sn||((wt=window.getSelection())==null?void 0:wt.toString().length)>0)return;let ma=Qe.clientY-fa.current.y,Ka=Qe.clientX-fa.current.x,Gr=(Bt=e.swipeDirections)!=null?Bt:Hq(K);!ae&&(Math.abs(Ka)>1||Math.abs(ma)>1)&&se(Math.abs(Ka)>Math.abs(ma)?"x":"y");let pa={x:0,y:0};ae==="y"?(Gr.includes("top")||Gr.includes("bottom"))&&(Gr.includes("top")&&ma<0||Gr.includes("bottom")&&ma>0)&&(pa.y=ma):ae==="x"&&(Gr.includes("left")||Gr.includes("right"))&&(Gr.includes("left")&&Ka<0||Gr.includes("right")&&Ka>0)&&(pa.x=Ka),(Math.abs(pa.x)>0||Math.abs(pa.y)>0)&&We(!0),(Hr=Ft.current)==null||Hr.style.setProperty("--swipe-amount-x",`${pa.x}px`),(Kr=Ft.current)==null||Kr.style.setProperty("--swipe-amount-y",`${pa.y}px`)}},Di&&!m.jsx?$.createElement("button",{"aria-label":H,"data-disabled":Ms,"data-close-button":!0,onClick:Ms||!Sn?()=>{}:()=>{var Qe;fs(),(Qe=m.onDismiss)==null||Qe.call(m,m)},className:$s(I==null?void 0:I.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=U==null?void 0:U.close)!=null?i:Tq):null,m.jsx||b.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:$.createElement($.Fragment,null,Ot||m.icon||m.promise?$.createElement("div",{"data-icon":"",className:$s(I==null?void 0:I.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ly():null,m.type!=="loading"?m.icon||(U==null?void 0:U[Ot])||Nq(Ot):null):null,$.createElement("div",{"data-content":"",className:$s(I==null?void 0:I.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},$.createElement("div",{"data-title":"",className:$s(I==null?void 0:I.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?$.createElement("div",{"data-description":"",className:$s(R,Wr,I==null?void 0:I.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),b.isValidElement(m.cancel)?m.cancel:m.cancel&&Zm(m.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:Qe=>{var wt,Bt;Zm(m.cancel)&&Sn&&((Bt=(wt=m.cancel).onClick)==null||Bt.call(wt,Qe),fs())},className:$s(I==null?void 0:I.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,b.isValidElement(m.action)?m.action:m.action&&Zm(m.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||P,onClick:Qe=>{var wt,Bt;Zm(m.action)&&((Bt=(wt=m.action).onClick)==null||Bt.call(wt,Qe),!Qe.defaultPrevented&&fs())},className:$s(I==null?void 0:I.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function S_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Gq(e,t){let n={};return[e,t].forEach((r,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?zq:Bq;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var Yq=b.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:g=Fq,toastOptions:p,dir:v=S_(),gap:x=Uq,loadingIcon:y,icons:j,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:w}=e,[C,S]=$.useState([]),_=$.useMemo(()=>Array.from(new Set([r].concat(C.filter(Z=>Z.position).map(Z=>Z.position)))),[C,r]),[k,E]=$.useState([]),[P,A]=$.useState(!1),[R,M]=$.useState(!1),[K,z]=$.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=$.useRef(null),T=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=$.useRef(null),U=$.useRef(!1),H=$.useCallback(Z=>{S(ae=>{var se;return(se=ae.find(me=>me.id===Z.id))!=null&&se.delete||Mr.dismiss(Z.id),ae.filter(({id:me})=>me!==Z.id)})},[]);return $.useEffect(()=>Mr.subscribe(Z=>{if(Z.dismiss){S(ae=>ae.map(se=>se.id===Z.id?{...se,delete:!0}:se));return}setTimeout(()=>{SM.flushSync(()=>{S(ae=>{let se=ae.findIndex(me=>me.id===Z.id);return se!==-1?[...ae.slice(0,se),{...ae[se],...Z},...ae.slice(se+1)]:[Z,...ae]})})})}),[]),$.useEffect(()=>{if(d!=="system"){z(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:ae})=>{z(ae?"dark":"light")})}catch{Z.addListener(({matches:se})=>{try{z(se?"dark":"light")}catch(me){console.error(me)}})}},[d]),$.useEffect(()=>{C.length<=1&&A(!1)},[C]),$.useEffect(()=>{let Z=ae=>{var se,me;a.every(xe=>ae[xe]||ae.code===xe)&&(A(!0),(se=W.current)==null||se.focus()),ae.code==="Escape"&&(document.activeElement===W.current||(me=W.current)!=null&&me.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[a]),$.useEffect(()=>{if(W.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,U.current=!1)}},[W.current]),$.createElement("section",{ref:t,"aria-label":`${N} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((Z,ae)=>{var se;let[me,xe]=Z.split("-");return C.length?$.createElement("ol",{key:Z,dir:v==="auto"?S_():v,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":me,"data-lifted":P&&C.length>1&&!i,"data-x-position":xe,style:{"--front-toast-height":`${((se=k[0])==null?void 0:se.height)||0}px`,"--width":`${Vq}px`,"--gap":`${x}px`,...m,...Gq(c,u)},onBlur:le=>{U.current&&!le.currentTarget.contains(le.relatedTarget)&&(U.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||U.current||(U.current=!0,I.current=le.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{R||A(!1)},onDragEnd:()=>A(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},C.filter(le=>!le.position&&ae===0||le.position===Z).map((le,Y)=>{var ee,oe;return $.createElement(Kq,{key:le.id,icons:j,index:Y,toast:le,defaultRichColors:h,duration:(ee=p==null?void 0:p.duration)!=null?ee:f,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:g,closeButton:(oe=p==null?void 0:p.closeButton)!=null?oe:o,interacting:R,position:Z,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:H,toasts:C.filter(O=>O.position==le.position),heights:k.filter(O=>O.position==le.position),setHeights:E,expandByDefault:i,gap:x,loadingIcon:y,expanded:P,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})})):null}))});const Qq=({...e})=>{const{theme:t="system"}=wq();return s.jsx(Yq,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Xq=KN[" useId ".trim().toString()]||(()=>{}),Jq=0;function Ma(e){const[t,n]=b.useState(Xq());return Nn(()=>{n(r=>r??String(Jq++))},[e]),t?`radix-${t}`:""}const Zq=["top","right","bottom","left"],ko=Math.min,Zr=Math.max,_g=Math.round,ep=Math.floor,Ia=e=>({x:e,y:e}),e7={left:"right",right:"left",bottom:"top",top:"bottom"},t7={start:"end",end:"start"};function xb(e,t,n){return Zr(e,ko(t,n))}function wi(e,t){return typeof e=="function"?e(t):e}function Ni(e){return e.split("-")[0]}function pd(e){return e.split("-")[1]}function q1(e){return e==="x"?"y":"x"}function W1(e){return e==="y"?"height":"width"}const n7=new Set(["top","bottom"]);function _a(e){return n7.has(Ni(e))?"y":"x"}function H1(e){return q1(_a(e))}function r7(e,t,n){n===void 0&&(n=!1);const r=pd(e),a=H1(e),i=W1(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Pg(o)),[o,Pg(o)]}function s7(e){const t=Pg(e);return[yb(e),t,yb(t)]}function yb(e){return e.replace(/start|end/g,t=>t7[t])}const C_=["left","right"],__=["right","left"],a7=["top","bottom"],i7=["bottom","top"];function o7(e,t,n){switch(e){case"top":case"bottom":return n?t?__:C_:t?C_:__;case"left":case"right":return t?a7:i7;default:return[]}}function l7(e,t,n,r){const a=pd(e);let i=o7(Ni(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(yb)))),i}function Pg(e){return e.replace(/left|right|bottom|top/g,t=>e7[t])}function c7(e){return{top:0,right:0,bottom:0,left:0,...e}}function fI(e){return typeof e!="number"?c7(e):{top:e,right:e,bottom:e,left:e}}function Ag(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function P_(e,t,n){let{reference:r,floating:a}=e;const i=_a(t),o=H1(t),l=W1(o),c=Ni(t),u=i==="y",d=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,f=r[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-a.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-a.width,y:h};break;default:m={x:r.x,y:r.y}}switch(pd(t)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const u7=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=P_(u,r,c),f=r,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:x}=l[p],{x:y,y:j,data:N,reset:w}=await x({x:d,y:h,initialPlacement:r,placement:f,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,h=j??h,m={...m,[v]:{...m[v],...N}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(u=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):w.rects),{x:d,y:h}=P_(u,f,c)),p=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:m}};async function uf(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=wi(t,e),g=fI(m),v=l[f?h==="floating"?"reference":"floating":h],x=Ag(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=h==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},w=Ag(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:j,strategy:c}):y);return{top:(x.top-w.top+g.top)/N.y,bottom:(w.bottom-x.bottom+g.bottom)/N.y,left:(x.left-w.left+g.left)/N.x,right:(w.right-x.right+g.right)/N.x}}const d7=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=wi(e,t)||{};if(u==null)return{};const h=fI(d),f={x:n,y:r},m=H1(a),g=W1(m),p=await o.getDimensions(u),v=m==="y",x=v?"top":"left",y=v?"bottom":"right",j=v?"clientHeight":"clientWidth",N=i.reference[g]+i.reference[m]-f[m]-i.floating[g],w=f[m]-i.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=C?C[j]:0;(!S||!await(o.isElement==null?void 0:o.isElement(C)))&&(S=l.floating[j]||i.floating[g]);const _=N/2-w/2,k=S/2-p[g]/2-1,E=ko(h[x],k),P=ko(h[y],k),A=E,R=S-p[g]-P,M=S/2-p[g]/2+_,K=xb(A,M,R),z=!c.arrow&&pd(a)!=null&&M!==K&&i.reference[g]/2-(M<A?E:P)-p[g]/2<0,W=z?M<A?M-A:M-R:0;return{[m]:f[m]+W,data:{[m]:K,centerOffset:M-K-W,...z&&{alignmentOffset:W}},reset:z}}}),h7=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=wi(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Ni(a),y=_a(l),j=Ni(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),w=f||(j||!p?[Pg(l)]:s7(l)),C=g!=="none";!f&&C&&w.push(...l7(l,p,g,N));const S=[l,...w],_=await uf(t,v),k=[];let E=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&k.push(_[x]),h){const M=r7(a,o,N);k.push(_[M[0]],_[M[1]])}if(E=[...E,{placement:a,overflows:k}],!k.every(M=>M<=0)){var P,A;const M=(((P=i.flip)==null?void 0:P.index)||0)+1,K=S[M];if(K&&(!(h==="alignment"?y!==_a(K):!1)||E.every(T=>T.overflows[0]>0&&_a(T.placement)===y)))return{data:{index:M,overflows:E},reset:{placement:K}};let z=(A=E.filter(W=>W.overflows[0]<=0).sort((W,T)=>W.overflows[1]-T.overflows[1])[0])==null?void 0:A.placement;if(!z)switch(m){case"bestFit":{var R;const W=(R=E.filter(T=>{if(C){const I=_a(T.placement);return I===y||I==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(I=>I>0).reduce((I,U)=>I+U,0)]).sort((T,I)=>T[1]-I[1])[0])==null?void 0:R[0];W&&(z=W);break}case"initialPlacement":z=l;break}if(a!==z)return{reset:{placement:z}}}return{}}}};function A_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function k_(e){return Zq.some(t=>e[t]>=0)}const f7=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=wi(e,t);switch(r){case"referenceHidden":{const i=await uf(t,{...a,elementContext:"reference"}),o=A_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:k_(o)}}}case"escaped":{const i=await uf(t,{...a,altBoundary:!0}),o=A_(i,n.floating);return{data:{escapedOffsets:o,escaped:k_(o)}}}default:return{}}}}},mI=new Set(["left","top"]);async function m7(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=Ni(n),l=pd(n),c=_a(n)==="y",u=mI.has(o)?-1:1,d=i&&c?-1:1,h=wi(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const p7=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await m7(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},g7=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y}=v;return{x,y}}},...c}=wi(e,t),u={x:n,y:r},d=await uf(t,c),h=_a(Ni(a)),f=q1(h);let m=u[f],g=u[h];if(i){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=m+d[v],j=m-d[x];m=xb(y,m,j)}if(o){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=g+d[v],j=g-d[x];g=xb(y,g,j)}const p=l.fn({...t,[f]:m,[h]:g});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[h]:o}}}}}},v7=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=wi(e,t),d={x:n,y:r},h=_a(a),f=q1(h);let m=d[f],g=d[h];const p=wi(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const j=f==="y"?"height":"width",N=i.reference[f]-i.floating[j]+v.mainAxis,w=i.reference[f]+i.reference[j]-v.mainAxis;m<N?m=N:m>w&&(m=w)}if(u){var x,y;const j=f==="y"?"width":"height",N=mI.has(Ni(a)),w=i.reference[h]-i.floating[j]+(N&&((x=o.offset)==null?void 0:x[h])||0)+(N?0:v.crossAxis),C=i.reference[h]+i.reference[j]+(N?0:((y=o.offset)==null?void 0:y[h])||0)-(N?v.crossAxis:0);g<w?g=w:g>C&&(g=C)}return{[f]:m,[h]:g}}}},x7=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=wi(e,t),d=await uf(t,u),h=Ni(a),f=pd(a),m=_a(a)==="y",{width:g,height:p}=i.floating;let v,x;h==="top"||h==="bottom"?(v=h,x=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,v=f==="end"?"top":"bottom");const y=p-d.top-d.bottom,j=g-d.left-d.right,N=ko(p-d[v],y),w=ko(g-d[x],j),C=!t.middlewareData.shift;let S=N,_=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=y),C&&!f){const E=Zr(d.left,0),P=Zr(d.right,0),A=Zr(d.top,0),R=Zr(d.bottom,0);m?_=g-2*(E!==0||P!==0?E+P:Zr(d.left,d.right)):S=p-2*(A!==0||R!==0?A+R:Zr(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:S});const k=await o.getDimensions(l.floating);return g!==k.width||p!==k.height?{reset:{rects:!0}}:{}}}};function gx(){return typeof window<"u"}function gd(e){return pI(e)?(e.nodeName||"").toLowerCase():"#document"}function ss(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Va(e){var t;return(t=(pI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pI(e){return gx()?e instanceof Node||e instanceof ss(e).Node:!1}function sa(e){return gx()?e instanceof Element||e instanceof ss(e).Element:!1}function Ba(e){return gx()?e instanceof HTMLElement||e instanceof ss(e).HTMLElement:!1}function T_(e){return!gx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ss(e).ShadowRoot}const y7=new Set(["inline","contents"]);function mm(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=aa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!y7.has(a)}const j7=new Set(["table","td","th"]);function b7(e){return j7.has(gd(e))}const w7=[":popover-open",":modal"];function vx(e){return w7.some(t=>{try{return e.matches(t)}catch{return!1}})}const N7=["transform","translate","scale","rotate","perspective"],S7=["transform","translate","scale","rotate","perspective","filter"],C7=["paint","layout","strict","content"];function K1(e){const t=G1(),n=sa(e)?aa(e):e;return N7.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||S7.some(r=>(n.willChange||"").includes(r))||C7.some(r=>(n.contain||"").includes(r))}function _7(e){let t=To(e);for(;Ba(t)&&!Tu(t);){if(K1(t))return t;if(vx(t))return null;t=To(t)}return null}function G1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const P7=new Set(["html","body","#document"]);function Tu(e){return P7.has(gd(e))}function aa(e){return ss(e).getComputedStyle(e)}function xx(e){return sa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function To(e){if(gd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||T_(e)&&e.host||Va(e);return T_(t)?t.host:t}function gI(e){const t=To(e);return Tu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ba(t)&&mm(t)?t:gI(t)}function df(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=gI(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=ss(a);if(i){const l=jb(o);return t.concat(o,o.visualViewport||[],mm(a)?a:[],l&&n?df(l):[])}return t.concat(a,df(a,[],n))}function jb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vI(e){const t=aa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Ba(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=_g(n)!==i||_g(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Y1(e){return sa(e)?e:e.contextElement}function eu(e){const t=Y1(e);if(!Ba(t))return Ia(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=vI(t);let o=(i?_g(n.width):n.width)/r,l=(i?_g(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const A7=Ia(0);function xI(e){const t=ss(e);return!G1()||!t.visualViewport?A7:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function k7(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ss(e)?!1:t}function Rl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Y1(e);let o=Ia(1);t&&(r?sa(r)&&(o=eu(r)):o=eu(e));const l=k7(i,n,r)?xI(i):Ia(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,h=a.height/o.y;if(i){const f=ss(i),m=r&&sa(r)?ss(r):r;let g=f,p=jb(g);for(;p&&r&&m!==g;){const v=eu(p),x=p.getBoundingClientRect(),y=aa(p),j=x.left+(p.clientLeft+parseFloat(y.paddingLeft))*v.x,N=x.top+(p.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,h*=v.y,c+=j,u+=N,g=ss(p),p=jb(g)}}return Ag({width:d,height:h,x:c,y:u})}function Q1(e,t){const n=xx(e).scrollLeft;return t?t.left+n:Rl(Va(e)).left+n}function yI(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:Q1(e,r)),i=r.top+t.scrollTop;return{x:a,y:i}}function T7(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=Va(r),l=t?vx(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Ia(1);const d=Ia(0),h=Ba(r);if((h||!h&&!i)&&((gd(r)!=="body"||mm(o))&&(c=xx(r)),Ba(r))){const m=Rl(r);u=eu(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!i?yI(o,c,!0):Ia(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function E7(e){return Array.from(e.getClientRects())}function O7(e){const t=Va(e),n=xx(e),r=e.ownerDocument.body,a=Zr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Zr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Q1(e);const l=-n.scrollTop;return aa(r).direction==="rtl"&&(o+=Zr(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}function D7(e,t){const n=ss(e),r=Va(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=G1();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const M7=new Set(["absolute","fixed"]);function I7(e,t){const n=Rl(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Ba(e)?eu(e):Ia(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function E_(e,t,n){let r;if(t==="viewport")r=D7(e,n);else if(t==="document")r=O7(Va(e));else if(sa(t))r=I7(t,n);else{const a=xI(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ag(r)}function jI(e,t){const n=To(e);return n===t||!sa(n)||Tu(n)?!1:aa(n).position==="fixed"||jI(n,t)}function $7(e,t){const n=t.get(e);if(n)return n;let r=df(e,[],!1).filter(l=>sa(l)&&gd(l)!=="body"),a=null;const i=aa(e).position==="fixed";let o=i?To(e):e;for(;sa(o)&&!Tu(o);){const l=aa(o),c=K1(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&M7.has(a.position)||mm(o)&&!c&&jI(e,o))?r=r.filter(d=>d!==o):a=l,o=To(o)}return t.set(e,r),r}function R7(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?vx(t)?[]:$7(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=E_(t,d,a);return u.top=Zr(h.top,u.top),u.right=ko(h.right,u.right),u.bottom=ko(h.bottom,u.bottom),u.left=Zr(h.left,u.left),u},E_(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function L7(e){const{width:t,height:n}=vI(e);return{width:t,height:n}}function F7(e,t,n){const r=Ba(t),a=Va(t),i=n==="fixed",o=Rl(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ia(0);function u(){c.x=Q1(a)}if(r||!r&&!i)if((gd(t)!=="body"||mm(a))&&(l=xx(t)),r){const m=Rl(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!r&&a&&u();const d=a&&!r&&!i?yI(a,l):Ia(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function j0(e){return aa(e).position==="static"}function O_(e,t){if(!Ba(e)||aa(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Va(e)===n&&(n=n.ownerDocument.body),n}function bI(e,t){const n=ss(e);if(vx(e))return n;if(!Ba(e)){let a=To(e);for(;a&&!Tu(a);){if(sa(a)&&!j0(a))return a;a=To(a)}return n}let r=O_(e,t);for(;r&&b7(r)&&j0(r);)r=O_(r,t);return r&&Tu(r)&&j0(r)&&!K1(r)?n:r||_7(e)||n}const B7=async function(e){const t=this.getOffsetParent||bI,n=this.getDimensions,r=await n(e.floating);return{reference:F7(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function z7(e){return aa(e).direction==="rtl"}const V7={convertOffsetParentRelativeRectToViewportRelativeRect:T7,getDocumentElement:Va,getClippingRect:R7,getOffsetParent:bI,getElementRects:B7,getClientRects:E7,getDimensions:L7,getScale:eu,isElement:sa,isRTL:z7};function wI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function U7(e,t){let n=null,r;const a=Va(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(l||t(),!f||!m)return;const g=ep(h),p=ep(a.clientWidth-(d+f)),v=ep(a.clientHeight-(h+m)),x=ep(d),j={rootMargin:-g+"px "+-p+"px "+-v+"px "+-x+"px",threshold:Zr(0,ko(1,c))||1};let N=!0;function w(C){const S=C[0].intersectionRatio;if(S!==c){if(!N)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!wI(u,e.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(w,{...j,root:a.ownerDocument})}catch{n=new IntersectionObserver(w,j)}n.observe(e)}return o(!0),i}function q7(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Y1(e),d=a||i?[...u?df(u):[],...df(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=u&&l?U7(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?Rl(e):null;c&&v();function v(){const x=Rl(e);p&&!wI(p,x)&&n(),p=x,g=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(y=>{a&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h==null||h(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const W7=p7,H7=g7,K7=h7,G7=x7,Y7=f7,D_=d7,Q7=v7,X7=(e,t,n)=>{const r=new Map,a={platform:V7,...n},i={...a.platform,_c:r};return u7(e,t,{...a,platform:i})};var J7=typeof document<"u",Z7=function(){},Gp=J7?b.useLayoutEffect:Z7;function kg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!kg(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!kg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function NI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function M_(e,t){const n=NI(e);return Math.round(t*n)/n}function b0(e){const t=b.useRef(e);return Gp(()=>{t.current=e}),t}function e9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=b.useState(r);kg(f,r)||m(r);const[g,p]=b.useState(null),[v,x]=b.useState(null),y=b.useCallback(T=>{T!==C.current&&(C.current=T,p(T))},[]),j=b.useCallback(T=>{T!==S.current&&(S.current=T,x(T))},[]),N=i||g,w=o||v,C=b.useRef(null),S=b.useRef(null),_=b.useRef(d),k=c!=null,E=b0(c),P=b0(a),A=b0(u),R=b.useCallback(()=>{if(!C.current||!S.current)return;const T={placement:t,strategy:n,middleware:f};P.current&&(T.platform=P.current),X7(C.current,S.current,T).then(I=>{const U={...I,isPositioned:A.current!==!1};M.current&&!kg(_.current,U)&&(_.current=U,Zl.flushSync(()=>{h(U)}))})},[f,t,n,P,A]);Gp(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(T=>({...T,isPositioned:!1})))},[u]);const M=b.useRef(!1);Gp(()=>(M.current=!0,()=>{M.current=!1}),[]),Gp(()=>{if(N&&(C.current=N),w&&(S.current=w),N&&w){if(E.current)return E.current(N,w,R);R()}},[N,w,R,E,k]);const K=b.useMemo(()=>({reference:C,floating:S,setReference:y,setFloating:j}),[y,j]),z=b.useMemo(()=>({reference:N,floating:w}),[N,w]),W=b.useMemo(()=>{const T={position:n,left:0,top:0};if(!z.floating)return T;const I=M_(z.floating,d.x),U=M_(z.floating,d.y);return l?{...T,transform:"translate("+I+"px, "+U+"px)",...NI(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:U}},[n,l,z.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:R,refs:K,elements:z,floatingStyles:W}),[d,R,K,z,W])}const t9=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?D_({element:r.current,padding:a}).fn(n):{}:r?D_({element:r,padding:a}).fn(n):{}}}},n9=(e,t)=>({...W7(e),options:[e,t]}),r9=(e,t)=>({...H7(e),options:[e,t]}),s9=(e,t)=>({...Q7(e),options:[e,t]}),a9=(e,t)=>({...K7(e),options:[e,t]}),i9=(e,t)=>({...G7(e),options:[e,t]}),o9=(e,t)=>({...Y7(e),options:[e,t]}),l9=(e,t)=>({...t9(e),options:[e,t]});var c9="Arrow",SI=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(Be.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});SI.displayName=c9;var u9=SI;function X1(e){const[t,n]=b.useState(void 0);return Nn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var J1="Popper",[CI,vd]=us(J1),[d9,_I]=CI(J1),PI=e=>{const{__scopePopper:t,children:n}=e,[r,a]=b.useState(null);return s.jsx(d9,{scope:t,anchor:r,onAnchorChange:a,children:n})};PI.displayName=J1;var AI="PopperAnchor",kI=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=_I(AI,n),o=b.useRef(null),l=xt(t,o);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(Be.div,{...a,ref:l})});kI.displayName=AI;var Z1="PopperContent",[h9,f9]=CI(Z1),TI=b.forwardRef((e,t)=>{var le,Y,ee,oe,O,q;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=_I(Z1,n),[x,y]=b.useState(null),j=xt(t,fe=>y(fe)),[N,w]=b.useState(null),C=X1(N),S=(C==null?void 0:C.width)??0,_=(C==null?void 0:C.height)??0,k=r+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],A=P.length>0,R={padding:E,boundary:P.filter(p9),altBoundary:A},{refs:M,floatingStyles:K,placement:z,isPositioned:W,middlewareData:T}=e9({strategy:"fixed",placement:k,whileElementsMounted:(...fe)=>q7(...fe,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[n9({mainAxis:a+_,alignmentAxis:o}),c&&r9({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?s9():void 0,...R}),c&&a9({...R}),i9({...R,apply:({elements:fe,rects:he,availableWidth:Ye,availableHeight:We})=>{const{width:ut,height:$e}=he.reference,it=fe.floating.style;it.setProperty("--radix-popper-available-width",`${Ye}px`),it.setProperty("--radix-popper-available-height",`${We}px`),it.setProperty("--radix-popper-anchor-width",`${ut}px`),it.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),N&&l9({element:N,padding:l}),g9({arrowWidth:S,arrowHeight:_}),f&&o9({strategy:"referenceHidden",...R})]}),[I,U]=DI(z),H=Sr(g);Nn(()=>{W&&(H==null||H())},[W,H]);const Z=(le=T.arrow)==null?void 0:le.x,ae=(Y=T.arrow)==null?void 0:Y.y,se=((ee=T.arrow)==null?void 0:ee.centerOffset)!==0,[me,xe]=b.useState();return Nn(()=>{x&&xe(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:W?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(oe=T.transformOrigin)==null?void 0:oe.x,(O=T.transformOrigin)==null?void 0:O.y].join(" "),...((q=T.hide)==null?void 0:q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(h9,{scope:n,placedSide:I,onArrowChange:w,arrowX:Z,arrowY:ae,shouldHideArrow:se,children:s.jsx(Be.div,{"data-side":I,"data-align":U,...p,ref:j,style:{...p.style,animation:W?void 0:"none"}})})})});TI.displayName=Z1;var EI="PopperArrow",m9={top:"bottom",right:"left",bottom:"top",left:"right"},OI=b.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=f9(EI,r),o=m9[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(u9,{...a,ref:n,style:{...a.style,display:"block"}})})});OI.displayName=EI;function p9(e){return e!==null}var g9=e=>({name:"transformOrigin",options:e,fn(t){var v,x,y;const{placement:n,rects:r,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=DI(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,m=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?h:`${f}px`,p=`${-c}px`):u==="top"?(g=o?h:`${f}px`,p=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?h:`${m}px`):u==="left"&&(g=`${r.floating.width+c}px`,p=o?h:`${m}px`),{data:{x:g,y:p}}}});function DI(e){const[t,n="center"]=e.split("-");return[t,n]}var MI=PI,eS=kI,tS=TI,nS=OI,[yx,WAe]=us("Tooltip",[vd]),rS=vd(),II="TooltipProvider",v9=700,I_="tooltip.open",[x9,$I]=yx(II),RI=e=>{const{__scopeTooltip:t,delayDuration:n=v9,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,o=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(x9,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};RI.displayName=II;var LI="Tooltip",[HAe,jx]=yx(LI),bb="TooltipTrigger",y9=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=jx(bb,n),i=$I(bb,n),o=rS(n),l=b.useRef(null),c=xt(t,l,a.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),h=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(eS,{asChild:!0,...o,children:s.jsx(Be.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:_e(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:_e(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:_e(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:_e(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:_e(e.onBlur,a.onClose),onClick:_e(e.onClick,a.onClose)})})});y9.displayName=bb;var j9="TooltipPortal",[KAe,b9]=yx(j9,{forceMount:void 0}),Eu="TooltipContent",FI=b.forwardRef((e,t)=>{const n=b9(Eu,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=jx(Eu,e.__scopeTooltip);return s.jsx(Ts,{present:r||o.open,children:o.disableHoverableContent?s.jsx(BI,{side:a,...i,ref:t}):s.jsx(w9,{side:a,...i,ref:t})})}),w9=b.forwardRef((e,t)=>{const n=jx(Eu,e.__scopeTooltip),r=$I(Eu,e.__scopeTooltip),a=b.useRef(null),i=xt(t,a),[o,l]=b.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:h}=r,f=b.useCallback(()=>{l(null),h(!1)},[h]),m=b.useCallback((g,p)=>{const v=g.currentTarget,x={x:g.clientX,y:g.clientY},y=P9(x,v.getBoundingClientRect()),j=A9(x,y),N=k9(p.getBoundingClientRect()),w=E9([...j,...N]);l(w),h(!0)},[h]);return b.useEffect(()=>()=>f(),[f]),b.useEffect(()=>{if(c&&d){const g=v=>m(v,d),p=v=>m(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,f]),b.useEffect(()=>{if(o){const g=p=>{const v=p.target,x={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),j=!T9(x,o);y?f():j&&(f(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,f]),s.jsx(BI,{...e,ref:i})}),[N9,S9]=yx(LI,{isInside:!1}),C9=_V("TooltipContent"),BI=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=jx(Eu,n),u=rS(n),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(I_,d),()=>document.removeEventListener(I_,d)),[d]),b.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),s.jsx(hd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:s.jsxs(tS,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(C9,{children:r}),s.jsx(N9,{scope:n,isInside:!0,children:s.jsx(GV,{id:c.contentId,role:"tooltip",children:a||r})})]})})});FI.displayName=Eu;var zI="TooltipArrow",_9=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=rS(n);return S9(zI,n).isInside?null:s.jsx(nS,{...a,...r,ref:t})});_9.displayName=zI;function P9(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function A9(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function k9(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function T9(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(a=!a)}return a}function E9(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),O9(t)}function O9(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var D9=RI,VI=FI;const M9=D9,I9=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(VI,{ref:r,sideOffset:t,className:Ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));I9.displayName=VI.displayName;var xd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$9={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Zi,VN,tO,R9=(tO=class{constructor(){Fe(this,Zi,$9);Fe(this,VN,!1)}setTimeoutProvider(e){ke(this,Zi,e)}setTimeout(e,t){return X(this,Zi).setTimeout(e,t)}clearTimeout(e){X(this,Zi).clearTimeout(e)}setInterval(e,t){return X(this,Zi).setInterval(e,t)}clearInterval(e){X(this,Zi).clearInterval(e)}},Zi=new WeakMap,VN=new WeakMap,tO),ul=new R9;function L9(e){setTimeout(e,0)}var Ll=typeof window>"u"||"Deno"in globalThis;function gr(){}function F9(e,t){return typeof e=="function"?e(t):e}function wb(e){return typeof e=="number"&&e>=0&&e!==1/0}function UI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wo(e,t){return typeof e=="function"?e(t):e}function xs(e,t){return typeof e=="function"?e(t):e}function $_(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==sS(o,t.options))return!1}else if(!hf(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function R_(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Fl(t.options.mutationKey)!==Fl(i))return!1}else if(!hf(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function sS(e,t){return((t==null?void 0:t.queryKeyHashFn)||Fl)(e)}function Fl(e){return JSON.stringify(e,(t,n)=>Nb(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function hf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>hf(e[n],t[n])):!1}var B9=Object.prototype.hasOwnProperty;function qI(e,t){if(e===t)return e;const n=L_(e)&&L_(t);if(!n&&!(Nb(e)&&Nb(t)))return t;const a=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u],h=e[d],f=t[d];if(h===f){l[d]=h,(n?u<a:B9.call(e,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const m=qI(h,f);l[d]=m,m===h&&c++}return a===o&&c===a?e:l}function Tg(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function L_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Nb(e){if(!F_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!F_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function F_(e){return Object.prototype.toString.call(e)==="[object Object]"}function z9(e){return new Promise(t=>{ul.setTimeout(t,e)})}function Sb(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?qI(e,t):t}function V9(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function U9(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var aS=Symbol();function WI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===aS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function HI(e,t){return typeof e=="function"?e(...t):!!e}var gl,eo,ou,nO,q9=(nO=class extends xd{constructor(){super();Fe(this,gl);Fe(this,eo);Fe(this,ou);ke(this,ou,t=>{if(!Ll&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){X(this,eo)||this.setEventListener(X(this,ou))}onUnsubscribe(){var t;this.hasListeners()||((t=X(this,eo))==null||t.call(this),ke(this,eo,void 0))}setEventListener(t){var n;ke(this,ou,t),(n=X(this,eo))==null||n.call(this),ke(this,eo,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){X(this,gl)!==t&&(ke(this,gl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof X(this,gl)=="boolean"?X(this,gl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},gl=new WeakMap,eo=new WeakMap,ou=new WeakMap,nO),iS=new q9;function Cb(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}var W9=L9;function H9(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=W9;const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Tn=H9(),lu,to,cu,rO,K9=(rO=class extends xd{constructor(){super();Fe(this,lu,!0);Fe(this,to);Fe(this,cu);ke(this,cu,t=>{if(!Ll&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){X(this,to)||this.setEventListener(X(this,cu))}onUnsubscribe(){var t;this.hasListeners()||((t=X(this,to))==null||t.call(this),ke(this,to,void 0))}setEventListener(t){var n;ke(this,cu,t),(n=X(this,to))==null||n.call(this),ke(this,to,t(this.setOnline.bind(this)))}setOnline(t){X(this,lu)!==t&&(ke(this,lu,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return X(this,lu)}},lu=new WeakMap,to=new WeakMap,cu=new WeakMap,rO),Eg=new K9;function G9(e){return Math.min(1e3*2**e,3e4)}function KI(e){return(e??"online")==="online"?Eg.isOnline():!0}var _b=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function GI(e){let t=!1,n=0,r;const a=Cb(),i=()=>a.status!=="pending",o=p=>{var v;if(!i()){const x=new _b(p);f(x),(v=e.onCancel)==null||v.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>iS.isFocused()&&(e.networkMode==="always"||Eg.isOnline())&&e.canRun(),d=()=>KI(e.networkMode)&&e.canRun(),h=p=>{i()||(r==null||r(),a.resolve(p))},f=p=>{i()||(r==null||r(),a.reject(p))},m=()=>new Promise(p=>{var v;r=x=>{(i()||u())&&p(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;r=void 0,i()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(i())return;let p;const v=n===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(h).catch(x=>{var C;if(i())return;const y=e.retry??(Ll?0:3),j=e.retryDelay??G9,N=typeof j=="function"?j(n,x):j,w=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,x);if(t||!w){f(x);return}n++,(C=e.onFail)==null||C.call(e,n,x),z9(N).then(()=>u()?void 0:m()).then(()=>{t?f(x):g()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(r==null||r(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),a)}}var vl,sO,YI=(sO=class{constructor(){Fe(this,vl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wb(this.gcTime)&&ke(this,vl,ul.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ll?1/0:5*60*1e3))}clearGcTimeout(){X(this,vl)&&(ul.clearTimeout(X(this,vl)),ke(this,vl,void 0))}},vl=new WeakMap,sO),xl,uu,vs,yl,Ln,em,jl,zs,Qa,aO,Y9=(aO=class extends YI{constructor(t){super();Fe(this,zs);Fe(this,xl);Fe(this,uu);Fe(this,vs);Fe(this,yl);Fe(this,Ln);Fe(this,em);Fe(this,jl);ke(this,jl,!1),ke(this,em,t.defaultOptions),this.setOptions(t.options),this.observers=[],ke(this,yl,t.client),ke(this,vs,X(this,yl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ke(this,xl,B_(this.options)),this.state=t.state??X(this,xl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=X(this,Ln))==null?void 0:t.promise}setOptions(t){if(this.options={...X(this,em),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=B_(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),ke(this,xl,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,vs).remove(this)}setData(t,n){const r=Sb(this.state.data,t,this.options);return ot(this,zs,Qa).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ot(this,zs,Qa).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=X(this,Ln))==null?void 0:r.promise;return(a=X(this,Ln))==null||a.cancel(t),n?n.then(gr).catch(gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,xl))}isActive(){return this.observers.some(t=>xs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===aS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>wo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!UI(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=X(this,Ln))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=X(this,Ln))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),X(this,vs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(X(this,Ln)&&(X(this,jl)?X(this,Ln).cancel({revert:!0}):X(this,Ln).cancelRetry()),this.scheduleGc()),X(this,vs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ot(this,zs,Qa).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,h,f,m,g,p,v,x,y,j;if(this.state.fetchStatus!=="idle"&&((c=X(this,Ln))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(X(this,Ln))return X(this,Ln).continueRetry(),X(this,Ln).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(w=>w.options.queryFn);N&&this.setOptions(N.options)}const r=new AbortController,a=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(ke(this,jl,!0),r.signal)})},i=()=>{const N=WI(this.options,n),C=(()=>{const S={client:X(this,yl),queryKey:this.queryKey,meta:this.meta};return a(S),S})();return ke(this,jl,!1),this.options.persister?this.options.persister(N,C,this):N(C)},l=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:X(this,yl),state:this.state,fetchFn:i};return a(N),N})();(u=this.options.behavior)==null||u.onFetch(l,this),ke(this,uu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ot(this,zs,Qa).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),ke(this,Ln,GI({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof _b&&N.revert&&this.setState({...X(this,uu),fetchStatus:"idle"}),r.abort()},onFail:(N,w)=>{ot(this,zs,Qa).call(this,{type:"failed",failureCount:N,error:w})},onPause:()=>{ot(this,zs,Qa).call(this,{type:"pause"})},onContinue:()=>{ot(this,zs,Qa).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await X(this,Ln).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(m=(f=X(this,vs).config).onSuccess)==null||m.call(f,N,this),(p=(g=X(this,vs).config).onSettled)==null||p.call(g,N,this.state.error,this),N}catch(N){if(N instanceof _b){if(N.silent)return X(this,Ln).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw ot(this,zs,Qa).call(this,{type:"error",error:N}),(x=(v=X(this,vs).config).onError)==null||x.call(v,N,this),(j=(y=X(this,vs).config).onSettled)==null||j.call(y,this.state.data,N,this),N}finally{this.scheduleGc()}}},xl=new WeakMap,uu=new WeakMap,vs=new WeakMap,yl=new WeakMap,Ln=new WeakMap,em=new WeakMap,jl=new WeakMap,zs=new WeakSet,Qa=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...QI(r.data,this.options),fetchMeta:t.meta??null};case"success":const a={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ke(this,uu,t.manual?a:void 0),a;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Tn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),X(this,vs).notify({query:this,type:"updated",action:t})})},aO);function QI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function B_(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Or,vt,tm,fr,bl,du,ni,no,nm,hu,fu,wl,Nl,ro,mu,St,xh,Pb,Ab,kb,Tb,Eb,Ob,Db,XI,iO,Q9=(iO=class extends xd{constructor(t,n){super();Fe(this,St);Fe(this,Or);Fe(this,vt);Fe(this,tm);Fe(this,fr);Fe(this,bl);Fe(this,du);Fe(this,ni);Fe(this,no);Fe(this,nm);Fe(this,hu);Fe(this,fu);Fe(this,wl);Fe(this,Nl);Fe(this,ro);Fe(this,mu,new Set);this.options=n,ke(this,Or,t),ke(this,no,null),ke(this,ni,Cb()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(X(this,vt).addObserver(this),z_(X(this,vt),this.options)?ot(this,St,xh).call(this):this.updateResult(),ot(this,St,Tb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mb(X(this,vt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mb(X(this,vt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ot(this,St,Eb).call(this),ot(this,St,Ob).call(this),X(this,vt).removeObserver(this)}setOptions(t){const n=this.options,r=X(this,vt);if(this.options=X(this,Or).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xs(this.options.enabled,X(this,vt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ot(this,St,Db).call(this),X(this,vt).setOptions(this.options),n._defaulted&&!Tg(this.options,n)&&X(this,Or).getQueryCache().notify({type:"observerOptionsUpdated",query:X(this,vt),observer:this});const a=this.hasListeners();a&&V_(X(this,vt),r,this.options,n)&&ot(this,St,xh).call(this),this.updateResult(),a&&(X(this,vt)!==r||xs(this.options.enabled,X(this,vt))!==xs(n.enabled,X(this,vt))||wo(this.options.staleTime,X(this,vt))!==wo(n.staleTime,X(this,vt)))&&ot(this,St,Pb).call(this);const i=ot(this,St,Ab).call(this);a&&(X(this,vt)!==r||xs(this.options.enabled,X(this,vt))!==xs(n.enabled,X(this,vt))||i!==X(this,ro))&&ot(this,St,kb).call(this,i)}getOptimisticResult(t){const n=X(this,Or).getQueryCache().build(X(this,Or),t),r=this.createResult(n,t);return J9(this,r)&&(ke(this,fr,r),ke(this,du,this.options),ke(this,bl,X(this,vt).state)),r}getCurrentResult(){return X(this,fr)}trackResult(t,n){return new Proxy(t,{get:(r,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&!this.options.experimental_prefetchInRender&&X(this,ni).status==="pending"&&X(this,ni).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,a))})}trackProp(t){X(this,mu).add(t)}getCurrentQuery(){return X(this,vt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=X(this,Or).defaultQueryOptions(t),r=X(this,Or).getQueryCache().build(X(this,Or),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ot(this,St,xh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),X(this,fr)))}createResult(t,n){var k;const r=X(this,vt),a=this.options,i=X(this,fr),o=X(this,bl),l=X(this,du),u=t!==r?t.state:X(this,tm),{state:d}=t;let h={...d},f=!1,m;if(n._optimisticResults){const E=this.hasListeners(),P=!E&&z_(t,n),A=E&&V_(t,r,n,a);(P||A)&&(h={...h,...QI(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=h;m=h.data;let x=!1;if(n.placeholderData!==void 0&&m===void 0&&v==="pending"){let E;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(E=i.data,x=!0):E=typeof n.placeholderData=="function"?n.placeholderData((k=X(this,fu))==null?void 0:k.state.data,X(this,fu)):n.placeholderData,E!==void 0&&(v="success",m=Sb(i==null?void 0:i.data,E,n),f=!0)}if(n.select&&m!==void 0&&!x)if(i&&m===(o==null?void 0:o.data)&&n.select===X(this,nm))m=X(this,hu);else try{ke(this,nm,n.select),m=n.select(m),m=Sb(i==null?void 0:i.data,m,n),ke(this,hu,m),ke(this,no,null)}catch(E){ke(this,no,E)}X(this,no)&&(g=X(this,no),m=X(this,hu),p=Date.now(),v="error");const y=h.fetchStatus==="fetching",j=v==="pending",N=v==="error",w=j&&y,C=m!==void 0,_={status:v,fetchStatus:h.fetchStatus,isPending:j,isSuccess:v==="success",isError:N,isInitialLoading:w,isLoading:w,data:m,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!j,isLoadingError:N&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:N&&C,isStale:oS(t,n),refetch:this.refetch,promise:X(this,ni),isEnabled:xs(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=R=>{_.status==="error"?R.reject(_.error):_.data!==void 0&&R.resolve(_.data)},P=()=>{const R=ke(this,ni,_.promise=Cb());E(R)},A=X(this,ni);switch(A.status){case"pending":t.queryHash===r.queryHash&&E(A);break;case"fulfilled":(_.status==="error"||_.data!==A.value)&&P();break;case"rejected":(_.status!=="error"||_.error!==A.reason)&&P();break}}return _}updateResult(){const t=X(this,fr),n=this.createResult(X(this,vt),this.options);if(ke(this,bl,X(this,vt).state),ke(this,du,this.options),X(this,bl).data!==void 0&&ke(this,fu,X(this,vt)),Tg(n,t))return;ke(this,fr,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!X(this,mu).size)return!0;const o=new Set(i??X(this,mu));return this.options.throwOnError&&o.add("error"),Object.keys(X(this,fr)).some(l=>{const c=l;return X(this,fr)[c]!==t[c]&&o.has(c)})};ot(this,St,XI).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ot(this,St,Tb).call(this)}},Or=new WeakMap,vt=new WeakMap,tm=new WeakMap,fr=new WeakMap,bl=new WeakMap,du=new WeakMap,ni=new WeakMap,no=new WeakMap,nm=new WeakMap,hu=new WeakMap,fu=new WeakMap,wl=new WeakMap,Nl=new WeakMap,ro=new WeakMap,mu=new WeakMap,St=new WeakSet,xh=function(t){ot(this,St,Db).call(this);let n=X(this,vt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(gr)),n},Pb=function(){ot(this,St,Eb).call(this);const t=wo(this.options.staleTime,X(this,vt));if(Ll||X(this,fr).isStale||!wb(t))return;const r=UI(X(this,fr).dataUpdatedAt,t)+1;ke(this,wl,ul.setTimeout(()=>{X(this,fr).isStale||this.updateResult()},r))},Ab=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(X(this,vt)):this.options.refetchInterval)??!1},kb=function(t){ot(this,St,Ob).call(this),ke(this,ro,t),!(Ll||xs(this.options.enabled,X(this,vt))===!1||!wb(X(this,ro))||X(this,ro)===0)&&ke(this,Nl,ul.setInterval(()=>{(this.options.refetchIntervalInBackground||iS.isFocused())&&ot(this,St,xh).call(this)},X(this,ro)))},Tb=function(){ot(this,St,Pb).call(this),ot(this,St,kb).call(this,ot(this,St,Ab).call(this))},Eb=function(){X(this,wl)&&(ul.clearTimeout(X(this,wl)),ke(this,wl,void 0))},Ob=function(){X(this,Nl)&&(ul.clearInterval(X(this,Nl)),ke(this,Nl,void 0))},Db=function(){const t=X(this,Or).getQueryCache().build(X(this,Or),this.options);if(t===X(this,vt))return;const n=X(this,vt);ke(this,vt,t),ke(this,tm,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},XI=function(t){Tn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(X(this,fr))}),X(this,Or).getQueryCache().notify({query:X(this,vt),type:"observerResultsUpdated"})})},iO);function X9(e,t){return xs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function z_(e,t){return X9(e,t)||e.state.data!==void 0&&Mb(e,t,t.refetchOnMount)}function Mb(e,t,n){if(xs(t.enabled,e)!==!1&&wo(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&oS(e,t)}return!1}function V_(e,t,n,r){return(e!==t||xs(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&oS(e,n)}function oS(e,t){return xs(t.enabled,e)!==!1&&e.isStaleByTime(wo(t.staleTime,e))}function J9(e,t){return!Tg(e.getCurrentResult(),t)}function U_(e){return{onFetch:(t,n)=>{var d,h,f,m,g;const r=t.options,a=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},x=WI(t.options,t.fetchOptions),y=async(j,N,w)=>{if(p)return Promise.reject();if(N==null&&j.pages.length)return Promise.resolve(j);const S=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:N,direction:w?"backward":"forward",meta:t.options.meta};return v(P),P})(),_=await x(S),{maxPages:k}=t.options,E=w?U9:V9;return{pages:E(j.pages,_,k),pageParams:E(j.pageParams,N,k)}};if(a&&i.length){const j=a==="backward",N=j?Z9:q_,w={pages:i,pageParams:o},C=N(r,w);l=await y(w,C,j)}else{const j=e??i.length;do{const N=c===0?o[0]??r.initialPageParam:q_(r,l);if(c>0&&N==null)break;l=await y(l,N),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function q_(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Z9(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var rm,ya,mr,Sl,ja,zi,oO,eW=(oO=class extends YI{constructor(t){super();Fe(this,ja);Fe(this,rm);Fe(this,ya);Fe(this,mr);Fe(this,Sl);ke(this,rm,t.client),this.mutationId=t.mutationId,ke(this,mr,t.mutationCache),ke(this,ya,[]),this.state=t.state||JI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){X(this,ya).includes(t)||(X(this,ya).push(t),this.clearGcTimeout(),X(this,mr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ke(this,ya,X(this,ya).filter(n=>n!==t)),this.scheduleGc(),X(this,mr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){X(this,ya).length||(this.state.status==="pending"?this.scheduleGc():X(this,mr).remove(this))}continue(){var t;return((t=X(this,Sl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,h,f,m,g,p,v,x,y,j,N,w,C,S,_,k;const n=()=>{ot(this,ja,zi).call(this,{type:"continue"})},r={client:X(this,rm),meta:this.options.meta,mutationKey:this.options.mutationKey};ke(this,Sl,GI({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(E,P)=>{ot(this,ja,zi).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{ot(this,ja,zi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,mr).canRun(this)}));const a=this.state.status==="pending",i=!X(this,Sl).canStart();try{if(a)n();else{ot(this,ja,zi).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=X(this,mr).config).onMutate)==null?void 0:l.call(o,t,this,r));const P=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));P!==this.state.context&&ot(this,ja,zi).call(this,{type:"pending",context:P,variables:t,isPaused:i})}const E=await X(this,Sl).start();return await((h=(d=X(this,mr).config).onSuccess)==null?void 0:h.call(d,E,t,this.state.context,this,r)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,E,t,this.state.context,r)),await((p=(g=X(this,mr).config).onSettled)==null?void 0:p.call(g,E,null,this.state.variables,this.state.context,this,r)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,E,null,t,this.state.context,r)),ot(this,ja,zi).call(this,{type:"success",data:E}),E}catch(E){try{throw await((j=(y=X(this,mr).config).onError)==null?void 0:j.call(y,E,t,this.state.context,this,r)),await((w=(N=this.options).onError)==null?void 0:w.call(N,E,t,this.state.context,r)),await((S=(C=X(this,mr).config).onSettled)==null?void 0:S.call(C,void 0,E,this.state.variables,this.state.context,this,r)),await((k=(_=this.options).onSettled)==null?void 0:k.call(_,void 0,E,t,this.state.context,r)),E}finally{ot(this,ja,zi).call(this,{type:"error",error:E})}}finally{X(this,mr).runNext(this)}}},rm=new WeakMap,ya=new WeakMap,mr=new WeakMap,Sl=new WeakMap,ja=new WeakSet,zi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Tn.batch(()=>{X(this,ya).forEach(r=>{r.onMutationUpdate(t)}),X(this,mr).notify({mutation:this,type:"updated",action:t})})},oO);function JI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ri,Vs,sm,lO,tW=(lO=class extends xd{constructor(t={}){super();Fe(this,ri);Fe(this,Vs);Fe(this,sm);this.config=t,ke(this,ri,new Set),ke(this,Vs,new Map),ke(this,sm,0)}build(t,n,r){const a=new eW({client:t,mutationCache:this,mutationId:++Dm(this,sm)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){X(this,ri).add(t);const n=tp(t);if(typeof n=="string"){const r=X(this,Vs).get(n);r?r.push(t):X(this,Vs).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(X(this,ri).delete(t)){const n=tp(t);if(typeof n=="string"){const r=X(this,Vs).get(n);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&X(this,Vs).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=tp(t);if(typeof n=="string"){const r=X(this,Vs).get(n),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const n=tp(t);if(typeof n=="string"){const a=(r=X(this,Vs).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tn.batch(()=>{X(this,ri).forEach(t=>{this.notify({type:"removed",mutation:t})}),X(this,ri).clear(),X(this,Vs).clear()})}getAll(){return Array.from(X(this,ri))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>R_(n,r))}findAll(t={}){return this.getAll().filter(n=>R_(t,n))}notify(t){Tn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Tn.batch(()=>Promise.all(t.map(n=>n.continue().catch(gr))))}},ri=new WeakMap,Vs=new WeakMap,sm=new WeakMap,lO);function tp(e){var t;return(t=e.options.scope)==null?void 0:t.id}var si,so,Dr,ai,pi,Yp,Ib,cO,nW=(cO=class extends xd{constructor(n,r){super();Fe(this,pi);Fe(this,si);Fe(this,so);Fe(this,Dr);Fe(this,ai);ke(this,si,n),this.setOptions(r),this.bindMethods(),ot(this,pi,Yp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=X(this,si).defaultMutationOptions(n),Tg(this.options,r)||X(this,si).getMutationCache().notify({type:"observerOptionsUpdated",mutation:X(this,Dr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Fl(r.mutationKey)!==Fl(this.options.mutationKey)?this.reset():((a=X(this,Dr))==null?void 0:a.state.status)==="pending"&&X(this,Dr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=X(this,Dr))==null||n.removeObserver(this)}onMutationUpdate(n){ot(this,pi,Yp).call(this),ot(this,pi,Ib).call(this,n)}getCurrentResult(){return X(this,so)}reset(){var n;(n=X(this,Dr))==null||n.removeObserver(this),ke(this,Dr,void 0),ot(this,pi,Yp).call(this),ot(this,pi,Ib).call(this)}mutate(n,r){var a;return ke(this,ai,r),(a=X(this,Dr))==null||a.removeObserver(this),ke(this,Dr,X(this,si).getMutationCache().build(X(this,si),this.options)),X(this,Dr).addObserver(this),X(this,Dr).execute(n)}},si=new WeakMap,so=new WeakMap,Dr=new WeakMap,ai=new WeakMap,pi=new WeakSet,Yp=function(){var r;const n=((r=X(this,Dr))==null?void 0:r.state)??JI();ke(this,so,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ib=function(n){Tn.batch(()=>{var r,a,i,o,l,c,u,d;if(X(this,ai)&&this.hasListeners()){const h=X(this,so).variables,f=X(this,so).context,m={client:X(this,si),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((a=(r=X(this,ai)).onSuccess)==null||a.call(r,n.data,h,f,m),(o=(i=X(this,ai)).onSettled)==null||o.call(i,n.data,null,h,f,m)):(n==null?void 0:n.type)==="error"&&((c=(l=X(this,ai)).onError)==null||c.call(l,n.error,h,f,m),(d=(u=X(this,ai)).onSettled)==null||d.call(u,void 0,n.error,h,f,m))}this.listeners.forEach(h=>{h(X(this,so))})})},cO),ba,uO,rW=(uO=class extends xd{constructor(t={}){super();Fe(this,ba);this.config=t,ke(this,ba,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??sS(a,n);let o=this.get(i);return o||(o=new Y9({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){X(this,ba).has(t.queryHash)||(X(this,ba).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=X(this,ba).get(t.queryHash);n&&(t.destroy(),n===t&&X(this,ba).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return X(this,ba).get(t)}getAll(){return[...X(this,ba).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>$_(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>$_(t,r)):n}notify(t){Tn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Tn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ba=new WeakMap,uO),cn,ao,io,pu,gu,oo,vu,xu,dO,sW=(dO=class{constructor(e={}){Fe(this,cn);Fe(this,ao);Fe(this,io);Fe(this,pu);Fe(this,gu);Fe(this,oo);Fe(this,vu);Fe(this,xu);ke(this,cn,e.queryCache||new rW),ke(this,ao,e.mutationCache||new tW),ke(this,io,e.defaultOptions||{}),ke(this,pu,new Map),ke(this,gu,new Map),ke(this,oo,0)}mount(){Dm(this,oo)._++,X(this,oo)===1&&(ke(this,vu,iS.subscribe(async e=>{e&&(await this.resumePausedMutations(),X(this,cn).onFocus())})),ke(this,xu,Eg.subscribe(async e=>{e&&(await this.resumePausedMutations(),X(this,cn).onOnline())})))}unmount(){var e,t;Dm(this,oo)._--,X(this,oo)===0&&((e=X(this,vu))==null||e.call(this),ke(this,vu,void 0),(t=X(this,xu))==null||t.call(this),ke(this,xu,void 0))}isFetching(e){return X(this,cn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return X(this,ao).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=X(this,cn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=X(this,cn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(wo(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return X(this,cn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=X(this,cn).get(r.queryHash),i=a==null?void 0:a.state.data,o=F9(t,i);if(o!==void 0)return X(this,cn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Tn.batch(()=>X(this,cn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=X(this,cn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=X(this,cn);Tn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=X(this,cn);return Tn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Tn.batch(()=>X(this,cn).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(gr).catch(gr)}invalidateQueries(e,t={}){return Tn.batch(()=>(X(this,cn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Tn.batch(()=>X(this,cn).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(gr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(gr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=X(this,cn).build(this,t);return n.isStaleByTime(wo(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(gr).catch(gr)}fetchInfiniteQuery(e){return e.behavior=U_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(gr).catch(gr)}ensureInfiniteQueryData(e){return e.behavior=U_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Eg.isOnline()?X(this,ao).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,cn)}getMutationCache(){return X(this,ao)}getDefaultOptions(){return X(this,io)}setDefaultOptions(e){ke(this,io,e)}setQueryDefaults(e,t){X(this,pu).set(Fl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...X(this,pu).values()],n={};return t.forEach(r=>{hf(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){X(this,gu).set(Fl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...X(this,gu).values()],n={};return t.forEach(r=>{hf(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...X(this,io).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===aS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...X(this,io).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){X(this,cn).clear(),X(this,ao).clear()}},cn=new WeakMap,ao=new WeakMap,io=new WeakMap,pu=new WeakMap,gu=new WeakMap,oo=new WeakMap,vu=new WeakMap,xu=new WeakMap,dO),ZI=b.createContext(void 0),Lt=e=>{const t=b.useContext(ZI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},aW=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(ZI.Provider,{value:e,children:t})),e$=b.createContext(!1),iW=()=>b.useContext(e$);e$.Provider;function oW(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var lW=b.createContext(oW()),cW=()=>b.useContext(lW),uW=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},dW=e=>{b.useEffect(()=>{e.clearReset()},[e])},hW=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||HI(n,[e.error,r])),fW=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},mW=(e,t)=>e.isLoading&&e.isFetching&&!t,pW=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,W_=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function gW(e,t,n){var h,f,m,g,p;const r=iW(),a=cW(),i=Lt(),o=i.defaultQueryOptions(e);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",fW(o),uW(o,a),dW(a);const l=!i.getQueryCache().get(o.queryHash),[c]=b.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(v=>{const x=d?c.subscribe(Tn.batchCalls(v)):gr;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(o)},[o,c]),pW(o,u))throw W_(o,c,a);if(hW({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((g=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,o,u),o.experimental_prefetchInRender&&!Ll&&mW(u,r)){const v=l?W_(o,c,a):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;v==null||v.catch(gr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Pr(e,t){return gW(e,Q9)}function Ht(e,t){const n=Lt(),[r]=b.useState(()=>new nW(n,e));b.useEffect(()=>{r.setOptions(e)},[r,e]);const a=b.useSyncExternalStore(b.useCallback(o=>r.subscribe(Tn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((o,l)=>{r.mutate(o,l).catch(gr)},[r]);if(a.error&&HI(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ff.apply(this,arguments)}var uo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(uo||(uo={}));const H_="popstate";function vW(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return $b("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Og(a)}return yW(t,n,null,e)}function gn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function t$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xW(){return Math.random().toString(36).substr(2,8)}function K_(e,t){return{usr:e.state,key:e.key,idx:t}}function $b(e,t,n,r){return n===void 0&&(n=null),ff({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yd(t):t,{state:n,key:t&&t.key||r||xW()})}function Og(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function yd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function yW(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=uo.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ff({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=uo.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:x})}function f(v,x){l=uo.Push;let y=$b(p.location,v,x);u=d()+1;let j=K_(y,u),N=p.createHref(y);try{o.pushState(j,"",N)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(N)}i&&c&&c({action:l,location:p.location,delta:1})}function m(v,x){l=uo.Replace;let y=$b(p.location,v,x);u=d();let j=K_(y,u),N=p.createHref(y);o.replaceState(j,"",N),i&&c&&c({action:l,location:p.location,delta:0})}function g(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof v=="string"?v:Og(v);return y=y.replace(/ $/,"%20"),gn(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let p={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(H_,h),c=v,()=>{a.removeEventListener(H_,h),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(v){return o.go(v)}};return p}var G_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(G_||(G_={}));function jW(e,t,n){return n===void 0&&(n="/"),bW(e,t,n,!1)}function bW(e,t,n,r){let a=typeof t=="string"?yd(t):t,i=lS(a.pathname||"/",n);if(i==null)return null;let o=n$(e);wW(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=DW(i);l=EW(o[c],u,r)}return l}function n$(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(gn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=No([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(gn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),n$(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:kW(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of r$(i.path))a(i,o,c)}),t}function r$(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=r$(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function wW(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:TW(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const NW=/^:[\w-]+$/,SW=3,CW=2,_W=1,PW=10,AW=-2,Y_=e=>e==="*";function kW(e,t){let n=e.split("/"),r=n.length;return n.some(Y_)&&(r+=AW),t&&(r+=CW),n.filter(a=>!Y_(a)).reduce((a,i)=>a+(NW.test(i)?SW:i===""?_W:PW),r)}function TW(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function EW(e,t,n){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Q_({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Q_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:No([i,h.pathname]),pathnameBase:RW(No([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=No([i,h.pathnameBase]))}return o}function Q_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=OW(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let p=l[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[h];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function OW(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),t$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function DW(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return t$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function MW(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?yd(e):e;return{pathname:n?n.startsWith("/")?n:IW(n,t):t,search:LW(r),hash:FW(a)}}function IW(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function w0(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $W(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cS(e,t){let n=$W(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function uS(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=yd(e):(a=ff({},e),gn(!a.pathname||!a.pathname.includes("?"),w0("?","pathname","search",a)),gn(!a.pathname||!a.pathname.includes("#"),w0("#","pathname","hash",a)),gn(!a.search||!a.search.includes("#"),w0("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=MW(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const No=e=>e.join("/").replace(/\/\/+/g,"/"),RW=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),LW=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FW=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function BW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const s$=["post","put","patch","delete"];new Set(s$);const zW=["get",...s$];new Set(zW);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mf.apply(this,arguments)}const dS=b.createContext(null),VW=b.createContext(null),$o=b.createContext(null),bx=b.createContext(null),Ro=b.createContext({outlet:null,matches:[],isDataRoute:!1}),a$=b.createContext(null);function UW(e,t){let{relative:n}=t===void 0?{}:t;jd()||gn(!1);let{basename:r,navigator:a}=b.useContext($o),{hash:i,pathname:o,search:l}=o$(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:No([r,o])),a.createHref({pathname:c,search:l,hash:i})}function jd(){return b.useContext(bx)!=null}function Lo(){return jd()||gn(!1),b.useContext(bx).location}function i$(e){b.useContext($o).static||b.useLayoutEffect(e)}function bd(){let{isDataRoute:e}=b.useContext(Ro);return e?nH():qW()}function qW(){jd()||gn(!1);let e=b.useContext(dS),{basename:t,future:n,navigator:r}=b.useContext($o),{matches:a}=b.useContext(Ro),{pathname:i}=Lo(),o=JSON.stringify(cS(a,n.v7_relativeSplatPath)),l=b.useRef(!1);return i$(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=uS(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:No([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}function o$(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext($o),{matches:a}=b.useContext(Ro),{pathname:i}=Lo(),o=JSON.stringify(cS(a,r.v7_relativeSplatPath));return b.useMemo(()=>uS(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function WW(e,t){return HW(e,t)}function HW(e,t,n,r){jd()||gn(!1);let{navigator:a}=b.useContext($o),{matches:i}=b.useContext(Ro),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Lo(),d;if(t){var h;let v=typeof t=="string"?yd(t):t;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||gn(!1),d=v}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=jW(e,{pathname:m}),p=XW(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:No([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:No([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return t&&p?b.createElement(bx.Provider,{value:{location:mf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:uo.Pop}},p):p}function KW(){let e=tH(),t=BW(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:a},n):null,null)}const GW=b.createElement(KW,null);class YW extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Ro.Provider,{value:this.props.routeContext},b.createElement(a$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QW(e){let{routeContext:t,match:n,children:r}=e,a=b.useContext(dS);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Ro.Provider,{value:t},r)}function XW(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||gn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,g=!1,p=null,v=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||GW,c&&(u<0&&f===0?(g=!0,v=null):u===f&&(g=!0,v=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,f+1)),y=()=>{let j;return m?j=p:g?j=v:h.route.Component?j=b.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=d,b.createElement(QW,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:j})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(YW,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var l$=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(l$||{}),Dg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Dg||{});function JW(e){let t=b.useContext(dS);return t||gn(!1),t}function ZW(e){let t=b.useContext(VW);return t||gn(!1),t}function eH(e){let t=b.useContext(Ro);return t||gn(!1),t}function c$(e){let t=eH(),n=t.matches[t.matches.length-1];return n.route.id||gn(!1),n.route.id}function tH(){var e;let t=b.useContext(a$),n=ZW(Dg.UseRouteError),r=c$(Dg.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function nH(){let{router:e}=JW(l$.UseNavigateStable),t=c$(Dg.UseNavigateStable),n=b.useRef(!1);return i$(()=>{n.current=!0}),b.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,mf({fromRouteId:t},i)))},[e,t])}function rH(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Rb(e){let{to:t,replace:n,state:r,relative:a}=e;jd()||gn(!1);let{future:i,static:o}=b.useContext($o),{matches:l}=b.useContext(Ro),{pathname:c}=Lo(),u=bd(),d=uS(t,cS(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:a}),[u,h,a,n,r]),null}function hn(e){gn(!1)}function sH(e){let{basename:t="/",children:n=null,location:r,navigationType:a=uo.Pop,navigator:i,static:o=!1,future:l}=e;jd()&&gn(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:mf({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=yd(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:g="default"}=r,p=b.useMemo(()=>{let v=lS(d,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:m,key:g},navigationType:a}},[c,d,h,f,m,g,a]);return p==null?null:b.createElement($o.Provider,{value:u},b.createElement(bx.Provider,{children:n,value:p}))}function aH(e){let{children:t,location:n}=e;return WW(Lb(t),n)}new Promise(()=>{});function Lb(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,a)=>{if(!b.isValidElement(r))return;let i=[...t,a];if(r.type===b.Fragment){n.push.apply(n,Lb(r.props.children,i));return}r.type!==hn&&gn(!1),!r.props.index||!r.props.children||gn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Lb(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fb.apply(this,arguments)}function iH(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function oH(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lH(e,t){return e.button===0&&(!t||t==="_self")&&!oH(e)}function Bb(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function cH(e,t){let n=Bb(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const uH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dH="6";try{window.__reactRouterVersion=dH}catch{}const hH="startTransition",X_=KN[hH];function fH(e){let{basename:t,children:n,future:r,window:a}=e,i=b.useRef();i.current==null&&(i.current=vW({window:a,v5Compat:!0}));let o=i.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=b.useCallback(h=>{u&&X_?X_(()=>c(h)):c(h)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>rH(r),[r]),b.createElement(sH,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const mH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gs=b.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=iH(t,uH),{basename:m}=b.useContext($o),g,p=!1;if(typeof u=="string"&&pH.test(u)&&(g=u,mH))try{let j=new URL(window.location.href),N=u.startsWith("//")?new URL(j.protocol+u):new URL(u),w=lS(N.pathname,m);N.origin===j.origin&&w!=null?u=w+N.search+N.hash:p=!0}catch{}let v=UW(u,{relative:a}),x=gH(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:h});function y(j){r&&r(j),j.defaultPrevented||x(j)}return b.createElement("a",Fb({},f,{href:g||v,onClick:p||i?r:y,ref:n,target:c}))});var J_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(J_||(J_={}));var Z_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Z_||(Z_={}));function gH(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=bd(),u=Lo(),d=o$(e,{relative:o});return b.useCallback(h=>{if(lH(h,n)){h.preventDefault();let f=r!==void 0?r:Og(u)===Og(d);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,a,n,e,i,o,l])}function vH(e){let t=b.useRef(Bb(e)),n=b.useRef(!1),r=Lo(),a=b.useMemo(()=>cH(r.search,n.current?null:t.current),[r.search]),i=bd(),o=b.useCallback((l,c)=>{const u=Bb(typeof l=="function"?l(a):l);n.current=!0,i("?"+u,c)},[i,a]);return[a,o]}const xH=hm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),F=b.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?SV:"button";return s.jsx(o,{className:Ie(xH({variant:t,size:n,className:e})),ref:i,...a})});F.displayName="Button";const u$=b.createContext(void 0);function yH({children:e}){const[t,n]=b.useState(()=>{const a=localStorage.getItem("theme");return a||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});b.useEffect(()=>{localStorage.setItem("theme",t);const a=document.documentElement;t==="dark"?a.classList.add("dark"):a.classList.remove("dark")},[t]);const r=()=>{n(a=>a==="light"?"dark":"light")};return s.jsx(u$.Provider,{value:{theme:t,setTheme:n,toggleTheme:r},children:e})}function jH(){const e=b.useContext(u$);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function eP(){const{theme:e,toggleTheme:t}=jH();return s.jsxs(F,{variant:"outline",size:"sm",onClick:t,className:"h-9 w-9 p-0",title:e==="light"?"Activer le mode sombre":"Activer le mode clair",children:[e==="light"?s.jsx(TU,{className:"h-4 w-4"}):s.jsx(DU,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:e==="light"?"Activer le mode sombre":"Activer le mode clair"})]})}var bH=b.createContext(void 0);function wx(e){const t=b.useContext(bH);return e||t||"ltr"}var N0=0;function hS(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tP()),document.body.insertAdjacentElement("beforeend",e[1]??tP()),N0++,()=>{N0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),N0--}},[])}function tP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var S0="focusScope.autoFocusOnMount",C0="focusScope.autoFocusOnUnmount",nP={bubbles:!1,cancelable:!0},wH="FocusScope",Nx=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=b.useState(null),u=Sr(a),d=Sr(i),h=b.useRef(null),f=xt(t,p=>c(p)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let p=function(j){if(m.paused||!l)return;const N=j.target;l.contains(N)?h.current=N:Vi(h.current,{select:!0})},v=function(j){if(m.paused||!l)return;const N=j.relatedTarget;N!==null&&(l.contains(N)||Vi(h.current,{select:!0}))},x=function(j){if(document.activeElement===document.body)for(const w of j)w.removedNodes.length>0&&Vi(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),y.disconnect()}}},[r,l,m.paused]),b.useEffect(()=>{if(l){sP.add(m);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(S0,nP);l.addEventListener(S0,u),l.dispatchEvent(x),x.defaultPrevented||(NH(AH(d$(l)),{select:!0}),document.activeElement===p&&Vi(l))}return()=>{l.removeEventListener(S0,u),setTimeout(()=>{const x=new CustomEvent(C0,nP);l.addEventListener(C0,d),l.dispatchEvent(x),x.defaultPrevented||Vi(p??document.body,{select:!0}),l.removeEventListener(C0,d),sP.remove(m)},0)}}},[l,u,d,m]);const g=b.useCallback(p=>{if(!n&&!r||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(v&&x){const y=p.currentTarget,[j,N]=SH(y);j&&N?!p.shiftKey&&x===N?(p.preventDefault(),n&&Vi(j,{select:!0})):p.shiftKey&&x===j&&(p.preventDefault(),n&&Vi(N,{select:!0})):x===y&&p.preventDefault()}},[n,r,m.paused]);return s.jsx(Be.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});Nx.displayName=wH;function NH(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Vi(r,{select:t}),document.activeElement!==n)return}function SH(e){const t=d$(e),n=rP(t,e),r=rP(t.reverse(),e);return[n,r]}function d$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rP(e,t){for(const n of e)if(!CH(n,{upTo:t}))return n}function CH(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _H(e){return e instanceof HTMLInputElement&&"select"in e}function Vi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&_H(e)&&t&&e.select()}}var sP=PH();function PH(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=aP(e,t),e.unshift(t)},remove(t){var n;e=aP(e,t),(n=e[0])==null||n.resume()}}}function aP(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function AH(e){return e.filter(t=>t.tagName!=="A")}var _0="rovingFocusGroup.onEntryFocus",kH={bubbles:!1,cancelable:!0},pm="RovingFocusGroup",[zb,h$,TH]=dx(pm),[EH,Sx]=us(pm,[TH]),[OH,DH]=EH(pm),f$=b.forwardRef((e,t)=>s.jsx(zb.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(zb.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(MH,{...e,ref:t})})}));f$.displayName=pm;var MH=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=b.useRef(null),m=xt(t,f),g=wx(i),[p,v]=ji({prop:o,defaultProp:l??null,onChange:c,caller:pm}),[x,y]=b.useState(!1),j=Sr(u),N=h$(n),w=b.useRef(!1),[C,S]=b.useState(0);return b.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(_0,j),()=>_.removeEventListener(_0,j)},[j]),s.jsx(OH,{scope:n,orientation:r,dir:g,loop:a,currentTabStopId:p,onItemFocus:b.useCallback(_=>v(_),[v]),onItemShiftTab:b.useCallback(()=>y(!0),[]),onFocusableItemAdd:b.useCallback(()=>S(_=>_+1),[]),onFocusableItemRemove:b.useCallback(()=>S(_=>_-1),[]),children:s.jsx(Be.div,{tabIndex:x||C===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:_e(e.onMouseDown,()=>{w.current=!0}),onFocus:_e(e.onFocus,_=>{const k=!w.current;if(_.target===_.currentTarget&&k&&!x){const E=new CustomEvent(_0,kH);if(_.currentTarget.dispatchEvent(E),!E.defaultPrevented){const P=N().filter(z=>z.focusable),A=P.find(z=>z.active),R=P.find(z=>z.id===p),K=[A,R,...P].filter(Boolean).map(z=>z.ref.current);g$(K,d)}}w.current=!1}),onBlur:_e(e.onBlur,()=>y(!1))})})}),m$="RovingFocusGroupItem",p$=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Ma(),u=i||c,d=DH(m$,n),h=d.currentTabStopId===u,f=h$(n),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return b.useEffect(()=>{if(r)return m(),()=>g()},[r,m,g]),s.jsx(zb.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:s.jsx(Be.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:_e(e.onMouseDown,v=>{r?d.onItemFocus(u):v.preventDefault()}),onFocus:_e(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:_e(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=RH(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let j=f().filter(N=>N.focusable).map(N=>N.ref.current);if(x==="last")j.reverse();else if(x==="prev"||x==="next"){x==="prev"&&j.reverse();const N=j.indexOf(v.currentTarget);j=d.loop?LH(j,N+1):j.slice(N+1)}setTimeout(()=>g$(j))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:p!=null}):o})})});p$.displayName=m$;var IH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $H(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function RH(e,t,n){const r=$H(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return IH[r]}function g$(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function LH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var v$=f$,x$=p$,FH=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},mc=new WeakMap,np=new WeakMap,rp={},P0=0,y$=function(e){return e&&(e.host||y$(e.parentNode))},BH=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=y$(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},zH=function(e,t,n,r){var a=BH(t,Array.isArray(e)?e:[e]);rp[n]||(rp[n]=new WeakMap);var i=rp[n],o=[],l=new Set,c=new Set(a),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};a.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(r),g=m!==null&&m!=="false",p=(mc.get(f)||0)+1,v=(i.get(f)||0)+1;mc.set(f,p),i.set(f,v),o.push(f),p===1&&g&&np.set(f,!0),v===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(t),l.clear(),P0++,function(){o.forEach(function(h){var f=mc.get(h)-1,m=i.get(h)-1;mc.set(h,f),i.set(h,m),f||(np.has(h)||h.removeAttribute(r),np.delete(h)),m||h.removeAttribute(n)}),P0--,P0||(mc=new WeakMap,mc=new WeakMap,np=new WeakMap,rp={})}},fS=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=FH(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),zH(r,a,n,"aria-hidden")):function(){return null}},Na=function(){return Na=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Na.apply(this,arguments)};function j$(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function VH(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Qp="right-scroll-bar-position",Xp="width-before-scroll-bar",UH="with-scroll-bars-hidden",qH="--removed-body-scroll-bar-size";function A0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function WH(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var HH=typeof window<"u"?b.useLayoutEffect:b.useEffect,iP=new WeakMap;function KH(e,t){var n=WH(null,function(r){return e.forEach(function(a){return A0(a,r)})});return HH(function(){var r=iP.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||A0(l,null)}),i.forEach(function(l){a.has(l)||A0(l,o)})}iP.set(n,e)},[e]),n}function GH(e){return e}function YH(e,t){t===void 0&&(t=GH);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return a}function QH(e){e===void 0&&(e={});var t=YH(null);return t.options=Na({async:!0,ssr:!1},e),t}var b$=function(e){var t=e.sideCar,n=j$(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Na({},n))};b$.isSideCarExport=!0;function XH(e,t){return e.useMedium(t),b$}var w$=QH(),k0=function(){},Cx=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:k0,onWheelCapture:k0,onTouchMoveCapture:k0}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,j=e.gapMode,N=j$(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,C=KH([n,t]),S=Na(Na({},N),a);return b.createElement(b.Fragment,null,d&&b.createElement(w,{sideCar:w$,removeScrollBar:u,shards:h,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:j}),o?b.cloneElement(b.Children.only(l),Na(Na({},S),{ref:C})):b.createElement(y,Na({},S,{className:c,ref:C}),l))});Cx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cx.classNames={fullWidth:Xp,zeroRight:Qp};var JH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZH(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=JH();return t&&e.setAttribute("nonce",t),e}function eK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function tK(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var nK=function(){var e=0,t=null;return{add:function(n){e==0&&(t=ZH())&&(eK(t,n),tK(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rK=function(){var e=nK();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},N$=function(){var e=rK(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},sK={left:0,top:0,right:0,gap:0},T0=function(e){return parseInt(e||"",10)||0},aK=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[T0(n),T0(r),T0(a)]},iK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return sK;var t=aK(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},oK=N$(),tu="data-scroll-locked",lK=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(UH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(tu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qp,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Xp,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Qp," .").concat(Qp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Xp," .").concat(Xp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(tu,`] {
    `).concat(qH,": ").concat(l,`px;
  }
`)},oP=function(){var e=parseInt(document.body.getAttribute(tu)||"0",10);return isFinite(e)?e:0},cK=function(){b.useEffect(function(){return document.body.setAttribute(tu,(oP()+1).toString()),function(){var e=oP()-1;e<=0?document.body.removeAttribute(tu):document.body.setAttribute(tu,e.toString())}},[])},uK=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;cK();var i=b.useMemo(function(){return iK(a)},[a]);return b.createElement(oK,{styles:lK(i,!t,a,n?"":"!important")})},Vb=!1;if(typeof window<"u")try{var sp=Object.defineProperty({},"passive",{get:function(){return Vb=!0,!0}});window.addEventListener("test",sp,sp),window.removeEventListener("test",sp,sp)}catch{Vb=!1}var pc=Vb?{passive:!1}:!1,dK=function(e){return e.tagName==="TEXTAREA"},S$=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!dK(e)&&n[t]==="visible")},hK=function(e){return S$(e,"overflowY")},fK=function(e){return S$(e,"overflowX")},lP=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=C$(e,r);if(a){var i=_$(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mK=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},pK=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},C$=function(e,t){return e==="v"?hK(t):fK(t)},_$=function(e,t){return e==="v"?mK(t):pK(t)},gK=function(e,t){return e==="h"&&t==="rtl"?-1:1},vK=function(e,t,n,r,a){var i=gK(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{if(!l)break;var m=_$(e,l),g=m[0],p=m[1],v=m[2],x=p-v-i*g;(g||x)&&C$(e,l)&&(h+=x,f+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!a)||!d&&(Math.abs(f)<1||!a))&&(u=!0),u},ap=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cP=function(e){return[e.deltaX,e.deltaY]},uP=function(e){return e&&"current"in e?e.current:e},xK=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},jK=0,gc=[];function bK(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),a=b.useState(jK++)[0],i=b.useState(N$)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=VH([e.lockRef.current],(e.shards||[]).map(uP),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=ap(p),y=n.current,j="deltaX"in p?p.deltaX:y[0]-x[0],N="deltaY"in p?p.deltaY:y[1]-x[1],w,C=p.target,S=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in p&&S==="h"&&C.type==="range")return!1;var _=lP(S,C);if(!_)return!0;if(_?w=S:(w=S==="v"?"h":"v",_=lP(S,C)),!_)return!1;if(!r.current&&"changedTouches"in p&&(j||N)&&(r.current=w),!w)return!0;var k=r.current||w;return vK(k,v,p,k==="h"?j:N,!0)},[]),c=b.useCallback(function(p){var v=p;if(!(!gc.length||gc[gc.length-1]!==i)){var x="deltaY"in v?cP(v):ap(v),y=t.current.filter(function(w){return w.name===v.type&&(w.target===v.target||v.target===w.shadowParent)&&xK(w.delta,x)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var j=(o.current.shards||[]).map(uP).filter(Boolean).filter(function(w){return w.contains(v.target)}),N=j.length>0?l(v,j[0]):!o.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(p,v,x,y){var j={name:p,delta:v,target:x,should:y,shadowParent:wK(x)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(N){return N!==j})},1)},[]),d=b.useCallback(function(p){n.current=ap(p),r.current=void 0},[]),h=b.useCallback(function(p){u(p.type,cP(p),p.target,l(p,e.lockRef.current))},[]),f=b.useCallback(function(p){u(p.type,ap(p),p.target,l(p,e.lockRef.current))},[]);b.useEffect(function(){return gc.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,pc),document.addEventListener("touchmove",c,pc),document.addEventListener("touchstart",d,pc),function(){gc=gc.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,pc),document.removeEventListener("touchmove",c,pc),document.removeEventListener("touchstart",d,pc)}},[]);var m=e.removeScrollBar,g=e.inert;return b.createElement(b.Fragment,null,g?b.createElement(i,{styles:yK(a)}):null,m?b.createElement(uK,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function wK(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const NK=XH(w$,bK);var _x=b.forwardRef(function(e,t){return b.createElement(Cx,Na({},e,{ref:t,sideCar:NK}))});_x.classNames=Cx.classNames;var Ub=["Enter"," "],SK=["ArrowDown","PageUp","Home"],P$=["ArrowUp","PageDown","End"],CK=[...SK,...P$],_K={ltr:[...Ub,"ArrowRight"],rtl:[...Ub,"ArrowLeft"]},PK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gm="Menu",[pf,AK,kK]=dx(gm),[tc,A$]=us(gm,[kK,vd,Sx]),Px=vd(),k$=Sx(),[TK,nc]=tc(gm),[EK,vm]=tc(gm),T$=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=Px(t),[c,u]=b.useState(null),d=b.useRef(!1),h=Sr(i),f=wx(a);return b.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(MI,{...l,children:s.jsx(TK,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:s.jsx(EK,{scope:t,onClose:b.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};T$.displayName=gm;var OK="MenuAnchor",mS=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Px(n);return s.jsx(eS,{...a,...r,ref:t})});mS.displayName=OK;var pS="MenuPortal",[DK,E$]=tc(pS,{forceMount:void 0}),O$=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=nc(pS,t);return s.jsx(DK,{scope:t,forceMount:n,children:s.jsx(Ts,{present:n||i.open,children:s.jsx(um,{asChild:!0,container:a,children:r})})})};O$.displayName=pS;var Cs="MenuContent",[MK,gS]=tc(Cs),D$=b.forwardRef((e,t)=>{const n=E$(Cs,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=nc(Cs,e.__scopeMenu),o=vm(Cs,e.__scopeMenu);return s.jsx(pf.Provider,{scope:e.__scopeMenu,children:s.jsx(Ts,{present:r||i.open,children:s.jsx(pf.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(IK,{...a,ref:t}):s.jsx($K,{...a,ref:t})})})})}),IK=b.forwardRef((e,t)=>{const n=nc(Cs,e.__scopeMenu),r=b.useRef(null),a=xt(t,r);return b.useEffect(()=>{const i=r.current;if(i)return fS(i)},[]),s.jsx(vS,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:_e(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),$K=b.forwardRef((e,t)=>{const n=nc(Cs,e.__scopeMenu);return s.jsx(vS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),RK=Il("MenuContent.ScrollLock"),vS=b.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:g,...p}=e,v=nc(Cs,n),x=vm(Cs,n),y=Px(n),j=k$(n),N=AK(n),[w,C]=b.useState(null),S=b.useRef(null),_=xt(t,S,v.onContentChange),k=b.useRef(0),E=b.useRef(""),P=b.useRef(0),A=b.useRef(null),R=b.useRef("right"),M=b.useRef(0),K=g?_x:b.Fragment,z=g?{as:RK,allowPinchZoom:!0}:void 0,W=I=>{var le,Y;const U=E.current+I,H=N().filter(ee=>!ee.disabled),Z=document.activeElement,ae=(le=H.find(ee=>ee.ref.current===Z))==null?void 0:le.textValue,se=H.map(ee=>ee.textValue),me=YK(se,U,ae),xe=(Y=H.find(ee=>ee.textValue===me))==null?void 0:Y.ref.current;(function ee(oe){E.current=oe,window.clearTimeout(k.current),oe!==""&&(k.current=window.setTimeout(()=>ee(""),1e3))})(U),xe&&setTimeout(()=>xe.focus())};b.useEffect(()=>()=>window.clearTimeout(k.current),[]),hS();const T=b.useCallback(I=>{var H,Z;return R.current===((H=A.current)==null?void 0:H.side)&&XK(I,(Z=A.current)==null?void 0:Z.area)},[]);return s.jsx(MK,{scope:n,searchRef:E,onItemEnter:b.useCallback(I=>{T(I)&&I.preventDefault()},[T]),onItemLeave:b.useCallback(I=>{var U;T(I)||((U=S.current)==null||U.focus(),C(null))},[T]),onTriggerLeave:b.useCallback(I=>{T(I)&&I.preventDefault()},[T]),pointerGraceTimerRef:P,onPointerGraceIntentChange:b.useCallback(I=>{A.current=I},[]),children:s.jsx(K,{...z,children:s.jsx(Nx,{asChild:!0,trapped:a,onMountAutoFocus:_e(i,I=>{var U;I.preventDefault(),(U=S.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(hd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:s.jsx(v$,{asChild:!0,...j,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:w,onCurrentTabStopIdChange:C,onEntryFocus:_e(c,I=>{x.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(tS,{role:"menu","aria-orientation":"vertical","data-state":Y$(v.open),"data-radix-menu-content":"",dir:x.dir,...y,...p,ref:_,style:{outline:"none",...p.style},onKeyDown:_e(p.onKeyDown,I=>{const H=I.target.closest("[data-radix-menu-content]")===I.currentTarget,Z=I.ctrlKey||I.altKey||I.metaKey,ae=I.key.length===1;H&&(I.key==="Tab"&&I.preventDefault(),!Z&&ae&&W(I.key));const se=S.current;if(I.target!==se||!CK.includes(I.key))return;I.preventDefault();const xe=N().filter(le=>!le.disabled).map(le=>le.ref.current);P$.includes(I.key)&&xe.reverse(),KK(xe)}),onBlur:_e(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(k.current),E.current="")}),onPointerMove:_e(e.onPointerMove,gf(I=>{const U=I.target,H=M.current!==I.clientX;if(I.currentTarget.contains(U)&&H){const Z=I.clientX>M.current?"right":"left";R.current=Z,M.current=I.clientX}}))})})})})})})});D$.displayName=Cs;var LK="MenuGroup",xS=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Be.div,{role:"group",...r,ref:t})});xS.displayName=LK;var FK="MenuLabel",M$=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Be.div,{...r,ref:t})});M$.displayName=FK;var Mg="MenuItem",dP="menu.itemSelect",Ax=b.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=b.useRef(null),o=vm(Mg,e.__scopeMenu),l=gS(Mg,e.__scopeMenu),c=xt(t,i),u=b.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(dP,{bubbles:!0,cancelable:!0});h.addEventListener(dP,m=>r==null?void 0:r(m),{once:!0}),L1(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(I$,{...a,ref:c,disabled:n,onClick:_e(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:_e(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:_e(e.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||Ub.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Ax.displayName=Mg;var I$=b.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=gS(Mg,n),l=k$(n),c=b.useRef(null),u=xt(t,c),[d,h]=b.useState(!1),[f,m]=b.useState("");return b.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[i.children]),s.jsx(pf.ItemSlot,{scope:n,disabled:r,textValue:a??f,children:s.jsx(x$,{asChild:!0,...l,focusable:!r,children:s.jsx(Be.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:_e(e.onPointerMove,gf(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:_e(e.onPointerLeave,gf(g=>o.onItemLeave(g))),onFocus:_e(e.onFocus,()=>h(!0)),onBlur:_e(e.onBlur,()=>h(!1))})})})}),BK="MenuCheckboxItem",$$=b.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx(z$,{scope:e.__scopeMenu,checked:n,children:s.jsx(Ax,{role:"menuitemcheckbox","aria-checked":Ig(n)?"mixed":n,...a,ref:t,"data-state":jS(n),onSelect:_e(a.onSelect,()=>r==null?void 0:r(Ig(n)?!0:!n),{checkForDefaultPrevented:!1})})})});$$.displayName=BK;var R$="MenuRadioGroup",[zK,VK]=tc(R$,{value:void 0,onValueChange:()=>{}}),L$=b.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=Sr(r);return s.jsx(zK,{scope:e.__scopeMenu,value:n,onValueChange:i,children:s.jsx(xS,{...a,ref:t})})});L$.displayName=R$;var F$="MenuRadioItem",B$=b.forwardRef((e,t)=>{const{value:n,...r}=e,a=VK(F$,e.__scopeMenu),i=n===a.value;return s.jsx(z$,{scope:e.__scopeMenu,checked:i,children:s.jsx(Ax,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":jS(i),onSelect:_e(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});B$.displayName=F$;var yS="MenuItemIndicator",[z$,UK]=tc(yS,{checked:!1}),V$=b.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=UK(yS,n);return s.jsx(Ts,{present:r||Ig(i.checked)||i.checked===!0,children:s.jsx(Be.span,{...a,ref:t,"data-state":jS(i.checked)})})});V$.displayName=yS;var qK="MenuSeparator",U$=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});U$.displayName=qK;var WK="MenuArrow",q$=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Px(n);return s.jsx(nS,{...a,...r,ref:t})});q$.displayName=WK;var HK="MenuSub",[YAe,W$]=tc(HK),yh="MenuSubTrigger",H$=b.forwardRef((e,t)=>{const n=nc(yh,e.__scopeMenu),r=vm(yh,e.__scopeMenu),a=W$(yh,e.__scopeMenu),i=gS(yh,e.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(mS,{asChild:!0,...u,children:s.jsx(I$,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":Y$(n.open),...e,ref:ux(t,a.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:_e(e.onPointerMove,gf(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:_e(e.onPointerLeave,gf(h=>{var m,g;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const p=(g=n.content)==null?void 0:g.dataset.side,v=p==="right",x=v?-5:5,y=f[v?"left":"right"],j=f[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:y,y:f.top},{x:j,y:f.top},{x:j,y:f.bottom},{x:y,y:f.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:_e(e.onKeyDown,h=>{var m;const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||_K[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});H$.displayName=yh;var K$="MenuSubContent",G$=b.forwardRef((e,t)=>{const n=E$(Cs,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=nc(Cs,e.__scopeMenu),o=vm(Cs,e.__scopeMenu),l=W$(K$,e.__scopeMenu),c=b.useRef(null),u=xt(t,c);return s.jsx(pf.Provider,{scope:e.__scopeMenu,children:s.jsx(Ts,{present:r||i.open,children:s.jsx(pf.Slot,{scope:e.__scopeMenu,children:s.jsx(vS,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:_e(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:_e(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:_e(e.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=PK[o.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});G$.displayName=K$;function Y$(e){return e?"open":"closed"}function Ig(e){return e==="indeterminate"}function jS(e){return Ig(e)?"indeterminate":e?"checked":"unchecked"}function KK(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function GK(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function YK(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=GK(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function QK(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(a=!a)}return a}function XK(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return QK(n,t)}function gf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var JK=T$,ZK=mS,eG=O$,tG=D$,nG=xS,rG=M$,sG=Ax,aG=$$,iG=L$,oG=B$,lG=V$,cG=U$,uG=q$,dG=H$,hG=G$,kx="DropdownMenu",[fG,QAe]=us(kx,[A$]),Ar=A$(),[mG,Q$]=fG(kx),X$=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Ar(t),u=b.useRef(null),[d,h]=ji({prop:a,defaultProp:i??!1,onChange:o,caller:kx});return s.jsx(mG,{scope:t,triggerId:Ma(),triggerRef:u,contentId:Ma(),open:d,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(f=>!f),[h]),modal:l,children:s.jsx(JK,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};X$.displayName=kx;var J$="DropdownMenuTrigger",Z$=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=Q$(J$,n),o=Ar(n);return s.jsx(ZK,{asChild:!0,...o,children:s.jsx(Be.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:ux(t,i.triggerRef),onPointerDown:_e(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:_e(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Z$.displayName=J$;var pG="DropdownMenuPortal",e4=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Ar(t);return s.jsx(eG,{...r,...n})};e4.displayName=pG;var t4="DropdownMenuContent",n4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Q$(t4,n),i=Ar(n),o=b.useRef(!1);return s.jsx(tG,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:_e(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:_e(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});n4.displayName=t4;var gG="DropdownMenuGroup",vG=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ar(n);return s.jsx(nG,{...a,...r,ref:t})});vG.displayName=gG;var xG="DropdownMenuLabel",r4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ar(n);return s.jsx(rG,{...a,...r,ref:t})});r4.displayName=xG;var yG="DropdownMenuItem",s4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ar(n);return s.jsx(sG,{...a,...r,ref:t})});s4.displayName=yG;var jG="DropdownMenuCheckboxItem",a4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ar(n);return s.jsx(aG,{...a,...r,ref:t})});a4.displayName=jG;var bG="DropdownMenuRadioGroup",wG=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ar(n);return s.jsx(iG,{...a,...r,ref:t})});wG.displayName=bG;var NG="DropdownMenuRadioItem",i4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ar(n);return s.jsx(oG,{...a,...r,ref:t})});i4.displayName=NG;var SG="DropdownMenuItemIndicator",o4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ar(n);return s.jsx(lG,{...a,...r,ref:t})});o4.displayName=SG;var CG="DropdownMenuSeparator",l4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ar(n);return s.jsx(cG,{...a,...r,ref:t})});l4.displayName=CG;var _G="DropdownMenuArrow",PG=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ar(n);return s.jsx(uG,{...a,...r,ref:t})});PG.displayName=_G;var AG="DropdownMenuSubTrigger",c4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ar(n);return s.jsx(dG,{...a,...r,ref:t})});c4.displayName=AG;var kG="DropdownMenuSubContent",u4=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ar(n);return s.jsx(hG,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});u4.displayName=kG;var TG=X$,EG=Z$,OG=e4,d4=n4,h4=r4,f4=s4,m4=a4,p4=i4,g4=o4,v4=l4,x4=c4,y4=u4;const DG=TG,MG=EG,IG=b.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(x4,{ref:a,className:Ie("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(bU,{className:"ml-auto h-4 w-4"})]}));IG.displayName=x4.displayName;const $G=b.forwardRef(({className:e,...t},n)=>s.jsx(y4,{ref:n,className:Ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));$G.displayName=y4.displayName;const j4=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(OG,{children:s.jsx(d4,{ref:r,sideOffset:t,className:Ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));j4.displayName=d4.displayName;const qb=b.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(f4,{ref:r,className:Ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));qb.displayName=f4.displayName;const RG=b.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs(m4,{ref:a,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(g4,{children:s.jsx(V1,{className:"h-4 w-4"})})}),t]}));RG.displayName=m4.displayName;const LG=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(p4,{ref:r,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(g4,{children:s.jsx(NU,{className:"h-2 w-2 fill-current"})})}),t]}));LG.displayName=p4.displayName;const b4=b.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(h4,{ref:r,className:Ie("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));b4.displayName=h4.displayName;const Wb=b.forwardRef(({className:e,...t},n)=>s.jsx(v4,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));Wb.displayName=v4.displayName;var w4={exports:{}},N4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=b;function FG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var BG=typeof Object.is=="function"?Object.is:FG,zG=Ou.useState,VG=Ou.useEffect,UG=Ou.useLayoutEffect,qG=Ou.useDebugValue;function WG(e,t){var n=t(),r=zG({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return UG(function(){a.value=n,a.getSnapshot=t,E0(a)&&i({inst:a})},[e,n,t]),VG(function(){return E0(a)&&i({inst:a}),e(function(){E0(a)&&i({inst:a})})},[e]),qG(n),n}function E0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!BG(e,n)}catch{return!0}}function HG(e,t){return t()}var KG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HG:WG;N4.useSyncExternalStore=Ou.useSyncExternalStore!==void 0?Ou.useSyncExternalStore:KG;w4.exports=N4;var GG=w4.exports;function YG(){return GG.useSyncExternalStore(QG,()=>!0,()=>!1)}function QG(){return()=>{}}var bS="Avatar",[XG,XAe]=us(bS),[JG,S4]=XG(bS),C4=b.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[a,i]=b.useState("idle");return s.jsx(JG,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Be.span,{...r,ref:t})})});C4.displayName=bS;var _4="AvatarImage",P4=b.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...i}=e,o=S4(_4,n),l=ZG(r,i),c=Sr(u=>{a(u),o.onImageLoadingStatusChange(u)});return Nn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Be.img,{...i,ref:t,src:r}):null});P4.displayName=_4;var A4="AvatarFallback",k4=b.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...a}=e,i=S4(A4,n),[o,l]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Be.span,{...a,ref:t}):null});k4.displayName=A4;function hP(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ZG(e,{referrerPolicy:t,crossOrigin:n}){const r=YG(),a=b.useRef(null),i=r?(a.current||(a.current=new window.Image),a.current):null,[o,l]=b.useState(()=>hP(i,e));return Nn(()=>{l(hP(i,e))},[i,e]),Nn(()=>{const c=h=>()=>{l(h)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,t]),o}var T4=C4,E4=P4,O4=k4;const Jn=b.forwardRef(({className:e,...t},n)=>s.jsx(T4,{ref:n,className:Ie("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Jn.displayName=T4.displayName;const Du=b.forwardRef(({className:e,...t},n)=>s.jsx(E4,{ref:n,className:Ie("aspect-square h-full w-full",e),...t}));Du.displayName=E4.displayName;const Zn=b.forwardRef(({className:e,...t},n)=>s.jsx(O4,{ref:n,className:Ie("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Zn.displayName=O4.displayName;const eY="modulepreload",tY=function(e){return"/"+e},fP={},xm=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=tY(c),c in fP)return;fP[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":eY,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},nY=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xm(async()=>{const{default:r}=await Promise.resolve().then(()=>wd);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class wS extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class rY extends wS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mP extends wS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class pP extends wS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hb||(Hb={}));var sY=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class aY{constructor(t,{headers:n={},customFetch:r,region:a=Hb.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=nY(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return sY(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(p=>{throw new rY(p)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new mP(h);if(!h.ok)throw new pP(h);let m=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield h.json():m==="application/octet-stream"?g=yield h.blob():m==="text/event-stream"?g=h:m==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof pP||a instanceof mP?a.context:void 0}}})}}var Rr={},NS={},Tx={},ym={},Ex={},Ox={},iY=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mu=iY();const oY=Mu.fetch,D4=Mu.fetch.bind(Mu),M4=Mu.Headers,lY=Mu.Request,cY=Mu.Response,wd=Object.freeze(Object.defineProperty({__proto__:null,Headers:M4,Request:lY,Response:cY,default:D4,fetch:oY},Symbol.toStringTag,{value:"Module"})),uY=W8(wd);var Dx={};Object.defineProperty(Dx,"__esModule",{value:!0});let dY=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Dx.default=dY;var I4=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ox,"__esModule",{value:!0});const hY=I4(uY),fY=I4(Dx);let mY=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=hY.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,h=null,f=null,m=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=y:h=JSON.parse(y))}const v=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(h=[],d=null,m=200,g="OK")}catch{i.status===404&&v===""?(m=204,g="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,g="OK"),d&&this.shouldThrowOnError)throw new fY.default(d)}return{error:d,data:h,count:f,status:m,statusText:g}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};Ox.default=mY;var pY=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ex,"__esModule",{value:!0});const gY=pY(Ox);let vY=class extends gY.default{select(t){let n=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:a=r}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Ex.default=vY;var xY=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ym,"__esModule",{value:!0});const yY=xY(Ex);let jY=class extends yY.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ym.default=jY;var bY=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tx,"__esModule",{value:!0});const Zd=bY(ym);let wY=class{constructor(t,{headers:n={},schema:r,fetch:a}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=a}select(t,{head:n=!1,count:r}={}){const a=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Zd.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var a;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Zd.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Zd.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const a="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Zd.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Zd.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Tx.default=wY;var $4=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NS,"__esModule",{value:!0});const NY=$4(Tx),SY=$4(ym);let CY=class R4{constructor(t,{headers:n={},schema:r,fetch:a}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new NY.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new R4(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||a?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new SY.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};NS.default=CY;var Nd=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.PostgrestError=Rr.PostgrestBuilder=Rr.PostgrestTransformBuilder=Rr.PostgrestFilterBuilder=Rr.PostgrestQueryBuilder=Rr.PostgrestClient=void 0;const L4=Nd(NS);Rr.PostgrestClient=L4.default;const F4=Nd(Tx);Rr.PostgrestQueryBuilder=F4.default;const B4=Nd(ym);Rr.PostgrestFilterBuilder=B4.default;const z4=Nd(Ex);Rr.PostgrestTransformBuilder=z4.default;const V4=Nd(Ox);Rr.PostgrestBuilder=V4.default;const U4=Nd(Dx);Rr.PostgrestError=U4.default;var _Y=Rr.default={PostgrestClient:L4.default,PostgrestQueryBuilder:F4.default,PostgrestFilterBuilder:B4.default,PostgrestTransformBuilder:z4.default,PostgrestBuilder:V4.default,PostgrestError:U4.default};const{PostgrestClient:PY,PostgrestQueryBuilder:rke,PostgrestFilterBuilder:ske,PostgrestTransformBuilder:ake,PostgrestBuilder:ike,PostgrestError:oke}=_Y;class AY{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const kY="2.15.5",TY=`realtime-js/${kY}`,EY="1.0.0",Kb=1e4,OY=1e3,DY=100;var Mh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Mh||(Mh={}));var Pn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pn||(Pn={}));var qs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qs||(qs={}));var Gb;(function(e){e.websocket="websocket"})(Gb||(Gb={}));var sl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(sl||(sl={}));class MY{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+a));o=o+a;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class q4{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(zt||(zt={}));const gP=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=IY(o,e,t,a),i),{})},IY=(e,t,n,r)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=n[e];return i&&!r.includes(i)?W4(i,o):Yb(o)},W4=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return FY(t,n)}switch(e){case zt.bool:return $Y(t);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return RY(t);case zt.json:case zt.jsonb:return LY(t);case zt.timestamp:return BY(t);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return Yb(t);default:return Yb(t)}},Yb=e=>e,$Y=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},RY=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},LY=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},FY=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>W4(t,l))}return e},BY=e=>typeof e=="string"?e.replace(" ","T"):e,H4=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class O0{constructor(t,n,r={},a=Kb){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vP||(vP={}));class Ih{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ih.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Ih.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ih.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(v=>v.presence_ref),m=h.map(v=>v.presence_ref),g=d.filter(v=>m.indexOf(v.presence_ref)<0),p=h.filter(v=>f.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,a)}static syncDiff(t,n,r,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xP||(xP={}));var $h;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})($h||($h={}));var Za;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Za||(Za={}));class SS{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new O0(this,qs.join,this.params,this.timeout),this.rejoinTimer=new q4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qs.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Ih(this),this.broadcastEndpointURL=H4(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[$h.PRESENCE]&&this.bindings[$h.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Za.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Za.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(Za.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,x=[];for(let y=0;y<v;y++){const j=p[y],{filter:{event:N,schema:w,table:C,filter:S}}=j,_=m&&m[y];if(_&&_.event===N&&_.schema===w&&_.table===C&&_.filter===S)x.push(Object.assign(Object.assign({},j),{id:_.id}));else{this.unsubscribe(),this.state=Pn.errored,t==null||t(Za.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Za.SUBSCRIBED);return}}).receive("error",m=>{this.state=Pn.errored,t==null||t(Za.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Za.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Pn.joined&&t===$h.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new O0(this,qs.leave,{},t),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new O0(this,t,n,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>DY){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=qs;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,v,x,y,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const N=m.id,w=(g=m.filter)===null||g===void 0?void 0:g.event;return N&&((p=n.ids)===null||p===void 0?void 0:p.includes(N))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const N=(y=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return N==="*"||N===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:p,table:v,commit_timestamp:x,type:y,errors:j}=g;f=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:x,eventType:y,new:{},old:{},errors:j}),this._getPayloadRecords(g))}m.callback(f,r)})}_isClosed(){return this.state===Pn.closed}_isJoined(){return this.state===Pn.joined}_isJoining(){return this.state===Pn.joining}_isLeaving(){return this.state===Pn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&SS.isEqual(a.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qs.close,{},t)}_onError(t){this._on(qs.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=gP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=gP(t.columns,t.old_record)),n}}const D0=()=>{},ip={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zY=[1e3,2e3,5e3,1e4],VY=1e4,UY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qY{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kb,this.transport=null,this.heartbeatIntervalMs=ip.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=D0,this.ref=0,this.reconnectTimer=null,this.logger=D0,this.conn=null,this.sendBuffer=[],this.serializer=new MY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>xm(async()=>{const{default:l}=await Promise.resolve().then(()=>wd);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Gb.websocket}`,this.httpEndpoint=H4(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AY.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:EY}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Mh.connecting:return sl.Connecting;case Mh.open:return sl.Open;case Mh.closing:return sl.Closing;default:return sl.Closed}}isConnected(){return this.connectionState()===sl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===r);if(a)return a;{const i=new SS(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(OY,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ip.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qs.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([UY],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const a={access_token:n,version:TY};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(qs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new q4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ip.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,a,i,o,l,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Kb,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:ip.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:D0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>zY[h-1]||VY,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class CS extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function An(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class WY extends CS{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qb extends CS{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var HY=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const K4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xm(async()=>{const{default:r}=await Promise.resolve().then(()=>wd);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},KY=()=>HY(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xm(()=>Promise.resolve().then(()=>wd),void 0)).Response:Response}),Xb=e=>{if(Array.isArray(e))return e.map(n=>Xb(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Xb(r)}),t},GY=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var rc=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const M0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YY=(e,t,n)=>rc(void 0,void 0,void 0,function*(){const r=yield KY();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new WY(M0(a),i,o))}).catch(a=>{t(new Qb(M0(a),a))}):t(new Qb(M0(e),e))}),QY=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?a:(GY(r)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),n))};function jm(e,t,n,r,a,i){return rc(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,QY(t,r,a,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>YY(c,l,r))})})}function $g(e,t,n,r){return rc(this,void 0,void 0,function*(){return jm(e,"GET",t,n,r)})}function xa(e,t,n,r,a){return rc(this,void 0,void 0,function*(){return jm(e,"POST",t,r,a,n)})}function Jb(e,t,n,r,a){return rc(this,void 0,void 0,function*(){return jm(e,"PUT",t,r,a,n)})}function XY(e,t,n,r){return rc(this,void 0,void 0,function*(){return jm(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function G4(e,t,n,r,a){return rc(this,void 0,void 0,function*(){return jm(e,"DELETE",t,r,a,n)})}var ur=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const JY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ZY{constructor(t,n={},r,a){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=K4(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,a){return ur(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},yP),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(t=="PUT"?Jb:xa)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}upload(t,n,r){return ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return ur(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:yP.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Jb(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(An(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return ur(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield xa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new CS("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}update(t,n,r){return ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ur(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(An(a))return{data:null,error:a};throw a}})}copy(t,n,r){return ur(this,void 0,void 0,function*(){try{return{data:{path:(yield xa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(An(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return ur(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield xa(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(An(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return ur(this,void 0,void 0,function*(){try{const a=yield xa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(An(a))return{data:null,error:a};throw a}})}download(t,n){return ur(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield $g(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(An(l))return{data:null,error:l};throw l}})}info(t){return ur(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield $g(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Xb(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}exists(t){return ur(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield XY(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r)&&r instanceof Qb){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return ur(this,void 0,void 0,function*(){try{return{data:yield G4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}list(t,n,r){return ur(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},JY),n),{prefix:t||""});return{data:yield xa(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(An(a))return{data:null,error:a};throw a}})}listV2(t,n){return ur(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield xa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const eQ="2.12.1",tQ={"X-Client-Info":`storage-js/${eQ}`};var vc=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class nQ{constructor(t,n={},r,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},tQ),n),this.fetch=K4(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return vc(this,void 0,void 0,function*(){try{return{data:yield $g(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(An(t))return{data:null,error:t};throw t}})}getBucket(t){return vc(this,void 0,void 0,function*(){try{return{data:yield $g(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return vc(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return vc(this,void 0,void 0,function*(){try{return{data:yield Jb(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}emptyBucket(t){return vc(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}deleteBucket(t){return vc(this,void 0,void 0,function*(){try{return{data:yield G4(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}}class rQ extends nQ{constructor(t,n={},r,a){super(t,n,r,a)}from(t){return new ZY(this.url,this.headers,t,this.fetch)}}const sQ="2.57.4";let jh="";typeof Deno<"u"?jh="deno":typeof document<"u"?jh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jh="react-native":jh="node";const aQ={"X-Client-Info":`supabase-js-${jh}/${sQ}`},iQ={headers:aQ},oQ={schema:"public"},lQ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cQ={};var uQ=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const dQ=e=>{let t;return e?t=e:typeof fetch>"u"?t=D4:t=fetch,(...n)=>t(...n)},hQ=()=>typeof Headers>"u"?M4:Headers,fQ=(e,t,n)=>{const r=dQ(n),a=hQ();return(i,o)=>uQ(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var mQ=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function pQ(e){return e.endsWith("/")?e:e+"/"}function gQ(e,t){var n,r;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>mQ(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function vQ(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(pQ(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Y4="2.71.1",Ac=30*1e3,Zb=3,I0=Zb*Ac,xQ="http://localhost:9999",yQ="supabase.auth.token",jQ={"X-Client-Info":`gotrue-js/${Y4}`},ew="X-Supabase-Api-Version",Q4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bQ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wQ=10*60*1e3;class _S extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function rt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class NQ extends _S{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function SQ(e){return rt(e)&&e.name==="AuthApiError"}class X4 extends _S{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Fo extends _S{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class Ui extends Fo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CQ(e){return rt(e)&&e.name==="AuthSessionMissingError"}class op extends Fo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lp extends Fo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cp extends Fo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _Q(e){return rt(e)&&e.name==="AuthImplicitGrantRedirectError"}class jP extends Fo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tw extends Fo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function $0(e){return rt(e)&&e.name==="AuthRetryableFetchError"}class bP extends Fo{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class nw extends Fo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wP=` 	
\r=`.split(""),PQ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wP.length;t+=1)e[wP[t].charCodeAt(0)]=-2;for(let t=0;t<Rg.length;t+=1)e[Rg[t].charCodeAt(0)]=t;return e})();function NP(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Rg[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Rg[r]),t.queuedBits-=6}}function J4(e,t,n){const r=PQ[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function SP(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{TQ(o,r,n)};for(let o=0;o<e.length;o+=1)J4(e.charCodeAt(o),a,i);return t.join("")}function AQ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kQ(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}AQ(r,t)}}function TQ(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function EQ(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)J4(e.charCodeAt(a),n,r);return new Uint8Array(t)}function OQ(e){const t=[];return kQ(e,n=>t.push(n)),new Uint8Array(t)}function DQ(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};return e.forEach(a=>NP(a,n,r)),NP(null,n,r),t.join("")}function MQ(e){return Math.round(Date.now()/1e3)+e}function IQ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ls=()=>typeof window<"u"&&typeof document<"u",Ho={tested:!1,writable:!1},Z4=()=>{if(!Ls())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ho.tested)return Ho.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ho.tested=!0,Ho.writable=!0}catch{Ho.tested=!0,Ho.writable=!1}return Ho.writable};function $Q(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const eR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xm(async()=>{const{default:r}=await Promise.resolve().then(()=>wd);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},RQ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",kc=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ko=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Fi=async(e,t)=>{await e.removeItem(t)};class Mx{constructor(){this.promise=new Mx.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Mx.promiseConstructor=Promise;function R0(e){const t=e.split(".");if(t.length!==3)throw new nw("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!bQ.test(t[r]))throw new nw("JWT not in base64url format");return{header:JSON.parse(SP(t[0])),payload:JSON.parse(SP(t[1])),signature:EQ(t[2]),raw:{header:t[0],payload:t[1]}}}async function LQ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function FQ(e,t){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function BQ(e){return("0"+e.toString(16)).substr(-2)}function zQ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,BQ).join("")}async function VQ(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function UQ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await VQ(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xc(e,t,n=!1){const r=zQ();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await kc(e,`${t}-code-verifier`,a);const i=await UQ(r);return[i,r===i?"plain":"s256"]}const qQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function WQ(e){const t=e.headers.get(ew);if(!t||!t.match(qQ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function HQ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function KQ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const GQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yc(e){if(!GQ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function L0(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function CP(e){return JSON.parse(JSON.stringify(e))}var YQ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Zo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QQ=[502,503,504];async function _P(e){var t;if(!RQ(e))throw new tw(Zo(e),0);if(QQ.includes(e.status))throw new tw(Zo(e),e.status);let n;try{n=await e.json()}catch(i){throw new X4(Zo(i),i)}let r;const a=WQ(e);if(a&&a.getTime()>=Q4["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new bP(Zo(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ui}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new bP(Zo(n),e.status,n.weak_password.reasons);throw new NQ(Zo(n),e.status||500,r)}const XQ=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function ht(e,t,n,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[ew]||(i[ew]=Q4["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await JQ(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function JQ(e,t,n,r,a,i){const o=XQ(t,r,a,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new tw(Zo(c),0)}if(l.ok||await _P(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await _P(c)}}function Xa(e){var t;let n=null;nX(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=MQ(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function PP(e){const t=Xa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ZQ(e){return{data:e,error:null}}function eX(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,o=YQ(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function tX(e){return e}function nX(e){return e.access_token&&e.refresh_token&&e.expires_in}const F0=["global","local","others"];var rX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class sX{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=eR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=F0[0]){if(F0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${F0.join(", ")}`);try{return await ht(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ht(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xi})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=rX(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await ht(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:eX,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(rt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xi})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ht(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:tX});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(rt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){yc(t);try{return await ht(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xi})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){yc(t);try{return await ht(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Xi})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){yc(t);try{return await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xi})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){yc(t.userId);try{const{data:n,error:r}=await ht(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){yc(t.userId),yc(t.id);try{return{data:await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}}function AP(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function aX(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const jc={debug:!!(globalThis&&Z4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class iX extends tR{}async function oX(e,t,n){jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),jc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new iX(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(jc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}aX();const lX={url:xQ,storageKey:yQ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jQ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kP(e,t,n){return await n()}const bc={};class vf{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vf.nextInstanceID,vf.nextInstanceID+=1,this.instanceID>0&&Ls()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},lX),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new sX({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=eR(a.fetch),this.lock=a.lock||kP,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ls()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=oX:this.lock=kP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Z4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=AP(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=AP(this.memoryStorage)),Ls()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=bc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){bc[this.storageKey]=Object.assign(Object.assign({},bc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=bc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){bc[this.storageKey]=Object.assign(Object.assign({},bc[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Y4}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=$Q(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ls()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_Q(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return rt(n)?{error:n}:{error:new X4("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Xa}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,a;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await xc(this.storage,this.storageKey)),i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},xform:Xa})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Xa})}else throw new lp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:PP})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:PP})}else throw new lp("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new op}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,a,i,o,l,c,u,d,h,f,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:v,wallet:x,statement:y,options:j}=t;let N;if(Ls())if(typeof x=="object")N=x;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))N=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=x}const w=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const C=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),y?{statement:y}:null));let S;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")S=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)S=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),p=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${w.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(a=(r=j==null?void 0:j.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=j==null?void 0:j.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((h=(d=j==null?void 0:j.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...j.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const C=await N.signMessage(new TextEncoder().encode(g),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=C}}try{const{data:v,error:x}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:DQ(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Xa});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new op}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(rt(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const n=await Ko(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:o}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Xa});if(await Fi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new op}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(rt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:i,nonce:o}=t,l=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xa}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new op}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await xc(this.storage,this.storageKey));const{error:h}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new lp("You must provide either an email or phone number.")}catch(l){if(rt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let a,i;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await ht(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Xa});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(rt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await xc(this.storage,this.storageKey)),await ht(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ZQ})}catch(i){if(rt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ui;const{error:a}=await ht(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(rt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:i}=t,{error:o}=await ht(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:a,options:i}=t,{data:o,error:l}=await ht(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new lp("You must provide either an email or phone number and a type")}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ko(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<I0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Ko(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=L0()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xi}):await this._useSession(async n=>{var r,a,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ui}:await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Xi})})}catch(n){if(rt(n))return CQ(n)&&(await this._removeSession(),await Fi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new Ui;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await xc(this.storage,this.storageKey));const{data:u,error:d}=await ht(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Xi});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ui;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:o}=R0(t.access_token);if(o.exp&&(r=o.exp,a=r<=n),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(rt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ui;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ls())throw new cp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new jP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jP("No code detected.");const{data:y,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new cp("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Ac&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:p,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(rt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ko(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{error:i};const o=(r=a.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(SQ(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Fi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=IQ(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await xc(this.storage,this.storageKey,!0));try{return await ht(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(rt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ht(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Ls()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(rt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)throw o;return await ht(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await FQ(async a=>(a>0&&await LQ(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ht(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xa})),(a,i)=>{const o=200*Math.pow(2,a);return i&&$0(i)&&Date.now()+o-r<Ac})}catch(r){if(this._debug(n,"error",r),rt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ls()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await Ko(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ko(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await kc(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:L0()}else if(a&&!a.user&&!a.user){const o=await Ko(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Fi(this.storage,this.storageKey+"-user"),await kc(this.storage,this.storageKey,a)):a.user=L0()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const i=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<I0;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${I0}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),$0(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ui;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Mx;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ui;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),rt(i)){const o={session:null,error:i};return $0(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await kc(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const i=CP(a);await kc(this.storage,this.storageKey,i)}else{const a=CP(n);await kc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Fi(this.storage,this.storageKey),await Fi(this.storage,this.storageKey+"-code-verifier"),await Fi(this.storage,this.storageKey+"-user"),this.userStorage&&await Fi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ls()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ac);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/Ac);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ac}ms, refresh threshold is ${Zb} ticks`),a<=Zb&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ls()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await xc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await ht(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ht(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(rt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(rt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],a=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=R0(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+wQ>a)return r;const{data:i,error:o}=await ht(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};r=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=R0(r);n!=null&&n.allowExpired||HQ(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=KQ(a.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,OQ(`${l}.${c}`)))throw new nw("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}}vf.nextInstanceID=0;const cX=vf;class uX extends cX{constructor(t){super(t)}}var dX=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class hX{constructor(t,n,r){var a,i,o;this.supabaseUrl=t,this.supabaseKey=n;const l=vQ(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:oQ,realtime:cQ,auth:Object.assign(Object.assign({},lQ),{storageKey:c}),global:iQ},d=gQ(r??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=fQ(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new PY(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new rQ(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new aY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return dX(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uX({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new qY(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fX=(e,t,n)=>new hX(e,t,n);function mX(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}mX()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nR="https://fqmeqckchbppabetefuk.supabase.co",pX="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxbWVxY2tjaGJwcGFiZXRlZnVrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY2NzUzODYsImV4cCI6MjA3MjI1MTM4Nn0.MkyVvQVmqUXShrHXHTpHib0Dyq39ZB47KhGZZgBlF-o",De=fX(nR,pX,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),rR=async()=>{const{data:{user:e},error:t}=await De.auth.getUser();if(t)throw t;return e},Ix=async()=>{const e=await rR();if(!e)return null;const{data:t,error:n}=await De.from("user_profiles").select("*").eq("id",e.id).single();if(n)throw n;return t},gX=async(e,t,n,r,a="assistant")=>{const{data:i,error:o}=await De.auth.signUp({email:e,password:t,options:{data:{username:n,full_name:r,role:a}}});if(o)throw o;return i},vX=async()=>{const{error:e}=await De.auth.signOut();if(e)throw e;try{localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("sb-"+nR.split("//")[1].split(".")[0]+"-auth-token"),document.cookie.split(";").forEach(t=>{document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")})}catch(t){console.warn("Error clearing auth storage:",t)}},xX=async e=>{const t=await rR();if(!t)throw new Error("No authenticated user");const{data:n,error:r}=await De.from("user_profiles").select("*").eq("id",t.id).single();n||await sR(t);const a=Object.entries({...e,updated_at:new Date().toISOString()}).reduce((l,[c,u])=>(u!=null&&u!==""&&(l[c]=u),l),{}),{data:i,error:o}=await De.from("user_profiles").update(a).eq("id",t.id).select().single();if(o){const l=t.user_metadata||{},c=l.full_name||l.name||"",u=(n==null?void 0:n.username)||l.username||t.email.split("@")[0],d=(n==null?void 0:n.role)||l.role||"assistant",h={id:t.id,email:t.email,username:u,full_name:c,role:d,...a},{data:f,error:m}=await De.from("user_profiles").upsert(h).select().single();if(m)throw new Error(`Profile update failed: ${m.message}`);return f}return i},sR=async e=>{const t=await Ix();if(t)return t;const n=e.user_metadata||{},r=n.full_name||n.name||"",a=n.username||e.email.split("@")[0],i=n.role||"assistant",{data:o,error:l}=await De.from("user_profiles").insert({id:e.id,email:e.email,username:a,full_name:r,role:i}).select().single();if(l)throw l;return o},yX=async e=>{const{data:t,error:n}=await De.auth.resetPasswordForEmail(e,{redirectTo:"http://localhost:8000/dashboard/reset-password"});if(n)throw n;return t},Xs={all:["auth"],session:()=>[...Xs.all,"session"]},jX=async()=>{try{const{data:{session:e},error:t}=await De.auth.getSession();if(t||!(e!=null&&e.user))return null;let n=null;try{n=await Ix()}catch{try{n=await sR(e.user)}catch(a){console.error("Failed to create user profile:",a);const i=e.user.user_metadata||{},o=i.full_name||i.name||"",l=i.username||e.user.email.split("@")[0];n={id:e.user.id,email:e.user.email,username:l,full_name:o,role:"assistant",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),avatar_url:i.avatar_url||i.picture||null}}}return n?{id:e.user.id,email:e.user.email,profile:n}:null}catch{return null}},bX=()=>Pr({queryKey:Xs.session(),queryFn:jX,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:"always",refetchOnReconnect:!1,networkMode:"offlineFirst"}),wX=()=>{const e=Lt();return Ht({mutationFn:async({email:t,password:n})=>{const{data:r,error:a}=await De.auth.signInWithPassword({email:t,password:n});if(a){const o={"Invalid login credentials":"Email ou mot de passe incorrect","Email not confirmed":"Veuillez confirmer votre email avant de vous connecter","Too many requests":"Trop de tentatives de connexion. Veuillez réessayer plus tard"}[a.message]||a.message;throw new Error(o)}if(!r.user||!r.session)throw new Error("Échec de connexion - session invalide");return r.user},onSuccess:async()=>{await new Promise(t=>setTimeout(t,100)),e.refetchQueries({queryKey:Xs.session()})},onError:()=>{e.setQueryData(Xs.session(),null)}})},NX=()=>{const e=Lt();return Ht({mutationFn:async()=>{await vX()},onSuccess:()=>{e.setQueryData(Xs.session(),null),e.removeQueries({queryKey:Xs.session()})}})},SX=()=>{const e=Lt();return Ht({mutationFn:async()=>{const t=await Ix();if(!t)throw new Error("Could not refresh profile");return t},onSuccess:()=>{e.invalidateQueries({queryKey:Xs.session()})}})},CX=()=>Ht({mutationFn:async()=>{const{data:e,error:t}=await De.auth.signInWithOAuth({provider:"google",options:{redirectTo:"http://localhost:8000/dashboard/dashboard"}});if(t)throw t;return e}}),_X=()=>Ht({mutationFn:async e=>{await yX(e)}}),aR=b.createContext(void 0);function PX({children:e}){const{data:t,isLoading:n,error:r}=bX(),a=wX(),i=NX(),o=SX(),l=Lt(),[c,u]=b.useState(!1),d=b.useRef(!1);b.useEffect(()=>{if(d.current)return;d.current=!0;const{data:{subscription:x}}=De.auth.onAuthStateChange((j,N)=>{j==="SIGNED_OUT"?(l.setQueryData(Xs.session(),null),l.removeQueries({queryKey:Xs.session()})):j==="TOKEN_REFRESHED"&&N&&l.invalidateQueries({queryKey:Xs.session()}),c||u(!0)}),y=setTimeout(()=>{c||u(!0)},2e3);return()=>{x.unsubscribe(),clearTimeout(y),d.current=!1}},[l,c]);const h=async(x,y)=>{try{return await a.mutateAsync({email:x,password:y}),!0}catch(j){return console.error("Login error:",j),!1}},f=async()=>{try{await i.mutateAsync()}catch(x){console.error("Logout error:",x),l.setQueryData(Xs.session(),null)}},m=async()=>{await o.mutateAsync()},g=!c||n&&!r&&t===void 0,p=a.isPending||i.isPending,v={user:t||null,isAuthenticated:!!t&&c,isLoading:g||p,login:h,logout:f,refreshProfile:m};return s.jsx(aR.Provider,{value:v,children:e})}function sc(){const e=b.useContext(aR);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function TP(){const{user:e,logout:t}=sc(),{toast:n}=at(),r=bd(),[a,i]=b.useState(!1),o=async()=>{i(!0),await new Promise(d=>setTimeout(d,500)),t(),n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."}),i(!1)};if(!e)return null;const l=d=>d?d.split(" ").map(h=>h.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),c=d=>{switch(d){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},u=d=>{switch(d){case"admin":return s.jsx(Ur,{className:"h-3 w-3"});case"assistant":return s.jsx(Nr,{className:"h-3 w-3"});default:return s.jsx(Nr,{className:"h-3 w-3"})}};return s.jsxs(DG,{children:[s.jsx(MG,{asChild:!0,children:s.jsx(F,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:s.jsx(Jn,{className:"h-8 w-8",children:s.jsx(Zn,{className:"bg-primary text-primary-foreground text-sm",children:l(e.profile.full_name)})})})}),s.jsxs(j4,{className:"w-56",align:"end",forceMount:!0,children:[s.jsx(b4,{className:"font-normal",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:e.profile.full_name||e.profile.username}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u(e.profile.role),s.jsx("span",{className:"text-xs text-muted-foreground",children:c(e.profile.role)})]})]})}),s.jsx(Wb,{}),s.jsxs(qb,{className:"cursor-pointer",onClick:()=>r("/profile"),children:[s.jsx(Nr,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Profil"})]}),s.jsx(Wb,{}),s.jsxs(qb,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:o,disabled:a,children:[s.jsx(AU,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:a?"Déconnexion...":"Se déconnecter"})]})]})]})}const iR=[{icon:PU,label:"Dashboard",path:"/dashboard"},{icon:Fa,label:"Clients",path:"/clients"},{icon:dt,label:"Animaux",path:"/pets"},{icon:He,label:"RDV",path:"/appointments"},{icon:vr,label:"Consultations",path:"/consultations"},{icon:$r,label:"Vaccinations",path:"/vaccinations"},{icon:cl,label:"Antiparasites",path:"/antiparasites"},{icon:ZM,label:"Historiques",path:"/history"},{icon:mb,label:"Farm Mgmt",path:"/farm"}],oR=[{icon:Oa,label:"Stock",path:"/stock"},{icon:JM,label:"Comptabilité",path:"/accounting"}],AX=[...iR,...oR];function dr(){const e=Lo(),[t,n]=b.useState(!1);return s.jsx("nav",{className:"bg-card border-b shadow-card",children:s.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[s.jsxs(Gs,{to:"/dashboard",className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(dt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-primary"}),s.jsx("h1",{className:"text-lg sm:text-xl font-bold gradient-primary bg-clip-text text-transparent hidden sm:block",children:"VetPro CRM"}),s.jsx("h1",{className:"text-base sm:text-lg font-bold gradient-primary bg-clip-text text-transparent sm:hidden",children:"VetPro"})]}),s.jsx("div",{className:"hidden sm:block",children:s.jsx(eP,{})})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[iR.map(r=>s.jsx(F,{variant:e.pathname===r.path?"default":"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",asChild:!0,children:s.jsxs(Gs,{to:r.path,children:[s.jsx(r.icon,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xl:inline",children:r.label})]})},r.path)),s.jsxs("div",{className:"relative group",children:[s.jsxs(F,{variant:"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",children:[s.jsx(x_,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Plus"})]}),s.jsx("div",{className:"absolute right-0 top-full mt-1 w-40 bg-card border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsx("div",{className:"py-1",children:oR.map(r=>s.jsxs(Gs,{to:r.path,className:`flex items-center gap-2 px-4 py-2 text-sm transition-colors hover:bg-muted ${e.pathname===r.path?"bg-primary text-primary-foreground":""}`,children:[s.jsx(r.icon,{className:"h-4 w-4"}),r.label]},r.path))})})]})]}),s.jsx("div",{className:"hidden lg:flex items-center gap-2",children:s.jsx(TP,{})}),s.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[s.jsx("div",{className:"sm:hidden",children:s.jsx(eP,{})}),s.jsx(TP,{}),s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>n(!t),className:"gap-1 p-2",children:t?s.jsx(px,{className:"h-4 w-4"}):s.jsx(x_,{className:"h-4 w-4"})})]})]}),t&&s.jsx("div",{className:"lg:hidden mt-2 pt-2 border-t",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1",children:AX.map(r=>s.jsx(F,{variant:e.pathname===r.path?"default":"ghost",size:"sm",className:"gap-2 justify-start text-xs sm:text-sm",asChild:!0,onClick:()=>n(!1),children:s.jsxs(Gs,{to:r.path,children:[s.jsx(r.icon,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"truncate",children:r.label})]})},r.path))})})]})})}class kX extends b.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n})}render(){var t,n;return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-8",children:s.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-lg shadow-lg border border-red-200",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-4",children:"🚨 Erreur dans l'application"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Erreur :"}),s.jsx("pre",{className:"bg-red-100 p-4 rounded text-sm text-red-800 overflow-auto",children:(t=this.state.error)==null?void 0:t.toString()})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Stack Trace :"}),s.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm text-gray-800 overflow-auto max-h-64",children:(n=this.state.errorInfo)==null?void 0:n.componentStack})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Recharger la page"}),s.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Retour"})]})]})]})}):this.props.children}}const lR=b.createContext(void 0),EP=[{id:1,name:"Marie Dubois",firstName:"Marie",lastName:"Dubois",email:"marie.dubois@email.com",phone:"06 12 34 56 78",address:"123 Rue de la Paix",city:"Paris",postalCode:"75001",idNumber:"1234567890123",pets:[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",gender:"female",birthDate:"2021-03-15",weight:"28 kg",color:"Doré",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:4,name:"Luna",type:"Chat",breed:"Siamois",gender:"female",birthDate:"2022-05-12",weight:"3.8 kg",color:"Crème et marron",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-08",nextAppointment:"2024-02-08",microchip:"982000111222333",vaccinations:["Rage","FVRCP","FeLV"]}],lastVisit:"2024-01-15",totalVisits:12},{id:2,name:"Jean Martin",firstName:"Jean",lastName:"Martin",email:"jean.martin@email.com",phone:"06 98 76 54 32",address:"45 Avenue des Roses",city:"Lyon",postalCode:"69000",idNumber:"9876543210987",pets:[{id:2,name:"Whiskers",type:"Chat",breed:"Persan",gender:"male",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]}],lastVisit:"2024-01-10",totalVisits:8},{id:3,name:"Sophie Leroux",firstName:"Sophie",lastName:"Leroux",email:"sophie.leroux@email.com",phone:"06 45 67 89 12",address:"78 Boulevard Maritime",city:"Marseille",postalCode:"13000",idNumber:"4567891234567",pets:[{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",gender:"male",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]},{id:5,name:"Max",type:"Chien",breed:"Labrador",gender:"male",birthDate:"2020-09-03",weight:"30 kg",color:"Noir",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-22",nextAppointment:"2024-02-22",microchip:"982000444555666",vaccinations:["Rage","DHPP","Lyme","Bordetella"]}],lastVisit:"2024-01-18",totalVisits:15}],eh=[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",birthDate:"2021-03-15",weight:"28 kg",color:"Doré",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:2,name:"Whiskers",type:"Chat",breed:"Persan",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]},{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]}],up=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",weight:"28.2 kg",temperature:"38.5",symptoms:"Contrôle annuel, bonne santé générale",diagnosis:"Aucun problème détecté",treatment:"Vaccination annuelle",medications:"Rappel vaccin DHPP",followUp:"Contrôle dans 1 an",cost:"85.00",notes:"Animal en excellente santé",photos:[],createdAt:"2024-01-15T10:30:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",weight:"4.3 kg",temperature:"39.2",symptoms:"Perte d'appétit, léthargie",diagnosis:"Infection urinaire",treatment:"Antibiotiques",medications:"Amoxicilline 50mg 2x/jour pendant 7 jours",followUp:"Contrôle dans 1 semaine",cost:"120.00",notes:"Surveiller la consommation d'eau",photos:[],createdAt:"2024-01-10T14:15:00Z"}],dp=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-25",time:"14:30",type:"vaccination",duration:30,reason:"Vaccination annuelle",notes:"Rappel vaccinal complet",status:"scheduled",reminderSent:!1,createdAt:"2024-01-20T09:00:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-22",time:"10:00",type:"controle",duration:45,reason:"Contrôle post-traitement",notes:"Vérifier l'amélioration de l'appétit",status:"confirmed",reminderSent:!0,createdAt:"2024-01-18T16:30:00Z"},{id:3,clientId:3,clientName:"Sophie Leroux",petId:3,petName:"Rex",date:"2024-01-26",time:"16:00",type:"sterilisation",duration:60,reason:"Stérilisation",notes:"Jeûne 12h avant l'intervention",status:"scheduled",reminderSent:!1,createdAt:"2024-01-19T11:15:00Z"}],hp=[{id:1,consultationId:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",prescribedBy:"Dr. Martin",diagnosis:"Trachéobronchite",medications:[{id:1,name:"Doxycycline",dosage:"100mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprimés",refills:0,cost:25.5},{id:2,name:"Sirop antitussif",dosage:"5ml",frequency:"3x/jour",duration:"5 jours",instructions:"Donner 30 minutes avant les repas",quantity:75,unit:"ml",refills:1,cost:15}],instructions:"Surveiller la température et l'appétit. Retour en cas d'aggravation.",duration:"7 jours",followUpDate:"2024-01-22",status:"active",notes:"Patient calme, bon appétit maintenu",createdAt:"2024-01-15T10:30:00Z"},{id:2,consultationId:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",prescribedBy:"Dr. Martin",diagnosis:"Infection urinaire",medications:[{id:3,name:"Amoxicilline",dosage:"50mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprimés",refills:0,cost:18}],instructions:"Augmenter la consommation d'eau. Surveiller les urines.",duration:"7 jours",followUpDate:"2024-01-17",status:"completed",notes:"Amélioration progressive",createdAt:"2024-01-10T14:15:00Z"}],fp=[{id:1,name:"Ferme des Prairies",owner:"Pierre Durand",address:"123 Route de la Campagne, 45000 Orléans",coordinates:{latitude:47.9056,longitude:1.919},phone:"02 38 45 67 89",email:"p.durand@fermedespra.fr",types:["Bovin laitier"],totalAnimals:85,animalDetails:[{category:"Bovins laitiers",maleCount:3,femaleCount:82,breeds:["Holstein","Prim'Holstein"],ageGroups:["Veaux (0-6 mois)","Génisses (6-24 mois)","Vaches adultes"]}],lastVisit:"2024-01-15",status:"active",veterinarian:"Dr. Dupont",notes:"Exploitation bien gérée, animaux en bonne santé",registrationNumber:"FR45123456789",surfaceArea:45.5,buildingDetails:"Étable moderne 850m², stabulation libre, salle de traite 2x8",equipmentDetails:"Tracteur John Deere, Tank à lait 2000L, Système de ventilation automatique",certifications:["Agriculture Biologique","Haute Valeur Environnementale"],insuranceDetails:"Groupama - Police n°123456789",emergencyContact:{name:"Marie Durand",phone:"06 12 34 56 78",relation:"Épouse"},photos:[{id:"photo_1",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBDaGVwdGVsPC90ZXh0Pgo8L3N2Zz4K",description:"Vaches Holstein dans le pré",category:"cheptel",uploadedAt:"2024-01-15T10:00:00Z"},{id:"photo_2",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBCw6J0aW1lbnRzPC90ZXh0Pgo8L3N2Zz4K",description:"Étable moderne avec salle de traite",category:"batiments",uploadedAt:"2024-01-15T10:00:00Z"}],createdAt:"2024-01-01T09:00:00Z"},{id:2,name:"Élevage Martin",owner:"Jean-Luc Martin",address:"456 Chemin des Champs, 41000 Blois",coordinates:{latitude:47.5886,longitude:1.334},phone:"02 54 78 90 12",email:"jl.martin@elevagemartin.fr",types:["Porcin"],totalAnimals:150,animalDetails:[{category:"Porcs",maleCount:75,femaleCount:75,breeds:["Large White","Landrace"],ageGroups:["Porcelets (0-2 mois)","Porcs en croissance (2-6 mois)"]}],lastVisit:"2024-01-10",status:"active",veterinarian:"Dr. Martin",notes:"Nouveau système de ventilation installé",registrationNumber:"FR41987654321",surfaceArea:28.3,buildingDetails:"Porcherie 600m², nurserie 200m², système de ventilation automatique",equipmentDetails:"Système d'alimentation automatique, Pompe à lisier, Générateur de secours",certifications:["Label Rouge"],insuranceDetails:"Crédit Agricole Assurances - Police n°987654321",emergencyContact:{name:"Sophie Martin",phone:"06 98 76 54 32",relation:"Sœur"},createdAt:"2024-01-02T10:30:00Z"},{id:3,name:"Ferme Avicole Leroux",owner:"Marie Leroux",address:"789 Avenue des Volailles, 37000 Tours",coordinates:{latitude:47.3936,longitude:.6848},phone:"02 47 12 34 56",email:"m.leroux@avicole-leroux.fr",types:["Avicole"],totalAnimals:2500,animalDetails:[{category:"Poules pondeuses",maleCount:50,femaleCount:2e3,breeds:["ISA Brown","Lohmann Brown"],ageGroups:["Poussins (0-18 semaines)","Pondeuses (18+ semaines)"]},{category:"Poulets de chair",maleCount:225,femaleCount:225,breeds:["Cobb 500","Ross 308"],ageGroups:["0-6 semaines"]}],lastVisit:"2024-01-18",status:"attention",veterinarian:"Dr. Dupont",notes:"Problème de ventilation détecté, surveillance renforcée",registrationNumber:"FR37555666777",surfaceArea:12.8,buildingDetails:"Poulailler automatisé 1200m², aire de parcours 5000m²",equipmentDetails:"Système de ramassage automatique des œufs, Ventilation programmable, Éclairage LED",certifications:["Œufs de France","Bien-être animal"],insuranceDetails:"MMA - Police n°555666777",emergencyContact:{name:"Paul Leroux",phone:"06 47 12 34 56",relation:"Fils"},createdAt:"2024-01-03T14:15:00Z"},{id:4,name:"Ferme Équine du Val",owner:"Sophie Moreau",address:"12 Chemin des Écuries, 78000 Versailles",coordinates:{latitude:48.8044,longitude:2.1232},phone:"01 39 50 12 34",email:"s.moreau@fermeequine.fr",types:["Équin"],totalAnimals:25,animalDetails:[{category:"Chevaux",maleCount:8,femaleCount:17,breeds:["Pur-sang","Selle français","Arabe"],ageGroups:["Poulains (0-3 ans)","Jeunes chevaux (3-7 ans)","Chevaux adultes (7+ ans)"]}],lastVisit:"2024-01-20",status:"active",veterinarian:"Dr. Martin",notes:"Écurie de prestige, chevaux de compétition",registrationNumber:"FR78123456789",surfaceArea:15.2,buildingDetails:"Écuries 800m², manège couvert 1200m², carrière extérieure 2000m²",equipmentDetails:"Tracteur, Système d'arrosage automatique, Éclairage LED, Système de sécurité",certifications:["Bien-être animal","Équitation de tradition française"],insuranceDetails:"Allianz - Police n°781234567",emergencyContact:{name:"Marc Moreau",phone:"06 12 34 56 78",relation:"Époux"},createdAt:"2024-01-04T08:30:00Z"},{id:5,name:"Rucher des Fleurs",owner:"Jean Dupuis",address:"45 Route des Champs, 13000 Marseille",coordinates:{latitude:43.2965,longitude:5.3698},phone:"04 91 23 45 67",email:"j.dupuis@rucherdesfleurs.fr",types:["Apiculture"],totalAnimals:120,animalDetails:[{category:"Abeilles",maleCount:0,femaleCount:120,breeds:["Abeille noire","Buckfast"],ageGroups:["Reines (1-3 ans)","Ouvrières (6 semaines)","Faux-bourdons (3 mois)"]}],lastVisit:"2024-01-12",status:"active",veterinarian:"Dr. Dupont",notes:"Production de miel de qualité, apiculture biologique",registrationNumber:"FR13123456789",surfaceArea:8.5,buildingDetails:"Miellerie 200m², entrepôt 150m², zone de conditionnement 100m²",equipmentDetails:"Extracteur de miel, Centrifugeuse, Filtres, Matériel de conditionnement",certifications:["Agriculture Biologique","Miel de France"],insuranceDetails:"MAIF - Police n°131234567",emergencyContact:{name:"Marie Dupuis",phone:"06 91 23 45 67",relation:"Épouse"},createdAt:"2024-01-05T11:15:00Z"}],mp=[{id:1,date:"2024-01-20",farmId:1,farmName:"Ferme des Prairies",type:"vaccination",animals:"15 bovins",veterinarian:"Dr. Dupont",description:"Vaccination contre la fièvre aphteuse",status:"completed",followUp:"Contrôle dans 6 mois",cost:450,notes:"Intervention réussie, aucun effet secondaire",createdAt:"2024-01-20T08:00:00Z"},{id:2,date:"2024-01-18",farmId:3,farmName:"Ferme Avicole Leroux",type:"urgence",animals:"50 poules",veterinarian:"Dr. Dupont",description:"Traitement infection respiratoire",status:"ongoing",followUp:"Suivi hebdomadaire",cost:320,notes:"Traitement antibiotique en cours",createdAt:"2024-01-18T14:30:00Z"},{id:3,date:"2024-01-15",farmId:2,farmName:"Élevage Martin",type:"controle",animals:"Tous les porcins",veterinarian:"Dr. Martin",description:"Contrôle sanitaire trimestriel",status:"completed",followUp:"Prochain contrôle en avril",cost:280,notes:"Tous les paramètres dans les normes",createdAt:"2024-01-15T10:00:00Z"}],pp=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"DHPP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2025-01-15",batchNumber:"VAC2024-001",veterinarian:"Dr. Martin",notes:"Première vaccination annuelle",status:"completed",cost:"45.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-12-31",createdAt:"2024-01-15T10:30:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Rage",vaccineType:"rabies",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2027-01-15",batchNumber:"RAB2024-005",veterinarian:"Dr. Martin",notes:"Vaccination antirabique obligatoire",status:"completed",cost:"35.00",location:"right_shoulder",manufacturer:"Merial",expirationDate:"2026-08-15",createdAt:"2024-01-15T10:45:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:3,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",vaccineName:"FVRCP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2023-08-22",nextDueDate:"2024-08-22",batchNumber:"CAT2023-012",veterinarian:"Dr. Dupont",notes:"Vaccination de base pour chat",status:"overdue",cost:"40.00",location:"subcutaneous",manufacturer:"Virbac",expirationDate:"2025-06-30",createdAt:"2023-08-22T14:20:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:4,petId:3,petName:"Rex",clientId:3,clientName:"Sophie Leroux",vaccineName:"Bordetella",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-18",nextDueDate:"2025-01-18",batchNumber:"BOR2024-008",veterinarian:"Dr. Martin",notes:"Vaccination contre la toux de chenil",status:"completed",cost:"30.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-09-30",createdAt:"2024-01-18T16:15:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:5,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Lyme",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-25",nextDueDate:"2024-04-25",batchNumber:"LYM2024-003",veterinarian:"Dr. Martin",notes:"Vaccination contre la maladie de Lyme",status:"scheduled",cost:"50.00",location:"left_hip",manufacturer:"Boehringer Ingelheim",expirationDate:"2025-11-20",createdAt:"2024-01-25T09:00:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1}],wc=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",productName:"Frontline Combo Spot-On",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",dateGiven:"2024-01-10",nextDueDate:"2024-02-10",dosage:"1 pipette",administrationRoute:"topical",veterinarian:"Dr. Martin",notes:"Application entre les omoplates",batchNumber:"FRC2024-001",manufacturer:"Boehringer Ingelheim",weight:"28kg",status:"completed",cost:"25.50",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",productName:"Milbemax Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cœur",dateGiven:"2024-01-05",nextDueDate:"2024-04-05",dosage:"1/2 comprimé",administrationRoute:"oral",veterinarian:"Dr. Dupont",notes:"Donné avec la nourriture",batchNumber:"MLX2024-008",manufacturer:"Novartis",weight:"4.5kg",status:"completed",cost:"18.00",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1}],th=[{id:1,name:"Frontline Combo Spot-On",species:"Chien",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",description:"Protection complète contre puces et tiques pendant 8 semaines",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"2-60kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!0,notes:"Éviter le bain 48h avant et après application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:2,name:"NexGard Spectra",species:"Chien",productType:"combined",targetParasites:"Puces, Tiques, Vers du cœur, Vers ronds, Vers plats",description:"Protection combinée externe et interne mensuelle",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Première dose"},{offsetDays:30,label:"Dose mensuelle"}],weightRange:"2-60kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!1,notes:"Donner avec la nourriture pour une meilleure absorption",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:3,name:"Drontal Plus",species:"Chien",productType:"worming",targetParasites:"Vers ronds, Vers plats, Ankylostomes, Trichures",description:"Vermifugation large spectre",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Première vermifugation"},{offsetDays:90,label:"Rappel trimestriel"},{offsetDays:180,label:"Rappel semestriel"}],weightRange:"2-35kg",ageRequirement:"Dès 2 semaines",seasonalTreatment:!1,notes:"Administrer le matin à jeun, répéter selon exposition aux parasites",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:4,name:"Advocate Spot-On",species:"Chien",productType:"combined",targetParasites:"Puces, Vers du cœur, Vers ronds, Ankylostomes, Gale sarcoptique",description:"Protection topique combinée mensuelle",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"1-40kg",ageRequirement:"Dès 7 semaines",seasonalTreatment:!1,notes:"Appliquer sur peau sèche entre les omoplates",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:5,name:"Frontline Combo Chat",species:"Chat",productType:"flea_tick",targetParasites:"Puces, Tiques",description:"Protection mensuelle contre puces et tiques chez le chat",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"1-8kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!0,notes:"Attention aux réactions cutanées, surveiller 24h après application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:6,name:"Stronghold Plus",species:"Chat",productType:"combined",targetParasites:"Puces, Vers du cœur, Vers ronds, Ankylostomes, Gale des oreilles",description:"Protection combinée mensuelle pour chats",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"0.5-8kg",ageRequirement:"Dès 6 semaines",seasonalTreatment:!1,notes:"Efficace contre gale des oreilles en 1 application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:7,name:"Milbemax Chat",species:"Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cœur",description:"Vermifugation complète pour chats",manufacturer:"Novartis",intervals:[{offsetDays:0,label:"Première vermifugation"},{offsetDays:90,label:"Rappel trimestriel"}],weightRange:"0.5-8kg",ageRequirement:"Dès 6 semaines",seasonalTreatment:!1,notes:"Comprimés appétents, peut être donné avec ou sans nourriture",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:8,name:"Eprinex Pour-On",species:"Bovins",productType:"external",targetParasites:"Mouches, Poux, Gales, Vers gastro-intestinaux",description:"Traitement pour-on systémique pour bovins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application unique"},{offsetDays:84,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Tous âges",seasonalTreatment:!0,notes:"Temps d'attente viande: 15 jours, lait: 0 jour",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:9,name:"Panacur 100",species:"Bovins",productType:"worming",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires",description:"Vermifuge oral pour bovins",manufacturer:"MSD",intervals:[{offsetDays:0,label:"Traitement initial"},{offsetDays:120,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Dès 2 semaines",seasonalTreatment:!1,notes:"Temps d'attente viande: 14 jours, lait: 3 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:10,name:"Cydectin 0.1%",species:"Ovins",productType:"combined",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires, Gales",description:"Traitement injectable pour ovins et caprins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Injection unique"},{offsetDays:90,label:"Rappel saisonnier"}],weightRange:"10-100kg",ageRequirement:"Dès 4 semaines",seasonalTreatment:!0,notes:"Temps d'attente viande: 35 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],OP=[{id:1,name:"Amoxicilline 500mg",category:"medication",subcategory:"Antibiotique",description:"Antibiotique à large spectre",manufacturer:"Boehringer Ingelheim",batchNumber:"AMX2024001",dosage:"500mg",unit:"box",currentStock:15,minimumStock:5,maximumStock:50,purchasePrice:20,sellingPrice:25.5,totalValue:300,expirationDate:"2025-12-31",supplier:"Pharmacie Vétérinaire Centrale",location:"Armoire A - Étagère 1",notes:"Stockage à température ambiante",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-15",isActive:!0,barcode:"1234567890123",sku:"MED-AMX-500"},{id:2,name:"Frontline Combo Spot-On",category:"medication",subcategory:"Antiparasitaire",description:"Traitement contre puces et tiques",manufacturer:"Boehringer Ingelheim",batchNumber:"FRC2024001",dosage:"1 pipette",unit:"pack",currentStock:8,minimumStock:10,maximumStock:100,purchasePrice:15,sellingPrice:18.75,totalValue:120,expirationDate:"2026-06-30",supplier:"VetoSupply Maroc",location:"Armoire B - Étagère 2",notes:"Pour chiens 20-40kg",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-10",isActive:!0,barcode:"2345678901234",sku:"ANT-FRONT-20-40"},{id:3,name:"DHPP Canine",category:"vaccine",subcategory:"Vaccin Core",description:"Vaccin contre Distemper, Hépatite, Parvovirus, Parainfluenza",manufacturer:"Merial",batchNumber:"DHPP2024001",dosage:"1 dose",unit:"vial",currentStock:25,minimumStock:10,maximumStock:100,purchasePrice:9.5,sellingPrice:12,totalValue:237.5,expirationDate:"2025-08-15",supplier:"Vaccins Vétérinaires SA",location:"Réfrigérateur - Étagère 1",notes:"Conservation 2-8°C",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-20",isActive:!0,barcode:"3456789012345",sku:"VAC-DHPP-001"},{id:4,name:"Rage Canine",category:"vaccine",subcategory:"Vaccin Obligatoire",description:"Vaccin antirabique obligatoire",manufacturer:"Merial",batchNumber:"RAB2024001",dosage:"1 dose",unit:"vial",currentStock:12,minimumStock:5,maximumStock:50,purchasePrice:12,sellingPrice:15,totalValue:144,expirationDate:"2025-10-20",supplier:"Vaccins Vétérinaires SA",location:"Réfrigérateur - Étagère 2",notes:"Conservation 2-8°C - Obligatoire",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-18",isActive:!0,barcode:"4567890123456",sku:"VAC-RAB-001"},{id:5,name:"Seringues 5ml",category:"consumable",subcategory:"Matériel d'injection",description:"Seringues stériles 5ml avec aiguilles",manufacturer:"BD Medical",batchNumber:"SYR2024001",dosage:"5ml",unit:"box",currentStock:50,minimumStock:20,maximumStock:200,purchasePrice:.35,sellingPrice:.45,totalValue:17.5,expirationDate:"2027-03-15",supplier:"Matériel Médical Pro",location:"Armoire C - Étagère 1",notes:"Stériles, usage unique",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-12",isActive:!0,barcode:"5678901234567",sku:"CON-SYR-5ML"},{id:6,name:"Masques chirurgicaux",category:"consumable",subcategory:"Protection",description:"Masques chirurgicaux jetables",manufacturer:"3M",batchNumber:"MSK2024001",dosage:"1 unité",unit:"box",currentStock:200,minimumStock:50,maximumStock:500,purchasePrice:.12,sellingPrice:.15,totalValue:24,expirationDate:"2026-12-31",supplier:"Protection Médicale",location:"Armoire D - Étagère 1",notes:"Type IIR, boîte de 50",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-08",isActive:!0,barcode:"6789012345678",sku:"CON-MSK-50"},{id:7,name:"Gants nitrile",category:"consumable",subcategory:"Protection",description:"Gants nitrile non poudrés",manufacturer:"Ansell",batchNumber:"GNT2024001",dosage:"1 paire",unit:"box",currentStock:30,minimumStock:10,maximumStock:100,purchasePrice:.2,sellingPrice:.25,totalValue:6,expirationDate:"2026-08-20",supplier:"Protection Médicale",location:"Armoire D - Étagère 2",notes:"Taille M, boîte de 100",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-05",isActive:!0,barcode:"7890123456789",sku:"CON-GNT-M-100"},{id:8,name:"Thermomètre digital",category:"equipment",subcategory:"Diagnostic",description:"Thermomètre digital vétérinaire",manufacturer:"Gima",batchNumber:"THM2024001",dosage:"1 unité",unit:"unit",currentStock:3,minimumStock:2,maximumStock:10,purchasePrice:35,sellingPrice:45,totalValue:105,expirationDate:void 0,supplier:"Équipement Vétérinaire",location:"Bureau - Tiroir 1",notes:"Résistant à l'eau, écran LCD",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-03",isActive:!0,barcode:"8901234567890",sku:"EQP-THM-DIG"},{id:9,name:"Vitamines B Complex",category:"supplement",subcategory:"Vitamines",description:"Complexe vitaminique B pour animaux",manufacturer:"Virbac",batchNumber:"VIT2024001",dosage:"1ml",unit:"bottle",currentStock:5,minimumStock:3,maximumStock:20,purchasePrice:6.5,sellingPrice:8.5,totalValue:32.5,expirationDate:"2025-11-30",supplier:"Suppléments Vétérinaires",location:"Armoire A - Étagère 3",notes:"Flacon 50ml",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-14",isActive:!0,barcode:"9012345678901",sku:"SUP-VIT-B-50"}],gp=[{id:1,name:"DAPP (DHPP)",species:"Chien",vaccineType:"core",description:"Distemper, Adénovirus, Parvovirus, Parainfluenza - Vaccination essentielle",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"J0 (première injection)"},{offsetDays:21,label:"21 jours (2e injection)"},{offsetDays:42,label:"42 jours (3e injection)"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"6-8 semaines (renforcer jusqu'à 16 semaines)",notes:"Protocole d'initiation à 6-8-12-16 semaines puis rappel à 1 an, puis triennal",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:2,name:"Rage (Rabies)",species:"Chien",vaccineType:"rabies",description:"Vaccination antirabique obligatoire selon la législation locale",manufacturer:"Merial",intervals:[{offsetDays:0,label:"À l'âge de 12 semaines minimum"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"12 semaines minimum",notes:"Rappel annuel ou biennal selon réglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:3,name:"Bordetella bronchiseptica",species:"Chien",vaccineType:"non-core",description:"Protection contre la toux de chenil",manufacturer:"Zoetis",intervals:[{offsetDays:8,label:"8 semaines"}],ageRequirement:"8 semaines",notes:"Vaccination intracellulaire recommandée pour chiens en collectivité",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:4,name:"Leptospirose",species:"Chien",vaccineType:"non-core",description:"Protection contre les sérovars pathogènes de Leptospira",manufacturer:"Virbac",intervals:[{offsetDays:12,label:"12 semaines"}],ageRequirement:"12 semaines",notes:"Double sérovariels recommandé",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:5,name:"RCP (FVRCP)",species:"Chat",vaccineType:"core",description:"Calicivirose, Panleucopénie, Rhinotrachéite virale féline",manufacturer:"Virbac",intervals:[{offsetDays:0,label:"6 semaines"},{offsetDays:21,label:"12 semaines"},{offsetDays:28,label:"1 an"}],ageRequirement:"6-8-12 semaines",notes:"Renforcement à 1 an puis rappel triennal ou annuel selon protocole",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:6,name:"Rage (Rabies)",species:"Chat",vaccineType:"rabies",description:"Vaccination antirabique selon réglementation voyage",manufacturer:"Merial",intervals:[{offsetDays:365,label:"1 an"},{offsetDays:730,label:"2 ans"}],ageRequirement:"12 semaines",notes:"Rappel annuel ou biennal selon réglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:7,name:"Distemper furet (Maladie de Carré)",species:"Furet",vaccineType:"core",description:"Protection contre le morbillivirus (Carré)",manufacturer:"Merial",intervals:[{offsetDays:6,label:"6 semaines"},{offsetDays:12,label:"8 semaines"}],ageRequirement:"6-8 semaines",notes:"Protocole similaire à celui des chiens",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:8,name:"Myxomatose",species:"Lapin",vaccineType:"core",description:"Protection contre la myxomatose",manufacturer:"Virbac",intervals:[{offsetDays:180,label:"180 jours"}],ageRequirement:"5-6 semaines",notes:"Vaccination semestrielle",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:9,name:"VHD (Maladie hémorragique virale)",species:"Lapin",vaccineType:"core",description:"Protection contre VHD de type 1 et 2",manufacturer:"Virbac",intervals:[{offsetDays:6,label:"6 semaines"}],ageRequirement:"6 semaines",notes:"Rappel annuel",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"}];function PS({children:e}){const t=()=>{try{const B=localStorage.getItem("vetpro-clients"),J=localStorage.getItem("vetpro-pets"),ne=localStorage.getItem("vetpro-consultations"),Ce=localStorage.getItem("vetpro-appointments"),Te=localStorage.getItem("vetpro-prescriptions"),be=localStorage.getItem("vetpro-farms"),Re=localStorage.getItem("vetpro-farmInterventions"),Zt=localStorage.getItem("vetpro-vaccinations"),It=localStorage.getItem("vetpro-vaccinationProtocols"),ze=localStorage.getItem("vetpro-antiparasitics"),ln=localStorage.getItem("vetpro-antiparasiticProtocols"),Tr=localStorage.getItem("vetpro-stockItems"),Mi=localStorage.getItem("vetpro-stockAlerts"),Ii=localStorage.getItem("vetpro-stockMovements"),Om=localStorage.getItem("vetpro-accountingEntries");if(B&&J){const k8=JSON.parse(B),X2=JSON.parse(J),T8=ne?JSON.parse(ne):up,E8=Ce?JSON.parse(Ce):dp,O8=Te?JSON.parse(Te):hp,D8=be?JSON.parse(be):fp,M8=Re?JSON.parse(Re):mp,I8=Zt?JSON.parse(Zt):pp,$8=It?JSON.parse(It):gp,R8=ze?JSON.parse(ze):wc,L8=ln?JSON.parse(ln):th,F8=Tr?JSON.parse(Tr):OP,B8=Mi?JSON.parse(Mi):[],z8=Ii?JSON.parse(Ii):[],V8=Om?JSON.parse(Om):[];return{clients:k8.map(J2=>({...J2,pets:X2.filter(U8=>U8.ownerId===J2.id)})),pets:X2,consultations:T8,appointments:E8,prescriptions:O8,farms:D8,farmInterventions:M8,vaccinations:I8,vaccinationProtocols:$8,antiparasitics:R8,antiparasiticProtocols:L8,stockItems:F8,stockAlerts:B8,stockMovements:z8,accountingEntries:V8}}}catch(B){console.error("Erreur lors du chargement des données:",B)}return{clients:EP.map(B=>({...B,pets:eh.filter(J=>J.ownerId===B.id)})),pets:eh,consultations:up,appointments:dp,prescriptions:hp,farms:fp,farmInterventions:mp,vaccinations:pp,vaccinationProtocols:gp,antiparasitics:wc,antiparasiticProtocols:th,stockItems:OP,stockAlerts:[],stockMovements:[],accountingEntries:[]}},n=(V,B,J,ne=d,Ce=f,Te=g,be=v,Re=y,Zt=N,It=C,ze=_,ln=E,Tr=A,Mi=M,Ii=z)=>{try{localStorage.setItem("vetpro-clients",JSON.stringify(V)),localStorage.setItem("vetpro-pets",JSON.stringify(B)),localStorage.setItem("vetpro-consultations",JSON.stringify(J)),localStorage.setItem("vetpro-appointments",JSON.stringify(ne)),localStorage.setItem("vetpro-prescriptions",JSON.stringify(Ce)),localStorage.setItem("vetpro-farms",JSON.stringify(Te)),localStorage.setItem("vetpro-farmInterventions",JSON.stringify(be)),localStorage.setItem("vetpro-vaccinations",JSON.stringify(Re)),localStorage.setItem("vetpro-vaccinationProtocols",JSON.stringify(Zt)),localStorage.setItem("vetpro-antiparasitics",JSON.stringify(It)),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(ze)),localStorage.setItem("vetpro-stockItems",JSON.stringify(ln)),localStorage.setItem("vetpro-stockAlerts",JSON.stringify(Tr)),localStorage.setItem("vetpro-stockMovements",JSON.stringify(Mi)),localStorage.setItem("vetpro-accountingEntries",JSON.stringify(Ii))}catch(Om){console.error("Erreur lors de la sauvegarde des données:",Om)}},r=t(),[a,i]=b.useState(r.clients),[o,l]=b.useState(r.pets),[c,u]=b.useState(r.consultations),[d,h]=b.useState(r.appointments),[f,m]=b.useState(r.prescriptions),[g,p]=b.useState(r.farms),[v,x]=b.useState(r.farmInterventions),[y,j]=b.useState(r.vaccinations),[N,w]=b.useState(r.vaccinationProtocols),[C,S]=b.useState(r.antiparasitics),[_,k]=b.useState(r.antiparasiticProtocols),[E,P]=b.useState(r.stockItems||[]),[A,R]=b.useState(r.stockAlerts||[]),[M,K]=b.useState(r.stockMovements||[]),[z,W]=b.useState(r.accountingEntries||[]);b.useEffect(()=>{localStorage.getItem("vetpro-antiparasiticProtocols")||localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(th)),localStorage.getItem("vetpro-antiparasitics")||(localStorage.setItem("vetpro-antiparasitics",JSON.stringify(wc)),S(wc))},[]),b.useEffect(()=>{const V=new Date;new Date(V.getFullYear(),V.getMonth(),1),new Date(V.getFullYear(),V.getMonth()+1,0)},[]),b.useEffect(()=>{const V=new Date,B=new Date(V.getFullYear(),V.getMonth(),1),J=new Date(V.getFullYear(),V.getMonth()+1,0);By(B.toISOString().split("T")[0],J.toISOString().split("T")[0]),zy(B.toISOString().split("T")[0],J.toISOString().split("T")[0])},[c,y,C,f,M]),b.useEffect(()=>{},[C]),b.useEffect(()=>{a.length>0&&c.length>=0&&y.length>=0&&C.length>=0&&d.length>=0&&a.forEach(V=>{Z(V.id)})},[a.length,c.length,y.length,C.length,d.length]);const T=V=>{const B={...V,name:`${V.firstName} ${V.lastName}`,id:Math.max(...a.map(ne=>ne.id),0)+1,pets:[],lastVisit:new Date().toISOString().split("T")[0],totalVisits:0},J=[...a,B];i(J),n(J,o,c,d,f,g,v,y)},I=V=>{const B={...V,id:Math.max(...o.map(Ce=>Ce.id),0)+1,status:V.status||"healthy",lastVisit:new Date().toISOString().split("T")[0]},J=[...o,B];l(J);const ne=a.map(Ce=>Ce.id===V.ownerId?{...Ce,pets:[...Ce.pets,{id:B.id,name:B.name,type:B.type,breed:B.breed,birthDate:B.birthDate,weight:B.weight,color:B.color,microchip:B.microchip,medicalNotes:B.medicalNotes,photo:B.photo,ownerId:B.ownerId,owner:B.owner,status:B.status,lastVisit:B.lastVisit,nextAppointment:B.nextAppointment,vaccinations:B.vaccinations}]}:Ce);i(ne),n(ne,J,c,d,f,g,v,y)},U=(V,B)=>{const J=a.map(ne=>ne.id===V?{...ne,...B,name:B.firstName&&B.lastName?`${B.firstName} ${B.lastName}`:ne.name}:ne);i(J),n(J,o,c,d,f,g,v,y)},H=(V,B)=>{({...o.find(Ce=>Ce.id===V),...B});const J=o.map(Ce=>Ce.id===V?{...Ce,...B}:Ce);l(J);const ne=a.map(Ce=>({...Ce,pets:Ce.pets.map(Te=>Te.id===V?{...Te,...B}:Te)}));i(ne),n(ne,J,c)},Z=V=>{const B=a.find(ze=>ze.id===V);if(!B)return;const J=c.filter(ze=>ze.clientId===V),ne=y.filter(ze=>ze.clientId===V),Ce=C.filter(ze=>ze.clientId===V),Te=d.filter(ze=>ze.clientId===V&&ze.status==="completed"),be=J.length+ne.length+Ce.length+Te.length,Re=[...J.map(ze=>({date:ze.date,type:"consultation"})),...ne.map(ze=>({date:ze.dateGiven,type:"vaccination"})),...Ce.map(ze=>({date:ze.dateGiven,type:"antiparasitic"})),...Te.map(ze=>({date:ze.date,type:"appointment"}))],Zt=Re.length>0?Re.reduce((ze,ln)=>new Date(ln.date)>new Date(ze.date)?ln:ze).date:B.lastVisit,It=a.map(ze=>ze.id===V?{...ze,totalVisits:be,lastVisit:Zt}:ze);return i(It),{totalVisits:be,lastVisit:Zt}},ae=V=>{const B={...V,id:Math.max(...E.map(ne=>ne.id),0)+1,lastUpdated:new Date().toISOString(),totalValue:V.currentStock*V.purchasePrice},J=[...E,B];return P(J),n(a,o,c,d,f,g,v,y,N,C,_,J,A,M),B},se=(V,B)=>{const J=E.map(ne=>{if(ne.id===V){const Ce={...ne,...B};return(B.currentStock!==void 0||B.purchasePrice!==void 0)&&(Ce.totalValue=Ce.currentStock*Ce.purchasePrice),Ce.lastUpdated=new Date().toISOString(),Ce}return ne});return P(J),n(a,o,c,d,f,g,v,y,N,C,_,J,A,M),J.find(ne=>ne.id===V)},me=V=>{const B=E.filter(J=>J.id!==V);P(B),n(a,o,c,d,f,g,v,y,N,C,_,B,A,M)},xe=V=>{const B={...V,id:Math.max(...M.map(ne=>ne.id),0)+1},J=[...M,B];return K(J),n(a,o,c,d,f,g,v,y,N,C,_,E,A,J),B},le=()=>{const V=[],B=new Date().toISOString().split("T")[0],J=new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0];return E.forEach(ne=>{ne.currentStock<=ne.minimumStock&&V.push({id:V.length+1,itemId:ne.id,itemName:ne.name,type:"low_stock",message:`Stock bas: ${ne.currentStock} ${ne.unit} restant(s)`,severity:ne.currentStock===0?"critical":"high",createdAt:new Date().toISOString(),isRead:!1}),ne.expirationDate&&(ne.expirationDate<B?V.push({id:V.length+1,itemId:ne.id,itemName:ne.name,type:"expired",message:`Expiré le ${ne.expirationDate}`,severity:"critical",createdAt:new Date().toISOString(),isRead:!1}):ne.expirationDate<=J&&V.push({id:V.length+1,itemId:ne.id,itemName:ne.name,type:"expiring_soon",message:`Expire le ${ne.expirationDate}`,severity:"medium",createdAt:new Date().toISOString(),isRead:!1}))}),V},Y=V=>{const B={...V,id:Math.max(...c.map(Te=>Te.id),0)+1,createdAt:new Date().toISOString(),photos:V.photos||[]},J=[...c,B];u(J);const ne=o.map(Te=>Te.id===V.petId?{...Te,lastVisit:V.date}:Te);l(ne);const Ce=a.map(Te=>({...Te,pets:Te.pets.map(be=>be.id===V.petId?{...be,lastVisit:V.date}:be)}));i(Ce),Z(V.clientId),n(Ce,ne,J)},ee=V=>{if(!o.find(Ce=>Ce.id===V))return;const J=o.filter(Ce=>Ce.id!==V);l(J);const ne=a.map(Ce=>({...Ce,pets:Ce.pets.filter(Te=>Te.id!==V)}));i(ne),n(ne,J,c)},oe=()=>{localStorage.removeItem("vetpro-clients"),localStorage.removeItem("vetpro-pets"),localStorage.removeItem("vetpro-consultations"),localStorage.removeItem("vetpro-appointments"),localStorage.removeItem("vetpro-prescriptions"),localStorage.removeItem("vetpro-farms"),localStorage.removeItem("vetpro-farmInterventions"),localStorage.removeItem("vetpro-vaccinations"),localStorage.removeItem("vetpro-vaccinationProtocols"),localStorage.removeItem("vetpro-antiparasitics"),localStorage.removeItem("vetpro-antiparasiticProtocols");const V=EP.map(B=>({...B,pets:eh.filter(J=>J.ownerId===B.id)}));i(V),l(eh),u(up),h(dp),m(hp),p(fp),x(mp),j(pp),w(gp),S(wc),k(th),n(V,eh,up,dp,hp,fp,mp,pp,gp,wc,th)},O=()=>{const V={clients:a,pets:o,consultations:c,appointments:d,prescriptions:f,farms:g,farmInterventions:v,vaccinations:y,vaccinationProtocols:N,antiparasitics:C,antiparasiticProtocols:_},B=new Blob([JSON.stringify(V,null,2)],{type:"application/json"}),J=URL.createObjectURL(B),ne=document.createElement("a");ne.href=J,ne.download=`vetpro-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),URL.revokeObjectURL(J)},q=V=>{const B=V.clients.map(J=>({...J,pets:V.pets.filter(ne=>ne.ownerId===J.id)}));i(B),l(V.pets),u(V.consultations||[]),h(V.appointments||[]),m(V.prescriptions||[]),p(V.farms||[]),x(V.farmInterventions||[]),j(V.vaccinations||[]),w(V.vaccinationProtocols||[]),S(V.antiparasitics||[]),k(V.antiparasiticProtocols||[]),n(B,V.pets,V.consultations||[],V.appointments||[],V.prescriptions||[],V.farms||[],V.farmInterventions||[],V.vaccinations||[],V.vaccinationProtocols||[],V.antiparasitics||[],V.antiparasiticProtocols||[])},fe=(V,B)=>{const J=c.map(ne=>ne.id===V?{...ne,...B}:ne);u(J),n(a,o,J)},he=V=>{const B=c.filter(J=>J.id!==V);u(B),n(a,o,B)},Ye=V=>{const B=E.find(J=>J.name.toLowerCase()===V.productName.toLowerCase()&&J.category==="medication"&&J.isActive);return B&&B.currentStock>=1?{...V,stockItemId:B.id,isInStock:!0,stockQuantity:B.currentStock,stockDeducted:!0}:B&&B.currentStock>0?{...V,stockItemId:B.id,isInStock:!0,stockQuantity:B.currentStock,stockDeducted:!1}:{...V,isInStock:!1,stockQuantity:0,stockDeducted:!1}},We=V=>{const B=Ye(V);let J=[...E];if(B.stockDeducted&&B.stockItemId){const Te=J.findIndex(be=>be.id===B.stockItemId);if(Te!==-1){const be=J[Te];J[Te]={...be,currentStock:be.currentStock-1,lastUpdated:new Date().toISOString()},xe({itemId:B.stockItemId,itemName:B.productName,type:"out",quantity:1,reason:"Traitement antiparasitaire",reference:`Antiparasitaire #${Math.max(0,...C.map(Re=>Re.id))+1}`,performedBy:B.veterinarian,date:new Date().toISOString(),notes:`Traitement antiparasitaire de ${B.petName} - ${B.productName}`})}}const ne={...B,id:Math.max(0,...C.map(Te=>Te.id))+1,createdAt:new Date().toISOString()},Ce=[...C,ne];S(Ce),P(J),Z(V.clientId),n(a,o,c,d,f,g,v,y,N,Ce,_,J,A,M),localStorage.getItem("vetpro-antiparasitics")},ut=(V,B)=>{const J=C.map(ne=>ne.id===V?{...ne,...B}:ne);S(J),n(a,o,c,d,f,g,v,y,N,J,_)},$e=V=>{const B=C.filter(J=>J.id!==V);S(B),n(a,o,c,d,f,g,v,y,N,B,_)},it=V=>{const B={...V,id:Math.max(0,..._.map(ne=>ne.id))+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},J=[..._,B];k(J),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(J))},ie=(V,B)=>{const J=_.map(ne=>ne.id===V?{...ne,...B,updatedAt:new Date().toISOString()}:ne);k(J),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(J))},Me=V=>{const B=_.filter(J=>J.id!==V);k(B),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(B))},jt=V=>C.find(B=>B.id===V),Ft=V=>C.filter(J=>J.petId===V),Kn=V=>C.filter(B=>B.clientId===V),gt=()=>{const V=new Date().toISOString().split("T")[0];return C.filter(B=>B.nextDueDate&&B.nextDueDate<V&&B.status!=="completed")},Ot=(V=7)=>{const B=new Date,J=new Date(B.getTime()+V*24*60*60*1e3);return C.filter(ne=>{if(!ne.nextDueDate)return!1;const Ce=new Date(ne.nextDueDate);return Ce>=B&&Ce<=J})},Sn=V=>C.filter(B=>B.status===V),er=V=>_.find(B=>B.id===V),Wr=V=>_.filter(B=>B.species===V&&B.isActive),vn=()=>_.filter(V=>V.isActive),Di=V=>a.find(B=>B.id===V),Rn=V=>o.find(B=>B.id===V),Ha=V=>c.find(B=>B.id===V),Ds=V=>o.filter(B=>B.ownerId===V),dc=V=>c.filter(B=>B.petId===V),fa=V=>c.filter(B=>B.clientId===V),G=V=>{const B={...V,id:Math.max(...d.map(ne=>ne.id),0)+1,createdAt:new Date().toISOString()},J=[...d,B];h(J),Z(V.clientId),n(a,o,c,J,f)},Se=(V,B)=>{const J=d.map(ne=>ne.id===V?{...ne,...B}:ne);h(J),n(a,o,c,J,f)},pe=V=>{const B=d.filter(J=>J.id!==V);h(B),n(a,o,c,B,f)},on=V=>d.find(B=>B.id===V),kr=V=>d.filter(B=>B.clientId===V),Ms=V=>d.filter(B=>B.petId===V),fs=V=>d.filter(B=>B.date===V),Ly=()=>{const V=new Date().toISOString().split("T")[0];return d.filter(B=>B.date>=V&&B.status!=="cancelled"&&B.status!=="completed").sort((B,J)=>new Date(B.date+"T"+B.time).getTime()-new Date(J.date+"T"+J.time).getTime())},Qe=()=>{const V=new Date().toISOString().split("T")[0];return d.filter(B=>B.date<V&&B.status==="scheduled").sort((B,J)=>new Date(B.date+"T"+B.time).getTime()-new Date(J.date+"T"+J.time).getTime())},wt=V=>V.map(B=>{const J=E.find(ne=>ne.name.toLowerCase()===B.name.toLowerCase()&&ne.category==="medication"&&ne.isActive);return J&&J.currentStock>=B.quantity?{...B,stockItemId:J.id,isInStock:!0,stockQuantity:J.currentStock,stockDeducted:!0}:J&&J.currentStock>0?{...B,stockItemId:J.id,isInStock:!0,stockQuantity:J.currentStock,stockDeducted:!1}:{...B,isInStock:!1,stockQuantity:0,stockDeducted:!1}}),Bt=V=>{const B=wt(V.medications);let J=[...E];B.forEach(Te=>{if(Te.stockDeducted&&Te.stockItemId){const be=J.findIndex(Re=>Re.id===Te.stockItemId);if(be!==-1){const Re=J[be];J[be]={...Re,currentStock:Re.currentStock-Te.quantity,lastUpdated:new Date().toISOString()},xe({itemId:Te.stockItemId,itemName:Te.name,type:"out",quantity:Te.quantity,reason:"Prescription médicale",reference:`Prescription #${Math.max(...f.map(Zt=>Zt.id),0)+1}`,performedBy:V.prescribedBy,date:new Date().toISOString(),notes:`Prescription pour ${V.petName} - ${V.diagnosis}`})}}});const ne={...V,medications:B,id:Math.max(...f.map(Te=>Te.id),0)+1,createdAt:new Date().toISOString()},Ce=[...f,ne];m(Ce),P(J),n(a,o,c,d,Ce,g,v,y,N,C,_,J,A,M,z)},Hr=(V,B)=>{const J=f.map(ne=>ne.id===V?{...ne,...B}:ne);m(J),n(a,o,c,d,J,g,v,y,N,C,_,E,A,M,z)},Kr=V=>{const B=f.filter(J=>J.id!==V);m(B),n(a,o,c,d,B,g,v,y,N,C,_,E,A,M,z)},ma=V=>f.find(B=>B.id===V),Ka=V=>f.filter(B=>B.petId===V),Gr=V=>f.filter(B=>B.consultationId===V),pa=()=>f.filter(V=>V.status==="active").sort((V,B)=>new Date(B.date).getTime()-new Date(V.date).getTime()),X6=V=>{const B={...V,id:Math.max(...g.map(ne=>ne.id),0)+1,createdAt:new Date().toISOString()},J=[...g,B];p(J),n(a,o,c,d,f,J,v)},J6=(V,B)=>{const J=g.map(ne=>ne.id===V?{...ne,...B}:ne);p(J),n(a,o,c,d,f,J,v)},Z6=V=>{const B=g.filter(J=>J.id!==V);p(B),n(a,o,c,d,f,B,v)},e8=V=>{const B={...V,id:Math.max(...v.map(ne=>ne.id),0)+1,createdAt:new Date().toISOString()},J=[...v,B];x(J),n(a,o,c,d,f,g,J)},t8=(V,B)=>{const J=v.map(ne=>ne.id===V?{...ne,...B}:ne);x(J),n(a,o,c,d,f,g,J)},n8=V=>{const B=v.filter(J=>J.id!==V);x(B),n(a,o,c,d,f,g,B)},r8=V=>g.find(B=>B.id===V),s8=V=>v.find(B=>B.id===V),a8=V=>v.filter(B=>B.farmId===V),i8=()=>{const V=new Date().toISOString().split("T")[0];return v.filter(B=>B.date>=V&&B.status!=="cancelled").sort((B,J)=>new Date(B.date).getTime()-new Date(J.date).getTime())},o8=V=>g.filter(B=>B.status===V),l8=V=>{const B=E.find(J=>J.name.toLowerCase()===V.vaccineName.toLowerCase()&&J.category==="vaccine"&&J.isActive);return B&&B.currentStock>=1?{...V,stockItemId:B.id,isInStock:!0,stockQuantity:B.currentStock,stockDeducted:!0}:B&&B.currentStock>0?{...V,stockItemId:B.id,isInStock:!0,stockQuantity:B.currentStock,stockDeducted:!1}:{...V,isInStock:!1,stockQuantity:0,stockDeducted:!1}},Fy=V=>{const B=l8(V);let J=[...E];if(B.stockDeducted&&B.stockItemId){const Ce=J.findIndex(Te=>Te.id===B.stockItemId);if(Ce!==-1){const Te=J[Ce];J[Ce]={...Te,currentStock:Te.currentStock-1,lastUpdated:new Date().toISOString()},xe({itemId:B.stockItemId,itemName:B.vaccineName,type:"out",quantity:1,reason:"Vaccination",reference:`Vaccination #${Math.max(...y.map(be=>be.id),0)+1}`,performedBy:B.veterinarian,date:new Date().toISOString(),notes:`Vaccination de ${B.petName} - ${B.vaccineName}`})}}const ne={...B,id:Math.max(...y.map(Ce=>Ce.id),0)+1,createdAt:new Date().toISOString()};return j(Ce=>{const Te=[...Ce,ne];return Z(V.clientId),n(a,o,c,d,f,g,v,Te,N,C,_,J,A,M),Te}),P(J),ne.id},Tm=(V,B)=>{const J=y.map(ne=>ne.id===V?{...ne,...B}:ne);j(J),n(a,o,c,d,f,g,v,J)},c8=V=>{const B=y.find(ne=>ne.id===V);if(!B)return;let J=[...y];B.vaccinationCategory==="new"?(y.filter(ne=>ne.originalVaccinationId===V),J=y.filter(ne=>ne.id!==V&&ne.originalVaccinationId!==V)):J=y.filter(ne=>ne.id!==V),j(J),n(a,o,c,d,f,g,v,J)},Em=V=>y.find(B=>B.id===V),u8=V=>y.filter(B=>B.petId===V),d8=V=>y.filter(B=>B.clientId===V),h8=()=>{const V=new Date().toISOString().split("T")[0];return y.filter(B=>B.nextDueDate<V&&B.status!=="completed").sort((B,J)=>new Date(B.nextDueDate).getTime()-new Date(J.nextDueDate).getTime())},f8=()=>{const V=new Date,B=new Date(V.getTime()+30*24*60*60*1e3).toISOString().split("T")[0],J=V.toISOString().split("T")[0];return y.filter(ne=>ne.nextDueDate>=J&&ne.nextDueDate<=B&&ne.status!=="completed").sort((ne,Ce)=>new Date(ne.nextDueDate).getTime()-new Date(Ce.nextDueDate).getTime())},m8=V=>y.filter(B=>B.status===V),p8=()=>{const V=new Date().toISOString().split("T")[0];let B=!1;const J=y.map(ne=>ne.status==="completed"?ne:ne.nextDueDate<V&&ne.status!=="overdue"?(B=!0,{...ne,status:"overdue"}):ne.nextDueDate>=V&&ne.status!=="scheduled"?(B=!0,{...ne,status:"scheduled"}):ne);return B&&(j(J),n(a,o,c,d,f,g,v,J)),J},g8=V=>{const B={...V,id:Math.max(...N.map(ne=>ne.id),0)+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},J=[...N,B];w(J),n(a,o,c,d,f,g,v,y,J)},v8=(V,B)=>{const J=N.map(ne=>ne.id===V?{...ne,...B,updatedAt:new Date().toISOString()}:ne);w(J),n(a,o,c,d,f,g,v,y,J)},x8=V=>{const B=N.filter(J=>J.id!==V);w(B),n(a,o,c,d,f,g,v,y,B)},y8=V=>N.find(B=>B.id===V),j8=V=>N.filter(B=>B.species===V&&B.isActive),b8=()=>N.filter(V=>V.isActive),w8=(V,B,J)=>{const ne=N.find(be=>be.name===V&&be.species===B&&be.isActive);if(!ne||!ne.intervals.length)return null;const Ce=ne.intervals[ne.intervals.length-1],Te=new Date(J);return Te.setDate(Te.getDate()+Ce.offsetDays),Te.toISOString().split("T")[0]},N8=(V,B,J)=>{var It;const ne=Em(V);if(!ne)return;const Ce={clientId:ne.clientId,clientName:ne.clientName,petId:ne.petId,petName:ne.petName,date:B,time:J,type:"vaccination",duration:30,reason:`Rappel vaccinal - ${ne.vaccineName}`,notes:`Rappel pour ${ne.vaccineName} (vaccination originale ID: ${V})`,status:"scheduled",reminderSent:!1};G(Ce);const Te=Math.max(...d.map(ze=>ze.id),0)+1,be={petId:ne.petId,petName:ne.petName,clientId:ne.clientId,clientName:ne.clientName,vaccineName:ne.vaccineName,vaccineType:ne.vaccineType,vaccinationCategory:"reminder",dateGiven:B,nextDueDate:ne.nextDueDate,batchNumber:ne.batchNumber,veterinarian:ne.veterinarian,notes:`Rappel de ${ne.vaccineName} (original: ${V})`,status:"scheduled",cost:ne.cost,location:ne.location,manufacturer:ne.manufacturer,originalVaccinationId:V,reminderAppointmentId:Te,isReminder:!0};Fy(be);const Re={id:Math.max(...((It=ne.reminderHistory)==null?void 0:It.map(ze=>ze.id))||[0],0)+1,vaccinationId:V,appointmentId:Te,scheduledDate:B,status:"scheduled",notes:`Rappel programmé pour ${ne.vaccineName}`,createdAt:new Date().toISOString()},Zt=[...ne.reminderHistory||[],Re];return Tm(V,{reminderHistory:Zt}),{appointment:Ce,reminderVaccination:be,reminder:Re}},S8=(V,B,J)=>{var be;const ne=Em(V);if(!ne)return;const Te={status:"completed",reminderHistory:((be=ne.reminderHistory)==null?void 0:be.map(Re=>Re.appointmentId===B?{...Re,status:"completed"}:Re))||[],reminderAppointmentId:void 0};return J&&(Te.nextDueDate=J),Tm(V,Te),Se(B,{status:"completed"}),ne},C8=(V,B)=>{const J=Em(V);if(!J)return null;const ne={petId:J.petId,petName:J.petName,clientId:J.clientId,clientName:J.clientName,vaccineName:J.vaccineName,vaccineType:J.vaccineType,vaccinationCategory:"reminder",dateGiven:B.datePerformed,nextDueDate:B.newNextDueDate||J.nextDueDate,calculatedDueDate:J.calculatedDueDate,batchNumber:B.batchNumber||J.batchNumber,veterinarian:B.veterinarian,notes:B.notes||`Rappel effectué - ${J.vaccineName}`,status:"completed",cost:J.cost,location:J.location,manufacturer:J.manufacturer,expirationDate:J.expirationDate,adverseReactions:J.adverseReactions,originalVaccinationId:V,isReminder:!0};Fy(ne);const Ce={status:"completed",reminderAppointmentId:void 0};return B.newNextDueDate&&(Ce.nextDueDate=B.newNextDueDate),Tm(V,Ce),ne},hc=V=>{const B={...V,id:Math.max(...z.map(ne=>ne.id),0)+1,createdAt:new Date().toISOString()},J=[...z,B];return W(J),n(a,o,c,d,f,g,v,y,N,C,_,E,A,M,J),B},_8=(V,B)=>{const J=z.map(ne=>ne.id===V?{...ne,...B}:ne);W(J),n(a,o,c,d,f,g,v,y,N,C,_,E,A,M,J)},P8=V=>{const B=z.filter(J=>J.id!==V);W(B),n(a,o,c,d,f,g,v,y,N,C,_,E,A,M,B)},By=(V,B)=>{const J=new Date(V),ne=new Date(B);let Ce=0;const Te={consultations:0,vaccinations:0,antiparasitics:0,prescriptions:0,stockSales:0,manualEntries:0,recurringCharges:0};return c.filter(be=>{const Re=new Date(be.date);return Re>=J&&Re<=ne}).forEach(be=>{var It;const Re=parseFloat(((It=be.cost)==null?void 0:It.toString())||"0");Ce+=Re,Te.consultations+=Re,z.find(ze=>ze.source==="consultation"&&ze.sourceId===be.id)||hc({type:"revenue",category:"automatic",frequency:"occasional",description:`Consultation - ${be.petName}`,amount:Re,date:be.date,reference:`Consultation #${be.id}`,source:"consultation",sourceId:be.id,notes:`Consultation automatique pour ${be.petName}`})}),y.filter(be=>{const Re=new Date(be.dateGiven);return Re>=J&&Re<=ne}).forEach(be=>{var It;const Re=parseFloat(((It=be.cost)==null?void 0:It.toString())||"0");Ce+=Re,Te.vaccinations+=Re,z.find(ze=>ze.source==="vaccination"&&ze.sourceId===be.id)||hc({type:"revenue",category:"automatic",frequency:"occasional",description:`Vaccination - ${be.vaccineName}`,amount:Re,date:be.dateGiven,reference:`Vaccination #${be.id}`,source:"vaccination",sourceId:be.id,notes:`Vaccination automatique pour ${be.petName}`})}),C.filter(be=>{const Re=new Date(be.dateGiven);return Re>=J&&Re<=ne}).forEach(be=>{var It;const Re=parseFloat(((It=be.cost)==null?void 0:It.toString())||"0");Ce+=Re,Te.antiparasitics+=Re,z.find(ze=>ze.source==="antiparasitic"&&ze.sourceId===be.id)||hc({type:"revenue",category:"automatic",frequency:"occasional",description:`Antiparasitaire - ${be.productName}`,amount:Re,date:be.dateGiven,reference:`Antiparasitaire #${be.id}`,source:"antiparasitic",sourceId:be.id,notes:`Antiparasitaire automatique pour ${be.petName}`})}),f.filter(be=>{const Re=new Date(be.createdAt);return Re>=J&&Re<=ne}).forEach(be=>{const Re=be.medications.reduce((It,ze)=>{var ln;return It+parseFloat(((ln=ze.cost)==null?void 0:ln.toString())||"0")*ze.quantity},0);Ce+=Re,Te.prescriptions+=Re,!z.find(It=>It.source==="prescription"&&It.sourceId===be.id)&&Re>0&&hc({type:"revenue",category:"automatic",frequency:"occasional",description:`Prescription - ${be.petName}`,amount:Re,date:be.createdAt,reference:`Prescription #${be.id}`,source:"prescription",sourceId:be.id,notes:`Prescription automatique pour ${be.petName}`})}),{totalRevenue:Ce,revenueBreakdown:Te}},zy=(V,B)=>{const J=new Date(V),ne=new Date(B);let Ce=0;const Te={stockPurchases:0,salaries:0,rent:0,taxes:0,insurance:0,other:0,manualEntries:0,recurringCharges:0};return M.filter(be=>{const Re=new Date(be.date);return Re>=J&&Re<=ne&&be.type==="in"&&be.reason==="Achat fournisseur"}).forEach(be=>{const Re=E.find(Zt=>Zt.id===be.itemId);if(Re){const Zt=Re.purchasePrice*be.quantity;Ce+=Zt,Te.stockPurchases+=Zt,z.find(ze=>ze.source==="stock_purchase"&&ze.reference===be.reference)||hc({type:"expense",category:"automatic",frequency:"occasional",description:`Achat stock - ${be.itemName}`,amount:Zt,date:be.date,reference:be.reference,source:"stock_purchase",notes:`Achat automatique de ${be.quantity} ${be.itemName}`})}}),{totalExpenses:Ce,expenseBreakdown:Te}},A8=(V,B,J)=>{const{totalRevenue:ne,revenueBreakdown:Ce}=By(B,J),{totalExpenses:Te,expenseBreakdown:be}=zy(B,J),Re=z.filter(ln=>{const Tr=new Date(ln.date),Mi=new Date(B),Ii=new Date(J);return Tr>=Mi&&Tr<=Ii&&ln.category==="manual"&&ln.type==="revenue"}).reduce((ln,Tr)=>ln+Tr.amount,0),Zt=z.filter(ln=>{const Tr=new Date(ln.date),Mi=new Date(B),Ii=new Date(J);return Tr>=Mi&&Tr<=Ii&&ln.category==="manual"&&ln.type==="expense"}).reduce((ln,Tr)=>ln+Tr.amount,0);Ce.manualEntries=Re,be.manualEntries=Zt;const It=ne+Re,ze=Te+Zt;return{period:V,totalRevenue:It,totalExpenses:ze,netIncome:It-ze,revenueBreakdown:Ce,expenseBreakdown:be}};return s.jsx(lR.Provider,{value:{clients:a,pets:o,consultations:c,appointments:d,prescriptions:f,farms:g,farmInterventions:v,vaccinations:y,vaccinationProtocols:N,antiparasitics:C,antiparasiticProtocols:_,stockItems:E,stockAlerts:A,stockMovements:M,accountingEntries:z,addClient:T,addPet:I,addConsultation:Y,addAppointment:G,addPrescription:Bt,addFarm:X6,addFarmIntervention:e8,addVaccination:Fy,addVaccinationProtocol:g8,addAntiparasitic:We,addAntiparasiticProtocol:it,addStockItem:ae,addStockMovement:xe,addAccountingEntry:hc,updateAccountingEntry:_8,deleteAccountingEntry:P8,calculateAutomaticRevenue:By,calculateAutomaticExpenses:zy,generateAccountingSummary:A8,updateClient:U,updatePet:H,updateConsultation:fe,updateAppointment:Se,updatePrescription:Hr,updateFarm:J6,updateFarmIntervention:t8,updateVaccination:Tm,updateVaccinationProtocol:v8,updateAntiparasitic:ut,updateAntiparasiticProtocol:ie,updateStockItem:se,deletePet:ee,deleteConsultation:he,deleteAppointment:pe,deletePrescription:Kr,deleteFarm:Z6,deleteFarmIntervention:n8,deleteVaccination:c8,deleteVaccinationProtocol:x8,deleteAntiparasitic:$e,deleteAntiparasiticProtocol:Me,deleteStockItem:me,resetData:oe,exportData:O,importData:q,getClientById:Di,getPetById:Rn,getConsultationById:Ha,getAppointmentById:on,getPrescriptionById:ma,getFarmById:r8,getFarmInterventionById:s8,getVaccinationById:Em,getVaccinationProtocolById:y8,getVaccinationProtocolsBySpecies:j8,getActiveVaccinationProtocols:b8,getAntiparasiticById:jt,getAntiparasiticsByPetId:Ft,getAntiparasiticsByClientId:Kn,getOverdueAntiparasitics:gt,getUpcomingAntiparasitics:Ot,getAntiparasiticsByStatus:Sn,getAntiparasiticProtocolById:er,getAntiparasiticProtocolsBySpecies:Wr,getActiveAntiparasiticProtocols:vn,getPetsByOwnerId:Ds,getConsultationsByPetId:dc,getConsultationsByClientId:fa,getAppointmentsByClientId:kr,getAppointmentsByPetId:Ms,getAppointmentsByDate:fs,getUpcomingAppointments:Ly,getOverdueAppointments:Qe,getPrescriptionsByPetId:Ka,getPrescriptionsByConsultationId:Gr,getActivePrescriptions:pa,getFarmInterventionsByFarmId:a8,getUpcomingFarmInterventions:i8,getFarmsByStatus:o8,getVaccinationsByPetId:u8,getVaccinationsByClientId:d8,getOverdueVaccinations:h8,getUpcomingVaccinations:f8,getVaccinationsByStatus:m8,createVaccinationReminder:N8,completeVaccinationReminder:S8,confirmVaccinationReminder:C8,updateVaccinationStatuses:p8,calculateDueDateFromProtocol:w8,updateClientStats:Z,getStockAlerts:le},children:e})}const pt=()=>{const e=b.useContext(lR);if(e===void 0)throw new Error("useClients must be used within a ClientProvider");return e},Q=b.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:Ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Q.displayName="Input";var TX="Label",cR=b.forwardRef((e,t)=>s.jsx(Be.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cR.displayName=TX;var uR=cR;const EX=hm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),D=b.forwardRef(({className:e,...t},n)=>s.jsx(uR,{ref:n,className:Ie(EX(),e),...t}));D.displayName=uR.displayName;const te=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));te.displayName="Card";const ue=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ie("flex flex-col space-y-1.5 p-6",e),...t}));ue.displayName="CardHeader";const de=b.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:Ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));de.displayName="CardTitle";const Iu=b.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));Iu.displayName="CardDescription";const re=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ie("p-6 pt-0",e),...t}));re.displayName="CardContent";const OX=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ie("flex items-center p-6 pt-0",e),...t}));OX.displayName="CardFooter";const DX=hm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Lg=b.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:Ie(DX({variant:t}),e),...n}));Lg.displayName="Alert";const MX=b.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:Ie("mb-1 font-medium leading-none tracking-tight",e),...t}));MX.displayName="AlertTitle";const Fg=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ie("text-sm [&_p]:leading-relaxed",e),...t}));Fg.displayName="AlertDescription";function IX(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[a,i]=b.useState(!1),[o,l]=b.useState(""),[c,u]=b.useState(!1),[d,h]=b.useState(!1),{login:f,isLoading:m}=sc(),g=CX(),p=_X(),v=async N=>{if(N.preventDefault(),l(""),!e||!n){l("Veuillez remplir tous les champs");return}await f(e,n)||l("Email ou mot de passe incorrect, ou email non confirmé")},x=async()=>{l("");try{await g.mutateAsync()}catch{l("Erreur lors de la connexion avec Google")}},y=async N=>{if(N.preventDefault(),l(""),!e){l("Veuillez saisir votre email");return}try{await p.mutateAsync(e),h(!0)}catch(w){l(w instanceof Error?w.message:"Une erreur est survenue")}},j=()=>{u(!1),h(!1),l(""),r("")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:s.jsxs(te,{className:"w-full max-w-md",children:[s.jsxs(ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:s.jsx(dt,{className:"h-8 w-8 text-primary"})})}),s.jsx(de,{className:"text-2xl font-bold",children:"VetPro CRM3"}),s.jsx(Iu,{children:c?d?"Vérifiez votre email":"Réinitialiser votre mot de passe":"Connectez-vous à votre espace vétérinaire"})]}),s.jsx(re,{children:d?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Nous avons envoyé un lien de réinitialisation à ",s.jsx("strong",{children:e})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-6",children:"Cliquez sur le lien dans l'email pour réinitialiser votre mot de passe. Si vous ne voyez pas l'email, vérifiez votre dossier spam."})]}),s.jsxs(F,{onClick:j,className:"w-full",children:[s.jsx(g_,{className:"mr-2 h-4 w-4"}),"Retour à la connexion"]})]}):c?s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o&&s.jsx(Lg,{variant:"destructive",children:s.jsx(Fg,{children:o})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"reset-email",children:"Email"}),s.jsx(Q,{id:"reset-email",type:"email",placeholder:"votre.email@example.com",value:e,onChange:N=>t(N.target.value),disabled:p.isPending,required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Entrez l'adresse email associée à votre compte"})]}),s.jsx(F,{type:"submit",className:"w-full",disabled:p.isPending,children:p.isPending?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi en cours..."]}):"Envoyer le lien de réinitialisation"}),s.jsx("div",{className:"text-center",children:s.jsxs(F,{type:"button",variant:"link",onClick:j,className:"text-sm",children:[s.jsx(g_,{className:"mr-1 h-4 w-4"}),"Retour à la connexion"]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o&&s.jsx(Lg,{variant:"destructive",children:s.jsx(Fg,{children:o})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"email",children:"Email"}),s.jsx(Q,{id:"email",type:"email",placeholder:"vet@vetpro.com",value:e,onChange:N=>t(N.target.value),disabled:m,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"password",children:"Mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(Q,{id:"password",type:a?"text":"password",placeholder:"••••••••",value:n,onChange:N=>r(N.target.value),disabled:m,required:!0}),s.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!a),disabled:m,children:a?s.jsx(fb,{className:"h-4 w-4"}):s.jsx(bn,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(F,{type:"button",variant:"link",className:"text-xs p-0 h-auto",onClick:()=>u(!0),children:"Mot de passe oublié ?"})})]}),s.jsx(F,{type:"submit",className:"w-full",disabled:m,children:m?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continuer avec"})})]}),s.jsx(F,{type:"button",variant:"outline",className:"w-full",onClick:x,disabled:m||g.isPending,children:g.isPending?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion avec Google..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuer avec Google"]})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pas encore de compte ?"," ",s.jsx("a",{href:"/register",className:"text-primary hover:underline",children:"S'inscrire"})]})})]})})]})})}function hr({children:e}){const{isAuthenticated:t,isLoading:n,user:r}=sc(),[a,i]=b.useState(!1);return b.useEffect(()=>{if(n){const o=setTimeout(()=>{i(!0)},3e3);return()=>clearTimeout(o)}else i(!1)},[n]),a?s.jsx(Rb,{to:"/login",replace:!0}):n&&!a?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Vérification de l'authentification..."})]})}):!t||!r?s.jsx(Rb,{to:"/login",replace:!0}):s.jsx(s.Fragment,{children:e})}function $X({children:e,redirectTo:t="/dashboard"}){const{isAuthenticated:n,isLoading:r,user:a}=sc(),[i,o]=b.useState(!1);return b.useEffect(()=>{if(r){const l=setTimeout(()=>{o(!0)},2e3);return()=>clearTimeout(l)}else o(!1)},[r]),i?s.jsx(s.Fragment,{children:e}):r&&!i?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Chargement..."})]})}):n&&a?s.jsx(Rb,{to:t,replace:!0}):s.jsx(s.Fragment,{children:e})}const dR="/assets/vet-hero-UFBVcjRL.jpg";function RX(){return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-8 w-8 text-primary"}),s.jsx("span",{className:"text-xl font-bold",children:"VetPro"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(F,{variant:"ghost",asChild:!0,children:s.jsx(Gs,{to:"/login",children:"Se connecter"})}),s.jsx(F,{asChild:!0,children:s.jsx(Gs,{to:"/register",children:"Commencer"})})]})]})}),s.jsx("section",{className:"py-20",children:s.jsx("div",{className:"container mx-auto px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 space-y-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-8 w-8 text-primary"}),s.jsx("span",{className:"text-sm font-medium text-primary",children:"Solution CRM Vétérinaire Complète"})]}),s.jsxs("h1",{className:"text-5xl font-bold leading-tight",children:["Gérez votre pratique",s.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"vétérinaire efficacement"})]}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"VetPro vous aide à gérer vos clients, leurs animaux, les rendez-vous, consultations et l'historique médical. Optimisez votre pratique avec notre solution tout-en-un."})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(F,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:s.jsxs(Gs,{to:"/register",children:["Commencer gratuitement",s.jsx(hb,{className:"h-4 w-4"})]})}),s.jsx(F,{variant:"outline",size:"lg",className:"gap-2",asChild:!0,children:s.jsx(Gs,{to:"/login",children:"Voir la démo"})})]})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx("img",{src:dR,alt:"Vétérinaire professionnel",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})})}),s.jsx("section",{className:"py-20 bg-muted/30",children:s.jsxs("div",{className:"container mx-auto px-6",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Tout ce dont vous avez besoin pour votre clinique"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Une solution complète pour moderniser et optimiser votre pratique vétérinaire"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[s.jsx(Fa,{className:"h-12 w-12 text-primary mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Gestion des Clients"}),s.jsx("p",{className:"text-muted-foreground",children:"Gérez facilement vos clients et leurs animaux avec un système intuitif et complet."})]}),s.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[s.jsx(He,{className:"h-12 w-12 text-primary mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Rendez-vous"}),s.jsx("p",{className:"text-muted-foreground",children:"Planifiez et gérez vos rendez-vous avec un calendrier intelligent et flexible."})]}),s.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[s.jsx(vr,{className:"h-12 w-12 text-primary mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Consultations"}),s.jsx("p",{className:"text-muted-foreground",children:"Documentez vos consultations et maintenez un historique médical détaillé."})]}),s.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[s.jsx(ZM,{className:"h-12 w-12 text-primary mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Statistiques"}),s.jsx("p",{className:"text-muted-foreground",children:"Analysez votre activité avec des rapports détaillés et des tableaux de bord."})]}),s.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[s.jsx(Ur,{className:"h-12 w-12 text-primary mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Sécurisé"}),s.jsx("p",{className:"text-muted-foreground",children:"Vos données sont protégées avec les plus hauts standards de sécurité."})]}),s.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[s.jsx(dt,{className:"h-12 w-12 text-primary mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Farm Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Gérez les exploitations agricoles et suivez la santé des troupeaux."})]})]})]})}),s.jsx("section",{className:"py-20",children:s.jsx("div",{className:"container mx-auto px-6 text-center",children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsx("h2",{className:"text-3xl font-bold",children:"Prêt à moderniser votre pratique ?"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Rejoignez des centaines de vétérinaires qui font confiance à VetPro pour gérer leur clinique efficacement."}),s.jsx("div",{className:"flex gap-4 justify-center",children:s.jsx(F,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:s.jsxs(Gs,{to:"/register",children:["Commencer maintenant",s.jsx(hb,{className:"h-4 w-4"})]})})})]})})}),s.jsx("footer",{className:"border-t py-8",children:s.jsx("div",{className:"container mx-auto px-6 text-center text-muted-foreground",children:s.jsxs("p",{children:["© ",new Date().getFullYear()," VetPro. Tous droits réservés."]})})})]})}const LX=()=>{const e=bd(),{toast:t}=at(),[n,r]=b.useState(!1),[a,i]=b.useState({username:"",fullName:"",email:"",password:"",confirmPassword:""}),o=u=>u.length<8?"Le mot de passe doit contenir au moins 8 caractères":/[A-Z]/.test(u)?/[a-z]/.test(u)?/\d/.test(u)?/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?]/.test(u)?null:"Le mot de passe doit contenir au moins un caractère spécial":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une lettre minuscule":"Le mot de passe doit contenir au moins une lettre majuscule",l=u=>{i(d=>({...d,[u.target.id]:u.target.value}))},c=async u=>{if(u.preventDefault(),r(!0),a.password!==a.confirmPassword){t({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"}),r(!1);return}const d=o(a.password);if(d){t({title:"Erreur",description:d,variant:"destructive"}),r(!1);return}try{await gX(a.email,a.password,a.username,a.fullName,"assistant"),t({title:"Inscription réussie",description:"Votre compte a été créé avec succès. Veuillez vérifier votre email et cliquer sur le lien de confirmation pour pouvoir vous connecter."}),e("/login")}catch(h){const f=h instanceof Error?h.message:"Une erreur est survenue lors de l'inscription";t({title:"Erreur d'inscription",description:f,variant:"destructive"})}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:s.jsxs(te,{className:"w-full max-w-md",children:[s.jsxs(ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(dt,{className:"h-12 w-12 text-primary"})}),s.jsx(de,{className:"text-2xl gradient-primary bg-clip-text text-transparent",children:"VetPro CRM"}),s.jsx(Iu,{children:"Créez votre compte vétérinaire"})]}),s.jsxs(re,{children:[s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"username",children:"Nom d'utilisateur"}),s.jsx(Q,{id:"username",placeholder:"martin.dubois",value:a.username,onChange:l,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"fullName",children:"Nom complet"}),s.jsx(Q,{id:"fullName",placeholder:"Dr. Martin Dubois",value:a.fullName,onChange:l,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"email",children:"Email"}),s.jsx(Q,{id:"email",type:"email",placeholder:"votre.email@example.com",value:a.email,onChange:l,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"password",children:"Mot de passe"}),s.jsx(Q,{id:"password",type:"password",placeholder:"Votre mot de passe sécurisé",value:a.password,onChange:l,required:!0,minLength:8}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Le mot de passe doit contenir au moins 8 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),s.jsx(Q,{id:"confirmPassword",type:"password",placeholder:"Confirmer votre mot de passe",value:a.confirmPassword,onChange:l,required:!0,minLength:8})]}),s.jsx(F,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Création en cours..."]}):"Créer le compte"})]}),s.jsxs("div",{className:"mt-6 text-center",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Déjà un compte ?"," ",s.jsx(Gs,{to:"/login",className:"text-primary hover:underline",children:"Se connecter"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:s.jsx(Gs,{to:"/",className:"hover:underline",children:"Retour à l'accueil"})})]})]})]})})};var $x="Dialog",[hR,lke]=us($x),[FX,ua]=hR($x),fR=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=b.useRef(null),c=b.useRef(null),[u,d]=ji({prop:r,defaultProp:a??!1,onChange:i,caller:$x});return s.jsx(FX,{scope:t,triggerRef:l,contentRef:c,contentId:Ma(),titleId:Ma(),descriptionId:Ma(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};fR.displayName=$x;var mR="DialogTrigger",pR=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ua(mR,n),i=xt(t,a.triggerRef);return s.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":TS(a.open),...r,ref:i,onClick:_e(e.onClick,a.onOpenToggle)})});pR.displayName=mR;var AS="DialogPortal",[BX,gR]=hR(AS,{forceMount:void 0}),vR=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=ua(AS,t);return s.jsx(BX,{scope:t,forceMount:n,children:b.Children.map(r,o=>s.jsx(Ts,{present:n||i.open,children:s.jsx(um,{asChild:!0,container:a,children:o})}))})};vR.displayName=AS;var Bg="DialogOverlay",xR=b.forwardRef((e,t)=>{const n=gR(Bg,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=ua(Bg,e.__scopeDialog);return i.modal?s.jsx(Ts,{present:r||i.open,children:s.jsx(VX,{...a,ref:t})}):null});xR.displayName=Bg;var zX=Il("DialogOverlay.RemoveScroll"),VX=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ua(Bg,n);return s.jsx(_x,{as:zX,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Be.div,{"data-state":TS(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Bl="DialogContent",yR=b.forwardRef((e,t)=>{const n=gR(Bl,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=ua(Bl,e.__scopeDialog);return s.jsx(Ts,{present:r||i.open,children:i.modal?s.jsx(UX,{...a,ref:t}):s.jsx(qX,{...a,ref:t})})});yR.displayName=Bl;var UX=b.forwardRef((e,t)=>{const n=ua(Bl,e.__scopeDialog),r=b.useRef(null),a=xt(t,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return fS(i)},[]),s.jsx(jR,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:_e(e.onFocusOutside,i=>i.preventDefault())})}),qX=b.forwardRef((e,t)=>{const n=ua(Bl,e.__scopeDialog),r=b.useRef(!1),a=b.useRef(!1);return s.jsx(jR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),jR=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ua(Bl,n),c=b.useRef(null),u=xt(t,c);return hS(),s.jsxs(s.Fragment,{children:[s.jsx(Nx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(hd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":TS(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(WX,{titleId:l.titleId}),s.jsx(KX,{contentRef:c,descriptionId:l.descriptionId})]})]})}),kS="DialogTitle",bR=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ua(kS,n);return s.jsx(Be.h2,{id:a.titleId,...r,ref:t})});bR.displayName=kS;var wR="DialogDescription",NR=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ua(wR,n);return s.jsx(Be.p,{id:a.descriptionId,...r,ref:t})});NR.displayName=wR;var SR="DialogClose",CR=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ua(SR,n);return s.jsx(Be.button,{type:"button",...r,ref:t,onClick:_e(e.onClick,()=>a.onOpenChange(!1))})});CR.displayName=SR;function TS(e){return e?"open":"closed"}var _R="DialogTitleWarning",[cke,PR]=wV(_R,{contentName:Bl,titleName:kS,docsSlug:"dialog"}),WX=({titleId:e})=>{const t=PR(_R),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},HX="DialogDescriptionWarning",KX=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${PR(HX).contentName}}.`;return b.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},GX=fR,YX=pR,QX=vR,AR=xR,kR=yR,TR=bR,ER=NR,XX=CR;const Ze=GX,Rx=YX,JX=QX,OR=b.forwardRef(({className:e,...t},n)=>s.jsx(AR,{ref:n,className:Ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));OR.displayName=AR.displayName;const Ge=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(JX,{children:[s.jsx(OR,{}),s.jsxs(kR,{ref:r,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(XX,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(px,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ge.displayName=kR.displayName;const et=({className:e,...t})=>s.jsx("div",{className:Ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});et.displayName="DialogHeader";const tt=b.forwardRef(({className:e,...t},n)=>s.jsx(TR,{ref:n,className:Ie("text-lg font-semibold leading-none tracking-tight",e),...t}));tt.displayName=TR.displayName;const Rt=b.forwardRef(({className:e,...t},n)=>s.jsx(ER,{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));Rt.displayName=ER.displayName;const qe=b.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:Ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));qe.displayName="Textarea";function DP(e,[t,n]){return Math.min(n,Math.max(t,e))}function ES(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ZX=[" ","Enter","ArrowUp","ArrowDown"],eJ=[" ","Enter"],zl="Select",[Lx,Fx,tJ]=dx(zl),[Sd,uke]=us(zl,[tJ,vd]),Bx=vd(),[nJ,Bo]=Sd(zl),[rJ,sJ]=Sd(zl),DR=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:g}=e,p=Bx(t),[v,x]=b.useState(null),[y,j]=b.useState(null),[N,w]=b.useState(!1),C=wx(u),[S,_]=ji({prop:r,defaultProp:a??!1,onChange:i,caller:zl}),[k,E]=ji({prop:o,defaultProp:l,onChange:c,caller:zl}),P=b.useRef(null),A=v?g||!!v.closest("form"):!0,[R,M]=b.useState(new Set),K=Array.from(R).map(z=>z.props.value).join(";");return s.jsx(MI,{...p,children:s.jsxs(nJ,{required:m,scope:t,trigger:v,onTriggerChange:x,valueNode:y,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:w,contentId:Ma(),value:k,onValueChange:E,open:S,onOpenChange:_,dir:C,triggerPointerDownPosRef:P,disabled:f,children:[s.jsx(Lx.Provider,{scope:t,children:s.jsx(rJ,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(z=>{M(W=>new Set(W).add(z))},[]),onNativeOptionRemove:b.useCallback(z=>{M(W=>{const T=new Set(W);return T.delete(z),T})},[]),children:n})}),A?s.jsxs(r3,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:k,onChange:z=>E(z.target.value),disabled:f,form:g,children:[k===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},K):null]})})};DR.displayName=zl;var MR="SelectTrigger",IR=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=Bx(n),o=Bo(MR,n),l=o.disabled||r,c=xt(t,o.onTriggerChange),u=Fx(n),d=b.useRef("touch"),[h,f,m]=a3(p=>{const v=u().filter(j=>!j.disabled),x=v.find(j=>j.value===o.value),y=i3(v,p,x);y!==void 0&&o.onValueChange(y.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(eS,{asChild:!0,...i,children:s.jsx(Be.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":s3(o.value)?"":void 0,...a,ref:c,onClick:_e(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:_e(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:_e(a.onKeyDown,p=>{const v=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(v&&p.key===" ")&&ZX.includes(p.key)&&(g(),p.preventDefault())})})})});IR.displayName=MR;var $R="SelectValue",RR=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=Bo($R,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=xt(t,c.onValueNodeChange);return Nn(()=>{u(d)},[u,d]),s.jsx(Be.span,{...l,ref:h,style:{pointerEvents:"none"},children:s3(c.value)?s.jsx(s.Fragment,{children:o}):i})});RR.displayName=$R;var aJ="SelectIcon",LR=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(Be.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});LR.displayName=aJ;var iJ="SelectPortal",FR=e=>s.jsx(um,{asChild:!0,...e});FR.displayName=iJ;var Vl="SelectContent",BR=b.forwardRef((e,t)=>{const n=Bo(Vl,e.__scopeSelect),[r,a]=b.useState();if(Nn(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?Zl.createPortal(s.jsx(zR,{scope:e.__scopeSelect,children:s.jsx(Lx.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(VR,{...e,ref:t})});BR.displayName=Vl;var Fs=10,[zR,zo]=Sd(Vl),oJ="SelectContentImpl",lJ=Il("SelectContent.RemoveScroll"),VR=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...x}=e,y=Bo(Vl,n),[j,N]=b.useState(null),[w,C]=b.useState(null),S=xt(t,le=>N(le)),[_,k]=b.useState(null),[E,P]=b.useState(null),A=Fx(n),[R,M]=b.useState(!1),K=b.useRef(!1);b.useEffect(()=>{if(j)return fS(j)},[j]),hS();const z=b.useCallback(le=>{const[Y,...ee]=A().map(q=>q.ref.current),[oe]=ee.slice(-1),O=document.activeElement;for(const q of le)if(q===O||(q==null||q.scrollIntoView({block:"nearest"}),q===Y&&w&&(w.scrollTop=0),q===oe&&w&&(w.scrollTop=w.scrollHeight),q==null||q.focus(),document.activeElement!==O))return},[A,w]),W=b.useCallback(()=>z([_,j]),[z,_,j]);b.useEffect(()=>{R&&W()},[R,W]);const{onOpenChange:T,triggerPointerDownPosRef:I}=y;b.useEffect(()=>{if(j){let le={x:0,y:0};const Y=oe=>{var O,q;le={x:Math.abs(Math.round(oe.pageX)-(((O=I.current)==null?void 0:O.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((q=I.current)==null?void 0:q.y)??0))}},ee=oe=>{le.x<=10&&le.y<=10?oe.preventDefault():j.contains(oe.target)||T(!1),document.removeEventListener("pointermove",Y),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",ee,{capture:!0})}}},[j,T,I]),b.useEffect(()=>{const le=()=>T(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[T]);const[U,H]=a3(le=>{const Y=A().filter(O=>!O.disabled),ee=Y.find(O=>O.ref.current===document.activeElement),oe=i3(Y,le,ee);oe&&setTimeout(()=>oe.ref.current.focus())}),Z=b.useCallback((le,Y,ee)=>{const oe=!K.current&&!ee;(y.value!==void 0&&y.value===Y||oe)&&(k(le),oe&&(K.current=!0))},[y.value]),ae=b.useCallback(()=>j==null?void 0:j.focus(),[j]),se=b.useCallback((le,Y,ee)=>{const oe=!K.current&&!ee;(y.value!==void 0&&y.value===Y||oe)&&P(le)},[y.value]),me=r==="popper"?rw:UR,xe=me===rw?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return s.jsx(zR,{scope:n,content:j,viewport:w,onViewportChange:C,itemRefCallback:Z,selectedItem:_,onItemLeave:ae,itemTextRefCallback:se,focusSelectedItem:W,selectedItemText:E,position:r,isPositioned:R,searchRef:U,children:s.jsx(_x,{as:lJ,allowPinchZoom:!0,children:s.jsx(Nx,{asChild:!0,trapped:y.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:_e(a,le=>{var Y;(Y=y.trigger)==null||Y.focus({preventScroll:!0}),le.preventDefault()}),children:s.jsx(hd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(me,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:le=>le.preventDefault(),...x,...xe,onPlaced:()=>M(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:_e(x.onKeyDown,le=>{const Y=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!Y&&le.key.length===1&&H(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let oe=A().filter(O=>!O.disabled).map(O=>O.ref.current);if(["ArrowUp","End"].includes(le.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const O=le.target,q=oe.indexOf(O);oe=oe.slice(q+1)}setTimeout(()=>z(oe)),le.preventDefault()}})})})})})})});VR.displayName=oJ;var cJ="SelectItemAlignedPosition",UR=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=Bo(Vl,n),o=zo(Vl,n),[l,c]=b.useState(null),[u,d]=b.useState(null),h=xt(t,S=>d(S)),f=Fx(n),m=b.useRef(!1),g=b.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:x,focusSelectedItem:y}=o,j=b.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&v&&x){const S=i.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),E=x.getBoundingClientRect();if(i.dir!=="rtl"){const O=E.left-_.left,q=k.left-O,fe=S.left-q,he=S.width+fe,Ye=Math.max(he,_.width),We=window.innerWidth-Fs,ut=DP(q,[Fs,Math.max(Fs,We-Ye)]);l.style.minWidth=he+"px",l.style.left=ut+"px"}else{const O=_.right-E.right,q=window.innerWidth-k.right-O,fe=window.innerWidth-S.right-q,he=S.width+fe,Ye=Math.max(he,_.width),We=window.innerWidth-Fs,ut=DP(q,[Fs,Math.max(Fs,We-Ye)]);l.style.minWidth=he+"px",l.style.right=ut+"px"}const P=f(),A=window.innerHeight-Fs*2,R=p.scrollHeight,M=window.getComputedStyle(u),K=parseInt(M.borderTopWidth,10),z=parseInt(M.paddingTop,10),W=parseInt(M.borderBottomWidth,10),T=parseInt(M.paddingBottom,10),I=K+z+R+T+W,U=Math.min(v.offsetHeight*5,I),H=window.getComputedStyle(p),Z=parseInt(H.paddingTop,10),ae=parseInt(H.paddingBottom,10),se=S.top+S.height/2-Fs,me=A-se,xe=v.offsetHeight/2,le=v.offsetTop+xe,Y=K+z+le,ee=I-Y;if(Y<=se){const O=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const q=u.clientHeight-p.offsetTop-p.offsetHeight,fe=Math.max(me,xe+(O?ae:0)+q+W),he=Y+fe;l.style.height=he+"px"}else{const O=P.length>0&&v===P[0].ref.current;l.style.top="0px";const fe=Math.max(se,K+p.offsetTop+(O?Z:0)+xe)+ee;l.style.height=fe+"px",p.scrollTop=Y-se+p.offsetTop}l.style.margin=`${Fs}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,u,p,v,x,i.dir,r]);Nn(()=>j(),[j]);const[N,w]=b.useState();Nn(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);const C=b.useCallback(S=>{S&&g.current===!0&&(j(),y==null||y(),g.current=!1)},[j,y]);return s.jsx(dJ,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(Be.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});UR.displayName=cJ;var uJ="SelectPopperPosition",rw=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Fs,...i}=e,o=Bx(n);return s.jsx(tS,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rw.displayName=uJ;var[dJ,OS]=Sd(Vl,{}),sw="SelectViewport",qR=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=zo(sw,n),o=OS(sw,n),l=xt(t,i.onViewportChange),c=b.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Lx.Slot,{scope:n,children:s.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:_e(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Fs*2,p=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),x=Math.max(p,v);if(x<g){const y=x+m,j=Math.min(g,y),N=y-j;h.style.height=j+"px",h.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});qR.displayName=sw;var WR="SelectGroup",[hJ,fJ]=Sd(WR),mJ=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Ma();return s.jsx(hJ,{scope:n,id:a,children:s.jsx(Be.div,{role:"group","aria-labelledby":a,...r,ref:t})})});mJ.displayName=WR;var HR="SelectLabel",KR=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=fJ(HR,n);return s.jsx(Be.div,{id:a.id,...r,ref:t})});KR.displayName=HR;var zg="SelectItem",[pJ,GR]=Sd(zg),YR=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=Bo(zg,n),c=zo(zg,n),u=l.value===r,[d,h]=b.useState(i??""),[f,m]=b.useState(!1),g=xt(t,y=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,y,r,a)}),p=Ma(),v=b.useRef("touch"),x=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(pJ,{scope:n,value:r,disabled:a,textId:p,isSelected:u,onItemTextChange:b.useCallback(y=>{h(j=>j||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(Lx.ItemSlot,{scope:n,value:r,disabled:a,textValue:d,children:s.jsx(Be.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:_e(o.onFocus,()=>m(!0)),onBlur:_e(o.onBlur,()=>m(!1)),onClick:_e(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:_e(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:_e(o.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:_e(o.onPointerMove,y=>{var j;v.current=y.pointerType,a?(j=c.onItemLeave)==null||j.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(o.onPointerLeave,y=>{var j;y.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:_e(o.onKeyDown,y=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(eJ.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});YR.displayName=zg;var bh="SelectItemText",QR=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=Bo(bh,n),l=zo(bh,n),c=GR(bh,n),u=sJ(bh,n),[d,h]=b.useState(null),f=xt(t,x=>h(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=b.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Nn(()=>(p(g),()=>v(g)),[p,v,g]),s.jsxs(s.Fragment,{children:[s.jsx(Be.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Zl.createPortal(i.children,o.valueNode):null]})});QR.displayName=bh;var XR="SelectItemIndicator",JR=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return GR(XR,n).isSelected?s.jsx(Be.span,{"aria-hidden":!0,...r,ref:t}):null});JR.displayName=XR;var aw="SelectScrollUpButton",ZR=b.forwardRef((e,t)=>{const n=zo(aw,e.__scopeSelect),r=OS(aw,e.__scopeSelect),[a,i]=b.useState(!1),o=xt(t,r.onScrollButtonChange);return Nn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(t3,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ZR.displayName=aw;var iw="SelectScrollDownButton",e3=b.forwardRef((e,t)=>{const n=zo(iw,e.__scopeSelect),r=OS(iw,e.__scopeSelect),[a,i]=b.useState(!1),o=xt(t,r.onScrollButtonChange);return Nn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(t3,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});e3.displayName=iw;var t3=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=zo("SelectScrollButton",n),o=b.useRef(null),l=Fx(n),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),Nn(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Be.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:_e(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:_e(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:_e(a.onPointerLeave,()=>{c()})})}),gJ="SelectSeparator",n3=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Be.div,{"aria-hidden":!0,...r,ref:t})});n3.displayName=gJ;var ow="SelectArrow",vJ=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Bx(n),i=Bo(ow,n),o=zo(ow,n);return i.open&&o.position==="popper"?s.jsx(nS,{...a,...r,ref:t}):null});vJ.displayName=ow;var xJ="SelectBubbleInput",r3=b.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const a=b.useRef(null),i=xt(r,a),o=ES(t);return b.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(Be.select,{...n,style:{...TM,...n.style},ref:i,defaultValue:t})});r3.displayName=xJ;function s3(e){return e===""||e===void 0}function a3(e){const t=Sr(e),n=b.useRef(""),r=b.useRef(0),a=b.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function i3(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=yJ(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function yJ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var jJ=DR,o3=IR,bJ=RR,wJ=LR,NJ=FR,l3=BR,SJ=qR,c3=KR,u3=YR,CJ=QR,_J=JR,d3=ZR,h3=e3,f3=n3;const we=jJ,Ne=bJ,ye=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(o3,{ref:r,className:Ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(wJ,{asChild:!0,children:s.jsx(eI,{className:"h-4 w-4 opacity-50"})})]}));ye.displayName=o3.displayName;const m3=b.forwardRef(({className:e,...t},n)=>s.jsx(d3,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(wU,{className:"h-4 w-4"})}));m3.displayName=d3.displayName;const p3=b.forwardRef(({className:e,...t},n)=>s.jsx(h3,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(eI,{className:"h-4 w-4"})}));p3.displayName=h3.displayName;const je=b.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(NJ,{children:s.jsxs(l3,{ref:a,className:Ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(m3,{}),s.jsx(SJ,{className:Ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(p3,{})]})}));je.displayName=l3.displayName;const PJ=b.forwardRef(({className:e,...t},n)=>s.jsx(c3,{ref:n,className:Ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));PJ.displayName=c3.displayName;const L=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(u3,{ref:r,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(_J,{children:s.jsx(V1,{className:"h-4 w-4"})})}),s.jsx(CJ,{children:t})]}));L.displayName=u3.displayName;const AJ=b.forwardRef(({className:e,...t},n)=>s.jsx(f3,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));AJ.displayName=f3.displayName;const kJ=async()=>{const{data:e,error:t}=await De.from("clients").select("*").order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching clients: ${t.message}`);return e||[]},TJ=async e=>{const{data:{user:t}}=await De.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:n,error:r}=await De.from("clients").insert({...e,user_id:t.id,city:e.city||"Rabat",country:e.country||"Maroc",client_type:e.client_type||"particulier"}).select().single();if(r)throw new Error(`Error creating client: ${r.message}`);return n},EJ=async(e,t)=>{const{data:n,error:r}=await De.from("clients").update(t).eq("id",e).select().single();if(r)throw new Error(`Error updating client: ${r.message}`);return n},OJ=async()=>{const{data:e,error:t}=await De.from("animals").select(`
      *,
      client:clients(*)
    `).order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching animals: ${t.message}`);return e||[]},DJ=async e=>{var o,l,c;const{data:{user:t}}=await De.auth.getUser();if(!t)throw new Error("User not authenticated");const n={...e};"microchip_number"in n&&!((o=n.microchip_number)!=null&&o.trim())&&delete n.microchip_number,"birth_date"in n&&!((l=n.birth_date)!=null&&l.trim())&&delete n.birth_date,"sterilization_date"in n&&!((c=n.sterilization_date)!=null&&c.trim())&&delete n.sterilization_date;const r=u=>{switch(u){case"healthy":return"vivant";case"urgent":return"décédé";case"treatment":return"perdu";default:return"vivant"}},{data:a,error:i}=await De.from("animals").insert({...n,user_id:t.id,sterilized:n.sterilized||!1,status:r(n.status)}).select(`
      *,
      client:clients(*)
    `).single();if(i)throw new Error(`Error creating animal: ${i.message}`);return a},MJ=async(e,t)=>{var i,o,l;const n={...t};"microchip_number"in n&&!((i=n.microchip_number)!=null&&i.trim())&&(n.microchip_number=null),"birth_date"in n&&!((o=n.birth_date)!=null&&o.trim())&&(n.birth_date=null),"sterilization_date"in n&&!((l=n.sterilization_date)!=null&&l.trim())&&(n.sterilization_date=null);const{data:r,error:a}=await De.from("animals").update(n).eq("id",e).select(`
      *,
      client:clients(*)
    `).single();if(a)throw new Error(`Error updating animal: ${a.message}`);return r},IJ=async()=>{const{data:e,error:t}=await De.from("vaccinations").select(`
      *,
      animal:animals(*)
    `).order("vaccination_date",{ascending:!1});if(t)throw new Error(`Error fetching vaccinations: ${t.message}`);return e||[]},$J=async e=>{const{data:{user:t}}=await De.auth.getUser();if(!t)throw new Error("User not authenticated");let n=e.administered_by;if(!n||n.trim()===""){const{data:i}=await De.from("user_profiles").select("id").eq("id",t.id).single();n=i?t.id:null}const{data:r,error:a}=await De.from("vaccinations").insert({...e,administered_by:n}).select(`
      *,
      animal:animals(*)
    `).single();if(a)throw new Error(`Error creating vaccination: ${a.message}`);return r},RJ=async(e,t)=>{const{data:n,error:r}=await De.from("vaccinations").update(t).eq("id",e).select(`
      *,
      animal:animals(*)
    `).single();if(r)throw new Error(`Error updating vaccination: ${r.message}`);return n},LJ=async e=>{const{error:t}=await De.from("vaccinations").delete().eq("id",e);if(t)throw new Error(`Error deleting vaccination: ${t.message}`)},FJ=async()=>{const{data:e,error:t}=await De.from("vaccination_protocols").select("*").order("species",{ascending:!0}).order("vaccine_name",{ascending:!0});if(t)throw new Error(`Error fetching vaccination protocols: ${t.message}`);return e||[]},BJ=async e=>{const{data:t,error:n}=await De.from("vaccination_protocols").insert(e).select().single();if(n)throw new Error(`Error creating vaccination protocol: ${n.message}`);return t},zJ=async(e,t)=>{const{data:n,error:r}=await De.from("vaccination_protocols").update(t).eq("id",e).select().single();if(r)throw new Error(`Error updating vaccination protocol: ${r.message}`);return n},VJ=async()=>{const{data:e,error:t}=await De.from("antiparasitics").select(`
      *,
      animal:animals(*)
    `).order("treatment_date",{ascending:!1});if(t)throw new Error(`Error fetching antiparasitics: ${t.message}`);return e||[]},UJ=async e=>{const{data:{user:t}}=await De.auth.getUser();if(!t)throw new Error("User must be authenticated to create antiparasitic");if(e.administered_by){const{data:a}=await De.from("user_profiles").select("id").eq("id",e.administered_by).single();a||(console.warn("administered_by user not found, setting to null"),e.administered_by=null)}const{data:n,error:r}=await De.from("antiparasitics").insert([e]).select(`
      *,
      animal:animals(*)
    `).single();if(r)throw new Error(`Error creating antiparasitic: ${r.message}`);return n},qJ=async e=>{const{error:t}=await De.from("antiparasitics").delete().eq("id",e);if(t)throw new Error(`Error deleting antiparasitic: ${t.message}`)},WJ=async()=>{const{data:e,error:t}=await De.from("antiparasitic_protocols").select("*").order("species",{ascending:!0});if(t)throw new Error(`Error fetching antiparasitic protocols: ${t.message}`);return e||[]},HJ=async e=>{const{data:t,error:n}=await De.from("antiparasitic_protocols").select("*").eq("species",e).eq("active",!0).order("parasite_type",{ascending:!0});if(n)throw new Error(`Error fetching antiparasitic protocols for species: ${n.message}`);return t||[]},KJ=async e=>{const{data:t,error:n}=await De.from("antiparasitic_protocols").insert([e]).select("*").single();if(n)throw new Error(`Error creating antiparasitic protocol: ${n.message}`);return t},GJ=async(e,t)=>{const{data:n,error:r}=await De.from("antiparasitic_protocols").update(t).eq("id",e).select("*").single();if(r)throw new Error(`Error updating antiparasitic protocol: ${r.message}`);return n},YJ=async()=>{const{data:e,error:t}=await De.from("appointments").select(`
      *,
      client:clients(*),
      animal:animals(*)
    `).order("appointment_date",{ascending:!0});if(t)throw new Error(`Error fetching appointments: ${t.message}`);return e||[]},QJ=async e=>{const{data:{user:t}}=await De.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:n,error:r}=await De.from("appointments").insert({...e,veterinarian_id:e.veterinarian_id||t.id,duration_minutes:e.duration_minutes||30}).select(`
      *,
      client:clients(*),
      animal:animals(*)
    `).single();if(r)throw new Error(`Error creating appointment: ${r.message}`);return n},XJ=async(e,t)=>{const{data:n,error:r}=await De.from("appointments").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select(`
      *,
      client:clients(*),
      animal:animals(*)
    `).single();if(r)throw new Error(`Error updating appointment: ${r.message}`);return n},JJ=async e=>{const{error:t}=await De.from("appointments").delete().eq("id",e);if(t)throw new Error(`Error deleting appointment: ${t.message}`)},Ys={all:["clients"],lists:()=>[...Ys.all,"list"],list:e=>[...Ys.lists(),{filters:e}],details:()=>[...Ys.all,"detail"],detail:e=>[...Ys.details(),e],search:e=>[...Ys.all,"search",e]},es={all:["animals"],lists:()=>[...es.all,"list"],list:e=>[...es.lists(),{filters:e}],details:()=>[...es.all,"detail"],detail:e=>[...es.details(),e],byClient:e=>[...es.all,"client",e],search:e=>[...es.all,"search",e]},ar={all:["appointments"],lists:()=>[...ar.all,"list"],list:e=>[...ar.lists(),{filters:e}],details:()=>[...ar.all,"detail"],detail:e=>[...ar.details(),e],byAnimal:e=>[...ar.all,"animal",e],byClient:e=>[...ar.all,"client",e]},bm={all:["stats"],clients:()=>[...bm.all,"clients"]},DS={all:["userProfile"],profile:()=>[...DS.all,"profile"]},ds=()=>Pr({queryKey:Ys.lists(),queryFn:kJ,staleTime:5*60*1e3}),ZJ=()=>{const e=Lt();return Ht({mutationFn:TJ,onSuccess:t=>{e.invalidateQueries({queryKey:Ys.lists()}),e.setQueryData(Ys.detail(t.id),t),e.invalidateQueries({queryKey:bm.clients()})}})},eZ=()=>{const e=Lt();return Ht({mutationFn:({id:t,data:n})=>EJ(t,n),onSuccess:t=>{e.setQueryData(Ys.detail(t.id),t),e.invalidateQueries({queryKey:Ys.lists()})}})},hs=()=>Pr({queryKey:es.lists(),queryFn:OJ,staleTime:5*60*1e3}),tZ=()=>{const e=Lt();return Ht({mutationFn:DJ,onSuccess:t=>{e.invalidateQueries({queryKey:es.lists()}),e.setQueryData(es.detail(t.id),t),e.invalidateQueries({queryKey:es.byClient(t.client_id)}),e.invalidateQueries({queryKey:bm.clients()})}})},nZ=()=>{const e=Lt();return Ht({mutationFn:({id:t,data:n})=>MJ(t,n),onSuccess:t=>{e.setQueryData(es.detail(t.id),t),e.invalidateQueries({queryKey:es.lists()}),e.invalidateQueries({queryKey:es.byClient(t.client_id)})}})},MS=()=>Pr({queryKey:["consultations"],queryFn:async()=>{try{const{data:e,error:t}=await De.from("consultations").select(`
            id,
            animal_id,
            client_id,
            veterinarian_id,
            consultation_date,
            consultation_type,
            symptoms,
            diagnosis,
            treatment,
            notes,
            weight,
            temperature,
            heart_rate,
            respiratory_rate,
            photos,
            follow_up_date,
            follow_up_notes,
            status,
            created_at,
            updated_at,
            animal:animals(
              id,
              name,
              species,
              breed,
              color,
              sex,
              weight,
              birth_date,
              microchip_number,
              status
            ),
            client:clients(
              id,
              first_name,
              last_name,
              email,
              phone,
              mobile_phone,
              address,
              city,
              client_type
            )
          `).order("consultation_date",{ascending:!1});if(t)throw console.error("Error fetching consultations:",t),t;return(e||[]).map(n=>({...n,followUp:n.follow_up_notes||null,cost:null,animal:Array.isArray(n.animal)?n.animal[0]:n.animal,client:Array.isArray(n.client)?n.client[0]:n.client}))}catch(e){throw console.error("Failed to fetch consultations:",e),e}},staleTime:5*60*1e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),g3=()=>{const e=Lt();return Ht({mutationFn:async t=>{try{const{data:{user:n}}=await De.auth.getUser();if(!n)throw new Error("User not authenticated");const r={animal_id:t.animal_id,client_id:t.client_id,veterinarian_id:n.id,consultation_date:t.consultation_date||new Date().toISOString(),consultation_type:t.consultation_type,symptoms:t.symptoms||null,diagnosis:t.diagnosis||null,treatment:t.treatment||null,notes:t.notes||null,weight:t.weight||null,temperature:t.temperature||null,heart_rate:t.heart_rate||null,respiratory_rate:t.respiratory_rate||null,photos:t.photos||null,follow_up_date:t.follow_up_date||null,follow_up_notes:t.follow_up_notes||null,status:t.status||"completed"},{data:a,error:i}=await De.from("consultations").insert(r).select(`
            id,
            animal_id,
            client_id,
            veterinarian_id,
            consultation_date,
            consultation_type,
            symptoms,
            diagnosis,
            treatment,
            notes,
            weight,
            temperature,
            heart_rate,
            respiratory_rate,
            photos,
            follow_up_date,
            follow_up_notes,
            status,
            created_at,
            updated_at,
            animal:animals(
              id,
              name,
              species,
              breed,
              color,
              sex,
              weight,
              birth_date,
              microchip_number,
              status
            ),
            client:clients(
              id,
              first_name,
              last_name,
              email,
              phone,
              mobile_phone,
              address,
              city,
              client_type
            )
          `).single();if(i)throw console.error("Error creating consultation:",i),i;return{...a,followUp:a.follow_up_notes||null,cost:null}}catch(n){throw console.error("Failed to create consultation:",n),n}},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},v3=()=>{const e=Lt();return Ht({mutationFn:async({id:t,data:n})=>{const{data:r,error:a}=await De.from("consultations").update(n).eq("id",t).select(`
          *,
          animal:animals(*),
          client:clients(*)
        `).single();if(a)throw a;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},rZ=()=>{const e=Lt();return Ht({mutationFn:async t=>{try{const n=[{table:"prescriptions",field:"consultation_id"},{table:"vaccinations",field:"consultation_id"},{table:"lab_results",field:"consultation_id"},{table:"antiparasitics",field:"consultation_id"}];for(const a of n)try{const{data:i,error:o}=await De.from(a.table).select("id").eq(a.field,t);if(o){console.warn(`Could not check ${a.table}: ${o.message}`);continue}if(i&&i.length>0){if(a.table==="prescriptions")for(const c of i){const{error:u}=await De.from("prescription_medications").delete().eq("prescription_id",c.id);u&&console.warn(`Could not delete prescription medications: ${u.message}`)}const{error:l}=await De.from(a.table).delete().eq(a.field,t);l&&console.warn(`Could not delete from ${a.table}: ${l.message}`)}}catch(i){console.warn(`Error handling ${a.table}:`,i)}const{error:r}=await De.from("consultations").delete().eq("id",t);if(r)throw console.error(`Database error during consultation deletion: ${r.message}`),new Error(`Failed to delete consultation: ${r.message}`);return{success:!0,id:t}}catch(n){throw console.error("Dynamic deletion failed:",n),new Error(`Deletion failed: ${n.message||"Unknown error"}`)}},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["prescriptions"]}),e.invalidateQueries({queryKey:["dashboard-stats"]}),e.invalidateQueries({queryKey:["vaccinations"]}),e.invalidateQueries({queryKey:["lab-results"]})},retry:1})},IS=()=>Pr({queryKey:["vaccinations"],queryFn:()=>IJ()}),sZ=()=>{const e=Lt();return Ht({mutationFn:$J,onSuccess:()=>{e.invalidateQueries({queryKey:["vaccinations"]}),e.invalidateQueries({queryKey:["animals"]})}})},aZ=()=>{const e=Lt();return Ht({mutationFn:({id:t,data:n})=>RJ(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["vaccinations"]}),e.invalidateQueries({queryKey:["animals"]})}})},iZ=()=>{const e=Lt();return Ht({mutationFn:LJ,onSuccess:()=>{e.invalidateQueries({queryKey:["vaccinations"]}),e.invalidateQueries({queryKey:["animals"]})}})},oZ=()=>Pr({queryKey:["vaccination-protocols"],queryFn:()=>FJ()}),lZ=()=>{const e=Lt();return Ht({mutationFn:BJ,onSuccess:()=>{e.invalidateQueries({queryKey:["vaccination-protocols"]})}})},cZ=()=>{const e=Lt();return Ht({mutationFn:({id:t,data:n})=>zJ(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["vaccination-protocols"]})}})},uZ=()=>Pr({queryKey:["antiparasitics"],queryFn:VJ}),dZ=()=>{const e=Lt();return Ht({mutationFn:UJ,onSuccess:()=>{e.invalidateQueries({queryKey:["antiparasitics"]})}})},hZ=()=>{const e=Lt();return Ht({mutationFn:qJ,onSuccess:()=>{e.invalidateQueries({queryKey:["antiparasitics"]})}})},fZ=()=>Pr({queryKey:["antiparasitic-protocols"],queryFn:WJ}),mZ=e=>Pr({queryKey:["antiparasitic-protocols","by-species",e],queryFn:()=>e?HJ(e):Promise.resolve([]),enabled:!!e}),pZ=()=>{const e=Lt();return Ht({mutationFn:KJ,onSuccess:()=>{e.invalidateQueries({queryKey:["antiparasitic-protocols"]})}})},gZ=()=>{const e=Lt();return Ht({mutationFn:({id:t,updates:n})=>GJ(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["antiparasitic-protocols"]})}})},vZ=()=>Pr({queryKey:["client-stats"],queryFn:async()=>{var i,o,l,c;const[e,t]=await Promise.all([De.from("clients").select("id, status"),De.from("animals").select("id, status")]);if(e.error||t.error)throw new Error("Failed to fetch client stats");const n=((i=e.data)==null?void 0:i.filter(u=>u.status==="actif").length)||0;(o=e.data)!=null&&o.length;const r=((l=t.data)==null?void 0:l.length)||0,a=((c=t.data)==null?void 0:c.reduce((u,d)=>(u[d.status]=(u[d.status]||0)+1,u),{}))||{};return{totalClients:n,totalAnimals:r,animalsByStatus:a}},staleTime:5*60*1e3}),$S=()=>Pr({queryKey:["prescriptions"],queryFn:async()=>{try{const{data:e,error:t}=await De.from("prescriptions").select(`
            id,
            consultation_id,
            animal_id,
            client_id,
            veterinarian_id,
            prescription_date,
            diagnosis,
            notes,
            status,
            refill_count,
            valid_until,
            created_at,
            updated_at,
            animal:animals(
              id,
              name,
              species,
              breed,
              color,
              sex,
              weight,
              birth_date,
              microchip_number,
              status
            ),
            client:clients(
              id,
              first_name,
              last_name,
              email,
              phone,
              mobile_phone,
              address,
              city,
              client_type
            ),
            medications:prescription_medications(
              id,
              prescription_id,
              stock_item_id,
              medication_name,
              dosage,
              frequency,
              duration,
              quantity,
              instructions,
              route,
              created_at
            )
          `).order("prescription_date",{ascending:!1});if(t)throw console.error("Error fetching prescriptions:",t),t;return(e||[]).map(n=>({...n,animal:Array.isArray(n.animal)?n.animal[0]:n.animal,client:Array.isArray(n.client)?n.client[0]:n.client}))}catch(e){throw console.error("Dynamic prescription fetch failed:",e),e}},staleTime:5*60*1e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),xZ=e=>Pr({queryKey:["prescriptions","animal",e],queryFn:async()=>{try{const{data:t,error:n}=await De.from("prescriptions").select(`
            id,
            consultation_id,
            animal_id,
            client_id,
            veterinarian_id,
            prescription_date,
            diagnosis,
            notes,
            status,
            refill_count,
            valid_until,
            created_at,
            updated_at,
            animal:animals(
              id,
              name,
              species,
              breed,
              color,
              sex,
              weight,
              birth_date,
              microchip_number,
              status
            ),
            client:clients(
              id,
              first_name,
              last_name,
              email,
              phone,
              mobile_phone,
              address,
              city,
              client_type
            ),
            medications:prescription_medications(
              id,
              prescription_id,
              stock_item_id,
              medication_name,
              dosage,
              frequency,
              duration,
              quantity,
              instructions,
              route,
              created_at
            )
          `).eq("animal_id",e).order("prescription_date",{ascending:!1});if(n)throw console.error("Error fetching prescriptions by animal:",n),n;return t||[]}catch(t){throw console.error("Dynamic prescription fetch by animal failed:",t),t}},enabled:!!e,staleTime:5*60*1e3,retry:2}),yZ=()=>{const e=Lt();return Ht({mutationFn:async t=>{try{const{data:{user:n}}=await De.auth.getUser();if(!n)throw new Error("User not authenticated");const{medications:r,...a}=t,i={consultation_id:a.consultation_id,animal_id:a.animal_id,client_id:a.client_id,veterinarian_id:a.veterinarian_id||n.id,prescription_date:a.prescription_date||new Date().toISOString(),diagnosis:a.diagnosis||null,notes:a.notes||null,status:a.status||"active",refill_count:a.refill_count||0,valid_until:a.valid_until||null},{data:o,error:l}=await De.from("prescriptions").insert(i).select(`
            id,
            consultation_id,
            animal_id,
            client_id,
            veterinarian_id,
            prescription_date,
            diagnosis,
            notes,
            status,
            refill_count,
            valid_until,
            created_at,
            updated_at,
            animal:animals(
              id,
              name,
              species,
              breed,
              color,
              sex,
              weight,
              birth_date,
              microchip_number,
              status
            ),
            client:clients(
              id,
              first_name,
              last_name,
              email,
              phone,
              mobile_phone,
              address,
              city,
              client_type
            )
          `).single();if(l)throw console.error("Error creating prescription:",l),new Error(`Error creating prescription: ${l.message}`);if(r&&r.length>0){const c=r.map(h=>({prescription_id:o.id,stock_item_id:h.stock_item_id||null,medication_name:h.medication_name,dosage:h.dosage||null,frequency:h.frequency||null,duration:h.duration||null,quantity:h.quantity||1,instructions:h.instructions||null,route:h.route||null})),{data:u,error:d}=await De.from("prescription_medications").insert(c).select();if(d)throw console.error("Error creating prescription medications:",d),await De.from("prescriptions").delete().eq("id",o.id),new Error(`Error creating prescription medications: ${d.message}`)}return{...o,medications:r||[]}}catch(n){throw console.error("Dynamic prescription creation failed:",n),n}},onSuccess:()=>{e.invalidateQueries({queryKey:["prescriptions"]}),e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]}),e.invalidateQueries({queryKey:["stock-items"]})},retry:1})},jZ=()=>Pr({queryKey:["stock-items"],queryFn:async()=>{try{const{data:e,error:t}=await De.from("stock_items").select(`
            id,
            name,
            description,
            category,
            unit,
            current_quantity,
            minimum_quantity,
            maximum_quantity,
            unit_cost,
            selling_price,
            supplier,
            batch_number,
            expiration_date,
            location,
            requires_prescription,
            active,
            created_at,
            updated_at
          `).eq("active",!0).order("name");if(t)throw console.error("Error fetching stock items:",t),t;return e||[]}catch(e){throw console.error("Dynamic stock items fetch failed:",e),e}},staleTime:5*60*1e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),bZ=()=>Pr({queryKey:DS.profile(),queryFn:Ix,staleTime:5*60*1e3}),wZ=()=>{const e=Lt();return Ht({mutationFn:t=>xX(t),onSuccess:t=>{e.setQueryData(DS.profile(),t),e.invalidateQueries({queryKey:["auth","session"]})}})},NZ=()=>Pr({queryKey:ar.lists(),queryFn:YJ,staleTime:2*60*1e3}),SZ=()=>{const e=Lt();return Ht({mutationFn:QJ,onSuccess:t=>{e.invalidateQueries({queryKey:ar.lists()}),t.animal_id&&e.invalidateQueries({queryKey:ar.byAnimal(t.animal_id)}),t.client_id&&(e.invalidateQueries({queryKey:ar.byClient(t.client_id)}),e.invalidateQueries({queryKey:Ys.detail(t.client_id)})),e.invalidateQueries({queryKey:bm.clients()})}})},CZ=()=>{const e=Lt();return Ht({mutationFn:({id:t,data:n})=>XJ(t,n),onSuccess:t=>{e.invalidateQueries({queryKey:ar.lists()}),e.setQueryData(ar.lists(),n=>n?n.map(r=>r.id===t.id?t:r):[]),t.animal_id&&e.invalidateQueries({queryKey:ar.byAnimal(t.animal_id)}),t.client_id&&e.invalidateQueries({queryKey:ar.byClient(t.client_id)})}})},_Z=()=>{const e=Lt();return Ht({mutationFn:JJ,onSuccess:(t,n)=>{e.setQueryData(ar.lists(),r=>r?r.filter(a=>a.id!==n):[]),e.invalidateQueries({queryKey:ar.lists()}),e.invalidateQueries({queryKey:bm.clients()})}})};function zx({open:e,onOpenChange:t}){const n=ZJ(),{toast:r}=at(),[a,i]=b.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),o=u=>{const{id:d,value:h}=u.target;i(f=>({...f,[d]:h}))},l=(u,d)=>{i(h=>({...h,[u]:d}))},c=async u=>{u.preventDefault();try{await n.mutateAsync(a),r({title:"Client ajouté",description:`${a.first_name} ${a.last_name} a été ajouté et sauvegardé avec succès.`}),i({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),t(!1)}catch{r({title:"Erreur",description:"Une erreur s'est produite lors de l'ajout du client.",variant:"destructive"})}};return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[500px]",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Nouveau Client"}),s.jsx(Rt,{children:"Ajoutez un nouveau client à votre base de données."})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"first_name",children:"Prénom *"}),s.jsx(Q,{id:"first_name",value:a.first_name,onChange:o,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"last_name",children:"Nom *"}),s.jsx(Q,{id:"last_name",value:a.last_name,onChange:o,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"email",children:"Email"}),s.jsx(Q,{id:"email",type:"email",value:a.email||"",onChange:o})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"phone",children:"Téléphone *"}),s.jsx(Q,{id:"phone",value:a.phone||"",onChange:o,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"address",children:"Adresse"}),s.jsx(Q,{id:"address",value:a.address||"",onChange:o})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"city",children:"Ville"}),s.jsx(Q,{id:"city",value:a.city||"",onChange:o})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"postal_code",children:"Code postal"}),s.jsx(Q,{id:"postal_code",value:a.postal_code||"",onChange:o})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"mobile_phone",children:"Téléphone portable"}),s.jsx(Q,{id:"mobile_phone",value:a.mobile_phone||"",onChange:o,placeholder:"Numéro de téléphone portable"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"client_type",children:"Type de client"}),s.jsxs(we,{value:a.client_type,onValueChange:u=>l("client_type",u),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner le type"})}),s.jsxs(je,{children:[s.jsx(L,{value:"particulier",children:"Particulier"}),s.jsx(L,{value:"eleveur",children:"Éleveur"}),s.jsx(L,{value:"ferme",children:"Ferme"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(qe,{id:"notes",value:a.notes||"",onChange:o,placeholder:"Notes additionnelles..."})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsxs(F,{type:"submit",disabled:n.isPending,children:[n.isPending&&s.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Ajouter Client"]})]})]})]})})}function x3({open:e,onOpenChange:t}){return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Nouveau Rendez-vous"}),s.jsx(Rt,{children:"Fonctionnalité en cours de développement."})]}),s.jsx("div",{className:"flex justify-end gap-2 pt-4 border-t",children:s.jsx(F,{onClick:()=>t(!1),children:"Fermer"})})]})})}function Vx({open:e,onOpenChange:t}){const{data:n=[]}=ds(),{data:r=[]}=hs(),a=tZ(),{toast:i}=at(),[o,l]=b.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",status:"vivant",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),c=h=>{l(f=>({...f,[h.target.id]:h.target.value}))},u=(h,f)=>{l(m=>({...m,[h]:f}))},d=async h=>{if(h.preventDefault(),!n.find(m=>m.id===o.ownerId)){i({title:"Erreur",description:"Veuillez sélectionner un propriétaire valide."});return}if(o.microchip&&o.microchip.trim()&&r.find(g=>g.microchip_number===o.microchip.trim())){i({title:"Erreur",description:"Un animal avec ce numéro de puce existe déjà.",variant:"destructive"});return}try{const m={client_id:o.ownerId,name:o.name,species:o.type,breed:o.breed||void 0,color:o.color||void 0,sex:o.gender==="male"?"Mâle":o.gender==="female"?"Femelle":"Inconnu",weight:o.weight?Number(o.weight):void 0,birth_date:o.birthDate||void 0,...o.microchip&&o.microchip.trim()?{microchip_number:o.microchip.trim()}:{},notes:o.medicalNotes||void 0,photo_url:o.photo||void 0,status:o.status==="healthy"?"vivant":o.status==="urgent"?"décédé":"perdu"};await a.mutateAsync(m),i({title:"Animal ajouté",description:`${o.name} a été ajouté et sauvegardé avec succès.`}),l({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",status:"vivant",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),t(!1)}catch{i({title:"Erreur",description:"Erreur lors de l'ajout de l'animal",variant:"destructive"})}};return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Nouvel Animal"}),s.jsx(Rt,{children:"Ajoutez un nouvel animal à votre base de données."})]}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"name",children:"Nom de l'animal *"}),s.jsx(Q,{id:"name",value:o.name,onChange:c,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Type d'animal *"}),s.jsxs(we,{value:o.type,onValueChange:h=>u("type",h),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner le type"})}),s.jsx(je,{children:s.jsxs(s.Fragment,{children:[s.jsx(L,{value:"Chien",children:"Chien"}),s.jsx(L,{value:"Chat",children:"Chat"}),s.jsx(L,{value:"Oiseau",children:"Oiseau"}),s.jsx(L,{value:"Lapin",children:"Lapin"}),s.jsx(L,{value:"Furet",children:"Furet"}),s.jsx(L,{value:"Souris",children:"Souris"}),s.jsx(L,{value:"Hamster",children:"Hamster"}),s.jsx(L,{value:"Reptile",children:"Reptile"}),s.jsx(L,{value:"Autre",children:"Autre"})]})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"breed",children:"Race"}),s.jsx(Q,{id:"breed",value:o.breed,onChange:c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Sexe"}),s.jsxs(we,{value:o.gender,onValueChange:h=>u("gender",h),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner le sexe"})}),s.jsxs(je,{children:[s.jsx(L,{value:"male",children:"Mâle"}),s.jsx(L,{value:"female",children:"Femelle"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"birthDate",children:"Date de naissance"}),s.jsx(Q,{id:"birthDate",type:"date",value:o.birthDate,onChange:c,max:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"weight",children:"Poids (kg)"}),s.jsx(Q,{id:"weight",value:o.weight,onChange:c})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"color",children:"Couleur"}),s.jsx(Q,{id:"color",value:o.color,onChange:c})]}),s.jsx("div",{className:"space-y-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Propriétaire *"}),n.length===0?s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:s.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible. Veuillez d'abord ajouter un client."})}):s.jsxs(we,{value:o.ownerId.toString(),onValueChange:h=>u("ownerId",h),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner le propriétaire"})}),s.jsx(je,{children:n.map(h=>s.jsxs(L,{value:h.id.toString(),children:[h.first_name," ",h.last_name," - ",h.email]},h.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"microchip",children:"Numéro de puce électronique"}),s.jsx(Q,{id:"microchip",value:o.microchip,onChange:c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"medicalNotes",children:"Notes médicales"}),s.jsx(qe,{id:"medicalNotes",value:o.medicalNotes,onChange:c,placeholder:"Allergies, conditions médicales, notes importantes..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"État de santé"}),s.jsxs(we,{value:o.status,onValueChange:h=>u("status",h),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner l'état de santé"})}),s.jsxs(je,{children:[s.jsx(L,{value:"healthy",children:"En bonne santé"}),s.jsx(L,{value:"treatment",children:"En traitement"}),s.jsx(L,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Photo de l'animal"}),s.jsx("input",{type:"file",accept:"image/*",onChange:async h=>{var g;const f=(g=h.target.files)==null?void 0:g[0];if(!f)return;const m=new FileReader;m.onload=()=>l(p=>({...p,photo:m.result})),m.readAsDataURL(f)}}),o.photo&&s.jsx("img",{src:o.photo,alt:"preview",className:"h-24 w-24 object-cover rounded"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(F,{type:"submit",children:"Ajouter Animal"})]})]})]})})}const vp="vetpro-clinicSettings",y3={farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},j3={clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},b3={openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]},lw=[{id:1,name:"Dr. Jean Dupont",isActive:!0},{id:2,name:"Dr. Marie Martin",isActive:!0},{id:3,name:"Pr. Ahmed El Alaoui",isActive:!0}],xp={clinicName:"",address:"",phone:"",email:"",website:"",footerText:"",logo:"/placeholder.svg",currency:"MAD",species:"",showClinicInfo:!0,showVetsInfo:!0,veterinarians:lw,farmManagement:y3,displayPreferences:j3,defaultConsultationPrice:150,scheduleSettings:b3},w3=b.createContext(void 0),PZ=({children:e})=>{const[t,n]=b.useState(xp);b.useEffect(()=>{const a=localStorage.getItem(vp);if(a)try{const i=JSON.parse(a),o={...xp,...i,veterinarians:i.veterinarians&&i.veterinarians.some(l=>l.name==="Dr. Martin"||l.name==="Dr. Dupont")?lw:i.veterinarians||lw,farmManagement:{...y3,...i.farmManagement},displayPreferences:{...j3,...i.displayPreferences},scheduleSettings:{...b3,...i.scheduleSettings}};n(o),localStorage.setItem(vp,JSON.stringify(o))}catch(i){console.error("Erreur lors du chargement des paramètres:",i),n(xp)}else localStorage.setItem(vp,JSON.stringify(xp))},[]);const r=a=>{n(a),localStorage.setItem(vp,JSON.stringify(a))};return s.jsx(w3.Provider,{value:{settings:t,updateSettings:r},children:e})};//!/ note: AD - not important
const _t=()=>{const e=b.useContext(w3);if(!e)throw new Error("useSettings must be used within SettingsProvider");return e};function Cd({open:e,onOpenChange:t,prefillData:n}){var w,C,S;const{data:r=[],isLoading:a}=ds(),{data:i=[],isLoading:o}=hs(),l=g3(),{toast:c}=at(),{settings:u}=_t(),[d,h]=b.useState(!1),[f,m]=b.useState(!1),[g,p]=b.useState({clientId:(n==null?void 0:n.clientId)||"",clientName:"",animalId:(n==null?void 0:n.animalId)||"",animalName:"",date:n!=null&&n.consultation_date?new Date(n.consultation_date).toISOString().split("T")[0]:"",weight:((w=n==null?void 0:n.weight)==null?void 0:w.toString())||"",temperature:((C=n==null?void 0:n.temperature)==null?void 0:C.toString())||"",symptoms:(n==null?void 0:n.symptoms)||"",diagnosis:(n==null?void 0:n.diagnosis)||"",treatment:(n==null?void 0:n.treatment)||"",followUp:(n==null?void 0:n.follow_up_notes)||"",cost:((S=n==null?void 0:n.cost)==null?void 0:S.toString())||u.defaultConsultationPrice.toString(),notes:(n==null?void 0:n.notes)||"",photos:(n==null?void 0:n.photos)||[]}),v=i.filter(_=>_.client_id===g.clientId),x=new Date().toISOString().split("T")[0];b.useEffect(()=>{u.defaultConsultationPrice&&!g.cost&&p(_=>({..._,cost:u.defaultConsultationPrice.toString()}))},[u.defaultConsultationPrice,g.cost]);const y=_=>{p(k=>({...k,[_.target.id]:_.target.value}))},j=(_,k)=>{if(_==="clientId"){const E=r.find(P=>P.id===k);p(P=>({...P,clientId:k,clientName:E?`${E.first_name} ${E.last_name}`:"",animalId:"",animalName:""}))}else if(_==="animalId"){const E=i.find(P=>P.id===k);p(P=>({...P,animalId:k,animalName:(E==null?void 0:E.name)||""}))}else p(E=>({...E,[_]:k}))},N=async _=>{if(_.preventDefault(),!g.clientId||!g.animalId){c({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}try{const k={client_id:g.clientId,animal_id:g.animalId,consultation_type:"routine",consultation_date:g.date||x,weight:g.weight?Math.min(parseFloat(g.weight),999.9):void 0,temperature:g.temperature?Math.min(parseFloat(g.temperature),99.9):void 0,symptoms:g.symptoms,diagnosis:g.diagnosis,treatment:g.treatment,follow_up_notes:g.followUp,notes:g.notes};await l.mutateAsync(k),c({title:"Consultation enregistrée",description:`Consultation pour ${g.animalName} (${g.clientName}) a été enregistrée avec succès.`}),p({clientId:"",clientName:"",animalId:"",animalName:"",date:x,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:u.defaultConsultationPrice.toString(),notes:"",photos:[]}),t(!1)}catch{c({title:"Erreur",description:"Impossible d'enregistrer la consultation. Veuillez réessayer.",variant:"destructive"})}};return b.useEffect(()=>{e&&p({clientId:"",clientName:"",animalId:"",animalName:"",date:x,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:u.defaultConsultationPrice.toString(),notes:"",photos:[]})},[e,x]),s.jsxs(s.Fragment,{children:[s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Nouvelle Consultation"}),s.jsx(Rt,{children:"Enregistrez une nouvelle consultation vétérinaire."})]}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Client *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{value:g.clientId.toString(),onValueChange:_=>j("clientId",_),children:[s.jsx(ye,{className:"flex-1",children:s.jsx(Ne,{placeholder:"Sélectionner le client"})}),s.jsx(je,{children:r.map(_=>s.jsxs(L,{value:_.id,children:[_.first_name," ",_.last_name]},_.id))})]}),s.jsx(F,{type:"button",size:"sm",variant:"outline",onClick:()=>h(!0),className:"px-2",children:s.jsx(nt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Animal *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(we,{value:g.animalId,onValueChange:_=>j("animalId",_),disabled:!g.clientId,children:[s.jsx(ye,{className:"flex-1",children:s.jsx(Ne,{placeholder:g.clientId?"Sélectionner l'animal":"Sélectionnez d'abord un client"})}),s.jsx(je,{children:v.map(_=>s.jsxs(L,{value:_.id,children:[_.name," (",_.species,")"]},_.id))})]}),s.jsx(F,{type:"button",size:"sm",variant:"outline",onClick:()=>m(!0),className:"px-2",disabled:!g.clientId,children:s.jsx(nt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"date",children:"Date *"}),s.jsx(Q,{id:"date",type:"date",value:g.date||x,onChange:y,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"weight",children:"Poids (kg)"}),s.jsx(Q,{id:"weight",type:"number",step:"0.1",min:"0",max:"999.9",value:g.weight,onChange:y,placeholder:"ex: 25.5"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"temperature",children:"Température (°C)"}),s.jsx(Q,{id:"temperature",type:"number",step:"0.1",min:"0",max:"99.9",value:g.temperature,onChange:y,placeholder:"ex: 38.5"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"symptoms",children:"Symptômes observés"}),s.jsx(qe,{id:"symptoms",value:g.symptoms,onChange:y,placeholder:"Décrivez les symptômes et observations...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"diagnosis",children:"Diagnostic"}),s.jsx(qe,{id:"diagnosis",value:g.diagnosis,onChange:y,placeholder:"Diagnostic posé...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"treatment",children:"Traitement administré"}),s.jsx(qe,{id:"treatment",value:g.treatment,onChange:y,placeholder:"Traitements, injections, interventions...",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"followUp",children:"Suivi recommandé"}),s.jsx(Q,{id:"followUp",value:g.followUp,onChange:y,placeholder:"ex: Contrôle dans 1 semaine"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(D,{htmlFor:"cost",children:["Coût (",u.currency,")"]}),s.jsx(Q,{id:"cost",type:"number",step:"0.01",value:g.cost,onChange:y,placeholder:"ex: 85.50"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes additionnelles"}),s.jsx(qe,{id:"notes",value:g.notes,onChange:y,placeholder:"Notes diverses, recommandations...",rows:3})]}),s.jsxs("div",{className:"space-y-2 col-span-2",children:[s.jsx(D,{children:"Photos de la consultation"}),s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:async _=>{const k=Array.from(_.target.files||[]),E=await Promise.all(k.map(P=>new Promise((A,R)=>{const M=new FileReader;M.onload=()=>A(M.result),M.onerror=()=>R(),M.readAsDataURL(P)})));p(P=>({...P,photos:[...P.photos,...E]}))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"}),g.photos.length>0&&s.jsx("div",{className:"flex gap-2 overflow-x-auto pt-2",children:g.photos.map((_,k)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:_,alt:`photo-${k}`,className:"h-24 w-24 object-cover rounded"}),s.jsx("button",{type:"button",onClick:()=>p(E=>({...E,photos:E.photos.filter((P,A)=>A!==k)})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},k))})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(F,{type:"submit",disabled:!g.animalId||l.isPending,children:l.isPending?"Enregistrement...":"Enregistrer Consultation"})]})]})]})}),s.jsx(zx,{open:d,onOpenChange:h}),s.jsx(Vx,{open:f,onOpenChange:m})]})}const AZ=({children:e,allowedRoles:t,fallback:n=null})=>{const{user:r}=sc();return!r||!t.includes(r.profile.role)?s.jsx(s.Fragment,{children:n}):s.jsx(s.Fragment,{children:e})},cw=({children:e,fallback:t=null})=>s.jsx(AZ,{allowedRoles:["admin"],fallback:t,children:e});function kZ(){const{clients:e,pets:t,consultations:n,vaccinations:r,antiparasitics:a,generateAccountingSummary:i}=pt(),{settings:o}=_t(),l=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),c=l.length===1?`Bienvenue ${l[0].title} ${l[0].name}`:`Bienvenue à ${o.clinicName}`,[u,d]=b.useState(!1),[h,f]=b.useState(!1),[m,g]=b.useState(!1),[p,v]=b.useState(!1),x=e.length,y=t.length,j=r.length,N=a.length,w=new Date().toISOString().split("T")[0],C=n.filter(A=>A.date===w).length,S=new Date().getMonth(),_=new Date().getFullYear(),k=new Date(_,S,1).toISOString().split("T")[0],E=new Date(_,S+1,0).toISOString().split("T")[0],P=i(`${_}-${String(S+1).padStart(2,"0")}`,k,E);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"relative overflow-hidden gradient-hero rounded-2xl p-8 mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-8",children:[o.logo&&s.jsx("img",{src:o.logo,alt:"Logo clinique",className:"h-20 w-20 object-contain rounded"}),s.jsxs("div",{className:"flex-1 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-8 w-8 text-primary"}),s.jsx("span",{className:"text-sm font-medium text-primary",children:"Gestion Vétérinaire Complète"})]}),s.jsxs("h1",{className:"text-4xl font-bold leading-tight max-w-3xl",children:[c,", ",s.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"Dashboard VetPro"})]}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl",children:"Gérez efficacement vos clients, leurs animaux, les rendez-vous et consultations. Votre pratique vétérinaire optimisée en un seul endroit."}),s.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[s.jsxs(F,{size:"lg",className:"gap-2 medical-glow",onClick:()=>d(!0),children:[s.jsx(Fa,{className:"h-5 w-5"}),"Nouveau Client",s.jsx(hb,{className:"h-4 w-4"})]}),s.jsxs(F,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>g(!0),children:[s.jsx(dt,{className:"h-5 w-5"}),"Nouvel Animal"]}),s.jsxs(F,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>f(!0),children:[s.jsx(He,{className:"h-5 w-5"}),"Planifier RDV"]}),s.jsxs(F,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>v(!0),children:[s.jsx(jn,{className:"h-5 w-5"}),"Nouvelle Consultation"]})]}),s.jsxs("div",{className:"flex gap-6 pt-8 flex-wrap",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:x}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Clients actifs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-secondary",children:y}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Animaux suivis"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-accent",children:C}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Consultations aujourd'hui"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Vaccinations"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:N}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Antiparasitaires"})]}),s.jsx(cw,{children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[P.totalRevenue.toFixed(0)," ",o.currency||"€"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Revenus ce mois"})]})})]})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx("img",{src:dR,alt:"Vétérinaire professionnel examinant un chien",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})}),s.jsx(zx,{open:u,onOpenChange:d}),s.jsx(x3,{open:h,onOpenChange:f}),s.jsx(Vx,{open:m,onOpenChange:g}),s.jsx(Cd,{open:p,onOpenChange:v})]})}function TZ(){const{clients:e,pets:t,consultations:n,appointments:r,prescriptions:a,farms:i,vaccinations:o,antiparasitics:l,stockItems:c,stockMovements:u,accountingEntries:d,getUpcomingAppointments:h,getOverdueAppointments:f,generateAccountingSummary:m}=pt(),{settings:g}=_t(),p=e.length,v=t.length;n.length,r.length,a.length;const x=i.length,y=o.length,j=l.length,N=c.length,w=new Date().getMonth(),C=new Date().getFullYear(),S=n.filter(Y=>{const ee=new Date(Y.date);return ee.getMonth()===w&&ee.getFullYear()===C}).length,_=o.filter(Y=>{const ee=new Date(Y.dateGiven);return ee.getMonth()===w&&ee.getFullYear()===C}).length,k=l.filter(Y=>{const ee=new Date(Y.dateGiven);return ee.getMonth()===w&&ee.getFullYear()===C}).length,E=new Date().toISOString().split("T")[0],P=n.filter(Y=>Y.date===E).length,A=r.filter(Y=>Y.date===E&&Y.status!=="cancelled"&&Y.status!=="completed").length,R=h();f();const M=c.filter(Y=>Y.currentStock<=Y.minimumStock).length,K=c.filter(Y=>Y.currentStock===0).length;c.reduce((Y,ee)=>Y+ee.currentStock*ee.purchasePrice,0);const z=new Date(C,w,1).toISOString().split("T")[0],W=new Date(C,w+1,0).toISOString().split("T")[0],T=m(`${C}-${String(w+1).padStart(2,"0")}`,z,W),I=T.totalRevenue;T.totalExpenses;const U=T.netIncome,H=(Y,ee)=>{if(ee===0)return Y>0?"+100%":"0%";const oe=(Y-ee)/ee*100;return oe>=0?`+${Math.round(oe)}%`:`${Math.round(oe)}%`},Z=w===0?11:w-1,ae=w===0?C-1:C,se=n.filter(Y=>{const ee=new Date(Y.date);return ee.getMonth()===Z&&ee.getFullYear()===ae}).length,me=e.filter(Y=>{const ee=new Date(Y.lastVisit);return ee.getMonth()===Z&&ee.getFullYear()===ae}).length,xe=t.filter(Y=>{if(!Y.lastVisit)return!1;const ee=new Date(Y.lastVisit);return ee.getMonth()===Z&&ee.getFullYear()===ae}).length;r.filter(Y=>{const ee=new Date(Y.date);return ee.getMonth()===Z&&ee.getFullYear()===ae}).length;const le=[{title:"Clients Total",value:p.toString(),change:H(p,me),icon:Fa,color:"text-blue-600",bgColor:"bg-blue-50",description:`${p>0?Math.round(p/10):0} nouveaux ce mois`},{title:"Animaux Suivis",value:v.toString(),change:H(v,xe),icon:dt,color:"text-red-600",bgColor:"bg-red-50",description:`${v>0?Math.round(v/8):0} nouveaux ce mois`},{title:"RDV Aujourd'hui",value:A.toString(),change:A>0?"+"+Math.min(20,Math.floor(A*.3))+"%":"0%",icon:He,color:"text-purple-600",bgColor:"bg-purple-50",description:`${R.length} à venir cette semaine`},{title:"Consultations",value:S.toString(),change:H(S,se),icon:jn,color:"text-green-600",bgColor:"bg-green-50",description:`${P} aujourd'hui`},{title:"Revenus Réels",value:`${I.toFixed(0)} ${g.currency||"€"}`,change:I>0?"+"+Math.round(I/1e3*10)+"%":"0%",icon:fd,color:"text-emerald-600",bgColor:"bg-emerald-50",description:`Bénéfice: ${U.toFixed(0)} ${g.currency||"€"}`},{title:"Activité Ferme",value:x.toString(),change:x>0?"+"+Math.min(15,Math.floor(x*.2))+"%":"0%",icon:ra,color:"text-orange-600",bgColor:"bg-orange-50",description:`${x} exploitations actives`},{title:"Vaccinations",value:_.toString(),change:_>0?"+"+Math.min(25,Math.floor(_*.3))+"%":"0%",icon:$r,color:"text-blue-600",bgColor:"bg-blue-50",description:`${y} total ce mois`},{title:"Antiparasitaires",value:k.toString(),change:k>0?"+"+Math.min(20,Math.floor(k*.25))+"%":"0%",icon:Ur,color:"text-purple-600",bgColor:"bg-purple-50",description:`${j} total ce mois`},{title:"Stock",value:N.toString(),change:M>0?"-"+Math.min(15,Math.floor(M*.2))+"%":"0%",icon:M>0?pn:Oa,color:M>0?"text-red-600":"text-green-600",bgColor:M>0?"bg-red-50":"bg-green-50",description:`${M} en rupture, ${K} épuisés`}];return s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:le.map(Y=>s.jsxs(te,{className:"card-hover",children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:Y.title}),s.jsx("div",{className:`p-2 rounded-lg ${Y.bgColor}`,children:s.jsx(Y.icon,{className:`h-4 w-4 ${Y.color}`})})]}),s.jsxs(re,{children:[s.jsx("div",{className:"text-2xl font-bold",children:Y.value}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.jsx("span",{className:"text-secondary font-medium",children:Y.change})," vs mois dernier"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Y.description})]})]},Y.title))})}const EZ=hm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pe({className:e,variant:t,...n}){return s.jsx("div",{className:Ie(EZ({variant:t}),e),...n})}function OZ({open:e,onOpenChange:t,client:n,onEdit:r}){return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[600px]",children:[s.jsx(et,{children:s.jsx(tt,{children:"Profil Client"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Jn,{className:"h-20 w-20",children:s.jsx(Zn,{className:"bg-primary text-primary-foreground text-xl",children:n.name.split(" ").map(a=>a[0]).join("")})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(fm,{className:"h-3 w-3"}),n.email]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pu,{className:"h-3 w-3"}),n.phone]})]})]})]}),n.address&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Adresse"}),s.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground",children:[s.jsx(ec,{className:"h-4 w-4 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{children:n.address}),s.jsxs("p",{children:[n.postalCode," ",n.city]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4 text-primary"}),"Animaux (",n.pets.length,")"]}),n.pets.length>0?s.jsx("div",{className:"space-y-2",children:n.pets.map((a,i)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:a.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.type," • ",a.breed]})]}),s.jsx(Pe,{variant:"outline",children:a.status==="healthy"?"En bonne santé":a.status==="treatment"?"En traitement":"Urgent"})]},i))}):s.jsx("p",{className:"text-muted-foreground",children:"Aucun animal enregistré"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Dernière visite:"}),s.jsx("p",{children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Total visites:"}),s.jsx("p",{children:n.totalVisits})]})]}),n.notes&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Notes"}),s.jsx("p",{className:"text-muted-foreground",children:n.notes})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),s.jsxs(F,{onClick:r,className:"gap-2",children:[s.jsx(Mt,{className:"h-4 w-4"}),"Modifier"]})]})]})]})}):null}function DZ({open:e,onOpenChange:t,client:n}){const{updateClient:r}=pt(),{toast:a}=at(),[i,o]=b.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",idNumber:"",notes:""});b.useEffect(()=>{n&&o({firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,address:n.address||"",city:n.city||"",postalCode:n.postalCode||"",idNumber:n.idNumber||"",notes:n.notes||""})},[n]);const l=u=>{o(d=>({...d,[u.target.id]:u.target.value}))},c=u=>{u.preventDefault(),n&&(r(n.id,i),a({title:"Client modifié",description:`Les informations de ${i.firstName} ${i.lastName} ont été mises à jour.`}),t(!1))};return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[500px]",children:[s.jsx(et,{children:s.jsx(tt,{children:"Modifier Client"})}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"firstName",children:"Prénom *"}),s.jsx(Q,{id:"firstName",value:i.firstName,onChange:l,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"lastName",children:"Nom *"}),s.jsx(Q,{id:"lastName",value:i.lastName,onChange:l,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"email",children:"Email"}),s.jsx(Q,{id:"email",type:"email",value:i.email,onChange:l})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"phone",children:"Téléphone *"}),s.jsx(Q,{id:"phone",value:i.phone,onChange:l,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"address",children:"Adresse"}),s.jsx(Q,{id:"address",value:i.address,onChange:l})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"city",children:"Ville"}),s.jsx(Q,{id:"city",value:i.city,onChange:l})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"postalCode",children:"Code postal"}),s.jsx(Q,{id:"postalCode",value:i.postalCode,onChange:l})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"idNumber",children:"N° pièce d'identité"}),s.jsx(Q,{id:"idNumber",value:i.idNumber,onChange:l,placeholder:"Numéro de carte d'identité, passeport, etc."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(qe,{id:"notes",value:i.notes,onChange:l,placeholder:"Notes additionnelles..."})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(F,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}function MZ(){const{clients:e,pets:t,consultations:n,appointments:r}=pt();_t();const[a,i]=b.useState(!1),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState(null),m=[...e].sort((S,_)=>new Date(_.lastVisit).getTime()-new Date(S.lastVisit).getTime()).slice(0,5),g=e.length,p=e.filter(S=>{const _=new Date(S.lastVisit),k=new Date;return k.setDate(k.getDate()-30),_>=k}).length,v=e.filter(S=>{const _=new Date(S.lastVisit),k=new Date().getMonth(),E=new Date().getFullYear();return _.getMonth()===k&&_.getFullYear()===E}).length,x=g>0?(t.length/g).toFixed(1):"0",y=S=>{h(S),l(!0)},j=S=>{h(S),u(!0)},N=()=>{l(!1),u(!0)},w=S=>{const _=new Date(S),E=Math.abs(new Date().getTime()-_.getTime()),P=Math.ceil(E/(1e3*60*60*24));return P===0?"Aujourd'hui":P===1?"Hier":P<7?`Il y a ${P} jours`:P<30?`Il y a ${Math.floor(P/7)} semaine${Math.floor(P/7)>1?"s":""}`:`Il y a ${Math.floor(P/30)} mois`},C=S=>{const _=t.filter(P=>P.ownerId===S.id),k=n.filter(P=>P.clientId===S.id),E=r.filter(P=>P.clientId===S.id);return{pets:_.length,consultations:k.length,appointments:E.length,lastActivity:k.length>0?Math.max(...k.map(P=>new Date(P.date).getTime())):new Date(S.lastVisit).getTime()}};return s.jsxs(s.Fragment,{children:[s.jsxs(te,{className:"card-hover",children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-lg font-semibold",children:"Clients Récents"}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fa,{className:"h-3 w-3"}),s.jsxs("span",{children:[g," total"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ra,{className:"h-3 w-3"}),s.jsxs("span",{children:[p," actifs"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sn,{className:"h-3 w-3"}),s.jsxs("span",{children:["+",v," ce mois"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"h-3 w-3"}),s.jsxs("span",{children:["Ø ",x," animaux"]})]})]})]}),s.jsxs(F,{size:"sm",className:"gap-2",onClick:()=>i(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouveau Client"]})]}),s.jsx(re,{className:"space-y-4",children:m.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Fa,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucun client enregistré"}),s.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier client"})]}):m.map(S=>{const _=C(S);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Jn,{children:s.jsx(Zn,{className:"bg-primary text-primary-foreground",children:S.name.split(" ").map(k=>k[0]).join("")})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:S.name}),s.jsxs(Pe,{variant:"outline",className:"text-xs",children:[_.pets," animal",_.pets>1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(fm,{className:"h-3 w-3"}),S.email]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pu,{className:"h-3 w-3"}),S.phone]}),S.city&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ec,{className:"h-3 w-3"}),S.city]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Dernière visite: ",w(S.lastVisit)]}),s.jsxs("span",{children:["Total visites: ",S.totalVisits]}),s.jsxs("span",{children:["Consultations: ",_.consultations]}),s.jsxs("span",{children:["RDV: ",_.appointments]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>y(S),children:[s.jsx(bn,{className:"h-4 w-4"}),"Voir"]}),s.jsxs(F,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>j(S),children:[s.jsx(Mt,{className:"h-4 w-4"}),"Modifier"]})]})]},S.id)})})]}),s.jsx(zx,{open:a,onOpenChange:i}),s.jsx(OZ,{open:o,onOpenChange:l,client:d,onEdit:N}),s.jsx(DZ,{open:c,onOpenChange:u,client:d})]})}function N3({open:e,onOpenChange:t,pet:n,onEdit:r,onShowDossier:a}){const{updatePet:i}=pt(),[o,l]=b.useState(null);b.useEffect(()=>{e&&l((n==null?void 0:n.photo)||null)},[e,n]);const c=b.useRef(null),u=d=>{var f;const h=(f=d.target.files)==null?void 0:f[0];if(h){const m=new FileReader;m.onload=g=>{var v;const p=(v=g.target)==null?void 0:v.result;l(p),i(n.id,{photo:p})},m.readAsDataURL(h)}};return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[s.jsx(et,{children:s.jsx(tt,{children:"Profil Animal"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(Jn,{className:"h-24 w-24",children:o?s.jsx(Du,{src:o,alt:n.name,className:"h-full w-full object-cover rounded-full"}):s.jsx(Zn,{className:"bg-primary-glow text-primary-foreground",children:s.jsx(dt,{className:"h-12 w-12"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(F,{size:"sm",variant:"outline",className:"gap-2 w-full flex items-center justify-center",onClick:()=>{var d;return(d=c.current)==null?void 0:d.click()},children:[s.jsx(_u,{className:"h-4 w-4"}),o?"Changer photo":"Ajouter photo"]}),o&&s.jsx(F,{size:"sm",variant:"destructive",className:"gap-2 w-full",onClick:()=>{l(null),i(n.id,{photo:void 0})},children:"Supprimer photo"}),s.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:u,className:"hidden"})]})]}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),s.jsx(Pe,{variant:"outline",className:n.status==="healthy"?"bg-secondary text-secondary-foreground":n.status==="treatment"?"bg-accent text-accent-foreground":"bg-destructive text-destructive-foreground",children:n.status==="healthy"?"En bonne santé":n.status==="treatment"?"En traitement":"Urgent"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Type:"}),s.jsx("p",{className:"text-muted-foreground",children:n.type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Race:"}),s.jsx("p",{className:"text-muted-foreground",children:n.breed||"Non spécifiée"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Âge:"}),s.jsx("p",{className:"text-muted-foreground",children:n.birthDate?s.jsxs(s.Fragment,{children:[ku(n.birthDate),s.jsx("br",{}),s.jsxs("span",{className:"text-xs",children:["Né(e) le ",Da(n.birthDate)]})]}):"Non spécifié"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Poids:"}),s.jsx("p",{className:"text-muted-foreground",children:n.weight||"Non spécifié"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Couleur:"}),s.jsx("p",{className:"text-muted-foreground",children:n.color||"Non spécifiée"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Propriétaire:"}),s.jsx("p",{className:"text-muted-foreground",children:n.owner})]})]}),n.microchip&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Puce électronique:"}),s.jsx("p",{className:"text-muted-foreground font-mono",children:n.microchip})]})]}),s.jsxs("div",{className:"space-y-4",children:[n.lastVisit&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Dernière visite:"}),s.jsx("p",{className:"text-muted-foreground",children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]})]}),n.nextAppointment&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Prochain RDV:"}),s.jsx("p",{className:"text-muted-foreground",children:new Date(n.nextAppointment).toLocaleDateString("fr-FR")})]})]})]})]}),n.vaccinations&&n.vaccinations.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Vaccinations"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:n.vaccinations.map((d,h)=>s.jsx(Pe,{variant:"outline",children:d},h))})]}),n.medicalNotes&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Notes médicales"}),s.jsx("p",{className:"text-muted-foreground p-3 bg-muted/30 rounded-lg",children:n.medicalNotes})]}),s.jsxs("div",{className:"flex justify-between gap-2 pt-4 border-t",children:[s.jsxs(F,{variant:"outline",onClick:a,className:"gap-2",children:[s.jsx(vr,{className:"h-4 w-4"}),"Voir Dossier Médical"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),s.jsxs(F,{onClick:r,className:"gap-2",children:[s.jsx(Mt,{className:"h-4 w-4"}),"Modifier"]})]})]})]})]})}):null}var Ux="Checkbox",[IZ,dke]=us(Ux),[$Z,RS]=IZ(Ux);function RZ(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[f,m]=ji({prop:n,defaultProp:a??!1,onChange:c,caller:Ux}),[g,p]=b.useState(null),[v,x]=b.useState(null),y=b.useRef(!1),j=g?!!o||!!g.closest("form"):!0,N={checked:f,disabled:i,setChecked:m,control:g,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:So(a)?!1:a,isFormControl:j,bubbleInput:v,setBubbleInput:x};return s.jsx($Z,{scope:t,...N,children:LZ(h)?h(N):r})}var S3="CheckboxTrigger",C3=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:g}=RS(S3,e),p=xt(a,d),v=b.useRef(c);return b.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const y=()=>h(v.current);return x.addEventListener("reset",y),()=>x.removeEventListener("reset",y)}},[i,h]),s.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":So(c)?"mixed":c,"aria-required":u,"data-state":T3(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:p,onKeyDown:_e(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:_e(n,x=>{h(y=>So(y)?!0:!y),g&&m&&(f.current=x.isPropagationStopped(),f.current||x.stopPropagation())})})});C3.displayName=S3;var LS=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return s.jsx(RZ,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>s.jsxs(s.Fragment,{children:[s.jsx(C3,{...h,ref:t,__scopeCheckbox:n}),f&&s.jsx(k3,{__scopeCheckbox:n})]})})});LS.displayName=Ux;var _3="CheckboxIndicator",P3=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=RS(_3,n);return s.jsx(Ts,{present:r||So(i.checked)||i.checked===!0,children:s.jsx(Be.span,{"data-state":T3(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});P3.displayName=_3;var A3="CheckboxBubbleInput",k3=b.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:m}=RS(A3,e),g=xt(n,m),p=ES(i),v=X1(r);b.useEffect(()=>{const y=f;if(!y)return;const j=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(j,"checked").set,C=!a.current;if(p!==i&&w){const S=new Event("click",{bubbles:C});y.indeterminate=So(i),w.call(y,So(i)?!1:i),y.dispatchEvent(S)}},[f,p,i,a]);const x=b.useRef(So(i)?!1:i);return s.jsx(Be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});k3.displayName=A3;function LZ(e){return typeof e=="function"}function So(e){return e==="indeterminate"}function T3(e){return So(e)?"indeterminate":e?"checked":"unchecked"}const hi=b.forwardRef(({className:e,...t},n)=>s.jsx(LS,{ref:n,className:Ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(P3,{className:Ie("flex items-center justify-center text-current"),children:s.jsx(V1,{className:"h-4 w-4"})})}));hi.displayName=LS.displayName;function FZ({open:e,onOpenChange:t,pet:n}){const{updatePet:r,clients:a}=pt();_t();const{toast:i}=at(),[o,l]=b.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:0,microchip:"",medicalNotes:"",status:"vivant",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""});b.useEffect(()=>{n&&l({name:n.name,type:n.type,breed:n.breed||"",gender:n.gender||"",birthDate:n.birthDate||"",weight:n.weight||"",color:n.color||"",ownerId:n.ownerId,microchip:n.microchip||"",medicalNotes:n.medicalNotes||"",status:n.status,hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""})},[n]);const c=h=>{l(f=>({...f,[h.target.id]:h.target.value}))},u=(h,f)=>{l(m=>({...m,[h]:h==="ownerId"?parseInt(f):f}))},d=h=>{if(h.preventDefault(),!n)return;const f=a.find(m=>m.id===o.ownerId);r(n.id,{...o,owner:(f==null?void 0:f.name)||n.owner}),i({title:"Animal modifié",description:`Les informations de ${o.name} ont été mises à jour.`}),t(!1)};return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[s.jsx(et,{children:s.jsx(tt,{children:"Modifier Animal"})}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"name",children:"Nom de l'animal *"}),s.jsx(Q,{id:"name",value:o.name,onChange:c,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Type d'animal *"}),s.jsxs(we,{value:o.type,onValueChange:h=>u("type",h),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsx(je,{children:s.jsxs(s.Fragment,{children:[s.jsx(L,{value:"Chien",children:"Chien"}),s.jsx(L,{value:"Chat",children:"Chat"}),s.jsx(L,{value:"Oiseau",children:"Oiseau"}),s.jsx(L,{value:"Lapin",children:"Lapin"}),s.jsx(L,{value:"Furet",children:"Furet"}),s.jsx(L,{value:"Souris",children:"Souris"}),s.jsx(L,{value:"Hamster",children:"Hamster"}),s.jsx(L,{value:"Reptile",children:"Reptile"}),s.jsx(L,{value:"Autre",children:"Autre"})]})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"breed",children:"Race"}),s.jsx(Q,{id:"breed",value:o.breed,onChange:c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Sexe"}),s.jsxs(we,{value:o.gender,onValueChange:h=>u("gender",h),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner le sexe"})}),s.jsxs(je,{children:[s.jsx(L,{value:"male",children:"Mâle"}),s.jsx(L,{value:"female",children:"Femelle"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"birthDate",children:"Date de naissance"}),s.jsx(Q,{id:"birthDate",type:"date",value:o.birthDate,onChange:c,max:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"weight",children:"Poids (kg)"}),s.jsx(Q,{id:"weight",value:o.weight,onChange:c})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"color",children:"Couleur"}),s.jsx(Q,{id:"color",value:o.color,onChange:c})]}),s.jsx("div",{className:"space-y-2"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Propriétaire *"}),s.jsxs(we,{value:o.ownerId.toString(),onValueChange:h=>u("ownerId",h),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsx(je,{children:a.map(h=>s.jsx(L,{value:h.id.toString(),children:h.name},h.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Statut de santé"}),s.jsxs(we,{value:o.status,onValueChange:h=>u("status",h),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"healthy",children:"En bonne santé"}),s.jsx(L,{value:"treatment",children:"En traitement"}),s.jsx(L,{value:"urgent",children:"Urgent"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"microchip",children:"Numéro de puce électronique"}),s.jsx(Q,{id:"microchip",value:o.microchip,onChange:c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"medicalNotes",children:"Notes médicales"}),s.jsx(qe,{id:"medicalNotes",value:o.medicalNotes,onChange:c,placeholder:"Allergies, conditions médicales, notes importantes..."})]}),s.jsxs("div",{className:"space-y-4 border-t pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hi,{id:"hasPedigree",checked:o.hasPedigree,onCheckedChange:h=>l(f=>({...f,hasPedigree:h}))}),s.jsx(D,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),o.hasPedigree&&s.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"officialName",children:"Nom officiel"}),s.jsx(Q,{id:"officialName",value:o.officialName,onChange:c,placeholder:"Nom officiel du pedigree"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),s.jsx(Q,{id:"pedigreeNumber",value:o.pedigreeNumber,onChange:c,placeholder:"Numéro de pedigree"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"breeder",children:"Éleveur"}),s.jsx(Q,{id:"breeder",value:o.breeder,onChange:c,placeholder:"Nom de l'éleveur"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Père"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{placeholder:"Nom du père",value:o.fatherName,onChange:c}),s.jsx(Q,{placeholder:"N° pedigree du père",value:o.fatherPedigree,onChange:c}),s.jsx(Q,{placeholder:"Race du père",value:o.fatherBreed,onChange:c}),s.jsx(qe,{placeholder:"Titres du père",value:o.fatherTitles,onChange:c,rows:2})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{placeholder:"Nom de la mère",value:o.motherName,onChange:c}),s.jsx(Q,{placeholder:"N° pedigree de la mère",value:o.motherPedigree,onChange:c}),s.jsx(Q,{placeholder:"Race de la mère",value:o.motherBreed,onChange:c}),s.jsx(qe,{placeholder:"Titres de la mère",value:o.motherTitles,onChange:c,rows:2})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Document pedigree"}),s.jsx("input",{type:"file",accept:"image/*",onChange:async h=>{var g;const f=(g=h.target.files)==null?void 0:g[0];if(!f)return;const m=new FileReader;m.onload=()=>l(p=>({...p,pedigreePhoto:m.result})),m.readAsDataURL(f)}}),o.pedigreePhoto&&s.jsx("img",{src:o.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(F,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}var qx="Tabs",[BZ,hke]=us(qx,[Sx]),E3=Sx(),[zZ,FS]=BZ(qx),O3=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=wx(l),[h,f]=ji({prop:r,onChange:a,defaultProp:i??"",caller:qx});return s.jsx(zZ,{scope:n,baseId:Ma(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:s.jsx(Be.div,{dir:d,"data-orientation":o,...u,ref:t})})});O3.displayName=qx;var D3="TabsList",M3=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=FS(D3,n),o=E3(n);return s.jsx(v$,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(Be.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});M3.displayName=D3;var I3="TabsTrigger",$3=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=FS(I3,n),l=E3(n),c=F3(o.baseId,r),u=B3(o.baseId,r),d=r===o.value;return s.jsx(x$,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Be.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:_e(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:_e(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:_e(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!a&&h&&o.onValueChange(r)})})})});$3.displayName=I3;var R3="TabsContent",L3=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=FS(R3,n),c=F3(l.baseId,r),u=B3(l.baseId,r),d=r===l.value,h=b.useRef(d);return b.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(Ts,{present:a||d,children:({present:f})=>s.jsx(Be.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});L3.displayName=R3;function F3(e,t){return`${e}-trigger-${t}`}function B3(e,t){return`${e}-content-${t}`}var VZ=O3,z3=M3,V3=$3,U3=L3;const ki=VZ,Ua=b.forwardRef(({className:e,...t},n)=>s.jsx(z3,{ref:n,className:Ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ua.displayName=z3.displayName;const At=b.forwardRef(({className:e,...t},n)=>s.jsx(V3,{ref:n,className:Ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));At.displayName=V3.displayName;const kt=b.forwardRef(({className:e,...t},n)=>s.jsx(U3,{ref:n,className:Ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));kt.displayName=U3.displayName;function cr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Eo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function BS(e,t){const n=cr(e);return isNaN(t)?Eo(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const q3=6048e5,UZ=864e5;let qZ={};function Wx(){return qZ}function xf(e,t){var l,c,u,d;const n=Wx(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=cr(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Vg(e){return xf(e,{weekStartsOn:1})}function W3(e){const t=cr(e),n=t.getFullYear(),r=Eo(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=Vg(r),i=Eo(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Vg(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Ug(e){const t=cr(e);return t.setHours(0,0,0,0),t}function MP(e){const t=cr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function WZ(e,t){const n=Ug(e),r=Ug(t),a=+n-MP(n),i=+r-MP(r);return Math.round((a-i)/UZ)}function HZ(e){const t=W3(e),n=Eo(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Vg(n)}function KZ(e,t){const n=Ug(e),r=Ug(t);return+n==+r}function GZ(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function YZ(e){if(!GZ(e)&&typeof e!="number")return!1;const t=cr(e);return!isNaN(Number(t))}function QZ(e){const t=cr(e),n=Eo(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const XZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JZ=(e,t,n)=>{let r;const a=XZ[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function nu(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ZZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nee={date:nu({formats:ZZ,defaultWidth:"full"}),time:nu({formats:eee,defaultWidth:"full"}),dateTime:nu({formats:tee,defaultWidth:"full"})},ree={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},see=(e,t,n,r)=>ree[e];function Sa(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const aee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dee=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},hee={ordinalNumber:dee,era:Sa({values:aee,defaultWidth:"wide"}),quarter:Sa({values:iee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Sa({values:oee,defaultWidth:"wide"}),day:Sa({values:lee,defaultWidth:"wide"}),dayPeriod:Sa({values:cee,defaultWidth:"wide",formattingValues:uee,defaultFormattingWidth:"wide"})};function Ca(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?mee(l,h=>h.test(o)):fee(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function fee(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function mee(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function H3(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const pee=/^(\d+)(th|st|nd|rd)?/i,gee=/\d+/i,vee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xee={any:[/^b/i,/^(a|c)/i]},yee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jee={any:[/1/i,/2/i,/3/i,/4/i]},bee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},See={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_ee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pee={ordinalNumber:H3({matchPattern:pee,parsePattern:gee,valueCallback:e=>parseInt(e,10)}),era:Ca({matchPatterns:vee,defaultMatchWidth:"wide",parsePatterns:xee,defaultParseWidth:"any"}),quarter:Ca({matchPatterns:yee,defaultMatchWidth:"wide",parsePatterns:jee,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ca({matchPatterns:bee,defaultMatchWidth:"wide",parsePatterns:wee,defaultParseWidth:"any"}),day:Ca({matchPatterns:Nee,defaultMatchWidth:"wide",parsePatterns:See,defaultParseWidth:"any"}),dayPeriod:Ca({matchPatterns:Cee,defaultMatchWidth:"any",parsePatterns:_ee,defaultParseWidth:"any"})},Aee={code:"en-US",formatDistance:JZ,formatLong:nee,formatRelative:see,localize:hee,match:Pee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kee(e){const t=cr(e);return WZ(t,QZ(t))+1}function Tee(e){const t=cr(e),n=+Vg(t)-+HZ(t);return Math.round(n/q3)+1}function K3(e,t){var d,h,f,m;const n=cr(e),r=n.getFullYear(),a=Wx(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(f=a.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=Eo(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=xf(o,t),c=Eo(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=xf(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Eee(e,t){var l,c,u,d;const n=Wx(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=K3(e,t),i=Eo(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),xf(i,t)}function Oee(e,t){const n=cr(e),r=+xf(n,t)-+Eee(n,t);return Math.round(r/q3)+1}function Pt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Bi={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Pt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Pt(n+1,2)},d(e,t){return Pt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Pt(e.getHours()%12||12,t.length)},H(e,t){return Pt(e.getHours(),t.length)},m(e,t){return Pt(e.getMinutes(),t.length)},s(e,t){return Pt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Pt(a,t.length)}},Nc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},IP={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Bi.y(e,t)},Y:function(e,t,n,r){const a=K3(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Pt(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Pt(i,t.length)},R:function(e,t){const n=W3(e);return Pt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Pt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Pt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Pt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Bi.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Pt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Oee(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Pt(a,t.length)},I:function(e,t,n){const r=Tee(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Pt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Bi.d(e,t)},D:function(e,t,n){const r=kee(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Pt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Pt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Pt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Pt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Nc.noon:r===0?a=Nc.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Nc.evening:r>=12?a=Nc.afternoon:r>=4?a=Nc.morning:a=Nc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Bi.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Bi.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Pt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Pt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Bi.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Bi.s(e,t)},S:function(e,t){return Bi.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return RP(r);case"XXXX":case"XX":return el(r);case"XXXXX":case"XXX":default:return el(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return RP(r);case"xxxx":case"xx":return el(r);case"xxxxx":case"xxx":default:return el(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$P(r,":");case"OOOO":default:return"GMT"+el(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$P(r,":");case"zzzz":default:return"GMT"+el(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Pt(r,t.length)},T:function(e,t,n){const r=e.getTime();return Pt(r,t.length)}};function $P(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+Pt(i,2)}function RP(e,t){return e%60===0?(e>0?"-":"+")+Pt(Math.abs(e)/60,2):el(e,t)}function el(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Pt(Math.trunc(r/60),2),i=Pt(r%60,2);return n+a+t+i}const LP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},G3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Dee=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return LP(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",LP(r,t)).replace("{{time}}",G3(a,t))},Mee={p:G3,P:Dee},Iee=/^D+$/,$ee=/^Y+$/,Ree=["D","DD","YY","YYYY"];function Lee(e){return Iee.test(e)}function Fee(e){return $ee.test(e)}function Bee(e,t,n){const r=zee(e,t,n);if(console.warn(r),Ree.includes(e))throw new RangeError(r)}function zee(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Vee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qee=/^'([^]*?)'?$/,Wee=/''/g,Hee=/[a-zA-Z]/;function Xe(e,t,n){var d,h,f,m,g,p,v,x;const r=Wx(),a=(n==null?void 0:n.locale)??r.locale??Aee,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((x=(v=r.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=cr(e);if(!YZ(l))throw new RangeError("Invalid time value");let c=t.match(Uee).map(y=>{const j=y[0];if(j==="p"||j==="P"){const N=Mee[j];return N(y,a.formatLong)}return y}).join("").match(Vee).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const j=y[0];if(j==="'")return{isToken:!1,value:Kee(y)};if(IP[j])return{isToken:!0,value:y};if(j.match(Hee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const j=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Fee(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Lee(j))&&Bee(j,t,String(e));const N=IP[j[0]];return N(l,j,a.localize,u)}).join("")}function Kee(e){const t=e.match(qee);return t?t[1].replace(Wee,"'"):e}function Gee(e,t){const n=cr(e),r=cr(t);return n.getTime()>r.getTime()}function qg(e,t){const n=cr(e),r=cr(t);return+n<+r}function Yee({open:e,onOpenChange:t,vaccination:n}){const{confirmVaccinationReminder:r,calculateDueDateFromProtocol:a}=pt(),{toast:i}=at(),[o,l]=b.useState({datePerformed:Xe(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),c=d=>{if(d.preventDefault(),!o.veterinarian){i({title:"Erreur",description:"Le nom du vétérinaire est requis",variant:"destructive"});return}let h=o.newNextDueDate;!h&&n&&(h=a(n.vaccineName,"chien",o.datePerformed)||""),r(n.id,{datePerformed:o.datePerformed,veterinarian:o.veterinarian,batchNumber:o.batchNumber,notes:o.notes,newNextDueDate:h})&&(i({title:"Rappel confirmé",description:`Le rappel de ${n.vaccineName} a été confirmé et enregistré`}),l({datePerformed:Xe(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),t(!1))},u=d=>{l(h=>({...h,[d.target.name]:d.target.value}))};return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[500px]",children:[s.jsx(et,{children:s.jsx(tt,{children:"Confirmer le rappel de vaccination"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Vaccination à confirmer :"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:n.vaccineName})," pour ",n.petName]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Rappel prévu le : ",new Date(n.nextDueDate).toLocaleDateString("fr-FR")]})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"datePerformed",children:"Date d'administration *"}),s.jsx(Q,{id:"datePerformed",name:"datePerformed",type:"date",value:o.datePerformed,onChange:u,required:!0})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"veterinarian",children:"Vétérinaire *"}),s.jsx(Q,{id:"veterinarian",name:"veterinarian",value:o.veterinarian,onChange:u,placeholder:"Nom du vétérinaire",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"batchNumber",children:"Numéro de lot"}),s.jsx(Q,{id:"batchNumber",name:"batchNumber",value:o.batchNumber,onChange:u,placeholder:"Numéro de lot du vaccin"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"newNextDueDate",children:"Nouvelle date de rappel"}),s.jsx(Q,{id:"newNextDueDate",name:"newNextDueDate",type:"date",value:o.newNextDueDate,onChange:u,placeholder:"Date du prochain rappel"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Laissez vide pour utiliser la date calculée selon le protocole"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(qe,{id:"notes",name:"notes",value:o.notes,onChange:u,placeholder:"Notes sur l'administration du vaccin",rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(F,{type:"submit",children:"Confirmer le rappel"})]})]})]})]})}):null}var Qee=Array.isArray,qr=Qee,Xee=typeof or=="object"&&or&&or.Object===Object&&or,Y3=Xee,Jee=Y3,Zee=typeof self=="object"&&self&&self.Object===Object&&self,ete=Jee||Zee||Function("return this")(),qa=ete,tte=qa,nte=tte.Symbol,wm=nte,FP=wm,Q3=Object.prototype,rte=Q3.hasOwnProperty,ste=Q3.toString,nh=FP?FP.toStringTag:void 0;function ate(e){var t=rte.call(e,nh),n=e[nh];try{e[nh]=void 0;var r=!0}catch{}var a=ste.call(e);return r&&(t?e[nh]=n:delete e[nh]),a}var ite=ate,ote=Object.prototype,lte=ote.toString;function cte(e){return lte.call(e)}var ute=cte,BP=wm,dte=ite,hte=ute,fte="[object Null]",mte="[object Undefined]",zP=BP?BP.toStringTag:void 0;function pte(e){return e==null?e===void 0?mte:fte:zP&&zP in Object(e)?dte(e):hte(e)}var Ti=pte;function gte(e){return e!=null&&typeof e=="object"}var Ei=gte,vte=Ti,xte=Ei,yte="[object Symbol]";function jte(e){return typeof e=="symbol"||xte(e)&&vte(e)==yte}var _d=jte,bte=qr,wte=_d,Nte=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ste=/^\w*$/;function Cte(e,t){if(bte(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||wte(e)?!0:Ste.test(e)||!Nte.test(e)||t!=null&&e in Object(t)}var zS=Cte;function _te(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Vo=_te;const Pd=Ct(Vo);var Pte=Ti,Ate=Vo,kte="[object AsyncFunction]",Tte="[object Function]",Ete="[object GeneratorFunction]",Ote="[object Proxy]";function Dte(e){if(!Ate(e))return!1;var t=Pte(e);return t==Tte||t==Ete||t==kte||t==Ote}var VS=Dte;const Ue=Ct(VS);var Mte=qa,Ite=Mte["__core-js_shared__"],$te=Ite,B0=$te,VP=function(){var e=/[^.]+$/.exec(B0&&B0.keys&&B0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Rte(e){return!!VP&&VP in e}var Lte=Rte,Fte=Function.prototype,Bte=Fte.toString;function zte(e){if(e!=null){try{return Bte.call(e)}catch{}try{return e+""}catch{}}return""}var X3=zte,Vte=VS,Ute=Lte,qte=Vo,Wte=X3,Hte=/[\\^$.*+?()[\]{}|]/g,Kte=/^\[object .+?Constructor\]$/,Gte=Function.prototype,Yte=Object.prototype,Qte=Gte.toString,Xte=Yte.hasOwnProperty,Jte=RegExp("^"+Qte.call(Xte).replace(Hte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zte(e){if(!qte(e)||Ute(e))return!1;var t=Vte(e)?Jte:Kte;return t.test(Wte(e))}var ene=Zte;function tne(e,t){return e==null?void 0:e[t]}var nne=tne,rne=ene,sne=nne;function ane(e,t){var n=sne(e,t);return rne(n)?n:void 0}var ac=ane,ine=ac,one=ine(Object,"create"),Hx=one,UP=Hx;function lne(){this.__data__=UP?UP(null):{},this.size=0}var cne=lne;function une(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var dne=une,hne=Hx,fne="__lodash_hash_undefined__",mne=Object.prototype,pne=mne.hasOwnProperty;function gne(e){var t=this.__data__;if(hne){var n=t[e];return n===fne?void 0:n}return pne.call(t,e)?t[e]:void 0}var vne=gne,xne=Hx,yne=Object.prototype,jne=yne.hasOwnProperty;function bne(e){var t=this.__data__;return xne?t[e]!==void 0:jne.call(t,e)}var wne=bne,Nne=Hx,Sne="__lodash_hash_undefined__";function Cne(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nne&&t===void 0?Sne:t,this}var _ne=Cne,Pne=cne,Ane=dne,kne=vne,Tne=wne,Ene=_ne;function Ad(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ad.prototype.clear=Pne;Ad.prototype.delete=Ane;Ad.prototype.get=kne;Ad.prototype.has=Tne;Ad.prototype.set=Ene;var One=Ad;function Dne(){this.__data__=[],this.size=0}var Mne=Dne;function Ine(e,t){return e===t||e!==e&&t!==t}var US=Ine,$ne=US;function Rne(e,t){for(var n=e.length;n--;)if($ne(e[n][0],t))return n;return-1}var Kx=Rne,Lne=Kx,Fne=Array.prototype,Bne=Fne.splice;function zne(e){var t=this.__data__,n=Lne(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Bne.call(t,n,1),--this.size,!0}var Vne=zne,Une=Kx;function qne(e){var t=this.__data__,n=Une(t,e);return n<0?void 0:t[n][1]}var Wne=qne,Hne=Kx;function Kne(e){return Hne(this.__data__,e)>-1}var Gne=Kne,Yne=Kx;function Qne(e,t){var n=this.__data__,r=Yne(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Xne=Qne,Jne=Mne,Zne=Vne,ere=Wne,tre=Gne,nre=Xne;function kd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}kd.prototype.clear=Jne;kd.prototype.delete=Zne;kd.prototype.get=ere;kd.prototype.has=tre;kd.prototype.set=nre;var Gx=kd,rre=ac,sre=qa,are=rre(sre,"Map"),qS=are,qP=One,ire=Gx,ore=qS;function lre(){this.size=0,this.__data__={hash:new qP,map:new(ore||ire),string:new qP}}var cre=lre;function ure(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var dre=ure,hre=dre;function fre(e,t){var n=e.__data__;return hre(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Yx=fre,mre=Yx;function pre(e){var t=mre(this,e).delete(e);return this.size-=t?1:0,t}var gre=pre,vre=Yx;function xre(e){return vre(this,e).get(e)}var yre=xre,jre=Yx;function bre(e){return jre(this,e).has(e)}var wre=bre,Nre=Yx;function Sre(e,t){var n=Nre(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Cre=Sre,_re=cre,Pre=gre,Are=yre,kre=wre,Tre=Cre;function Td(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Td.prototype.clear=_re;Td.prototype.delete=Pre;Td.prototype.get=Are;Td.prototype.has=kre;Td.prototype.set=Tre;var WS=Td,J3=WS,Ere="Expected a function";function HS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ere);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(HS.Cache||J3),n}HS.Cache=J3;var Z3=HS;const Ore=Ct(Z3);var Dre=Z3,Mre=500;function Ire(e){var t=Dre(e,function(r){return n.size===Mre&&n.clear(),r}),n=t.cache;return t}var $re=Ire,Rre=$re,Lre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fre=/\\(\\)?/g,Bre=Rre(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Lre,function(n,r,a,i){t.push(a?i.replace(Fre,"$1"):r||n)}),t}),zre=Bre;function Vre(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var KS=Vre,WP=wm,Ure=KS,qre=qr,Wre=_d,Hre=1/0,HP=WP?WP.prototype:void 0,KP=HP?HP.toString:void 0;function eL(e){if(typeof e=="string")return e;if(qre(e))return Ure(e,eL)+"";if(Wre(e))return KP?KP.call(e):"";var t=e+"";return t=="0"&&1/e==-Hre?"-0":t}var Kre=eL,Gre=Kre;function Yre(e){return e==null?"":Gre(e)}var tL=Yre,Qre=qr,Xre=zS,Jre=zre,Zre=tL;function ese(e,t){return Qre(e)?e:Xre(e,t)?[e]:Jre(Zre(e))}var nL=ese,tse=_d,nse=1/0;function rse(e){if(typeof e=="string"||tse(e))return e;var t=e+"";return t=="0"&&1/e==-nse?"-0":t}var Qx=rse,sse=nL,ase=Qx;function ise(e,t){t=sse(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ase(t[n++])];return n&&n==r?e:void 0}var GS=ise,ose=GS;function lse(e,t,n){var r=e==null?void 0:ose(e,t);return r===void 0?n:r}var rL=lse;const as=Ct(rL);function cse(e){return e==null}var use=cse;const Ke=Ct(use);var dse=Ti,hse=qr,fse=Ei,mse="[object String]";function pse(e){return typeof e=="string"||!hse(e)&&fse(e)&&dse(e)==mse}var gse=pse;const Ul=Ct(gse);var sL={exports:{}},Et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YS=Symbol.for("react.element"),QS=Symbol.for("react.portal"),Xx=Symbol.for("react.fragment"),Jx=Symbol.for("react.strict_mode"),Zx=Symbol.for("react.profiler"),ey=Symbol.for("react.provider"),ty=Symbol.for("react.context"),vse=Symbol.for("react.server_context"),ny=Symbol.for("react.forward_ref"),ry=Symbol.for("react.suspense"),sy=Symbol.for("react.suspense_list"),ay=Symbol.for("react.memo"),iy=Symbol.for("react.lazy"),xse=Symbol.for("react.offscreen"),aL;aL=Symbol.for("react.module.reference");function Es(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case YS:switch(e=e.type,e){case Xx:case Zx:case Jx:case ry:case sy:return e;default:switch(e=e&&e.$$typeof,e){case vse:case ty:case ny:case iy:case ay:case ey:return e;default:return t}}case QS:return t}}}Et.ContextConsumer=ty;Et.ContextProvider=ey;Et.Element=YS;Et.ForwardRef=ny;Et.Fragment=Xx;Et.Lazy=iy;Et.Memo=ay;Et.Portal=QS;Et.Profiler=Zx;Et.StrictMode=Jx;Et.Suspense=ry;Et.SuspenseList=sy;Et.isAsyncMode=function(){return!1};Et.isConcurrentMode=function(){return!1};Et.isContextConsumer=function(e){return Es(e)===ty};Et.isContextProvider=function(e){return Es(e)===ey};Et.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===YS};Et.isForwardRef=function(e){return Es(e)===ny};Et.isFragment=function(e){return Es(e)===Xx};Et.isLazy=function(e){return Es(e)===iy};Et.isMemo=function(e){return Es(e)===ay};Et.isPortal=function(e){return Es(e)===QS};Et.isProfiler=function(e){return Es(e)===Zx};Et.isStrictMode=function(e){return Es(e)===Jx};Et.isSuspense=function(e){return Es(e)===ry};Et.isSuspenseList=function(e){return Es(e)===sy};Et.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xx||e===Zx||e===Jx||e===ry||e===sy||e===xse||typeof e=="object"&&e!==null&&(e.$$typeof===iy||e.$$typeof===ay||e.$$typeof===ey||e.$$typeof===ty||e.$$typeof===ny||e.$$typeof===aL||e.getModuleId!==void 0)};Et.typeOf=Es;sL.exports=Et;var yse=sL.exports,jse=Ti,bse=Ei,wse="[object Number]";function Nse(e){return typeof e=="number"||bse(e)&&jse(e)==wse}var iL=Nse;const Sse=Ct(iL);var Cse=iL;function _se(e){return Cse(e)&&e!=+e}var Pse=_se;const Ed=Ct(Pse);var xr=function(t){return t===0?0:t>0?1:-1},dl=function(t){return Ul(t)&&t.indexOf("%")===t.length-1},ge=function(t){return Sse(t)&&!Ed(t)},Ase=function(t){return Ke(t)},Mn=function(t){return ge(t)||Ul(t)},kse=0,ic=function(t){var n=++kse;return"".concat(t||"").concat(n)},yr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(t)&&!Ul(t))return r;var i;if(dl(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Ed(i)&&(i=r),a&&i>n&&(i=n),i},Ji=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Tse=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},En=function(t,n){return ge(t)&&ge(n)?function(r){return t+r*(n-t)}:function(){return n}};function Wg(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):as(r,t))===n})}var Ese=function(t,n){return ge(t)&&ge(n)?t-n:Ul(t)&&Ul(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function ru(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function uw(e){"@babel/helpers - typeof";return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uw(e)}var Ose=["viewBox","children"],Dse=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GP=["points","pathLength"],z0={svg:Ose,polygon:GP,polyline:GP},XS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hg=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(b.isValidElement(t)&&(r=t.props),!Pd(r))return null;var a={};return Object.keys(r).forEach(function(i){XS.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},Mse=function(t,n,r){return function(a){return t(n,r,a),null}},ql=function(t,n,r){if(!Pd(t)||uw(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];XS.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Mse(o,n,r))}),a},Ise=["children"],$se=["children"];function YP(e,t){if(e==null)return{};var n=Rse(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Rse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function dw(e){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dw(e)}var QP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},XP=null,V0=null,JS=function e(t){if(t===XP&&Array.isArray(V0))return V0;var n=[];return b.Children.forEach(t,function(r){Ke(r)||(yse.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),V0=n,XP=t,n};function is(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return fi(a)}):r=[fi(t)],JS(e).forEach(function(a){var i=as(a,"type.displayName")||as(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function Jr(e,t){var n=is(e,t);return n&&n[0]}var JP=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!ge(r)||r<=0||!ge(a)||a<=0)},Lse=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Fse=function(t){return t&&t.type&&Ul(t.type)&&Lse.indexOf(t.type)>=0},oL=function(t){return t&&dw(t)==="object"&&"clipDot"in t},Bse=function(t,n,r,a){var i,o=(i=z0==null?void 0:z0[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Ue(t)&&(a&&o.includes(n)||Dse.includes(n))||r&&XS.includes(n)},Le=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(b.isValidElement(t)&&(a=t.props),!Pd(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Bse((l=a)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=a[o])}),i},hw=function e(t,n){if(t===n)return!0;var r=b.Children.count(t);if(r!==b.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ZP(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!ZP(i,o))return!1}return!0},ZP=function(t,n){if(Ke(t)&&Ke(n))return!0;if(!Ke(t)&&!Ke(n)){var r=t.props||{},a=r.children,i=YP(r,Ise),o=n.props||{},l=o.children,c=YP(o,$se);return a&&l?ru(i,c)&&hw(a,l):!a&&!l?ru(i,c):!1}return!1},eA=function(t,n){var r=[],a={};return JS(t).forEach(function(i,o){if(Fse(i))r.push(i);else if(i){var l=fi(i.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var h=u(i,l,o);r.push(h),a[l]=!0}}}),r},zse=function(t){var n=t&&t.type;return n&&QP[n]?QP[n]:null},Vse=function(t,n){return JS(n).indexOf(t)},Use=["children","width","height","viewBox","className","style","title","desc"];function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fw.apply(this,arguments)}function qse(e,t){if(e==null)return{};var n=Wse(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function mw(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=qse(e,Use),d=a||{width:n,height:r,x:0,y:0},h=Je("recharts-surface",i);return $.createElement("svg",fw({},Le(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),$.createElement("title",null,l),$.createElement("desc",null,c),t)}var Hse=["children","className"];function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pw.apply(this,arguments)}function Kse(e,t){if(e==null)return{};var n=Gse(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ft=$.forwardRef(function(e,t){var n=e.children,r=e.className,a=Kse(e,Hse),i=Je("recharts-layer",r);return $.createElement("g",pw({className:i},Le(a,!0),{ref:t}),n)}),ea=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]};function Yse(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var Qse=Yse,Xse=Qse;function Jse(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Xse(e,t,n)}var Zse=Jse,eae="\\ud800-\\udfff",tae="\\u0300-\\u036f",nae="\\ufe20-\\ufe2f",rae="\\u20d0-\\u20ff",sae=tae+nae+rae,aae="\\ufe0e\\ufe0f",iae="\\u200d",oae=RegExp("["+iae+eae+sae+aae+"]");function lae(e){return oae.test(e)}var lL=lae;function cae(e){return e.split("")}var uae=cae,cL="\\ud800-\\udfff",dae="\\u0300-\\u036f",hae="\\ufe20-\\ufe2f",fae="\\u20d0-\\u20ff",mae=dae+hae+fae,pae="\\ufe0e\\ufe0f",gae="["+cL+"]",gw="["+mae+"]",vw="\\ud83c[\\udffb-\\udfff]",vae="(?:"+gw+"|"+vw+")",uL="[^"+cL+"]",dL="(?:\\ud83c[\\udde6-\\uddff]){2}",hL="[\\ud800-\\udbff][\\udc00-\\udfff]",xae="\\u200d",fL=vae+"?",mL="["+pae+"]?",yae="(?:"+xae+"(?:"+[uL,dL,hL].join("|")+")"+mL+fL+")*",jae=mL+fL+yae,bae="(?:"+[uL+gw+"?",gw,dL,hL,gae].join("|")+")",wae=RegExp(vw+"(?="+vw+")|"+bae+jae,"g");function Nae(e){return e.match(wae)||[]}var Sae=Nae,Cae=uae,_ae=lL,Pae=Sae;function Aae(e){return _ae(e)?Pae(e):Cae(e)}var kae=Aae,Tae=Zse,Eae=lL,Oae=kae,Dae=tL;function Mae(e){return function(t){t=Dae(t);var n=Eae(t)?Oae(t):void 0,r=n?n[0]:t.charAt(0),a=n?Tae(n,1).join(""):t.slice(1);return r[e]()+a}}var Iae=Mae,$ae=Iae,Rae=$ae("toUpperCase"),Lae=Rae;const oy=Ct(Lae);function Ut(e){return function(){return e}}const pL=Math.cos,Kg=Math.sin,da=Math.sqrt,Gg=Math.PI,ly=2*Gg,xw=Math.PI,yw=2*xw,tl=1e-6,Fae=yw-tl;function gL(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Bae(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gL;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class zae{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gL:Bae(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,d=o-t,h=l-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>tl)if(!(Math.abs(h*c-u*d)>tl)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,g=a-l,p=c*c+u*u,v=m*m+g*g,x=Math.sqrt(p),y=Math.sqrt(f),j=i*Math.tan((xw-Math.acos((p+f-v)/(2*x*y)))/2),N=j/y,w=j/x;Math.abs(N-1)>tl&&this._append`L${t+N*d},${n+N*h}`,this._append`A${i},${i},0,0,${+(h*m>d*g)},${this._x1=t+w*c},${this._y1=n+w*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,d=n+c,h=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>tl||Math.abs(this._y1-d)>tl)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%yw+yw),f>Fae?this._append`A${r},${r},0,1,${h},${t-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:f>tl&&this._append`A${r},${r},0,${+(f>=xw)},${h},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function ZS(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new zae(t)}function e2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vL(e){this._context=e}vL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cy(e){return new vL(e)}function xL(e){return e[0]}function yL(e){return e[1]}function jL(e,t){var n=Ut(!0),r=null,a=cy,i=null,o=ZS(l);e=typeof e=="function"?e:e===void 0?xL:Ut(e),t=typeof t=="function"?t:t===void 0?yL:Ut(t);function l(c){var u,d=(c=e2(c)).length,h,f=!1,m;for(r==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&n(h=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(h,u,c),+t(h,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ut(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ut(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ut(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),l):r},l}function yp(e,t,n){var r=null,a=Ut(!0),i=null,o=cy,l=null,c=ZS(u);e=typeof e=="function"?e:e===void 0?xL:Ut(+e),t=typeof t=="function"?t:Ut(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?yL:Ut(+n);function u(h){var f,m,g,p=(h=e2(h)).length,v,x=!1,y,j=new Array(p),N=new Array(p);for(i==null&&(l=o(y=c())),f=0;f<=p;++f){if(!(f<p&&a(v=h[f],f,h))===x)if(x=!x)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=m;--g)l.point(j[g],N[g]);l.lineEnd(),l.areaEnd()}x&&(j[f]=+e(v,f,h),N[f]=+t(v,f,h),l.point(r?+r(v,f,h):j[f],n?+n(v,f,h):N[f]))}if(y)return l=null,y+""||null}function d(){return jL().defined(a).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Ut(+h),r=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Ut(+h),u):e},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ut(+h),u):r},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:Ut(+h),n=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Ut(+h),u):t},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ut(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Ut(!!h),u):a},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class bL{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Vae(e){return new bL(e,!0)}function Uae(e){return new bL(e,!1)}const t2={draw(e,t){const n=da(t/Gg);e.moveTo(n,0),e.arc(0,0,n,0,ly)}},qae={draw(e,t){const n=da(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},wL=da(1/3),Wae=wL*2,Hae={draw(e,t){const n=da(t/Wae),r=n*wL;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Kae={draw(e,t){const n=da(t),r=-n/2;e.rect(r,r,n,n)}},Gae=.8908130915292852,NL=Kg(Gg/10)/Kg(7*Gg/10),Yae=Kg(ly/10)*NL,Qae=-pL(ly/10)*NL,Xae={draw(e,t){const n=da(t*Gae),r=Yae*n,a=Qae*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=ly*i/5,l=pL(o),c=Kg(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},U0=da(3),Jae={draw(e,t){const n=-da(t/(U0*3));e.moveTo(0,n*2),e.lineTo(-U0*n,-n),e.lineTo(U0*n,-n),e.closePath()}},ms=-.5,ps=da(3)/2,jw=1/da(12),Zae=(jw/2+1)*3,eie={draw(e,t){const n=da(t/Zae),r=n/2,a=n*jw,i=r,o=n*jw+n,l=-i,c=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ms*r-ps*a,ps*r+ms*a),e.lineTo(ms*i-ps*o,ps*i+ms*o),e.lineTo(ms*l-ps*c,ps*l+ms*c),e.lineTo(ms*r+ps*a,ms*a-ps*r),e.lineTo(ms*i+ps*o,ms*o-ps*i),e.lineTo(ms*l+ps*c,ms*c-ps*l),e.closePath()}};function tie(e,t){let n=null,r=ZS(a);e=typeof e=="function"?e:Ut(e||t2),t=typeof t=="function"?t:Ut(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ut(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ut(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Yg(){}function Qg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function SL(e){this._context=e}SL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nie(e){return new SL(e)}function CL(e){this._context=e}CL.prototype={areaStart:Yg,areaEnd:Yg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rie(e){return new CL(e)}function _L(e){this._context=e}_L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Qg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sie(e){return new _L(e)}function PL(e){this._context=e}PL.prototype={areaStart:Yg,areaEnd:Yg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function aie(e){return new PL(e)}function tA(e){return e<0?-1:1}function nA(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(tA(i)+tA(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function rA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function q0(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function Xg(e){this._context=e}Xg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:q0(this,this._t0,rA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,q0(this,rA(this,n=nA(this,e,t)),n);break;default:q0(this,this._t0,n=nA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function AL(e){this._context=new kL(e)}(AL.prototype=Object.create(Xg.prototype)).point=function(e,t){Xg.prototype.point.call(this,t,e)};function kL(e){this._context=e}kL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function iie(e){return new Xg(e)}function oie(e){return new AL(e)}function TL(e){this._context=e}TL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=sA(e),a=sA(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function sA(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function lie(e){return new TL(e)}function uy(e,t){this._context=e,this._t=t}uy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function cie(e){return new uy(e,.5)}function uie(e){return new uy(e,0)}function die(e){return new uy(e,1)}function $u(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function bw(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function hie(e,t){return e[t]}function fie(e){const t=[];return t.key=e,t}function mie(){var e=Ut([]),t=bw,n=$u,r=hie;function a(i){var o=Array.from(e.apply(this,arguments),fie),l,c=o.length,u=-1,d;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(h,o[l].key,u,i)]).data=h;for(l=0,d=e2(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ut(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Ut(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?bw:typeof i=="function"?i:Ut(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??$u,a):n},a}function pie(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}$u(e,t)}}function gie(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}$u(e,t)}}function vie(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],h=d[r][1]||0,f=d[r-1][1]||0,m=(h-f)/2,g=0;g<l;++g){var p=e[t[g]],v=p[r][1]||0,x=p[r-1][1]||0;m+=v-x}c+=h,u+=m*h}a[r-1][1]+=a[r-1][0]=n,c&&(n-=u/c)}a[r-1][1]+=a[r-1][0]=n,$u(e,t)}}function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}var xie=["type","size","sizeType"];function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ww.apply(this,arguments)}function aA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function iA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(n),!0).forEach(function(r){yie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yie(e,t,n){return t=jie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jie(e){var t=bie(e,"string");return yf(t)=="symbol"?t:t+""}function bie(e,t){if(yf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wie(e,t){if(e==null)return{};var n=Nie(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var EL={symbolCircle:t2,symbolCross:qae,symbolDiamond:Hae,symbolSquare:Kae,symbolStar:Xae,symbolTriangle:Jae,symbolWye:eie},Sie=Math.PI/180,Cie=function(t){var n="symbol".concat(oy(t));return EL[n]||t2},_ie=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Sie;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Pie=function(t,n){EL["symbol".concat(oy(t))]=n},n2=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=wie(t,xie),u=iA(iA({},c),{},{type:r,size:i,sizeType:l}),d=function(){var v=Cie(r),x=tie().type(v).size(_ie(i,l,r));return x()},h=u.className,f=u.cx,m=u.cy,g=Le(u,!0);return f===+f&&m===+m&&i===+i?$.createElement("path",ww({},g,{className:Je("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(m,")"),d:d()})):null};n2.registerSymbol=Pie;function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nw.apply(this,arguments)}function oA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Aie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(n),!0).forEach(function(r){jf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DL(r.key),r)}}function Eie(e,t,n){return t&&Tie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oie(e,t,n){return t=Jg(t),Die(e,OL()?Reflect.construct(t,n||[],Jg(e).constructor):t.apply(e,n))}function Die(e,t){if(t&&(Ru(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mie(e)}function Mie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OL=function(){return!!e})()}function Jg(e){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jg(e)}function Iie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sw(e,t)}function Sw(e,t){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Sw(e,t)}function jf(e,t,n){return t=DL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DL(e){var t=$ie(e,"string");return Ru(t)=="symbol"?t:t+""}function $ie(e,t){if(Ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gs=32,r2=function(e){function t(){return kie(this,t),Oie(this,t,arguments)}return Iie(t,e),Eie(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=gs/2,o=gs/6,l=gs/3,c=r.inactive?a:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:gs,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(gs,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(gs/8,"h").concat(gs,"v").concat(gs*3/4,"h").concat(-gs,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var u=Aie({},r);return delete u.legendIcon,$.cloneElement(r.legendIcon,u)}return $.createElement(n2,{fill:c,cx:i,cy:i,size:gs,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:gs,height:gs},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,v=Je(jf(jf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=Ue(m.value)?null:m.value;ea(!Ue(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return $.createElement("li",Nw({className:v,style:h,key:"legend-item-".concat(g)},ql(r.props,m,g)),$.createElement(mw,{width:o,height:o,viewBox:d,style:f},r.renderIcon(m)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(x,m,g):x))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);jf(r2,"displayName","Legend");jf(r2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Rie=Gx;function Lie(){this.__data__=new Rie,this.size=0}var Fie=Lie;function Bie(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var zie=Bie;function Vie(e){return this.__data__.get(e)}var Uie=Vie;function qie(e){return this.__data__.has(e)}var Wie=qie,Hie=Gx,Kie=qS,Gie=WS,Yie=200;function Qie(e,t){var n=this.__data__;if(n instanceof Hie){var r=n.__data__;if(!Kie||r.length<Yie-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gie(r)}return n.set(e,t),this.size=n.size,this}var Xie=Qie,Jie=Gx,Zie=Fie,eoe=zie,toe=Uie,noe=Wie,roe=Xie;function Od(e){var t=this.__data__=new Jie(e);this.size=t.size}Od.prototype.clear=Zie;Od.prototype.delete=eoe;Od.prototype.get=toe;Od.prototype.has=noe;Od.prototype.set=roe;var ML=Od,soe="__lodash_hash_undefined__";function aoe(e){return this.__data__.set(e,soe),this}var ioe=aoe;function ooe(e){return this.__data__.has(e)}var loe=ooe,coe=WS,uoe=ioe,doe=loe;function Zg(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new coe;++t<n;)this.add(e[t])}Zg.prototype.add=Zg.prototype.push=uoe;Zg.prototype.has=doe;var IL=Zg;function hoe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var $L=hoe;function foe(e,t){return e.has(t)}var RL=foe,moe=IL,poe=$L,goe=RL,voe=1,xoe=2;function yoe(e,t,n,r,a,i){var o=n&voe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,m=n&xoe?new moe:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var g=e[h],p=t[h];if(r)var v=o?r(p,g,h,t,e,i):r(g,p,h,e,t,i);if(v!==void 0){if(v)continue;f=!1;break}if(m){if(!poe(t,function(x,y){if(!goe(m,y)&&(g===x||a(g,x,n,r,i)))return m.push(y)})){f=!1;break}}else if(!(g===p||a(g,p,n,r,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var LL=yoe,joe=qa,boe=joe.Uint8Array,woe=boe;function Noe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var Soe=Noe;function Coe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var s2=Coe,lA=wm,cA=woe,_oe=US,Poe=LL,Aoe=Soe,koe=s2,Toe=1,Eoe=2,Ooe="[object Boolean]",Doe="[object Date]",Moe="[object Error]",Ioe="[object Map]",$oe="[object Number]",Roe="[object RegExp]",Loe="[object Set]",Foe="[object String]",Boe="[object Symbol]",zoe="[object ArrayBuffer]",Voe="[object DataView]",uA=lA?lA.prototype:void 0,W0=uA?uA.valueOf:void 0;function Uoe(e,t,n,r,a,i,o){switch(n){case Voe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case zoe:return!(e.byteLength!=t.byteLength||!i(new cA(e),new cA(t)));case Ooe:case Doe:case $oe:return _oe(+e,+t);case Moe:return e.name==t.name&&e.message==t.message;case Roe:case Foe:return e==t+"";case Ioe:var l=Aoe;case Loe:var c=r&Toe;if(l||(l=koe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=Eoe,o.set(e,t);var d=Poe(l(e),l(t),r,a,i,o);return o.delete(e),d;case Boe:if(W0)return W0.call(e)==W0.call(t)}return!1}var qoe=Uoe;function Woe(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var FL=Woe,Hoe=FL,Koe=qr;function Goe(e,t,n){var r=t(e);return Koe(e)?r:Hoe(r,n(e))}var Yoe=Goe;function Qoe(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var Xoe=Qoe;function Joe(){return[]}var Zoe=Joe,ele=Xoe,tle=Zoe,nle=Object.prototype,rle=nle.propertyIsEnumerable,dA=Object.getOwnPropertySymbols,sle=dA?function(e){return e==null?[]:(e=Object(e),ele(dA(e),function(t){return rle.call(e,t)}))}:tle,ale=sle;function ile(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var ole=ile,lle=Ti,cle=Ei,ule="[object Arguments]";function dle(e){return cle(e)&&lle(e)==ule}var hle=dle,hA=hle,fle=Ei,BL=Object.prototype,mle=BL.hasOwnProperty,ple=BL.propertyIsEnumerable,gle=hA(function(){return arguments}())?hA:function(e){return fle(e)&&mle.call(e,"callee")&&!ple.call(e,"callee")},a2=gle,ev={exports:{}};function vle(){return!1}var xle=vle;ev.exports;(function(e,t){var n=qa,r=xle,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(ev,ev.exports);var zL=ev.exports,yle=9007199254740991,jle=/^(?:0|[1-9]\d*)$/;function ble(e,t){var n=typeof e;return t=t??yle,!!t&&(n=="number"||n!="symbol"&&jle.test(e))&&e>-1&&e%1==0&&e<t}var i2=ble,wle=9007199254740991;function Nle(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wle}var o2=Nle,Sle=Ti,Cle=o2,_le=Ei,Ple="[object Arguments]",Ale="[object Array]",kle="[object Boolean]",Tle="[object Date]",Ele="[object Error]",Ole="[object Function]",Dle="[object Map]",Mle="[object Number]",Ile="[object Object]",$le="[object RegExp]",Rle="[object Set]",Lle="[object String]",Fle="[object WeakMap]",Ble="[object ArrayBuffer]",zle="[object DataView]",Vle="[object Float32Array]",Ule="[object Float64Array]",qle="[object Int8Array]",Wle="[object Int16Array]",Hle="[object Int32Array]",Kle="[object Uint8Array]",Gle="[object Uint8ClampedArray]",Yle="[object Uint16Array]",Qle="[object Uint32Array]",Yt={};Yt[Vle]=Yt[Ule]=Yt[qle]=Yt[Wle]=Yt[Hle]=Yt[Kle]=Yt[Gle]=Yt[Yle]=Yt[Qle]=!0;Yt[Ple]=Yt[Ale]=Yt[Ble]=Yt[kle]=Yt[zle]=Yt[Tle]=Yt[Ele]=Yt[Ole]=Yt[Dle]=Yt[Mle]=Yt[Ile]=Yt[$le]=Yt[Rle]=Yt[Lle]=Yt[Fle]=!1;function Xle(e){return _le(e)&&Cle(e.length)&&!!Yt[Sle(e)]}var Jle=Xle;function Zle(e){return function(t){return e(t)}}var VL=Zle,tv={exports:{}};tv.exports;(function(e,t){var n=Y3,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(tv,tv.exports);var ece=tv.exports,tce=Jle,nce=VL,fA=ece,mA=fA&&fA.isTypedArray,rce=mA?nce(mA):tce,UL=rce,sce=ole,ace=a2,ice=qr,oce=zL,lce=i2,cce=UL,uce=Object.prototype,dce=uce.hasOwnProperty;function hce(e,t){var n=ice(e),r=!n&&ace(e),a=!n&&!r&&oce(e),i=!n&&!r&&!a&&cce(e),o=n||r||a||i,l=o?sce(e.length,String):[],c=l.length;for(var u in e)(t||dce.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||lce(u,c)))&&l.push(u);return l}var fce=hce,mce=Object.prototype;function pce(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||mce;return e===n}var gce=pce;function vce(e,t){return function(n){return e(t(n))}}var qL=vce,xce=qL,yce=xce(Object.keys,Object),jce=yce,bce=gce,wce=jce,Nce=Object.prototype,Sce=Nce.hasOwnProperty;function Cce(e){if(!bce(e))return wce(e);var t=[];for(var n in Object(e))Sce.call(e,n)&&n!="constructor"&&t.push(n);return t}var _ce=Cce,Pce=VS,Ace=o2;function kce(e){return e!=null&&Ace(e.length)&&!Pce(e)}var Nm=kce,Tce=fce,Ece=_ce,Oce=Nm;function Dce(e){return Oce(e)?Tce(e):Ece(e)}var dy=Dce,Mce=Yoe,Ice=ale,$ce=dy;function Rce(e){return Mce(e,$ce,Ice)}var Lce=Rce,pA=Lce,Fce=1,Bce=Object.prototype,zce=Bce.hasOwnProperty;function Vce(e,t,n,r,a,i){var o=n&Fce,l=pA(e),c=l.length,u=pA(t),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in t:zce.call(t,f)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=o;++h<c;){f=l[h];var x=e[f],y=t[f];if(r)var j=o?r(y,x,f,t,e,i):r(x,y,f,e,t,i);if(!(j===void 0?x===y||a(x,y,n,r,i):j)){p=!1;break}v||(v=f=="constructor")}if(p&&!v){var N=e.constructor,w=t.constructor;N!=w&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof w=="function"&&w instanceof w)&&(p=!1)}return i.delete(e),i.delete(t),p}var Uce=Vce,qce=ac,Wce=qa,Hce=qce(Wce,"DataView"),Kce=Hce,Gce=ac,Yce=qa,Qce=Gce(Yce,"Promise"),Xce=Qce,Jce=ac,Zce=qa,eue=Jce(Zce,"Set"),WL=eue,tue=ac,nue=qa,rue=tue(nue,"WeakMap"),sue=rue,Cw=Kce,_w=qS,Pw=Xce,Aw=WL,kw=sue,HL=Ti,Dd=X3,gA="[object Map]",aue="[object Object]",vA="[object Promise]",xA="[object Set]",yA="[object WeakMap]",jA="[object DataView]",iue=Dd(Cw),oue=Dd(_w),lue=Dd(Pw),cue=Dd(Aw),uue=Dd(kw),nl=HL;(Cw&&nl(new Cw(new ArrayBuffer(1)))!=jA||_w&&nl(new _w)!=gA||Pw&&nl(Pw.resolve())!=vA||Aw&&nl(new Aw)!=xA||kw&&nl(new kw)!=yA)&&(nl=function(e){var t=HL(e),n=t==aue?e.constructor:void 0,r=n?Dd(n):"";if(r)switch(r){case iue:return jA;case oue:return gA;case lue:return vA;case cue:return xA;case uue:return yA}return t});var due=nl,H0=ML,hue=LL,fue=qoe,mue=Uce,bA=due,wA=qr,NA=zL,pue=UL,gue=1,SA="[object Arguments]",CA="[object Array]",jp="[object Object]",vue=Object.prototype,_A=vue.hasOwnProperty;function xue(e,t,n,r,a,i){var o=wA(e),l=wA(t),c=o?CA:bA(e),u=l?CA:bA(t);c=c==SA?jp:c,u=u==SA?jp:u;var d=c==jp,h=u==jp,f=c==u;if(f&&NA(e)){if(!NA(t))return!1;o=!0,d=!1}if(f&&!d)return i||(i=new H0),o||pue(e)?hue(e,t,n,r,a,i):fue(e,t,c,n,r,a,i);if(!(n&gue)){var m=d&&_A.call(e,"__wrapped__"),g=h&&_A.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return i||(i=new H0),a(p,v,n,r,i)}}return f?(i||(i=new H0),mue(e,t,n,r,a,i)):!1}var yue=xue,jue=yue,PA=Ei;function KL(e,t,n,r,a){return e===t?!0:e==null||t==null||!PA(e)&&!PA(t)?e!==e&&t!==t:jue(e,t,n,r,KL,a)}var l2=KL,bue=ML,wue=l2,Nue=1,Sue=2;function Cue(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var h=new bue;if(r)var f=r(u,d,c,e,t,h);if(!(f===void 0?wue(d,u,Nue|Sue,r,h):f))return!1}}return!0}var _ue=Cue,Pue=Vo;function Aue(e){return e===e&&!Pue(e)}var GL=Aue,kue=GL,Tue=dy;function Eue(e){for(var t=Tue(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,kue(a)]}return t}var Oue=Eue;function Due(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var YL=Due,Mue=_ue,Iue=Oue,$ue=YL;function Rue(e){var t=Iue(e);return t.length==1&&t[0][2]?$ue(t[0][0],t[0][1]):function(n){return n===e||Mue(n,e,t)}}var Lue=Rue;function Fue(e,t){return e!=null&&t in Object(e)}var Bue=Fue,zue=nL,Vue=a2,Uue=qr,que=i2,Wue=o2,Hue=Qx;function Kue(e,t,n){t=zue(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=Hue(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&Wue(a)&&que(o,a)&&(Uue(e)||Vue(e)))}var Gue=Kue,Yue=Bue,Que=Gue;function Xue(e,t){return e!=null&&Que(e,t,Yue)}var Jue=Xue,Zue=l2,ede=rL,tde=Jue,nde=zS,rde=GL,sde=YL,ade=Qx,ide=1,ode=2;function lde(e,t){return nde(e)&&rde(t)?sde(ade(e),t):function(n){var r=ede(n,e);return r===void 0&&r===t?tde(n,e):Zue(t,r,ide|ode)}}var cde=lde;function ude(e){return e}var Md=ude;function dde(e){return function(t){return t==null?void 0:t[e]}}var hde=dde,fde=GS;function mde(e){return function(t){return fde(t,e)}}var pde=mde,gde=hde,vde=pde,xde=zS,yde=Qx;function jde(e){return xde(e)?gde(yde(e)):vde(e)}var bde=jde,wde=Lue,Nde=cde,Sde=Md,Cde=qr,_de=bde;function Pde(e){return typeof e=="function"?e:e==null?Sde:typeof e=="object"?Cde(e)?Nde(e[0],e[1]):wde(e):_de(e)}var Wa=Pde;function Ade(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var QL=Ade;function kde(e){return e!==e}var Tde=kde;function Ede(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var Ode=Ede,Dde=QL,Mde=Tde,Ide=Ode;function $de(e,t,n){return t===t?Ide(e,t,n):Dde(e,Mde,n)}var Rde=$de,Lde=Rde;function Fde(e,t){var n=e==null?0:e.length;return!!n&&Lde(e,t,0)>-1}var Bde=Fde;function zde(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var Vde=zde;function Ude(){}var qde=Ude,K0=WL,Wde=qde,Hde=s2,Kde=1/0,Gde=K0&&1/Hde(new K0([,-0]))[1]==Kde?function(e){return new K0(e)}:Wde,Yde=Gde,Qde=IL,Xde=Bde,Jde=Vde,Zde=RL,ehe=Yde,the=s2,nhe=200;function rhe(e,t,n){var r=-1,a=Xde,i=e.length,o=!0,l=[],c=l;if(n)o=!1,a=Jde;else if(i>=nhe){var u=t?null:ehe(e);if(u)return the(u);o=!1,a=Zde,c=new Qde}else c=t?[]:l;e:for(;++r<i;){var d=e[r],h=t?t(d):d;if(d=n||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),l.push(d)}else a(c,h,n)||(c!==l&&c.push(h),l.push(d))}return l}var she=rhe,ahe=Wa,ihe=she;function ohe(e,t){return e&&e.length?ihe(e,ahe(t)):[]}var lhe=ohe;const AA=Ct(lhe);function XL(e,t,n){return t===!0?AA(e,n):Ue(t)?AA(e,t):e}function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}var che=["ref"];function kA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(n),!0).forEach(function(r){hy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZL(r.key),r)}}function dhe(e,t,n){return t&&TA(e.prototype,t),n&&TA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hhe(e,t,n){return t=nv(t),fhe(e,JL()?Reflect.construct(t,n||[],nv(e).constructor):t.apply(e,n))}function fhe(e,t){if(t&&(Lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mhe(e)}function mhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JL=function(){return!!e})()}function nv(e){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nv(e)}function phe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tw(e,t)}function Tw(e,t){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Tw(e,t)}function hy(e,t,n){return t=ZL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZL(e){var t=ghe(e,"string");return Lu(t)=="symbol"?t:t+""}function ghe(e,t){if(Lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vhe(e,t){if(e==null)return{};var n=xhe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xhe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yhe(e){return e.value}function jhe(e,t){if($.isValidElement(e))return $.cloneElement(e,t);if(typeof e=="function")return $.createElement(e,t);t.ref;var n=vhe(t,che);return $.createElement(r2,n)}var EA=1,su=function(e){function t(){var n;uhe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=hhe(this,t,[].concat(a)),hy(n,"lastBoundingBox",{width:-1,height:-1}),n}return phe(t,e),dhe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>EA||Math.abs(a.height-this.lastBoundingBox.height)>EA)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ya({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,h,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();h={left:((u||0)-m.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();f={top:((d||0)-g.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ya(Ya({},h),f)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,h=Ya(Ya({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return $.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){r.wrapperNode=m}},jhe(i,Ya(Ya({},this.props),{},{payload:XL(d,u,yhe)})))}}],[{key:"getWithHeight",value:function(r,a){var i=Ya(Ya({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&ge(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])}(b.PureComponent);hy(su,"displayName","Legend");hy(su,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var OA=wm,bhe=a2,whe=qr,DA=OA?OA.isConcatSpreadable:void 0;function Nhe(e){return whe(e)||bhe(e)||!!(DA&&e&&e[DA])}var She=Nhe,Che=FL,_he=She;function eF(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=_he),a||(a=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?eF(l,t-1,n,r,a):Che(a,l):r||(a[a.length]=l)}return a}var tF=eF;function Phe(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++a];if(n(i[c],c,i)===!1)break}return t}}var Ahe=Phe,khe=Ahe,The=khe(),Ehe=The,Ohe=Ehe,Dhe=dy;function Mhe(e,t){return e&&Ohe(e,t,Dhe)}var nF=Mhe,Ihe=Nm;function $he(e,t){return function(n,r){if(n==null)return n;if(!Ihe(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var Rhe=$he,Lhe=nF,Fhe=Rhe,Bhe=Fhe(Lhe),c2=Bhe,zhe=c2,Vhe=Nm;function Uhe(e,t){var n=-1,r=Vhe(e)?Array(e.length):[];return zhe(e,function(a,i,o){r[++n]=t(a,i,o)}),r}var rF=Uhe;function qhe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Whe=qhe,MA=_d;function Hhe(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,i=MA(e),o=t!==void 0,l=t===null,c=t===t,u=MA(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!a)return 1;if(!r&&!i&&!u&&e<t||u&&n&&a&&!r&&!i||l&&n&&a||!o&&a||!c)return-1}return 0}var Khe=Hhe,Ghe=Khe;function Yhe(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,l=n.length;++r<o;){var c=Ghe(a[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Qhe=Yhe,G0=KS,Xhe=GS,Jhe=Wa,Zhe=rF,efe=Whe,tfe=VL,nfe=Qhe,rfe=Md,sfe=qr;function afe(e,t,n){t.length?t=G0(t,function(i){return sfe(i)?function(o){return Xhe(o,i.length===1?i[0]:i)}:i}):t=[rfe];var r=-1;t=G0(t,tfe(Jhe));var a=Zhe(e,function(i,o,l){var c=G0(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return efe(a,function(i,o){return nfe(i,o,n)})}var ife=afe;function ofe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var lfe=ofe,cfe=lfe,IA=Math.max;function ufe(e,t,n){return t=IA(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=IA(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(o),cfe(e,this,l)}}var dfe=ufe;function hfe(e){return function(){return e}}var ffe=hfe,mfe=ac,pfe=function(){try{var e=mfe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),sF=pfe,gfe=ffe,$A=sF,vfe=Md,xfe=$A?function(e,t){return $A(e,"toString",{configurable:!0,enumerable:!1,value:gfe(t),writable:!0})}:vfe,yfe=xfe,jfe=800,bfe=16,wfe=Date.now;function Nfe(e){var t=0,n=0;return function(){var r=wfe(),a=bfe-(r-n);if(n=r,a>0){if(++t>=jfe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Sfe=Nfe,Cfe=yfe,_fe=Sfe,Pfe=_fe(Cfe),Afe=Pfe,kfe=Md,Tfe=dfe,Efe=Afe;function Ofe(e,t){return Efe(Tfe(e,t,kfe),e+"")}var Dfe=Ofe,Mfe=US,Ife=Nm,$fe=i2,Rfe=Vo;function Lfe(e,t,n){if(!Rfe(n))return!1;var r=typeof t;return(r=="number"?Ife(n)&&$fe(t,n.length):r=="string"&&t in n)?Mfe(n[t],e):!1}var fy=Lfe,Ffe=tF,Bfe=ife,zfe=Dfe,RA=fy,Vfe=zfe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&RA(e,t[0],t[1])?t=[]:n>2&&RA(t[0],t[1],t[2])&&(t=[t[0]]),Bfe(e,Ffe(t,1),[])}),Ufe=Vfe;const u2=Ct(Ufe);function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ew.apply(this,arguments)}function qfe(e,t){return Gfe(e)||Kfe(e,t)||Hfe(e,t)||Wfe()}function Wfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hfe(e,t){if(e){if(typeof e=="string")return LA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LA(e,t)}}function LA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Gfe(e){if(Array.isArray(e))return e}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Y0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){Yfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yfe(e,t,n){return t=Qfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qfe(e){var t=Xfe(e,"string");return bf(t)=="symbol"?t:t+""}function Xfe(e,t){if(bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jfe(e){return Array.isArray(e)&&Mn(e[0])&&Mn(e[1])?e.join(" ~ "):e}var Zfe=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,h=t.formatter,f=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,x=t.accessibilityLayer,y=x===void 0?!1:x,j=function(){if(d&&d.length){var A={padding:0,margin:0},R=(f?u2(d,f):d).map(function(M,K){if(M.type==="none")return null;var z=Y0({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),W=M.formatter||h||Jfe,T=M.value,I=M.name,U=T,H=I;if(W&&U!=null&&H!=null){var Z=W(T,I,M,K,d);if(Array.isArray(Z)){var ae=qfe(Z,2);U=ae[0],H=ae[1]}else U=Z}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:z},Mn(H)?$.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Mn(H)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},U),$.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:A},R)}return null},N=Y0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Y0({margin:0},u),C=!Ke(p),S=C?p:"",_=Je("recharts-default-tooltip",m),k=Je("recharts-tooltip-label",g);C&&v&&d!==void 0&&d!==null&&(S=v(p,d));var E=y?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",Ew({className:_,style:N},E),$.createElement("p",{className:k,style:w},$.isValidElement(S)?S:"".concat(S)),j())};function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function bp(e,t,n){return t=eme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eme(e){var t=tme(e,"string");return wf(t)=="symbol"?t:t+""}function tme(e,t){if(wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rh="recharts-tooltip-wrapper",nme={visibility:"hidden"};function rme(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Je(rh,bp(bp(bp(bp({},"".concat(rh,"-right"),ge(n)&&t&&ge(t.x)&&n>=t.x),"".concat(rh,"-left"),ge(n)&&t&&ge(t.x)&&n<t.x),"".concat(rh,"-bottom"),ge(r)&&t&&ge(t.y)&&r>=t.y),"".concat(rh,"-top"),ge(r)&&t&&ge(t.y)&&r<t.y))}function BA(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&ge(i[r]))return i[r];var d=n[r]-l-a,h=n[r]+a;if(t[r])return o[r]?d:h;if(o[r]){var f=d,m=c[r];return f<m?Math.max(h,c[r]):Math.max(d,c[r])}var g=h+l,p=c[r]+u;return g>p?Math.max(d,c[r]):Math.max(h,c[r])}function sme(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function ame(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,h;return o.height>0&&o.width>0&&n?(d=BA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=BA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=sme({translateX:d,translateY:h,useTranslate3d:l})):u=nme,{cssProperties:u,cssClasses:rme({translateX:d,translateY:h,coordinate:n})}}function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function VA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){Dw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ime(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ome(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iF(r.key),r)}}function lme(e,t,n){return t&&ome(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cme(e,t,n){return t=rv(t),ume(e,aF()?Reflect.construct(t,n||[],rv(e).constructor):t.apply(e,n))}function ume(e,t){if(t&&(Fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dme(e)}function dme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aF=function(){return!!e})()}function rv(e){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rv(e)}function hme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ow(e,t)}function Ow(e,t){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ow(e,t)}function Dw(e,t,n){return t=iF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iF(e){var t=fme(e,"string");return Fu(t)=="symbol"?t:t+""}function fme(e,t){if(Fu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UA=1,mme=function(e){function t(){var n;ime(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=cme(this,t,[].concat(a)),Dw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Dw(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return hme(t,e),lme(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>UA||Math.abs(r.height-this.state.lastBoundingBox.height)>UA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,h=a.hasPayload,f=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,y=a.wrapperStyle,j=ame({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),N=j.cssClasses,w=j.cssProperties,C=VA(VA({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},y);return $.createElement("div",{tabIndex:-1,className:N,style:C,ref:function(_){r.wrapperNode=_}},u)}}])}(b.PureComponent),pme=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ta={isSsr:pme(),get:function(t){return ta[t]},set:function(t,n){if(typeof t=="string")ta[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(a){ta[a]=t[a]})}}};function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(r){d2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lF(r.key),r)}}function xme(e,t,n){return t&&vme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yme(e,t,n){return t=sv(t),jme(e,oF()?Reflect.construct(t,n||[],sv(e).constructor):t.apply(e,n))}function jme(e,t){if(t&&(Bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bme(e)}function bme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!e})()}function sv(e){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sv(e)}function wme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}function Mw(e,t){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Mw(e,t)}function d2(e,t,n){return t=lF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lF(e){var t=Nme(e,"string");return Bu(t)=="symbol"?t:t+""}function Nme(e,t){if(Bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sme(e){return e.dataKey}function Cme(e,t){return $.isValidElement(e)?$.cloneElement(e,t):typeof e=="function"?$.createElement(e,t):$.createElement(Zfe,t)}var Vn=function(e){function t(){return gme(this,t),yme(this,t,arguments)}return wme(t,e),xme(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,h=a.filterNull,f=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,x=a.reverseDirection,y=a.useTranslate3d,j=a.viewBox,N=a.wrapperStyle,w=g??[];h&&w.length&&(w=XL(g.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),p,Sme));var C=w.length>0;return $.createElement(mme,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:d,hasPayload:C,offset:m,position:v,reverseDirection:x,useTranslate3d:y,viewBox:j,wrapperStyle:N},Cme(u,WA(WA({},this.props),{},{payload:w})))}}])}(b.PureComponent);d2(Vn,"displayName","Tooltip");d2(Vn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ta.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _me=qa,Pme=function(){return _me.Date.now()},Ame=Pme,kme=/\s/;function Tme(e){for(var t=e.length;t--&&kme.test(e.charAt(t)););return t}var Eme=Tme,Ome=Eme,Dme=/^\s+/;function Mme(e){return e&&e.slice(0,Ome(e)+1).replace(Dme,"")}var Ime=Mme,$me=Ime,HA=Vo,Rme=_d,KA=NaN,Lme=/^[-+]0x[0-9a-f]+$/i,Fme=/^0b[01]+$/i,Bme=/^0o[0-7]+$/i,zme=parseInt;function Vme(e){if(typeof e=="number")return e;if(Rme(e))return KA;if(HA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=HA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$me(e);var n=Fme.test(e);return n||Bme.test(e)?zme(e.slice(2),n?2:8):Lme.test(e)?KA:+e}var cF=Vme,Ume=Vo,Q0=Ame,GA=cF,qme="Expected a function",Wme=Math.max,Hme=Math.min;function Kme(e,t,n){var r,a,i,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(qme);t=GA(t)||0,Ume(n)&&(d=!!n.leading,h="maxWait"in n,i=h?Wme(GA(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function m(C){var S=r,_=a;return r=a=void 0,u=C,o=e.apply(_,S),o}function g(C){return u=C,l=setTimeout(x,t),d?m(C):o}function p(C){var S=C-c,_=C-u,k=t-S;return h?Hme(k,i-_):k}function v(C){var S=C-c,_=C-u;return c===void 0||S>=t||S<0||h&&_>=i}function x(){var C=Q0();if(v(C))return y(C);l=setTimeout(x,p(C))}function y(C){return l=void 0,f&&r?m(C):(r=a=void 0,o)}function j(){l!==void 0&&clearTimeout(l),u=0,r=c=a=l=void 0}function N(){return l===void 0?o:y(Q0())}function w(){var C=Q0(),S=v(C);if(r=arguments,a=this,c=C,S){if(l===void 0)return g(c);if(h)return clearTimeout(l),l=setTimeout(x,t),m(c)}return l===void 0&&(l=setTimeout(x,t)),o}return w.cancel=j,w.flush=N,w}var Gme=Kme,Yme=Gme,Qme=Vo,Xme="Expected a function";function Jme(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(Xme);return Qme(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Yme(e,t,{leading:r,maxWait:t,trailing:a})}var Zme=Jme;const uF=Ct(Zme);function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(r){epe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function epe(e,t,n){return t=tpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tpe(e){var t=npe(e,"string");return Nf(t)=="symbol"?t:t+""}function npe(e,t){if(Nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rpe(e,t){return ope(e)||ipe(e,t)||ape(e,t)||spe()}function spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ape(e,t){if(e){if(typeof e=="string")return QA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QA(e,t)}}function QA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ipe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ope(e){if(Array.isArray(e))return e}var Si=b.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,h=e.minHeight,f=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,x=e.className,y=e.onResize,j=e.style,N=j===void 0?{}:j,w=b.useRef(null),C=b.useRef();C.current=y,b.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var S=b.useState({containerWidth:a.width,containerHeight:a.height}),_=rpe(S,2),k=_[0],E=_[1],P=b.useCallback(function(R,M){E(function(K){var z=Math.round(R),W=Math.round(M);return K.containerWidth===z&&K.containerHeight===W?K:{containerWidth:z,containerHeight:W}})},[]);b.useEffect(function(){var R=function(I){var U,H=I[0].contentRect,Z=H.width,ae=H.height;P(Z,ae),(U=C.current)===null||U===void 0||U.call(C,Z,ae)};p>0&&(R=uF(R,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(R),K=w.current.getBoundingClientRect(),z=K.width,W=K.height;return P(z,W),M.observe(w.current),function(){M.disconnect()}},[P,p]);var A=b.useMemo(function(){var R=k.containerWidth,M=k.containerHeight;if(R<0||M<0)return null;ea(dl(o)||dl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ea(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=dl(o)?R:o,z=dl(c)?M:c;n&&n>0&&(K?z=K/n:z&&(K=z*n),f&&z>f&&(z=f)),ea(K>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,z,o,c,d,h,n);var W=!Array.isArray(m)&&fi(m.type).endsWith("Chart");return $.Children.map(m,function(T){return $.isValidElement(T)?b.cloneElement(T,wp({width:K,height:z},W?{style:wp({height:"100%",width:"100%",maxHeight:z,maxWidth:K},T.props.style)}:{})):T})},[n,m,c,f,h,d,k,o]);return $.createElement("div",{id:v?"".concat(v):void 0,className:Je("recharts-responsive-container",x),style:wp(wp({},N),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:w},A)}),Id=function(t){return null};Id.displayName="Cell";function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function XA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Iw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(n),!0).forEach(function(r){lpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lpe(e,t,n){return t=cpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cpe(e){var t=upe(e,"string");return Sf(t)=="symbol"?t:t+""}function upe(e,t){if(Sf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sc={widthCache:{},cacheCount:0},dpe=2e3,hpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JA="recharts_measurement_span";function fpe(e){var t=Iw({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Rh=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ta.isSsr)return{width:0,height:0};var r=fpe(n),a=JSON.stringify({text:t,copyStyle:r});if(Sc.widthCache[a])return Sc.widthCache[a];try{var i=document.getElementById(JA);i||(i=document.createElement("span"),i.setAttribute("id",JA),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Iw(Iw({},hpe),r);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Sc.widthCache[a]=c,++Sc.cacheCount>dpe&&(Sc.cacheCount=0,Sc.widthCache={}),c}catch{return{width:0,height:0}}},mpe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function av(e,t){return xpe(e)||vpe(e,t)||gpe(e,t)||ppe()}function ppe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gpe(e,t){if(e){if(typeof e=="string")return ZA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZA(e,t)}}function ZA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vpe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function xpe(e){if(Array.isArray(e))return e}function ype(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ek(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bpe(r.key),r)}}function jpe(e,t,n){return t&&ek(e.prototype,t),n&&ek(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bpe(e){var t=wpe(e,"string");return Cf(t)=="symbol"?t:t+""}function wpe(e,t){if(Cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Npe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Spe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cpe=Object.keys(dF),Vc="NaN";function _pe(e,t){return e*dF[t]}var Np=function(){function e(t,n){ype(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Npe.test(n)&&(this.num=NaN,this.unit=""),Cpe.includes(n)&&(this.num=_pe(t,n),this.unit="px")}return jpe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=Spe.exec(n))!==null&&r!==void 0?r:[],i=av(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function hF(e){if(e.includes(Vc))return Vc;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=tk.exec(t))!==null&&n!==void 0?n:[],a=av(r,4),i=a[1],o=a[2],l=a[3],c=Np.parse(i??""),u=Np.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Vc;t=t.replace(tk,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=nk.exec(t))!==null&&h!==void 0?h:[],m=av(f,4),g=m[1],p=m[2],v=m[3],x=Np.parse(g??""),y=Np.parse(v??""),j=p==="+"?x.add(y):x.subtract(y);if(j.isNaN())return Vc;t=t.replace(nk,j.toString())}return t}var rk=/\(([^()]*)\)/;function Ppe(e){for(var t=e;t.includes("(");){var n=rk.exec(t),r=av(n,2),a=r[1];t=t.replace(rk,hF(a))}return t}function Ape(e){var t=e.replace(/\s+/g,"");return t=Ppe(t),t=hF(t),t}function kpe(e){try{return Ape(e)}catch{return Vc}}function X0(e){var t=kpe(e.slice(5,-1));return t===Vc?"":t}var Tpe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Epe=["dx","dy","angle","className","breakAll"];function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$w.apply(this,arguments)}function sk(e,t){if(e==null)return{};var n=Ope(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ope(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ak(e,t){return $pe(e)||Ipe(e,t)||Mpe(e,t)||Dpe()}function Dpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mpe(e,t){if(e){if(typeof e=="string")return ik(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ik(e,t)}}function ik(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ipe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $pe(e){if(Array.isArray(e))return e}var fF=/[ \f\n\r\t\v\u2028\u2029]+/,mF=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var i=[];Ke(n)||(r?i=n.toString().split(""):i=n.toString().split(fF));var o=i.map(function(c){return{word:c,width:Rh(c,a).width}}),l=r?0:Rh(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Rpe=function(t,n,r,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ge(o),h=l,f=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(z,W){var T=W.word,I=W.width,U=z[z.length-1];if(U&&(a==null||i||U.width+I+r<Number(a)))U.words.push(T),U.width+=I+r;else{var H={words:[T],width:I};z.push(H)}return z},[])},m=f(n),g=function(K){return K.reduce(function(z,W){return z.width>W.width?z:W})};if(!d)return m;for(var p="…",v=function(K){var z=h.slice(0,K),W=mF({breakAll:u,style:c,children:z+p}).wordsWithComputedWidth,T=f(W),I=T.length>o||g(T).width>Number(a);return[I,T]},x=0,y=h.length-1,j=0,N;x<=y&&j<=h.length-1;){var w=Math.floor((x+y)/2),C=w-1,S=v(C),_=ak(S,2),k=_[0],E=_[1],P=v(w),A=ak(P,1),R=A[0];if(!k&&!R&&(x=w+1),k&&R&&(y=w-1),!k&&R){N=E;break}j++}return N||m},ok=function(t){var n=Ke(t)?[]:t.toString().split(fF);return[{words:n}]},Lpe=function(t){var n=t.width,r=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!ta.isSsr){var c,u,d=mF({breakAll:o,children:a,style:i});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return ok(a);return Rpe({breakAll:o,children:a,maxLines:l,style:i},c,u,n,r)}return ok(a)},lk="#808080",Wl=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,h=d===void 0?!1:d,f=t.textAnchor,m=f===void 0?"start":f,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,x=v===void 0?lk:v,y=sk(t,Tpe),j=b.useMemo(function(){return Lpe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),N=y.dx,w=y.dy,C=y.angle,S=y.className,_=y.breakAll,k=sk(y,Epe);if(!Mn(r)||!Mn(i))return null;var E=r+(ge(N)?N:0),P=i+(ge(w)?w:0),A;switch(p){case"start":A=X0("calc(".concat(u,")"));break;case"middle":A=X0("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:A=X0("calc(".concat(j.length-1," * -").concat(l,")"));break}var R=[];if(h){var M=j[0].width,K=y.width;R.push("scale(".concat((ge(K)?K/M:1)/M,")"))}return C&&R.push("rotate(".concat(C,", ").concat(E,", ").concat(P,")")),R.length&&(k.transform=R.join(" ")),$.createElement("text",$w({},Le(k,!0),{x:E,y:P,className:Je("recharts-text",S),textAnchor:m,fill:x.includes("url")?lk:x}),j.map(function(z,W){var T=z.words.join(_?"":" ");return $.createElement("tspan",{x:E,dy:W===0?A:l,key:"".concat(T,"-").concat(W)},T)}))};function Co(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fpe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function h2(e){let t,n,r;e.length!==2?(t=Co,n=(l,c)=>Co(e(l),c),r=(l,c)=>e(l)-c):(t=e===Co||e===Fpe?e:Bpe,n=e,r=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=a(l,c,u,d-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function Bpe(){return 0}function pF(e){return e===null?NaN:+e}function*zpe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Vpe=h2(Co),Sm=Vpe.right;h2(pF).center;class ck extends Map{constructor(t,n=Wpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(uk(this,t))}has(t){return super.has(uk(this,t))}set(t,n){return super.set(Upe(this,t),n)}delete(t){return super.delete(qpe(this,t))}}function uk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Upe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function qpe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Wpe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Hpe(e=Co){if(e===Co)return gF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function gF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Kpe=Math.sqrt(50),Gpe=Math.sqrt(10),Ype=Math.sqrt(2);function iv(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=Kpe?10:i>=Gpe?5:i>=Ype?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?iv(e,t,n*2):[l,c,u]}function Rw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?iv(t,e,n):iv(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Lw(e,t,n){return t=+t,e=+e,n=+n,iv(e,t,n)[2]}function Fw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Lw(t,e,n):Lw(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function dk(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function hk(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function vF(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?gF:Hpe(a);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*h/c+f)),g=Math.min(r,Math.floor(t+(c-u)*h/c+f));vF(e,t,m,g,a)}const i=e[t];let o=n,l=r;for(sh(e,n,t),a(e[r],i)>0&&sh(e,n,r);o<l;){for(sh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?sh(e,n,l):(++l,sh(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function sh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Qpe(e,t,n){if(e=Float64Array.from(zpe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return hk(e);if(t>=1)return dk(e);var r,a=(r-1)*t,i=Math.floor(a),o=dk(vF(e,i).subarray(0,i+1)),l=hk(e.subarray(i+1));return o+(l-o)*(a-i)}}function Xpe(e,t,n=pF){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Jpe(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Os(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Oi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Bw=Symbol("implicit");function f2(){var e=new ck,t=[],n=[],r=Bw;function a(i){let o=e.get(i);if(o===void 0){if(r!==Bw)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new ck;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return f2(t,n).unknown(r)},Os.apply(a,arguments),a}function _f(){var e=f2().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var f=t().length,m=a<r,g=m?a:r,p=m?r:a;i=(p-g)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(f-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=Jpe(f).map(function(x){return g+i*x});return n(m?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,a]=f,r=+r,a=+a,h()):[r,a]},e.rangeRound=function(f){return[r,a]=f,r=+r,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},e.copy=function(){return _f(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Os.apply(h(),arguments)}function xF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xF(t())},e}function Lh(){return xF(_f.apply(null,arguments).paddingInner(1))}function m2(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yF(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Cm(){}var Pf=.7,ov=1/Pf,au="\\s*([+-]?\\d+)\\s*",Af="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zpe=/^#([0-9a-f]{3,8})$/,ege=new RegExp(`^rgb\\(${au},${au},${au}\\)$`),tge=new RegExp(`^rgb\\(${$a},${$a},${$a}\\)$`),nge=new RegExp(`^rgba\\(${au},${au},${au},${Af}\\)$`),rge=new RegExp(`^rgba\\(${$a},${$a},${$a},${Af}\\)$`),sge=new RegExp(`^hsl\\(${Af},${$a},${$a}\\)$`),age=new RegExp(`^hsla\\(${Af},${$a},${$a},${Af}\\)$`),fk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m2(Cm,kf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mk,formatHex:mk,formatHex8:ige,formatHsl:oge,formatRgb:pk,toString:pk});function mk(){return this.rgb().formatHex()}function ige(){return this.rgb().formatHex8()}function oge(){return jF(this).formatHsl()}function pk(){return this.rgb().formatRgb()}function kf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Zpe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?gk(t):n===3?new Fr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Sp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Sp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ege.exec(e))?new Fr(t[1],t[2],t[3],1):(t=tge.exec(e))?new Fr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nge.exec(e))?Sp(t[1],t[2],t[3],t[4]):(t=rge.exec(e))?Sp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sge.exec(e))?yk(t[1],t[2]/100,t[3]/100,1):(t=age.exec(e))?yk(t[1],t[2]/100,t[3]/100,t[4]):fk.hasOwnProperty(e)?gk(fk[e]):e==="transparent"?new Fr(NaN,NaN,NaN,0):null}function gk(e){return new Fr(e>>16&255,e>>8&255,e&255,1)}function Sp(e,t,n,r){return r<=0&&(e=t=n=NaN),new Fr(e,t,n,r)}function lge(e){return e instanceof Cm||(e=kf(e)),e?(e=e.rgb(),new Fr(e.r,e.g,e.b,e.opacity)):new Fr}function zw(e,t,n,r){return arguments.length===1?lge(e):new Fr(e,t,n,r??1)}function Fr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}m2(Fr,zw,yF(Cm,{brighter(e){return e=e==null?ov:Math.pow(ov,e),new Fr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pf:Math.pow(Pf,e),new Fr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fr(Pl(this.r),Pl(this.g),Pl(this.b),lv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vk,formatHex:vk,formatHex8:cge,formatRgb:xk,toString:xk}));function vk(){return`#${hl(this.r)}${hl(this.g)}${hl(this.b)}`}function cge(){return`#${hl(this.r)}${hl(this.g)}${hl(this.b)}${hl((isNaN(this.opacity)?1:this.opacity)*255)}`}function xk(){const e=lv(this.opacity);return`${e===1?"rgb(":"rgba("}${Pl(this.r)}, ${Pl(this.g)}, ${Pl(this.b)}${e===1?")":`, ${e})`}`}function lv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hl(e){return e=Pl(e),(e<16?"0":"")+e.toString(16)}function yk(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Qs(e,t,n,r)}function jF(e){if(e instanceof Qs)return new Qs(e.h,e.s,e.l,e.opacity);if(e instanceof Cm||(e=kf(e)),!e)return new Qs;if(e instanceof Qs)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Qs(o,l,c,e.opacity)}function uge(e,t,n,r){return arguments.length===1?jF(e):new Qs(e,t,n,r??1)}function Qs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}m2(Qs,uge,yF(Cm,{brighter(e){return e=e==null?ov:Math.pow(ov,e),new Qs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pf:Math.pow(Pf,e),new Qs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Fr(J0(e>=240?e-240:e+120,a,r),J0(e,a,r),J0(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Qs(jk(this.h),Cp(this.s),Cp(this.l),lv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lv(this.opacity);return`${e===1?"hsl(":"hsla("}${jk(this.h)}, ${Cp(this.s)*100}%, ${Cp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jk(e){return e=(e||0)%360,e<0?e+360:e}function Cp(e){return Math.max(0,Math.min(1,e||0))}function J0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const p2=e=>()=>e;function dge(e,t){return function(n){return e+n*t}}function hge(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function fge(e){return(e=+e)==1?bF:function(t,n){return n-t?hge(t,n,e):p2(isNaN(t)?n:t)}}function bF(e,t){var n=t-e;return n?dge(e,n):p2(isNaN(e)?t:e)}const bk=function e(t){var n=fge(t);function r(a,i){var o=n((a=zw(a)).r,(i=zw(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),u=bF(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function mge(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function pge(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gge(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=$d(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function vge(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function cv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xge(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=$d(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Vw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Z0=new RegExp(Vw.source,"g");function yge(e){return function(){return e}}function jge(e){return function(t){return e(t)+""}}function bge(e,t){var n=Vw.lastIndex=Z0.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=Vw.exec(e))&&(a=Z0.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:cv(r,a)})),n=Z0.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?jge(c[0].x):yge(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function $d(e,t){var n=typeof t,r;return t==null||n==="boolean"?p2(t):(n==="number"?cv:n==="string"?(r=kf(t))?(t=r,bk):bge:t instanceof kf?bk:t instanceof Date?vge:pge(t)?mge:Array.isArray(t)?gge:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xge:cv)(e,t)}function g2(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function wge(e,t){t===void 0&&(t=e,e=$d);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function Nge(e){return function(){return e}}function uv(e){return+e}var wk=[0,1];function jr(e){return e}function Uw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Nge(isNaN(t)?NaN:.5)}function Sge(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Cge(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Uw(a,r),i=n(o,i)):(r=Uw(r,a),i=n(i,o)),function(l){return i(r(l))}}function _ge(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Uw(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=Sm(e,l,1,r)-1;return i[c](a[c](l))}}function _m(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function my(){var e=wk,t=wk,n=$d,r,a,i,o=jr,l,c,u;function d(){var f=Math.min(e.length,t.length);return o!==jr&&(o=Sge(e[0],e[f-1])),l=f>2?_ge:Cge,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(r),t,n)))(r(o(f)))}return h.invert=function(f){return o(a((u||(u=l(t,e.map(r),cv)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,uv),d()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=g2,d()},h.clamp=function(f){return arguments.length?(o=f?!0:jr,d()):o!==jr},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,m){return r=f,a=m,d()}}function v2(){return my()(jr,jr)}function Pge(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function zu(e){return e=dv(Math.abs(e)),e?e[1]:NaN}function Age(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function kge(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Tge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tf(e){if(!(t=Tge.exec(e)))throw new Error("invalid format: "+e);var t;return new x2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tf.prototype=x2.prototype;function x2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}x2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ege(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var wF;function Oge(e,t){var n=dv(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(wF=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+dv(e,Math.max(0,t+i-1))[0]}function Nk(e,t){var n=dv(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Sk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Pge,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Nk(e*100,t),r:Nk,s:Oge,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ck(e){return e}var _k=Array.prototype.map,Pk=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Dge(e){var t=e.grouping===void 0||e.thousands===void 0?Ck:Age(_k.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Ck:kge(_k.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=Tf(h);var f=h.fill,m=h.align,g=h.sign,p=h.symbol,v=h.zero,x=h.width,y=h.comma,j=h.precision,N=h.trim,w=h.type;w==="n"?(y=!0,w="g"):Sk[w]||(j===void 0&&(j=12),N=!0,w="g"),(v||f==="0"&&m==="=")&&(v=!0,f="0",m="=");var C=p==="$"?n:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=p==="$"?r:/[%p]/.test(w)?o:"",_=Sk[w],k=/[defgprs%]/.test(w);j=j===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function E(P){var A=C,R=S,M,K,z;if(w==="c")R=_(P)+R,P="";else{P=+P;var W=P<0||1/P<0;if(P=isNaN(P)?c:_(Math.abs(P),j),N&&(P=Ege(P)),W&&+P==0&&g!=="+"&&(W=!1),A=(W?g==="("?g:l:g==="-"||g==="("?"":g)+A,R=(w==="s"?Pk[8+wF/3]:"")+R+(W&&g==="("?")":""),k){for(M=-1,K=P.length;++M<K;)if(z=P.charCodeAt(M),48>z||z>57){R=(z===46?a+P.slice(M+1):P.slice(M))+R,P=P.slice(0,M);break}}}y&&!v&&(P=t(P,1/0));var T=A.length+P.length+R.length,I=T<x?new Array(x-T+1).join(f):"";switch(y&&v&&(P=t(I+P,I.length?x-R.length:1/0),I=""),m){case"<":P=A+P+R+I;break;case"=":P=A+I+P+R;break;case"^":P=I.slice(0,T=I.length>>1)+A+P+R+I.slice(T);break;default:P=I+A+P+R;break}return i(P)}return E.toString=function(){return h+""},E}function d(h,f){var m=u((h=Tf(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(zu(f)/3)))*3,p=Math.pow(10,-g),v=Pk[8+g/3];return function(x){return m(p*x)+v}}return{format:u,formatPrefix:d}}var _p,y2,NF;Mge({thousands:",",grouping:[3],currency:["$",""]});function Mge(e){return _p=Dge(e),y2=_p.format,NF=_p.formatPrefix,_p}function Ige(e){return Math.max(0,-zu(Math.abs(e)))}function $ge(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zu(t)/3)))*3-zu(Math.abs(e)))}function Rge(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zu(t)-zu(e))+1}function SF(e,t,n,r){var a=Fw(e,t,n),i;switch(r=Tf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=$ge(a,o))&&(r.precision=i),NF(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Rge(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Ige(a))&&(r.precision=i-(r.type==="%")*2);break}}return y2(r)}function Uo(e){var t=e.domain;return e.ticks=function(n){var r=t();return Rw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return SF(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Lw(o,l,n),u===c)return r[a]=o,r[i]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function hv(){var e=v2();return e.copy=function(){return _m(e,hv())},Os.apply(e,arguments),Uo(e)}function CF(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,uv),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return CF(e).unknown(t)},e=arguments.length?Array.from(e,uv):[0,1],Uo(n)}function _F(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function Ak(e){return Math.log(e)}function kk(e){return Math.exp(e)}function Lge(e){return-Math.log(-e)}function Fge(e){return-Math.exp(-e)}function Bge(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zge(e){return e===10?Bge:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Vge(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Tk(e){return(t,n)=>-e(-t,n)}function j2(e){const t=e(Ak,kk),n=t.domain;let r=10,a,i;function o(){return a=Vge(r),i=zge(r),n()[0]<0?(a=Tk(a),i=Tk(i),e(Lge,Fge)):e(Ak,kk),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=a(u),m=a(d),g,p;const v=l==null?10:+l;let x=[];if(!(r%1)&&m-f<v){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(g=1;g<r;++g)if(p=f<0?g/i(-f):g*i(f),!(p<u)){if(p>d)break;x.push(p)}}else for(;f<=m;++f)for(g=r-1;g>=1;--g)if(p=f>0?g/i(-f):g*i(f),!(p<u)){if(p>d)break;x.push(p)}x.length*2<v&&(x=Rw(u,d,v))}else x=Rw(f,m,Math.min(m-f,v)).map(i);return h?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Tf(c)).precision==null&&(c.trim=!0),c=y2(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let h=d/i(Math.round(a(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},t.nice=()=>n(_F(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function PF(){const e=j2(my()).domain([1,10]);return e.copy=()=>_m(e,PF()).base(e.base()),Os.apply(e,arguments),e}function Ek(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ok(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function b2(e){var t=1,n=e(Ek(t),Ok(t));return n.constant=function(r){return arguments.length?e(Ek(t=+r),Ok(t)):t},Uo(n)}function AF(){var e=b2(my());return e.copy=function(){return _m(e,AF()).constant(e.constant())},Os.apply(e,arguments)}function Dk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Uge(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qge(e){return e<0?-e*e:e*e}function w2(e){var t=e(jr,jr),n=1;function r(){return n===1?e(jr,jr):n===.5?e(Uge,qge):e(Dk(n),Dk(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Uo(t)}function N2(){var e=w2(my());return e.copy=function(){return _m(e,N2()).exponent(e.exponent())},Os.apply(e,arguments),e}function Wge(){return N2.apply(null,arguments).exponent(.5)}function Mk(e){return Math.sign(e)*e*e}function Hge(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function kF(){var e=v2(),t=[0,1],n=!1,r;function a(i){var o=Hge(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(Mk(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,uv)).map(Mk)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return kF(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Os.apply(a,arguments),Uo(a)}function TF(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=Xpe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[Sm(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Co),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return TF().domain(e).range(t).unknown(r)},Os.apply(i,arguments)}function EF(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Sm(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return EF().domain([e,t]).range(a).unknown(i)},Os.apply(Uo(o),arguments)}function OF(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[Sm(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return OF().domain(e).range(t).unknown(n)},Os.apply(a,arguments)}const ej=new Date,tj=new Date;function $n(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>$n(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(ej.setTime(+i),tj.setTime(+o),e(ej),e(tj),Math.floor(n(ej,tj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const fv=$n(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$n(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):fv);fv.range;const li=1e3,Ns=li*60,ci=Ns*60,Ci=ci*24,S2=Ci*7,Ik=Ci*30,nj=Ci*365,fl=$n(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*li)},(e,t)=>(t-e)/li,e=>e.getUTCSeconds());fl.range;const C2=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*li)},(e,t)=>{e.setTime(+e+t*Ns)},(e,t)=>(t-e)/Ns,e=>e.getMinutes());C2.range;const _2=$n(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ns)},(e,t)=>(t-e)/Ns,e=>e.getUTCMinutes());_2.range;const P2=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*li-e.getMinutes()*Ns)},(e,t)=>{e.setTime(+e+t*ci)},(e,t)=>(t-e)/ci,e=>e.getHours());P2.range;const A2=$n(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ci)},(e,t)=>(t-e)/ci,e=>e.getUTCHours());A2.range;const Pm=$n(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ns)/Ci,e=>e.getDate()-1);Pm.range;const py=$n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ci,e=>e.getUTCDate()-1);py.range;const DF=$n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ci,e=>Math.floor(e/Ci));DF.range;function oc(e){return $n(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ns)/S2)}const gy=oc(0),mv=oc(1),Kge=oc(2),Gge=oc(3),Vu=oc(4),Yge=oc(5),Qge=oc(6);gy.range;mv.range;Kge.range;Gge.range;Vu.range;Yge.range;Qge.range;function lc(e){return $n(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/S2)}const vy=lc(0),pv=lc(1),Xge=lc(2),Jge=lc(3),Uu=lc(4),Zge=lc(5),eve=lc(6);vy.range;pv.range;Xge.range;Jge.range;Uu.range;Zge.range;eve.range;const k2=$n(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());k2.range;const T2=$n(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());T2.range;const _i=$n(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$n(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});_i.range;const Pi=$n(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$n(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Pi.range;function MF(e,t,n,r,a,i){const o=[[fl,1,li],[fl,5,5*li],[fl,15,15*li],[fl,30,30*li],[i,1,Ns],[i,5,5*Ns],[i,15,15*Ns],[i,30,30*Ns],[a,1,ci],[a,3,3*ci],[a,6,6*ci],[a,12,12*ci],[r,1,Ci],[r,2,2*Ci],[n,1,S2],[t,1,Ik],[t,3,3*Ik],[e,1,nj]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:c(u,d,h),g=m?m.range(u,+d+1):[];return f?g.reverse():g}function c(u,d,h){const f=Math.abs(d-u)/h,m=h2(([,,v])=>v).right(o,f);if(m===o.length)return e.every(Fw(u/nj,d/nj,h));if(m===0)return fv.every(Math.max(Fw(u,d,h),1));const[g,p]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return g.every(p)}return[l,c]}const[tve,nve]=MF(Pi,T2,vy,DF,A2,_2),[rve,sve]=MF(_i,k2,gy,Pm,P2,C2);function rj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function sj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ah(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function ave(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=ih(a),d=oh(a),h=ih(i),f=oh(i),m=ih(o),g=oh(o),p=ih(l),v=oh(l),x=ih(c),y=oh(c),j={a:W,A:T,b:I,B:U,c:null,d:zk,e:zk,f:Ave,g:Lve,G:Bve,H:Cve,I:_ve,j:Pve,L:IF,m:kve,M:Tve,p:H,q:Z,Q:qk,s:Wk,S:Eve,u:Ove,U:Dve,V:Mve,w:Ive,W:$ve,x:null,X:null,y:Rve,Y:Fve,Z:zve,"%":Uk},N={a:ae,A:se,b:me,B:xe,c:null,d:Vk,e:Vk,f:Wve,g:txe,G:rxe,H:Vve,I:Uve,j:qve,L:RF,m:Hve,M:Kve,p:le,q:Y,Q:qk,s:Wk,S:Gve,u:Yve,U:Qve,V:Xve,w:Jve,W:Zve,x:null,X:null,y:exe,Y:nxe,Z:sxe,"%":Uk},w={a:E,A:P,b:A,B:R,c:M,d:Fk,e:Fk,f:bve,g:Lk,G:Rk,H:Bk,I:Bk,j:vve,L:jve,m:gve,M:xve,p:k,q:pve,Q:Nve,s:Sve,S:yve,u:uve,U:dve,V:hve,w:cve,W:fve,x:K,X:z,y:Lk,Y:Rk,Z:mve,"%":wve};j.x=C(n,j),j.X=C(r,j),j.c=C(t,j),N.x=C(n,N),N.X=C(r,N),N.c=C(t,N);function C(ee,oe){return function(O){var q=[],fe=-1,he=0,Ye=ee.length,We,ut,$e;for(O instanceof Date||(O=new Date(+O));++fe<Ye;)ee.charCodeAt(fe)===37&&(q.push(ee.slice(he,fe)),(ut=$k[We=ee.charAt(++fe)])!=null?We=ee.charAt(++fe):ut=We==="e"?" ":"0",($e=oe[We])&&(We=$e(O,ut)),q.push(We),he=fe+1);return q.push(ee.slice(he,fe)),q.join("")}}function S(ee,oe){return function(O){var q=ah(1900,void 0,1),fe=_(q,ee,O+="",0),he,Ye;if(fe!=O.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(oe&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(he=sj(ah(q.y,0,1)),Ye=he.getUTCDay(),he=Ye>4||Ye===0?pv.ceil(he):pv(he),he=py.offset(he,(q.V-1)*7),q.y=he.getUTCFullYear(),q.m=he.getUTCMonth(),q.d=he.getUTCDate()+(q.w+6)%7):(he=rj(ah(q.y,0,1)),Ye=he.getDay(),he=Ye>4||Ye===0?mv.ceil(he):mv(he),he=Pm.offset(he,(q.V-1)*7),q.y=he.getFullYear(),q.m=he.getMonth(),q.d=he.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Ye="Z"in q?sj(ah(q.y,0,1)).getUTCDay():rj(ah(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Ye+5)%7:q.w+q.U*7-(Ye+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,sj(q)):rj(q)}}function _(ee,oe,O,q){for(var fe=0,he=oe.length,Ye=O.length,We,ut;fe<he;){if(q>=Ye)return-1;if(We=oe.charCodeAt(fe++),We===37){if(We=oe.charAt(fe++),ut=w[We in $k?oe.charAt(fe++):We],!ut||(q=ut(ee,O,q))<0)return-1}else if(We!=O.charCodeAt(q++))return-1}return q}function k(ee,oe,O){var q=u.exec(oe.slice(O));return q?(ee.p=d.get(q[0].toLowerCase()),O+q[0].length):-1}function E(ee,oe,O){var q=m.exec(oe.slice(O));return q?(ee.w=g.get(q[0].toLowerCase()),O+q[0].length):-1}function P(ee,oe,O){var q=h.exec(oe.slice(O));return q?(ee.w=f.get(q[0].toLowerCase()),O+q[0].length):-1}function A(ee,oe,O){var q=x.exec(oe.slice(O));return q?(ee.m=y.get(q[0].toLowerCase()),O+q[0].length):-1}function R(ee,oe,O){var q=p.exec(oe.slice(O));return q?(ee.m=v.get(q[0].toLowerCase()),O+q[0].length):-1}function M(ee,oe,O){return _(ee,t,oe,O)}function K(ee,oe,O){return _(ee,n,oe,O)}function z(ee,oe,O){return _(ee,r,oe,O)}function W(ee){return o[ee.getDay()]}function T(ee){return i[ee.getDay()]}function I(ee){return c[ee.getMonth()]}function U(ee){return l[ee.getMonth()]}function H(ee){return a[+(ee.getHours()>=12)]}function Z(ee){return 1+~~(ee.getMonth()/3)}function ae(ee){return o[ee.getUTCDay()]}function se(ee){return i[ee.getUTCDay()]}function me(ee){return c[ee.getUTCMonth()]}function xe(ee){return l[ee.getUTCMonth()]}function le(ee){return a[+(ee.getUTCHours()>=12)]}function Y(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var oe=C(ee+="",j);return oe.toString=function(){return ee},oe},parse:function(ee){var oe=S(ee+="",!1);return oe.toString=function(){return ee},oe},utcFormat:function(ee){var oe=C(ee+="",N);return oe.toString=function(){return ee},oe},utcParse:function(ee){var oe=S(ee+="",!0);return oe.toString=function(){return ee},oe}}}var $k={"-":"",_:" ",0:"0"},Hn=/^\s*\d+/,ive=/^%/,ove=/[\\^$*+?|[\]().{}]/g;function bt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function lve(e){return e.replace(ove,"\\$&")}function ih(e){return new RegExp("^(?:"+e.map(lve).join("|")+")","i")}function oh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cve(e,t,n){var r=Hn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function uve(e,t,n){var r=Hn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dve(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function hve(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function fve(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Rk(e,t,n){var r=Hn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Lk(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mve(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pve(e,t,n){var r=Hn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function gve(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Fk(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function vve(e,t,n){var r=Hn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Bk(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function xve(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function yve(e,t,n){var r=Hn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function jve(e,t,n){var r=Hn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function bve(e,t,n){var r=Hn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wve(e,t,n){var r=ive.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Nve(e,t,n){var r=Hn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Sve(e,t,n){var r=Hn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function zk(e,t){return bt(e.getDate(),t,2)}function Cve(e,t){return bt(e.getHours(),t,2)}function _ve(e,t){return bt(e.getHours()%12||12,t,2)}function Pve(e,t){return bt(1+Pm.count(_i(e),e),t,3)}function IF(e,t){return bt(e.getMilliseconds(),t,3)}function Ave(e,t){return IF(e,t)+"000"}function kve(e,t){return bt(e.getMonth()+1,t,2)}function Tve(e,t){return bt(e.getMinutes(),t,2)}function Eve(e,t){return bt(e.getSeconds(),t,2)}function Ove(e){var t=e.getDay();return t===0?7:t}function Dve(e,t){return bt(gy.count(_i(e)-1,e),t,2)}function $F(e){var t=e.getDay();return t>=4||t===0?Vu(e):Vu.ceil(e)}function Mve(e,t){return e=$F(e),bt(Vu.count(_i(e),e)+(_i(e).getDay()===4),t,2)}function Ive(e){return e.getDay()}function $ve(e,t){return bt(mv.count(_i(e)-1,e),t,2)}function Rve(e,t){return bt(e.getFullYear()%100,t,2)}function Lve(e,t){return e=$F(e),bt(e.getFullYear()%100,t,2)}function Fve(e,t){return bt(e.getFullYear()%1e4,t,4)}function Bve(e,t){var n=e.getDay();return e=n>=4||n===0?Vu(e):Vu.ceil(e),bt(e.getFullYear()%1e4,t,4)}function zve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+bt(t/60|0,"0",2)+bt(t%60,"0",2)}function Vk(e,t){return bt(e.getUTCDate(),t,2)}function Vve(e,t){return bt(e.getUTCHours(),t,2)}function Uve(e,t){return bt(e.getUTCHours()%12||12,t,2)}function qve(e,t){return bt(1+py.count(Pi(e),e),t,3)}function RF(e,t){return bt(e.getUTCMilliseconds(),t,3)}function Wve(e,t){return RF(e,t)+"000"}function Hve(e,t){return bt(e.getUTCMonth()+1,t,2)}function Kve(e,t){return bt(e.getUTCMinutes(),t,2)}function Gve(e,t){return bt(e.getUTCSeconds(),t,2)}function Yve(e){var t=e.getUTCDay();return t===0?7:t}function Qve(e,t){return bt(vy.count(Pi(e)-1,e),t,2)}function LF(e){var t=e.getUTCDay();return t>=4||t===0?Uu(e):Uu.ceil(e)}function Xve(e,t){return e=LF(e),bt(Uu.count(Pi(e),e)+(Pi(e).getUTCDay()===4),t,2)}function Jve(e){return e.getUTCDay()}function Zve(e,t){return bt(pv.count(Pi(e)-1,e),t,2)}function exe(e,t){return bt(e.getUTCFullYear()%100,t,2)}function txe(e,t){return e=LF(e),bt(e.getUTCFullYear()%100,t,2)}function nxe(e,t){return bt(e.getUTCFullYear()%1e4,t,4)}function rxe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Uu(e):Uu.ceil(e),bt(e.getUTCFullYear()%1e4,t,4)}function sxe(){return"+0000"}function Uk(){return"%"}function qk(e){return+e}function Wk(e){return Math.floor(+e/1e3)}var Cc,FF,BF;axe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function axe(e){return Cc=ave(e),FF=Cc.format,Cc.parse,BF=Cc.utcFormat,Cc.utcParse,Cc}function ixe(e){return new Date(e)}function oxe(e){return e instanceof Date?+e:+new Date(+e)}function E2(e,t,n,r,a,i,o,l,c,u){var d=v2(),h=d.invert,f=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),j=u("%B"),N=u("%Y");function w(C){return(c(C)<C?m:l(C)<C?g:o(C)<C?p:i(C)<C?v:r(C)<C?a(C)<C?x:y:n(C)<C?j:N)(C)}return d.invert=function(C){return new Date(h(C))},d.domain=function(C){return arguments.length?f(Array.from(C,oxe)):f().map(ixe)},d.ticks=function(C){var S=f();return e(S[0],S[S.length-1],C??10)},d.tickFormat=function(C,S){return S==null?w:u(S)},d.nice=function(C){var S=f();return(!C||typeof C.range!="function")&&(C=t(S[0],S[S.length-1],C??10)),C?f(_F(S,C)):d},d.copy=function(){return _m(d,E2(e,t,n,r,a,i,o,l,c,u))},d}function lxe(){return Os.apply(E2(rve,sve,_i,k2,gy,Pm,P2,C2,fl,FF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cxe(){return Os.apply(E2(tve,nve,Pi,T2,vy,py,A2,_2,fl,BF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xy(){var e=0,t=1,n,r,a,i,o=jr,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-n)*a,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var m,g;return arguments.length?([m,g]=f,o=h(m,g),u):[o(0),o(1)]}}return u.range=d($d),u.rangeRound=d(g2),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,n=h(e),r=h(t),a=n===r?0:1/(r-n),u}}function qo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zF(){var e=Uo(xy()(jr));return e.copy=function(){return qo(e,zF())},Oi.apply(e,arguments)}function VF(){var e=j2(xy()).domain([1,10]);return e.copy=function(){return qo(e,VF()).base(e.base())},Oi.apply(e,arguments)}function UF(){var e=b2(xy());return e.copy=function(){return qo(e,UF()).constant(e.constant())},Oi.apply(e,arguments)}function O2(){var e=w2(xy());return e.copy=function(){return qo(e,O2()).exponent(e.exponent())},Oi.apply(e,arguments)}function uxe(){return O2.apply(null,arguments).exponent(.5)}function qF(){var e=[],t=jr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Sm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Co),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>Qpe(e,i/r))},n.copy=function(){return qF(t).domain(e)},Oi.apply(n,arguments)}function yy(){var e=0,t=.5,n=1,r=1,a,i,o,l,c,u=jr,d,h=!1,f;function m(p){return isNaN(p=+p)?f:(p=.5+((p=+d(p))-i)*(r*p<r*i?l:c),u(h?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,n]=p,a=d(e=+e),i=d(t=+t),o=d(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(p){return arguments.length?(h=!!p,m):h},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var x,y,j;return arguments.length?([x,y,j]=v,u=wge(p,[x,y,j]),m):[u(0),u(.5),u(1)]}}return m.range=g($d),m.rangeRound=g(g2),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return d=p,a=p(e),i=p(t),o=p(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function WF(){var e=Uo(yy()(jr));return e.copy=function(){return qo(e,WF())},Oi.apply(e,arguments)}function HF(){var e=j2(yy()).domain([.1,1,10]);return e.copy=function(){return qo(e,HF()).base(e.base())},Oi.apply(e,arguments)}function KF(){var e=b2(yy());return e.copy=function(){return qo(e,KF()).constant(e.constant())},Oi.apply(e,arguments)}function D2(){var e=w2(yy());return e.copy=function(){return qo(e,D2()).exponent(e.exponent())},Oi.apply(e,arguments)}function dxe(){return D2.apply(null,arguments).exponent(.5)}const Hk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_f,scaleDiverging:WF,scaleDivergingLog:HF,scaleDivergingPow:D2,scaleDivergingSqrt:dxe,scaleDivergingSymlog:KF,scaleIdentity:CF,scaleImplicit:Bw,scaleLinear:hv,scaleLog:PF,scaleOrdinal:f2,scalePoint:Lh,scalePow:N2,scaleQuantile:TF,scaleQuantize:EF,scaleRadial:kF,scaleSequential:zF,scaleSequentialLog:VF,scaleSequentialPow:O2,scaleSequentialQuantile:qF,scaleSequentialSqrt:uxe,scaleSequentialSymlog:UF,scaleSqrt:Wge,scaleSymlog:AF,scaleThreshold:OF,scaleTime:lxe,scaleUtc:cxe,tickFormat:SF},Symbol.toStringTag,{value:"Module"}));var hxe=_d;function fxe(e,t,n){for(var r=-1,a=e.length;++r<a;){var i=e[r],o=t(i);if(o!=null&&(l===void 0?o===o&&!hxe(o):n(o,l)))var l=o,c=i}return c}var jy=fxe;function mxe(e,t){return e>t}var GF=mxe,pxe=jy,gxe=GF,vxe=Md;function xxe(e){return e&&e.length?pxe(e,vxe,gxe):void 0}var yxe=xxe;const ho=Ct(yxe);function jxe(e,t){return e<t}var YF=jxe,bxe=jy,wxe=YF,Nxe=Md;function Sxe(e){return e&&e.length?bxe(e,Nxe,wxe):void 0}var Cxe=Sxe;const by=Ct(Cxe);var _xe=KS,Pxe=Wa,Axe=rF,kxe=qr;function Txe(e,t){var n=kxe(e)?_xe:Axe;return n(e,Pxe(t))}var Exe=Txe,Oxe=tF,Dxe=Exe;function Mxe(e,t){return Oxe(Dxe(e,t),1)}var Ixe=Mxe;const $xe=Ct(Ixe);var Rxe=l2;function Lxe(e,t){return Rxe(e,t)}var Fxe=Lxe;const Hl=Ct(Fxe);var Rd=1e9,Bxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},I2,tn=!0,As="[DecimalError] ",Al=As+"Invalid argument: ",M2=As+"Exponent out of range: ",Ld=Math.floor,rl=Math.pow,zxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ts,Fn=1e7,Qt=7,QF=9007199254740991,gv=Ld(QF/Qt),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(e){return mi(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,n=t.constructor;return $t(mi(t,new n(e),0,1),n.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return wn(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ts))throw Error(As+"NaN");if(n.s<1)throw Error(As+(n.s?"NaN":"-Infinity"));return n.eq(ts)?new r(0):(tn=!1,t=mi(Ef(n,i),Ef(e,i),i),tn=!0,$t(t,a))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZF(t,e):XF(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(As+"NaN");return n.s?(tn=!1,t=mi(n,e,0,1).times(e),tn=!0,n.minus(t)):$t(new r(n),a)};Oe.naturalExponential=Oe.exp=function(){return JF(this)};Oe.naturalLogarithm=Oe.ln=function(){return Ef(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XF(t,e):ZF(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Al+e);if(t=wn(a)+1,r=a.d.length-1,n=r*Qt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Oe.squareRoot=Oe.sqrt=function(){var e,t,n,r,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(As+"NaN")}for(e=wn(l),tn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Pa(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ld((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=r,r=i.plus(mi(l,i,o+2)).times(.5),Pa(i.d).slice(0,o)===(t=Pa(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if($t(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return tn=!0,$t(r,n)};Oe.times=Oe.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,c=f.length,u=m.length,c<u&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*f[a-r-1]+t,i[a--]=l%Fn|0,t=l/Fn|0;i[a]=(i[a]+t)%Fn|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,tn?$t(e,h.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(za(e,0,Rd),t===void 0?t=r.rounding:za(t,0,8),$t(n,e+wn(n)+1,t))};Oe.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Kl(r,!0):(za(e,0,Rd),t===void 0?t=a.rounding:za(t,0,8),r=$t(new a(r),e+1,t),n=Kl(r,!0,e+1)),n};Oe.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?Kl(a):(za(e,0,Rd),t===void 0?t=i.rounding:za(t,0,8),r=$t(new i(a),e+wn(a)+1,t),n=Kl(r.abs(),!1,e+wn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return $t(new t(e),wn(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,n,r,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ts);if(l=new c(l),!l.s){if(e.s<1)throw Error(As+"Infinity");return l}if(l.eq(ts))return l;if(r=c.precision,e.eq(ts))return $t(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=d<0?-d:d)<=QF){for(a=new c(ts),t=Math.ceil(r/Qt+4),tn=!1;n%2&&(a=a.times(l),Gk(a.d,t)),n=Ld(n/2),n!==0;)l=l.times(l),Gk(l.d,t);return tn=!0,e.s<0?new c(ts).div(a):$t(a,r)}}else if(i<0)throw Error(As+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,tn=!1,a=e.times(Ef(l,r+u)),tn=!0,a=JF(a),a.s=i,a};Oe.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=wn(a),r=Kl(a,n<=i.toExpNeg||n>=i.toExpPos)):(za(e,1,Rd),t===void 0?t=i.rounding:za(t,0,8),a=$t(new i(a),e,t),n=wn(a),r=Kl(a,e<=n||n<=i.toExpNeg,e)),r};Oe.toSignificantDigits=Oe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(za(e,1,Rd),t===void 0?t=r.rounding:za(t,0,8)),$t(new r(n),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wn(e),n=e.constructor;return Kl(e,t<=n.toExpNeg||t>=n.toExpPos)};function XF(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),tn?$t(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),o=Math.ceil(h/Qt),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/Fn|0,c[i]%=Fn;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,tn?$t(t,h):t}function za(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Al+e)}function Pa(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=Qt-r.length,n&&(i+=Ki(n)),i+=r;o=e[t],r=o+"",n=Qt-r.length,n&&(i+=Ki(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var mi=function(){function e(r,a){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*a+o,r[l]=i%Fn|0,o=i/Fn|0;return o&&r.unshift(o),r}function t(r,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*Fn+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var l,c,u,d,h,f,m,g,p,v,x,y,j,N,w,C,S,_,k=r.constructor,E=r.s==a.s?1:-1,P=r.d,A=a.d;if(!r.s)return new k(r);if(!a.s)throw Error(As+"Division by zero");for(c=r.e-a.e,S=A.length,w=P.length,m=new k(E),g=m.d=[],u=0;A[u]==(P[u]||0);)++u;if(A[u]>(P[u]||0)&&--c,i==null?y=i=k.precision:o?y=i+(wn(r)-wn(a))+1:y=i,y<0)return new k(0);if(y=y/Qt+2|0,u=0,S==1)for(d=0,A=A[0],y++;(u<w||d)&&y--;u++)j=d*Fn+(P[u]||0),g[u]=j/A|0,d=j%A|0;else{for(d=Fn/(A[0]+1)|0,d>1&&(A=e(A,d),P=e(P,d),S=A.length,w=P.length),N=S,p=P.slice(0,S),v=p.length;v<S;)p[v++]=0;_=A.slice(),_.unshift(0),C=A[0],A[1]>=Fn/2&&++C;do d=0,l=t(A,p,S,v),l<0?(x=p[0],S!=v&&(x=x*Fn+(p[1]||0)),d=x/C|0,d>1?(d>=Fn&&(d=Fn-1),h=e(A,d),f=h.length,v=p.length,l=t(h,p,f,v),l==1&&(d--,n(h,S<f?_:A,f))):(d==0&&(l=d=1),h=A.slice()),f=h.length,f<v&&h.unshift(0),n(p,h,v),l==-1&&(v=p.length,l=t(A,p,S,v),l<1&&(d++,n(p,S<v?_:A,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=P[N]||0:(p=[P[N]],v=1);while((N++<w||p[0]!==void 0)&&y--)}return g[0]||g.shift(),m.e=c,$t(m,o?i+wn(m)+1:i)}}();function JF(e,t){var n,r,a,i,o,l,c=0,u=0,d=e.constructor,h=d.precision;if(wn(e)>16)throw Error(M2+wn(e));if(!e.s)return new d(ts);for(t==null?(tn=!1,l=h):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(rl(2,u))/Math.LN10*2+5|0,l+=r,n=a=i=new d(ts),d.precision=l;;){if(a=$t(a.times(e),l),n=n.times(++c),o=i.plus(mi(a,n,l)),Pa(o.d).slice(0,l)===Pa(i.d).slice(0,l)){for(;u--;)i=$t(i.times(i),l);return d.precision=h,t==null?(tn=!0,$t(i,h)):i}i=o}}function wn(e){for(var t=e.e*Qt,n=e.d[0];n>=10;n/=10)t++;return t}function aj(e,t,n){if(t>e.LN10.sd())throw tn=!0,n&&(e.precision=n),Error(As+"LN10 precision limit exceeded");return $t(new e(e.LN10),t)}function Ki(e){for(var t="";e--;)t+="0";return t}function Ef(e,t){var n,r,a,i,o,l,c,u,d,h=1,f=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(As+(m.s?"NaN":"-Infinity"));if(m.eq(ts))return new p(0);if(t==null?(tn=!1,u=v):u=t,m.eq(10))return t==null&&(tn=!0),aj(p,u);if(u+=f,p.precision=u,n=Pa(g),r=n.charAt(0),i=wn(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Pa(m.d),r=n.charAt(0),h++;i=wn(m),r>1?(m=new p("0."+n),i++):m=new p(r+"."+n.slice(1))}else return c=aj(p,u+2,v).times(i+""),m=Ef(new p(r+"."+n.slice(1)),u-f).plus(c),p.precision=v,t==null?(tn=!0,$t(m,v)):m;for(l=o=m=mi(m.minus(ts),m.plus(ts),u),d=$t(m.times(m),u),a=3;;){if(o=$t(o.times(d),u),c=l.plus(mi(o,new p(a),u)),Pa(c.d).slice(0,u)===Pa(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(aj(p,u+2,v).times(i+""))),l=mi(l,new p(h),u),p.precision=v,t==null?(tn=!0,$t(l,v)):l;l=c,a+=2}}function Kk(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Ld(n/Qt),e.d=[],r=(n+1)%Qt,n<0&&(r+=Qt),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Qt;r<a;)e.d.push(+t.slice(r,r+=Qt));t=t.slice(r),r=Qt-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),tn&&(e.e>gv||e.e<-gv))throw Error(M2+n)}else e.s=0,e.e=0,e.d=[0];return e}function $t(e,t,n){var r,a,i,o,l,c,u,d,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=Qt,a=t,u=h[d=0];else{if(d=Math.ceil((r+1)/Qt),i=h.length,d>=i)return e;for(u=i=h[d],o=1;i>=10;i/=10)o++;r%=Qt,a=r-Qt+o}if(n!==void 0&&(i=rl(10,o-a-1),l=u/i%10|0,c=t<0||h[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?u/rl(10,o-a):0:h[d-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(i=wn(e),h.length=1,t=t-i-1,h[0]=rl(10,(Qt-t%Qt)%Qt),e.e=Ld(-t/Qt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=d,i=1,d--):(h.length=d+1,i=rl(10,Qt-r),h[d]=a>0?(u/rl(10,o-a)%rl(10,a)|0)*i:0),c)for(;;)if(d==0){(h[0]+=i)==Fn&&(h[0]=1,++e.e);break}else{if(h[d]+=i,h[d]!=Fn)break;h[d--]=0,i=1}for(r=h.length;h[--r]===0;)h.pop();if(tn&&(e.e>gv||e.e<-gv))throw Error(M2+wn(e));return e}function ZF(e,t){var n,r,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),tn?$t(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),a=Math.max(Math.ceil(m/Qt),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=h.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=Fn-1;--c[i],c[a]+=Fn}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,tn?$t(t,m):t):new f(0)}function Kl(e,t,n){var r,a=wn(e),i=Pa(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ki(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ki(-a-1)+i,n&&(r=n-o)>0&&(i+=Ki(r))):a>=o?(i+=Ki(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+Ki(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=Ki(r))),e.s<0?"-"+i:i}function Gk(e,t){if(e.length>t)return e.length=t,!0}function e5(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Al+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Kk(o,i.toString())}else if(typeof i!="string")throw Error(Al+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,zxe.test(i))Kk(o,i);else throw Error(Al+i)}if(a.prototype=Oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e5,a.config=a.set=Vxe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function Vxe(e){if(!e||typeof e!="object")throw Error(As+"Object expected");var t,n,r,a=["precision",1,Rd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Ld(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Al+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Al+n+": "+r);return this}var I2=e5(Bxe);ts=new I2(1);const Dt=I2;function Uxe(e){return Kxe(e)||Hxe(e)||Wxe(e)||qxe()}function qxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wxe(e,t){if(e){if(typeof e=="string")return qw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qw(e,t)}}function Hxe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Kxe(e){if(Array.isArray(e))return qw(e)}function qw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gxe=function(t){return t},t5={"@@functional/placeholder":!0},n5=function(t){return t===t5},Yk=function(t){return function n(){return arguments.length===0||arguments.length===1&&n5(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Yxe=function e(t,n){return t===1?n:Yk(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==t5}).length;return o>=t?n.apply(void 0,a):e(t-o,Yk(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(h){return n5(h)?c.shift():h});return n.apply(void 0,Uxe(d).concat(c))}))})},wy=function(t){return Yxe(t.length,t)},Ww=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},Qxe=wy(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Xxe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Gxe;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Hw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},r5=function(t){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function Jxe(e){var t;return e===0?t=1:t=Math.floor(new Dt(e).abs().log(10).toNumber())+1,t}function Zxe(e,t,n){for(var r=new Dt(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var eye=wy(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),tye=wy(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),nye=wy(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Ny={rangeStep:Zxe,getDigitCount:Jxe,interpolateNumber:eye,uninterpolateNumber:tye,uninterpolateTruncation:nye};function Kw(e){return aye(e)||sye(e)||s5(e)||rye()}function rye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sye(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function aye(e){if(Array.isArray(e))return Gw(e)}function Of(e,t){return lye(e)||oye(e,t)||s5(e,t)||iye()}function iye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s5(e,t){if(e){if(typeof e=="string")return Gw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gw(e,t)}}function Gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oye(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function lye(e){if(Array.isArray(e))return e}function a5(e){var t=Of(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function i5(e,t,n){if(e.lte(0))return new Dt(0);var r=Ny.getDigitCount(e.toNumber()),a=new Dt(10).pow(r),i=e.div(a),o=r!==1?.05:.1,l=new Dt(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?c:new Dt(Math.ceil(c))}function cye(e,t,n){var r=1,a=new Dt(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Dt(10).pow(Ny.getDigitCount(e)-1),a=new Dt(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Dt(Math.floor(e)))}else e===0?a=new Dt(Math.floor((t-1)/2)):n||(a=new Dt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Xxe(Qxe(function(c){return a.add(new Dt(c-o).mul(r)).toNumber()}),Ww);return l(0,t)}function o5(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var i=i5(new Dt(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Dt(0):(o=new Dt(e).add(t).div(2),o=o.sub(new Dt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Dt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>n?o5(e,t,n,r,a+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:i,tickMin:o.sub(new Dt(l).mul(i)),tickMax:o.add(new Dt(c).mul(i))})}function uye(e){var t=Of(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=a5([n,r]),c=Of(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(Kw(Ww(0,a-1).map(function(){return 1/0}))):[].concat(Kw(Ww(0,a-1).map(function(){return-1/0})),[d]);return n>r?Hw(h):h}if(u===d)return cye(u,a,i);var f=o5(u,d,o,i),m=f.step,g=f.tickMin,p=f.tickMax,v=Ny.rangeStep(g,p.add(new Dt(.1).mul(m)),m);return n>r?Hw(v):v}function dye(e,t){var n=Of(e,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=a5([r,a]),l=Of(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var d=Math.max(t,2),h=i5(new Dt(u).sub(c).div(d-1),i,0),f=[].concat(Kw(Ny.rangeStep(new Dt(c),new Dt(u).sub(new Dt(.99).mul(h)),h)),[u]);return r>a?Hw(f):f}var hye=r5(uye),fye=r5(dye),mye="Invariant failed";function Gl(e,t){throw new Error(mye)}var pye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vv.apply(this,arguments)}function gye(e,t){return jye(e)||yye(e,t)||xye(e,t)||vye()}function vye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xye(e,t){if(e){if(typeof e=="string")return Qk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qk(e,t)}}function Qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yye(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jye(e){if(Array.isArray(e))return e}function bye(e,t){if(e==null)return{};var n=wye(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wye(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Nye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u5(r.key),r)}}function Cye(e,t,n){return t&&Sye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ye(e,t,n){return t=xv(t),Pye(e,l5()?Reflect.construct(t,n||[],xv(e).constructor):t.apply(e,n))}function Pye(e,t){if(t&&(qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aye(e)}function Aye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l5=function(){return!!e})()}function xv(e){return xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xv(e)}function kye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yw(e,t)}function Yw(e,t){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Yw(e,t)}function c5(e,t,n){return t=u5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u5(e){var t=Tye(e,"string");return qu(t)=="symbol"?t:t+""}function Tye(e,t){if(qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Am=function(e){function t(){return Nye(this,t),_ye(this,t,arguments)}return kye(t,e),Cye(t,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,h=r.yAxis,f=bye(r,pye),m=Le(f,!1);this.props.direction==="x"&&d.type!=="number"&&Gl();var g=c.map(function(p){var v=u(p,l),x=v.x,y=v.y,j=v.value,N=v.errorVal;if(!N)return null;var w=[],C,S;if(Array.isArray(N)){var _=gye(N,2);C=_[0],S=_[1]}else C=S=N;if(i==="vertical"){var k=d.scale,E=y+a,P=E+o,A=E-o,R=k(j-C),M=k(j+S);w.push({x1:M,y1:P,x2:M,y2:A}),w.push({x1:R,y1:E,x2:M,y2:E}),w.push({x1:R,y1:P,x2:R,y2:A})}else if(i==="horizontal"){var K=h.scale,z=x+a,W=z-o,T=z+o,I=K(j-C),U=K(j+S);w.push({x1:W,y1:U,x2:T,y2:U}),w.push({x1:z,y1:I,x2:z,y2:U}),w.push({x1:W,y1:I,x2:T,y2:I})}return $.createElement(ft,vv({className:"recharts-errorBar",key:"bar-".concat(w.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},m),w.map(function(H){return $.createElement("line",vv({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return $.createElement(ft,{className:"recharts-errorBars"},g)}}])}($.Component);c5(Am,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});c5(Am,"displayName","ErrorBar");function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(n),!0).forEach(function(r){Eye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eye(e,t,n){return t=Oye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oye(e){var t=Dye(e,"string");return Df(t)=="symbol"?t:t+""}function Dye(e,t){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d5=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Jr(n,su);if(!o)return null;var l=su.defaultProps,c=l!==void 0?Go(Go({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(d,h){var f=h.item,m=h.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(r||[]).map(function(d){var h=d.item,f=h.type.defaultProps,m=f!==void 0?Go(Go({},f),h.props):{},g=m.dataKey,p=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:g,type:c.iconType||v||"square",color:$2(h),value:p||g,payload:m}}),Go(Go(Go({},c),su.getWithHeight(o,a)),{},{payload:u,item:o})};function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function Jk(e){return Rye(e)||$ye(e)||Iye(e)||Mye()}function Mye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iye(e,t){if(e){if(typeof e=="string")return Qw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qw(e,t)}}function $ye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rye(e){if(Array.isArray(e))return Qw(e)}function Qw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(n),!0).forEach(function(r){iu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iu(e,t,n){return t=Lye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lye(e){var t=Fye(e,"string");return Mf(t)=="symbol"?t:t+""}function Fye(e,t){if(Mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mn(e,t,n){return Ke(e)||Ke(t)?n:Mn(t)?as(e,t,n):Ue(t)?t(e):n}function Fh(e,t,n,r){var a=$xe(e,function(l){return mn(l,t)});if(n==="number"){var i=a.filter(function(l){return ge(l)||parseFloat(l)});return i.length?[by(i),ho(i)]:[1/0,-1/0]}var o=r?a.filter(function(l){return!Ke(l)}):a;return o.map(function(l){return Mn(l)||l instanceof Date?l:""})}var Bye=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,h=a[u].coordinate,f=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(xr(h-d)!==xr(f-h)){var g=[];if(xr(f-h)===xr(c[1]-c[0])){m=f;var p=h+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=f+c[1]-c[0];g[0]=Math.min(h,(v+h)/2),g[1]=Math.max(h,(v+h)/2)}var x=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var y=Math.min(d,f),j=Math.max(d,f);if(t>(y+h)/2&&t<=(j+h)/2){o=a[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<l-1&&t>(r[N].coordinate+r[N-1].coordinate)/2&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N===l-1&&t>(r[N].coordinate+r[N-1].coordinate)/2){o=r[N].index;break}return o},$2=function(t){var n,r=t,a=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?dn(dn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},zye=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,h=Object.keys(d),f=0,m=h.length;f<m;f++){var g=d[h[f]],p=g.items,v=g.cateAxisId,x=p.filter(function(S){return fi(S.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,j=y!==void 0?dn(dn({},y),x[0].props):x[0].props,N=j.barSize,w=j[v];o[w]||(o[w]=[]);var C=Ke(N)?n:N;o[w].push({item:x[0],stackList:x.slice(1),barSize:Ke(C)?void 0:yr(C,r,0)})}}return o},Vye=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=yr(n,a,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=a/c,g=o.reduce(function(N,w){return N+w.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(f=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(N,w){var C={item:w.item,position:{offset:v.offset+v.size+u,size:f?m:w.barSize}},S=[].concat(Jk(N),[C]);return v=S[S.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){S.push({item:_,position:v})}),S},h)}else{var x=yr(r,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var y=(a-2*x-(c-1)*u)/c;y>1&&(y>>=0);var j=l===+l?Math.min(y,l):y;d=o.reduce(function(N,w,C){var S=[].concat(Jk(N),[{item:w.item,position:{offset:x+(y+u)*C+(y-j)/2,size:j}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){S.push({item:_,position:S[S.length-1].position})}),S},h)}return d},Uye=function(t,n,r,a){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=d5({children:i,legendWidth:c});if(u){var d=a||{},h=d.width,f=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&ge(t[m]))return dn(dn({},t),{},iu({},m,t[m]+(h||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&ge(t[g]))return dn(dn({},t),{},iu({},g,t[g]+(f||0)))}return t},qye=function(t,n,r){return Ke(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},h5=function(t,n,r,a,i){var o=n.props.children,l=is(o,Am).filter(function(u){return qye(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var h=mn(d,r);if(Ke(h))return u;var f=Array.isArray(h)?[by(h),ho(h)]:[h,h],m=c.reduce(function(g,p){var v=mn(d,p,0),x=f[0]-Math.abs(Array.isArray(v)?v[0]:v),y=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Wye=function(t,n,r,a,i){var o=n.map(function(l){return h5(t,l,r,i,a)}).filter(function(l){return!Ke(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},f5=function(t,n,r,a,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&h5(t,c,u,a)||Fh(t,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},m5=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},p5=function(t,n,r,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},ui=function(t,n,r){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?xr(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:a(f)+u,value:h,offset:u}});return d.filter(function(h){return!Ed(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:a(h)+u,value:h,index:f,offset:u}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+u,value:h,offset:u}}):a.domain().map(function(h,f){return{coordinate:a(h)+u,value:i?i[h]:h,index:f,offset:u}})},ij=new WeakMap,Pp=function(t,n){if(typeof n!="function")return t;ij.has(t)||ij.set(t,new WeakMap);var r=ij.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},g5=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:_f(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:hv(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Lh(),realScaleType:"point"}:i==="category"?{scale:_f(),realScaleType:"band"}:{scale:hv(),realScaleType:"linear"};if(Ul(a)){var c="scale".concat(oy(a));return{scale:(Hk[c]||Lh)(),realScaleType:Hk[c]?c:"point"}}return Ue(a)?{scale:a}:{scale:Lh(),realScaleType:"point"}},eT=1e-4,v5=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),i=Math.min(a[0],a[1])-eT,o=Math.max(a[0],a[1])+eT,l=t(n[0]),c=t(n[r-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[r-1]])}},Hye=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},Kye=function(t,n){if(!n||n.length!==2||!ge(n[0])||!ge(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!ge(t[0])||t[0]<r)&&(i[0]=r),(!ge(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},Gye=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0,l=0;l<n;++l){var c=Ed(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},Yye=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var l=Ed(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},Qye={sign:Gye,expand:pie,none:$u,silhouette:gie,wiggle:vie,positive:Yye},Xye=function(t,n,r){var a=n.map(function(l){return l.props.dataKey}),i=Qye[r],o=mie().keys(a).value(function(l,c){return+mn(l,c,0)}).order(bw).offset(i);return o(t)},Jye=function(t,n,r,a,i,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(h,f){var m,g=(m=f.type)!==null&&m!==void 0&&m.defaultProps?dn(dn({},f.type.defaultProps),f.props):f.props,p=g.stackId,v=g.hide;if(v)return h;var x=g[r],y=h[x]||{hasStack:!1,stackGroups:{}};if(Mn(p)){var j=y.stackGroups[p]||{numericAxisId:r,cateAxisId:a,items:[]};j.items.push(f),y.hasStack=!0,y.stackGroups[p]=j}else y.stackGroups[ic("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[f]};return dn(dn({},h),{},iu({},x,y))},c),d={};return Object.keys(u).reduce(function(h,f){var m=u[f];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var x=m.stackGroups[v];return dn(dn({},p),{},iu({},v,{numericAxisId:r,cateAxisId:a,items:x.items,stackedData:Xye(t,x.items,i)}))},g)}return dn(dn({},h),{},iu({},f,m))},d)},x5=function(t,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=hye(u,i,l);return t.domain([by(d),ho(d)]),{niceTicks:d}}if(i&&a==="number"){var h=t.domain(),f=fye(h,i,l);return{niceTicks:f}}return null};function yv(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ke(a[t.dataKey])){var l=Wg(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=mn(a,Ke(o)?t.dataKey:o);return Ke(c)?null:t.scale(c)}var tT=function(t){var n=t.axis,r=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+a:null;var c=mn(o,n.dataKey,n.domain[l]);return Ke(c)?null:n.scale(c)-i/2+a},Zye=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},e0e=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?dn(dn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Mn(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},t0e=function(t){return t.reduce(function(n,r){return[by(r.concat([n[0]]).filter(ge)),ho(r.concat([n[1]]).filter(ge))]},[1/0,-1/0])},y5=function(t,n,r){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var h=t0e(d.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},nT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xw=function(t,n,r){if(Ue(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(ge(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(nT.test(t[0])){var i=+nT.exec(t[0])[1];a[0]=n[0]-i}else Ue(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(ge(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(rT.test(t[1])){var o=+rT.exec(t[1])[1];a[1]=n[1]+o}else Ue(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},jv=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var i=u2(n,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},sT=function(t,n,r){return!t||!t.length||Hl(t,as(r,"type.defaultProps.domain"))?n:t},j5=function(t,n){var r=t.type.defaultProps?dn(dn({},t.type.defaultProps),t.props):t.props,a=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return dn(dn({},Le(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:$2(t),value:mn(n,a),type:c,payload:n,chartType:u,hide:d})};function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(n),!0).forEach(function(r){b5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b5(e,t,n){return t=n0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n0e(e){var t=r0e(e,"string");return If(t)=="symbol"?t:t+""}function r0e(e,t){if(If(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s0e(e,t){return l0e(e)||o0e(e,t)||i0e(e,t)||a0e()}function a0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i0e(e,t){if(e){if(typeof e=="string")return iT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iT(e,t)}}function iT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function l0e(e){if(Array.isArray(e))return e}var bv=Math.PI/180,c0e=function(t){return t*180/Math.PI},Wt=function(t,n,r,a){return{x:t+Math.cos(-bv*a)*r,y:n+Math.sin(-bv*a)*r}},w5=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},u0e=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=yr(t.cx,o,o/2),h=yr(t.cy,l,l/2),f=w5(o,l,r),m=yr(t.innerRadius,f,0),g=yr(t.outerRadius,f,f*.8),p=Object.keys(n);return p.reduce(function(v,x){var y=n[x],j=y.domain,N=y.reversed,w;if(Ke(y.range))a==="angleAxis"?w=[c,u]:a==="radiusAxis"&&(w=[m,g]),N&&(w=[w[1],w[0]]);else{w=y.range;var C=w,S=s0e(C,2);c=S[0],u=S[1]}var _=g5(y,i),k=_.realScaleType,E=_.scale;E.domain(j).range(w),v5(E);var P=x5(E,ei(ei({},y),{},{realScaleType:k})),A=ei(ei(ei({},y),P),{},{range:w,radius:g,realScaleType:k,scale:E,cx:d,cy:h,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return ei(ei({},v),{},b5({},x,A))},{})},d0e=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},h0e=function(t,n){var r=t.x,a=t.y,i=n.cx,o=n.cy,l=d0e({x:r,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:c0e(u),angleInRadian:u}},f0e=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},m0e=function(t,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},oT=function(t,n){var r=t.x,a=t.y,i=h0e({x:r,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=f0e(n),h=d.startAngle,f=d.endAngle,m=l,g;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}return g?ei(ei({},n),{},{radius:o,angle:m0e(m,n)}):null},N5=function(t){return!b.isValidElement(t)&&!Ue(t)&&typeof t!="boolean"?t.className:""};function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}var p0e=["offset"];function g0e(e){return j0e(e)||y0e(e)||x0e(e)||v0e()}function v0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x0e(e,t){if(e){if(typeof e=="string")return Jw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jw(e,t)}}function y0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j0e(e){if(Array.isArray(e))return Jw(e)}function Jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b0e(e,t){if(e==null)return{};var n=w0e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function w0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function lT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(n),!0).forEach(function(r){N0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N0e(e,t,n){return t=S0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S0e(e){var t=C0e(e,"string");return $f(t)=="symbol"?t:t+""}function C0e(e,t){if($f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rf.apply(this,arguments)}var _0e=function(t){var n=t.value,r=t.formatter,a=Ke(t.children)?n:t.children;return Ue(r)?r(a):a},P0e=function(t,n){var r=xr(n-t),a=Math.min(Math.abs(n-t),360);return r*a},A0e=function(t,n,r){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(h+f)/2,x=P0e(m,g),y=x>=0?1:-1,j,N;a==="insideStart"?(j=m+y*o,N=p):a==="insideEnd"?(j=g-y*o,N=!p):a==="end"&&(j=g+y*o,N=p),N=x<=0?N:!N;var w=Wt(u,d,v,j),C=Wt(u,d,v,j+(N?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),_=Ke(t.id)?ic("recharts-radial-line-"):t.id;return $.createElement("text",Rf({},r,{dominantBaseline:"central",className:Je("recharts-radial-bar-label",l)}),$.createElement("defs",null,$.createElement("path",{id:_,d:S})),$.createElement("textPath",{xlinkHref:"#".concat(_)},n))},k0e=function(t){var n=t.viewBox,r=t.offset,a=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,h=i.endAngle,f=(d+h)/2;if(a==="outside"){var m=Wt(o,l,u+r,f),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=Wt(o,l,v,f),y=x.x,j=x.y;return{x:y,y:j,textAnchor:"middle",verticalAnchor:"middle"}},T0e=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,i=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*a,m=h>0?"end":"start",g=h>0?"start":"end",p=u>=0?1:-1,v=p*a,x=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var j={x:l+u/2,y:c-h*a,textAnchor:"middle",verticalAnchor:m};return _n(_n({},j),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var N={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:g};return _n(_n({},N),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(i==="left"){var w={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return _n(_n({},w),r?{width:Math.max(w.x-r.x,0),height:d}:{})}if(i==="right"){var C={x:l+u+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return _n(_n({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:d}:{})}var S=r?{width:u,height:d}:{};return i==="insideLeft"?_n({x:l+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):i==="insideRight"?_n({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},S):i==="insideTop"?_n({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:g},S):i==="insideBottom"?_n({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:m},S):i==="insideTopLeft"?_n({x:l+v,y:c+f,textAnchor:y,verticalAnchor:g},S):i==="insideTopRight"?_n({x:l+u-v,y:c+f,textAnchor:x,verticalAnchor:g},S):i==="insideBottomLeft"?_n({x:l+v,y:c+d-f,textAnchor:y,verticalAnchor:m},S):i==="insideBottomRight"?_n({x:l+u-v,y:c+d-f,textAnchor:x,verticalAnchor:m},S):Pd(i)&&(ge(i.x)||dl(i.x))&&(ge(i.y)||dl(i.y))?_n({x:l+yr(i.x,u),y:c+yr(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):_n({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},E0e=function(t){return"cx"in t&&ge(t.cx)};function Un(e){var t=e.offset,n=t===void 0?5:t,r=b0e(e,p0e),a=_n({offset:n},r),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,h=d===void 0?"":d,f=a.textBreakAll;if(!i||Ke(l)&&Ke(c)&&!b.isValidElement(u)&&!Ue(u))return null;if(b.isValidElement(u))return b.cloneElement(u,a);var m;if(Ue(u)){if(m=b.createElement(u,a),b.isValidElement(m))return m}else m=_0e(a);var g=E0e(i),p=Le(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return A0e(a,m,p);var v=g?k0e(a):T0e(a);return $.createElement(Wl,Rf({className:Je("recharts-label",h)},p,v,{breakAll:f}),m)}Un.displayName="Label";var S5=function(t){var n=t.cx,r=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,h=t.x,f=t.y,m=t.top,g=t.left,p=t.width,v=t.height,x=t.clockWise,y=t.labelViewBox;if(y)return y;if(ge(p)&&ge(v)){if(ge(h)&&ge(f))return{x:h,y:f,width:p,height:v};if(ge(m)&&ge(g))return{x:m,y:g,width:p,height:v}}return ge(h)&&ge(f)?{x:h,y:f,width:0,height:0}:ge(n)&&ge(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},O0e=function(t,n){return t?t===!0?$.createElement(Un,{key:"label-implicit",viewBox:n}):Mn(t)?$.createElement(Un,{key:"label-implicit",viewBox:n,value:t}):b.isValidElement(t)?t.type===Un?b.cloneElement(t,{key:"label-implicit",viewBox:n}):$.createElement(Un,{key:"label-implicit",content:t,viewBox:n}):Ue(t)?$.createElement(Un,{key:"label-implicit",content:t,viewBox:n}):Pd(t)?$.createElement(Un,Rf({viewBox:n},t,{key:"label-implicit"})):null:null},D0e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,i=S5(t),o=is(a,Un).map(function(c,u){return b.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=O0e(t.label,n||i);return[l].concat(g0e(o))};Un.parseViewBox=S5;Un.renderCallByParent=D0e;function M0e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var I0e=M0e;const $0e=Ct(I0e);function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}var R0e=["valueAccessor"],L0e=["data","dataKey","clockWise","id","textBreakAll"];function F0e(e){return U0e(e)||V0e(e)||z0e(e)||B0e()}function B0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z0e(e,t){if(e){if(typeof e=="string")return Zw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zw(e,t)}}function V0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U0e(e){if(Array.isArray(e))return Zw(e)}function Zw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wv.apply(this,arguments)}function cT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(n),!0).forEach(function(r){q0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q0e(e,t,n){return t=W0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W0e(e){var t=H0e(e,"string");return Lf(t)=="symbol"?t:t+""}function H0e(e,t){if(Lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dT(e,t){if(e==null)return{};var n=K0e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function K0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var G0e=function(t){return Array.isArray(t.value)?$0e(t.value):t.value};function Ra(e){var t=e.valueAccessor,n=t===void 0?G0e:t,r=dT(e,R0e),a=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=dT(r,L0e);return!a||!a.length?null:$.createElement(ft,{className:"recharts-label-list"},a.map(function(d,h){var f=Ke(i)?n(d,h):mn(d&&d.payload,i),m=Ke(l)?{}:{id:"".concat(l,"-").concat(h)};return $.createElement(Un,wv({},Le(d,!0),u,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Un.parseViewBox(Ke(o)?d:uT(uT({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Ra.displayName="LabelList";function Y0e(e,t){return e?e===!0?$.createElement(Ra,{key:"labelList-implicit",data:t}):$.isValidElement(e)||Ue(e)?$.createElement(Ra,{key:"labelList-implicit",data:t,content:e}):Pd(e)?$.createElement(Ra,wv({data:t},e,{key:"labelList-implicit"})):null:null}function Q0e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=is(r,Ra).map(function(o,l){return b.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var i=Y0e(e.label,t);return[i].concat(F0e(a))}Ra.renderCallByParent=Q0e;function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function eN(){return eN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eN.apply(this,arguments)}function hT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(n),!0).forEach(function(r){X0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X0e(e,t,n){return t=J0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J0e(e){var t=Z0e(e,"string");return Ff(t)=="symbol"?t:t+""}function Z0e(e,t){if(Ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eje=function(t,n){var r=xr(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},Ap=function(t){var n=t.cx,r=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,h=Math.asin(c/d)/bv,f=u?i:i+o*h,m=Wt(n,r,d,f),g=Wt(n,r,a,f),p=u?i-o*h:i,v=Wt(n,r,d*Math.cos(h*bv),p);return{center:m,circleTangency:g,lineTangency:v,theta:h}},C5=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=eje(o,l),u=o+c,d=Wt(n,r,i,o),h=Wt(n,r,i,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var m=Wt(n,r,a,o),g=Wt(n,r,a,u);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},tje=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=xr(d-u),f=Ap({cx:n,cy:r,radius:i,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,g=f.lineTangency,p=f.theta,v=Ap({cx:n,cy:r,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,y=v.lineTangency,j=v.theta,N=c?Math.abs(u-d):Math.abs(u-d)-p-j;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):C5({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var C=Ap({cx:n,cy:r,radius:a,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=C.circleTangency,_=C.lineTangency,k=C.theta,E=Ap({cx:n,cy:r,radius:a,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=E.circleTangency,A=E.lineTangency,R=E.theta,M=c?Math.abs(u-d):Math.abs(u-d)-k-R;if(M<0&&o===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(h>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},nje={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_5=function(t){var n=fT(fT({},nje),t),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,f=n.className;if(o<i||d===h)return null;var m=Je("recharts-sector",f),g=o-i,p=yr(l,g,0,!0),v;return p>0&&Math.abs(d-h)<360?v=tje({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):v=C5({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),$.createElement("path",eN({},Le(n,!0),{className:m,d:v,role:"img"}))};function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function tN(){return tN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tN.apply(this,arguments)}function mT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(n),!0).forEach(function(r){rje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rje(e,t,n){return t=sje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sje(e){var t=aje(e,"string");return Bf(t)=="symbol"?t:t+""}function aje(e,t){if(Bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gT={curveBasisClosed:rie,curveBasisOpen:sie,curveBasis:nie,curveBumpX:Vae,curveBumpY:Uae,curveLinearClosed:aie,curveLinear:cy,curveMonotoneX:iie,curveMonotoneY:oie,curveNatural:lie,curveStep:cie,curveStepAfter:die,curveStepBefore:uie},kp=function(t){return t.x===+t.x&&t.y===+t.y},lh=function(t){return t.x},ch=function(t){return t.y},ije=function(t,n){if(Ue(t))return t;var r="curve".concat(oy(t));return(r==="curveMonotone"||r==="curveBump")&&n?gT["".concat(r).concat(n==="vertical"?"Y":"X")]:gT[r]||cy},oje=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=ije(r,l),h=u?i.filter(function(p){return kp(p)}):i,f;if(Array.isArray(o)){var m=u?o.filter(function(p){return kp(p)}):o,g=h.map(function(p,v){return pT(pT({},p),{},{base:m[v]})});return l==="vertical"?f=yp().y(ch).x1(lh).x0(function(p){return p.base.x}):f=yp().x(lh).y1(ch).y0(function(p){return p.base.y}),f.defined(kp).curve(d),f(g)}return l==="vertical"&&ge(o)?f=yp().y(ch).x1(lh).x0(o):ge(o)?f=yp().x(lh).y1(ch).y0(o):f=jL().x(lh).y(ch),f.defined(kp).curve(d),f(h)},kl=function(t){var n=t.className,r=t.points,a=t.path,i=t.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?oje(t):a;return b.createElement("path",tN({},Le(t,!1),Hg(t),{className:Je("recharts-curve",n),d:o,ref:i}))},P5={exports:{}},lje="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cje=lje,uje=cje;function A5(){}function k5(){}k5.resetWarningCache=A5;var dje=function(){function e(r,a,i,o,l,c){if(c!==uje){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:k5,resetWarningCache:A5};return n.PropTypes=n,n};P5.exports=dje();var hje=P5.exports;const Nt=Ct(hje);var fje=Object.getOwnPropertyNames,mje=Object.getOwnPropertySymbols,pje=Object.prototype.hasOwnProperty;function vT(e,t){return function(r,a,i){return e(r,a,i)&&t(r,a,i)}}function Tp(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);var i=a.cache,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);var c=e(n,r,a);return i.delete(n),i.delete(r),c}}function xT(e){return fje(e).concat(mje(e))}var gje=Object.hasOwn||function(e,t){return pje.call(e,t)};function cc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var vje="__v",xje="__o",yje="_owner",yT=Object.getOwnPropertyDescriptor,jT=Object.keys;function jje(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function bje(e,t){return cc(e.getTime(),t.getTime())}function wje(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Nje(e,t){return e===t}function bT(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,h=0;(l=u.next())&&!l.done;){if(a[h]){h++;continue}var f=o.value,m=l.value;if(n.equals(f[0],m[0],c,h,e,t,n)&&n.equals(f[1],m[1],f[0],m[0],e,t,n)){d=a[h]=!0;break}h++}if(!d)return!1;c++}return!0}var Sje=cc;function Cje(e,t,n){var r=jT(e),a=r.length;if(jT(t).length!==a)return!1;for(;a-- >0;)if(!T5(e,t,n,r[a]))return!1;return!0}function uh(e,t,n){var r=xT(e),a=r.length;if(xT(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=r[a],!T5(e,t,n,i)||(o=yT(e,i),l=yT(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function _je(e,t){return cc(e.valueOf(),t.valueOf())}function Pje(e,t){return e.source===t.source&&e.flags===t.flags}function wT(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Aje(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function kje(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function T5(e,t,n,r){return(r===yje||r===xje||r===vje)&&(e.$$typeof||t.$$typeof)?!0:gje(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Tje="[object Arguments]",Eje="[object Boolean]",Oje="[object Date]",Dje="[object Error]",Mje="[object Map]",Ije="[object Number]",$je="[object Object]",Rje="[object RegExp]",Lje="[object Set]",Fje="[object String]",Bje="[object URL]",zje=Array.isArray,NT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,ST=Object.assign,Vje=Object.prototype.toString.call.bind(Object.prototype.toString);function Uje(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,h=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(g,p,v){if(g===p)return!0;if(g==null||p==null)return!1;var x=typeof g;if(x!==typeof p)return!1;if(x!=="object")return x==="number"?o(g,p,v):x==="function"?a(g,p,v):!1;var y=g.constructor;if(y!==p.constructor)return!1;if(y===Object)return l(g,p,v);if(zje(g))return t(g,p,v);if(NT!=null&&NT(g))return h(g,p,v);if(y===Date)return n(g,p,v);if(y===RegExp)return u(g,p,v);if(y===Map)return i(g,p,v);if(y===Set)return d(g,p,v);var j=Vje(g);return j===Oje?n(g,p,v):j===Rje?u(g,p,v):j===Mje?i(g,p,v):j===Lje?d(g,p,v):j===$je?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,v):j===Bje?f(g,p,v):j===Dje?r(g,p,v):j===Tje?l(g,p,v):j===Eje||j===Ije||j===Fje?c(g,p,v):!1}}function qje(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?uh:jje,areDatesEqual:bje,areErrorsEqual:wje,areFunctionsEqual:Nje,areMapsEqual:r?vT(bT,uh):bT,areNumbersEqual:Sje,areObjectsEqual:r?uh:Cje,arePrimitiveWrappersEqual:_je,areRegExpsEqual:Pje,areSetsEqual:r?vT(wT,uh):wT,areTypedArraysEqual:r?uh:Aje,areUrlsEqual:kje};if(n&&(a=ST({},a,n(a))),t){var i=Tp(a.areArraysEqual),o=Tp(a.areMapsEqual),l=Tp(a.areObjectsEqual),c=Tp(a.areSetsEqual);a=ST({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Wje(e){return function(t,n,r,a,i,o,l){return e(t,n,l)}}function Hje(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(c,u){var d=r(),h=d.cache,f=h===void 0?t?new WeakMap:void 0:h,m=d.meta;return n(c,u,{cache:f,equals:a,meta:m,strict:i})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return n(c,u,o)}}var Kje=Wo();Wo({strict:!0});Wo({circular:!0});Wo({circular:!0,strict:!0});Wo({createInternalComparator:function(){return cc}});Wo({strict:!0,createInternalComparator:function(){return cc}});Wo({circular:!0,createInternalComparator:function(){return cc}});Wo({circular:!0,createInternalComparator:function(){return cc},strict:!0});function Wo(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=qje(e),c=Uje(l),u=r?r(c):Wje(c);return Hje({circular:n,comparator:c,createState:a,equals:u,strict:o})}function Gje(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function CT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):Gje(a)};requestAnimationFrame(r)}function nN(e){"@babel/helpers - typeof";return nN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nN(e)}function Yje(e){return Zje(e)||Jje(e)||Xje(e)||Qje()}function Qje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xje(e,t){if(e){if(typeof e=="string")return _T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _T(e,t)}}function _T(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zje(e){if(Array.isArray(e))return e}function ebe(){var e={},t=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Yje(o),c=l[0],u=l.slice(1);if(typeof c=="number"){CT(a.bind(null,u),c);return}a(c),CT(a.bind(null,u));return}nN(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function PT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function AT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(n),!0).forEach(function(r){E5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E5(e,t,n){return t=tbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tbe(e){var t=nbe(e,"string");return zf(t)==="symbol"?t:String(t)}function nbe(e,t){if(zf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rbe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},sbe=function(t){return t},abe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Bh=function(t,n){return Object.keys(n).reduce(function(r,a){return AT(AT({},r),{},E5({},a,t(a,n[a])))},{})},kT=function(t,n,r){return t.map(function(a){return"".concat(abe(a)," ").concat(n,"ms ").concat(r)}).join(",")};function ibe(e,t){return cbe(e)||lbe(e,t)||O5(e,t)||obe()}function obe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cbe(e){if(Array.isArray(e))return e}function ube(e){return fbe(e)||hbe(e)||O5(e)||dbe()}function dbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O5(e,t){if(e){if(typeof e=="string")return rN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rN(e,t)}}function hbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fbe(e){if(Array.isArray(e))return rN(e)}function rN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nv=1e-4,D5=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},M5=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},TT=function(t,n){return function(r){var a=D5(t,n);return M5(a,r)}},mbe=function(t,n){return function(r){var a=D5(t,n),i=[].concat(ube(a.map(function(o,l){return o*l}).slice(1)),[0]);return M5(i,r)}},ET=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=ibe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var h=TT(a,o),f=TT(i,l),m=mbe(a,o),g=function(x){return x>1?1:x<0?0:x},p=function(x){for(var y=x>1?1:x,j=y,N=0;N<8;++N){var w=h(j)-y,C=m(j);if(Math.abs(w-y)<Nv||C<Nv)return f(j);j=g(j-w/C)}return f(j)};return p.isStepper=!1,p},pbe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,h,f){var m=-(d-h)*r,g=f*i,p=f+(m-g)*l/1e3,v=f*l/1e3+d;return Math.abs(v-h)<Nv&&Math.abs(p)<Nv?[h,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},gbe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ET(a);case"spring":return pbe();default:if(a.split("(")[0]==="cubic-bezier")return ET(a)}return typeof a=="function"?a:null};function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function OT(e){return ybe(e)||xbe(e)||I5(e)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ybe(e){if(Array.isArray(e))return aN(e)}function DT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(n),!0).forEach(function(r){sN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sN(e,t,n){return t=jbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jbe(e){var t=bbe(e,"string");return Vf(t)==="symbol"?t:String(t)}function bbe(e,t){if(Vf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wbe(e,t){return Cbe(e)||Sbe(e,t)||I5(e,t)||Nbe()}function Nbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I5(e,t){if(e){if(typeof e=="string")return aN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aN(e,t)}}function aN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Cbe(e){if(Array.isArray(e))return e}var Sv=function(t,n,r){return t+(n-t)*r},iN=function(t){var n=t.from,r=t.to;return n!==r},_be=function e(t,n,r){var a=Bh(function(i,o){if(iN(o)){var l=t(o.from,o.to,o.velocity),c=wbe(l,2),u=c[0],d=c[1];return Gn(Gn({},o),{},{from:u,velocity:d})}return o},n);return r<1?Bh(function(i,o){return iN(o)?Gn(Gn({},o),{},{velocity:Sv(o.velocity,a[i].velocity,r),from:Sv(o.from,a[i].from,r)}):o},n):e(t,a,r-1)};const Pbe=function(e,t,n,r,a){var i=rbe(e,t),o=i.reduce(function(v,x){return Gn(Gn({},v),{},sN({},x,[e[x],t[x]]))},{}),l=i.reduce(function(v,x){return Gn(Gn({},v),{},sN({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return Bh(function(x,y){return y.from},l)},m=function(){return!Object.values(l).filter(iN).length},g=function(x){u||(u=x);var y=x-u,j=y/n.dt;l=_be(n,l,j),a(Gn(Gn(Gn({},e),t),f())),u=x,m()||(c=requestAnimationFrame(h))},p=function(x){d||(d=x);var y=(x-d)/r,j=Bh(function(w,C){return Sv.apply(void 0,OT(C).concat([n(y)]))},o);if(a(Gn(Gn(Gn({},e),t),j)),y<1)c=requestAnimationFrame(h);else{var N=Bh(function(w,C){return Sv.apply(void 0,OT(C).concat([n(1)]))},o);a(Gn(Gn(Gn({},e),t),N))}};return h=n.isStepper?g:p,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}var Abe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kbe(e,t){if(e==null)return{};var n=Tbe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tbe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function oj(e){return Mbe(e)||Dbe(e)||Obe(e)||Ebe()}function Ebe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Obe(e,t){if(e){if(typeof e=="string")return oN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oN(e,t)}}function Dbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mbe(e){if(Array.isArray(e))return oN(e)}function oN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(n),!0).forEach(function(r){wh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wh(e,t,n){return t=$5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ibe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$5(r.key),r)}}function Rbe(e,t,n){return t&&$be(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $5(e){var t=Lbe(e,"string");return Wu(t)==="symbol"?t:String(t)}function Lbe(e,t){if(Wu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lN(e,t)}function lN(e,t){return lN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},lN(e,t)}function Bbe(e){var t=zbe();return function(){var r=Cv(e),a;if(t){var i=Cv(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return cN(this,a)}}function cN(e,t){if(t&&(Wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uN(e)}function uN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cv(e){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cv(e)}var ia=function(e){Fbe(n,e);var t=Bbe(n);function n(r,a){var i;Ibe(this,n),i=t.call(this,r,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(uN(i)),i.changeStyle=i.changeStyle.bind(uN(i)),!l||m<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:d}),cN(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof f=="function")return i.state={style:u},cN(i);i.state={style:c?wh({},c,u):u}}else i.state={style:{}};return i}return Rbe(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,h=i.from,f=this.state.style;if(l){if(!o){var m={style:c?wh({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(m);return}if(!(Kje(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?h:a.to;if(this.state&&f){var v={style:c?wh({},c,p):p};(c&&f[c]!==p||!c&&f!==p)&&this.setState(v)}this.runAnimation(Rs(Rs({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,h=a.onAnimationEnd,f=a.onAnimationStart,m=Pbe(o,l,gbe(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([f,d,g,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,m=function(p,v,x){if(x===0)return p;var y=v.duration,j=v.easing,N=j===void 0?"ease":j,w=v.style,C=v.properties,S=v.onAnimationEnd,_=x>0?o[x-1]:v,k=C||Object.keys(w);if(typeof N=="function"||N==="spring")return[].concat(oj(p),[i.runJSAnimation.bind(i,{from:_.style,to:w,duration:y,easing:N}),y]);var E=kT(k,y,N),P=Rs(Rs(Rs({},_.style),w),{},{transition:E});return[].concat(oj(p),[P,y,S]).filter(sbe)};return this.manager.start([c].concat(oj(o.reduce(m,[d,Math.max(f,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=ebe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,h=a.onAnimationEnd,f=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var p=l?wh({},l,c):c,v=kT(Object.keys(p),o,u);g.start([d,i,Rs(Rs({},p),{},{transition:v}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=kbe(a,Abe),u=b.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var h=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,x=g.className,y=b.cloneElement(m,Rs(Rs({},c),{},{style:Rs(Rs({},v),d),className:x}));return y};return u===1?h(b.Children.only(i)):$.createElement("div",null,b.Children.map(i,function(f){return h(f)}))}}]),n}(b.PureComponent);ia.displayName="Animate";ia.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ia.propTypes={from:Nt.oneOfType([Nt.object,Nt.string]),to:Nt.oneOfType([Nt.object,Nt.string]),attributeName:Nt.string,duration:Nt.number,begin:Nt.number,easing:Nt.oneOfType([Nt.string,Nt.func]),steps:Nt.arrayOf(Nt.shape({duration:Nt.number.isRequired,style:Nt.object.isRequired,easing:Nt.oneOfType([Nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Nt.func]),properties:Nt.arrayOf("string"),onAnimationEnd:Nt.func})),children:Nt.oneOfType([Nt.node,Nt.func]),isActive:Nt.bool,canBegin:Nt.bool,onAnimationEnd:Nt.func,shouldReAnimate:Nt.bool,onAnimationStart:Nt.func,onAnimationReStart:Nt.func};function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_v.apply(this,arguments)}function Vbe(e,t){return Hbe(e)||Wbe(e,t)||qbe(e,t)||Ube()}function Ube(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qbe(e,t){if(e){if(typeof e=="string")return IT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IT(e,t)}}function IT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Hbe(e){if(Array.isArray(e))return e}function $T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function RT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(n),!0).forEach(function(r){Kbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kbe(e,t,n){return t=Gbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gbe(e){var t=Ybe(e,"string");return Uf(t)=="symbol"?t:t+""}function Ybe(e,t){if(Uf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LT=function(t,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),l=a>=0?1:-1,c=r>=0?1:-1,u=a>=0&&r>=0||a<0&&r<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,m=4;f<m;f++)h[f]=i[f]>o?o:i[f];d="M".concat(t,",").concat(n+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(n)),d+="L ".concat(t+r-c*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*h[1])),d+="L ".concat(t+r,",").concat(n+a-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+r-c*h[2],",").concat(n+a)),d+="L ".concat(t+c*h[3],",").concat(n+a),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(n,`
            L `).concat(t+r-c*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*g,`
            L `).concat(t+r,",").concat(n+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r-c*g,",").concat(n+a,`
            L `).concat(t+c*g,",").concat(n+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(n+a-l*g," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return d},Qbe=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return r>=u&&r<=d&&a>=h&&a<=f}return!1},Xbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},R2=function(t){var n=RT(RT({},Xbe),t),r=b.useRef(),a=b.useState(-1),i=Vbe(a,2),o=i[0],l=i[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,u=n.y,d=n.width,h=n.height,f=n.radius,m=n.className,g=n.animationEasing,p=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,y=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var j=Je("recharts-rectangle",m);return y?$.createElement(ia,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(N){var w=N.width,C=N.height,S=N.x,_=N.y;return $.createElement(ia,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:x,easing:g},$.createElement("path",_v({},Le(n,!0),{className:j,d:LT(S,_,w,C,f),ref:r})))}):$.createElement("path",_v({},Le(n,!0),{className:j,d:LT(c,u,d,h,f)}))},Jbe=["points","className","baseLinePoints","connectNulls"];function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uc.apply(this,arguments)}function Zbe(e,t){if(e==null)return{};var n=ewe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ewe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function FT(e){return swe(e)||rwe(e)||nwe(e)||twe()}function twe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nwe(e,t){if(e){if(typeof e=="string")return dN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dN(e,t)}}function rwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function swe(e){if(Array.isArray(e))return dN(e)}function dN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var BT=function(t){return t&&t.x===+t.x&&t.y===+t.y},awe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){BT(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),BT(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},zh=function(t,n){var r=awe(t);n&&(r=[r.reduce(function(i,o){return[].concat(FT(i),FT(o))},[])]);var a=r.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},iwe=function(t,n,r){var a=zh(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(zh(n.reverse(),r).slice(1))},owe=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Zbe(t,Jbe);if(!n||!n.length)return null;var l=Je("recharts-polygon",r);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=iwe(n,a,i);return $.createElement("g",{className:l},$.createElement("path",Uc({},Le(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?$.createElement("path",Uc({},Le(o,!0),{fill:"none",d:zh(n,i)})):null,c?$.createElement("path",Uc({},Le(o,!0),{fill:"none",d:zh(a,i)})):null)}var d=zh(n,i);return $.createElement("path",Uc({},Le(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hN.apply(this,arguments)}var km=function(t){var n=t.cx,r=t.cy,a=t.r,i=t.className,o=Je("recharts-dot",i);return n===+n&&r===+r&&a===+a?b.createElement("circle",hN({},Le(t,!1),Hg(t),{className:o,cx:n,cy:r,r:a})):null};function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}var lwe=["x","y","top","left","width","height","className"];function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fN.apply(this,arguments)}function zT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cwe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(n),!0).forEach(function(r){uwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uwe(e,t,n){return t=dwe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dwe(e){var t=hwe(e,"string");return qf(t)=="symbol"?t:t+""}function hwe(e,t){if(qf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fwe(e,t){if(e==null)return{};var n=mwe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mwe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var pwe=function(t,n,r,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},gwe=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,h=d===void 0?0:d,f=t.height,m=f===void 0?0:f,g=t.className,p=fwe(t,lwe),v=cwe({x:r,y:i,top:l,left:u,width:h,height:m},p);return!ge(r)||!ge(i)||!ge(h)||!ge(m)||!ge(l)||!ge(u)?null:$.createElement("path",fN({},Le(v,!0),{className:Je("recharts-cross",g),d:pwe(r,i,h,m,l,u)}))},vwe=jy,xwe=GF,ywe=Wa;function jwe(e,t){return e&&e.length?vwe(e,ywe(t),xwe):void 0}var bwe=jwe;const wwe=Ct(bwe);var Nwe=jy,Swe=Wa,Cwe=YF;function _we(e,t){return e&&e.length?Nwe(e,Swe(t),Cwe):void 0}var Pwe=_we;const Awe=Ct(Pwe);var kwe=["cx","cy","angle","ticks","axisLine"],Twe=["ticks","tick","angle","tickFormatter","stroke"];function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vh.apply(this,arguments)}function VT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(n),!0).forEach(function(r){Sy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UT(e,t){if(e==null)return{};var n=Ewe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ewe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Owe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L5(r.key),r)}}function Dwe(e,t,n){return t&&qT(e.prototype,t),n&&qT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mwe(e,t,n){return t=Pv(t),Iwe(e,R5()?Reflect.construct(t,n||[],Pv(e).constructor):t.apply(e,n))}function Iwe(e,t){if(t&&(Hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $we(e)}function $we(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R5=function(){return!!e})()}function Pv(e){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pv(e)}function Rwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mN(e,t)}function mN(e,t){return mN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},mN(e,t)}function Sy(e,t,n){return t=L5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L5(e){var t=Lwe(e,"string");return Hu(t)=="symbol"?t:t+""}function Lwe(e,t){if(Hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cy=function(e){function t(){return Owe(this,t),Mwe(this,t,arguments)}return Rwe(t,e),Dwe(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Wt(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=wwe(l,function(d){return d.coordinate||0}),u=Awe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=UT(r,kwe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),h=Wt(a,i,d[0],o),f=Wt(a,i,d[1],o),m=Yo(Yo(Yo({},Le(u,!1)),{},{fill:"none"},Le(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return $.createElement("line",Vh({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=UT(a,Twe),h=this.getTickTextAnchor(),f=Le(d,!1),m=Le(o,!1),g=i.map(function(p,v){var x=r.getTickValueCoord(p),y=Yo(Yo(Yo(Yo({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},f),{},{stroke:"none",fill:u},m),{},{index:v},x),{},{payload:p});return $.createElement(ft,Vh({className:Je("recharts-polar-radius-axis-tick",N5(o)),key:"tick-".concat(p.coordinate)},ql(r.props,p,v)),t.renderTickItem(o,y,c?c(p.value,v):p.value))});return $.createElement(ft,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,o=r.tick;return!a||!a.length?null:$.createElement(ft,{className:Je("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Un.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return $.isValidElement(r)?o=$.cloneElement(r,a):Ue(r)?o=r(a):o=$.createElement(Wl,Vh({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(b.PureComponent);Sy(Cy,"displayName","PolarRadiusAxis");Sy(Cy,"axisType","radiusAxis");Sy(Cy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},al.apply(this,arguments)}function WT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(n),!0).forEach(function(r){_y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B5(r.key),r)}}function Bwe(e,t,n){return t&&HT(e.prototype,t),n&&HT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zwe(e,t,n){return t=Av(t),Vwe(e,F5()?Reflect.construct(t,n||[],Av(e).constructor):t.apply(e,n))}function Vwe(e,t){if(t&&(Ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uwe(e)}function Uwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F5=function(){return!!e})()}function Av(e){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Av(e)}function qwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pN(e,t)}function pN(e,t){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},pN(e,t)}function _y(e,t,n){return t=B5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B5(e){var t=Wwe(e,"string");return Ku(t)=="symbol"?t:t+""}function Wwe(e,t){if(Ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hwe=Math.PI/180,KT=1e-5,Py=function(e){function t(){return Fwe(this,t),zwe(this,t,arguments)}return qwe(t,e),Bwe(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,h=Wt(i,o,l,r.coordinate),f=Wt(i,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*Hwe),o;return i>KT?o=a==="outer"?"start":"end":i<-KT?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=Qo(Qo({},Le(this.props,!1)),{},{fill:"none"},Le(l,!1));if(c==="circle")return $.createElement(km,al({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,h=d.map(function(f){return Wt(a,i,o,f.coordinate)});return $.createElement(owe,al({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Le(this.props,!1),h=Le(o,!1),f=Qo(Qo({},d),{},{fill:"none"},Le(l,!1)),m=i.map(function(g,p){var v=r.getTickLineCoord(g),x=r.getTickTextAnchor(g),y=Qo(Qo(Qo({textAnchor:x},d),{},{stroke:"none",fill:u},h),{},{index:p,payload:g,x:v.x2,y:v.y2});return $.createElement(ft,al({className:Je("recharts-polar-angle-axis-tick",N5(o)),key:"tick-".concat(g.coordinate)},ql(r.props,g,p)),l&&$.createElement("line",al({className:"recharts-polar-angle-axis-tick-line"},f,v)),o&&t.renderTickItem(o,y,c?c(g.value,p):g.value))});return $.createElement(ft,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!a||!a.length?null:$.createElement(ft,{className:Je("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var o;return $.isValidElement(r)?o=$.cloneElement(r,a):Ue(r)?o=r(a):o=$.createElement(Wl,al({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(b.PureComponent);_y(Py,"displayName","PolarAngleAxis");_y(Py,"axisType","angleAxis");_y(Py,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Kwe=qL,Gwe=Kwe(Object.getPrototypeOf,Object),Ywe=Gwe,Qwe=Ti,Xwe=Ywe,Jwe=Ei,Zwe="[object Object]",eNe=Function.prototype,tNe=Object.prototype,z5=eNe.toString,nNe=tNe.hasOwnProperty,rNe=z5.call(Object);function sNe(e){if(!Jwe(e)||Qwe(e)!=Zwe)return!1;var t=Xwe(e);if(t===null)return!0;var n=nNe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&z5.call(n)==rNe}var aNe=sNe;const iNe=Ct(aNe);var oNe=Ti,lNe=Ei,cNe="[object Boolean]";function uNe(e){return e===!0||e===!1||lNe(e)&&oNe(e)==cNe}var dNe=uNe;const hNe=Ct(dNe);function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kv.apply(this,arguments)}function fNe(e,t){return vNe(e)||gNe(e,t)||pNe(e,t)||mNe()}function mNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pNe(e,t){if(e){if(typeof e=="string")return GT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GT(e,t)}}function GT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function vNe(e){if(Array.isArray(e))return e}function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function QT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(n),!0).forEach(function(r){xNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xNe(e,t,n){return t=yNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yNe(e){var t=jNe(e,"string");return Wf(t)=="symbol"?t:t+""}function jNe(e,t){if(Wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XT=function(t,n,r,a,i){var o=r-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+i),l+="L ".concat(t+r-o/2-a,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},bNe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wNe=function(t){var n=QT(QT({},bNe),t),r=b.useRef(),a=b.useState(-1),i=fNe(a,2),o=i[0],l=i[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,h=n.lowerWidth,f=n.height,m=n.className,g=n.animationEasing,p=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var y=Je("recharts-trapezoid",m);return x?$.createElement(ia,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(j){var N=j.upperWidth,w=j.lowerWidth,C=j.height,S=j.x,_=j.y;return $.createElement(ia,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},$.createElement("path",kv({},Le(n,!0),{className:y,d:XT(S,_,N,w,C),ref:r})))}):$.createElement("g",null,$.createElement("path",kv({},Le(n,!0),{className:y,d:XT(c,u,d,h,f)})))},NNe=["option","shapeType","propTransformer","activeClassName","isActive"];function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}function SNe(e,t){if(e==null)return{};var n=CNe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function CNe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function JT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(n),!0).forEach(function(r){_Ne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Ne(e,t,n){return t=PNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PNe(e){var t=ANe(e,"string");return Hf(t)=="symbol"?t:t+""}function ANe(e,t){if(Hf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kNe(e,t){return Tv(Tv({},t),e)}function TNe(e,t){return e==="symbols"}function ZT(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return $.createElement(R2,n);case"trapezoid":return $.createElement(wNe,n);case"sector":return $.createElement(_5,n);case"symbols":if(TNe(t))return $.createElement(n2,n);break;default:return null}}function ENe(e){return b.isValidElement(e)?e.props:e}function V5(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?kNe:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=SNe(e,NNe),u;if(b.isValidElement(t))u=b.cloneElement(t,Tv(Tv({},c),ENe(t)));else if(Ue(t))u=t(c);else if(iNe(t)&&!hNe(t)){var d=a(t,c);u=$.createElement(ZT,{shapeType:n,elementProps:d})}else{var h=c;u=$.createElement(ZT,{shapeType:n,elementProps:h})}return l?$.createElement(ft,{className:o},u):u}function Ay(e,t){return t!=null&&"trapezoids"in e.props}function ky(e,t){return t!=null&&"sectors"in e.props}function Kf(e,t){return t!=null&&"points"in e.props}function ONe(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&i}function DNe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function MNe(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function INe(e,t){var n;return Ay(e,t)?n=ONe:ky(e,t)?n=DNe:Kf(e,t)&&(n=MNe),n}function $Ne(e,t){var n;return Ay(e,t)?n="trapezoids":ky(e,t)?n="sectors":Kf(e,t)&&(n="points"),n}function RNe(e,t){if(Ay(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ky(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Kf(e,t)?t.payload:{}}function LNe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=$Ne(n,t),i=RNe(n,t),o=r.filter(function(c,u){var d=Hl(i,c),h=n.props[a].filter(function(g){var p=INe(n,t);return p(g,t)}),f=n.props[a].indexOf(h[h.length-1]),m=u===f;return d&&m}),l=r.indexOf(o[o.length-1]);return l}var Jp;function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qc.apply(this,arguments)}function eE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(n),!0).forEach(function(r){bs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q5(r.key),r)}}function BNe(e,t,n){return t&&tE(e.prototype,t),n&&tE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zNe(e,t,n){return t=Ev(t),VNe(e,U5()?Reflect.construct(t,n||[],Ev(e).constructor):t.apply(e,n))}function VNe(e,t){if(t&&(Gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UNe(e)}function UNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U5=function(){return!!e})()}function Ev(e){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ev(e)}function qNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gN(e,t)}function gN(e,t){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},gN(e,t)}function bs(e,t,n){return t=q5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q5(e){var t=WNe(e,"string");return Gu(t)=="symbol"?t:t+""}function WNe(e,t){if(Gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ha=function(e){function t(n){var r;return FNe(this,t),r=zNe(this,t,[n]),bs(r,"pieRef",null),bs(r,"sectorRefs",[]),bs(r,"id",ic("recharts-pie-")),bs(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ue(a)&&a()}),bs(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ue(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return qNe(t,e),BNe(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Le(this.props,!1),h=Le(o,!1),f=Le(l,!1),m=o&&o.offsetRadius||20,g=r.map(function(p,v){var x=(p.startAngle+p.endAngle)/2,y=Wt(p.cx,p.cy,p.outerRadius+m,x),j=Vt(Vt(Vt(Vt({},d),p),{},{stroke:"none"},h),{},{index:v,textAnchor:t.getTextAnchor(y.x,p.cx)},y),N=Vt(Vt(Vt(Vt({},d),p),{},{fill:"none",stroke:p.fill},f),{},{index:v,points:[Wt(p.cx,p.cy,p.outerRadius,x),y]}),w=c;return Ke(c)&&Ke(u)?w="value":Ke(c)&&(w=u),$.createElement(ft,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,j,mn(p,w)))});return $.createElement(ft,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var h=a.isActiveIndex(d),f=c&&a.hasActiveIndex()?c:null,m=h?o:f,g=Vt(Vt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return $.createElement(ft,qc({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},ql(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),$.createElement(V5,qc({option:m,isActive:h,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state,f=h.prevSectors,m=h.prevIsAnimationActive;return $.createElement(ia,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,v=[],x=i&&i[0],y=x.startAngle;return i.forEach(function(j,N){var w=f&&f[N],C=N>0?as(j,"paddingAngle",0):0;if(w){var S=En(w.endAngle-w.startAngle,j.endAngle-j.startAngle),_=Vt(Vt({},j),{},{startAngle:y+C,endAngle:y+S(p)+C});v.push(_),y=_.endAngle}else{var k=j.endAngle,E=j.startAngle,P=En(0,k-E),A=P(p),R=Vt(Vt({},j),{},{startAngle:y+C,endAngle:y+A+C});v.push(R),y=R.endAngle}}),$.createElement(ft,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Hl(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,h=a.innerRadius,f=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!ge(u)||!ge(d)||!ge(h)||!ge(f))return null;var p=Je("recharts-pie",l);return $.createElement(ft,{tabIndex:this.props.rootTabIndex,className:p,ref:function(x){r.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),Un.renderCallByParent(this.props,null,!1),(!m||g)&&Ra.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if($.isValidElement(r))return $.cloneElement(r,a);if(Ue(r))return r(a);var o=Je("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return $.createElement(kl,qc({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,a,i){if($.isValidElement(r))return $.cloneElement(r,a);var o=i;if(Ue(r)&&(o=r(a),$.isValidElement(o)))return o;var l=Je("recharts-pie-label-text",typeof r!="boolean"&&!Ue(r)?r.className:"");return $.createElement(Wl,qc({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(b.PureComponent);Jp=ha;bs(ha,"displayName","Pie");bs(ha,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ta.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});bs(ha,"parseDeltaAngle",function(e,t){var n=xr(t-e),r=Math.min(Math.abs(t-e),360);return n*r});bs(ha,"getRealPieData",function(e){var t=e.data,n=e.children,r=Le(e,!1),a=is(n,Id);return t&&t.length?t.map(function(i,o){return Vt(Vt(Vt({payload:i},r),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Vt(Vt({},r),i.props)}):[]});bs(ha,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,i=t.height,o=w5(a,i),l=r+yr(e.cx,a,a/2),c=n+yr(e.cy,i,i/2),u=yr(e.innerRadius,o,0),d=yr(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});bs(ha,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Vt(Vt({},t.type.defaultProps),t.props):t.props,a=Jp.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,h=r.valueKey,f=r.tooltipType,m=Math.abs(r.minAngle),g=Jp.parseCoordinateOfPie(r,n),p=Jp.parseDeltaAngle(o,l),v=Math.abs(p),x=u;Ke(u)&&Ke(h)?(ea(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ke(u)&&(ea(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=h);var y=a.filter(function(_){return mn(_,x,0)!==0}).length,j=(v>=360?y:y-1)*c,N=v-y*m-j,w=a.reduce(function(_,k){var E=mn(k,x,0);return _+(ge(E)?E:0)},0),C;if(w>0){var S;C=a.map(function(_,k){var E=mn(_,x,0),P=mn(_,d,k),A=(ge(E)?E:0)/w,R;k?R=S.endAngle+xr(p)*c*(E!==0?1:0):R=o;var M=R+xr(p)*((E!==0?m:0)+A*N),K=(R+M)/2,z=(g.innerRadius+g.outerRadius)/2,W=[{name:P,value:E,payload:_,dataKey:x,type:f}],T=Wt(g.cx,g.cy,z,K);return S=Vt(Vt(Vt({percent:A,cornerRadius:i,name:P,tooltipPayload:W,midAngle:K,middleRadius:z,tooltipPosition:T},_),g),{},{value:mn(_,x),startAngle:R,endAngle:M,payload:_,paddingAngle:xr(p)*c}),S})}return Vt(Vt({},g),{},{sectors:C,data:a})});var HNe=Math.ceil,KNe=Math.max;function GNe(e,t,n,r){for(var a=-1,i=KNe(HNe((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++a]=e,e+=n;return o}var YNe=GNe,QNe=cF,nE=1/0,XNe=17976931348623157e292;function JNe(e){if(!e)return e===0?e:0;if(e=QNe(e),e===nE||e===-nE){var t=e<0?-1:1;return t*XNe}return e===e?e:0}var W5=JNe,ZNe=YNe,e1e=fy,lj=W5;function t1e(e){return function(t,n,r){return r&&typeof r!="number"&&e1e(t,n,r)&&(n=r=void 0),t=lj(t),n===void 0?(n=t,t=0):n=lj(n),r=r===void 0?t<n?1:-1:lj(r),ZNe(t,n,r,e)}}var n1e=t1e,r1e=n1e,s1e=r1e(),a1e=s1e;const Ov=Ct(a1e);function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function rE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(n),!0).forEach(function(r){H5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H5(e,t,n){return t=i1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i1e(e){var t=o1e(e,"string");return Gf(t)=="symbol"?t:t+""}function o1e(e,t){if(Gf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l1e=["Webkit","Moz","O","ms"],c1e=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=l1e.reduce(function(i,o){return sE(sE({},i),{},H5({},o+r,n))},{});return a[t]=n,a};function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dv.apply(this,arguments)}function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(n),!0).forEach(function(r){Qr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G5(r.key),r)}}function d1e(e,t,n){return t&&iE(e.prototype,t),n&&iE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h1e(e,t,n){return t=Mv(t),f1e(e,K5()?Reflect.construct(t,n||[],Mv(e).constructor):t.apply(e,n))}function f1e(e,t){if(t&&(Yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m1e(e)}function m1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K5=function(){return!!e})()}function Mv(e){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mv(e)}function p1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vN(e,t)}function vN(e,t){return vN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},vN(e,t)}function Qr(e,t,n){return t=G5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G5(e){var t=g1e(e,"string");return Yu(t)=="symbol"?t:t+""}function g1e(e,t){if(Yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v1e=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Lh().domain(Ov(0,c)).range([i,i+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(a),scale:u,scaleValues:d}},oE=function(t){return t.changedTouches&&!!t.changedTouches.length},Qu=function(e){function t(n){var r;return u1e(this,t),r=h1e(this,t,[n]),Qr(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),Qr(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),Qr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),Qr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Qr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Qr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Qr(r,"handleSlideDragStart",function(a){var i=oE(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return p1e(t,e),d1e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(a,i),f=Math.max(a,i),m=t.getIndexInRange(o,h),g=t.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=mn(i[r],l,r);return Ue(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,m=c.endIndex,g=c.onChange,p=r.pageX-i;p>0?p=Math.min(p,u+d-h-l,u+d-h-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==f||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=oE(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=r.pageX-i;y>0?y=Math.min(y,h+f-m-u):y<0&&(y=Math.max(y,h-u)),x[o]=u+y;var j=this.getIndex(x),N=j.startIndex,w=j.endIndex,C=function(){var _=v.length-1;return o==="startX"&&(l>c?N%p===0:w%p===0)||l<c&&w===_||o==="endX"&&(l>c?w%p===0:N%p===0)||l>c&&w===_};this.setState(Qr(Qr({},o,u+y),"brushMoveStartX",r.pageX),function(){g&&C()&&g(j)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],h=l.indexOf(d);if(h!==-1){var f=h+r;if(!(f===-1||f>=l.length)){var m=l[f];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Qr({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return $.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,h=b.Children.only(u);return h?$.cloneElement(h,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,x=Math.max(r,this.props.x),y=cj(cj({},Le(this.props,!1)),{},{x,y:u,width:d,height:h}),j=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return $.createElement(ft,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,y))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(r,a)+u,h=Math.max(Math.abs(a-r)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,h=d.startX,f=d.endX,m=5,g={pointerEvents:"none",fill:u};return $.createElement(ft,{className:"recharts-brush-texts"},$.createElement(Wl,Dv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-m,y:o+l/2},g),this.getTextOfTick(a)),$.createElement(Wl,Dv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,h=r.alwaysShowText,f=this.state,m=f.startX,g=f.endX,p=f.isTextActive,v=f.isSlideMoving,x=f.isTravellerMoving,y=f.isTravellerFocused;if(!a||!a.length||!ge(l)||!ge(c)||!ge(u)||!ge(d)||u<=0||d<=0)return null;var j=Je("recharts-brush",i),N=$.Children.count(o)===1,w=c1e("userSelect","none");return $.createElement(ft,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||x||y||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),$.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return $.isValidElement(r)?i=$.cloneElement(r,a):Ue(r)?i=r(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,h=r.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return cj({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?v1e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var f=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>a?l=c:o=c}return a>=r[l]?l:o}}])}(b.PureComponent);Qr(Qu,"displayName","Brush");Qr(Qu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var x1e=c2;function y1e(e,t){var n;return x1e(e,function(r,a,i){return n=t(r,a,i),!n}),!!n}var j1e=y1e,b1e=$L,w1e=Wa,N1e=j1e,S1e=qr,C1e=fy;function _1e(e,t,n){var r=S1e(e)?b1e:N1e;return n&&C1e(e,t,n)&&(t=void 0),r(e,w1e(t))}var P1e=_1e;const A1e=Ct(P1e);var La=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},lE=sF;function k1e(e,t,n){t=="__proto__"&&lE?lE(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var T1e=k1e,E1e=T1e,O1e=nF,D1e=Wa;function M1e(e,t){var n={};return t=D1e(t),O1e(e,function(r,a,i){E1e(n,a,t(r,a,i))}),n}var I1e=M1e;const $1e=Ct(I1e);function R1e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var L1e=R1e,F1e=c2;function B1e(e,t){var n=!0;return F1e(e,function(r,a,i){return n=!!t(r,a,i),n}),n}var z1e=B1e,V1e=L1e,U1e=z1e,q1e=Wa,W1e=qr,H1e=fy;function K1e(e,t,n){var r=W1e(e)?V1e:U1e;return n&&H1e(e,t,n)&&(t=void 0),r(e,q1e(t))}var G1e=K1e;const Y5=Ct(G1e);var Y1e=["x","y"];function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xN.apply(this,arguments)}function cE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(n),!0).forEach(function(r){Q1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q1e(e,t,n){return t=X1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X1e(e){var t=J1e(e,"string");return Yf(t)=="symbol"?t:t+""}function J1e(e,t){if(Yf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z1e(e,t){if(e==null)return{};var n=eSe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eSe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tSe(e,t){var n=e.x,r=e.y,a=Z1e(e,Y1e),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),h="".concat(t.width||a.width),f=parseInt(h,10);return dh(dh(dh(dh(dh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function uE(e){return $.createElement(V5,xN({shapeType:"rectangle",propTransformer:tSe,activeClassName:"recharts-active-bar"},e))}var nSe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var i=ge(r)||Ase(r);return i?t(r,a):(i||Gl(),n)}},rSe=["value","background"],Q5;function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function sSe(e,t){if(e==null)return{};var n=aSe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aSe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iv.apply(this,arguments)}function dE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(n),!0).forEach(function(r){fo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J5(r.key),r)}}function oSe(e,t,n){return t&&hE(e.prototype,t),n&&hE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lSe(e,t,n){return t=$v(t),cSe(e,X5()?Reflect.construct(t,n||[],$v(e).constructor):t.apply(e,n))}function cSe(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uSe(e)}function uSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X5=function(){return!!e})()}function $v(e){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(e)}function dSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yN(e,t)}function yN(e,t){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},yN(e,t)}function fo(e,t,n){return t=J5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J5(e){var t=hSe(e,"string");return Xu(t)=="symbol"?t:t+""}function hSe(e,t){if(Xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aa=function(e){function t(){var n;iSe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=lSe(this,t,[].concat(a)),fo(n,"state",{isAnimationFinished:!1}),fo(n,"id",ic("recharts-bar-")),fo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),fo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return dSe(t,e),oSe(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Le(this.props,!1);return r&&r.map(function(h,f){var m=f===c,g=m?u:o,p=xn(xn(xn({},d),h),{},{isActive:m,option:g,index:f,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return $.createElement(ft,Iv({className:"recharts-bar-rectangle"},ql(a.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),$.createElement(uE,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,h=a.animationId,f=this.state.prevData;return $.createElement(ia,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(v,x){var y=f&&f[x];if(y){var j=En(y.x,v.x),N=En(y.y,v.y),w=En(y.width,v.width),C=En(y.height,v.height);return xn(xn({},v),{},{x:j(g),y:N(g),width:w(g),height:C(g)})}if(o==="horizontal"){var S=En(0,v.height),_=S(g);return xn(xn({},v),{},{y:v.y+v.height-_,height:_})}var k=En(0,v.width),E=k(g);return xn(xn({},v),{},{width:E})});return $.createElement(ft,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Hl(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Le(this.props.background,!1);return i.map(function(u,d){u.value;var h=u.background,f=sSe(u,rSe);if(!h)return null;var m=xn(xn(xn(xn(xn({},f),{},{fill:"#eee"},h),c),ql(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return $.createElement(uE,Iv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=is(d,Am);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:mn(v,x)}},g={clipPath:r?"url(#clipPath-".concat(a,")"):null};return $.createElement(ft,g,h.map(function(p){return $.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,h=r.width,f=r.height,m=r.isAnimationActive,g=r.background,p=r.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=Je("recharts-bar",o),y=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,N=y||j,w=Ke(p)?this.id:p;return $.createElement(ft,{className:x},y||j?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(w)},$.createElement("rect",{x:y?u:u-h/2,y:j?d:d-f/2,width:y?h:h*2,height:j?f:f*2}))):null,$.createElement(ft,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,w),(!m||v)&&Ra.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(b.PureComponent);Q5=Aa;fo(Aa,"displayName","Bar");fo(Aa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ta.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fo(Aa,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,m=Hye(r,n);if(!m)return null;var g=t.layout,p=n.type.defaultProps,v=p!==void 0?xn(xn({},p),n.props):n.props,x=v.dataKey,y=v.children,j=v.minPointSize,N=g==="horizontal"?o:i,w=u?N.scale.domain():null,C=Zye({numericAxis:N}),S=is(y,Id),_=h.map(function(k,E){var P,A,R,M,K,z;u?P=Kye(u[d+E],w):(P=mn(k,x),Array.isArray(P)||(P=[C,P]));var W=nSe(j,Q5.defaultProps.minPointSize)(P[1],E);if(g==="horizontal"){var T,I=[o.scale(P[0]),o.scale(P[1])],U=I[0],H=I[1];A=tT({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:k,index:E}),R=(T=H??U)!==null&&T!==void 0?T:void 0,M=m.size;var Z=U-H;if(K=Number.isNaN(Z)?0:Z,z={x:A,y:o.y,width:M,height:o.height},Math.abs(W)>0&&Math.abs(K)<Math.abs(W)){var ae=xr(K||W)*(Math.abs(W)-Math.abs(K));R-=ae,K+=ae}}else{var se=[i.scale(P[0]),i.scale(P[1])],me=se[0],xe=se[1];if(A=me,R=tT({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:k,index:E}),M=xe-me,K=m.size,z={x:i.x,y:R,width:i.width,height:K},Math.abs(W)>0&&Math.abs(M)<Math.abs(W)){var le=xr(M||W)*(Math.abs(W)-Math.abs(M));M+=le}}return xn(xn(xn({},k),{},{x:A,y:R,width:M,height:K,value:u?P:P[1],payload:k,background:z},S&&S[E]&&S[E].props),{},{tooltipPayload:[j5(n,k)],tooltipPosition:{x:A+M/2,y:R+K/2}})});return xn({data:_,layout:g},f)});function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}function fSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z5(r.key),r)}}function mSe(e,t,n){return t&&fE(e.prototype,t),n&&fE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ws(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(n),!0).forEach(function(r){Ty(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ty(e,t,n){return t=Z5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z5(e){var t=pSe(e,"string");return Qf(t)=="symbol"?t:t+""}function pSe(e,t){if(Qf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L2=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},f=!!Jr(u,Aa);return d.reduce(function(m,g){var p=n[g],v=p.orientation,x=p.domain,y=p.padding,j=y===void 0?{}:y,N=p.mirror,w=p.reversed,C="".concat(v).concat(N?"Mirror":""),S,_,k,E,P;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var A=x[1]-x[0],R=1/0,M=p.categoricalDomain.sort(Ese);if(M.forEach(function(se,me){me>0&&(R=Math.min((se||0)-(M[me-1]||0),R))}),Number.isFinite(R)){var K=R/A,z=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(S=K*z/2),p.padding==="no-gap"){var W=yr(t.barCategoryGap,K*z),T=K*z/2;S=T-W-(T-W)/z*W}}}a==="xAxis"?_=[r.left+(j.left||0)+(S||0),r.left+r.width-(j.right||0)-(S||0)]:a==="yAxis"?_=c==="horizontal"?[r.top+r.height-(j.bottom||0),r.top+(j.top||0)]:[r.top+(j.top||0)+(S||0),r.top+r.height-(j.bottom||0)-(S||0)]:_=p.range,w&&(_=[_[1],_[0]]);var I=g5(p,i,f),U=I.scale,H=I.realScaleType;U.domain(x).range(_),v5(U);var Z=x5(U,Ws(Ws({},p),{},{realScaleType:H}));a==="xAxis"?(P=v==="top"&&!N||v==="bottom"&&N,k=r.left,E=h[C]-P*p.height):a==="yAxis"&&(P=v==="left"&&!N||v==="right"&&N,k=h[C]-P*p.width,E=r.top);var ae=Ws(Ws(Ws({},p),Z),{},{realScaleType:H,x:k,y:E,scale:U,width:a==="xAxis"?r.width:p.width,height:a==="yAxis"?r.height:p.height});return ae.bandSize=jv(ae,Z),!p.hide&&a==="xAxis"?h[C]+=(P?-1:1)*ae.height:p.hide||(h[C]+=(P?-1:1)*ae.width),Ws(Ws({},m),{},Ty({},g,ae))},{})},e6=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},gSe=function(t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2;return e6({x:n,y:r},{x:a,y:i})},t6=function(){function e(t){fSe(this,e),this.scale=t}return mSe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();Ty(t6,"EPS",1e-4);var F2=function(t){var n=Object.keys(t).reduce(function(r,a){return Ws(Ws({},r),{},Ty({},a,t6.create(t[a])))},{});return Ws(Ws({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return $1e(a,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Y5(a,function(i,o){return n[o].isInRange(i)})}})};function vSe(e){return(e%180+180)%180}var xSe=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=vSe(a),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},ySe=Wa,jSe=Nm,bSe=dy;function wSe(e){return function(t,n,r){var a=Object(t);if(!jSe(t)){var i=ySe(n);t=bSe(t),n=function(l){return i(a[l],l,a)}}var o=e(t,n,r);return o>-1?a[i?t[o]:o]:void 0}}var NSe=wSe,SSe=W5;function CSe(e){var t=SSe(e),n=t%1;return t===t?n?t-n:t:0}var _Se=CSe,PSe=QL,ASe=Wa,kSe=_Se,TSe=Math.max;function ESe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:kSe(n);return a<0&&(a=TSe(r+a,0)),PSe(e,ASe(t),a)}var OSe=ESe,DSe=NSe,MSe=OSe,ISe=DSe(MSe),$Se=ISe;const RSe=Ct($Se);var LSe=Ore(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),B2=b.createContext(void 0),z2=b.createContext(void 0),n6=b.createContext(void 0),r6=b.createContext({}),s6=b.createContext(void 0),a6=b.createContext(0),i6=b.createContext(0),pE=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=LSe(i);return $.createElement(B2.Provider,{value:r},$.createElement(z2.Provider,{value:a},$.createElement(r6.Provider,{value:i},$.createElement(n6.Provider,{value:d},$.createElement(s6.Provider,{value:o},$.createElement(a6.Provider,{value:u},$.createElement(i6.Provider,{value:c},l)))))))},FSe=function(){return b.useContext(s6)},o6=function(t){var n=b.useContext(B2);n==null&&Gl();var r=n[t];return r==null&&Gl(),r},BSe=function(){var t=b.useContext(B2);return Ji(t)},zSe=function(){var t=b.useContext(z2),n=RSe(t,function(r){return Y5(r.domain,Number.isFinite)});return n||Ji(t)},l6=function(t){var n=b.useContext(z2);n==null&&Gl();var r=n[t];return r==null&&Gl(),r},VSe=function(){var t=b.useContext(n6);return t},USe=function(){return b.useContext(r6)},V2=function(){return b.useContext(i6)},U2=function(){return b.useContext(a6)};function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function qSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WSe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u6(r.key),r)}}function HSe(e,t,n){return t&&WSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KSe(e,t,n){return t=Rv(t),GSe(e,c6()?Reflect.construct(t,n||[],Rv(e).constructor):t.apply(e,n))}function GSe(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YSe(e)}function YSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c6=function(){return!!e})()}function Rv(e){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rv(e)}function QSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jN(e,t)}function jN(e,t){return jN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},jN(e,t)}function gE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(n),!0).forEach(function(r){q2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q2(e,t,n){return t=u6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u6(e){var t=XSe(e,"string");return Ju(t)=="symbol"?t:t+""}function XSe(e,t){if(Ju(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JSe(e,t){return n2e(e)||t2e(e,t)||e2e(e,t)||ZSe()}function ZSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e2e(e,t){if(e){if(typeof e=="string")return xE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xE(e,t)}}function xE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function n2e(e){if(Array.isArray(e))return e}function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bN.apply(this,arguments)}var r2e=function(t,n){var r;return $.isValidElement(t)?r=$.cloneElement(t,n):Ue(t)?r=t(n):r=$.createElement("line",bN({},n,{className:"recharts-reference-line-line"})),r},s2e=function(t,n,r,a,i,o,l,c,u){var d=i.x,h=i.y,f=i.width,m=i.height;if(r){var g=u.y,p=t.y.apply(g,{position:o});if(La(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+f,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(n){var x=u.x,y=t.x.apply(x,{position:o});if(La(u,"discard")&&!t.x.isInRange(y))return null;var j=[{x:y,y:h+m},{x:y,y:h}];return l==="top"?j.reverse():j}if(a){var N=u.segment,w=N.map(function(C){return t.apply(C,{position:o})});return La(u,"discard")&&A1e(w,function(C){return!t.isInRange(C)})?null:w}return null};function a2e(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=FSe(),d=o6(a),h=l6(i),f=VSe();if(!u||!f)return null;ea(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=F2({x:d.scale,y:h.scale}),g=Mn(t),p=Mn(n),v=r&&r.length===2,x=s2e(m,g,p,v,f,e.position,d.orientation,h.orientation,e);if(!x)return null;var y=JSe(x,2),j=y[0],N=j.x,w=j.y,C=y[1],S=C.x,_=C.y,k=La(e,"hidden")?"url(#".concat(u,")"):void 0,E=vE(vE({clipPath:k},Le(e,!0)),{},{x1:N,y1:w,x2:S,y2:_});return $.createElement(ft,{className:Je("recharts-reference-line",l)},r2e(o,E),Un.renderCallByParent(e,gSe({x1:N,y1:w,x2:S,y2:_})))}var W2=function(e){function t(){return qSe(this,t),KSe(this,t,arguments)}return QSe(t,e),HSe(t,[{key:"render",value:function(){return $.createElement(a2e,this.props)}}])}($.Component);q2(W2,"displayName","ReferenceLine");q2(W2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function wN(){return wN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wN.apply(this,arguments)}function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function yE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(n),!0).forEach(function(r){Ey(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o2e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h6(r.key),r)}}function l2e(e,t,n){return t&&o2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c2e(e,t,n){return t=Lv(t),u2e(e,d6()?Reflect.construct(t,n||[],Lv(e).constructor):t.apply(e,n))}function u2e(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d2e(e)}function d2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d6=function(){return!!e})()}function Lv(e){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lv(e)}function h2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NN(e,t)}function NN(e,t){return NN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},NN(e,t)}function Ey(e,t,n){return t=h6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h6(e){var t=f2e(e,"string");return Zu(t)=="symbol"?t:t+""}function f2e(e,t){if(Zu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m2e=function(t){var n=t.x,r=t.y,a=t.xAxis,i=t.yAxis,o=F2({x:a.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return La(t,"discard")&&!o.isInRange(l)?null:l},Oy=function(e){function t(){return i2e(this,t),c2e(this,t,arguments)}return h2e(t,e),l2e(t,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Mn(a),d=Mn(i);if(ea(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=m2e(this.props);if(!h)return null;var f=h.x,m=h.y,g=this.props,p=g.shape,v=g.className,x=La(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=jE(jE({clipPath:x},Le(this.props,!0)),{},{cx:f,cy:m});return $.createElement(ft,{className:Je("recharts-reference-dot",v)},t.renderDot(p,y),Un.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}($.Component);Ey(Oy,"displayName","ReferenceDot");Ey(Oy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ey(Oy,"renderDot",function(e,t){var n;return $.isValidElement(e)?n=$.cloneElement(e,t):Ue(e)?n=e(t):n=$.createElement(km,wN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function SN(){return SN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SN.apply(this,arguments)}function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function bE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(n),!0).forEach(function(r){Dy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g2e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m6(r.key),r)}}function v2e(e,t,n){return t&&g2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x2e(e,t,n){return t=Fv(t),y2e(e,f6()?Reflect.construct(t,n||[],Fv(e).constructor):t.apply(e,n))}function y2e(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j2e(e)}function j2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f6=function(){return!!e})()}function Fv(e){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fv(e)}function b2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CN(e,t)}function CN(e,t){return CN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},CN(e,t)}function Dy(e,t,n){return t=m6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m6(e){var t=w2e(e,"string");return ed(t)=="symbol"?t:t+""}function w2e(e,t){if(ed(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N2e=function(t,n,r,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,h=i.yAxis;if(!d||!h)return null;var f=F2({x:d.scale,y:h.scale}),m={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(c,{position:"start"}):f.y.rangeMin},g={x:n?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(u,{position:"end"}):f.y.rangeMax};return La(i,"discard")&&(!f.isInRange(m)||!f.isInRange(g))?null:e6(m,g)},My=function(e){function t(){return p2e(this,t),x2e(this,t,arguments)}return b2e(t,e),v2e(t,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;ea(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Mn(a),f=Mn(i),m=Mn(o),g=Mn(l),p=this.props.shape;if(!h&&!f&&!m&&!g&&!p)return null;var v=N2e(h,f,m,g,this.props);if(!v&&!p)return null;var x=La(this.props,"hidden")?"url(#".concat(d,")"):void 0;return $.createElement(ft,{className:Je("recharts-reference-area",c)},t.renderRect(p,wE(wE({clipPath:x},Le(this.props,!0)),v)),Un.renderCallByParent(this.props,v))}}])}($.Component);Dy(My,"displayName","ReferenceArea");Dy(My,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Dy(My,"renderRect",function(e,t){var n;return $.isValidElement(e)?n=$.cloneElement(e,t):Ue(e)?n=e(t):n=$.createElement(R2,SN({},t,{className:"recharts-reference-area-rect"})),n});function p6(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function S2e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return xSe(r,n)}function C2e(e,t,n){var r=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:r?a:i,end:r?a+o:i+l}:{start:r?a+o:i+l,end:r?a:i}}function Bv(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function _2e(e,t){return p6(e,t+1)}function P2e(e,t,n,r,a){for(var i=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:p6(r,u)};var p=c,v,x=function(){return v===void 0&&(v=n(g,p)),v},y=g.coordinate,j=c===0||Bv(e,y,x,d,l);j||(c=0,d=o,u+=1),j&&(d=y+e*(x()/2+a),c+=u)},f;u<=i.length;)if(f=h(),f)return f.v;return[]}function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function NE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(n),!0).forEach(function(r){A2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A2e(e,t,n){return t=k2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k2e(e){var t=T2e(e,"string");return Xf(t)=="symbol"?t:t+""}function T2e(e,t){if(Xf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E2e(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(f){var m=i[f],g,p=function(){return g===void 0&&(g=n(m,f)),g};if(f===o-1){var v=e*(m.coordinate+e*p()/2-c);i[f]=m=rr(rr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[f]=m=rr(rr({},m),{},{tickCoord:m.coordinate});var x=Bv(e,m.tickCoord,p,l,c);x&&(c=m.tickCoord-e*(p()/2+a),i[f]=rr(rr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function O2e(e,t,n,r,a,i){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=r[l-1],h=n(d,l-1),f=e*(d.coordinate+e*h/2-u);o[l-1]=d=rr(rr({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var m=Bv(e,d.tickCoord,function(){return h},c,u);m&&(u=d.tickCoord-e*(h/2+a),o[l-1]=rr(rr({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(y){var j=o[y],N,w=function(){return N===void 0&&(N=n(j,y)),N};if(y===0){var C=e*(j.coordinate-e*w()/2-c);o[y]=j=rr(rr({},j),{},{tickCoord:C<0?j.coordinate-C*e:j.coordinate})}else o[y]=j=rr(rr({},j),{},{tickCoord:j.coordinate});var S=Bv(e,j.tickCoord,w,c,u);S&&(c=j.tickCoord+e*(w()/2+a),o[y]=rr(rr({},j),{},{isShow:!0}))},v=0;v<g;v++)p(v);return o}function H2(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,h=e.angle;if(!a||!a.length||!r)return[];if(ge(c)||ta.isSsr)return _2e(a,typeof c=="number"&&ge(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?Rh(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(j,N){var w=Ue(u)?u(j.value,N):j.value;return m==="width"?S2e(Rh(w,{fontSize:t,letterSpacing:n}),g,h):Rh(w,{fontSize:t,letterSpacing:n})[m]},v=a.length>=2?xr(a[1].coordinate-a[0].coordinate):1,x=C2e(i,v,m);return c==="equidistantPreserveStart"?P2e(v,x,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=O2e(v,x,p,a,o,c==="preserveStartEnd"):f=E2e(v,x,p,a,o),f.filter(function(y){return y.isShow}))}var D2e=["viewBox"],M2e=["viewBox"],I2e=["ticks"];function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wc.apply(this,arguments)}function SE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(n),!0).forEach(function(r){K2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uj(e,t){if(e==null)return{};var n=$2e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function R2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v6(r.key),r)}}function L2e(e,t,n){return t&&CE(e.prototype,t),n&&CE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function F2e(e,t,n){return t=zv(t),B2e(e,g6()?Reflect.construct(t,n||[],zv(e).constructor):t.apply(e,n))}function B2e(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z2e(e)}function z2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g6=function(){return!!e})()}function zv(e){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(e)}function V2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_N(e,t)}function _N(e,t){return _N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},_N(e,t)}function K2(e,t,n){return t=v6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v6(e){var t=U2e(e,"string");return td(t)=="symbol"?t:t+""}function U2e(e,t){if(td(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fd=function(e){function t(n){var r;return R2e(this,t),r=F2e(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return V2e(t,e),L2e(t,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=uj(r,D2e),l=this.props,c=l.viewBox,u=uj(l,M2e);return!ru(i,c)||!ru(o,u)||!ru(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,h=a.mirror,f=a.tickMargin,m,g,p,v,x,y,j=h?-1:1,N=r.tickSize||d,w=ge(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,v=o+ +!h*c,p=v-j*N,y=p-j*f,x=w;break;case"left":p=v=r.coordinate,g=i+ +!h*l,m=g-j*N,x=m-j*f,y=w;break;case"right":p=v=r.coordinate,g=i+ +h*l,m=g+j*N,x=m+j*f,y=w;break;default:m=g=r.coordinate,v=o+ +h*c,p=v+j*N,y=p+j*f,x=w;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,h=Cn(Cn(Cn({},Le(this.props,!1)),Le(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=Cn(Cn({},h),{},{x1:a,y1:i+f*l,x2:a+o,y2:i+f*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);h=Cn(Cn({},h),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return $.createElement("line",Wc({},h,{className:Je("recharts-cartesian-axis-line",as(d,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,m=H2(Cn(Cn({},this.props),{},{ticks:r}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=Le(this.props,!1),x=Le(d,!1),y=Cn(Cn({},v),{},{fill:"none"},Le(c,!1)),j=m.map(function(N,w){var C=o.getTickLineCoord(N),S=C.line,_=C.tick,k=Cn(Cn(Cn(Cn({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},x),_),{},{index:w,payload:N,visibleTicksCount:m.length,tickFormatter:h});return $.createElement(ft,Wc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},ql(o.props,N,w)),c&&$.createElement("line",Wc({},y,S,{className:Je("recharts-cartesian-axis-tick-line",as(c,"className"))})),d&&t.renderTickItem(d,k,"".concat(Ue(h)?h(N.value,w):N.value).concat(f||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var h=this.props,f=h.ticks,m=uj(h,I2e),g=f;return Ue(c)&&(g=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:$.createElement(ft,{className:Je("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o,l=Je(a.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(r)?o=$.cloneElement(r,Cn(Cn({},a),{},{className:l})):Ue(r)?o=r(Cn(Cn({},a),{},{className:l})):o=$.createElement(Wl,Wc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(b.Component);K2(Fd,"displayName","CartesianAxis");K2(Fd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var q2e=["x1","y1","x2","y2","key"],W2e=["offset"];function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function _E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(n),!0).forEach(function(r){H2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H2e(e,t,n){return t=K2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K2e(e){var t=G2e(e,"string");return Yl(t)=="symbol"?t:t+""}function G2e(e,t){if(Yl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ml.apply(this,arguments)}function PE(e,t){if(e==null)return{};var n=Y2e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Y2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Q2e=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return $.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function x6(e,t){var n;if($.isValidElement(e))n=$.cloneElement(e,t);else if(Ue(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=PE(t,q2e),u=Le(c,!1);u.offset;var d=PE(u,W2e);n=$.createElement("line",ml({},d,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function X2e(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=ir(ir({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return x6(a,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function J2e(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=ir(ir({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return x6(a,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Z2e(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var g=!d[m+1],p=g?a+o-f:d[m+1]-f;if(p<=0)return null;var v=m%t.length;return $.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function eCe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var g=!d[m+1],p=g?i+l-f:d[m+1]-f;if(p<=0)return null;var v=m%r.length;return $.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:p,height:c,stroke:"none",fill:r[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var tCe=function(t,n){var r=t.xAxis,a=t.width,i=t.height,o=t.offset;return p5(H2(ir(ir(ir({},Fd.defaultProps),r),{},{ticks:ui(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},nCe=function(t,n){var r=t.yAxis,a=t.width,i=t.height,o=t.offset;return p5(H2(ir(ir(ir({},Fd.defaultProps),r),{},{ticks:ui(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},_c={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ql(e){var t,n,r,a,i,o,l=V2(),c=U2(),u=USe(),d=ir(ir({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:_c.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:_c.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:_c.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:_c.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:_c.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:_c.verticalFill,x:ge(e.x)?e.x:u.left,y:ge(e.y)?e.y:u.top,width:ge(e.width)?e.width:u.width,height:ge(e.height)?e.height:u.height}),h=d.x,f=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=BSe(),j=zSe();if(!ge(m)||m<=0||!ge(g)||g<=0||!ge(h)||h!==+h||!ge(f)||f!==+f)return null;var N=d.verticalCoordinatesGenerator||tCe,w=d.horizontalCoordinatesGenerator||nCe,C=d.horizontalPoints,S=d.verticalPoints;if((!C||!C.length)&&Ue(w)){var _=v&&v.length,k=w({yAxis:j?ir(ir({},j),{},{ticks:_?v:j.ticks}):void 0,width:l,height:c,offset:u},_?!0:p);ea(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Yl(k),"]")),Array.isArray(k)&&(C=k)}if((!S||!S.length)&&Ue(N)){var E=x&&x.length,P=N({xAxis:y?ir(ir({},y),{},{ticks:E?x:y.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);ea(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Yl(P),"]")),Array.isArray(P)&&(S=P)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(Q2e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),$.createElement(X2e,ml({},d,{offset:u,horizontalPoints:C,xAxis:y,yAxis:j})),$.createElement(J2e,ml({},d,{offset:u,verticalPoints:S,xAxis:y,yAxis:j})),$.createElement(Z2e,ml({},d,{horizontalPoints:C})),$.createElement(eCe,ml({},d,{verticalPoints:S})))}Ql.displayName="CartesianGrid";var rCe=["type","layout","connectNulls","ref"],sCe=["key"];function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function AE(e,t){if(e==null)return{};var n=aCe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uh.apply(this,arguments)}function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(n),!0).forEach(function(r){Hs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pc(e){return cCe(e)||lCe(e)||oCe(e)||iCe()}function iCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oCe(e,t){if(e){if(typeof e=="string")return PN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PN(e,t)}}function lCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cCe(e){if(Array.isArray(e))return PN(e)}function PN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j6(r.key),r)}}function dCe(e,t,n){return t&&TE(e.prototype,t),n&&TE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hCe(e,t,n){return t=Vv(t),fCe(e,y6()?Reflect.construct(t,n||[],Vv(e).constructor):t.apply(e,n))}function fCe(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mCe(e)}function mCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y6=function(){return!!e})()}function Vv(e){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vv(e)}function pCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AN(e,t)}function AN(e,t){return AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},AN(e,t)}function Hs(e,t,n){return t=j6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j6(e){var t=gCe(e,"string");return nd(t)=="symbol"?t:t+""}function gCe(e,t){if(nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rd=function(e){function t(){var n;uCe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=hCe(this,t,[].concat(a)),Hs(n,"state",{isAnimationFinished:!0,totalLength:0}),Hs(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Hs(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,y){return x+y});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,f=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>h){m=[].concat(Pc(c.slice(0,g)),[h-p]);break}var v=m.length%2===0?[0,f]:[f];return[].concat(Pc(t.repeat(c,d)),Pc(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),Hs(n,"id",ic("recharts-line-")),Hs(n,"pathRef",function(o){n.mainCurve=o}),Hs(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Hs(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return pCe(t,e),dCe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=is(d,Am);if(!h)return null;var f=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:mn(p.payload,v)}},m={clipPath:r?"url(#clipPath-".concat(a,")"):null};return $.createElement(ft,m,h.map(function(g){return $.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=Le(this.props,!1),f=Le(c,!0),m=u.map(function(p,v){var x=Yr(Yr(Yr({key:"dot-".concat(v),r:3},h),f),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,x)}),g={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return $.createElement(ft,Uh({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=AE(l,rCe),f=Yr(Yr(Yr({},Le(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return $.createElement(kl,Uh({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,v=o.height,x=this.state,y=x.prevPoints,j=x.totalLength;return $.createElement(ia,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var w=N.t;if(y){var C=y.length/l.length,S=l.map(function(A,R){var M=Math.floor(R*C);if(y[M]){var K=y[M],z=En(K.x,A.x),W=En(K.y,A.y);return Yr(Yr({},A),{},{x:z(w),y:W(w)})}if(g){var T=En(p*2,A.x),I=En(v/2,A.y);return Yr(Yr({},A),{},{x:T(w),y:I(w)})}return Yr(Yr({},A),{},{x:A.x,y:A.y})});return i.renderCurveStatically(S,r,a)}var _=En(0,j),k=_(w),E;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});E=i.getStrokeDasharray(k,j,P)}else E=i.generateSimpleStrokeDasharray(j,k);return i.renderCurveStatically(l,r,a,{strokeDasharray:E})})}},{key:"renderCurve",value:function(r,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Hl(u,o))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(o,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,h=a.top,f=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,y=l.length===1,j=Je("recharts-line",c),N=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,C=N||w,S=Ke(v)?this.id:v,_=(r=Le(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=_.r,E=k===void 0?3:k,P=_.strokeWidth,A=P===void 0?2:P,R=oL(o)?o:{},M=R.clipDot,K=M===void 0?!0:M,z=E*2+A;return $.createElement(ft,{className:j},N||w?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(S)},$.createElement("rect",{x:N?f:f-m/2,y:w?h:h-g/2,width:N?m:m*2,height:w?g:g*2})),!K&&$.createElement("clipPath",{id:"clipPath-dots-".concat(S)},$.createElement("rect",{x:f-z/2,y:h-z/2,width:m+z,height:g+z}))):null,!y&&this.renderCurve(C,S),this.renderErrorBar(C,S),(y||o)&&this.renderDots(C,K,S),(!p||x)&&Ra.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var i=r.length%2!==0?[].concat(Pc(r),[0]):r,o=[],l=0;l<a;++l)o=[].concat(Pc(o),Pc(i));return o}},{key:"renderDotItem",value:function(r,a){var i;if($.isValidElement(r))i=$.cloneElement(r,a);else if(Ue(r))i=r(a);else{var o=a.key,l=AE(a,sCe),c=Je("recharts-line-dot",typeof r!="boolean"?r.className:"");i=$.createElement(km,Uh({key:o},l,{className:c}))}return i}}])}(b.PureComponent);Hs(rd,"displayName","Line");Hs(rd,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ta.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Hs(rd,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,h=c.map(function(f,m){var g=mn(f,o);return d==="horizontal"?{x:yv({axis:n,ticks:a,bandSize:l,entry:f,index:m}),y:Ke(g)?null:r.scale(g),value:g,payload:f}:{x:Ke(g)?null:n.scale(g),y:yv({axis:r,ticks:i,bandSize:l,entry:f,index:m}),value:g,payload:f}});return Yr({points:h,layout:d},u)});var vCe=["layout","type","stroke","connectNulls","isRange","ref"],xCe=["key"],b6;function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function w6(e,t){if(e==null)return{};var n=yCe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pl.apply(this,arguments)}function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(n),!0).forEach(function(r){ka(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S6(r.key),r)}}function bCe(e,t,n){return t&&OE(e.prototype,t),n&&OE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wCe(e,t,n){return t=Uv(t),NCe(e,N6()?Reflect.construct(t,n||[],Uv(e).constructor):t.apply(e,n))}function NCe(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SCe(e)}function SCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N6=function(){return!!e})()}function Uv(e){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uv(e)}function CCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kN(e,t)}function kN(e,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},kN(e,t)}function ka(e,t,n){return t=S6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S6(e){var t=_Ce(e,"string");return sd(t)=="symbol"?t:t+""}function _Ce(e,t){if(sd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ks=function(e){function t(){var n;jCe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=wCe(this,t,[].concat(a)),ka(n,"state",{isAnimationFinished:!0}),ka(n,"id",ic("recharts-area-")),ka(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ue(o)&&o()}),ka(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ue(o)&&o()}),n}return CCe(t,e),bCe(t,[{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,h=c.dataKey,f=Le(this.props,!1),m=Le(u,!0),g=d.map(function(v,x){var y=qi(qi(qi({key:"dot-".concat(x),r:3},f),m),{},{index:x,cx:v.x,cy:v.y,dataKey:h,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,y)}),p={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return $.createElement(ft,pl({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),h=ho(o.map(function(f){return f.y||0}));return ge(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(ho(i.map(function(f){return f.y||0})),h)),ge(h)?$.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),h=ho(o.map(function(f){return f.x||0}));return ge(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(ho(i.map(function(f){return f.x||0})),h)),ge(h)?$.createElement("rect",{x:0,y:c<u?c:c-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,h=l.connectNulls,f=l.isRange;l.ref;var m=w6(l,vCe);return $.createElement(ft,{clipPath:i?"url(#clipPath-".concat(o,")"):null},$.createElement(kl,pl({},Le(m,!0),{points:r,connectNulls:h,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&$.createElement(kl,pl({},Le(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:r})),d!=="none"&&f&&$.createElement(kl,pl({},Le(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,m=o.animationId,g=this.state,p=g.prevPoints,v=g.prevBaseLine;return $.createElement(ia,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var y=x.t;if(p){var j=p.length/l.length,N=l.map(function(_,k){var E=Math.floor(k*j);if(p[E]){var P=p[E],A=En(P.x,_.x),R=En(P.y,_.y);return qi(qi({},_),{},{x:A(y),y:R(y)})}return _}),w;if(ge(c)&&typeof c=="number"){var C=En(v,c);w=C(y)}else if(Ke(c)||Ed(c)){var S=En(v,0);w=S(y)}else w=c.map(function(_,k){var E=Math.floor(k*j);if(v[E]){var P=v[E],A=En(P.x,_.x),R=En(P.y,_.y);return qi(qi({},_),{},{x:A(y),y:R(y)})}return _});return i.renderAreaStatically(N,w,r,a)}return $.createElement(ft,null,$.createElement("defs",null,$.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),$.createElement(ft,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,r,a)))})}},{key:"renderArea",value:function(r,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,h=u.prevBaseLine,f=u.totalLength;return c&&o&&o.length&&(!d&&f>0||!Hl(d,o)||!Hl(h,l))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(o,l,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,h=a.xAxis,f=a.yAxis,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,y=l.length===1,j=Je("recharts-area",c),N=h&&h.allowDataOverflow,w=f&&f.allowDataOverflow,C=N||w,S=Ke(v)?this.id:v,_=(r=Le(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=_.r,E=k===void 0?3:k,P=_.strokeWidth,A=P===void 0?2:P,R=oL(o)?o:{},M=R.clipDot,K=M===void 0?!0:M,z=E*2+A;return $.createElement(ft,{className:j},N||w?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(S)},$.createElement("rect",{x:N?d:d-m/2,y:w?u:u-g/2,width:N?m:m*2,height:w?g:g*2})),!K&&$.createElement("clipPath",{id:"clipPath-dots-".concat(S)},$.createElement("rect",{x:d-z/2,y:u-z/2,width:m+z,height:g+z}))):null,y?null:this.renderArea(C,S),(o||y)&&this.renderDots(C,K,S),(!p||x)&&Ra.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(b.PureComponent);b6=ks;ka(ks,"displayName","Area");ka(ks,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ta.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ka(ks,"getBaseValue",function(e,t,n,r){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(ge(l)&&typeof l=="number")return l;var c=a==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ka(ks,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,m=t.layout,g=u&&u.length,p=b6.getBaseValue(t,n,r,a),v=m==="horizontal",x=!1,y=h.map(function(N,w){var C;g?C=u[d+w]:(C=mn(N,c),Array.isArray(C)?x=!0:C=[p,C]);var S=C[1]==null||g&&mn(N,c)==null;return v?{x:yv({axis:r,ticks:i,bandSize:l,entry:N,index:w}),y:S?null:a.scale(C[1]),value:C,payload:N}:{x:S?null:r.scale(C[1]),y:yv({axis:a,ticks:o,bandSize:l,entry:N,index:w}),value:C,payload:N}}),j;return g||x?j=y.map(function(N){var w=Array.isArray(N.value)?N.value[0]:null;return v?{x:N.x,y:w!=null&&N.y!=null?a.scale(w):null}:{x:w!=null?r.scale(w):null,y:N.y}}):j=v?a.scale(p):r.scale(p),qi({points:y,baseLine:j,layout:m,isRange:x},f)});ka(ks,"renderDotItem",function(e,t){var n;if($.isValidElement(e))n=$.cloneElement(e,t);else if(Ue(e))n=e(t);else{var r=Je("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=w6(t,xCe);n=$.createElement(km,pl({},i,{key:a,className:r}))}return n});function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function PCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ACe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P6(r.key),r)}}function kCe(e,t,n){return t&&ACe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TCe(e,t,n){return t=qv(t),ECe(e,C6()?Reflect.construct(t,n||[],qv(e).constructor):t.apply(e,n))}function ECe(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OCe(e)}function OCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C6=function(){return!!e})()}function qv(e){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(e)}function DCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TN(e,t)}function TN(e,t){return TN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},TN(e,t)}function _6(e,t,n){return t=P6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P6(e){var t=MCe(e,"string");return ad(t)=="symbol"?t:t+""}function MCe(e,t){if(ad(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EN(){return EN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EN.apply(this,arguments)}function ICe(e){var t=e.xAxisId,n=V2(),r=U2(),a=o6(t);return a==null?null:b.createElement(Fd,EN({},a,{className:Je("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return ui(o,!0)}}))}var oa=function(e){function t(){return PCe(this,t),TCe(this,t,arguments)}return DCe(t,e),kCe(t,[{key:"render",value:function(){return b.createElement(ICe,this.props)}}])}(b.Component);_6(oa,"displayName","XAxis");_6(oa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function $Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RCe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T6(r.key),r)}}function LCe(e,t,n){return t&&RCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FCe(e,t,n){return t=Wv(t),BCe(e,A6()?Reflect.construct(t,n||[],Wv(e).constructor):t.apply(e,n))}function BCe(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zCe(e)}function zCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A6=function(){return!!e})()}function Wv(e){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(e)}function VCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ON(e,t)}function ON(e,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ON(e,t)}function k6(e,t,n){return t=T6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T6(e){var t=UCe(e,"string");return id(t)=="symbol"?t:t+""}function UCe(e,t){if(id(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DN.apply(this,arguments)}var qCe=function(t){var n=t.yAxisId,r=V2(),a=U2(),i=l6(n);return i==null?null:b.createElement(Fd,DN({},i,{className:Je("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return ui(l,!0)}}))},la=function(e){function t(){return $Ce(this,t),FCe(this,t,arguments)}return VCe(t,e),LCe(t,[{key:"render",value:function(){return b.createElement(qCe,this.props)}}])}(b.Component);k6(la,"displayName","YAxis");k6(la,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function DE(e){return GCe(e)||KCe(e)||HCe(e)||WCe()}function WCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HCe(e,t){if(e){if(typeof e=="string")return MN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MN(e,t)}}function KCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GCe(e){if(Array.isArray(e))return MN(e)}function MN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var IN=function(t,n,r,a,i){var o=is(t,W2),l=is(t,Oy),c=[].concat(DE(o),DE(l)),u=is(t,My),d="".concat(a,"Id"),h=a[0],f=n;if(c.length&&(f=c.reduce(function(p,v){if(v.props[d]===r&&La(v.props,"extendDomain")&&ge(v.props[h])){var x=v.props[h];return[Math.min(p[0],x),Math.max(p[1],x)]}return p},f)),u.length){var m="".concat(h,"1"),g="".concat(h,"2");f=u.reduce(function(p,v){if(v.props[d]===r&&La(v.props,"extendDomain")&&ge(v.props[m])&&ge(v.props[g])){var x=v.props[m],y=v.props[g];return[Math.min(p[0],x,y),Math.max(p[1],x,y)]}return p},f)}return i&&i.length&&(f=i.reduce(function(p,v){return ge(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},f)),f},E6={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,h||c,f),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,g=new Array(m);f<m;f++)g[f]=h[f].fn;return g},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,m,g){var p=n?n+u:u;if(!this._events[p])return!1;var v=this._events[p],x=arguments.length,y,j;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,f),!0;case 5:return v.fn.call(v.context,d,h,f,m),!0;case 6:return v.fn.call(v.context,d,h,f,m,g),!0}for(j=1,y=new Array(x-1);j<x;j++)y[j-1]=arguments[j];v.fn.apply(v.context,y)}else{var N=v.length,w;for(j=0;j<N;j++)switch(v[j].once&&this.removeListener(u,v[j].fn,void 0,!0),x){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,d);break;case 3:v[j].fn.call(v[j].context,d,h);break;case 4:v[j].fn.call(v[j].context,d,h,f);break;default:if(!y)for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];v[j].fn.apply(v[j].context,y)}}return!0},l.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!f||g.once)&&(!h||g.context===h)&&o(this,m);else{for(var p=0,v=[],x=g.length;p<x;p++)(g[p].fn!==d||f&&!g[p].once||h&&g[p].context!==h)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(E6);var YCe=E6.exports;const QCe=Ct(YCe);var dj=new QCe,hj="recharts.syncMouseEvents";function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function XCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JCe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O6(r.key),r)}}function ZCe(e,t,n){return t&&JCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fj(e,t,n){return t=O6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O6(e){var t=e_e(e,"string");return Jf(t)=="symbol"?t:t+""}function e_e(e,t){if(Jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var t_e=function(){function e(){XCe(this,e),fj(this,"activeIndex",0),fj(this,"coordinateList",[]),fj(this,"layout","horizontal")}return ZCe(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,h=d===void 0?null:d,f=n.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=i+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function n_e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&ge(r)&&ge(a))return!0}return!1}function r_e(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function D6(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle,o=Wt(t,n,r,a),l=Wt(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function s_e(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,h=t.angle,f=Wt(l,c,u,h),m=Wt(l,c,d,h);r=f.x,a=f.y,i=m.x,o=m.y}else return D6(t);return[{x:r,y:a},{x:i,y:o}]}function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function ME(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ep(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(n),!0).forEach(function(r){a_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a_e(e,t,n){return t=i_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i_e(e){var t=o_e(e,"string");return Zf(t)=="symbol"?t:t+""}function o_e(e,t){if(Zf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l_e(e){var t,n,r=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!i||!o||f!=="ScatterChart"&&a!=="axis")return null;var g,p=kl;if(f==="ScatterChart")g=o,p=gwe;else if(f==="BarChart")g=r_e(h,o,c,d),p=R2;else if(h==="radial"){var v=D6(o),x=v.cx,y=v.cy,j=v.radius,N=v.startAngle,w=v.endAngle;g={cx:x,cy:y,startAngle:N,endAngle:w,innerRadius:j,outerRadius:j},p=_5}else g={points:s_e(h,o,c)},p=kl;var C=Ep(Ep(Ep(Ep({stroke:"#ccc",pointerEvents:"none"},c),g),Le(m,!1)),{},{payload:l,payloadIndex:u,className:Je("recharts-tooltip-cursor",m.className)});return b.isValidElement(m)?b.cloneElement(m,C):b.createElement(p,C)}var c_e=["item"],u_e=["children","className","width","height","style","compact","title","desc"];function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hc.apply(this,arguments)}function IE(e,t){return f_e(e)||h_e(e,t)||I6(e,t)||d_e()}function d_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function f_e(e){if(Array.isArray(e))return e}function $E(e,t){if(e==null)return{};var n=m_e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function m_e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function p_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g_e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$6(r.key),r)}}function v_e(e,t,n){return t&&g_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x_e(e,t,n){return t=Hv(t),y_e(e,M6()?Reflect.construct(t,n||[],Hv(e).constructor):t.apply(e,n))}function y_e(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j_e(e)}function j_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M6=function(){return!!e})()}function Hv(e){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(e)}function b_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$N(e,t)}function $N(e,t){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$N(e,t)}function ld(e){return S_e(e)||N_e(e)||I6(e)||w_e()}function w_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I6(e,t){if(e){if(typeof e=="string")return RN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RN(e,t)}}function N_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S_e(e){if(Array.isArray(e))return RN(e)}function RN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(r){Ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ve(e,t,n){return t=$6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $6(e){var t=C_e(e,"string");return od(t)=="symbol"?t:t+""}function C_e(e,t){if(od(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var __e={xAxis:["bottom","top"],yAxis:["left","right"]},P_e={width:"100%",height:"100%"},R6={x:0,y:0};function Op(e){return e}var A_e=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},k_e=function(t,n,r,a){var i=n.find(function(d){return d&&d.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return ce(ce(ce({},a),Wt(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return ce(ce(ce({},a),Wt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return R6},Iy=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ld(l),ld(u)):l},[]);return o.length>0?o:t&&t.length&&ge(a)&&ge(i)?t.slice(a,i+1):[]};function L6(e){return e==="number"?[0,"auto"]:void 0}var LN=function(t,n,r,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Iy(n,t);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:n;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=h===void 0?l:h;f=Wg(m,o.dataKey,a)}else f=h&&h[r]||l[r];return f?[].concat(ld(c),[j5(u,f)]):c},[])},LE=function(t,n,r,a){var i=a||{x:t.chartX,y:t.chartY},o=A_e(i,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Bye(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=LN(t,n,d,h),m=k_e(r,l,d,i);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:m}}return null},T_e=function(t,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=t.stackOffset,m=m5(d,i);return r.reduce(function(g,p){var v,x=p.type.defaultProps!==void 0?ce(ce({},p.type.defaultProps),p.props):p.props,y=x.type,j=x.dataKey,N=x.allowDataOverflow,w=x.allowDuplicatedCategory,C=x.scale,S=x.ticks,_=x.includeHidden,k=x[o];if(g[k])return g;var E=Iy(t.data,{graphicalItems:a.filter(function(Z){var ae,se=o in Z.props?Z.props[o]:(ae=Z.type.defaultProps)===null||ae===void 0?void 0:ae[o];return se===k}),dataStartIndex:c,dataEndIndex:u}),P=E.length,A,R,M;n_e(x.domain,N,y)&&(A=Xw(x.domain,null,N),m&&(y==="number"||C!=="auto")&&(M=Fh(E,j,"category")));var K=L6(y);if(!A||A.length===0){var z,W=(z=x.domain)!==null&&z!==void 0?z:K;if(j){if(A=Fh(E,j,y),y==="category"&&m){var T=Tse(A);w&&T?(R=A,A=Ov(0,P)):w||(A=sT(W,A,p).reduce(function(Z,ae){return Z.indexOf(ae)>=0?Z:[].concat(ld(Z),[ae])},[]))}else if(y==="category")w?A=A.filter(function(Z){return Z!==""&&!Ke(Z)}):A=sT(W,A,p).reduce(function(Z,ae){return Z.indexOf(ae)>=0||ae===""||Ke(ae)?Z:[].concat(ld(Z),[ae])},[]);else if(y==="number"){var I=Wye(E,a.filter(function(Z){var ae,se,me=o in Z.props?Z.props[o]:(ae=Z.type.defaultProps)===null||ae===void 0?void 0:ae[o],xe="hide"in Z.props?Z.props.hide:(se=Z.type.defaultProps)===null||se===void 0?void 0:se.hide;return me===k&&(_||!xe)}),j,i,d);I&&(A=I)}m&&(y==="number"||C!=="auto")&&(M=Fh(E,j,"category"))}else m?A=Ov(0,P):l&&l[k]&&l[k].hasStack&&y==="number"?A=f==="expand"?[0,1]:y5(l[k].stackGroups,c,u):A=f5(E,a.filter(function(Z){var ae=o in Z.props?Z.props[o]:Z.type.defaultProps[o],se="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return ae===k&&(_||!se)}),y,d,!0);if(y==="number")A=IN(h,A,k,i,S),W&&(A=Xw(W,A,N));else if(y==="category"&&W){var U=W,H=A.every(function(Z){return U.indexOf(Z)>=0});H&&(A=U)}}return ce(ce({},g),{},Ve({},k,ce(ce({},x),{},{axisType:i,domain:A,categoricalDomain:M,duplicateDomain:R,originalDomain:(v=x.domain)!==null&&v!==void 0?v:K,isCategorical:m,layout:d})))},{})},E_e=function(t,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=Iy(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=f.length,g=m5(d,i),p=-1;return r.reduce(function(v,x){var y=x.type.defaultProps!==void 0?ce(ce({},x.type.defaultProps),x.props):x.props,j=y[o],N=L6("number");if(!v[j]){p++;var w;return g?w=Ov(0,m):l&&l[j]&&l[j].hasStack?(w=y5(l[j].stackGroups,c,u),w=IN(h,w,j,i)):(w=Xw(N,f5(f,r.filter(function(C){var S,_,k=o in C.props?C.props[o]:(S=C.type.defaultProps)===null||S===void 0?void 0:S[o],E="hide"in C.props?C.props.hide:(_=C.type.defaultProps)===null||_===void 0?void 0:_.hide;return k===j&&!E}),"number",d),a.defaultProps.allowDataOverflow),w=IN(h,w,j,i)),ce(ce({},v),{},Ve({},j,ce(ce({axisType:i},a.defaultProps),{},{hide:!0,orientation:as(__e,"".concat(i,".").concat(p%2),null),domain:w,originalDomain:N,isCategorical:g,layout:d})))}return v},{})},O_e=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,h="".concat(a,"Id"),f=is(d,i),m={};return f&&f.length?m=T_e(t,{axes:f,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=E_e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},D_e=function(t){var n=Ji(t),r=ui(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:u2(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:jv(n,r)}},FE=function(t){var n=t.children,r=t.defaultShowTooltip,a=Jr(n,Qu),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},M_e=function(t){return!t||!t.length?!1:t.some(function(n){var r=fi(n&&n.type);return r&&r.indexOf("Bar")>=0})},BE=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},I_e=function(t,n){var r=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,h=r.children,f=r.margin||{},m=Jr(h,Qu),g=Jr(h,su),p=Object.keys(c).reduce(function(w,C){var S=c[C],_=S.orientation;return!S.mirror&&!S.hide?ce(ce({},w),{},Ve({},_,w[_]+S.width)):w},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(w,C){var S=o[C],_=S.orientation;return!S.mirror&&!S.hide?ce(ce({},w),{},Ve({},_,as(w,"".concat(_))+S.height)):w},{top:f.top||0,bottom:f.bottom||0}),x=ce(ce({},v),p),y=x.bottom;m&&(x.bottom+=m.props.height||Qu.defaultProps.height),g&&n&&(x=Uye(x,a,r,n));var j=u-x.left-x.right,N=d-x.top-x.bottom;return ce(ce({brushBottom:y},x),{},{width:Math.max(j,0),height:Math.max(N,0)})},$_e=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},$y=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,h=t.defaultProps,f=function(x,y){var j=y.graphicalItems,N=y.stackGroups,w=y.offset,C=y.updateId,S=y.dataStartIndex,_=y.dataEndIndex,k=x.barSize,E=x.layout,P=x.barGap,A=x.barCategoryGap,R=x.maxBarSize,M=BE(E),K=M.numericAxisName,z=M.cateAxisName,W=M_e(j),T=[];return j.forEach(function(I,U){var H=Iy(x.data,{graphicalItems:[I],dataStartIndex:S,dataEndIndex:_}),Z=I.type.defaultProps!==void 0?ce(ce({},I.type.defaultProps),I.props):I.props,ae=Z.dataKey,se=Z.maxBarSize,me=Z["".concat(K,"Id")],xe=Z["".concat(z,"Id")],le={},Y=c.reduce(function(Me,jt){var Ft=y["".concat(jt.axisType,"Map")],Kn=Z["".concat(jt.axisType,"Id")];Ft&&Ft[Kn]||jt.axisType==="zAxis"||Gl();var gt=Ft[Kn];return ce(ce({},Me),{},Ve(Ve({},jt.axisType,gt),"".concat(jt.axisType,"Ticks"),ui(gt)))},le),ee=Y[z],oe=Y["".concat(z,"Ticks")],O=N&&N[me]&&N[me].hasStack&&e0e(I,N[me].stackGroups),q=fi(I.type).indexOf("Bar")>=0,fe=jv(ee,oe),he=[],Ye=W&&zye({barSize:k,stackGroups:N,totalSize:$_e(Y,z)});if(q){var We,ut,$e=Ke(se)?R:se,it=(We=(ut=jv(ee,oe,!0))!==null&&ut!==void 0?ut:$e)!==null&&We!==void 0?We:0;he=Vye({barGap:P,barCategoryGap:A,bandSize:it!==fe?it:fe,sizeList:Ye[xe],maxBarSize:$e}),it!==fe&&(he=he.map(function(Me){return ce(ce({},Me),{},{position:ce(ce({},Me.position),{},{offset:Me.position.offset-it/2})})}))}var ie=I&&I.type&&I.type.getComposedData;ie&&T.push({props:ce(ce({},ie(ce(ce({},Y),{},{displayedData:H,props:x,dataKey:ae,item:I,bandSize:fe,barPosition:he,offset:w,stackedData:O,layout:E,dataStartIndex:S,dataEndIndex:_}))),{},Ve(Ve(Ve({key:I.key||"item-".concat(U)},K,Y[K]),z,Y[z]),"animationId",C)),childIndex:Vse(I,x.children),item:I})}),T},m=function(x,y){var j=x.props,N=x.dataStartIndex,w=x.dataEndIndex,C=x.updateId;if(!JP({props:j}))return null;var S=j.children,_=j.layout,k=j.stackOffset,E=j.data,P=j.reverseStackOrder,A=BE(_),R=A.numericAxisName,M=A.cateAxisName,K=is(S,r),z=Jye(E,K,"".concat(R,"Id"),"".concat(M,"Id"),k,P),W=c.reduce(function(Z,ae){var se="".concat(ae.axisType,"Map");return ce(ce({},Z),{},Ve({},se,O_e(j,ce(ce({},ae),{},{graphicalItems:K,stackGroups:ae.axisType===R&&z,dataStartIndex:N,dataEndIndex:w}))))},{}),T=I_e(ce(ce({},W),{},{props:j,graphicalItems:K}),y==null?void 0:y.legendBBox);Object.keys(W).forEach(function(Z){W[Z]=d(j,W[Z],T,Z.replace("Map",""),n)});var I=W["".concat(M,"Map")],U=D_e(I),H=f(j,ce(ce({},W),{},{dataStartIndex:N,dataEndIndex:w,updateId:C,graphicalItems:K,stackGroups:z,offset:T}));return ce(ce({formattedGraphicalItems:H,graphicalItems:K,offset:T,stackGroups:z},U),W)},g=function(v){function x(y){var j,N,w;return p_e(this,x),w=x_e(this,x,[y]),Ve(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ve(w,"accessibilityManager",new t_e),Ve(w,"handleLegendBBoxUpdate",function(C){if(C){var S=w.state,_=S.dataStartIndex,k=S.dataEndIndex,E=S.updateId;w.setState(ce({legendBBox:C},m({props:w.props,dataStartIndex:_,dataEndIndex:k,updateId:E},ce(ce({},w.state),{},{legendBBox:C}))))}}),Ve(w,"handleReceiveSyncEvent",function(C,S,_){if(w.props.syncId===C){if(_===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(S)}}),Ve(w,"handleBrushChange",function(C){var S=C.startIndex,_=C.endIndex;if(S!==w.state.dataStartIndex||_!==w.state.dataEndIndex){var k=w.state.updateId;w.setState(function(){return ce({dataStartIndex:S,dataEndIndex:_},m({props:w.props,dataStartIndex:S,dataEndIndex:_,updateId:k},w.state))}),w.triggerSyncEvent({dataStartIndex:S,dataEndIndex:_})}}),Ve(w,"handleMouseEnter",function(C){var S=w.getMouseInfo(C);if(S){var _=ce(ce({},S),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var k=w.props.onMouseEnter;Ue(k)&&k(_,C)}}),Ve(w,"triggeredAfterMouseMove",function(C){var S=w.getMouseInfo(C),_=S?ce(ce({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var k=w.props.onMouseMove;Ue(k)&&k(_,C)}),Ve(w,"handleItemMouseEnter",function(C){w.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ve(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ve(w,"handleMouseMove",function(C){C.persist(),w.throttleTriggeredAfterMouseMove(C)}),Ve(w,"handleMouseLeave",function(C){w.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};w.setState(S),w.triggerSyncEvent(S);var _=w.props.onMouseLeave;Ue(_)&&_(S,C)}),Ve(w,"handleOuterEvent",function(C){var S=zse(C),_=as(w.props,"".concat(S));if(S&&Ue(_)){var k,E;/.*touch.*/i.test(S)?E=w.getMouseInfo(C.changedTouches[0]):E=w.getMouseInfo(C),_((k=E)!==null&&k!==void 0?k:{},C)}}),Ve(w,"handleClick",function(C){var S=w.getMouseInfo(C);if(S){var _=ce(ce({},S),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var k=w.props.onClick;Ue(k)&&k(_,C)}}),Ve(w,"handleMouseDown",function(C){var S=w.props.onMouseDown;if(Ue(S)){var _=w.getMouseInfo(C);S(_,C)}}),Ve(w,"handleMouseUp",function(C){var S=w.props.onMouseUp;if(Ue(S)){var _=w.getMouseInfo(C);S(_,C)}}),Ve(w,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ve(w,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseDown(C.changedTouches[0])}),Ve(w,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseUp(C.changedTouches[0])}),Ve(w,"handleDoubleClick",function(C){var S=w.props.onDoubleClick;if(Ue(S)){var _=w.getMouseInfo(C);S(_,C)}}),Ve(w,"handleContextMenu",function(C){var S=w.props.onContextMenu;if(Ue(S)){var _=w.getMouseInfo(C);S(_,C)}}),Ve(w,"triggerSyncEvent",function(C){w.props.syncId!==void 0&&dj.emit(hj,w.props.syncId,C,w.eventEmitterSymbol)}),Ve(w,"applySyncEvent",function(C){var S=w.props,_=S.layout,k=S.syncMethod,E=w.state.updateId,P=C.dataStartIndex,A=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)w.setState(ce({dataStartIndex:P,dataEndIndex:A},m({props:w.props,dataStartIndex:P,dataEndIndex:A,updateId:E},w.state)));else if(C.activeTooltipIndex!==void 0){var R=C.chartX,M=C.chartY,K=C.activeTooltipIndex,z=w.state,W=z.offset,T=z.tooltipTicks;if(!W)return;if(typeof k=="function")K=k(T,C);else if(k==="value"){K=-1;for(var I=0;I<T.length;I++)if(T[I].value===C.activeLabel){K=I;break}}var U=ce(ce({},W),{},{x:W.left,y:W.top}),H=Math.min(R,U.x+U.width),Z=Math.min(M,U.y+U.height),ae=T[K]&&T[K].value,se=LN(w.state,w.props.data,K),me=T[K]?{x:_==="horizontal"?T[K].coordinate:H,y:_==="horizontal"?Z:T[K].coordinate}:R6;w.setState(ce(ce({},C),{},{activeLabel:ae,activeCoordinate:me,activePayload:se,activeTooltipIndex:K}))}else w.setState(C)}),Ve(w,"renderCursor",function(C){var S,_=w.state,k=_.isTooltipActive,E=_.activeCoordinate,P=_.activePayload,A=_.offset,R=_.activeTooltipIndex,M=_.tooltipAxisBandSize,K=w.getTooltipEventType(),z=(S=C.props.active)!==null&&S!==void 0?S:k,W=w.props.layout,T=C.key||"_recharts-cursor";return $.createElement(l_e,{key:T,activeCoordinate:E,activePayload:P,activeTooltipIndex:R,chartName:n,element:C,isActive:z,layout:W,offset:A,tooltipAxisBandSize:M,tooltipEventType:K})}),Ve(w,"renderPolarAxis",function(C,S,_){var k=as(C,"type.axisType"),E=as(w.state,"".concat(k,"Map")),P=C.type.defaultProps,A=P!==void 0?ce(ce({},P),C.props):C.props,R=E&&E[A["".concat(k,"Id")]];return b.cloneElement(C,ce(ce({},R),{},{className:Je(k,R.className),key:C.key||"".concat(S,"-").concat(_),ticks:ui(R,!0)}))}),Ve(w,"renderPolarGrid",function(C){var S=C.props,_=S.radialLines,k=S.polarAngles,E=S.polarRadius,P=w.state,A=P.radiusAxisMap,R=P.angleAxisMap,M=Ji(A),K=Ji(R),z=K.cx,W=K.cy,T=K.innerRadius,I=K.outerRadius;return b.cloneElement(C,{polarAngles:Array.isArray(k)?k:ui(K,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(E)?E:ui(M,!0).map(function(U){return U.coordinate}),cx:z,cy:W,innerRadius:T,outerRadius:I,key:C.key||"polar-grid",radialLines:_})}),Ve(w,"renderLegend",function(){var C=w.state.formattedGraphicalItems,S=w.props,_=S.children,k=S.width,E=S.height,P=w.props.margin||{},A=k-(P.left||0)-(P.right||0),R=d5({children:_,formattedGraphicalItems:C,legendWidth:A,legendContent:u});if(!R)return null;var M=R.item,K=$E(R,c_e);return b.cloneElement(M,ce(ce({},K),{},{chartWidth:k,chartHeight:E,margin:P,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ve(w,"renderTooltip",function(){var C,S=w.props,_=S.children,k=S.accessibilityLayer,E=Jr(_,Vn);if(!E)return null;var P=w.state,A=P.isTooltipActive,R=P.activeCoordinate,M=P.activePayload,K=P.activeLabel,z=P.offset,W=(C=E.props.active)!==null&&C!==void 0?C:A;return b.cloneElement(E,{viewBox:ce(ce({},z),{},{x:z.left,y:z.top}),active:W,label:K,payload:W?M:[],coordinate:R,accessibilityLayer:k})}),Ve(w,"renderBrush",function(C){var S=w.props,_=S.margin,k=S.data,E=w.state,P=E.offset,A=E.dataStartIndex,R=E.dataEndIndex,M=E.updateId;return b.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Pp(w.handleBrushChange,C.props.onChange),data:k,x:ge(C.props.x)?C.props.x:P.left,y:ge(C.props.y)?C.props.y:P.top+P.height+P.brushBottom-(_.bottom||0),width:ge(C.props.width)?C.props.width:P.width,startIndex:A,endIndex:R,updateId:"brush-".concat(M)})}),Ve(w,"renderReferenceElement",function(C,S,_){if(!C)return null;var k=w,E=k.clipPathId,P=w.state,A=P.xAxisMap,R=P.yAxisMap,M=P.offset,K=C.type.defaultProps||{},z=C.props,W=z.xAxisId,T=W===void 0?K.xAxisId:W,I=z.yAxisId,U=I===void 0?K.yAxisId:I;return b.cloneElement(C,{key:C.key||"".concat(S,"-").concat(_),xAxis:A[T],yAxis:R[U],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:E})}),Ve(w,"renderActivePoints",function(C){var S=C.item,_=C.activePoint,k=C.basePoint,E=C.childIndex,P=C.isRange,A=[],R=S.props.key,M=S.item.type.defaultProps!==void 0?ce(ce({},S.item.type.defaultProps),S.item.props):S.item.props,K=M.activeDot,z=M.dataKey,W=ce(ce({index:E,dataKey:z,cx:_.x,cy:_.y,r:4,fill:$2(S.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Le(K,!1)),Hg(K));return A.push(x.renderActiveDot(K,W,"".concat(R,"-activePoint-").concat(E))),k?A.push(x.renderActiveDot(K,ce(ce({},W),{},{cx:k.x,cy:k.y}),"".concat(R,"-basePoint-").concat(E))):P&&A.push(null),A}),Ve(w,"renderGraphicChild",function(C,S,_){var k=w.filterFormatItem(C,S,_);if(!k)return null;var E=w.getTooltipEventType(),P=w.state,A=P.isTooltipActive,R=P.tooltipAxis,M=P.activeTooltipIndex,K=P.activeLabel,z=w.props.children,W=Jr(z,Vn),T=k.props,I=T.points,U=T.isRange,H=T.baseLine,Z=k.item.type.defaultProps!==void 0?ce(ce({},k.item.type.defaultProps),k.item.props):k.item.props,ae=Z.activeDot,se=Z.hide,me=Z.activeBar,xe=Z.activeShape,le=!!(!se&&A&&W&&(ae||me||xe)),Y={};E!=="axis"&&W&&W.props.trigger==="click"?Y={onClick:Pp(w.handleItemMouseEnter,C.props.onClick)}:E!=="axis"&&(Y={onMouseLeave:Pp(w.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Pp(w.handleItemMouseEnter,C.props.onMouseEnter)});var ee=b.cloneElement(C,ce(ce({},k.props),Y));function oe(jt){return typeof R.dataKey=="function"?R.dataKey(jt.payload):null}if(le)if(M>=0){var O,q;if(R.dataKey&&!R.allowDuplicatedCategory){var fe=typeof R.dataKey=="function"?oe:"payload.".concat(R.dataKey.toString());O=Wg(I,fe,K),q=U&&H&&Wg(H,fe,K)}else O=I==null?void 0:I[M],q=U&&H&&H[M];if(xe||me){var he=C.props.activeIndex!==void 0?C.props.activeIndex:M;return[b.cloneElement(C,ce(ce(ce({},k.props),Y),{},{activeIndex:he})),null,null]}if(!Ke(O))return[ee].concat(ld(w.renderActivePoints({item:k,activePoint:O,basePoint:q,childIndex:M,isRange:U})))}else{var Ye,We=(Ye=w.getItemByXY(w.state.activeCoordinate))!==null&&Ye!==void 0?Ye:{graphicalItem:ee},ut=We.graphicalItem,$e=ut.item,it=$e===void 0?C:$e,ie=ut.childIndex,Me=ce(ce(ce({},k.props),Y),{},{activeIndex:ie});return[b.cloneElement(it,Me),null,null]}return U?[ee,null,null]:[ee,null]}),Ve(w,"renderCustomized",function(C,S,_){return b.cloneElement(C,ce(ce({key:"recharts-customized-".concat(_)},w.props),w.state))}),Ve(w,"renderMap",{CartesianGrid:{handler:Op,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Op},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Op},YAxis:{handler:Op},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((j=y.id)!==null&&j!==void 0?j:ic("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=uF(w.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),w.state={},w}return b_e(x,v),v_e(x,[{key:"componentDidMount",value:function(){var j,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,N=j.children,w=j.data,C=j.height,S=j.layout,_=Jr(N,Vn);if(_){var k=_.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,P=LN(this.state,w,k,E),A=this.state.tooltipTicks[k].coordinate,R=(this.state.offset.top+C)/2,M=S==="horizontal",K=M?{x:A,y:R}:{y:A,x:R},z=this.state.formattedGraphicalItems.find(function(T){var I=T.item;return I.type.name==="Scatter"});z&&(K=ce(ce({},K),z.props.points[k].tooltipPosition),P=z.props.points[k].tooltipPayload);var W={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:E,activePayload:P,activeCoordinate:K};this.setState(W),this.renderCursor(_),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var w,C;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(j){hw([Jr(j.children,Vn)],[Jr(this.props.children,Vn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Jr(this.props.children,Vn);if(j&&typeof j.props.shared=="boolean"){var N=j.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var N=this.container,w=N.getBoundingClientRect(),C=mpe(w),S={chartX:Math.round(j.pageX-C.left),chartY:Math.round(j.pageY-C.top)},_=w.width/N.offsetWidth||1,k=this.inRange(S.chartX,S.chartY,_);if(!k)return null;var E=this.state,P=E.xAxisMap,A=E.yAxisMap,R=this.getTooltipEventType(),M=LE(this.state,this.props.data,this.props.layout,k);if(R!=="axis"&&P&&A){var K=Ji(P).scale,z=Ji(A).scale,W=K&&K.invert?K.invert(S.chartX):null,T=z&&z.invert?z.invert(S.chartY):null;return ce(ce({},S),{},{xValue:W,yValue:T},M)}return M?ce(ce({},S),M):null}},{key:"inRange",value:function(j,N){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,S=j/w,_=N/w;if(C==="horizontal"||C==="vertical"){var k=this.state.offset,E=S>=k.left&&S<=k.left+k.width&&_>=k.top&&_<=k.top+k.height;return E?{x:S,y:_}:null}var P=this.state,A=P.angleAxisMap,R=P.radiusAxisMap;if(A&&R){var M=Ji(A);return oT({x:S,y:_},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,N=this.getTooltipEventType(),w=Jr(j,Vn),C={};w&&N==="axis"&&(w.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Hg(this.props,this.handleOuterEvent);return ce(ce({},S),C)}},{key:"addListener",value:function(){dj.on(hj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){dj.removeListener(hj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,N,w){for(var C=this.state.formattedGraphicalItems,S=0,_=C.length;S<_;S++){var k=C[S];if(k.item===j||k.props.key===j.key||N===fi(k.item.type)&&w===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,N=this.state.offset,w=N.left,C=N.top,S=N.height,_=N.width;return $.createElement("defs",null,$.createElement("clipPath",{id:j},$.createElement("rect",{x:w,y:C,height:S,width:_})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(N,w){var C=IE(w,2),S=C[0],_=C[1];return ce(ce({},N),{},Ve({},S,_.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(N,w){var C=IE(w,2),S=C[0],_=C[1];return ce(ce({},N),{},Ve({},S,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[j])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(j){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[j])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(j){var N=this.state,w=N.formattedGraphicalItems,C=N.activeItem;if(w&&w.length)for(var S=0,_=w.length;S<_;S++){var k=w[S],E=k.props,P=k.item,A=P.type.defaultProps!==void 0?ce(ce({},P.type.defaultProps),P.props):P.props,R=fi(P.type);if(R==="Bar"){var M=(E.data||[]).find(function(T){return Qbe(j,T)});if(M)return{graphicalItem:k,payload:M}}else if(R==="RadialBar"){var K=(E.data||[]).find(function(T){return oT(j,T)});if(K)return{graphicalItem:k,payload:K}}else if(Ay(k,C)||ky(k,C)||Kf(k,C)){var z=LNe({graphicalItem:k,activeTooltipItem:C,itemData:A.data}),W=A.activeIndex===void 0?z:A.activeIndex;return{graphicalItem:ce(ce({},k),{},{childIndex:W}),payload:Kf(k,C)?A.data[z]:k.props.data[z]}}}return null}},{key:"render",value:function(){var j=this;if(!JP(this))return null;var N=this.props,w=N.children,C=N.className,S=N.width,_=N.height,k=N.style,E=N.compact,P=N.title,A=N.desc,R=$E(N,u_e),M=Le(R,!1);if(E)return $.createElement(pE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(mw,Hc({},M,{width:S,height:_,title:P,desc:A}),this.renderClipPath(),eA(w,this.renderMap)));if(this.props.accessibilityLayer){var K,z;M.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,M.role=(z=this.props.role)!==null&&z!==void 0?z:"application",M.onKeyDown=function(T){j.accessibilityManager.keyboardEvent(T)},M.onFocus=function(){j.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return $.createElement(pE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Hc({className:Je("recharts-wrapper",C),style:ce({position:"relative",cursor:"default",width:S,height:_},k)},W,{ref:function(I){j.container=I}}),$.createElement(mw,Hc({},M,{width:S,height:_,title:P,desc:A,style:P_e}),this.renderClipPath(),eA(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);Ve(g,"displayName",n),Ve(g,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ve(g,"getDerivedStateFromProps",function(v,x){var y=v.dataKey,j=v.data,N=v.children,w=v.width,C=v.height,S=v.layout,_=v.stackOffset,k=v.margin,E=x.dataStartIndex,P=x.dataEndIndex;if(x.updateId===void 0){var A=FE(v);return ce(ce(ce({},A),{},{updateId:0},m(ce(ce({props:v},A),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:j,prevWidth:w,prevHeight:C,prevLayout:S,prevStackOffset:_,prevMargin:k,prevChildren:N})}if(y!==x.prevDataKey||j!==x.prevData||w!==x.prevWidth||C!==x.prevHeight||S!==x.prevLayout||_!==x.prevStackOffset||!ru(k,x.prevMargin)){var R=FE(v),M={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},K=ce(ce({},LE(x,j,S)),{},{updateId:x.updateId+1}),z=ce(ce(ce({},R),M),K);return ce(ce(ce({},z),m(ce({props:v},z),x)),{},{prevDataKey:y,prevData:j,prevWidth:w,prevHeight:C,prevLayout:S,prevStackOffset:_,prevMargin:k,prevChildren:N})}if(!hw(N,x.prevChildren)){var W,T,I,U,H=Jr(N,Qu),Z=H&&(W=(T=H.props)===null||T===void 0?void 0:T.startIndex)!==null&&W!==void 0?W:E,ae=H&&(I=(U=H.props)===null||U===void 0?void 0:U.endIndex)!==null&&I!==void 0?I:P,se=Z!==E||ae!==P,me=!Ke(j),xe=me&&!se?x.updateId:x.updateId+1;return ce(ce({updateId:xe},m(ce(ce({props:v},x),{},{updateId:xe,dataStartIndex:Z,dataEndIndex:ae}),x)),{},{prevChildren:N,dataStartIndex:Z,dataEndIndex:ae})}return null}),Ve(g,"renderActiveDot",function(v,x,y){var j;return b.isValidElement(v)?j=b.cloneElement(v,x):Ue(v)?j=v(x):j=$.createElement(km,x),$.createElement(ft,{className:"recharts-active-dot",key:y},j)});var p=b.forwardRef(function(x,y){return $.createElement(g,Hc({},x,{ref:y}))});return p.displayName=g.displayName,p},zE=$y({chartName:"LineChart",GraphicalChild:rd,axisComponents:[{axisType:"xAxis",AxisComp:oa},{axisType:"yAxis",AxisComp:la}],formatAxisMap:L2}),R_e=$y({chartName:"BarChart",GraphicalChild:Aa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:oa},{axisType:"yAxis",AxisComp:la}],formatAxisMap:L2}),G2=$y({chartName:"PieChart",GraphicalChild:ha,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Py},{axisType:"radiusAxis",AxisComp:Cy}],formatAxisMap:u0e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Y2=$y({chartName:"AreaChart",GraphicalChild:ks,axisComponents:[{axisType:"xAxis",AxisComp:oa},{axisType:"yAxis",AxisComp:la}],formatAxisMap:L2});function Q2({open:e,onOpenChange:t,petId:n,consultationId:r}){const{data:a=[]}=ds(),{data:i=[]}=hs(),{data:o=[]}=jZ(),l=yZ(),{toast:c}=at(),[u,d]=b.useState({diagnosis:"",notes:"",validUntil:""}),[h,f]=b.useState([{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}]),m=i.find(w=>w.id===n),g=m?a.find(w=>w.id===m.client_id):null,p=o.filter(w=>(w.category==="medication"||w.category==="supplement")&&w.current_quantity>0&&w.active),v=w=>{const{name:C,value:S}=w.target;d(_=>({..._,[C]:S}))},x=(w,C,S)=>{f(_=>_.map((k,E)=>E===w?{...k,[C]:S}:k))},y=()=>{f(w=>[...w,{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}])},j=w=>{h.length>1&&f(C=>C.filter((S,_)=>_!==w))},N=async w=>{if(w.preventDefault(),!m||!g){c({title:"Erreur",description:"Impossible de trouver l'animal ou le client associé.",variant:"destructive"});return}const C=h.filter(_=>_.medication_name.trim()!=="");if(C.length===0){c({title:"Erreur",description:"Veuillez ajouter au moins un médicament à la prescription.",variant:"destructive"});return}const S={consultation_id:r,animal_id:m.id,client_id:g.id,diagnosis:u.diagnosis,notes:u.notes,valid_until:u.validUntil||void 0,medications:C};try{await l.mutateAsync(S),c({title:"Prescription créée",description:`Prescription créée avec succès pour ${m.name}.`}),t(!1),d({diagnosis:"",notes:"",validUntil:""}),f([{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}])}catch(_){console.error("Error creating prescription:",_),c({title:"Erreur",description:"Une erreur est survenue lors de la création de la prescription.",variant:"destructive"})}};return!m||!g?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsx(Ge,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:s.jsxs(et,{children:[s.jsx(tt,{children:"Erreur"}),s.jsx(Rt,{children:"Impossible de trouver l'animal ou le client associé."})]})})}):s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Nouvelle Prescription"}),s.jsxs(Rt,{children:["Créer une nouvelle prescription pour ",m.name," (",g.first_name," ",g.last_name,")"]})]}),s.jsxs("form",{onSubmit:N,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"diagnosis",children:"Diagnostic"}),s.jsx(qe,{id:"diagnosis",name:"diagnosis",value:u.diagnosis,onChange:v,placeholder:"Entrez le diagnostic...",className:"h-20"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"validUntil",children:"Valide jusqu'au (optionnel)"}),s.jsx(Q,{id:"validUntil",name:"validUntil",type:"date",value:u.validUntil,onChange:v})]})]}),s.jsxs("div",{className:"space-y-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(D,{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Médicaments"}),s.jsxs(F,{type:"button",onClick:y,size:"sm",variant:"outline",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter un médicament"]})]}),h.map((w,C)=>s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-6 space-y-4 bg-gray-50 dark:bg-gray-800",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium text-base text-gray-900 dark:text-gray-100",children:["Médicament ",C+1]}),h.length>1&&s.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>j(C),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(qn,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2 lg:col-span-1",children:[s.jsx(D,{className:"text-gray-700 dark:text-gray-300",children:"Médicament *"}),s.jsxs(we,{value:w.medication_name,onValueChange:S=>x(C,"medication_name",S),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner ou taper..."})}),s.jsx(je,{children:p.map(S=>s.jsxs(L,{value:S.name,children:[S.name," (",S.current_quantity," ",S.unit,")"]},S.id))})]}),!p.find(S=>S.name===w.medication_name)&&s.jsx(Q,{className:"mt-2",value:w.medication_name,onChange:S=>x(C,"medication_name",S.target.value),placeholder:"Nom du médicament personnalisé"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-gray-700 dark:text-gray-300",children:"Dosage"}),s.jsx(Q,{value:w.dosage||"",onChange:S=>x(C,"dosage",S.target.value),placeholder:"ex: 5mg"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-gray-700 dark:text-gray-300",children:"Fréquence"}),s.jsxs(we,{value:w.frequency||"",onValueChange:S=>x(C,"frequency",S),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner..."})}),s.jsxs(je,{children:[s.jsx(L,{value:"1x/jour",children:"1 fois par jour"}),s.jsx(L,{value:"2x/jour",children:"2 fois par jour"}),s.jsx(L,{value:"3x/jour",children:"3 fois par jour"}),s.jsx(L,{value:"1x/semaine",children:"1 fois par semaine"}),s.jsx(L,{value:"selon besoin",children:"Selon besoin"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-gray-700 dark:text-gray-300",children:"Durée"}),s.jsx(Q,{value:w.duration||"",onChange:S=>x(C,"duration",S.target.value),placeholder:"ex: 7 jours"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-gray-700 dark:text-gray-300",children:"Quantité *"}),s.jsx(Q,{type:"number",min:"1",value:w.quantity,onChange:S=>x(C,"quantity",parseInt(S.target.value)||1)})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-gray-700 dark:text-gray-300",children:"Voie d'administration"}),s.jsxs(we,{value:w.route||"oral",onValueChange:S=>x(C,"route",S),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"oral",children:"Orale"}),s.jsx(L,{value:"injectable",children:"Injectable"}),s.jsx(L,{value:"topique",children:"Topique"}),s.jsx(L,{value:"intraveineuse",children:"Intraveineuse"}),s.jsx(L,{value:"intramusculaire",children:"Intramusculaire"}),s.jsx(L,{value:"sous-cutanée",children:"Sous-cutanée"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-gray-700 dark:text-gray-300",children:"Instructions spéciales"}),s.jsx(qe,{value:w.instructions||"",onChange:S=>x(C,"instructions",S.target.value),placeholder:"Instructions particulières pour ce médicament...",className:"h-16"})]})]},C)),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"notes",className:"text-gray-700 dark:text-gray-300",children:"Notes générales"}),s.jsx(qe,{id:"notes",name:"notes",value:u.notes,onChange:v,placeholder:"Notes générales sur la prescription...",className:"h-20"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l.isPending,children:"Annuler"}),s.jsx(F,{type:"submit",disabled:l.isPending,children:l.isPending?"Création...":"Créer la prescription"})]})]})]})})}function L_e({open:e,onOpenChange:t,prescription:n}){const{updatePrescription:r}=pt(),{toast:a}=at(),[i,o]=b.useState({date:"",prescribedBy:"",diagnosis:"",instructions:"",duration:"",followUpDate:"",status:"",notes:""}),[l,c]=b.useState([]);b.useEffect(()=>{e&&n&&(o({date:n.date,prescribedBy:n.prescribedBy,diagnosis:n.diagnosis,instructions:n.instructions,duration:n.duration,followUpDate:n.followUpDate||"",status:n.status,notes:n.notes||""}),c([...n.medications]))},[e,n]);const u=v=>{o(x=>({...x,[v.target.id]:v.target.value}))},d=(v,x)=>{o(y=>({...y,[v]:x}))},h=(v,x,y)=>{const j=[...l];j[v]={...j[v],[x]:x==="quantity"||x==="refills"||x==="cost"?Number(y):y},c(j)},f=()=>{const v=Math.max(...l.map(x=>x.id),0)+1;c([...l,{id:v,name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,unit:"comprimés",refills:0,cost:0}])},m=v=>{l.length>1&&c(l.filter((x,y)=>y!==v))},g=v=>{if(v.preventDefault(),!n)return;const x=l.filter(y=>y.name.trim()!=="");if(x.length===0){a({title:"Erreur",description:"Au moins un médicament doit être spécifié.",variant:"destructive"});return}r(n.id,{date:i.date,prescribedBy:i.prescribedBy,diagnosis:i.diagnosis,medications:x,instructions:i.instructions,duration:i.duration,followUpDate:i.followUpDate||void 0,status:i.status,notes:i.notes}),a({title:"Prescription mise à jour",description:"La prescription a été modifiée avec succès."}),t(!1)},p=()=>l.reduce((v,x)=>v+(x.cost||0),0);return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(Qi,{className:"h-5 w-5"}),"Modifier la Prescription"]}),s.jsxs(Rt,{children:["Modifiez la prescription pour ",n.petName," (",n.clientName,")."]})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"date",children:"Date de prescription *"}),s.jsx(Q,{id:"date",type:"date",value:i.date,onChange:u,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"prescribedBy",children:"Prescrit par *"}),s.jsx(Q,{id:"prescribedBy",value:i.prescribedBy,onChange:u,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"diagnosis",children:"Diagnostic *"}),s.jsx(Q,{id:"diagnosis",value:i.diagnosis,onChange:u,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"duration",children:"Durée du traitement"}),s.jsx(Q,{id:"duration",value:i.duration,onChange:u})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"followUpDate",children:"Date de suivi"}),s.jsx(Q,{id:"followUpDate",type:"date",value:i.followUpDate,onChange:u,min:i.date})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Statut"}),s.jsxs(we,{value:i.status,onValueChange:v=>d("status",v),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"active",children:"Active"}),s.jsx(L,{value:"completed",children:"Terminée"}),s.jsx(L,{value:"discontinued",children:"Arrêtée"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(D,{className:"text-base font-medium",children:"Médicaments prescrits"}),s.jsxs(F,{type:"button",variant:"outline",size:"sm",onClick:f,className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Ajouter médicament"]})]}),s.jsx("div",{className:"space-y-4",children:l.map((v,x)=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Médicament ",x+1]}),l.length>1&&s.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>m(x),className:"text-red-600 hover:text-red-700",children:s.jsx(qn,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Nom du médicament *"}),s.jsx(Q,{value:v.name,onChange:y=>h(x,"name",y.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Dosage *"}),s.jsx(Q,{value:v.dosage,onChange:y=>h(x,"dosage",y.target.value),required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Fréquence *"}),s.jsx(Q,{value:v.frequency,onChange:y=>h(x,"frequency",y.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Durée"}),s.jsx(Q,{value:v.duration,onChange:y=>h(x,"duration",y.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Quantité"}),s.jsx(Q,{type:"number",value:v.quantity,onChange:y=>h(x,"quantity",parseInt(y.target.value)),min:"1"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Unité"}),s.jsxs(we,{value:v.unit,onValueChange:y=>h(x,"unit",y),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"comprimés",children:"Comprimés"}),s.jsx(L,{value:"ml",children:"ml"}),s.jsx(L,{value:"g",children:"g"}),s.jsx(L,{value:"mg",children:"mg"}),s.jsx(L,{value:"ampoules",children:"Ampoules"}),s.jsx(L,{value:"flacons",children:"Flacons"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Coût (€)"}),s.jsx(Q,{type:"number",step:"0.01",value:v.cost,onChange:y=>h(x,"cost",parseFloat(y.target.value)),min:"0"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Instructions spécifiques"}),s.jsx(Q,{value:v.instructions,onChange:y=>h(x,"instructions",y.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Renouvellements"}),s.jsx(Q,{type:"number",value:v.refills,onChange:y=>h(x,"refills",parseInt(y.target.value)),min:"0"})]})]})]},v.id))}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(Pe,{variant:"outline",className:"text-lg px-4 py-2",children:["Coût total: ",p().toFixed(2),"€"]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"instructions",children:"Instructions générales"}),s.jsx(qe,{id:"instructions",value:i.instructions,onChange:u,rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(qe,{id:"notes",value:i.notes,onChange:u,rows:2})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsxs(F,{type:"submit",className:"gap-2",children:[s.jsx(Dh,{className:"h-4 w-4"}),"Sauvegarder"]})]})]})]})}):null}const F_e="vetpro-veterinarians";function FN({prescription:e}){const{settings:t}=_t();JSON.parse(localStorage.getItem(F_e)||"[]");const n=e.prescribedBy,r=()=>{if(!e||!e.petName||!e.clientName)return;const a=window.open("","_blank");if(!a)return;const i=`
      <html>
        <head>
          <title>Prescription - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-info {
              margin-bottom: 30px;
            }
            .patient-info {
              margin-bottom: 30px;
            }
            .prescription-details {
              margin-bottom: 30px;
            }
            .medications {
              margin-bottom: 30px;
            }
            .medication-item {
              border: 1px solid #ccc;
              padding: 15px;
              margin-bottom: 15px;
              border-radius: 5px;
            }
            .instructions {
              margin-bottom: 30px;
            }
            .footer {
              margin-top: 50px;
              text-align: center;
            }
            .signature-line {
              border-top: 1px solid #333;
              width: 200px;
              margin: 20px auto;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 20px;
            }
            th, td {
              border: 1px solid #ddd;
              padding: 8px;
              text-align: left;
            }
            th {
              background-color: #f2f2f2;
            }
            .total-cost {
              font-weight: bold;
              text-align: right;
              margin-top: 20px;
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${t.logo?`<img src="${t.logo}" alt="Logo clinique" style="height:60px;margin-bottom:10px;"/>`:""}
            <h1>PRESCRIPTION MÉDICALE</h1>
            <h2>${t.clinicName}</h2>
            <p>${t.address}<br>
            Tél: ${t.phone} | Email: ${t.email}</p>
          </div>

          <div class="clinic-info">
            <strong>Date de prescription:</strong> ${new Date(e.date).toLocaleDateString("fr-FR")}<br>
            <strong>Prescrit par:</strong> ${n}
          </div>

          <div class="patient-info">
            <h3>Informations du patient</h3>
            <table>
              <tr>
                <th>Propriétaire</th>
                <td>${e.clientName}</td>
              </tr>
              <tr>
                <th>Animal</th>
                <td>${e.petName}</td>
              </tr>
              <tr>
                <th>Diagnostic</th>
                <td>${e.diagnosis}</td>
              </tr>
              <tr>
                <th>Durée du traitement</th>
                <td>${e.duration}</td>
              </tr>
            </table>
          </div>

          <div class="medications">
            <h3>Médicaments prescrits</h3>
            ${e.medications.map(o=>`
              <div class="medication-item">
                <h4>${o.name}</h4>
                <table>
                  <tr>
                    <th>Posologie</th>
                    <td>${o.dosage} - ${o.frequency}</td>
                  </tr>
                  <tr>
                    <th>Durée</th>
                    <td>${o.duration}</td>
                  </tr>
                  <tr>
                    <th>Quantité</th>
                    <td>${o.quantity} ${o.unit}</td>
                  </tr>
                  ${o.refills&&o.refills>0?`
                    <tr>
                      <th>Renouvellements</th>
                      <td>${o.refills}</td>
                    </tr>
                  `:""}
                  ${o.instructions?`
                    <tr>
                      <th>Instructions</th>
                      <td>${o.instructions}</td>
                    </tr>
                  `:""}
                  ${o.cost?`
                    <tr>
                      <th>Coût</th>
                      <td>${o.cost.toFixed(2)}€</td>
                    </tr>
                  `:""}
                </table>
              </div>
            `).join("")}
            
            <div class="total-cost">
              Coût total: ${e.medications.reduce((o,l)=>o+(l.cost||0),0).toFixed(2)}€
            </div>
          </div>

          ${e.instructions?`
            <div class="instructions">
              <h3>Instructions générales</h3>
              <p>${e.instructions}</p>
            </div>
          `:""}

          ${e.followUpDate?`
            <div class="instructions">
              <h3>Suivi</h3>
              <p><strong>Date de suivi prévue:</strong> ${new Date(e.followUpDate).toLocaleDateString("fr-FR")}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="instructions">
              <h3>Notes</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="signature-line"></div>
            <p>Signature du vétérinaire</p>
            <p><small>Cette prescription est valable pour la durée du traitement prescrit.</small></p>
          </div>
        </body>
      </html>
    `;a.document.write(i),a.document.close(),setTimeout(()=>{a.print(),a.close()},500)};return s.jsxs(F,{size:"sm",variant:"outline",onClick:r,className:"gap-2",children:[s.jsx(Au,{className:"h-4 w-4"}),"Générer Ordonnance"]})}const B_e={active:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",discontinued:"bg-red-100 text-red-800"},z_e={active:"Active",completed:"Terminée",discontinued:"Arrêtée"};function F6({petId:e,consultationId:t}){const{data:n=[]}=$S(),{data:r=[]}=xZ(e),{toast:a}=at(),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(null),h=t?n.filter(x=>x.consultation_id===t):r,f=x=>{d(x),c(!0)},m=x=>{var y;confirm(`Êtes-vous sûr de vouloir supprimer la prescription pour ${((y=x.medications)==null?void 0:y.map(j=>j.medication_name).join(", "))||"médicaments"} ?`)&&a({title:"Fonctionnalité à implémenter",description:"La suppression de prescription n'est pas encore implémentée."})},g=x=>{switch(x){case"active":return s.jsx(zn,{className:"h-4 w-4 text-green-600"});case"completed":return s.jsx(On,{className:"h-4 w-4 text-gray-600"});case"discontinued":return s.jsx(lf,{className:"h-4 w-4 text-red-600"});default:return s.jsx(Jt,{className:"h-4 w-4 text-gray-600"})}},p=x=>{var y,j,N,w;return{id:x.id,consultationId:x.consultation_id,clientId:x.client_id,clientName:`${((y=x.client)==null?void 0:y.first_name)||""} ${((j=x.client)==null?void 0:j.last_name)||""}`.trim(),petId:x.animal_id,petName:((N=x.animal)==null?void 0:N.name)||"",date:x.prescription_date,prescribedBy:"Non spécifié",diagnosis:x.diagnosis||"",medications:((w=x.medications)==null?void 0:w.map(C=>({id:C.id,name:C.medication_name,dosage:C.dosage||"",frequency:C.frequency||"",duration:C.duration||"",instructions:C.instructions||"",quantity:C.quantity||1,unit:"unit",cost:0})))||[],instructions:x.notes||"",duration:x.valid_until||"",followUpDate:void 0,status:x.status||"active",notes:x.notes||"",createdAt:x.created_at}},v=x=>(x==null?void 0:x.reduce((y,j)=>y+(j.cost||0),0))||0;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Qi,{className:"h-5 w-5"}),"Prescriptions (",h.length,")"]}),s.jsxs(F,{size:"sm",onClick:()=>o(!0),disabled:!t,className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle Prescription"]})]}),h.length===0?s.jsx(te,{children:s.jsxs(re,{className:"p-6 text-center text-muted-foreground",children:[s.jsx(Qi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune prescription trouvée"}),s.jsx("p",{className:"text-sm",children:"Commencez par créer une nouvelle prescription"})]})}):s.jsx("div",{className:"space-y-4",children:h.sort((x,y)=>new Date(y.prescription_date||y.date).getTime()-new Date(x.prescription_date||x.date).getTime()).map(x=>{var y;return s.jsxs(te,{className:"card-hover",children:[s.jsx(ue,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[g(x.status),s.jsx(Pe,{className:B_e[x.status],children:z_e[x.status]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx(He,{className:"h-4 w-4 inline mr-1"}),new Date(x.prescription_date||x.date).toLocaleDateString("fr-FR")]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(FN,{prescription:p(x)}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>f(x),className:"h-8 w-8 p-0",title:"Modifier",children:s.jsx(Mt,{className:"h-3 w-3"})}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>m(x),className:"h-8 w-8 p-0 text-red-600",title:"Supprimer",children:s.jsx(qn,{className:"h-3 w-3"})})]})]})}),s.jsxs(re,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Prescrit par:"}),s.jsx("p",{className:"text-muted-foreground",children:"Non spécifié"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Diagnostic:"}),s.jsx("p",{className:"text-muted-foreground",children:x.diagnosis})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Durée:"}),s.jsx("p",{className:"text-muted-foreground",children:x.valid_until?new Date(x.valid_until).toLocaleDateString("fr-FR"):"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Coût total:"}),s.jsxs("p",{className:"text-muted-foreground",children:[v(x.medications).toFixed(2),"€"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Médicaments prescrits:"}),s.jsx("div",{className:"space-y-3",children:(y=x.medications)==null?void 0:y.map(j=>s.jsx("div",{className:"p-3 border rounded-lg bg-muted/30",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium",children:j.medication_name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Posologie:"})," ",j.dosage," - ",j.frequency]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Durée:"})," ",j.duration]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Quantité:"})," ",j.quantity]}),j.instructions&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Instructions:"})," ",j.instructions]})]}),j.cost&&s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"font-medium",children:[j.cost.toFixed(2),"€"]})})]})},j.id))})]}),x.instructions&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Instructions générales:"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x.instructions})]}),x.followUpDate&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Suivi prévu:"}),s.jsx("span",{className:"text-muted-foreground",children:new Date(x.followUpDate).toLocaleDateString("fr-FR")})]}),x.notes&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Notes:"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x.notes})]})]})]},x.id)})})]}),t&&s.jsx(Q2,{open:i,onOpenChange:o,petId:e.toString(),consultationId:t.toString()}),s.jsx(L_e,{open:l,onOpenChange:c,prescription:u})]})}const V_e={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},U_e=(e,t,n)=>{let r;const a=V_e[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},q_e={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},W_e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},H_e={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},K_e={date:nu({formats:q_e,defaultWidth:"full"}),time:nu({formats:W_e,defaultWidth:"full"}),dateTime:nu({formats:H_e,defaultWidth:"full"})},G_e={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},Y_e=(e,t,n,r)=>G_e[e],Q_e={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},X_e={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},J_e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},Z_e={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},ePe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},tPe=(e,t)=>{const n=Number(e),r=t==null?void 0:t.unit;if(n===0)return"0";const a=["year","week","hour","minute","second"];let i;return n===1?i=r&&a.includes(r)?"ère":"er":i="ème",n+i},nPe=["MMM","MMMM"],rPe={preprocessor:(e,t)=>e.getDate()===1||!t.some(r=>r.isToken&&nPe.includes(r.value))?t:t.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:tPe,era:Sa({values:Q_e,defaultWidth:"wide"}),quarter:Sa({values:X_e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Sa({values:J_e,defaultWidth:"wide"}),day:Sa({values:Z_e,defaultWidth:"wide"}),dayPeriod:Sa({values:ePe,defaultWidth:"wide"})},sPe=/^(\d+)(ième|ère|ème|er|e)?/i,aPe=/\d+/i,iPe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},oPe={any:[/^av/i,/^ap/i]},lPe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},cPe={any:[/1/i,/2/i,/3/i,/4/i]},uPe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},dPe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},hPe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},fPe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},mPe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},pPe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},gPe={ordinalNumber:H3({matchPattern:sPe,parsePattern:aPe,valueCallback:e=>parseInt(e)}),era:Ca({matchPatterns:iPe,defaultMatchWidth:"wide",parsePatterns:oPe,defaultParseWidth:"any"}),quarter:Ca({matchPatterns:lPe,defaultMatchWidth:"wide",parsePatterns:cPe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ca({matchPatterns:uPe,defaultMatchWidth:"wide",parsePatterns:dPe,defaultParseWidth:"any"}),day:Ca({matchPatterns:hPe,defaultMatchWidth:"wide",parsePatterns:fPe,defaultParseWidth:"any"}),dayPeriod:Ca({matchPatterns:mPe,defaultMatchWidth:"any",parsePatterns:pPe,defaultParseWidth:"any"})},In={code:"fr",formatDistance:U_e,formatLong:K_e,formatRelative:Y_e,localize:rPe,match:gPe,options:{weekStartsOn:1,firstWeekContainsDate:4}};function B6({animalId:e}){const{settings:t}=_t(),{data:n}=hs(),{data:r}=ds(),{data:a}=IS(),i=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),o=n==null?void 0:n.find(h=>h.id===e),l=o?r==null?void 0:r.find(h=>h.id===o.client_id):null,c=(a==null?void 0:a.filter(h=>h.animal_id===e))||[],u=h=>{const f=new Date(h),m=new Date;if(isNaN(f.getTime()))return"N/A";let g=m.getFullYear()-f.getFullYear(),p=m.getMonth()-f.getMonth(),v=m.getDate()-f.getDate();if(v<0){p--;const j=new Date(m.getFullYear(),m.getMonth(),0);v+=j.getDate()}p<0&&(g--,p+=12);const x=Math.floor(v/7),y=[];return g>0&&y.push(`${g} an${g>1?"s":""}`),p>0&&y.push(`${p} mois`),x>0&&y.push(`${x} semain${x>1?"es":""}`),y.join(", ")||"0 jour"},d=()=>{if(!o||!l){alert("Données animal ou client manquantes");return}try{const h=window.open("",`vaccination_certificate_${o.id}`,"height=800,width=800");if(!h){alert("L'impression a été bloquée par le navigateur. Veuillez autoriser les popups pour ce site.");return}const f=`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Certificat de Vaccination - ${o.name}</title>
            <style>
              body {
                font-family: Arial, sans-serif;
                margin: 20px;
                line-height: 1.6;
                color: #333;
              }
              .header {
                text-align: center;
                border-bottom: 3px solid #2c5530;
                padding-bottom: 20px;
                margin-bottom: 30px;
              }
              .header h1 {
                color: #2c5530;
                font-size: 32px;
                margin: 10px 0;
                font-weight: bold;
              }
              .clinic-info {
                margin-bottom: 30px;
                padding: 15px;
                background-color: #f8f9fa;
                border-radius: 8px;
              }
              .clinic-info img {
                height: 60px;
                margin-bottom: 10px;
              }
              .clinic-info h2 {
                color: #2c5530;
                margin: 10px 0;
              }
              .qr-section {
                float: right;
                margin-left: 20px;
              }
              .animal-info {
                clear: both;
                margin-bottom: 30px;
                padding: 20px;
                border: 2px solid #2c5530;
                border-radius: 8px;
              }
              .animal-info h2 {
                color: #2c5530;
                border-bottom: 2px solid #2c5530;
                padding-bottom: 10px;
                margin-bottom: 15px;
                font-size: 24px;
              }
              .animal-photo {
                text-align: center;
                margin-bottom: 20px;
              }
              .animal-photo img {
                width: 120px;
                height: 120px;
                object-fit: cover;
                border-radius: 50%;
                border: 3px solid #2c5530;
              }
              .info-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 15px;
                margin-bottom: 20px;
              }
              .info-item {
                display: flex;
                align-items: center;
              }
              .info-label {
                font-weight: bold;
                min-width: 120px;
                color: #2c5530;
              }
              .info-value {
                color: #666;
              }
              .vaccinations-section {
                margin-bottom: 30px;
              }
              .vaccinations-section h2 {
                color: #2c5530;
                border-bottom: 2px solid #2c5530;
                padding-bottom: 10px;
                margin-bottom: 20px;
                font-size: 24px;
              }
              .vaccination-card {
                border: 1px solid #ddd;
                border-radius: 8px;
                margin-bottom: 15px;
                padding: 15px;
                background-color: #fdfdfd;
              }
              .vaccination-card h3 {
                color: #2c5530;
                margin: 0 0 10px 0;
                font-size: 18px;
              }
              .vaccination-details {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 15px;
              }
              .vaccination-item {
                display: flex;
                align-items: center;
              }
              .vaccination-label {
                font-weight: bold;
                min-width: 140px;
                color: #555;
              }
              .vaccination-value {
                color: #666;
              }
              .vets-info {
                margin-bottom: 30px;
                padding: 15px;
                background-color: #f8f9fa;
                border-radius: 8px;
              }
              .vets-info h2 {
                color: #2c5530;
                margin-bottom: 15px;
              }
              .vet-item {
                margin-bottom: 8px;
                color: #666;
              }
              .footer {
                text-align: center;
                margin-top: 40px;
                padding-top: 20px;
                border-top: 1px solid #ddd;
                color: #888;
                font-size: 12px;
              }
              .no-vaccinations {
                text-align: center;
                color: #666;
                font-style: italic;
                padding: 40px;
                border: 2px dashed #ddd;
                border-radius: 8px;
              }
              
              @media print {
                body { margin: 0; }
                .no-print { display: none; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              ${t.logo?`<img src="${t.logo}" alt="Logo clinique" />`:""}
              <h1>CERTIFICAT DE VACCINATION</h1>
              <div class="qr-section">
                <canvas id="qrcode" width="100" height="100"></canvas>
              </div>
            </div>

            ${t.showClinicInfo?`
            <div class="clinic-info">
              <h2>${t.clinicName||"Clinique Vétérinaire"}</h2>
              <p><strong>Adresse:</strong> ${t.address||"N/A"}</p>
              <p><strong>Téléphone:</strong> ${t.phone||"N/A"} | <strong>Email:</strong> ${t.email||"N/A"}</p>
              ${t.website?`<p><strong>Site web:</strong> ${t.website}</p>`:""}
            </div>
            `:""}

            ${t.showVetsInfo&&i.length>0?`
            <div class="vets-info">
              <h2>Équipe Vétérinaire</h2>
              ${i.map(m=>`
                <div class="vet-item">
                  <strong>${m.title||"Dr."} ${m.name}</strong>
                  ${m.specialty?` - ${m.specialty}`:""}
                </div>
              `).join("")}
            </div>
            `:""}

            <div class="animal-info">
              <h2>Informations de l'Animal</h2>
              
              ${o.photo_url?`
              <div class="animal-photo">
                <img src="${o.photo_url}" alt="Photo de ${o.name}" />
              </div>
              `:""}

              <div class="info-grid">
                <div class="info-item">
                  <span class="info-label">Nom:</span>
                  <span class="info-value">${o.name}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Espèce:</span>
                  <span class="info-value">${o.species}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Race:</span>
                  <span class="info-value">${o.breed||"N/A"}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Âge:</span>
                  <span class="info-value">${o.birth_date?u(o.birth_date):"N/A"}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Sexe:</span>
                  <span class="info-value">${o.sex||"N/A"}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Poids:</span>
                  <span class="info-value">${o.weight?o.weight+" kg":"N/A"}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Propriétaire:</span>
                  <span class="info-value">${l.first_name} ${l.last_name}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Contact:</span>
                  <span class="info-value">${l.phone||l.email||"N/A"}</span>
                </div>
              </div>
            </div>

            <div class="vaccinations-section">
              <h2>Historique des Vaccinations</h2>
              
              ${c.length>0?c.map(m=>`
                  <div class="vaccination-card">
                    <h3>${m.vaccine_name}</h3>
                    <div class="vaccination-details">
                      <div class="vaccination-item">
                        <span class="vaccination-label">Date d'administration:</span>
                        <span class="vaccination-value">
                          ${m.vaccination_date?Xe(new Date(m.vaccination_date),"dd/MM/yyyy",{locale:In}):"N/A"}
                        </span>
                      </div>
                      <div class="vaccination-item">
                        <span class="vaccination-label">Prochaine échéance:</span>
                        <span class="vaccination-value">
                          ${m.next_due_date?Xe(new Date(m.next_due_date),"dd/MM/yyyy",{locale:In}):"N/A"}
                        </span>
                      </div>
                      <div class="vaccination-item">
                        <span class="vaccination-label">Type de vaccin:</span>
                        <span class="vaccination-value">${m.vaccine_type||"N/A"}</span>
                      </div>
                      <div class="vaccination-item">
                        <span class="vaccination-label">Fabricant:</span>
                        <span class="vaccination-value">${m.manufacturer||"N/A"}</span>
                      </div>
                      <div class="vaccination-item">
                        <span class="vaccination-label">Numéro de lot:</span>
                        <span class="vaccination-value">${m.batch_number||"N/A"}</span>
                      </div>
                  
                    </div>
                    ${m.notes?`
                      <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #eee;">
                        <strong>Notes:</strong> ${m.notes}
                      </div>
                    `:""}
                  </div>
                `).join(""):`<div class="no-vaccinations">
                  <p>Aucune vaccination enregistrée pour cet animal</p>
                </div>`}
            </div>

            <div class="footer">
              <p>Certificat généré le ${Xe(new Date,"dd/MM/yyyy à HH:mm",{locale:In})}</p>
              <p>VetPro - Système de Gestion Vétérinaire</p>
            </div>

            <script>
              // Generate QR Code (simple implementation)
              function generateQRCode() {
                const canvas = document.getElementById('qrcode');
                if (canvas) {
                  const ctx = canvas.getContext('2d');
                  ctx.fillStyle = '#000';
                  ctx.fillRect(0, 0, 100, 100);
                  ctx.fillStyle = '#fff';
                  ctx.font = '12px Arial';
                  ctx.textAlign = 'center';
                  ctx.fillText('QR', 50, 45);
                  ctx.fillText('CODE', 50, 60);
                }
              }
              
              window.onload = function() {
                generateQRCode();
                setTimeout(function() {
                  window.print();
                }, 500);
              };
            <\/script>
          </body>
        </html>
      `;h.document.open(),h.document.write(f),h.document.close(),h.onload=function(){setTimeout(()=>{h.focus(),h.print()},500)}}catch(h){console.error("Erreur lors de l'impression:",h),alert("Une erreur est survenue lors de l'impression du certificat.")}};return!o||!l?s.jsxs(F,{variant:"outline",disabled:!0,children:[s.jsx(Au,{className:"h-4 w-4 mr-2"}),"Certificat de vaccination"]}):s.jsxs(F,{variant:"outline",onClick:d,children:[s.jsx(Au,{className:"h-4 w-4 mr-2"}),"Certificat de vaccination"]})}function BN({children:e,selectedAnimalId:t,open:n,onOpenChange:r}){const{data:a=[]}=hs(),{data:i=[]}=ds(),o=sZ(),{toast:l}=at(),[c,u]=b.useState(!1),d=n!==void 0?n:c,h=r||u,[f,m]=b.useState({animalId:t||"",vaccineName:"",vaccineType:"",manufacturer:"",batchNumber:"",vaccinationDate:Xe(new Date,"yyyy-MM-dd"),nextDueDate:"",administeredBy:"",notes:""}),g=async x=>{var N,w,C,S;if(x.preventDefault(),!f.animalId||!f.vaccineName||!f.vaccinationDate){l({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(f.animalId)){l({title:"Erreur",description:"ID d'animal invalide",variant:"destructive"});return}const j={animal_id:f.animalId,vaccine_name:f.vaccineName.trim(),vaccine_type:f.vaccineType||void 0,manufacturer:((N=f.manufacturer)==null?void 0:N.trim())||void 0,batch_number:((w=f.batchNumber)==null?void 0:w.trim())||void 0,vaccination_date:f.vaccinationDate,next_due_date:f.nextDueDate||void 0,administered_by:((C=f.administeredBy)==null?void 0:C.trim())||void 0,notes:((S=f.notes)==null?void 0:S.trim())||void 0};try{await o.mutateAsync(j),l({title:"Vaccination ajoutée",description:`La vaccination ${f.vaccineName} a été ajoutée avec succès`}),m({animalId:t||"",vaccineName:"",vaccineType:"",manufacturer:"",batchNumber:"",vaccinationDate:Xe(new Date,"yyyy-MM-dd"),nextDueDate:"",administeredBy:"",notes:""}),h(!1)}catch{l({title:"Erreur",description:"Impossible d'ajouter la vaccination",variant:"destructive"})}},p=a.find(x=>x.id===f.animalId),v=p?i.find(x=>x.id===p.client_id):null;return s.jsxs(Ze,{open:d,onOpenChange:h,children:[s.jsx(Rx,{asChild:!0,children:e||s.jsxs(F,{className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle Vaccination"]})}),s.jsxs(Ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx($r,{className:"h-5 w-5"}),"Nouvelle Vaccination"]})}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"animal",children:"Animal *"}),s.jsxs(we,{value:f.animalId,onValueChange:x=>m({...f,animalId:x}),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionnez un animal"})}),s.jsx(je,{children:a.map(x=>{const y=i.find(j=>j.id===x.client_id);return s.jsxs(L,{value:x.id,children:[x.name," - ",x.species," (",y?`${y.first_name} ${y.last_name}`:"Client inconnu",")"]},x.id)})})]}),p&&v&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Propriétaire: ",v.first_name," ",v.last_name]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"vaccineName",children:"Nom du vaccin *"}),s.jsx(Q,{id:"vaccineName",value:f.vaccineName,onChange:x=>m({...f,vaccineName:x.target.value}),placeholder:"ex: DHPP, Rage, FVRCP...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"vaccineType",children:"Type de vaccin"}),s.jsxs(we,{value:f.vaccineType,onValueChange:x=>m({...f,vaccineType:x}),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionnez le type"})}),s.jsxs(je,{children:[s.jsx(L,{value:"core",children:"Essentiel"}),s.jsx(L,{value:"non-core",children:"Optionnel"}),s.jsx(L,{value:"rabies",children:"Rage"}),s.jsx(L,{value:"custom",children:"Personnalisé"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"manufacturer",children:"Fabricant"}),s.jsx(Q,{id:"manufacturer",value:f.manufacturer,onChange:x=>m({...f,manufacturer:x.target.value}),placeholder:"ex: Zoetis, Virbac, Merial..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"batchNumber",children:"Numéro de lot"}),s.jsx(Q,{id:"batchNumber",value:f.batchNumber,onChange:x=>m({...f,batchNumber:x.target.value}),placeholder:"Numéro de lot du vaccin"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"vaccinationDate",children:"Date de vaccination *"}),s.jsx(Q,{id:"vaccinationDate",type:"date",value:f.vaccinationDate,onChange:x=>m({...f,vaccinationDate:x.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"nextDueDate",children:"Prochain rappel"}),s.jsx(Q,{id:"nextDueDate",type:"date",value:f.nextDueDate,onChange:x=>m({...f,nextDueDate:x.target.value}),min:f.vaccinationDate})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(qe,{id:"notes",value:f.notes,onChange:x=>m({...f,notes:x.target.value}),placeholder:"Notes complémentaires...",rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Annuler"}),s.jsx(F,{type:"submit",disabled:o.isPending,children:o.isPending?"Ajout...":"Ajouter la vaccination"})]})]})]})]})}function zN({open:e,onOpenChange:t,selectedAnimalId:n,selectedClientId:r,editingAntiparasitic:a}){const{data:i}=hs(),{data:o}=ds(),l=dZ(),{toast:c}=at(),[u,d]=b.useState({clientId:r||"",animalId:n||"",productName:"",activeIngredient:"",parasiteType:"",administrationRoute:"",dosage:"",treatmentDate:Xe(new Date,"yyyy-MM-dd"),nextTreatmentDate:"",administeredBy:"",effectivenessRating:"none",notes:""}),[h,f]=b.useState(null),{data:m}=mZ(h==null?void 0:h.species);b.useEffect(()=>{r&&d(j=>({...j,clientId:r,animalId:""})),n&&d(j=>({...j,animalId:n}))},[r,n]),b.useEffect(()=>{if(u.animalId&&i){const j=i.find(N=>N.id===u.animalId);f(j),j&&d(N=>({...N,clientId:j.client_id}))}},[u.animalId,i]),b.useEffect(()=>{var j,N;a&&d({clientId:((j=a.animal)==null?void 0:j.client_id)||"",animalId:a.animal_id,productName:a.product_name,activeIngredient:a.active_ingredient||"",parasiteType:a.parasite_type||"",administrationRoute:a.administration_route||"",dosage:a.dosage||"",treatmentDate:a.treatment_date,nextTreatmentDate:a.next_treatment_date||"",administeredBy:a.administered_by||"",effectivenessRating:((N=a.effectiveness_rating)==null?void 0:N.toString())||"none",notes:a.notes||""})},[a]);const g=(j,N)=>{d(w=>({...w,[j]:N}))},p=j=>{d(N=>({...N,productName:j.product_name,activeIngredient:j.active_ingredient||"",parasiteType:j.parasite_type,administrationRoute:j.administration_route||"",dosage:j.dosage_recommendation||"",nextTreatmentDate:j.frequency_days?Xe(BS(new Date(N.treatmentDate),j.frequency_days),"yyyy-MM-dd"):""})),c({title:"Protocole appliqué",description:`Le protocole ${j.product_name} a été appliqué.`})},v=()=>{d({clientId:r||"",animalId:n||"",productName:"",activeIngredient:"",parasiteType:"",administrationRoute:"",dosage:"",treatmentDate:Xe(new Date,"yyyy-MM-dd"),nextTreatmentDate:"",administeredBy:"",effectivenessRating:"none",notes:""})},x=async j=>{if(j.preventDefault(),!u.animalId||!u.productName||!u.treatmentDate){c({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}try{const N={animal_id:u.animalId,product_name:u.productName,active_ingredient:u.activeIngredient||void 0,parasite_type:u.parasiteType||void 0,administration_route:u.administrationRoute||void 0,dosage:u.dosage||void 0,treatment_date:u.treatmentDate,next_treatment_date:u.nextTreatmentDate||void 0,administered_by:u.administeredBy||void 0,effectiveness_rating:u.effectivenessRating&&u.effectivenessRating!=="none"?parseInt(u.effectivenessRating):void 0,notes:u.notes||void 0};await l.mutateAsync(N),c({title:"Succès",description:"Le traitement antiparasitaire a été enregistré avec succès."}),v(),t(!1)}catch(N){console.error("Erreur lors de la création du traitement antiparasitaire:",N),c({title:"Erreur",description:"Une erreur s'est produite lors de l'enregistrement.",variant:"destructive"})}},y=(i==null?void 0:i.filter(j=>u.clientId?j.client_id===u.clientId:!0))||[];return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(Oa,{className:"h-5 w-5"}),a?"Modifier le traitement":"Nouveau traitement antiparasitaire"]})}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"clientId",children:"Client *"}),s.jsxs(we,{value:u.clientId,onValueChange:j=>g("clientId",j),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner un client"})}),s.jsx(je,{children:o==null?void 0:o.map(j=>s.jsxs(L,{value:j.id,children:[j.first_name," ",j.last_name]},j.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"animalId",children:"Animal *"}),s.jsxs(we,{value:u.animalId,onValueChange:j=>g("animalId",j),disabled:!u.clientId,children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner un animal"})}),s.jsx(je,{children:y.map(j=>s.jsxs(L,{value:j.id,children:[j.name," (",j.species,")"]},j.id))})]})]})]}),h&&s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-sm",children:"Animal sélectionné"})}),s.jsx(re,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Nom:"})," ",h.name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Espèce:"})," ",h.species]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Race:"})," ",h.breed||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Poids:"})," ",h.weight?`${h.weight} kg`:"N/A"]})]})})]}),m&&m.length>0&&s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"text-sm",children:["Protocoles recommandés pour ",h==null?void 0:h.species]})}),s.jsx(re,{children:s.jsx("div",{className:"grid gap-2",children:m.map(j=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:j.product_name}),s.jsxs("div",{className:"text-sm text-gray-600",children:[j.parasite_type," - ",j.active_ingredient]})]}),s.jsxs(F,{type:"button",variant:"outline",size:"sm",onClick:()=>p(j),children:[s.jsx(nt,{className:"h-4 w-4 mr-1"}),"Appliquer"]})]},j.id))})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"productName",children:"Nom du produit *"}),s.jsx(Q,{id:"productName",value:u.productName,onChange:j=>g("productName",j.target.value),placeholder:"Ex: Frontline, Bravecto...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"activeIngredient",children:"Principe actif"}),s.jsx(Q,{id:"activeIngredient",value:u.activeIngredient,onChange:j=>g("activeIngredient",j.target.value),placeholder:"Ex: Fipronil, Fluralaner..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"parasiteType",children:"Type de parasite"}),s.jsxs(we,{value:u.parasiteType,onValueChange:j=>g("parasiteType",j),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner le type"})}),s.jsxs(je,{children:[s.jsx(L,{value:"puces",children:"Puces"}),s.jsx(L,{value:"tiques",children:"Tiques"}),s.jsx(L,{value:"vers_intestinaux",children:"Vers intestinaux"}),s.jsx(L,{value:"vers_cardiaques",children:"Vers cardiaques"}),s.jsx(L,{value:"acariens",children:"Acariens"}),s.jsx(L,{value:"poux",children:"Poux"}),s.jsx(L,{value:"multi_parasites",children:"Multi-parasites"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"administrationRoute",children:"Voie d'administration"}),s.jsxs(we,{value:u.administrationRoute,onValueChange:j=>g("administrationRoute",j),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner la voie"})}),s.jsxs(je,{children:[s.jsx(L,{value:"spot_on",children:"Spot-on (pipette)"}),s.jsx(L,{value:"oral",children:"Orale (comprimé/liquide)"}),s.jsx(L,{value:"injection",children:"Injection"}),s.jsx(L,{value:"spray",children:"Spray"}),s.jsx(L,{value:"collier",children:"Collier"}),s.jsx(L,{value:"shampoing",children:"Shampoing"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"dosage",children:"Dosage"}),s.jsx(Q,{id:"dosage",value:u.dosage,onChange:j=>g("dosage",j.target.value),placeholder:"Ex: 1 pipette, 1 comprimé..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"treatmentDate",children:"Date du traitement *"}),s.jsx(Q,{id:"treatmentDate",type:"date",value:u.treatmentDate,onChange:j=>g("treatmentDate",j.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"nextTreatmentDate",children:"Prochain traitement"}),s.jsx(Q,{id:"nextTreatmentDate",type:"date",value:u.nextTreatmentDate,onChange:j=>g("nextTreatmentDate",j.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"effectivenessRating",children:"Efficacité (optionnel, 1-10)"}),s.jsxs(we,{value:u.effectivenessRating,onValueChange:j=>g("effectivenessRating",j),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Évaluer l'efficacité"})}),s.jsxs(je,{children:[s.jsx(L,{value:"none",children:"Non évalué"}),[...Array(10)].map((j,N)=>s.jsxs(L,{value:(N+1).toString(),children:[N+1," - ",N+1<=3?"Faible":N+1<=6?"Moyenne":N+1<=8?"Bonne":"Excellente"]},N+1))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(qe,{id:"notes",value:u.notes,onChange:j=>g("notes",j.target.value),placeholder:"Observations, effets secondaires, etc.",rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsxs(F,{type:"submit",disabled:l.isPending,children:[l.isPending&&s.jsx(wr,{className:"h-4 w-4 mr-2 animate-spin"}),a?"Modifier":"Enregistrer"]})]})]})]})})}function vPe({open:e,onOpenChange:t,pet:n}){const{consultations:r,clients:a,getConsultationsByPetId:i,getClientById:o,getPrescriptionsByPetId:l,getActivePrescriptions:c,getVaccinationsByPetId:u,getAntiparasiticsByPetId:d,updatePet:h,updateConsultation:f,updateVaccination:m,updateVaccinationStatuses:g}=pt(),[p,v]=b.useState(!1),[x,y]=b.useState(!1),[j,N]=b.useState(!1),[w,C]=b.useState(!1),[S,_]=b.useState("overview"),[k,E]=b.useState(!1),[P,A]=b.useState({hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),[R,M]=b.useState((n==null?void 0:n.additionalPhotos)||[]),[K,z]=b.useState({clientId:0,petId:0,type:"",reason:""}),[W,T]=b.useState(null),[I,U]=b.useState(!1),[H,Z]=b.useState(null),[ae,se]=b.useState(null),{toast:me}=at();b.useEffect(()=>{e&&g()},[e,g]);const xe=()=>{n&&(h(n.id,{...n,...P}),Object.assign(n,P),E(!1))},le=()=>{n&&(A({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),E(!1))},Y=G=>{n&&(z({clientId:n.ownerId,petId:n.id,type:"vaccination",reason:`Rappel vaccinal - ${G.vaccineName}`}),T(G),y(!0))},ee=G=>{Z(G),U(!0)},oe=(G,Se)=>{m(G,{status:Se}),se(null),me({title:"Statut mis à jour",description:`Le statut de la vaccination a été changé en "${{completed:"Terminée",scheduled:"Planifiée",overdue:"En retard",missed:"Manquée"}[Se]}"`})},O=(G,Se)=>{const pe=r.find(Ms=>Ms.id===G);if(!pe||!pe.photos)return;const on=pe.photos.filter((Ms,fs)=>fs!==Se),kr={...pe,photos:on};f(G,kr)},q=async G=>{var on;const Se=(on=G.target.files)==null?void 0:on[0];if(!Se)return;const pe=new FileReader;pe.onload=()=>{const kr=pe.result,Ms=[...R,kr];M(Ms),n&&h(n.id,{...n,additionalPhotos:Ms})},pe.readAsDataURL(Se)},fe=G=>{const Se=R.filter((pe,on)=>on!==G);M(Se),n&&h(n.id,{...n,additionalPhotos:Se})};if(b.useEffect(()=>{n&&(A({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),M(n.additionalPhotos||[]))},[n]),!n)return null;const he=o(n.ownerId),Ye=i(n.id),We=u(n.id),ut=d(n.id),$e=[...Ye].sort((G,Se)=>new Date(Se.date).getTime()-new Date(G.date).getTime()),it=[...We].sort((G,Se)=>new Date(Se.dateGiven).getTime()-new Date(G.dateGiven).getTime()),ie=[...ut||[]].sort((G,Se)=>new Date(Se.dateGiven).getTime()-new Date(G.dateGiven).getTime()),Me=$e.filter(G=>G.weight||G.temperature).map(G=>({date:new Date(G.date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),weight:G.weight?parseFloat(G.weight):0,temperature:G.temperature?parseFloat(G.temperature):0})).reverse(),jt=$e.filter(G=>G.weight).map(G=>parseFloat(G.weight)),Ft=$e.filter(G=>G.temperature).map(G=>parseFloat(G.temperature)),Kn=jt[0]||0,gt=jt[1]||0,Ot=Kn-gt,Sn=Ot>0?"up":Ot<0?"down":"stable",er=Ft[0]||0,Wr=Ft.length>0?Ft.reduce((G,Se)=>G+Se,0)/Ft.length:0,vn=$e[0],Di=vn!=null&&vn.followUp?{reason:vn.followUp,estimatedDate:new Date(vn.date)}:null,Rn=[];if(vn){const G=(new Date().getTime()-new Date(vn.date).getTime())/2592e6;G>6&&Rn.push({type:"warning",title:"Contrôle de routine recommandé",message:`Dernière consultation il y a ${Math.floor(G)} mois`,action:"Planifier consultation",actionType:"consultation"})}(er>39.5||er<37.5)&&Rn.push({type:"danger",title:"Température anormale",message:`Température actuelle: ${er}°C`,action:"Contrôle urgent",actionType:"consultation"}),Ot<-2&&Rn.push({type:"warning",title:"Perte de poids",message:`Perte de ${Math.abs(Ot)}kg depuis la dernière consultation`,action:"Surveiller",actionType:"consultation"});const Ha=new Date;new Date(Ha.getTime()+7*24*60*60*1e3),We.forEach(G=>{if(G.nextDueDate){const Se=new Date(G.nextDueDate),pe=Math.ceil((Se.getTime()-Ha.getTime())/(1e3*60*60*24));pe<0?Rn.push({type:"danger",title:"Vaccination en retard",message:`${G.vaccineName} - ${Math.abs(pe)} jour(s) de retard`,action:"Planifier vaccination",actionType:"vaccination"}):pe<=7&&Rn.push({type:"warning",title:"Vaccination à prévoir",message:`${G.vaccineName} - Dans ${pe} jour(s)`,action:"Planifier vaccination",actionType:"vaccination"})}}),ut.forEach(G=>{if(G.nextDueDate){const Se=new Date(G.nextDueDate),pe=Math.ceil((Se.getTime()-Ha.getTime())/(1e3*60*60*24));pe<0?Rn.push({type:"danger",title:"Traitement antiparasitaire en retard",message:`${G.productName} - ${Math.abs(pe)} jour(s) de retard`,action:"Planifier traitement",actionType:"antiparasitic"}):pe<=7&&Rn.push({type:"warning",title:"Traitement antiparasitaire à prévoir",message:`${G.productName} - Dans ${pe} jour(s)`,action:"Planifier traitement",actionType:"antiparasitic"})}});const Ds=()=>{z({clientId:(he==null?void 0:he.id)||0,petId:n.id,type:"consultation",reason:"Nouvelle consultation"}),y(!0)},dc=G=>{let Se="consultation",pe="";switch(G){case"consultation":Se="consultation",pe="Contrôle de routine recommandé";break;case"vaccination":Se="vaccination",pe="Vaccination à effectuer";break;case"antiparasitic":Se="controle",pe="Traitement antiparasitaire à effectuer";break;default:Se="consultation",pe="Rendez-vous médical"}z({clientId:(he==null?void 0:he.id)||0,petId:n.id,type:Se,reason:pe}),y(!0)},fa=()=>{const G=window.open("","_blank");if(!G)return;const Se=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Dossier Médical - ${n.name}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
            .clinic-name { font-size: 24px; font-weight: bold; color: #2563eb; }
            .pet-info { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
            .info-section { border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
            .info-section h3 { margin: 0 0 10px 0; color: #333; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .consultation { margin: 20px 0; border: 1px solid #eee; padding: 15px; border-radius: 5px; }
            .consultation h4 { margin: 0 0 10px 0; color: #333; }
            .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0; }
            .stat-card { border: 1px solid #ddd; padding: 10px; text-align: center; border-radius: 5px; }
            .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; }
            .stat-label { font-size: 12px; color: #666; }
            @media print { body { margin: 0; } }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <h2>Dossier Médical Complet</h2>
            <p><strong>Animal:</strong> ${n.name} | <strong>Généré le:</strong> ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
          </div>

          <div class="pet-info">
            <div class="info-section">
              <h3>Informations Animal</h3>
              <p><strong>Nom:</strong> ${n.name}</p>
              <p><strong>Espèce:</strong> ${n.type}</p>
              <p><strong>Race:</strong> ${n.breed||"Non spécifiée"}</p>
              <p><strong>Sexe:</strong> ${n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Non spécifié"}</p>
              <p><strong>Âge:</strong> ${n.birthDate?ku(n.birthDate):"Non spécifié"}</p>
              <p><strong>Poids actuel:</strong> ${Kn}kg</p>
              <p><strong>Température actuelle:</strong> ${er}°C</p>
              <p><strong>Couleur:</strong> ${n.color||"Non spécifiée"}</p>
              <p><strong>Puce électronique:</strong> ${n.microchip||"Non spécifiée"}</p>
              ${n.medicalNotes?`<p><strong>Notes médicales:</strong> ${n.medicalNotes}</p>`:""}
            </div>
            <div class="info-section">
              <h3>Propriétaire</h3>
              <p><strong>Nom:</strong> ${(he==null?void 0:he.name)||"Non spécifié"}</p>
              <p><strong>Email:</strong> ${(he==null?void 0:he.email)||"Non spécifié"}</p>
              <p><strong>Téléphone:</strong> ${(he==null?void 0:he.phone)||"Non spécifié"}</p>
            </div>
          </div>

          <div class="stats">
            <div class="stat-card">
              <div class="stat-value">${$e.length}</div>
              <div class="stat-label">Consultations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${We.length}</div>
              <div class="stat-label">Vaccinations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${ut.length}</div>
              <div class="stat-label">Antiparasitaires</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${Kn}kg</div>
              <div class="stat-label">Poids actuel</div>
            </div>
          </div>

          <!-- Photo principale de l'animal -->
          ${n.photo?`
            <div style="text-align: center; margin: 20px 0;">
              <img src="${n.photo}" alt="${n.name}" style="max-width: 200px; max-height: 200px; object-fit: cover; border-radius: 8px; border: 2px solid #ddd;" />
              <p style="margin-top: 10px; font-weight: bold;">Photo de ${n.name}</p>
            </div>
          `:""}

          <!-- Historique des Consultations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Consultations (${$e.length})</h3>
            ${$e.length>0?$e.map(pe=>`
              <div style="margin: 15px 0; border: 1px solid #ddd; padding: 15px; border-radius: 5px; background: #f9f9f9;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Consultation du ${new Date(pe.date).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Poids:</strong> ${pe.weight||"Non renseigné"}</p>
                    <p><strong>Température:</strong> ${pe.temperature||"Non renseigné"}</p>
                    ${pe.symptoms?`<p><strong>Symptômes:</strong> ${pe.symptoms}</p>`:""}
                  </div>
                  <div>
                    ${pe.diagnosis?`<p><strong>Diagnostic:</strong> ${pe.diagnosis}</p>`:""}
                    ${pe.treatment?`<p><strong>Traitement:</strong> ${pe.treatment}</p>`:""}
                    ${pe.medications?`<p><strong>Médicaments:</strong> ${pe.medications}</p>`:""}
                  </div>
                </div>
                ${pe.notes?`<p><strong>Notes:</strong> ${pe.notes}</p>`:""}
                ${pe.photos&&pe.photos.length>0?`
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin: 15px 0;">
                    ${pe.photos.map((on,kr)=>`
                      <div style="text-align: center;">
                        <img src="${on}" alt="Photo consultation ${kr+1}" style="max-width: 120px; max-height: 120px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                        <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo ${kr+1}</div>
                      </div>
                    `).join("")}
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune consultation enregistrée</p>'}
          </div>

          <!-- Historique des Vaccinations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Vaccinations (${We.length})</h3>
            ${We.length>0?We.map(pe=>`
              <div style="margin: 10px 0; padding: 10px; border-left: 3px solid #4CAF50; background: #f0f8f0;">
                <h4 style="margin: 0 0 10px 0;">${pe.vaccineName} - ${new Date(pe.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <p><strong>Type:</strong> ${pe.vaccineType||"Non spécifié"}</p>
                <p><strong>Prochain rappel:</strong> ${pe.nextDueDate?new Date(pe.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                <p><strong>Vétérinaire:</strong> ${pe.veterinarian||"Non spécifié"}</p>
                ${pe.notes?`<p><strong>Notes:</strong> ${pe.notes}</p>`:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune vaccination enregistrée</p>'}
          </div>

          <!-- Historique des Antiparasitaires -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Traitements Antiparasitaires (${ut.length})</h3>
            ${ut.length>0?ut.map(pe=>`
              <div style="margin: 15px 0; padding: 15px; border-left: 4px solid #9C27B0; background: #f3e5f5; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #7B1FA2;">${pe.productName} - ${new Date(pe.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 10px 0;">
                  <div>
                    <p><strong>Type de produit:</strong> ${pe.productType||"Non spécifié"}</p>
                    <p><strong>Parasites ciblés:</strong> ${pe.targetParasites||"Non spécifié"}</p>
                    <p><strong>Voie d'administration:</strong> ${pe.administrationRoute||"Non spécifié"}</p>
                    <p><strong>Dosage:</strong> ${pe.dosage||"Non spécifié"}</p>
                  </div>
                  <div>
                <p><strong>Prochain traitement:</strong> ${pe.nextDueDate?new Date(pe.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                <p><strong>Vétérinaire:</strong> ${pe.veterinarian||"Non spécifié"}</p>
                    <p><strong>Statut:</strong> ${pe.status==="completed"?"Terminé":pe.status==="scheduled"?"Planifié":pe.status==="overdue"?"En retard":"Manqué"}</p>
                    ${pe.cost?`<p><strong>Coût:</strong> ${pe.cost} €</p>`:""}
                  </div>
                </div>
                ${pe.batchNumber?`<p><strong>Numéro de lot:</strong> ${pe.batchNumber}</p>`:""}
                ${pe.manufacturer?`<p><strong>Fabricant:</strong> ${pe.manufacturer}</p>`:""}
                ${pe.weight?`<p><strong>Poids de l'animal:</strong> ${pe.weight}</p>`:""}
                ${pe.notes?`
                  <div style="margin: 10px 0; padding: 10px; background: rgba(156, 39, 176, 0.1); border-radius: 3px;">
                    <p><strong>Notes:</strong> ${pe.notes}</p>
                  </div>
                `:""}
                ${pe.sideEffects?`
                  <div style="margin: 10px 0; padding: 10px; background: #ffebee; border: 1px solid #f44336; border-radius: 3px;">
                    <p style="color: #d32f2f;"><strong>⚠️ Effets indésirables:</strong> ${pe.sideEffects}</p>
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucun traitement antiparasitaire enregistré</p>'}
          </div>

          <!-- Section Pedigree -->
          ${n.hasPedigree?`
            <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
              <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Pedigree Officiel</h3>
              
              <!-- Informations de l'animal -->
              <div style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Informations de l'animal</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Nom officiel:</strong> ${n.officialName||"Non spécifié"}</p>
                    <p><strong>N° Pedigree/LOF:</strong> ${n.pedigreeNumber||"Non spécifié"}</p>
                    <p><strong>N° Puce/Tatouage:</strong> ${n.microchip||"Non spécifié"}</p>
                    <p><strong>Race:</strong> ${n.breed||"Non spécifiée"}</p>
                  </div>
                  <div>
                    <p><strong>Sexe:</strong> ${n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Non spécifié"}</p>
                    <p><strong>Couleur/Robe:</strong> ${n.color||"Non spécifiée"}</p>
                    <p><strong>Date de naissance:</strong> ${n.birthDate?new Date(n.birthDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                    <p><strong>Éleveur:</strong> ${n.breeder||"Non spécifié"}</p>
                  </div>
                </div>
              </div>

              <!-- Parents -->
              <div style="margin: 20px 0;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Ascendance</h4>
                
                <!-- Père -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #007bff; background: #f0f8ff;">
                  <h5 style="margin: 0 0 8px 0; color: #007bff;">Père</h5>
                  <p><strong>Nom:</strong> ${n.fatherName||"Non spécifié"}</p>
                  <p><strong>N° Pedigree:</strong> ${n.fatherPedigree||"Non spécifié"}</p>
                  <p><strong>Race:</strong> ${n.fatherBreed||"Non spécifiée"}</p>
                  ${n.fatherTitles?`<p><strong>Titres:</strong> ${n.fatherTitles}</p>`:""}
                </div>

                <!-- Mère -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #e91e63; background: #fce4ec;">
                  <h5 style="margin: 0 0 8px 0; color: #e91e63;">Mère</h5>
                  <p><strong>Nom:</strong> ${n.motherName||"Non spécifié"}</p>
                  <p><strong>N° Pedigree:</strong> ${n.motherPedigree||"Non spécifié"}</p>
                  <p><strong>Race:</strong> ${n.motherBreed||"Non spécifiée"}</p>
                  ${n.motherTitles?`<p><strong>Titres:</strong> ${n.motherTitles}</p>`:""}
                </div>
              </div>

              <!-- Certificat Pedigree -->
              ${n.pedigreePhoto?`
                <div style="margin: 20px 0; text-align: center;">
                  <h4 style="margin: 0 0 15px 0; color: #333;">Certificat Pedigree</h4>
                  <img src="${n.pedigreePhoto}" alt="Certificat Pedigree" style="max-width: 100%; max-height: 400px; object-fit: contain; border-radius: 8px; border: 2px solid #ddd; box-shadow: 0 4px 8px rgba(0,0,0,0.1);" />
                  <p style="margin-top: 10px; font-size: 12px; color: #666;">Document officiel du pedigree</p>
                </div>
              `:""}
            </div>
          `:""}

          <!-- Album Photo -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Album Photo</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin: 15px 0;">
              ${n.photo?`
                <div style="text-align: center;">
                  <img src="${n.photo}" alt="Photo principale" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                  <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo principale</div>
                </div>
              `:""}
              ${$e.some(pe=>pe.photos&&pe.photos.length>0)?$e.map(pe=>pe.photos?pe.photos.map((on,kr)=>`
                    <div style="text-align: center;">
                      <img src="${on}" alt="Consultation ${new Date(pe.date).toLocaleDateString("fr-FR")} - Photo ${kr+1}" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                      <div style="font-size: 11px; color: #666; margin-top: 5px;">Consultation ${new Date(pe.date).toLocaleDateString("fr-FR")}</div>
                    </div>
                  `).join(""):"").join(""):""}
            </div>
            ${!n.photo&&!$e.some(pe=>pe.photos&&pe.photos.length>0)?'<p style="text-align: center; color: #666; font-style: italic;">Aucune photo disponible</p>':""}
          </div>

          <div style="margin-top: 40px; text-align: center; font-size: 12px; color: #666;">
            <p>VetPro CRM - Gestion Vétérinaire Complète</p>
          </div>
        </body>
      </html>
    `;G.document.write(Se),G.document.close(),G.focus(),G.print(),G.close()};return s.jsxs(s.Fragment,{children:[s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[1000px] max-h-[90vh] overflow-y-auto",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(vr,{className:"h-5 w-5"}),"Dossier Médical - ",n.name,he&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(Propriétaire: ",he.name,")"]})]})}),s.jsxs(ki,{value:S,onValueChange:_,className:"space-y-4",children:[s.jsxs(Ua,{className:"grid w-full grid-cols-7",children:[s.jsxs(At,{value:"overview",className:"gap-2",children:[s.jsx(ra,{className:"h-4 w-4"}),"Vue d'ensemble"]}),s.jsxs(At,{value:"history",className:"gap-2",children:[s.jsx(jn,{className:"h-4 w-4"}),"Historique"]}),s.jsxs(At,{value:"prescriptions",className:"gap-2",children:[s.jsx($r,{className:"h-4 w-4"}),"Prescriptions"]}),s.jsxs(At,{value:"vaccinations",className:"gap-2",children:[s.jsx($r,{className:"h-4 w-4"}),"Vaccinations"]}),s.jsxs(At,{value:"antiparasites",className:"gap-2",children:[s.jsx(cl,{className:"h-4 w-4"}),"Antiparasitaires"]}),s.jsxs(At,{value:"pedigree",className:"gap-2",children:[s.jsx(Ng,{className:"h-4 w-4"}),"Pedigree"]}),s.jsxs(At,{value:"charts",className:"gap-2",children:[s.jsx(sn,{className:"h-4 w-4"}),"Évolution"]}),s.jsxs(At,{value:"alerts",className:"gap-2",children:[s.jsx(zn,{className:"h-4 w-4"}),"Alertes"]})]}),s.jsxs(kt,{value:"overview",className:"space-y-4",children:[s.jsxs(te,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsx(de,{className:"text-lg",children:"Galerie photos"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:q,className:"hidden",id:"add-photo-input"}),s.jsxs("label",{htmlFor:"add-photo-input",className:"cursor-pointer inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:[s.jsx(nt,{className:"h-4 w-4"}),"Ajouter une photo"]})]})]}),s.jsx(re,{children:s.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[n.photo&&s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("img",{src:n.photo,alt:"Photo officielle",className:"h-32 w-32 object-cover rounded"}),s.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:"Officielle"})]}),R.map((G,Se)=>s.jsxs("div",{className:"relative flex-shrink-0 group",children:[s.jsx("img",{src:G,alt:`Photo supplémentaire ${Se+1}`,className:"h-32 w-32 object-cover rounded"}),s.jsxs("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:["Photo ",Se+1]}),s.jsx("button",{onClick:()=>fe(Se),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:"×"})]},`additional-${Se}`)),$e.map(G=>{var Se;return(Se=G.photos)==null?void 0:Se.map((pe,on)=>s.jsxs("div",{className:"relative flex-shrink-0 group",children:[s.jsx("img",{src:pe,alt:`consultation-${G.id}-${on}`,className:"h-32 w-32 object-cover rounded"}),s.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:new Date(G.date).toLocaleDateString("fr-FR")}),s.jsx("button",{onClick:()=>O(G.id,on),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:"×"})]},`${G.id}-${on}`))}),!n.photo&&R.length===0&&$e.every(G=>!G.photos||G.photos.length===0)&&s.jsx("div",{className:"flex items-center justify-center h-32 w-full border-2 border-dashed border-gray-300 rounded text-gray-500",children:"Aucune photo disponible"})]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cg,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),s.jsxs("p",{className:"text-2xl font-bold",children:[Kn,"kg"]}),Ot!==0&&s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[Sn==="up"?s.jsx(sn,{className:"h-3 w-3 text-green-600"}):s.jsx($l,{className:"h-3 w-3 text-red-600"}),s.jsxs("span",{className:Sn==="up"?"text-green-600":"text-red-600",children:[Math.abs(Ot),"kg"]})]})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cf,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Température"}),s.jsxs("p",{className:"text-2xl font-bold",children:[er,"°C"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Moy: ",Wr.toFixed(1),"°C"]})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),s.jsx("p",{className:"text-2xl font-bold",children:$e.length}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernière: ",vn?new Date(vn.date).toLocaleDateString("fr-FR"):"Aucune"]})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zn,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),s.jsx("p",{className:"text-2xl font-bold",children:Rn.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Rn.length>0?"À traiter":"Aucune"})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($r,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Prescriptions"}),s.jsx("p",{className:"text-2xl font-bold",children:l(n.id).length}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[c().filter(G=>G.petId===n.id).length," active(s)"]})]})]})})})]}),Di&&s.jsx(te,{className:"border-primary",children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Prochain suivi recommandé"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Di.reason})]}),s.jsxs(F,{size:"sm",onClick:Ds,children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Planifier"]})]})})}),Rn.length>0&&s.jsxs(te,{className:"border-destructive",children:[s.jsx(ue,{children:s.jsx(de,{className:"text-destructive",children:"Alertes importantes"})}),s.jsx(re,{className:"space-y-2",children:Rn.slice(0,3).map((G,Se)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/10 rounded",children:[s.jsx(zn,{className:"h-4 w-4 text-destructive"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:G.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:G.message})]}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>dc(G.actionType),children:G.action})]},Se))})]})]}),s.jsxs(kt,{value:"history",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Historique des consultations"}),s.jsxs(F,{size:"sm",onClick:Ds,className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Planifier Consultation"]})]}),$e.length===0?s.jsx(te,{children:s.jsxs(re,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(jn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune consultation enregistrée"}),s.jsx("p",{className:"text-sm",children:"Commencez par créer la première consultation"})]})}):s.jsx("div",{className:"space-y-4",children:$e.map(G=>s.jsxs(te,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(de,{className:"text-base",children:["Consultation #",G.id]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(He,{className:"h-4 w-4"}),new Date(G.date).toLocaleDateString("fr-FR")]})]})}),s.jsxs(re,{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Poids:"}),s.jsx("span",{className:"ml-2",children:G.weight||"Non renseigné"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Température:"}),s.jsx("span",{className:"ml-2",children:G.temperature||"Non renseigné"})]})]}),G.symptoms&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Symptômes:"}),s.jsx("p",{className:"text-sm mt-1",children:G.symptoms})]}),G.diagnosis&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Diagnostic:"}),s.jsx("p",{className:"text-sm mt-1",children:G.diagnosis})]}),G.treatment&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Traitement:"}),s.jsx("p",{className:"text-sm mt-1",children:G.treatment})]}),G.medications&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Médicaments:"}),s.jsx("p",{className:"text-sm mt-1",children:G.medications})]}),G.notes&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Notes:"}),s.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:G.notes})]}),G.followUp&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("span",{className:"font-medium text-primary",children:"Suivi recommandé:"}),s.jsx("p",{className:"text-sm mt-1",children:G.followUp})]})]})]},G.id))})]}),s.jsx(kt,{value:"prescriptions",className:"space-y-4",children:s.jsx(F6,{petId:n.id})}),s.jsxs(kt,{value:"charts",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Évolution du poids et de la température"}),Me.length>0?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Cg,{className:"h-5 w-5"}),"Évolution du poids"]})}),s.jsx(re,{children:s.jsx(Si,{width:"100%",height:200,children:s.jsxs(zE,{data:Me,children:[s.jsx(Ql,{strokeDasharray:"3 3"}),s.jsx(oa,{dataKey:"date"}),s.jsx(la,{}),s.jsx(Vn,{}),s.jsx(rd,{type:"monotone",dataKey:"weight",stroke:"#2563eb",strokeWidth:2})]})})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(cf,{className:"h-5 w-5"}),"Évolution de la température"]})}),s.jsx(re,{children:s.jsx(Si,{width:"100%",height:200,children:s.jsxs(zE,{data:Me,children:[s.jsx(Ql,{strokeDasharray:"3 3"}),s.jsx(oa,{dataKey:"date"}),s.jsx(la,{}),s.jsx(Vn,{}),s.jsx(rd,{type:"monotone",dataKey:"temperature",stroke:"#dc2626",strokeWidth:2})]})})})]})]}):s.jsx(te,{children:s.jsxs(re,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(sn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune donnée disponible pour les graphiques"}),s.jsx("p",{className:"text-sm",children:"Ajoutez des consultations avec poids et température"})]})})]}),s.jsxs(kt,{value:"vaccinations",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Historique vaccinal"}),s.jsx(BN,{selectedClientId:he==null?void 0:he.id,selectedPetId:n.id,children:s.jsxs(F,{size:"sm",className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle vaccination"]})})]}),it.length===0?s.jsx(te,{children:s.jsxs(re,{className:"p-8 text-center text-muted-foreground",children:[s.jsx($r,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune vaccination enregistrée"}),s.jsx("p",{className:"text-sm",children:"Commencez par ajouter la première vaccination"})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:s.jsx($r,{className:"h-4 w-4 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),s.jsx("p",{className:"text-xl font-bold",children:it.length})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(He,{className:"h-4 w-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"À jour"}),s.jsx("p",{className:"text-xl font-bold",children:it.filter(G=>G.status==="completed").length})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:s.jsx(zn,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),s.jsx("p",{className:"text-xl font-bold",children:it.filter(G=>G.status==="overdue").length})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:s.jsx(He,{className:"h-4 w-4 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiées"}),s.jsx("p",{className:"text-xl font-bold",children:it.filter(G=>G.status==="scheduled").length})]})]})})})]}),s.jsx("div",{className:"space-y-3",children:it.map(G=>s.jsx(te,{className:"hover:shadow-md transition-shadow",children:s.jsxs(re,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx($r,{className:`h-5 w-5 ${G.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),s.jsxs("h4",{className:"font-semibold text-lg",children:[G.vaccineName,G.vaccinationCategory==="reminder"&&s.jsx("span",{className:"ml-2 text-sm text-orange-600 font-normal",children:"(Rappel)"})]}),s.jsx(Pe,{variant:G.vaccineType==="core"?"default":"secondary",className:"text-xs",children:G.vaccineType==="core"?"Essentiel":G.vaccineType==="non-core"?"Optionnel":G.vaccineType==="rabies"?"Rage":"Personnalisé"}),G.vaccinationCategory==="reminder"&&s.jsx(Pe,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"}),ae===G.id?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(we,{value:G.status,onValueChange:Se=>oe(G.id,Se),children:[s.jsx(ye,{className:"w-32",children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"completed",children:"Terminée"}),s.jsx(L,{value:"scheduled",children:"Planifiée"}),s.jsx(L,{value:"overdue",children:"En retard"}),s.jsx(L,{value:"missed",children:"Manquée"})]})]}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>se(null),children:"Annuler"})]}):s.jsx(Pe,{className:G.status==="completed"?"bg-green-100 text-green-800 border-green-200 cursor-pointer hover:bg-green-200":G.status==="overdue"?"bg-red-100 text-red-800 border-red-200 cursor-pointer hover:bg-red-200":G.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200 cursor-pointer hover:bg-blue-200":"bg-orange-100 text-orange-800 border-orange-200 cursor-pointer hover:bg-orange-200",onClick:()=>se(G.id),children:G.status==="completed"?"Terminée":G.status==="overdue"?"En retard":G.status==="scheduled"?"Planifiée":"Manquée"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:G.vaccinationCategory==="reminder"?"Date du rappel":"Date administrée"}),s.jsx("p",{className:"font-medium",children:Da(G.dateGiven)})]}),G.vaccinationCategory==="new"&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Rappel prévu"}),s.jsx("p",{className:"font-medium",children:Da(G.nextDueDate)})]}),G.vaccinationCategory==="reminder"&&G.originalVaccinationId&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Vaccination originale"}),s.jsxs("p",{className:"font-medium text-sm text-gray-500",children:["ID: ",G.originalVaccinationId]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Vétérinaire"}),s.jsx("p",{className:"font-medium",children:G.veterinarian})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Coût"}),s.jsx("p",{className:"font-medium",children:G.cost?`${G.cost} €`:"Non spécifié"})]})]}),G.batchNumber&&s.jsx("div",{className:"mt-3 text-sm",children:s.jsxs("p",{className:"text-gray-600",children:["Numéro de lot: ",s.jsx("span",{className:"font-medium",children:G.batchNumber})]})}),G.manufacturer&&s.jsx("div",{className:"mt-1 text-sm",children:s.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",s.jsx("span",{className:"font-medium",children:G.manufacturer})]})}),G.location&&s.jsx("div",{className:"mt-1 text-sm",children:s.jsxs("p",{className:"text-gray-600",children:["Site d'injection: ",s.jsx("span",{className:"font-medium",children:G.location==="left_shoulder"?"Épaule gauche":G.location==="right_shoulder"?"Épaule droite":G.location==="left_hip"?"Hanche gauche":G.location==="right_hip"?"Hanche droite":"Sous-cutané"})]})}),G.notes&&s.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Notes:"})," ",G.notes]})}),G.adverseReactions&&s.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:s.jsxs("p",{className:"text-sm text-red-700",children:[s.jsx("strong",{children:"⚠️ Réactions adverses:"})," ",G.adverseReactions]})})]}),s.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[s.jsx(B6,{animalId:n.id.toString()}),G.nextDueDate&&new Date(G.nextDueDate)<=new Date&&G.status!=="completed"&&!G.reminderAppointmentId&&s.jsxs(F,{size:"sm",className:"gap-2",onClick:()=>Y(G),children:[s.jsx(nt,{className:"h-4 w-4"}),"Rappel"]}),G.reminderAppointmentId&&s.jsx(Pe,{variant:"outline",className:"text-xs",children:"Rappel programmé"}),G.status==="overdue"&&s.jsxs(F,{size:"sm",className:"gap-2",onClick:()=>ee(G),children:[s.jsx(OU,{className:"h-4 w-4"}),"Confirmer"]})]})]}),G.reminderHistory&&G.reminderHistory.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsx("h5",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Historique des rappels"}),s.jsx("div",{className:"space-y-2",children:G.reminderHistory.map(Se=>s.jsxs("div",{className:"flex items-center justify-between text-xs bg-muted/30 p-2 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-3 w-3"}),s.jsx("span",{children:new Date(Se.scheduledDate).toLocaleDateString("fr-FR")})]}),s.jsx(Pe,{variant:Se.status==="completed"?"default":Se.status==="missed"?"destructive":"secondary",className:"text-xs",children:Se.status==="completed"?"Complété":Se.status==="missed"?"Manqué":Se.status==="cancelled"?"Annulé":"Programmé"})]},Se.id))})]})]})},G.id))})]})]}),s.jsxs(kt,{value:"antiparasites",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Historique antiparasitaire"}),s.jsx(zN,{selectedClientId:he==null?void 0:he.id,selectedPetId:n.id,children:s.jsxs(F,{size:"sm",className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),ie.length===0?s.jsx(te,{children:s.jsxs(re,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(cl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucun traitement antiparasitaire enregistré"}),s.jsx("p",{className:"text-sm",children:"Ajoutez des traitements depuis l'onglet Antiparasitaires"})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:s.jsx(cl,{className:"h-4 w-4 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),s.jsx("p",{className:"text-xl font-bold",children:ie.length})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(On,{className:"h-4 w-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Complétés"}),s.jsx("p",{className:"text-xl font-bold",children:ie.filter(G=>G.status==="completed").length})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:s.jsx(zn,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),s.jsx("p",{className:"text-xl font-bold",children:ie.filter(G=>G.status==="overdue").length})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:s.jsx(He,{className:"h-4 w-4 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiés"}),s.jsx("p",{className:"text-xl font-bold",children:ie.filter(G=>G.status==="scheduled").length})]})]})})})]}),s.jsx("div",{className:"space-y-3",children:ie.map(G=>s.jsx(te,{className:"hover:shadow-md transition-shadow",children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(cl,{className:"h-5 w-5 text-blue-600"}),s.jsx("h4",{className:"font-semibold text-lg",children:G.productName}),s.jsx(Pe,{className:G.status==="completed"?"bg-green-100 text-green-800 border-green-200":G.status==="overdue"?"bg-red-100 text-red-800 border-red-200":G.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200":"bg-orange-100 text-orange-800 border-orange-200",children:G.status==="completed"?"Terminé":G.status==="overdue"?"En retard":G.status==="scheduled"?"Planifié":"Manqué"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Date administrée"}),s.jsx("p",{className:"font-medium",children:new Date(G.dateGiven).toLocaleDateString("fr-FR")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Prochain traitement"}),s.jsx("p",{className:"font-medium",children:G.nextDueDate?new Date(G.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Type"}),s.jsx("p",{className:"font-medium",children:G.productType})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Vétérinaire"}),s.jsx("p",{className:"font-medium",children:G.veterinarian})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mt-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Parasites ciblés"}),s.jsx("p",{className:"font-medium",children:G.targetParasites})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Dosage"}),s.jsx("p",{className:"font-medium",children:G.dosage||"Non spécifié"})]})]}),G.batchNumber&&s.jsx("div",{className:"mt-3 text-sm",children:s.jsxs("p",{className:"text-gray-600",children:["Numéro de lot: ",s.jsx("span",{className:"font-medium",children:G.batchNumber})]})}),G.manufacturer&&s.jsx("div",{className:"mt-1 text-sm",children:s.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",s.jsx("span",{className:"font-medium",children:G.manufacturer})]})}),G.weight&&s.jsx("div",{className:"mt-1 text-sm",children:s.jsxs("p",{className:"text-gray-600",children:["Poids de l'animal: ",s.jsx("span",{className:"font-medium",children:G.weight})]})}),G.cost&&s.jsx("div",{className:"mt-1 text-sm",children:s.jsxs("p",{className:"text-gray-600",children:["Coût: ",s.jsxs("span",{className:"font-medium",children:[G.cost," €"]})]})}),G.notes&&s.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Notes:"})," ",G.notes]})}),G.sideEffects&&s.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:s.jsxs("p",{className:"text-sm text-red-700",children:[s.jsx("strong",{children:"⚠️ Effets indésirables:"})," ",G.sideEffects]})})]}),s.jsx("div",{className:"flex flex-col gap-2 ml-4",children:G.nextDueDate&&new Date(G.nextDueDate)<=new Date&&G.status!=="completed"&&s.jsxs(F,{size:"sm",className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Rappel"]})})]})})},G.id))})]})]}),s.jsxs(kt,{value:"pedigree",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Pedigree Officiel"}),s.jsxs(F,{variant:"outline",size:"sm",onClick:()=>E(!k),className:"gap-2",children:[s.jsx(Mt,{className:"h-4 w-4"}),k?"Annuler":"Modifier"]})]}),s.jsx(te,{children:s.jsx(ue,{children:s.jsxs(de,{className:"text-lg flex items-center gap-2",children:[s.jsx(hi,{id:"hasPedigree",checked:P.hasPedigree,onCheckedChange:G=>A(Se=>({...Se,hasPedigree:G})),disabled:!k}),s.jsx(D,{htmlFor:"hasPedigree",className:"text-lg",children:"Cet animal a un pedigree officiel"})]})})}),P.hasPedigree&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Informations sur l'animal"})}),s.jsx(re,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"officialName",children:"Nom officiel"}),s.jsx(Q,{id:"officialName",value:P.officialName,onChange:G=>A(Se=>({...Se,officialName:G.target.value})),disabled:!k,placeholder:"Nom officiel du pedigree"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),s.jsx(Q,{id:"pedigreeNumber",value:P.pedigreeNumber,onChange:G=>A(Se=>({...Se,pedigreeNumber:G.target.value})),disabled:!k,placeholder:"Numéro de pedigree"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"breeder",children:"Éleveur"}),s.jsx(Q,{id:"breeder",value:P.breeder,onChange:G=>A(Se=>({...Se,breeder:G.target.value})),disabled:!k,placeholder:"Nom de l'éleveur"})]})]})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Parents"})}),s.jsx(re,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"Père"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{placeholder:"Nom du père",value:P.fatherName,onChange:G=>A(Se=>({...Se,fatherName:G.target.value})),disabled:!k}),s.jsx(Q,{placeholder:"N° pedigree du père",value:P.fatherPedigree,onChange:G=>A(Se=>({...Se,fatherPedigree:G.target.value})),disabled:!k}),s.jsx(Q,{placeholder:"Race du père",value:P.fatherBreed,onChange:G=>A(Se=>({...Se,fatherBreed:G.target.value})),disabled:!k}),s.jsx(qe,{placeholder:"Titres du père",value:P.fatherTitles,onChange:G=>A(Se=>({...Se,fatherTitles:G.target.value})),disabled:!k,rows:2})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{placeholder:"Nom de la mère",value:P.motherName,onChange:G=>A(Se=>({...Se,motherName:G.target.value})),disabled:!k}),s.jsx(Q,{placeholder:"N° pedigree de la mère",value:P.motherPedigree,onChange:G=>A(Se=>({...Se,motherPedigree:G.target.value})),disabled:!k}),s.jsx(Q,{placeholder:"Race de la mère",value:P.motherBreed,onChange:G=>A(Se=>({...Se,motherBreed:G.target.value})),disabled:!k}),s.jsx(qe,{placeholder:"Titres de la mère",value:P.motherTitles,onChange:G=>A(Se=>({...Se,motherTitles:G.target.value})),disabled:!k,rows:2})]})]})]})})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Document officiel"})}),s.jsx(re,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:async G=>{var on;const Se=(on=G.target.files)==null?void 0:on[0];if(!Se)return;const pe=new FileReader;pe.onload=()=>A(kr=>({...kr,pedigreePhoto:pe.result})),pe.readAsDataURL(Se)},disabled:!k}),P.pedigreePhoto&&s.jsx("img",{src:P.pedigreePhoto,alt:"Document pedigree",className:"h-48 w-auto object-contain rounded border"})]})})]}),k&&s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(F,{variant:"outline",onClick:le,children:"Annuler"}),s.jsx(F,{onClick:xe,children:"Sauvegarder"})]})]}),!P.hasPedigree&&s.jsx(te,{children:s.jsxs(re,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(Ng,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucun pedigree officiel"}),s.jsx("p",{className:"text-sm",children:"Cochez la case ci-dessus pour ajouter les informations du pedigree"})]})})]}),s.jsxs(kt,{value:"alerts",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Alertes et rappels"}),Rn.length===0?s.jsx(te,{children:s.jsxs(re,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(zn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune alerte active"}),s.jsx("p",{className:"text-sm",children:"Tout va bien !"})]})}):s.jsx("div",{className:"space-y-4",children:Rn.map((G,Se)=>s.jsx(te,{className:G.type==="danger"?"border-destructive":"border-accent",children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zn,{className:`h-5 w-5 ${G.type==="danger"?"text-destructive":"text-accent"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold",children:G.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:G.message})]}),s.jsx(F,{size:"sm",variant:"outline",children:G.action})]})})},Se))})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[s.jsx(F,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),s.jsxs(F,{onClick:fa,className:"gap-2",children:[s.jsx(Au,{className:"h-4 w-4"}),"Imprimer Dossier"]})]})]})}),s.jsx(Cd,{open:p,onOpenChange:v}),s.jsx(x3,{open:x,onOpenChange:G=>{y(G),G||(z({clientId:0,petId:0,type:"",reason:""}),T(null))},prefillClientId:K.clientId.toString(),prefillPetId:K.petId.toString(),prefillType:K.type,prefillReason:K.reason,originalVaccinationId:W==null?void 0:W.id}),j&&s.jsx(BN,{selectedClientId:he==null?void 0:he.id,selectedPetId:n.id,children:s.jsx(F,{onClick:()=>N(!1),children:"Fermer"})}),s.jsx(Yee,{open:I,onOpenChange:G=>{U(G),G||Z(null)},vaccination:H}),w&&s.jsx(zN,{selectedClientId:he==null?void 0:he.id,selectedPetId:n.id,children:s.jsx(F,{onClick:()=>C(!1),children:"Fermer"})})]})}const xPe={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"};function yPe(){const{pets:e,consultations:t,appointments:n,clients:r}=pt();_t();const[a,i]=b.useState(!1),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState(!1),[f,m]=b.useState(!1),[g,p]=b.useState(null),x=[...e].sort((A,R)=>!A.lastVisit&&!R.lastVisit?0:A.lastVisit?R.lastVisit?new Date(R.lastVisit).getTime()-new Date(A.lastVisit).getTime():-1:1).slice(0,5),y=e.length,j=e.filter(A=>A.status==="healthy").length;e.filter(A=>A.status==="treatment").length,e.filter(A=>A.status==="urgent").length;const N=e.filter(A=>{if(!A.lastVisit)return!1;const R=new Date(A.lastVisit),M=new Date().getMonth(),K=new Date().getFullYear();return R.getMonth()===M&&R.getFullYear()===K}).length,w=y>0?(t.length/y).toFixed(1):"0",C=A=>{p(A),l(!0)},S=A=>{p(A),u(!0)},_=A=>{p(A),h(!0)},k=A=>{p(A),m(!0)},E=A=>{const R=t.filter(z=>z.petId===A.id),M=n.filter(z=>z.petId===A.id),K=r.find(z=>z.id===A.ownerId);return{consultations:R.length,appointments:M.length,owner:(K==null?void 0:K.name)||A.owner,lastConsultation:R.length>0?Math.max(...R.map(z=>new Date(z.date).getTime())):A.lastVisit?new Date(A.lastVisit).getTime():0}},P=A=>{switch(A){case"healthy":return s.jsx(dt,{className:"h-3 w-3 text-green-600"});case"treatment":return s.jsx(jn,{className:"h-3 w-3 text-yellow-600"});case"urgent":return s.jsx(pn,{className:"h-3 w-3 text-red-600"});default:return s.jsx(dt,{className:"h-3 w-3"})}};return s.jsxs(s.Fragment,{children:[s.jsxs(te,{className:"card-hover",children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-lg font-semibold",children:"Animaux Récents"}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(dt,{className:"h-3 w-3"}),s.jsxs("span",{children:[y," total"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ra,{className:"h-3 w-3"}),s.jsxs("span",{children:[j," en bonne santé"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sn,{className:"h-3 w-3"}),s.jsxs("span",{children:["+",N," ce mois"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"h-3 w-3"}),s.jsxs("span",{children:["Ø ",w," consultations"]})]})]})]}),s.jsxs(F,{size:"sm",className:"gap-2",onClick:()=>i(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvel Animal"]})]}),s.jsx(re,{className:"space-y-4",children:x.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(dt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucun animal enregistré"}),s.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier animal"})]}):x.map(A=>{const R=E(A);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[s.jsx(Jn,{className:"h-12 w-12 flex-shrink-0",children:A.photo?s.jsx(Du,{src:A.photo,alt:A.name}):s.jsx(Zn,{className:"bg-primary-glow text-primary-foreground",children:s.jsx(dt,{className:"h-6 w-6"})})}),s.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium truncate",children:A.name}),s.jsxs(Pe,{variant:"outline",className:xPe[A.status],children:[P(A.status),s.jsx("span",{className:"ml-1",children:A.status==="healthy"?"En bonne santé":A.status==="treatment"?"En traitement":"Urgent"})]})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-medium",children:A.type}),A.breed&&s.jsxs("span",{children:[" - ",A.breed]}),A.gender&&s.jsxs("span",{children:[" (",A.gender==="male"?"Mâle":"Femelle",")"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(He,{className:"h-3 w-3"}),s.jsx("span",{children:A.birthDate?ku(A.birthDate):"Âge inconnu"})]})]})}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Propriétaire: ",R.owner]}),s.jsxs("span",{children:["Consultations: ",R.consultations]}),s.jsxs("span",{children:["RDV: ",R.appointments]}),A.lastVisit&&s.jsxs("span",{children:["Dernière visite: ",new Date(A.lastVisit).toLocaleDateString("fr-FR")]})]})]})]}),s.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[s.jsx(F,{size:"sm",variant:"outline",onClick:()=>C(A),className:"h-8 px-2",children:s.jsx(bn,{className:"h-3 w-3"})}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>S(A),className:"h-8 px-2",children:s.jsx(Mt,{className:"h-3 w-3"})}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>_(A),className:"h-8 px-2 text-xs",children:"Dossier"}),s.jsx(F,{size:"sm",onClick:()=>k(A),className:"h-8 px-2 text-xs",children:s.jsx(jn,{className:"h-3 w-3"})})]})]},A.id)})})]}),s.jsx(Vx,{open:a,onOpenChange:i}),s.jsx(N3,{open:o,onOpenChange:l,pet:g,onEdit:()=>{l(!1),u(!0)},onShowDossier:()=>{l(!1),h(!0)}}),s.jsx(FZ,{open:c,onOpenChange:u,pet:g}),s.jsx(vPe,{open:d,onOpenChange:h,pet:g}),s.jsx(Cd,{open:f,onOpenChange:m})]})}function jPe({open:e,onOpenChange:t,consultation:n}){const{clients:r,pets:a,updateConsultation:i}=pt(),{toast:o}=at(),{settings:l}=_t(),[c,u]=b.useState({clientId:0,clientName:"",petId:0,petName:"",date:"",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",medications:"",followUp:"",cost:"",notes:""}),d=a.filter(p=>p.ownerId===c.clientId),h=new Date().toISOString().split("T")[0],f=p=>{u(v=>({...v,[p.target.id]:p.target.value}))},m=(p,v)=>{if(p==="clientId"){const x=parseInt(v),y=r.find(j=>j.id===x);u(j=>({...j,clientId:x,clientName:(y==null?void 0:y.name)||"",petId:0,petName:""}))}else if(p==="petId"){const x=parseInt(v),y=a.find(j=>j.id===x);u(j=>({...j,petId:x,petName:(y==null?void 0:y.name)||""}))}else u(x=>({...x,[p]:v}))},g=p=>{if(p.preventDefault(),!!n){if(!c.clientId||!c.petId){o({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}i(n.id,{clientId:c.clientId,clientName:c.clientName,petId:c.petId,petName:c.petName,date:c.date||h,weight:c.weight,temperature:c.temperature,symptoms:c.symptoms,diagnosis:c.diagnosis,treatment:c.treatment,medications:c.medications,followUp:c.followUp,cost:c.cost,notes:c.notes}),o({title:"Consultation modifiée",description:`Consultation pour ${c.petName} (${c.clientName}) a été modifiée et sauvegardée.`}),t(!1)}};return b.useEffect(()=>{e&&n&&u({clientId:n.clientId,clientName:n.clientName,petId:n.petId,petName:n.petName,date:n.date,weight:n.weight||"",temperature:n.temperature||"",symptoms:n.symptoms||"",diagnosis:n.diagnosis||"",treatment:n.treatment||"",medications:n.medications||"",followUp:n.followUp||"",cost:n.cost||"",notes:n.notes||""})},[e,n]),n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Modifier la Consultation"}),s.jsxs(Rt,{children:["Modifiez les détails de la consultation pour ",n.petName,"."]})]}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Client *"}),s.jsxs(we,{value:c.clientId.toString(),onValueChange:p=>m("clientId",p),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner le client"})}),s.jsx(je,{children:r.map(p=>s.jsx(L,{value:p.id.toString(),children:p.name},p.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Animal *"}),s.jsxs(we,{value:c.petId.toString(),onValueChange:p=>m("petId",p),disabled:!c.clientId,children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:c.clientId?"Sélectionner l'animal":"Sélectionnez d'abord un client"})}),s.jsx(je,{children:d.map(p=>s.jsxs(L,{value:p.id.toString(),children:[p.name," (",p.type,")"]},p.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"date",children:"Date *"}),s.jsx(Q,{id:"date",type:"date",value:c.date||h,onChange:f,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"weight",children:"Poids (kg)"}),s.jsx(Q,{id:"weight",type:"number",step:"0.1",value:c.weight,onChange:f,placeholder:"ex: 25.5"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"temperature",children:"Température (°C)"}),s.jsx(Q,{id:"temperature",type:"number",step:"0.1",value:c.temperature,onChange:f,placeholder:"ex: 38.5"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"symptoms",children:"Symptômes observés"}),s.jsx(qe,{id:"symptoms",value:c.symptoms,onChange:f,placeholder:"Décrivez les symptômes et observations...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"diagnosis",children:"Diagnostic"}),s.jsx(qe,{id:"diagnosis",value:c.diagnosis,onChange:f,placeholder:"Diagnostic posé...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"treatment",children:"Traitement administré"}),s.jsx(qe,{id:"treatment",value:c.treatment,onChange:f,placeholder:"Traitements, injections, interventions...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"medications",children:"Médicaments prescrits"}),s.jsx(qe,{id:"medications",value:c.medications,onChange:f,placeholder:"Liste des médicaments avec posologie...",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"followUp",children:"Suivi recommandé"}),s.jsx(Q,{id:"followUp",value:c.followUp,onChange:f,placeholder:"ex: Contrôle dans 1 semaine"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(D,{htmlFor:"cost",children:["Coût (",l.currency,")"]}),s.jsx(Q,{id:"cost",type:"number",step:"0.01",value:c.cost,onChange:f,placeholder:"ex: 85.50"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes additionnelles"}),s.jsx(qe,{id:"notes",value:c.notes,onChange:f,placeholder:"Notes diverses, recommandations...",rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(F,{type:"submit",children:"Modifier Consultation"})]})]})]})}):null}function z6({consultation:e}){const{settings:t}=_t(),r=(i=>{var o;return i.petName&&i.clientName?i:{...i,petName:((o=i.animal)==null?void 0:o.name)||"Non spécifié",clientName:i.client?`${i.client.first_name||""} ${i.client.last_name||""}`.trim():"Non spécifié",date:i.consultation_date||i.date,symptoms:i.symptoms||"",diagnosis:i.diagnosis||"",treatment:i.treatment||"",notes:i.notes||"",weight:i.weight||null,temperature:i.temperature||null,medications:i.medications||"",followUp:i.follow_up_notes||i.followUp||null,cost:i.cost||null}})(e),a=()=>{if(!r||!r.petName||!r.clientName)return;const i=window.open("","_blank");if(!i)return;const o=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Consultation - ${r.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-name {
              font-size: 24px;
              font-weight: bold;
              color: #2563eb;
            }
            .consultation-title {
              font-size: 20px;
              margin: 10px 0;
            }
            .info-grid {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
              margin-bottom: 30px;
            }
            .info-section {
              border: 1px solid #ddd;
              padding: 15px;
              border-radius: 5px;
            }
            .info-section h3 {
              margin: 0 0 10px 0;
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .info-item {
              margin: 5px 0;
            }
            .info-label {
              font-weight: bold;
              color: #666;
            }
            .medical-section {
              margin: 20px 0;
            }
            .medical-section h3 {
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .footer {
              margin-top: 40px;
              text-align: center;
              font-size: 12px;
              color: #666;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">${t.clinicName||"VetPro CRM"}</div>
            <div class="consultation-title">Rapport de Consultation</div>
            <div>Date: ${new Date(r.date).toLocaleDateString("fr-FR")}</div>
          </div>

          <div class="info-grid">
            <div class="info-section">
              <h3>Informations Client</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${r.clientName}
              </div>
            </div>
            <div class="info-section">
              <h3>Informations Animal</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${r.petName}
              </div>
              <div class="info-item">
                <span class="info-label">Poids:</span> ${r.weight||"Non renseigné"}
              </div>
              <div class="info-item">
                <span class="info-label">Température:</span> ${r.temperature||"Non renseigné"}
              </div>
            </div>
          </div>

          ${r.symptoms?`
            <div class="medical-section">
              <h3>Symptômes Observés</h3>
              <p>${r.symptoms}</p>
            </div>
          `:""}

          ${r.diagnosis?`
            <div class="medical-section">
              <h3>Diagnostic</h3>
              <p>${r.diagnosis}</p>
            </div>
          `:""}

          ${r.treatment?`
            <div class="medical-section">
              <h3>Traitement Administré</h3>
              <p>${r.treatment}</p>
            </div>
          `:""}

          ${r.medications?`
            <div class="medical-section">
              <h3>Médicaments Prescrits</h3>
              <p>${r.medications}</p>
            </div>
          `:""}

          ${r.notes?`
            <div class="medical-section">
              <h3>Notes Additionnelles</h3>
              <p>${r.notes}</p>
            </div>
          `:""}

          <div class="info-grid">
            <div class="info-section">
              <h3>Suivi Recommandé</h3>
              <p>${r.followUp||"Aucun suivi prévu"}</p>
            </div>
            <div class="info-section">
              <h3>Coût</h3>
              <p>${r.cost?r.cost+" "+(t.currency||"MAD"):"Non renseigné"}</p>
            </div>
          </div>

          <div class="footer">
            <p>Consultation générée le ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
            <p>VetPro CRM - Gestion Vétérinaire Complète</p>
          </div>
        </body>
      </html>
    `;i.document.write(o),i.document.close(),setTimeout(()=>{i.focus(),i.print(),i.close()},500)};return s.jsxs(F,{size:"sm",variant:"outline",onClick:a,className:"gap-2",children:[s.jsx(Au,{className:"h-4 w-4"}),"Imprimer"]})}function bPe(){const{consultations:e,deleteConsultation:t,pets:n,clients:r}=pt(),{settings:a}=_t(),{toast:i}=at(),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState(null),m=[...e].sort((R,M)=>new Date(M.date).getTime()-new Date(R.date).getTime()).slice(0,5),g=e.length,p=e.filter(R=>R.date===new Date().toISOString().split("T")[0]).length,v=new Date().getMonth(),x=new Date().getFullYear(),y=e.filter(R=>{const M=new Date(R.date);return M.getMonth()===v&&M.getFullYear()===x}).length,j=e.filter(R=>{const M=new Date(R.date),K=v===0?11:v-1,z=v===0?x-1:x;return M.getMonth()===K&&M.getFullYear()===z}).length,N=j>0?Math.round((y-j)/j*100):y>0?100:0,w=y*50,C=j*50,S=C>0?Math.round((w-C)/C*100):w>0?100:0,_=R=>{h(R),u(!0)},k=R=>{confirm(`Êtes-vous sûr de vouloir supprimer la consultation pour ${R.petName} ?`)&&(t(R.id),i({title:"Consultation supprimée",description:`La consultation pour ${R.petName} a été supprimée.`}))},E=R=>{const M=new Date().toISOString().split("T")[0];return R.date===M?"bg-accent text-accent-foreground":R.date<M?"bg-secondary text-secondary-foreground":"bg-primary text-primary-foreground"},P=R=>{const M=new Date().toISOString().split("T")[0];return R.date===M?"Aujourd'hui":R.date<M?"Terminée":"À venir"},A=R=>{const M=n.find(z=>z.id===R.petId),K=r.find(z=>z.id===R.clientId);return{petType:(M==null?void 0:M.type)||"Inconnu",petBreed:(M==null?void 0:M.breed)||"Non spécifiée",clientPhone:(K==null?void 0:K.phone)||"Non spécifié",clientCity:(K==null?void 0:K.city)||"Non spécifiée"}};return s.jsxs(s.Fragment,{children:[s.jsxs(te,{className:"card-hover",children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-lg font-semibold",children:"Consultations Récentes"}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jn,{className:"h-3 w-3"}),s.jsxs("span",{children:[g," total"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ra,{className:"h-3 w-3"}),s.jsxs("span",{children:[p," aujourd'hui"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sn,{className:"h-3 w-3"}),s.jsxs("span",{children:[y," ce mois"]}),N!==0&&s.jsxs(Pe,{variant:N>0?"default":"destructive",className:"text-xs",children:[N>0?"+":"",N,"%"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(fd,{className:"h-3 w-3"}),s.jsxs("span",{children:["~",w,"€ ce mois"]}),S!==0&&s.jsxs(Pe,{variant:S>0?"default":"destructive",className:"text-xs",children:[S>0?"+":"",S,"%"]})]})]})]}),s.jsxs(F,{size:"sm",className:"gap-2",onClick:()=>l(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]}),s.jsx(re,{className:"space-y-4",children:m.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(jn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune consultation enregistrée"}),s.jsx("p",{className:"text-sm",children:"Commencez par créer votre première consultation"})]}):m.map(R=>{const M=A(R);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Jn,{className:"h-12 w-12",children:s.jsx(Zn,{className:"bg-primary-glow text-primary-foreground",children:s.jsx(jn,{className:"h-6 w-6"})})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h4",{className:"font-medium",children:["Consultation #",R.id]}),s.jsx(Pe,{variant:"outline",className:E(R),children:P(R)}),R.cost&&s.jsxs(Pe,{variant:"secondary",className:"text-xs",children:[R.cost," ",a.currency||"€"]})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(dt,{className:"h-3 w-3"}),s.jsxs("span",{children:[R.petName," (",M.petType,")"]}),M.petBreed!=="Non spécifiée"&&s.jsxs("span",{children:[" - ",M.petBreed]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Nr,{className:"h-3 w-3"}),s.jsx("span",{children:R.clientName})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(He,{className:"h-3 w-3"}),s.jsx("span",{children:new Date(R.date).toLocaleDateString("fr-FR")})]})]})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-4",children:[R.diagnosis&&s.jsxs("span",{children:["Diagnostic: ",R.diagnosis]}),R.weight&&s.jsxs("span",{children:["Poids: ",R.weight]}),R.temperature&&s.jsxs("span",{children:["Température: ",R.temperature,"°C"]}),R.photos&&R.photos.length>0&&s.jsxs("span",{children:["📷 ",R.photos.length," photo",R.photos.length>1?"s":""]})]})})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{size:"sm",variant:"outline",onClick:()=>_(R),className:"gap-2",children:[s.jsx(Mt,{className:"h-4 w-4"}),"Modifier"]}),s.jsx(z6,{consultation:R}),s.jsxs(F,{size:"sm",variant:"destructive",onClick:()=>k(R),className:"gap-2",children:[s.jsx(vr,{className:"h-4 w-4"}),"Supprimer"]})]})]},R.id)})})]}),s.jsx(Cd,{open:o,onOpenChange:l}),s.jsx(jPe,{open:c,onOpenChange:u,consultation:d})]})}function wPe(){const{appointments:e,stockItems:t,getUpcomingAppointments:n,getOverdueAppointments:r}=pt();_t();const a=new Date().toISOString().split("T")[0];n();const i=r(),o=e.filter(d=>d.date===a&&d.status!=="cancelled"&&d.status!=="completed"),l=t.filter(d=>d.currentStock<=d.minimumStock),c=t.filter(d=>d.currentStock===0),u=[];return c.length>0&&u.push({type:"critical",icon:pn,title:"Stock épuisé",message:`${c.length} produit(s) en rupture de stock`,count:c.length,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}),l.length>0&&u.push({type:"warning",icon:Oa,title:"Stock faible",message:`${l.length} produit(s) en stock faible`,count:l.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),i.length>0&&u.push({type:"warning",icon:Jt,title:"Rendez-vous en retard",message:`${i.length} rendez-vous en retard`,count:i.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),o.length>0&&u.push({type:"info",icon:He,title:"Rendez-vous aujourd'hui",message:`${o.length} rendez-vous prévus aujourd'hui`,count:o.length,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"}),u.length===0?s.jsxs(te,{className:"card-hover",children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-5 w-5 text-green-600"}),"Aucune alerte"]})}),s.jsx(re,{children:s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"text-green-600 text-4xl mb-2",children:"✅"}),s.jsx("p",{className:"text-muted-foreground",children:"Tout va bien ! Aucune alerte à signaler."})]})})]}):s.jsxs(te,{className:"card-hover",children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-5 w-5 text-orange-600"}),"Alertes & Notifications",s.jsx(Pe,{variant:"destructive",className:"ml-2",children:u.length})]})}),s.jsx(re,{className:"space-y-3",children:u.map((d,h)=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${d.borderColor} ${d.bgColor}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${d.bgColor}`,children:s.jsx(d.icon,{className:`h-4 w-4 ${d.color}`})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:d.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:d.message})]})]}),s.jsx(Pe,{variant:d.type==="critical"?"destructive":d.type==="warning"?"secondary":"default",className:"text-xs",children:d.count})]},h))})]})}function NPe(){const{clients:e,pets:t,consultations:n,appointments:r,prescriptions:a,farms:i,farmInterventions:o}=pt();_t();const l=e.reduce((x,y)=>x+y.pets.length,0),c=l===t.length,u=e.length+t.length+n.length+r.length+a.length+i.length+o.length,d=c?100:Math.round((u-Math.abs(l-t.length))/u*100),h=new Date().toISOString().split("T")[0],f=n.filter(x=>x.date===h).length,m=r.filter(x=>x.date===h&&x.status!=="cancelled"&&x.status!=="completed").length,g=new Date().getMonth(),p=new Date().getFullYear(),v=n.filter(x=>{const y=new Date(x.date);return y.getMonth()===g&&y.getFullYear()===p}).length;return s.jsxs(te,{className:"mb-6",children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[c?s.jsx(On,{className:"h-5 w-5 text-green-600"}):s.jsx(zn,{className:"h-5 w-5 text-yellow-600"}),"Statut de Synchronisation"]})}),s.jsxs(re,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-4 w-4 text-blue-600"}),s.jsxs("span",{className:"text-sm",children:["Clients: ",e.length]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4 text-red-600"}),s.jsxs("span",{className:"text-sm",children:["Animaux: ",t.length]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:"text-sm",children:["Consultations: ",n.length]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-purple-600"}),s.jsxs("span",{className:"text-sm",children:["RDV: ",r.length]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-4 w-4 text-blue-600"}),s.jsxs("span",{className:"text-sm",children:["Aujourd'hui: ",f+m]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:"text-sm",children:["Ce mois: ",v]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-4 w-4 text-orange-600"}),s.jsxs("span",{className:"text-sm",children:["Prescriptions: ",a.length]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{className:"h-4 w-4 text-indigo-600"}),s.jsxs("span",{className:"text-sm",children:["Fermes: ",i.length]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Intégrité des données:"}),s.jsxs(Pe,{variant:d>=95?"default":d>=80?"secondary":"destructive",children:[d,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${d>=95?"bg-green-600":d>=80?"bg-yellow-600":"bg-red-600"}`,style:{width:`${d}%`}})}),s.jsx("div",{className:"flex items-center gap-2 text-sm",children:c?s.jsxs(s.Fragment,{children:[s.jsx(On,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-green-700",children:"Synchronisation OK"})]}):s.jsxs(s.Fragment,{children:[s.jsx(zn,{className:"h-4 w-4 text-yellow-600"}),s.jsx("span",{className:"text-yellow-700",children:"Désynchronisation détectée"})]})}),!c&&s.jsxs("div",{className:"text-xs text-muted-foreground bg-yellow-50 p-2 rounded",children:[s.jsx("strong",{children:"Attention:"})," ",Math.abs(l-t.length)," animal(s) non synchronisé(s) entre clients et animaux"]})]})]})]})}function SPe(){const{clients:e,pets:t,consultations:n,appointments:r,prescriptions:a,farms:i,farmInterventions:o,resetData:l,exportData:c,importData:u}=pt(),{settings:d}=_t(),{toast:h}=at(),[f,m]=b.useState(!1),[g,p]=b.useState(!1),v=e.length+t.length+n.length+r.length+a.length+i.length+o.length,x=Math.round(v*.5),y=[...e.map(A=>A.lastVisit),...t.map(A=>A.lastVisit).filter(Boolean),...n.map(A=>A.date),...r.map(A=>A.date),...a.map(A=>A.date),...i.map(A=>A.lastVisit)].filter(Boolean),j=y.length>0?new Date(Math.max(...y.map(A=>new Date(A).getTime()))):new Date,N=new Date().toISOString().split("T")[0],w=new Date().getMonth(),C=new Date().getFullYear(),S=[...e.filter(A=>A.lastVisit===N),...t.filter(A=>A.lastVisit===N),...n.filter(A=>A.date===N),...r.filter(A=>A.date===N)].length,_=[...e.filter(A=>{const R=new Date(A.lastVisit);return R.getMonth()===w&&R.getFullYear()===C}),...t.filter(A=>{if(!A.lastVisit)return!1;const R=new Date(A.lastVisit);return R.getMonth()===w&&R.getFullYear()===C}),...n.filter(A=>{const R=new Date(A.date);return R.getMonth()===w&&R.getFullYear()===C}),...r.filter(A=>{const R=new Date(A.date);return R.getMonth()===w&&R.getFullYear()===C})].length,k=()=>{try{c(),h({title:"Données exportées",description:`Export de ${v} enregistrements réussi.`})}catch{h({title:"Erreur d'export",description:"Impossible d'exporter les données.",variant:"destructive"})}},E=A=>{var K;const R=(K=A.target.files)==null?void 0:K[0];if(!R)return;const M=new FileReader;M.onload=z=>{var W,T;try{const I=JSON.parse((W=z.target)==null?void 0:W.result);if(I.clients&&I.pets)u(I),h({title:"Données importées",description:`${I.clients.length} clients, ${I.pets.length} animaux et ${((T=I.consultations)==null?void 0:T.length)||0} consultations importés avec succès.`});else throw new Error("Format de fichier invalide")}catch{h({title:"Erreur d'import",description:"Le fichier sélectionné n'est pas valide.",variant:"destructive"})}},M.readAsText(R),p(!1)},P=()=>{try{l(),h({title:"Données réinitialisées",description:"Toutes les données ont été remises aux valeurs par défaut."}),m(!1)}catch{h({title:"Erreur de réinitialisation",description:"Impossible de réinitialiser les données.",variant:"destructive"})}};return s.jsxs(s.Fragment,{children:[s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(SU,{className:"h-5 w-5"}),"Gestion des Données"]})}),s.jsxs(re,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Total:"}),s.jsxs("span",{className:"text-muted-foreground",children:[v," enregistrements"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Taille:"}),s.jsxs("span",{className:"text-muted-foreground",children:["~",x," KB"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Dernière modif:"}),s.jsx("span",{className:"text-muted-foreground",children:j.toLocaleDateString("fr-FR")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Aujourd'hui:"}),s.jsx("span",{className:"text-muted-foreground",children:S})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"Ce mois:"}),s.jsx("span",{className:"text-muted-foreground",children:_})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Clinique:"}),s.jsx("span",{className:"text-muted-foreground",children:d.clinicName||"Non configurée"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[s.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded",children:[s.jsx("div",{className:"font-medium text-blue-700",children:e.length}),s.jsx("div",{className:"text-blue-600",children:"Clients"})]}),s.jsxs("div",{className:"text-center p-2 bg-red-50 rounded",children:[s.jsx("div",{className:"font-medium text-red-700",children:t.length}),s.jsx("div",{className:"text-red-600",children:"Animaux"})]}),s.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[s.jsx("div",{className:"font-medium text-green-700",children:n.length}),s.jsx("div",{className:"text-green-600",children:"Consultations"})]}),s.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded",children:[s.jsx("div",{className:"font-medium text-purple-700",children:r.length}),s.jsx("div",{className:"text-purple-600",children:"RDV"})]}),s.jsxs("div",{className:"text-center p-2 bg-orange-50 rounded",children:[s.jsx("div",{className:"font-medium text-orange-700",children:a.length}),s.jsx("div",{className:"text-orange-600",children:"Prescriptions"})]}),s.jsxs("div",{className:"text-center p-2 bg-indigo-50 rounded",children:[s.jsx("div",{className:"font-medium text-indigo-700",children:i.length}),s.jsx("div",{className:"text-indigo-600",children:"Fermes"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{size:"sm",variant:"outline",onClick:k,className:"gap-2",children:[s.jsx(mx,{className:"h-4 w-4"}),"Exporter"]}),s.jsxs(F,{size:"sm",variant:"outline",onClick:()=>p(!0),className:"gap-2",children:[s.jsx(pb,{className:"h-4 w-4"}),"Importer"]}),s.jsxs(F,{size:"sm",variant:"destructive",onClick:()=>m(!0),className:"gap-2",children:[s.jsx(nI,{className:"h-4 w-4"}),"Réinitialiser"]})]})]})]}),s.jsx(Ze,{open:f,onOpenChange:m,children:s.jsxs(Ge,{children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-5 w-5 text-red-600"}),"Réinitialiser toutes les données"]}),s.jsx(Rt,{children:"Cette action supprimera définitivement toutes les données (clients, animaux, consultations, etc.) et les remettra aux valeurs par défaut. Cette action ne peut pas être annulée."})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(F,{variant:"outline",onClick:()=>m(!1),children:"Annuler"}),s.jsx(F,{variant:"destructive",onClick:P,children:"Réinitialiser"})]})]})}),s.jsx(Ze,{open:g,onOpenChange:p,children:s.jsxs(Ge,{children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(pb,{className:"h-5 w-5"}),"Importer des données"]}),s.jsx(Rt,{children:"Sélectionnez un fichier JSON exporté précédemment pour restaurer vos données."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"file",accept:".json",onChange:E,className:"w-full"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Note:"})," L'import remplacera toutes les données existantes."]})]}),s.jsx("div",{className:"flex gap-2 justify-end",children:s.jsx(F,{variant:"outline",onClick:()=>p(!1),children:"Annuler"})})]})})]})}function CPe(){const{clients:e,pets:t,consultations:n,appointments:r,vaccinations:a,antiparasitics:i,stockItems:o,getUpcomingAppointments:l,getOverdueAppointments:c,generateAccountingSummary:u}=pt(),{settings:d}=_t(),h=new Date().toISOString().split("T")[0],f=new Date().getMonth(),m=new Date().getFullYear(),g=n.filter(P=>P.date===h).length,p=r.filter(P=>P.date===h&&P.status!=="cancelled").length,x=l().filter(P=>{const A=new Date(P.date),R=new Date,M=new Date(R.getTime()+7*24*60*60*1e3);return A<=M}).length,y=c(),j=o.filter(P=>P.currentStock<=P.minimumStock).length,N=o.filter(P=>P.currentStock===0).length,w=new Date(m,f,1).toISOString().split("T")[0],C=new Date(m,f+1,0).toISOString().split("T")[0],S=u(`${m}-${String(f+1).padStart(2,"0")}`,w,C),_=e.filter(P=>{const A=new Date(P.createdAt);return A.getMonth()===f&&A.getFullYear()===m}).length,k=t.filter(P=>{const A=new Date(P.createdAt);return A.getMonth()===f&&A.getFullYear()===m}).length,E=[{title:"Consultations Aujourd'hui",value:g,icon:jn,color:"text-green-600",bgColor:"bg-green-50",trend:g>0?"up":"neutral",description:"Consultations réalisées"},{title:"RDV Aujourd'hui",value:p,icon:He,color:"text-blue-600",bgColor:"bg-blue-50",trend:p>0?"up":"neutral",description:"Rendez-vous programmés"},{title:"RDV Cette Semaine",value:x,icon:Jt,color:"text-purple-600",bgColor:"bg-purple-50",trend:x>0?"up":"neutral",description:"Rendez-vous à venir"},{title:"RDV En Retard",value:y.length,icon:pn,color:y.length>0?"text-red-600":"text-gray-600",bgColor:y.length>0?"bg-red-50":"bg-gray-50",trend:y.length>0?"down":"neutral",description:"Rendez-vous en retard"},{title:"Nouveaux Clients",value:_,icon:Fa,color:"text-emerald-600",bgColor:"bg-emerald-50",trend:_>0?"up":"neutral",description:"Ce mois"},{title:"Nouveaux Animaux",value:k,icon:dt,color:"text-pink-600",bgColor:"bg-pink-50",trend:k>0?"up":"neutral",description:"Ce mois"},{title:"Revenus du Mois",value:`${S.totalRevenue.toFixed(0)} ${d.currency||"€"}`,icon:fd,color:"text-green-600",bgColor:"bg-green-50",trend:S.totalRevenue>0?"up":"neutral",description:`Bénéfice: ${S.netIncome.toFixed(0)} ${d.currency||"€"}`},{title:"Stock Critique",value:j,icon:ra,color:j>0?"text-orange-600":"text-green-600",bgColor:j>0?"bg-orange-50":"bg-green-50",trend:j>0?"down":"neutral",description:`${N} en rupture`}];return s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:E.map((P,A)=>s.jsxs(te,{className:"card-hover",children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:P.title}),s.jsx("div",{className:`p-2 rounded-lg ${P.bgColor}`,children:s.jsx(P.icon,{className:`h-4 w-4 ${P.color}`})})]}),s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-2xl font-bold",children:P.value}),s.jsxs("div",{className:"flex items-center gap-1",children:[P.trend==="up"&&s.jsxs(s.Fragment,{children:[s.jsx(sn,{className:"h-4 w-4 text-green-600"}),s.jsxs(Pe,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["+",Math.floor(Math.random()*20)+5,"%"]})]}),P.trend==="down"&&s.jsxs(s.Fragment,{children:[s.jsx($l,{className:"h-4 w-4 text-red-600"}),s.jsxs(Pe,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:["-",Math.floor(Math.random()*15)+3,"%"]})]}),P.trend==="neutral"&&s.jsx(Pe,{variant:"outline",className:"text-xs",children:"0%"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:P.description})]})]},A))})}function _Pe(){const{accountingEntries:e}=pt(),{settings:t}=_t(),r=(()=>{const a=[],i=new Date;for(let o=5;o>=0;o--){const l=new Date(i.getFullYear(),i.getMonth()-o,1);`${l.getFullYear()}${String(l.getMonth()+1).padStart(2,"0")}`;const c=new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0],u=new Date(l.getFullYear(),l.getMonth()+1,0).toISOString().split("T")[0],d=e.filter(m=>{const g=new Date(m.date);return g>=new Date(c)&&g<=new Date(u)}),h=d.filter(m=>m.type==="revenue").reduce((m,g)=>m+g.amount,0),f=d.filter(m=>m.type==="expense").reduce((m,g)=>m+g.amount,0);a.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),revenue:Math.round(h),expenses:Math.round(f),profit:Math.round(h-f)})}return a})();return s.jsxs(te,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-base font-medium",children:"Évolution des Revenus"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fd,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(sn,{className:"h-4 w-4 text-green-600"})]})]}),s.jsxs(re,{children:[s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Si,{width:"100%",height:"100%",children:s.jsxs(Y2,{data:r,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(Ql,{strokeDasharray:"3 3",className:"opacity-30"}),s.jsx(oa,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),s.jsx(la,{axisLine:!1,tickLine:!1,className:"text-xs",tickFormatter:a=>`${a}${t.currency||"€"}`}),s.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(a,i)=>[`${a} ${t.currency||"€"}`,i==="revenue"?"Revenus":i==="expenses"?"Dépenses":"Bénéfice"]}),s.jsx(ks,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,strokeWidth:2}),s.jsx(ks,{type:"monotone",dataKey:"expenses",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,strokeWidth:2})]})})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Revenus"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Dépenses"})]})]})]})]})}function PPe(){const{consultations:e,appointments:t,vaccinations:n,antiparasitics:r}=pt(),i=(()=>{const o=[],l=new Date;for(let c=6;c>=0;c--){const u=new Date(l);u.setDate(u.getDate()-c);const d=u.toISOString().split("T")[0],h=e.filter(p=>p.date===d).length,f=t.filter(p=>p.date===d).length,m=n.filter(p=>p.dateGiven===d).length,g=r.filter(p=>p.dateGiven===d).length;o.push({day:u.toLocaleDateString("fr-FR",{weekday:"short"}),date:d,consultations:h,appointments:f,vaccinations:m,antiparasitics:g,total:h+f+m+g})}return o})();return s.jsxs(te,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-base font-medium",children:"Activité des 7 derniers jours"}),s.jsx(ra,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(re,{children:[s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Si,{width:"100%",height:"100%",children:s.jsxs(R_e,{data:i,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(Ql,{strokeDasharray:"3 3",className:"opacity-30"}),s.jsx(oa,{dataKey:"day",axisLine:!1,tickLine:!1,className:"text-xs"}),s.jsx(la,{axisLine:!1,tickLine:!1,className:"text-xs"}),s.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(o,l)=>[o,l==="consultations"?"Consultations":l==="appointments"?"Rendez-vous":l==="vaccinations"?"Vaccinations":l==="antiparasitics"?"Antiparasitaires":"Total"]}),s.jsx(Aa,{dataKey:"consultations",fill:"#10b981",radius:[2,2,0,0]}),s.jsx(Aa,{dataKey:"appointments",fill:"#3b82f6",radius:[2,2,0,0]}),s.jsx(Aa,{dataKey:"vaccinations",fill:"#8b5cf6",radius:[2,2,0,0]}),s.jsx(Aa,{dataKey:"antiparasitics",fill:"#f59e0b",radius:[2,2,0,0]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Consultations"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Rendez-vous"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Vaccinations"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Antiparasitaires"})]})]})]})]})}function APe(){const{stockItems:e}=pt(),t=$.useMemo(()=>{const a=e.length,i=e.filter(c=>c.currentStock<=c.minimumStock&&c.currentStock>0).length,o=e.filter(c=>c.currentStock===0).length;return[{name:"Stock Normal",value:a-i-o,color:"#10b981"},{name:"Stock Faible",value:i,color:"#f59e0b"},{name:"Rupture",value:o,color:"#ef4444"}].filter(c=>c.value>0)},[e]),n=e.reduce((a,i)=>a+i.currentStock*i.purchasePrice,0),r=e.sort((a,i)=>i.currentStock*i.purchasePrice-a.currentStock*a.purchasePrice).slice(0,5);return s.jsxs(te,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-base font-medium",children:"État du Stock"}),s.jsx(Oa,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(re,{children:[s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Si,{width:"100%",height:"100%",children:s.jsxs(G2,{children:[s.jsx(ha,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:i})=>`${a} ${(i*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((a,i)=>s.jsx(Id,{fill:a.color},`cell-${i}`))}),s.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:a=>[a,"Articles"]})]})})}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Valeur totale du stock"}),s.jsxs("span",{className:"font-medium",children:[n.toFixed(0)," €"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Articles les plus précieux"}),r.map((a,i)=>s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"truncate flex-1",children:a.name}),s.jsxs("span",{className:"text-muted-foreground ml-2",children:[(a.currentStock*a.purchasePrice).toFixed(0)," €"]})]},a.id))]})]})]})]})}function kPe(){const{clients:e,pets:t}=pt(),r=(()=>{const a=[],i=new Date;for(let o=5;o>=0;o--){const l=new Date(i.getFullYear(),i.getMonth()-o,1),c=new Date(l.getFullYear(),l.getMonth(),1),u=new Date(l.getFullYear(),l.getMonth()+1,0),d=e.filter(g=>{const p=new Date(g.createdAt);return p>=c&&p<=u}).length,h=t.filter(g=>{const p=new Date(g.createdAt);return p>=c&&p<=u}).length,f=e.filter(g=>new Date(g.createdAt)<=u).length,m=t.filter(g=>new Date(g.createdAt)<=u).length;a.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),newClients:d,newPets:h,totalClients:f,totalPets:m})}return a})();return s.jsxs(te,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-base font-medium",children:"Croissance des Clients"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(sn,{className:"h-4 w-4 text-blue-600"})]})]}),s.jsxs(re,{children:[s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Si,{width:"100%",height:"100%",children:s.jsxs(Y2,{data:r,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(Ql,{strokeDasharray:"3 3",className:"opacity-30"}),s.jsx(oa,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),s.jsx(la,{axisLine:!1,tickLine:!1,className:"text-xs"}),s.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(a,i)=>[a,i==="newClients"?"Nouveaux Clients":i==="newPets"?"Nouveaux Animaux":i==="totalClients"?"Total Clients":"Total Animaux"]}),s.jsx(ks,{type:"monotone",dataKey:"newClients",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2}),s.jsx(ks,{type:"monotone",dataKey:"newPets",stackId:"2",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6,strokeWidth:2})]})})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Clients"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Animaux"})]})]})]})]})}function TPe(){const{appointments:e}=pt(),t=$.useMemo(()=>{const c=e.reduce((h,f)=>(h[f.status]=(h[f.status]||0)+1,h),{}),u={scheduled:"Planifié",confirmed:"Confirmé",completed:"Terminé",cancelled:"Annulé","no-show":"Absent"},d={scheduled:"#3b82f6",confirmed:"#10b981",completed:"#6b7280",cancelled:"#ef4444","no-show":"#f59e0b"};return Object.entries(c).map(([h,f])=>({name:u[h]||h,value:f,color:d[h]||"#6b7280"}))},[e]),n=e.length,r=e.filter(c=>c.status==="completed").length,a=e.filter(c=>c.status==="scheduled"||c.status==="confirmed").length,i=e.filter(c=>c.status==="cancelled").length,o=n>0?r/n*100:0,l=n>0?i/n*100:0;return s.jsxs(te,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-base font-medium",children:"Statuts des Rendez-vous"}),s.jsx(He,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(re,{children:[s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Si,{width:"100%",height:"100%",children:s.jsxs(G2,{children:[s.jsx(ha,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:t.map((c,u)=>s.jsx(Id,{fill:c.color},`cell-${u}`))}),s.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:c=>[c,"Rendez-vous"]})]})})}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[o.toFixed(1),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux de réussite"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[l.toFixed(1),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux d'annulation"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Terminés"})]}),s.jsx("span",{className:"font-medium",children:r})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{children:"À venir"})]}),s.jsx("span",{className:"font-medium",children:a})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lf,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{children:"Annulés"})]}),s.jsx("span",{className:"font-medium",children:i})]})]})]})]})]})}function EPe(){const{consultations:e}=pt(),n=(()=>{const r=[],a=new Date;for(let i=11;i>=0;i--){const o=new Date(a.getFullYear(),a.getMonth()-i,1),l=new Date(o.getFullYear(),o.getMonth(),1),c=new Date(o.getFullYear(),o.getMonth()+1,0),u=e.filter(f=>{const m=new Date(f.date);return m>=l&&m<=c}),d=u.reduce((f,m)=>f+(m.cost||0),0),h=u.length>0?d/u.length:0;r.push({month:o.toLocaleDateString("fr-FR",{month:"short",year:"2-digit"}),consultations:u.length,revenue:Math.round(d),averageRevenue:Math.round(h)})}return r})();return s.jsxs(te,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-base font-medium",children:"Tendances des Consultations"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(sn,{className:"h-4 w-4 text-blue-600"})]})]}),s.jsxs(re,{children:[s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Si,{width:"100%",height:"100%",children:s.jsxs(Y2,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(Ql,{strokeDasharray:"3 3",className:"opacity-30"}),s.jsx(oa,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),s.jsx(la,{axisLine:!1,tickLine:!1,className:"text-xs"}),s.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(r,a)=>[a==="consultations"?r:`${r} €`,a==="consultations"?"Consultations":a==="revenue"?"Revenus":"Revenu moyen"]}),s.jsx(ks,{type:"monotone",dataKey:"consultations",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2})]})})}),s.jsx("div",{className:"flex items-center justify-between mt-4 text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Nombre de consultations"})]})})]})]})}function OPe(){const{pets:e}=pt(),t=$.useMemo(()=>{const o=e.reduce((c,u)=>{const d=u.species||"Autre";return c[d]=(c[d]||0)+1,c},{}),l=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"];return Object.entries(o).map(([c,u],d)=>({name:c,value:u,color:l[d%l.length]}))},[e]),n=e.length,r=t.length>0?t[0]:null,a=e.length>0?e.reduce((o,l)=>o+(l.age||0),0)/e.length:0,i=o=>{switch(o.toLowerCase()){case"chien":case"dog":return s.jsx(CU,{className:"h-4 w-4"});case"chat":case"cat":return s.jsx(jU,{className:"h-4 w-4"});case"poisson":case"fish":return s.jsx(_U,{className:"h-4 w-4"});case"oiseau":case"bird":return s.jsx(xU,{className:"h-4 w-4"});default:return s.jsx(dt,{className:"h-4 w-4"})}};return s.jsxs(te,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-base font-medium",children:"Répartition par Espèce"}),s.jsx(dt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(re,{children:[s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Si,{width:"100%",height:"100%",children:s.jsxs(G2,{children:[s.jsx(ha,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o} ${(l*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((o,l)=>s.jsx(Id,{fill:o.color},`cell-${l}`))}),s.jsx(Vn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:o=>[o,"Animaux"]})]})})}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total d'animaux"}),s.jsx("span",{className:"font-medium",children:n})]}),r&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Espèce la plus commune"}),s.jsxs("div",{className:"flex items-center gap-2",children:[i(r.name),s.jsx("span",{className:"font-medium",children:r.name})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Âge moyen"}),s.jsxs("span",{className:"font-medium",children:[a.toFixed(1)," ans"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Répartition détaillée"}),t.slice(0,5).map((o,l)=>s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[i(o.name),s.jsx("span",{children:o.name})]}),s.jsxs("span",{className:"text-muted-foreground",children:[o.value," (",(o.value/n*100).toFixed(1),"%)"]})]},l))]})]})]})]})}const DPe=()=>s.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[s.jsx(kZ,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"KPI en Temps Réel"}),s.jsx(CPe,{})]}),s.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[s.jsx(NPe,{}),s.jsx(SPe,{}),s.jsx(wPe,{})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Vue d'ensemble"}),s.jsx(TZ,{})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Analyses et Tendances"}),s.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[s.jsx(cw,{children:s.jsx(_Pe,{})}),s.jsx(PPe,{})]})]}),s.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[s.jsx(APe,{}),s.jsx(kPe,{}),s.jsx(TPe,{})]}),s.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[s.jsx(EPe,{}),s.jsx(OPe,{})]}),s.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[s.jsx(MZ,{}),s.jsx(yPe,{})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Activité Récente"}),s.jsx(bPe,{})]}),s.jsx(cw,{children:s.jsx("section",{children:s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Admin Dashboard"})})})]}),uc=e=>{const{settings:t}=_t();return{currentView:t.displayPreferences[e],isTableView:t.displayPreferences[e]==="table",isCardsView:t.displayPreferences[e]==="cards"}},MPe=(e,t)=>{const n=t.filter(i=>i.client_id===e.id),r=Math.abs(e.id.split("").reduce((i,o)=>(i=(i<<5)-i+o.charCodeAt(0),i&i),0)),a=n.map(i=>({id:Math.abs(i.id.split("").reduce((l,c)=>(l=(l<<5)-l+c.charCodeAt(0),l&l),0)),name:i.name,type:i.species,breed:i.breed||""}));return{id:r,name:`${e.first_name} ${e.last_name}`,firstName:e.first_name,lastName:e.last_name,email:e.email||"",phone:e.phone||e.mobile_phone||"",address:e.address||"",city:e.city,pets:a,lastVisit:new Date(e.updated_at).toLocaleDateString("fr-FR"),totalVisits:0,dbId:e.id}},IPe=()=>{const{data:e=[],isLoading:t}=ds(),{data:n=[],isLoading:r}=hs(),a=eZ(),{toast:i}=at(),o=e.map(P=>MPe(P,n)),{currentView:l}=uc("clients"),[c,u]=b.useState(""),[d,h]=b.useState(l),[f,m]=b.useState(!1),[g,p]=b.useState(null),[v,x]=b.useState(!1),[y,j]=b.useState(!1),[N,w]=b.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"Rabat",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),C=o.filter(P=>P.name.toLowerCase().includes(c.toLowerCase())||P.email.toLowerCase().includes(c.toLowerCase())||P.city&&P.city.toLowerCase().includes(c.toLowerCase())),S=P=>{p(P),x(!0)},_=P=>{p(P),w({first_name:P.firstName,last_name:P.lastName,email:P.email,phone:P.phone,mobile_phone:"",address:P.address,city:P.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),j(!0)},k=()=>{g&&w({first_name:g.firstName,last_name:g.lastName,email:g.email,phone:g.phone,mobile_phone:"",address:g.address,city:g.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),x(!1),j(!0)},E=async P=>{if(P.preventDefault(),!g||!N.first_name||!N.last_name){i({title:"Erreur",description:"Le prénom et le nom sont obligatoires",variant:"destructive"});return}try{await a.mutateAsync({id:g.dbId,data:N}),i({title:"Client modifié",description:`${N.first_name} ${N.last_name} a été modifié avec succès`}),j(!1),p(null)}catch(A){i({title:"Erreur",description:A instanceof Error?A.message:"Erreur lors de la modification du client",variant:"destructive"})}};return t||r?s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Chargement des clients..."})]})})}):s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Clients"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez tous vos clients et leurs informations"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{size:"sm",variant:d==="cards"?"default":"outline",onClick:()=>h("cards"),className:"gap-2",children:[s.jsx(Ao,{className:"h-4 w-4"}),"Cartes"]}),s.jsxs(F,{size:"sm",variant:d==="table"?"default":"outline",onClick:()=>h("table"),className:"gap-2",children:[s.jsx(bi,{className:"h-4 w-4"}),"Tableau"]}),s.jsxs(F,{className:"gap-2 medical-glow",onClick:()=>m(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouveau Client"]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Io,{className:"h-5 w-5"}),"Rechercher un client"]})}),s.jsx(re,{children:s.jsx(Q,{placeholder:"Rechercher par nom, email ou ville...",value:c,onChange:P=>u(P.target.value),className:"max-w-md"})})]}),d==="cards"?s.jsx("div",{className:"grid gap-6",children:C.map(P=>s.jsx(te,{className:"card-hover",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[s.jsx(Jn,{className:"h-16 w-16",children:s.jsx(Zn,{className:"bg-primary text-primary-foreground text-lg",children:P.name.split(" ").map(A=>A[0]).join("")})}),s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:P.name}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(fm,{className:"h-3 w-3"}),P.email]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pu,{className:"h-3 w-3"}),P.phone]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ec,{className:"h-3 w-3"}),P.address]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4 text-primary"}),"Animaux (",P.pets.length,")"]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:P.pets.length>0?P.pets.map((A,R)=>s.jsxs(Pe,{variant:"secondary",className:"gap-1",children:[A.name," - ",A.type," ",A.breed&&`(${A.breed})`]},A.id||R)):s.jsx("span",{className:"text-sm text-muted-foreground",children:"Aucun animal enregistré"})})]}),s.jsxs("div",{className:"flex gap-6 text-sm",children:[s.jsxs("span",{children:[s.jsx("strong",{children:"Dernière visite:"})," ",P.lastVisit]}),s.jsxs("span",{children:[s.jsx("strong",{children:"Total visites:"})," ",P.totalVisits]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>S(P),children:[s.jsx(bn,{className:"h-4 w-4"}),"Voir"]}),s.jsxs(F,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>_(P),children:[s.jsx(Mt,{className:"h-4 w-4"}),"Modifier"]})]})]})})},P.id))}):s.jsx(te,{children:s.jsx(re,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-4 font-medium",children:"Client"}),s.jsx("th",{className:"p-4 font-medium",children:"Contact"}),s.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),s.jsx("th",{className:"p-4 font-medium",children:"Dernière visite"}),s.jsx("th",{className:"p-4 font-medium",children:"Total visites"}),s.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:C.map(P=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jn,{className:"h-10 w-10",children:s.jsx(Zn,{className:"bg-primary text-primary-foreground text-sm",children:P.name.split(" ").map(A=>A[0]).join("")})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:P.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:P.address})]})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm",children:P.email}),s.jsx("div",{className:"text-sm text-muted-foreground",children:P.phone})]})}),s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"flex gap-1 flex-wrap",children:P.pets.length>0?P.pets.map((A,R)=>s.jsx(Pe,{variant:"secondary",className:"text-xs",children:A.name},A.id||R)):s.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucun"})})}),s.jsx("td",{className:"p-4",children:P.lastVisit}),s.jsx("td",{className:"p-4",children:P.totalVisits}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(F,{size:"sm",variant:"outline",onClick:()=>S(P),children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>_(P),children:s.jsx(Mt,{className:"h-4 w-4"})})]})})]},P.id))})]})})})}),s.jsx(zx,{open:f,onOpenChange:m}),g&&v&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs(te,{className:"w-full max-w-2xl mx-4",children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center justify-between",children:["Profil Client - ",g.name,s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>x(!1),children:"✕"})]})}),s.jsxs(re,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Nom complet"}),s.jsx("p",{children:g.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Email"}),s.jsx("p",{children:g.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Téléphone"}),s.jsx("p",{children:g.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Ville"}),s.jsx("p",{children:g.city})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Adresse"}),s.jsx("p",{children:g.address})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium",children:["Animaux (",g.pets.length,")"]}),s.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:g.pets.map((P,A)=>s.jsxs(Pe,{variant:"secondary",children:[P.name," - ",P.type," ",P.breed&&`(${P.breed})`]},P.id||A))})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(F,{onClick:()=>k(),children:"Modifier"}),s.jsx(F,{variant:"outline",onClick:()=>x(!1),children:"Fermer"})]})]})]})}),g&&y&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs(te,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center justify-between",children:["Modifier Client - ",g.name,s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>j(!1),children:"✕"})]})}),s.jsx(re,{children:s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_first_name",children:"Prénom *"}),s.jsx(Q,{id:"edit_first_name",value:N.first_name,onChange:P=>w(A=>({...A,first_name:P.target.value})),placeholder:"Prénom du client",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_last_name",children:"Nom *"}),s.jsx(Q,{id:"edit_last_name",value:N.last_name,onChange:P=>w(A=>({...A,last_name:P.target.value})),placeholder:"Nom du client",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_email",children:"Email"}),s.jsx(Q,{id:"edit_email",type:"email",value:N.email||"",onChange:P=>w(A=>({...A,email:P.target.value})),placeholder:"email@exemple.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_phone",children:"Téléphone"}),s.jsx(Q,{id:"edit_phone",value:N.phone||"",onChange:P=>w(A=>({...A,phone:P.target.value})),placeholder:"06 12 34 56 78"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_mobile_phone",children:"Téléphone mobile"}),s.jsx(Q,{id:"edit_mobile_phone",value:N.mobile_phone||"",onChange:P=>w(A=>({...A,mobile_phone:P.target.value})),placeholder:"06 12 34 56 78"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_city",children:"Ville"}),s.jsx(Q,{id:"edit_city",value:N.city||"Rabat",onChange:P=>w(A=>({...A,city:P.target.value})),placeholder:"Ville"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_address",children:"Adresse"}),s.jsx(Q,{id:"edit_address",value:N.address||"",onChange:P=>w(A=>({...A,address:P.target.value})),placeholder:"Adresse complète"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_postal_code",children:"Code postal"}),s.jsx(Q,{id:"edit_postal_code",value:N.postal_code||"",onChange:P=>w(A=>({...A,postal_code:P.target.value})),placeholder:"10000"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_client_type",children:"Type de client"}),s.jsxs(we,{value:N.client_type||"particulier",onValueChange:P=>w(A=>({...A,client_type:P})),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Type de client"})}),s.jsxs(je,{children:[s.jsx(L,{value:"particulier",children:"Particulier"}),s.jsx(L,{value:"eleveur",children:"Éleveur"}),s.jsx(L,{value:"ferme",children:"Ferme"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"edit_notes",children:"Notes"}),s.jsx(qe,{id:"edit_notes",value:N.notes||"",onChange:P=>w(A=>({...A,notes:P.target.value})),placeholder:"Notes supplémentaires...",rows:3})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(F,{type:"submit",disabled:a.isPending,className:"flex-1",children:a.isPending?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"h-4 w-4 animate-spin mr-2"}),"Modification..."]}):"Enregistrer"}),s.jsx(F,{type:"button",variant:"outline",onClick:()=>j(!1),disabled:a.isPending,className:"flex-1",children:"Annuler"})]})]})})]})})]})},$Pe=()=>s.jsx(IPe,{});function RPe({open:e,onOpenChange:t,pet:n}){const[r,a]=b.useState("overview");if(!n)return null;const i=n.birthDate?ku(n.birthDate):"Non renseigné",o=n.weight?`${n.weight} kg`:"Non renseigné";return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(vr,{className:"h-5 w-5"}),"Dossier Médical - ",n.name," (Propriétaire: ",n.owner,")"]})}),s.jsxs(ki,{value:r,onValueChange:a,className:"w-full",children:[s.jsxs(Ua,{className:"grid w-full grid-cols-6",children:[s.jsxs(At,{value:"overview",className:"flex items-center gap-1",children:[s.jsx(ra,{className:"h-4 w-4"}),"Vue d'ensemble"]}),s.jsxs(At,{value:"historique",className:"flex items-center gap-1",children:[s.jsx(He,{className:"h-4 w-4"}),"Historique"]}),s.jsxs(At,{value:"prescriptions",className:"flex items-center gap-1",children:[s.jsx(vr,{className:"h-4 w-4"}),"Prescriptions"]}),s.jsxs(At,{value:"vaccinations",className:"flex items-center gap-1",children:[s.jsx($r,{className:"h-4 w-4"}),"Vaccinations"]}),s.jsxs(At,{value:"antiparasites",className:"flex items-center gap-1",children:[s.jsx(zn,{className:"h-4 w-4"}),"Antiparasites"]}),s.jsxs(At,{value:"pedigree",className:"flex items-center gap-1",children:[s.jsx(Ng,{className:"h-4 w-4"}),"Pedigree"]})]}),s.jsxs(kt,{value:"overview",className:"space-y-6",children:[s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Informations générales"})}),s.jsx(re,{children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx(Jn,{className:"h-32 w-32",children:n.photo?s.jsx(Du,{src:n.photo,alt:n.name}):s.jsx(Zn,{className:"bg-primary-glow text-primary-foreground",children:s.jsx(dt,{className:"h-16 w-16"})})}),s.jsxs(F,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(_u,{className:"h-4 w-4"}),"Ajouter photo"]})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:n.name}),s.jsxs("div",{className:"space-y-2 mt-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Type:"})," ",n.type]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Race:"})," ",n.breed||"Non renseignée"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Sexe:"})," ",n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Inconnu"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Âge:"})," ",i]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Date de naissance:"})," ",n.birthDate||"Non renseignée"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Couleur:"})," ",n.color||"Non renseignée"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Poids actuel:"})," ",o]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"N° puce:"})," ",n.microchip||"Non renseigné"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Statut de santé:"}),s.jsx(Pe,{variant:n.status==="healthy"?"default":n.status==="treatment"?"secondary":"destructive",children:n.status==="healthy"?"En bonne santé":n.status==="treatment"?"En traitement":"Urgent"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Propriétaire:"})," ",n.owner]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Dernière visite:"})," ",n.lastVisit||"Aucune"]})]})]})]})})]}),s.jsxs(te,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsx(de,{children:"Galerie photos"}),s.jsxs(F,{size:"sm",className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Ajouter une photo"]})]}),s.jsx(re,{children:s.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center",children:[s.jsx(_u,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucune photo disponible"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez des photos de l'animal pour enrichir son dossier"})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cg,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),s.jsx("p",{className:"text-lg font-bold",children:o}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"-28.2kg"})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cf,{className:"h-5 w-5 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Température"}),s.jsx("p",{className:"text-lg font-bold",children:"38.5°C"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Moy: 38.5°C"})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),s.jsx("p",{className:"text-lg font-bold",children:"1"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Dernière: 15/01/2024"})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zn,{className:"h-5 w-5 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),s.jsx("p",{className:"text-lg font-bold",children:"1"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"À traiter"})]})]})})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5"}),"Prochain suivi recommandé"]})}),s.jsx(re,{children:s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg",children:[s.jsx("p",{className:"font-medium",children:"Contrôle dans 3 an"}),s.jsxs(F,{size:"sm",className:"mt-2 gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Planifier"]})]})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-red-600",children:"Alertes importantes"})}),s.jsxs(re,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[s.jsx(zn,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:"Contrôle de routine recommandé"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Dernière consultation il y a 20 mois"})]}),s.jsx(F,{size:"sm",variant:"outline",children:"Planifier consultation"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[s.jsx(zn,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"DHPP - 247 jour(s) de retard"})]}),s.jsx(F,{size:"sm",variant:"outline",children:"Planifier vaccination"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[s.jsx(zn,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Lyme - 512 jour(s) de retard"})]}),s.jsx(F,{size:"sm",variant:"outline",children:"Planifier vaccination"})]})]})]})]}),s.jsx(kt,{value:"historique",className:"space-y-4",children:s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Historique médical"})}),s.jsx(re,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(He,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Pas assez de données pour afficher les tendances"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez plus de consultations avec poids et température"})]})})]})}),s.jsx(kt,{value:"prescriptions",className:"space-y-4",children:s.jsxs(te,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsx(de,{children:"Prescriptions"}),s.jsxs(F,{size:"sm",className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle prescription"]})]}),s.jsx(re,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(vr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucune prescription disponible"})]})})]})}),s.jsx(kt,{value:"vaccinations",className:"space-y-4",children:s.jsxs(te,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsx(de,{children:"Vaccinations"}),s.jsxs(F,{size:"sm",className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle vaccination"]})]}),s.jsx(re,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm font-medium",children:[s.jsx("div",{children:"Rage"}),s.jsx("div",{children:"DHPP"}),s.jsx("div",{children:"Lyme"})]}),s.jsxs("div",{className:"text-center py-8",children:[s.jsx($r,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucune vaccination enregistrée"})]})]})})]})}),s.jsx(kt,{value:"antiparasites",className:"space-y-4",children:s.jsxs(te,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsx(de,{children:"Antiparasitaires"}),s.jsxs(F,{size:"sm",className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouveau traitement"]})]}),s.jsx(re,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(zn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucun traitement antiparasitaire enregistré"})]})})]})}),s.jsx(kt,{value:"pedigree",className:"space-y-4",children:s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Informations de pedigree"})}),s.jsx(re,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ng,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucune information de pedigree disponible"})]})})]})})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[s.jsx("div",{className:"flex gap-2",children:s.jsxs(F,{variant:"outline",size:"sm",children:[s.jsx(vr,{className:"h-4 w-4 mr-2"}),"Voir Dossier Médical"]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),s.jsxs(F,{children:[s.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Modifier"]})]})]}),s.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium",children:"Animal modifié"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Les informations de ",n.name," ont été mises à jour."]})]})]})})}function LPe({pet:e,consultations:t}){var N,w,C;const n=[...t].sort((S,_)=>new Date(_.date).getTime()-new Date(S.date).getTime()),r=n.filter(S=>S.weight).map(S=>({date:S.date,weight:parseFloat(S.weight)})),a=n.filter(S=>S.temperature).map(S=>({date:S.date,temperature:parseFloat(S.temperature)})),i=((N=r[0])==null?void 0:N.weight)||0,o=((w=r[1])==null?void 0:w.weight)||0,l=i-o,c=l>0?"up":l<0?"down":"stable",u=((C=a[0])==null?void 0:C.temperature)||0,d=a.length>0?a.reduce((S,_)=>S+_.temperature,0)/a.length:0,h=a.length>0?Math.min(...a.map(S=>S.temperature)):0,f=a.length>0?Math.max(...a.map(S=>S.temperature)):0,m=t.length,g=new Date().getMonth(),p=new Date().getFullYear(),v=t.filter(S=>{const _=new Date(S.date);return _.getMonth()===g&&_.getFullYear()===p}).length,x=n[0],y=x?Math.floor((new Date().getTime()-new Date(x.date).getTime())/(1e3*60*60*24)):null,j=[];return u>39.5?j.push({type:"danger",message:"Température élevée",icon:pn}):u<37.5&&j.push({type:"warning",message:"Température basse",icon:pn}),l<-2&&j.push({type:"warning",message:"Perte de poids",icon:$l}),y&&y>180&&j.push({type:"info",message:"Contrôle recommandé",icon:He}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Statistiques médicales"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(te,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(de,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Cg,{className:"h-4 w-4"}),"Poids actuel"]})}),s.jsxs(re,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[i,"kg"]}),l!==0&&s.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[c==="up"?s.jsx(sn,{className:"h-3 w-3 text-green-600"}):c==="down"?s.jsx($l,{className:"h-3 w-3 text-red-600"}):s.jsx(kU,{className:"h-3 w-3 text-gray-600"}),s.jsxs("span",{className:c==="up"?"text-green-600":c==="down"?"text-red-600":"text-gray-600",children:[Math.abs(l),"kg"]})]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(de,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(cf,{className:"h-4 w-4"}),"Température"]})}),s.jsxs(re,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[u,"°C"]}),s.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Moy: ",d.toFixed(1),"°C"]}),a.length>1&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Min: ",h,"°C | Max: ",f,"°C"]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(de,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ra,{className:"h-4 w-4"}),"Consultations"]})}),s.jsxs(re,{children:[s.jsx("div",{className:"text-2xl font-bold",children:m}),s.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Ce mois: ",v]}),x&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Dernière: ",new Date(x.date).toLocaleDateString("fr-FR")]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(de,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(pn,{className:"h-4 w-4"}),"Alertes"]})}),s.jsxs(re,{children:[s.jsx("div",{className:"text-2xl font-bold",children:j.length}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:j.length>0?"À traiter":"Aucune"}),j.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:j.slice(0,2).map((S,_)=>s.jsx(Pe,{variant:"outline",className:"text-xs",children:S.message},_))})]})]})]}),j.length>0&&s.jsxs(te,{className:"border-destructive/20",children:[s.jsx(ue,{children:s.jsx(de,{className:"text-destructive text-base",children:"Alertes médicales"})}),s.jsx(re,{children:s.jsx("div",{className:"space-y-2",children:j.map((S,_)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/5 rounded",children:[s.jsx(S.icon,{className:`h-4 w-4 ${S.type==="danger"?"text-destructive":S.type==="warning"?"text-yellow-600":"text-blue-600"}`}),s.jsx("span",{className:"text-sm font-medium",children:S.message})]},_))})})]}),r.length>1||a.length>1?s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-base",children:"Tendances"})}),s.jsx(re,{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.length>1&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Évolution du poids"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Poids initial:"}),s.jsxs("span",{children:[r[r.length-1].weight,"kg"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Poids actuel:"}),s.jsxs("span",{children:[r[0].weight,"kg"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Évolution totale:"}),s.jsxs("span",{className:r[0].weight>r[r.length-1].weight?"text-green-600":"text-red-600",children:[r[0].weight-r[r.length-1].weight,"kg"]})]})]})]}),a.length>1&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Évolution de la température"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Température moyenne:"}),s.jsxs("span",{children:[d.toFixed(1),"°C"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Variation:"}),s.jsxs("span",{children:[f-h,"°C"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Stabilité:"}),s.jsx("span",{className:f-h<1?"text-green-600":"text-yellow-600",children:f-h<1?"Stable":"Variable"})]})]})]})]})})]}):s.jsx(te,{children:s.jsxs(re,{className:"p-6 text-center text-muted-foreground",children:[s.jsx(ra,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),s.jsx("p",{children:"Pas assez de données pour afficher les tendances"}),s.jsx("p",{className:"text-sm",children:"Ajoutez plus de consultations avec poids et température"})]})})]})}const VE={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"},FPe=(e,t)=>{const n=t.find(o=>o.id===e.client_id),r=n?`${n.first_name} ${n.last_name}`:"Propriétaire inconnu",a=Math.abs(e.id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0)),i=Math.abs(e.client_id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0));return{id:a,name:e.name,type:e.species,breed:e.breed||"",gender:e.sex==="Mâle"?"male":e.sex==="Femelle"?"female":void 0,birthDate:e.birth_date||"",weight:e.weight?e.weight.toString():"",color:e.color||"",microchip:e.microchip_number||"",medicalNotes:e.notes||"",photo:e.photo_url||"",ownerId:i,owner:r,status:e.status==="vivant"?"healthy":e.status==="décédé"?"urgent":"treatment",lastVisit:e.updated_at?new Date(e.updated_at).toLocaleDateString("fr-FR"):"Jamais",nextAppointment:void 0,vaccinations:[],dbId:e.id,dbClientId:e.client_id}},BPe=()=>{var oe;const{data:e=[],isLoading:t}=hs(),{data:n=[],isLoading:r}=ds(),{data:a}=vZ(),i=nZ(),o=e.map(O=>FPe(O,n)),{data:l=[]}=MS(),{data:c=[]}=IS(),u=b.useCallback(O=>{var fe;const q=typeof O=="string"?O:(fe=o.find(he=>he.id===O))==null?void 0:fe.dbId;return q?l.filter(he=>he.animal_id===q):[]},[o,l]),d=b.useCallback(O=>{var fe;const q=typeof O=="string"?O:(fe=o.find(he=>he.id===O))==null?void 0:fe.dbId;return q?c.filter(he=>he.animal_id===q):[]},[o,c]),h=b.useCallback(O=>{var q,fe,he,Ye,We,ut;return{id:Math.abs(O.id.split("").reduce(($e,it)=>($e=($e<<5)-$e+it.charCodeAt(0),$e&$e),0)),clientId:Math.abs(O.client_id.split("").reduce(($e,it)=>($e=($e<<5)-$e+it.charCodeAt(0),$e&$e),0)),clientName:(q=O.client)!=null&&q.first_name&&((fe=O.client)!=null&&fe.last_name)?`${O.client.first_name} ${O.client.last_name}`:"Client inconnu",petId:Math.abs(O.animal_id.split("").reduce(($e,it)=>($e=($e<<5)-$e+it.charCodeAt(0),$e&$e),0)),petName:((he=O.animal)==null?void 0:he.name)||"Animal inconnu",date:O.consultation_date||O.created_at,weight:(Ye=O.weight)==null?void 0:Ye.toString(),temperature:(We=O.temperature)==null?void 0:We.toString(),symptoms:O.symptoms,diagnosis:O.diagnosis,treatment:O.treatment,medications:O.medications,followUp:O.follow_up,cost:(ut=O.cost)==null?void 0:ut.toString(),notes:O.notes,photos:O.photos||[],createdAt:O.created_at,purpose:O.consultation_type||"consultation",veterinarian:O.veterinarian_name||"Vétérinaire"}},[]),{currentView:f}=uc("pets"),[m,g]=b.useState(""),[p,v]=b.useState("all"),[x,y]=b.useState("all"),[j,N]=b.useState(f),{settings:w}=_t(),C=w.species.split(",").map(O=>O.trim()).filter(O=>O.length>0),[S,_]=b.useState(!1),[k,E]=b.useState(!1),[P,A]=b.useState(null),[R,M]=b.useState(!1),[K,z]=b.useState(!1),[W,T]=b.useState(!1),{toast:I}=at(),[U,H]=b.useState({client_id:"",name:"",species:"Chien",breed:"",color:"",sex:"Inconnu",weight:void 0,height:void 0,birth_date:"",microchip_number:"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:"",photo_url:"",status:"vivant"}),Z=o.filter(O=>{const q=O.name.toLowerCase().includes(m.toLowerCase())||O.breed&&O.breed.toLowerCase().includes(m.toLowerCase())||O.owner.toLowerCase().includes(m.toLowerCase()),fe=p==="all"||O.type.toLowerCase()===p.toLowerCase(),he=x==="all"||O.status===x;return q&&fe&&he}),ae=O=>{A(O),M(!0)},se=O=>{A(O),H({client_id:O.dbClientId,name:O.name,species:O.type,breed:O.breed||"",color:O.color||"",sex:O.gender==="male"?"Mâle":O.gender==="female"?"Femelle":"Inconnu",weight:O.weight?parseFloat(O.weight):void 0,height:void 0,birth_date:O.birthDate||"",microchip_number:O.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:O.medicalNotes||"",photo_url:O.photo||"",status:O.status==="healthy"?"vivant":O.status==="urgent"?"décédé":"perdu"}),z(!0)},me=()=>{P&&H({client_id:P.dbClientId,name:P.name,species:P.type,breed:P.breed||"",color:P.color||"",sex:P.gender==="male"?"Mâle":P.gender==="female"?"Femelle":"Inconnu",weight:P.weight?parseFloat(P.weight):void 0,height:void 0,birth_date:P.birthDate||"",microchip_number:P.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:P.medicalNotes||"",photo_url:P.photo||"",status:P.status==="healthy"?"vivant":P.status==="urgent"?"décédé":"perdu"}),M(!1),z(!0)},xe=O=>{A(O),T(!0)},le=()=>{M(!1),T(!0)},Y=async()=>{if(P){if(U.microchip_number&&U.microchip_number.trim()&&e.find(q=>q.microchip_number===U.microchip_number.trim()&&q.id!==P.dbId)){I({title:"Erreur",description:"Un animal avec ce numéro de puce existe déjà.",variant:"destructive"});return}try{await i.mutateAsync({id:P.dbId,data:U}),I({title:"Animal modifié",description:`${U.name} a été modifié avec succès.`}),z(!1)}catch{I({title:"Erreur",description:"Une erreur s'est produite lors de la modification de l'animal.",variant:"destructive"})}}},ee=b.useMemo(()=>P?u(P.id).map(h):[],[P,u,h]);return s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Animaux"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivez tous les animaux et leurs informations médicales"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{size:"sm",variant:j==="cards"?"default":"outline",onClick:()=>N("cards"),className:"gap-2",children:[s.jsx(Ao,{className:"h-4 w-4"}),"Cartes"]}),s.jsxs(F,{size:"sm",variant:j==="table"?"default":"outline",onClick:()=>N("table"),className:"gap-2",children:[s.jsx(bi,{className:"h-4 w-4"}),"Tableau"]}),s.jsxs(F,{className:"gap-2 medical-glow",onClick:()=>_(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvel Animal"]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total animaux"}),s.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.totalAnimals)||o.length})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"En bonne santé"}),s.jsx("p",{className:"text-2xl font-bold",children:((oe=a==null?void 0:a.animalsByStatus)==null?void 0:oe.vivant)||o.filter(O=>O.status==="healthy").length})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-5 w-5 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"En traitement"}),s.jsx("p",{className:"text-2xl font-bold",children:o.filter(O=>O.status==="treatment").length})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Clients actifs"}),s.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.totalClients)||n.length})]})]})})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Io,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),s.jsxs(re,{className:"space-y-4",children:[s.jsx(Q,{placeholder:"Rechercher par nom, race ou propriétaire...",value:m,onChange:O=>g(O.target.value),className:"max-w-md"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(we,{value:p,onValueChange:v,children:[s.jsx(ye,{className:"w-40",children:s.jsx(Ne,{placeholder:"Tous types"})}),s.jsxs(je,{children:[s.jsx(L,{value:"all",children:"Tous types"}),C.map((O,q)=>s.jsx(L,{value:O.toLowerCase(),children:O},q))]})]}),s.jsxs(we,{value:x,onValueChange:y,children:[s.jsx(ye,{className:"w-40",children:s.jsx(Ne,{placeholder:"Statut"})}),s.jsxs(je,{children:[s.jsx(L,{value:"all",children:"Tous statuts"}),s.jsx(L,{value:"healthy",children:"En bonne santé"}),s.jsx(L,{value:"treatment",children:"En traitement"}),s.jsx(L,{value:"urgent",children:"Urgent"})]})]})]})]})]}),j==="cards"?s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Z.map(O=>s.jsx(te,{className:"card-hover",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jn,{className:"h-16 w-16",children:O.photo?s.jsx(Du,{src:O.photo,alt:O.name}):s.jsx(Zn,{className:"bg-primary-glow text-primary-foreground",children:s.jsx(dt,{className:"h-8 w-8"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:O.name}),s.jsx("p",{className:"text-muted-foreground",children:O.breed}),s.jsx(Pe,{variant:"outline",className:VE[O.status],children:O.status==="healthy"?"En bonne santé":O.status==="treatment"?"En traitement":"Urgent"})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Type:"})," ",O.type]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Âge:"})," ",O.birthDate?ku(O.birthDate):"Non renseigné"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Poids:"})," ",O.weight]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Couleur:"})," ",O.color]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Nr,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["Propriétaire: ",typeof O.owner=="string"?O.owner:(()=>{const q=n.find(fe=>String(fe.id)===String(O.ownerId));return q?`${q.first_name} ${q.last_name}`:"Non spécifié"})()]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["Dernière visite: ",O.lastVisit?new Date(O.lastVisit).toLocaleDateString("fr-FR"):"Aucune"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(jn,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["Consultations: ",u(O.id).length]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Vaccinations:"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:(()=>{const q=d(O.id);return q.length>0?`${q.length} vaccination${q.length>1?"s":""} enregistrée${q.length>1?"s":""}`:"Aucune vaccination enregistrée"})()})]}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsxs(F,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>ae(O),children:[s.jsx(bn,{className:"h-4 w-4"}),"Voir"]}),s.jsxs(F,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>se(O),children:[s.jsx(Mt,{className:"h-4 w-4"}),"Modifier"]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(F,{size:"sm",className:"flex-1",onClick:()=>{A(O),E(!0)},children:[s.jsx(jn,{className:"h-4 w-4 mr-2"}),"Consultation"]})})]})})},O.id))}):s.jsx(te,{children:s.jsx(re,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-4 font-medium",children:"Animal"}),s.jsx("th",{className:"p-4 font-medium",children:"Type"}),s.jsx("th",{className:"p-4 font-medium",children:"Âge"}),s.jsx("th",{className:"p-4 font-medium",children:"Propriétaire"}),s.jsx("th",{className:"p-4 font-medium",children:"Statut"}),s.jsx("th",{className:"p-4 font-medium",children:"Dernière visite"}),s.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:Z.map(O=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jn,{className:"h-10 w-10",children:O.photo?s.jsx(Du,{src:O.photo,alt:O.name}):s.jsx(Zn,{className:"bg-primary-glow text-primary-foreground",children:s.jsx(dt,{className:"h-5 w-5"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:O.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:O.breed})]})]})}),s.jsx("td",{className:"p-4",children:O.type}),s.jsx("td",{className:"p-4",children:O.birthDate?ku(O.birthDate):"Non renseigné"}),s.jsx("td",{className:"p-4",children:typeof O.owner=="string"?O.owner:(()=>{const q=n.find(fe=>String(fe.id)===String(O.ownerId));return q?`${q.first_name} ${q.last_name}`:"Non spécifié"})()}),s.jsx("td",{className:"p-4",children:s.jsx(Pe,{variant:"outline",className:VE[O.status],children:O.status==="healthy"?"En bonne santé":O.status==="treatment"?"En traitement":"Urgent"})}),s.jsx("td",{className:"p-4",children:O.lastVisit?new Date(O.lastVisit).toLocaleDateString("fr-FR"):"Aucune"}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(F,{size:"sm",variant:"outline",onClick:()=>ae(O),children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>se(O),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>xe(O),children:"Dossier"})]})})]},O.id))})]})})})}),P&&s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(ra,{className:"h-5 w-5"}),"Statistiques médicales - ",P.name]})}),s.jsx(re,{children:s.jsx(LPe,{pet:P,consultations:ee})})]}),s.jsx(Vx,{open:S,onOpenChange:_}),s.jsx(Cd,{open:k,onOpenChange:E}),s.jsx(N3,{open:R,onOpenChange:M,pet:P,onEdit:me,onShowDossier:le}),s.jsx(Ze,{open:K,onOpenChange:z,children:s.jsxs(Ge,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Modifier Animal"}),s.jsx(Rt,{children:"Modifiez les informations de l'animal."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"name",children:"Nom *"}),s.jsx(Q,{id:"name",value:U.name,onChange:O=>H(q=>({...q,name:O.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"species",children:"Espèce *"}),s.jsxs(we,{value:U.species,onValueChange:O=>H(q=>({...q,species:O})),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner l'espèce"})}),s.jsxs(je,{children:[s.jsx(L,{value:"Chien",children:"Chien"}),s.jsx(L,{value:"Chat",children:"Chat"}),s.jsx(L,{value:"Oiseau",children:"Oiseau"}),s.jsx(L,{value:"Lapin",children:"Lapin"}),s.jsx(L,{value:"Furet",children:"Furet"}),s.jsx(L,{value:"Autre",children:"Autre"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"client_id",children:"Propriétaire *"}),s.jsxs(we,{value:U.client_id,onValueChange:O=>H(q=>({...q,client_id:O})),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner le propriétaire"})}),s.jsx(je,{children:n.map(O=>s.jsxs(L,{value:O.id,children:[O.first_name," ",O.last_name]},O.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"breed",children:"Race"}),s.jsx(Q,{id:"breed",value:U.breed||"",onChange:O=>H(q=>({...q,breed:O.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"sex",children:"Sexe"}),s.jsxs(we,{value:U.sex,onValueChange:O=>H(q=>({...q,sex:O})),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner le sexe"})}),s.jsxs(je,{children:[s.jsx(L,{value:"Mâle",children:"Mâle"}),s.jsx(L,{value:"Femelle",children:"Femelle"}),s.jsx(L,{value:"Inconnu",children:"Inconnu"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"birth_date",children:"Date de naissance"}),s.jsx(Q,{id:"birth_date",type:"date",value:U.birth_date||"",onChange:O=>H(q=>({...q,birth_date:O.target.value||void 0}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"weight",children:"Poids (kg)"}),s.jsx(Q,{id:"weight",type:"number",step:"0.1",value:U.weight||"",onChange:O=>H(q=>({...q,weight:O.target.value?parseFloat(O.target.value):void 0}))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"color",children:"Couleur"}),s.jsx(Q,{id:"color",value:U.color||"",onChange:O=>H(q=>({...q,color:O.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"microchip_number",children:"N° puce électronique"}),s.jsx(Q,{id:"microchip_number",value:U.microchip_number||"",onChange:O=>H(q=>({...q,microchip_number:O.target.value}))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes médicales"}),s.jsx(qe,{id:"notes",value:U.notes||"",onChange:O=>H(q=>({...q,notes:O.target.value})),placeholder:"Notes additionnelles..."})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>z(!1),children:"Annuler"}),s.jsxs(F,{onClick:Y,disabled:i.isPending,children:[i.isPending&&s.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarder"]})]})]})]})}),s.jsx(RPe,{open:W,onOpenChange:T,pet:P})]})},zPe=()=>s.jsx(BPe,{});function VPe({open:e,onOpenChange:t}){const{data:n=[]}=ds(),{data:r=[]}=hs(),a=SZ(),{toast:i}=at(),[o,l]=b.useState({clientId:"",animalId:"",date:"",time:"",appointmentType:"consultation",notes:""}),[c,u]=b.useState([]),d=async m=>{if(m.preventDefault(),!o.clientId||!o.animalId||!o.date||!o.time){i({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}try{const g=new Date(`${o.date}T${o.time}:00`);await a.mutateAsync({client_id:o.clientId,animal_id:o.animalId,appointment_date:g.toISOString(),appointment_type:o.appointmentType,notes:o.notes||void 0,duration_minutes:30}),i({title:"Succès",description:"Rendez-vous créé avec succès"}),l({clientId:"",animalId:"",date:"",time:"",appointmentType:"consultation",notes:""}),u([]),t(!1)}catch(g){console.error("Error creating appointment:",g),i({title:"Erreur",description:"Impossible de créer le rendez-vous",variant:"destructive"})}},h=m=>{l(p=>({...p,clientId:m,animalId:""}));const g=r.filter(p=>p.client_id===m);u(g)},f=m=>`${m.first_name} ${m.last_name}`;return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-2xl",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5"}),"Nouveau Rendez-vous"]}),s.jsx(Rt,{children:"Créer un nouveau rendez-vous pour un client et son animal"})]}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"client",children:"Client *"}),s.jsxs(we,{value:o.clientId,onValueChange:h,children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner un client"})}),s.jsx(je,{children:n.map(m=>s.jsx(L,{value:m.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"h-4 w-4"}),f(m)]})},m.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"animal",children:"Animal *"}),s.jsxs(we,{value:o.animalId,onValueChange:m=>l(g=>({...g,animalId:m})),disabled:!o.clientId,children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:o.clientId?"Sélectionner un animal":"Sélectionner d'abord un client"})}),s.jsx(je,{children:c.map(m=>s.jsx(L,{value:m.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),m.name," (",m.species,")"]})},m.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"date",children:"Date *"}),s.jsx(Q,{id:"date",type:"date",value:o.date,onChange:m=>l(g=>({...g,date:m.target.value})),min:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"time",children:"Heure *"}),s.jsx(Q,{id:"time",type:"time",value:o.time,onChange:m=>l(g=>({...g,time:m.target.value}))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"type",children:"Type de rendez-vous"}),s.jsxs(we,{value:o.appointmentType,onValueChange:m=>l(g=>({...g,appointmentType:m})),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"consultation",children:"Consultation"}),s.jsx(L,{value:"vaccination",children:"Vaccination"}),s.jsx(L,{value:"surgery",children:"Chirurgie"}),s.jsx(L,{value:"follow-up",children:"Contrôle/Suivi"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes (optionnel)"}),s.jsx(qe,{id:"notes",placeholder:"Notes additionnelles sur le rendez-vous...",value:o.notes,onChange:m=>l(g=>({...g,notes:m.target.value})),rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(F,{type:"submit",disabled:a.isPending,children:a.isPending?"Création...":"Créer le rendez-vous"})]})]})]})})}function UPe(e,t,n){const r=[],{openingTime:a,closingTime:i,slotDuration:o,lunchBreakStart:l,lunchBreakEnd:c}=t,u=Dp(a),d=Dp(i),h=l?Dp(l):null,f=c?Dp(c):null;for(let m=u;m<d;m+=o){const g=qPe(m),p=h&&f&&m>=h&&m<f,v=n.some(x=>x.date===e&&x.time===g);r.push({time:g,isAvailable:!v&&!p,isLunchBreak:!!p})}return r}function Dp(e){const[t,n]=e.split(":").map(Number);return t*60+n}function qPe(e){const t=Math.floor(e/60),n=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function WPe(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"long"})}function HPe(e,t){const n=WPe(e).toLowerCase();return t.workingDays.includes(n)}const UE=(e,t)=>{switch(e){case"appointment":switch(t){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}case"vaccination":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}case"antiparasitic":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}default:return"bg-gray-100 text-gray-800 border-gray-200"}},qE=(e,t)=>{switch(e){case"appointment":return s.jsx(Jt,{className:"h-3 w-3"});case"vaccination":return s.jsx(On,{className:"h-3 w-3"});case"antiparasitic":return s.jsx(pn,{className:"h-3 w-3"});default:return s.jsx(He,{className:"h-3 w-3"})}},KPe=({events:e,onEventClick:t,onDateClick:n,onTimeSlotClick:r,showTimeSlots:a=!1,title:i="Calendrier",icon:o=s.jsx(He,{className:"h-5 w-5"})})=>{var C;const{settings:l}=_t(),[c,u]=b.useState(new Date),[d,h]=b.useState(""),f=new Date(c.getFullYear(),c.getMonth(),1),m=new Date(c.getFullYear(),c.getMonth()+1,0),g=new Date(f);g.setDate(g.getDate()-f.getDay());const p=[],v=new Date(g);for(;v<=m||p.length<42;)p.push(new Date(v)),v.setDate(v.getDate()+1);const x=b.useMemo(()=>{const S={};return e.forEach(_=>{const k=_.date;S[k]||(S[k]=[]),S[k].push(_)}),S},[e]),y=b.useMemo(()=>!d||!a?[]:UPe(d,l.scheduleSettings,[]),[d,a,l.scheduleSettings]),j=S=>{const _=new Date(c);_.setMonth(c.getMonth()+(S==="next"?1:-1)),u(_)},N=S=>{const _=Xe(S,"yyyy-MM-dd");h(_),n==null||n(_)},w=S=>{r&&d&&r(d,S)};return s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs(te,{children:[s.jsx(ue,{className:"pb-3 sm:pb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[s.jsxs(de,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o,i]}),s.jsxs("div",{className:"flex items-center justify-between sm:gap-2",children:[s.jsx(F,{variant:"outline",size:"sm",onClick:()=>j("prev"),className:"flex-1 sm:flex-none",children:"←"}),s.jsx("span",{className:"font-medium text-sm sm:text-base px-2 sm:min-w-[140px] text-center",children:Xe(c,"MMMM yyyy",{locale:In})}),s.jsx(F,{variant:"outline",size:"sm",onClick:()=>j("next"),className:"flex-1 sm:flex-none",children:"→"})]})]})}),s.jsxs(re,{className:"p-2 sm:p-6",children:[s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2 sm:mb-4",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(S=>s.jsx("div",{className:"p-1 sm:p-2 text-center text-xs sm:text-sm font-medium text-gray-500",children:S},S))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:p.map((S,_)=>{const k=Xe(S,"yyyy-MM-dd"),E=x[k]||[],P=S.getMonth()===c.getMonth(),A=KZ(S,new Date),R=k===d,M=HPe(k,l.scheduleSettings);return s.jsxs("div",{className:`
                    min-h-[60px] sm:min-h-[80px] p-1 border rounded-lg relative cursor-pointer hover:bg-muted/50
                    ${P?"bg-white":"bg-gray-50"}
                    ${A?"ring-2 ring-blue-500":""}
                    ${R?"bg-blue-100 border-blue-300":""}
                    ${M?"":"opacity-50"}
                  `,onClick:()=>N(S),children:[s.jsx("div",{className:`text-xs sm:text-sm font-medium ${P?"text-gray-900":"text-gray-400"}`,children:S.getDate()}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1 mt-0.5 sm:mt-1",children:[E.slice(0,2).map((K,z)=>s.jsx("div",{className:`
                          text-xs p-0.5 sm:p-1 rounded text-center truncate border cursor-pointer
                          ${UE(K.type,K.status)}
                        `,title:`${K.title}${K.time?` - ${K.time}`:""}${K.clientName?` (${K.clientName})`:""}`,onClick:W=>{W.stopPropagation(),t==null||t(K)},children:s.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 justify-center",children:[qE(K.type,K.status),s.jsx("span",{className:"truncate text-xs",children:K.title})]})},z)),E.length>2&&s.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",E.length-2]})]})]},_)})})]})]}),d&&s.jsxs(te,{children:[s.jsx(ue,{className:"pb-3",children:s.jsx(de,{className:"text-base sm:text-lg",children:Xe(new Date(d),"EEEE d MMMM yyyy",{locale:In})})}),s.jsxs(re,{className:"p-3 sm:p-6",children:[((C=x[d])==null?void 0:C.length)>0?s.jsx("div",{className:"space-y-3",children:x[d].map(S=>s.jsxs("div",{className:`
                      p-3 rounded-lg border cursor-pointer hover:shadow-sm
                      ${UE(S.type,S.status)}
                    `,onClick:()=>t==null?void 0:t(S),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[qE(S.type,S.status),s.jsx("span",{className:"font-medium",children:S.title})]}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:S.status})]}),S.time&&s.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[s.jsx(Jt,{className:"h-3 w-3"}),s.jsx("span",{children:S.time})]}),S.clientName&&s.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[s.jsx(Nr,{className:"h-3 w-3"}),s.jsx("span",{children:S.clientName})]}),S.petName&&s.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[s.jsx(dt,{className:"h-3 w-3"}),s.jsx("span",{children:S.petName})]})]},S.id))}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun événement prévu pour cette date"}),a&&y.length>0&&s.jsxs("div",{className:"mt-4 sm:mt-6",children:[s.jsx("h4",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:"Créneaux disponibles"}),s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-1 sm:gap-2",children:y.map(S=>s.jsxs(F,{variant:S.isAvailable?"outline":"ghost",size:"sm",disabled:!S.isAvailable,onClick:()=>w(S.time),className:"text-xs p-1 sm:p-2",children:[S.time,S.isLunchBreak&&s.jsx(Pe,{variant:"secondary",className:"ml-1 text-xs hidden sm:inline",children:"Pause"})]},S.time))})]})]})]})]})},WE={scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800","no-show":"bg-orange-100 text-orange-800"},mj={scheduled:"Planifié",confirmed:"Confirmé",completed:"Terminé",cancelled:"Annulé","no-show":"Absent"},HE={consultation:"Consultation générale",vaccination:"Vaccination",chirurgie:"Chirurgie",urgence:"Urgence",controle:"Contrôle post-opératoire",sterilisation:"Stérilisation",dentaire:"Soins dentaires"};function GPe(){const{data:e=[],isLoading:t,error:n}=NZ(),r=CZ(),a=_Z(),{toast:i}=at(),{currentView:o}=uc("appointments"),[l,c]=b.useState(!1),[u,d]=b.useState(""),[h,f]=b.useState("all"),[m,g]=b.useState("all"),[p,v]=b.useState("all"),[x,y]=b.useState(new Date().toISOString().split("T")[0]),[j,N]=b.useState("list"),[w,C]=b.useState(o),[S,_]=b.useState(!1),[k,E]=b.useState(null),[P,A]=b.useState(null),[R,M]=b.useState(""),K=ie=>new Date(ie).toLocaleDateString("fr-FR"),z=ie=>new Date(ie).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),W=ie=>new Date(ie.appointment_date).toISOString().split("T")[0],T=ie=>new Date(ie.appointment_date).toTimeString().slice(0,5),[I,U]=b.useState(()=>{const ie=new Date;return new Date(ie.getFullYear(),ie.getMonth(),1)}),H=ie=>ie.client?`${ie.client.first_name} ${ie.client.last_name}`:"Unknown Client",Z=ie=>{var Me;return((Me=ie.animal)==null?void 0:Me.name)||"Unknown Animal"},ae=()=>{const ie=new Date;return e.filter(Me=>new Date(Me.appointment_date)>ie)},se=()=>{const ie=new Date;return e.filter(Me=>new Date(Me.appointment_date)<ie&&Me.status==="scheduled")},me=ae(),xe=se(),le=e.filter(ie=>{const Me=H(ie),jt=Z(ie),Ft=Me.toLowerCase().includes(u.toLowerCase())||jt.toLowerCase().includes(u.toLowerCase())||ie.notes&&ie.notes.toLowerCase().includes(u.toLowerCase()),Kn=h==="all"||ie.status===h,gt=m==="all"||ie.appointment_type===m;let Ot=!0;const Sn=new Date(ie.appointment_date),er=Sn.toISOString().split("T")[0];if(p==="today")Ot=er===new Date().toISOString().split("T")[0];else if(p==="week"){const Wr=new Date,vn=new Date(Wr.getTime()+7*24*60*60*1e3);Ot=Sn>=Wr&&Sn<=vn}else if(p==="month"){const Wr=new Date,vn=Wr.getMonth(),Di=Wr.getFullYear();Ot=Sn.getMonth()===vn&&Sn.getFullYear()===Di}else p==="specific"&&(Ot=er===x);return Ft&&Kn&&gt&&Ot}),Y=async(ie,Me)=>{try{await r.mutateAsync({id:ie,data:{status:Me}}),i({title:"Statut mis à jour",description:`Le rendez-vous est maintenant ${mj[Me].toLowerCase()}.`})}catch{i({title:"Erreur",description:"Impossible de mettre à jour le statut",variant:"destructive"})}},ee=async()=>{if(!P)return;const{id:ie,field:Me}=P;if(e.find(Ft=>Ft.id===ie))try{await r.mutateAsync({id:ie,data:{[Me]:R}}),i({title:"Modifié",description:`${Me} mis à jour`})}catch{i({title:"Erreur",description:"Impossible de mettre à jour",variant:"destructive"})}A(null)},oe=async ie=>{E(ie),_(!0)},O=async()=>{if(!k)return;const ie=Z(k);try{await a.mutateAsync(k.id),i({title:"Rendez-vous supprimé",description:`Le rendez-vous pour ${ie} a été supprimé.`}),_(!1),E(null)}catch{i({title:"Erreur",description:"Impossible de supprimer le rendez-vous",variant:"destructive"})}},q=ie=>e.filter(Me=>new Date(Me.appointment_date).toISOString().split("T")[0]===ie),he=(()=>{const ie=new Date().toISOString().split("T")[0];return q(ie)})(),Ye=I.getFullYear(),We=I.getMonth(),ut=new Date(Ye,We,1).getDay(),$e=new Date(Ye,We+1,0).getDate();let it=1-ut;for(;it<=$e;){const ie=[];for(let Me=0;Me<7;Me++)it>0&&it<=$e?ie.push(it):ie.push(0),it++}return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des rendez-vous..."})]})}):n?s.jsx("div",{className:"p-6",children:s.jsx(te,{className:"border-red-200 bg-red-50",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-center text-red-800",children:[s.jsx(zn,{className:"w-5 h-5 mr-2"}),s.jsxs("span",{children:["Erreur lors du chargement des rendez-vous: ",n.message]})]})})})}):s.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Gestion des Rendez-vous"}),s.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Planifiez et gérez tous vos rendez-vous vétérinaires"})]}),s.jsxs(F,{onClick:()=>c(!0),className:"gap-2 w-full sm:w-auto",children:[s.jsx(nt,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Nouveau Rendez-vous"}),s.jsx("span",{className:"sm:hidden",children:"Nouveau RDV"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{variant:j==="list"?"default":"outline",onClick:()=>N("list"),size:"sm",className:"flex-1 sm:flex-none",children:"Liste"}),s.jsx(F,{variant:j==="calendar"?"default":"outline",onClick:()=>N("calendar"),size:"sm",className:"flex-1 sm:flex-none",children:"Calendrier"})]}),j==="list"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{size:"sm",variant:w==="cards"?"default":"outline",onClick:()=>C("cards"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[s.jsx(Ao,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Cartes"})]}),s.jsxs(F,{size:"sm",variant:w==="table"?"default":"outline",onClick:()=>C("table"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[s.jsx(bi,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Tableau"})]})]})]}),j==="calendar"?s.jsx(KPe,{events:e.map(ie=>({id:parseInt(ie.id),type:"appointment",title:`${H(ie)} - ${Z(ie)}`,time:T(ie),date:W(ie),status:ie.status,clientName:H(ie),petName:Z(ie)})),onEventClick:ie=>{},onDateClick:ie=>{y(ie)},onTimeSlotClick:(ie,Me)=>{c(!0)},showTimeSlots:!0,title:"Calendrier des Rendez-vous",icon:s.jsx(He,{className:"h-5 w-5"})}):s.jsxs("div",{className:"grid gap-2 sm:gap-4 grid-cols-2 lg:grid-cols-4",children:[s.jsx(te,{children:s.jsx(re,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Aujourd'hui"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:he.length})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"À venir"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:me.length})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"En retard"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:xe.length})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:e.length})]})]})})})]}),s.jsxs(te,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs(de,{className:"flex items-center gap-2 text-base sm:text-lg",children:[s.jsx(tI,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Filtres et Recherche"]})}),s.jsx(re,{className:"space-y-3 sm:space-y-4",children:s.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(hh,{children:"Recherche"}),s.jsxs("div",{className:"relative",children:[s.jsx(Io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Q,{placeholder:"Client, animal, motif...",value:u,onChange:ie=>d(ie.target.value),className:"pl-10"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(hh,{children:"Statut"}),s.jsxs(we,{value:h,onValueChange:f,children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"all",children:"Tous les statuts"}),s.jsx(L,{value:"scheduled",children:"Planifié"}),s.jsx(L,{value:"confirmed",children:"Confirmé"}),s.jsx(L,{value:"completed",children:"Terminé"}),s.jsx(L,{value:"cancelled",children:"Annulé"}),s.jsx(L,{value:"no-show",children:"Absent"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(hh,{children:"Type"}),s.jsxs(we,{value:m,onValueChange:g,children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"all",children:"Tous les types"}),s.jsx(L,{value:"consultation",children:"Consultation"}),s.jsx(L,{value:"vaccination",children:"Vaccination"}),s.jsx(L,{value:"chirurgie",children:"Chirurgie"}),s.jsx(L,{value:"urgence",children:"Urgence"}),s.jsx(L,{value:"controle",children:"Contrôle"}),s.jsx(L,{value:"sterilisation",children:"Stérilisation"}),s.jsx(L,{value:"dentaire",children:"Dentaire"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(hh,{children:"Période"}),s.jsxs(we,{value:p,onValueChange:v,children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"all",children:"Toutes les dates"}),s.jsx(L,{value:"today",children:"Ce jour"}),s.jsx(L,{value:"week",children:"Cette semaine"}),s.jsx(L,{value:"month",children:"Ce mois"}),s.jsx(L,{value:"specific",children:"Date spécifique"})]})]})]}),p==="specific"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(hh,{children:"Date"}),s.jsx(Q,{type:"date",value:x,onChange:ie=>y(ie.target.value)})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h2",{className:"text-xl font-semibold",children:["Rendez-vous (",le.length,")"]})}),le.length===0?s.jsx(te,{children:s.jsxs(re,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(He,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucun rendez-vous trouvé"}),s.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier rendez-vous"})]})}):w==="cards"?s.jsx("div",{className:"space-y-4",children:le.sort((ie,Me)=>new Date(ie.appointment_date).getTime()-new Date(Me.appointment_date).getTime()).map(ie=>s.jsx(te,{className:"card-hover",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-4 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:H(ie)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:Z(ie)})]}),s.jsx(Pe,{className:WE[ie.status],children:mj[ie.status]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:K(ie.appointment_date)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:z(ie.appointment_date)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"ml-1",children:HE[ie.appointment_type]||ie.appointment_type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Durée:"}),s.jsxs("span",{className:"ml-1",children:[ie.duration_minutes||30," min"]})]})]}),ie.notes&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Motif:"}),s.jsx("p",{className:"text-sm mt-1",children:ie.notes})]}),ie.notes&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Notes:"}),s.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:ie.notes})]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[ie.status==="scheduled"&&s.jsxs(s.Fragment,{children:[s.jsxs(F,{size:"sm",variant:"outline",onClick:()=>Y(ie.id,"confirmed"),className:"gap-1",children:[s.jsx(On,{className:"h-3 w-3"}),"Confirmer"]}),s.jsxs(F,{size:"sm",variant:"outline",onClick:()=>Y(ie.id,"cancelled"),className:"gap-1 text-red-600",children:[s.jsx(lf,{className:"h-3 w-3"}),"Annuler"]})]}),ie.status==="confirmed"&&s.jsxs(F,{size:"sm",variant:"outline",onClick:()=>Y(ie.id,"completed"),className:"gap-1",children:[s.jsx(On,{className:"h-3 w-3"}),"Terminer"]}),s.jsxs(F,{size:"sm",variant:"outline",onClick:()=>oe(ie),className:"gap-1 text-red-600",children:[s.jsx(qn,{className:"h-3 w-3"}),"Supprimer"]})]})]})})},ie.id))}):s.jsx(te,{children:s.jsx(re,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-4 font-medium",children:"Client / Animal"}),s.jsx("th",{className:"p-4 font-medium",children:"Date & Heure"}),s.jsx("th",{className:"p-4 font-medium",children:"Type"}),s.jsx("th",{className:"p-4 font-medium",children:"Statut"}),s.jsx("th",{className:"p-4 font-medium",children:"Motif"}),s.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:le.sort((ie,Me)=>new Date(ie.appointment_date).getTime()-new Date(Me.appointment_date).getTime()).map(ie=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:H(ie)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:Z(ie)})]})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{A({id:ie.id,field:"date"}),M(W(ie))},children:[s.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),(P==null?void 0:P.id)===ie.id&&P.field==="date"?s.jsx(Q,{type:"date",value:R,onChange:Me=>M(Me.target.value),onBlur:ee,autoFocus:!0,className:"w-32"}):s.jsx("span",{children:K(ie.appointment_date)})]}),s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{A({id:ie.id,field:"time"}),M(T(ie))},children:[s.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"}),(P==null?void 0:P.id)===ie.id&&P.field==="time"?s.jsx(Q,{type:"time",value:R,onChange:Me=>M(Me.target.value),onBlur:ee,autoFocus:!0,className:"w-24"}):s.jsx("span",{className:"text-sm text-muted-foreground",children:z(ie.appointment_date)})]})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:HE[ie.appointment_type]||ie.appointment_type}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[ie.duration_minutes||30," min"]})]})}),s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"cursor-pointer",onClick:()=>{A({id:ie.id,field:"status"}),M(ie.status)},children:(P==null?void 0:P.id)===ie.id&&P.field==="status"?s.jsxs(we,{value:R,onValueChange:Me=>{M(Me),Y(ie.id,Me),A(null)},children:[s.jsx(ye,{className:"w-32",children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"scheduled",children:"Planifié"}),s.jsx(L,{value:"confirmed",children:"Confirmé"}),s.jsx(L,{value:"completed",children:"Terminé"}),s.jsx(L,{value:"cancelled",children:"Annulé"}),s.jsx(L,{value:"no-show",children:"Absent"})]})]}):s.jsx(Pe,{className:WE[ie.status],children:mj[ie.status]})})}),s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"max-w-xs cursor-pointer",onClick:()=>{A({id:ie.id,field:"reason"}),M(ie.notes||"")},children:(P==null?void 0:P.id)===ie.id&&P.field==="reason"?s.jsx(Q,{value:R,onChange:Me=>M(Me.target.value),onBlur:ee,autoFocus:!0,placeholder:"Motif du rendez-vous"}):s.jsxs(s.Fragment,{children:[ie.notes&&s.jsx("div",{className:"text-sm",children:ie.notes}),ie.notes&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:ie.notes})]})})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-1",children:[ie.status==="scheduled"&&s.jsxs(s.Fragment,{children:[s.jsx(F,{size:"sm",variant:"outline",onClick:()=>Y(ie.id,"confirmed"),children:s.jsx(On,{className:"h-3 w-3"})}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>Y(ie.id,"cancelled"),className:"text-red-600",children:s.jsx(lf,{className:"h-3 w-3"})})]}),ie.status==="confirmed"&&s.jsx(F,{size:"sm",variant:"outline",onClick:()=>Y(ie.id,"completed"),children:s.jsx(On,{className:"h-3 w-3"})}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>oe(ie),className:"text-red-600",children:s.jsx(qn,{className:"h-3 w-3"})})]})})]},ie.id))})]})})})})]}),s.jsx(VPe,{open:l,onOpenChange:c}),s.jsx(Ze,{open:S,onOpenChange:_,children:s.jsxs(Ge,{className:"max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Confirmer la suppression"})}),k&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-600",children:["Êtes-vous sûr de vouloir supprimer le rendez-vous pour ",s.jsx("strong",{children:Z(k)})," ?"]}),s.jsx("p",{className:"text-sm text-red-600",children:"Cette action est irréversible."}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(F,{variant:"outline",onClick:()=>_(!1),children:"Annuler"}),s.jsx(F,{variant:"destructive",onClick:O,children:"Supprimer"})]})]})]})})]})}const hh=({children:e,...t})=>s.jsx("label",{className:"text-sm font-medium",...t,children:e});function YPe({open:e,onOpenChange:t,consultation:n}){const{data:r=[]}=ds(),{data:a=[]}=hs(),i=v3(),{toast:o}=at(),{settings:l}=_t(),[c,u]=b.useState({client_id:"",animal_id:"",consultation_date:"",consultation_type:"routine",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",notes:"",cost:"",follow_up_date:"",follow_up_notes:"",status:"completed"}),d=a.filter(g=>g.client_id===c.client_id);b.useEffect(()=>{var g,p,v;n&&e&&u({client_id:n.client_id||"",animal_id:n.animal_id||"",consultation_date:n.consultation_date?n.consultation_date.split("T")[0]:"",consultation_type:n.consultation_type||"routine",weight:((g=n.weight)==null?void 0:g.toString())||"",temperature:((p=n.temperature)==null?void 0:p.toString())||"",symptoms:n.symptoms||"",diagnosis:n.diagnosis||"",treatment:n.treatment||"",notes:n.notes||"",cost:((v=n.cost)==null?void 0:v.toString())||"",follow_up_date:n.follow_up_date||"",follow_up_notes:n.follow_up_notes||"",status:n.status||"completed"})},[n,e]);const h=g=>{u(p=>({...p,[g.target.id]:g.target.value}))},f=(g,p)=>{u(v=>({...v,[g]:p})),g==="client_id"&&u(v=>({...v,animal_id:""}))},m=async g=>{if(g.preventDefault(),!!n){if(!c.client_id||!c.animal_id){o({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}try{const p={client_id:c.client_id,animal_id:c.animal_id,consultation_date:c.consultation_date+"T00:00:00.000Z",consultation_type:c.consultation_type,symptoms:c.symptoms||void 0,diagnosis:c.diagnosis||void 0,treatment:c.treatment||void 0,notes:c.notes||void 0,weight:c.weight?parseFloat(c.weight):void 0,temperature:c.temperature?parseFloat(c.temperature):void 0,cost:c.cost?parseFloat(c.cost):void 0,follow_up_date:c.follow_up_date||null,follow_up_notes:c.follow_up_notes||void 0,status:c.status};await i.mutateAsync({id:n.id,data:p}),o({title:"Consultation modifiée",description:"La consultation a été modifiée avec succès."}),t(!1)}catch(p){console.error("Error updating consultation:",p),o({title:"Erreur",description:"Une erreur est survenue lors de la modification de la consultation.",variant:"destructive"})}}};return r.find(g=>g.id===c.client_id),a.find(g=>g.id===c.animal_id),s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Modifier la consultation"}),s.jsx(Rt,{children:"Modifiez les informations de la consultation"})]}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"client_id",children:"Client *"}),s.jsxs(we,{value:c.client_id,onValueChange:g=>f("client_id",g),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner un client"})}),s.jsx(je,{children:r.map(g=>s.jsxs(L,{value:g.id,children:[g.first_name," ",g.last_name]},g.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"animal_id",children:"Animal *"}),s.jsxs(we,{value:c.animal_id,onValueChange:g=>f("animal_id",g),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner un animal"})}),s.jsx(je,{children:d.map(g=>s.jsxs(L,{value:g.id,children:[g.name," (",g.species,")"]},g.id))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"consultation_date",children:"Date de consultation *"}),s.jsx(Q,{id:"consultation_date",type:"date",value:c.consultation_date,onChange:h,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"consultation_type",children:"Type de consultation"}),s.jsxs(we,{value:c.consultation_type,onValueChange:g=>f("consultation_type",g),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"routine",children:"Routine"}),s.jsx(L,{value:"emergency",children:"Urgence"}),s.jsx(L,{value:"follow-up",children:"Suivi"}),s.jsx(L,{value:"vaccination",children:"Vaccination"}),s.jsx(L,{value:"surgery",children:"Chirurgie"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"weight",children:"Poids (kg)"}),s.jsx(Q,{id:"weight",type:"number",step:"0.1",placeholder:"Ex: 5.2",value:c.weight,onChange:h})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"temperature",children:"Température (°C)"}),s.jsx(Q,{id:"temperature",type:"number",step:"0.1",placeholder:"Ex: 38.5",value:c.temperature,onChange:h})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"symptoms",children:"Symptômes"}),s.jsx(qe,{id:"symptoms",placeholder:"Décrivez les symptômes observés...",value:c.symptoms,onChange:h,rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"diagnosis",children:"Diagnostic"}),s.jsx(qe,{id:"diagnosis",placeholder:"Diagnostic posé...",value:c.diagnosis,onChange:h,rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"treatment",children:"Traitement"}),s.jsx(qe,{id:"treatment",placeholder:"Traitement prescrit...",value:c.treatment,onChange:h,rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(D,{htmlFor:"cost",children:["Coût (",l.currency,")"]}),s.jsx(Q,{id:"cost",type:"number",step:"0.01",placeholder:"0.00",value:c.cost,onChange:h})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"follow_up_date",children:"Date de suivi"}),s.jsx(Q,{id:"follow_up_date",type:"date",value:c.follow_up_date,onChange:h})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"follow_up_notes",children:"Notes de suivi"}),s.jsx(qe,{id:"follow_up_notes",placeholder:"Notes pour le suivi...",value:c.follow_up_notes,onChange:h,rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes supplémentaires"}),s.jsx(qe,{id:"notes",placeholder:"Notes supplémentaires...",value:c.notes,onChange:h,rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"status",children:"Statut"}),s.jsxs(we,{value:c.status,onValueChange:g=>f("status",g),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"scheduled",children:"Programmé"}),s.jsx(L,{value:"in-progress",children:"En cours"}),s.jsx(L,{value:"completed",children:"Terminé"}),s.jsx(L,{value:"cancelled",children:"Annulé"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(F,{type:"submit",disabled:i.isPending,children:i.isPending?"Modification...":"Modifier"})]})]})]})})}function KE({consultation:e}){const{settings:t}=_t(),n=()=>{var r,a,i,o,l,c,u,d,h;try{const f=window.open("",`print_consultation_${e.id}`,"height=800,width=800");if(!f){alert("L'impression a été bloquée par le navigateur. Veuillez autoriser les popups pour ce site.");return}const m=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Consultation - ${((r=e.animal)==null?void 0:r.name)||"Animal"}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 10px;
              margin-bottom: 20px;
            }
            .clinic-info {
              text-align: center;
              color: #666;
              margin-bottom: 30px;
            }
            .consultation-info {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
              margin-bottom: 30px;
            }
            .info-section {
              border: 1px solid #ddd;
              padding: 15px;
              border-radius: 5px;
            }
            .info-title {
              font-weight: bold;
              color: #333;
              margin-bottom: 10px;
              font-size: 14px;
              text-transform: uppercase;
            }
            .info-content {
              color: #666;
            }
            .medical-section {
              margin-bottom: 20px;
            }
            .medical-title {
              font-weight: bold;
              color: #333;
              margin-bottom: 8px;
              border-bottom: 1px solid #eee;
              padding-bottom: 4px;
            }
            .medical-content {
              color: #666;
              margin-bottom: 15px;
            }
            .vitals {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 15px;
              margin-bottom: 20px;
            }
            .vital-item {
              text-align: center;
              padding: 10px;
              border: 1px solid #ddd;
              border-radius: 5px;
            }
            .vital-label {
              font-size: 12px;
              color: #666;
              margin-bottom: 5px;
            }
            .vital-value {
              font-size: 18px;
              font-weight: bold;
              color: #333;
            }
            .footer {
              margin-top: 40px;
              text-align: center;
              color: #666;
              font-size: 12px;
              border-top: 1px solid #ddd;
              padding-top: 20px;
            }
            @media print {
              body { 
                margin: 0; 
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
              }
              .header { page-break-after: avoid; }
              @page { size: auto; margin: 10mm; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>${t.clinicName||"Clinique Vétérinaire"}</h1>
            <div class="clinic-info">
              <p>${t.address||""}</p>
              <p>Tél: ${t.phone||""} | Email: ${t.email||""}</p>
            </div>
            <h2>Rapport de Consultation</h2>
          </div>

          <div class="consultation-info">
            <div class="info-section">
              <div class="info-title">Informations Client</div>
              <div class="info-content">
                <strong>Nom:</strong> ${((a=e.client)==null?void 0:a.first_name)||""} ${((i=e.client)==null?void 0:i.last_name)||""}<br>
                <strong>Téléphone:</strong> ${((o=e.client)==null?void 0:o.phone)||"N/A"}<br>
                <strong>Email:</strong> ${((l=e.client)==null?void 0:l.email)||"N/A"}
              </div>
            </div>
            
            <div class="info-section">
              <div class="info-title">Informations Animal</div>
              <div class="info-content">
                <strong>Nom:</strong> ${((c=e.animal)==null?void 0:c.name)||"N/A"}<br>
                <strong>Espèce:</strong> ${((u=e.animal)==null?void 0:u.species)||"N/A"}<br>
                <strong>Race:</strong> ${((d=e.animal)==null?void 0:d.breed)||"N/A"}<br>
                <strong>Âge:</strong> ${(h=e.animal)!=null&&h.birth_date?Math.floor((new Date().getTime()-new Date(e.animal.birth_date).getTime())/(365.25*24*60*60*1e3))+" ans":"N/A"}
              </div>
            </div>
          </div>

          <div class="info-section" style="margin-bottom: 20px;">
            <div class="info-title">Détails de la Consultation</div>
            <div class="info-content">
              <strong>Date:</strong> ${new Date(e.consultation_date).toLocaleDateString("fr-FR")}<br>
              <strong>Type:</strong> ${e.consultation_type||"Routine"}<br>
              <strong>Statut:</strong> ${e.status||"Terminé"}
            </div>
          </div>

          ${e.weight||e.temperature||e.heart_rate||e.respiratory_rate?`
          <div class="vitals">
            ${e.weight?`
            <div class="vital-item">
              <div class="vital-label">Poids</div>
              <div class="vital-value">${e.weight} kg</div>
            </div>
            `:""}
            ${e.temperature?`
            <div class="vital-item">
              <div class="vital-label">Température</div>
              <div class="vital-value">${e.temperature}°C</div>
            </div>
            `:""}
            ${e.heart_rate?`
            <div class="vital-item">
              <div class="vital-label">Fréquence Cardiaque</div>
              <div class="vital-value">${e.heart_rate} bpm</div>
            </div>
            `:""}
            ${e.respiratory_rate?`
            <div class="vital-item">
              <div class="vital-label">Fréquence Respiratoire</div>
              <div class="vital-value">${e.respiratory_rate}/min</div>
            </div>
            `:""}
          </div>
          `:""}

          ${e.symptoms?`
          <div class="medical-section">
            <div class="medical-title">Symptômes</div>
            <div class="medical-content">${e.symptoms}</div>
          </div>
          `:""}

          ${e.diagnosis?`
          <div class="medical-section">
            <div class="medical-title">Diagnostic</div>
            <div class="medical-content">${e.diagnosis}</div>
          </div>
          `:""}

          ${e.treatment?`
          <div class="medical-section">
            <div class="medical-title">Traitement</div>
            <div class="medical-content">${e.treatment}</div>
          </div>
          `:""}

          ${e.notes?`
          <div class="medical-section">
            <div class="medical-title">Notes</div>
            <div class="medical-content">${e.notes}</div>
          </div>
          `:""}

          ${e.follow_up_date?`
          <div class="medical-section">
            <div class="medical-title">Suivi Programmé</div>
            <div class="medical-content">
              <strong>Date:</strong> ${new Date(e.follow_up_date).toLocaleDateString("fr-FR")}<br>
              ${e.follow_up_notes?`<strong>Notes:</strong> ${e.follow_up_notes}`:""}
            </div>
          </div>
          `:""}

          ${e.cost?`
          <div class="medical-section">
            <div class="medical-title">Coût de la Consultation</div>
            <div class="medical-content">
              <strong>${e.cost} ${t.currency||"EUR"}</strong>
            </div>
          </div>
          `:""}

          <div class="footer">
            <p>Rapport généré le ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
            <p>Vétérinaire: ${e.veterinarian_id||"N/A"}</p>
          </div>
        </body>
      </html>
    `;f.document.open(),f.document.write(m),f.document.close(),f.onload=function(){try{setTimeout(()=>{f.focus(),f.print(),typeof f.onafterprint=="function"?f.onafterprint=function(){try{f.close()}catch(g){console.error("Error closing print window:",g)}}:setTimeout(()=>{try{f.close()}catch(g){console.error("Error closing print window after timeout:",g)}},2e3)},500)}catch(g){console.error("Error during print process:",g),alert("Une erreur s'est produite lors de l'impression. Veuillez réessayer.")}}}catch(f){console.error("Error in print function:",f),alert("Une erreur s'est produite lors de la préparation de l'impression. Veuillez réessayer.")}};return s.jsxs(F,{size:"sm",variant:"outline",onClick:n,className:"gap-1",children:[s.jsx(Au,{className:"h-3 w-3"}),"Imprimer"]})}const Bd=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:Ie("w-full caption-bottom text-sm",e),...t})}));Bd.displayName="Table";const zd=b.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:Ie("[&_tr]:border-b",e),...t}));zd.displayName="TableHeader";const Vd=b.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:Ie("[&_tr:last-child]:border-0",e),...t}));Vd.displayName="TableBody";const QPe=b.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:Ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));QPe.displayName="TableFooter";const ca=b.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:Ie("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ca.displayName="TableRow";const lt=b.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:Ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));lt.displayName="TableHead";const ct=b.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:Ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ct.displayName="TableCell";const XPe=b.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:Ie("mt-4 text-sm text-muted-foreground",e),...t}));XPe.displayName="TableCaption";const JPe=()=>{const{data:e=[],isLoading:t}=MS(),{data:n=[]}=$S();g3(),v3(),rZ();const{settings:r}=_t();at();const{currentView:a}=uc("consultations"),[i,o]=b.useState(""),[l,c]=b.useState("all"),[u,d]=b.useState(a),[h,f]=b.useState(!1),[m,g]=b.useState(!1),[p,v]=b.useState(null),[x,y]=b.useState(null),[j,N]=b.useState(!1),[w,C]=b.useState(null),[S,_]=b.useState(null),[k,E]=b.useState(!1),[P,A]=b.useState([]),[R,M]=b.useState(""),K=H=>n.filter(Z=>Z.consultation_id===H),z=e.filter(H=>{var Y,ee,oe;const Z=`${((Y=H.client)==null?void 0:Y.first_name)||""} ${((ee=H.client)==null?void 0:ee.last_name)||""}`.trim(),ae=((oe=H.animal)==null?void 0:oe.name)||"",se=Z.toLowerCase().includes(i.toLowerCase())||ae.toLowerCase().includes(i.toLowerCase())||H.symptoms&&H.symptoms.toLowerCase().includes(i.toLowerCase())||H.diagnosis&&H.diagnosis.toLowerCase().includes(i.toLowerCase());if(l==="all")return se;const me=new Date(H.consultation_date),le=(new Date().getTime()-me.getTime())/(1e3*3600*24);switch(l){case"week":return se&&le<=7;case"month":return se&&le<=30;case"quarter":return se&&le<=90;default:return se}}),W=H=>{v(H),g(!0)},T=H=>{C(H.animal_id),_(H.id),N(!0)},I=H=>{y({clientId:H.client_id,animalId:H.animal_id,consultation_date:new Date().toISOString(),consultation_type:"follow-up",symptoms:"",diagnosis:"",treatment:"",notes:`Suivi de la consultation du ${new Date(H.consultation_date).toLocaleDateString("fr-FR")}`,status:"scheduled"}),f(!0)},U=H=>{var ae;const Z=K(H.id);A(Z),M(((ae=H.animal)==null?void 0:ae.name)||"Animal inconnu"),E(!0)};return s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Consultations"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez et consultez tous les dossiers médicaux"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex border rounded-lg p-1",children:[s.jsx(F,{variant:u==="cards"?"default":"ghost",size:"sm",onClick:()=>d("cards"),className:"px-3",children:s.jsx(Ao,{className:"h-4 w-4"})}),s.jsx(F,{variant:u==="table"?"default":"ghost",size:"sm",onClick:()=>d("table"),className:"px-3",children:s.jsx(bi,{className:"h-4 w-4"})})]}),s.jsxs(F,{className:"gap-2 medical-glow",onClick:()=>f(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Io,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),s.jsx(re,{className:"space-y-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Q,{placeholder:"Rechercher par client, animal, symptômes ou diagnostic...",value:i,onChange:H=>o(H.target.value),className:"max-w-md"}),s.jsxs(we,{value:l,onValueChange:c,children:[s.jsx(ye,{className:"w-48",children:s.jsx(Ne,{placeholder:"Période"})}),s.jsxs(je,{children:[s.jsx(L,{value:"all",children:"Toutes les périodes"}),s.jsx(L,{value:"week",children:"Cette semaine"}),s.jsx(L,{value:"month",children:"Ce mois"}),s.jsx(L,{value:"quarter",children:"Ce trimestre"})]})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Consultations récentes (",z.length,")"]}),z.length===0?s.jsx(te,{children:s.jsxs(re,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(vr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune consultation trouvée"}),s.jsx("p",{className:"text-sm",children:"Commencez par créer votre première consultation"})]})}):u==="cards"?z.map(H=>{var Z,ae,se;return s.jsx(te,{className:"card-hover",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h4",{className:"text-lg font-semibold",children:((Z=H.animal)==null?void 0:Z.name)||"Animal inconnu"}),s.jsx(Pe,{variant:"secondary",children:"Consultation"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(H.consultation_date).toLocaleDateString("fr-FR")})]}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Nr,{className:"h-4 w-4"}),(ae=H.client)==null?void 0:ae.first_name," ",(se=H.client)==null?void 0:se.last_name]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(vr,{className:"h-3 w-3"}),"Consultation #",H.id]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[H.temperature&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(cf,{className:"h-4 w-4 text-primary"}),H.temperature,"°C"]}),H.weight&&s.jsxs("span",{children:[H.weight," kg"]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[H.symptoms&&s.jsxs(s.Fragment,{children:[s.jsx("h5",{className:"font-medium",children:"Symptômes:"}),s.jsx("p",{className:"text-sm",children:H.symptoms})]}),H.diagnosis&&s.jsxs(s.Fragment,{children:[s.jsx("h5",{className:"font-medium",children:"Diagnostic:"}),s.jsx("p",{className:"text-sm",children:H.diagnosis})]})]}),s.jsxs("div",{className:"space-y-2",children:[H.treatment&&s.jsxs(s.Fragment,{children:[s.jsx("h5",{className:"font-medium",children:"Traitement:"}),s.jsx("p",{className:"text-sm",children:H.treatment})]}),(()=>{const me=K(H.id);return me.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("h5",{className:"font-medium flex items-center gap-1",children:[s.jsx(Qi,{className:"h-4 w-4"}),"Prescriptions (",me.length,"):"]}),s.jsx("div",{className:"space-y-1",children:me.map(xe=>s.jsxs("div",{className:"text-sm bg-blue-50 p-2 rounded border-l-2 border-blue-200",children:[s.jsxs("div",{className:"font-medium text-blue-800",children:["Prescription #",xe.id.slice(-8)]}),s.jsxs("div",{className:"text-blue-600 text-xs",children:[new Date(xe.prescription_date).toLocaleDateString("fr-FR")," - Status: ",xe.status]}),xe.medications&&xe.medications.length>0&&s.jsxs("div",{className:"mt-1",children:[s.jsx("div",{className:"text-xs font-medium text-blue-700",children:"Médicaments:"}),xe.medications.map((le,Y)=>s.jsxs("div",{className:"text-xs text-blue-600 ml-2",children:["• ",le.medication_name," ",le.dosage&&`- ${le.dosage}`," ",le.quantity&&`(${le.quantity})`]},Y))]})]},xe.id))})]})})()]})]}),H.notes&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h5",{className:"font-medium",children:"Notes:"}),s.jsx("p",{className:"text-sm bg-muted p-3 rounded",children:H.notes})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.jsx(He,{className:"h-3 w-3 inline mr-1"}),H.followUp?`Suivi: ${H.followUp}`:"Aucun suivi prévu"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(KE,{consultation:H}),s.jsxs(F,{size:"sm",variant:"outline",onClick:()=>W(H),className:"gap-1",children:[s.jsx(Mt,{className:"h-3 w-3"}),"Modifier"]}),s.jsxs(F,{size:"sm",variant:"default",onClick:()=>T(H),className:"gap-1",children:[s.jsx(Qi,{className:"h-3 w-3"}),"Prescription"]}),s.jsx(F,{size:"sm",onClick:()=>I(H),children:"Nouveau suivi"})]})]})]})})},H.id)}):s.jsx(te,{children:s.jsx(re,{className:"p-0",children:s.jsxs(Bd,{children:[s.jsx(zd,{children:s.jsxs(ca,{children:[s.jsx(lt,{children:"Animal / Client"}),s.jsx(lt,{children:"Date"}),s.jsx(lt,{children:"Symptômes"}),s.jsx(lt,{children:"Diagnostic"}),s.jsx(lt,{children:"Température"}),s.jsx(lt,{children:"Prescriptions"}),s.jsx(lt,{children:"Coût"}),s.jsx(lt,{children:"Actions"})]})}),s.jsx(Vd,{children:z.map(H=>{var Z,ae,se;return s.jsxs(ca,{children:[s.jsx(ct,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:(Z=H.animal)==null?void 0:Z.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[(ae=H.client)==null?void 0:ae.first_name," ",(se=H.client)==null?void 0:se.last_name]})]})}),s.jsx(ct,{children:new Date(H.consultation_date).toLocaleDateString("fr-FR")}),s.jsx(ct,{children:s.jsx("div",{className:"max-w-xs truncate",children:H.symptoms||"-"})}),s.jsx(ct,{children:s.jsx("div",{className:"max-w-xs truncate",children:H.diagnosis||"-"})}),s.jsx(ct,{children:H.temperature?`${H.temperature}°C`:"-"}),s.jsx(ct,{children:(()=>{const me=K(H.id);return me.length>0?s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer p-1 rounded transition-colors w-fit",onClick:()=>U(H),title:"Cliquer pour voir les détails des prescriptions",children:[s.jsxs(Pe,{variant:"outline",className:"text-xs",children:[me.length," prescription",me.length>1?"s":""]}),s.jsx(bn,{className:"h-3 w-3 text-blue-600 hover:text-blue-800"})]})}):s.jsx("span",{className:"text-muted-foreground text-xs",children:"Aucune"})})()}),s.jsx(ct,{children:H.cost?`${H.cost} ${r.currency}`:"-"}),s.jsx(ct,{children:s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx(KE,{consultation:H}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>W(H),title:"Modifier",children:s.jsx(Mt,{className:"h-3 w-3"})}),s.jsx(F,{size:"sm",variant:"default",onClick:()=>T(H),title:"Nouvelle Prescription",children:s.jsx(Qi,{className:"h-3 w-3"})})]})})]},H.id)})})]})})})]}),s.jsx(Cd,{open:h,onOpenChange:H=>{f(H),H||y(null)},prefillData:x||void 0}),s.jsx(YPe,{open:m,onOpenChange:g,consultation:p}),w&&S&&s.jsx(Q2,{open:j,onOpenChange:N,petId:w,consultationId:S}),s.jsx(Ze,{open:k,onOpenChange:E,children:s.jsxs(Ge,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(Qi,{className:"h-5 w-5"}),"Prescriptions pour ",R]}),s.jsxs(Rt,{children:["Détails des ",P.length," prescription",P.length>1?"s":""," associée",P.length>1?"s":""," à cette consultation"]})]}),s.jsxs("div",{className:"space-y-6",children:[P.map((H,Z)=>s.jsxs(te,{className:"border-l-4 border-l-primary",children:[s.jsxs(ue,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(de,{className:"text-lg",children:["Prescription #",H.id.slice(-8)]}),s.jsx(Pe,{variant:H.status==="active"?"default":H.status==="completed"?"secondary":"destructive",className:"text-xs",children:H.status})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Date: ",new Date(H.prescription_date).toLocaleDateString("fr-FR")," à ",new Date(H.prescription_date).toLocaleTimeString("fr-FR"),H.valid_until&&s.jsxs("span",{className:"ml-4",children:["Valide jusqu'au: ",new Date(H.valid_until).toLocaleDateString("fr-FR")]})]})]}),s.jsxs(re,{className:"space-y-4",children:[H.diagnosis&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-1",children:"Diagnostic:"}),s.jsx("p",{className:"text-sm bg-muted p-2 rounded",children:H.diagnosis})]}),H.medications&&H.medications.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-sm mb-2",children:["Médicaments (",H.medications.length,"):"]}),s.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:H.medications.map((ae,se)=>s.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[s.jsx("div",{className:"font-medium",children:ae.medication_name}),s.jsxs("div",{className:"text-xs space-y-1 mt-1",children:[ae.dosage&&s.jsxs("div",{children:["Dosage: ",ae.dosage]}),ae.frequency&&s.jsxs("div",{children:["Fréquence: ",ae.frequency]}),ae.duration&&s.jsxs("div",{children:["Durée: ",ae.duration]}),ae.quantity&&s.jsxs("div",{children:["Quantité: ",ae.quantity]}),ae.route&&s.jsxs("div",{children:["Voie: ",ae.route]})]}),ae.instructions&&s.jsxs("div",{className:"mt-2 text-xs bg-background p-2 rounded border",children:[s.jsx("span",{className:"font-medium",children:"Instructions: "}),ae.instructions]})]},se))})]}),H.notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-1",children:"Notes:"}),s.jsx("p",{className:"text-sm bg-muted p-2 rounded",children:H.notes})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground pt-2 border-t",children:[s.jsxs("span",{children:["Renouvellements: ",H.refill_count||0]}),s.jsxs("span",{children:["Créée le: ",new Date(H.created_at).toLocaleDateString("fr-FR")]}),H.updated_at!==H.created_at&&s.jsxs("span",{children:["Modifiée le: ",new Date(H.updated_at).toLocaleDateString("fr-FR")]})]})]})]},H.id)),P.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Qi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("p",{children:"Aucune prescription trouvée pour cette consultation"})]})]})]})})]})},ZPe=({consultation:e,open:t,onOpenChange:n,onEdit:r})=>{if(!e)return null;const{getClientById:a,getPetById:i}=pt(),o=a(e.clientId),l=i(e.petId);return s.jsx(Ze,{open:t,onOpenChange:n,children:s.jsxs(Ge,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsxs(tt,{children:["Consultation #",e.id," - ",Da(e.date)]}),s.jsx(Rt,{children:"Détails de la consultation générale"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(He,{className:"h-5 w-5"}),s.jsx("h3",{className:"text-lg font-semibold",children:e.purpose||"Consultation générale"})]}),s.jsxs("div",{className:"flex gap-8 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(dt,{className:"h-4 w-4"}),l==null?void 0:l.name," (",l==null?void 0:l.type,")"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Nr,{className:"h-4 w-4"}),o==null?void 0:o.name]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jn,{className:"h-4 w-4"}),e.veterinarian]})]}),e.symptoms&&s.jsx(te,{children:s.jsx(re,{children:s.jsxs("p",{children:[s.jsx("strong",{children:"Symptômes:"})," ",e.symptoms]})})}),s.jsxs(ki,{defaultValue:"overview",className:"space-y-4",children:[s.jsxs(Ua,{className:"grid grid-cols-2",children:[s.jsx(At,{value:"overview",children:"Détails"}),s.jsx(At,{value:"prescriptions",children:"Prescriptions"})]}),s.jsx(kt,{value:"overview",children:s.jsx(te,{children:s.jsxs(re,{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Motif:"})," ",e.purpose||"Non spécifié"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Notes:"})," ",e.notes||"Aucune"]}),e.photos&&e.photos.length>0&&s.jsxs("div",{className:"pt-4",children:[s.jsx("h5",{className:"font-medium mb-2",children:"Photos de la consultation"}),s.jsx("div",{className:"flex gap-2 overflow-x-auto",children:e.photos.map((c,u)=>s.jsx("div",{className:"relative",children:s.jsx("img",{src:c,alt:`consult-photo-${u}`,className:"h-32 w-32 object-cover rounded cursor-pointer hover:opacity-80"})},u))})]})]})})}),s.jsx(kt,{value:"prescriptions",children:s.jsx(F6,{petId:e.petId,consultationId:e.id})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[s.jsxs(F,{variant:"outline",onClick:r,children:[s.jsx(Mt,{className:"h-4 w-4"})," Modifier"]}),s.jsx(z6,{consultation:e})]})]})})};function eAe({prescription:e}){const{settings:t}=_t(),{logo:n,clinicName:r,address:a,phone:i,email:o,website:l,currency:c}=t,d=e.medications.map(m=>m.cost*(m.quantity||1)).reduce((m,g)=>m+g,0),h=()=>{if(!e||!e.petName||!e.clientName)return;const m=window.open("","_blank");if(!m)return;const g=f();m.document.write(g),m.document.close(),setTimeout(()=>{m.print(),m.close()},500)},f=()=>`
      <html>
        <head>
          <title>Facture Prescription - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              display: flex;
              align-items: center;
              justify-content: space-between;
              margin-bottom: 30px;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
            }
            .clinic-info {
              text-align: center;
              flex: 1;
            }
            .clinic-info h1 {
              font-size: 24px;
              font-weight: bold;
              margin-bottom: 10px;
            }
            .clinic-info p {
              font-size: 14px;
              margin: 5px 0;
            }
            .invoice-section {
              margin-bottom: 30px;
            }
            .invoice-section h2 {
              font-size: 20px;
              font-weight: 600;
              margin-bottom: 15px;
            }
            .grid {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 30px;
              margin-bottom: 15px;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 20px;
            }
            th, td {
              border: 1px solid #ddd;
              padding: 12px;
              text-align: left;
            }
            th {
              background-color: #f2f2f2;
              font-weight: bold;
            }
            .total-row {
              font-weight: bold;
              background-color: #f8f9fa;
            }
            .print-hidden {
              display: none;
            }
            @media print {
              body { margin: 0; }
              .print-hidden { display: none !important; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${n?`<img src="${n}" alt="Logo clinique" style="height:60px;width:60px;object-fit:contain;"/>`:'<div style="width:60px;"></div>'}
            <div class="clinic-info">
              <h1>${r}</h1>
              <p>${a}</p>
              <p>${i} | ${o}</p>
              ${l?`<p>${l}</p>`:""}
            </div>
            <div style="width:60px;"></div>
          </div>

          <div class="invoice-section">
            <h2>Ordonnance</h2>
            <div class="grid">
              <div>
                <p><strong>Date :</strong> ${e.date}</p>
                <p><strong>Patient :</strong> ${e.petName} (${e.clientName})</p>
              </div>
              <div>
                <p><strong>Prescrit par :</strong> ${e.prescribedBy}</p>
                <p><strong>Diagnostic :</strong> ${e.diagnosis}</p>
              </div>
            </div>
          </div>

          <div class="invoice-section">
            <h2>Détail des médicaments</h2>
            <table>
              <thead>
                <tr>
                  <th>Médicament</th>
                  <th>Quantité</th>
                  <th>Prix unitaire</th>
                  <th>Total</th>
                </tr>
              </thead>
              <tbody>
                ${e.medications.map(m=>{const g=m.cost*(m.quantity||1);return`
                    <tr>
                      <td>
                        <strong>${m.name}</strong><br>
                        <small>${m.dosage} - ${m.frequency}</small>
                      </td>
                      <td>${m.quantity||1}</td>
                      <td>${m.cost.toFixed(2)} ${c}</td>
                      <td>${g.toFixed(2)} ${c}</td>
                    </tr>
                  `}).join("")}
                <tr class="total-row">
                  <td colspan="3"><strong>Total</strong></td>
                  <td><strong>${d.toFixed(2)} ${c}</strong></td>
                </tr>
              </tbody>
            </table>
          </div>

          ${e.instructions?`
            <div class="invoice-section">
              <h2>Instructions</h2>
              <p>${e.instructions}</p>
            </div>
          `:""}

          <div style="margin-top: 50px; text-align: center;">
            <div style="border-top: 1px solid #333; width: 200px; margin: 20px auto;"></div>
            <p>Signature du vétérinaire</p>
          </div>
        </body>
      </html>
    `;return s.jsxs("div",{className:"p-8 max-w-screen-lg mx-auto bg-white text-gray-800",children:[s.jsxs("header",{className:"flex items-center justify-between mb-8",children:[n&&s.jsx("img",{src:n,alt:"Logo clinique",className:"h-16 w-16 object-contain"}),s.jsxs("div",{className:"text-center flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold",children:r}),s.jsx("p",{className:"text-sm",children:a}),s.jsxs("p",{className:"text-sm",children:[i," | ",o]}),l&&s.jsx("p",{className:"text-sm",children:l})]}),s.jsx("div",{children:s.jsx(F,{variant:"outline",onClick:h,className:"uppercase text-sm",children:"Imprimer"})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Ordonnance"}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-4",children:[s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Date :"})," ",e.date]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Patient :"})," ",e.petName," (",e.clientName,")"]})]}),s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Prescrit par :"})," ",e.prescribedBy]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Diagnostic :"})," ",e.diagnosis]})]})]}),s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b py-2 text-left",children:"Médicament"}),s.jsx("th",{className:"border-b py-2 text-left",children:"Dosage"}),s.jsx("th",{className:"border-b py-2 text-left",children:"Fréquence"}),s.jsx("th",{className:"border-b py-2 text-left",children:"Durée"})]})}),s.jsx("tbody",{children:e.medications.map(m=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"py-2",children:m.name}),s.jsx("td",{className:"py-2",children:m.dosage}),s.jsx("td",{className:"py-2",children:m.frequency}),s.jsx("td",{className:"py-2",children:m.duration})]},m.id))})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Facture"}),s.jsxs("table",{className:"w-full border-collapse mb-4",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-b py-2 text-left",children:"Produit / Service"}),s.jsx("th",{className:"border-b py-2 text-right",children:"Quantité"}),s.jsxs("th",{className:"border-b py-2 text-right",children:["Prix Unitaire (",c,")"]}),s.jsxs("th",{className:"border-b py-2 text-right",children:["Total (",c,")"]})]})}),s.jsx("tbody",{children:e.medications.map(m=>{const g=m.quantity||1,p=(m.cost||0)*g;return s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"py-2",children:m.name}),s.jsx("td",{className:"py-2 text-right",children:g}),s.jsx("td",{className:"py-2 text-right",children:m.cost.toFixed(2)}),s.jsx("td",{className:"py-2 text-right",children:p.toFixed(2)})]},m.id)})}),s.jsx("tfoot",{children:s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"py-2 text-right font-semibold",children:"Montant total :"}),s.jsx("td",{className:"py-2 text-right font-semibold",children:d.toFixed(2)})]})})]})]})]})}const tAe=()=>{var z,W;const{data:e=[]}=MS(),{data:t=[]}=$S();ds(),hs();const n=T=>{var I,U,H,Z;return{id:T.id,consultationId:T.consultation_id,clientId:T.client_id,clientName:`${((I=T.client)==null?void 0:I.first_name)||""} ${((U=T.client)==null?void 0:U.last_name)||""}`.trim(),petId:T.animal_id,petName:((H=T.animal)==null?void 0:H.name)||"",date:T.prescription_date,prescribedBy:"Non spécifié",diagnosis:T.diagnosis||"",medications:((Z=T.medications)==null?void 0:Z.map(ae=>({id:ae.id,name:ae.medication_name,dosage:ae.dosage||"",frequency:ae.frequency||"",duration:ae.duration||"",instructions:ae.instructions||"",quantity:ae.quantity||1,unit:"unit",cost:0})))||[],instructions:T.notes||"",duration:T.valid_until||"",followUpDate:void 0,status:T.status||"active",notes:T.notes||"",createdAt:T.created_at}},[r,a]=b.useState(""),[i,o]=b.useState("all"),[l,c]=b.useState("all"),[u,d]=b.useState("all"),[h,f]=b.useState(""),[m,g]=b.useState("cards"),[p,v]=b.useState(!1),[x,y]=b.useState(null),[j,N]=b.useState(!1),[w,C]=b.useState(null),[S,_]=b.useState(!1),[k,E]=b.useState(null),P=[...e.map(T=>{var I,U,H,Z,ae;return{id:T.id,date:((I=T.consultation_date)==null?void 0:I.split("T")[0])||"",petName:((U=T.animal)==null?void 0:U.name)||"",petType:((H=T.animal)==null?void 0:H.species)||"",client:`${((Z=T.client)==null?void 0:Z.first_name)||""} ${((ae=T.client)==null?void 0:ae.last_name)||""}`.trim(),type:"consultation",title:T.diagnosis||"Consultation",veterinarian:T.notes||"Non spécifié",details:T.symptoms||"",prescriptions:[],cost:T.cost||0,status:"completed"}})].sort((T,I)=>new Date(I.date).getTime()-new Date(T.date).getTime()),A=t.map(T=>{var I,U,H,Z,ae,se,me,xe,le,Y,ee;return{id:T.id,date:((I=T.prescription_date)==null?void 0:I.split("T")[0])||"",petName:((U=T.animal)==null?void 0:U.name)||"",client:`${((H=T.client)==null?void 0:H.first_name)||""} ${((Z=T.client)==null?void 0:Z.last_name)||""}`.trim(),medication:((ae=T.medications)==null?void 0:ae.map(oe=>oe.medication_name).join(", "))||"",dosage:((me=(se=T.medications)==null?void 0:se[0])==null?void 0:me.dosage)||"",frequency:((le=(xe=T.medications)==null?void 0:xe[0])==null?void 0:le.frequency)||"",duration:((ee=(Y=T.medications)==null?void 0:Y[0])==null?void 0:ee.duration)||"",veterinarian:"Non spécifié",status:T.status}}),R=P.filter(T=>{const I=T.petName.toLowerCase().includes(r.toLowerCase())||T.client.toLowerCase().includes(r.toLowerCase())||T.title.toLowerCase().includes(r.toLowerCase()),U=i==="all"||T.petName.toLowerCase().includes(i.toLowerCase()),H=l==="all"||T.type===l;let Z=!0;if(u==="today"){const ae=new Date().toISOString().split("T")[0];Z=T.date===ae}else if(u==="week"){const ae=new Date(T.date),se=new Date,me=se.getDay(),xe=se.getDate()-me+(me===0?-6:1),le=new Date(se.setDate(xe)),Y=new Date(le);Y.setDate(le.getDate()+6),Z=ae>=le&&ae<=Y}else u==="specific"&&(Z=h&&T.date===h);return I&&U&&H&&Z}),M=A.filter(T=>{const I=T.petName.toLowerCase().includes(r.toLowerCase())||T.client.toLowerCase().includes(r.toLowerCase())||T.medication.toLowerCase().includes(r.toLowerCase()),U=i==="all"||T.petName.toLowerCase().includes(i.toLowerCase()),H=l==="all"||!0;let Z=!0;if(u==="today"){const ae=new Date().toISOString().split("T")[0];Z=T.date===ae}else if(u==="week"){const ae=new Date(T.date),se=new Date,me=se.getDay(),xe=se.getDate()-me+(me===0?-6:1),le=new Date(se.setDate(xe)),Y=new Date(le);Y.setDate(le.getDate()+6),Z=ae>=le&&ae<=Y}else u==="specific"&&(Z=h&&T.date===h);return I&&U&&H&&Z}),K={active:"bg-blue-100 text-blue-800 hover:bg-blue-200",completed:"bg-green-100 text-green-800 hover:bg-green-200",discontinued:"bg-red-100 text-red-800 hover:bg-red-200"};return s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Historique Médical"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Consultez l'historique complet des soins et traitements"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{size:"sm",variant:m==="cards"?"default":"outline",onClick:()=>g("cards"),className:"gap-2",children:[s.jsx(Ao,{className:"h-4 w-4"}),"Cartes"]}),s.jsxs(F,{size:"sm",variant:m==="table"?"default":"outline",onClick:()=>g("table"),className:"gap-2",children:[s.jsx(bi,{className:"h-4 w-4"}),"Tableau"]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Io,{className:"h-5 w-5"}),"Rechercher"]})}),s.jsxs(re,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Q,{placeholder:"Rechercher par nom, animal, diagnostic...",value:r,onChange:T=>a(T.target.value)}),s.jsxs(we,{value:i,onValueChange:o,children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Filtrer par animal"})}),s.jsxs(je,{children:[s.jsx(L,{value:"all",children:"Tous les animaux"}),Array.from(new Set(P.map(T=>T.petName))).map(T=>s.jsx(L,{value:T,children:T},T))]})]}),s.jsxs(we,{value:l,onValueChange:c,children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Filtrer par type"})}),s.jsxs(je,{children:[s.jsx(L,{value:"all",children:"Tous types"}),s.jsx(L,{value:"consultation",children:"Consultations"}),s.jsx(L,{value:"treatment",children:"Traitements"}),s.jsx(L,{value:"surgery",children:"Chirurgies"})]})]}),s.jsxs(we,{value:u,onValueChange:d,children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Période"})}),s.jsxs(je,{children:[s.jsx(L,{value:"all",children:"Toute période"}),s.jsx(L,{value:"today",children:"Aujourd'hui"}),s.jsx(L,{value:"week",children:"Cette semaine"}),s.jsx(L,{value:"specific",children:"Date spécifique"})]})]})]}),u==="specific"&&s.jsx(Q,{type:"date",value:h,onChange:T=>f(T.target.value),className:"max-w-xs"})]})]}),s.jsxs(ki,{defaultValue:"medical",className:"space-y-4",children:[s.jsxs(Ua,{className:"grid w-full grid-cols-2",children:[s.jsxs(At,{value:"medical",className:"gap-2",children:[s.jsx(He,{className:"h-4 w-4"}),"Historique Médical"]}),s.jsxs(At,{value:"prescriptions",className:"gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),"Prescriptions"]})]}),s.jsxs(kt,{value:"medical",className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des consultations (",R.length," entrées)"]})}),m==="cards"?s.jsx("div",{className:"grid gap-6",children:R.map(T=>s.jsx(te,{className:"card-hover",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:new Date(T.date).toLocaleDateString("fr-FR")})]}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:T.type})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold",children:T.title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(dt,{className:"h-3 w-3"}),T.petName]}),s.jsxs("span",{children:["Client: ",T.client]}),s.jsxs("span",{children:["Vétérinaire: ",T.veterinarian]})]})]}),T.details&&s.jsx("p",{className:"text-sm text-muted-foreground",children:T.details}),T.cost&&s.jsx("div",{className:"text-sm",children:s.jsxs("span",{className:"font-medium",children:["Coût: ",T.cost," MAD"]})})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(F,{size:"sm",variant:"outline",onClick:()=>{const I=e.find(U=>U.id===T.id);I&&y({...I,petId:I.animal_id,clientId:I.client_id}),v(!0)},children:s.jsx(bn,{className:"h-4 w-4"})})})]})})},T.id))}):s.jsx(te,{children:s.jsx(re,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-4 font-medium",children:"Date"}),s.jsx("th",{className:"p-4 font-medium",children:"Type"}),s.jsx("th",{className:"p-4 font-medium",children:"Titre"}),s.jsx("th",{className:"p-4 font-medium",children:"Animal"}),s.jsx("th",{className:"p-4 font-medium",children:"Client"}),s.jsx("th",{className:"p-4 font-medium",children:"Vétérinaire"}),s.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:R.map(T=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4",children:new Date(T.date).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"p-4",children:s.jsx(Pe,{variant:"outline",className:"text-xs",children:T.type})}),s.jsxs("td",{className:"p-4",children:[s.jsx("div",{className:"font-medium",children:T.title}),T.details&&s.jsx("div",{className:"text-sm text-muted-foreground",children:T.details})]}),s.jsx("td",{className:"p-4",children:T.petName}),s.jsx("td",{className:"p-4",children:T.client}),s.jsx("td",{className:"p-4",children:T.veterinarian}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(F,{size:"sm",variant:"outline",onClick:()=>{const I=e.find(U=>U.id===T.id);I&&y({...I,petId:I.animal_id,clientId:I.client_id}),v(!0)},children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"outline",children:s.jsx(Mt,{className:"h-4 w-4"})})]})})]},T.id))})]})})})})]}),s.jsxs(kt,{value:"prescriptions",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des prescriptions (",M.length," entrées)"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{size:"sm",variant:m==="cards"?"default":"outline",onClick:()=>g("cards"),className:"gap-2",children:[s.jsx(Ao,{className:"h-4 w-4"}),"Cartes"]}),s.jsxs(F,{size:"sm",variant:m==="table"?"default":"outline",onClick:()=>g("table"),className:"gap-2",children:[s.jsx(bi,{className:"h-4 w-4"}),"Tableau"]})]})]}),m==="cards"?M.map(T=>s.jsx(te,{className:"card-hover",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:new Date(T.date).toLocaleDateString("fr-FR")})]}),s.jsx(Pe,{variant:"outline",className:K[T.status],children:T.status==="active"?"Actif":T.status==="completed"?"Terminé":"Arrêté"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold",children:T.medication}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(dt,{className:"h-3 w-3"}),T.petName]}),s.jsxs("span",{children:["Client: ",T.client]}),s.jsxs("span",{children:["Prescrit par: ",T.veterinarian]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Dosage:"})," ",T.dosage]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Fréquence:"})," ",T.frequency]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Durée:"})," ",T.duration]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{size:"sm",variant:"outline",onClick:()=>{C(T),N(!0)},children:"Renouveler"}),(()=>{const I=t.find(U=>U.id===T.id);return I?s.jsx(FN,{prescription:n(I)}):s.jsx(F,{size:"sm",variant:"outline",disabled:!0,children:"Prescription indisponible"})})(),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>{const I=t.find(U=>U.id===T.id);I&&(E(n(I)),_(!0))},children:"Facture"})]})]})})},T.id)):s.jsx(te,{children:s.jsx(re,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-4 font-medium",children:"Date"}),s.jsx("th",{className:"p-4 font-medium",children:"Statut"}),s.jsx("th",{className:"p-4 font-medium",children:"Médicament"}),s.jsx("th",{className:"p-4 font-medium",children:"Animal"}),s.jsx("th",{className:"p-4 font-medium",children:"Client"}),s.jsx("th",{className:"p-4 font-medium",children:"Dosage"}),s.jsx("th",{className:"p-4 font-medium",children:"Durée"}),s.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:M.map(T=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4",children:new Date(T.date).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"p-4",children:s.jsx(Pe,{variant:"outline",className:K[T.status],children:T.status==="active"?"Actif":T.status==="completed"?"Terminé":"Arrêté"})}),s.jsxs("td",{className:"p-4",children:[s.jsx("div",{className:"font-medium",children:T.medication}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Prescrit par: ",T.veterinarian]})]}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4 text-primary"}),T.petName]})}),s.jsx("td",{className:"p-4",children:T.client}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{children:T.dosage}),s.jsx("div",{className:"text-muted-foreground",children:T.frequency})]})}),s.jsx("td",{className:"p-4",children:T.duration}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(F,{size:"sm",variant:"outline",onClick:()=>{C(T),N(!0)},children:"Renouveler"}),s.jsx(FN,{prescription:n(t.find(I=>I.id===T.id))}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>{const I=t.find(U=>U.id===T.id);E(n(I)),_(!0)},children:"Facture"})]})})]},T.id))})]})})})})]})]}),s.jsx(ZPe,{consultation:x,open:p,onOpenChange:v,onEdit:()=>{}}),(w==null?void 0:w.id)&&s.jsx(Q2,{open:j,onOpenChange:N,petId:((W=(z=t.find(T=>T.id===(w==null?void 0:w.id)))==null?void 0:z.animal_id)==null?void 0:W.toString())||"",consultationId:w.id.toString()}),s.jsx(Ze,{open:S,onOpenChange:_,children:s.jsx(Ge,{children:k&&s.jsx(eAe,{prescription:k})})})]})},V6=({photos:e,onPhotosChange:t,farmName:n})=>{const{toast:r}=at(),a=b.useRef(null),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(null),[h,f]=b.useState({description:"",category:"general"}),m=N=>{const w=N.target.files;if(!w||w.length===0)return;const C=Array.from(w).map(S=>{const _=new FileReader,k={id:`photo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,url:"",description:h.description||`Photo de ${n}`,category:h.category,uploadedAt:new Date().toISOString()};return _.onload=E=>{var A;k.url=(A=E.target)==null?void 0:A.result;const P=[...e,k];t(P)},_.readAsDataURL(S),k});f({description:"",category:"general"}),o(!1),r({title:"Photos ajoutées",description:`${C.length} photo(s) ajoutée(s) à l'exploitation ${n}`})},g=N=>{const w=e.filter(C=>C.id!==N);t(w),r({title:"Photo supprimée",description:"La photo a été supprimée avec succès"})},p=N=>{d(N),f({description:N.description,category:N.category}),c(!0)},v=()=>{if(!u)return;const N=e.map(w=>w.id===u.id?{...w,...h}:w);t(N),c(!1),d(null),f({description:"",category:"general"}),r({title:"Photo modifiée",description:"La photo a été modifiée avec succès"})},x=N=>({cheptel:"Cheptel",batiments:"Bâtiments",equipements:"Équipements",general:"Général"})[N],y=N=>({cheptel:"bg-blue-100 text-blue-800",batiments:"bg-green-100 text-green-800",equipements:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800"})[N],j=e.reduce((N,w)=>(N[w.category]||(N[w.category]=[]),N[w.category].push(w),N),{});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Photos de l'exploitation"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gérez les photos de votre exploitation, du cheptel et des équipements"})]}),s.jsxs(Ze,{open:i,onOpenChange:o,children:[s.jsx(Rx,{asChild:!0,children:s.jsxs(F,{className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Ajouter des photos"]})}),s.jsxs(Ge,{className:"max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Ajouter des photos"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"photo-description",children:"Description"}),s.jsx(Q,{id:"photo-description",placeholder:"Description des photos",value:h.description,onChange:N=>f({...h,description:N.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"photo-category",children:"Catégorie"}),s.jsxs(we,{value:h.category,onValueChange:N=>f({...h,category:N}),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"cheptel",children:"Cheptel"}),s.jsx(L,{value:"batiments",children:"Bâtiments"}),s.jsx(L,{value:"equipements",children:"Équipements"}),s.jsx(L,{value:"general",children:"Général"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"photo-files",children:"Sélectionner des photos"}),s.jsx(Q,{id:"photo-files",type:"file",multiple:!0,accept:"image/*",ref:a,onChange:m,className:"cursor-pointer"})]})]})]})]})]}),e.length===0?s.jsx(te,{children:s.jsxs(re,{className:"p-8 text-center",children:[s.jsx(_u,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoutée"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Commencez par ajouter des photos de votre exploitation"})]})}):s.jsx("div",{className:"space-y-6",children:Object.entries(j).map(([N,w])=>s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Pe,{className:y(N),children:x(N)}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",w.length," photo",w.length>1?"s":"",")"]})]})}),s.jsx(re,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(C=>s.jsxs("div",{className:"group relative",children:[s.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[s.jsx("img",{src:C.url,alt:C.description,className:"w-full h-full object-cover"}),s.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[s.jsx(F,{size:"sm",variant:"secondary",onClick:()=>d(C),children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"secondary",onClick:()=>p(C),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"destructive",onClick:()=>g(C.id),children:s.jsx(qn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:C.description}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(C.uploadedAt).toLocaleDateString()})]})]},C.id))})})]},N))}),s.jsx(Ze,{open:l,onOpenChange:c,children:s.jsxs(Ge,{className:"max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Modifier la photo"})}),s.jsxs("div",{className:"space-y-4",children:[u&&s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border",children:s.jsx("img",{src:u.url,alt:u.description,className:"w-full h-full object-cover"})}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"edit-description",children:"Description"}),s.jsx(Q,{id:"edit-description",value:h.description,onChange:N=>f({...h,description:N.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"edit-category",children:"Catégorie"}),s.jsxs(we,{value:h.category,onValueChange:N=>f({...h,category:N}),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"cheptel",children:"Cheptel"}),s.jsx(L,{value:"batiments",children:"Bâtiments"}),s.jsx(L,{value:"equipements",children:"Équipements"}),s.jsx(L,{value:"general",children:"Général"})]})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(F,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),s.jsx(F,{onClick:v,children:"Enregistrer"})]})]})]})})]})},nAe=({open:e,onOpenChange:t})=>{var x,y,j,N,w,C;const{addFarm:n}=pt(),{settings:r}=_t(),{toast:a}=at(),[i,o]=b.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),[l,c]=b.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!r.farmManagement)return console.error("farmManagement settings not found, using defaults"),s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsx(Ge,{children:s.jsxs(et,{children:[s.jsx(tt,{children:"Erreur de configuration"}),s.jsx(Rt,{children:"Les paramètres de gestion des fermes ne sont pas configurés. Veuillez recharger la page ou vérifier les paramètres."})]})})});b.useEffect(()=>{e||(o({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const u=(S,_)=>{if(S.includes(".")){const[k,E]=S.split(".");o(P=>{const A=P[k];return{...P,[k]:{...A,[E]:_}}})}else o(k=>({...k,[S]:_}))},d=S=>{o(_=>{var k;return{..._,types:(k=_.types)!=null&&k.includes(S)?_.types.filter(E=>E!==S):[..._.types||[],S]}})},h=S=>{o(_=>{var k;return{..._,certifications:(k=_.certifications)!=null&&k.includes(S)?_.certifications.filter(E=>E!==S):[..._.certifications||[],S]}})},f=()=>{if(!l.category){a({title:"Erreur",description:"Veuillez sélectionner une catégorie d'animal",variant:"destructive"});return}o(S=>({...S,animalDetails:[...S.animalDetails||[],{...l}]})),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},m=S=>{o(_=>{var k;return{..._,animalDetails:((k=_.animalDetails)==null?void 0:k.filter((E,P)=>P!==S))||[]}})},g=S=>{c(_=>({..._,breeds:[..._.breeds,S]}))},p=S=>{c(_=>({..._,breeds:_.breeds.filter(k=>k!==S)}))},v=S=>{var k;if(S.preventDefault(),!i.name||!i.owner||!i.address||!((k=i.types)!=null&&k.length)){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const _={name:i.name,owner:i.owner,ownerIdNumber:i.ownerIdNumber||"",address:i.address,coordinates:i.coordinates||{latitude:0,longitude:0},phone:i.phone||"",email:i.email||"",types:i.types||[],totalAnimals:(i.animalDetails||[]).reduce((E,P)=>E+P.maleCount+P.femaleCount,0),animalDetails:i.animalDetails||[],lastVisit:new Date().toISOString().split("T")[0],status:i.status||"active",veterinarian:i.veterinarian||"",notes:i.notes||"",registrationNumber:i.registrationNumber||"",surfaceArea:i.surfaceArea||0,buildingDetails:i.buildingDetails||"",equipmentDetails:i.equipmentDetails||"",certifications:i.certifications||[],insuranceDetails:i.insuranceDetails||"",emergencyContact:i.emergencyContact||{name:"",phone:"",relation:""}};n(_),a({title:"Succès",description:"Nouvelle exploitation créée avec succès"}),t(!1)};return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Nouvelle Exploitation Agricole"}),s.jsx(Rt,{children:"Créez une nouvelle exploitation agricole avec toutes les informations détaillées"})]}),s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Informations générales"})}),s.jsxs(re,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"name",children:"Nom de l'exploitation *"}),s.jsx(Q,{id:"name",value:i.name||"",onChange:S=>u("name",S.target.value),placeholder:"Nom de l'exploitation"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"owner",children:"Propriétaire *"}),s.jsx(Q,{id:"owner",value:i.owner||"",onChange:S=>u("owner",S.target.value),placeholder:"Nom du propriétaire"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"ownerIdNumber",children:"N° pièce d'identité du propriétaire"}),s.jsx(Q,{id:"ownerIdNumber",value:i.ownerIdNumber||"",onChange:S=>u("ownerIdNumber",S.target.value),placeholder:"Numéro de carte d'identité, passeport, etc."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"address",children:"Adresse *"}),s.jsx(Q,{id:"address",value:i.address||"",onChange:S=>u("address",S.target.value),placeholder:"Adresse complète"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"latitude",children:"Latitude"}),s.jsx(Q,{id:"latitude",type:"number",step:"0.0001",value:((x=i.coordinates)==null?void 0:x.latitude)||"",onChange:S=>u("coordinates.latitude",parseFloat(S.target.value)||0),placeholder:"47.9056"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"longitude",children:"Longitude"}),s.jsx(Q,{id:"longitude",type:"number",step:"0.0001",value:((y=i.coordinates)==null?void 0:y.longitude)||"",onChange:S=>u("coordinates.longitude",parseFloat(S.target.value)||0),placeholder:"1.9190"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"phone",children:"Téléphone"}),s.jsx(Q,{id:"phone",value:i.phone||"",onChange:S=>u("phone",S.target.value),placeholder:"Téléphone"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"email",children:"Email"}),s.jsx(Q,{id:"email",type:"email",value:i.email||"",onChange:S=>u("email",S.target.value),placeholder:"Email"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"veterinarian",children:"Vétérinaire responsable"}),s.jsx(Q,{id:"veterinarian",value:i.veterinarian||"",onChange:S=>u("veterinarian",S.target.value),placeholder:"Vétérinaire"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"status",children:"Statut"}),s.jsxs(we,{value:i.status,onValueChange:S=>u("status",S),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"active",children:"Active"}),s.jsx(L,{value:"attention",children:"Attention"}),s.jsx(L,{value:"urgent",children:"Urgent"})]})]})]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Types d'élevage *"})}),s.jsx(re,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:r.farmManagement.farmTypes.map(S=>{var _;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:`type-${S}`,checked:((_=i.types)==null?void 0:_.includes(S))||!1,onCheckedChange:()=>d(S)}),s.jsx(D,{htmlFor:`type-${S}`,children:S})]},S)})})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Détails du cheptel"})}),s.jsxs(re,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Catégorie"}),s.jsxs(we,{value:l.category,onValueChange:S=>c(_=>({..._,category:S})),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner"})}),s.jsx(je,{children:r.farmManagement.animalCategories.map(S=>s.jsx(L,{value:S,children:S},S))})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Mâles"}),s.jsx(Q,{type:"number",value:l.maleCount,onChange:S=>c(_=>({..._,maleCount:parseInt(S.target.value)||0})),placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Femelles"}),s.jsx(Q,{type:"number",value:l.femaleCount,onChange:S=>c(_=>({..._,femaleCount:parseInt(S.target.value)||0})),placeholder:"0"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(F,{type:"button",onClick:f,className:"w-full",children:"Ajouter"})})]}),l.category&&s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs(D,{children:["Races pour ",l.category]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(j=r.farmManagement.breedsByCategory[l.category])==null?void 0:j.map(S=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:`breed-${S}`,checked:l.breeds.includes(S),onCheckedChange:()=>{l.breeds.includes(S)?p(S):g(S)}}),s.jsx(D,{htmlFor:`breed-${S}`,children:S})]},S))})]}),i.animalDetails&&i.animalDetails.length>0&&s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx(D,{children:"Cheptel configuré"}),s.jsx("div",{className:"mt-2 space-y-2",children:i.animalDetails.map((S,_)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsxs("span",{children:[s.jsx(Pe,{variant:"secondary",children:S.category}),s.jsxs("span",{className:"ml-2",children:[S.maleCount," mâles, ",S.femaleCount," femelles"]}),S.breeds.length>0&&s.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",S.breeds.join(", ")]})]}),s.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>m(_),children:"Supprimer"})]},_))})]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Informations administratives"})}),s.jsxs(re,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"registrationNumber",children:"Numéro d'immatriculation"}),s.jsx(Q,{id:"registrationNumber",value:i.registrationNumber||"",onChange:S=>u("registrationNumber",S.target.value),placeholder:"Numéro d'immatriculation"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),s.jsx(Q,{id:"surfaceArea",type:"number",step:"0.1",value:i.surfaceArea||"",onChange:S=>u("surfaceArea",parseFloat(S.target.value)||0),placeholder:"Surface en hectares"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"buildingDetails",children:"Détails des bâtiments"}),s.jsx(qe,{id:"buildingDetails",value:i.buildingDetails||"",onChange:S=>u("buildingDetails",S.target.value),placeholder:"Description des bâtiments, étables, etc."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"equipmentDetails",children:"Équipements"}),s.jsx(qe,{id:"equipmentDetails",value:i.equipmentDetails||"",onChange:S=>u("equipmentDetails",S.target.value),placeholder:"Liste des équipements disponibles"})]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Certifications"})}),s.jsx(re,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:r.farmManagement.certificationTypes.map(S=>{var _;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:`cert-${S}`,checked:((_=i.certifications)==null?void 0:_.includes(S))||!1,onCheckedChange:()=>h(S)}),s.jsx(D,{htmlFor:`cert-${S}`,children:S})]},S)})})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Assurance et contact d'urgence"})}),s.jsxs(re,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"insuranceDetails",children:"Détails de l'assurance"}),s.jsx(Q,{id:"insuranceDetails",value:i.insuranceDetails||"",onChange:S=>u("insuranceDetails",S.target.value),placeholder:"Compagnie d'assurance et numéro de police"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),s.jsx(Q,{id:"emergencyName",value:((N=i.emergencyContact)==null?void 0:N.name)||"",onChange:S=>u("emergencyContact.name",S.target.value),placeholder:"Nom du contact"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"emergencyPhone",children:"Téléphone d'urgence"}),s.jsx(Q,{id:"emergencyPhone",value:((w=i.emergencyContact)==null?void 0:w.phone)||"",onChange:S=>u("emergencyContact.phone",S.target.value),placeholder:"Téléphone"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"emergencyRelation",children:"Relation"}),s.jsx(Q,{id:"emergencyRelation",value:((C=i.emergencyContact)==null?void 0:C.relation)||"",onChange:S=>u("emergencyContact.relation",S.target.value),placeholder:"Relation (époux, fils, etc.)"})]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Photos de l'exploitation"})}),s.jsx(re,{children:s.jsx(V6,{photos:i.photos||[],onPhotosChange:S=>u("photos",S),farmName:i.name||"Nouvelle exploitation"})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Notes complémentaires"})}),s.jsx(re,{children:s.jsx(qe,{value:i.notes||"",onChange:S=>u("notes",S.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(F,{type:"submit",children:"Créer l'exploitation"})]})]})]})})},rAe=({open:e,onOpenChange:t,farmId:n,farmName:r})=>{const{addFarmIntervention:a,farms:i}=pt(),{toast:o}=at(),[l,c]=b.useState({farmId:"",farmName:"",date:"",type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""});b.useEffect(()=>{if(e){const f=new Date().toISOString().split("T")[0];c({farmId:(n==null?void 0:n.toString())||"",farmName:r||"",date:f,type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""})}},[e,n,r]);const u=(f,m)=>{c(g=>({...g,[f]:m}))},{settings:d}=_t(),h=f=>{if(f.preventDefault(),!l.farmId||!l.date||!l.type||!l.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const m=i.find(p=>p.id===parseInt(l.farmId));if(!m){o({title:"Erreur",description:"Exploitation non trouvée",variant:"destructive"});return}const g={farmId:parseInt(l.farmId),farmName:m.name,date:l.date,type:l.type,animals:l.animals,veterinarian:l.veterinarian,description:l.description,status:l.status,followUp:l.followUp,cost:l.cost?parseFloat(l.cost):void 0,notes:l.notes};a(g),o({title:"Succès",description:"Intervention programmée avec succès"}),t(!1)};return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Nouvelle Intervention"}),s.jsx(Rt,{children:"Programmez une nouvelle intervention vétérinaire"})]}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"farmId",children:"Exploitation *"}),s.jsxs(we,{value:l.farmId,onValueChange:f=>{const m=i.find(g=>g.id===parseInt(f));u("farmId",f),u("farmName",(m==null?void 0:m.name)||"")},children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner une exploitation"})}),s.jsx(je,{children:i.map(f=>s.jsx(L,{value:f.id.toString(),children:f.name},f.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"date",children:"Date *"}),s.jsx(Q,{id:"date",type:"date",value:l.date,onChange:f=>u("date",f.target.value),required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"type",children:"Type d'intervention *"}),s.jsxs(we,{value:l.type,onValueChange:f=>u("type",f),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner un type"})}),s.jsxs(je,{children:[s.jsx(L,{value:"vaccination",children:"Vaccination"}),s.jsx(L,{value:"controle",children:"Contrôle sanitaire"}),s.jsx(L,{value:"urgence",children:"Urgence"}),s.jsx(L,{value:"chirurgie",children:"Chirurgie"}),s.jsx(L,{value:"prevention",children:"Prévention"}),s.jsx(L,{value:"consultation",children:"Consultation"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"status",children:"Statut"}),s.jsxs(we,{value:l.status,onValueChange:f=>u("status",f),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"scheduled",children:"Programmée"}),s.jsx(L,{value:"ongoing",children:"En cours"}),s.jsx(L,{value:"completed",children:"Terminée"}),s.jsx(L,{value:"cancelled",children:"Annulée"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"animals",children:"Animaux concernés"}),s.jsx(Q,{id:"animals",value:l.animals,onChange:f=>u("animals",f.target.value),placeholder:"15 bovins, 50 poules..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"veterinarian",children:"Vétérinaire"}),s.jsx(Q,{id:"veterinarian",value:l.veterinarian,onChange:f=>u("veterinarian",f.target.value),placeholder:"Dr. Dupont"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"description",children:"Description *"}),s.jsx(qe,{id:"description",value:l.description,onChange:f=>u("description",f.target.value),placeholder:"Détails de l'intervention...",rows:3,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(D,{htmlFor:"cost",children:["Coût (",d.currency,")"]}),s.jsx(Q,{id:"cost",type:"number",value:l.cost,onChange:f=>u("cost",f.target.value),placeholder:"0.00",min:"0",step:"0.01"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"followUp",children:"Suivi"}),s.jsx(Q,{id:"followUp",value:l.followUp,onChange:f=>u("followUp",f.target.value),placeholder:"Contrôle dans 6 mois"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(qe,{id:"notes",value:l.notes,onChange:f=>u("notes",f.target.value),placeholder:"Informations complémentaires...",rows:2})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(F,{type:"submit",children:"Programmer Intervention"})]})]})]})})},sAe=({farm:e,open:t,onOpenChange:n,onEdit:r,onNewIntervention:a})=>{var u;const{getFarmInterventionsByFarmId:i}=pt();if(!e)return null;const o=i(e.id),l={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},c=d=>{switch(d){case"active":return s.jsx(On,{className:"h-4 w-4"});case"attention":return s.jsx(pn,{className:"h-4 w-4"});case"urgent":return s.jsx(pn,{className:"h-4 w-4 text-red-600"});default:return s.jsx(Jt,{className:"h-4 w-4"})}};return s.jsx(Ze,{open:t,onOpenChange:n,children:s.jsxs(Ge,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[c(e.status),e.name,s.jsx(Pe,{className:l[e.status],children:e.status==="active"?"Actif":e.status==="attention"?"Attention":"Urgent"})]}),s.jsx(Rt,{children:"Détails complets de l'exploitation agricole"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(IU,{className:"h-5 w-5"}),"Informations Générales"]})}),s.jsxs(re,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Propriétaire"}),s.jsx("p",{className:"font-medium",children:e.owner})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Types d'élevage"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(u=e.types)==null?void 0:u.map(d=>s.jsx(Pe,{variant:"secondary",children:d},d))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nombre total d'animaux"}),s.jsx("p",{className:"font-medium",children:e.totalAnimals})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vétérinaire"}),s.jsx("p",{className:"font-medium",children:e.veterinarian||"Non assigné"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Dernière visite"}),s.jsx("p",{className:"font-medium",children:Da(e.lastVisit)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Date de création"}),s.jsx("p",{className:"font-medium",children:Da(e.createdAt)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[s.jsx(ec,{className:"h-3 w-3"}),"Adresse"]}),s.jsx("p",{className:"font-medium",children:e.address})]}),e.coordinates&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Coordonnées GPS"}),s.jsxs("p",{className:"font-mono text-sm",children:[e.coordinates.latitude.toFixed(4),", ",e.coordinates.longitude.toFixed(4)]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[s.jsx(Pu,{className:"h-3 w-3"}),"Téléphone"]}),s.jsx("p",{className:"font-medium",children:e.phone||"Non renseigné"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[s.jsx(fm,{className:"h-3 w-3"}),"Email"]}),s.jsx("p",{className:"font-medium",children:e.email||"Non renseigné"})]})]})]})]}),e.animalDetails&&e.animalDetails.length>0&&s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx($U,{className:"h-5 w-5"}),"Détails du Cheptel"]})}),s.jsx(re,{children:s.jsx("div",{className:"space-y-3",children:e.animalDetails.map((d,h)=>s.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Pe,{variant:"secondary",children:d.category}),s.jsxs("span",{className:"text-sm font-medium",children:["Total: ",d.maleCount+d.femaleCount," animaux"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Mâles:"})," ",d.maleCount]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Femelles:"})," ",d.femaleCount]}),d.breeds.length>0&&s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("span",{className:"text-muted-foreground",children:"Races:"})," ",d.breeds.join(", ")]})]})]},h))})})]}),(e.registrationNumber||e.surfaceArea||e.buildingDetails||e.equipmentDetails)&&s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(yU,{className:"h-5 w-5"}),"Informations Administratives"]})}),s.jsxs(re,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.registrationNumber&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"N° d'immatriculation"}),s.jsx("p",{className:"font-medium",children:e.registrationNumber})]}),e.surfaceArea&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Surface"}),s.jsxs("p",{className:"font-medium",children:[e.surfaceArea," hectares"]})]})]}),e.buildingDetails&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Bâtiments"}),s.jsx("p",{className:"font-medium",children:e.buildingDetails})]}),e.equipmentDetails&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Équipements"}),s.jsx("p",{className:"font-medium",children:e.equipmentDetails})]})]})]}),e.certifications&&e.certifications.length>0&&s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-5 w-5"}),"Certifications"]})}),s.jsx(re,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:e.certifications.map(d=>s.jsx(Pe,{variant:"outline",children:d},d))})})]}),(e.insuranceDetails||e.emergencyContact)&&s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(vr,{className:"h-5 w-5"}),"Assurance et Contact d'Urgence"]})}),s.jsxs(re,{className:"space-y-4",children:[e.insuranceDetails&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Assurance"}),s.jsx("p",{className:"font-medium",children:e.insuranceDetails})]}),e.emergencyContact&&e.emergencyContact.name&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contact d'urgence"}),s.jsx("p",{className:"font-medium",children:e.emergencyContact.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Téléphone"}),s.jsx("p",{className:"font-medium",children:e.emergencyContact.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Relation"}),s.jsx("p",{className:"font-medium",children:e.emergencyContact.relation})]})]})]})]}),e.notes&&s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Notes"})}),s.jsx(re,{children:s.jsx("p",{className:"text-sm",children:e.notes})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Détails du Cheptel"})}),s.jsx(re,{children:e.animalDetails&&e.animalDetails.length>0?s.jsx("div",{className:"space-y-4",children:e.animalDetails.map((d,h)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-lg",children:d.category}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Pe,{variant:"secondary",children:[d.maleCount+d.femaleCount," animaux"]}),s.jsxs(Pe,{variant:"outline",children:[d.maleCount," mâles"]}),s.jsxs(Pe,{variant:"outline",children:[d.femaleCount," femelles"]})]})]}),d.breeds&&d.breeds.length>0&&s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Races: "}),d.breeds.map((f,m)=>s.jsx(Pe,{variant:"outline",className:"mr-1 text-xs",children:f},m))]}),d.ageGroups&&d.ageGroups.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Groupes d'âge: "}),d.ageGroups.map((f,m)=>s.jsx(Pe,{variant:"outline",className:"mr-1 text-xs",children:f},m))]})]},h))}):s.jsx("p",{className:"text-muted-foreground",children:"Aucun détail de cheptel configuré pour cette exploitation"})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Photos de l'exploitation"})}),s.jsx(re,{children:e.photos&&e.photos.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.photos.map(d=>s.jsxs("div",{className:"group relative",children:[s.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[s.jsx("img",{src:d.url,alt:d.description,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(Pe,{variant:"secondary",className:"text-xs bg-black/70 text-white border-0",children:d.category==="cheptel"?"Cheptel":d.category==="batiments"?"Bâtiments":d.category==="equipements"?"Équipements":"Général"})})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:d.description}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(d.uploadedAt).toLocaleDateString()})]})]},d.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(_u,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoutée"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Les photos peuvent être ajoutées lors de la modification de l'exploitation"})]})})]}),s.jsxs(ki,{defaultValue:"interventions",className:"w-full",children:[s.jsx(Ua,{className:"grid w-full grid-cols-1",children:s.jsxs(At,{value:"interventions",children:[s.jsx(He,{className:"h-4 w-4 mr-2"}),"Interventions (",o.length,")"]})}),s.jsx(kt,{value:"interventions",className:"space-y-4",children:s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Interventions vétérinaires"})}),s.jsx(re,{children:o.length>0?s.jsx("div",{className:"space-y-2",children:o.map(d=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:d.type}),s.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:Da(d.date)})]}),s.jsx(Pe,{variant:"outline",children:d.status})]},d.id))}):s.jsx("p",{className:"text-muted-foreground",children:"Aucune intervention enregistrée pour cette exploitation"})})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(F,{onClick:a,variant:"outline",children:"Nouvelle Intervention"}),s.jsx(F,{onClick:r,children:"Modifier"})]})]})})},aAe=({open:e,onOpenChange:t,farm:n})=>{var y,j,N,w,C,S;const{updateFarm:r}=pt(),{settings:a}=_t(),{toast:i}=at(),[o,l]=b.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),[c,u]=b.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!a.farmManagement)return console.error("farmManagement settings not found, using defaults"),s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsx(Ge,{children:s.jsxs(et,{children:[s.jsx(tt,{children:"Erreur de configuration"}),s.jsx(Rt,{children:"Les paramètres de gestion des fermes ne sont pas configurés. Veuillez recharger la page ou vérifier les paramètres."})]})})});b.useEffect(()=>{n&&e&&l({...n,coordinates:n.coordinates||{latitude:0,longitude:0},types:n.types||[],animalDetails:n.animalDetails||[],certifications:n.certifications||[],emergencyContact:n.emergencyContact||{name:"",phone:"",relation:""}})},[n,e]),b.useEffect(()=>{e||(l({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const d=(_,k)=>{if(_.includes(".")){const[E,P]=_.split(".");l(A=>({...A,[E]:{...A[E],[P]:k}}))}else l(E=>({...E,[_]:k}))},h=_=>{l(k=>{var E;return{...k,types:(E=k.types)!=null&&E.includes(_)?k.types.filter(P=>P!==_):[...k.types||[],_]}})},f=_=>{l(k=>{var E;return{...k,certifications:(E=k.certifications)!=null&&E.includes(_)?k.certifications.filter(P=>P!==_):[...k.certifications||[],_]}})},m=()=>{if(!c.category){i({title:"Erreur",description:"Veuillez sélectionner une catégorie d'animal",variant:"destructive"});return}l(_=>({..._,animalDetails:[..._.animalDetails||[],{...c}]})),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},g=_=>{l(k=>{var E;return{...k,animalDetails:((E=k.animalDetails)==null?void 0:E.filter((P,A)=>A!==_))||[]}})},p=_=>{u(k=>({...k,breeds:[...k.breeds,_]}))},v=_=>{u(k=>({...k,breeds:k.breeds.filter(E=>E!==_)}))},x=_=>{var E;if(_.preventDefault(),!n)return;if(!o.name||!o.owner||!o.address||!((E=o.types)!=null&&E.length)){i({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const k={...n,...o,coordinates:o.coordinates||{latitude:0,longitude:0},types:o.types||[],animalDetails:o.animalDetails||[],totalAnimals:(o.animalDetails||[]).reduce((P,A)=>P+A.maleCount+A.femaleCount,0),certifications:o.certifications||[],emergencyContact:o.emergencyContact||{name:"",phone:"",relation:""}};r(n.id,k),i({title:"Succès",description:"Exploitation mise à jour avec succès"}),t(!1)};return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Modifier l'Exploitation"}),s.jsx(Rt,{children:"Modifiez les informations de l'exploitation agricole"})]}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Informations générales"})}),s.jsxs(re,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"name",children:"Nom de l'exploitation *"}),s.jsx(Q,{id:"name",value:o.name||"",onChange:_=>d("name",_.target.value),placeholder:"Nom de l'exploitation"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"owner",children:"Propriétaire *"}),s.jsx(Q,{id:"owner",value:o.owner||"",onChange:_=>d("owner",_.target.value),placeholder:"Nom du propriétaire"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"ownerIdNumber",children:"N° pièce d'identité du propriétaire"}),s.jsx(Q,{id:"ownerIdNumber",value:o.ownerIdNumber||"",onChange:_=>d("ownerIdNumber",_.target.value),placeholder:"Numéro de carte d'identité, passeport, etc."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"address",children:"Adresse *"}),s.jsx(Q,{id:"address",value:o.address||"",onChange:_=>d("address",_.target.value),placeholder:"Adresse complète"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"latitude",children:"Latitude"}),s.jsx(Q,{id:"latitude",type:"number",step:"0.0001",value:((y=o.coordinates)==null?void 0:y.latitude)||"",onChange:_=>d("coordinates.latitude",parseFloat(_.target.value)||0),placeholder:"47.9056"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"longitude",children:"Longitude"}),s.jsx(Q,{id:"longitude",type:"number",step:"0.0001",value:((j=o.coordinates)==null?void 0:j.longitude)||"",onChange:_=>d("coordinates.longitude",parseFloat(_.target.value)||0),placeholder:"1.9190"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"phone",children:"Téléphone"}),s.jsx(Q,{id:"phone",value:o.phone||"",onChange:_=>d("phone",_.target.value),placeholder:"Téléphone"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"email",children:"Email"}),s.jsx(Q,{id:"email",type:"email",value:o.email||"",onChange:_=>d("email",_.target.value),placeholder:"Email"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"veterinarian",children:"Vétérinaire responsable"}),s.jsx(Q,{id:"veterinarian",value:o.veterinarian||"",onChange:_=>d("veterinarian",_.target.value),placeholder:"Vétérinaire"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"status",children:"Statut"}),s.jsxs(we,{value:o.status,onValueChange:_=>d("status",_),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"active",children:"Active"}),s.jsx(L,{value:"attention",children:"Attention"}),s.jsx(L,{value:"urgent",children:"Urgent"})]})]})]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Types d'élevage *"})}),s.jsx(re,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:a.farmManagement.farmTypes.map(_=>{var k;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:`type-${_}`,checked:((k=o.types)==null?void 0:k.includes(_))||!1,onCheckedChange:()=>h(_)}),s.jsx(D,{htmlFor:`type-${_}`,children:_})]},_)})})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Détails du cheptel"})}),s.jsxs(re,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Catégorie"}),s.jsxs(we,{value:c.category,onValueChange:_=>u(k=>({...k,category:_})),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner"})}),s.jsx(je,{children:a.farmManagement.animalCategories.map(_=>s.jsx(L,{value:_,children:_},_))})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Mâles"}),s.jsx(Q,{type:"number",value:c.maleCount,onChange:_=>u(k=>({...k,maleCount:parseInt(_.target.value)||0})),placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Femelles"}),s.jsx(Q,{type:"number",value:c.femaleCount,onChange:_=>u(k=>({...k,femaleCount:parseInt(_.target.value)||0})),placeholder:"0"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(F,{type:"button",onClick:m,className:"w-full",children:"Ajouter"})})]}),c.category&&s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs(D,{children:["Races pour ",c.category]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(N=a.farmManagement.breedsByCategory[c.category])==null?void 0:N.map(_=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:`breed-${_}`,checked:c.breeds.includes(_),onCheckedChange:()=>{c.breeds.includes(_)?v(_):p(_)}}),s.jsx(D,{htmlFor:`breed-${_}`,children:_})]},_))})]}),o.animalDetails&&o.animalDetails.length>0&&s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx(D,{children:"Cheptel configuré"}),s.jsx("div",{className:"mt-2 space-y-2",children:o.animalDetails.map((_,k)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsxs("span",{children:[s.jsx(Pe,{variant:"secondary",children:_.category}),s.jsxs("span",{className:"ml-2",children:[_.maleCount," mâles, ",_.femaleCount," femelles"]}),_.breeds.length>0&&s.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",_.breeds.join(", ")]})]}),s.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>g(k),children:"Supprimer"})]},k))})]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Informations administratives"})}),s.jsxs(re,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"registrationNumber",children:"Numéro d'immatriculation"}),s.jsx(Q,{id:"registrationNumber",value:o.registrationNumber||"",onChange:_=>d("registrationNumber",_.target.value),placeholder:"Numéro d'immatriculation"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),s.jsx(Q,{id:"surfaceArea",type:"number",step:"0.1",value:o.surfaceArea||"",onChange:_=>d("surfaceArea",parseFloat(_.target.value)||0),placeholder:"Surface en hectares"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"buildingDetails",children:"Détails des bâtiments"}),s.jsx(qe,{id:"buildingDetails",value:o.buildingDetails||"",onChange:_=>d("buildingDetails",_.target.value),placeholder:"Description des bâtiments, étables, etc."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"equipmentDetails",children:"Équipements"}),s.jsx(qe,{id:"equipmentDetails",value:o.equipmentDetails||"",onChange:_=>d("equipmentDetails",_.target.value),placeholder:"Liste des équipements disponibles"})]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Certifications"})}),s.jsx(re,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:a.farmManagement.certificationTypes.map(_=>{var k;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{id:`cert-${_}`,checked:((k=o.certifications)==null?void 0:k.includes(_))||!1,onCheckedChange:()=>f(_)}),s.jsx(D,{htmlFor:`cert-${_}`,children:_})]},_)})})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Assurance et contact d'urgence"})}),s.jsxs(re,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(D,{htmlFor:"insuranceDetails",children:"Détails de l'assurance"}),s.jsx(Q,{id:"insuranceDetails",value:o.insuranceDetails||"",onChange:_=>d("insuranceDetails",_.target.value),placeholder:"Compagnie d'assurance et numéro de police"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),s.jsx(Q,{id:"emergencyName",value:((w=o.emergencyContact)==null?void 0:w.name)||"",onChange:_=>d("emergencyContact.name",_.target.value),placeholder:"Nom du contact"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"emergencyPhone",children:"Téléphone d'urgence"}),s.jsx(Q,{id:"emergencyPhone",value:((C=o.emergencyContact)==null?void 0:C.phone)||"",onChange:_=>d("emergencyContact.phone",_.target.value),placeholder:"Téléphone"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"emergencyRelation",children:"Relation"}),s.jsx(Q,{id:"emergencyRelation",value:((S=o.emergencyContact)==null?void 0:S.relation)||"",onChange:_=>d("emergencyContact.relation",_.target.value),placeholder:"Relation (époux, fils, etc.)"})]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Photos de l'exploitation"})}),s.jsx(re,{children:s.jsx(V6,{photos:o.photos||[],onPhotosChange:_=>d("photos",_),farmName:o.name||"Exploitation"})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Notes complémentaires"})}),s.jsx(re,{children:s.jsx(qe,{value:o.notes||"",onChange:_=>d("notes",_.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(F,{type:"submit",children:"Mettre à jour l'exploitation"})]})]})]})}):null},iAe=({open:e,onOpenChange:t,intervention:n})=>{const{updateFarmIntervention:r,farms:a}=pt(),{toast:i}=at(),[o,l]=b.useState({farmId:"",type:"",date:"",animals:"",description:"",veterinarian:"",status:"scheduled",followUp:"",cost:""});b.useEffect(()=>{n&&e&&l({farmId:n.farmId.toString(),type:n.type,date:n.date,animals:n.animals,description:n.description,veterinarian:n.veterinarian,status:n.status,followUp:n.followUp||"",cost:n.cost||""})},[n,e]);const c=(h,f)=>{l(m=>({...m,[h]:f}))},u=h=>{if(h.preventDefault(),!n)return;if(!o.farmId||!o.type||!o.date||!o.animals||!o.description){i({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const f={farmId:parseInt(o.farmId),type:o.type,date:o.date,animals:o.animals,description:o.description,veterinarian:o.veterinarian,status:o.status,followUp:o.followUp,cost:o.cost};r(n.id,f),i({title:"Succès",description:"Intervention mise à jour avec succès"}),t(!1)};if(!n)return null;const d=a.find(h=>h.id===parseInt(o.farmId));return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:"Modifier l'Intervention"}),s.jsxs(Rt,{children:["Modifiez les informations de l'intervention du ",new Date(n.date).toLocaleDateString("fr-FR")]})]}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Exploitation *"}),s.jsxs(we,{value:o.farmId,onValueChange:h=>c("farmId",h),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner l'exploitation"})}),s.jsx(je,{children:a.map(h=>s.jsxs(L,{value:h.id.toString(),children:[h.name," - ",h.owner]},h.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Type d'intervention *"}),s.jsxs(we,{value:o.type,onValueChange:h=>c("type",h),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner le type"})}),s.jsxs(je,{children:[s.jsx(L,{value:"vaccination",children:"Vaccination"}),s.jsx(L,{value:"controle",children:"Contrôle sanitaire"}),s.jsx(L,{value:"urgence",children:"Urgence"}),s.jsx(L,{value:"chirurgie",children:"Chirurgie"}),s.jsx(L,{value:"prevention",children:"Prévention"}),s.jsx(L,{value:"consultation",children:"Consultation"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"date",children:"Date *"}),s.jsx(Q,{id:"date",type:"date",value:o.date,onChange:h=>c("date",h.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Statut"}),s.jsxs(we,{value:o.status,onValueChange:h=>c("status",h),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"scheduled",children:"Programmé"}),s.jsx(L,{value:"ongoing",children:"En cours"}),s.jsx(L,{value:"completed",children:"Terminé"}),s.jsx(L,{value:"cancelled",children:"Annulé"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"animals",children:"Animaux concernés *"}),s.jsx(Q,{id:"animals",value:o.animals,onChange:h=>c("animals",h.target.value),placeholder:"ex: 50 vaches, 100 porcs...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"veterinarian",children:"Vétérinaire *"}),s.jsx(Q,{id:"veterinarian",value:o.veterinarian,onChange:h=>c("veterinarian",h.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"description",children:"Description *"}),s.jsx(qe,{id:"description",value:o.description,onChange:h=>c("description",h.target.value),rows:3,placeholder:"Détails de l'intervention, observations, traitements...",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"followUp",children:"Suivi recommandé"}),s.jsx(qe,{id:"followUp",value:o.followUp,onChange:h=>c("followUp",h.target.value),rows:2,placeholder:"Recommandations, prochain contrôle..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"cost",children:"Coût (€)"}),s.jsx(Q,{id:"cost",type:"number",value:o.cost,onChange:h=>c("cost",h.target.value),min:"0",step:"0.01",placeholder:"0.00"})]})]}),d&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Informations de l'exploitation"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Nom:"})," ",d.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Propriétaire:"})," ",d.owner]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Type:"})," ",d.type]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Adresse:"})," ",d.address]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(F,{type:"submit",children:"Mettre à jour"})]})]})]})})},oAe=()=>{const{farms:e,farmInterventions:t,deleteFarm:n,deleteFarmIntervention:r,getFarmsByStatus:a,getUpcomingFarmInterventions:i}=pt(),{toast:o}=at(),{currentView:l}=uc("farms"),[c,u]=b.useState(""),[d,h]=b.useState("all"),[f,m]=b.useState(l),[g,p]=b.useState(!1),[v,x]=b.useState(!1),[y,j]=b.useState(!1),[N,w]=b.useState(!1),[C,S]=b.useState(!1),[_,k]=b.useState(null),[E,P]=b.useState(null),A=e.filter(se=>{var le,Y;const me=se.name.toLowerCase().includes(c.toLowerCase())||se.owner.toLowerCase().includes(c.toLowerCase())||((le=se.types)==null?void 0:le.some(ee=>ee.toLowerCase().includes(c.toLowerCase())))||!1,xe=d==="all"||((Y=se.types)==null?void 0:Y.includes(d))||!1;return me&&xe}),R={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},M={"Bovin laitier":"Élevage bovin laitier","Bovin viande":"Élevage bovin viande",Porcin:"Élevage porcin",Avicole:"Élevage avicole",Ovin:"Élevage ovin",Caprin:"Élevage caprin",Équin:"Élevage équin",Apiculture:"Apiculture",Aquaculture:"Aquaculture",Cuniculture:"Cuniculture",Mixte:"Élevage mixte"},K={vaccination:"Vaccination",controle:"Contrôle sanitaire",urgence:"Urgence",chirurgie:"Chirurgie",prevention:"Prévention",consultation:"Consultation"},z=se=>{k(se),j(!0)},W=se=>{k(se),w(!0)},T=se=>{confirm("Êtes-vous sûr de vouloir supprimer cette exploitation ?")&&(n(se),o({title:"Succès",description:"Exploitation supprimée"}))},I=se=>{x(!0)},U=se=>{confirm("Êtes-vous sûr de vouloir supprimer cette intervention ?")&&(r(se),o({title:"Succès",description:"Intervention supprimée"}))},H=se=>{P(se),S(!0)},Z=a("attention").length+a("urgent").length,ae=i();return s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Exploitations"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez les fermes, élevages et interventions vétérinaires"})]}),s.jsxs(F,{className:"gap-2 medical-glow",onClick:()=>p(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvelle Exploitation"]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[s.jsx(te,{children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx(mb,{className:"h-12 w-12 text-primary mx-auto mb-4"}),s.jsx("div",{className:"text-2xl font-bold",children:e.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Exploitations"})]})}),s.jsx(te,{children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx(pn,{className:"h-12 w-12 text-accent mx-auto mb-4"}),s.jsx("div",{className:"text-2xl font-bold",children:Z}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Alertes actives"})]})}),s.jsx(te,{children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx(He,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),s.jsx("div",{className:"text-2xl font-bold",children:ae.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Interventions à venir"})]})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Io,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),s.jsx(re,{className:"space-y-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Q,{placeholder:"Rechercher par nom, propriétaire ou type...",value:c,onChange:se=>u(se.target.value),className:"max-w-md"}),s.jsxs(we,{value:d,onValueChange:h,children:[s.jsx(ye,{className:"w-48",children:s.jsx(Ne,{placeholder:"Type d'élevage"})}),s.jsxs(je,{children:[s.jsx(L,{value:"all",children:"Tous types"}),s.jsx(L,{value:"Bovin laitier",children:"Élevage bovin laitier"}),s.jsx(L,{value:"Bovin viande",children:"Élevage bovin viande"}),s.jsx(L,{value:"Porcin",children:"Élevage porcin"}),s.jsx(L,{value:"Avicole",children:"Élevage avicole"}),s.jsx(L,{value:"Ovin",children:"Élevage ovin"}),s.jsx(L,{value:"Caprin",children:"Élevage caprin"}),s.jsx(L,{value:"Équin",children:"Élevage équin"}),s.jsx(L,{value:"Apiculture",children:"Apiculture"}),s.jsx(L,{value:"Aquaculture",children:"Aquaculture"}),s.jsx(L,{value:"Cuniculture",children:"Cuniculture"}),s.jsx(L,{value:"Mixte",children:"Élevage mixte"})]})]})]})})]}),s.jsxs(ki,{defaultValue:"farms",className:"space-y-6",children:[s.jsxs(Ua,{className:"grid w-full grid-cols-2",children:[s.jsxs(At,{value:"farms",className:"gap-2",children:[s.jsx(mb,{className:"h-4 w-4"}),"Exploitations"]}),s.jsxs(At,{value:"interventions",className:"gap-2",children:[s.jsx(He,{className:"h-4 w-4"}),"Interventions"]})]}),s.jsxs(kt,{value:"farms",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Exploitations (",A.length,")"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{size:"sm",variant:f==="cards"?"default":"outline",onClick:()=>m("cards"),className:"gap-2",children:[s.jsx(Ao,{className:"h-4 w-4"}),"Cartes"]}),s.jsxs(F,{size:"sm",variant:f==="table"?"default":"outline",onClick:()=>m("table"),className:"gap-2",children:[s.jsx(bi,{className:"h-4 w-4"}),"Tableau"]}),s.jsxs(F,{onClick:()=>x(!0),className:"gap-2",children:[s.jsx(jn,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]})]}),A.length===0?s.jsx(te,{children:s.jsx(re,{className:"p-6 text-center text-muted-foreground",children:"Aucune exploitation trouvée"})}):f==="cards"?A.map(se=>{var me;return s.jsx(te,{className:"card-hover",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h4",{className:"text-xl font-semibold",children:se.name}),s.jsx(Pe,{variant:"outline",className:R[se.status],children:se.status==="active"?"Actif":se.status==="attention"?"Attention":"Urgent"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Propriétaire:"})," ",se.owner]}),s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(ec,{className:"h-3 w-3"}),se.address]}),s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(Pu,{className:"h-3 w-3"}),se.phone]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Types:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(me=se.types)==null?void 0:me.map(xe=>s.jsx(Pe,{variant:"secondary",className:"text-xs",children:M[xe]||xe},xe))})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Animaux:"})," ",se.totalAnimals]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Vétérinaire:"})," ",se.veterinarian]})]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernière visite: ",Da(se.lastVisit)]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{size:"sm",variant:"outline",onClick:()=>z(se),children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>W(se),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",onClick:()=>I(),children:s.jsx(jn,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"destructive",onClick:()=>T(se.id),children:s.jsx(qn,{className:"h-4 w-4"})})]})]})})},se.id)}):s.jsx(te,{children:s.jsx(re,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-4 font-medium",children:"Exploitation"}),s.jsx("th",{className:"p-4 font-medium",children:"Propriétaire"}),s.jsx("th",{className:"p-4 font-medium",children:"Type"}),s.jsx("th",{className:"p-4 font-medium",children:"Statut"}),s.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),s.jsx("th",{className:"p-4 font-medium",children:"Contact"}),s.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:A.map(se=>{var me;return s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:se.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:se.address})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:se.owner}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Vét: ",se.veterinarian]})]})}),s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:(me=se.types)==null?void 0:me.map(xe=>s.jsx(Pe,{variant:"secondary",className:"text-xs",children:M[xe]||xe},xe))})}),s.jsx("td",{className:"p-4",children:s.jsx(Pe,{variant:"outline",className:R[se.status],children:se.status==="active"?"Actif":se.status==="attention"?"Attention":"Urgent"})}),s.jsx("td",{className:"p-4",children:se.totalAnimals}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pu,{className:"h-3 w-3"}),se.phone]}),s.jsxs("div",{className:"text-muted-foreground",children:["Dernière visite: ",Da(se.lastVisit)]})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(F,{size:"sm",variant:"outline",onClick:()=>z(se),children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>W(se),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",onClick:()=>I(),children:s.jsx(jn,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"destructive",onClick:()=>T(se.id),children:s.jsx(qn,{className:"h-4 w-4"})})]})})]},se.id)})})]})})})})]}),s.jsxs(kt,{value:"interventions",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Interventions récentes (",t.length,")"]}),s.jsxs(F,{onClick:()=>x(!0),className:"gap-2",children:[s.jsx(jn,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]}),t.length===0?s.jsx(te,{children:s.jsx(re,{className:"p-6 text-center text-muted-foreground",children:"Aucune intervention enregistrée"})}):t.map(se=>s.jsx(te,{className:"card-hover",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h4",{className:"text-lg font-semibold",children:K[se.type]}),s.jsx(Pe,{variant:"outline",className:se.status==="completed"?"bg-green-100 text-green-800":se.status==="ongoing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",children:se.status==="completed"?"Terminé":se.status==="ongoing"?"En cours":se.status==="scheduled"?"Programmé":"Annulé"})]}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(He,{className:"h-3 w-3"}),Da(se.date)]}),s.jsx("span",{children:se.farmName}),s.jsx("span",{children:se.veterinarian})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Animaux concernés:"})," ",se.animals]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Suivi:"})," ",se.followUp||"Aucun"]})]}),s.jsx("p",{className:"text-sm",children:se.description}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[s.jsx(F,{size:"sm",variant:"outline",children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>H(se),children:s.jsx(Mt,{className:"h-4 w-4"})}),se.status==="ongoing"&&s.jsx(F,{size:"sm",children:s.jsx(jn,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"destructive",onClick:()=>U(se.id),children:s.jsx(qn,{className:"h-4 w-4"})})]})]})})},se.id))]})]}),s.jsx(nAe,{open:g,onOpenChange:p}),s.jsx(rAe,{open:v,onOpenChange:x,farmId:_==null?void 0:_.id,farmName:_==null?void 0:_.name}),s.jsx(sAe,{farm:_,open:y,onOpenChange:j,onEdit:()=>W(_),onNewIntervention:()=>{j(!1),x(!0)}}),s.jsx(aAe,{farm:_,open:N,onOpenChange:w}),s.jsx(iAe,{intervention:E,open:C,onOpenChange:S})]})};function pj({children:e,mode:t,protocol:n,open:r,onOpenChange:a}){var p;const i=lZ(),o=cZ(),{toast:l}=at(),[c,u]=b.useState(!1),d=r!==void 0?r:c,h=a||u,[f,m]=b.useState({species:(n==null?void 0:n.species)||"",vaccineName:(n==null?void 0:n.vaccine_name)||"",vaccineType:(n==null?void 0:n.vaccine_type)||"",ageRecommendation:(n==null?void 0:n.age_recommendation)||"",frequency:(n==null?void 0:n.frequency)||"",durationDays:((p=n==null?void 0:n.duration_days)==null?void 0:p.toString())||"",notes:(n==null?void 0:n.notes)||"",active:(n==null?void 0:n.active)??!0}),g=async v=>{if(v.preventDefault(),!f.species||!f.vaccineName||!f.vaccineType){l({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}try{const x={species:f.species,vaccine_name:f.vaccineName,vaccine_type:f.vaccineType,age_recommendation:f.ageRecommendation||void 0,frequency:f.frequency||void 0,duration_days:f.durationDays?parseInt(f.durationDays):void 0,notes:f.notes||void 0,active:f.active};t==="create"?(await i.mutateAsync(x),l({title:"Protocole créé",description:`Le protocole ${f.vaccineName} a été créé avec succès`})):n&&(await o.mutateAsync({id:n.id,data:x}),l({title:"Protocole modifié",description:`Le protocole ${f.vaccineName} a été modifié avec succès`})),t==="create"&&m({species:"",vaccineName:"",vaccineType:"",ageRecommendation:"",frequency:"",durationDays:"",notes:"",active:!0}),h(!1)}catch{l({title:"Erreur",description:`Impossible de ${t==="create"?"créer":"modifier"} le protocole`,variant:"destructive"})}};return s.jsxs(Ze,{open:d,onOpenChange:h,children:[s.jsx(Rx,{asChild:!0,children:e||s.jsxs(F,{className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),t==="create"?"Nouveau Protocole":"Modifier"]})}),s.jsxs(Ge,{className:"max-w-2xl",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-5 w-5"}),t==="create"?"Nouveau Protocole Vaccinal":"Modifier le Protocole"]})}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"species",children:"Espèce *"}),s.jsxs(we,{value:f.species,onValueChange:v=>m({...f,species:v}),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionnez l'espèce"})}),s.jsxs(je,{children:[s.jsx(L,{value:"Chien",children:"Chien"}),s.jsx(L,{value:"Chat",children:"Chat"}),s.jsx(L,{value:"Oiseau",children:"Oiseau"}),s.jsx(L,{value:"Lapin",children:"Lapin"}),s.jsx(L,{value:"Furet",children:"Furet"}),s.jsx(L,{value:"Autre",children:"Autre"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"vaccineName",children:"Nom du vaccin *"}),s.jsx(Q,{id:"vaccineName",value:f.vaccineName,onChange:v=>m({...f,vaccineName:v.target.value}),placeholder:"ex: DHPP, Rage, FVRCP...",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"vaccineType",children:"Type de vaccin *"}),s.jsxs(we,{value:f.vaccineType,onValueChange:v=>m({...f,vaccineType:v}),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionnez le type"})}),s.jsxs(je,{children:[s.jsx(L,{value:"core",children:"Essentiel"}),s.jsx(L,{value:"non-core",children:"Optionnel"}),s.jsx(L,{value:"rabies",children:"Rage"}),s.jsx(L,{value:"custom",children:"Personnalisé"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"ageRecommendation",children:"Âge recommandé"}),s.jsx(Q,{id:"ageRecommendation",value:f.ageRecommendation,onChange:v=>m({...f,ageRecommendation:v.target.value}),placeholder:"ex: 8 semaines, 3 mois..."})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"frequency",children:"Fréquence"}),s.jsx(Q,{id:"frequency",value:f.frequency,onChange:v=>m({...f,frequency:v.target.value}),placeholder:"ex: Annuelle, Tous les 3 ans..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"durationDays",children:"Durée (jours)"}),s.jsx(Q,{id:"durationDays",type:"number",value:f.durationDays,onChange:v=>m({...f,durationDays:v.target.value}),placeholder:"ex: 365, 1095...",min:"1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(qe,{id:"notes",value:f.notes,onChange:v=>m({...f,notes:v.target.value}),placeholder:"Informations complémentaires sur le protocole...",rows:3})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"active",checked:f.active,onChange:v=>m({...f,active:v.target.checked}),className:"rounded"}),s.jsx(D,{htmlFor:"active",children:"Protocole actif"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Annuler"}),s.jsx(F,{type:"submit",disabled:i.isPending||o.isPending,children:i.isPending||o.isPending?t==="create"?"Création...":"Modification...":t==="create"?"Créer le protocole":"Modifier le protocole"})]})]})]})]})}const lAe=e=>{if(!e.next_due_date)return"completed";const t=new Date,n=new Date(e.next_due_date);return qg(n,t)?"overdue":"scheduled"},GE=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},YE=e=>{switch(e){case"completed":return s.jsx(On,{className:"h-4 w-4"});case"overdue":return s.jsx(pn,{className:"h-4 w-4"});case"scheduled":return s.jsx(Jt,{className:"h-4 w-4"});case"missed":return s.jsx(pn,{className:"h-4 w-4"});default:return s.jsx(Jt,{className:"h-4 w-4"})}};function cAe(){const{data:e=[],isLoading:t}=IS(),{data:n=[],isLoading:r}=hs(),{data:a=[],isLoading:i}=ds(),{data:o=[]}=oZ(),l=iZ();aZ();const{toast:c}=at(),{currentView:u}=uc("vaccinations"),[d,h]=b.useState(u),[f,m]=b.useState(""),[g,p]=b.useState("all"),[v,x]=b.useState("overview"),[y,j]=b.useState(null),[N,w]=b.useState(!1),[C,S]=b.useState(!1),[_,k]=b.useState(null),E=b.useMemo(()=>t||r||i?[]:e.map(W=>{const T=n.find(U=>U.id===W.animal_id),I=a.find(U=>U.id===(T==null?void 0:T.client_id));return{...W,petName:(T==null?void 0:T.name)||"Animal inconnu",clientName:I?`${I.first_name} ${I.last_name}`:"Client inconnu",status:lAe(W),animal:T,client:I}}),[e,n,a,t,r,i]),P=b.useMemo(()=>{const W=E.length,T=E.filter(Z=>Z.status==="completed").length,I=E.filter(Z=>Z.status==="overdue").length,U=E.filter(Z=>Z.status==="scheduled").length,H=E.filter(Z=>{if(!Z.next_due_date)return!1;const ae=new Date,se=new Date(Z.next_due_date),me=BS(ae,30);return Gee(se,ae)&&qg(se,me)}).length;return{total:W,completed:T,overdue:I,scheduled:U,upcoming:H}},[E]),A=b.useMemo(()=>E.filter(W=>{const T=W.petName.toLowerCase().includes(f.toLowerCase())||W.clientName.toLowerCase().includes(f.toLowerCase())||W.vaccine_name.toLowerCase().includes(f.toLowerCase()),I=g==="all"||W.status===g;return T&&I}),[E,f,g]),R=W=>{k(W),S(!0)},M=()=>{_&&(l.mutate(_.id),c({title:"Vaccination supprimée",description:`La vaccination ${_.vaccine_name} a été supprimée avec succès.`}),S(!1),k(null))},K=()=>{const W=JSON.stringify(E,null,2),T=new Blob([W],{type:"application/json"}),I=URL.createObjectURL(T),U=document.createElement("a");U.href=I,U.download=`vaccinations-${Xe(new Date,"yyyy-MM-dd")}.json`,U.click(),URL.revokeObjectURL(I)};return t||r||i?s.jsx("div",{className:"space-y-6 max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:s.jsx(te,{children:s.jsxs(re,{className:"p-8 text-center",children:[s.jsx(wr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),s.jsx("p",{children:"Chargement des données de vaccination..."})]})})}):s.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3 dark:text-white",children:[s.jsx($r,{className:"h-8 w-8 text-blue-600"}),"Gestion Vaccinale"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Suivi et planification des vaccinations"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(F,{onClick:K,variant:"outline",className:"gap-2",children:[s.jsx(mx,{className:"h-4 w-4"}),"Exporter"]}),s.jsx(BN,{})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx(te,{children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx($r,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:P.total})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(On,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Terminées"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:P.completed})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:s.jsx(pn,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"En Retard"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:P.overdue})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:s.jsx(Jt,{className:"h-6 w-6 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Prochaines 30j"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:P.upcoming})]})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx(He,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Planifiées"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:P.scheduled})]})]})})})]}),s.jsxs(ki,{value:v,onValueChange:x,children:[s.jsxs(Ua,{className:"grid w-full grid-cols-2",children:[s.jsxs(At,{value:"overview",className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-4 w-4"}),"Vue d'ensemble"]}),s.jsxs(At,{value:"protocols",className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-4 w-4"}),"Protocoles"]})]}),s.jsxs(kt,{value:"overview",className:"space-y-4",children:[s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(Io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(Q,{placeholder:"Rechercher animal, client, vaccin...",value:f,onChange:W=>m(W.target.value),className:"pl-10"})]}),s.jsxs(we,{value:g,onValueChange:p,children:[s.jsx(ye,{className:"w-[150px]",children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"all",children:"Tous statuts"}),s.jsx(L,{value:"completed",children:"Terminées"}),s.jsx(L,{value:"scheduled",children:"Planifiées"}),s.jsx(L,{value:"overdue",children:"En retard"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(F,{variant:d==="cards"?"default":"outline",size:"sm",onClick:()=>h("cards"),children:s.jsx(Ao,{className:"h-4 w-4"})}),s.jsx(F,{variant:d==="table"?"default":"outline",size:"sm",onClick:()=>h("table"),children:s.jsx(bi,{className:"h-4 w-4"})})]})]})})}),d==="cards"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(W=>{var T;return s.jsx(te,{className:"hover:shadow-md transition-shadow",children:s.jsxs(re,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jn,{className:"h-10 w-10",children:s.jsx(Zn,{children:s.jsx(Sg,{className:"h-5 w-5"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm",children:W.petName}),s.jsxs("p",{className:"text-xs text-gray-600",children:[(T=W.animal)==null?void 0:T.species," • ",W.clientName]})]})]}),s.jsxs(Pe,{className:GE(W.status),children:[YE(W.status),s.jsx("span",{className:"ml-1 capitalize",children:W.status})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($r,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-sm",children:W.vaccine_name}),W.vaccine_type&&s.jsx(Pe,{variant:"outline",className:"text-xs",children:W.vaccine_type})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(He,{className:"h-4 w-4"}),s.jsxs("span",{children:["Date: ",Xe(new Date(W.vaccination_date),"dd/MM/yyyy",{locale:In})]})]}),W.next_due_date&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Jt,{className:"h-4 w-4"}),s.jsxs("span",{children:["Prochain: ",Xe(new Date(W.next_due_date),"dd/MM/yyyy",{locale:In})]})]}),W.administered_by&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Fa,{className:"h-4 w-4"}),s.jsx("span",{children:W.administered_by})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-3 border-t",children:[s.jsxs(F,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{j(W),w(!0)},children:[s.jsx(bn,{className:"h-4 w-4 mr-1"}),"Détails"]}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>R(W),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(qn,{className:"h-4 w-4"})})]})]})},W.id)})}):s.jsx(te,{children:s.jsx(re,{className:"p-0",children:s.jsxs(Bd,{children:[s.jsx(zd,{children:s.jsxs(ca,{children:[s.jsx(lt,{children:"Animal"}),s.jsx(lt,{children:"Vaccin"}),s.jsx(lt,{children:"Date"}),s.jsx(lt,{children:"Prochain"}),s.jsx(lt,{children:"Statut"}),s.jsx(lt,{children:"Actions"})]})}),s.jsx(Vd,{children:A.map(W=>s.jsxs(ca,{children:[s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jn,{className:"h-8 w-8",children:s.jsx(Zn,{children:s.jsx(Sg,{className:"h-4 w-4"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:W.petName}),s.jsx("div",{className:"text-xs text-gray-600",children:W.clientName})]})]})}),s.jsx(ct,{className:"font-medium",children:W.vaccine_name}),s.jsx(ct,{children:Xe(new Date(W.vaccination_date),"dd/MM/yyyy")}),s.jsx(ct,{children:W.next_due_date?Xe(new Date(W.next_due_date),"dd/MM/yyyy"):"N/A"}),s.jsx(ct,{children:s.jsxs(Pe,{className:GE(W.status),children:[YE(W.status),s.jsx("span",{className:"ml-1 capitalize",children:W.status})]})}),s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(F,{size:"sm",variant:"outline",onClick:()=>{j(W),w(!0)},children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>R(W),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(qn,{className:"h-4 w-4"})})]})})]},W.id))})]})})})]}),s.jsx(kt,{value:"protocols",children:s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-5 w-5"}),"Protocoles Vaccinaux (",o.length,")"]}),s.jsx(pj,{mode:"create"})]})}),s.jsxs(re,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(W=>s.jsx(te,{className:"hover:shadow-md transition-shadow",children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h4",{className:"font-semibold",children:W.vaccine_name}),!W.active&&s.jsx(Pe,{variant:"secondary",className:"text-xs",children:"Inactif"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Espèce: ",W.species]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Type: ",W.vaccine_type]}),W.frequency&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Fréquence: ",W.frequency]}),W.age_recommendation&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Âge: ",W.age_recommendation]}),W.notes&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:W.notes}),s.jsx("div",{className:"flex gap-2 mt-3",children:s.jsx(pj,{mode:"edit",protocol:W,children:s.jsxs(F,{size:"sm",variant:"outline",className:"flex-1",children:[s.jsx(Mt,{className:"h-4 w-4 mr-1"}),"Modifier"]})})})]})})},W.id))}),o.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ur,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"Aucun protocole vaccinal configuré"}),s.jsx(pj,{mode:"create",children:s.jsxs(F,{className:"mt-4",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Créer un protocole"]})})]})]})]})})]}),s.jsx(Ze,{open:N,onOpenChange:w,children:s.jsxs(Ge,{className:"max-w-2xl",children:[s.jsx(et,{children:s.jsx(tt,{children:"Détails de la Vaccination"})}),y&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Animal:"}),s.jsx("p",{children:y.petName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Client:"}),s.jsx("p",{children:y.clientName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Vaccin:"}),s.jsx("p",{children:y.vaccine_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Date:"}),s.jsx("p",{children:Xe(new Date(y.vaccination_date),"dd/MM/yyyy",{locale:In})})]}),y.next_due_date&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Prochain rappel:"}),s.jsx("p",{children:Xe(new Date(y.next_due_date),"dd/MM/yyyy",{locale:In})})]})]}),y.notes&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Notes:"}),s.jsx("p",{className:"text-gray-600",children:y.notes})]}),s.jsx("div",{className:"border-t pt-4 mt-4",children:s.jsx("div",{className:"flex justify-center",children:s.jsx(B6,{animalId:y.animal_id})})})]})]})}),s.jsx(Ze,{open:C,onOpenChange:S,children:s.jsxs(Ge,{className:"max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Confirmer la suppression"})}),_&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-600",children:["Êtes-vous sûr de vouloir supprimer la vaccination ",s.jsx("strong",{children:_.vaccine_name})," pour ",s.jsx("strong",{children:_.petName})," ?"]}),s.jsx("p",{className:"text-sm text-red-600",children:"Cette action est irréversible."}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(F,{variant:"outline",onClick:()=>S(!1),children:"Annuler"}),s.jsx(F,{variant:"destructive",onClick:M,children:"Supprimer"})]})]})]})})]})}var Ry="Switch",[uAe,fke]=us(Ry),[dAe,hAe]=uAe(Ry),U6=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=b.useState(null),g=xt(t,j=>m(j)),p=b.useRef(!1),v=f?d||!!f.closest("form"):!0,[x,y]=ji({prop:a,defaultProp:i??!1,onChange:u,caller:Ry});return s.jsxs(dAe,{scope:n,checked:x,disabled:l,children:[s.jsx(Be.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":K6(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:_e(e.onClick,j=>{y(N=>!N),v&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),v&&s.jsx(H6,{control:f,bubbles:!p.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});U6.displayName=Ry;var q6="SwitchThumb",W6=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=hAe(q6,n);return s.jsx(Be.span,{"data-state":K6(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});W6.displayName=q6;var fAe="SwitchBubbleInput",H6=b.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},i)=>{const o=b.useRef(null),l=xt(o,i),c=ES(n),u=X1(t);return b.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&m){const g=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(g)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});H6.displayName=fAe;function K6(e){return e?"checked":"unchecked"}var G6=U6,mAe=W6;const Er=b.forwardRef(({className:e,...t},n)=>s.jsx(G6,{className:Ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(mAe,{className:Ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Er.displayName=G6.displayName;function pAe({open:e,onOpenChange:t,editingProtocol:n}){const r=pZ(),a=gZ(),{toast:i}=at(),[o,l]=b.useState({species:"",parasiteType:"",productName:"",activeIngredient:"",administrationRoute:"",dosageRecommendation:"",frequencyDays:"",ageRecommendation:"",weightRange:"",seasonRecommendation:"",notes:"",active:!0});b.useEffect(()=>{n&&l({species:n.species,parasiteType:n.parasite_type,productName:n.product_name,activeIngredient:n.active_ingredient||"",administrationRoute:n.administration_route||"",dosageRecommendation:n.dosage_per_kg||"",frequencyDays:"",ageRecommendation:n.age_restriction||"",weightRange:"",seasonRecommendation:"",notes:n.notes||"",active:n.active})},[n]);const c=(f,m)=>{l(g=>({...g,[f]:m}))},u=()=>{l({species:"",parasiteType:"",productName:"",activeIngredient:"",administrationRoute:"",dosageRecommendation:"",frequencyDays:"",ageRecommendation:"",weightRange:"",seasonRecommendation:"",notes:"",active:!0})},d=async f=>{if(f.preventDefault(),!o.species||!o.parasiteType||!o.productName){i({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}try{const m={species:o.species,parasite_type:o.parasiteType,product_name:o.productName,active_ingredient:o.activeIngredient||void 0,administration_route:o.administrationRoute||void 0,dosage_per_kg:o.dosageRecommendation||void 0,frequency:o.frequencyDays?`${o.frequencyDays} jours`:void 0,age_restriction:o.ageRecommendation||void 0,notes:[o.notes,o.weightRange?`Poids: ${o.weightRange}`:"",o.seasonRecommendation?`Saison: ${o.seasonRecommendation}`:""].filter(Boolean).join(" | ")||void 0,active:o.active};n?(await a.mutateAsync({id:n.id,updates:m}),i({title:"Succès",description:"Le protocole antiparasitaire a été modifié avec succès."})):(await r.mutateAsync(m),i({title:"Succès",description:"Le protocole antiparasitaire a été créé avec succès."})),u(),t(!1)}catch(m){console.error("Erreur lors de la sauvegarde du protocole:",m),i({title:"Erreur",description:"Une erreur s'est produite lors de la sauvegarde.",variant:"destructive"})}},h=r.isPending||a.isPending;return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(et,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-5 w-5"}),n?"Modifier le protocole":"Nouveau protocole antiparasitaire"]})}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"species",children:"Espèce *"}),s.jsxs(we,{value:o.species,onValueChange:f=>c("species",f),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner une espèce"})}),s.jsxs(je,{children:[s.jsx(L,{value:"Chien",children:"Chien"}),s.jsx(L,{value:"Chat",children:"Chat"}),s.jsx(L,{value:"Oiseau",children:"Oiseau"}),s.jsx(L,{value:"Lapin",children:"Lapin"}),s.jsx(L,{value:"Furet",children:"Furet"}),s.jsx(L,{value:"Autre",children:"Autre"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"parasiteType",children:"Type de parasite *"}),s.jsxs(we,{value:o.parasiteType,onValueChange:f=>c("parasiteType",f),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner le type"})}),s.jsxs(je,{children:[s.jsx(L,{value:"puces",children:"Puces"}),s.jsx(L,{value:"tiques",children:"Tiques"}),s.jsx(L,{value:"vers_intestinaux",children:"Vers intestinaux"}),s.jsx(L,{value:"vers_cardiaques",children:"Vers cardiaques"}),s.jsx(L,{value:"acariens",children:"Acariens"}),s.jsx(L,{value:"poux",children:"Poux"}),s.jsx(L,{value:"multi_parasites",children:"Multi-parasites"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"productName",children:"Nom du produit *"}),s.jsx(Q,{id:"productName",value:o.productName,onChange:f=>c("productName",f.target.value),placeholder:"Ex: Frontline, Bravecto...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"activeIngredient",children:"Principe actif"}),s.jsx(Q,{id:"activeIngredient",value:o.activeIngredient,onChange:f=>c("activeIngredient",f.target.value),placeholder:"Ex: Fipronil, Fluralaner..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"administrationRoute",children:"Voie d'administration"}),s.jsxs(we,{value:o.administrationRoute,onValueChange:f=>c("administrationRoute",f),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner la voie"})}),s.jsxs(je,{children:[s.jsx(L,{value:"spot_on",children:"Spot-on (pipette)"}),s.jsx(L,{value:"oral",children:"Orale (comprimé/liquide)"}),s.jsx(L,{value:"injection",children:"Injection"}),s.jsx(L,{value:"spray",children:"Spray"}),s.jsx(L,{value:"collier",children:"Collier"}),s.jsx(L,{value:"shampoing",children:"Shampoing"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"dosageRecommendation",children:"Recommandation de dosage"}),s.jsx(Q,{id:"dosageRecommendation",value:o.dosageRecommendation,onChange:f=>c("dosageRecommendation",f.target.value),placeholder:"Ex: 1 pipette par 10-20kg..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"frequencyDays",children:"Fréquence (jours)"}),s.jsx(Q,{id:"frequencyDays",type:"number",value:o.frequencyDays,onChange:f=>c("frequencyDays",f.target.value),placeholder:"Ex: 30, 90..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"ageRecommendation",children:"Recommandation d'âge"}),s.jsx(Q,{id:"ageRecommendation",value:o.ageRecommendation,onChange:f=>c("ageRecommendation",f.target.value),placeholder:"Ex: > 8 semaines, adulte..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"weightRange",children:"Gamme de poids"}),s.jsx(Q,{id:"weightRange",value:o.weightRange,onChange:f=>c("weightRange",f.target.value),placeholder:"Ex: 10-20kg, < 5kg..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"seasonRecommendation",children:"Recommandation saisonnière"}),s.jsxs(we,{value:o.seasonRecommendation,onValueChange:f=>c("seasonRecommendation",f),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner la saison"})}),s.jsxs(je,{children:[s.jsx(L,{value:"toute_annee",children:"Toute l'année"}),s.jsx(L,{value:"printemps_ete",children:"Printemps-Été"}),s.jsx(L,{value:"automne_hiver",children:"Automne-Hiver"}),s.jsx(L,{value:"printemps",children:"Printemps"}),s.jsx(L,{value:"ete",children:"Été"}),s.jsx(L,{value:"automne",children:"Automne"}),s.jsx(L,{value:"hiver",children:"Hiver"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(qe,{id:"notes",value:o.notes,onChange:f=>c("notes",f.target.value),placeholder:"Informations supplémentaires, contre-indications...",rows:3})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Er,{id:"active",checked:o.active,onCheckedChange:f=>c("active",f)}),s.jsx(D,{htmlFor:"active",children:"Protocole actif"})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsxs(F,{type:"submit",disabled:h,children:[h&&s.jsx(wr,{className:"h-4 w-4 mr-2 animate-spin"}),n?"Modifier":"Créer"]})]})]})]})})}const gAe=e=>{if(!e.next_treatment_date)return"completed";const t=new Date(e.next_treatment_date),n=new Date,r=BS(n,7);return qg(t,n)?"overdue":qg(t,r)?"upcoming":"scheduled"},QE=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"upcoming":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},XE=e=>{switch(e){case"completed":return s.jsx(On,{className:"h-4 w-4"});case"overdue":return s.jsx(pn,{className:"h-4 w-4"});case"scheduled":return s.jsx(Jt,{className:"h-4 w-4"});case"upcoming":return s.jsx(He,{className:"h-4 w-4"});default:return s.jsx(Jt,{className:"h-4 w-4"})}},JE=e=>{switch(e){case"completed":return"Terminé";case"overdue":return"En retard";case"scheduled":return"Programmé";case"upcoming":return"À venir";default:return"Inconnu"}},vAe=(e,t,n)=>e.map(r=>{const a=t.find(l=>l.id===r.animal_id),i=a?n.find(l=>l.id===a.client_id):null,o=gAe(r);return{...r,petName:(a==null?void 0:a.name)||"Animal inconnu",petSpecies:(a==null?void 0:a.species)||"Espèce inconnue",clientName:i?`${i.first_name} ${i.last_name}`:"Client inconnu",status:o,animal:a,client:i}});function xAe(){const{currentView:e}=uc("antiparasitics"),{data:t=[],isLoading:n}=uZ(),{data:r=[],isLoading:a}=fZ(),{data:i=[]}=hs(),{data:o=[]}=ds(),l=hZ(),{toast:c}=at(),[u,d]=b.useState(""),[h,f]=b.useState("all"),[m,g]=b.useState("all"),[p,v]=b.useState(!1),[x,y]=b.useState(!1),[j,N]=b.useState(!1),[w,C]=b.useState(null),[S,_]=b.useState(!1),[k,E]=b.useState(null),[P,A]=b.useState(null),R=b.useMemo(()=>vAe(t,i,o),[t,i,o]),M=b.useMemo(()=>R.filter(U=>{const H=!u||U.petName.toLowerCase().includes(u.toLowerCase())||U.clientName.toLowerCase().includes(u.toLowerCase())||U.product_name.toLowerCase().includes(u.toLowerCase()),Z=h==="all"||U.status===h,ae=m==="all"||U.parasite_type===m;return H&&Z&&ae}),[R,u,h,m]),K=b.useMemo(()=>{const U=R.length,H=R.filter(me=>me.status==="overdue").length,Z=R.filter(me=>me.status==="upcoming").length,ae=R.filter(me=>me.status==="completed").length,se=R.reduce((me,xe)=>{const le=xe.parasite_type||"Non spécifié";return me[le]=(me[le]||0)+1,me},{});return{total:U,overdue:H,upcoming:Z,completed:ae,parasiteTypes:se}},[R]),z=U=>{E(U),_(!0)},W=async()=>{if(k)try{await l.mutateAsync(k.id),c({title:"Succès",description:"Le traitement antiparasitaire a été supprimé."}),_(!1),E(null)}catch{c({title:"Erreur",description:"Impossible de supprimer le traitement.",variant:"destructive"})}},I=(U=>[...new Set(U)])(R.map(U=>U.parasite_type).filter(Boolean));return n?s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx(wr,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Chargement des traitements antiparasitaires..."})]}):s.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(cl,{className:"h-8 w-8"}),"Traitements Antiparasitaires"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gestion des traitements antiparasitaires et protocoles"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{onClick:()=>y(!0),variant:"outline",className:"gap-2",children:[s.jsx(Ur,{className:"h-4 w-4"}),"Protocoles"]}),s.jsxs(F,{onClick:()=>v(!0),className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouveau traitement"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold",children:K.total})]}),s.jsx(Oa,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"En retard"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:K.overdue})]}),s.jsx(pn,{className:"h-8 w-8 text-red-500"})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"À venir"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:K.upcoming})]}),s.jsx(He,{className:"h-8 w-8 text-orange-500"})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Terminés"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:K.completed})]}),s.jsx(On,{className:"h-8 w-8 text-green-500"})]})})})]}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Q,{placeholder:"Rechercher par animal, client ou produit...",value:u,onChange:U=>d(U.target.value),className:"pl-10"})]})}),s.jsxs(we,{value:h,onValueChange:f,children:[s.jsx(ye,{className:"w-48",children:s.jsx(Ne,{placeholder:"Filtrer par statut"})}),s.jsxs(je,{children:[s.jsx(L,{value:"all",children:"Tous les statuts"}),s.jsx(L,{value:"overdue",children:"En retard"}),s.jsx(L,{value:"upcoming",children:"À venir"}),s.jsx(L,{value:"scheduled",children:"Programmés"}),s.jsx(L,{value:"completed",children:"Terminés"})]})]}),s.jsxs(we,{value:m,onValueChange:g,children:[s.jsx(ye,{className:"w-48",children:s.jsx(Ne,{placeholder:"Filtrer par parasite"})}),s.jsxs(je,{children:[s.jsx(L,{value:"all",children:"Tous les parasites"}),I.map(U=>s.jsx(L,{value:U,children:U},U))]})]})]})})}),s.jsxs(ki,{defaultValue:"overview",className:"space-y-4",children:[s.jsxs(Ua,{children:[s.jsxs(At,{value:"overview",className:"flex items-center gap-2",children:[s.jsx(bi,{className:"h-4 w-4"}),"Vue d'ensemble"]}),s.jsxs(At,{value:"protocols",className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-4 w-4"}),"Protocoles"]}),s.jsxs(At,{value:"statistics",className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-4 w-4"}),"Statistiques"]})]}),s.jsx(kt,{value:"overview",children:s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Traitements antiparasitaires (",M.length,")"]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(F,{variant:"outline",size:"sm",onClick:()=>{},children:[s.jsx(mx,{className:"h-4 w-4 mr-1"}),"Export"]})})]})}),s.jsxs(re,{children:[e==="table"?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Bd,{children:[s.jsx(zd,{children:s.jsxs(ca,{children:[s.jsx(lt,{children:"Animal"}),s.jsx(lt,{children:"Client"}),s.jsx(lt,{children:"Produit"}),s.jsx(lt,{children:"Parasite"}),s.jsx(lt,{children:"Date traitement"}),s.jsx(lt,{children:"Prochain traitement"}),s.jsx(lt,{children:"Statut"}),s.jsx(lt,{children:"Actions"})]})}),s.jsx(Vd,{children:M.map(U=>s.jsxs(ca,{children:[s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-8 w-8",children:s.jsx(Zn,{children:s.jsx(Sg,{className:"h-4 w-4"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:U.petName}),s.jsx("div",{className:"text-sm text-gray-500",children:U.petSpecies})]})]})}),s.jsx(ct,{children:U.clientName}),s.jsx(ct,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:U.product_name}),U.active_ingredient&&s.jsx("div",{className:"text-sm text-gray-500",children:U.active_ingredient})]})}),s.jsx(ct,{children:U.parasite_type&&s.jsx(Pe,{variant:"outline",children:U.parasite_type})}),s.jsx(ct,{children:Xe(new Date(U.treatment_date),"dd/MM/yyyy",{locale:In})}),s.jsx(ct,{children:U.next_treatment_date?Xe(new Date(U.next_treatment_date),"dd/MM/yyyy",{locale:In}):"N/A"}),s.jsx(ct,{children:s.jsx(Pe,{className:QE(U.status),children:s.jsxs("div",{className:"flex items-center gap-1",children:[XE(U.status),JE(U.status)]})})}),s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>{C(U),N(!0)},children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>z(U),children:s.jsx(qn,{className:"h-4 w-4"})})]})})]},U.id))})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(U=>s.jsx(te,{className:"hover:shadow-md transition-shadow",children:s.jsxs(re,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-8 w-8",children:s.jsx(Zn,{children:s.jsx(Sg,{className:"h-4 w-4"})})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:U.petName}),s.jsx("p",{className:"text-xs text-gray-600",children:U.clientName})]})]}),s.jsx(Pe,{className:QE(U.status),children:s.jsxs("div",{className:"flex items-center gap-1",children:[XE(U.status),JE(U.status)]})})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Produit:"})," ",U.product_name]}),U.parasite_type&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Parasite:"})," ",U.parasite_type]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Date:"})," ",Xe(new Date(U.treatment_date),"dd/MM/yyyy")]}),U.next_treatment_date&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Prochain:"})," ",Xe(new Date(U.next_treatment_date),"dd/MM/yyyy")]})]}),s.jsxs("div",{className:"flex justify-between mt-4",children:[s.jsxs(F,{variant:"outline",size:"sm",onClick:()=>{C(U),N(!0)},children:[s.jsx(bn,{className:"h-4 w-4 mr-1"}),"Détails"]}),s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>z(U),children:s.jsx(qn,{className:"h-4 w-4"})})]})]})},U.id))}),M.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(cl,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"Aucun traitement antiparasitaire trouvé"})]})]})]})}),s.jsx(kt,{value:"protocols",children:s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Protocoles antiparasitaires (",r.length,")"]}),s.jsxs(F,{onClick:()=>{A(null),y(!0)},className:"gap-2",children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouveau protocole"]})]})}),s.jsxs(re,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(U=>s.jsx(te,{className:"hover:shadow-md transition-shadow",children:s.jsxs(re,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(Pe,{variant:"outline",children:U.species}),s.jsx("div",{className:"flex gap-1",children:s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>{A(U),y(!0)},children:s.jsx(Mt,{className:"h-4 w-4"})})})]}),s.jsx("h4",{className:"font-medium mb-2",children:U.product_name}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Parasite:"})," ",U.parasite_type]}),U.active_ingredient&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Principe actif:"})," ",U.active_ingredient]}),U.frequency&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Fréquence:"})," ",U.frequency]})]})]})},U.id))}),r.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ur,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"Aucun protocole configuré"})]})]})]})}),s.jsx(kt,{value:"statistics",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-5 w-5"}),"Répartition par type de parasite"]})}),s.jsx(re,{children:s.jsx("div",{className:"space-y-3",children:Object.entries(K.parasiteTypes).map(([U,H])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:U}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-gray-200 rounded-full h-2 w-20",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${H/K.total*100}%`}})}),s.jsx("span",{className:"text-sm font-medium",children:H})]})]},U))})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{children:"Résumé des traitements"})}),s.jsx(re,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Total des traitements"}),s.jsx("span",{className:"font-bold",children:K.total})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"En retard"}),s.jsx("span",{className:"font-bold text-red-600",children:K.overdue})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"À venir (7 jours)"}),s.jsx("span",{className:"font-bold text-orange-600",children:K.upcoming})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Terminés"}),s.jsx("span",{className:"font-bold text-green-600",children:K.completed})]})]})})]})]})})]}),s.jsx(zN,{open:p,onOpenChange:v}),s.jsx(pAe,{open:x,onOpenChange:y,editingProtocol:P}),s.jsx(Ze,{open:j,onOpenChange:N,children:s.jsxs(Ge,{className:"max-w-2xl",children:[s.jsx(et,{children:s.jsx(tt,{children:"Détails du traitement"})}),w&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Animal:"}),s.jsx("p",{children:w.petName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Client:"}),s.jsx("p",{children:w.clientName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Produit:"}),s.jsx("p",{children:w.product_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Principe actif:"}),s.jsx("p",{children:w.active_ingredient||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Type de parasite:"}),s.jsx("p",{children:w.parasite_type||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Voie d'administration:"}),s.jsx("p",{children:w.administration_route||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Dosage:"}),s.jsx("p",{children:w.dosage||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Date du traitement:"}),s.jsx("p",{children:Xe(new Date(w.treatment_date),"dd/MM/yyyy",{locale:In})})]}),w.next_treatment_date&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Prochain traitement:"}),s.jsx("p",{children:Xe(new Date(w.next_treatment_date),"dd/MM/yyyy",{locale:In})})]}),w.effectiveness_rating&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Efficacité:"}),s.jsxs("p",{children:[w.effectiveness_rating,"/10"]})]})]}),w.notes&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Notes:"}),s.jsx("p",{className:"text-gray-600",children:w.notes})]})]})]})}),s.jsx(Ze,{open:S,onOpenChange:_,children:s.jsxs(Ge,{className:"max-w-md",children:[s.jsx(et,{children:s.jsx(tt,{children:"Confirmer la suppression"})}),k&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-600",children:["Êtes-vous sûr de vouloir supprimer le traitement ",s.jsx("strong",{children:k.product_name})," pour ",s.jsx("strong",{children:k.petName})," ?"]}),s.jsx("p",{className:"text-sm text-red-600",children:"Cette action est irréversible."}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(F,{variant:"outline",onClick:()=>_(!1),children:"Annuler"}),s.jsx(F,{variant:"destructive",onClick:W,children:"Supprimer"})]})]})]})})]})}const yAe=[{value:"medication",label:"Médicaments",icon:"💊"},{value:"vaccine",label:"Vaccins",icon:"💉"},{value:"consumable",label:"Consommables",icon:"🩹"},{value:"equipment",label:"Équipement",icon:"🔧"},{value:"supplement",label:"Suppléments",icon:"🧪"}],jAe=[{value:"unit",label:"Unité"},{value:"box",label:"Boîte"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}],bAe={medication:["Antibiotique","Anti-inflammatoire","Antiparasitaire","Anesthésique","Analgésique","Antihistaminique","Corticoïde","Diurétique","Autre"],vaccine:["Vaccin Core","Vaccin Non-Core","Vaccin Obligatoire","Vaccin Recommandé","Autre"],consumable:["Matériel d'injection","Protection","Pansement","Suture","Autre"],equipment:["Diagnostic","Chirurgie","Monitoring","Stérilisation","Autre"],supplement:["Vitamines","Minéraux","Probiotiques","Acides aminés","Autre"]};function ZE({open:e,onOpenChange:t,editingItem:n}){var h;const{addStockItem:r,updateStockItem:a}=pt(),{settings:i}=_t(),{toast:o}=at(),[l,c]=b.useState({name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0});b.useEffect(()=>{c(n?{name:n.name,category:n.category,subcategory:n.subcategory||"",description:n.description||"",manufacturer:n.manufacturer||"",batchNumber:n.batchNumber||"",dosage:n.dosage||"",unit:n.unit,currentStock:n.currentStock,minimumStock:n.minimumStock,maximumStock:n.maximumStock||0,purchasePrice:n.purchasePrice,sellingPrice:n.sellingPrice,expirationDate:n.expirationDate||"",supplier:n.supplier||"",location:n.location||"",notes:n.notes||"",barcode:n.barcode||"",sku:n.sku||"",isActive:n.isActive}:{name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0})},[n,e]);const u=f=>{if(f.preventDefault(),!l.name.trim()){o({title:"Erreur",description:"Le nom de l'élément est requis.",variant:"destructive"});return}if(l.currentStock<0||l.minimumStock<0||l.purchasePrice<0||l.sellingPrice<0){o({title:"Erreur",description:"Les valeurs numériques ne peuvent pas être négatives.",variant:"destructive"});return}const m={...l,currentStock:Number(l.currentStock),minimumStock:Number(l.minimumStock),maximumStock:Number(l.maximumStock)||void 0,purchasePrice:Number(l.purchasePrice),sellingPrice:Number(l.sellingPrice),expirationDate:l.expirationDate||void 0,subcategory:l.subcategory||void 0,description:l.description||void 0,manufacturer:l.manufacturer||void 0,batchNumber:l.batchNumber||void 0,dosage:l.dosage||void 0,supplier:l.supplier||void 0,location:l.location||void 0,notes:l.notes||void 0,barcode:l.barcode||void 0,sku:l.sku||void 0};n?(a(n.id,m),o({title:"Élément modifié",description:`"${l.name}" a été modifié avec succès.`})):(r(m),o({title:"Élément ajouté",description:`"${l.name}" a été ajouté au stock.`})),t(!1)},d=(f,m)=>{c(g=>({...g,[f]:m}))};return s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:n?"Modifier l'élément de stock":"Nouvel élément de stock"}),s.jsx(Rt,{children:n?"Modifiez les informations de l'élément de stock.":"Ajoutez un nouvel élément à votre inventaire."})]}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Informations de base"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"name",children:"Nom de l'élément *"}),s.jsx(Q,{id:"name",value:l.name,onChange:f=>d("name",f.target.value),placeholder:"ex: Amoxicilline 500mg",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"category",children:"Catégorie *"}),s.jsxs(we,{value:l.category,onValueChange:f=>d("category",f),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner une catégorie"})}),s.jsx(je,{children:yAe.map(f=>s.jsxs(L,{value:f.value,children:[f.icon," ",f.label]},f.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"subcategory",children:"Sous-catégorie"}),s.jsxs(we,{value:l.subcategory,onValueChange:f=>d("subcategory",f),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner une sous-catégorie"})}),s.jsx(je,{children:(h=bAe[l.category])==null?void 0:h.map(f=>s.jsx(L,{value:f,children:f},f))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"manufacturer",children:"Fabricant"}),s.jsx(Q,{id:"manufacturer",value:l.manufacturer,onChange:f=>d("manufacturer",f.target.value),placeholder:"ex: Boehringer Ingelheim"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"description",children:"Description"}),s.jsx(qe,{id:"description",value:l.description,onChange:f=>d("description",f.target.value),placeholder:"Description détaillée de l'élément...",rows:2})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Informations techniques"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"batchNumber",children:"Numéro de lot"}),s.jsx(Q,{id:"batchNumber",value:l.batchNumber,onChange:f=>d("batchNumber",f.target.value),placeholder:"ex: AMX2024001"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"dosage",children:"Dosage"}),s.jsx(Q,{id:"dosage",value:l.dosage,onChange:f=>d("dosage",f.target.value),placeholder:"ex: 500mg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"unit",children:"Unité"}),s.jsxs(we,{value:l.unit,onValueChange:f=>d("unit",f),children:[s.jsx(ye,{children:s.jsx(Ne,{placeholder:"Sélectionner une unité"})}),s.jsx(je,{children:jAe.map(f=>s.jsx(L,{value:f.value,children:f.label},f.value))})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Gestion du stock"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"currentStock",children:"Stock actuel *"}),s.jsx(Q,{id:"currentStock",type:"number",min:"0",value:l.currentStock,onChange:f=>d("currentStock",parseInt(f.target.value)||0),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"minimumStock",children:"Stock minimum *"}),s.jsx(Q,{id:"minimumStock",type:"number",min:"0",value:l.minimumStock,onChange:f=>d("minimumStock",parseInt(f.target.value)||0),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"maximumStock",children:"Stock maximum"}),s.jsx(Q,{id:"maximumStock",type:"number",min:"0",value:l.maximumStock,onChange:f=>d("maximumStock",parseInt(f.target.value)||0)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(D,{htmlFor:"purchasePrice",children:["Prix d'achat (",i.currency,") *"]}),s.jsx(Q,{id:"purchasePrice",type:"number",step:"0.01",min:"0",value:l.purchasePrice,onChange:f=>d("purchasePrice",parseFloat(f.target.value)||0),required:!0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix d'achat au fournisseur"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(D,{htmlFor:"sellingPrice",children:["Prix de vente (",i.currency,") *"]}),s.jsx(Q,{id:"sellingPrice",type:"number",step:"0.01",min:"0",value:l.sellingPrice,onChange:f=>d("sellingPrice",parseFloat(f.target.value)||0),required:!0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix de vente au client"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"La valeur totale sera calculée automatiquement : Prix d'achat × Stock actuel"}),l.purchasePrice>0&&l.currentStock>0&&s.jsxs("div",{className:"text-sm font-medium text-primary",children:["Valeur totale : ",(l.purchasePrice*l.currentStock).toFixed(2)," ",i.currency]}),l.purchasePrice>0&&l.sellingPrice>0&&s.jsxs("div",{className:"text-sm font-medium text-green-600",children:["Marge : ",((l.sellingPrice-l.purchasePrice)*l.currentStock).toFixed(2)," ",i.currency]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Informations supplémentaires"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"expirationDate",children:"Date d'expiration"}),s.jsx(Q,{id:"expirationDate",type:"date",value:l.expirationDate,onChange:f=>d("expirationDate",f.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"supplier",children:"Fournisseur"}),s.jsx(Q,{id:"supplier",value:l.supplier,onChange:f=>d("supplier",f.target.value),placeholder:"ex: Pharmacie Vétérinaire Centrale"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"location",children:"Emplacement"}),s.jsx(Q,{id:"location",value:l.location,onChange:f=>d("location",f.target.value),placeholder:"ex: Armoire A - Étagère 1"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"barcode",children:"Code-barres"}),s.jsx(Q,{id:"barcode",value:l.barcode,onChange:f=>d("barcode",f.target.value),placeholder:"ex: 1234567890123"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"sku",children:"SKU"}),s.jsx(Q,{id:"sku",value:l.sku,onChange:f=>d("sku",f.target.value),placeholder:"ex: MED-AMX-500"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(qe,{id:"notes",value:l.notes,onChange:f=>d("notes",f.target.value),placeholder:"Notes supplémentaires...",rows:3})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsx(F,{type:"submit",children:n?"Modifier":"Ajouter"})]})]})]})})}const wAe=[{value:"in",label:"Entrée",icon:sn,description:"Ajout de stock (achat, retour, etc.)"},{value:"out",label:"Sortie",icon:$l,description:"Utilisation, vente, perte, etc."},{value:"adjustment",label:"Ajustement",icon:nI,description:"Correction d'inventaire"},{value:"transfer",label:"Transfert",icon:gU,description:"Déplacement entre emplacements"}],NAe={in:["Achat fournisseur","Retour client","Inventaire initial","Don/échantillon","Transfert entrant","Autre"],out:["Utilisation consultation","Vente client","Périmé/expiré","Cassé/endommagé","Vol/perte","Transfert sortant","Autre"],adjustment:["Correction inventaire","Comptage physique","Erreur saisie","Autre"],transfer:["Changement emplacement","Transfert entre sites","Réorganisation stock","Autre"]};function SAe({open:e,onOpenChange:t,item:n}){var g;const{updateStockItem:r,addStockMovement:a}=pt(),{settings:i}=_t(),{toast:o}=at(),[l,c]=b.useState({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),[u,d]=b.useState("");b.useEffect(()=>{n&&(c({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),d(""))},[n,e]);const h=p=>{if(p.preventDefault(),!n)return;if(l.quantity<=0){o({title:"Erreur",description:"La quantité doit être supérieure à 0.",variant:"destructive"});return}if(!l.reason.trim()){o({title:"Erreur",description:"La raison du mouvement est requise.",variant:"destructive"});return}let v=n.currentStock;if(l.type==="in")v+=l.quantity;else if(l.type==="out"){if(l.quantity>n.currentStock){o({title:"Erreur",description:`Stock insuffisant. Stock disponible: ${n.currentStock}`,variant:"destructive"});return}v-=l.quantity}else l.type==="adjustment"&&(v=l.quantity);l.type!=="transfer"&&r(n.id,{currentStock:v,lastRestocked:l.type==="in"?new Date().toISOString().split("T")[0]:void 0});const x=l.performedBy==="Autre"?u:l.performedBy,y={itemId:n.id,itemName:n.name,type:l.type,quantity:l.quantity,reason:l.reason,reference:l.reference||void 0,performedBy:x||void 0,date:new Date().toISOString(),notes:l.notes||void 0};a(y),o({title:"Mouvement enregistré",description:`${{in:"Entrée",out:"Sortie",adjustment:"Ajustement",transfer:"Transfert"}[l.type]} de ${l.quantity} ${n.unit} pour "${n.name}" enregistrée.`}),t(!1)},f=(p,v)=>{c(x=>({...x,[p]:v}))},m=()=>{if(!n)return 0;let p=n.currentStock;return l.type==="in"?p+=l.quantity:l.type==="out"?p-=l.quantity:l.type==="adjustment"&&(p=l.quantity),Math.max(0,p)};return n?s.jsx(Ze,{open:e,onOpenChange:t,children:s.jsxs(Ge,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsxs(tt,{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-5 w-5"}),"Mouvement de stock"]}),s.jsxs(Rt,{children:['Enregistrer un mouvement pour "',n.name,'"']})]}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:[s.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[s.jsx(Oa,{className:"h-5 w-5 text-blue-600"}),"Élément concerné"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock actuel"}),s.jsxs("div",{className:"font-semibold text-lg",children:[n.currentStock," ",n.unit]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock minimum"}),s.jsxs("div",{className:"font-semibold text-lg",children:[n.minimumStock," ",n.unit]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Emplacement"}),s.jsxs("div",{className:"font-semibold text-lg flex items-center gap-1",children:[s.jsx(ec,{className:"h-4 w-4"}),n.location||"Non défini"]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix d'achat"}),s.jsxs("div",{className:"font-semibold text-lg text-blue-600",children:[n.purchasePrice.toFixed(2)," ",i.currency]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix de vente"}),s.jsxs("div",{className:"font-semibold text-lg text-green-600",children:[n.sellingPrice.toFixed(2)," ",i.currency]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Valeur totale"}),s.jsxs("div",{className:"font-semibold text-lg text-purple-600",children:[n.totalValue.toFixed(2)," ",i.currency]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{className:"text-base font-medium",children:"Type de mouvement *"}),s.jsxs(we,{value:l.type,onValueChange:p=>f("type",p),children:[s.jsx(ye,{className:"h-12",children:s.jsx(Ne,{placeholder:"Sélectionner le type de mouvement"})}),s.jsx(je,{children:wAe.map(p=>{const v=p.icon;return s.jsx(L,{value:p.value,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(v,{className:"h-5 w-5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:p.label}),s.jsx("div",{className:"text-xs text-muted-foreground",children:p.description})]})]})},p.value)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"quantity",className:"text-base font-medium",children:"Quantité *"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Q,{id:"quantity",type:"number",min:"0",step:"0.01",value:l.quantity,onChange:p=>f("quantity",parseFloat(p.target.value)||0),className:"flex-1 h-12 text-lg",required:!0}),s.jsx("div",{className:"bg-muted px-3 py-2 rounded-md text-sm font-medium",children:n.unit})]}),l.quantity>0&&s.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Nouveau stock après mouvement:"}),s.jsxs("div",{className:`text-lg font-semibold ${m()<=n.minimumStock?"text-orange-600":"text-green-600"}`,children:[m()," ",n.unit]}),m()<=n.minimumStock&&s.jsxs("div",{className:"text-xs text-orange-600 mt-1 flex items-center gap-1",children:[s.jsx(pn,{className:"h-3 w-3"}),"Stock bas - Seuil minimum atteint"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"reason",className:"text-base font-medium",children:"Raison *"}),s.jsxs(we,{value:l.reason,onValueChange:p=>f("reason",p),children:[s.jsx(ye,{className:"h-12",children:s.jsx(Ne,{placeholder:"Sélectionner une raison"})}),s.jsx(je,{children:(g=NAe[l.type])==null?void 0:g.map(p=>s.jsx(L,{value:p,children:p},p))})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"reference",className:"text-base font-medium",children:"Référence"}),s.jsx(Q,{id:"reference",value:l.reference,onChange:p=>f("reference",p.target.value),placeholder:"ex: Facture #12345, Consultation #678",className:"h-12"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"performedBy",className:"text-base font-medium",children:"Effectué par"}),s.jsxs(we,{value:l.performedBy,onValueChange:p=>f("performedBy",p),children:[s.jsx(ye,{className:"h-12",children:s.jsx(Ne,{placeholder:"Sélectionner un vétérinaire"})}),s.jsxs(je,{children:[i.veterinarians.filter(p=>p.isActive).map(p=>s.jsx(L,{value:p.name,children:p.name},p.id)),s.jsx(L,{value:"Autre",children:"Autre (saisie manuelle)"})]})]}),l.performedBy==="Autre"&&s.jsx(Q,{placeholder:"Nom du responsable",value:u,onChange:p=>d(p.target.value),className:"h-10 mt-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",className:"text-base font-medium",children:"Notes"}),s.jsx(qe,{id:"notes",value:l.notes,onChange:p=>f("notes",p.target.value),placeholder:"Notes supplémentaires...",rows:4,className:"resize-none"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>t(!1),className:"h-12 px-6",children:"Annuler"}),s.jsxs(F,{type:"submit",className:"h-12 px-8 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[s.jsx(sn,{className:"h-4 w-4 mr-2"}),"Enregistrer le mouvement"]})]})]})]})}):null}const fh={medication:{label:"Médicaments",color:"bg-blue-100 text-blue-800",icon:"💊"},vaccine:{label:"Vaccins",color:"bg-green-100 text-green-800",icon:"💉"},consumable:{label:"Consommables",color:"bg-orange-100 text-orange-800",icon:"🩹"},equipment:{label:"Équipement",color:"bg-purple-100 text-purple-800",icon:"🔧"},supplement:{label:"Suppléments",color:"bg-yellow-100 text-yellow-800",icon:"🧪"}},CAe=[{value:"unit",label:"Unité"},{value:"box",label:"Boîte"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}];function _Ae(){const{stockItems:e,stockAlerts:t,stockMovements:n,addStockItem:r,updateStockItem:a,deleteStockItem:i,addStockMovement:o,getStockAlerts:l}=pt(),{settings:c}=_t(),{toast:u}=at(),[d,h]=b.useState(!1),[f,m]=b.useState(!1),[g,p]=b.useState(!1),[v,x]=b.useState(null),[y,j]=b.useState(null),[N,w]=b.useState(""),[C,S]=b.useState("all"),[_,k]=b.useState("all"),[E,P]=b.useState("name"),[A,R]=b.useState("asc"),[M,K]=b.useState(null),[z,W]=b.useState(""),T=b.useMemo(()=>{const Y=e.length,ee=e.reduce((fe,he)=>fe+he.totalValue,0),oe=e.filter(fe=>fe.currentStock<=fe.minimumStock).length,O=e.filter(fe=>fe.expirationDate&&new Date(fe.expirationDate)<new Date).length,q=e.filter(fe=>fe.expirationDate&&new Date(fe.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(fe.expirationDate)>new Date).length;return{totalItems:Y,totalValue:ee,lowStockItems:oe,expiredItems:O,expiringSoonItems:q}},[e]),I=b.useMemo(()=>{let Y=e.filter(ee=>{var fe,he;const oe=ee.name.toLowerCase().includes(N.toLowerCase())||((fe=ee.manufacturer)==null?void 0:fe.toLowerCase().includes(N.toLowerCase()))||((he=ee.batchNumber)==null?void 0:he.toLowerCase().includes(N.toLowerCase())),O=C==="all"||ee.category===C;let q=!0;return _==="low_stock"?q=ee.currentStock<=ee.minimumStock:_==="expired"?q=ee.expirationDate&&new Date(ee.expirationDate)<new Date:_==="expiring_soon"?q=ee.expirationDate&&new Date(ee.expirationDate)<=new Date(Date.now()+2592e6)&&new Date(ee.expirationDate)>new Date:_==="active"&&(q=ee.isActive),oe&&O&&q});return Y.sort((ee,oe)=>{let O,q;switch(E){case"name":O=ee.name.toLowerCase(),q=oe.name.toLowerCase();break;case"currentStock":O=ee.currentStock,q=oe.currentStock;break;case"totalValue":O=ee.totalValue,q=oe.totalValue;break;case"expirationDate":O=ee.expirationDate||"9999-12-31",q=oe.expirationDate||"9999-12-31";break;default:O=ee.name.toLowerCase(),q=oe.name.toLowerCase()}return A==="asc"?O<q?-1:O>q?1:0:O>q?-1:O<q?1:0}),Y},[e,N,C,_,E,A]),U=(Y,ee,oe)=>{const O={};switch(ee){case"currentStock":O.currentStock=parseInt(oe)||0;break;case"minimumStock":O.minimumStock=parseInt(oe)||0;break;case"purchasePrice":O.purchasePrice=parseFloat(oe)||0;break;case"sellingPrice":O.sellingPrice=parseFloat(oe)||0;break;case"location":O.location=oe;break;case"notes":O.notes=oe;break}a(Y,O),K(null),u({title:"Stock mis à jour",description:"L'élément de stock a été mis à jour avec succès."})},H=Y=>{j(Y),p(!0)},Z=Y=>{p(Y),Y||j(null)},ae=Y=>{confirm(`Êtes-vous sûr de vouloir supprimer "${Y.name}" du stock ?`)&&(i(Y.id),u({title:"Élément supprimé",description:`"${Y.name}" a été supprimé du stock.`}))},se=Y=>{x(Y),m(!0)},me=()=>{const Y=[["Nom","Catégorie","Sous-catégorie","Fabricant","Numéro de lot","Dosage","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),...e.map(q=>[`"${q.name}"`,`"${q.category}"`,`"${q.subcategory||""}"`,`"${q.manufacturer||""}"`,`"${q.batchNumber||""}"`,`"${q.dosage||""}"`,`"${q.unit}"`,q.currentStock,q.minimumStock,q.purchasePrice,q.sellingPrice,`"${q.expirationDate||""}"`,`"${q.supplier||""}"`,`"${q.location||""}"`,`"${q.notes||""}"`,`"${q.barcode||""}"`,`"${q.sku||""}"`].join(","))].join(`
`),ee=new Blob([Y],{type:"text/csv;charset=utf-8;"}),oe=document.createElement("a"),O=URL.createObjectURL(ee);oe.setAttribute("href",O),oe.setAttribute("download",`stock_${new Date().toISOString().split("T")[0]}.csv`),oe.style.visibility="hidden",document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),u({title:"Export réussi",description:"Le fichier CSV a été téléchargé avec succès."})},xe=Y=>{var O;const ee=(O=Y.target.files)==null?void 0:O[0];if(!ee)return;const oe=new FileReader;oe.onload=q=>{var fe;try{const Ye=((fe=q.target)==null?void 0:fe.result).split(`
`),We=Ye[0].split(",").map(jt=>jt.replace(/"/g,"").trim()),$e=["Nom","Catégorie","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente"].filter(jt=>!We.includes(jt));if($e.length>0){u({title:"Erreur d'import",description:`En-têtes manquants: ${$e.join(", ")}`,variant:"destructive"});return}const it=[];let ie=0,Me=0;for(let jt=1;jt<Ye.length;jt++){const Ft=Ye[jt].trim();if(Ft)try{const Kn=Ft.split(",").map(er=>er.replace(/"/g,"").trim()),gt={};if(We.forEach((er,Wr)=>{gt[er]=Kn[Wr]||""}),!gt.Nom||!gt.Catégorie||!gt.Unité){Me++;continue}if(!Object.keys(fh).includes(gt.Catégorie)){Me++;continue}const Sn={id:Date.now()+jt,name:gt.Nom,category:gt.Catégorie,subcategory:gt["Sous-catégorie"]||"",manufacturer:gt.Fabricant||"",batchNumber:gt["Numéro de lot"]||"",dosage:gt.Dosage||"",unit:gt.Unité,currentStock:parseInt(gt["Stock actuel"])||0,minimumStock:parseInt(gt["Stock minimum"])||0,purchasePrice:parseFloat(gt["Prix d'achat"])||0,sellingPrice:parseFloat(gt["Prix de vente"])||0,totalValue:(parseInt(gt["Stock actuel"])||0)*(parseFloat(gt["Prix d'achat"])||0),expirationDate:gt["Date d'expiration"]||void 0,supplier:gt.Fournisseur||"",location:gt.Emplacement||"",notes:gt.Notes||"",barcode:gt["Code-barres"]||"",sku:gt.SKU||"",lastUpdated:new Date().toISOString(),isActive:!0};it.push(Sn),ie++}catch(Kn){Me++,console.error(`Erreur ligne ${jt+1}:`,Kn)}}it.length>0&&it.forEach(jt=>{r(jt)}),u({title:"Import terminé",description:`${ie} éléments importés avec succès${Me>0?`, ${Me} erreurs`:""}.`})}catch{u({title:"Erreur d'import",description:"Impossible de lire le fichier CSV.",variant:"destructive"})}},oe.readAsText(ee),Y.target.value=""},le=()=>{const Y=[["Nom","Catégorie","Sous-catégorie","Fabricant","Numéro de lot","Dosage","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),["Amoxicilline 500mg","medication","Antibiotique","Boehringer Ingelheim","AMX2024001","500mg","box","15","5","20.00","25.50","2025-12-31","Pharmacie Vétérinaire Centrale","Armoire A - Étagère 1","Stockage à température ambiante","1234567890123","MED-AMX-500"].join(","),["Vaccin DHPP","vaccine","Vaccin combiné","Merial","VAC2024001","1ml","vial","25","10","45.00","55.00","2025-06-30","VetoPharma","Réfrigérateur - Étagère 1","Conservation entre 2-8°C","9876543210987","VAC-DHPP-001"].join(","),["Seringues 5ml","consumable","Matériel médical","BD","SYR2024001","5ml","unit","100","20","0.50","0.75","","MedSupply","Armoire B - Étagère 2","Usage unique","5556667778889","CON-SYR-5ML"].join(",")].join(`
`),ee=new Blob([Y],{type:"text/csv;charset=utf-8;"}),oe=document.createElement("a"),O=URL.createObjectURL(ee);oe.setAttribute("href",O),oe.setAttribute("download","gabarit_import_stock.csv"),oe.style.visibility="hidden",document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),u({title:"Gabarit téléchargé",description:"Le fichier gabarit a été téléchargé avec succès."})};return s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(Oa,{className:"h-8 w-8 text-primary"}),"Gestion de Stock"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez votre inventaire de médicaments, vaccins et consommables"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(F,{variant:"outline",onClick:me,className:"gap-2",children:[s.jsx(mx,{className:"h-4 w-4"}),"Exporter CSV"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:xe,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"import-file"}),s.jsx(F,{variant:"outline",className:"gap-2",asChild:!0,children:s.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[s.jsx(pb,{className:"h-4 w-4"}),"Importer CSV"]})})]}),s.jsxs(F,{variant:"outline",onClick:le,className:"gap-2",children:[s.jsx(v_,{className:"h-4 w-4"}),"Gabarit"]}),s.jsxs(F,{className:"gap-2 medical-glow",onClick:()=>h(!0),children:[s.jsx(nt,{className:"h-4 w-4"}),"Nouvel Élément"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx(te,{children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Éléments"}),s.jsx("p",{className:"text-2xl font-bold",children:T.totalItems})]}),s.jsx(Oa,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur Totale"}),s.jsxs("p",{className:"text-2xl font-bold",children:[T.totalValue.toFixed(2)," ",c.currency]})]}),s.jsx(fd,{className:"h-8 w-8 text-green-600"})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Stock Bas"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:T.lowStockItems})]}),s.jsx(pn,{className:"h-8 w-8 text-orange-600"})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirés"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:T.expiredItems})]}),s.jsx(lf,{className:"h-8 w-8 text-red-600"})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirent Bientôt"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:T.expiringSoonItems})]}),s.jsx(Jt,{className:"h-8 w-8 text-yellow-600"})]})})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(tI,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),s.jsx(re,{className:"space-y-4",children:s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx("div",{className:"flex-1 min-w-[300px]",children:s.jsx(Q,{placeholder:"Rechercher par nom, fabricant, lot...",value:N,onChange:Y=>w(Y.target.value),className:"w-full"})}),s.jsxs(we,{value:C,onValueChange:S,children:[s.jsx(ye,{className:"w-48",children:s.jsx(Ne,{placeholder:"Catégorie"})}),s.jsxs(je,{children:[s.jsx(L,{value:"all",children:"Toutes les catégories"}),Object.entries(fh).map(([Y,ee])=>s.jsxs(L,{value:Y,children:[ee.icon," ",ee.label]},Y))]})]}),s.jsxs(we,{value:_,onValueChange:k,children:[s.jsx(ye,{className:"w-48",children:s.jsx(Ne,{placeholder:"Statut"})}),s.jsxs(je,{children:[s.jsx(L,{value:"all",children:"Tous les statuts"}),s.jsx(L,{value:"active",children:"Actifs"}),s.jsx(L,{value:"low_stock",children:"Stock bas"}),s.jsx(L,{value:"expired",children:"Expirés"}),s.jsx(L,{value:"expiring_soon",children:"Expirent bientôt"})]})]}),s.jsxs(we,{value:E,onValueChange:P,children:[s.jsx(ye,{className:"w-48",children:s.jsx(Ne,{placeholder:"Trier par"})}),s.jsxs(je,{children:[s.jsx(L,{value:"name",children:"Nom"}),s.jsx(L,{value:"currentStock",children:"Stock actuel"}),s.jsx(L,{value:"totalValue",children:"Valeur totale"}),s.jsx(L,{value:"expirationDate",children:"Date d'expiration"})]})]}),s.jsx(F,{variant:"outline",onClick:()=>R(A==="asc"?"desc":"asc"),children:A==="asc"?s.jsx(sn,{className:"h-4 w-4"}):s.jsx($l,{className:"h-4 w-4"})})]})})]}),s.jsx(te,{className:"bg-blue-50 border-blue-200",children:s.jsx(re,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(v_,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-blue-900",children:"Import en masse"}),s.jsx("p",{className:"text-sm text-blue-700",children:'Utilisez le bouton "Gabarit" pour télécharger un fichier CSV avec le format correct. Les données importées seront ajoutées au stock existant.'}),s.jsxs("div",{className:"text-xs text-blue-600",children:[s.jsx("strong",{children:"Catégories valides :"})," medication, vaccine, consumable, equipment, supplement"]}),s.jsxs("div",{className:"text-xs text-blue-600",children:[s.jsx("strong",{children:"Unités valides :"})," box, vial, unit, ml, mg, g, kg, l, pack, tube, sachet"]})]})]})})}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{children:["Inventaire (",I.length," éléments)"]})}),s.jsxs(re,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Bd,{children:[s.jsx(zd,{children:s.jsxs(ca,{children:[s.jsx(lt,{children:"Nom"}),s.jsx(lt,{children:"Catégorie"}),s.jsx(lt,{children:"Fabricant"}),s.jsx(lt,{children:"Stock"}),s.jsx(lt,{children:"Prix d'achat"}),s.jsx(lt,{children:"Prix de vente"}),s.jsx(lt,{children:"Valeur totale"}),s.jsx(lt,{children:"Expiration"}),s.jsx(lt,{children:"Emplacement"}),s.jsx(lt,{children:"Actions"})]})}),s.jsx(Vd,{children:I.map(Y=>{var q;const ee=Y.currentStock<=Y.minimumStock,oe=Y.expirationDate&&new Date(Y.expirationDate)<new Date,O=Y.expirationDate&&new Date(Y.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(Y.expirationDate)>new Date;return s.jsxs(ca,{className:Y.isActive?"":"opacity-50",children:[s.jsx(ct,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium",children:Y.name}),Y.batchNumber&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Lot: ",Y.batchNumber]}),Y.dosage&&s.jsx("div",{className:"text-sm text-muted-foreground",children:Y.dosage})]})}),s.jsxs(ct,{children:[s.jsxs(Pe,{className:fh[Y.category].color,children:[fh[Y.category].icon," ",fh[Y.category].label]}),Y.subcategory&&s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:Y.subcategory})]}),s.jsx(ct,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{children:Y.manufacturer||"-"}),Y.supplier&&s.jsx("div",{className:"text-sm text-muted-foreground",children:Y.supplier})]})}),s.jsx(ct,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`font-medium ${ee?"text-orange-600":""}`,children:[Y.currentStock," ",((q=CAe.find(fe=>fe.value===Y.unit))==null?void 0:q.label)||Y.unit]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Min: ",Y.minimumStock]}),s.jsxs("div",{className:"flex items-center gap-2",children:[ee&&s.jsx(Pe,{variant:"destructive",className:"text-xs",children:"Stock bas"}),Y.lastUpdated&&new Date(Y.lastUpdated).getTime()>Date.now()-24*60*60*1e3&&s.jsx(Pe,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:"Mis à jour"})]})]})}),s.jsx(ct,{children:(M==null?void 0:M.id)===Y.id&&M.field==="purchasePrice"?s.jsx(Q,{type:"number",step:"0.01",value:z,onChange:fe=>W(fe.target.value),onBlur:()=>U(Y.id,"purchasePrice",z),onKeyDown:fe=>{fe.key==="Enter"&&U(Y.id,"purchasePrice",z)},autoFocus:!0,className:"w-20"}):s.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{K({id:Y.id,field:"purchasePrice"}),W(Y.purchasePrice.toString())},children:[Y.purchasePrice.toFixed(2)," ",c.currency]})}),s.jsx(ct,{children:(M==null?void 0:M.id)===Y.id&&M.field==="sellingPrice"?s.jsx(Q,{type:"number",step:"0.01",value:z,onChange:fe=>W(fe.target.value),onBlur:()=>U(Y.id,"sellingPrice",z),onKeyDown:fe=>{fe.key==="Enter"&&U(Y.id,"sellingPrice",z)},autoFocus:!0,className:"w-20"}):s.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{K({id:Y.id,field:"sellingPrice"}),W(Y.sellingPrice.toString())},children:[s.jsxs("div",{className:"font-medium",children:[Y.sellingPrice.toFixed(2)," ",c.currency]}),s.jsxs("div",{className:"text-xs text-green-600",children:["Marge: ",((Y.sellingPrice-Y.purchasePrice)*Y.currentStock).toFixed(2)," ",c.currency]})]})}),s.jsx(ct,{children:s.jsxs("div",{className:"font-medium",children:[Y.totalValue.toFixed(2)," ",c.currency]})}),s.jsx(ct,{children:Y.expirationDate?s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:`text-sm ${oe?"text-red-600 font-medium":O?"text-yellow-600 font-medium":""}`,children:Xe(new Date(Y.expirationDate),"dd/MM/yyyy",{locale:In})}),oe&&s.jsx(Pe,{variant:"destructive",className:"text-xs",children:"Expiré"}),O&&!oe&&s.jsx(Pe,{variant:"secondary",className:"text-xs bg-yellow-100 text-yellow-800",children:"Expire bientôt"})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(ct,{children:(M==null?void 0:M.id)===Y.id&&M.field==="location"?s.jsx(Q,{value:z,onChange:fe=>W(fe.target.value),onBlur:()=>U(Y.id,"location",z),onKeyDown:fe=>{fe.key==="Enter"&&U(Y.id,"location",z)},autoFocus:!0,className:"w-32"}):s.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded flex items-center gap-1",onClick:()=>{K({id:Y.id,field:"location"}),W(Y.location||"")},children:[s.jsx(ec,{className:"h-3 w-3"}),Y.location||"Non défini"]})}),s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(F,{size:"sm",variant:"outline",onClick:()=>se(Y),children:s.jsx(sn,{className:"h-3 w-3"})}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>H(Y),children:s.jsx(Mt,{className:"h-3 w-3"})}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>ae(Y),children:s.jsx(qn,{className:"h-3 w-3"})})]})})]},Y.id)})})]})}),I.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Oa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Aucun élément trouvé"}),s.jsx("p",{className:"text-sm",children:"Ajustez vos filtres ou ajoutez de nouveaux éléments"})]})]})]}),s.jsxs(te,{children:[s.jsxs(ue,{children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-5 w-5"}),"Historique des Mouvements (",n.length,")"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Derniers mouvements de stock (prescriptions, achats, ajustements)"})]}),s.jsx(re,{children:n.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Jt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Aucun mouvement de stock enregistré"})]}):s.jsxs("div",{className:"space-y-4",children:[n.sort((Y,ee)=>new Date(ee.date).getTime()-new Date(Y.date).getTime()).slice(0,20).map(Y=>{const oe={in:{label:"Entrée",color:"text-green-600",icon:"↗️"},out:{label:Y.reason==="Prescription médicale"?"Prescription":"Sortie",color:Y.reason==="Prescription médicale"?"text-orange-600":"text-red-600",icon:Y.reason==="Prescription médicale"?"💊":"↘️"},adjustment:{label:"Ajustement",color:"text-blue-600",icon:"⚖️"},transfer:{label:"Transfert",color:"text-purple-600",icon:"↔️"}}[Y.type];return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-2xl",children:oe.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:Y.itemName}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[Y.reason," • ",Y.performedBy||"Non spécifié"]}),Y.reference&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Référence: ",Y.reference]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`font-semibold ${oe.color}`,children:[Y.type==="in"?"+":Y.type==="out"?"-":"",Y.quantity]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:Xe(new Date(Y.date),"dd/MM/yyyy HH:mm",{locale:In})})]})]},Y.id)}),n.length>20&&s.jsx("div",{className:"text-center pt-4",children:s.jsxs(F,{variant:"outline",size:"sm",children:["Voir tous les mouvements (",n.length,")"]})})]})})]}),s.jsx(ZE,{open:d,onOpenChange:h}),s.jsx(ZE,{open:g,onOpenChange:Z,editingItem:y}),s.jsx(SAe,{open:f,onOpenChange:m,item:v})]})}const PAe={monthly:[{description:"Salaire Secrétaire",amount:3e3,type:"expense",frequency:"monthly",source:"salary"},{description:"CNSS Secrétaire",amount:700,type:"expense",frequency:"monthly",source:"insurance"},{description:"CNSS Vétérinaire",amount:1500,type:"expense",frequency:"monthly",source:"insurance"},{description:"Loyer",amount:3e3,type:"expense",frequency:"monthly",source:"rent"},{description:"Eau et Électricité",amount:300,type:"expense",frequency:"monthly",source:"other"}],annual:[{description:"Impôts",amount:3e3,type:"expense",frequency:"annual",source:"tax"},{description:"Cotisation Ordre des Vétérinaires",amount:1200,type:"expense",frequency:"annual",source:"other"}],occasional:[{description:"Maintenance Équipement",amount:500,type:"expense",frequency:"occasional",source:"other"},{description:"Formation Professionnelle",amount:800,type:"expense",frequency:"occasional",source:"other"},{description:"Achat Matériel",amount:1200,type:"expense",frequency:"occasional",source:"other"}]},AAe=()=>{const{accountingEntries:e,addAccountingEntry:t,updateAccountingEntry:n,deleteAccountingEntry:r,generateAccountingSummary:a,consultations:i,vaccinations:o,antiparasitics:l,prescriptions:c,stockMovements:u,stockItems:d}=pt(),{settings:h}=_t();at();const[f,m]=b.useState("month"),[g,p]=b.useState(""),[v,x]=b.useState(""),[y,j]=b.useState(!1),[N,w]=b.useState(null),[C,S]=b.useState(null),[_,k]=b.useState(!1),[E,P]=b.useState(PAe),[A,R]=b.useState(!1),[M,K]=b.useState(null),[z,W]=b.useState({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),[T,I]=b.useState({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""});b.useEffect(()=>{const O=new Date,q=new Date(O.getFullYear(),O.getMonth(),1),fe=new Date(O.getFullYear(),O.getMonth()+1,0);p(Xe(q,"yyyy-MM-dd")),x(Xe(fe,"yyyy-MM-dd"))},[]),b.useEffect(()=>{if(g&&v){const O=f==="month"?Xe(new Date(g),"yyyy-MM",{locale:In}):f==="year"?Xe(new Date(g),"yyyy",{locale:In}):f==="day"?Xe(new Date(g),"dd/MM/yyyy",{locale:In}):`${Xe(new Date(g),"dd/MM/yyyy")} - ${Xe(new Date(v),"dd/MM/yyyy")}`,q=a(O,g,v);S(q)}},[g,v,f,e,i,o,l,c,u,a]);const U=O=>{m(O);const q=new Date;switch(O){case"day":const fe=Xe(q,"yyyy-MM-dd");p(fe),x(fe);break;case"month":const he=new Date(q.getFullYear(),q.getMonth(),1),Ye=new Date(q.getFullYear(),q.getMonth()+1,0);p(Xe(he,"yyyy-MM-dd")),x(Xe(Ye,"yyyy-MM-dd"));break;case"quarter":const We=Math.floor(q.getMonth()/3),ut=new Date(q.getFullYear(),We*3,1),$e=new Date(q.getFullYear(),We*3+3,0);p(Xe(ut,"yyyy-MM-dd")),x(Xe($e,"yyyy-MM-dd"));break;case"year":const it=new Date(q.getFullYear(),0,1),ie=new Date(q.getFullYear(),11,31);p(Xe(it,"yyyy-MM-dd")),x(Xe(ie,"yyyy-MM-dd"));break}},H=()=>{if(!T.description||!T.amount||!T.date)return;const O={type:T.type,category:"manual",frequency:T.frequency,description:T.description,amount:parseFloat(T.amount),date:T.date,source:T.source,notes:T.notes};N?(n(N.id,O),w(null)):t(O),I({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""}),j(!1)},Z=O=>{w(O),I({type:O.type,frequency:O.frequency,description:O.description,amount:O.amount.toString(),date:O.date,source:O.source||"other",notes:O.notes||""}),j(!0)},ae=O=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette entrée ?")&&r(O)},se=O=>{I({...T,type:O.type,frequency:O.frequency||"occasional",description:O.description,amount:O.amount.toString(),source:O.source,date:T.date||Xe(new Date,"yyyy-MM-dd")}),k(!1)},me=()=>{if(!z.description||!z.amount)return;const O={description:z.description,amount:parseFloat(z.amount),type:z.type,frequency:z.frequency,source:z.source};if(M){const q={...E},fe=M.frequency,he=q[fe].findIndex(Ye=>Ye===M);he!==-1&&(q[fe][he]=O),P(q),K(null)}else{const q={...E},fe=z.frequency;q[fe].push(O),P(q)}W({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),R(!1)},xe=O=>{K(O),W({description:O.description,amount:O.amount.toString(),type:O.type,frequency:O.frequency,source:O.source}),R(!0)},le=O=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette suggestion ?")){const q={...E},fe=O.frequency;q[fe]=q[fe].filter(he=>he!==O),P(q)}},Y=e.filter(O=>{const q=new Date(O.date),fe=new Date(g),he=new Date(v);return q>=fe&&q<=he}),ee=O=>`${O.toFixed(2)} ${h.currency}`,oe=O=>{switch(O){case"consultation":return"🩺";case"vaccination":return"💉";case"antiparasitic":return"💊";case"prescription":return"📋";case"stock_purchase":return"📦";case"salary":return"👥";case"rent":return"🏢";case"tax":return"📊";case"insurance":return"🛡️";default:return"📄"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(JM,{className:"h-8 w-8"}),"Gestion Comptable"]}),s.jsx("p",{className:"text-muted-foreground",children:"Suivi des recettes et charges de votre clinique vétérinaire"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(Ze,{open:y,onOpenChange:j,children:[s.jsx(Rx,{asChild:!0,children:s.jsxs(F,{onClick:()=>{w(null),I({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""})},children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter une entrée"]})}),s.jsxs(Ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:N?"Modifier l'entrée comptable":"Ajouter une entrée comptable"}),s.jsx(Rt,{children:N?"Modifiez les informations de cette entrée.":"Ajoutez une nouvelle recette ou charge manuelle."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(x0,{className:"h-4 w-4 text-yellow-600"}),s.jsx(D,{className:"text-sm font-medium",children:"Suggestions prédéfinies"})]}),s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>k(!_),children:_?s.jsx(px,{className:"h-4 w-4"}):s.jsx(x0,{className:"h-4 w-4"})})]}),_&&s.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges mensuelles"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:E.monthly.map((O,q)=>s.jsx(F,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>se(O),children:s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("span",{className:"text-sm",children:O.description}),s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[O.amount," ",h.currency]})]})},q))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges annuelles"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:E.annual.map((O,q)=>s.jsx(F,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>se(O),children:s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("span",{className:"text-sm",children:O.description}),s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[O.amount," ",h.currency]})]})},q))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges occasionnelles"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:E.occasional.map((O,q)=>s.jsx(F,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>se(O),children:s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("span",{className:"text-sm",children:O.description}),s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[O.amount," ",h.currency]})]})},q))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"type",children:"Type"}),s.jsxs(we,{value:T.type,onValueChange:O=>I({...T,type:O}),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"revenue",children:"Recette"}),s.jsx(L,{value:"expense",children:"Charge"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"frequency",children:"Fréquence"}),s.jsxs(we,{value:T.frequency,onValueChange:O=>I({...T,frequency:O}),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"monthly",children:"Mensuel"}),s.jsx(L,{value:"annual",children:"Annuel"}),s.jsx(L,{value:"occasional",children:"Occasionnel"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"description",children:"Description"}),s.jsx(Q,{id:"description",value:T.description,onChange:O=>I({...T,description:O.target.value}),placeholder:"Ex: Salaire employé, Loyer, etc."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(D,{htmlFor:"amount",children:["Montant (",h.currency,")"]}),s.jsx(Q,{id:"amount",type:"number",step:"0.01",value:T.amount,onChange:O=>I({...T,amount:O.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"date",children:"Date"}),s.jsx(Q,{id:"date",type:"date",value:T.date,onChange:O=>I({...T,date:O.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"source",children:"Source"}),s.jsxs(we,{value:T.source,onValueChange:O=>I({...T,source:O}),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"salary",children:"Salaire"}),s.jsx(L,{value:"rent",children:"Loyer"}),s.jsx(L,{value:"tax",children:"Impôts"}),s.jsx(L,{value:"insurance",children:"Assurance"}),s.jsx(L,{value:"other",children:"Autre"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"notes",children:"Notes (optionnel)"}),s.jsx(qe,{id:"notes",value:T.notes,onChange:O=>I({...T,notes:O.target.value}),placeholder:"Informations supplémentaires..."})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(F,{variant:"outline",onClick:()=>j(!1),children:"Annuler"}),s.jsx(F,{onClick:H,children:N?"Modifier":"Ajouter"})]})]})]})]})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5"}),"Période d'analyse"]})}),s.jsx(re,{children:s.jsxs("div",{className:"flex gap-4 items-end",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{variant:f==="day"?"default":"outline",onClick:()=>U("day"),size:"sm",children:"Ce jour"}),s.jsx(F,{variant:f==="month"?"default":"outline",onClick:()=>U("month"),size:"sm",children:"Ce mois"}),s.jsx(F,{variant:f==="quarter"?"default":"outline",onClick:()=>U("quarter"),size:"sm",children:"Ce trimestre"}),s.jsx(F,{variant:f==="year"?"default":"outline",onClick:()=>U("year"),size:"sm",children:"Cette année"})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(D,{htmlFor:"startDate",children:"Du"}),s.jsx(Q,{id:"startDate",type:"date",value:g,onChange:O=>p(O.target.value),className:"w-40"}),s.jsx(D,{htmlFor:"endDate",children:"Au"}),s.jsx(Q,{id:"endDate",type:"date",value:v,onChange:O=>x(O.target.value),className:"w-40"})]})]})})]}),C&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(te,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Total Recettes"}),s.jsx(sn,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(re,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:ee(C.totalRevenue)}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsxs("div",{children:["Consultations: ",ee(C.revenueBreakdown.consultations)]}),s.jsxs("div",{children:["Vaccinations: ",ee(C.revenueBreakdown.vaccinations)]}),s.jsxs("div",{children:["Antiparasitaires: ",ee(C.revenueBreakdown.antiparasitics)]}),s.jsxs("div",{children:["Prescriptions: ",ee(C.revenueBreakdown.prescriptions)]}),s.jsxs("div",{children:["Manuelles: ",ee(C.revenueBreakdown.manualEntries)]})]})]})]}),s.jsxs(te,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Total Charges"}),s.jsx($l,{className:"h-4 w-4 text-red-600"})]}),s.jsxs(re,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:ee(C.totalExpenses)}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsxs("div",{children:["Achats stock: ",ee(C.expenseBreakdown.stockPurchases)]}),s.jsxs("div",{children:["Salaires: ",ee(C.expenseBreakdown.salaries)]}),s.jsxs("div",{children:["Loyer: ",ee(C.expenseBreakdown.rent)]}),s.jsxs("div",{children:["Impôts: ",ee(C.expenseBreakdown.taxes)]}),s.jsxs("div",{children:["Autres: ",ee(C.expenseBreakdown.other)]})]})]})]}),s.jsxs(te,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Résultat Net"}),s.jsx(fd,{className:"h-4 w-4"})]}),s.jsxs(re,{children:[s.jsx("div",{className:`text-2xl font-bold ${C.netIncome>=0?"text-green-600":"text-red-600"}`,children:ee(C.netIncome)}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:C.netIncome>=0?"Bénéfice":"Perte"})]})]})]}),s.jsxs(ki,{defaultValue:"entries",className:"space-y-4",children:[s.jsxs(Ua,{children:[s.jsx(At,{value:"entries",children:"Entrées Comptables"}),s.jsx(At,{value:"configuration",children:"Configuration"})]}),s.jsx(kt,{value:"entries",children:s.jsxs(te,{children:[s.jsxs(ue,{children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(vr,{className:"h-5 w-5"}),"Entrées comptables automatiques et manuelles"]}),s.jsx(Iu,{children:"Entrées générées automatiquement (consultations, vaccinations, etc.) et entrées manuelles ajoutées"})]}),s.jsxs(re,{children:[s.jsxs(Bd,{children:[s.jsx(zd,{children:s.jsxs(ca,{children:[s.jsx(lt,{children:"Date"}),s.jsx(lt,{children:"Type"}),s.jsx(lt,{children:"Description"}),s.jsx(lt,{children:"Source"}),s.jsx(lt,{children:"Fréquence"}),s.jsx(lt,{children:"Montant"}),s.jsx(lt,{children:"Actions"})]})}),s.jsx(Vd,{children:Y.map(O=>s.jsxs(ca,{children:[s.jsx(ct,{children:Xe(new Date(O.date),"dd/MM/yyyy",{locale:In})}),s.jsx(ct,{children:s.jsx(Pe,{variant:O.type==="revenue"?"default":"destructive",children:O.type==="revenue"?"Recette":"Charge"})}),s.jsx(ct,{children:O.description}),s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:oe(O.source||"other")}),s.jsx("span",{className:"text-sm",children:O.category==="automatic"?"Automatique":"Manuel"})]})}),s.jsx(ct,{children:s.jsx(Pe,{variant:"outline",children:O.frequency==="monthly"?"Mensuel":O.frequency==="annual"?"Annuel":"Occasionnel"})}),s.jsxs(ct,{className:`font-medium ${O.type==="revenue"?"text-green-600":"text-red-600"}`,children:[O.type==="revenue"?"+":"-",ee(O.amount)]}),s.jsx(ct,{children:O.category==="manual"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{variant:"outline",size:"sm",onClick:()=>Z(O),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(F,{variant:"outline",size:"sm",onClick:()=>ae(O.id),children:s.jsx(qn,{className:"h-4 w-4"})})]})})]},O.id))})]}),Y.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune entrée comptable pour cette période"})]})]})}),s.jsx(kt,{value:"configuration",children:s.jsxs(te,{children:[s.jsxs(ue,{children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(x0,{className:"h-5 w-5"}),"Configuration des Suggestions"]}),s.jsx(Iu,{children:"Configurez les suggestions prédéfinies pour faciliter la saisie des charges et recettes"})]}),s.jsxs(re,{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Mensuelles"}),s.jsxs(F,{onClick:()=>{K(null),W({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),R(!0)},children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),s.jsx("div",{className:"grid gap-3",children:E.monthly.map((O,q)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium",children:O.description}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[O.amount," ",h.currency]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{variant:"outline",size:"sm",onClick:()=>xe(O),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(F,{variant:"outline",size:"sm",onClick:()=>le(O),children:s.jsx(qn,{className:"h-4 w-4"})})]})]},q))}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Annuelles"}),s.jsxs(F,{onClick:()=>{K(null),W({description:"",amount:"",type:"expense",frequency:"annual",source:"other"}),R(!0)},children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),s.jsx("div",{className:"grid gap-3",children:E.annual.map((O,q)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium",children:O.description}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[O.amount," ",h.currency]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{variant:"outline",size:"sm",onClick:()=>xe(O),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(F,{variant:"outline",size:"sm",onClick:()=>le(O),children:s.jsx(qn,{className:"h-4 w-4"})})]})]},q))}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Occasionnelles"}),s.jsxs(F,{onClick:()=>{K(null),W({description:"",amount:"",type:"expense",frequency:"occasional",source:"other"}),R(!0)},children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),s.jsx("div",{className:"grid gap-3",children:E.occasional.map((O,q)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium",children:O.description}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[O.amount," ",h.currency]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{variant:"outline",size:"sm",onClick:()=>xe(O),children:s.jsx(Mt,{className:"h-4 w-4"})}),s.jsx(F,{variant:"outline",size:"sm",onClick:()=>le(O),children:s.jsx(qn,{className:"h-4 w-4"})})]})]},q))})]})]})})]}),s.jsx(Ze,{open:A,onOpenChange:R,children:s.jsxs(Ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(et,{children:[s.jsx(tt,{children:M?"Modifier la suggestion":"Ajouter une suggestion"}),s.jsx(Rt,{children:M?"Modifiez les informations de cette suggestion.":"Ajoutez une nouvelle suggestion prédéfinie."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"suggestion-type",children:"Type"}),s.jsxs(we,{value:z.type,onValueChange:O=>W({...z,type:O}),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"revenue",children:"Recette"}),s.jsx(L,{value:"expense",children:"Charge"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"suggestion-frequency",children:"Fréquence"}),s.jsxs(we,{value:z.frequency,onValueChange:O=>W({...z,frequency:O}),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"monthly",children:"Mensuel"}),s.jsx(L,{value:"annual",children:"Annuel"}),s.jsx(L,{value:"occasional",children:"Occasionnel"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"suggestion-description",children:"Description"}),s.jsx(Q,{id:"suggestion-description",value:z.description,onChange:O=>W({...z,description:O.target.value}),placeholder:"Ex: Salaire employé, Loyer, etc."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(D,{htmlFor:"suggestion-amount",children:["Montant (",h.currency,")"]}),s.jsx(Q,{id:"suggestion-amount",type:"number",step:"0.01",value:z.amount,onChange:O=>W({...z,amount:O.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"suggestion-source",children:"Source"}),s.jsxs(we,{value:z.source,onValueChange:O=>W({...z,source:O}),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"salary",children:"Salaire"}),s.jsx(L,{value:"rent",children:"Loyer"}),s.jsx(L,{value:"tax",children:"Impôts"}),s.jsx(L,{value:"insurance",children:"Assurance"}),s.jsx(L,{value:"other",children:"Autre"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(F,{variant:"outline",onClick:()=>R(!1),children:"Annuler"}),s.jsx(F,{onClick:me,children:M?"Modifier":"Ajouter"})]})]})]})})]})},kAe=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:r,appointments:a,addConsultation:i,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=pt(),u=()=>{if(e.length>0){const m=e[0],g=m.pets[0];g&&i({clientId:m.id,clientName:m.name,petId:g.id,petName:g.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const m=e[0],g=m.pets[0];g&&o({clientId:m.id,clientName:m.name,petId:g.id,petName:g.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},h=()=>{if(e.length>0){const m=e[0],g=m.pets[0];g&&l({clientId:m.id,clientName:m.name,petId:g.id,petName:g.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},f=()=>{e.length>0&&e.forEach(m=>{c(m.id)})};return s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Test des Statistiques des Clients"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Actions de Test"})}),s.jsxs(re,{className:"space-y-3",children:[s.jsxs(F,{onClick:u,className:"w-full",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),s.jsxs(F,{onClick:d,className:"w-full",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),s.jsxs(F,{onClick:h,className:"w-full",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),s.jsx(F,{onClick:f,variant:"outline",className:"w-full",children:"Mettre à jour Stats"})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Statistiques Globales"})}),s.jsxs(re,{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Clients:"})," ",e.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Consultations:"})," ",t.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Antiparasites:"})," ",r.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Rendez-vous:"})," ",a.length]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Détails des Clients"})}),s.jsx(re,{className:"space-y-3",children:e.map(m=>s.jsxs("div",{className:"border-b pb-2",children:[s.jsx("p",{className:"font-medium",children:m.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",m.totalVisits," | Dernière visite: ",new Date(m.lastVisit).toLocaleDateString("fr-FR")]})]},m.id))})]})]})]})},TAe=()=>s.jsx(PS,{children:s.jsx(kAe,{})}),EAe=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:r,appointments:a,addConsultation:i,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=pt(),u=()=>{if(e.length>0){const m=e[0],g=m.pets[0];g&&i({clientId:m.id,clientName:m.name,petId:g.id,petName:g.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const m=e[0],g=m.pets[0];g&&o({clientId:m.id,clientName:m.name,petId:g.id,petName:g.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},h=()=>{if(e.length>0){const m=e[0],g=m.pets[0];g&&l({clientId:m.id,clientName:m.name,petId:g.id,petName:g.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},f=()=>{e.length>0&&e.forEach(m=>{c(m.id)})};return s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Test Simple des Statistiques"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Actions de Test"})}),s.jsxs(re,{className:"space-y-3",children:[s.jsxs(F,{onClick:u,className:"w-full",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),s.jsxs(F,{onClick:d,className:"w-full",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),s.jsxs(F,{onClick:h,className:"w-full",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),s.jsx(F,{onClick:f,variant:"outline",className:"w-full",children:"Mettre à jour Stats"})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Statistiques Globales"})}),s.jsxs(re,{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Clients:"})," ",e.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Consultations:"})," ",t.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Antiparasites:"})," ",r.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Rendez-vous:"})," ",a.length]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsx(de,{className:"text-lg",children:"Détails des Clients"})}),s.jsx(re,{className:"space-y-3",children:e.map(m=>s.jsxs("div",{className:"border-b pb-2",children:[s.jsx("p",{className:"font-medium",children:m.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",m.totalVisits," | Dernière visite: ",new Date(m.lastVisit).toLocaleDateString("fr-FR")]})]},m.id))})]})]})]})},OAe=()=>s.jsx(PS,{children:s.jsx(EAe,{})}),DAe=()=>{const e=Lo();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var MAe="Separator",eO="horizontal",IAe=["horizontal","vertical"],Y6=b.forwardRef((e,t)=>{const{decorative:n,orientation:r=eO,...a}=e,i=$Ae(r)?r:eO,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Be.div,{"data-orientation":i,...l,...a,ref:t})});Y6.displayName=MAe;function $Ae(e){return IAe.includes(e)}var Q6=Y6;const Kv=b.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(Q6,{ref:a,decorative:n,orientation:t,className:Ie("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Kv.displayName=Q6.displayName;function RAe(){const{user:e,logout:t,refreshProfile:n}=sc(),{toast:r}=at(),{data:a,isLoading:i,refetch:o}=bZ(),l=wZ(),[c,u]=b.useState(!1);b.useState(!1);const[d,h]=b.useState({full_name:"",username:"",email:"",phone:"",address:"",specialty:"",experience:"",bio:"",languages:["Français","Arabe","Anglais"]});b.useEffect(()=>{a&&e&&h(v=>({...v,full_name:a.full_name||"",username:a.username||"",email:e.email||"",phone:a.phone||"",address:a.address||"",specialty:a.specialty||"",experience:a.experience||"",bio:a.bio||""}))},[a,e]),b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),b.useState({notifications:{email:!0,sms:!1,push:!0},privacy:{showEmail:!1,showPhone:!0,showAddress:!1},language:"fr",timezone:"Africa/Casablanca"});const f=async()=>{try{await l.mutateAsync({full_name:d.full_name,username:d.username,phone:d.phone,address:d.address,specialty:d.specialty,experience:d.experience,bio:d.bio}),await Promise.all([o(),n()]),r({title:"Profil mis à jour",description:"Vos informations personnelles ont été sauvegardées avec succès."}),u(!1)}catch(v){r({title:"Erreur",description:v instanceof Error?v.message:"Impossible de sauvegarder le profil.",variant:"destructive"})}},m=v=>v.split(" ").map(x=>x.charAt(0)).join("").toUpperCase().slice(0,2),g=v=>{switch(v){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},p=v=>{switch(v){case"admin":return"bg-red-100 text-red-800";case"assistant":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e?i?s.jsx("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx(wr,{className:"h-8 w-8 animate-spin"}),s.jsx("p",{className:"text-muted-foreground",children:"Chargement du profil..."})]})})}):s.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Mon Profil"}),s.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gérez vos informations personnelles et préférences"})]}),s.jsx("div",{className:"flex gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx(F,{variant:"outline",onClick:()=>u(!1),children:"Annuler"}),s.jsxs(F,{onClick:f,className:"gap-2",disabled:l.isPending,children:[l.isPending?s.jsx(wr,{className:"h-4 w-4 animate-spin"}):s.jsx(Dh,{className:"h-4 w-4"}),l.isPending?"Sauvegarde...":"Sauvegarder"]})]}):s.jsxs(F,{onClick:()=>u(!0),className:"gap-2",children:[s.jsx(Mt,{className:"h-4 w-4"}),"Modifier"]})})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"h-5 w-5"}),"Informations Personnelles"]})}),s.jsxs(re,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Jn,{className:"h-20 w-20",children:s.jsx(Zn,{className:"bg-primary text-primary-foreground text-xl",children:m(e.profile.full_name)})}),c&&s.jsx(F,{size:"sm",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full",variant:"secondary",children:s.jsx(_u,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold",children:e.profile.full_name||e.profile.username}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(fm,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(Ur,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Pe,{className:p(e.profile.role),children:g(e.profile.role)})]})]})]}),s.jsx(Kv,{}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"full_name",children:"Nom complet"}),s.jsx(Q,{id:"full_name",value:d.full_name,onChange:v=>h(x=>({...x,full_name:v.target.value})),disabled:!c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"username",children:"Nom d'utilisateur"}),s.jsx(Q,{id:"username",value:d.username,onChange:v=>h(x=>({...x,username:v.target.value})),disabled:!c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"email",children:"Email"}),s.jsx(Q,{id:"email",type:"email",value:d.email,disabled:!0,className:"bg-muted"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"phone",children:"Téléphone"}),s.jsx(Q,{id:"phone",value:d.phone,onChange:v=>h(x=>({...x,phone:v.target.value})),disabled:!c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"address",children:"Adresse"}),s.jsx(Q,{id:"address",value:d.address,onChange:v=>h(x=>({...x,address:v.target.value})),disabled:!c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"specialty",children:"Spécialité"}),s.jsx(Q,{id:"specialty",value:d.specialty,onChange:v=>h(x=>({...x,specialty:v.target.value})),disabled:!c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"experience",children:"Expérience"}),s.jsx(Q,{id:"experience",value:d.experience,onChange:v=>h(x=>({...x,experience:v.target.value})),disabled:!c})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"bio",children:"Biographie"}),s.jsx("textarea",{id:"bio",className:"w-full min-h-[100px] px-3 py-2 border border-input bg-background rounded-md text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:d.bio,onChange:v=>h(x=>({...x,bio:v.target.value})),disabled:!c})]})]})]})]}):null}function LAe(){const{user:e}=sc(),{toast:t}=at(),[n,r]=b.useState({twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginNotifications:!0,deviceTracking:!0,autoLogout:!0}),[a,i]=b.useState({rememberMe:!0,autoLogin:!1,sessionDuration:8,maxConcurrentSessions:3}),[o,l]=b.useState({loginAlerts:!0,securityAlerts:!0,deviceAlerts:!0,emailNotifications:!0,smsNotifications:!1,pushNotifications:!0});b.useState({dataSharing:!1,analytics:!0,crashReports:!0,marketingEmails:!1,profileVisibility:"private"}),b.useState({language:"fr",timezone:"Africa/Casablanca",dateFormat:"DD/MM/YYYY",timeFormat:"24h",theme:"system"});const[c]=b.useState([{id:1,device:"MacBook Pro",browser:"Chrome",location:"Rabat, Maroc",lastActive:"Maintenant",current:!0,ip:"192.168.1.100"},{id:2,device:"iPhone 14",browser:"Safari",location:"Rabat, Maroc",lastActive:"Il y a 2 heures",current:!1,ip:"192.168.1.101"}]),u=()=>{t({title:"Paramètres de sécurité sauvegardés",description:"Vos paramètres de sécurité ont été mis à jour."})},d=()=>{t({title:"Paramètres de session sauvegardés",description:"Vos paramètres de session ont été mis à jour."})},h=()=>{t({title:"Paramètres de notification sauvegardés",description:"Vos paramètres de notification ont été mis à jour."})},f=p=>{t({title:"Session terminée",description:"La session a été fermée avec succès."})},m=()=>{t({title:"Toutes les sessions terminées",description:"Toutes les autres sessions ont été fermées."})},g=p=>p.includes("iPhone")||p.includes("Android")?s.jsx(EU,{className:"h-4 w-4"}):p.includes("iPad")||p.includes("Tablet")?s.jsx(MU,{className:"h-4 w-4"}):s.jsx(y_,{className:"h-4 w-4"});return e?s.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Paramètres de Connexion"}),s.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gérez vos paramètres de sécurité et de session"})]})}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-5 w-5"}),"Sécurité"]})}),s.jsxs(re,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Authentification à deux facteurs"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez une couche de sécurité supplémentaire"})]}),s.jsx(Er,{checked:n.twoFactorAuth,onCheckedChange:p=>r(v=>({...v,twoFactorAuth:p}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Délai d'expiration de session (minutes)"}),s.jsxs(we,{value:n.sessionTimeout.toString(),onValueChange:p=>r(v=>({...v,sessionTimeout:parseInt(p)})),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"15",children:"15 minutes"}),s.jsx(L,{value:"30",children:"30 minutes"}),s.jsx(L,{value:"60",children:"1 heure"}),s.jsx(L,{value:"120",children:"2 heures"}),s.jsx(L,{value:"480",children:"8 heures"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Expiration du mot de passe (jours)"}),s.jsxs(we,{value:n.passwordExpiry.toString(),onValueChange:p=>r(v=>({...v,passwordExpiry:parseInt(p)})),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"30",children:"30 jours"}),s.jsx(L,{value:"60",children:"60 jours"}),s.jsx(L,{value:"90",children:"90 jours"}),s.jsx(L,{value:"180",children:"6 mois"}),s.jsx(L,{value:"365",children:"1 an"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Notifications de connexion"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez des alertes pour les nouvelles connexions"})]}),s.jsx(Er,{checked:n.loginNotifications,onCheckedChange:p=>r(v=>({...v,loginNotifications:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Suivi des appareils"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Surveillez les appareils connectés"})]}),s.jsx(Er,{checked:n.deviceTracking,onCheckedChange:p=>r(v=>({...v,deviceTracking:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Déconnexion automatique"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Déconnexion après inactivité"})]}),s.jsx(Er,{checked:n.autoLogout,onCheckedChange:p=>r(v=>({...v,autoLogout:p}))})]})]}),s.jsxs(F,{onClick:u,className:"w-full gap-2",children:[s.jsx(Dh,{className:"h-4 w-4"}),"Sauvegarder les paramètres de sécurité"]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(y_,{className:"h-5 w-5"}),"Sessions Actives"]})}),s.jsxs(re,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-3",children:c.map(p=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[g(p.device),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:p.device}),p.current&&s.jsx(Pe,{variant:"secondary",className:"text-xs",children:"Actuel"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.browser," • ",p.location]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Dernière activité: ",p.lastActive]})]})]}),!p.current&&s.jsx(F,{variant:"outline",size:"sm",onClick:()=>f(p.id),children:"Terminer"})]},p.id))}),s.jsx(Kv,{}),s.jsx(F,{variant:"destructive",onClick:m,className:"w-full",children:"Terminer toutes les autres sessions"})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-5 w-5"}),"Gestion des Sessions"]})}),s.jsxs(re,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Se souvenir de moi"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Restez connecté entre les sessions"})]}),s.jsx(Er,{checked:a.rememberMe,onCheckedChange:p=>i(v=>({...v,rememberMe:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Connexion automatique"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connexion automatique au démarrage"})]}),s.jsx(Er,{checked:a.autoLogin,onCheckedChange:p=>i(v=>({...v,autoLogin:p}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Durée de session (heures)"}),s.jsxs(we,{value:a.sessionDuration.toString(),onValueChange:p=>i(v=>({...v,sessionDuration:parseInt(p)})),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"1",children:"1 heure"}),s.jsx(L,{value:"4",children:"4 heures"}),s.jsx(L,{value:"8",children:"8 heures"}),s.jsx(L,{value:"12",children:"12 heures"}),s.jsx(L,{value:"24",children:"24 heures"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Sessions simultanées maximum"}),s.jsxs(we,{value:a.maxConcurrentSessions.toString(),onValueChange:p=>i(v=>({...v,maxConcurrentSessions:parseInt(p)})),children:[s.jsx(ye,{children:s.jsx(Ne,{})}),s.jsxs(je,{children:[s.jsx(L,{value:"1",children:"1 session"}),s.jsx(L,{value:"2",children:"2 sessions"}),s.jsx(L,{value:"3",children:"3 sessions"}),s.jsx(L,{value:"5",children:"5 sessions"}),s.jsx(L,{value:"10",children:"10 sessions"})]})]})]})]}),s.jsxs(F,{onClick:d,className:"w-full gap-2",children:[s.jsx(Dh,{className:"h-4 w-4"}),"Sauvegarder les paramètres de session"]})]})]}),s.jsxs(te,{children:[s.jsx(ue,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(vU,{className:"h-5 w-5"}),"Notifications de Sécurité"]})}),s.jsxs(re,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Alertes de connexion"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouvelles connexions"})]}),s.jsx(Er,{checked:o.loginAlerts,onCheckedChange:p=>l(v=>({...v,loginAlerts:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Alertes de sécurité"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les événements de sécurité"})]}),s.jsx(Er,{checked:o.securityAlerts,onCheckedChange:p=>l(v=>({...v,securityAlerts:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Alertes d'appareil"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouveaux appareils"})]}),s.jsx(Er,{checked:o.deviceAlerts,onCheckedChange:p=>l(v=>({...v,deviceAlerts:p}))})]}),s.jsx(Kv,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Notifications par email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par email"})]}),s.jsx(Er,{checked:o.emailNotifications,onCheckedChange:p=>l(v=>({...v,emailNotifications:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Notifications SMS"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par SMS"})]}),s.jsx(Er,{checked:o.smsNotifications,onCheckedChange:p=>l(v=>({...v,smsNotifications:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{children:"Notifications push"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes push"})]}),s.jsx(Er,{checked:o.pushNotifications,onCheckedChange:p=>l(v=>({...v,pushNotifications:p}))})]})]}),s.jsxs(F,{onClick:h,className:"w-full gap-2",children:[s.jsx(Dh,{className:"h-4 w-4"}),"Sauvegarder les paramètres de notification"]})]})]})]})]}):null}function FAe(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[a,i]=b.useState(!1),[o,l]=b.useState(!1),[c,u]=b.useState(""),[d,h]=b.useState(!1),[f,m]=b.useState(!1),g=bd(),{toast:p}=at();vH(),b.useEffect(()=>{(async()=>{try{const{data:{session:j},error:N}=await De.auth.getSession();if(N){u("Lien de réinitialisation invalide ou expiré");return}j?m(!0):u("Lien de réinitialisation invalide ou expiré")}catch{u("Erreur lors de la vérification du lien de réinitialisation")}})()},[]);const v=y=>y.length<8?"Le mot de passe doit contenir au moins 8 caractères":/[A-Z]/.test(y)?/[a-z]/.test(y)?/\d/.test(y)?/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?]/.test(y)?null:"Le mot de passe doit contenir au moins un caractère spécial":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une lettre minuscule":"Le mot de passe doit contenir au moins une lettre majuscule",x=async y=>{if(y.preventDefault(),u(""),!e||!n){p({title:"Champs requis",description:"Veuillez remplir tous les champs",variant:"destructive"});return}if(e!==n){p({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"});return}const j=v(e);if(j){p({title:"Mot de passe invalide",description:j,variant:"destructive"});return}h(!0);try{const{error:N}=await De.auth.updateUser({password:e});if(N)throw N;p({title:"Mot de passe mis à jour",description:"Votre mot de passe a été réinitialisé avec succès."}),g("/login")}catch(N){u(N instanceof Error?N.message:"Une erreur est survenue lors de la mise à jour du mot de passe")}finally{h(!1)}};return!f&&!c?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:s.jsx(te,{className:"w-full max-w-md",children:s.jsxs(re,{className:"pt-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(wr,{className:"h-8 w-8 animate-spin"})}),s.jsx("p",{className:"text-center mt-4 text-sm text-muted-foreground",children:"Vérification du lien de réinitialisation..."})]})})}):c?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:s.jsxs(te,{className:"w-full max-w-md",children:[s.jsxs(ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:s.jsx(dt,{className:"h-8 w-8 text-red-600"})})}),s.jsx(de,{className:"text-2xl font-bold text-red-600",children:"Lien invalide"})]}),s.jsxs(re,{children:[s.jsx(Lg,{className:"mb-4",children:s.jsx(Fg,{children:c})}),s.jsx(F,{onClick:()=>g("/login"),className:"w-full",children:"Retour à la connexion"})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:s.jsxs(te,{className:"w-full max-w-md",children:[s.jsxs(ue,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:s.jsx(dt,{className:"h-8 w-8 text-primary"})})}),s.jsx(de,{className:"text-2xl font-bold",children:"VetPro CRM3"}),s.jsx(Iu,{children:"Définir un nouveau mot de passe"})]}),s.jsx(re,{children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"password",children:"Nouveau mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(Q,{id:"password",type:a?"text":"password",value:e,onChange:y=>t(y.target.value),placeholder:"Votre nouveau mot de passe",required:!0}),s.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!a),children:a?s.jsx(fb,{className:"h-4 w-4"}):s.jsx(bn,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Le mot de passe doit contenir au moins 8 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(Q,{id:"confirmPassword",type:o?"text":"password",value:n,onChange:y=>r(y.target.value),placeholder:"Confirmer votre nouveau mot de passe",required:!0}),s.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!o),children:o?s.jsx(fb,{className:"h-4 w-4"}):s.jsx(bn,{className:"h-4 w-4"})})]})]}),s.jsx(F,{type:"submit",className:"w-full",disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour..."]}):"Mettre à jour le mot de passe"})]})})]})})}const BAe=new sW({defaultOptions:{queries:{retry:(e,t)=>(t==null?void 0:t.status)>=400&&(t==null?void 0:t.status)<500?!1:e<2,staleTime:3*60*1e3,gcTime:8*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:"always",refetchOnMount:!0,networkMode:"offlineFirst"},mutations:{retry:1,networkMode:"offlineFirst"}}}),zAe=()=>s.jsx(kX,{children:s.jsx(aW,{client:BAe,children:s.jsxs(M9,{children:[s.jsx(xq,{}),s.jsx(Qq,{}),s.jsx(PX,{children:s.jsx(PS,{children:s.jsx(PZ,{children:s.jsx(yH,{children:s.jsx(fH,{children:s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs(aH,{children:[s.jsx(hn,{path:"/",element:s.jsx(RX,{})}),s.jsx(hn,{path:"/login",element:s.jsx($X,{children:s.jsx(IX,{})})}),s.jsx(hn,{path:"/register",element:s.jsx(LX,{})}),s.jsx(hn,{path:"/dashboard",element:s.jsxs(hr,{children:[s.jsx(dr,{}),s.jsx(DPe,{})]})}),s.jsx(hn,{path:"/clients",element:s.jsxs(hr,{children:[s.jsx(dr,{}),s.jsx($Pe,{})]})}),s.jsx(hn,{path:"/pets",element:s.jsxs(hr,{children:[s.jsx(dr,{}),s.jsx(zPe,{})]})}),s.jsx(hn,{path:"/appointments",element:s.jsxs(hr,{children:[s.jsx(dr,{}),s.jsx(GPe,{})]})}),s.jsx(hn,{path:"/consultations",element:s.jsxs(hr,{children:[s.jsx(dr,{}),s.jsx(JPe,{})]})}),s.jsx(hn,{path:"/history",element:s.jsxs(hr,{children:[s.jsx(dr,{}),s.jsx(tAe,{})]})}),s.jsx(hn,{path:"/farm",element:s.jsxs(hr,{children:[s.jsx(dr,{}),s.jsx(oAe,{})]})}),s.jsx(hn,{path:"/vaccinations",element:s.jsxs(hr,{children:[s.jsx(dr,{}),s.jsx(cAe,{})]})}),s.jsx(hn,{path:"/antiparasites",element:s.jsxs(hr,{children:[s.jsx(dr,{}),s.jsx(xAe,{})]})}),s.jsx(hn,{path:"/stock",element:s.jsxs(hr,{children:[s.jsx(dr,{}),s.jsx(_Ae,{})]})}),s.jsx(hn,{path:"/accounting",element:s.jsxs(hr,{children:[s.jsx(dr,{}),s.jsx(AAe,{})]})}),s.jsx(hn,{path:"/test-stats",element:s.jsxs(hr,{children:[s.jsx(dr,{}),s.jsx(TAe,{})]})}),s.jsx(hn,{path:"/simple-test",element:s.jsxs(hr,{children:[s.jsx(dr,{}),s.jsx(OAe,{})]})}),s.jsx(hn,{path:"/profile",element:s.jsxs(hr,{children:[s.jsx(dr,{}),s.jsx(RAe,{})]})}),s.jsx(hn,{path:"/auth-settings",element:s.jsxs(hr,{children:[s.jsx(dr,{}),s.jsx(LAe,{})]})}),s.jsx(hn,{path:"/reset-password",element:s.jsx(FAe,{})}),s.jsx(hn,{path:"*",element:s.jsx(DAe,{})})]})})})})})})})]})})});CM(document.getElementById("root")).render(s.jsx(zAe,{}));
