var XO=e=>{throw TypeError(e)};var xN=(e,t,n)=>t.has(e)||XO("Cannot "+n);var ue=(e,t,n)=>(xN(e,t,"read from private field"),n?n.call(e):t.get(e)),ut=(e,t,n)=>t.has(e)?XO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Xe=(e,t,n,s)=>(xN(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),zt=(e,t,n)=>(xN(e,t,"access private method"),n);var Ax=(e,t,n,s)=>({set _(i){Xe(e,t,i,n)},get _(){return ue(e,t,s)}});function dJ(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hJ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var fL={exports:{}},Wj={},mL={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv=Symbol.for("react.element"),fJ=Symbol.for("react.portal"),mJ=Symbol.for("react.fragment"),pJ=Symbol.for("react.strict_mode"),gJ=Symbol.for("react.profiler"),vJ=Symbol.for("react.provider"),xJ=Symbol.for("react.context"),yJ=Symbol.for("react.forward_ref"),jJ=Symbol.for("react.suspense"),bJ=Symbol.for("react.memo"),wJ=Symbol.for("react.lazy"),JO=Symbol.iterator;function NJ(e){return e===null||typeof e!="object"?null:(e=JO&&e[JO]||e["@@iterator"],typeof e=="function"?e:null)}var pL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gL=Object.assign,vL={};function Rf(e,t,n){this.props=e,this.context=t,this.refs=vL,this.updater=n||pL}Rf.prototype.isReactComponent={};Rf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xL(){}xL.prototype=Rf.prototype;function CP(e,t,n){this.props=e,this.context=t,this.refs=vL,this.updater=n||pL}var _P=CP.prototype=new xL;_P.constructor=CP;gL(_P,Rf.prototype);_P.isPureReactComponent=!0;var ZO=Array.isArray,yL=Object.prototype.hasOwnProperty,PP={current:null},jL={key:!0,ref:!0,__self:!0,__source:!0};function bL(e,t,n){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)yL.call(t,s)&&!jL.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:nv,type:e,key:a,ref:o,props:i,_owner:PP.current}}function SJ(e,t){return{$$typeof:nv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function AP(e){return typeof e=="object"&&e!==null&&e.$$typeof===nv}function CJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var eD=/\/+/g;function yN(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CJ(""+e.key):t.toString(36)}function Ey(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case nv:case fJ:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+yN(o,0):s,ZO(i)?(n="",e!=null&&(n=e.replace(eD,"$&/")+"/"),Ey(i,t,n,"",function(u){return u})):i!=null&&(AP(i)&&(i=SJ(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(eD,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",ZO(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+yN(a,l);o+=Ey(a,t,n,c,i)}else if(c=NJ(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+yN(a,l++),o+=Ey(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ex(e,t,n){if(e==null)return e;var s=[],i=0;return Ey(e,s,"","",function(a){return t.call(n,a,i++)}),s}function _J(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ms={current:null},ky={transition:null},PJ={ReactCurrentDispatcher:Ms,ReactCurrentBatchConfig:ky,ReactCurrentOwner:PP};function wL(){throw Error("act(...) is not supported in production builds of React.")}Xt.Children={map:Ex,forEach:function(e,t,n){Ex(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ex(e,function(){t++}),t},toArray:function(e){return Ex(e,function(t){return t})||[]},only:function(e){if(!AP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xt.Component=Rf;Xt.Fragment=mJ;Xt.Profiler=gJ;Xt.PureComponent=CP;Xt.StrictMode=pJ;Xt.Suspense=jJ;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PJ;Xt.act=wL;Xt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=gL({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=PP.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)yL.call(t,c)&&!jL.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:nv,type:e.type,key:i,ref:a,props:s,_owner:o}};Xt.createContext=function(e){return e={$$typeof:xJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vJ,_context:e},e.Consumer=e};Xt.createElement=bL;Xt.createFactory=function(e){var t=bL.bind(null,e);return t.type=e,t};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(e){return{$$typeof:yJ,render:e}};Xt.isValidElement=AP;Xt.lazy=function(e){return{$$typeof:wJ,_payload:{_status:-1,_result:e},_init:_J}};Xt.memo=function(e,t){return{$$typeof:bJ,type:e,compare:t===void 0?null:t}};Xt.startTransition=function(e){var t=ky.transition;ky.transition={};try{e()}finally{ky.transition=t}};Xt.unstable_act=wL;Xt.useCallback=function(e,t){return Ms.current.useCallback(e,t)};Xt.useContext=function(e){return Ms.current.useContext(e)};Xt.useDebugValue=function(){};Xt.useDeferredValue=function(e){return Ms.current.useDeferredValue(e)};Xt.useEffect=function(e,t){return Ms.current.useEffect(e,t)};Xt.useId=function(){return Ms.current.useId()};Xt.useImperativeHandle=function(e,t,n){return Ms.current.useImperativeHandle(e,t,n)};Xt.useInsertionEffect=function(e,t){return Ms.current.useInsertionEffect(e,t)};Xt.useLayoutEffect=function(e,t){return Ms.current.useLayoutEffect(e,t)};Xt.useMemo=function(e,t){return Ms.current.useMemo(e,t)};Xt.useReducer=function(e,t,n){return Ms.current.useReducer(e,t,n)};Xt.useRef=function(e){return Ms.current.useRef(e)};Xt.useState=function(e){return Ms.current.useState(e)};Xt.useSyncExternalStore=function(e,t,n){return Ms.current.useSyncExternalStore(e,t,n)};Xt.useTransition=function(){return Ms.current.useTransition()};Xt.version="18.3.1";mL.exports=Xt;var w=mL.exports;const q=pn(w),EP=dJ({__proto__:null,default:q},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AJ=w,EJ=Symbol.for("react.element"),kJ=Symbol.for("react.fragment"),TJ=Object.prototype.hasOwnProperty,OJ=AJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DJ={key:!0,ref:!0,__self:!0,__source:!0};function NL(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)TJ.call(t,s)&&!DJ.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:EJ,type:e,key:a,ref:o,props:i,_owner:OJ.current}}Wj.Fragment=kJ;Wj.jsx=NL;Wj.jsxs=NL;fL.exports=Wj;var r=fL.exports,SL={exports:{}},Ci={},CL={exports:{}},_L={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,D){var ae=Q.length;Q.push(D);e:for(;0<ae;){var pe=ae-1>>>1,te=Q[pe];if(0<i(te,D))Q[pe]=D,Q[ae]=te,ae=pe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var D=Q[0],ae=Q.pop();if(ae!==D){Q[0]=ae;e:for(var pe=0,te=Q.length,Z=te>>>1;pe<Z;){var ne=2*(pe+1)-1,xe=Q[ne],ye=ne+1,se=Q[ye];if(0>i(xe,ae))ye<te&&0>i(se,xe)?(Q[pe]=se,Q[ye]=ae,pe=ye):(Q[pe]=xe,Q[ne]=ae,pe=ne);else if(ye<te&&0>i(se,ae))Q[pe]=se,Q[ye]=ae,pe=ye;else break e}}return D}function i(Q,D){var ae=Q.sortIndex-D.sortIndex;return ae!==0?ae:Q.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,g=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Q){for(var D=n(u);D!==null;){if(D.callback===null)s(u);else if(D.startTime<=Q)s(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function _(Q){if(v=!1,b(Q),!x)if(n(c)!==null)x=!0,H(C);else{var D=n(u);D!==null&&oe(_,D.startTime-Q)}}function C(Q,D){x=!1,v&&(v=!1,N(E),E=-1),g=!0;var ae=m;try{for(b(D),f=n(c);f!==null&&(!(f.expirationTime>D)||Q&&!T());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,m=f.priorityLevel;var te=pe(f.expirationTime<=D);D=e.unstable_now(),typeof te=="function"?f.callback=te:f===n(c)&&s(c),b(D)}else s(c);f=n(c)}if(f!==null)var Z=!0;else{var ne=n(u);ne!==null&&oe(_,ne.startTime-D),Z=!1}return Z}finally{f=null,m=ae,g=!1}}var A=!1,P=null,E=-1,M=5,$=-1;function T(){return!(e.unstable_now()-$<M)}function O(){if(P!==null){var Q=e.unstable_now();$=Q;var D=!0;try{D=P(!0,Q)}finally{D?L():(A=!1,P=null)}}else A=!1}var L;if(typeof j=="function")L=function(){j(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,J=z.port2;z.port1.onmessage=O,L=function(){J.postMessage(null)}}else L=function(){y(O,0)};function H(Q){P=Q,A||(A=!0,L())}function oe(Q,D){E=y(function(){Q(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,H(C))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var ae=m;m=D;try{return Q()}finally{m=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,D){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ae=m;m=Q;try{return D()}finally{m=ae}},e.unstable_scheduleCallback=function(Q,D,ae){var pe=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?pe+ae:pe):ae=pe,Q){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ae+te,Q={id:d++,callback:D,priorityLevel:Q,startTime:ae,expirationTime:te,sortIndex:-1},ae>pe?(Q.sortIndex=ae,t(u,Q),n(c)===null&&Q===n(u)&&(v?(N(E),E=-1):v=!0,oe(_,ae-pe))):(Q.sortIndex=te,t(c,Q),x||g||(x=!0,H(C))),Q},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(Q){var D=m;return function(){var ae=m;m=D;try{return Q.apply(this,arguments)}finally{m=ae}}}})(_L);CL.exports=_L;var MJ=CL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IJ=w,Si=MJ;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PL=new Set,Fp={};function id(e,t){Gh(e,t),Gh(e+"Capture",t)}function Gh(e,t){for(Fp[e]=t,e=0;e<t.length;e++)PL.add(t[e])}var el=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),QS=Object.prototype.hasOwnProperty,$J=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tD={},nD={};function RJ(e){return QS.call(nD,e)?!0:QS.call(tD,e)?!1:$J.test(e)?nD[e]=!0:(tD[e]=!0,!1)}function LJ(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FJ(e,t,n,s){if(t===null||typeof t>"u"||LJ(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Is(e,t,n,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ss={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ss[e]=new Is(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ss[t]=new Is(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ss[e]=new Is(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ss[e]=new Is(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ss[e]=new Is(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ss[e]=new Is(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ss[e]=new Is(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ss[e]=new Is(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ss[e]=new Is(e,5,!1,e.toLowerCase(),null,!1,!1)});var kP=/[\-:]([a-z])/g;function TP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kP,TP);ss[t]=new Is(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kP,TP);ss[t]=new Is(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kP,TP);ss[t]=new Is(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ss[e]=new Is(e,1,!1,e.toLowerCase(),null,!1,!1)});ss.xlinkHref=new Is("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ss[e]=new Is(e,1,!1,e.toLowerCase(),null,!0,!0)});function OP(e,t,n,s){var i=ss.hasOwnProperty(t)?ss[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FJ(t,n,i,s)&&(n=null),s||i===null?RJ(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var ml=IJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kx=Symbol.for("react.element"),nh=Symbol.for("react.portal"),rh=Symbol.for("react.fragment"),DP=Symbol.for("react.strict_mode"),XS=Symbol.for("react.profiler"),AL=Symbol.for("react.provider"),EL=Symbol.for("react.context"),MP=Symbol.for("react.forward_ref"),JS=Symbol.for("react.suspense"),ZS=Symbol.for("react.suspense_list"),IP=Symbol.for("react.memo"),Fl=Symbol.for("react.lazy"),kL=Symbol.for("react.offscreen"),rD=Symbol.iterator;function Rm(e){return e===null||typeof e!="object"?null:(e=rD&&e[rD]||e["@@iterator"],typeof e=="function"?e:null)}var nr=Object.assign,jN;function cp(e){if(jN===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jN=t&&t[1]||""}return`
`+jN+e}var bN=!1;function wN(e,t){if(!e||bN)return"";bN=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{bN=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?cp(e):""}function BJ(e){switch(e.tag){case 5:return cp(e.type);case 16:return cp("Lazy");case 13:return cp("Suspense");case 19:return cp("SuspenseList");case 0:case 2:case 15:return e=wN(e.type,!1),e;case 11:return e=wN(e.type.render,!1),e;case 1:return e=wN(e.type,!0),e;default:return""}}function eC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rh:return"Fragment";case nh:return"Portal";case XS:return"Profiler";case DP:return"StrictMode";case JS:return"Suspense";case ZS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case EL:return(e.displayName||"Context")+".Consumer";case AL:return(e._context.displayName||"Context")+".Provider";case MP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case IP:return t=e.displayName||null,t!==null?t:eC(e.type)||"Memo";case Fl:t=e._payload,e=e._init;try{return eC(e(t))}catch{}}return null}function zJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eC(t);case 8:return t===DP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function TL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VJ(e){var t=TL(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tx(e){e._valueTracker||(e._valueTracker=VJ(e))}function OL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=TL(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Yy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tC(e,t){var n=t.checked;return nr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sD(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=yc(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function DL(e,t){t=t.checked,t!=null&&OP(e,"checked",t,!1)}function nC(e,t){DL(e,t);var n=yc(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rC(e,t.type,n):t.hasOwnProperty("defaultValue")&&rC(e,t.type,yc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iD(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function rC(e,t,n){(t!=="number"||Yy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var up=Array.isArray;function jh(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+yc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function sC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return nr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function aD(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(up(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yc(n)}}function ML(e,t){var n=yc(t.value),s=yc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function oD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function IL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?IL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ox,$L=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ox=Ox||document.createElement("div"),Ox.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ox.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UJ=["Webkit","ms","Moz","O"];Object.keys(xp).forEach(function(e){UJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xp[t]=xp[e]})});function RL(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xp.hasOwnProperty(e)&&xp[e]?(""+t).trim():t+"px"}function LL(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=RL(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var qJ=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aC(e,t){if(t){if(qJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function oC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lC=null;function $P(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cC=null,bh=null,wh=null;function lD(e){if(e=iv(e)){if(typeof cC!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=Qj(t),cC(e.stateNode,e.type,t))}}function FL(e){bh?wh?wh.push(e):wh=[e]:bh=e}function BL(){if(bh){var e=bh,t=wh;if(wh=bh=null,lD(e),t)for(e=0;e<t.length;e++)lD(t[e])}}function zL(e,t){return e(t)}function VL(){}var NN=!1;function UL(e,t,n){if(NN)return e(t,n);NN=!0;try{return zL(e,t,n)}finally{NN=!1,(bh!==null||wh!==null)&&(VL(),BL())}}function zp(e,t){var n=e.stateNode;if(n===null)return null;var s=Qj(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var uC=!1;if(el)try{var Lm={};Object.defineProperty(Lm,"passive",{get:function(){uC=!0}}),window.addEventListener("test",Lm,Lm),window.removeEventListener("test",Lm,Lm)}catch{uC=!1}function WJ(e,t,n,s,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var yp=!1,Qy=null,Xy=!1,dC=null,HJ={onError:function(e){yp=!0,Qy=e}};function GJ(e,t,n,s,i,a,o,l,c){yp=!1,Qy=null,WJ.apply(HJ,arguments)}function KJ(e,t,n,s,i,a,o,l,c){if(GJ.apply(this,arguments),yp){if(yp){var u=Qy;yp=!1,Qy=null}else throw Error(Ue(198));Xy||(Xy=!0,dC=u)}}function ad(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cD(e){if(ad(e)!==e)throw Error(Ue(188))}function YJ(e){var t=e.alternate;if(!t){if(t=ad(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return cD(i),e;if(a===s)return cD(i),t;a=a.sibling}throw Error(Ue(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(Ue(189))}}if(n.alternate!==s)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function WL(e){return e=YJ(e),e!==null?HL(e):null}function HL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=HL(e);if(t!==null)return t;e=e.sibling}return null}var GL=Si.unstable_scheduleCallback,uD=Si.unstable_cancelCallback,QJ=Si.unstable_shouldYield,XJ=Si.unstable_requestPaint,mr=Si.unstable_now,JJ=Si.unstable_getCurrentPriorityLevel,RP=Si.unstable_ImmediatePriority,KL=Si.unstable_UserBlockingPriority,Jy=Si.unstable_NormalPriority,ZJ=Si.unstable_LowPriority,YL=Si.unstable_IdlePriority,Hj=null,lo=null;function eZ(e){if(lo&&typeof lo.onCommitFiberRoot=="function")try{lo.onCommitFiberRoot(Hj,e,void 0,(e.current.flags&128)===128)}catch{}}var _a=Math.clz32?Math.clz32:rZ,tZ=Math.log,nZ=Math.LN2;function rZ(e){return e>>>=0,e===0?32:31-(tZ(e)/nZ|0)|0}var Dx=64,Mx=4194304;function dp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zy(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=dp(l):(a&=o,a!==0&&(s=dp(a)))}else o=n&~i,o!==0?s=dp(o):a!==0&&(s=dp(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-_a(t),i=1<<n,s|=e[n],t&=~i;return s}function sZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iZ(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-_a(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=sZ(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function hC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QL(){var e=Dx;return Dx<<=1,!(Dx&4194240)&&(Dx=64),e}function SN(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rv(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_a(t),e[t]=n}function aZ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-_a(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}function LP(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-_a(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var bn=0;function XL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var JL,FP,ZL,eF,tF,fC=!1,Ix=[],oc=null,lc=null,cc=null,Vp=new Map,Up=new Map,Vl=[],oZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dD(e,t){switch(e){case"focusin":case"focusout":oc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":cc=null;break;case"pointerover":case"pointerout":Vp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Up.delete(t.pointerId)}}function Fm(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=iv(t),t!==null&&FP(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lZ(e,t,n,s,i){switch(t){case"focusin":return oc=Fm(oc,e,t,n,s,i),!0;case"dragenter":return lc=Fm(lc,e,t,n,s,i),!0;case"mouseover":return cc=Fm(cc,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return Vp.set(a,Fm(Vp.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,Up.set(a,Fm(Up.get(a)||null,e,t,n,s,i)),!0}return!1}function nF(e){var t=fu(e.target);if(t!==null){var n=ad(t);if(n!==null){if(t=n.tag,t===13){if(t=qL(n),t!==null){e.blockedOn=t,tF(e.priority,function(){ZL(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ty(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);lC=s,n.target.dispatchEvent(s),lC=null}else return t=iv(n),t!==null&&FP(t),e.blockedOn=n,!1;t.shift()}return!0}function hD(e,t,n){Ty(e)&&n.delete(t)}function cZ(){fC=!1,oc!==null&&Ty(oc)&&(oc=null),lc!==null&&Ty(lc)&&(lc=null),cc!==null&&Ty(cc)&&(cc=null),Vp.forEach(hD),Up.forEach(hD)}function Bm(e,t){e.blockedOn===t&&(e.blockedOn=null,fC||(fC=!0,Si.unstable_scheduleCallback(Si.unstable_NormalPriority,cZ)))}function qp(e){function t(i){return Bm(i,e)}if(0<Ix.length){Bm(Ix[0],e);for(var n=1;n<Ix.length;n++){var s=Ix[n];s.blockedOn===e&&(s.blockedOn=null)}}for(oc!==null&&Bm(oc,e),lc!==null&&Bm(lc,e),cc!==null&&Bm(cc,e),Vp.forEach(t),Up.forEach(t),n=0;n<Vl.length;n++)s=Vl[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Vl.length&&(n=Vl[0],n.blockedOn===null);)nF(n),n.blockedOn===null&&Vl.shift()}var Nh=ml.ReactCurrentBatchConfig,e0=!0;function uZ(e,t,n,s){var i=bn,a=Nh.transition;Nh.transition=null;try{bn=1,BP(e,t,n,s)}finally{bn=i,Nh.transition=a}}function dZ(e,t,n,s){var i=bn,a=Nh.transition;Nh.transition=null;try{bn=4,BP(e,t,n,s)}finally{bn=i,Nh.transition=a}}function BP(e,t,n,s){if(e0){var i=mC(e,t,n,s);if(i===null)MN(e,t,s,t0,n),dD(e,s);else if(lZ(i,e,t,n,s))s.stopPropagation();else if(dD(e,s),t&4&&-1<oZ.indexOf(e)){for(;i!==null;){var a=iv(i);if(a!==null&&JL(a),a=mC(e,t,n,s),a===null&&MN(e,t,s,t0,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else MN(e,t,s,null,n)}}var t0=null;function mC(e,t,n,s){if(t0=null,e=$P(s),e=fu(e),e!==null)if(t=ad(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qL(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return t0=e,null}function rF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JJ()){case RP:return 1;case KL:return 4;case Jy:case ZJ:return 16;case YL:return 536870912;default:return 16}default:return 16}}var tc=null,zP=null,Oy=null;function sF(){if(Oy)return Oy;var e,t=zP,n=t.length,s,i="value"in tc?tc.value:tc.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[a-s];s++);return Oy=i.slice(e,1<s?1-s:void 0)}function Dy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $x(){return!0}function fD(){return!1}function _i(e){function t(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$x:fD,this.isPropagationStopped=fD,this}return nr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$x)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$x)},persist:function(){},isPersistent:$x}),t}var Lf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},VP=_i(Lf),sv=nr({},Lf,{view:0,detail:0}),hZ=_i(sv),CN,_N,zm,Gj=nr({},sv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zm&&(zm&&e.type==="mousemove"?(CN=e.screenX-zm.screenX,_N=e.screenY-zm.screenY):_N=CN=0,zm=e),CN)},movementY:function(e){return"movementY"in e?e.movementY:_N}}),mD=_i(Gj),fZ=nr({},Gj,{dataTransfer:0}),mZ=_i(fZ),pZ=nr({},sv,{relatedTarget:0}),PN=_i(pZ),gZ=nr({},Lf,{animationName:0,elapsedTime:0,pseudoElement:0}),vZ=_i(gZ),xZ=nr({},Lf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yZ=_i(xZ),jZ=nr({},Lf,{data:0}),pD=_i(jZ),bZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=NZ[e])?!!t[e]:!1}function UP(){return SZ}var CZ=nr({},sv,{key:function(e){if(e.key){var t=bZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UP,charCode:function(e){return e.type==="keypress"?Dy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_Z=_i(CZ),PZ=nr({},Gj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gD=_i(PZ),AZ=nr({},sv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UP}),EZ=_i(AZ),kZ=nr({},Lf,{propertyName:0,elapsedTime:0,pseudoElement:0}),TZ=_i(kZ),OZ=nr({},Gj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DZ=_i(OZ),MZ=[9,13,27,32],qP=el&&"CompositionEvent"in window,jp=null;el&&"documentMode"in document&&(jp=document.documentMode);var IZ=el&&"TextEvent"in window&&!jp,iF=el&&(!qP||jp&&8<jp&&11>=jp),vD=" ",xD=!1;function aF(e,t){switch(e){case"keyup":return MZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sh=!1;function $Z(e,t){switch(e){case"compositionend":return oF(t);case"keypress":return t.which!==32?null:(xD=!0,vD);case"textInput":return e=t.data,e===vD&&xD?null:e;default:return null}}function RZ(e,t){if(sh)return e==="compositionend"||!qP&&aF(e,t)?(e=sF(),Oy=zP=tc=null,sh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iF&&t.locale!=="ko"?null:t.data;default:return null}}var LZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LZ[e.type]:t==="textarea"}function lF(e,t,n,s){FL(s),t=n0(t,"onChange"),0<t.length&&(n=new VP("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var bp=null,Wp=null;function FZ(e){yF(e,0)}function Kj(e){var t=oh(e);if(OL(t))return e}function BZ(e,t){if(e==="change")return t}var cF=!1;if(el){var AN;if(el){var EN="oninput"in document;if(!EN){var jD=document.createElement("div");jD.setAttribute("oninput","return;"),EN=typeof jD.oninput=="function"}AN=EN}else AN=!1;cF=AN&&(!document.documentMode||9<document.documentMode)}function bD(){bp&&(bp.detachEvent("onpropertychange",uF),Wp=bp=null)}function uF(e){if(e.propertyName==="value"&&Kj(Wp)){var t=[];lF(t,Wp,e,$P(e)),UL(FZ,t)}}function zZ(e,t,n){e==="focusin"?(bD(),bp=t,Wp=n,bp.attachEvent("onpropertychange",uF)):e==="focusout"&&bD()}function VZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kj(Wp)}function UZ(e,t){if(e==="click")return Kj(t)}function qZ(e,t){if(e==="input"||e==="change")return Kj(t)}function WZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ta=typeof Object.is=="function"?Object.is:WZ;function Hp(e,t){if(Ta(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!QS.call(t,i)||!Ta(e[i],t[i]))return!1}return!0}function wD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ND(e,t){var n=wD(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wD(n)}}function dF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hF(){for(var e=window,t=Yy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yy(e.document)}return t}function WP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HZ(e){var t=hF(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dF(n.ownerDocument.documentElement,n)){if(s!==null&&WP(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=ND(n,a);var o=ND(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var GZ=el&&"documentMode"in document&&11>=document.documentMode,ih=null,pC=null,wp=null,gC=!1;function SD(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gC||ih==null||ih!==Yy(s)||(s=ih,"selectionStart"in s&&WP(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),wp&&Hp(wp,s)||(wp=s,s=n0(pC,"onSelect"),0<s.length&&(t=new VP("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ih)))}function Rx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ah={animationend:Rx("Animation","AnimationEnd"),animationiteration:Rx("Animation","AnimationIteration"),animationstart:Rx("Animation","AnimationStart"),transitionend:Rx("Transition","TransitionEnd")},kN={},fF={};el&&(fF=document.createElement("div").style,"AnimationEvent"in window||(delete ah.animationend.animation,delete ah.animationiteration.animation,delete ah.animationstart.animation),"TransitionEvent"in window||delete ah.transitionend.transition);function Yj(e){if(kN[e])return kN[e];if(!ah[e])return e;var t=ah[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fF)return kN[e]=t[n];return e}var mF=Yj("animationend"),pF=Yj("animationiteration"),gF=Yj("animationstart"),vF=Yj("transitionend"),xF=new Map,CD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _c(e,t){xF.set(e,t),id(t,[e])}for(var TN=0;TN<CD.length;TN++){var ON=CD[TN],KZ=ON.toLowerCase(),YZ=ON[0].toUpperCase()+ON.slice(1);_c(KZ,"on"+YZ)}_c(mF,"onAnimationEnd");_c(pF,"onAnimationIteration");_c(gF,"onAnimationStart");_c("dblclick","onDoubleClick");_c("focusin","onFocus");_c("focusout","onBlur");_c(vF,"onTransitionEnd");Gh("onMouseEnter",["mouseout","mouseover"]);Gh("onMouseLeave",["mouseout","mouseover"]);Gh("onPointerEnter",["pointerout","pointerover"]);Gh("onPointerLeave",["pointerout","pointerover"]);id("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));id("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));id("onBeforeInput",["compositionend","keypress","textInput","paste"]);id("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));id("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));id("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(hp));function _D(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,KJ(s,t,void 0,e),e.currentTarget=null}function yF(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;_D(i,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;_D(i,l,u),a=c}}}if(Xy)throw e=dC,Xy=!1,dC=null,e}function Fn(e,t){var n=t[bC];n===void 0&&(n=t[bC]=new Set);var s=e+"__bubble";n.has(s)||(jF(t,e,2,!1),n.add(s))}function DN(e,t,n){var s=0;t&&(s|=4),jF(n,e,s,t)}var Lx="_reactListening"+Math.random().toString(36).slice(2);function Gp(e){if(!e[Lx]){e[Lx]=!0,PL.forEach(function(n){n!=="selectionchange"&&(QZ.has(n)||DN(n,!1,e),DN(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lx]||(t[Lx]=!0,DN("selectionchange",!1,t))}}function jF(e,t,n,s){switch(rF(t)){case 1:var i=uZ;break;case 4:i=dZ;break;default:i=BP}n=i.bind(null,t,n,e),i=void 0,!uC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function MN(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=fu(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}UL(function(){var u=a,d=$P(n),f=[];e:{var m=xF.get(e);if(m!==void 0){var g=VP,x=e;switch(e){case"keypress":if(Dy(n)===0)break e;case"keydown":case"keyup":g=_Z;break;case"focusin":x="focus",g=PN;break;case"focusout":x="blur",g=PN;break;case"beforeblur":case"afterblur":g=PN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=mD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=mZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=EZ;break;case mF:case pF:case gF:g=vZ;break;case vF:g=TZ;break;case"scroll":g=hZ;break;case"wheel":g=DZ;break;case"copy":case"cut":case"paste":g=yZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=gD}var v=(t&4)!==0,y=!v&&e==="scroll",N=v?m!==null?m+"Capture":null:m;v=[];for(var j=u,b;j!==null;){b=j;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,N!==null&&(_=zp(j,N),_!=null&&v.push(Kp(j,_,b)))),y)break;j=j.return}0<v.length&&(m=new g(m,x,null,n,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==lC&&(x=n.relatedTarget||n.fromElement)&&(fu(x)||x[tl]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?fu(x):null,x!==null&&(y=ad(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=mD,_="onMouseLeave",N="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(v=gD,_="onPointerLeave",N="onPointerEnter",j="pointer"),y=g==null?m:oh(g),b=x==null?m:oh(x),m=new v(_,j+"leave",g,n,d),m.target=y,m.relatedTarget=b,_=null,fu(d)===u&&(v=new v(N,j+"enter",x,n,d),v.target=b,v.relatedTarget=y,_=v),y=_,g&&x)t:{for(v=g,N=x,j=0,b=v;b;b=Rd(b))j++;for(b=0,_=N;_;_=Rd(_))b++;for(;0<j-b;)v=Rd(v),j--;for(;0<b-j;)N=Rd(N),b--;for(;j--;){if(v===N||N!==null&&v===N.alternate)break t;v=Rd(v),N=Rd(N)}v=null}else v=null;g!==null&&PD(f,m,g,v,!1),x!==null&&y!==null&&PD(f,y,x,v,!0)}}e:{if(m=u?oh(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var C=BZ;else if(yD(m))if(cF)C=qZ;else{C=VZ;var A=zZ}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=UZ);if(C&&(C=C(e,u))){lF(f,C,n,d);break e}A&&A(e,m,u),e==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&rC(m,"number",m.value)}switch(A=u?oh(u):window,e){case"focusin":(yD(A)||A.contentEditable==="true")&&(ih=A,pC=u,wp=null);break;case"focusout":wp=pC=ih=null;break;case"mousedown":gC=!0;break;case"contextmenu":case"mouseup":case"dragend":gC=!1,SD(f,n,d);break;case"selectionchange":if(GZ)break;case"keydown":case"keyup":SD(f,n,d)}var P;if(qP)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else sh?aF(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(iF&&n.locale!=="ko"&&(sh||E!=="onCompositionStart"?E==="onCompositionEnd"&&sh&&(P=sF()):(tc=d,zP="value"in tc?tc.value:tc.textContent,sh=!0)),A=n0(u,E),0<A.length&&(E=new pD(E,e,null,n,d),f.push({event:E,listeners:A}),P?E.data=P:(P=oF(n),P!==null&&(E.data=P)))),(P=IZ?$Z(e,n):RZ(e,n))&&(u=n0(u,"onBeforeInput"),0<u.length&&(d=new pD("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=P))}yF(f,t)})}function Kp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function n0(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=zp(e,n),a!=null&&s.unshift(Kp(e,a,i)),a=zp(e,t),a!=null&&s.push(Kp(e,a,i))),e=e.return}return s}function Rd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function PD(e,t,n,s,i){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,i?(c=zp(n,a),c!=null&&o.unshift(Kp(n,c,l))):i||(c=zp(n,a),c!=null&&o.push(Kp(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var XZ=/\r\n?/g,JZ=/\u0000|\uFFFD/g;function AD(e){return(typeof e=="string"?e:""+e).replace(XZ,`
`).replace(JZ,"")}function Fx(e,t,n){if(t=AD(t),AD(e)!==t&&n)throw Error(Ue(425))}function r0(){}var vC=null,xC=null;function yC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jC=typeof setTimeout=="function"?setTimeout:void 0,ZZ=typeof clearTimeout=="function"?clearTimeout:void 0,ED=typeof Promise=="function"?Promise:void 0,eee=typeof queueMicrotask=="function"?queueMicrotask:typeof ED<"u"?function(e){return ED.resolve(null).then(e).catch(tee)}:jC;function tee(e){setTimeout(function(){throw e})}function IN(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),qp(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);qp(t)}function uc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kD(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ff=Math.random().toString(36).slice(2),Za="__reactFiber$"+Ff,Yp="__reactProps$"+Ff,tl="__reactContainer$"+Ff,bC="__reactEvents$"+Ff,nee="__reactListeners$"+Ff,ree="__reactHandles$"+Ff;function fu(e){var t=e[Za];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tl]||n[Za]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kD(e);e!==null;){if(n=e[Za])return n;e=kD(e)}return t}e=n,n=e.parentNode}return null}function iv(e){return e=e[Za]||e[tl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function Qj(e){return e[Yp]||null}var wC=[],lh=-1;function Pc(e){return{current:e}}function Un(e){0>lh||(e.current=wC[lh],wC[lh]=null,lh--)}function Mn(e,t){lh++,wC[lh]=e.current,e.current=t}var jc={},ps=Pc(jc),Qs=Pc(!1),Ru=jc;function Kh(e,t){var n=e.type.contextTypes;if(!n)return jc;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Xs(e){return e=e.childContextTypes,e!=null}function s0(){Un(Qs),Un(ps)}function TD(e,t,n){if(ps.current!==jc)throw Error(Ue(168));Mn(ps,t),Mn(Qs,n)}function bF(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(Ue(108,zJ(e)||"Unknown",i));return nr({},n,s)}function i0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jc,Ru=ps.current,Mn(ps,e),Mn(Qs,Qs.current),!0}function OD(e,t,n){var s=e.stateNode;if(!s)throw Error(Ue(169));n?(e=bF(e,t,Ru),s.__reactInternalMemoizedMergedChildContext=e,Un(Qs),Un(ps),Mn(ps,e)):Un(Qs),Mn(Qs,n)}var Bo=null,Xj=!1,$N=!1;function wF(e){Bo===null?Bo=[e]:Bo.push(e)}function see(e){Xj=!0,wF(e)}function Ac(){if(!$N&&Bo!==null){$N=!0;var e=0,t=bn;try{var n=Bo;for(bn=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Bo=null,Xj=!1}catch(i){throw Bo!==null&&(Bo=Bo.slice(e+1)),GL(RP,Ac),i}finally{bn=t,$N=!1}}return null}var ch=[],uh=0,a0=null,o0=0,Vi=[],Ui=0,Lu=null,Wo=1,Ho="";function su(e,t){ch[uh++]=o0,ch[uh++]=a0,a0=e,o0=t}function NF(e,t,n){Vi[Ui++]=Wo,Vi[Ui++]=Ho,Vi[Ui++]=Lu,Lu=e;var s=Wo;e=Ho;var i=32-_a(s)-1;s&=~(1<<i),n+=1;var a=32-_a(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Wo=1<<32-_a(t)+i|n<<i|s,Ho=a+e}else Wo=1<<a|n<<i|s,Ho=e}function HP(e){e.return!==null&&(su(e,1),NF(e,1,0))}function GP(e){for(;e===a0;)a0=ch[--uh],ch[uh]=null,o0=ch[--uh],ch[uh]=null;for(;e===Lu;)Lu=Vi[--Ui],Vi[Ui]=null,Ho=Vi[--Ui],Vi[Ui]=null,Wo=Vi[--Ui],Vi[Ui]=null}var yi=null,xi=null,Hn=!1,wa=null;function SF(e,t){var n=Wi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function DD(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yi=e,xi=uc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yi=e,xi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Lu!==null?{id:Wo,overflow:Ho}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yi=e,xi=null,!0):!1;default:return!1}}function NC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function SC(e){if(Hn){var t=xi;if(t){var n=t;if(!DD(e,t)){if(NC(e))throw Error(Ue(418));t=uc(n.nextSibling);var s=yi;t&&DD(e,t)?SF(s,n):(e.flags=e.flags&-4097|2,Hn=!1,yi=e)}}else{if(NC(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,Hn=!1,yi=e}}}function MD(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yi=e}function Bx(e){if(e!==yi)return!1;if(!Hn)return MD(e),Hn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yC(e.type,e.memoizedProps)),t&&(t=xi)){if(NC(e))throw CF(),Error(Ue(418));for(;t;)SF(e,t),t=uc(t.nextSibling)}if(MD(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xi=uc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xi=null}}else xi=yi?uc(e.stateNode.nextSibling):null;return!0}function CF(){for(var e=xi;e;)e=uc(e.nextSibling)}function Yh(){xi=yi=null,Hn=!1}function KP(e){wa===null?wa=[e]:wa.push(e)}var iee=ml.ReactCurrentBatchConfig;function Vm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var s=n.stateNode}if(!s)throw Error(Ue(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function zx(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ID(e){var t=e._init;return t(e._payload)}function _F(e){function t(N,j){if(e){var b=N.deletions;b===null?(N.deletions=[j],N.flags|=16):b.push(j)}}function n(N,j){if(!e)return null;for(;j!==null;)t(N,j),j=j.sibling;return null}function s(N,j){for(N=new Map;j!==null;)j.key!==null?N.set(j.key,j):N.set(j.index,j),j=j.sibling;return N}function i(N,j){return N=mc(N,j),N.index=0,N.sibling=null,N}function a(N,j,b){return N.index=b,e?(b=N.alternate,b!==null?(b=b.index,b<j?(N.flags|=2,j):b):(N.flags|=2,j)):(N.flags|=1048576,j)}function o(N){return e&&N.alternate===null&&(N.flags|=2),N}function l(N,j,b,_){return j===null||j.tag!==6?(j=UN(b,N.mode,_),j.return=N,j):(j=i(j,b),j.return=N,j)}function c(N,j,b,_){var C=b.type;return C===rh?d(N,j,b.props.children,_,b.key):j!==null&&(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Fl&&ID(C)===j.type)?(_=i(j,b.props),_.ref=Vm(N,j,b),_.return=N,_):(_=By(b.type,b.key,b.props,null,N.mode,_),_.ref=Vm(N,j,b),_.return=N,_)}function u(N,j,b,_){return j===null||j.tag!==4||j.stateNode.containerInfo!==b.containerInfo||j.stateNode.implementation!==b.implementation?(j=qN(b,N.mode,_),j.return=N,j):(j=i(j,b.children||[]),j.return=N,j)}function d(N,j,b,_,C){return j===null||j.tag!==7?(j=Du(b,N.mode,_,C),j.return=N,j):(j=i(j,b),j.return=N,j)}function f(N,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return j=UN(""+j,N.mode,b),j.return=N,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case kx:return b=By(j.type,j.key,j.props,null,N.mode,b),b.ref=Vm(N,null,j),b.return=N,b;case nh:return j=qN(j,N.mode,b),j.return=N,j;case Fl:var _=j._init;return f(N,_(j._payload),b)}if(up(j)||Rm(j))return j=Du(j,N.mode,b,null),j.return=N,j;zx(N,j)}return null}function m(N,j,b,_){var C=j!==null?j.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:l(N,j,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kx:return b.key===C?c(N,j,b,_):null;case nh:return b.key===C?u(N,j,b,_):null;case Fl:return C=b._init,m(N,j,C(b._payload),_)}if(up(b)||Rm(b))return C!==null?null:d(N,j,b,_,null);zx(N,b)}return null}function g(N,j,b,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return N=N.get(b)||null,l(j,N,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kx:return N=N.get(_.key===null?b:_.key)||null,c(j,N,_,C);case nh:return N=N.get(_.key===null?b:_.key)||null,u(j,N,_,C);case Fl:var A=_._init;return g(N,j,b,A(_._payload),C)}if(up(_)||Rm(_))return N=N.get(b)||null,d(j,N,_,C,null);zx(j,_)}return null}function x(N,j,b,_){for(var C=null,A=null,P=j,E=j=0,M=null;P!==null&&E<b.length;E++){P.index>E?(M=P,P=null):M=P.sibling;var $=m(N,P,b[E],_);if($===null){P===null&&(P=M);break}e&&P&&$.alternate===null&&t(N,P),j=a($,j,E),A===null?C=$:A.sibling=$,A=$,P=M}if(E===b.length)return n(N,P),Hn&&su(N,E),C;if(P===null){for(;E<b.length;E++)P=f(N,b[E],_),P!==null&&(j=a(P,j,E),A===null?C=P:A.sibling=P,A=P);return Hn&&su(N,E),C}for(P=s(N,P);E<b.length;E++)M=g(P,N,E,b[E],_),M!==null&&(e&&M.alternate!==null&&P.delete(M.key===null?E:M.key),j=a(M,j,E),A===null?C=M:A.sibling=M,A=M);return e&&P.forEach(function(T){return t(N,T)}),Hn&&su(N,E),C}function v(N,j,b,_){var C=Rm(b);if(typeof C!="function")throw Error(Ue(150));if(b=C.call(b),b==null)throw Error(Ue(151));for(var A=C=null,P=j,E=j=0,M=null,$=b.next();P!==null&&!$.done;E++,$=b.next()){P.index>E?(M=P,P=null):M=P.sibling;var T=m(N,P,$.value,_);if(T===null){P===null&&(P=M);break}e&&P&&T.alternate===null&&t(N,P),j=a(T,j,E),A===null?C=T:A.sibling=T,A=T,P=M}if($.done)return n(N,P),Hn&&su(N,E),C;if(P===null){for(;!$.done;E++,$=b.next())$=f(N,$.value,_),$!==null&&(j=a($,j,E),A===null?C=$:A.sibling=$,A=$);return Hn&&su(N,E),C}for(P=s(N,P);!$.done;E++,$=b.next())$=g(P,N,E,$.value,_),$!==null&&(e&&$.alternate!==null&&P.delete($.key===null?E:$.key),j=a($,j,E),A===null?C=$:A.sibling=$,A=$);return e&&P.forEach(function(O){return t(N,O)}),Hn&&su(N,E),C}function y(N,j,b,_){if(typeof b=="object"&&b!==null&&b.type===rh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case kx:e:{for(var C=b.key,A=j;A!==null;){if(A.key===C){if(C=b.type,C===rh){if(A.tag===7){n(N,A.sibling),j=i(A,b.props.children),j.return=N,N=j;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Fl&&ID(C)===A.type){n(N,A.sibling),j=i(A,b.props),j.ref=Vm(N,A,b),j.return=N,N=j;break e}n(N,A);break}else t(N,A);A=A.sibling}b.type===rh?(j=Du(b.props.children,N.mode,_,b.key),j.return=N,N=j):(_=By(b.type,b.key,b.props,null,N.mode,_),_.ref=Vm(N,j,b),_.return=N,N=_)}return o(N);case nh:e:{for(A=b.key;j!==null;){if(j.key===A)if(j.tag===4&&j.stateNode.containerInfo===b.containerInfo&&j.stateNode.implementation===b.implementation){n(N,j.sibling),j=i(j,b.children||[]),j.return=N,N=j;break e}else{n(N,j);break}else t(N,j);j=j.sibling}j=qN(b,N.mode,_),j.return=N,N=j}return o(N);case Fl:return A=b._init,y(N,j,A(b._payload),_)}if(up(b))return x(N,j,b,_);if(Rm(b))return v(N,j,b,_);zx(N,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,j!==null&&j.tag===6?(n(N,j.sibling),j=i(j,b),j.return=N,N=j):(n(N,j),j=UN(b,N.mode,_),j.return=N,N=j),o(N)):n(N,j)}return y}var Qh=_F(!0),PF=_F(!1),l0=Pc(null),c0=null,dh=null,YP=null;function QP(){YP=dh=c0=null}function XP(e){var t=l0.current;Un(l0),e._currentValue=t}function CC(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Sh(e,t){c0=e,YP=dh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ks=!0),e.firstContext=null)}function Xi(e){var t=e._currentValue;if(YP!==e)if(e={context:e,memoizedValue:t,next:null},dh===null){if(c0===null)throw Error(Ue(308));dh=e,c0.dependencies={lanes:0,firstContext:e}}else dh=dh.next=e;return t}var mu=null;function JP(e){mu===null?mu=[e]:mu.push(e)}function AF(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,JP(t)):(n.next=i.next,i.next=n),t.interleaved=n,nl(e,s)}function nl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bl=!1;function ZP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dc(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,an&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,nl(e,n)}return i=s.interleaved,i===null?(t.next=t,JP(s)):(t.next=i.next,i.next=t),s.interleaved=t,nl(e,n)}function My(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,LP(e,n)}}function $D(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function u0(e,t,n,s){var i=e.updateQueue;Bl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,g=l.eventTime;if((s&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(m=t,g=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(g,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,m=typeof x=="function"?x.call(g,f,m):x,m==null)break e;f=nr({},f,m);break e;case 2:Bl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Bu|=o,e.lanes=o,e.memoizedState=f}}function RD(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(Ue(191,i));i.call(s)}}}var av={},co=Pc(av),Qp=Pc(av),Xp=Pc(av);function pu(e){if(e===av)throw Error(Ue(174));return e}function eA(e,t){switch(Mn(Xp,t),Mn(Qp,e),Mn(co,av),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:iC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=iC(t,e)}Un(co),Mn(co,t)}function Xh(){Un(co),Un(Qp),Un(Xp)}function kF(e){pu(Xp.current);var t=pu(co.current),n=iC(t,e.type);t!==n&&(Mn(Qp,e),Mn(co,n))}function tA(e){Qp.current===e&&(Un(co),Un(Qp))}var Zn=Pc(0);function d0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var RN=[];function nA(){for(var e=0;e<RN.length;e++)RN[e]._workInProgressVersionPrimary=null;RN.length=0}var Iy=ml.ReactCurrentDispatcher,LN=ml.ReactCurrentBatchConfig,Fu=0,tr=null,kr=null,zr=null,h0=!1,Np=!1,Jp=0,aee=0;function ls(){throw Error(Ue(321))}function rA(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ta(e[n],t[n]))return!1;return!0}function sA(e,t,n,s,i,a){if(Fu=a,tr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Iy.current=e===null||e.memoizedState===null?uee:dee,e=n(s,i),Np){a=0;do{if(Np=!1,Jp=0,25<=a)throw Error(Ue(301));a+=1,zr=kr=null,t.updateQueue=null,Iy.current=hee,e=n(s,i)}while(Np)}if(Iy.current=f0,t=kr!==null&&kr.next!==null,Fu=0,zr=kr=tr=null,h0=!1,t)throw Error(Ue(300));return e}function iA(){var e=Jp!==0;return Jp=0,e}function Ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?tr.memoizedState=zr=e:zr=zr.next=e,zr}function Ji(){if(kr===null){var e=tr.alternate;e=e!==null?e.memoizedState:null}else e=kr.next;var t=zr===null?tr.memoizedState:zr.next;if(t!==null)zr=t,kr=e;else{if(e===null)throw Error(Ue(310));kr=e,e={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},zr===null?tr.memoizedState=zr=e:zr=zr.next=e}return zr}function Zp(e,t){return typeof t=="function"?t(e):t}function FN(e){var t=Ji(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var s=kr,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Fu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,tr.lanes|=d,Bu|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,Ta(s,t.memoizedState)||(Ks=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do a=i.lane,tr.lanes|=a,Bu|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function BN(e){var t=Ji(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Ta(a,t.memoizedState)||(Ks=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function TF(){}function OF(e,t){var n=tr,s=Ji(),i=t(),a=!Ta(s.memoizedState,i);if(a&&(s.memoizedState=i,Ks=!0),s=s.queue,aA(IF.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||zr!==null&&zr.memoizedState.tag&1){if(n.flags|=2048,eg(9,MF.bind(null,n,s,i,t),void 0,null),Wr===null)throw Error(Ue(349));Fu&30||DF(n,t,i)}return i}function DF(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function MF(e,t,n,s){t.value=n,t.getSnapshot=s,$F(t)&&RF(e)}function IF(e,t,n){return n(function(){$F(t)&&RF(e)})}function $F(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ta(e,n)}catch{return!0}}function RF(e){var t=nl(e,1);t!==null&&Pa(t,e,1,-1)}function LD(e){var t=Ka();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zp,lastRenderedState:e},t.queue=e,e=e.dispatch=cee.bind(null,tr,e),[t.memoizedState,e]}function eg(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function LF(){return Ji().memoizedState}function $y(e,t,n,s){var i=Ka();tr.flags|=e,i.memoizedState=eg(1|t,n,void 0,s===void 0?null:s)}function Jj(e,t,n,s){var i=Ji();s=s===void 0?null:s;var a=void 0;if(kr!==null){var o=kr.memoizedState;if(a=o.destroy,s!==null&&rA(s,o.deps)){i.memoizedState=eg(t,n,a,s);return}}tr.flags|=e,i.memoizedState=eg(1|t,n,a,s)}function FD(e,t){return $y(8390656,8,e,t)}function aA(e,t){return Jj(2048,8,e,t)}function FF(e,t){return Jj(4,2,e,t)}function BF(e,t){return Jj(4,4,e,t)}function zF(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function VF(e,t,n){return n=n!=null?n.concat([e]):null,Jj(4,4,zF.bind(null,t,e),n)}function oA(){}function UF(e,t){var n=Ji();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&rA(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function qF(e,t){var n=Ji();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&rA(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function WF(e,t,n){return Fu&21?(Ta(n,t)||(n=QL(),tr.lanes|=n,Bu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ks=!0),e.memoizedState=n)}function oee(e,t){var n=bn;bn=n!==0&&4>n?n:4,e(!0);var s=LN.transition;LN.transition={};try{e(!1),t()}finally{bn=n,LN.transition=s}}function HF(){return Ji().memoizedState}function lee(e,t,n){var s=fc(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},GF(e))KF(t,n);else if(n=AF(e,t,n,s),n!==null){var i=Os();Pa(n,e,s,i),YF(n,t,s)}}function cee(e,t,n){var s=fc(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(GF(e))KF(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Ta(l,o)){var c=t.interleaved;c===null?(i.next=i,JP(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=AF(e,t,i,s),n!==null&&(i=Os(),Pa(n,e,s,i),YF(n,t,s))}}function GF(e){var t=e.alternate;return e===tr||t!==null&&t===tr}function KF(e,t){Np=h0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function YF(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,LP(e,n)}}var f0={readContext:Xi,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useInsertionEffect:ls,useLayoutEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useMutableSource:ls,useSyncExternalStore:ls,useId:ls,unstable_isNewReconciler:!1},uee={readContext:Xi,useCallback:function(e,t){return Ka().memoizedState=[e,t===void 0?null:t],e},useContext:Xi,useEffect:FD,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$y(4194308,4,zF.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $y(4194308,4,e,t)},useInsertionEffect:function(e,t){return $y(4,2,e,t)},useMemo:function(e,t){var n=Ka();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Ka();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=lee.bind(null,tr,e),[s.memoizedState,e]},useRef:function(e){var t=Ka();return e={current:e},t.memoizedState=e},useState:LD,useDebugValue:oA,useDeferredValue:function(e){return Ka().memoizedState=e},useTransition:function(){var e=LD(!1),t=e[0];return e=oee.bind(null,e[1]),Ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=tr,i=Ka();if(Hn){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),Wr===null)throw Error(Ue(349));Fu&30||DF(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,FD(IF.bind(null,s,a,e),[e]),s.flags|=2048,eg(9,MF.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Ka(),t=Wr.identifierPrefix;if(Hn){var n=Ho,s=Wo;n=(s&~(1<<32-_a(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=aee++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dee={readContext:Xi,useCallback:UF,useContext:Xi,useEffect:aA,useImperativeHandle:VF,useInsertionEffect:FF,useLayoutEffect:BF,useMemo:qF,useReducer:FN,useRef:LF,useState:function(){return FN(Zp)},useDebugValue:oA,useDeferredValue:function(e){var t=Ji();return WF(t,kr.memoizedState,e)},useTransition:function(){var e=FN(Zp)[0],t=Ji().memoizedState;return[e,t]},useMutableSource:TF,useSyncExternalStore:OF,useId:HF,unstable_isNewReconciler:!1},hee={readContext:Xi,useCallback:UF,useContext:Xi,useEffect:aA,useImperativeHandle:VF,useInsertionEffect:FF,useLayoutEffect:BF,useMemo:qF,useReducer:BN,useRef:LF,useState:function(){return BN(Zp)},useDebugValue:oA,useDeferredValue:function(e){var t=Ji();return kr===null?t.memoizedState=e:WF(t,kr.memoizedState,e)},useTransition:function(){var e=BN(Zp)[0],t=Ji().memoizedState;return[e,t]},useMutableSource:TF,useSyncExternalStore:OF,useId:HF,unstable_isNewReconciler:!1};function pa(e,t){if(e&&e.defaultProps){t=nr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _C(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:nr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zj={isMounted:function(e){return(e=e._reactInternals)?ad(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Os(),i=fc(e),a=Qo(s,i);a.payload=t,n!=null&&(a.callback=n),t=dc(e,a,i),t!==null&&(Pa(t,e,i,s),My(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Os(),i=fc(e),a=Qo(s,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=dc(e,a,i),t!==null&&(Pa(t,e,i,s),My(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Os(),s=fc(e),i=Qo(n,s);i.tag=2,t!=null&&(i.callback=t),t=dc(e,i,s),t!==null&&(Pa(t,e,s,n),My(t,e,s))}};function BD(e,t,n,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!Hp(n,s)||!Hp(i,a):!0}function QF(e,t,n){var s=!1,i=jc,a=t.contextType;return typeof a=="object"&&a!==null?a=Xi(a):(i=Xs(t)?Ru:ps.current,s=t.contextTypes,a=(s=s!=null)?Kh(e,i):jc),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zj,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function zD(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Zj.enqueueReplaceState(t,t.state,null)}function PC(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ZP(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Xi(a):(a=Xs(t)?Ru:ps.current,i.context=Kh(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(_C(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Zj.enqueueReplaceState(i,i.state,null),u0(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Jh(e,t){try{var n="",s=t;do n+=BJ(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function zN(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function AC(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fee=typeof WeakMap=="function"?WeakMap:Map;function XF(e,t,n){n=Qo(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){p0||(p0=!0,LC=s),AC(e,t)},n}function JF(e,t,n){n=Qo(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){AC(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){AC(e,t),typeof s!="function"&&(hc===null?hc=new Set([this]):hc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function VD(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new fee;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=Pee.bind(null,e,t,n),t.then(e,e))}function UD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qD(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qo(-1,1),t.tag=2,dc(n,t,1))),n.lanes|=1),e)}var mee=ml.ReactCurrentOwner,Ks=!1;function _s(e,t,n,s){t.child=e===null?PF(t,null,n,s):Qh(t,e.child,n,s)}function WD(e,t,n,s,i){n=n.render;var a=t.ref;return Sh(t,i),s=sA(e,t,n,s,a,i),n=iA(),e!==null&&!Ks?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,rl(e,t,i)):(Hn&&n&&HP(t),t.flags|=1,_s(e,t,s,i),t.child)}function HD(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!pA(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,ZF(e,t,a,s,i)):(e=By(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Hp,n(o,s)&&e.ref===t.ref)return rl(e,t,i)}return t.flags|=1,e=mc(a,s),e.ref=t.ref,e.return=t,t.child=e}function ZF(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(Hp(a,s)&&e.ref===t.ref)if(Ks=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(Ks=!0);else return t.lanes=e.lanes,rl(e,t,i)}return EC(e,t,n,s,i)}function e5(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mn(fh,fi),fi|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mn(fh,fi),fi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,Mn(fh,fi),fi|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,Mn(fh,fi),fi|=s;return _s(e,t,i,n),t.child}function t5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function EC(e,t,n,s,i){var a=Xs(n)?Ru:ps.current;return a=Kh(t,a),Sh(t,i),n=sA(e,t,n,s,a,i),s=iA(),e!==null&&!Ks?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,rl(e,t,i)):(Hn&&s&&HP(t),t.flags|=1,_s(e,t,n,i),t.child)}function GD(e,t,n,s,i){if(Xs(n)){var a=!0;i0(t)}else a=!1;if(Sh(t,i),t.stateNode===null)Ry(e,t),QF(t,n,s),PC(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xi(u):(u=Xs(n)?Ru:ps.current,u=Kh(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&zD(t,o,s,u),Bl=!1;var m=t.memoizedState;o.state=m,u0(t,s,o,i),c=t.memoizedState,l!==s||m!==c||Qs.current||Bl?(typeof d=="function"&&(_C(t,n,d,s),c=t.memoizedState),(l=Bl||BD(t,n,l,s,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,EF(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:pa(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Xi(c):(c=Xs(n)?Ru:ps.current,c=Kh(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&zD(t,o,s,c),Bl=!1,m=t.memoizedState,o.state=m,u0(t,s,o,i);var x=t.memoizedState;l!==f||m!==x||Qs.current||Bl?(typeof g=="function"&&(_C(t,n,g,s),x=t.memoizedState),(u=Bl||BD(t,n,u,s,m,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return kC(e,t,n,s,a,i)}function kC(e,t,n,s,i,a){t5(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&OD(t,n,!1),rl(e,t,a);s=t.stateNode,mee.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Qh(t,e.child,null,a),t.child=Qh(t,null,l,a)):_s(e,t,l,a),t.memoizedState=s.state,i&&OD(t,n,!0),t.child}function n5(e){var t=e.stateNode;t.pendingContext?TD(e,t.pendingContext,t.pendingContext!==t.context):t.context&&TD(e,t.context,!1),eA(e,t.containerInfo)}function KD(e,t,n,s,i){return Yh(),KP(i),t.flags|=256,_s(e,t,n,s),t.child}var TC={dehydrated:null,treeContext:null,retryLane:0};function OC(e){return{baseLanes:e,cachePool:null,transitions:null}}function r5(e,t,n){var s=t.pendingProps,i=Zn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Mn(Zn,i&1),e===null)return SC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=nb(o,s,0,null),e=Du(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=OC(n),t.memoizedState=TC,e):lA(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return pee(e,t,o,s,l,i,n);if(a){a=s.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=mc(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=mc(l,a):(a=Du(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?OC(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=TC,s}return a=e.child,e=a.sibling,s=mc(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function lA(e,t){return t=nb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vx(e,t,n,s){return s!==null&&KP(s),Qh(t,e.child,null,n),e=lA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pee(e,t,n,s,i,a,o){if(n)return t.flags&256?(t.flags&=-257,s=zN(Error(Ue(422))),Vx(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=nb({mode:"visible",children:s.children},i,0,null),a=Du(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Qh(t,e.child,null,o),t.child.memoizedState=OC(o),t.memoizedState=TC,a);if(!(t.mode&1))return Vx(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(Ue(419)),s=zN(a,s,void 0),Vx(e,t,o,s)}if(l=(o&e.childLanes)!==0,Ks||l){if(s=Wr,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,nl(e,i),Pa(s,e,i,-1))}return mA(),s=zN(Error(Ue(421))),Vx(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Aee.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,xi=uc(i.nextSibling),yi=t,Hn=!0,wa=null,e!==null&&(Vi[Ui++]=Wo,Vi[Ui++]=Ho,Vi[Ui++]=Lu,Wo=e.id,Ho=e.overflow,Lu=t),t=lA(t,s.children),t.flags|=4096,t)}function YD(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),CC(e.return,t,n)}function VN(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function s5(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(_s(e,t,s.children,n),s=Zn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&YD(e,n,t);else if(e.tag===19)YD(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Mn(Zn,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&d0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),VN(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&d0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}VN(t,!0,n,null,a);break;case"together":VN(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ry(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=mc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gee(e,t,n){switch(t.tag){case 3:n5(t),Yh();break;case 5:kF(t);break;case 1:Xs(t.type)&&i0(t);break;case 4:eA(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;Mn(l0,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Mn(Zn,Zn.current&1),t.flags|=128,null):n&t.child.childLanes?r5(e,t,n):(Mn(Zn,Zn.current&1),e=rl(e,t,n),e!==null?e.sibling:null);Mn(Zn,Zn.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return s5(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mn(Zn,Zn.current),s)break;return null;case 22:case 23:return t.lanes=0,e5(e,t,n)}return rl(e,t,n)}var i5,DC,a5,o5;i5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};DC=function(){};a5=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,pu(co.current);var a=null;switch(n){case"input":i=tC(e,i),s=tC(e,s),a=[];break;case"select":i=nr({},i,{value:void 0}),s=nr({},s,{value:void 0}),a=[];break;case"textarea":i=sC(e,i),s=sC(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=r0)}aC(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fp.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Fn("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};o5=function(e,t,n,s){n!==s&&(t.flags|=4)};function Um(e,t){if(!Hn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function cs(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function vee(e,t,n){var s=t.pendingProps;switch(GP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cs(t),null;case 1:return Xs(t.type)&&s0(),cs(t),null;case 3:return s=t.stateNode,Xh(),Un(Qs),Un(ps),nA(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Bx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wa!==null&&(zC(wa),wa=null))),DC(e,t),cs(t),null;case 5:tA(t);var i=pu(Xp.current);if(n=t.type,e!==null&&t.stateNode!=null)a5(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Ue(166));return cs(t),null}if(e=pu(co.current),Bx(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Za]=t,s[Yp]=a,e=(t.mode&1)!==0,n){case"dialog":Fn("cancel",s),Fn("close",s);break;case"iframe":case"object":case"embed":Fn("load",s);break;case"video":case"audio":for(i=0;i<hp.length;i++)Fn(hp[i],s);break;case"source":Fn("error",s);break;case"img":case"image":case"link":Fn("error",s),Fn("load",s);break;case"details":Fn("toggle",s);break;case"input":sD(s,a),Fn("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Fn("invalid",s);break;case"textarea":aD(s,a),Fn("invalid",s)}aC(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Fx(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Fx(s.textContent,l,e),i=["children",""+l]):Fp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Fn("scroll",s)}switch(n){case"input":Tx(s),iD(s,a,!0);break;case"textarea":Tx(s),oD(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=r0)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=IL(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Za]=t,e[Yp]=s,i5(e,t,!1,!1),t.stateNode=e;e:{switch(o=oC(n,s),n){case"dialog":Fn("cancel",e),Fn("close",e),i=s;break;case"iframe":case"object":case"embed":Fn("load",e),i=s;break;case"video":case"audio":for(i=0;i<hp.length;i++)Fn(hp[i],e);i=s;break;case"source":Fn("error",e),i=s;break;case"img":case"image":case"link":Fn("error",e),Fn("load",e),i=s;break;case"details":Fn("toggle",e),i=s;break;case"input":sD(e,s),i=tC(e,s),Fn("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=nr({},s,{value:void 0}),Fn("invalid",e);break;case"textarea":aD(e,s),i=sC(e,s),Fn("invalid",e);break;default:i=s}aC(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?LL(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$L(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Bp(e,c):typeof c=="number"&&Bp(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Fp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Fn("scroll",e):c!=null&&OP(e,a,c,o))}switch(n){case"input":Tx(e),iD(e,s,!1);break;case"textarea":Tx(e),oD(e);break;case"option":s.value!=null&&e.setAttribute("value",""+yc(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?jh(e,!!s.multiple,a,!1):s.defaultValue!=null&&jh(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=r0)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return cs(t),null;case 6:if(e&&t.stateNode!=null)o5(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=pu(Xp.current),pu(co.current),Bx(t)){if(s=t.stateNode,n=t.memoizedProps,s[Za]=t,(a=s.nodeValue!==n)&&(e=yi,e!==null))switch(e.tag){case 3:Fx(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fx(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Za]=t,t.stateNode=s}return cs(t),null;case 13:if(Un(Zn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Hn&&xi!==null&&t.mode&1&&!(t.flags&128))CF(),Yh(),t.flags|=98560,a=!1;else if(a=Bx(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(Ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ue(317));a[Za]=t}else Yh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;cs(t),a=!1}else wa!==null&&(zC(wa),wa=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Zn.current&1?Dr===0&&(Dr=3):mA())),t.updateQueue!==null&&(t.flags|=4),cs(t),null);case 4:return Xh(),DC(e,t),e===null&&Gp(t.stateNode.containerInfo),cs(t),null;case 10:return XP(t.type._context),cs(t),null;case 17:return Xs(t.type)&&s0(),cs(t),null;case 19:if(Un(Zn),a=t.memoizedState,a===null)return cs(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)Um(a,!1);else{if(Dr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=d0(e),o!==null){for(t.flags|=128,Um(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mn(Zn,Zn.current&1|2),t.child}e=e.sibling}a.tail!==null&&mr()>Zh&&(t.flags|=128,s=!0,Um(a,!1),t.lanes=4194304)}else{if(!s)if(e=d0(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Um(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Hn)return cs(t),null}else 2*mr()-a.renderingStartTime>Zh&&n!==1073741824&&(t.flags|=128,s=!0,Um(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=mr(),t.sibling=null,n=Zn.current,Mn(Zn,s?n&1|2:n&1),t):(cs(t),null);case 22:case 23:return fA(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?fi&1073741824&&(cs(t),t.subtreeFlags&6&&(t.flags|=8192)):cs(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function xee(e,t){switch(GP(t),t.tag){case 1:return Xs(t.type)&&s0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xh(),Un(Qs),Un(ps),nA(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tA(t),null;case 13:if(Un(Zn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Yh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Un(Zn),null;case 4:return Xh(),null;case 10:return XP(t.type._context),null;case 22:case 23:return fA(),null;case 24:return null;default:return null}}var Ux=!1,fs=!1,yee=typeof WeakSet=="function"?WeakSet:Set,nt=null;function hh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){or(e,t,s)}else n.current=null}function MC(e,t,n){try{n()}catch(s){or(e,t,s)}}var QD=!1;function jee(e,t){if(vC=e0,e=hF(),WP(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==a||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===n&&++u===i&&(l=o),m===a&&++d===s&&(c=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xC={focusedElem:e,selectionRange:n},e0=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){t=nt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,y=x.memoizedState,N=t.stateNode,j=N.getSnapshotBeforeUpdate(t.elementType===t.type?v:pa(t.type,v),y);N.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(_){or(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}return x=QD,QD=!1,x}function Sp(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&MC(t,n,a)}i=i.next}while(i!==s)}}function eb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function IC(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function l5(e){var t=e.alternate;t!==null&&(e.alternate=null,l5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Za],delete t[Yp],delete t[bC],delete t[nee],delete t[ree])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c5(e){return e.tag===5||e.tag===3||e.tag===4}function XD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $C(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=r0));else if(s!==4&&(e=e.child,e!==null))for($C(e,t,n),e=e.sibling;e!==null;)$C(e,t,n),e=e.sibling}function RC(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(RC(e,t,n),e=e.sibling;e!==null;)RC(e,t,n),e=e.sibling}var ts=null,xa=!1;function kl(e,t,n){for(n=n.child;n!==null;)u5(e,t,n),n=n.sibling}function u5(e,t,n){if(lo&&typeof lo.onCommitFiberUnmount=="function")try{lo.onCommitFiberUnmount(Hj,n)}catch{}switch(n.tag){case 5:fs||hh(n,t);case 6:var s=ts,i=xa;ts=null,kl(e,t,n),ts=s,xa=i,ts!==null&&(xa?(e=ts,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ts.removeChild(n.stateNode));break;case 18:ts!==null&&(xa?(e=ts,n=n.stateNode,e.nodeType===8?IN(e.parentNode,n):e.nodeType===1&&IN(e,n),qp(e)):IN(ts,n.stateNode));break;case 4:s=ts,i=xa,ts=n.stateNode.containerInfo,xa=!0,kl(e,t,n),ts=s,xa=i;break;case 0:case 11:case 14:case 15:if(!fs&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&MC(n,t,o),i=i.next}while(i!==s)}kl(e,t,n);break;case 1:if(!fs&&(hh(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){or(n,t,l)}kl(e,t,n);break;case 21:kl(e,t,n);break;case 22:n.mode&1?(fs=(s=fs)||n.memoizedState!==null,kl(e,t,n),fs=s):kl(e,t,n);break;default:kl(e,t,n)}}function JD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yee),t.forEach(function(s){var i=Eee.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function ua(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ts=l.stateNode,xa=!1;break e;case 3:ts=l.stateNode.containerInfo,xa=!0;break e;case 4:ts=l.stateNode.containerInfo,xa=!0;break e}l=l.return}if(ts===null)throw Error(Ue(160));u5(a,o,i),ts=null,xa=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){or(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)d5(t,e),t=t.sibling}function d5(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ua(t,e),Ga(e),s&4){try{Sp(3,e,e.return),eb(3,e)}catch(v){or(e,e.return,v)}try{Sp(5,e,e.return)}catch(v){or(e,e.return,v)}}break;case 1:ua(t,e),Ga(e),s&512&&n!==null&&hh(n,n.return);break;case 5:if(ua(t,e),Ga(e),s&512&&n!==null&&hh(n,n.return),e.flags&32){var i=e.stateNode;try{Bp(i,"")}catch(v){or(e,e.return,v)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&DL(i,a),oC(l,o);var u=oC(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?LL(i,f):d==="dangerouslySetInnerHTML"?$L(i,f):d==="children"?Bp(i,f):OP(i,d,f,u)}switch(l){case"input":nC(i,a);break;case"textarea":ML(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?jh(i,!!a.multiple,g,!1):m!==!!a.multiple&&(a.defaultValue!=null?jh(i,!!a.multiple,a.defaultValue,!0):jh(i,!!a.multiple,a.multiple?[]:"",!1))}i[Yp]=a}catch(v){or(e,e.return,v)}}break;case 6:if(ua(t,e),Ga(e),s&4){if(e.stateNode===null)throw Error(Ue(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){or(e,e.return,v)}}break;case 3:if(ua(t,e),Ga(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{qp(t.containerInfo)}catch(v){or(e,e.return,v)}break;case 4:ua(t,e),Ga(e);break;case 13:ua(t,e),Ga(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(dA=mr())),s&4&&JD(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(fs=(u=fs)||d,ua(t,e),fs=u):ua(t,e),Ga(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(nt=e,d=e.child;d!==null;){for(f=nt=d;nt!==null;){switch(m=nt,g=m.child,m.tag){case 0:case 11:case 14:case 15:Sp(4,m,m.return);break;case 1:hh(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){s=m,n=m.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){or(s,n,v)}}break;case 5:hh(m,m.return);break;case 22:if(m.memoizedState!==null){eM(f);continue}}g!==null?(g.return=m,nt=g):eM(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=RL("display",o))}catch(v){or(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){or(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ua(t,e),Ga(e),s&4&&JD(e);break;case 21:break;default:ua(t,e),Ga(e)}}function Ga(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(c5(n)){var s=n;break e}n=n.return}throw Error(Ue(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Bp(i,""),s.flags&=-33);var a=XD(e);RC(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=XD(e);$C(e,l,o);break;default:throw Error(Ue(161))}}catch(c){or(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bee(e,t,n){nt=e,h5(e)}function h5(e,t,n){for(var s=(e.mode&1)!==0;nt!==null;){var i=nt,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Ux;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||fs;l=Ux;var u=fs;if(Ux=o,(fs=c)&&!u)for(nt=i;nt!==null;)o=nt,c=o.child,o.tag===22&&o.memoizedState!==null?tM(i):c!==null?(c.return=o,nt=c):tM(i);for(;a!==null;)nt=a,h5(a),a=a.sibling;nt=i,Ux=l,fs=u}ZD(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,nt=a):ZD(e)}}function ZD(e){for(;nt!==null;){var t=nt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fs||eb(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!fs)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:pa(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&RD(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}RD(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&qp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}fs||t.flags&512&&IC(t)}catch(m){or(t,t.return,m)}}if(t===e){nt=null;break}if(n=t.sibling,n!==null){n.return=t.return,nt=n;break}nt=t.return}}function eM(e){for(;nt!==null;){var t=nt;if(t===e){nt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,nt=n;break}nt=t.return}}function tM(e){for(;nt!==null;){var t=nt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eb(4,t)}catch(c){or(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){or(t,i,c)}}var a=t.return;try{IC(t)}catch(c){or(t,a,c)}break;case 5:var o=t.return;try{IC(t)}catch(c){or(t,o,c)}}}catch(c){or(t,t.return,c)}if(t===e){nt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,nt=l;break}nt=t.return}}var wee=Math.ceil,m0=ml.ReactCurrentDispatcher,cA=ml.ReactCurrentOwner,Ki=ml.ReactCurrentBatchConfig,an=0,Wr=null,jr=null,ns=0,fi=0,fh=Pc(0),Dr=0,tg=null,Bu=0,tb=0,uA=0,Cp=null,Hs=null,dA=0,Zh=1/0,Ro=null,p0=!1,LC=null,hc=null,qx=!1,nc=null,g0=0,_p=0,FC=null,Ly=-1,Fy=0;function Os(){return an&6?mr():Ly!==-1?Ly:Ly=mr()}function fc(e){return e.mode&1?an&2&&ns!==0?ns&-ns:iee.transition!==null?(Fy===0&&(Fy=QL()),Fy):(e=bn,e!==0||(e=window.event,e=e===void 0?16:rF(e.type)),e):1}function Pa(e,t,n,s){if(50<_p)throw _p=0,FC=null,Error(Ue(185));rv(e,n,s),(!(an&2)||e!==Wr)&&(e===Wr&&(!(an&2)&&(tb|=n),Dr===4&&Ul(e,ns)),Js(e,s),n===1&&an===0&&!(t.mode&1)&&(Zh=mr()+500,Xj&&Ac()))}function Js(e,t){var n=e.callbackNode;iZ(e,t);var s=Zy(e,e===Wr?ns:0);if(s===0)n!==null&&uD(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&uD(n),t===1)e.tag===0?see(nM.bind(null,e)):wF(nM.bind(null,e)),eee(function(){!(an&6)&&Ac()}),n=null;else{switch(XL(s)){case 1:n=RP;break;case 4:n=KL;break;case 16:n=Jy;break;case 536870912:n=YL;break;default:n=Jy}n=j5(n,f5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function f5(e,t){if(Ly=-1,Fy=0,an&6)throw Error(Ue(327));var n=e.callbackNode;if(Ch()&&e.callbackNode!==n)return null;var s=Zy(e,e===Wr?ns:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=v0(e,s);else{t=s;var i=an;an|=2;var a=p5();(Wr!==e||ns!==t)&&(Ro=null,Zh=mr()+500,Ou(e,t));do try{Cee();break}catch(l){m5(e,l)}while(!0);QP(),m0.current=a,an=i,jr!==null?t=0:(Wr=null,ns=0,t=Dr)}if(t!==0){if(t===2&&(i=hC(e),i!==0&&(s=i,t=BC(e,i))),t===1)throw n=tg,Ou(e,0),Ul(e,s),Js(e,mr()),n;if(t===6)Ul(e,s);else{if(i=e.current.alternate,!(s&30)&&!Nee(i)&&(t=v0(e,s),t===2&&(a=hC(e),a!==0&&(s=a,t=BC(e,a))),t===1))throw n=tg,Ou(e,0),Ul(e,s),Js(e,mr()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(Ue(345));case 2:iu(e,Hs,Ro);break;case 3:if(Ul(e,s),(s&130023424)===s&&(t=dA+500-mr(),10<t)){if(Zy(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){Os(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=jC(iu.bind(null,e,Hs,Ro),t);break}iu(e,Hs,Ro);break;case 4:if(Ul(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-_a(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=mr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*wee(s/1960))-s,10<s){e.timeoutHandle=jC(iu.bind(null,e,Hs,Ro),s);break}iu(e,Hs,Ro);break;case 5:iu(e,Hs,Ro);break;default:throw Error(Ue(329))}}}return Js(e,mr()),e.callbackNode===n?f5.bind(null,e):null}function BC(e,t){var n=Cp;return e.current.memoizedState.isDehydrated&&(Ou(e,t).flags|=256),e=v0(e,t),e!==2&&(t=Hs,Hs=n,t!==null&&zC(t)),e}function zC(e){Hs===null?Hs=e:Hs.push.apply(Hs,e)}function Nee(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!Ta(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ul(e,t){for(t&=~uA,t&=~tb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_a(t),s=1<<n;e[n]=-1,t&=~s}}function nM(e){if(an&6)throw Error(Ue(327));Ch();var t=Zy(e,0);if(!(t&1))return Js(e,mr()),null;var n=v0(e,t);if(e.tag!==0&&n===2){var s=hC(e);s!==0&&(t=s,n=BC(e,s))}if(n===1)throw n=tg,Ou(e,0),Ul(e,t),Js(e,mr()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,iu(e,Hs,Ro),Js(e,mr()),null}function hA(e,t){var n=an;an|=1;try{return e(t)}finally{an=n,an===0&&(Zh=mr()+500,Xj&&Ac())}}function zu(e){nc!==null&&nc.tag===0&&!(an&6)&&Ch();var t=an;an|=1;var n=Ki.transition,s=bn;try{if(Ki.transition=null,bn=1,e)return e()}finally{bn=s,Ki.transition=n,an=t,!(an&6)&&Ac()}}function fA(){fi=fh.current,Un(fh)}function Ou(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ZZ(n)),jr!==null)for(n=jr.return;n!==null;){var s=n;switch(GP(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&s0();break;case 3:Xh(),Un(Qs),Un(ps),nA();break;case 5:tA(s);break;case 4:Xh();break;case 13:Un(Zn);break;case 19:Un(Zn);break;case 10:XP(s.type._context);break;case 22:case 23:fA()}n=n.return}if(Wr=e,jr=e=mc(e.current,null),ns=fi=t,Dr=0,tg=null,uA=tb=Bu=0,Hs=Cp=null,mu!==null){for(t=0;t<mu.length;t++)if(n=mu[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}mu=null}return e}function m5(e,t){do{var n=jr;try{if(QP(),Iy.current=f0,h0){for(var s=tr.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}h0=!1}if(Fu=0,zr=kr=tr=null,Np=!1,Jp=0,cA.current=null,n===null||n.return===null){Dr=1,tg=t,jr=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=ns,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=UD(o);if(g!==null){g.flags&=-257,qD(g,o,l,a,t),g.mode&1&&VD(a,u,t),t=g,c=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(c),t.updateQueue=v}else x.add(c);break e}else{if(!(t&1)){VD(a,u,t),mA();break e}c=Error(Ue(426))}}else if(Hn&&l.mode&1){var y=UD(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),qD(y,o,l,a,t),KP(Jh(c,l));break e}}a=c=Jh(c,l),Dr!==4&&(Dr=2),Cp===null?Cp=[a]:Cp.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var N=XF(a,c,t);$D(a,N);break e;case 1:l=c;var j=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof j.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(hc===null||!hc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=JF(a,l,t);$D(a,_);break e}}a=a.return}while(a!==null)}v5(n)}catch(C){t=C,jr===n&&n!==null&&(jr=n=n.return);continue}break}while(!0)}function p5(){var e=m0.current;return m0.current=f0,e===null?f0:e}function mA(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),Wr===null||!(Bu&268435455)&&!(tb&268435455)||Ul(Wr,ns)}function v0(e,t){var n=an;an|=2;var s=p5();(Wr!==e||ns!==t)&&(Ro=null,Ou(e,t));do try{See();break}catch(i){m5(e,i)}while(!0);if(QP(),an=n,m0.current=s,jr!==null)throw Error(Ue(261));return Wr=null,ns=0,Dr}function See(){for(;jr!==null;)g5(jr)}function Cee(){for(;jr!==null&&!QJ();)g5(jr)}function g5(e){var t=y5(e.alternate,e,fi);e.memoizedProps=e.pendingProps,t===null?v5(e):jr=t,cA.current=null}function v5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xee(n,t),n!==null){n.flags&=32767,jr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dr=6,jr=null;return}}else if(n=vee(n,t,fi),n!==null){jr=n;return}if(t=t.sibling,t!==null){jr=t;return}jr=t=e}while(t!==null);Dr===0&&(Dr=5)}function iu(e,t,n){var s=bn,i=Ki.transition;try{Ki.transition=null,bn=1,_ee(e,t,n,s)}finally{Ki.transition=i,bn=s}return null}function _ee(e,t,n,s){do Ch();while(nc!==null);if(an&6)throw Error(Ue(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(aZ(e,a),e===Wr&&(jr=Wr=null,ns=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qx||(qx=!0,j5(Jy,function(){return Ch(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ki.transition,Ki.transition=null;var o=bn;bn=1;var l=an;an|=4,cA.current=null,jee(e,n),d5(n,e),HZ(xC),e0=!!vC,xC=vC=null,e.current=n,bee(n),XJ(),an=l,bn=o,Ki.transition=a}else e.current=n;if(qx&&(qx=!1,nc=e,g0=i),a=e.pendingLanes,a===0&&(hc=null),eZ(n.stateNode),Js(e,mr()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(p0)throw p0=!1,e=LC,LC=null,e;return g0&1&&e.tag!==0&&Ch(),a=e.pendingLanes,a&1?e===FC?_p++:(_p=0,FC=e):_p=0,Ac(),null}function Ch(){if(nc!==null){var e=XL(g0),t=Ki.transition,n=bn;try{if(Ki.transition=null,bn=16>e?16:e,nc===null)var s=!1;else{if(e=nc,nc=null,g0=0,an&6)throw Error(Ue(331));var i=an;for(an|=4,nt=e.current;nt!==null;){var a=nt,o=a.child;if(nt.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(nt=u;nt!==null;){var d=nt;switch(d.tag){case 0:case 11:case 15:Sp(8,d,a)}var f=d.child;if(f!==null)f.return=d,nt=f;else for(;nt!==null;){d=nt;var m=d.sibling,g=d.return;if(l5(d),d===u){nt=null;break}if(m!==null){m.return=g,nt=m;break}nt=g}}}var x=a.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}nt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,nt=o;else e:for(;nt!==null;){if(a=nt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Sp(9,a,a.return)}var N=a.sibling;if(N!==null){N.return=a.return,nt=N;break e}nt=a.return}}var j=e.current;for(nt=j;nt!==null;){o=nt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,nt=b;else e:for(o=j;nt!==null;){if(l=nt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:eb(9,l)}}catch(C){or(l,l.return,C)}if(l===o){nt=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,nt=_;break e}nt=l.return}}if(an=i,Ac(),lo&&typeof lo.onPostCommitFiberRoot=="function")try{lo.onPostCommitFiberRoot(Hj,e)}catch{}s=!0}return s}finally{bn=n,Ki.transition=t}}return!1}function rM(e,t,n){t=Jh(n,t),t=XF(e,t,1),e=dc(e,t,1),t=Os(),e!==null&&(rv(e,1,t),Js(e,t))}function or(e,t,n){if(e.tag===3)rM(e,e,n);else for(;t!==null;){if(t.tag===3){rM(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(hc===null||!hc.has(s))){e=Jh(n,e),e=JF(t,e,1),t=dc(t,e,1),e=Os(),t!==null&&(rv(t,1,e),Js(t,e));break}}t=t.return}}function Pee(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Os(),e.pingedLanes|=e.suspendedLanes&n,Wr===e&&(ns&n)===n&&(Dr===4||Dr===3&&(ns&130023424)===ns&&500>mr()-dA?Ou(e,0):uA|=n),Js(e,t)}function x5(e,t){t===0&&(e.mode&1?(t=Mx,Mx<<=1,!(Mx&130023424)&&(Mx=4194304)):t=1);var n=Os();e=nl(e,t),e!==null&&(rv(e,t,n),Js(e,n))}function Aee(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),x5(e,n)}function Eee(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Ue(314))}s!==null&&s.delete(t),x5(e,n)}var y5;y5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qs.current)Ks=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ks=!1,gee(e,t,n);Ks=!!(e.flags&131072)}else Ks=!1,Hn&&t.flags&1048576&&NF(t,o0,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ry(e,t),e=t.pendingProps;var i=Kh(t,ps.current);Sh(t,n),i=sA(null,t,s,e,i,n);var a=iA();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xs(s)?(a=!0,i0(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ZP(t),i.updater=Zj,t.stateNode=i,i._reactInternals=t,PC(t,s,e,n),t=kC(null,t,s,!0,a,n)):(t.tag=0,Hn&&a&&HP(t),_s(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Ry(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=Tee(s),e=pa(s,e),i){case 0:t=EC(null,t,s,e,n);break e;case 1:t=GD(null,t,s,e,n);break e;case 11:t=WD(null,t,s,e,n);break e;case 14:t=HD(null,t,s,pa(s.type,e),n);break e}throw Error(Ue(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:pa(s,i),EC(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:pa(s,i),GD(e,t,s,i,n);case 3:e:{if(n5(t),e===null)throw Error(Ue(387));s=t.pendingProps,a=t.memoizedState,i=a.element,EF(e,t),u0(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Jh(Error(Ue(423)),t),t=KD(e,t,s,n,i);break e}else if(s!==i){i=Jh(Error(Ue(424)),t),t=KD(e,t,s,n,i);break e}else for(xi=uc(t.stateNode.containerInfo.firstChild),yi=t,Hn=!0,wa=null,n=PF(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yh(),s===i){t=rl(e,t,n);break e}_s(e,t,s,n)}t=t.child}return t;case 5:return kF(t),e===null&&SC(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,yC(s,i)?o=null:a!==null&&yC(s,a)&&(t.flags|=32),t5(e,t),_s(e,t,o,n),t.child;case 6:return e===null&&SC(t),null;case 13:return r5(e,t,n);case 4:return eA(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Qh(t,null,s,n):_s(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:pa(s,i),WD(e,t,s,i,n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:return _s(e,t,t.pendingProps.children,n),t.child;case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Mn(l0,s._currentValue),s._currentValue=o,a!==null)if(Ta(a.value,o)){if(a.children===i.children&&!Qs.current){t=rl(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Qo(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),CC(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ue(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),CC(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Sh(t,n),i=Xi(i),s=s(i),t.flags|=1,_s(e,t,s,n),t.child;case 14:return s=t.type,i=pa(s,t.pendingProps),i=pa(s.type,i),HD(e,t,s,i,n);case 15:return ZF(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:pa(s,i),Ry(e,t),t.tag=1,Xs(s)?(e=!0,i0(t)):e=!1,Sh(t,n),QF(t,s,i),PC(t,s,i,n),kC(null,t,s,!0,e,n);case 19:return s5(e,t,n);case 22:return e5(e,t,n)}throw Error(Ue(156,t.tag))};function j5(e,t){return GL(e,t)}function kee(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(e,t,n,s){return new kee(e,t,n,s)}function pA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tee(e){if(typeof e=="function")return pA(e)?1:0;if(e!=null){if(e=e.$$typeof,e===MP)return 11;if(e===IP)return 14}return 2}function mc(e,t){var n=e.alternate;return n===null?(n=Wi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function By(e,t,n,s,i,a){var o=2;if(s=e,typeof e=="function")pA(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rh:return Du(n.children,i,a,t);case DP:o=8,i|=8;break;case XS:return e=Wi(12,n,t,i|2),e.elementType=XS,e.lanes=a,e;case JS:return e=Wi(13,n,t,i),e.elementType=JS,e.lanes=a,e;case ZS:return e=Wi(19,n,t,i),e.elementType=ZS,e.lanes=a,e;case kL:return nb(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case AL:o=10;break e;case EL:o=9;break e;case MP:o=11;break e;case IP:o=14;break e;case Fl:o=16,s=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=Wi(o,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function Du(e,t,n,s){return e=Wi(7,e,s,t),e.lanes=n,e}function nb(e,t,n,s){return e=Wi(22,e,s,t),e.elementType=kL,e.lanes=n,e.stateNode={isHidden:!1},e}function UN(e,t,n){return e=Wi(6,e,null,t),e.lanes=n,e}function qN(e,t,n){return t=Wi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oee(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=SN(0),this.expirationTimes=SN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=SN(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gA(e,t,n,s,i,a,o,l,c){return e=new Oee(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Wi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZP(a),e}function Dee(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nh,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function b5(e){if(!e)return jc;e=e._reactInternals;e:{if(ad(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(Xs(n))return bF(e,n,t)}return t}function w5(e,t,n,s,i,a,o,l,c){return e=gA(n,s,!0,e,i,a,o,l,c),e.context=b5(null),n=e.current,s=Os(),i=fc(n),a=Qo(s,i),a.callback=t??null,dc(n,a,i),e.current.lanes=i,rv(e,i,s),Js(e,s),e}function rb(e,t,n,s){var i=t.current,a=Os(),o=fc(i);return n=b5(n),t.context===null?t.context=n:t.pendingContext=n,t=Qo(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=dc(i,t,o),e!==null&&(Pa(e,i,o,a),My(e,i,o)),o}function x0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vA(e,t){sM(e,t),(e=e.alternate)&&sM(e,t)}function Mee(){return null}var N5=typeof reportError=="function"?reportError:function(e){console.error(e)};function xA(e){this._internalRoot=e}sb.prototype.render=xA.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));rb(e,t,null,null)};sb.prototype.unmount=xA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zu(function(){rb(null,e,null,null)}),t[tl]=null}};function sb(e){this._internalRoot=e}sb.prototype.unstable_scheduleHydration=function(e){if(e){var t=eF();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vl.length&&t!==0&&t<Vl[n].priority;n++);Vl.splice(n,0,e),n===0&&nF(e)}};function yA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ib(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iM(){}function Iee(e,t,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=x0(o);a.call(u)}}var o=w5(t,s,e,0,null,!1,!1,"",iM);return e._reactRootContainer=o,e[tl]=o.current,Gp(e.nodeType===8?e.parentNode:e),zu(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var u=x0(c);l.call(u)}}var c=gA(e,0,!1,null,null,!1,!1,"",iM);return e._reactRootContainer=c,e[tl]=c.current,Gp(e.nodeType===8?e.parentNode:e),zu(function(){rb(t,c,n,s)}),c}function ab(e,t,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=x0(o);l.call(c)}}rb(t,o,e,i)}else o=Iee(n,t,e,i,s);return x0(o)}JL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dp(t.pendingLanes);n!==0&&(LP(t,n|1),Js(t,mr()),!(an&6)&&(Zh=mr()+500,Ac()))}break;case 13:zu(function(){var s=nl(e,1);if(s!==null){var i=Os();Pa(s,e,1,i)}}),vA(e,1)}};FP=function(e){if(e.tag===13){var t=nl(e,134217728);if(t!==null){var n=Os();Pa(t,e,134217728,n)}vA(e,134217728)}};ZL=function(e){if(e.tag===13){var t=fc(e),n=nl(e,t);if(n!==null){var s=Os();Pa(n,e,t,s)}vA(e,t)}};eF=function(){return bn};tF=function(e,t){var n=bn;try{return bn=e,t()}finally{bn=n}};cC=function(e,t,n){switch(t){case"input":if(nC(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=Qj(s);if(!i)throw Error(Ue(90));OL(s),nC(s,i)}}}break;case"textarea":ML(e,n);break;case"select":t=n.value,t!=null&&jh(e,!!n.multiple,t,!1)}};zL=hA;VL=zu;var $ee={usingClientEntryPoint:!1,Events:[iv,oh,Qj,FL,BL,hA]},qm={findFiberByHostInstance:fu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ree={bundleType:qm.bundleType,version:qm.version,rendererPackageName:qm.rendererPackageName,rendererConfig:qm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ml.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=WL(e),e===null?null:e.stateNode},findFiberByHostInstance:qm.findFiberByHostInstance||Mee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wx.isDisabled&&Wx.supportsFiber)try{Hj=Wx.inject(Ree),lo=Wx}catch{}}Ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$ee;Ci.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yA(t))throw Error(Ue(200));return Dee(e,t,null,n)};Ci.createRoot=function(e,t){if(!yA(e))throw Error(Ue(299));var n=!1,s="",i=N5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=gA(e,1,!1,null,null,n,!1,s,i),e[tl]=t.current,Gp(e.nodeType===8?e.parentNode:e),new xA(t)};Ci.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=WL(t),e=e===null?null:e.stateNode,e};Ci.flushSync=function(e){return zu(e)};Ci.hydrate=function(e,t,n){if(!ib(t))throw Error(Ue(200));return ab(null,e,t,!0,n)};Ci.hydrateRoot=function(e,t,n){if(!yA(e))throw Error(Ue(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=N5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=w5(t,null,e,1,n??null,i,!1,a,o),e[tl]=t.current,Gp(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sb(t)};Ci.render=function(e,t,n){if(!ib(t))throw Error(Ue(200));return ab(null,e,t,!1,n)};Ci.unmountComponentAtNode=function(e){if(!ib(e))throw Error(Ue(40));return e._reactRootContainer?(zu(function(){ab(null,null,e,!1,function(){e._reactRootContainer=null,e[tl]=null})}),!0):!1};Ci.unstable_batchedUpdates=hA;Ci.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!ib(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return ab(e,t,n,!1,s)};Ci.version="18.3.1-next-f1338f8080-20240426";function S5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S5)}catch(e){console.error(e)}}S5(),SL.exports=Ci;var od=SL.exports;const C5=pn(od);var _5,aM=od;_5=aM.createRoot,aM.hydrateRoot;const Lee=1,Fee=1e6;let WN=0;function Bee(){return WN=(WN+1)%Number.MAX_SAFE_INTEGER,WN.toString()}const HN=new Map,oM=e=>{if(HN.has(e))return;const t=setTimeout(()=>{HN.delete(e),Pp({type:"REMOVE_TOAST",toastId:e})},Fee);HN.set(e,t)},zee=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Lee)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?oM(n):e.toasts.forEach(s=>{oM(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},zy=[];let Vy={toasts:[]};function Pp(e){Vy=zee(Vy,e),zy.forEach(t=>{t(Vy)})}function Vee({...e}){const t=Bee(),n=i=>Pp({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>Pp({type:"DISMISS_TOAST",toastId:t});return Pp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}function Rt(){const[e,t]=w.useState(Vy);return w.useEffect(()=>(zy.push(t),()=>{const n=zy.indexOf(t);n>-1&&zy.splice(n,1)}),[e]),{...e,toast:Vee,dismiss:n=>Pp({type:"DISMISS_TOAST",toastId:n})}}function He(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function lM(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function sl(...e){return t=>{let n=!1;const s=e.map(i=>{const a=lM(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():lM(e[i],null)}}}}function Qt(...e){return w.useCallback(sl(...e),e)}function Uee(e,t){const n=w.createContext(t),s=a=>{const{children:o,...l}=a,c=w.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function i(a){const o=w.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,i]}function Zs(e,t=[]){let n=[];function s(a,o){const l=w.createContext(o),c=n.length;n=[...n,o];const u=f=>{var N;const{scope:m,children:g,...x}=f,v=((N=m==null?void 0:m[e])==null?void 0:N[c])||l,y=w.useMemo(()=>x,Object.values(x));return r.jsx(v.Provider,{value:y,children:g})};u.displayName=a+"Provider";function d(f,m){var v;const g=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=w.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[s,qee(i,...t)]}function qee(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function bc(e){const t=Hee(e),n=w.forwardRef((s,i)=>{const{children:a,...o}=s,l=w.Children.toArray(a),c=l.find(Kee);if(c){const u=c.props.children,d=l.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var Wee=bc("Slot");function Hee(e){const t=w.forwardRef((n,s)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const o=Qee(i),l=Yee(a,i.props);return i.type!==w.Fragment&&(l.ref=s?sl(s,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var P5=Symbol("radix.slottable");function Gee(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=P5,t}function Kee(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===P5}function Yee(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Qee(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ob(e){const t=e+"CollectionProvider",[n,s]=Zs(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:N}=v,j=q.useRef(null),b=q.useRef(new Map).current;return r.jsx(i,{scope:y,itemMap:b,collectionRef:j,children:N})};o.displayName=t;const l=e+"CollectionSlot",c=bc(l),u=q.forwardRef((v,y)=>{const{scope:N,children:j}=v,b=a(l,N),_=Qt(y,b.collectionRef);return r.jsx(c,{ref:_,children:j})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=bc(d),g=q.forwardRef((v,y)=>{const{scope:N,children:j,...b}=v,_=q.useRef(null),C=Qt(y,_),A=a(d,N);return q.useEffect(()=>(A.itemMap.set(_,{ref:_,...b}),()=>void A.itemMap.delete(_))),r.jsx(m,{[f]:"",ref:C,children:j})});g.displayName=d;function x(v){const y=a(e+"CollectionConsumer",v);return q.useCallback(()=>{const j=y.collectionRef.current;if(!j)return[];const b=Array.from(j.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((A,P)=>b.indexOf(A.ref.current)-b.indexOf(P.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},x,s]}var Xee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=Xee.reduce((e,t)=>{const n=bc(`Primitive.${t}`),s=w.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function jA(e,t){e&&od.flushSync(()=>e.dispatchEvent(t))}function Ds(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function Jee(e,t=globalThis==null?void 0:globalThis.document){const n=Ds(e);w.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Zee="DismissableLayer",VC="dismissableLayer.update",ete="dismissableLayer.pointerDownOutside",tte="dismissableLayer.focusOutside",cM,A5=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ld=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=w.useContext(A5),[d,f]=w.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=w.useState({}),x=Qt(t,P=>f(P)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(y),j=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=j>=N,C=rte(P=>{const E=P.target,M=[...u.branches].some($=>$.contains(E));!_||M||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},m),A=ste(P=>{const E=P.target;[...u.branches].some($=>$.contains(E))||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},m);return Jee(P=>{j===u.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},m),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(cM=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),uM(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=cM)}},[d,m,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),uM())},[d,u]),w.useEffect(()=>{const P=()=>g({});return document.addEventListener(VC,P),()=>document.removeEventListener(VC,P)},[]),r.jsx(st.div,{...c,ref:x,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:He(e.onFocusCapture,A.onFocusCapture),onBlurCapture:He(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:He(e.onPointerDownCapture,C.onPointerDownCapture)})});ld.displayName=Zee;var nte="DismissableLayerBranch",E5=w.forwardRef((e,t)=>{const n=w.useContext(A5),s=w.useRef(null),i=Qt(t,s);return w.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(st.div,{...e,ref:i})});E5.displayName=nte;function rte(e,t=globalThis==null?void 0:globalThis.document){const n=Ds(e),s=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){k5(ete,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function ste(e,t=globalThis==null?void 0:globalThis.document){const n=Ds(e),s=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!s.current&&k5(tte,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function uM(){const e=new CustomEvent(VC);document.dispatchEvent(e)}function k5(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?jA(i,a):i.dispatchEvent(a)}var ite=ld,ate=E5,Nr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},ote="Portal",Bf=w.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[i,a]=w.useState(!1);Nr(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?C5.createPortal(r.jsx(st.div,{...s,ref:t}),o):null});Bf.displayName=ote;function lte(e,t){return w.useReducer((n,s)=>t[n][s]??n,e)}var ei=e=>{const{present:t,children:n}=e,s=cte(t),i=typeof n=="function"?n({present:s.isPresent}):w.Children.only(n),a=Qt(s.ref,ute(i));return typeof n=="function"||s.isPresent?w.cloneElement(i,{ref:a}):null};ei.displayName="Presence";function cte(e){const[t,n]=w.useState(),s=w.useRef(null),i=w.useRef(e),a=w.useRef("none"),o=e?"mounted":"unmounted",[l,c]=lte(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Hx(s.current);a.current=l==="mounted"?u:"none"},[l]),Nr(()=>{const u=s.current,d=i.current;if(d!==e){const m=a.current,g=Hx(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Nr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const v=Hx(s.current).includes(g.animationName);if(g.target===t&&v&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=g=>{g.target===t&&(a.current=Hx(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Hx(e){return(e==null?void 0:e.animationName)||"none"}function ute(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var dte=EP[" useInsertionEffect ".trim().toString()]||Nr;function go({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,a,o]=hte({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=w.useCallback(d=>{var f;if(l){const m=fte(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else a(d)},[l,e,a,o]);return[c,u]}function hte({defaultProp:e,onChange:t}){const[n,s]=w.useState(e),i=w.useRef(n),a=w.useRef(t);return dte(()=>{a.current=t},[t]),w.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,s,a]}function fte(e){return typeof e=="function"}var T5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mte="VisuallyHidden",lb=w.forwardRef((e,t)=>r.jsx(st.span,{...e,ref:t,style:{...T5,...e.style}}));lb.displayName=mte;var pte=lb,bA="ToastProvider",[wA,gte,vte]=ob("Toast"),[O5,x6e]=Zs("Toast",[vte]),[xte,cb]=O5(bA),D5=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),m=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${bA}\`. Expected non-empty \`string\`.`),r.jsx(wA.Provider,{scope:t,children:r.jsx(xte,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(g=>g+1),[]),onToastRemove:w.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};D5.displayName=bA;var M5="ToastViewport",yte=["F8"],UC="toast.viewportPause",qC="toast.viewportResume",I5=w.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=yte,label:i="Notifications ({hotkey})",...a}=e,o=cb(M5,n),l=gte(n),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),m=Qt(t,f,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;w.useEffect(()=>{const y=N=>{var b;s.length!==0&&s.every(_=>N[_]||N.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[s]),w.useEffect(()=>{const y=c.current,N=f.current;if(x&&y&&N){const j=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(UC);N.dispatchEvent(A),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(qC);N.dispatchEvent(A),o.isClosePausedRef.current=!1}},_=A=>{!y.contains(A.relatedTarget)&&b()},C=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",j),y.addEventListener("focusout",_),y.addEventListener("pointermove",j),y.addEventListener("pointerleave",C),window.addEventListener("blur",j),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",j),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",j),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",j),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const v=w.useCallback(({tabbingDirection:y})=>{const j=l().map(b=>{const _=b.ref.current,C=[_,...Ote(_)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?j.reverse():j).flat()},[l]);return w.useEffect(()=>{const y=f.current;if(y){const N=j=>{var C,A,P;const b=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!b){const E=document.activeElement,M=j.shiftKey;if(j.target===y&&M){(C=u.current)==null||C.focus();return}const O=v({tabbingDirection:M?"backwards":"forwards"}),L=O.findIndex(z=>z===E);GN(O.slice(L+1))?j.preventDefault():M?(A=u.current)==null||A.focus():(P=d.current)==null||P.focus()}};return y.addEventListener("keydown",N),()=>y.removeEventListener("keydown",N)}},[l,v]),r.jsxs(ate,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&r.jsx(WC,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});GN(y)}}),r.jsx(wA.Slot,{scope:n,children:r.jsx(st.ol,{tabIndex:-1,...a,ref:m})}),x&&r.jsx(WC,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});GN(y)}})]})});I5.displayName=M5;var $5="ToastFocusProxy",WC=w.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,a=cb($5,n);return r.jsx(lb,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&s()}})});WC.displayName=$5;var ov="Toast",jte="toast.swipeStart",bte="toast.swipeMove",wte="toast.swipeCancel",Nte="toast.swipeEnd",R5=w.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=go({prop:s,defaultProp:i??!0,onChange:a,caller:ov});return r.jsx(ei,{present:n||l,children:r.jsx(_te,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ds(e.onPause),onResume:Ds(e.onResume),onSwipeStart:He(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:He(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});R5.displayName=ov;var[Ste,Cte]=O5(ov,{onClose(){}}),_te=w.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...x}=e,v=cb(ov,n),[y,N]=w.useState(null),j=Qt(t,z=>N(z)),b=w.useRef(null),_=w.useRef(null),C=i||v.duration,A=w.useRef(0),P=w.useRef(C),E=w.useRef(0),{onToastAdd:M,onToastRemove:$}=v,T=Ds(()=>{var J;(y==null?void 0:y.contains(document.activeElement))&&((J=v.viewport)==null||J.focus()),o()}),O=w.useCallback(z=>{!z||z===1/0||(window.clearTimeout(E.current),A.current=new Date().getTime(),E.current=window.setTimeout(T,z))},[T]);w.useEffect(()=>{const z=v.viewport;if(z){const J=()=>{O(P.current),u==null||u()},H=()=>{const oe=new Date().getTime()-A.current;P.current=P.current-oe,window.clearTimeout(E.current),c==null||c()};return z.addEventListener(UC,H),z.addEventListener(qC,J),()=>{z.removeEventListener(UC,H),z.removeEventListener(qC,J)}}},[v.viewport,C,c,u,O]),w.useEffect(()=>{a&&!v.isClosePausedRef.current&&O(C)},[a,C,v.isClosePausedRef,O]),w.useEffect(()=>(M(),()=>$()),[M,$]);const L=w.useMemo(()=>y?q5(y):null,[y]);return v.viewport?r.jsxs(r.Fragment,{children:[L&&r.jsx(Pte,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),r.jsx(Ste,{scope:n,onClose:T,children:od.createPortal(r.jsx(wA.ItemSlot,{scope:n,children:r.jsx(ite,{asChild:!0,onEscapeKeyDown:He(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||T(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(st.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:j,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:He(e.onKeyDown,z=>{z.key==="Escape"&&(l==null||l(z.nativeEvent),z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:He(e.onPointerDown,z=>{z.button===0&&(b.current={x:z.clientX,y:z.clientY})}),onPointerMove:He(e.onPointerMove,z=>{if(!b.current)return;const J=z.clientX-b.current.x,H=z.clientY-b.current.y,oe=!!_.current,Q=["left","right"].includes(v.swipeDirection),D=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ae=Q?D(0,J):0,pe=Q?0:D(0,H),te=z.pointerType==="touch"?10:2,Z={x:ae,y:pe},ne={originalEvent:z,delta:Z};oe?(_.current=Z,Gx(bte,f,ne,{discrete:!1})):dM(Z,v.swipeDirection,te)?(_.current=Z,Gx(jte,d,ne,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(J)>te||Math.abs(H)>te)&&(b.current=null)}),onPointerUp:He(e.onPointerUp,z=>{const J=_.current,H=z.target;if(H.hasPointerCapture(z.pointerId)&&H.releasePointerCapture(z.pointerId),_.current=null,b.current=null,J){const oe=z.currentTarget,Q={originalEvent:z,delta:J};dM(J,v.swipeDirection,v.swipeThreshold)?Gx(Nte,g,Q,{discrete:!0}):Gx(wte,m,Q,{discrete:!0}),oe.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Pte=e=>{const{__scopeToast:t,children:n,...s}=e,i=cb(ov,t),[a,o]=w.useState(!1),[l,c]=w.useState(!1);return kte(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:r.jsx(Bf,{asChild:!0,children:r.jsx(lb,{...s,children:a&&r.jsxs(r.Fragment,{children:[i.label," ",n]})})})},Ate="ToastTitle",L5=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(st.div,{...s,ref:t})});L5.displayName=Ate;var Ete="ToastDescription",F5=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(st.div,{...s,ref:t})});F5.displayName=Ete;var B5="ToastAction",z5=w.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(U5,{altText:n,asChild:!0,children:r.jsx(NA,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${B5}\`. Expected non-empty \`string\`.`),null)});z5.displayName=B5;var V5="ToastClose",NA=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=Cte(V5,n);return r.jsx(U5,{asChild:!0,children:r.jsx(st.button,{type:"button",...s,ref:t,onClick:He(e.onClick,i.onClose)})})});NA.displayName=V5;var U5=w.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return r.jsx(st.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function q5(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),Tte(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...q5(s))}}),t}function Gx(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?jA(i,a):i.dispatchEvent(a)}var dM=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),a=s>i;return t==="left"||t==="right"?a&&s>n:!a&&i>n};function kte(e=()=>{}){const t=Ds(e);Nr(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function Tte(e){return e.nodeType===e.ELEMENT_NODE}function Ote(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function GN(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Dte=D5,W5=I5,H5=R5,G5=L5,K5=F5,Y5=z5,Q5=NA;function X5(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=X5(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Et(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=X5(e))&&(s&&(s+=" "),s+=t);return s}const hM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,fM=Et,lv=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return fM(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const m=hM(d)||hM(f);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(x=>{let[v,y]=x;return Array.isArray(y)?y.includes({...a,...l}[v]):{...a,...l}[v]===y})?[...u,f,m]:u},[]);return fM(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J5=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ite={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...Ite,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:J5("lucide",i),...l},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const n=w.forwardRef(({className:s,...i},a)=>w.createElement($te,{ref:a,iconNode:t,className:J5(`lucide-${Mte(e)}`,s),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=Ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=Ye("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=Ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Ye("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=Ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=Ye("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Ye("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=Ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=Ye("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=Ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=Ye("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=Ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=Ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=Ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=Ye("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=Ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=Ye("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=Ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=Ye("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=Ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=Ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=Ye("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Ye("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=Ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=Ye("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Ye("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=Ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=Ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=Ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=Ye("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=Ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Ye("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Ye("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=Ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=Ye("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=Ye("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=Ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=Ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=Ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=Ye("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=Ye("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=Ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Ye("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=Ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Ye("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=Ye("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Ye("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Ye("Tractor",[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=Ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=Ye("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Ye("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),AA="-",ine=e=>{const t=one(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(AA);return l[0]===""&&l.length!==1&&l.shift(),r6(l,t)||ane(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},r6=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?r6(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(AA);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},xM=/^\[(.+)\]$/,ane=e=>{if(xM.test(e)){const t=xM.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},one=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return cne(Object.entries(e.classGroups),n).forEach(([a,o])=>{QC(o,s,a,t)}),s},QC=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:yM(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(lne(i)){QC(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{QC(o,yM(t,a),n,s)})})},yM=(e,t)=>{let n=e;return t.split(AA).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},lne=e=>e.isThemeGetter,cne=(e,t)=>t?e.map(([n,s])=>{const i=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,i]}):e,une=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},s6="!",dne=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let N=l[y];if(u===0){if(N===i&&(s||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(N==="/"){f=y;continue}}N==="["?u++:N==="]"&&u--}const m=c.length===0?l:l.substring(d),g=m.startsWith(s6),x=g?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},hne=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},fne=e=>({cache:une(e.cacheSize),parseClassName:dne(e),...ine(e)}),mne=/\s+/,pne=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(mne);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let x=!!g,v=s(x?m.substring(0,g):m);if(!v){if(!x){l=u+(l.length>0?" "+l:l);continue}if(v=s(m),!v){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=hne(d).join(":"),N=f?y+s6:y,j=N+v;if(a.includes(j))continue;a.push(j);const b=i(v,x);for(let _=0;_<b.length;++_){const C=b[_];a.push(N+C)}l=u+(l.length>0?" "+l:l)}return l};function gne(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=i6(t))&&(s&&(s+=" "),s+=n);return s}const i6=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=i6(e[s]))&&(n&&(n+=" "),n+=t);return n};function vne(e,...t){let n,s,i,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=fne(u),s=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=pne(c,n);return i(c,d),d}return function(){return a(gne.apply(null,arguments))}}const Ln=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},a6=/^\[(?:([a-z-]+):)?(.+)\]$/i,xne=/^\d+\/\d+$/,yne=new Set(["px","full","screen"]),jne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Nne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Do=e=>Ph(e)||yne.has(e)||xne.test(e),Tl=e=>Uf(e,"length",One),Ph=e=>!!e&&!Number.isNaN(Number(e)),YN=e=>Uf(e,"number",Ph),Wm=e=>!!e&&Number.isInteger(Number(e)),Cne=e=>e.endsWith("%")&&Ph(e.slice(0,-1)),Ft=e=>a6.test(e),Ol=e=>jne.test(e),_ne=new Set(["length","size","percentage"]),Pne=e=>Uf(e,_ne,o6),Ane=e=>Uf(e,"position",o6),Ene=new Set(["image","url"]),kne=e=>Uf(e,Ene,Mne),Tne=e=>Uf(e,"",Dne),Hm=()=>!0,Uf=(e,t,n)=>{const s=a6.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},One=e=>bne.test(e)&&!wne.test(e),o6=()=>!1,Dne=e=>Nne.test(e),Mne=e=>Sne.test(e),Ine=()=>{const e=Ln("colors"),t=Ln("spacing"),n=Ln("blur"),s=Ln("brightness"),i=Ln("borderColor"),a=Ln("borderRadius"),o=Ln("borderSpacing"),l=Ln("borderWidth"),c=Ln("contrast"),u=Ln("grayscale"),d=Ln("hueRotate"),f=Ln("invert"),m=Ln("gap"),g=Ln("gradientColorStops"),x=Ln("gradientColorStopPositions"),v=Ln("inset"),y=Ln("margin"),N=Ln("opacity"),j=Ln("padding"),b=Ln("saturate"),_=Ln("scale"),C=Ln("sepia"),A=Ln("skew"),P=Ln("space"),E=Ln("translate"),M=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Ft,t],O=()=>[Ft,t],L=()=>["",Do,Tl],z=()=>["auto",Ph,Ft],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Ft],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[Ph,Ft];return{cacheSize:500,separator:":",theme:{colors:[Hm],spacing:[Do,Tl],blur:["none","",Ol,Ft],brightness:pe(),borderColor:[e],borderRadius:["none","","full",Ol,Ft],borderSpacing:O(),borderWidth:L(),contrast:pe(),grayscale:D(),hueRotate:pe(),invert:D(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[Cne,Tl],inset:T(),margin:T(),opacity:pe(),padding:O(),saturate:pe(),scale:pe(),sepia:D(),skew:pe(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ft]}],container:["container"],columns:[{columns:[Ol]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Ft]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wm,Ft]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ft]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Wm,Ft]}],"grid-cols":[{"grid-cols":[Hm]}],"col-start-end":[{col:["auto",{span:["full",Wm,Ft]},Ft]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Hm]}],"row-start-end":[{row:["auto",{span:[Wm,Ft]},Ft]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ft]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ft,t]}],"min-w":[{"min-w":[Ft,t,"min","max","fit"]}],"max-w":[{"max-w":[Ft,t,"none","full","min","max","fit","prose",{screen:[Ol]},Ol]}],h:[{h:[Ft,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ft,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ft,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ft,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ol,Tl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",YN]}],"font-family":[{font:[Hm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ft]}],"line-clamp":[{"line-clamp":["none",Ph,YN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Do,Ft]}],"list-image":[{"list-image":["none",Ft]}],"list-style-type":[{list:["none","disc","decimal",Ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Do,Tl]}],"underline-offset":[{"underline-offset":["auto",Do,Ft]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),Ane]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Pne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Do,Ft]}],"outline-w":[{outline:[Do,Tl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Do,Tl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ol,Tne]}],"shadow-color":[{shadow:[Hm]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ol,Ft]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ft]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",Ft]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Wm,Ft]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ft]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ft]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ft]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Do,Tl,YN]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$ne=vne(Ine);function Ze(...e){return $ne(Et(e))}function nf(e){if(!e)return"Âge inconnu";const t=new Date(e),n=new Date;if(isNaN(t.getTime()))return"Date invalide";let s=n.getFullYear()-t.getFullYear(),i=n.getMonth()-t.getMonth();if((i<0||i===0&&n.getDate()<t.getDate())&&(s--,i+=12),s===0){if(i===0){const a=Math.floor((n.getTime()-t.getTime())/864e5);return`${a} jour${a>1?"s":""}`}return`${i} mois`}else return i===0?`${s} an${s>1?"s":""}`:`${s} an${s>1?"s":""} et ${i} mois`}function uo(e){if(!e)return"Non renseigné";const t=new Date(e);return isNaN(t.getTime())?"Date invalide":t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}const Rne=Dte,l6=w.forwardRef(({className:e,...t},n)=>r.jsx(W5,{ref:n,className:Ze("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));l6.displayName=W5.displayName;const Lne=lv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),c6=w.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(H5,{ref:s,className:Ze(Lne({variant:t}),e),...n}));c6.displayName=H5.displayName;const Fne=w.forwardRef(({className:e,...t},n)=>r.jsx(Y5,{ref:n,className:Ze("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Fne.displayName=Y5.displayName;const u6=w.forwardRef(({className:e,...t},n)=>r.jsx(Q5,{ref:n,className:Ze("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(db,{className:"h-4 w-4"})}));u6.displayName=Q5.displayName;const d6=w.forwardRef(({className:e,...t},n)=>r.jsx(G5,{ref:n,className:Ze("text-sm font-semibold",e),...t}));d6.displayName=G5.displayName;const h6=w.forwardRef(({className:e,...t},n)=>r.jsx(K5,{ref:n,className:Ze("text-sm opacity-90",e),...t}));h6.displayName=K5.displayName;function Bne(){const{toasts:e}=Rt();return r.jsxs(Rne,{children:[e.map(function({id:t,title:n,description:s,action:i,...a}){return r.jsxs(c6,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(d6,{children:n}),s&&r.jsx(h6,{children:s})]}),i,r.jsx(u6,{})]},t)}),r.jsx(l6,{})]})}var jM=["light","dark"],zne="(prefers-color-scheme: dark)",Vne=w.createContext(void 0),Une={setTheme:e=>{},themes:[]},qne=()=>{var e;return(e=w.useContext(Vne))!=null?e:Une};w.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:i,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?jM.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,v=!1,y=!0)=>{let N=o?o[x]:x,j=v?x+"|| ''":`'${N}'`,b="";return i&&y&&!v&&jM.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),n==="class"?v||N?b+=`c.add(${j})`:b+="null":N&&(b+=`d[s](n,${j})`),b},g=e?`!function(){${d}${m(e)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${zne}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var Wne=e=>{switch(e){case"success":return Kne;case"info":return Qne;case"warning":return Yne;case"error":return Xne;default:return null}},Hne=Array(12).fill(0),Gne=({visible:e,className:t})=>q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},q.createElement("div",{className:"sonner-spinner"},Hne.map((n,s)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Kne=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Yne=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Qne=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Xne=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Jne=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Zne=()=>{let[e,t]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},XC=1,ere=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:XC++,a=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),i=n!==void 0,a,o=s.then(async c=>{if(a=["resolve",c],q.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(nre(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||XC++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ws=new ere,tre=(e,t)=>{let n=(t==null?void 0:t.id)||XC++;return Ws.addToast({title:e,...t,id:n}),n},nre=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",rre=tre,sre=()=>Ws.toasts,ire=()=>Ws.getActiveToasts();Object.assign(rre,{success:Ws.success,info:Ws.info,warning:Ws.warning,error:Ws.error,custom:Ws.custom,message:Ws.message,promise:Ws.promise,dismiss:Ws.dismiss,loading:Ws.loading},{getHistory:sre,getToasts:ire});function are(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}are(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Kx(e){return e.label!==void 0}var ore=3,lre="32px",cre="16px",bM=4e3,ure=356,dre=14,hre=20,fre=200;function da(...e){return e.filter(Boolean).join(" ")}function mre(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var pre=e=>{var t,n,s,i,a,o,l,c,u,d,f;let{invert:m,toast:g,unstyled:x,interacting:v,setHeights:y,visibleToasts:N,heights:j,index:b,toasts:_,expanded:C,removeToast:A,defaultRichColors:P,closeButton:E,style:M,cancelButtonStyle:$,actionButtonStyle:T,className:O="",descriptionClassName:L="",duration:z,position:J,gap:H,loadingIcon:oe,expandByDefault:Q,classNames:D,icons:ae,closeButtonAriaLabel:pe="Close toast",pauseWhenPageIsHidden:te}=e,[Z,ne]=q.useState(null),[xe,ye]=q.useState(null),[se,F]=q.useState(!1),[Y,ee]=q.useState(!1),[G,I]=q.useState(!1),[ve,we]=q.useState(!1),[Fe,Be]=q.useState(!1),[it,lt]=q.useState(0),[ft,Ne]=q.useState(0),Ge=q.useRef(g.duration||z||bM),Ke=q.useRef(null),Wt=q.useRef(null),Yn=b===0,kt=b+1<=N,Nn=g.type,dr=g.dismissible!==!1,Qn=g.className||"",gs=g.descriptionClassName||"",Se=q.useMemo(()=>j.findIndex(bt=>bt.toastId===g.id)||0,[j,g.id]),Vt=q.useMemo(()=>{var bt;return(bt=g.closeButton)!=null?bt:E},[g.closeButton,E]),tt=q.useMemo(()=>g.duration||z||bM,[g.duration,z]),mt=q.useRef(0),sn=q.useRef(0),is=q.useRef(0),Qr=q.useRef(null),[Rs,yl]=J.split("-"),ce=q.useMemo(()=>j.reduce((bt,on,gn)=>gn>=Se?bt:bt+on.height,0),[j,Se]),qe=Zne(),Le=g.invert||m,kn=Nn==="loading";sn.current=q.useMemo(()=>Se*H+ce,[Se,ce]),q.useEffect(()=>{Ge.current=tt},[tt]),q.useEffect(()=>{F(!0)},[]),q.useEffect(()=>{let bt=Wt.current;if(bt){let on=bt.getBoundingClientRect().height;return Ne(on),y(gn=>[{toastId:g.id,height:on,position:g.position},...gn]),()=>y(gn=>gn.filter(vs=>vs.toastId!==g.id))}},[y,g.id]),q.useLayoutEffect(()=>{if(!se)return;let bt=Wt.current,on=bt.style.height;bt.style.height="auto";let gn=bt.getBoundingClientRect().height;bt.style.height=on,Ne(gn),y(vs=>vs.find(xs=>xs.toastId===g.id)?vs.map(xs=>xs.toastId===g.id?{...xs,height:gn}:xs):[{toastId:g.id,height:gn,position:g.position},...vs])},[se,g.title,g.description,y,g.id]);let Xn=q.useCallback(()=>{ee(!0),lt(sn.current),y(bt=>bt.filter(on=>on.toastId!==g.id)),setTimeout(()=>{A(g)},fre)},[g,A,y,sn]);q.useEffect(()=>{if(g.promise&&Nn==="loading"||g.duration===1/0||g.type==="loading")return;let bt;return C||v||te&&qe?(()=>{if(is.current<mt.current){let on=new Date().getTime()-mt.current;Ge.current=Ge.current-on}is.current=new Date().getTime()})():Ge.current!==1/0&&(mt.current=new Date().getTime(),bt=setTimeout(()=>{var on;(on=g.onAutoClose)==null||on.call(g,g),Xn()},Ge.current)),()=>clearTimeout(bt)},[C,v,g,Nn,te,qe,Xn]),q.useEffect(()=>{g.delete&&Xn()},[Xn,g.delete]);function sa(){var bt,on,gn;return ae!=null&&ae.loading?q.createElement("div",{className:da(D==null?void 0:D.loader,(bt=g==null?void 0:g.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":Nn==="loading"},ae.loading):oe?q.createElement("div",{className:da(D==null?void 0:D.loader,(on=g==null?void 0:g.classNames)==null?void 0:on.loader,"sonner-loader"),"data-visible":Nn==="loading"},oe):q.createElement(Gne,{className:da(D==null?void 0:D.loader,(gn=g==null?void 0:g.classNames)==null?void 0:gn.loader),visible:Nn==="loading"})}return q.createElement("li",{tabIndex:0,ref:Wt,className:da(O,Qn,D==null?void 0:D.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[Nn],(n=g==null?void 0:g.classNames)==null?void 0:n[Nn]),"data-sonner-toast":"","data-rich-colors":(s=g.richColors)!=null?s:P,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":se,"data-promise":!!g.promise,"data-swiped":Fe,"data-removed":Y,"data-visible":kt,"data-y-position":Rs,"data-x-position":yl,"data-index":b,"data-front":Yn,"data-swiping":G,"data-dismissible":dr,"data-type":Nn,"data-invert":Le,"data-swipe-out":ve,"data-swipe-direction":xe,"data-expanded":!!(C||Q&&se),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${Y?it:sn.current}px`,"--initial-height":Q?"auto":`${ft}px`,...M,...g.style},onDragEnd:()=>{I(!1),ne(null),Qr.current=null},onPointerDown:bt=>{kn||!dr||(Ke.current=new Date,lt(sn.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(I(!0),Qr.current={x:bt.clientX,y:bt.clientY}))},onPointerUp:()=>{var bt,on,gn,vs;if(ve||!dr)return;Qr.current=null;let xs=Number(((bt=Wt.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ai=Number(((on=Wt.current)==null?void 0:on.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),si=new Date().getTime()-((gn=Ke.current)==null?void 0:gn.getTime()),ys=Z==="x"?xs:Ai,Ls=Math.abs(ys)/si;if(Math.abs(ys)>=hre||Ls>.11){lt(sn.current),(vs=g.onDismiss)==null||vs.call(g,g),ye(Z==="x"?xs>0?"right":"left":Ai>0?"down":"up"),Xn(),we(!0),Be(!1);return}I(!1),ne(null)},onPointerMove:bt=>{var on,gn,vs,xs;if(!Qr.current||!dr||((on=window.getSelection())==null?void 0:on.toString().length)>0)return;let Ai=bt.clientY-Qr.current.y,si=bt.clientX-Qr.current.x,ys=(gn=e.swipeDirections)!=null?gn:mre(J);!Z&&(Math.abs(si)>1||Math.abs(Ai)>1)&&ne(Math.abs(si)>Math.abs(Ai)?"x":"y");let Ls={x:0,y:0};Z==="y"?(ys.includes("top")||ys.includes("bottom"))&&(ys.includes("top")&&Ai<0||ys.includes("bottom")&&Ai>0)&&(Ls.y=Ai):Z==="x"&&(ys.includes("left")||ys.includes("right"))&&(ys.includes("left")&&si<0||ys.includes("right")&&si>0)&&(Ls.x=si),(Math.abs(Ls.x)>0||Math.abs(Ls.y)>0)&&Be(!0),(vs=Wt.current)==null||vs.style.setProperty("--swipe-amount-x",`${Ls.x}px`),(xs=Wt.current)==null||xs.style.setProperty("--swipe-amount-y",`${Ls.y}px`)}},Vt&&!g.jsx?q.createElement("button",{"aria-label":pe,"data-disabled":kn,"data-close-button":!0,onClick:kn||!dr?()=>{}:()=>{var bt;Xn(),(bt=g.onDismiss)==null||bt.call(g,g)},className:da(D==null?void 0:D.closeButton,(i=g==null?void 0:g.classNames)==null?void 0:i.closeButton)},(a=ae==null?void 0:ae.close)!=null?a:Jne):null,g.jsx||w.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:q.createElement(q.Fragment,null,Nn||g.icon||g.promise?q.createElement("div",{"data-icon":"",className:da(D==null?void 0:D.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||sa():null,g.type!=="loading"?g.icon||(ae==null?void 0:ae[Nn])||Wne(Nn):null):null,q.createElement("div",{"data-content":"",className:da(D==null?void 0:D.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},q.createElement("div",{"data-title":"",className:da(D==null?void 0:D.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?q.createElement("div",{"data-description":"",className:da(L,gs,D==null?void 0:D.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),w.isValidElement(g.cancel)?g.cancel:g.cancel&&Kx(g.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||$,onClick:bt=>{var on,gn;Kx(g.cancel)&&dr&&((gn=(on=g.cancel).onClick)==null||gn.call(on,bt),Xn())},className:da(D==null?void 0:D.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,w.isValidElement(g.action)?g.action:g.action&&Kx(g.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||T,onClick:bt=>{var on,gn;Kx(g.action)&&((gn=(on=g.action).onClick)==null||gn.call(on,bt),!bt.defaultPrevented&&Xn())},className:da(D==null?void 0:D.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function wM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function gre(e,t){let n={};return[e,t].forEach((s,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",l=a?cre:lre;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(l)}),n}var vre=w.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:g,visibleToasts:x=ore,toastOptions:v,dir:y=wM(),gap:N=dre,loadingIcon:j,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:C}=e,[A,P]=q.useState([]),E=q.useMemo(()=>Array.from(new Set([s].concat(A.filter(te=>te.position).map(te=>te.position)))),[A,s]),[M,$]=q.useState([]),[T,O]=q.useState(!1),[L,z]=q.useState(!1),[J,H]=q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=q.useRef(null),Q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=q.useRef(null),ae=q.useRef(!1),pe=q.useCallback(te=>{P(Z=>{var ne;return(ne=Z.find(xe=>xe.id===te.id))!=null&&ne.delete||Ws.dismiss(te.id),Z.filter(({id:xe})=>xe!==te.id)})},[]);return q.useEffect(()=>Ws.subscribe(te=>{if(te.dismiss){P(Z=>Z.map(ne=>ne.id===te.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{C5.flushSync(()=>{P(Z=>{let ne=Z.findIndex(xe=>xe.id===te.id);return ne!==-1?[...Z.slice(0,ne),{...Z[ne],...te},...Z.slice(ne+1)]:[te,...Z]})})})}),[]),q.useEffect(()=>{if(d!=="system"){H(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:Z})=>{H(Z?"dark":"light")})}catch{te.addListener(({matches:ne})=>{try{H(ne?"dark":"light")}catch(xe){console.error(xe)}})}},[d]),q.useEffect(()=>{A.length<=1&&O(!1)},[A]),q.useEffect(()=>{let te=Z=>{var ne,xe;i.every(ye=>Z[ye]||Z.code===ye)&&(O(!0),(ne=oe.current)==null||ne.focus()),Z.code==="Escape"&&(document.activeElement===oe.current||(xe=oe.current)!=null&&xe.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[i]),q.useEffect(()=>{if(oe.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,ae.current=!1)}},[oe.current]),q.createElement("section",{ref:t,"aria-label":`${_} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((te,Z)=>{var ne;let[xe,ye]=te.split("-");return A.length?q.createElement("ol",{key:te,dir:y==="auto"?wM():y,tabIndex:-1,ref:oe,className:l,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":xe,"data-lifted":T&&A.length>1&&!a,"data-x-position":ye,style:{"--front-toast-height":`${((ne=M[0])==null?void 0:ne.height)||0}px`,"--width":`${ure}px`,"--gap":`${N}px`,...g,...gre(c,u)},onBlur:se=>{ae.current&&!se.currentTarget.contains(se.relatedTarget)&&(ae.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||ae.current||(ae.current=!0,D.current=se.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{L||O(!1)},onDragEnd:()=>O(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},A.filter(se=>!se.position&&Z===0||se.position===te).map((se,F)=>{var Y,ee;return q.createElement(pre,{key:se.id,icons:b,index:F,toast:se,defaultRichColors:f,duration:(Y=v==null?void 0:v.duration)!=null?Y:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:x,closeButton:(ee=v==null?void 0:v.closeButton)!=null?ee:o,interacting:L,position:te,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:pe,toasts:A.filter(G=>G.position==se.position),heights:M.filter(G=>G.position==se.position),setHeights:$,expandByDefault:a,gap:N,loadingIcon:j,expanded:T,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const xre=({...e})=>{const{theme:t="system"}=qne();return r.jsx(vre,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var yre=EP[" useId ".trim().toString()]||(()=>{}),jre=0;function rs(e){const[t,n]=w.useState(yre());return Nr(()=>{n(s=>s??String(jre++))},[e]),t?`radix-${t}`:""}const bre=["top","right","bottom","left"],wc=Math.min,pi=Math.max,b0=Math.round,Yx=Math.floor,ho=e=>({x:e,y:e}),wre={left:"right",right:"left",bottom:"top",top:"bottom"},Nre={start:"end",end:"start"};function JC(e,t,n){return pi(e,wc(t,n))}function ol(e,t){return typeof e=="function"?e(t):e}function ll(e){return e.split("-")[0]}function qf(e){return e.split("-")[1]}function EA(e){return e==="x"?"y":"x"}function kA(e){return e==="y"?"height":"width"}const Sre=new Set(["top","bottom"]);function so(e){return Sre.has(ll(e))?"y":"x"}function TA(e){return EA(so(e))}function Cre(e,t,n){n===void 0&&(n=!1);const s=qf(e),i=TA(e),a=kA(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=w0(o)),[o,w0(o)]}function _re(e){const t=w0(e);return[ZC(e),t,ZC(t)]}function ZC(e){return e.replace(/start|end/g,t=>Nre[t])}const NM=["left","right"],SM=["right","left"],Pre=["top","bottom"],Are=["bottom","top"];function Ere(e,t,n){switch(e){case"top":case"bottom":return n?t?SM:NM:t?NM:SM;case"left":case"right":return t?Pre:Are;default:return[]}}function kre(e,t,n,s){const i=qf(e);let a=Ere(ll(e),n==="start",s);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(ZC)))),a}function w0(e){return e.replace(/left|right|bottom|top/g,t=>wre[t])}function Tre(e){return{top:0,right:0,bottom:0,left:0,...e}}function f6(e){return typeof e!="number"?Tre(e):{top:e,right:e,bottom:e,left:e}}function N0(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function CM(e,t,n){let{reference:s,floating:i}=e;const a=so(t),o=TA(t),l=kA(o),c=ll(t),u=a==="y",d=s.x+s.width/2-i.width/2,f=s.y+s.height/2-i.height/2,m=s[l]/2-i[l]/2;let g;switch(c){case"top":g={x:d,y:s.y-i.height};break;case"bottom":g={x:d,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:f};break;case"left":g={x:s.x-i.width,y:f};break;default:g={x:s.x,y:s.y}}switch(qf(t)){case"start":g[o]-=m*(n&&u?-1:1);break;case"end":g[o]+=m*(n&&u?-1:1);break}return g}const Ore=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=CM(u,s,c),m=s,g={},x=0;for(let v=0;v<l.length;v++){const{name:y,fn:N}=l[v],{x:j,y:b,data:_,reset:C}=await N({x:d,y:f,initialPlacement:s,placement:m,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});d=j??d,f=b??f,g={...g,[y]:{...g[y],..._}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:d,y:f}=CM(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:g}};async function sg(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=ol(t,e),x=f6(g),y=l[m?f==="floating"?"reference":"floating":f],N=N0(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),j=f==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},C=N0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:b,strategy:c}):j);return{top:(N.top-C.top+x.top)/_.y,bottom:(C.bottom-N.bottom+x.bottom)/_.y,left:(N.left-C.left+x.left)/_.x,right:(C.right-N.right+x.right)/_.x}}const Dre=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ol(e,t)||{};if(u==null)return{};const f=f6(d),m={x:n,y:s},g=TA(i),x=kA(g),v=await o.getDimensions(u),y=g==="y",N=y?"top":"left",j=y?"bottom":"right",b=y?"clientHeight":"clientWidth",_=a.reference[x]+a.reference[g]-m[g]-a.floating[x],C=m[g]-a.reference[g],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=A?A[b]:0;(!P||!await(o.isElement==null?void 0:o.isElement(A)))&&(P=l.floating[b]||a.floating[x]);const E=_/2-C/2,M=P/2-v[x]/2-1,$=wc(f[N],M),T=wc(f[j],M),O=$,L=P-v[x]-T,z=P/2-v[x]/2+E,J=JC(O,z,L),H=!c.arrow&&qf(i)!=null&&z!==J&&a.reference[x]/2-(z<O?$:T)-v[x]/2<0,oe=H?z<O?z-O:z-L:0;return{[g]:m[g]+oe,data:{[g]:J,centerOffset:z-J-oe,...H&&{alignmentOffset:oe}},reset:H}}}),Mre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...y}=ol(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=ll(i),j=so(l),b=ll(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(b||!v?[w0(l)]:_re(l)),A=x!=="none";!m&&A&&C.push(...kre(l,v,x,_));const P=[l,...C],E=await sg(t,y),M=[];let $=((s=a.flip)==null?void 0:s.overflows)||[];if(d&&M.push(E[N]),f){const z=Cre(i,o,_);M.push(E[z[0]],E[z[1]])}if($=[...$,{placement:i,overflows:M}],!M.every(z=>z<=0)){var T,O;const z=(((T=a.flip)==null?void 0:T.index)||0)+1,J=P[z];if(J&&(!(f==="alignment"?j!==so(J):!1)||$.every(Q=>Q.overflows[0]>0&&so(Q.placement)===j)))return{data:{index:z,overflows:$},reset:{placement:J}};let H=(O=$.filter(oe=>oe.overflows[0]<=0).sort((oe,Q)=>oe.overflows[1]-Q.overflows[1])[0])==null?void 0:O.placement;if(!H)switch(g){case"bestFit":{var L;const oe=(L=$.filter(Q=>{if(A){const D=so(Q.placement);return D===j||D==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(D=>D>0).reduce((D,ae)=>D+ae,0)]).sort((Q,D)=>Q[1]-D[1])[0])==null?void 0:L[0];oe&&(H=oe);break}case"initialPlacement":H=l;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function _M(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function PM(e){return bre.some(t=>e[t]>=0)}const Ire=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=ol(e,t);switch(s){case"referenceHidden":{const a=await sg(t,{...i,elementContext:"reference"}),o=_M(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:PM(o)}}}case"escaped":{const a=await sg(t,{...i,altBoundary:!0}),o=_M(a,n.floating);return{data:{escapedOffsets:o,escaped:PM(o)}}}default:return{}}}}},m6=new Set(["left","top"]);async function $re(e,t){const{placement:n,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=ll(n),l=qf(n),c=so(n)==="y",u=m6.has(o)?-1:1,d=a&&c?-1:1,f=ol(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(g=l==="end"?x*-1:x),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const Rre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await $re(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},Lre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:N,y:j}=y;return{x:N,y:j}}},...c}=ol(e,t),u={x:n,y:s},d=await sg(t,c),f=so(ll(i)),m=EA(f);let g=u[m],x=u[f];if(a){const y=m==="y"?"top":"left",N=m==="y"?"bottom":"right",j=g+d[y],b=g-d[N];g=JC(j,g,b)}if(o){const y=f==="y"?"top":"left",N=f==="y"?"bottom":"right",j=x+d[y],b=x-d[N];x=JC(j,x,b)}const v=l.fn({...t,[m]:g,[f]:x});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[m]:a,[f]:o}}}}}},Fre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ol(e,t),d={x:n,y:s},f=so(i),m=EA(f);let g=d[m],x=d[f];const v=ol(l,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=m==="y"?"height":"width",_=a.reference[m]-a.floating[b]+y.mainAxis,C=a.reference[m]+a.reference[b]-y.mainAxis;g<_?g=_:g>C&&(g=C)}if(u){var N,j;const b=m==="y"?"width":"height",_=m6.has(ll(i)),C=a.reference[f]-a.floating[b]+(_&&((N=o.offset)==null?void 0:N[f])||0)+(_?0:y.crossAxis),A=a.reference[f]+a.reference[b]+(_?0:((j=o.offset)==null?void 0:j[f])||0)-(_?y.crossAxis:0);x<C?x=C:x>A&&(x=A)}return{[m]:g,[f]:x}}}},Bre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=ol(e,t),d=await sg(t,u),f=ll(i),m=qf(i),g=so(i)==="y",{width:x,height:v}=a.floating;let y,N;f==="top"||f==="bottom"?(y=f,N=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=f,y=m==="end"?"top":"bottom");const j=v-d.top-d.bottom,b=x-d.left-d.right,_=wc(v-d[y],j),C=wc(x-d[N],b),A=!t.middlewareData.shift;let P=_,E=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(P=j),A&&!m){const $=pi(d.left,0),T=pi(d.right,0),O=pi(d.top,0),L=pi(d.bottom,0);g?E=x-2*($!==0||T!==0?$+T:pi(d.left,d.right)):P=v-2*(O!==0||L!==0?O+L:pi(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:P});const M=await o.getDimensions(l.floating);return x!==M.width||v!==M.height?{reset:{rects:!0}}:{}}}};function hb(){return typeof window<"u"}function Wf(e){return p6(e)?(e.nodeName||"").toLowerCase():"#document"}function bi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function yo(e){var t;return(t=(p6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function p6(e){return hb()?e instanceof Node||e instanceof bi(e).Node:!1}function Ma(e){return hb()?e instanceof Element||e instanceof bi(e).Element:!1}function vo(e){return hb()?e instanceof HTMLElement||e instanceof bi(e).HTMLElement:!1}function AM(e){return!hb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof bi(e).ShadowRoot}const zre=new Set(["inline","contents"]);function cv(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=Ia(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!zre.has(i)}const Vre=new Set(["table","td","th"]);function Ure(e){return Vre.has(Wf(e))}const qre=[":popover-open",":modal"];function fb(e){return qre.some(t=>{try{return e.matches(t)}catch{return!1}})}const Wre=["transform","translate","scale","rotate","perspective"],Hre=["transform","translate","scale","rotate","perspective","filter"],Gre=["paint","layout","strict","content"];function OA(e){const t=DA(),n=Ma(e)?Ia(e):e;return Wre.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Hre.some(s=>(n.willChange||"").includes(s))||Gre.some(s=>(n.contain||"").includes(s))}function Kre(e){let t=Nc(e);for(;vo(t)&&!rf(t);){if(OA(t))return t;if(fb(t))return null;t=Nc(t)}return null}function DA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Yre=new Set(["html","body","#document"]);function rf(e){return Yre.has(Wf(e))}function Ia(e){return bi(e).getComputedStyle(e)}function mb(e){return Ma(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Nc(e){if(Wf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||AM(e)&&e.host||yo(e);return AM(t)?t.host:t}function g6(e){const t=Nc(e);return rf(t)?e.ownerDocument?e.ownerDocument.body:e.body:vo(t)&&cv(t)?t:g6(t)}function ig(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=g6(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),o=bi(i);if(a){const l=e2(o);return t.concat(o,o.visualViewport||[],cv(i)?i:[],l&&n?ig(l):[])}return t.concat(i,ig(i,[],n))}function e2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function v6(e){const t=Ia(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=vo(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:s,l=b0(n)!==a||b0(s)!==o;return l&&(n=a,s=o),{width:n,height:s,$:l}}function MA(e){return Ma(e)?e:e.contextElement}function Ah(e){const t=MA(e);if(!vo(t))return ho(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:a}=v6(t);let o=(a?b0(n.width):n.width)/s,l=(a?b0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Qre=ho(0);function x6(e){const t=bi(e);return!DA()||!t.visualViewport?Qre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Xre(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==bi(e)?!1:t}function Uu(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=MA(e);let o=ho(1);t&&(s?Ma(s)&&(o=Ah(s)):o=Ah(e));const l=Xre(a,n,s)?x6(a):ho(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const m=bi(a),g=s&&Ma(s)?bi(s):s;let x=m,v=e2(x);for(;v&&s&&g!==x;){const y=Ah(v),N=v.getBoundingClientRect(),j=Ia(v),b=N.left+(v.clientLeft+parseFloat(j.paddingLeft))*y.x,_=N.top+(v.clientTop+parseFloat(j.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=b,u+=_,x=bi(v),v=e2(x)}}return N0({width:d,height:f,x:c,y:u})}function IA(e,t){const n=mb(e).scrollLeft;return t?t.left+n:Uu(yo(e)).left+n}function y6(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:IA(e,s)),a=s.top+t.scrollTop;return{x:i,y:a}}function Jre(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const a=i==="fixed",o=yo(s),l=t?fb(t.floating):!1;if(s===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=ho(1);const d=ho(0),f=vo(s);if((f||!f&&!a)&&((Wf(s)!=="body"||cv(o))&&(c=mb(s)),vo(s))){const g=Uu(s);u=Ah(s),d.x=g.x+s.clientLeft,d.y=g.y+s.clientTop}const m=o&&!f&&!a?y6(o,c,!0):ho(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function Zre(e){return Array.from(e.getClientRects())}function ese(e){const t=yo(e),n=mb(e),s=e.ownerDocument.body,i=pi(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=pi(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+IA(e);const l=-n.scrollTop;return Ia(s).direction==="rtl"&&(o+=pi(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:o,y:l}}function tse(e,t){const n=bi(e),s=yo(e),i=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=DA();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}const nse=new Set(["absolute","fixed"]);function rse(e,t){const n=Uu(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,a=vo(e)?Ah(e):ho(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=s*a.y;return{width:o,height:l,x:c,y:u}}function EM(e,t,n){let s;if(t==="viewport")s=tse(e,n);else if(t==="document")s=ese(yo(e));else if(Ma(t))s=rse(t,n);else{const i=x6(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return N0(s)}function j6(e,t){const n=Nc(e);return n===t||!Ma(n)||rf(n)?!1:Ia(n).position==="fixed"||j6(n,t)}function sse(e,t){const n=t.get(e);if(n)return n;let s=ig(e,[],!1).filter(l=>Ma(l)&&Wf(l)!=="body"),i=null;const a=Ia(e).position==="fixed";let o=a?Nc(e):e;for(;Ma(o)&&!rf(o);){const l=Ia(o),c=OA(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&nse.has(i.position)||cv(o)&&!c&&j6(e,o))?s=s.filter(d=>d!==o):i=l,o=Nc(o)}return t.set(e,s),s}function ise(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const o=[...n==="clippingAncestors"?fb(t)?[]:sse(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((u,d)=>{const f=EM(t,d,i);return u.top=pi(f.top,u.top),u.right=wc(f.right,u.right),u.bottom=wc(f.bottom,u.bottom),u.left=pi(f.left,u.left),u},EM(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ase(e){const{width:t,height:n}=v6(e);return{width:t,height:n}}function ose(e,t,n){const s=vo(t),i=yo(t),a=n==="fixed",o=Uu(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ho(0);function u(){c.x=IA(i)}if(s||!s&&!a)if((Wf(t)!=="body"||cv(i))&&(l=mb(t)),s){const g=Uu(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else i&&u();a&&!s&&i&&u();const d=i&&!s&&!a?y6(i,l):ho(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function QN(e){return Ia(e).position==="static"}function kM(e,t){if(!vo(e)||Ia(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return yo(e)===n&&(n=n.ownerDocument.body),n}function b6(e,t){const n=bi(e);if(fb(e))return n;if(!vo(e)){let i=Nc(e);for(;i&&!rf(i);){if(Ma(i)&&!QN(i))return i;i=Nc(i)}return n}let s=kM(e,t);for(;s&&Ure(s)&&QN(s);)s=kM(s,t);return s&&rf(s)&&QN(s)&&!OA(s)?n:s||Kre(e)||n}const lse=async function(e){const t=this.getOffsetParent||b6,n=this.getDimensions,s=await n(e.floating);return{reference:ose(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function cse(e){return Ia(e).direction==="rtl"}const use={convertOffsetParentRelativeRectToViewportRelativeRect:Jre,getDocumentElement:yo,getClippingRect:ise,getOffsetParent:b6,getElementRects:lse,getClientRects:Zre,getDimensions:ase,getScale:Ah,isElement:Ma,isRTL:cse};function w6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dse(e,t){let n=null,s;const i=yo(e);function a(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:g}=u;if(l||t(),!m||!g)return;const x=Yx(f),v=Yx(i.clientWidth-(d+m)),y=Yx(i.clientHeight-(f+g)),N=Yx(d),b={rootMargin:-x+"px "+-v+"px "+-y+"px "+-N+"px",threshold:pi(0,wc(1,c))||1};let _=!0;function C(A){const P=A[0].intersectionRatio;if(P!==c){if(!_)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!w6(u,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(C,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return o(!0),a}function hse(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=MA(e),d=i||a?[...u?ig(u):[],...ig(t)]:[];d.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const f=u&&l?dse(u,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(N=>{let[j]=N;j&&j.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let x,v=c?Uu(e):null;c&&y();function y(){const N=Uu(e);v&&!w6(v,N)&&n(),v=N,x=requestAnimationFrame(y)}return n(),()=>{var N;d.forEach(j=>{i&&j.removeEventListener("scroll",n),a&&j.removeEventListener("resize",n)}),f==null||f(),(N=g)==null||N.disconnect(),g=null,c&&cancelAnimationFrame(x)}}const fse=Rre,mse=Lre,pse=Mre,gse=Bre,vse=Ire,TM=Dre,xse=Fre,yse=(e,t,n)=>{const s=new Map,i={platform:use,...n},a={...i.platform,_c:s};return Ore(e,t,{...i,platform:a})};var jse=typeof document<"u",bse=function(){},Uy=jse?w.useLayoutEffect:bse;function S0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!S0(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!S0(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function N6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function OM(e,t){const n=N6(e);return Math.round(t*n)/n}function XN(e){const t=w.useRef(e);return Uy(()=>{t.current=e}),t}function wse(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=w.useState(s);S0(m,s)||g(s);const[x,v]=w.useState(null),[y,N]=w.useState(null),j=w.useCallback(Q=>{Q!==A.current&&(A.current=Q,v(Q))},[]),b=w.useCallback(Q=>{Q!==P.current&&(P.current=Q,N(Q))},[]),_=a||x,C=o||y,A=w.useRef(null),P=w.useRef(null),E=w.useRef(d),M=c!=null,$=XN(c),T=XN(i),O=XN(u),L=w.useCallback(()=>{if(!A.current||!P.current)return;const Q={placement:t,strategy:n,middleware:m};T.current&&(Q.platform=T.current),yse(A.current,P.current,Q).then(D=>{const ae={...D,isPositioned:O.current!==!1};z.current&&!S0(E.current,ae)&&(E.current=ae,od.flushSync(()=>{f(ae)}))})},[m,t,n,T,O]);Uy(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(Q=>({...Q,isPositioned:!1})))},[u]);const z=w.useRef(!1);Uy(()=>(z.current=!0,()=>{z.current=!1}),[]),Uy(()=>{if(_&&(A.current=_),C&&(P.current=C),_&&C){if($.current)return $.current(_,C,L);L()}},[_,C,L,$,M]);const J=w.useMemo(()=>({reference:A,floating:P,setReference:j,setFloating:b}),[j,b]),H=w.useMemo(()=>({reference:_,floating:C}),[_,C]),oe=w.useMemo(()=>{const Q={position:n,left:0,top:0};if(!H.floating)return Q;const D=OM(H.floating,d.x),ae=OM(H.floating,d.y);return l?{...Q,transform:"translate("+D+"px, "+ae+"px)",...N6(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:ae}},[n,l,H.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:L,refs:J,elements:H,floatingStyles:oe}),[d,L,J,H,oe])}const Nse=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?TM({element:s.current,padding:i}).fn(n):{}:s?TM({element:s,padding:i}).fn(n):{}}}},Sse=(e,t)=>({...fse(e),options:[e,t]}),Cse=(e,t)=>({...mse(e),options:[e,t]}),_se=(e,t)=>({...xse(e),options:[e,t]}),Pse=(e,t)=>({...pse(e),options:[e,t]}),Ase=(e,t)=>({...gse(e),options:[e,t]}),Ese=(e,t)=>({...vse(e),options:[e,t]}),kse=(e,t)=>({...Nse(e),options:[e,t]});var Tse="Arrow",S6=w.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...a}=e;return r.jsx(st.svg,{...a,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});S6.displayName=Tse;var Ose=S6;function $A(e){const[t,n]=w.useState(void 0);return Nr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var RA="Popper",[C6,Ec]=Zs(RA),[Dse,_6]=C6(RA),P6=e=>{const{__scopePopper:t,children:n}=e,[s,i]=w.useState(null);return r.jsx(Dse,{scope:t,anchor:s,onAnchorChange:i,children:n})};P6.displayName=RA;var A6="PopperAnchor",E6=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,a=_6(A6,n),o=w.useRef(null),l=Qt(t,o);return w.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(st.div,{...i,ref:l})});E6.displayName=A6;var LA="PopperContent",[Mse,Ise]=C6(LA),k6=w.forwardRef((e,t)=>{var se,F,Y,ee,G,I;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...v}=e,y=_6(LA,n),[N,j]=w.useState(null),b=Qt(t,ve=>j(ve)),[_,C]=w.useState(null),A=$A(_),P=(A==null?void 0:A.width)??0,E=(A==null?void 0:A.height)??0,M=s+(a!=="center"?"-"+a:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],O=T.length>0,L={padding:$,boundary:T.filter(Rse),altBoundary:O},{refs:z,floatingStyles:J,placement:H,isPositioned:oe,middlewareData:Q}=wse({strategy:"fixed",placement:M,whileElementsMounted:(...ve)=>hse(...ve,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[Sse({mainAxis:i+E,alignmentAxis:o}),c&&Cse({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?_se():void 0,...L}),c&&Pse({...L}),Ase({...L,apply:({elements:ve,rects:we,availableWidth:Fe,availableHeight:Be})=>{const{width:it,height:lt}=we.reference,ft=ve.floating.style;ft.setProperty("--radix-popper-available-width",`${Fe}px`),ft.setProperty("--radix-popper-available-height",`${Be}px`),ft.setProperty("--radix-popper-anchor-width",`${it}px`),ft.setProperty("--radix-popper-anchor-height",`${lt}px`)}}),_&&kse({element:_,padding:l}),Lse({arrowWidth:P,arrowHeight:E}),m&&Ese({strategy:"referenceHidden",...L})]}),[D,ae]=D6(H),pe=Ds(x);Nr(()=>{oe&&(pe==null||pe())},[oe,pe]);const te=(se=Q.arrow)==null?void 0:se.x,Z=(F=Q.arrow)==null?void 0:F.y,ne=((Y=Q.arrow)==null?void 0:Y.centerOffset)!==0,[xe,ye]=w.useState();return Nr(()=>{N&&ye(window.getComputedStyle(N).zIndex)},[N]),r.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:oe?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(ee=Q.transformOrigin)==null?void 0:ee.x,(G=Q.transformOrigin)==null?void 0:G.y].join(" "),...((I=Q.hide)==null?void 0:I.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(Mse,{scope:n,placedSide:D,onArrowChange:C,arrowX:te,arrowY:Z,shouldHideArrow:ne,children:r.jsx(st.div,{"data-side":D,"data-align":ae,...v,ref:b,style:{...v.style,animation:oe?void 0:"none"}})})})});k6.displayName=LA;var T6="PopperArrow",$se={top:"bottom",right:"left",bottom:"top",left:"right"},O6=w.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,a=Ise(T6,s),o=$se[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(Ose,{...i,ref:n,style:{...i.style,display:"block"}})})});O6.displayName=T6;function Rse(e){return e!==null}var Lse=e=>({name:"transformOrigin",options:e,fn(t){var y,N,j;const{placement:n,rects:s,middlewareData:i}=t,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=D6(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((N=i.arrow)==null?void 0:N.x)??0)+l/2,g=(((j=i.arrow)==null?void 0:j.y)??0)+c/2;let x="",v="";return u==="bottom"?(x=o?f:`${m}px`,v=`${-c}px`):u==="top"?(x=o?f:`${m}px`,v=`${s.floating.height+c}px`):u==="right"?(x=`${-c}px`,v=o?f:`${g}px`):u==="left"&&(x=`${s.floating.width+c}px`,v=o?f:`${g}px`),{data:{x,y:v}}}});function D6(e){const[t,n="center"]=e.split("-");return[t,n]}var FA=P6,uv=E6,pb=k6,gb=O6,[vb,y6e]=Zs("Tooltip",[Ec]),BA=Ec(),M6="TooltipProvider",Fse=700,DM="tooltip.open",[Bse,I6]=vb(M6),$6=e=>{const{__scopeTooltip:t,delayDuration:n=Fse,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=e,o=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),r.jsx(Bse,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};$6.displayName=M6;var R6="Tooltip",[j6e,xb]=vb(R6),t2="TooltipTrigger",zse=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=xb(t2,n),a=I6(t2,n),o=BA(n),l=w.useRef(null),c=Qt(t,l,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(uv,{asChild:!0,...o,children:r.jsx(st.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:c,onPointerMove:He(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:He(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:He(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:He(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:He(e.onBlur,i.onClose),onClick:He(e.onClick,i.onClose)})})});zse.displayName=t2;var Vse="TooltipPortal",[b6e,Use]=vb(Vse,{forceMount:void 0}),sf="TooltipContent",L6=w.forwardRef((e,t)=>{const n=Use(sf,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...a}=e,o=xb(sf,e.__scopeTooltip);return r.jsx(ei,{present:s||o.open,children:o.disableHoverableContent?r.jsx(F6,{side:i,...a,ref:t}):r.jsx(qse,{side:i,...a,ref:t})})}),qse=w.forwardRef((e,t)=>{const n=xb(sf,e.__scopeTooltip),s=I6(sf,e.__scopeTooltip),i=w.useRef(null),a=Qt(t,i),[o,l]=w.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=s,m=w.useCallback(()=>{l(null),f(!1)},[f]),g=w.useCallback((x,v)=>{const y=x.currentTarget,N={x:x.clientX,y:x.clientY},j=Yse(N,y.getBoundingClientRect()),b=Qse(N,j),_=Xse(v.getBoundingClientRect()),C=Zse([...b,..._]);l(C),f(!0)},[f]);return w.useEffect(()=>()=>m(),[m]),w.useEffect(()=>{if(c&&d){const x=y=>g(y,d),v=y=>g(y,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",v)}}},[c,d,g,m]),w.useEffect(()=>{if(o){const x=v=>{const y=v.target,N={x:v.clientX,y:v.clientY},j=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!Jse(N,o);j?m():b&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,m]),r.jsx(F6,{...e,ref:a})}),[Wse,Hse]=vb(R6,{isInside:!1}),Gse=Gee("TooltipContent"),F6=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=xb(sf,n),u=BA(n),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(DM,d),()=>document.removeEventListener(DM,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),r.jsx(ld,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:r.jsxs(pb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Gse,{children:s}),r.jsx(Wse,{scope:n,isInside:!0,children:r.jsx(pte,{id:c.contentId,role:"tooltip",children:i||s})})]})})});L6.displayName=sf;var B6="TooltipArrow",Kse=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=BA(n);return Hse(B6,n).isInside?null:r.jsx(gb,{...i,...s,ref:t})});Kse.displayName=B6;function Yse(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,i,a)){case a:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Qse(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function Xse(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function Jse(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(i=!i)}return i}function Zse(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),eie(t)}function eie(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var tie=$6,z6=L6;const nie=tie,rie=w.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(z6,{ref:s,sideOffset:t,className:Ze("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));rie.displayName=z6.displayName;var Hf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sie={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Hl,SP,nL,iie=(nL=class{constructor(){ut(this,Hl,sie);ut(this,SP,!1)}setTimeoutProvider(e){Xe(this,Hl,e)}setTimeout(e,t){return ue(this,Hl).setTimeout(e,t)}clearTimeout(e){ue(this,Hl).clearTimeout(e)}setInterval(e,t){return ue(this,Hl).setInterval(e,t)}clearInterval(e){ue(this,Hl).clearInterval(e)}},Hl=new WeakMap,SP=new WeakMap,nL),vu=new iie;function aie(e){setTimeout(e,0)}var qu=typeof window>"u"||"Deno"in globalThis;function Ps(){}function oie(e,t){return typeof e=="function"?e(t):e}function n2(e){return typeof e=="number"&&e>=0&&e!==1/0}function V6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pc(e,t){return typeof e=="function"?e(t):e}function zi(e,t){return typeof e=="function"?e(t):e}function MM(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==zA(o,t.options))return!1}else if(!ag(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function IM(e,t){const{exact:n,status:s,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Wu(t.options.mutationKey)!==Wu(a))return!1}else if(!ag(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function zA(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wu)(e)}function Wu(e){return JSON.stringify(e,(t,n)=>r2(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function ag(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ag(e[n],t[n])):!1}var lie=Object.prototype.hasOwnProperty;function U6(e,t){if(e===t)return e;const n=$M(e)&&$M(t);if(!n&&!(r2(e)&&r2(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u],f=e[d],m=t[d];if(f===m){l[d]=f,(n?u<i:lie.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const g=U6(f,m);l[d]=g,g===f&&c++}return i===o&&c===i?e:l}function C0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function $M(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function r2(e){if(!RM(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!RM(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function RM(e){return Object.prototype.toString.call(e)==="[object Object]"}function cie(e){return new Promise(t=>{vu.setTimeout(t,e)})}function s2(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?U6(e,t):t}function uie(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function die(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var VA=Symbol();function q6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===VA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function W6(e,t){return typeof e=="function"?e(...t):!!e}var Nu,Gl,Ih,rL,hie=(rL=class extends Hf{constructor(){super();ut(this,Nu);ut(this,Gl);ut(this,Ih);Xe(this,Ih,t=>{if(!qu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,Gl)||this.setEventListener(ue(this,Ih))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Gl))==null||t.call(this),Xe(this,Gl,void 0))}setEventListener(t){var n;Xe(this,Ih,t),(n=ue(this,Gl))==null||n.call(this),Xe(this,Gl,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){ue(this,Nu)!==t&&(Xe(this,Nu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ue(this,Nu)=="boolean"?ue(this,Nu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Nu=new WeakMap,Gl=new WeakMap,Ih=new WeakMap,rL),UA=new hie;function i2(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}var fie=aie;function mie(){let e=[],t=0,n=l=>{l()},s=l=>{l()},i=fie;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var Tr=mie(),$h,Kl,Rh,sL,pie=(sL=class extends Hf{constructor(){super();ut(this,$h,!0);ut(this,Kl);ut(this,Rh);Xe(this,Rh,t=>{if(!qu&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){ue(this,Kl)||this.setEventListener(ue(this,Rh))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Kl))==null||t.call(this),Xe(this,Kl,void 0))}setEventListener(t){var n;Xe(this,Rh,t),(n=ue(this,Kl))==null||n.call(this),Xe(this,Kl,t(this.setOnline.bind(this)))}setOnline(t){ue(this,$h)!==t&&(Xe(this,$h,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return ue(this,$h)}},$h=new WeakMap,Kl=new WeakMap,Rh=new WeakMap,sL),_0=new pie;function gie(e){return Math.min(1e3*2**e,3e4)}function H6(e){return(e??"online")==="online"?_0.isOnline():!0}var a2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function G6(e){let t=!1,n=0,s;const i=i2(),a=()=>i.status!=="pending",o=v=>{var y;if(!a()){const N=new a2(v);m(N),(y=e.onCancel)==null||y.call(e,N)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>UA.isFocused()&&(e.networkMode==="always"||_0.isOnline())&&e.canRun(),d=()=>H6(e.networkMode)&&e.canRun(),f=v=>{a()||(s==null||s(),i.resolve(v))},m=v=>{a()||(s==null||s(),i.reject(v))},g=()=>new Promise(v=>{var y;s=N=>{(a()||u())&&v(N)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;s=void 0,a()||(v=e.onContinue)==null||v.call(e)}),x=()=>{if(a())return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(N){v=Promise.reject(N)}Promise.resolve(v).then(f).catch(N=>{var A;if(a())return;const j=e.retry??(qu?0:3),b=e.retryDelay??gie,_=typeof b=="function"?b(n,N):b,C=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,N);if(t||!C){m(N);return}n++,(A=e.onFail)==null||A.call(e,n,N),cie(_).then(()=>u()?void 0:g()).then(()=>{t?m(N):x()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():g().then(x),i)}}var Su,iL,K6=(iL=class{constructor(){ut(this,Su)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),n2(this.gcTime)&&Xe(this,Su,vu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qu?1/0:5*60*1e3))}clearGcTimeout(){ue(this,Su)&&(vu.clearTimeout(ue(this,Su)),Xe(this,Su,void 0))}},Su=new WeakMap,iL),Cu,Lh,Bi,_u,Lr,Xg,Pu,ga,Io,aL,vie=(aL=class extends K6{constructor(t){super();ut(this,ga);ut(this,Cu);ut(this,Lh);ut(this,Bi);ut(this,_u);ut(this,Lr);ut(this,Xg);ut(this,Pu);Xe(this,Pu,!1),Xe(this,Xg,t.defaultOptions),this.setOptions(t.options),this.observers=[],Xe(this,_u,t.client),Xe(this,Bi,ue(this,_u).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Xe(this,Cu,LM(this.options)),this.state=t.state??ue(this,Cu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ue(this,Lr))==null?void 0:t.promise}setOptions(t){if(this.options={...ue(this,Xg),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=LM(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Xe(this,Cu,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,Bi).remove(this)}setData(t,n){const s=s2(this.state.data,t,this.options);return zt(this,ga,Io).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){zt(this,ga,Io).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,i;const n=(s=ue(this,Lr))==null?void 0:s.promise;return(i=ue(this,Lr))==null||i.cancel(t),n?n.then(Ps).catch(Ps):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,Cu))}isActive(){return this.observers.some(t=>zi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===VA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>pc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!V6(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Lr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Lr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ue(this,Bi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ue(this,Lr)&&(ue(this,Pu)?ue(this,Lr).cancel({revert:!0}):ue(this,Lr).cancelRetry()),this.scheduleGc()),ue(this,Bi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||zt(this,ga,Io).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,m,g,x,v,y,N,j,b;if(this.state.fetchStatus!=="idle"&&((c=ue(this,Lr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ue(this,Lr))return ue(this,Lr).continueRetry(),ue(this,Lr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(C=>C.options.queryFn);_&&this.setOptions(_.options)}const s=new AbortController,i=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Xe(this,Pu,!0),s.signal)})},a=()=>{const _=q6(this.options,n),A=(()=>{const P={client:ue(this,_u),queryKey:this.queryKey,meta:this.meta};return i(P),P})();return Xe(this,Pu,!1),this.options.persister?this.options.persister(_,A,this):_(A)},l=(()=>{const _={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ue(this,_u),state:this.state,fetchFn:a};return i(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),Xe(this,Lh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&zt(this,ga,Io).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Xe(this,Lr,G6({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof a2&&_.revert&&this.setState({...ue(this,Lh),fetchStatus:"idle"}),s.abort()},onFail:(_,C)=>{zt(this,ga,Io).call(this,{type:"failed",failureCount:_,error:C})},onPause:()=>{zt(this,ga,Io).call(this,{type:"pause"})},onContinue:()=>{zt(this,ga,Io).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await ue(this,Lr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(g=(m=ue(this,Bi).config).onSuccess)==null||g.call(m,_,this),(v=(x=ue(this,Bi).config).onSettled)==null||v.call(x,_,this.state.error,this),_}catch(_){if(_ instanceof a2){if(_.silent)return ue(this,Lr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw zt(this,ga,Io).call(this,{type:"error",error:_}),(N=(y=ue(this,Bi).config).onError)==null||N.call(y,_,this),(b=(j=ue(this,Bi).config).onSettled)==null||b.call(j,this.state.data,_,this),_}finally{this.scheduleGc()}}},Cu=new WeakMap,Lh=new WeakMap,Bi=new WeakMap,_u=new WeakMap,Lr=new WeakMap,Xg=new WeakMap,Pu=new WeakMap,ga=new WeakSet,Io=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Y6(s.data,this.options),fetchMeta:t.meta??null};case"success":const i={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Xe(this,Lh,t.manual?i:void 0),i;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Tr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ue(this,Bi).notify({query:this,type:"updated",action:t})})},aL);function Y6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:H6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function LM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Us,nn,Jg,Ss,Au,Fh,zo,Yl,Zg,Bh,zh,Eu,ku,Ql,Vh,mn,fp,o2,l2,c2,u2,d2,h2,f2,Q6,oL,xie=(oL=class extends Hf{constructor(t,n){super();ut(this,mn);ut(this,Us);ut(this,nn);ut(this,Jg);ut(this,Ss);ut(this,Au);ut(this,Fh);ut(this,zo);ut(this,Yl);ut(this,Zg);ut(this,Bh);ut(this,zh);ut(this,Eu);ut(this,ku);ut(this,Ql);ut(this,Vh,new Set);this.options=n,Xe(this,Us,t),Xe(this,Yl,null),Xe(this,zo,i2()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ue(this,nn).addObserver(this),FM(ue(this,nn),this.options)?zt(this,mn,fp).call(this):this.updateResult(),zt(this,mn,u2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return m2(ue(this,nn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return m2(ue(this,nn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,zt(this,mn,d2).call(this),zt(this,mn,h2).call(this),ue(this,nn).removeObserver(this)}setOptions(t){const n=this.options,s=ue(this,nn);if(this.options=ue(this,Us).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zi(this.options.enabled,ue(this,nn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");zt(this,mn,f2).call(this),ue(this,nn).setOptions(this.options),n._defaulted&&!C0(this.options,n)&&ue(this,Us).getQueryCache().notify({type:"observerOptionsUpdated",query:ue(this,nn),observer:this});const i=this.hasListeners();i&&BM(ue(this,nn),s,this.options,n)&&zt(this,mn,fp).call(this),this.updateResult(),i&&(ue(this,nn)!==s||zi(this.options.enabled,ue(this,nn))!==zi(n.enabled,ue(this,nn))||pc(this.options.staleTime,ue(this,nn))!==pc(n.staleTime,ue(this,nn)))&&zt(this,mn,o2).call(this);const a=zt(this,mn,l2).call(this);i&&(ue(this,nn)!==s||zi(this.options.enabled,ue(this,nn))!==zi(n.enabled,ue(this,nn))||a!==ue(this,Ql))&&zt(this,mn,c2).call(this,a)}getOptimisticResult(t){const n=ue(this,Us).getQueryCache().build(ue(this,Us),t),s=this.createResult(n,t);return jie(this,s)&&(Xe(this,Ss,s),Xe(this,Fh,this.options),Xe(this,Au,ue(this,nn).state)),s}getCurrentResult(){return ue(this,Ss)}trackResult(t,n){return new Proxy(t,{get:(s,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&ue(this,zo).status==="pending"&&ue(this,zo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,i))})}trackProp(t){ue(this,Vh).add(t)}getCurrentQuery(){return ue(this,nn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ue(this,Us).defaultQueryOptions(t),s=ue(this,Us).getQueryCache().build(ue(this,Us),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return zt(this,mn,fp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ue(this,Ss)))}createResult(t,n){var M;const s=ue(this,nn),i=this.options,a=ue(this,Ss),o=ue(this,Au),l=ue(this,Fh),u=t!==s?t.state:ue(this,Jg),{state:d}=t;let f={...d},m=!1,g;if(n._optimisticResults){const $=this.hasListeners(),T=!$&&FM(t,n),O=$&&BM(t,s,n,i);(T||O)&&(f={...f,...Y6(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:y}=f;g=f.data;let N=!1;if(n.placeholderData!==void 0&&g===void 0&&y==="pending"){let $;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?($=a.data,N=!0):$=typeof n.placeholderData=="function"?n.placeholderData((M=ue(this,zh))==null?void 0:M.state.data,ue(this,zh)):n.placeholderData,$!==void 0&&(y="success",g=s2(a==null?void 0:a.data,$,n),m=!0)}if(n.select&&g!==void 0&&!N)if(a&&g===(o==null?void 0:o.data)&&n.select===ue(this,Zg))g=ue(this,Bh);else try{Xe(this,Zg,n.select),g=n.select(g),g=s2(a==null?void 0:a.data,g,n),Xe(this,Bh,g),Xe(this,Yl,null)}catch($){Xe(this,Yl,$)}ue(this,Yl)&&(x=ue(this,Yl),g=ue(this,Bh),v=Date.now(),y="error");const j=f.fetchStatus==="fetching",b=y==="pending",_=y==="error",C=b&&j,A=g!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:b,isSuccess:y==="success",isError:_,isInitialLoading:C,isLoading:C,data:g,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:j,isRefetching:j&&!b,isLoadingError:_&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&A,isStale:qA(t,n),refetch:this.refetch,promise:ue(this,zo),isEnabled:zi(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=L=>{E.status==="error"?L.reject(E.error):E.data!==void 0&&L.resolve(E.data)},T=()=>{const L=Xe(this,zo,E.promise=i2());$(L)},O=ue(this,zo);switch(O.status){case"pending":t.queryHash===s.queryHash&&$(O);break;case"fulfilled":(E.status==="error"||E.data!==O.value)&&T();break;case"rejected":(E.status!=="error"||E.error!==O.reason)&&T();break}}return E}updateResult(){const t=ue(this,Ss),n=this.createResult(ue(this,nn),this.options);if(Xe(this,Au,ue(this,nn).state),Xe(this,Fh,this.options),ue(this,Au).data!==void 0&&Xe(this,zh,ue(this,nn)),C0(n,t))return;Xe(this,Ss,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!ue(this,Vh).size)return!0;const o=new Set(a??ue(this,Vh));return this.options.throwOnError&&o.add("error"),Object.keys(ue(this,Ss)).some(l=>{const c=l;return ue(this,Ss)[c]!==t[c]&&o.has(c)})};zt(this,mn,Q6).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&zt(this,mn,u2).call(this)}},Us=new WeakMap,nn=new WeakMap,Jg=new WeakMap,Ss=new WeakMap,Au=new WeakMap,Fh=new WeakMap,zo=new WeakMap,Yl=new WeakMap,Zg=new WeakMap,Bh=new WeakMap,zh=new WeakMap,Eu=new WeakMap,ku=new WeakMap,Ql=new WeakMap,Vh=new WeakMap,mn=new WeakSet,fp=function(t){zt(this,mn,f2).call(this);let n=ue(this,nn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ps)),n},o2=function(){zt(this,mn,d2).call(this);const t=pc(this.options.staleTime,ue(this,nn));if(qu||ue(this,Ss).isStale||!n2(t))return;const s=V6(ue(this,Ss).dataUpdatedAt,t)+1;Xe(this,Eu,vu.setTimeout(()=>{ue(this,Ss).isStale||this.updateResult()},s))},l2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ue(this,nn)):this.options.refetchInterval)??!1},c2=function(t){zt(this,mn,h2).call(this),Xe(this,Ql,t),!(qu||zi(this.options.enabled,ue(this,nn))===!1||!n2(ue(this,Ql))||ue(this,Ql)===0)&&Xe(this,ku,vu.setInterval(()=>{(this.options.refetchIntervalInBackground||UA.isFocused())&&zt(this,mn,fp).call(this)},ue(this,Ql)))},u2=function(){zt(this,mn,o2).call(this),zt(this,mn,c2).call(this,zt(this,mn,l2).call(this))},d2=function(){ue(this,Eu)&&(vu.clearTimeout(ue(this,Eu)),Xe(this,Eu,void 0))},h2=function(){ue(this,ku)&&(vu.clearInterval(ue(this,ku)),Xe(this,ku,void 0))},f2=function(){const t=ue(this,Us).getQueryCache().build(ue(this,Us),this.options);if(t===ue(this,nn))return;const n=ue(this,nn);Xe(this,nn,t),Xe(this,Jg,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Q6=function(t){Tr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ue(this,Ss))}),ue(this,Us).getQueryCache().notify({query:ue(this,nn),type:"observerResultsUpdated"})})},oL);function yie(e,t){return zi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function FM(e,t){return yie(e,t)||e.state.data!==void 0&&m2(e,t,t.refetchOnMount)}function m2(e,t,n){if(zi(t.enabled,e)!==!1&&pc(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&qA(e,t)}return!1}function BM(e,t,n,s){return(e!==t||zi(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&qA(e,n)}function qA(e,t){return zi(t.enabled,e)!==!1&&e.isStaleByTime(pc(t.staleTime,e))}function jie(e,t){return!C0(e.getCurrentResult(),t)}function zM(e){return{onFetch:(t,n)=>{var d,f,m,g,x;const s=t.options,i=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},N=q6(t.options,t.fetchOptions),j=async(b,_,C)=>{if(v)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const P=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:_,direction:C?"backward":"forward",meta:t.options.meta};return y(T),T})(),E=await N(P),{maxPages:M}=t.options,$=C?die:uie;return{pages:$(b.pages,E,M),pageParams:$(b.pageParams,_,M)}};if(i&&a.length){const b=i==="backward",_=b?bie:VM,C={pages:a,pageParams:o},A=_(s,C);l=await j(C,A,b)}else{const b=e??a.length;do{const _=c===0?o[0]??s.initialPageParam:VM(s,l);if(c>0&&_==null)break;l=await j(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function VM(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function bie(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var ev,Qa,Cs,Tu,Xa,Il,lL,wie=(lL=class extends K6{constructor(t){super();ut(this,Xa);ut(this,ev);ut(this,Qa);ut(this,Cs);ut(this,Tu);Xe(this,ev,t.client),this.mutationId=t.mutationId,Xe(this,Cs,t.mutationCache),Xe(this,Qa,[]),this.state=t.state||X6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ue(this,Qa).includes(t)||(ue(this,Qa).push(t),this.clearGcTimeout(),ue(this,Cs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Xe(this,Qa,ue(this,Qa).filter(n=>n!==t)),this.scheduleGc(),ue(this,Cs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ue(this,Qa).length||(this.state.status==="pending"?this.scheduleGc():ue(this,Cs).remove(this))}continue(){var t;return((t=ue(this,Tu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,m,g,x,v,y,N,j,b,_,C,A,P,E,M;const n=()=>{zt(this,Xa,Il).call(this,{type:"continue"})},s={client:ue(this,ev),meta:this.options.meta,mutationKey:this.options.mutationKey};Xe(this,Tu,G6({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:($,T)=>{zt(this,Xa,Il).call(this,{type:"failed",failureCount:$,error:T})},onPause:()=>{zt(this,Xa,Il).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,Cs).canRun(this)}));const i=this.state.status==="pending",a=!ue(this,Tu).canStart();try{if(i)n();else{zt(this,Xa,Il).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=ue(this,Cs).config).onMutate)==null?void 0:l.call(o,t,this,s));const T=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,s));T!==this.state.context&&zt(this,Xa,Il).call(this,{type:"pending",context:T,variables:t,isPaused:a})}const $=await ue(this,Tu).start();return await((f=(d=ue(this,Cs).config).onSuccess)==null?void 0:f.call(d,$,t,this.state.context,this,s)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,$,t,this.state.context,s)),await((v=(x=ue(this,Cs).config).onSettled)==null?void 0:v.call(x,$,null,this.state.variables,this.state.context,this,s)),await((N=(y=this.options).onSettled)==null?void 0:N.call(y,$,null,t,this.state.context,s)),zt(this,Xa,Il).call(this,{type:"success",data:$}),$}catch($){try{throw await((b=(j=ue(this,Cs).config).onError)==null?void 0:b.call(j,$,t,this.state.context,this,s)),await((C=(_=this.options).onError)==null?void 0:C.call(_,$,t,this.state.context,s)),await((P=(A=ue(this,Cs).config).onSettled)==null?void 0:P.call(A,void 0,$,this.state.variables,this.state.context,this,s)),await((M=(E=this.options).onSettled)==null?void 0:M.call(E,void 0,$,t,this.state.context,s)),$}finally{zt(this,Xa,Il).call(this,{type:"error",error:$})}}finally{ue(this,Cs).runNext(this)}}},ev=new WeakMap,Qa=new WeakMap,Cs=new WeakMap,Tu=new WeakMap,Xa=new WeakSet,Il=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Tr.batch(()=>{ue(this,Qa).forEach(s=>{s.onMutationUpdate(t)}),ue(this,Cs).notify({mutation:this,type:"updated",action:t})})},lL);function X6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vo,va,tv,cL,Nie=(cL=class extends Hf{constructor(t={}){super();ut(this,Vo);ut(this,va);ut(this,tv);this.config=t,Xe(this,Vo,new Set),Xe(this,va,new Map),Xe(this,tv,0)}build(t,n,s){const i=new wie({client:t,mutationCache:this,mutationId:++Ax(this,tv)._,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){ue(this,Vo).add(t);const n=Qx(t);if(typeof n=="string"){const s=ue(this,va).get(n);s?s.push(t):ue(this,va).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ue(this,Vo).delete(t)){const n=Qx(t);if(typeof n=="string"){const s=ue(this,va).get(n);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&ue(this,va).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Qx(t);if(typeof n=="string"){const s=ue(this,va).get(n),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const n=Qx(t);if(typeof n=="string"){const i=(s=ue(this,va).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tr.batch(()=>{ue(this,Vo).forEach(t=>{this.notify({type:"removed",mutation:t})}),ue(this,Vo).clear(),ue(this,va).clear()})}getAll(){return Array.from(ue(this,Vo))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>IM(n,s))}findAll(t={}){return this.getAll().filter(n=>IM(t,n))}notify(t){Tr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Tr.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ps))))}},Vo=new WeakMap,va=new WeakMap,tv=new WeakMap,cL);function Qx(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Uo,Xl,qs,qo,Zo,qy,p2,uL,Sie=(uL=class extends Hf{constructor(n,s){super();ut(this,Zo);ut(this,Uo);ut(this,Xl);ut(this,qs);ut(this,qo);Xe(this,Uo,n),this.setOptions(s),this.bindMethods(),zt(this,Zo,qy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const s=this.options;this.options=ue(this,Uo).defaultMutationOptions(n),C0(this.options,s)||ue(this,Uo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ue(this,qs),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Wu(s.mutationKey)!==Wu(this.options.mutationKey)?this.reset():((i=ue(this,qs))==null?void 0:i.state.status)==="pending"&&ue(this,qs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ue(this,qs))==null||n.removeObserver(this)}onMutationUpdate(n){zt(this,Zo,qy).call(this),zt(this,Zo,p2).call(this,n)}getCurrentResult(){return ue(this,Xl)}reset(){var n;(n=ue(this,qs))==null||n.removeObserver(this),Xe(this,qs,void 0),zt(this,Zo,qy).call(this),zt(this,Zo,p2).call(this)}mutate(n,s){var i;return Xe(this,qo,s),(i=ue(this,qs))==null||i.removeObserver(this),Xe(this,qs,ue(this,Uo).getMutationCache().build(ue(this,Uo),this.options)),ue(this,qs).addObserver(this),ue(this,qs).execute(n)}},Uo=new WeakMap,Xl=new WeakMap,qs=new WeakMap,qo=new WeakMap,Zo=new WeakSet,qy=function(){var s;const n=((s=ue(this,qs))==null?void 0:s.state)??X6();Xe(this,Xl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},p2=function(n){Tr.batch(()=>{var s,i,a,o,l,c,u,d;if(ue(this,qo)&&this.hasListeners()){const f=ue(this,Xl).variables,m=ue(this,Xl).context,g={client:ue(this,Uo),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(s=ue(this,qo)).onSuccess)==null||i.call(s,n.data,f,m,g),(o=(a=ue(this,qo)).onSettled)==null||o.call(a,n.data,null,f,m,g)):(n==null?void 0:n.type)==="error"&&((c=(l=ue(this,qo)).onError)==null||c.call(l,n.error,f,m,g),(d=(u=ue(this,qo)).onSettled)==null||d.call(u,void 0,n.error,f,m,g))}this.listeners.forEach(f=>{f(ue(this,Xl))})})},uL),Ja,dL,Cie=(dL=class extends Hf{constructor(t={}){super();ut(this,Ja);this.config=t,Xe(this,Ja,new Map)}build(t,n,s){const i=n.queryKey,a=n.queryHash??zA(i,n);let o=this.get(a);return o||(o=new vie({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){ue(this,Ja).has(t.queryHash)||(ue(this,Ja).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ue(this,Ja).get(t.queryHash);n&&(t.destroy(),n===t&&ue(this,Ja).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ue(this,Ja).get(t)}getAll(){return[...ue(this,Ja).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>MM(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>MM(t,s)):n}notify(t){Tr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ja=new WeakMap,dL),ar,Jl,Zl,Uh,qh,ec,Wh,Hh,hL,_ie=(hL=class{constructor(e={}){ut(this,ar);ut(this,Jl);ut(this,Zl);ut(this,Uh);ut(this,qh);ut(this,ec);ut(this,Wh);ut(this,Hh);Xe(this,ar,e.queryCache||new Cie),Xe(this,Jl,e.mutationCache||new Nie),Xe(this,Zl,e.defaultOptions||{}),Xe(this,Uh,new Map),Xe(this,qh,new Map),Xe(this,ec,0)}mount(){Ax(this,ec)._++,ue(this,ec)===1&&(Xe(this,Wh,UA.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,ar).onFocus())})),Xe(this,Hh,_0.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,ar).onOnline())})))}unmount(){var e,t;Ax(this,ec)._--,ue(this,ec)===0&&((e=ue(this,Wh))==null||e.call(this),Xe(this,Wh,void 0),(t=ue(this,Hh))==null||t.call(this),Xe(this,Hh,void 0))}isFetching(e){return ue(this,ar).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ue(this,Jl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,ar).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ue(this,ar).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(pc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return ue(this,ar).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=ue(this,ar).get(s.queryHash),a=i==null?void 0:i.state.data,o=oie(t,a);if(o!==void 0)return ue(this,ar).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Tr.batch(()=>ue(this,ar).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,ar).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ue(this,ar);Tr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ue(this,ar);return Tr.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Tr.batch(()=>ue(this,ar).findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(Ps).catch(Ps)}invalidateQueries(e,t={}){return Tr.batch(()=>(ue(this,ar).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Tr.batch(()=>ue(this,ar).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Ps)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Ps)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ue(this,ar).build(this,t);return n.isStaleByTime(pc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ps).catch(Ps)}fetchInfiniteQuery(e){return e.behavior=zM(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ps).catch(Ps)}ensureInfiniteQueryData(e){return e.behavior=zM(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _0.isOnline()?ue(this,Jl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,ar)}getMutationCache(){return ue(this,Jl)}getDefaultOptions(){return ue(this,Zl)}setDefaultOptions(e){Xe(this,Zl,e)}setQueryDefaults(e,t){ue(this,Uh).set(Wu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ue(this,Uh).values()],n={};return t.forEach(s=>{ag(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){ue(this,qh).set(Wu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ue(this,qh).values()],n={};return t.forEach(s=>{ag(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ue(this,Zl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===VA&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ue(this,Zl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ue(this,ar).clear(),ue(this,Jl).clear()}},ar=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,Uh=new WeakMap,qh=new WeakMap,ec=new WeakMap,Wh=new WeakMap,Hh=new WeakMap,hL),J6=w.createContext(void 0),ti=e=>{const t=w.useContext(J6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Pie=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(J6.Provider,{value:e,children:t})),Z6=w.createContext(!1),Aie=()=>w.useContext(Z6);Z6.Provider;function Eie(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var kie=w.createContext(Eie()),Tie=()=>w.useContext(kie),Oie=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Die=e=>{w.useEffect(()=>{e.clearReset()},[e])},Mie=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&e.data===void 0||W6(n,[e.error,s])),Iie=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...i)=>n(s(...i)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},$ie=(e,t)=>e.isLoading&&e.isFetching&&!t,Rie=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,UM=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Lie(e,t,n){var f,m,g,x,v;const s=Aie(),i=Tie(),a=ti(),o=a.defaultQueryOptions(e);(m=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",Iie(o),Oie(o,i),Die(i);const l=!a.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!s&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(y=>{const N=d?c.subscribe(Tr.batchCalls(y)):Ps;return c.updateResult(),N},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o)},[o,c]),Rie(o,u))throw UM(o,c,i);if(Mie({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||x.call(g,o,u),o.experimental_prefetchInRender&&!qu&&$ie(u,s)){const y=l?UM(o,c,i):(v=a.getQueryCache().get(o.queryHash))==null?void 0:v.promise;y==null||y.catch(Ps).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function kc(e,t){return Lie(e,xie)}function Pi(e,t){const n=ti(),[s]=w.useState(()=>new Sie(n,e));w.useEffect(()=>{s.setOptions(e)},[s,e]);const i=w.useSyncExternalStore(w.useCallback(o=>s.subscribe(Tr.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=w.useCallback((o,l)=>{s.mutate(o,l).catch(Ps)},[s]);if(i.error&&W6(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},og.apply(this,arguments)}var sc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sc||(sc={}));const qM="popstate";function Fie(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:l}=s.location;return g2("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:P0(i)}return zie(t,n,null,e)}function xr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function e8(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Bie(){return Math.random().toString(36).substr(2,8)}function WM(e,t){return{usr:e.state,key:e.key,idx:t}}function g2(e,t,n,s){return n===void 0&&(n=null),og({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Gf(t):t,{state:n,key:t&&t.key||s||Bie()})}function P0(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Gf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function zie(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=sc.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(og({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=sc.Pop;let y=d(),N=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:N})}function m(y,N){l=sc.Push;let j=g2(v.location,y,N);u=d()+1;let b=WM(j,u),_=v.createHref(j);try{o.pushState(b,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(_)}a&&c&&c({action:l,location:v.location,delta:1})}function g(y,N){l=sc.Replace;let j=g2(v.location,y,N);u=d();let b=WM(j,u),_=v.createHref(j);o.replaceState(b,"",_),a&&c&&c({action:l,location:v.location,delta:0})}function x(y){let N=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof y=="string"?y:P0(y);return j=j.replace(/ $/,"%20"),xr(N,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,N)}let v={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(qM,f),c=y,()=>{i.removeEventListener(qM,f),c=null}},createHref(y){return t(i,y)},createURL:x,encodeLocation(y){let N=x(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:g,go(y){return o.go(y)}};return v}var HM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(HM||(HM={}));function Vie(e,t,n){return n===void 0&&(n="/"),Uie(e,t,n,!1)}function Uie(e,t,n,s){let i=typeof t=="string"?Gf(t):t,a=WA(i.pathname||"/",n);if(a==null)return null;let o=t8(e);qie(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=tae(a);l=Zie(o[c],u,s)}return l}function t8(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(xr(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=gc([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(xr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),t8(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Xie(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of n8(a.path))i(a,o,c)}),t}function n8(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=n8(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function qie(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Jie(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Wie=/^:[\w-]+$/,Hie=3,Gie=2,Kie=1,Yie=10,Qie=-2,GM=e=>e==="*";function Xie(e,t){let n=e.split("/"),s=n.length;return n.some(GM)&&(s+=Qie),t&&(s+=Gie),n.filter(i=>!GM(i)).reduce((i,a)=>i+(Wie.test(a)?Hie:a===""?Kie:Yie),s)}function Jie(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function Zie(e,t,n){let{routesMeta:s}=e,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=KM({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!s[s.length-1].route.index&&(f=KM({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:gc([a,f.pathname]),pathnameBase:iae(gc([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=gc([a,f.pathnameBase]))}return o}function KM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=eae(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((u,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let v=l[f]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const x=l[f];return g&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function eae(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),e8(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function tae(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return e8(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function WA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function nae(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Gf(e):e;return{pathname:n?n.startsWith("/")?n:rae(n,t):t,search:aae(s),hash:oae(i)}}function rae(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function JN(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sae(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function HA(e,t){let n=sae(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function GA(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Gf(e):(i=og({},e),xr(!i.pathname||!i.pathname.includes("?"),JN("?","pathname","search",i)),xr(!i.pathname||!i.pathname.includes("#"),JN("#","pathname","hash",i)),xr(!i.search||!i.search.includes("#"),JN("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=nae(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const gc=e=>e.join("/").replace(/\/\/+/g,"/"),iae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const r8=["post","put","patch","delete"];new Set(r8);const cae=["get",...r8];new Set(cae);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lg.apply(this,arguments)}const KA=w.createContext(null),uae=w.createContext(null),Tc=w.createContext(null),yb=w.createContext(null),Oc=w.createContext({outlet:null,matches:[],isDataRoute:!1}),s8=w.createContext(null);function dae(e,t){let{relative:n}=t===void 0?{}:t;Kf()||xr(!1);let{basename:s,navigator:i}=w.useContext(Tc),{hash:a,pathname:o,search:l}=a8(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:gc([s,o])),i.createHref({pathname:c,search:l,hash:a})}function Kf(){return w.useContext(yb)!=null}function Dc(){return Kf()||xr(!1),w.useContext(yb).location}function i8(e){w.useContext(Tc).static||w.useLayoutEffect(e)}function Yf(){let{isDataRoute:e}=w.useContext(Oc);return e?Sae():hae()}function hae(){Kf()||xr(!1);let e=w.useContext(KA),{basename:t,future:n,navigator:s}=w.useContext(Tc),{matches:i}=w.useContext(Oc),{pathname:a}=Dc(),o=JSON.stringify(HA(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return i8(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let f=GA(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gc([t,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[t,s,o,a,e])}function a8(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=w.useContext(Tc),{matches:i}=w.useContext(Oc),{pathname:a}=Dc(),o=JSON.stringify(HA(i,s.v7_relativeSplatPath));return w.useMemo(()=>GA(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function fae(e,t){return mae(e,t)}function mae(e,t,n,s){Kf()||xr(!1);let{navigator:i}=w.useContext(Tc),{matches:a}=w.useContext(Oc),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Dc(),d;if(t){var f;let y=typeof t=="string"?Gf(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||xr(!1),d=y}else d=u;let m=d.pathname||"/",g=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=Vie(e,{pathname:g}),v=yae(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:gc([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:gc([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,s);return t&&v?w.createElement(yb.Provider,{value:{location:lg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:sc.Pop}},v):v}function pae(){let e=Nae(),t=lae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const gae=w.createElement(pae,null);class vae extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Oc.Provider,{value:this.props.routeContext},w.createElement(s8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xae(e){let{routeContext:t,match:n,children:s}=e,i=w.useContext(KA);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Oc.Provider,{value:t},s)}function yae(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||xr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:g}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let g,x=!1,v=null,y=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||gae,c&&(u<0&&m===0?(x=!0,y=null):u===m&&(x=!0,y=f.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,m+1)),j=()=>{let b;return g?b=v:x?b=y:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,w.createElement(xae,{match:f,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(vae,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):j()},null)}var o8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(o8||{}),A0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(A0||{});function jae(e){let t=w.useContext(KA);return t||xr(!1),t}function bae(e){let t=w.useContext(uae);return t||xr(!1),t}function wae(e){let t=w.useContext(Oc);return t||xr(!1),t}function l8(e){let t=wae(),n=t.matches[t.matches.length-1];return n.route.id||xr(!1),n.route.id}function Nae(){var e;let t=w.useContext(s8),n=bae(A0.UseRouteError),s=l8(A0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Sae(){let{router:e}=jae(o8.UseNavigateStable),t=l8(A0.UseNavigateStable),n=w.useRef(!1);return i8(()=>{n.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,lg({fromRouteId:t},a)))},[e,t])}function Cae(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function v2(e){let{to:t,replace:n,state:s,relative:i}=e;Kf()||xr(!1);let{future:a,static:o}=w.useContext(Tc),{matches:l}=w.useContext(Oc),{pathname:c}=Dc(),u=Yf(),d=GA(t,HA(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:n,state:s,relative:i}),[u,f,i,n,s]),null}function sr(e){xr(!1)}function _ae(e){let{basename:t="/",children:n=null,location:s,navigationType:i=sc.Pop,navigator:a,static:o=!1,future:l}=e;Kf()&&xr(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:o,future:lg({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=Gf(s));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:x="default"}=s,v=w.useMemo(()=>{let y=WA(d,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:g,key:x},navigationType:i}},[c,d,f,m,g,x,i]);return v==null?null:w.createElement(Tc.Provider,{value:u},w.createElement(yb.Provider,{children:n,value:v}))}function Pae(e){let{children:t,location:n}=e;return fae(x2(t),n)}new Promise(()=>{});function x2(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(s,i)=>{if(!w.isValidElement(s))return;let a=[...t,i];if(s.type===w.Fragment){n.push.apply(n,x2(s.props.children,a));return}s.type!==sr&&xr(!1),!s.props.index||!s.props.children||xr(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=x2(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function y2(){return y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},y2.apply(this,arguments)}function Aae(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Eae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kae(e,t){return e.button===0&&(!t||t==="_self")&&!Eae(e)}function j2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function Tae(e,t){let n=j2(e);return t&&t.forEach((s,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const Oae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Dae="6";try{window.__reactRouterVersion=Dae}catch{}const Mae="startTransition",YM=EP[Mae];function Iae(e){let{basename:t,children:n,future:s,window:i}=e,a=w.useRef();a.current==null&&(a.current=Fie({window:i,v5Compat:!0}));let o=a.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=w.useCallback(f=>{u&&YM?YM(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>Cae(s),[s]),w.createElement(_ae,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const $ae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Na=w.forwardRef(function(t,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=Aae(t,Oae),{basename:g}=w.useContext(Tc),x,v=!1;if(typeof u=="string"&&Rae.test(u)&&(x=u,$ae))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),C=WA(_.pathname,g);_.origin===b.origin&&C!=null?u=C+_.search+_.hash:v=!0}catch{}let y=dae(u,{relative:i}),N=Lae(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function j(b){s&&s(b),b.defaultPrevented||N(b)}return w.createElement("a",y2({},m,{href:x||y,onClick:v||a?s:j,ref:n,target:c}))});var QM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(QM||(QM={}));var XM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(XM||(XM={}));function Lae(e,t){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Yf(),u=Dc(),d=a8(e,{relative:o});return w.useCallback(f=>{if(kae(f,n)){f.preventDefault();let m=s!==void 0?s:P0(u)===P0(d);c(e,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,i,n,e,a,o,l])}function Fae(e){let t=w.useRef(j2(e)),n=w.useRef(!1),s=Dc(),i=w.useMemo(()=>Tae(s.search,n.current?null:t.current),[s.search]),a=Yf(),o=w.useCallback((l,c)=>{const u=j2(typeof l=="function"?l(i):l);n.current=!0,a("?"+u,c)},[a,i]);return[i,o]}const Bae=lv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=w.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},a)=>{const o=s?Wee:"button";return r.jsx(o,{className:Ze(Bae({variant:t,size:n,className:e})),ref:a,...i})});V.displayName="Button";const c8=w.createContext(void 0);function zae({children:e}){const[t,n]=w.useState(()=>{const i=localStorage.getItem("theme");return i||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});w.useEffect(()=>{localStorage.setItem("theme",t);const i=document.documentElement;t==="dark"?i.classList.add("dark"):i.classList.remove("dark")},[t]);const s=()=>{n(i=>i==="light"?"dark":"light")};return r.jsx(c8.Provider,{value:{theme:t,setTheme:n,toggleTheme:s},children:e})}function u8(){const e=w.useContext(c8);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function JM(){const{theme:e,toggleTheme:t}=u8();return r.jsxs(V,{variant:"outline",size:"sm",onClick:t,className:"h-9 w-9 p-0",title:e==="light"?"Activer le mode sombre":"Activer le mode clair",children:[e==="light"?r.jsx(Xte,{className:"h-4 w-4"}):r.jsx(tne,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:e==="light"?"Activer le mode sombre":"Activer le mode clair"})]})}var Vae=w.createContext(void 0);function jb(e){const t=w.useContext(Vae);return e||t||"ltr"}var ZN=0;function bb(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ZM()),document.body.insertAdjacentElement("beforeend",e[1]??ZM()),ZN++,()=>{ZN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ZN--}},[])}function ZM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var eS="focusScope.autoFocusOnMount",tS="focusScope.autoFocusOnUnmount",eI={bubbles:!1,cancelable:!0},Uae="FocusScope",dv=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=w.useState(null),u=Ds(i),d=Ds(a),f=w.useRef(null),m=Qt(t,v=>c(v)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let v=function(b){if(g.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:$l(f.current,{select:!0})},y=function(b){if(g.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||$l(f.current,{select:!0}))},N=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&$l(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const j=new MutationObserver(N);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),j.disconnect()}}},[s,l,g.paused]),w.useEffect(()=>{if(l){nI.add(g);const v=document.activeElement;if(!l.contains(v)){const N=new CustomEvent(eS,eI);l.addEventListener(eS,u),l.dispatchEvent(N),N.defaultPrevented||(qae(Yae(d8(l)),{select:!0}),document.activeElement===v&&$l(l))}return()=>{l.removeEventListener(eS,u),setTimeout(()=>{const N=new CustomEvent(tS,eI);l.addEventListener(tS,d),l.dispatchEvent(N),N.defaultPrevented||$l(v??document.body,{select:!0}),l.removeEventListener(tS,d),nI.remove(g)},0)}}},[l,u,d,g]);const x=w.useCallback(v=>{if(!n&&!s||g.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(y&&N){const j=v.currentTarget,[b,_]=Wae(j);b&&_?!v.shiftKey&&N===_?(v.preventDefault(),n&&$l(b,{select:!0})):v.shiftKey&&N===b&&(v.preventDefault(),n&&$l(_,{select:!0})):N===j&&v.preventDefault()}},[n,s,g.paused]);return r.jsx(st.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});dv.displayName=Uae;function qae(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if($l(s,{select:t}),document.activeElement!==n)return}function Wae(e){const t=d8(e),n=tI(t,e),s=tI(t.reverse(),e);return[n,s]}function d8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tI(e,t){for(const n of e)if(!Hae(n,{upTo:t}))return n}function Hae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Gae(e){return e instanceof HTMLInputElement&&"select"in e}function $l(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Gae(e)&&t&&e.select()}}var nI=Kae();function Kae(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=rI(e,t),e.unshift(t)},remove(t){var n;e=rI(e,t),(n=e[0])==null||n.resume()}}}function rI(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Yae(e){return e.filter(t=>t.tagName!=="A")}var nS="rovingFocusGroup.onEntryFocus",Qae={bubbles:!1,cancelable:!0},hv="RovingFocusGroup",[b2,h8,Xae]=ob(hv),[Jae,wb]=Zs(hv,[Xae]),[Zae,eoe]=Jae(hv),f8=w.forwardRef((e,t)=>r.jsx(b2.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(b2.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(toe,{...e,ref:t})})}));f8.displayName=hv;var toe=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=w.useRef(null),g=Qt(t,m),x=jb(a),[v,y]=go({prop:o,defaultProp:l??null,onChange:c,caller:hv}),[N,j]=w.useState(!1),b=Ds(u),_=h8(n),C=w.useRef(!1),[A,P]=w.useState(0);return w.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(nS,b),()=>E.removeEventListener(nS,b)},[b]),r.jsx(Zae,{scope:n,orientation:s,dir:x,loop:i,currentTabStopId:v,onItemFocus:w.useCallback(E=>y(E),[y]),onItemShiftTab:w.useCallback(()=>j(!0),[]),onFocusableItemAdd:w.useCallback(()=>P(E=>E+1),[]),onFocusableItemRemove:w.useCallback(()=>P(E=>E-1),[]),children:r.jsx(st.div,{tabIndex:N||A===0?-1:0,"data-orientation":s,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:He(e.onMouseDown,()=>{C.current=!0}),onFocus:He(e.onFocus,E=>{const M=!C.current;if(E.target===E.currentTarget&&M&&!N){const $=new CustomEvent(nS,Qae);if(E.currentTarget.dispatchEvent($),!$.defaultPrevented){const T=_().filter(H=>H.focusable),O=T.find(H=>H.active),L=T.find(H=>H.id===v),J=[O,L,...T].filter(Boolean).map(H=>H.ref.current);g8(J,d)}}C.current=!1}),onBlur:He(e.onBlur,()=>j(!1))})})}),m8="RovingFocusGroupItem",p8=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=rs(),u=a||c,d=eoe(m8,n),f=d.currentTabStopId===u,m=h8(n),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:v}=d;return w.useEffect(()=>{if(s)return g(),()=>x()},[s,g,x]),r.jsx(b2.ItemSlot,{scope:n,id:u,focusable:s,active:i,children:r.jsx(st.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:He(e.onMouseDown,y=>{s?d.onItemFocus(u):y.preventDefault()}),onFocus:He(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:He(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const N=soe(y,d.orientation,d.dir);if(N!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=m().filter(_=>_.focusable).map(_=>_.ref.current);if(N==="last")b.reverse();else if(N==="prev"||N==="next"){N==="prev"&&b.reverse();const _=b.indexOf(y.currentTarget);b=d.loop?ioe(b,_+1):b.slice(_+1)}setTimeout(()=>g8(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});p8.displayName=m8;var noe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function roe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function soe(e,t,n){const s=roe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return noe[s]}function g8(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function ioe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var v8=f8,x8=p8,aoe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ld=new WeakMap,Xx=new WeakMap,Jx={},rS=0,y8=function(e){return e&&(e.host||y8(e.parentNode))},ooe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=y8(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},loe=function(e,t,n,s){var i=ooe(t,Array.isArray(e)?e:[e]);Jx[n]||(Jx[n]=new WeakMap);var a=Jx[n],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(s),x=g!==null&&g!=="false",v=(Ld.get(m)||0)+1,y=(a.get(m)||0)+1;Ld.set(m,v),a.set(m,y),o.push(m),v===1&&x&&Xx.set(m,!0),y===1&&m.setAttribute(n,"true"),x||m.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",m,N)}})};return d(t),l.clear(),rS++,function(){o.forEach(function(f){var m=Ld.get(f)-1,g=a.get(f)-1;Ld.set(f,m),a.set(f,g),m||(Xx.has(f)||f.removeAttribute(s),Xx.delete(f)),g||f.removeAttribute(n)}),rS--,rS||(Ld=new WeakMap,Ld=new WeakMap,Xx=new WeakMap,Jx={})}},Nb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=aoe(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),loe(s,i,n,"aria-hidden")):function(){return null}},eo=function(){return eo=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},eo.apply(this,arguments)};function j8(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function coe(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var Wy="right-scroll-bar-position",Hy="width-before-scroll-bar",uoe="with-scroll-bars-hidden",doe="--removed-body-scroll-bar-size";function sS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function hoe(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var foe=typeof window<"u"?w.useLayoutEffect:w.useEffect,sI=new WeakMap;function moe(e,t){var n=hoe(null,function(s){return e.forEach(function(i){return sS(i,s)})});return foe(function(){var s=sI.get(n);if(s){var i=new Set(s),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||sS(l,null)}),a.forEach(function(l){i.has(l)||sS(l,o)})}sI.set(n,e)},[e]),n}function poe(e){return e}function goe(e,t){t===void 0&&(t=poe);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function voe(e){e===void 0&&(e={});var t=goe(null);return t.options=eo({async:!0,ssr:!1},e),t}var b8=function(e){var t=e.sideCar,n=j8(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,eo({},n))};b8.isSideCarExport=!0;function xoe(e,t){return e.useMedium(t),b8}var w8=voe(),iS=function(){},Sb=w.forwardRef(function(e,t){var n=w.useRef(null),s=w.useState({onScrollCapture:iS,onWheelCapture:iS,onTouchMoveCapture:iS}),i=s[0],a=s[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,g=e.noRelative,x=e.noIsolation,v=e.inert,y=e.allowPinchZoom,N=e.as,j=N===void 0?"div":N,b=e.gapMode,_=j8(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,A=moe([n,t]),P=eo(eo({},_),i);return w.createElement(w.Fragment,null,d&&w.createElement(C,{sideCar:w8,removeScrollBar:u,shards:f,noRelative:g,noIsolation:x,inert:v,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?w.cloneElement(w.Children.only(l),eo(eo({},P),{ref:A})):w.createElement(j,eo({},P,{className:c,ref:A}),l))});Sb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sb.classNames={fullWidth:Hy,zeroRight:Wy};var yoe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function joe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yoe();return t&&e.setAttribute("nonce",t),e}function boe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function woe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Noe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=joe())&&(boe(t,n),woe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Soe=function(){var e=Noe();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},N8=function(){var e=Soe(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},Coe={left:0,top:0,right:0,gap:0},aS=function(e){return parseInt(e||"",10)||0},_oe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[aS(n),aS(s),aS(i)]},Poe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Coe;var t=_oe(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},Aoe=N8(),Eh="data-scroll-locked",Eoe=function(e,t,n,s){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(uoe,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Eh,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wy,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Hy,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Wy," .").concat(Wy,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Hy," .").concat(Hy,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Eh,`] {
    `).concat(doe,": ").concat(l,`px;
  }
`)},iI=function(){var e=parseInt(document.body.getAttribute(Eh)||"0",10);return isFinite(e)?e:0},koe=function(){w.useEffect(function(){return document.body.setAttribute(Eh,(iI()+1).toString()),function(){var e=iI()-1;e<=0?document.body.removeAttribute(Eh):document.body.setAttribute(Eh,e.toString())}},[])},Toe=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;koe();var a=w.useMemo(function(){return Poe(i)},[i]);return w.createElement(Aoe,{styles:Eoe(a,!t,i,n?"":"!important")})},w2=!1;if(typeof window<"u")try{var Zx=Object.defineProperty({},"passive",{get:function(){return w2=!0,!0}});window.addEventListener("test",Zx,Zx),window.removeEventListener("test",Zx,Zx)}catch{w2=!1}var Fd=w2?{passive:!1}:!1,Ooe=function(e){return e.tagName==="TEXTAREA"},S8=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ooe(e)&&n[t]==="visible")},Doe=function(e){return S8(e,"overflowY")},Moe=function(e){return S8(e,"overflowX")},aI=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=C8(e,s);if(i){var a=_8(e,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Ioe=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},$oe=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},C8=function(e,t){return e==="v"?Doe(t):Moe(t)},_8=function(e,t){return e==="v"?Ioe(t):$oe(t)},Roe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Loe=function(e,t,n,s,i){var a=Roe(e,window.getComputedStyle(t).direction),o=a*s,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var g=_8(e,l),x=g[0],v=g[1],y=g[2],N=v-y-a*x;(x||N)&&C8(e,l)&&(f+=N,m+=x);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(m)<1||!i))&&(u=!0),u},ey=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},oI=function(e){return[e.deltaX,e.deltaY]},lI=function(e){return e&&"current"in e?e.current:e},Foe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Boe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zoe=0,Bd=[];function Voe(e){var t=w.useRef([]),n=w.useRef([0,0]),s=w.useRef(),i=w.useState(zoe++)[0],a=w.useState(N8)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=coe([e.lockRef.current],(e.shards||[]).map(lI),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var N=ey(v),j=n.current,b="deltaX"in v?v.deltaX:j[0]-N[0],_="deltaY"in v?v.deltaY:j[1]-N[1],C,A=v.target,P=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in v&&P==="h"&&A.type==="range")return!1;var E=aI(P,A);if(!E)return!0;if(E?C=P:(C=P==="v"?"h":"v",E=aI(P,A)),!E)return!1;if(!s.current&&"changedTouches"in v&&(b||_)&&(s.current=C),!C)return!0;var M=s.current||C;return Loe(M,y,v,M==="h"?b:_,!0)},[]),c=w.useCallback(function(v){var y=v;if(!(!Bd.length||Bd[Bd.length-1]!==a)){var N="deltaY"in y?oI(y):ey(y),j=t.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&Foe(C.delta,N)})[0];if(j&&j.should){y.cancelable&&y.preventDefault();return}if(!j){var b=(o.current.shards||[]).map(lI).filter(Boolean).filter(function(C){return C.contains(y.target)}),_=b.length>0?l(y,b[0]):!o.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=w.useCallback(function(v,y,N,j){var b={name:v,delta:y,target:N,should:j,shadowParent:Uoe(N)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=w.useCallback(function(v){n.current=ey(v),s.current=void 0},[]),f=w.useCallback(function(v){u(v.type,oI(v),v.target,l(v,e.lockRef.current))},[]),m=w.useCallback(function(v){u(v.type,ey(v),v.target,l(v,e.lockRef.current))},[]);w.useEffect(function(){return Bd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Fd),document.addEventListener("touchmove",c,Fd),document.addEventListener("touchstart",d,Fd),function(){Bd=Bd.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,Fd),document.removeEventListener("touchmove",c,Fd),document.removeEventListener("touchstart",d,Fd)}},[]);var g=e.removeScrollBar,x=e.inert;return w.createElement(w.Fragment,null,x?w.createElement(a,{styles:Boe(i)}):null,g?w.createElement(Toe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Uoe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qoe=xoe(w8,Voe);var fv=w.forwardRef(function(e,t){return w.createElement(Sb,eo({},e,{ref:t,sideCar:qoe}))});fv.classNames=Sb.classNames;var N2=["Enter"," "],Woe=["ArrowDown","PageUp","Home"],P8=["ArrowUp","PageDown","End"],Hoe=[...Woe,...P8],Goe={ltr:[...N2,"ArrowRight"],rtl:[...N2,"ArrowLeft"]},Koe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},mv="Menu",[cg,Yoe,Qoe]=ob(mv),[ud,A8]=Zs(mv,[Qoe,Ec,wb]),Cb=Ec(),E8=wb(),[Xoe,dd]=ud(mv),[Joe,pv]=ud(mv),k8=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:i,onOpenChange:a,modal:o=!0}=e,l=Cb(t),[c,u]=w.useState(null),d=w.useRef(!1),f=Ds(a),m=jb(i);return w.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),r.jsx(FA,{...l,children:r.jsx(Xoe,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:r.jsx(Joe,{scope:t,onClose:w.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:s})})})};k8.displayName=mv;var Zoe="MenuAnchor",YA=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Cb(n);return r.jsx(uv,{...i,...s,ref:t})});YA.displayName=Zoe;var QA="MenuPortal",[ele,T8]=ud(QA,{forceMount:void 0}),O8=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:i}=e,a=dd(QA,t);return r.jsx(ele,{scope:t,forceMount:n,children:r.jsx(ei,{present:n||a.open,children:r.jsx(Bf,{asChild:!0,container:i,children:s})})})};O8.displayName=QA;var Yi="MenuContent",[tle,XA]=ud(Yi),D8=w.forwardRef((e,t)=>{const n=T8(Yi,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=dd(Yi,e.__scopeMenu),o=pv(Yi,e.__scopeMenu);return r.jsx(cg.Provider,{scope:e.__scopeMenu,children:r.jsx(ei,{present:s||a.open,children:r.jsx(cg.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(nle,{...i,ref:t}):r.jsx(rle,{...i,ref:t})})})})}),nle=w.forwardRef((e,t)=>{const n=dd(Yi,e.__scopeMenu),s=w.useRef(null),i=Qt(t,s);return w.useEffect(()=>{const a=s.current;if(a)return Nb(a)},[]),r.jsx(JA,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:He(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),rle=w.forwardRef((e,t)=>{const n=dd(Yi,e.__scopeMenu);return r.jsx(JA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),sle=bc("MenuContent.ScrollLock"),JA=w.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...v}=e,y=dd(Yi,n),N=pv(Yi,n),j=Cb(n),b=E8(n),_=Yoe(n),[C,A]=w.useState(null),P=w.useRef(null),E=Qt(t,P,y.onContentChange),M=w.useRef(0),$=w.useRef(""),T=w.useRef(0),O=w.useRef(null),L=w.useRef("right"),z=w.useRef(0),J=x?fv:w.Fragment,H=x?{as:sle,allowPinchZoom:!0}:void 0,oe=D=>{var se,F;const ae=$.current+D,pe=_().filter(Y=>!Y.disabled),te=document.activeElement,Z=(se=pe.find(Y=>Y.ref.current===te))==null?void 0:se.textValue,ne=pe.map(Y=>Y.textValue),xe=gle(ne,ae,Z),ye=(F=pe.find(Y=>Y.textValue===xe))==null?void 0:F.ref.current;(function Y(ee){$.current=ee,window.clearTimeout(M.current),ee!==""&&(M.current=window.setTimeout(()=>Y(""),1e3))})(ae),ye&&setTimeout(()=>ye.focus())};w.useEffect(()=>()=>window.clearTimeout(M.current),[]),bb();const Q=w.useCallback(D=>{var pe,te;return L.current===((pe=O.current)==null?void 0:pe.side)&&xle(D,(te=O.current)==null?void 0:te.area)},[]);return r.jsx(tle,{scope:n,searchRef:$,onItemEnter:w.useCallback(D=>{Q(D)&&D.preventDefault()},[Q]),onItemLeave:w.useCallback(D=>{var ae;Q(D)||((ae=P.current)==null||ae.focus(),A(null))},[Q]),onTriggerLeave:w.useCallback(D=>{Q(D)&&D.preventDefault()},[Q]),pointerGraceTimerRef:T,onPointerGraceIntentChange:w.useCallback(D=>{O.current=D},[]),children:r.jsx(J,{...H,children:r.jsx(dv,{asChild:!0,trapped:i,onMountAutoFocus:He(a,D=>{var ae;D.preventDefault(),(ae=P.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(ld,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:r.jsx(v8,{asChild:!0,...b,dir:N.dir,orientation:"vertical",loop:s,currentTabStopId:C,onCurrentTabStopIdChange:A,onEntryFocus:He(c,D=>{N.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(pb,{role:"menu","aria-orientation":"vertical","data-state":Y8(y.open),"data-radix-menu-content":"",dir:N.dir,...j,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:He(v.onKeyDown,D=>{const pe=D.target.closest("[data-radix-menu-content]")===D.currentTarget,te=D.ctrlKey||D.altKey||D.metaKey,Z=D.key.length===1;pe&&(D.key==="Tab"&&D.preventDefault(),!te&&Z&&oe(D.key));const ne=P.current;if(D.target!==ne||!Hoe.includes(D.key))return;D.preventDefault();const ye=_().filter(se=>!se.disabled).map(se=>se.ref.current);P8.includes(D.key)&&ye.reverse(),mle(ye)}),onBlur:He(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(M.current),$.current="")}),onPointerMove:He(e.onPointerMove,ug(D=>{const ae=D.target,pe=z.current!==D.clientX;if(D.currentTarget.contains(ae)&&pe){const te=D.clientX>z.current?"right":"left";L.current=te,z.current=D.clientX}}))})})})})})})});D8.displayName=Yi;var ile="MenuGroup",ZA=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(st.div,{role:"group",...s,ref:t})});ZA.displayName=ile;var ale="MenuLabel",M8=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(st.div,{...s,ref:t})});M8.displayName=ale;var E0="MenuItem",cI="menu.itemSelect",_b=w.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...i}=e,a=w.useRef(null),o=pv(E0,e.__scopeMenu),l=XA(E0,e.__scopeMenu),c=Qt(t,a),u=w.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const m=new CustomEvent(cI,{bubbles:!0,cancelable:!0});f.addEventListener(cI,g=>s==null?void 0:s(g),{once:!0}),jA(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return r.jsx(I8,{...i,ref:c,disabled:n,onClick:He(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:He(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:He(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||N2.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});_b.displayName=E0;var I8=w.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...a}=e,o=XA(E0,n),l=E8(n),c=w.useRef(null),u=Qt(t,c),[d,f]=w.useState(!1),[m,g]=w.useState("");return w.useEffect(()=>{const x=c.current;x&&g((x.textContent??"").trim())},[a.children]),r.jsx(cg.ItemSlot,{scope:n,disabled:s,textValue:i??m,children:r.jsx(x8,{asChild:!0,...l,focusable:!s,children:r.jsx(st.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:u,onPointerMove:He(e.onPointerMove,ug(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:He(e.onPointerLeave,ug(x=>o.onItemLeave(x))),onFocus:He(e.onFocus,()=>f(!0)),onBlur:He(e.onBlur,()=>f(!1))})})})}),ole="MenuCheckboxItem",$8=w.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...i}=e;return r.jsx(z8,{scope:e.__scopeMenu,checked:n,children:r.jsx(_b,{role:"menuitemcheckbox","aria-checked":k0(n)?"mixed":n,...i,ref:t,"data-state":tE(n),onSelect:He(i.onSelect,()=>s==null?void 0:s(k0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});$8.displayName=ole;var R8="MenuRadioGroup",[lle,cle]=ud(R8,{value:void 0,onValueChange:()=>{}}),L8=w.forwardRef((e,t)=>{const{value:n,onValueChange:s,...i}=e,a=Ds(s);return r.jsx(lle,{scope:e.__scopeMenu,value:n,onValueChange:a,children:r.jsx(ZA,{...i,ref:t})})});L8.displayName=R8;var F8="MenuRadioItem",B8=w.forwardRef((e,t)=>{const{value:n,...s}=e,i=cle(F8,e.__scopeMenu),a=n===i.value;return r.jsx(z8,{scope:e.__scopeMenu,checked:a,children:r.jsx(_b,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":tE(a),onSelect:He(s.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});B8.displayName=F8;var eE="MenuItemIndicator",[z8,ule]=ud(eE,{checked:!1}),V8=w.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...i}=e,a=ule(eE,n);return r.jsx(ei,{present:s||k0(a.checked)||a.checked===!0,children:r.jsx(st.span,{...i,ref:t,"data-state":tE(a.checked)})})});V8.displayName=eE;var dle="MenuSeparator",U8=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(st.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});U8.displayName=dle;var hle="MenuArrow",q8=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Cb(n);return r.jsx(gb,{...i,...s,ref:t})});q8.displayName=hle;var fle="MenuSub",[N6e,W8]=ud(fle),mp="MenuSubTrigger",H8=w.forwardRef((e,t)=>{const n=dd(mp,e.__scopeMenu),s=pv(mp,e.__scopeMenu),i=W8(mp,e.__scopeMenu),a=XA(mp,e.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),r.jsx(YA,{asChild:!0,...u,children:r.jsx(I8,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Y8(n.open),...e,ref:sl(t,i.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:He(e.onPointerMove,ug(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:He(e.onPointerLeave,ug(f=>{var g,x;d();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const v=(x=n.content)==null?void 0:x.dataset.side,y=v==="right",N=y?-5:5,j=m[y?"left":"right"],b=m[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:j,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:j,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:He(e.onKeyDown,f=>{var g;const m=a.searchRef.current!=="";e.disabled||m&&f.key===" "||Goe[s.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});H8.displayName=mp;var G8="MenuSubContent",K8=w.forwardRef((e,t)=>{const n=T8(Yi,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=dd(Yi,e.__scopeMenu),o=pv(Yi,e.__scopeMenu),l=W8(G8,e.__scopeMenu),c=w.useRef(null),u=Qt(t,c);return r.jsx(cg.Provider,{scope:e.__scopeMenu,children:r.jsx(ei,{present:s||a.open,children:r.jsx(cg.Slot,{scope:e.__scopeMenu,children:r.jsx(JA,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:He(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:He(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:He(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),m=Koe[o.dir].includes(d.key);f&&m&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});K8.displayName=G8;function Y8(e){return e?"open":"closed"}function k0(e){return e==="indeterminate"}function tE(e){return k0(e)?"indeterminate":e?"checked":"unchecked"}function mle(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function ple(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function gle(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=ple(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function vle(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(i=!i)}return i}function xle(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return vle(n,t)}function ug(e){return t=>t.pointerType==="mouse"?e(t):void 0}var yle=k8,jle=YA,ble=O8,wle=D8,Nle=ZA,Sle=M8,Cle=_b,_le=$8,Ple=L8,Ale=B8,Ele=V8,kle=U8,Tle=q8,Ole=H8,Dle=K8,Pb="DropdownMenu",[Mle,S6e]=Zs(Pb,[A8]),$s=A8(),[Ile,Q8]=Mle(Pb),X8=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=$s(t),u=w.useRef(null),[d,f]=go({prop:i,defaultProp:a??!1,onChange:o,caller:Pb});return r.jsx(Ile,{scope:t,triggerId:rs(),triggerRef:u,contentId:rs(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(m=>!m),[f]),modal:l,children:r.jsx(yle,{...c,open:d,onOpenChange:f,dir:s,modal:l,children:n})})};X8.displayName=Pb;var J8="DropdownMenuTrigger",Z8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=e,a=Q8(J8,n),o=$s(n);return r.jsx(jle,{asChild:!0,...o,children:r.jsx(st.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:sl(t,a.triggerRef),onPointerDown:He(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:He(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Z8.displayName=J8;var $le="DropdownMenuPortal",eB=e=>{const{__scopeDropdownMenu:t,...n}=e,s=$s(t);return r.jsx(ble,{...s,...n})};eB.displayName=$le;var tB="DropdownMenuContent",nB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Q8(tB,n),a=$s(n),o=w.useRef(!1);return r.jsx(wle,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:t,onCloseAutoFocus:He(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:He(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nB.displayName=tB;var Rle="DropdownMenuGroup",Lle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Nle,{...i,...s,ref:t})});Lle.displayName=Rle;var Fle="DropdownMenuLabel",rB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Sle,{...i,...s,ref:t})});rB.displayName=Fle;var Ble="DropdownMenuItem",sB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Cle,{...i,...s,ref:t})});sB.displayName=Ble;var zle="DropdownMenuCheckboxItem",iB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(_le,{...i,...s,ref:t})});iB.displayName=zle;var Vle="DropdownMenuRadioGroup",Ule=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Ple,{...i,...s,ref:t})});Ule.displayName=Vle;var qle="DropdownMenuRadioItem",aB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Ale,{...i,...s,ref:t})});aB.displayName=qle;var Wle="DropdownMenuItemIndicator",oB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Ele,{...i,...s,ref:t})});oB.displayName=Wle;var Hle="DropdownMenuSeparator",lB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(kle,{...i,...s,ref:t})});lB.displayName=Hle;var Gle="DropdownMenuArrow",Kle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Tle,{...i,...s,ref:t})});Kle.displayName=Gle;var Yle="DropdownMenuSubTrigger",cB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Ole,{...i,...s,ref:t})});cB.displayName=Yle;var Qle="DropdownMenuSubContent",uB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Dle,{...i,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uB.displayName=Qle;var Xle=X8,Jle=Z8,Zle=eB,dB=nB,hB=rB,fB=sB,mB=iB,pB=aB,gB=oB,vB=lB,xB=cB,yB=uB;const ece=Xle,tce=Jle,nce=w.forwardRef(({className:e,inset:t,children:n,...s},i)=>r.jsxs(xB,{ref:i,className:Ze("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx(Vte,{className:"ml-auto h-4 w-4"})]}));nce.displayName=xB.displayName;const rce=w.forwardRef(({className:e,...t},n)=>r.jsx(yB,{ref:n,className:Ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));rce.displayName=yB.displayName;const jB=w.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(Zle,{children:r.jsx(dB,{ref:s,sideOffset:t,className:Ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));jB.displayName=dB.displayName;const Gy=w.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(fB,{ref:s,className:Ze("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Gy.displayName=fB.displayName;const sce=w.forwardRef(({className:e,children:t,checked:n,...s},i)=>r.jsxs(mB,{ref:i,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(gB,{children:r.jsx(SA,{className:"h-4 w-4"})})}),t]}));sce.displayName=mB.displayName;const ice=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(pB,{ref:s,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(gB,{children:r.jsx(qte,{className:"h-2 w-2 fill-current"})})}),t]}));ice.displayName=pB.displayName;const bB=w.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(hB,{ref:s,className:Ze("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));bB.displayName=hB.displayName;const S2=w.forwardRef(({className:e,...t},n)=>r.jsx(vB,{ref:n,className:Ze("-mx-1 my-1 h-px bg-muted",e),...t}));S2.displayName=vB.displayName;var wB={exports:{}},NB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=w;function ace(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oce=typeof Object.is=="function"?Object.is:ace,lce=af.useState,cce=af.useEffect,uce=af.useLayoutEffect,dce=af.useDebugValue;function hce(e,t){var n=t(),s=lce({inst:{value:n,getSnapshot:t}}),i=s[0].inst,a=s[1];return uce(function(){i.value=n,i.getSnapshot=t,oS(i)&&a({inst:i})},[e,n,t]),cce(function(){return oS(i)&&a({inst:i}),e(function(){oS(i)&&a({inst:i})})},[e]),dce(n),n}function oS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oce(e,n)}catch{return!0}}function fce(e,t){return t()}var mce=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?fce:hce;NB.useSyncExternalStore=af.useSyncExternalStore!==void 0?af.useSyncExternalStore:mce;wB.exports=NB;var pce=wB.exports;function gce(){return pce.useSyncExternalStore(vce,()=>!0,()=>!1)}function vce(){return()=>{}}var nE="Avatar",[xce,C6e]=Zs(nE),[yce,SB]=xce(nE),CB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[i,a]=w.useState("idle");return r.jsx(yce,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:r.jsx(st.span,{...s,ref:t})})});CB.displayName=nE;var _B="AvatarImage",PB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...a}=e,o=SB(_B,n),l=jce(s,a),c=Ds(u=>{i(u),o.onImageLoadingStatusChange(u)});return Nr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(st.img,{...a,ref:t,src:s}):null});PB.displayName=_B;var AB="AvatarFallback",EB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,a=SB(AB,n),[o,l]=w.useState(s===void 0);return w.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&a.imageLoadingStatus!=="loaded"?r.jsx(st.span,{...i,ref:t}):null});EB.displayName=AB;function uI(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function jce(e,{referrerPolicy:t,crossOrigin:n}){const s=gce(),i=w.useRef(null),a=s?(i.current||(i.current=new window.Image),i.current):null,[o,l]=w.useState(()=>uI(a,e));return Nr(()=>{l(uI(a,e))},[a,e]),Nr(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var kB=CB,TB=PB,OB=EB;const Gr=w.forwardRef(({className:e,...t},n)=>r.jsx(kB,{ref:n,className:Ze("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Gr.displayName=kB.displayName;const cl=w.forwardRef(({className:e,...t},n)=>r.jsx(TB,{ref:n,className:Ze("aspect-square h-full w-full",e),...t}));cl.displayName=TB.displayName;const Kr=w.forwardRef(({className:e,...t},n)=>r.jsx(OB,{ref:n,className:Ze("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Kr.displayName=OB.displayName;const bce="modulepreload",wce=function(e){return"/"+e},dI={},gv=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=wce(c),c in dI)return;dI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":bce,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},Nce=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gv(async()=>{const{default:s}=await Promise.resolve().then(()=>Qf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class rE extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class Sce extends rE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class hI extends rE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fI extends rE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var C2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(C2||(C2={}));var Cce=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class _ce{constructor(t,{headers:n={},customFetch:s,region:i=C2.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Nce(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return Cce(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(v=>{throw new Sce(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new hI(f);if(!f.ok)throw new fI(f);let g=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield f.json():g==="application/octet-stream"?x=yield f.blob():g==="text/event-stream"?x=f:g==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof fI||i instanceof hI?i.context:void 0}}})}}var Gs={},sE={},Ab={},vv={},Eb={},kb={},Pce=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},of=Pce();const Ace=of.fetch,DB=of.fetch.bind(of),MB=of.Headers,Ece=of.Request,kce=of.Response,Qf=Object.freeze(Object.defineProperty({__proto__:null,Headers:MB,Request:Ece,Response:kce,default:DB,fetch:Ace},Symbol.toStringTag,{value:"Module"})),Tce=hJ(Qf);var Tb={};Object.defineProperty(Tb,"__esModule",{value:!0});let Oce=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Tb.default=Oce;var IB=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kb,"__esModule",{value:!0});const Dce=IB(Tce),Mce=IB(Tb);let Ice=class{constructor(t){var n,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Dce.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,u;let d=null,f=null,m=null,g=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const j=await a.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=j:f=JSON.parse(j))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),N=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&N&&N.length>1&&(m=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,g=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(f=[],d=null,g=200,x="OK")}catch{a.status===404&&y===""?(g=204,x="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,g=200,x="OK"),d&&this.shouldThrowOnError)throw new Mce.default(d)}return{error:d,data:f,count:m,status:g,statusText:x}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};kb.default=Ice;var $ce=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eb,"__esModule",{value:!0});const Rce=$ce(kb);let Lce=class extends Rce.default{select(t){let n=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Eb.default=Lce;var Fce=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vv,"__esModule",{value:!0});const Bce=Fce(Eb);let zce=class extends Bce.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};vv.default=zce;var Vce=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ab,"__esModule",{value:!0});const Gm=Vce(vv);let Uce=class{constructor(t,{headers:n={},schema:s,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=s,this.fetch=i}select(t,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new Gm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:s=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Gm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Gm.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var s;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Gm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var n;const s="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Gm.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ab.default=Uce;var $B=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sE,"__esModule",{value:!0});const qce=$B(Ab),Wce=$B(vv);let Hce=class RB{constructor(t,{headers:n={},schema:s,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=s,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new qce.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new RB(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;s||i?(l=s?"HEAD":"GET",Object.entries(n).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",u=n);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new Wce.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};sE.default=Hce;var Xf=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.PostgrestError=Gs.PostgrestBuilder=Gs.PostgrestTransformBuilder=Gs.PostgrestFilterBuilder=Gs.PostgrestQueryBuilder=Gs.PostgrestClient=void 0;const LB=Xf(sE);Gs.PostgrestClient=LB.default;const FB=Xf(Ab);Gs.PostgrestQueryBuilder=FB.default;const BB=Xf(vv);Gs.PostgrestFilterBuilder=BB.default;const zB=Xf(Eb);Gs.PostgrestTransformBuilder=zB.default;const VB=Xf(kb);Gs.PostgrestBuilder=VB.default;const UB=Xf(Tb);Gs.PostgrestError=UB.default;var Gce=Gs.default={PostgrestClient:LB.default,PostgrestQueryBuilder:FB.default,PostgrestFilterBuilder:BB.default,PostgrestTransformBuilder:zB.default,PostgrestBuilder:VB.default,PostgrestError:UB.default};const{PostgrestClient:Kce,PostgrestQueryBuilder:T6e,PostgrestFilterBuilder:O6e,PostgrestTransformBuilder:D6e,PostgrestBuilder:M6e,PostgrestError:I6e}=Gce;class Yce{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Qce="2.15.5",Xce=`realtime-js/${Qce}`,Jce="1.0.0",_2=1e4,Zce=1e3,eue=100;var Ep;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ep||(Ep={}));var Ar;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ar||(Ar={}));var ya;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ya||(ya={}));var P2;(function(e){e.websocket="websocket"})(P2||(P2={}));var du;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(du||(du={}));class tue{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+i));o=o+i;const c=s.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class qB{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tn||(Tn={}));const mI=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,o)=>(a[o]=nue(o,e,t,i),a),{})},nue=(e,t,n,s)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!s.includes(a)?WB(a,o):A2(o)},WB=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return aue(t,n)}switch(e){case Tn.bool:return rue(t);case Tn.float4:case Tn.float8:case Tn.int2:case Tn.int4:case Tn.int8:case Tn.numeric:case Tn.oid:return sue(t);case Tn.json:case Tn.jsonb:return iue(t);case Tn.timestamp:return oue(t);case Tn.abstime:case Tn.date:case Tn.daterange:case Tn.int4range:case Tn.int8range:case Tn.money:case Tn.reltime:case Tn.text:case Tn.time:case Tn.timestamptz:case Tn.timetz:case Tn.tsrange:case Tn.tstzrange:return A2(t);default:return A2(t)}},A2=e=>e,rue=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},sue=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},iue=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},aue=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>WB(t,l))}return e},oue=e=>typeof e=="string"?e.replace(" ","T"):e,HB=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class lS{constructor(t,n,s={},i=_2){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pI||(pI={}));class kp{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kp.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=kp.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kp.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const m=d.map(y=>y.presence_ref),g=f.map(y=>y.presence_ref),x=d.filter(y=>g.indexOf(y.presence_ref)<0),v=f.filter(y=>m.indexOf(y.presence_ref)<0);x.length>0&&(l[u]=x),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},s,i)}static syncDiff(t,n,s,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),m=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...m)}s(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gI||(gI={}));var Tp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Tp||(Tp={}));var Lo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Lo||(Lo={}));class iE{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lS(this,ya.join,this.params,this.timeout),this.rejoinTimer=new qB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ar.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ya.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new kp(this),this.broadcastEndpointURL=HB(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ar.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Tp.PRESENCE]&&this.bindings[Tp.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Lo.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Lo.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){t==null||t(Lo.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,N=[];for(let j=0;j<y;j++){const b=v[j],{filter:{event:_,schema:C,table:A,filter:P}}=b,E=g&&g[j];if(E&&E.event===_&&E.schema===C&&E.table===A&&E.filter===P)N.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=Ar.errored,t==null||t(Lo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Lo.SUBSCRIBED);return}}).receive("error",g=>{this.state=Ar.errored,t==null||t(Lo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Lo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===Ar.joined&&t===Tp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ar.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ya.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new lS(this,ya.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ar.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new lS(this,t,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>eue){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ya;if(s&&[l,c,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,n,s);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var x,v,y;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(v=g.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(g=>g.callback(m,s)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var x,v,y,N,j,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const _=g.id,C=(x=g.filter)===null||x===void 0?void 0:x.event;return _&&((v=n.ids)===null||v===void 0?void 0:v.includes(_))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(j=(N=g==null?void 0:g.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return _==="*"||_===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:v,table:y,commit_timestamp:N,type:j,errors:b}=x;m=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:N,eventType:j,new:{},old:{},errors:b}),this._getPayloadRecords(x))}g.callback(m,s)})}_isClosed(){return this.state===Ar.closed}_isJoined(){return this.state===Ar.joined}_isJoining(){return this.state===Ar.joining}_isLeaving(){return this.state===Ar.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&iE.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ya.close,{},t)}_onError(t){this._on(ya.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ar.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=mI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=mI(t.columns,t.old_record)),n}}const cS=()=>{},ty={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lue=[1e3,2e3,5e3,1e4],cue=1e4,uue=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class due{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_2,this.transport=null,this.heartbeatIntervalMs=ty.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cS,this.ref=0,this.reconnectTimer=null,this.logger=cS,this.conn=null,this.sendBuffer=[],this.serializer=new tue,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>gv(async()=>{const{default:l}=await Promise.resolve().then(()=>Qf);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${P2.websocket}`,this.httpEndpoint=HB(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Yce.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jce}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ep.connecting:return du.Connecting;case Ep.open:return du.Open;case Ep.closing:return du.Closing;default:return du.Closed}}isConnected(){return this.connectionState()===du.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new iE(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Zce,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ty.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${s} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ya.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([uue],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:Xce};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ya.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new qB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ty.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,i,a,o,l,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:_2,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ty.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:cS,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>lue[f-1]||cue,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class aE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Er(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class hue extends aE{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class E2 extends aE{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var fue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const GB=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gv(async()=>{const{default:s}=await Promise.resolve().then(()=>Qf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},mue=()=>fue(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gv(()=>Promise.resolve().then(()=>Qf),void 0)).Response:Response}),k2=e=>{if(Array.isArray(e))return e.map(n=>k2(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=k2(s)}),t},pue=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var hd=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const uS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gue=(e,t,n)=>hd(void 0,void 0,void 0,function*(){const s=yield mue();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new hue(uS(i),a,o))}).catch(i=>{t(new E2(uS(i),i))}):t(new E2(uS(e),e))}),vue=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?i:(pue(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(s)):i.body=s,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function xv(e,t,n,s,i,a){return hd(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,vue(t,s,i,a)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>gue(c,l,s))})})}function T0(e,t,n,s){return hd(this,void 0,void 0,function*(){return xv(e,"GET",t,n,s)})}function Ya(e,t,n,s,i){return hd(this,void 0,void 0,function*(){return xv(e,"POST",t,s,i,n)})}function T2(e,t,n,s,i){return hd(this,void 0,void 0,function*(){return xv(e,"PUT",t,s,i,n)})}function xue(e,t,n,s){return hd(this,void 0,void 0,function*(){return xv(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function KB(e,t,n,s,i){return hd(this,void 0,void 0,function*(){return xv(e,"DELETE",t,s,i,n)})}var Ns=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const yue={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jue{constructor(t,n={},s,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=s,this.fetch=GB(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,s,i){return Ns(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},vI),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?T2:Ya)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Er(a))return{data:null,error:a};throw a}})}upload(t,n,s){return Ns(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return Ns(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:vI.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield T2(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Er(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Ns(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Ya(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new aE("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}update(t,n,s){return Ns(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Ns(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}copy(t,n,s){return Ns(this,void 0,void 0,function*(){try{return{data:{path:(yield Ya(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return Ns(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ya(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return Ns(this,void 0,void 0,function*(){try{const i=yield Ya(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}download(t,n){return Ns(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield T0(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Er(l))return{data:null,error:l};throw l}})}info(t){return Ns(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield T0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:k2(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}exists(t){return Ns(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield xue(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s)&&s instanceof E2){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(t){return Ns(this,void 0,void 0,function*(){try{return{data:yield KB(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}list(t,n,s){return Ns(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},yue),n),{prefix:t||""});return{data:yield Ya(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ns(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield Ya(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const bue="2.12.1",wue={"X-Client-Info":`storage-js/${bue}`};var zd=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class Nue{constructor(t,n={},s,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},wue),n),this.fetch=GB(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return zd(this,void 0,void 0,function*(){try{return{data:yield T0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Er(t))return{data:null,error:t};throw t}})}getBucket(t){return zd(this,void 0,void 0,function*(){try{return{data:yield T0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return zd(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return zd(this,void 0,void 0,function*(){try{return{data:yield T2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}emptyBucket(t){return zd(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}deleteBucket(t){return zd(this,void 0,void 0,function*(){try{return{data:yield KB(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}}class Sue extends Nue{constructor(t,n={},s,i){super(t,n,s,i)}from(t){return new jue(this.url,this.headers,t,this.fetch)}}const Cue="2.57.4";let pp="";typeof Deno<"u"?pp="deno":typeof document<"u"?pp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pp="react-native":pp="node";const _ue={"X-Client-Info":`supabase-js-${pp}/${Cue}`},Pue={headers:_ue},Aue={schema:"public"},Eue={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kue={};var Tue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const Oue=e=>{let t;return e?t=e:typeof fetch>"u"?t=DB:t=fetch,(...n)=>t(...n)},Due=()=>typeof Headers>"u"?MB:Headers,Mue=(e,t,n)=>{const s=Oue(n),i=Due();return(a,o)=>Tue(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(a,Object.assign(Object.assign({},o),{headers:u}))})};var Iue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};function $ue(e){return e.endsWith("/")?e:e+"/"}function Rue(e,t){var n,s;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Iue(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function Lue(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($ue(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const YB="2.71.1",Jd=30*1e3,O2=3,dS=O2*Jd,Fue="http://localhost:9999",Bue="supabase.auth.token",zue={"X-Client-Info":`gotrue-js/${YB}`},D2="X-Supabase-Api-Version",QB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vue=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Uue=10*60*1e3;class oE extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function $t(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class que extends oE{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Wue(e){return $t(e)&&e.name==="AuthApiError"}class XB extends oE{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Mc extends oE{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class Rl extends Mc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hue(e){return $t(e)&&e.name==="AuthSessionMissingError"}class ny extends Mc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ry extends Mc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class sy extends Mc{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gue(e){return $t(e)&&e.name==="AuthImplicitGrantRedirectError"}class xI extends Mc{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class M2 extends Mc{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function hS(e){return $t(e)&&e.name==="AuthRetryableFetchError"}class yI extends Mc{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class I2 extends Mc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const O0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jI=` 	
\r=`.split(""),Kue=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jI.length;t+=1)e[jI[t].charCodeAt(0)]=-2;for(let t=0;t<O0.length;t+=1)e[O0[t].charCodeAt(0)]=t;return e})();function bI(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(O0[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(O0[s]),t.queuedBits-=6}}function JB(e,t,n){const s=Kue[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wI(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Xue(o,s,n)};for(let o=0;o<e.length;o+=1)JB(e.charCodeAt(o),i,a);return t.join("")}function Yue(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Que(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Yue(s,t)}}function Xue(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Jue(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)JB(e.charCodeAt(i),n,s);return new Uint8Array(t)}function Zue(e){const t=[];return Que(e,n=>t.push(n)),new Uint8Array(t)}function ede(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>bI(i,n,s)),bI(null,n,s),t.join("")}function tde(e){return Math.round(Date.now()/1e3)+e}function nde(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const fa=()=>typeof window<"u"&&typeof document<"u",Zc={tested:!1,writable:!1},ZB=()=>{if(!fa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zc.tested)return Zc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zc.tested=!0,Zc.writable=!0}catch{Zc.tested=!0,Zc.writable=!1}return Zc.writable};function rde(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const ez=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gv(async()=>{const{default:s}=await Promise.resolve().then(()=>Qf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},sde=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},eu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Dl=async(e,t)=>{await e.removeItem(t)};class Ob{constructor(){this.promise=new Ob.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ob.promiseConstructor=Promise;function fS(e){const t=e.split(".");if(t.length!==3)throw new I2("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Vue.test(t[s]))throw new I2("JWT not in base64url format");return{header:JSON.parse(wI(t[0])),payload:JSON.parse(wI(t[1])),signature:Jue(t[2]),raw:{header:t[0],payload:t[1]}}}async function ide(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ade(e,t){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){s(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function ode(e){return("0"+e.toString(16)).substr(-2)}function lde(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,ode).join("")}async function cde(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function ude(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await cde(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vd(e,t,n=!1){const s=lde();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Zd(e,`${t}-code-verifier`,i);const a=await ude(s);return[a,s===a?"plain":"s256"]}const dde=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hde(e){const t=e.headers.get(D2);if(!t||!t.match(dde))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function fde(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function mde(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pde=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ud(e){if(!pde.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mS(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function NI(e){return JSON.parse(JSON.stringify(e))}var gde=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const au=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vde=[502,503,504];async function SI(e){var t;if(!sde(e))throw new M2(au(e),0);if(vde.includes(e.status))throw new M2(au(e),e.status);let n;try{n=await e.json()}catch(a){throw new XB(au(a),a)}let s;const i=hde(e);if(i&&i.getTime()>=QB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new yI(au(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Rl}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new yI(au(n),e.status,n.weak_password.reasons);throw new que(au(n),e.status||500,s)}const xde=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function Kt(e,t,n,s){var i;const a=Object.assign({},s==null?void 0:s.headers);a[D2]||(a[D2]=QB["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await yde(e,t,n+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function yde(e,t,n,s,i,a){const o=xde(t,s,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new M2(au(c),0)}if(l.ok||await SI(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await SI(c)}}function $o(e){var t;let n=null;Nde(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=tde(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function CI(e){const t=$o(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ql(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function jde(e){return{data:e,error:null}}function bde(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=e,o=gde(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function wde(e){return e}function Nde(e){return e.access_token&&e.refresh_token&&e.expires_in}const pS=["global","local","others"];var Sde=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};class Cde{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=ez(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=pS[0]){if(pS.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pS.join(", ")}`);try{return await Kt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Kt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ql})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=Sde(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await Kt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bde,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($t(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Kt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ql})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Kt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:wde});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($t(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ud(t);try{return await Kt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ql})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ud(t);try{return await Kt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ql})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Ud(t);try{return await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ql})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ud(t.userId);try{const{data:n,error:s}=await Kt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if($t(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ud(t.userId),Ud(t.id);try{return{data:await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}}function _I(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function _de(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qd={debug:!!(globalThis&&ZB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tz extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Pde extends tz{}async function Ade(e,t,n){qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),qd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Pde(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qd.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}_de();const Ede={url:Fue,storageKey:Bue,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zue,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function PI(e,t,n){return await n()}const Wd={};class dg{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=dg.nextInstanceID,dg.nextInstanceID+=1,this.instanceID>0&&fa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Ede),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Cde({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ez(i.fetch),this.lock=i.lock||PI,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:fa()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ade:this.lock=PI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ZB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_I(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=_I(this.memoryStorage)),fa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Wd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Wd[this.storageKey]=Object.assign(Object.assign({},Wd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Wd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wd[this.storageKey]=Object.assign(Object.assign({},Wd[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${YB}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=rde(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),fa()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Gue(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $t(n)?{error:n}:{error:new XB("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const a=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:$o}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,s,i;try{let a;if("email"in t){const{email:d,password:f,options:m}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Vd(this.storage,this.storageKey)),a=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},xform:$o})}else if("phone"in t){const{phone:d,password:f,options:m}=t;a=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:$o})}else throw new ry("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:CI})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:CI})}else throw new ry("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ny}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,i,a,o,l,c,u,d,f,m,g;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:y,wallet:N,statement:j,options:b}=t;let _;if(fa())if(typeof N=="object")_=N;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))_=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=N}const C=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const A=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),j?{statement:j}:null));let P;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")P=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)P=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)x=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),v=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${C.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(s=b==null?void 0:b.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const A=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=A}}try{const{data:y,error:N}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ede(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:$o});if(N)throw N;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ny}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:N})}catch(y){if($t(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await eu(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:a,error:o}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:$o});if(await Dl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ny}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if($t(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:a,nonce:o}=t,l=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$o}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ny}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Vd(this.storage,this.storageKey));const{error:f}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ry("You must provide either an email or phone number.")}catch(l){if($t(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await Kt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:$o});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if($t(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Vd(this.storage,this.storageKey)),await Kt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:jde})}catch(a){if($t(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Rl;const{error:i}=await Kt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if($t(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:a}=t,{error:o}=await Kt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:i,options:a}=t,{data:o,error:l}=await Kt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ry("You must provide either an email or phone number and a type")}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await eu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<dS:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await eu(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=mS()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ql}):await this._useSession(async n=>{var s,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rl}:await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ql})})}catch(n){if($t(n))return Hue(n)&&(await this._removeSession(),await Dl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new Rl;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Vd(this.storage,this.storageKey));const{data:u,error:d}=await Kt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ql});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rl;const n=Date.now()/1e3;let s=n,i=!0,a=null;const{payload:o}=fS(t.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if($t(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Rl;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!fa())throw new sy("No browser detected.");if(t.error||t.error_description||t.error_code)throw new sy(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sy("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xI("No code detected.");const{data:j,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new sy("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const g=m-d;g*1e3<=Jd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const x=m-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:v,error:y}=await this._getUser(a);if(y)throw y;const N={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(s){if($t(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await eu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{error:a};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Wue(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Dl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=nde(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Vd(this.storage,this.storageKey,!0));try{return await Kt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if($t(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:m}=a;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Kt(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return fa()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if($t(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)throw o;return await Kt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if($t(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await ade(async i=>(i>0&&await ide(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Kt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$o})),(i,a)=>{const o=200*Math.pow(2,i);return a&&hS(a)&&Date.now()+o-s<Jd})}catch(s){if(this._debug(n,"error",s),$t(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),fa()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await eu(this.storage,this.storageKey);if(i&&this.userStorage){let o=await eu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Zd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:mS()}else if(i&&!i.user&&!i.user){const o=await eu(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Dl(this.storage,this.storageKey+"-user"),await Zd(this.storage,this.storageKey,i)):i.user=mS()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<dS;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${dS}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),hS(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Rl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ob;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Rl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),$t(a)){const o={session:null,error:a};return hS(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Zd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=NI(i);await Zd(this.storage,this.storageKey,a)}else{const i=NI(n);await Zd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Dl(this.storage,this.storageKey),await Dl(this.storage,this.storageKey+"-code-verifier"),await Dl(this.storage,this.storageKey+"-user"),this.userStorage&&await Dl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Jd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Jd}ms, refresh threshold is ${O2} ticks`),i<=O2&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tz)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,o]=await Vd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Kt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if($t(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Kt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if($t(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await Kt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if($t(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Kt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if($t(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],i=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=fS(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+Uue>i)return s;const{data:a,error:o}=await Kt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,s=a.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};s=g.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=fS(s);n!=null&&n.allowExpired||fde(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:a,header:i,signature:o},error:null}}const d=mde(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Zue(`${l}.${c}`)))throw new I2("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}}}dg.nextInstanceID=0;const kde=dg;class Tde extends kde{constructor(t){super(t)}}var Ode=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class Dde{constructor(t,n,s){var i,a,o;this.supabaseUrl=t,this.supabaseKey=n;const l=Lue(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Aue,realtime:kue,auth:Object.assign(Object.assign({},Eue),{storageKey:c}),global:Pue},d=Rue(s??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Mue(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Kce(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Sue(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new _ce(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Ode(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tde({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new due(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Mde=(e,t,n)=>new Dde(e,t,n);function Ide(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Ide()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nz="https://fqmeqckchbppabetefuk.supabase.co",$de="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxbWVxY2tjaGJwcGFiZXRlZnVrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY2NzUzODYsImV4cCI6MjA3MjI1MTM4Nn0.MkyVvQVmqUXShrHXHTpHib0Dyq39ZB47KhGZZgBlF-o",rn=Mde(nz,$de,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),rz=async()=>{const{data:{user:e},error:t}=await rn.auth.getUser();if(t)throw t;return e},Db=async()=>{const e=await rz();if(!e)return null;const{data:t,error:n}=await rn.from("user_profiles").select("*").eq("id",e.id).single();if(n)throw n;return t},Rde=async(e,t,n,s,i="assistant")=>{const{data:a,error:o}=await rn.auth.signUp({email:e,password:t,options:{data:{username:n,full_name:s,role:i}}});if(o)throw o;return a},Lde=async()=>{const{error:e}=await rn.auth.signOut();if(e)throw e;try{localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("sb-"+nz.split("//")[1].split(".")[0]+"-auth-token"),document.cookie.split(";").forEach(t=>{document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")})}catch(t){console.warn("Error clearing auth storage:",t)}},Fde=async e=>{const t=await rz();if(!t)throw new Error("No authenticated user");const{data:n,error:s}=await rn.from("user_profiles").select("*").eq("id",t.id).single();n||await sz(t);const i=Object.entries({...e,updated_at:new Date().toISOString()}).reduce((l,[c,u])=>(u!=null&&u!==""&&(l[c]=u),l),{}),{data:a,error:o}=await rn.from("user_profiles").update(i).eq("id",t.id).select().single();if(o){const l=t.user_metadata||{},c=l.full_name||l.name||"",u=(n==null?void 0:n.username)||l.username||t.email.split("@")[0],d=(n==null?void 0:n.role)||l.role||"assistant",f={id:t.id,email:t.email,username:u,full_name:c,role:d,...i},{data:m,error:g}=await rn.from("user_profiles").upsert(f).select().single();if(g)throw new Error(`Profile update failed: ${g.message}`);return m}return a},sz=async e=>{const t=await Db();if(t)return t;const n=e.user_metadata||{},s=n.full_name||n.name||"",i=n.username||e.email.split("@")[0],a=n.role||"assistant",{data:o,error:l}=await rn.from("user_profiles").insert({id:e.id,email:e.email,username:i,full_name:s,role:a}).select().single();if(l)throw l;return o},Bde=async e=>{const{data:t,error:n}=await rn.auth.resetPasswordForEmail(e,{redirectTo:"http://localhost:8000/dashboard/reset-password"});if(n)throw n;return t},Ca={all:["auth"],session:()=>[...Ca.all,"session"]},zde=async()=>{try{const{data:{session:e},error:t}=await rn.auth.getSession();if(t||!(e!=null&&e.user))return null;let n=null;try{n=await Db()}catch{try{n=await sz(e.user)}catch(i){console.error("Failed to create user profile:",i);const a=e.user.user_metadata||{},o=a.full_name||a.name||"",l=a.username||e.user.email.split("@")[0];n={id:e.user.id,email:e.user.email,username:l,full_name:o,role:"assistant",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),avatar_url:a.avatar_url||a.picture||null}}}return n?{id:e.user.id,email:e.user.email,profile:n}:null}catch{return null}},Vde=()=>kc({queryKey:Ca.session(),queryFn:zde,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:"always",refetchOnReconnect:!1,networkMode:"offlineFirst"}),Ude=()=>{const e=ti();return Pi({mutationFn:async({email:t,password:n})=>{const{data:s,error:i}=await rn.auth.signInWithPassword({email:t,password:n});if(i){const o={"Invalid login credentials":"Email ou mot de passe incorrect","Email not confirmed":"Veuillez confirmer votre email avant de vous connecter","Too many requests":"Trop de tentatives de connexion. Veuillez réessayer plus tard"}[i.message]||i.message;throw new Error(o)}if(!s.user||!s.session)throw new Error("Échec de connexion - session invalide");return s.user},onSuccess:async()=>{await new Promise(t=>setTimeout(t,100)),e.refetchQueries({queryKey:Ca.session()})},onError:()=>{e.setQueryData(Ca.session(),null)}})},qde=()=>{const e=ti();return Pi({mutationFn:async()=>{await Lde()},onSuccess:()=>{e.setQueryData(Ca.session(),null),e.removeQueries({queryKey:Ca.session()})}})},Wde=()=>{const e=ti();return Pi({mutationFn:async()=>{const t=await Db();if(!t)throw new Error("Could not refresh profile");return t},onSuccess:()=>{e.invalidateQueries({queryKey:Ca.session()})}})},Hde=()=>Pi({mutationFn:async()=>{const{data:e,error:t}=await rn.auth.signInWithOAuth({provider:"google",options:{redirectTo:"http://localhost:8000/dashboard"}});if(t)throw t;return e}}),Gde=()=>Pi({mutationFn:async e=>{await Bde(e)}}),iz=w.createContext(void 0);function Kde({children:e}){const{data:t,isLoading:n,error:s}=Vde(),i=Ude(),a=qde(),o=Wde(),l=ti(),[c,u]=w.useState(!1),d=w.useRef(!1);w.useEffect(()=>{if(d.current)return;d.current=!0;const{data:{subscription:N}}=rn.auth.onAuthStateChange((b,_)=>{b==="SIGNED_OUT"?(l.setQueryData(Ca.session(),null),l.removeQueries({queryKey:Ca.session()})):b==="TOKEN_REFRESHED"&&_&&l.invalidateQueries({queryKey:Ca.session()}),c||u(!0)}),j=setTimeout(()=>{c||u(!0)},2e3);return()=>{N.unsubscribe(),clearTimeout(j),d.current=!1}},[l,c]);const f=async(N,j)=>{try{return await i.mutateAsync({email:N,password:j}),!0}catch(b){return console.error("Login error:",b),!1}},m=async()=>{try{await a.mutateAsync()}catch(N){console.error("Logout error:",N),l.setQueryData(Ca.session(),null)}},g=async()=>{await o.mutateAsync()},x=!c||n&&!s&&t===void 0,v=i.isPending||a.isPending,y={user:t||null,isAuthenticated:!!t&&c,isLoading:x||v,login:f,logout:m,refreshProfile:g};return r.jsx(iz.Provider,{value:y,children:e})}function Ic(){const e=w.useContext(iz);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function AI(){const{user:e,logout:t}=Ic(),{toast:n}=Rt(),s=Yf(),[i,a]=w.useState(!1),o=async()=>{a(!0),await new Promise(d=>setTimeout(d,500)),t(),n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."}),a(!1)};if(!e)return null;const l=d=>d?d.split(" ").map(f=>f.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),c=d=>{switch(d){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},u=d=>{switch(d){case"admin":return r.jsx(ji,{className:"h-3 w-3"});case"assistant":return r.jsx(Hr,{className:"h-3 w-3"});default:return r.jsx(Hr,{className:"h-3 w-3"})}};return r.jsxs(ece,{children:[r.jsx(tce,{asChild:!0,children:r.jsx(V,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:r.jsx(Gr,{className:"h-8 w-8",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-sm",children:l(e.profile.full_name)})})})}),r.jsxs(jB,{className:"w-56",align:"end",forceMount:!0,children:[r.jsx(bB,{className:"font-normal",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("p",{className:"text-sm font-medium leading-none",children:e.profile.full_name||e.profile.username}),r.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email}),r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u(e.profile.role),r.jsx("span",{className:"text-xs text-muted-foreground",children:c(e.profile.role)})]})]})}),r.jsx(S2,{}),r.jsxs(Gy,{className:"cursor-pointer",onClick:()=>s("/profile"),children:[r.jsx(Hr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Profil"})]}),r.jsxs(Gy,{className:"cursor-pointer",onClick:()=>s("/auth-settings"),children:[r.jsx(Jte,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Paramètres de connexion"})]}),r.jsx(S2,{}),r.jsxs(Gy,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:o,disabled:i,children:[r.jsx(t6,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:i?"Déconnexion...":"Se déconnecter"})]})]})]})}const az=[{icon:Yte,label:"Dashboard",path:"/dashboard"},{icon:Da,label:"Clients",path:"/clients"},{icon:qt,label:"Animaux",path:"/pets"},{icon:Pt,label:"RDV",path:"/appointments"},{icon:ur,label:"Consultations",path:"/consultations"},{icon:As,label:"Vaccinations",path:"/vaccinations"},{icon:rc,label:"Antiparasites",path:"/antiparasites"},{icon:e6,label:"Historiques",path:"/history"},{icon:KC,label:"Farm Mgmt",path:"/farm"}],oz=[{icon:Gn,label:"Stock",path:"/stock"},{icon:Z5,label:"Comptabilité",path:"/accounting"},{icon:Wte,label:"Paramètres",path:"/settings"}],Yde=[...az,...oz];function us(){const e=Dc(),[t,n]=w.useState(!1);return r.jsx("nav",{className:"bg-card border-b shadow-card",children:r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[r.jsxs(Na,{to:"/dashboard",className:"flex items-center gap-1 sm:gap-2",children:[r.jsx(qt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-primary"}),r.jsx("h1",{className:"text-lg sm:text-xl font-bold gradient-primary bg-clip-text text-transparent hidden sm:block",children:"VetPro CRM"}),r.jsx("h1",{className:"text-base sm:text-lg font-bold gradient-primary bg-clip-text text-transparent sm:hidden",children:"VetPro"})]}),r.jsx("div",{className:"hidden sm:block",children:r.jsx(JM,{})})]}),r.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[az.map(s=>r.jsx(V,{variant:e.pathname===s.path?"default":"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",asChild:!0,children:r.jsxs(Na,{to:s.path,children:[r.jsx(s.icon,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden xl:inline",children:s.label})]})},s.path)),r.jsxs("div",{className:"relative group",children:[r.jsxs(V,{variant:"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",children:[r.jsx(gM,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden xl:inline",children:"Plus"})]}),r.jsx("div",{className:"absolute right-0 top-full mt-1 w-40 bg-card border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:r.jsx("div",{className:"py-1",children:oz.map(s=>r.jsxs(Na,{to:s.path,className:`flex items-center gap-2 px-4 py-2 text-sm transition-colors hover:bg-muted ${e.pathname===s.path?"bg-primary text-primary-foreground":""}`,children:[r.jsx(s.icon,{className:"h-4 w-4"}),s.label]},s.path))})})]})]}),r.jsx("div",{className:"hidden lg:flex items-center gap-2",children:r.jsx(AI,{})}),r.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[r.jsx("div",{className:"sm:hidden",children:r.jsx(JM,{})}),r.jsx(AI,{}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>n(!t),className:"gap-1 p-2",children:t?r.jsx(db,{className:"h-4 w-4"}):r.jsx(gM,{className:"h-4 w-4"})})]})]}),t&&r.jsx("div",{className:"lg:hidden mt-2 pt-2 border-t",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1",children:Yde.map(s=>r.jsx(V,{variant:e.pathname===s.path?"default":"ghost",size:"sm",className:"gap-2 justify-start text-xs sm:text-sm",asChild:!0,onClick:()=>n(!1),children:r.jsxs(Na,{to:s.path,children:[r.jsx(s.icon,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"truncate",children:s.label})]})},s.path))})})]})})}class Qde extends w.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n})}render(){var t,n;return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-8",children:r.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-lg shadow-lg border border-red-200",children:[r.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-4",children:"🚨 Erreur dans l'application"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Erreur :"}),r.jsx("pre",{className:"bg-red-100 p-4 rounded text-sm text-red-800 overflow-auto",children:(t=this.state.error)==null?void 0:t.toString()})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Stack Trace :"}),r.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm text-gray-800 overflow-auto max-h-64",children:(n=this.state.errorInfo)==null?void 0:n.componentStack})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Recharger la page"}),r.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Retour"})]})]})]})}):this.props.children}}const lz=w.createContext(void 0),EI=[{id:1,name:"Marie Dubois",firstName:"Marie",lastName:"Dubois",email:"marie.dubois@email.com",phone:"06 12 34 56 78",address:"123 Rue de la Paix",city:"Paris",postalCode:"75001",idNumber:"1234567890123",pets:[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",gender:"female",birthDate:"2021-03-15",weight:"28 kg",color:"Doré",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:4,name:"Luna",type:"Chat",breed:"Siamois",gender:"female",birthDate:"2022-05-12",weight:"3.8 kg",color:"Crème et marron",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-08",nextAppointment:"2024-02-08",microchip:"982000111222333",vaccinations:["Rage","FVRCP","FeLV"]}],lastVisit:"2024-01-15",totalVisits:12},{id:2,name:"Jean Martin",firstName:"Jean",lastName:"Martin",email:"jean.martin@email.com",phone:"06 98 76 54 32",address:"45 Avenue des Roses",city:"Lyon",postalCode:"69000",idNumber:"9876543210987",pets:[{id:2,name:"Whiskers",type:"Chat",breed:"Persan",gender:"male",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]}],lastVisit:"2024-01-10",totalVisits:8},{id:3,name:"Sophie Leroux",firstName:"Sophie",lastName:"Leroux",email:"sophie.leroux@email.com",phone:"06 45 67 89 12",address:"78 Boulevard Maritime",city:"Marseille",postalCode:"13000",idNumber:"4567891234567",pets:[{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",gender:"male",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]},{id:5,name:"Max",type:"Chien",breed:"Labrador",gender:"male",birthDate:"2020-09-03",weight:"30 kg",color:"Noir",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-22",nextAppointment:"2024-02-22",microchip:"982000444555666",vaccinations:["Rage","DHPP","Lyme","Bordetella"]}],lastVisit:"2024-01-18",totalVisits:15}],Km=[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",birthDate:"2021-03-15",weight:"28 kg",color:"Doré",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:2,name:"Whiskers",type:"Chat",breed:"Persan",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]},{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]}],iy=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",weight:"28.2 kg",temperature:"38.5",symptoms:"Contrôle annuel, bonne santé générale",diagnosis:"Aucun problème détecté",treatment:"Vaccination annuelle",medications:"Rappel vaccin DHPP",followUp:"Contrôle dans 1 an",cost:"85.00",notes:"Animal en excellente santé",photos:[],createdAt:"2024-01-15T10:30:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",weight:"4.3 kg",temperature:"39.2",symptoms:"Perte d'appétit, léthargie",diagnosis:"Infection urinaire",treatment:"Antibiotiques",medications:"Amoxicilline 50mg 2x/jour pendant 7 jours",followUp:"Contrôle dans 1 semaine",cost:"120.00",notes:"Surveiller la consommation d'eau",photos:[],createdAt:"2024-01-10T14:15:00Z"}],ay=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-25",time:"14:30",type:"vaccination",duration:30,reason:"Vaccination annuelle",notes:"Rappel vaccinal complet",status:"scheduled",reminderSent:!1,createdAt:"2024-01-20T09:00:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-22",time:"10:00",type:"controle",duration:45,reason:"Contrôle post-traitement",notes:"Vérifier l'amélioration de l'appétit",status:"confirmed",reminderSent:!0,createdAt:"2024-01-18T16:30:00Z"},{id:3,clientId:3,clientName:"Sophie Leroux",petId:3,petName:"Rex",date:"2024-01-26",time:"16:00",type:"sterilisation",duration:60,reason:"Stérilisation",notes:"Jeûne 12h avant l'intervention",status:"scheduled",reminderSent:!1,createdAt:"2024-01-19T11:15:00Z"}],oy=[{id:1,consultationId:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",prescribedBy:"Dr. Martin",diagnosis:"Trachéobronchite",medications:[{id:1,name:"Doxycycline",dosage:"100mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprimés",refills:0,cost:25.5},{id:2,name:"Sirop antitussif",dosage:"5ml",frequency:"3x/jour",duration:"5 jours",instructions:"Donner 30 minutes avant les repas",quantity:75,unit:"ml",refills:1,cost:15}],instructions:"Surveiller la température et l'appétit. Retour en cas d'aggravation.",duration:"7 jours",followUpDate:"2024-01-22",status:"active",notes:"Patient calme, bon appétit maintenu",createdAt:"2024-01-15T10:30:00Z"},{id:2,consultationId:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",prescribedBy:"Dr. Martin",diagnosis:"Infection urinaire",medications:[{id:3,name:"Amoxicilline",dosage:"50mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprimés",refills:0,cost:18}],instructions:"Augmenter la consommation d'eau. Surveiller les urines.",duration:"7 jours",followUpDate:"2024-01-17",status:"completed",notes:"Amélioration progressive",createdAt:"2024-01-10T14:15:00Z"}],ly=[{id:1,name:"Ferme des Prairies",owner:"Pierre Durand",address:"123 Route de la Campagne, 45000 Orléans",coordinates:{latitude:47.9056,longitude:1.919},phone:"02 38 45 67 89",email:"p.durand@fermedespra.fr",types:["Bovin laitier"],totalAnimals:85,animalDetails:[{category:"Bovins laitiers",maleCount:3,femaleCount:82,breeds:["Holstein","Prim'Holstein"],ageGroups:["Veaux (0-6 mois)","Génisses (6-24 mois)","Vaches adultes"]}],lastVisit:"2024-01-15",status:"active",veterinarian:"Dr. Dupont",notes:"Exploitation bien gérée, animaux en bonne santé",registrationNumber:"FR45123456789",surfaceArea:45.5,buildingDetails:"Étable moderne 850m², stabulation libre, salle de traite 2x8",equipmentDetails:"Tracteur John Deere, Tank à lait 2000L, Système de ventilation automatique",certifications:["Agriculture Biologique","Haute Valeur Environnementale"],insuranceDetails:"Groupama - Police n°123456789",emergencyContact:{name:"Marie Durand",phone:"06 12 34 56 78",relation:"Épouse"},photos:[{id:"photo_1",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBDaGVwdGVsPC90ZXh0Pgo8L3N2Zz4K",description:"Vaches Holstein dans le pré",category:"cheptel",uploadedAt:"2024-01-15T10:00:00Z"},{id:"photo_2",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBCw6J0aW1lbnRzPC90ZXh0Pgo8L3N2Zz4K",description:"Étable moderne avec salle de traite",category:"batiments",uploadedAt:"2024-01-15T10:00:00Z"}],createdAt:"2024-01-01T09:00:00Z"},{id:2,name:"Élevage Martin",owner:"Jean-Luc Martin",address:"456 Chemin des Champs, 41000 Blois",coordinates:{latitude:47.5886,longitude:1.334},phone:"02 54 78 90 12",email:"jl.martin@elevagemartin.fr",types:["Porcin"],totalAnimals:150,animalDetails:[{category:"Porcs",maleCount:75,femaleCount:75,breeds:["Large White","Landrace"],ageGroups:["Porcelets (0-2 mois)","Porcs en croissance (2-6 mois)"]}],lastVisit:"2024-01-10",status:"active",veterinarian:"Dr. Martin",notes:"Nouveau système de ventilation installé",registrationNumber:"FR41987654321",surfaceArea:28.3,buildingDetails:"Porcherie 600m², nurserie 200m², système de ventilation automatique",equipmentDetails:"Système d'alimentation automatique, Pompe à lisier, Générateur de secours",certifications:["Label Rouge"],insuranceDetails:"Crédit Agricole Assurances - Police n°987654321",emergencyContact:{name:"Sophie Martin",phone:"06 98 76 54 32",relation:"Sœur"},createdAt:"2024-01-02T10:30:00Z"},{id:3,name:"Ferme Avicole Leroux",owner:"Marie Leroux",address:"789 Avenue des Volailles, 37000 Tours",coordinates:{latitude:47.3936,longitude:.6848},phone:"02 47 12 34 56",email:"m.leroux@avicole-leroux.fr",types:["Avicole"],totalAnimals:2500,animalDetails:[{category:"Poules pondeuses",maleCount:50,femaleCount:2e3,breeds:["ISA Brown","Lohmann Brown"],ageGroups:["Poussins (0-18 semaines)","Pondeuses (18+ semaines)"]},{category:"Poulets de chair",maleCount:225,femaleCount:225,breeds:["Cobb 500","Ross 308"],ageGroups:["0-6 semaines"]}],lastVisit:"2024-01-18",status:"attention",veterinarian:"Dr. Dupont",notes:"Problème de ventilation détecté, surveillance renforcée",registrationNumber:"FR37555666777",surfaceArea:12.8,buildingDetails:"Poulailler automatisé 1200m², aire de parcours 5000m²",equipmentDetails:"Système de ramassage automatique des œufs, Ventilation programmable, Éclairage LED",certifications:["Œufs de France","Bien-être animal"],insuranceDetails:"MMA - Police n°555666777",emergencyContact:{name:"Paul Leroux",phone:"06 47 12 34 56",relation:"Fils"},createdAt:"2024-01-03T14:15:00Z"},{id:4,name:"Ferme Équine du Val",owner:"Sophie Moreau",address:"12 Chemin des Écuries, 78000 Versailles",coordinates:{latitude:48.8044,longitude:2.1232},phone:"01 39 50 12 34",email:"s.moreau@fermeequine.fr",types:["Équin"],totalAnimals:25,animalDetails:[{category:"Chevaux",maleCount:8,femaleCount:17,breeds:["Pur-sang","Selle français","Arabe"],ageGroups:["Poulains (0-3 ans)","Jeunes chevaux (3-7 ans)","Chevaux adultes (7+ ans)"]}],lastVisit:"2024-01-20",status:"active",veterinarian:"Dr. Martin",notes:"Écurie de prestige, chevaux de compétition",registrationNumber:"FR78123456789",surfaceArea:15.2,buildingDetails:"Écuries 800m², manège couvert 1200m², carrière extérieure 2000m²",equipmentDetails:"Tracteur, Système d'arrosage automatique, Éclairage LED, Système de sécurité",certifications:["Bien-être animal","Équitation de tradition française"],insuranceDetails:"Allianz - Police n°781234567",emergencyContact:{name:"Marc Moreau",phone:"06 12 34 56 78",relation:"Époux"},createdAt:"2024-01-04T08:30:00Z"},{id:5,name:"Rucher des Fleurs",owner:"Jean Dupuis",address:"45 Route des Champs, 13000 Marseille",coordinates:{latitude:43.2965,longitude:5.3698},phone:"04 91 23 45 67",email:"j.dupuis@rucherdesfleurs.fr",types:["Apiculture"],totalAnimals:120,animalDetails:[{category:"Abeilles",maleCount:0,femaleCount:120,breeds:["Abeille noire","Buckfast"],ageGroups:["Reines (1-3 ans)","Ouvrières (6 semaines)","Faux-bourdons (3 mois)"]}],lastVisit:"2024-01-12",status:"active",veterinarian:"Dr. Dupont",notes:"Production de miel de qualité, apiculture biologique",registrationNumber:"FR13123456789",surfaceArea:8.5,buildingDetails:"Miellerie 200m², entrepôt 150m², zone de conditionnement 100m²",equipmentDetails:"Extracteur de miel, Centrifugeuse, Filtres, Matériel de conditionnement",certifications:["Agriculture Biologique","Miel de France"],insuranceDetails:"MAIF - Police n°131234567",emergencyContact:{name:"Marie Dupuis",phone:"06 91 23 45 67",relation:"Épouse"},createdAt:"2024-01-05T11:15:00Z"}],cy=[{id:1,date:"2024-01-20",farmId:1,farmName:"Ferme des Prairies",type:"vaccination",animals:"15 bovins",veterinarian:"Dr. Dupont",description:"Vaccination contre la fièvre aphteuse",status:"completed",followUp:"Contrôle dans 6 mois",cost:450,notes:"Intervention réussie, aucun effet secondaire",createdAt:"2024-01-20T08:00:00Z"},{id:2,date:"2024-01-18",farmId:3,farmName:"Ferme Avicole Leroux",type:"urgence",animals:"50 poules",veterinarian:"Dr. Dupont",description:"Traitement infection respiratoire",status:"ongoing",followUp:"Suivi hebdomadaire",cost:320,notes:"Traitement antibiotique en cours",createdAt:"2024-01-18T14:30:00Z"},{id:3,date:"2024-01-15",farmId:2,farmName:"Élevage Martin",type:"controle",animals:"Tous les porcins",veterinarian:"Dr. Martin",description:"Contrôle sanitaire trimestriel",status:"completed",followUp:"Prochain contrôle en avril",cost:280,notes:"Tous les paramètres dans les normes",createdAt:"2024-01-15T10:00:00Z"}],uy=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"DHPP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2025-01-15",batchNumber:"VAC2024-001",veterinarian:"Dr. Martin",notes:"Première vaccination annuelle",status:"completed",cost:"45.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-12-31",createdAt:"2024-01-15T10:30:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Rage",vaccineType:"rabies",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2027-01-15",batchNumber:"RAB2024-005",veterinarian:"Dr. Martin",notes:"Vaccination antirabique obligatoire",status:"completed",cost:"35.00",location:"right_shoulder",manufacturer:"Merial",expirationDate:"2026-08-15",createdAt:"2024-01-15T10:45:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:3,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",vaccineName:"FVRCP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2023-08-22",nextDueDate:"2024-08-22",batchNumber:"CAT2023-012",veterinarian:"Dr. Dupont",notes:"Vaccination de base pour chat",status:"overdue",cost:"40.00",location:"subcutaneous",manufacturer:"Virbac",expirationDate:"2025-06-30",createdAt:"2023-08-22T14:20:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:4,petId:3,petName:"Rex",clientId:3,clientName:"Sophie Leroux",vaccineName:"Bordetella",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-18",nextDueDate:"2025-01-18",batchNumber:"BOR2024-008",veterinarian:"Dr. Martin",notes:"Vaccination contre la toux de chenil",status:"completed",cost:"30.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-09-30",createdAt:"2024-01-18T16:15:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:5,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Lyme",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-25",nextDueDate:"2024-04-25",batchNumber:"LYM2024-003",veterinarian:"Dr. Martin",notes:"Vaccination contre la maladie de Lyme",status:"scheduled",cost:"50.00",location:"left_hip",manufacturer:"Boehringer Ingelheim",expirationDate:"2025-11-20",createdAt:"2024-01-25T09:00:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1}],Hd=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",productName:"Frontline Combo Spot-On",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",dateGiven:"2024-01-10",nextDueDate:"2024-02-10",dosage:"1 pipette",administrationRoute:"topical",veterinarian:"Dr. Martin",notes:"Application entre les omoplates",batchNumber:"FRC2024-001",manufacturer:"Boehringer Ingelheim",weight:"28kg",status:"completed",cost:"25.50",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",productName:"Milbemax Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cœur",dateGiven:"2024-01-05",nextDueDate:"2024-04-05",dosage:"1/2 comprimé",administrationRoute:"oral",veterinarian:"Dr. Dupont",notes:"Donné avec la nourriture",batchNumber:"MLX2024-008",manufacturer:"Novartis",weight:"4.5kg",status:"completed",cost:"18.00",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1}],Ym=[{id:1,name:"Frontline Combo Spot-On",species:"Chien",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",description:"Protection complète contre puces et tiques pendant 8 semaines",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"2-60kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!0,notes:"Éviter le bain 48h avant et après application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:2,name:"NexGard Spectra",species:"Chien",productType:"combined",targetParasites:"Puces, Tiques, Vers du cœur, Vers ronds, Vers plats",description:"Protection combinée externe et interne mensuelle",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Première dose"},{offsetDays:30,label:"Dose mensuelle"}],weightRange:"2-60kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!1,notes:"Donner avec la nourriture pour une meilleure absorption",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:3,name:"Drontal Plus",species:"Chien",productType:"worming",targetParasites:"Vers ronds, Vers plats, Ankylostomes, Trichures",description:"Vermifugation large spectre",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Première vermifugation"},{offsetDays:90,label:"Rappel trimestriel"},{offsetDays:180,label:"Rappel semestriel"}],weightRange:"2-35kg",ageRequirement:"Dès 2 semaines",seasonalTreatment:!1,notes:"Administrer le matin à jeun, répéter selon exposition aux parasites",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:4,name:"Advocate Spot-On",species:"Chien",productType:"combined",targetParasites:"Puces, Vers du cœur, Vers ronds, Ankylostomes, Gale sarcoptique",description:"Protection topique combinée mensuelle",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"1-40kg",ageRequirement:"Dès 7 semaines",seasonalTreatment:!1,notes:"Appliquer sur peau sèche entre les omoplates",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:5,name:"Frontline Combo Chat",species:"Chat",productType:"flea_tick",targetParasites:"Puces, Tiques",description:"Protection mensuelle contre puces et tiques chez le chat",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"1-8kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!0,notes:"Attention aux réactions cutanées, surveiller 24h après application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:6,name:"Stronghold Plus",species:"Chat",productType:"combined",targetParasites:"Puces, Vers du cœur, Vers ronds, Ankylostomes, Gale des oreilles",description:"Protection combinée mensuelle pour chats",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"0.5-8kg",ageRequirement:"Dès 6 semaines",seasonalTreatment:!1,notes:"Efficace contre gale des oreilles en 1 application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:7,name:"Milbemax Chat",species:"Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cœur",description:"Vermifugation complète pour chats",manufacturer:"Novartis",intervals:[{offsetDays:0,label:"Première vermifugation"},{offsetDays:90,label:"Rappel trimestriel"}],weightRange:"0.5-8kg",ageRequirement:"Dès 6 semaines",seasonalTreatment:!1,notes:"Comprimés appétents, peut être donné avec ou sans nourriture",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:8,name:"Eprinex Pour-On",species:"Bovins",productType:"external",targetParasites:"Mouches, Poux, Gales, Vers gastro-intestinaux",description:"Traitement pour-on systémique pour bovins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application unique"},{offsetDays:84,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Tous âges",seasonalTreatment:!0,notes:"Temps d'attente viande: 15 jours, lait: 0 jour",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:9,name:"Panacur 100",species:"Bovins",productType:"worming",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires",description:"Vermifuge oral pour bovins",manufacturer:"MSD",intervals:[{offsetDays:0,label:"Traitement initial"},{offsetDays:120,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Dès 2 semaines",seasonalTreatment:!1,notes:"Temps d'attente viande: 14 jours, lait: 3 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:10,name:"Cydectin 0.1%",species:"Ovins",productType:"combined",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires, Gales",description:"Traitement injectable pour ovins et caprins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Injection unique"},{offsetDays:90,label:"Rappel saisonnier"}],weightRange:"10-100kg",ageRequirement:"Dès 4 semaines",seasonalTreatment:!0,notes:"Temps d'attente viande: 35 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],kI=[{id:1,name:"Amoxicilline 500mg",category:"medication",subcategory:"Antibiotique",description:"Antibiotique à large spectre",manufacturer:"Boehringer Ingelheim",batchNumber:"AMX2024001",dosage:"500mg",unit:"box",currentStock:15,minimumStock:5,maximumStock:50,purchasePrice:20,sellingPrice:25.5,totalValue:300,expirationDate:"2025-12-31",supplier:"Pharmacie Vétérinaire Centrale",location:"Armoire A - Étagère 1",notes:"Stockage à température ambiante",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-15",isActive:!0,barcode:"1234567890123",sku:"MED-AMX-500"},{id:2,name:"Frontline Combo Spot-On",category:"medication",subcategory:"Antiparasitaire",description:"Traitement contre puces et tiques",manufacturer:"Boehringer Ingelheim",batchNumber:"FRC2024001",dosage:"1 pipette",unit:"pack",currentStock:8,minimumStock:10,maximumStock:100,purchasePrice:15,sellingPrice:18.75,totalValue:120,expirationDate:"2026-06-30",supplier:"VetoSupply Maroc",location:"Armoire B - Étagère 2",notes:"Pour chiens 20-40kg",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-10",isActive:!0,barcode:"2345678901234",sku:"ANT-FRONT-20-40"},{id:3,name:"DHPP Canine",category:"vaccine",subcategory:"Vaccin Core",description:"Vaccin contre Distemper, Hépatite, Parvovirus, Parainfluenza",manufacturer:"Merial",batchNumber:"DHPP2024001",dosage:"1 dose",unit:"vial",currentStock:25,minimumStock:10,maximumStock:100,purchasePrice:9.5,sellingPrice:12,totalValue:237.5,expirationDate:"2025-08-15",supplier:"Vaccins Vétérinaires SA",location:"Réfrigérateur - Étagère 1",notes:"Conservation 2-8°C",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-20",isActive:!0,barcode:"3456789012345",sku:"VAC-DHPP-001"},{id:4,name:"Rage Canine",category:"vaccine",subcategory:"Vaccin Obligatoire",description:"Vaccin antirabique obligatoire",manufacturer:"Merial",batchNumber:"RAB2024001",dosage:"1 dose",unit:"vial",currentStock:12,minimumStock:5,maximumStock:50,purchasePrice:12,sellingPrice:15,totalValue:144,expirationDate:"2025-10-20",supplier:"Vaccins Vétérinaires SA",location:"Réfrigérateur - Étagère 2",notes:"Conservation 2-8°C - Obligatoire",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-18",isActive:!0,barcode:"4567890123456",sku:"VAC-RAB-001"},{id:5,name:"Seringues 5ml",category:"consumable",subcategory:"Matériel d'injection",description:"Seringues stériles 5ml avec aiguilles",manufacturer:"BD Medical",batchNumber:"SYR2024001",dosage:"5ml",unit:"box",currentStock:50,minimumStock:20,maximumStock:200,purchasePrice:.35,sellingPrice:.45,totalValue:17.5,expirationDate:"2027-03-15",supplier:"Matériel Médical Pro",location:"Armoire C - Étagère 1",notes:"Stériles, usage unique",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-12",isActive:!0,barcode:"5678901234567",sku:"CON-SYR-5ML"},{id:6,name:"Masques chirurgicaux",category:"consumable",subcategory:"Protection",description:"Masques chirurgicaux jetables",manufacturer:"3M",batchNumber:"MSK2024001",dosage:"1 unité",unit:"box",currentStock:200,minimumStock:50,maximumStock:500,purchasePrice:.12,sellingPrice:.15,totalValue:24,expirationDate:"2026-12-31",supplier:"Protection Médicale",location:"Armoire D - Étagère 1",notes:"Type IIR, boîte de 50",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-08",isActive:!0,barcode:"6789012345678",sku:"CON-MSK-50"},{id:7,name:"Gants nitrile",category:"consumable",subcategory:"Protection",description:"Gants nitrile non poudrés",manufacturer:"Ansell",batchNumber:"GNT2024001",dosage:"1 paire",unit:"box",currentStock:30,minimumStock:10,maximumStock:100,purchasePrice:.2,sellingPrice:.25,totalValue:6,expirationDate:"2026-08-20",supplier:"Protection Médicale",location:"Armoire D - Étagère 2",notes:"Taille M, boîte de 100",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-05",isActive:!0,barcode:"7890123456789",sku:"CON-GNT-M-100"},{id:8,name:"Thermomètre digital",category:"equipment",subcategory:"Diagnostic",description:"Thermomètre digital vétérinaire",manufacturer:"Gima",batchNumber:"THM2024001",dosage:"1 unité",unit:"unit",currentStock:3,minimumStock:2,maximumStock:10,purchasePrice:35,sellingPrice:45,totalValue:105,expirationDate:void 0,supplier:"Équipement Vétérinaire",location:"Bureau - Tiroir 1",notes:"Résistant à l'eau, écran LCD",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-03",isActive:!0,barcode:"8901234567890",sku:"EQP-THM-DIG"},{id:9,name:"Vitamines B Complex",category:"supplement",subcategory:"Vitamines",description:"Complexe vitaminique B pour animaux",manufacturer:"Virbac",batchNumber:"VIT2024001",dosage:"1ml",unit:"bottle",currentStock:5,minimumStock:3,maximumStock:20,purchasePrice:6.5,sellingPrice:8.5,totalValue:32.5,expirationDate:"2025-11-30",supplier:"Suppléments Vétérinaires",location:"Armoire A - Étagère 3",notes:"Flacon 50ml",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-14",isActive:!0,barcode:"9012345678901",sku:"SUP-VIT-B-50"}],dy=[{id:1,name:"DAPP (DHPP)",species:"Chien",vaccineType:"core",description:"Distemper, Adénovirus, Parvovirus, Parainfluenza - Vaccination essentielle",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"J0 (première injection)"},{offsetDays:21,label:"21 jours (2e injection)"},{offsetDays:42,label:"42 jours (3e injection)"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"6-8 semaines (renforcer jusqu'à 16 semaines)",notes:"Protocole d'initiation à 6-8-12-16 semaines puis rappel à 1 an, puis triennal",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:2,name:"Rage (Rabies)",species:"Chien",vaccineType:"rabies",description:"Vaccination antirabique obligatoire selon la législation locale",manufacturer:"Merial",intervals:[{offsetDays:0,label:"À l'âge de 12 semaines minimum"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"12 semaines minimum",notes:"Rappel annuel ou biennal selon réglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:3,name:"Bordetella bronchiseptica",species:"Chien",vaccineType:"non-core",description:"Protection contre la toux de chenil",manufacturer:"Zoetis",intervals:[{offsetDays:8,label:"8 semaines"}],ageRequirement:"8 semaines",notes:"Vaccination intracellulaire recommandée pour chiens en collectivité",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:4,name:"Leptospirose",species:"Chien",vaccineType:"non-core",description:"Protection contre les sérovars pathogènes de Leptospira",manufacturer:"Virbac",intervals:[{offsetDays:12,label:"12 semaines"}],ageRequirement:"12 semaines",notes:"Double sérovariels recommandé",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:5,name:"RCP (FVRCP)",species:"Chat",vaccineType:"core",description:"Calicivirose, Panleucopénie, Rhinotrachéite virale féline",manufacturer:"Virbac",intervals:[{offsetDays:0,label:"6 semaines"},{offsetDays:21,label:"12 semaines"},{offsetDays:28,label:"1 an"}],ageRequirement:"6-8-12 semaines",notes:"Renforcement à 1 an puis rappel triennal ou annuel selon protocole",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:6,name:"Rage (Rabies)",species:"Chat",vaccineType:"rabies",description:"Vaccination antirabique selon réglementation voyage",manufacturer:"Merial",intervals:[{offsetDays:365,label:"1 an"},{offsetDays:730,label:"2 ans"}],ageRequirement:"12 semaines",notes:"Rappel annuel ou biennal selon réglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:7,name:"Distemper furet (Maladie de Carré)",species:"Furet",vaccineType:"core",description:"Protection contre le morbillivirus (Carré)",manufacturer:"Merial",intervals:[{offsetDays:6,label:"6 semaines"},{offsetDays:12,label:"8 semaines"}],ageRequirement:"6-8 semaines",notes:"Protocole similaire à celui des chiens",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:8,name:"Myxomatose",species:"Lapin",vaccineType:"core",description:"Protection contre la myxomatose",manufacturer:"Virbac",intervals:[{offsetDays:180,label:"180 jours"}],ageRequirement:"5-6 semaines",notes:"Vaccination semestrielle",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:9,name:"VHD (Maladie hémorragique virale)",species:"Lapin",vaccineType:"core",description:"Protection contre VHD de type 1 et 2",manufacturer:"Virbac",intervals:[{offsetDays:6,label:"6 semaines"}],ageRequirement:"6 semaines",notes:"Rappel annuel",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"}];function lE({children:e}){const t=()=>{try{const X=localStorage.getItem("vetpro-clients"),fe=localStorage.getItem("vetpro-pets"),ge=localStorage.getItem("vetpro-consultations"),We=localStorage.getItem("vetpro-appointments"),Je=localStorage.getItem("vetpro-prescriptions"),ze=localStorage.getItem("vetpro-farms"),at=localStorage.getItem("vetpro-farmInterventions"),_n=localStorage.getItem("vetpro-vaccinations"),vn=localStorage.getItem("vetpro-vaccinationProtocols"),dt=localStorage.getItem("vetpro-antiparasitics"),Rn=localStorage.getItem("vetpro-antiparasiticProtocols"),Xr=localStorage.getItem("vetpro-stockItems"),ia=localStorage.getItem("vetpro-stockAlerts"),Ua=localStorage.getItem("vetpro-stockMovements"),Nd=localStorage.getItem("vetpro-accountingEntries");if(X&&fe){const t1=JSON.parse(X),jm=JSON.parse(fe),n1=ge?JSON.parse(ge):iy,r1=We?JSON.parse(We):ay,s1=Je?JSON.parse(Je):oy,i1=ze?JSON.parse(ze):ly,bm=at?JSON.parse(at):cy,a1=_n?JSON.parse(_n):uy,o1=vn?JSON.parse(vn):dy,l1=dt?JSON.parse(dt):Hd,c1=Rn?JSON.parse(Rn):Ym,u1=Xr?JSON.parse(Xr):kI,Pn=ia?JSON.parse(ia):[],Sn=Ua?JSON.parse(Ua):[],d1=Nd?JSON.parse(Nd):[];return{clients:t1.map(Vv=>({...Vv,pets:jm.filter(h1=>h1.ownerId===Vv.id)})),pets:jm,consultations:n1,appointments:r1,prescriptions:s1,farms:i1,farmInterventions:bm,vaccinations:a1,vaccinationProtocols:o1,antiparasitics:l1,antiparasiticProtocols:c1,stockItems:u1,stockAlerts:Pn,stockMovements:Sn,accountingEntries:d1}}}catch(X){console.error("Erreur lors du chargement des données:",X)}return{clients:EI.map(X=>({...X,pets:Km.filter(fe=>fe.ownerId===X.id)})),pets:Km,consultations:iy,appointments:ay,prescriptions:oy,farms:ly,farmInterventions:cy,vaccinations:uy,vaccinationProtocols:dy,antiparasitics:Hd,antiparasiticProtocols:Ym,stockItems:kI,stockAlerts:[],stockMovements:[],accountingEntries:[]}},n=(re,X,fe,ge=d,We=m,Je=x,ze=y,at=j,_n=_,vn=A,dt=E,Rn=$,Xr=O,ia=z,Ua=H)=>{try{localStorage.setItem("vetpro-clients",JSON.stringify(re)),localStorage.setItem("vetpro-pets",JSON.stringify(X)),localStorage.setItem("vetpro-consultations",JSON.stringify(fe)),localStorage.setItem("vetpro-appointments",JSON.stringify(ge)),localStorage.setItem("vetpro-prescriptions",JSON.stringify(We)),localStorage.setItem("vetpro-farms",JSON.stringify(Je)),localStorage.setItem("vetpro-farmInterventions",JSON.stringify(ze)),localStorage.setItem("vetpro-vaccinations",JSON.stringify(at)),localStorage.setItem("vetpro-vaccinationProtocols",JSON.stringify(_n)),localStorage.setItem("vetpro-antiparasitics",JSON.stringify(vn)),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(dt)),localStorage.setItem("vetpro-stockItems",JSON.stringify(Rn)),localStorage.setItem("vetpro-stockAlerts",JSON.stringify(Xr)),localStorage.setItem("vetpro-stockMovements",JSON.stringify(ia)),localStorage.setItem("vetpro-accountingEntries",JSON.stringify(Ua))}catch(Nd){console.error("Erreur lors de la sauvegarde des données:",Nd)}},s=t(),[i,a]=w.useState(s.clients),[o,l]=w.useState(s.pets),[c,u]=w.useState(s.consultations),[d,f]=w.useState(s.appointments),[m,g]=w.useState(s.prescriptions),[x,v]=w.useState(s.farms),[y,N]=w.useState(s.farmInterventions),[j,b]=w.useState(s.vaccinations),[_,C]=w.useState(s.vaccinationProtocols),[A,P]=w.useState(s.antiparasitics),[E,M]=w.useState(s.antiparasiticProtocols),[$,T]=w.useState(s.stockItems||[]),[O,L]=w.useState(s.stockAlerts||[]),[z,J]=w.useState(s.stockMovements||[]),[H,oe]=w.useState(s.accountingEntries||[]);w.useEffect(()=>{localStorage.getItem("vetpro-antiparasiticProtocols")||localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(Ym)),localStorage.getItem("vetpro-antiparasitics")||(localStorage.setItem("vetpro-antiparasitics",JSON.stringify(Hd)),P(Hd))},[]),w.useEffect(()=>{const re=new Date;new Date(re.getFullYear(),re.getMonth(),1),new Date(re.getFullYear(),re.getMonth()+1,0)},[]),w.useEffect(()=>{const re=new Date,X=new Date(re.getFullYear(),re.getMonth(),1),fe=new Date(re.getFullYear(),re.getMonth()+1,0);wd(X.toISOString().split("T")[0],fe.toISOString().split("T")[0]),ym(X.toISOString().split("T")[0],fe.toISOString().split("T")[0])},[c,j,A,m,z]),w.useEffect(()=>{},[A]),w.useEffect(()=>{i.length>0&&c.length>=0&&j.length>=0&&A.length>=0&&d.length>=0&&i.forEach(re=>{te(re.id)})},[i.length,c.length,j.length,A.length,d.length]);const Q=re=>{const X={...re,name:`${re.firstName} ${re.lastName}`,id:Math.max(...i.map(ge=>ge.id),0)+1,pets:[],lastVisit:new Date().toISOString().split("T")[0],totalVisits:0},fe=[...i,X];a(fe),n(fe,o,c,d,m,x,y,j)},D=re=>{const X={...re,id:Math.max(...o.map(We=>We.id),0)+1,status:re.status||"healthy",lastVisit:new Date().toISOString().split("T")[0]},fe=[...o,X];l(fe);const ge=i.map(We=>We.id===re.ownerId?{...We,pets:[...We.pets,{id:X.id,name:X.name,type:X.type,breed:X.breed,birthDate:X.birthDate,weight:X.weight,color:X.color,microchip:X.microchip,medicalNotes:X.medicalNotes,photo:X.photo,ownerId:X.ownerId,owner:X.owner,status:X.status,lastVisit:X.lastVisit,nextAppointment:X.nextAppointment,vaccinations:X.vaccinations}]}:We);a(ge),n(ge,fe,c,d,m,x,y,j)},ae=(re,X)=>{const fe=i.map(ge=>ge.id===re?{...ge,...X,name:X.firstName&&X.lastName?`${X.firstName} ${X.lastName}`:ge.name}:ge);a(fe),n(fe,o,c,d,m,x,y,j)},pe=(re,X)=>{({...o.find(We=>We.id===re),...X});const fe=o.map(We=>We.id===re?{...We,...X}:We);l(fe);const ge=i.map(We=>({...We,pets:We.pets.map(Je=>Je.id===re?{...Je,...X}:Je)}));a(ge),n(ge,fe,c)},te=re=>{const X=i.find(dt=>dt.id===re);if(!X)return;const fe=c.filter(dt=>dt.clientId===re),ge=j.filter(dt=>dt.clientId===re),We=A.filter(dt=>dt.clientId===re),Je=d.filter(dt=>dt.clientId===re&&dt.status==="completed"),ze=fe.length+ge.length+We.length+Je.length,at=[...fe.map(dt=>({date:dt.date,type:"consultation"})),...ge.map(dt=>({date:dt.dateGiven,type:"vaccination"})),...We.map(dt=>({date:dt.dateGiven,type:"antiparasitic"})),...Je.map(dt=>({date:dt.date,type:"appointment"}))],_n=at.length>0?at.reduce((dt,Rn)=>new Date(Rn.date)>new Date(dt.date)?Rn:dt).date:X.lastVisit,vn=i.map(dt=>dt.id===re?{...dt,totalVisits:ze,lastVisit:_n}:dt);return a(vn),{totalVisits:ze,lastVisit:_n}},Z=re=>{const X={...re,id:Math.max(...$.map(ge=>ge.id),0)+1,lastUpdated:new Date().toISOString(),totalValue:re.currentStock*re.purchasePrice},fe=[...$,X];return T(fe),n(i,o,c,d,m,x,y,j,_,A,E,fe,O,z),X},ne=(re,X)=>{const fe=$.map(ge=>{if(ge.id===re){const We={...ge,...X};return(X.currentStock!==void 0||X.purchasePrice!==void 0)&&(We.totalValue=We.currentStock*We.purchasePrice),We.lastUpdated=new Date().toISOString(),We}return ge});return T(fe),n(i,o,c,d,m,x,y,j,_,A,E,fe,O,z),fe.find(ge=>ge.id===re)},xe=re=>{const X=$.filter(fe=>fe.id!==re);T(X),n(i,o,c,d,m,x,y,j,_,A,E,X,O,z)},ye=re=>{const X={...re,id:Math.max(...z.map(ge=>ge.id),0)+1},fe=[...z,X];return J(fe),n(i,o,c,d,m,x,y,j,_,A,E,$,O,fe),X},se=()=>{const re=[],X=new Date().toISOString().split("T")[0],fe=new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0];return $.forEach(ge=>{ge.currentStock<=ge.minimumStock&&re.push({id:re.length+1,itemId:ge.id,itemName:ge.name,type:"low_stock",message:`Stock bas: ${ge.currentStock} ${ge.unit} restant(s)`,severity:ge.currentStock===0?"critical":"high",createdAt:new Date().toISOString(),isRead:!1}),ge.expirationDate&&(ge.expirationDate<X?re.push({id:re.length+1,itemId:ge.id,itemName:ge.name,type:"expired",message:`Expiré le ${ge.expirationDate}`,severity:"critical",createdAt:new Date().toISOString(),isRead:!1}):ge.expirationDate<=fe&&re.push({id:re.length+1,itemId:ge.id,itemName:ge.name,type:"expiring_soon",message:`Expire le ${ge.expirationDate}`,severity:"medium",createdAt:new Date().toISOString(),isRead:!1}))}),re},F=re=>{const X={...re,id:Math.max(...c.map(Je=>Je.id),0)+1,createdAt:new Date().toISOString(),photos:re.photos||[]},fe=[...c,X];u(fe);const ge=o.map(Je=>Je.id===re.petId?{...Je,lastVisit:re.date}:Je);l(ge);const We=i.map(Je=>({...Je,pets:Je.pets.map(ze=>ze.id===re.petId?{...ze,lastVisit:re.date}:ze)}));a(We),te(re.clientId),n(We,ge,fe)},Y=re=>{if(!o.find(We=>We.id===re))return;const fe=o.filter(We=>We.id!==re);l(fe);const ge=i.map(We=>({...We,pets:We.pets.filter(Je=>Je.id!==re)}));a(ge),n(ge,fe,c)},ee=()=>{localStorage.removeItem("vetpro-clients"),localStorage.removeItem("vetpro-pets"),localStorage.removeItem("vetpro-consultations"),localStorage.removeItem("vetpro-appointments"),localStorage.removeItem("vetpro-prescriptions"),localStorage.removeItem("vetpro-farms"),localStorage.removeItem("vetpro-farmInterventions"),localStorage.removeItem("vetpro-vaccinations"),localStorage.removeItem("vetpro-vaccinationProtocols"),localStorage.removeItem("vetpro-antiparasitics"),localStorage.removeItem("vetpro-antiparasiticProtocols");const re=EI.map(X=>({...X,pets:Km.filter(fe=>fe.ownerId===X.id)}));a(re),l(Km),u(iy),f(ay),g(oy),v(ly),N(cy),b(uy),C(dy),P(Hd),M(Ym),n(re,Km,iy,ay,oy,ly,cy,uy,dy,Hd,Ym)},G=()=>{const re={clients:i,pets:o,consultations:c,appointments:d,prescriptions:m,farms:x,farmInterventions:y,vaccinations:j,vaccinationProtocols:_,antiparasitics:A,antiparasiticProtocols:E},X=new Blob([JSON.stringify(re,null,2)],{type:"application/json"}),fe=URL.createObjectURL(X),ge=document.createElement("a");ge.href=fe,ge.download=`vetpro-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(fe)},I=re=>{const X=re.clients.map(fe=>({...fe,pets:re.pets.filter(ge=>ge.ownerId===fe.id)}));a(X),l(re.pets),u(re.consultations||[]),f(re.appointments||[]),g(re.prescriptions||[]),v(re.farms||[]),N(re.farmInterventions||[]),b(re.vaccinations||[]),C(re.vaccinationProtocols||[]),P(re.antiparasitics||[]),M(re.antiparasiticProtocols||[]),n(X,re.pets,re.consultations||[],re.appointments||[],re.prescriptions||[],re.farms||[],re.farmInterventions||[],re.vaccinations||[],re.vaccinationProtocols||[],re.antiparasitics||[],re.antiparasiticProtocols||[])},ve=(re,X)=>{const fe=c.map(ge=>ge.id===re?{...ge,...X}:ge);u(fe),n(i,o,fe)},we=re=>{const X=c.filter(fe=>fe.id!==re);u(X),n(i,o,X)},Fe=re=>{const X=$.find(fe=>fe.name.toLowerCase()===re.productName.toLowerCase()&&fe.category==="medication"&&fe.isActive);return X&&X.currentStock>=1?{...re,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!0}:X&&X.currentStock>0?{...re,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!1}:{...re,isInStock:!1,stockQuantity:0,stockDeducted:!1}},Be=re=>{const X=Fe(re);let fe=[...$];if(X.stockDeducted&&X.stockItemId){const Je=fe.findIndex(ze=>ze.id===X.stockItemId);if(Je!==-1){const ze=fe[Je];fe[Je]={...ze,currentStock:ze.currentStock-1,lastUpdated:new Date().toISOString()},ye({itemId:X.stockItemId,itemName:X.productName,type:"out",quantity:1,reason:"Traitement antiparasitaire",reference:`Antiparasitaire #${Math.max(0,...A.map(at=>at.id))+1}`,performedBy:X.veterinarian,date:new Date().toISOString(),notes:`Traitement antiparasitaire de ${X.petName} - ${X.productName}`})}}const ge={...X,id:Math.max(0,...A.map(Je=>Je.id))+1,createdAt:new Date().toISOString()},We=[...A,ge];P(We),T(fe),te(re.clientId),n(i,o,c,d,m,x,y,j,_,We,E,fe,O,z),localStorage.getItem("vetpro-antiparasitics")},it=(re,X)=>{const fe=A.map(ge=>ge.id===re?{...ge,...X}:ge);P(fe),n(i,o,c,d,m,x,y,j,_,fe,E)},lt=re=>{const X=A.filter(fe=>fe.id!==re);P(X),n(i,o,c,d,m,x,y,j,_,X,E)},ft=re=>{const X={...re,id:Math.max(0,...E.map(ge=>ge.id))+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},fe=[...E,X];M(fe),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(fe))},Ne=(re,X)=>{const fe=E.map(ge=>ge.id===re?{...ge,...X,updatedAt:new Date().toISOString()}:ge);M(fe),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(fe))},Ge=re=>{const X=E.filter(fe=>fe.id!==re);M(X),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(X))},Ke=re=>A.find(X=>X.id===re),Wt=re=>A.filter(fe=>fe.petId===re),Yn=re=>A.filter(X=>X.clientId===re),kt=()=>{const re=new Date().toISOString().split("T")[0];return A.filter(X=>X.nextDueDate&&X.nextDueDate<re&&X.status!=="completed")},Nn=(re=7)=>{const X=new Date,fe=new Date(X.getTime()+re*24*60*60*1e3);return A.filter(ge=>{if(!ge.nextDueDate)return!1;const We=new Date(ge.nextDueDate);return We>=X&&We<=fe})},dr=re=>A.filter(X=>X.status===re),Qn=re=>E.find(X=>X.id===re),gs=re=>E.filter(X=>X.species===re&&X.isActive),Se=()=>E.filter(re=>re.isActive),Vt=re=>i.find(X=>X.id===re),tt=re=>o.find(X=>X.id===re),mt=re=>c.find(X=>X.id===re),sn=re=>o.filter(X=>X.ownerId===re),is=re=>c.filter(X=>X.petId===re),Qr=re=>c.filter(X=>X.clientId===re),Rs=re=>{const X={...re,id:Math.max(...d.map(ge=>ge.id),0)+1,createdAt:new Date().toISOString()},fe=[...d,X];f(fe),te(re.clientId),n(i,o,c,fe,m)},yl=(re,X)=>{const fe=d.map(ge=>ge.id===re?{...ge,...X}:ge);f(fe),n(i,o,c,fe,m)},ce=re=>{const X=d.filter(fe=>fe.id!==re);f(X),n(i,o,c,X,m)},qe=re=>d.find(X=>X.id===re),Le=re=>d.filter(X=>X.clientId===re),kn=re=>d.filter(X=>X.petId===re),Xn=re=>d.filter(X=>X.date===re),sa=()=>{const re=new Date().toISOString().split("T")[0];return d.filter(X=>X.date>=re&&X.status!=="cancelled"&&X.status!=="completed").sort((X,fe)=>new Date(X.date+"T"+X.time).getTime()-new Date(fe.date+"T"+fe.time).getTime())},bt=()=>{const re=new Date().toISOString().split("T")[0];return d.filter(X=>X.date<re&&X.status==="scheduled").sort((X,fe)=>new Date(X.date+"T"+X.time).getTime()-new Date(fe.date+"T"+fe.time).getTime())},on=re=>re.map(X=>{const fe=$.find(ge=>ge.name.toLowerCase()===X.name.toLowerCase()&&ge.category==="medication"&&ge.isActive);return fe&&fe.currentStock>=X.quantity?{...X,stockItemId:fe.id,isInStock:!0,stockQuantity:fe.currentStock,stockDeducted:!0}:fe&&fe.currentStock>0?{...X,stockItemId:fe.id,isInStock:!0,stockQuantity:fe.currentStock,stockDeducted:!1}:{...X,isInStock:!1,stockQuantity:0,stockDeducted:!1}}),gn=re=>{const X=on(re.medications);let fe=[...$];X.forEach(Je=>{if(Je.stockDeducted&&Je.stockItemId){const ze=fe.findIndex(at=>at.id===Je.stockItemId);if(ze!==-1){const at=fe[ze];fe[ze]={...at,currentStock:at.currentStock-Je.quantity,lastUpdated:new Date().toISOString()},ye({itemId:Je.stockItemId,itemName:Je.name,type:"out",quantity:Je.quantity,reason:"Prescription médicale",reference:`Prescription #${Math.max(...m.map(_n=>_n.id),0)+1}`,performedBy:re.prescribedBy,date:new Date().toISOString(),notes:`Prescription pour ${re.petName} - ${re.diagnosis}`})}}});const ge={...re,medications:X,id:Math.max(...m.map(Je=>Je.id),0)+1,createdAt:new Date().toISOString()},We=[...m,ge];g(We),T(fe),n(i,o,c,d,We,x,y,j,_,A,E,fe,O,z,H)},vs=(re,X)=>{const fe=m.map(ge=>ge.id===re?{...ge,...X}:ge);g(fe),n(i,o,c,d,fe,x,y,j,_,A,E,$,O,z,H)},xs=re=>{const X=m.filter(fe=>fe.id!==re);g(X),n(i,o,c,d,X,x,y,j,_,A,E,$,O,z,H)},Ai=re=>m.find(X=>X.id===re),si=re=>m.filter(X=>X.petId===re),ys=re=>m.filter(X=>X.consultationId===re),Ls=()=>m.filter(re=>re.status==="active").sort((re,X)=>new Date(X.date).getTime()-new Date(re.date).getTime()),Iw=re=>{const X={...re,id:Math.max(...x.map(ge=>ge.id),0)+1,createdAt:new Date().toISOString()},fe=[...x,X];v(fe),n(i,o,c,d,m,fe,y)},$w=(re,X)=>{const fe=x.map(ge=>ge.id===re?{...ge,...X}:ge);v(fe),n(i,o,c,d,m,fe,y)},Rw=re=>{const X=x.filter(fe=>fe.id!==re);v(X),n(i,o,c,d,m,X,y)},Lw=re=>{const X={...re,id:Math.max(...y.map(ge=>ge.id),0)+1,createdAt:new Date().toISOString()},fe=[...y,X];N(fe),n(i,o,c,d,m,x,fe)},Fw=(re,X)=>{const fe=y.map(ge=>ge.id===re?{...ge,...X}:ge);N(fe),n(i,o,c,d,m,x,fe)},Bw=re=>{const X=y.filter(fe=>fe.id!==re);N(X),n(i,o,c,d,m,x,X)},zw=re=>x.find(X=>X.id===re),Vw=re=>y.find(X=>X.id===re),Dv=re=>y.filter(X=>X.farmId===re),Uw=()=>{const re=new Date().toISOString().split("T")[0];return y.filter(X=>X.date>=re&&X.status!=="cancelled").sort((X,fe)=>new Date(X.date).getTime()-new Date(fe.date).getTime())},qw=re=>x.filter(X=>X.status===re),Ww=re=>{const X=$.find(fe=>fe.name.toLowerCase()===re.vaccineName.toLowerCase()&&fe.category==="vaccine"&&fe.isActive);return X&&X.currentStock>=1?{...re,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!0}:X&&X.currentStock>0?{...re,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!1}:{...re,isInStock:!1,stockQuantity:0,stockDeducted:!1}},vm=re=>{const X=Ww(re);let fe=[...$];if(X.stockDeducted&&X.stockItemId){const We=fe.findIndex(Je=>Je.id===X.stockItemId);if(We!==-1){const Je=fe[We];fe[We]={...Je,currentStock:Je.currentStock-1,lastUpdated:new Date().toISOString()},ye({itemId:X.stockItemId,itemName:X.vaccineName,type:"out",quantity:1,reason:"Vaccination",reference:`Vaccination #${Math.max(...j.map(ze=>ze.id),0)+1}`,performedBy:X.veterinarian,date:new Date().toISOString(),notes:`Vaccination de ${X.petName} - ${X.vaccineName}`})}}const ge={...X,id:Math.max(...j.map(We=>We.id),0)+1,createdAt:new Date().toISOString()};return b(We=>{const Je=[...We,ge];return te(re.clientId),n(i,o,c,d,m,x,y,Je,_,A,E,fe,O,z),Je}),T(fe),ge.id},yd=(re,X)=>{const fe=j.map(ge=>ge.id===re?{...ge,...X}:ge);b(fe),n(i,o,c,d,m,x,y,fe)},Hw=re=>{const X=j.find(ge=>ge.id===re);if(!X)return;let fe=[...j];X.vaccinationCategory==="new"?(j.filter(ge=>ge.originalVaccinationId===re),fe=j.filter(ge=>ge.id!==re&&ge.originalVaccinationId!==re)):fe=j.filter(ge=>ge.id!==re),b(fe),n(i,o,c,d,m,x,y,fe)},No=re=>j.find(X=>X.id===re),Gw=re=>j.filter(X=>X.petId===re),jd=re=>j.filter(X=>X.clientId===re),Kw=()=>{const re=new Date().toISOString().split("T")[0];return j.filter(X=>X.nextDueDate<re&&X.status!=="completed").sort((X,fe)=>new Date(X.nextDueDate).getTime()-new Date(fe.nextDueDate).getTime())},Yw=()=>{const re=new Date,X=new Date(re.getTime()+30*24*60*60*1e3).toISOString().split("T")[0],fe=re.toISOString().split("T")[0];return j.filter(ge=>ge.nextDueDate>=fe&&ge.nextDueDate<=X&&ge.status!=="completed").sort((ge,We)=>new Date(ge.nextDueDate).getTime()-new Date(We.nextDueDate).getTime())},Qw=re=>j.filter(X=>X.status===re),Mv=()=>{const re=new Date().toISOString().split("T")[0];let X=!1;const fe=j.map(ge=>ge.status==="completed"?ge:ge.nextDueDate<re&&ge.status!=="overdue"?(X=!0,{...ge,status:"overdue"}):ge.nextDueDate>=re&&ge.status!=="scheduled"?(X=!0,{...ge,status:"scheduled"}):ge);return X&&(b(fe),n(i,o,c,d,m,x,y,fe)),fe},Iv=re=>{const X={...re,id:Math.max(..._.map(ge=>ge.id),0)+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},fe=[..._,X];C(fe),n(i,o,c,d,m,x,y,j,fe)},$v=(re,X)=>{const fe=_.map(ge=>ge.id===re?{...ge,...X,updatedAt:new Date().toISOString()}:ge);C(fe),n(i,o,c,d,m,x,y,j,fe)},Xw=re=>{const X=_.filter(fe=>fe.id!==re);C(X),n(i,o,c,d,m,x,y,j,X)},Jw=re=>_.find(X=>X.id===re),Zw=re=>_.filter(X=>X.species===re&&X.isActive),e1=()=>_.filter(re=>re.isActive),Rv=(re,X,fe)=>{const ge=_.find(ze=>ze.name===re&&ze.species===X&&ze.isActive);if(!ge||!ge.intervals.length)return null;const We=ge.intervals[ge.intervals.length-1],Je=new Date(fe);return Je.setDate(Je.getDate()+We.offsetDays),Je.toISOString().split("T")[0]},Lv=(re,X,fe)=>{var vn;const ge=No(re);if(!ge)return;const We={clientId:ge.clientId,clientName:ge.clientName,petId:ge.petId,petName:ge.petName,date:X,time:fe,type:"vaccination",duration:30,reason:`Rappel vaccinal - ${ge.vaccineName}`,notes:`Rappel pour ${ge.vaccineName} (vaccination originale ID: ${re})`,status:"scheduled",reminderSent:!1};Rs(We);const Je=Math.max(...d.map(dt=>dt.id),0)+1,ze={petId:ge.petId,petName:ge.petName,clientId:ge.clientId,clientName:ge.clientName,vaccineName:ge.vaccineName,vaccineType:ge.vaccineType,vaccinationCategory:"reminder",dateGiven:X,nextDueDate:ge.nextDueDate,batchNumber:ge.batchNumber,veterinarian:ge.veterinarian,notes:`Rappel de ${ge.vaccineName} (original: ${re})`,status:"scheduled",cost:ge.cost,location:ge.location,manufacturer:ge.manufacturer,originalVaccinationId:re,reminderAppointmentId:Je,isReminder:!0};vm(ze);const at={id:Math.max(...((vn=ge.reminderHistory)==null?void 0:vn.map(dt=>dt.id))||[0],0)+1,vaccinationId:re,appointmentId:Je,scheduledDate:X,status:"scheduled",notes:`Rappel programmé pour ${ge.vaccineName}`,createdAt:new Date().toISOString()},_n=[...ge.reminderHistory||[],at];return yd(re,{reminderHistory:_n}),{appointment:We,reminderVaccination:ze,reminder:at}},Fv=(re,X,fe)=>{var ze;const ge=No(re);if(!ge)return;const Je={status:"completed",reminderHistory:((ze=ge.reminderHistory)==null?void 0:ze.map(at=>at.appointmentId===X?{...at,status:"completed"}:at))||[],reminderAppointmentId:void 0};return fe&&(Je.nextDueDate=fe),yd(re,Je),yl(X,{status:"completed"}),ge},xm=(re,X)=>{const fe=No(re);if(!fe)return null;const ge={petId:fe.petId,petName:fe.petName,clientId:fe.clientId,clientName:fe.clientName,vaccineName:fe.vaccineName,vaccineType:fe.vaccineType,vaccinationCategory:"reminder",dateGiven:X.datePerformed,nextDueDate:X.newNextDueDate||fe.nextDueDate,calculatedDueDate:fe.calculatedDueDate,batchNumber:X.batchNumber||fe.batchNumber,veterinarian:X.veterinarian,notes:X.notes||`Rappel effectué - ${fe.vaccineName}`,status:"completed",cost:fe.cost,location:fe.location,manufacturer:fe.manufacturer,expirationDate:fe.expirationDate,adverseReactions:fe.adverseReactions,originalVaccinationId:re,isReminder:!0};vm(ge);const We={status:"completed",reminderAppointmentId:void 0};return X.newNextDueDate&&(We.nextDueDate=X.newNextDueDate),yd(re,We),ge},jl=re=>{const X={...re,id:Math.max(...H.map(ge=>ge.id),0)+1,createdAt:new Date().toISOString()},fe=[...H,X];return oe(fe),n(i,o,c,d,m,x,y,j,_,A,E,$,O,z,fe),X},Bv=(re,X)=>{const fe=H.map(ge=>ge.id===re?{...ge,...X}:ge);oe(fe),n(i,o,c,d,m,x,y,j,_,A,E,$,O,z,fe)},bd=re=>{const X=H.filter(fe=>fe.id!==re);oe(X),n(i,o,c,d,m,x,y,j,_,A,E,$,O,z,X)},wd=(re,X)=>{const fe=new Date(re),ge=new Date(X);let We=0;const Je={consultations:0,vaccinations:0,antiparasitics:0,prescriptions:0,stockSales:0,manualEntries:0,recurringCharges:0};return c.filter(ze=>{const at=new Date(ze.date);return at>=fe&&at<=ge}).forEach(ze=>{var vn;const at=parseFloat(((vn=ze.cost)==null?void 0:vn.toString())||"0");We+=at,Je.consultations+=at,H.find(dt=>dt.source==="consultation"&&dt.sourceId===ze.id)||jl({type:"revenue",category:"automatic",frequency:"occasional",description:`Consultation - ${ze.petName}`,amount:at,date:ze.date,reference:`Consultation #${ze.id}`,source:"consultation",sourceId:ze.id,notes:`Consultation automatique pour ${ze.petName}`})}),j.filter(ze=>{const at=new Date(ze.dateGiven);return at>=fe&&at<=ge}).forEach(ze=>{var vn;const at=parseFloat(((vn=ze.cost)==null?void 0:vn.toString())||"0");We+=at,Je.vaccinations+=at,H.find(dt=>dt.source==="vaccination"&&dt.sourceId===ze.id)||jl({type:"revenue",category:"automatic",frequency:"occasional",description:`Vaccination - ${ze.vaccineName}`,amount:at,date:ze.dateGiven,reference:`Vaccination #${ze.id}`,source:"vaccination",sourceId:ze.id,notes:`Vaccination automatique pour ${ze.petName}`})}),A.filter(ze=>{const at=new Date(ze.dateGiven);return at>=fe&&at<=ge}).forEach(ze=>{var vn;const at=parseFloat(((vn=ze.cost)==null?void 0:vn.toString())||"0");We+=at,Je.antiparasitics+=at,H.find(dt=>dt.source==="antiparasitic"&&dt.sourceId===ze.id)||jl({type:"revenue",category:"automatic",frequency:"occasional",description:`Antiparasitaire - ${ze.productName}`,amount:at,date:ze.dateGiven,reference:`Antiparasitaire #${ze.id}`,source:"antiparasitic",sourceId:ze.id,notes:`Antiparasitaire automatique pour ${ze.petName}`})}),m.filter(ze=>{const at=new Date(ze.createdAt);return at>=fe&&at<=ge}).forEach(ze=>{const at=ze.medications.reduce((vn,dt)=>{var Rn;return vn+parseFloat(((Rn=dt.cost)==null?void 0:Rn.toString())||"0")*dt.quantity},0);We+=at,Je.prescriptions+=at,!H.find(vn=>vn.source==="prescription"&&vn.sourceId===ze.id)&&at>0&&jl({type:"revenue",category:"automatic",frequency:"occasional",description:`Prescription - ${ze.petName}`,amount:at,date:ze.createdAt,reference:`Prescription #${ze.id}`,source:"prescription",sourceId:ze.id,notes:`Prescription automatique pour ${ze.petName}`})}),{totalRevenue:We,revenueBreakdown:Je}},ym=(re,X)=>{const fe=new Date(re),ge=new Date(X);let We=0;const Je={stockPurchases:0,salaries:0,rent:0,taxes:0,insurance:0,other:0,manualEntries:0,recurringCharges:0};return z.filter(ze=>{const at=new Date(ze.date);return at>=fe&&at<=ge&&ze.type==="in"&&ze.reason==="Achat fournisseur"}).forEach(ze=>{const at=$.find(_n=>_n.id===ze.itemId);if(at){const _n=at.purchasePrice*ze.quantity;We+=_n,Je.stockPurchases+=_n,H.find(dt=>dt.source==="stock_purchase"&&dt.reference===ze.reference)||jl({type:"expense",category:"automatic",frequency:"occasional",description:`Achat stock - ${ze.itemName}`,amount:_n,date:ze.date,reference:ze.reference,source:"stock_purchase",notes:`Achat automatique de ${ze.quantity} ${ze.itemName}`})}}),{totalExpenses:We,expenseBreakdown:Je}},zv=(re,X,fe)=>{const{totalRevenue:ge,revenueBreakdown:We}=wd(X,fe),{totalExpenses:Je,expenseBreakdown:ze}=ym(X,fe),at=H.filter(Rn=>{const Xr=new Date(Rn.date),ia=new Date(X),Ua=new Date(fe);return Xr>=ia&&Xr<=Ua&&Rn.category==="manual"&&Rn.type==="revenue"}).reduce((Rn,Xr)=>Rn+Xr.amount,0),_n=H.filter(Rn=>{const Xr=new Date(Rn.date),ia=new Date(X),Ua=new Date(fe);return Xr>=ia&&Xr<=Ua&&Rn.category==="manual"&&Rn.type==="expense"}).reduce((Rn,Xr)=>Rn+Xr.amount,0);We.manualEntries=at,ze.manualEntries=_n;const vn=ge+at,dt=Je+_n;return{period:re,totalRevenue:vn,totalExpenses:dt,netIncome:vn-dt,revenueBreakdown:We,expenseBreakdown:ze}};return r.jsx(lz.Provider,{value:{clients:i,pets:o,consultations:c,appointments:d,prescriptions:m,farms:x,farmInterventions:y,vaccinations:j,vaccinationProtocols:_,antiparasitics:A,antiparasiticProtocols:E,stockItems:$,stockAlerts:O,stockMovements:z,accountingEntries:H,addClient:Q,addPet:D,addConsultation:F,addAppointment:Rs,addPrescription:gn,addFarm:Iw,addFarmIntervention:Lw,addVaccination:vm,addVaccinationProtocol:Iv,addAntiparasitic:Be,addAntiparasiticProtocol:ft,addStockItem:Z,addStockMovement:ye,addAccountingEntry:jl,updateAccountingEntry:Bv,deleteAccountingEntry:bd,calculateAutomaticRevenue:wd,calculateAutomaticExpenses:ym,generateAccountingSummary:zv,updateClient:ae,updatePet:pe,updateConsultation:ve,updateAppointment:yl,updatePrescription:vs,updateFarm:$w,updateFarmIntervention:Fw,updateVaccination:yd,updateVaccinationProtocol:$v,updateAntiparasitic:it,updateAntiparasiticProtocol:Ne,updateStockItem:ne,deletePet:Y,deleteConsultation:we,deleteAppointment:ce,deletePrescription:xs,deleteFarm:Rw,deleteFarmIntervention:Bw,deleteVaccination:Hw,deleteVaccinationProtocol:Xw,deleteAntiparasitic:lt,deleteAntiparasiticProtocol:Ge,deleteStockItem:xe,resetData:ee,exportData:G,importData:I,getClientById:Vt,getPetById:tt,getConsultationById:mt,getAppointmentById:qe,getPrescriptionById:Ai,getFarmById:zw,getFarmInterventionById:Vw,getVaccinationById:No,getVaccinationProtocolById:Jw,getVaccinationProtocolsBySpecies:Zw,getActiveVaccinationProtocols:e1,getAntiparasiticById:Ke,getAntiparasiticsByPetId:Wt,getAntiparasiticsByClientId:Yn,getOverdueAntiparasitics:kt,getUpcomingAntiparasitics:Nn,getAntiparasiticsByStatus:dr,getAntiparasiticProtocolById:Qn,getAntiparasiticProtocolsBySpecies:gs,getActiveAntiparasiticProtocols:Se,getPetsByOwnerId:sn,getConsultationsByPetId:is,getConsultationsByClientId:Qr,getAppointmentsByClientId:Le,getAppointmentsByPetId:kn,getAppointmentsByDate:Xn,getUpcomingAppointments:sa,getOverdueAppointments:bt,getPrescriptionsByPetId:si,getPrescriptionsByConsultationId:ys,getActivePrescriptions:Ls,getFarmInterventionsByFarmId:Dv,getUpcomingFarmInterventions:Uw,getFarmsByStatus:qw,getVaccinationsByPetId:Gw,getVaccinationsByClientId:jd,getOverdueVaccinations:Kw,getUpcomingVaccinations:Yw,getVaccinationsByStatus:Qw,createVaccinationReminder:Lv,completeVaccinationReminder:Fv,confirmVaccinationReminder:xm,updateVaccinationStatuses:Mv,calculateDueDateFromProtocol:Rv,updateClientStats:te,getStockAlerts:se},children:e})}const jt=()=>{const e=w.useContext(lz);if(e===void 0)throw new Error("useClients must be used within a ClientProvider");return e},ie=w.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:Ze("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));ie.displayName="Input";var Xde="Label",cz=w.forwardRef((e,t)=>r.jsx(st.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cz.displayName=Xde;var uz=cz;const Jde=lv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),B=w.forwardRef(({className:e,...t},n)=>r.jsx(uz,{ref:n,className:Ze(Jde(),e),...t}));B.displayName=uz.displayName;const de=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));de.displayName="Card";const Pe=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("flex flex-col space-y-1.5 p-6",e),...t}));Pe.displayName="CardHeader";const Ee=w.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:Ze("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ee.displayName="CardTitle";const lf=w.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:Ze("text-sm text-muted-foreground",e),...t}));lf.displayName="CardDescription";const he=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("p-6 pt-0",e),...t}));he.displayName="CardContent";const Zde=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("flex items-center p-6 pt-0",e),...t}));Zde.displayName="CardFooter";const ehe=lv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),hg=w.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:Ze(ehe({variant:t}),e),...n}));hg.displayName="Alert";const the=w.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:Ze("mb-1 font-medium leading-none tracking-tight",e),...t}));the.displayName="AlertTitle";const fg=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("text-sm [&_p]:leading-relaxed",e),...t}));fg.displayName="AlertDescription";function nhe(){const[e,t]=w.useState(""),[n,s]=w.useState(""),[i,a]=w.useState(!1),[o,l]=w.useState(""),[c,u]=w.useState(!1),[d,f]=w.useState(!1),{login:m,isLoading:g}=Ic(),x=Hde(),v=Gde(),y=async _=>{if(_.preventDefault(),l(""),!e||!n){l("Veuillez remplir tous les champs");return}await m(e,n)||l("Email ou mot de passe incorrect, ou email non confirmé")},N=async()=>{l("");try{await x.mutateAsync()}catch{l("Erreur lors de la connexion avec Google")}},j=async _=>{if(_.preventDefault(),l(""),!e){l("Veuillez saisir votre email");return}try{await v.mutateAsync(e),f(!0)}catch(C){l(C instanceof Error?C.message:"Une erreur est survenue")}},b=()=>{u(!1),f(!1),l(""),s("")};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsxs(de,{className:"w-full max-w-md",children:[r.jsxs(Pe,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:r.jsx(qt,{className:"h-8 w-8 text-primary"})})}),r.jsx(Ee,{className:"text-2xl font-bold",children:"VetPro CRM3"}),r.jsx(lf,{children:c?d?"Vérifiez votre email":"Réinitialiser votre mot de passe":"Connectez-vous à votre espace vétérinaire"})]}),r.jsx(he,{children:d?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Nous avons envoyé un lien de réinitialisation à ",r.jsx("strong",{children:e})]}),r.jsx("p",{className:"text-xs text-muted-foreground mb-6",children:"Cliquez sur le lien dans l'email pour réinitialiser votre mot de passe. Si vous ne voyez pas l'email, vérifiez votre dossier spam."})]}),r.jsxs(V,{onClick:b,className:"w-full",children:[r.jsx(mM,{className:"mr-2 h-4 w-4"}),"Retour à la connexion"]})]}):c?r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[o&&r.jsx(hg,{variant:"destructive",children:r.jsx(fg,{children:o})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"reset-email",children:"Email"}),r.jsx(ie,{id:"reset-email",type:"email",placeholder:"votre.email@example.com",value:e,onChange:_=>t(_.target.value),disabled:v.isPending,required:!0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Entrez l'adresse email associée à votre compte"})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:v.isPending,children:v.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Aa,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi en cours..."]}):"Envoyer le lien de réinitialisation"}),r.jsx("div",{className:"text-center",children:r.jsxs(V,{type:"button",variant:"link",onClick:b,className:"text-sm",children:[r.jsx(mM,{className:"mr-1 h-4 w-4"}),"Retour à la connexion"]})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o&&r.jsx(hg,{variant:"destructive",children:r.jsx(fg,{children:o})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",placeholder:"vet@vetpro.com",value:e,onChange:_=>t(_.target.value),disabled:g,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"password",children:"Mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(ie,{id:"password",type:i?"text":"password",placeholder:"••••••••",value:n,onChange:_=>s(_.target.value),disabled:g,required:!0}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),disabled:g,children:i?r.jsx(GC,{className:"h-4 w-4"}):r.jsx(Ir,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{type:"button",variant:"link",className:"text-xs p-0 h-auto",onClick:()=>u(!0),children:"Mot de passe oublié ?"})})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:g,children:g?r.jsxs(r.Fragment,{children:[r.jsx(Aa,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continuer avec"})})]}),r.jsx(V,{type:"button",variant:"outline",className:"w-full",onClick:N,disabled:g||x.isPending,children:x.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Aa,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion avec Google..."]}):r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuer avec Google"]})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pas encore de compte ?"," ",r.jsx("a",{href:"/register",className:"text-primary hover:underline",children:"S'inscrire"})]})})]})})]})})}function ds({children:e}){const{isAuthenticated:t,isLoading:n,user:s}=Ic(),[i,a]=w.useState(!1);return w.useEffect(()=>{if(n){const o=setTimeout(()=>{a(!0)},3e3);return()=>clearTimeout(o)}else a(!1)},[n]),i?r.jsx(v2,{to:"/login",replace:!0}):n&&!i?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Vérification de l'authentification..."})]})}):!t||!s?r.jsx(v2,{to:"/login",replace:!0}):r.jsx(r.Fragment,{children:e})}function rhe({children:e,redirectTo:t="/dashboard"}){const{isAuthenticated:n,isLoading:s,user:i}=Ic(),[a,o]=w.useState(!1);return w.useEffect(()=>{if(s){const l=setTimeout(()=>{o(!0)},2e3);return()=>clearTimeout(l)}else o(!1)},[s]),a?r.jsx(r.Fragment,{children:e}):s&&!a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Chargement..."})]})}):n&&i?r.jsx(v2,{to:t,replace:!0}):r.jsx(r.Fragment,{children:e})}const dz="/assets/vet-hero-UFBVcjRL.jpg";function she(){return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"border-b",children:r.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-xl font-bold",children:"VetPro"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(V,{variant:"ghost",asChild:!0,children:r.jsx(Na,{to:"/login",children:"Se connecter"})}),r.jsx(V,{asChild:!0,children:r.jsx(Na,{to:"/register",children:"Commencer"})})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-sm font-medium text-primary",children:"Solution CRM Vétérinaire Complète"})]}),r.jsxs("h1",{className:"text-5xl font-bold leading-tight",children:["Gérez votre pratique",r.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"vétérinaire efficacement"})]}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"VetPro vous aide à gérer vos clients, leurs animaux, les rendez-vous, consultations et l'historique médical. Optimisez votre pratique avec notre solution tout-en-un."})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(V,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:r.jsxs(Na,{to:"/register",children:["Commencer gratuitement",r.jsx(HC,{className:"h-4 w-4"})]})}),r.jsx(V,{variant:"outline",size:"lg",className:"gap-2",asChild:!0,children:r.jsx(Na,{to:"/login",children:"Voir la démo"})})]})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsx("img",{src:dz,alt:"Vétérinaire professionnel",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})})}),r.jsx("section",{className:"py-20 bg-muted/30",children:r.jsxs("div",{className:"container mx-auto px-6",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Tout ce dont vous avez besoin pour votre clinique"}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Une solution complète pour moderniser et optimiser votre pratique vétérinaire"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Da,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Gestion des Clients"}),r.jsx("p",{className:"text-muted-foreground",children:"Gérez facilement vos clients et leurs animaux avec un système intuitif et complet."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Pt,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Rendez-vous"}),r.jsx("p",{className:"text-muted-foreground",children:"Planifiez et gérez vos rendez-vous avec un calendrier intelligent et flexible."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(ur,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Consultations"}),r.jsx("p",{className:"text-muted-foreground",children:"Documentez vos consultations et maintenez un historique médical détaillé."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(e6,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Statistiques"}),r.jsx("p",{className:"text-muted-foreground",children:"Analysez votre activité avec des rapports détaillés et des tableaux de bord."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(ji,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Sécurisé"}),r.jsx("p",{className:"text-muted-foreground",children:"Vos données sont protégées avec les plus hauts standards de sécurité."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(qt,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Farm Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Gérez les exploitations agricoles et suivez la santé des troupeaux."})]})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-6 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Prêt à moderniser votre pratique ?"}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Rejoignez des centaines de vétérinaires qui font confiance à VetPro pour gérer leur clinique efficacement."}),r.jsx("div",{className:"flex gap-4 justify-center",children:r.jsx(V,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:r.jsxs(Na,{to:"/register",children:["Commencer maintenant",r.jsx(HC,{className:"h-4 w-4"})]})})})]})})}),r.jsx("footer",{className:"border-t py-8",children:r.jsx("div",{className:"container mx-auto px-6 text-center text-muted-foreground",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," VetPro. Tous droits réservés."]})})})]})}const ihe=()=>{const e=Yf(),{toast:t}=Rt(),[n,s]=w.useState(!1),[i,a]=w.useState({username:"",fullName:"",email:"",password:"",confirmPassword:""}),o=u=>u.length<8?"Le mot de passe doit contenir au moins 8 caractères":/[A-Z]/.test(u)?/[a-z]/.test(u)?/\d/.test(u)?/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?]/.test(u)?null:"Le mot de passe doit contenir au moins un caractère spécial":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une lettre minuscule":"Le mot de passe doit contenir au moins une lettre majuscule",l=u=>{a(d=>({...d,[u.target.id]:u.target.value}))},c=async u=>{if(u.preventDefault(),s(!0),i.password!==i.confirmPassword){t({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"}),s(!1);return}const d=o(i.password);if(d){t({title:"Erreur",description:d,variant:"destructive"}),s(!1);return}try{await Rde(i.email,i.password,i.username,i.fullName,"assistant"),t({title:"Inscription réussie",description:"Votre compte a été créé avec succès. Veuillez vérifier votre email et cliquer sur le lien de confirmation pour pouvoir vous connecter."}),e("/login")}catch(f){const m=f instanceof Error?f.message:"Une erreur est survenue lors de l'inscription";t({title:"Erreur d'inscription",description:m,variant:"destructive"})}finally{s(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:r.jsxs(de,{className:"w-full max-w-md",children:[r.jsxs(Pe,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(qt,{className:"h-12 w-12 text-primary"})}),r.jsx(Ee,{className:"text-2xl gradient-primary bg-clip-text text-transparent",children:"VetPro CRM"}),r.jsx(lf,{children:"Créez votre compte vétérinaire"})]}),r.jsxs(he,{children:[r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"username",children:"Nom d'utilisateur"}),r.jsx(ie,{id:"username",placeholder:"martin.dubois",value:i.username,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"fullName",children:"Nom complet"}),r.jsx(ie,{id:"fullName",placeholder:"Dr. Martin Dubois",value:i.fullName,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",placeholder:"votre.email@example.com",value:i.email,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"password",children:"Mot de passe"}),r.jsx(ie,{id:"password",type:"password",placeholder:"Votre mot de passe sécurisé",value:i.password,onChange:l,required:!0,minLength:8}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Le mot de passe doit contenir au moins 8 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),r.jsx(ie,{id:"confirmPassword",type:"password",placeholder:"Confirmer votre mot de passe",value:i.confirmPassword,onChange:l,required:!0,minLength:8})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(Aa,{className:"mr-2 h-4 w-4 animate-spin"}),"Création en cours..."]}):"Créer le compte"})]}),r.jsxs("div",{className:"mt-6 text-center",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Déjà un compte ?"," ",r.jsx(Na,{to:"/login",className:"text-primary hover:underline",children:"Se connecter"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:r.jsx(Na,{to:"/",className:"hover:underline",children:"Retour à l'accueil"})})]})]})]})})};var Mb="Dialog",[hz,$6e]=Zs(Mb),[ahe,Ba]=hz(Mb),fz=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=go({prop:s,defaultProp:i??!1,onChange:a,caller:Mb});return r.jsx(ahe,{scope:t,triggerRef:l,contentRef:c,contentId:rs(),titleId:rs(),descriptionId:rs(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};fz.displayName=Mb;var mz="DialogTrigger",pz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ba(mz,n),a=Qt(t,i.triggerRef);return r.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":dE(i.open),...s,ref:a,onClick:He(e.onClick,i.onOpenToggle)})});pz.displayName=mz;var cE="DialogPortal",[ohe,gz]=hz(cE,{forceMount:void 0}),vz=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,a=Ba(cE,t);return r.jsx(ohe,{scope:t,forceMount:n,children:w.Children.map(s,o=>r.jsx(ei,{present:n||a.open,children:r.jsx(Bf,{asChild:!0,container:i,children:o})}))})};vz.displayName=cE;var D0="DialogOverlay",xz=w.forwardRef((e,t)=>{const n=gz(D0,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Ba(D0,e.__scopeDialog);return a.modal?r.jsx(ei,{present:s||a.open,children:r.jsx(che,{...i,ref:t})}):null});xz.displayName=D0;var lhe=bc("DialogOverlay.RemoveScroll"),che=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ba(D0,n);return r.jsx(fv,{as:lhe,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(st.div,{"data-state":dE(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Hu="DialogContent",yz=w.forwardRef((e,t)=>{const n=gz(Hu,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Ba(Hu,e.__scopeDialog);return r.jsx(ei,{present:s||a.open,children:a.modal?r.jsx(uhe,{...i,ref:t}):r.jsx(dhe,{...i,ref:t})})});yz.displayName=Hu;var uhe=w.forwardRef((e,t)=>{const n=Ba(Hu,e.__scopeDialog),s=w.useRef(null),i=Qt(t,n.contentRef,s);return w.useEffect(()=>{const a=s.current;if(a)return Nb(a)},[]),r.jsx(jz,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:He(e.onFocusOutside,a=>a.preventDefault())})}),dhe=w.forwardRef((e,t)=>{const n=Ba(Hu,e.__scopeDialog),s=w.useRef(!1),i=w.useRef(!1);return r.jsx(jz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),jz=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=Ba(Hu,n),c=w.useRef(null),u=Qt(t,c);return bb(),r.jsxs(r.Fragment,{children:[r.jsx(dv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(ld,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":dE(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(hhe,{titleId:l.titleId}),r.jsx(mhe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),uE="DialogTitle",bz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ba(uE,n);return r.jsx(st.h2,{id:i.titleId,...s,ref:t})});bz.displayName=uE;var wz="DialogDescription",Nz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ba(wz,n);return r.jsx(st.p,{id:i.descriptionId,...s,ref:t})});Nz.displayName=wz;var Sz="DialogClose",Cz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ba(Sz,n);return r.jsx(st.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>i.onOpenChange(!1))})});Cz.displayName=Sz;function dE(e){return e?"open":"closed"}var _z="DialogTitleWarning",[R6e,Pz]=Uee(_z,{contentName:Hu,titleName:uE,docsSlug:"dialog"}),hhe=({titleId:e})=>{const t=Pz(_z),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},fhe="DialogDescriptionWarning",mhe=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pz(fhe).contentName}}.`;return w.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Az=fz,phe=pz,Ez=vz,hE=xz,fE=yz,kz=bz,Tz=Nz,ghe=Cz;const St=Az,$c=phe,vhe=Ez,Oz=w.forwardRef(({className:e,...t},n)=>r.jsx(hE,{ref:n,className:Ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Oz.displayName=hE.displayName;const wt=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(vhe,{children:[r.jsx(Oz,{}),r.jsxs(fE,{ref:s,className:Ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(ghe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(db,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wt.displayName=fE.displayName;const Ct=({className:e,...t})=>r.jsx("div",{className:Ze("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ct.displayName="DialogHeader";const _t=w.forwardRef(({className:e,...t},n)=>r.jsx(kz,{ref:n,className:Ze("text-lg font-semibold leading-none tracking-tight",e),...t}));_t.displayName=kz.displayName;const jn=w.forwardRef(({className:e,...t},n)=>r.jsx(Tz,{ref:n,className:Ze("text-sm text-muted-foreground",e),...t}));jn.displayName=Tz.displayName;const Nt=w.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Ze("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Nt.displayName="Textarea";function TI(e,[t,n]){return Math.min(n,Math.max(t,e))}function mE(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var xhe=[" ","Enter","ArrowUp","ArrowDown"],yhe=[" ","Enter"],Gu="Select",[Ib,$b,jhe]=ob(Gu),[Jf,L6e]=Zs(Gu,[jhe,Ec]),Rb=Ec(),[bhe,Rc]=Jf(Gu),[whe,Nhe]=Jf(Gu),Dz=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:g,form:x}=e,v=Rb(t),[y,N]=w.useState(null),[j,b]=w.useState(null),[_,C]=w.useState(!1),A=jb(u),[P,E]=go({prop:s,defaultProp:i??!1,onChange:a,caller:Gu}),[M,$]=go({prop:o,defaultProp:l,onChange:c,caller:Gu}),T=w.useRef(null),O=y?x||!!y.closest("form"):!0,[L,z]=w.useState(new Set),J=Array.from(L).map(H=>H.props.value).join(";");return r.jsx(FA,{...v,children:r.jsxs(bhe,{required:g,scope:t,trigger:y,onTriggerChange:N,valueNode:j,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:rs(),value:M,onValueChange:$,open:P,onOpenChange:E,dir:A,triggerPointerDownPosRef:T,disabled:m,children:[r.jsx(Ib.Provider,{scope:t,children:r.jsx(whe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(H=>{z(oe=>new Set(oe).add(H))},[]),onNativeOptionRemove:w.useCallback(H=>{z(oe=>{const Q=new Set(oe);return Q.delete(H),Q})},[]),children:n})}),O?r.jsxs(rV,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:M,onChange:H=>$(H.target.value),disabled:m,form:x,children:[M===void 0?r.jsx("option",{value:""}):null,Array.from(L)]},J):null]})})};Dz.displayName=Gu;var Mz="SelectTrigger",Iz=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,a=Rb(n),o=Rc(Mz,n),l=o.disabled||s,c=Qt(t,o.onTriggerChange),u=$b(n),d=w.useRef("touch"),[f,m,g]=iV(v=>{const y=u().filter(b=>!b.disabled),N=y.find(b=>b.value===o.value),j=aV(y,v,N);j!==void 0&&o.onValueChange(j.value)}),x=v=>{l||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return r.jsx(uv,{asChild:!0,...a,children:r.jsx(st.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":sV(o.value)?"":void 0,...i,ref:c,onClick:He(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&x(v)}),onPointerDown:He(i.onPointerDown,v=>{d.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:He(i.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(y&&v.key===" ")&&xhe.includes(v.key)&&(x(),v.preventDefault())})})})});Iz.displayName=Mz;var $z="SelectValue",Rz=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:o="",...l}=e,c=Rc($z,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Qt(t,c.onValueNodeChange);return Nr(()=>{u(d)},[u,d]),r.jsx(st.span,{...l,ref:f,style:{pointerEvents:"none"},children:sV(c.value)?r.jsx(r.Fragment,{children:o}):a})});Rz.displayName=$z;var She="SelectIcon",Lz=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(st.span,{"aria-hidden":!0,...i,ref:t,children:s||"▼"})});Lz.displayName=She;var Che="SelectPortal",Fz=e=>r.jsx(Bf,{asChild:!0,...e});Fz.displayName=Che;var Ku="SelectContent",Bz=w.forwardRef((e,t)=>{const n=Rc(Ku,e.__scopeSelect),[s,i]=w.useState();if(Nr(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?od.createPortal(r.jsx(zz,{scope:e.__scopeSelect,children:r.jsx(Ib.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(Vz,{...e,ref:t})});Bz.displayName=Ku;var ma=10,[zz,Lc]=Jf(Ku),_he="SelectContentImpl",Phe=bc("SelectContent.RemoveScroll"),Vz=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:y,...N}=e,j=Rc(Ku,n),[b,_]=w.useState(null),[C,A]=w.useState(null),P=Qt(t,se=>_(se)),[E,M]=w.useState(null),[$,T]=w.useState(null),O=$b(n),[L,z]=w.useState(!1),J=w.useRef(!1);w.useEffect(()=>{if(b)return Nb(b)},[b]),bb();const H=w.useCallback(se=>{const[F,...Y]=O().map(I=>I.ref.current),[ee]=Y.slice(-1),G=document.activeElement;for(const I of se)if(I===G||(I==null||I.scrollIntoView({block:"nearest"}),I===F&&C&&(C.scrollTop=0),I===ee&&C&&(C.scrollTop=C.scrollHeight),I==null||I.focus(),document.activeElement!==G))return},[O,C]),oe=w.useCallback(()=>H([E,b]),[H,E,b]);w.useEffect(()=>{L&&oe()},[L,oe]);const{onOpenChange:Q,triggerPointerDownPosRef:D}=j;w.useEffect(()=>{if(b){let se={x:0,y:0};const F=ee=>{var G,I;se={x:Math.abs(Math.round(ee.pageX)-(((G=D.current)==null?void 0:G.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((I=D.current)==null?void 0:I.y)??0))}},Y=ee=>{se.x<=10&&se.y<=10?ee.preventDefault():b.contains(ee.target)||Q(!1),document.removeEventListener("pointermove",F),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",F),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",Y,{capture:!0})}}},[b,Q,D]),w.useEffect(()=>{const se=()=>Q(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[Q]);const[ae,pe]=iV(se=>{const F=O().filter(G=>!G.disabled),Y=F.find(G=>G.ref.current===document.activeElement),ee=aV(F,se,Y);ee&&setTimeout(()=>ee.ref.current.focus())}),te=w.useCallback((se,F,Y)=>{const ee=!J.current&&!Y;(j.value!==void 0&&j.value===F||ee)&&(M(se),ee&&(J.current=!0))},[j.value]),Z=w.useCallback(()=>b==null?void 0:b.focus(),[b]),ne=w.useCallback((se,F,Y)=>{const ee=!J.current&&!Y;(j.value!==void 0&&j.value===F||ee)&&T(se)},[j.value]),xe=s==="popper"?$2:Uz,ye=xe===$2?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:y}:{};return r.jsx(zz,{scope:n,content:b,viewport:C,onViewportChange:A,itemRefCallback:te,selectedItem:E,onItemLeave:Z,itemTextRefCallback:ne,focusSelectedItem:oe,selectedItemText:$,position:s,isPositioned:L,searchRef:ae,children:r.jsx(fv,{as:Phe,allowPinchZoom:!0,children:r.jsx(dv,{asChild:!0,trapped:j.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:He(i,se=>{var F;(F=j.trigger)==null||F.focus({preventScroll:!0}),se.preventDefault()}),children:r.jsx(ld,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:r.jsx(xe,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:se=>se.preventDefault(),...N,...ye,onPlaced:()=>z(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:He(N.onKeyDown,se=>{const F=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!F&&se.key.length===1&&pe(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let ee=O().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(se.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const G=se.target,I=ee.indexOf(G);ee=ee.slice(I+1)}setTimeout(()=>H(ee)),se.preventDefault()}})})})})})})});Vz.displayName=_he;var Ahe="SelectItemAlignedPosition",Uz=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,a=Rc(Ku,n),o=Lc(Ku,n),[l,c]=w.useState(null),[u,d]=w.useState(null),f=Qt(t,P=>d(P)),m=$b(n),g=w.useRef(!1),x=w.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:N,focusSelectedItem:j}=o,b=w.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&y&&N){const P=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),$=N.getBoundingClientRect();if(a.dir!=="rtl"){const G=$.left-E.left,I=M.left-G,ve=P.left-I,we=P.width+ve,Fe=Math.max(we,E.width),Be=window.innerWidth-ma,it=TI(I,[ma,Math.max(ma,Be-Fe)]);l.style.minWidth=we+"px",l.style.left=it+"px"}else{const G=E.right-$.right,I=window.innerWidth-M.right-G,ve=window.innerWidth-P.right-I,we=P.width+ve,Fe=Math.max(we,E.width),Be=window.innerWidth-ma,it=TI(I,[ma,Math.max(ma,Be-Fe)]);l.style.minWidth=we+"px",l.style.right=it+"px"}const T=m(),O=window.innerHeight-ma*2,L=v.scrollHeight,z=window.getComputedStyle(u),J=parseInt(z.borderTopWidth,10),H=parseInt(z.paddingTop,10),oe=parseInt(z.borderBottomWidth,10),Q=parseInt(z.paddingBottom,10),D=J+H+L+Q+oe,ae=Math.min(y.offsetHeight*5,D),pe=window.getComputedStyle(v),te=parseInt(pe.paddingTop,10),Z=parseInt(pe.paddingBottom,10),ne=P.top+P.height/2-ma,xe=O-ne,ye=y.offsetHeight/2,se=y.offsetTop+ye,F=J+H+se,Y=D-F;if(F<=ne){const G=T.length>0&&y===T[T.length-1].ref.current;l.style.bottom="0px";const I=u.clientHeight-v.offsetTop-v.offsetHeight,ve=Math.max(xe,ye+(G?Z:0)+I+oe),we=F+ve;l.style.height=we+"px"}else{const G=T.length>0&&y===T[0].ref.current;l.style.top="0px";const ve=Math.max(ne,J+v.offsetTop+(G?te:0)+ye)+Y;l.style.height=ve+"px",v.scrollTop=F-ne+v.offsetTop}l.style.margin=`${ma}px 0`,l.style.minHeight=ae+"px",l.style.maxHeight=O+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[m,a.trigger,a.valueNode,l,u,v,y,N,a.dir,s]);Nr(()=>b(),[b]);const[_,C]=w.useState();Nr(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const A=w.useCallback(P=>{P&&x.current===!0&&(b(),j==null||j(),x.current=!1)},[b,j]);return r.jsx(khe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:A,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:r.jsx(st.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Uz.displayName=Ahe;var Ehe="SelectPopperPosition",$2=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=ma,...a}=e,o=Rb(n);return r.jsx(pb,{...o,...a,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$2.displayName=Ehe;var[khe,pE]=Jf(Ku,{}),R2="SelectViewport",qz=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,a=Lc(R2,n),o=pE(R2,n),l=Qt(t,a.onViewportChange),c=w.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Ib.Slot,{scope:n,children:r.jsx(st.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:He(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const x=window.innerHeight-ma*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),N=Math.max(v,y);if(N<x){const j=N+g,b=Math.min(x,j),_=j-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});qz.displayName=R2;var Wz="SelectGroup",[The,Ohe]=Jf(Wz),Dhe=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=rs();return r.jsx(The,{scope:n,id:i,children:r.jsx(st.div,{role:"group","aria-labelledby":i,...s,ref:t})})});Dhe.displayName=Wz;var Hz="SelectLabel",Gz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Ohe(Hz,n);return r.jsx(st.div,{id:i.id,...s,ref:t})});Gz.displayName=Hz;var M0="SelectItem",[Mhe,Kz]=Jf(M0),Yz=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...o}=e,l=Rc(M0,n),c=Lc(M0,n),u=l.value===s,[d,f]=w.useState(a??""),[m,g]=w.useState(!1),x=Qt(t,j=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,j,s,i)}),v=rs(),y=w.useRef("touch"),N=()=>{i||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Mhe,{scope:n,value:s,disabled:i,textId:v,isSelected:u,onItemTextChange:w.useCallback(j=>{f(b=>b||((j==null?void 0:j.textContent)??"").trim())},[]),children:r.jsx(Ib.ItemSlot,{scope:n,value:s,disabled:i,textValue:d,children:r.jsx(st.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:He(o.onFocus,()=>g(!0)),onBlur:He(o.onBlur,()=>g(!1)),onClick:He(o.onClick,()=>{y.current!=="mouse"&&N()}),onPointerUp:He(o.onPointerUp,()=>{y.current==="mouse"&&N()}),onPointerDown:He(o.onPointerDown,j=>{y.current=j.pointerType}),onPointerMove:He(o.onPointerMove,j=>{var b;y.current=j.pointerType,i?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(o.onPointerLeave,j=>{var b;j.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:He(o.onKeyDown,j=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&j.key===" "||(yhe.includes(j.key)&&N(),j.key===" "&&j.preventDefault())})})})})});Yz.displayName=M0;var gp="SelectItemText",Qz=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...a}=e,o=Rc(gp,n),l=Lc(gp,n),c=Kz(gp,n),u=Nhe(gp,n),[d,f]=w.useState(null),m=Qt(t,N=>f(N),c.onItemTextChange,N=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,N,c.value,c.disabled)}),g=d==null?void 0:d.textContent,x=w.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return Nr(()=>(v(x),()=>y(x)),[v,y,x]),r.jsxs(r.Fragment,{children:[r.jsx(st.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?od.createPortal(a.children,o.valueNode):null]})});Qz.displayName=gp;var Xz="SelectItemIndicator",Jz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return Kz(Xz,n).isSelected?r.jsx(st.span,{"aria-hidden":!0,...s,ref:t}):null});Jz.displayName=Xz;var L2="SelectScrollUpButton",Zz=w.forwardRef((e,t)=>{const n=Lc(L2,e.__scopeSelect),s=pE(L2,e.__scopeSelect),[i,a]=w.useState(!1),o=Qt(t,s.onScrollButtonChange);return Nr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(tV,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Zz.displayName=L2;var F2="SelectScrollDownButton",eV=w.forwardRef((e,t)=>{const n=Lc(F2,e.__scopeSelect),s=pE(F2,e.__scopeSelect),[i,a]=w.useState(!1),o=Qt(t,s.onScrollButtonChange);return Nr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(tV,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});eV.displayName=F2;var tV=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,a=Lc("SelectScrollButton",n),o=w.useRef(null),l=$b(n),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Nr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),r.jsx(st.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:He(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:He(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:He(i.onPointerLeave,()=>{c()})})}),Ihe="SelectSeparator",nV=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(st.div,{"aria-hidden":!0,...s,ref:t})});nV.displayName=Ihe;var B2="SelectArrow",$he=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Rb(n),a=Rc(B2,n),o=Lc(B2,n);return a.open&&o.position==="popper"?r.jsx(gb,{...i,...s,ref:t}):null});$he.displayName=B2;var Rhe="SelectBubbleInput",rV=w.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=w.useRef(null),a=Qt(s,i),o=mE(t);return w.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(st.select,{...n,style:{...T5,...n.style},ref:a,defaultValue:t})});rV.displayName=Rhe;function sV(e){return e===""||e===void 0}function iV(e){const t=Ds(e),n=w.useRef(""),s=w.useRef(0),i=w.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=w.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function aV(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Lhe(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Lhe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Fhe=Dz,oV=Iz,Bhe=Rz,zhe=Lz,Vhe=Fz,lV=Bz,Uhe=qz,cV=Gz,uV=Yz,qhe=Qz,Whe=Jz,dV=Zz,hV=eV,fV=nV;const Me=Fhe,Ie=Bhe,Oe=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(oV,{ref:s,className:Ze("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(zhe,{asChild:!0,children:r.jsx(ub,{className:"h-4 w-4 opacity-50"})})]}));Oe.displayName=oV.displayName;const mV=w.forwardRef(({className:e,...t},n)=>r.jsx(dV,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Ute,{className:"h-4 w-4"})}));mV.displayName=dV.displayName;const pV=w.forwardRef(({className:e,...t},n)=>r.jsx(hV,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(ub,{className:"h-4 w-4"})}));pV.displayName=hV.displayName;const De=w.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>r.jsx(Vhe,{children:r.jsxs(lV,{ref:i,className:Ze("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(mV,{}),r.jsx(Uhe,{className:Ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(pV,{})]})}));De.displayName=lV.displayName;const Hhe=w.forwardRef(({className:e,...t},n)=>r.jsx(cV,{ref:n,className:Ze("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Hhe.displayName=cV.displayName;const U=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(uV,{ref:s,className:Ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Whe,{children:r.jsx(SA,{className:"h-4 w-4"})})}),r.jsx(qhe,{children:t})]}));U.displayName=uV.displayName;const Ghe=w.forwardRef(({className:e,...t},n)=>r.jsx(fV,{ref:n,className:Ze("-mx-1 my-1 h-px bg-muted",e),...t}));Ghe.displayName=fV.displayName;const Khe=async()=>{const{data:e,error:t}=await rn.from("clients").select("*").order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching clients: ${t.message}`);return e||[]},Yhe=async e=>{const{data:{user:t}}=await rn.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:n,error:s}=await rn.from("clients").insert({...e,user_id:t.id,city:e.city||"Rabat",country:e.country||"Maroc",client_type:e.client_type||"particulier"}).select().single();if(s)throw new Error(`Error creating client: ${s.message}`);return n},Qhe=async(e,t)=>{const{data:n,error:s}=await rn.from("clients").update(t).eq("id",e).select().single();if(s)throw new Error(`Error updating client: ${s.message}`);return n},Xhe=async()=>{const{data:e,error:t}=await rn.from("animals").select(`
      *,
      client:clients(*)
    `).order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching animals: ${t.message}`);return e||[]},Jhe=async e=>{var o,l,c;const{data:{user:t}}=await rn.auth.getUser();if(!t)throw new Error("User not authenticated");const n={...e};"microchip_number"in n&&!((o=n.microchip_number)!=null&&o.trim())&&delete n.microchip_number,"birth_date"in n&&!((l=n.birth_date)!=null&&l.trim())&&delete n.birth_date,"sterilization_date"in n&&!((c=n.sterilization_date)!=null&&c.trim())&&delete n.sterilization_date;const s=u=>{switch(u){case"healthy":return"vivant";case"urgent":return"décédé";case"treatment":return"perdu";default:return"vivant"}},{data:i,error:a}=await rn.from("animals").insert({...n,user_id:t.id,sterilized:n.sterilized||!1,status:s(n.status)}).select(`
      *,
      client:clients(*)
    `).single();if(a)throw new Error(`Error creating animal: ${a.message}`);return i},Zhe=async(e,t)=>{var a,o,l;const n={...t};"microchip_number"in n&&!((a=n.microchip_number)!=null&&a.trim())&&(n.microchip_number=null),"birth_date"in n&&!((o=n.birth_date)!=null&&o.trim())&&(n.birth_date=null),"sterilization_date"in n&&!((l=n.sterilization_date)!=null&&l.trim())&&(n.sterilization_date=null);const{data:s,error:i}=await rn.from("animals").update(n).eq("id",e).select(`
      *,
      client:clients(*)
    `).single();if(i)throw new Error(`Error updating animal: ${i.message}`);return s},efe=async e=>{const{data:{user:t}}=await rn.auth.getUser();if(!t)throw new Error("User not authenticated");const{medications:n,...s}=e,{data:i,error:a}=await rn.from("prescriptions").insert({...s,veterinarian_id:s.veterinarian_id||t.id}).select().single();if(a)throw new Error(`Error creating prescription: ${a.message}`);if(n&&n.length>0){const c=n.map(d=>({...d,prescription_id:i.id})),{error:u}=await rn.from("prescription_medications").insert(c);if(u)throw new Error(`Error creating prescription medications: ${u.message}`)}const{data:o,error:l}=await rn.from("prescriptions").select(`
      *,
      animal:animals(*),
      client:clients(*),
      medications:prescription_medications(*)
    `).eq("id",i.id).single();if(l)throw new Error(`Error fetching complete prescription: ${l.message}`);return o},tfe=async()=>{const{data:e,error:t}=await rn.from("stock_items").select("*").eq("active",!0).order("name",{ascending:!0});if(t)throw new Error(`Error fetching stock items: ${t.message}`);return e||[]},to={all:["clients"],lists:()=>[...to.all,"list"],list:e=>[...to.lists(),{filters:e}],details:()=>[...to.all,"detail"],detail:e=>[...to.details(),e],search:e=>[...to.all,"search",e]},gi={all:["animals"],lists:()=>[...gi.all,"list"],list:e=>[...gi.lists(),{filters:e}],details:()=>[...gi.all,"detail"],detail:e=>[...gi.details(),e],byClient:e=>[...gi.all,"client",e],search:e=>[...gi.all,"search",e]},gE={all:["stats"],clients:()=>[...gE.all,"clients"]},vE={all:["userProfile"],profile:()=>[...vE.all,"profile"]},yv=()=>kc({queryKey:to.lists(),queryFn:Khe,staleTime:5*60*1e3}),nfe=()=>{const e=ti();return Pi({mutationFn:Yhe,onSuccess:t=>{e.invalidateQueries({queryKey:to.lists()}),e.setQueryData(to.detail(t.id),t),e.invalidateQueries({queryKey:gE.clients()})}})},rfe=()=>{const e=ti();return Pi({mutationFn:({id:t,data:n})=>Qhe(t,n),onSuccess:t=>{e.setQueryData(to.detail(t.id),t),e.invalidateQueries({queryKey:to.lists()})}})},jv=()=>kc({queryKey:gi.lists(),queryFn:Xhe,staleTime:5*60*1e3}),sfe=()=>{const e=ti();return Pi({mutationFn:Jhe,onSuccess:t=>{e.invalidateQueries({queryKey:gi.lists()}),e.setQueryData(gi.detail(t.id),t),e.invalidateQueries({queryKey:gi.byClient(t.client_id)}),e.invalidateQueries({queryKey:gE.clients()})}})},ife=()=>{const e=ti();return Pi({mutationFn:({id:t,data:n})=>Zhe(t,n),onSuccess:t=>{e.setQueryData(gi.detail(t.id),t),e.invalidateQueries({queryKey:gi.lists()}),e.invalidateQueries({queryKey:gi.byClient(t.client_id)})}})},gV=()=>kc({queryKey:["consultations"],queryFn:async()=>{const{data:e,error:t}=await rn.from("consultations").select(`
          *,
          animal:animals(*),
          client:clients(*)
        `).order("consultation_date",{ascending:!1});if(t)throw t;return e||[]}}),vV=()=>{const e=ti();return Pi({mutationFn:async t=>{const{data:{user:n}}=await rn.auth.getUser();if(!n)throw new Error("User not authenticated");const s={...t,veterinarian_id:n.id,consultation_date:t.consultation_date||new Date().toISOString(),status:"completed"},{data:i,error:a}=await rn.from("consultations").insert(s).select().single();if(a)throw a;return i},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},afe=()=>{const e=ti();return Pi({mutationFn:async t=>{const{error:n}=await rn.from("consultations").delete().eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},ofe=()=>kc({queryKey:["vaccinations"],queryFn:async()=>{const{data:e,error:t}=await rn.from("vaccinations").select(`
          *,
          animal:animals(*),
          client:clients(*)
        `).order("date_vaccination",{ascending:!1});if(t)throw t;return e||[]}}),lfe=()=>kc({queryKey:["client-stats"],queryFn:async()=>{var a,o,l,c;const[e,t]=await Promise.all([rn.from("clients").select("id, status"),rn.from("animals").select("id, status")]);if(e.error||t.error)throw new Error("Failed to fetch client stats");const n=((a=e.data)==null?void 0:a.filter(u=>u.status==="actif").length)||0;(o=e.data)!=null&&o.length;const s=((l=t.data)==null?void 0:l.length)||0,i=((c=t.data)==null?void 0:c.reduce((u,d)=>(u[d.status]=(u[d.status]||0)+1,u),{}))||{};return{totalClients:n,totalAnimals:s,animalsByStatus:i}},staleTime:5*60*1e3}),cfe=()=>{const e=ti();return Pi({mutationFn:efe,onSuccess:()=>{e.invalidateQueries({queryKey:["prescriptions"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},ufe=()=>kc({queryKey:["stock-items"],queryFn:tfe,staleTime:5*60*1e3}),dfe=()=>kc({queryKey:vE.profile(),queryFn:Db,staleTime:5*60*1e3}),hfe=()=>{const e=ti();return Pi({mutationFn:t=>Fde(t),onSuccess:t=>{e.setQueryData(vE.profile(),t),e.invalidateQueries({queryKey:["auth","session"]})}})};function bv({open:e,onOpenChange:t}){const n=nfe(),{toast:s}=Rt(),[i,a]=w.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),o=u=>{const{id:d,value:f}=u.target;a(m=>({...m,[d]:f}))},l=(u,d)=>{a(f=>({...f,[u]:d}))},c=async u=>{u.preventDefault();try{await n.mutateAsync(i),s({title:"Client ajouté",description:`${i.first_name} ${i.last_name} a été ajouté et sauvegardé avec succès.`}),a({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),t(!1)}catch{s({title:"Erreur",description:"Une erreur s'est produite lors de l'ajout du client.",variant:"destructive"})}};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[500px]",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouveau Client"}),r.jsx(jn,{children:"Ajoutez un nouveau client à votre base de données."})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"first_name",children:"Prénom *"}),r.jsx(ie,{id:"first_name",value:i.first_name,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"last_name",children:"Nom *"}),r.jsx(ie,{id:"last_name",value:i.last_name,onChange:o,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:i.email||"",onChange:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"phone",children:"Téléphone *"}),r.jsx(ie,{id:"phone",value:i.phone||"",onChange:o,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"address",children:"Adresse"}),r.jsx(ie,{id:"address",value:i.address||"",onChange:o})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"city",children:"Ville"}),r.jsx(ie,{id:"city",value:i.city||"",onChange:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"postal_code",children:"Code postal"}),r.jsx(ie,{id:"postal_code",value:i.postal_code||"",onChange:o})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"mobile_phone",children:"Téléphone portable"}),r.jsx(ie,{id:"mobile_phone",value:i.mobile_phone||"",onChange:o,placeholder:"Numéro de téléphone portable"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"client_type",children:"Type de client"}),r.jsxs(Me,{value:i.client_type,onValueChange:u=>l("client_type",u),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le type"})}),r.jsxs(De,{children:[r.jsx(U,{value:"particulier",children:"Particulier"}),r.jsx(U,{value:"eleveur",children:"Éleveur"}),r.jsx(U,{value:"ferme",children:"Ferme"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",value:i.notes||"",onChange:o,placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",disabled:n.isPending,children:[n.isPending&&r.jsx(Aa,{className:"mr-2 h-4 w-4 animate-spin"}),"Ajouter Client"]})]})]})]})})}const ffe=lv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $e({className:e,variant:t,...n}){return r.jsx("div",{className:Ze(ffe({variant:t}),e),...n})}const hy="vetpro-clinicSettings",xV={farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},yV={clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},jV={openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]},z2=[{id:1,name:"Dr. Jean Dupont",isActive:!0},{id:2,name:"Dr. Marie Martin",isActive:!0},{id:3,name:"Pr. Ahmed El Alaoui",isActive:!0}],fy={clinicName:"",address:"",phone:"",email:"",website:"",footerText:"",logo:"/placeholder.svg",currency:"MAD",species:"",showClinicInfo:!0,showVetsInfo:!0,veterinarians:z2,farmManagement:xV,displayPreferences:yV,defaultConsultationPrice:150,scheduleSettings:jV},bV=w.createContext(void 0),mfe=({children:e})=>{const[t,n]=w.useState(fy);w.useEffect(()=>{const i=localStorage.getItem(hy);if(i)try{const a=JSON.parse(i),o={...fy,...a,veterinarians:a.veterinarians&&a.veterinarians.some(l=>l.name==="Dr. Martin"||l.name==="Dr. Dupont")?z2:a.veterinarians||z2,farmManagement:{...xV,...a.farmManagement},displayPreferences:{...yV,...a.displayPreferences},scheduleSettings:{...jV,...a.scheduleSettings}};n(o),localStorage.setItem(hy,JSON.stringify(o))}catch(a){console.error("Erreur lors du chargement des paramètres:",a),n(fy)}else localStorage.setItem(hy,JSON.stringify(fy))},[]);const s=i=>{n(i),localStorage.setItem(hy,JSON.stringify(i))};return r.jsx(bV.Provider,{value:{settings:t,updateSettings:s},children:e})},Jt=()=>{const e=w.useContext(bV);if(!e)throw new Error("useSettings must be used within SettingsProvider");return e};var Lb="Checkbox",[pfe,F6e]=Zs(Lb),[gfe,xE]=pfe(Lb);function vfe(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,g]=go({prop:n,defaultProp:i??!1,onChange:c,caller:Lb}),[x,v]=w.useState(null),[y,N]=w.useState(null),j=w.useRef(!1),b=x?!!o||!!x.closest("form"):!0,_={checked:m,disabled:a,setChecked:g,control:x,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:vc(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:N};return r.jsx(gfe,{scope:t,..._,children:xfe(f)?f(_):s})}var wV="CheckboxTrigger",NV=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},i)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:x}=xE(wV,e),v=Qt(i,d),y=w.useRef(c);return w.useEffect(()=>{const N=a==null?void 0:a.form;if(N){const j=()=>f(y.current);return N.addEventListener("reset",j),()=>N.removeEventListener("reset",j)}},[a,f]),r.jsx(st.button,{type:"button",role:"checkbox","aria-checked":vc(c)?"mixed":c,"aria-required":u,"data-state":AV(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:v,onKeyDown:He(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:He(n,N=>{f(j=>vc(j)?!0:!j),x&&g&&(m.current=N.isPropagationStopped(),m.current||N.stopPropagation())})})});NV.displayName=wV;var yE=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return r.jsx(vfe,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>r.jsxs(r.Fragment,{children:[r.jsx(NV,{...f,ref:t,__scopeCheckbox:n}),m&&r.jsx(PV,{__scopeCheckbox:n})]})})});yE.displayName=Lb;var SV="CheckboxIndicator",CV=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,a=xE(SV,n);return r.jsx(ei,{present:s||vc(a.checked)||a.checked===!0,children:r.jsx(st.span,{"data-state":AV(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});CV.displayName=SV;var _V="CheckboxBubbleInput",PV=w.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:g}=xE(_V,e),x=Qt(n,g),v=mE(a),y=$A(s);w.useEffect(()=>{const j=m;if(!j)return;const b=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(b,"checked").set,A=!i.current;if(v!==a&&C){const P=new Event("click",{bubbles:A});j.indeterminate=vc(a),C.call(j,vc(a)?!1:a),j.dispatchEvent(P)}},[m,v,a,i]);const N=w.useRef(vc(a)?!1:a);return r.jsx(st.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});PV.displayName=_V;function xfe(e){return typeof e=="function"}function vc(e){return e==="indeterminate"}function AV(e){return vc(e)?"indeterminate":e?"checked":"unchecked"}const Qi=w.forwardRef(({className:e,...t},n)=>r.jsx(yE,{ref:n,className:Ze("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(CV,{className:Ze("flex items-center justify-center text-current"),children:r.jsx(SA,{className:"h-4 w-4"})})}));Qi.displayName=yE.displayName;function wv({open:e,onOpenChange:t}){const{data:n=[]}=yv(),{data:s=[]}=jv(),i=sfe(),{settings:a}=Jt(),{toast:o}=Rt(),[l,c]=w.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),u=m=>{c(g=>({...g,[m.target.id]:m.target.value}))},d=(m,g)=>{c(x=>({...x,[m]:g}))},f=async m=>{if(m.preventDefault(),!n.find(x=>x.id===l.ownerId)){o({title:"Erreur",description:"Veuillez sélectionner un propriétaire valide."});return}if(l.microchip&&l.microchip.trim()&&s.find(v=>v.microchip_number===l.microchip.trim())){o({title:"Erreur",description:"Un animal avec ce numéro de puce existe déjà.",variant:"destructive"});return}try{const x={client_id:l.ownerId,name:l.name,species:l.type,breed:l.breed||void 0,color:l.color||void 0,sex:l.gender==="male"?"Mâle":l.gender==="female"?"Femelle":"Inconnu",weight:l.weight?Number(l.weight):void 0,birth_date:l.birthDate||void 0,...l.microchip&&l.microchip.trim()?{microchip_number:l.microchip.trim()}:{},notes:l.medicalNotes||void 0,photo_url:l.photo||void 0,status:l.status};await i.mutateAsync(x),o({title:"Animal ajouté",description:`${l.name} a été ajouté et sauvegardé avec succès.`}),c({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),t(!1)}catch{o({title:"Erreur",description:"Erreur lors de l'ajout de l'animal",variant:"destructive"})}};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvel Animal"}),r.jsx(jn,{children:"Ajoutez un nouvel animal à votre base de données."})]}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"name",children:"Nom de l'animal *"}),r.jsx(ie,{id:"name",value:l.name,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Type d'animal *"}),r.jsxs(Me,{value:l.type,onValueChange:m=>d("type",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le type"})}),r.jsx(De,{children:a.species?a.species.split(",").map((m,g)=>{const x=m.trim();return x?r.jsx(U,{value:x,children:x},g):null}).filter(Boolean):r.jsxs(r.Fragment,{children:[r.jsx(U,{value:"Chien",children:"Chien"}),r.jsx(U,{value:"Chat",children:"Chat"}),r.jsx(U,{value:"Oiseau",children:"Oiseau"}),r.jsx(U,{value:"Lapin",children:"Lapin"}),r.jsx(U,{value:"Furet",children:"Furet"}),r.jsx(U,{value:"Souris",children:"Souris"}),r.jsx(U,{value:"Hamster",children:"Hamster"}),r.jsx(U,{value:"Reptile",children:"Reptile"}),r.jsx(U,{value:"Autre",children:"Autre"})]})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"breed",children:"Race"}),r.jsx(ie,{id:"breed",value:l.breed,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Sexe"}),r.jsxs(Me,{value:l.gender,onValueChange:m=>d("gender",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le sexe"})}),r.jsxs(De,{children:[r.jsx(U,{value:"male",children:"Mâle"}),r.jsx(U,{value:"female",children:"Femelle"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"birthDate",children:"Date de naissance"}),r.jsx(ie,{id:"birthDate",type:"date",value:l.birthDate,onChange:u,max:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ie,{id:"weight",value:l.weight,onChange:u})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"color",children:"Couleur"}),r.jsx(ie,{id:"color",value:l.color,onChange:u})]}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Propriétaire *"}),n.length===0?r.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible. Veuillez d'abord ajouter un client."})}):r.jsxs(Me,{value:l.ownerId.toString(),onValueChange:m=>d("ownerId",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le propriétaire"})}),r.jsx(De,{children:n.map(m=>r.jsxs(U,{value:m.id.toString(),children:[m.first_name," ",m.last_name," - ",m.email]},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"microchip",children:"Numéro de puce électronique"}),r.jsx(ie,{id:"microchip",value:l.microchip,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"medicalNotes",children:"Notes médicales"}),r.jsx(Nt,{id:"medicalNotes",value:l.medicalNotes,onChange:u,placeholder:"Allergies, conditions médicales, notes importantes..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"État de santé"}),r.jsxs(Me,{value:l.status,onValueChange:m=>d("status",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner l'état de santé"})}),r.jsxs(De,{children:[r.jsx(U,{value:"healthy",children:"En bonne santé"}),r.jsx(U,{value:"treatment",children:"En traitement"}),r.jsx(U,{value:"urgent",children:"Urgent"})]})]})]}),r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qi,{id:"hasPedigree",checked:l.hasPedigree,onCheckedChange:m=>c(g=>({...g,hasPedigree:m}))}),r.jsx(B,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),l.hasPedigree&&r.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(ie,{id:"officialName",value:l.officialName,onChange:u,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),r.jsx(ie,{id:"pedigreeNumber",value:l.pedigreeNumber,onChange:u,placeholder:"Numéro de pedigree"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"breeder",children:"Éleveur"}),r.jsx(ie,{id:"breeder",value:l.breeder,onChange:u,placeholder:"Nom de l'éleveur"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Père"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom du père",value:l.fatherName,onChange:u}),r.jsx(ie,{placeholder:"N° pedigree du père",value:l.fatherPedigree,onChange:u}),r.jsx(ie,{placeholder:"Race du père",value:l.fatherBreed,onChange:u}),r.jsx(Nt,{placeholder:"Titres du père",value:l.fatherTitles,onChange:u,rows:2})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom de la mère",value:l.motherName,onChange:u}),r.jsx(ie,{placeholder:"N° pedigree de la mère",value:l.motherPedigree,onChange:u}),r.jsx(ie,{placeholder:"Race de la mère",value:l.motherBreed,onChange:u}),r.jsx(Nt,{placeholder:"Titres de la mère",value:l.motherTitles,onChange:u,rows:2})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Document pedigree"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,pedigreePhoto:x.result})),x.readAsDataURL(g)}}),l.pedigreePhoto&&r.jsx("img",{src:l.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Photo de l'animal"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,photo:x.result})),x.readAsDataURL(g)}}),l.photo&&r.jsx("img",{src:l.photo,alt:"preview",className:"h-24 w-24 object-cover rounded"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Ajouter Animal"})]})]})]})})}function jE(e,t,n){const s=[],{openingTime:i,closingTime:a,slotDuration:o,lunchBreakStart:l,lunchBreakEnd:c}=t,u=my(i),d=my(a),f=l?my(l):null,m=c?my(c):null;for(let g=u;g<d;g+=o){const x=jfe(g),v=f&&m&&g>=f&&g<m,y=n.some(N=>N.date===e&&N.time===x);s.push({time:x,isAvailable:!y&&!v,isLunchBreak:!!v})}return s}function yfe(e,t,n,s){const a=jE(e,n,s).find(o=>o.time===t);return a?a.isAvailable:!1}function my(e){const[t,n]=e.split(":").map(Number);return t*60+n}function jfe(e){const t=Math.floor(e/60),n=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function bfe(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"long"})}function wfe(e,t){const n=bfe(e).toLowerCase();return t.workingDays.includes(n)}function bE({open:e,onOpenChange:t,prefillClientId:n,prefillPetId:s,prefillType:i,prefillReason:a,originalVaccinationId:o}){var oe,Q;const{clients:l,pets:c,addAppointment:u,getPetsByOwnerId:d,createVaccinationReminder:f,appointments:m}=jt(),{settings:g}=Jt(),{toast:x}=Rt(),[v,y]=w.useState(!1),[N,j]=w.useState(!1),[b,_]=w.useState([]),[C,A]=w.useState({clientId:0,petId:0,date:"",time:"",type:"",duration:30,reason:"",notes:""}),[P,E]=w.useState([]),[M,$]=w.useState([]);w.useEffect(()=>{e&&(A({clientId:n||0,petId:s||0,date:"",time:"",type:i||"",duration:30,reason:a||"",notes:""}),E([]),$([]))},[e,n,s,i,a]),w.useEffect(()=>{if(e&&n&&s){const D=d(n);E(D);const ae=D.find(pe=>pe.id===s);A(ae?pe=>({...pe,petId:s}):pe=>({...pe,petId:0}))}},[e,n,s,d]),w.useEffect(()=>{if(C.clientId>0){const D=d(C.clientId);E(D),(!s||!D.find(ae=>ae.id===s))&&A(ae=>({...ae,petId:0}))}else E([])},[C.clientId,d,s]),w.useEffect(()=>{if(C.date){const D=jE(C.date,g.scheduleSettings,m);_(D),C.time&&!yfe(C.date,C.time,g.scheduleSettings,m)&&A(ae=>({...ae,time:""}))}else _([])},[C.date,g.scheduleSettings,m]),w.useEffect(()=>{C.date&&C.time&&C.duration&&T()},[C.date,C.time,C.duration]);const T=()=>{const D=[],ae=new Date(`${C.date}T${C.time}`),pe=new Date(ae.getTime()+C.duration*6e4),te=ae.getHours(),Z=pe.getHours();(te<8||Z>18)&&D.push("Le rendez-vous doit être entre 8h00 et 18h00");const ne=ae.getDay();(ne===0||ne===6)&&D.push("Pas de rendez-vous le weekend"),$(D)},O=D=>{A(ae=>({...ae,[D.target.id]:D.target.value}))},L=(D,ae)=>{A(pe=>({...pe,[D]:D==="clientId"||D==="petId"||D==="duration"?parseInt(ae):ae}))},z=D=>{if(D.preventDefault(),M.length>0){x({title:"Conflits détectés",description:M.join(", "),variant:"destructive"});return}if(!C.clientId||!C.petId||!C.date||!C.time||!C.type){x({title:"Informations manquantes",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}const ae=l.find(te=>te.id===C.clientId),pe=c.find(te=>te.id===C.petId);if(!ae||!pe){x({title:"Erreur",description:"Client ou animal non trouvé.",variant:"destructive"});return}u({clientId:C.clientId,clientName:ae.name,petId:C.petId,petName:pe.name,date:C.date,time:C.time,type:C.type,duration:C.duration,reason:C.reason,notes:C.notes,status:"scheduled",reminderSent:!1}),i==="vaccination"&&o&&(f(o,C.date,C.time),x({title:"Rappel enregistré",description:"Le rappel de vaccination a été ajouté."})),x({title:"Rendez-vous planifié",description:`RDV pour ${pe.name} (${ae.name}) prévu le ${C.date} à ${C.time}.`}),t(!1)},J=()=>new Date().toISOString().split("T")[0],H=D=>({consultation:"Consultation générale",vaccination:"Vaccination",chirurgie:"Chirurgie",urgence:"Urgence",controle:"Contrôle post-opératoire",sterilisation:"Stérilisation",dentaire:"Soins dentaires"})[D]||D;return r.jsxs(r.Fragment,{children:[r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-5 w-5"}),"Nouveau Rendez-vous"]}),r.jsx(jn,{children:"Planifiez un nouveau rendez-vous pour un client et son animal."})]}),r.jsxs("form",{onSubmit:z,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Client *"}),l.length===0?r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible."}),r.jsxs(V,{type:"button",size:"sm",variant:"outline",className:"mt-2 gap-1",onClick:()=>y(!0),children:[r.jsx(ht,{className:"h-3 w-3"}),"Ajouter Client"]})]}):r.jsxs(Me,{value:C.clientId.toString(),onValueChange:D=>L("clientId",D),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le client"})}),r.jsx(De,{children:l.map(D=>r.jsx(U,{value:D.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-3 w-3"}),D.name]})},D.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Animal *"}),C.clientId===0?r.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md",children:r.jsx("p",{className:"text-gray-600 text-sm",children:"Sélectionnez d'abord un client"})}):P.length===0?r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun animal pour ce client."}),r.jsxs(V,{type:"button",size:"sm",variant:"outline",className:"mt-2 gap-1",onClick:()=>j(!0),children:[r.jsx(ht,{className:"h-3 w-3"}),"Ajouter Animal"]})]}):r.jsxs(Me,{value:C.petId.toString(),onValueChange:D=>L("petId",D),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner l'animal"})}),r.jsx(De,{children:P.map(D=>r.jsx(U,{value:D.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-3 w-3"}),D.name," (",D.type,")"]})},D.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:C.date,onChange:O,min:J(),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"time",children:"Heure *"}),C.date?r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Me,{value:C.time,onValueChange:D=>A(ae=>({...ae,time:D})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un créneau"})}),r.jsx(De,{className:"max-h-60",children:b.map(D=>r.jsx(U,{value:D.time,disabled:!D.isAvailable,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:D.time}),D.isLunchBreak&&r.jsx($e,{variant:"secondary",className:"text-xs",children:"Pause"}),!D.isAvailable&&r.jsx($e,{variant:"destructive",className:"text-xs",children:"Occupé"})]})},D.time))})]}),b.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun créneau disponible pour cette date"})]}):r.jsx(ie,{id:"time",type:"time",value:C.time,onChange:O,disabled:!0,placeholder:"Sélectionnez d'abord une date"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Type de consultation *"}),r.jsxs(Me,{value:C.type,onValueChange:D=>L("type",D),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de RDV"})}),r.jsxs(De,{children:[r.jsx(U,{value:"consultation",children:"Consultation générale"}),r.jsx(U,{value:"vaccination",children:"Vaccination"}),r.jsx(U,{value:"chirurgie",children:"Chirurgie"}),r.jsx(U,{value:"urgence",children:"Urgence"}),r.jsx(U,{value:"controle",children:"Contrôle post-opératoire"}),r.jsx(U,{value:"sterilisation",children:"Stérilisation"}),r.jsx(U,{value:"dentaire",children:"Soins dentaires"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Durée (minutes)"}),r.jsxs(Me,{value:C.duration.toString(),onValueChange:D=>L("duration",D),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"15",children:"15 minutes"}),r.jsx(U,{value:"30",children:"30 minutes"}),r.jsx(U,{value:"45",children:"45 minutes"}),r.jsx(U,{value:"60",children:"1 heure"}),r.jsx(U,{value:"90",children:"1h30"}),r.jsx(U,{value:"120",children:"2 heures"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"reason",children:"Motif de consultation"}),r.jsx(ie,{id:"reason",value:C.reason,onChange:O,placeholder:"ex: Vaccination annuelle, boiterie, contrôle..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",value:C.notes,onChange:O,placeholder:"Instructions spéciales, préparation nécessaire..."})]}),M.length>0&&r.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[r.jsx(Vr,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Conflits détectés :"})]}),r.jsx("ul",{className:"mt-2 text-sm text-red-700",children:M.map((D,ae)=>r.jsxs("li",{children:["• ",D]},ae))})]}),C.clientId&&C.petId&&C.date&&C.time&&C.type&&r.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Résumé du rendez-vous :"}),r.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Client :"})," ",(oe=l.find(D=>D.id===C.clientId))==null?void 0:oe.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Animal :"})," ",(Q=c.find(D=>D.id===C.petId))==null?void 0:Q.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date :"})," ",new Date(C.date).toLocaleDateString("fr-FR")]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Heure :"})," ",C.time]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type :"})," ",H(C.type)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Durée :"})," ",C.duration," minutes"]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",disabled:M.length>0,children:"Planifier RDV"})]})]})]})}),r.jsx(bv,{open:v,onOpenChange:y}),r.jsx(wv,{open:N,onOpenChange:j})]})}function Zf({open:e,onOpenChange:t}){const{data:n=[],isLoading:s}=yv(),{data:i=[],isLoading:a}=jv(),o=vV(),{toast:l}=Rt(),{settings:c}=Jt(),[u,d]=w.useState(!1),[f,m]=w.useState(!1),[g,x]=w.useState({clientId:"",clientName:"",animalId:"",animalName:"",date:"",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:c.defaultConsultationPrice.toString(),notes:"",photos:[]}),v=i.filter(_=>_.client_id===g.clientId),y=new Date().toISOString().split("T")[0];w.useEffect(()=>{c.defaultConsultationPrice&&!g.cost&&x(_=>({..._,cost:c.defaultConsultationPrice.toString()}))},[c.defaultConsultationPrice,g.cost]);const N=_=>{x(C=>({...C,[_.target.id]:_.target.value}))},j=(_,C)=>{if(_==="clientId"){const A=n.find(P=>P.id===C);x(P=>({...P,clientId:C,clientName:A?`${A.first_name} ${A.last_name}`:"",animalId:"",animalName:""}))}else if(_==="animalId"){const A=i.find(P=>P.id===C);x(P=>({...P,animalId:C,animalName:(A==null?void 0:A.name)||""}))}else x(A=>({...A,[_]:C}))},b=async _=>{if(_.preventDefault(),!g.clientId||!g.animalId){l({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}try{const C={client_id:g.clientId,animal_id:g.animalId,consultation_type:"routine",consultation_date:g.date||y,weight:g.weight?Math.min(parseFloat(g.weight),999.9):void 0,temperature:g.temperature?Math.min(parseFloat(g.temperature),99.9):void 0,symptoms:g.symptoms,diagnosis:g.diagnosis,treatment:g.treatment,follow_up_notes:g.followUp,notes:g.notes};await o.mutateAsync(C),l({title:"Consultation enregistrée",description:`Consultation pour ${g.animalName} (${g.clientName}) a été enregistrée avec succès.`}),x({clientId:"",clientName:"",animalId:"",animalName:"",date:y,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:c.defaultConsultationPrice.toString(),notes:"",photos:[]}),t(!1)}catch{l({title:"Erreur",description:"Impossible d'enregistrer la consultation. Veuillez réessayer.",variant:"destructive"})}};return w.useEffect(()=>{e&&x({clientId:"",clientName:"",animalId:"",animalName:"",date:y,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:c.defaultConsultationPrice.toString(),notes:"",photos:[]})},[e,y]),r.jsxs(r.Fragment,{children:[r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Consultation"}),r.jsx(jn,{children:"Enregistrez une nouvelle consultation vétérinaire."})]}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Client *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Me,{value:g.clientId.toString(),onValueChange:_=>j("clientId",_),children:[r.jsx(Oe,{className:"flex-1",children:r.jsx(Ie,{placeholder:"Sélectionner le client"})}),r.jsx(De,{children:n.map(_=>r.jsxs(U,{value:_.id,children:[_.first_name," ",_.last_name]},_.id))})]}),r.jsx(V,{type:"button",size:"sm",variant:"outline",onClick:()=>d(!0),className:"px-2",children:r.jsx(ht,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Animal *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Me,{value:g.animalId,onValueChange:_=>j("animalId",_),disabled:!g.clientId,children:[r.jsx(Oe,{className:"flex-1",children:r.jsx(Ie,{placeholder:g.clientId?"Sélectionner l'animal":"Sélectionnez d'abord un client"})}),r.jsx(De,{children:v.map(_=>r.jsxs(U,{value:_.id,children:[_.name," (",_.species,")"]},_.id))})]}),r.jsx(V,{type:"button",size:"sm",variant:"outline",onClick:()=>m(!0),className:"px-2",disabled:!g.clientId,children:r.jsx(ht,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:g.date||y,onChange:N,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ie,{id:"weight",type:"number",step:"0.1",min:"0",max:"999.9",value:g.weight,onChange:N,placeholder:"ex: 25.5"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"temperature",children:"Température (°C)"}),r.jsx(ie,{id:"temperature",type:"number",step:"0.1",min:"0",max:"99.9",value:g.temperature,onChange:N,placeholder:"ex: 38.5"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"symptoms",children:"Symptômes observés"}),r.jsx(Nt,{id:"symptoms",value:g.symptoms,onChange:N,placeholder:"Décrivez les symptômes et observations...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(Nt,{id:"diagnosis",value:g.diagnosis,onChange:N,placeholder:"Diagnostic posé...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"treatment",children:"Traitement administré"}),r.jsx(Nt,{id:"treatment",value:g.treatment,onChange:N,placeholder:"Traitements, injections, interventions...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"followUp",children:"Suivi recommandé"}),r.jsx(ie,{id:"followUp",value:g.followUp,onChange:N,placeholder:"ex: Contrôle dans 1 semaine"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(B,{htmlFor:"cost",children:["Coût (",c.currency,")"]}),r.jsx(ie,{id:"cost",type:"number",step:"0.01",value:g.cost,onChange:N,placeholder:"ex: 85.50"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes additionnelles"}),r.jsx(Nt,{id:"notes",value:g.notes,onChange:N,placeholder:"Notes diverses, recommandations...",rows:3})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(B,{children:"Photos de la consultation"}),r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:async _=>{const C=Array.from(_.target.files||[]),A=await Promise.all(C.map(P=>new Promise((E,M)=>{const $=new FileReader;$.onload=()=>E($.result),$.onerror=()=>M(),$.readAsDataURL(P)})));x(P=>({...P,photos:[...P.photos,...A]}))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"}),g.photos.length>0&&r.jsx("div",{className:"flex gap-2 overflow-x-auto pt-2",children:g.photos.map((_,C)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:_,alt:`photo-${C}`,className:"h-24 w-24 object-cover rounded"}),r.jsx("button",{type:"button",onClick:()=>x(A=>({...A,photos:A.photos.filter((P,E)=>E!==C)})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},C))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",disabled:!g.animalId||o.isPending,children:o.isPending?"Enregistrement...":"Enregistrer Consultation"})]})]})]})}),r.jsx(bv,{open:u,onOpenChange:d}),r.jsx(wv,{open:f,onOpenChange:m})]})}const Nfe=({children:e,allowedRoles:t,fallback:n=null})=>{const{user:s}=Ic();return!s||!t.includes(s.profile.role)?r.jsx(r.Fragment,{children:n}):r.jsx(r.Fragment,{children:e})},V2=({children:e,fallback:t=null})=>r.jsx(Nfe,{allowedRoles:["admin"],fallback:t,children:e});function Sfe(){const{clients:e,pets:t,consultations:n,vaccinations:s,antiparasitics:i,generateAccountingSummary:a}=jt(),{settings:o}=Jt(),l=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),c=l.length===1?`Bienvenue ${l[0].title} ${l[0].name}`:`Bienvenue à ${o.clinicName}`,[u,d]=w.useState(!1),[f,m]=w.useState(!1),[g,x]=w.useState(!1),[v,y]=w.useState(!1),N=e.length,j=t.length,b=s.length,_=i.length,C=new Date().toISOString().split("T")[0],A=n.filter(O=>O.date===C).length,P=new Date().getMonth(),E=new Date().getFullYear(),M=new Date(E,P,1).toISOString().split("T")[0],$=new Date(E,P+1,0).toISOString().split("T")[0],T=a(`${E}-${String(P+1).padStart(2,"0")}`,M,$);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"relative overflow-hidden gradient-hero rounded-2xl p-8 mb-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-8",children:[o.logo&&r.jsx("img",{src:o.logo,alt:"Logo clinique",className:"h-20 w-20 object-contain rounded"}),r.jsxs("div",{className:"flex-1 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-sm font-medium text-primary",children:"Gestion Vétérinaire Complète"})]}),r.jsxs("h1",{className:"text-4xl font-bold leading-tight max-w-3xl",children:[c,", ",r.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"Dashboard VetPro"})]}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl",children:"Gérez efficacement vos clients, leurs animaux, les rendez-vous et consultations. Votre pratique vétérinaire optimisée en un seul endroit."}),r.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[r.jsxs(V,{size:"lg",className:"gap-2 medical-glow",onClick:()=>d(!0),children:[r.jsx(Da,{className:"h-5 w-5"}),"Nouveau Client",r.jsx(HC,{className:"h-4 w-4"})]}),r.jsxs(V,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>x(!0),children:[r.jsx(qt,{className:"h-5 w-5"}),"Nouvel Animal"]}),r.jsxs(V,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>m(!0),children:[r.jsx(Pt,{className:"h-5 w-5"}),"Planifier RDV"]}),r.jsxs(V,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>y(!0),children:[r.jsx(br,{className:"h-5 w-5"}),"Nouvelle Consultation"]})]}),r.jsxs("div",{className:"flex gap-6 pt-8 flex-wrap",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:N}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Clients actifs"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-secondary",children:j}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Animaux suivis"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-accent",children:A}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Consultations aujourd'hui"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Vaccinations"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:_}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Antiparasitaires"})]}),r.jsx(V2,{children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[T.totalRevenue.toFixed(0)," ",o.currency||"€"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Revenus ce mois"})]})})]})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsx("img",{src:dz,alt:"Vétérinaire professionnel examinant un chien",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})}),r.jsx(bv,{open:u,onOpenChange:d}),r.jsx(bE,{open:f,onOpenChange:m}),r.jsx(wv,{open:g,onOpenChange:x}),r.jsx(Zf,{open:v,onOpenChange:y})]})}function Cfe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,vaccinations:o,antiparasitics:l,stockItems:c,stockMovements:u,accountingEntries:d,getUpcomingAppointments:f,getOverdueAppointments:m,generateAccountingSummary:g}=jt(),{settings:x}=Jt(),v=e.length,y=t.length;n.length,s.length,i.length;const N=a.length,j=o.length,b=l.length,_=c.length,C=new Date().getMonth(),A=new Date().getFullYear(),P=n.filter(F=>{const Y=new Date(F.date);return Y.getMonth()===C&&Y.getFullYear()===A}).length,E=o.filter(F=>{const Y=new Date(F.dateGiven);return Y.getMonth()===C&&Y.getFullYear()===A}).length,M=l.filter(F=>{const Y=new Date(F.dateGiven);return Y.getMonth()===C&&Y.getFullYear()===A}).length,$=new Date().toISOString().split("T")[0],T=n.filter(F=>F.date===$).length,O=s.filter(F=>F.date===$&&F.status!=="cancelled"&&F.status!=="completed").length,L=f();m();const z=c.filter(F=>F.currentStock<=F.minimumStock).length,J=c.filter(F=>F.currentStock===0).length;c.reduce((F,Y)=>F+Y.currentStock*Y.purchasePrice,0);const H=new Date(A,C,1).toISOString().split("T")[0],oe=new Date(A,C+1,0).toISOString().split("T")[0],Q=g(`${A}-${String(C+1).padStart(2,"0")}`,H,oe),D=Q.totalRevenue;Q.totalExpenses;const ae=Q.netIncome,pe=(F,Y)=>{if(Y===0)return F>0?"+100%":"0%";const ee=(F-Y)/Y*100;return ee>=0?`+${Math.round(ee)}%`:`${Math.round(ee)}%`},te=C===0?11:C-1,Z=C===0?A-1:A,ne=n.filter(F=>{const Y=new Date(F.date);return Y.getMonth()===te&&Y.getFullYear()===Z}).length,xe=e.filter(F=>{const Y=new Date(F.lastVisit);return Y.getMonth()===te&&Y.getFullYear()===Z}).length,ye=t.filter(F=>{if(!F.lastVisit)return!1;const Y=new Date(F.lastVisit);return Y.getMonth()===te&&Y.getFullYear()===Z}).length;s.filter(F=>{const Y=new Date(F.date);return Y.getMonth()===te&&Y.getFullYear()===Z}).length;const se=[{title:"Clients Total",value:v.toString(),change:pe(v,xe),icon:Da,color:"text-blue-600",bgColor:"bg-blue-50",description:`${v>0?Math.round(v/10):0} nouveaux ce mois`},{title:"Animaux Suivis",value:y.toString(),change:pe(y,ye),icon:qt,color:"text-red-600",bgColor:"bg-red-50",description:`${y>0?Math.round(y/8):0} nouveaux ce mois`},{title:"RDV Aujourd'hui",value:O.toString(),change:O>0?"+"+Math.min(20,Math.floor(O*.3))+"%":"0%",icon:Pt,color:"text-purple-600",bgColor:"bg-purple-50",description:`${L.length} à venir cette semaine`},{title:"Consultations",value:P.toString(),change:pe(P,ne),icon:br,color:"text-green-600",bgColor:"bg-green-50",description:`${T} aujourd'hui`},{title:"Revenus Réels",value:`${D.toFixed(0)} ${x.currency||"€"}`,change:D>0?"+"+Math.round(D/1e3*10)+"%":"0%",icon:zf,color:"text-emerald-600",bgColor:"bg-emerald-50",description:`Bénéfice: ${ae.toFixed(0)} ${x.currency||"€"}`},{title:"Activité Ferme",value:N.toString(),change:N>0?"+"+Math.min(15,Math.floor(N*.2))+"%":"0%",icon:Oa,color:"text-orange-600",bgColor:"bg-orange-50",description:`${N} exploitations actives`},{title:"Vaccinations",value:E.toString(),change:E>0?"+"+Math.min(25,Math.floor(E*.3))+"%":"0%",icon:As,color:"text-blue-600",bgColor:"bg-blue-50",description:`${j} total ce mois`},{title:"Antiparasitaires",value:M.toString(),change:M>0?"+"+Math.min(20,Math.floor(M*.25))+"%":"0%",icon:ji,color:"text-purple-600",bgColor:"bg-purple-50",description:`${b} total ce mois`},{title:"Stock",value:_.toString(),change:z>0?"-"+Math.min(15,Math.floor(z*.2))+"%":"0%",icon:z>0?qn:Gn,color:z>0?"text-red-600":"text-green-600",bgColor:z>0?"bg-red-50":"bg-green-50",description:`${z} en rupture, ${J} épuisés`}];return r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:se.map(F=>r.jsxs(de,{className:"card-hover",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-sm font-medium text-muted-foreground",children:F.title}),r.jsx("div",{className:`p-2 rounded-lg ${F.bgColor}`,children:r.jsx(F.icon,{className:`h-4 w-4 ${F.color}`})})]}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold",children:F.value}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r.jsx("span",{className:"text-secondary font-medium",children:F.change})," vs mois dernier"]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:F.description})]})]},F.title))})}function _fe({open:e,onOpenChange:t,client:n,onEdit:s}){return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[600px]",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Profil Client"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{className:"h-20 w-20",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-xl",children:n.name.split(" ").map(i=>i[0]).join("")})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Vf,{className:"h-3 w-3"}),n.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),n.phone]})]})]})]}),n.address&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Adresse"}),r.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground",children:[r.jsx(cd,{className:"h-4 w-4 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{children:n.address}),r.jsxs("p",{children:[n.postalCode," ",n.city]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4 text-primary"}),"Animaux (",n.pets.length,")"]}),n.pets.length>0?r.jsx("div",{className:"space-y-2",children:n.pets.map((i,a)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:i.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.type," • ",i.breed]})]}),r.jsx($e,{variant:"outline",children:i.status==="healthy"?"En bonne santé":i.status==="treatment"?"En traitement":"Urgent"})]},a))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucun animal enregistré"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernière visite:"}),r.jsx("p",{children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Total visites:"}),r.jsx("p",{children:n.totalVisits})]})]}),n.notes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Notes"}),r.jsx("p",{className:"text-muted-foreground",children:n.notes})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{onClick:s,className:"gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})]})]})]})}):null}function Pfe({open:e,onOpenChange:t,client:n}){const{updateClient:s}=jt(),{toast:i}=Rt(),[a,o]=w.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",idNumber:"",notes:""});w.useEffect(()=>{n&&o({firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,address:n.address||"",city:n.city||"",postalCode:n.postalCode||"",idNumber:n.idNumber||"",notes:n.notes||""})},[n]);const l=u=>{o(d=>({...d,[u.target.id]:u.target.value}))},c=u=>{u.preventDefault(),n&&(s(n.id,a),i({title:"Client modifié",description:`Les informations de ${a.firstName} ${a.lastName} ont été mises à jour.`}),t(!1))};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[500px]",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Modifier Client"})}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"firstName",children:"Prénom *"}),r.jsx(ie,{id:"firstName",value:a.firstName,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"lastName",children:"Nom *"}),r.jsx(ie,{id:"lastName",value:a.lastName,onChange:l,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:a.email,onChange:l})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"phone",children:"Téléphone *"}),r.jsx(ie,{id:"phone",value:a.phone,onChange:l,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"address",children:"Adresse"}),r.jsx(ie,{id:"address",value:a.address,onChange:l})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"city",children:"Ville"}),r.jsx(ie,{id:"city",value:a.city,onChange:l})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"postalCode",children:"Code postal"}),r.jsx(ie,{id:"postalCode",value:a.postalCode,onChange:l})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"idNumber",children:"N° pièce d'identité"}),r.jsx(ie,{id:"idNumber",value:a.idNumber,onChange:l,placeholder:"Numéro de carte d'identité, passeport, etc."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",value:a.notes,onChange:l,placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}function Afe(){const{clients:e,pets:t,consultations:n,appointments:s}=jt();Jt();const[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),g=[...e].sort((P,E)=>new Date(E.lastVisit).getTime()-new Date(P.lastVisit).getTime()).slice(0,5),x=e.length,v=e.filter(P=>{const E=new Date(P.lastVisit),M=new Date;return M.setDate(M.getDate()-30),E>=M}).length,y=e.filter(P=>{const E=new Date(P.lastVisit),M=new Date().getMonth(),$=new Date().getFullYear();return E.getMonth()===M&&E.getFullYear()===$}).length,N=x>0?(t.length/x).toFixed(1):"0",j=P=>{f(P),l(!0)},b=P=>{f(P),u(!0)},_=()=>{l(!1),u(!0)},C=P=>{const E=new Date(P),$=Math.abs(new Date().getTime()-E.getTime()),T=Math.ceil($/(1e3*60*60*24));return T===0?"Aujourd'hui":T===1?"Hier":T<7?`Il y a ${T} jours`:T<30?`Il y a ${Math.floor(T/7)} semaine${Math.floor(T/7)>1?"s":""}`:`Il y a ${Math.floor(T/30)} mois`},A=P=>{const E=t.filter(T=>T.ownerId===P.id),M=n.filter(T=>T.clientId===P.id),$=s.filter(T=>T.clientId===P.id);return{pets:E.length,consultations:M.length,appointments:$.length,lastActivity:M.length>0?Math.max(...M.map(T=>new Date(T.date).getTime())):new Date(P.lastVisit).getTime()}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{className:"card-hover",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Ee,{className:"text-lg font-semibold",children:"Clients Récents"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Da,{className:"h-3 w-3"}),r.jsxs("span",{children:[x," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Oa,{className:"h-3 w-3"}),r.jsxs("span",{children:[v," actifs"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),r.jsxs("span",{children:["+",y," ce mois"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx($n,{className:"h-3 w-3"}),r.jsxs("span",{children:["Ø ",N," animaux"]})]})]})]}),r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>a(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau Client"]})]}),r.jsx(he,{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Da,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun client enregistré"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier client"})]}):g.map(P=>{const E=A(P);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{children:r.jsx(Kr,{className:"bg-primary text-primary-foreground",children:P.name.split(" ").map(M=>M[0]).join("")})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium",children:P.name}),r.jsxs($e,{variant:"outline",className:"text-xs",children:[E.pets," animal",E.pets>1?"s":""]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Vf,{className:"h-3 w-3"}),P.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),P.phone]}),P.city&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(cd,{className:"h-3 w-3"}),P.city]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Dernière visite: ",C(P.lastVisit)]}),r.jsxs("span",{children:["Total visites: ",P.totalVisits]}),r.jsxs("span",{children:["Consultations: ",E.consultations]}),r.jsxs("span",{children:["RDV: ",E.appointments]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>j(P),children:[r.jsx(Ir,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>b(P),children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})]})]},P.id)})})]}),r.jsx(bv,{open:i,onOpenChange:a}),r.jsx(_fe,{open:o,onOpenChange:l,client:d,onEdit:_}),r.jsx(Pfe,{open:c,onOpenChange:u,client:d})]})}function EV({open:e,onOpenChange:t,pet:n,onEdit:s,onShowDossier:i}){const{updatePet:a}=jt(),[o,l]=w.useState(null);w.useEffect(()=>{e&&l((n==null?void 0:n.photo)||null)},[e,n]);const c=w.useRef(null),u=d=>{var m;const f=(m=d.target.files)==null?void 0:m[0];if(f){const g=new FileReader;g.onload=x=>{var y;const v=(y=x.target)==null?void 0:y.result;l(v),a(n.id,{photo:v})},g.readAsDataURL(f)}};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Profil Animal"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(Gr,{className:"h-24 w-24",children:o?r.jsx(cl,{src:o,alt:n.name,className:"h-full w-full object-cover rounded-full"}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(qt,{className:"h-12 w-12"})})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2 w-full flex items-center justify-center",onClick:()=>{var d;return(d=c.current)==null?void 0:d.click()},children:[r.jsx(ef,{className:"h-4 w-4"}),o?"Changer photo":"Ajouter photo"]}),o&&r.jsx(V,{size:"sm",variant:"destructive",className:"gap-2 w-full",onClick:()=>{l(null),a(n.id,{photo:void 0})},children:"Supprimer photo"}),r.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:u,className:"hidden"})]})]}),r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),r.jsx($e,{variant:"outline",className:n.status==="healthy"?"bg-secondary text-secondary-foreground":n.status==="treatment"?"bg-accent text-accent-foreground":"bg-destructive text-destructive-foreground",children:n.status==="healthy"?"En bonne santé":n.status==="treatment"?"En traitement":"Urgent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"}),r.jsx("p",{className:"text-muted-foreground",children:n.type})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"}),r.jsx("p",{className:"text-muted-foreground",children:n.breed||"Non spécifiée"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"}),r.jsx("p",{className:"text-muted-foreground",children:n.birthDate?r.jsxs(r.Fragment,{children:[nf(n.birthDate),r.jsx("br",{}),r.jsxs("span",{className:"text-xs",children:["Né(e) le ",uo(n.birthDate)]})]}):"Non spécifié"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"}),r.jsx("p",{className:"text-muted-foreground",children:n.weight||"Non spécifié"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"}),r.jsx("p",{className:"text-muted-foreground",children:n.color||"Non spécifiée"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Propriétaire:"}),r.jsx("p",{className:"text-muted-foreground",children:n.owner})]})]}),n.microchip&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Puce électronique:"}),r.jsx("p",{className:"text-muted-foreground font-mono",children:n.microchip})]})]}),r.jsxs("div",{className:"space-y-4",children:[n.lastVisit&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernière visite:"}),r.jsx("p",{className:"text-muted-foreground",children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]})]}),n.nextAppointment&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Prochain RDV:"}),r.jsx("p",{className:"text-muted-foreground",children:new Date(n.nextAppointment).toLocaleDateString("fr-FR")})]})]})]})]}),n.vaccinations&&n.vaccinations.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Vaccinations"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:n.vaccinations.map((d,f)=>r.jsx($e,{variant:"outline",children:d},f))})]}),n.medicalNotes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Notes médicales"}),r.jsx("p",{className:"text-muted-foreground p-3 bg-muted/30 rounded-lg",children:n.medicalNotes})]}),r.jsxs("div",{className:"flex justify-between gap-2 pt-4 border-t",children:[r.jsxs(V,{variant:"outline",onClick:i,className:"gap-2",children:[r.jsx(ur,{className:"h-4 w-4"}),"Voir Dossier Médical"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{onClick:s,className:"gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})]})]})]})]})}):null}function Efe({open:e,onOpenChange:t,pet:n}){const{updatePet:s,clients:i}=jt(),{settings:a}=Jt(),{toast:o}=Rt(),[l,c]=w.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:0,microchip:"",medicalNotes:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""});w.useEffect(()=>{n&&c({name:n.name,type:n.type,breed:n.breed||"",gender:n.gender||"",birthDate:n.birthDate||"",weight:n.weight||"",color:n.color||"",ownerId:n.ownerId,microchip:n.microchip||"",medicalNotes:n.medicalNotes||"",status:n.status,hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""})},[n]);const u=m=>{c(g=>({...g,[m.target.id]:m.target.value}))},d=(m,g)=>{c(x=>({...x,[m]:m==="ownerId"?parseInt(g):g}))},f=m=>{if(m.preventDefault(),!n)return;const g=i.find(x=>x.id===l.ownerId);s(n.id,{...l,owner:(g==null?void 0:g.name)||n.owner}),o({title:"Animal modifié",description:`Les informations de ${l.name} ont été mises à jour.`}),t(!1)};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Modifier Animal"})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"name",children:"Nom de l'animal *"}),r.jsx(ie,{id:"name",value:l.name,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Type d'animal *"}),r.jsxs(Me,{value:l.type,onValueChange:m=>d("type",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsx(De,{children:a.species?a.species.split(",").map((m,g)=>{const x=m.trim();return x?r.jsx(U,{value:x,children:x},g):null}).filter(Boolean):r.jsx(U,{value:"Chien",children:"Chien"})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"breed",children:"Race"}),r.jsx(ie,{id:"breed",value:l.breed,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Sexe"}),r.jsxs(Me,{value:l.gender,onValueChange:m=>d("gender",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le sexe"})}),r.jsxs(De,{children:[r.jsx(U,{value:"male",children:"Mâle"}),r.jsx(U,{value:"female",children:"Femelle"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"birthDate",children:"Date de naissance"}),r.jsx(ie,{id:"birthDate",type:"date",value:l.birthDate,onChange:u,max:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ie,{id:"weight",value:l.weight,onChange:u})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"color",children:"Couleur"}),r.jsx(ie,{id:"color",value:l.color,onChange:u})]}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Propriétaire *"}),r.jsxs(Me,{value:l.ownerId.toString(),onValueChange:m=>d("ownerId",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsx(De,{children:i.map(m=>r.jsx(U,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Statut de santé"}),r.jsxs(Me,{value:l.status,onValueChange:m=>d("status",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"healthy",children:"En bonne santé"}),r.jsx(U,{value:"treatment",children:"En traitement"}),r.jsx(U,{value:"urgent",children:"Urgent"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"microchip",children:"Numéro de puce électronique"}),r.jsx(ie,{id:"microchip",value:l.microchip,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"medicalNotes",children:"Notes médicales"}),r.jsx(Nt,{id:"medicalNotes",value:l.medicalNotes,onChange:u,placeholder:"Allergies, conditions médicales, notes importantes..."})]}),r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qi,{id:"hasPedigree",checked:l.hasPedigree,onCheckedChange:m=>c(g=>({...g,hasPedigree:m}))}),r.jsx(B,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),l.hasPedigree&&r.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(ie,{id:"officialName",value:l.officialName,onChange:u,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),r.jsx(ie,{id:"pedigreeNumber",value:l.pedigreeNumber,onChange:u,placeholder:"Numéro de pedigree"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"breeder",children:"Éleveur"}),r.jsx(ie,{id:"breeder",value:l.breeder,onChange:u,placeholder:"Nom de l'éleveur"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Père"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom du père",value:l.fatherName,onChange:u}),r.jsx(ie,{placeholder:"N° pedigree du père",value:l.fatherPedigree,onChange:u}),r.jsx(ie,{placeholder:"Race du père",value:l.fatherBreed,onChange:u}),r.jsx(Nt,{placeholder:"Titres du père",value:l.fatherTitles,onChange:u,rows:2})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom de la mère",value:l.motherName,onChange:u}),r.jsx(ie,{placeholder:"N° pedigree de la mère",value:l.motherPedigree,onChange:u}),r.jsx(ie,{placeholder:"Race de la mère",value:l.motherBreed,onChange:u}),r.jsx(Nt,{placeholder:"Titres de la mère",value:l.motherTitles,onChange:u,rows:2})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Document pedigree"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,pedigreePhoto:x.result})),x.readAsDataURL(g)}}),l.pedigreePhoto&&r.jsx("img",{src:l.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}var Fb="Tabs",[kfe,B6e]=Zs(Fb,[wb]),kV=wb(),[Tfe,wE]=kfe(Fb),TV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=jb(l),[f,m]=go({prop:s,onChange:i,defaultProp:a??"",caller:Fb});return r.jsx(Tfe,{scope:n,baseId:rs(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:r.jsx(st.div,{dir:d,"data-orientation":o,...u,ref:t})})});TV.displayName=Fb;var OV="TabsList",DV=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,a=wE(OV,n),o=kV(n);return r.jsx(v8,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(st.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});DV.displayName=OV;var MV="TabsTrigger",IV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...a}=e,o=wE(MV,n),l=kV(n),c=LV(o.baseId,s),u=FV(o.baseId,s),d=s===o.value;return r.jsx(x8,{asChild:!0,...l,focusable:!i,active:d,children:r.jsx(st.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:He(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:He(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:He(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(s)})})})});IV.displayName=MV;var $V="TabsContent",RV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:a,...o}=e,l=wE($V,n),c=LV(l.baseId,s),u=FV(l.baseId,s),d=s===l.value,f=w.useRef(d);return w.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(ei,{present:i||d,children:({present:m})=>r.jsx(st.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});RV.displayName=$V;function LV(e,t){return`${e}-trigger-${t}`}function FV(e,t){return`${e}-content-${t}`}var Ofe=TV,BV=DV,zV=IV,VV=RV;const pl=Ofe,jo=w.forwardRef(({className:e,...t},n)=>r.jsx(BV,{ref:n,className:Ze("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));jo.displayName=BV.displayName;const ln=w.forwardRef(({className:e,...t},n)=>r.jsx(zV,{ref:n,className:Ze("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ln.displayName=zV.displayName;const cn=w.forwardRef(({className:e,...t},n)=>r.jsx(VV,{ref:n,className:Ze("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));cn.displayName=VV.displayName;function ta(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Sc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function UV(e,t){const n=ta(e);return isNaN(t)?Sc(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const qV=6048e5,Dfe=864e5;let Mfe={};function Bb(){return Mfe}function mg(e,t){var l,c,u,d;const n=Bb(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=ta(e),a=i.getDay(),o=(a<s?7:0)+a-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function I0(e){return mg(e,{weekStartsOn:1})}function WV(e){const t=ta(e),n=t.getFullYear(),s=Sc(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=I0(s),a=Sc(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=I0(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function $0(e){const t=ta(e);return t.setHours(0,0,0,0),t}function OI(e){const t=ta(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ife(e,t){const n=$0(e),s=$0(t),i=+n-OI(n),a=+s-OI(s);return Math.round((i-a)/Dfe)}function $fe(e){const t=WV(e),n=Sc(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),I0(n)}function Rfe(e,t){const n=$0(e),s=$0(t);return+n==+s}function Lfe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ffe(e){if(!Lfe(e)&&typeof e!="number")return!1;const t=ta(e);return!isNaN(Number(t))}function Bfe(e){const t=ta(e),n=Sc(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const zfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vfe=(e,t,n)=>{let s;const i=zfe[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function kh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Ufe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hfe={date:kh({formats:Ufe,defaultWidth:"full"}),time:kh({formats:qfe,defaultWidth:"full"}),dateTime:kh({formats:Wfe,defaultWidth:"full"})},Gfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kfe=(e,t,n,s)=>Gfe[e];function no(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Yfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qfe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Jfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tme=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},nme={ordinalNumber:tme,era:no({values:Yfe,defaultWidth:"wide"}),quarter:no({values:Qfe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:no({values:Xfe,defaultWidth:"wide"}),day:no({values:Jfe,defaultWidth:"wide"}),dayPeriod:no({values:Zfe,defaultWidth:"wide",formattingValues:eme,defaultFormattingWidth:"wide"})};function ro(e){return(t,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?sme(l,f=>f.test(o)):rme(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function rme(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function sme(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function HV(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const ime=/^(\d+)(th|st|nd|rd)?/i,ame=/\d+/i,ome={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lme={any:[/^b/i,/^(a|c)/i]},cme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ume={any:[/1/i,/2/i,/3/i,/4/i]},dme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vme={ordinalNumber:HV({matchPattern:ime,parsePattern:ame,valueCallback:e=>parseInt(e,10)}),era:ro({matchPatterns:ome,defaultMatchWidth:"wide",parsePatterns:lme,defaultParseWidth:"any"}),quarter:ro({matchPatterns:cme,defaultMatchWidth:"wide",parsePatterns:ume,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ro({matchPatterns:dme,defaultMatchWidth:"wide",parsePatterns:hme,defaultParseWidth:"any"}),day:ro({matchPatterns:fme,defaultMatchWidth:"wide",parsePatterns:mme,defaultParseWidth:"any"}),dayPeriod:ro({matchPatterns:pme,defaultMatchWidth:"any",parsePatterns:gme,defaultParseWidth:"any"})},xme={code:"en-US",formatDistance:Vfe,formatLong:Hfe,formatRelative:Kfe,localize:nme,match:vme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yme(e){const t=ta(e);return Ife(t,Bfe(t))+1}function jme(e){const t=ta(e),n=+I0(t)-+$fe(t);return Math.round(n/qV)+1}function GV(e,t){var d,f,m,g;const n=ta(e),s=n.getFullYear(),i=Bb(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=Sc(e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=mg(o,t),c=Sc(e,0);c.setFullYear(s,0,a),c.setHours(0,0,0,0);const u=mg(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function bme(e,t){var l,c,u,d;const n=Bb(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=GV(e,t),a=Sc(e,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),mg(a,t)}function wme(e,t){const n=ta(e),s=+mg(n,t)-+bme(n,t);return Math.round(s/qV)+1}function yn(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const Ml={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return yn(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):yn(n+1,2)},d(e,t){return yn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return yn(e.getHours()%12||12,t.length)},H(e,t){return yn(e.getHours(),t.length)},m(e,t){return yn(e.getMinutes(),t.length)},s(e,t){return yn(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return yn(i,t.length)}},Gd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},DI={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return Ml.y(e,t)},Y:function(e,t,n,s){const i=GV(e,s),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return yn(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):yn(a,t.length)},R:function(e,t){const n=WV(e);return yn(n,t.length)},u:function(e,t){const n=e.getFullYear();return yn(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return yn(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return yn(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Ml.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return yn(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const i=wme(e,s);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):yn(i,t.length)},I:function(e,t,n){const s=jme(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):yn(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ml.d(e,t)},D:function(e,t,n){const s=yme(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):yn(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return yn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return yn(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return yn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let i;switch(s===12?i=Gd.noon:s===0?i=Gd.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let i;switch(s>=17?i=Gd.evening:s>=12?i=Gd.afternoon:s>=4?i=Gd.morning:i=Gd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ml.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ml.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):yn(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):yn(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ml.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ml.s(e,t)},S:function(e,t){return Ml.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return II(s);case"XXXX":case"XX":return ou(s);case"XXXXX":case"XXX":default:return ou(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return II(s);case"xxxx":case"xx":return ou(s);case"xxxxx":case"xxx":default:return ou(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+MI(s,":");case"OOOO":default:return"GMT"+ou(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+MI(s,":");case"zzzz":default:return"GMT"+ou(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return yn(s,t.length)},T:function(e,t,n){const s=e.getTime();return yn(s,t.length)}};function MI(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),a=s%60;return a===0?n+String(i):n+String(i)+t+yn(a,2)}function II(e,t){return e%60===0?(e>0?"-":"+")+yn(Math.abs(e)/60,2):ou(e,t)}function ou(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=yn(Math.trunc(s/60),2),a=yn(s%60,2);return n+i+t+a}const $I=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},KV=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Nme=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return $I(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",$I(s,t)).replace("{{time}}",KV(i,t))},Sme={p:KV,P:Nme},Cme=/^D+$/,_me=/^Y+$/,Pme=["D","DD","YY","YYYY"];function Ame(e){return Cme.test(e)}function Eme(e){return _me.test(e)}function kme(e,t,n){const s=Tme(e,t,n);if(console.warn(s),Pme.includes(e))throw new RangeError(s)}function Tme(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ome=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mme=/^'([^]*?)'?$/,Ime=/''/g,$me=/[a-zA-Z]/;function It(e,t,n){var d,f,m,g,x,v,y,N;const s=Bb(),i=(n==null?void 0:n.locale)??s.locale??xme,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((N=(y=s.locale)==null?void 0:y.options)==null?void 0:N.weekStartsOn)??0,l=ta(e);if(!Ffe(l))throw new RangeError("Invalid time value");let c=t.match(Dme).map(j=>{const b=j[0];if(b==="p"||b==="P"){const _=Sme[b];return _(j,i.formatLong)}return j}).join("").match(Ome).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const b=j[0];if(b==="'")return{isToken:!1,value:Rme(j)};if(DI[b])return{isToken:!0,value:j};if(b.match($me))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:j}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(j=>{if(!j.isToken)return j.value;const b=j.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Eme(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ame(b))&&kme(b,t,String(e));const _=DI[b[0]];return _(l,b,i.localize,u)}).join("")}function Rme(e){const t=e.match(Mme);return t?t[1].replace(Ime,"'"):e}var RI=1,Lme=.9,Fme=.8,Bme=.17,gS=.1,vS=.999,zme=.9999,Vme=.99,Ume=/[\\\/_+.#"@\[\(\{&]/,qme=/[\\\/_+.#"@\[\(\{&]/g,Wme=/[\s-]/,YV=/[\s-]/g;function U2(e,t,n,s,i,a,o){if(a===t.length)return i===e.length?RI:Vme;var l=`${i},${a}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(a),u=n.indexOf(c,i),d=0,f,m,g,x;u>=0;)f=U2(e,t,n,s,u+1,a+1,o),f>d&&(u===i?f*=RI:Ume.test(e.charAt(u-1))?(f*=Fme,g=e.slice(i,u-1).match(qme),g&&i>0&&(f*=Math.pow(vS,g.length))):Wme.test(e.charAt(u-1))?(f*=Lme,x=e.slice(i,u-1).match(YV),x&&i>0&&(f*=Math.pow(vS,x.length))):(f*=Bme,i>0&&(f*=Math.pow(vS,u-i))),e.charAt(u)!==t.charAt(a)&&(f*=zme)),(f<gS&&n.charAt(u-1)===s.charAt(a+1)||s.charAt(a+1)===s.charAt(a)&&n.charAt(u-1)!==s.charAt(a))&&(m=U2(e,t,n,s,u+1,a+2,o),m*gS>f&&(f=m*gS)),f>d&&(d=f),u=n.indexOf(c,u+1);return o[l]=d,d}function LI(e){return e.toLowerCase().replace(YV," ")}function Hme(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,U2(e,t,LI(e),LI(t),0,0,{})}var Qm='[cmdk-group=""]',xS='[cmdk-group-items=""]',Gme='[cmdk-group-heading=""]',QV='[cmdk-item=""]',FI=`${QV}:not([aria-disabled="true"])`,q2="cmdk-item-select",eh="data-value",Kme=(e,t,n)=>Hme(e,t,n),XV=w.createContext(void 0),Nv=()=>w.useContext(XV),JV=w.createContext(void 0),NE=()=>w.useContext(JV),ZV=w.createContext(void 0),eU=w.forwardRef((e,t)=>{let n=th(()=>{var te,Z;return{search:"",value:(Z=(te=e.value)!=null?te:e.defaultValue)!=null?Z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=th(()=>new Set),i=th(()=>new Map),a=th(()=>new Map),o=th(()=>new Set),l=tU(e),{label:c,children:u,value:d,onValueChange:f,filter:m,shouldFilter:g,loop:x,disablePointerSelection:v=!1,vimBindings:y=!0,...N}=e,j=rs(),b=rs(),_=rs(),C=w.useRef(null),A=ipe();Yu(()=>{if(d!==void 0){let te=d.trim();n.current.value=te,P.emit()}},[d]),Yu(()=>{A(6,L)},[]);let P=w.useMemo(()=>({subscribe:te=>(o.current.add(te),()=>o.current.delete(te)),snapshot:()=>n.current,setState:(te,Z,ne)=>{var xe,ye,se,F;if(!Object.is(n.current[te],Z)){if(n.current[te]=Z,te==="search")O(),$(),A(1,T);else if(te==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Y=document.getElementById(_);Y?Y.focus():(xe=document.getElementById(j))==null||xe.focus()}if(A(7,()=>{var Y;n.current.selectedItemId=(Y=z())==null?void 0:Y.id,P.emit()}),ne||A(5,L),((ye=l.current)==null?void 0:ye.value)!==void 0){let Y=Z??"";(F=(se=l.current).onValueChange)==null||F.call(se,Y);return}}P.emit()}},emit:()=>{o.current.forEach(te=>te())}}),[]),E=w.useMemo(()=>({value:(te,Z,ne)=>{var xe;Z!==((xe=a.current.get(te))==null?void 0:xe.value)&&(a.current.set(te,{value:Z,keywords:ne}),n.current.filtered.items.set(te,M(Z,ne)),A(2,()=>{$(),P.emit()}))},item:(te,Z)=>(s.current.add(te),Z&&(i.current.has(Z)?i.current.get(Z).add(te):i.current.set(Z,new Set([te]))),A(3,()=>{O(),$(),n.current.value||T(),P.emit()}),()=>{a.current.delete(te),s.current.delete(te),n.current.filtered.items.delete(te);let ne=z();A(4,()=>{O(),(ne==null?void 0:ne.getAttribute("id"))===te&&T(),P.emit()})}),group:te=>(i.current.has(te)||i.current.set(te,new Set),()=>{a.current.delete(te),i.current.delete(te)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:j,inputId:_,labelId:b,listInnerRef:C}),[]);function M(te,Z){var ne,xe;let ye=(xe=(ne=l.current)==null?void 0:ne.filter)!=null?xe:Kme;return te?ye(te,n.current.search,Z):0}function $(){if(!n.current.search||l.current.shouldFilter===!1)return;let te=n.current.filtered.items,Z=[];n.current.filtered.groups.forEach(xe=>{let ye=i.current.get(xe),se=0;ye.forEach(F=>{let Y=te.get(F);se=Math.max(Y,se)}),Z.push([xe,se])});let ne=C.current;J().sort((xe,ye)=>{var se,F;let Y=xe.getAttribute("id"),ee=ye.getAttribute("id");return((se=te.get(ee))!=null?se:0)-((F=te.get(Y))!=null?F:0)}).forEach(xe=>{let ye=xe.closest(xS);ye?ye.appendChild(xe.parentElement===ye?xe:xe.closest(`${xS} > *`)):ne.appendChild(xe.parentElement===ne?xe:xe.closest(`${xS} > *`))}),Z.sort((xe,ye)=>ye[1]-xe[1]).forEach(xe=>{var ye;let se=(ye=C.current)==null?void 0:ye.querySelector(`${Qm}[${eh}="${encodeURIComponent(xe[0])}"]`);se==null||se.parentElement.appendChild(se)})}function T(){let te=J().find(ne=>ne.getAttribute("aria-disabled")!=="true"),Z=te==null?void 0:te.getAttribute(eh);P.setState("value",Z||void 0)}function O(){var te,Z,ne,xe;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let ye=0;for(let se of s.current){let F=(Z=(te=a.current.get(se))==null?void 0:te.value)!=null?Z:"",Y=(xe=(ne=a.current.get(se))==null?void 0:ne.keywords)!=null?xe:[],ee=M(F,Y);n.current.filtered.items.set(se,ee),ee>0&&ye++}for(let[se,F]of i.current)for(let Y of F)if(n.current.filtered.items.get(Y)>0){n.current.filtered.groups.add(se);break}n.current.filtered.count=ye}function L(){var te,Z,ne;let xe=z();xe&&(((te=xe.parentElement)==null?void 0:te.firstChild)===xe&&((ne=(Z=xe.closest(Qm))==null?void 0:Z.querySelector(Gme))==null||ne.scrollIntoView({block:"nearest"})),xe.scrollIntoView({block:"nearest"}))}function z(){var te;return(te=C.current)==null?void 0:te.querySelector(`${QV}[aria-selected="true"]`)}function J(){var te;return Array.from(((te=C.current)==null?void 0:te.querySelectorAll(FI))||[])}function H(te){let Z=J()[te];Z&&P.setState("value",Z.getAttribute(eh))}function oe(te){var Z;let ne=z(),xe=J(),ye=xe.findIndex(F=>F===ne),se=xe[ye+te];(Z=l.current)!=null&&Z.loop&&(se=ye+te<0?xe[xe.length-1]:ye+te===xe.length?xe[0]:xe[ye+te]),se&&P.setState("value",se.getAttribute(eh))}function Q(te){let Z=z(),ne=Z==null?void 0:Z.closest(Qm),xe;for(;ne&&!xe;)ne=te>0?rpe(ne,Qm):spe(ne,Qm),xe=ne==null?void 0:ne.querySelector(FI);xe?P.setState("value",xe.getAttribute(eh)):oe(te)}let D=()=>H(J().length-1),ae=te=>{te.preventDefault(),te.metaKey?D():te.altKey?Q(1):oe(1)},pe=te=>{te.preventDefault(),te.metaKey?H(0):te.altKey?Q(-1):oe(-1)};return w.createElement(st.div,{ref:t,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:te=>{var Z;(Z=N.onKeyDown)==null||Z.call(N,te);let ne=te.nativeEvent.isComposing||te.keyCode===229;if(!(te.defaultPrevented||ne))switch(te.key){case"n":case"j":{y&&te.ctrlKey&&ae(te);break}case"ArrowDown":{ae(te);break}case"p":case"k":{y&&te.ctrlKey&&pe(te);break}case"ArrowUp":{pe(te);break}case"Home":{te.preventDefault(),H(0);break}case"End":{te.preventDefault(),D();break}case"Enter":{te.preventDefault();let xe=z();if(xe){let ye=new Event(q2);xe.dispatchEvent(ye)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:ope},c),zb(e,te=>w.createElement(JV.Provider,{value:P},w.createElement(XV.Provider,{value:E},te))))}),Yme=w.forwardRef((e,t)=>{var n,s;let i=rs(),a=w.useRef(null),o=w.useContext(ZV),l=Nv(),c=tU(e),u=(s=(n=c.current)==null?void 0:n.forceMount)!=null?s:o==null?void 0:o.forceMount;Yu(()=>{if(!u)return l.item(i,o==null?void 0:o.id)},[u]);let d=nU(i,a,[e.value,e.children,a],e.keywords),f=NE(),m=Cc(A=>A.value&&A.value===d.current),g=Cc(A=>u||l.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);w.useEffect(()=>{let A=a.current;if(!(!A||e.disabled))return A.addEventListener(q2,x),()=>A.removeEventListener(q2,x)},[g,e.onSelect,e.disabled]);function x(){var A,P;v(),(P=(A=c.current).onSelect)==null||P.call(A,d.current)}function v(){f.setState("value",d.current,!0)}if(!g)return null;let{disabled:y,value:N,onSelect:j,forceMount:b,keywords:_,...C}=e;return w.createElement(st.div,{ref:sl(a,t),...C,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!m,"data-disabled":!!y,"data-selected":!!m,onPointerMove:y||l.getDisablePointerSelection()?void 0:v,onClick:y?void 0:x},e.children)}),Qme=w.forwardRef((e,t)=>{let{heading:n,children:s,forceMount:i,...a}=e,o=rs(),l=w.useRef(null),c=w.useRef(null),u=rs(),d=Nv(),f=Cc(g=>i||d.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);Yu(()=>d.group(o),[]),nU(o,l,[e.value,e.heading,c]);let m=w.useMemo(()=>({id:o,forceMount:i}),[i]);return w.createElement(st.div,{ref:sl(l,t),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&w.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),zb(e,g=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},w.createElement(ZV.Provider,{value:m},g))))}),Xme=w.forwardRef((e,t)=>{let{alwaysRender:n,...s}=e,i=w.useRef(null),a=Cc(o=>!o.search);return!n&&!a?null:w.createElement(st.div,{ref:sl(i,t),...s,"cmdk-separator":"",role:"separator"})}),Jme=w.forwardRef((e,t)=>{let{onValueChange:n,...s}=e,i=e.value!=null,a=NE(),o=Cc(u=>u.search),l=Cc(u=>u.selectedItemId),c=Nv();return w.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),w.createElement(st.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:i?e.value:o,onChange:u=>{i||a.setState("search",u.target.value),n==null||n(u.target.value)}})}),Zme=w.forwardRef((e,t)=>{let{children:n,label:s="Suggestions",...i}=e,a=w.useRef(null),o=w.useRef(null),l=Cc(u=>u.selectedItemId),c=Nv();return w.useEffect(()=>{if(o.current&&a.current){let u=o.current,d=a.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let g=u.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(f),m.unobserve(u)}}},[]),w.createElement(st.div,{ref:sl(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":s,id:c.listId},zb(e,u=>w.createElement("div",{ref:sl(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),epe=w.forwardRef((e,t)=>{let{open:n,onOpenChange:s,overlayClassName:i,contentClassName:a,container:o,...l}=e;return w.createElement(Az,{open:n,onOpenChange:s},w.createElement(Ez,{container:o},w.createElement(hE,{"cmdk-overlay":"",className:i}),w.createElement(fE,{"aria-label":e.label,"cmdk-dialog":"",className:a},w.createElement(eU,{ref:t,...l}))))}),tpe=w.forwardRef((e,t)=>Cc(n=>n.filtered.count===0)?w.createElement(st.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),npe=w.forwardRef((e,t)=>{let{progress:n,children:s,label:i="Loading...",...a}=e;return w.createElement(st.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},zb(e,o=>w.createElement("div",{"aria-hidden":!0},o)))}),ni=Object.assign(eU,{List:Zme,Item:Yme,Input:Jme,Group:Qme,Separator:Xme,Dialog:epe,Empty:tpe,Loading:npe});function rpe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function spe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function tU(e){let t=w.useRef(e);return Yu(()=>{t.current=e}),t}var Yu=typeof window>"u"?w.useEffect:w.useLayoutEffect;function th(e){let t=w.useRef();return t.current===void 0&&(t.current=e()),t}function Cc(e){let t=NE(),n=()=>e(t.snapshot());return w.useSyncExternalStore(t.subscribe,n,n)}function nU(e,t,n,s=[]){let i=w.useRef(),a=Nv();return Yu(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=s.map(u=>u.trim());a.value(e,l,c),(o=t.current)==null||o.setAttribute(eh,l),i.current=l}),i}var ipe=()=>{let[e,t]=w.useState(),n=th(()=>new Map);return Yu(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,i)=>{n.current.set(s,i),t({})}};function ape(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function zb({asChild:e,children:t},n){return e&&w.isValidElement(t)?w.cloneElement(ape(t),{ref:t.ref},n(t.props.children)):n(t)}var ope={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const SE=w.forwardRef(({className:e,...t},n)=>r.jsx(ni,{ref:n,className:Ze("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));SE.displayName=ni.displayName;const CE=w.forwardRef(({className:e,...t},n)=>r.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[r.jsx(pr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx(ni.Input,{ref:n,className:Ze("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));CE.displayName=ni.Input.displayName;const _E=w.forwardRef(({className:e,...t},n)=>r.jsx(ni.List,{ref:n,className:Ze("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));_E.displayName=ni.List.displayName;const PE=w.forwardRef((e,t)=>r.jsx(ni.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));PE.displayName=ni.Empty.displayName;const AE=w.forwardRef(({className:e,...t},n)=>r.jsx(ni.Group,{ref:n,className:Ze("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));AE.displayName=ni.Group.displayName;const lpe=w.forwardRef(({className:e,...t},n)=>r.jsx(ni.Separator,{ref:n,className:Ze("-mx-1 h-px bg-border",e),...t}));lpe.displayName=ni.Separator.displayName;const pg=w.forwardRef(({className:e,...t},n)=>r.jsx(ni.Item,{ref:n,className:Ze("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));pg.displayName=ni.Item.displayName;var Vb="Popover",[rU,z6e]=Zs(Vb,[Ec]),Sv=Ec(),[cpe,Fc]=rU(Vb),sU=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=Sv(t),c=w.useRef(null),[u,d]=w.useState(!1),[f,m]=go({prop:s,defaultProp:i??!1,onChange:a,caller:Vb});return r.jsx(FA,{...l,children:r.jsx(cpe,{scope:t,contentId:rs(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:o,children:n})})};sU.displayName=Vb;var iU="PopoverAnchor",upe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Fc(iU,n),a=Sv(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return w.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(uv,{...a,...s,ref:t})});upe.displayName=iU;var aU="PopoverTrigger",oU=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Fc(aU,n),a=Sv(n),o=Qt(t,i.triggerRef),l=r.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hU(i.open),...s,ref:o,onClick:He(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:r.jsx(uv,{asChild:!0,...a,children:l})});oU.displayName=aU;var EE="PopoverPortal",[dpe,hpe]=rU(EE,{forceMount:void 0}),lU=e=>{const{__scopePopover:t,forceMount:n,children:s,container:i}=e,a=Fc(EE,t);return r.jsx(dpe,{scope:t,forceMount:n,children:r.jsx(ei,{present:n||a.open,children:r.jsx(Bf,{asChild:!0,container:i,children:s})})})};lU.displayName=EE;var cf="PopoverContent",cU=w.forwardRef((e,t)=>{const n=hpe(cf,e.__scopePopover),{forceMount:s=n.forceMount,...i}=e,a=Fc(cf,e.__scopePopover);return r.jsx(ei,{present:s||a.open,children:a.modal?r.jsx(mpe,{...i,ref:t}):r.jsx(ppe,{...i,ref:t})})});cU.displayName=cf;var fpe=bc("PopoverContent.RemoveScroll"),mpe=w.forwardRef((e,t)=>{const n=Fc(cf,e.__scopePopover),s=w.useRef(null),i=Qt(t,s),a=w.useRef(!1);return w.useEffect(()=>{const o=s.current;if(o)return Nb(o)},[]),r.jsx(fv,{as:fpe,allowPinchZoom:!0,children:r.jsx(uU,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:He(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),ppe=w.forwardRef((e,t)=>{const n=Fc(cf,e.__scopePopover),s=w.useRef(!1),i=w.useRef(!1);return r.jsx(uU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),uU=w.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=Fc(cf,n),g=Sv(n);return bb(),r.jsx(dv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(ld,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:r.jsx(pb,{"data-state":hU(m.open),role:"dialog",id:m.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),dU="PopoverClose",gpe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Fc(dU,n);return r.jsx(st.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>i.onOpenChange(!1))})});gpe.displayName=dU;var vpe="PopoverArrow",xpe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Sv(n);return r.jsx(gb,{...i,...s,ref:t})});xpe.displayName=vpe;function hU(e){return e?"open":"closed"}var ype=sU,jpe=oU,bpe=lU,fU=cU;const mU=ype,pU=jpe,kE=w.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},i)=>r.jsx(bpe,{children:r.jsx(fU,{ref:i,align:t,sideOffset:n,className:Ze("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));kE.displayName=fU.displayName;const wpe=[{value:"left_shoulder",label:"Épaule gauche"},{value:"right_shoulder",label:"Épaule droite"},{value:"left_hip",label:"Hanche gauche"},{value:"right_hip",label:"Hanche droite"},{value:"subcutaneous",label:"Sous-cutané"}];function R0({children:e,selectedPetId:t,selectedClientId:n,isReminder:s=!1,originalVaccinationId:i,open:a,onOpenChange:o,editingVaccination:l}){const{clients:c,pets:u,addVaccination:d,updateVaccination:f,getVaccinationProtocolsBySpecies:m,calculateDueDateFromProtocol:g,stockItems:x}=jt(),{settings:v}=Jt(),{toast:y}=Rt(),[N,j]=w.useState(!1),b=a!==void 0?a:N,_=o||j;w.useState(!1);const[C,A]=w.useState(!1),[P,E]=w.useState(!1),[M,$]=w.useState([]),[T,O]=w.useState({clientId:n||"",petId:t||"",vaccineName:"",vaccineType:"",dateGiven:It(new Date,"yyyy-MM-dd"),batchNumber:"",veterinarian:"",notes:"",cost:"",location:"",manufacturer:"",expirationDate:"",adverseReactions:""}),[L,z]=w.useState([]),J=L||[],[H,oe]=w.useState({}),[Q,D]=w.useState(null),[ae,pe]=w.useState("");w.useEffect(()=>{n&&O(F=>({...F,clientId:n.toString()})),t&&O(F=>({...F,petId:t.toString()}))},[n,t]),w.useEffect(()=>{const F=x.filter(Y=>Y.category==="vaccine"&&Y.isActive&&Y.currentStock>0).sort((Y,ee)=>Y.name.localeCompare(ee.name));$(F)},[x]),w.useEffect(()=>{l&&O({clientId:l.clientId.toString(),petId:l.petId.toString(),vaccineName:l.vaccineName,vaccineType:l.vaccineType,dateGiven:l.dateGiven,nextDueDate:l.nextDueDate,batchNumber:l.batchNumber||"",veterinarian:l.veterinarian||"",notes:l.notes||"",cost:l.cost||"",location:l.location||"",manufacturer:l.manufacturer||"",injectionSite:l.injectionSite||""})},[l]),w.useEffect(()=>{if(T.vaccineName&&T.dateGiven&&T.petId){const F=u.find(Y=>Y.id===parseInt(T.petId));if(F){const Y=g(T.vaccineName,F.type,T.dateGiven);Y&&pe(Y)}}},[T.vaccineName,T.dateGiven,T.petId,u,g]),w.useEffect(()=>{if(J.length>0&&T.dateGiven){const F={};J.forEach(Y=>{Y.intervals.forEach(ee=>{const G=`${Y.id}-${ee.offsetDays}`;F[G]=It(UV(new Date(T.dateGiven),ee.offsetDays),"yyyy-MM-dd")})}),oe(F)}else oe({})},[J,T.dateGiven]);const te=F=>{O(Y=>({...Y,vaccineName:F.name,manufacturer:F.manufacturer||Y.manufacturer,cost:F.sellingPrice.toString()})),A(!1),E(!1)},Z=()=>{E(!0),A(!1)},ne=()=>{E(!1),O(F=>({...F,vaccineName:"",manufacturer:"",cost:""}))},xe=F=>{if(F.preventDefault(),l){if(!T.clientId||!T.petId){y({title:"Erreur",description:"Client ou animal manquant",variant:"destructive"});return}}else if(!T.clientId||!T.petId||J.length===0&&!T.vaccineName){y({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const Y=c.find(I=>I.id===parseInt(T.clientId)),ee=u.find(I=>I.id===parseInt(T.petId));if(!Y||!ee){y({title:"Erreur",description:"Client ou animal introuvable",variant:"destructive"});return}if(J.length>0&&!l){J.forEach(I=>{var ve,we;if(I.intervals&&Array.isArray(I.intervals)){let Fe;const Be=I.intervals.find(it=>it.offsetDays===0);if(Be){const it=`${I.id}-${Be.offsetDays}`,lt=H[it]||"";Fe=d({clientId:parseInt(T.clientId),clientName:((ve=c.find(ft=>ft.id===parseInt(T.clientId)))==null?void 0:ve.name)||"",petId:parseInt(T.petId),petName:((we=u.find(ft=>ft.id===parseInt(T.petId)))==null?void 0:we.name)||"",vaccineName:`${I.name} (${Be.label})`,vaccineType:I.vaccineType,dateGiven:T.dateGiven,nextDueDate:lt,batchNumber:T.batchNumber,veterinarian:T.veterinarian,notes:T.notes,status:"completed",cost:T.cost,location:T.location,manufacturer:I.manufacturer||T.manufacturer,expirationDate:T.expirationDate,adverseReactions:T.adverseReactions,vaccinationCategory:"new",isReminder:!1})}I.intervals.forEach(it=>{var lt,ft;if(it.offsetDays>0){const Ne=`${I.id}-${it.offsetDays}`,Ge=H[Ne]||"";d({clientId:parseInt(T.clientId),clientName:((lt=c.find(Ke=>Ke.id===parseInt(T.clientId)))==null?void 0:lt.name)||"",petId:parseInt(T.petId),petName:((ft=u.find(Ke=>Ke.id===parseInt(T.petId)))==null?void 0:ft.name)||"",vaccineName:`${I.name} (${it.label})`,vaccineType:I.vaccineType,dateGiven:Ge,nextDueDate:Ge,batchNumber:T.batchNumber,veterinarian:T.veterinarian,notes:T.notes,status:"scheduled",cost:T.cost,location:T.location,manufacturer:I.manufacturer||T.manufacturer,expirationDate:T.expirationDate,adverseReactions:T.adverseReactions,vaccinationCategory:"reminder",originalVaccinationId:Fe,isReminder:!0})}})}}),y({title:"Vaccinations enregistrées",description:`${J.length} vaccinations ajoutées.`}),z([]),_(!1);return}const G=Object.values(H).sort().pop()||ae||T.dateGiven;if(l){const I=l.vaccinationCategory==="reminder"?"rappel":"vaccination";f(l.id,{clientId:parseInt(T.clientId),clientName:Y.name,petId:parseInt(T.petId),petName:ee.name,vaccineName:T.vaccineName,vaccineType:T.vaccineType,vaccinationCategory:l.vaccinationCategory,dateGiven:T.dateGiven,nextDueDate:l.vaccinationCategory==="reminder"?T.dateGiven:G,calculatedDueDate:ae,batchNumber:T.batchNumber,veterinarian:T.veterinarian,notes:T.notes,status:l.status,cost:T.cost,location:T.location,manufacturer:T.manufacturer,expirationDate:T.expirationDate,adverseReactions:T.adverseReactions,originalVaccinationId:l.originalVaccinationId,isReminder:l.isReminder}),y({title:`${I.charAt(0).toUpperCase()+I.slice(1)} modifiée`,description:`${I.charAt(0).toUpperCase()+I.slice(1)} ${T.vaccineName} modifiée pour ${ee.name}`})}else d({clientId:parseInt(T.clientId),clientName:Y.name,petId:parseInt(T.petId),petName:ee.name,vaccineName:T.vaccineName,vaccineType:T.vaccineType,vaccinationCategory:s?"reminder":"new",dateGiven:T.dateGiven,nextDueDate:G,calculatedDueDate:ae,batchNumber:T.batchNumber,veterinarian:T.veterinarian,notes:T.notes,status:"completed",cost:T.cost,location:T.location,manufacturer:T.manufacturer,expirationDate:T.expirationDate,adverseReactions:T.adverseReactions,originalVaccinationId:s?i:void 0,isReminder:s}),y({title:"Vaccination enregistrée",description:`Vaccination ${T.vaccineName} ajoutée pour ${ee.name}`});O({clientId:(n==null?void 0:n.toString())||"",petId:(t==null?void 0:t.toString())||"",vaccineName:"",vaccineType:"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",batchNumber:"",veterinarian:"",notes:"",cost:"",location:"",manufacturer:"",expirationDate:"",adverseReactions:""}),z([]),_(!1)},ye=u.find(F=>F.id===parseInt(T.petId)),se=ye?m(ye.type):[];return r.jsxs(St,{open:b,onOpenChange:_,children:[r.jsx($c,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle Vaccination"]})}),r.jsxs(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(As,{className:"h-5 w-5"}),l?l.vaccinationCategory==="reminder"?"Modifier le Rappel":"Modifier la Vaccination":"Nouvelle Vaccination"]}),l&&l.vaccinationCategory==="reminder"&&r.jsxs("div",{className:"text-sm text-orange-600 bg-orange-50 p-2 rounded-md border border-orange-200",children:[r.jsx("strong",{children:"Mode édition de rappel :"})," Vous modifiez uniquement ce rappel spécifique. Les autres rappels de la même vaccination ne seront pas affectés."]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l&&r.jsxs("div",{className:"col-span-2 text-sm text-blue-600 bg-blue-50 p-2 rounded-md border border-blue-200",children:[r.jsx("strong",{children:"Mode édition :"})," Vous modifiez uniquement cette vaccination spécifique. Le client et l'animal sont verrouillés. Les protocoles ne sont pas affichés car ils ne s'appliquent qu'à la création."]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"clientId",children:"Client *"}),r.jsxs(Me,{value:T.clientId,onValueChange:F=>{O(Y=>({...Y,clientId:F,petId:""})),D(null)},disabled:!!l,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un client"})}),r.jsx(De,{children:c&&Array.isArray(c)&&c.length>0?c.map(F=>r.jsx(U,{value:F.id.toString(),children:F.name},F.id)):r.jsx(U,{value:"no-clients",disabled:!0,children:"Aucun client trouvé"})})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"petId",children:"Animal *"}),r.jsxs(Me,{value:T.petId,onValueChange:F=>{O(Y=>({...Y,petId:F})),D(null)},disabled:l?!0:!T.clientId,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un animal"})}),r.jsx(De,{children:u.filter(F=>F.ownerId===parseInt(T.clientId)).map(F=>r.jsxs(U,{value:F.id.toString(),children:[F.name," (",F.type,")"]},F.id))})]})]})]}),se.length>0&&!l&&r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs(B,{children:["Protocoles suggérés pour ",ye==null?void 0:ye.type," (sélection multiple)"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:se.map(F=>{const Y=J.some(ee=>ee.id===F.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-muted/50",children:[r.jsx(Qi,{id:`protocol-${F.id}`,checked:Y,onCheckedChange:ee=>{z(ee?G=>[...G,F]:G=>G.filter(I=>I.id!==F.id))}}),r.jsxs("label",{htmlFor:`protocol-${F.id}`,className:"ml-2 flex-1 text-sm",children:[r.jsx("div",{className:"font-medium",children:F.name}),r.jsx("div",{className:"text-xs text-gray-600",children:F.description})]})]},F.id)})})]}),J.length>0&&!l?r.jsxs(de,{className:"mb-4",children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-sm",children:"Vaccins sélectionnés"})}),r.jsx(he,{children:r.jsx("ul",{className:"list-disc list-inside text-sm",children:J.map(F=>r.jsx("li",{children:F.name},F.id))})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs(B,{htmlFor:"vaccineName",children:["Nom du vaccin ",!l&&"*"]}),r.jsxs($e,{variant:"outline",className:"text-xs",children:[M.length," vaccins en stock"]})]}),P?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Saisie manuelle"})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:ne,className:"text-xs",children:"Changer"})]}),r.jsx(ie,{value:T.vaccineName,onChange:F=>O(Y=>({...Y,vaccineName:F.target.value})),placeholder:"Nom du vaccin (non disponible en stock)",className:"bg-white",required:!l})]})}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(mU,{open:C,onOpenChange:A,children:[r.jsx(pU,{asChild:!0,children:r.jsxs(V,{variant:"outline",role:"combobox","aria-expanded":C,className:"flex-1 justify-between",children:[T.vaccineName||"Sélectionner un vaccin...",r.jsx(ub,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(kE,{className:"w-[400px] p-0",children:r.jsxs(SE,{children:[r.jsx(CE,{placeholder:"Rechercher un vaccin..."}),r.jsxs(_E,{children:[r.jsx(PE,{children:"Aucun vaccin trouvé."}),r.jsxs(AE,{children:[M.map(F=>r.jsxs(pg,{value:F.name,onSelect:()=>te(F),className:"flex flex-col items-start gap-1 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:F.name})]}),r.jsxs($e,{variant:F.currentStock>=5?"default":"destructive",className:"ml-2",children:[F.currentStock," en stock"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[F.manufacturer&&r.jsxs("span",{children:["Fabricant: ",F.manufacturer]}),r.jsxs("span",{children:["Prix: ",F.sellingPrice.toFixed(2)," ",v.currency]})]})]},F.id)),r.jsx(pg,{onSelect:Z,children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 p-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Saisie manuelle"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Vaccin non disponible en stock"})]})]})})]})]})]})})]}),T.vaccineName&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:Z,className:"px-3",title:"Passer en saisie manuelle",children:r.jsx(pr,{className:"h-4 w-4"})})]}),T.vaccineName&&r.jsx("div",{className:"flex items-center gap-2",children:(()=>{const F=M.find(Y=>Y.name.toLowerCase()===T.vaccineName.toLowerCase());return F?F.currentStock>=1?r.jsxs($e,{variant:"default",className:"bg-green-100 text-green-800",children:[r.jsx(er,{className:"h-3 w-3 mr-1"}),"En stock (",F.currentStock,")"]}):r.jsxs($e,{variant:"destructive",children:[r.jsx(qn,{className:"h-3 w-3 mr-1"}),"Stock insuffisant"]}):r.jsxs($e,{variant:"secondary",children:[r.jsx(pr,{className:"h-3 w-3 mr-1"}),"Non en stock"]})})()})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"vaccineType",children:"Type de vaccin"}),r.jsxs(Me,{value:T.vaccineType,onValueChange:F=>O(Y=>({...Y,vaccineType:F})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de vaccin"})}),r.jsxs(De,{children:[r.jsx(U,{value:"core",children:"Essentiel"}),r.jsx(U,{value:"non-core",children:"Optionnel"}),r.jsx(U,{value:"rabies",children:"Rage"}),r.jsx(U,{value:"custom",children:"Personnalisé"})]})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs("div",{children:[r.jsxs(B,{htmlFor:"dateGiven",children:["Date d'administration ",!l&&"*"]}),r.jsx(ie,{id:"dateGiven",type:"date",value:T.dateGiven,onChange:F=>O(Y=>({...Y,dateGiven:F.target.value})),required:!l})]})}),J.length>0&&!l&&r.jsx("div",{className:"space-y-4 mb-4",children:J.map(F=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"font-medium text-sm",children:["Étapes pour ",F.name]}),F.intervals.map(Y=>{const ee=`${F.id}-${Y.offsetDays}`,G=new Date(T.dateGiven);G.setDate(G.getDate()+Y.offsetDays);const I=G.toISOString().split("T")[0];return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center",children:[r.jsxs("div",{className:"text-sm",children:[Y.label," (+",Y.offsetDays," jours)"]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:ee,children:"Date de rappel"}),r.jsx(ie,{id:ee,type:"date",value:H[ee]||I,onChange:ve=>oe(we=>({...we,[ee]:ve.target.value}))}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Suggérée: ",G.toLocaleDateString("fr-FR")]})]})]},ee)})]},F.id))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"veterinarian",children:"Vétérinaire"}),r.jsxs(Me,{value:T.veterinarian,onValueChange:F=>O(Y=>({...Y,veterinarian:F})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un vétérinaire"})}),r.jsx(De,{children:v.veterinarians.filter(F=>F.isActive).map(F=>r.jsx(U,{value:F.name,children:F.name},F.id))})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"location",children:"Site d'injection"}),r.jsxs(Me,{value:T.location,onValueChange:F=>O(Y=>({...Y,location:F})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le site"})}),r.jsx(De,{children:wpe.map(F=>r.jsx(U,{value:F.value,children:F.label},F.value))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"batchNumber",children:"Numéro de lot"}),r.jsx(ie,{id:"batchNumber",value:T.batchNumber,onChange:F=>O(Y=>({...Y,batchNumber:F.target.value})),placeholder:"Ex: VAC2024-001"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(ie,{id:"manufacturer",value:T.manufacturer,onChange:F=>O(Y=>({...Y,manufacturer:F.target.value})),placeholder:"Ex: Zoetis, Merial"})]}),r.jsxs("div",{children:[r.jsxs(B,{htmlFor:"cost",children:["Coût (",v.currency,")"]}),r.jsx(ie,{id:"cost",value:T.cost,onChange:F=>O(Y=>({...Y,cost:F.target.value})),placeholder:"0.00",type:"number",step:"0.01"})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"expirationDate",children:"Date d'expiration du vaccin"}),r.jsx(ie,{id:"expirationDate",type:"date",value:T.expirationDate,onChange:F=>O(Y=>({...Y,expirationDate:F.target.value}))})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",value:T.notes,onChange:F=>O(Y=>({...Y,notes:F.target.value})),placeholder:"Notes sur la vaccination...",rows:3})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"adverseReactions",children:"Réactions adverses"}),r.jsx(Nt,{id:"adverseReactions",value:T.adverseReactions,onChange:F=>O(Y=>({...Y,adverseReactions:F.target.value})),placeholder:"Décrire toute réaction adverse observée...",rows:2})]}),T.vaccineName&&r.jsxs(de,{className:"mt-4",children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"text-sm flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4"}),"Résumé du stock"]})}),r.jsx(he,{children:(()=>{const F=M.find(Y=>Y.name.toLowerCase()===T.vaccineName.toLowerCase());return F?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:F.name}),r.jsxs($e,{variant:F.currentStock>=1?"default":"destructive",children:[F.currentStock," en stock"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Fabricant: ",F.manufacturer||"Non spécifié"]}),r.jsxs("div",{children:["Prix de vente: ",F.sellingPrice.toFixed(2)," ",v.currency]}),r.jsxs("div",{children:["Stock minimum: ",F.minimumStock]}),F.currentStock<=F.minimumStock&&r.jsx("div",{className:"text-orange-600 font-medium mt-1",children:"⚠️ Stock bas - Réapprovisionnement recommandé"})]})]}):r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsx("span",{children:"Vaccin non disponible en stock"})]}),r.jsx("div",{className:"mt-1",children:"Le vaccin sera administré sans impact sur le stock."})]})})()})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>setOpen(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",children:[r.jsx(As,{className:"h-4 w-4 mr-2"}),"Enregistrer la vaccination"]})]})]})}),r.jsxs("div",{className:"space-y-4",children:[ye&&r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-sm",children:"Informations Animal"})}),r.jsx(he,{className:"pt-0",children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Nom:"})," ",ye.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",ye.type]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Race:"})," ",ye.breed||"Non spécifiée"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Âge:"})," ",ye.birthDate?`${Math.floor((new Date().getTime()-new Date(ye.birthDate).getTime())/(365.25*24*60*60*1e3))} ans`:"Non spécifié"]})]})})]}),r.jsxs(de,{className:"border-amber-200 bg-amber-50",children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"text-sm text-amber-700 flex items-center gap-2",children:[r.jsx(qn,{className:"h-4 w-4"}),"Important"]})}),r.jsx(he,{className:"pt-0",children:r.jsxs("ul",{className:"text-xs text-amber-700 space-y-1",children:[r.jsx("li",{children:"• Vérifiez la date d'expiration du vaccin"}),r.jsx("li",{children:"• Respectez la chaîne du froid"}),r.jsx("li",{children:"• Surveillez les réactions dans les 24h"}),r.jsx("li",{children:"• Enregistrez le numéro de lot"}),r.jsx("li",{children:"• Planifiez le rappel"})]})})]})]})]})]})]})}function L0({children:e,selectedClientId:t,selectedPetId:n,open:s,onOpenChange:i,editingAntiparasitic:a}){var pe,te;const{clients:o,pets:l,addAntiparasitic:c,updateAntiparasitic:u,getAntiparasiticProtocolsBySpecies:d,addAppointment:f,stockItems:m}=jt(),{settings:g}=Jt(),{toast:x}=Rt(),[v,y]=w.useState(!1),N=s!==void 0?s:v,j=i||y,[b,_]=w.useState({clientId:(t==null?void 0:t.toString())||"",petId:(n==null?void 0:n.toString())||"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",dosage:"",administrationRoute:"",veterinarian:"",notes:"",batchNumber:"",manufacturer:"",weight:"",cost:"",sideEffects:""}),[C,A]=w.useState([]),[P,E]=w.useState(!1),[M,$]=w.useState(!1),[T,O]=w.useState([]),L=C||[],[z,J]=w.useState({});w.useEffect(()=>{t&&_(Z=>({...Z,clientId:t.toString(),petId:""})),n&&_(Z=>({...Z,petId:n.toString()}))},[t,n]),w.useEffect(()=>{const Z=m.filter(ne=>ne.category==="medication"&&ne.isActive&&ne.currentStock>0).sort((ne,xe)=>ne.name.localeCompare(xe.name));O(Z)},[m]),w.useEffect(()=>{a&&_({clientId:a.clientId.toString(),petId:a.petId.toString(),dateGiven:a.dateGiven,nextDueDate:a.nextDueDate||"",dosage:a.dosage||"",administrationRoute:a.administrationRoute||"",veterinarian:a.veterinarian||"",notes:a.notes||"",batchNumber:a.batchNumber||"",manufacturer:a.manufacturer||"",weight:a.weight||"",cost:a.cost||"",sideEffects:a.sideEffects||""})},[a]),w.useEffect(()=>{if(L.length&&b.dateGiven){const Z={};L.forEach(ne=>{ne.intervals.forEach(xe=>{const ye=`${ne.id}-${xe.offsetDays}`;Z[ye]=It(UV(new Date(b.dateGiven),xe.offsetDays),"yyyy-MM-dd")})}),J(Z)}else J({})},[L,b.dateGiven]);const H=b.petId?d(((pe=l.find(Z=>Z.id===parseInt(b.petId)))==null?void 0:pe.type)||""):[],oe=Z=>{_(ne=>({...ne,productName:Z.name,manufacturer:Z.manufacturer||ne.manufacturer,cost:Z.sellingPrice.toString()})),E(!1),$(!1)},Q=()=>{$(!0),E(!1)},D=()=>{$(!1),_(Z=>({...Z,productName:"",manufacturer:"",cost:""}))},ae=Z=>{if(Z.preventDefault(),!b.clientId||!b.petId){x({title:"Erreur",description:"Client et animal requis.",variant:"destructive"});return}const ne=o.find(ye=>ye.id===parseInt(b.clientId)),xe=l.find(ye=>ye.id===parseInt(b.petId));if(!ne||!xe){x({title:"Erreur",description:"Client ou animal introuvable.",variant:"destructive"});return}if(a){u(a.id,{clientId:parseInt(b.clientId),clientName:ne.name,petId:parseInt(b.petId),petName:xe.name,productName:a.productName,productType:a.productType,targetParasites:a.targetParasites,dateGiven:b.dateGiven,nextDueDate:b.nextDueDate,dosage:b.dosage,administrationRoute:b.administrationRoute,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer,weight:b.weight,status:a.status,cost:b.cost,sideEffects:b.sideEffects}),x({title:"Traitement modifié",description:`Le traitement ${a.productName} a été mis à jour avec succès.`}),j(!1);return}if(L.length>0)L.forEach(ye=>{ye.intervals.forEach(se=>{const F=`${ye.id}-${se.offsetDays}`,Y=z[F]||"",ee=se.offsetDays===0?b.dateGiven:Y;c({clientId:ne.id,clientName:ne.name,petId:xe.id,petName:xe.name,productName:`${ye.name} (${se.label})`,productType:ye.productType,targetParasites:ye.targetParasites,dateGiven:ee,nextDueDate:Y,dosage:b.dosage,administrationRoute:b.administrationRoute||ye.productType,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer||ye.manufacturer||"",weight:b.weight,status:se.offsetDays===0?"completed":"scheduled",cost:b.cost,sideEffects:b.sideEffects})})}),L.forEach(ye=>{(ye.intervals||[]).forEach(se=>{const F=`${ye.id}-${se.offsetDays}`,Y=z[F];Y&&se.offsetDays>0&&f({clientId:ne.id,clientName:ne.name,petId:xe.id,petName:xe.name,date:Y,time:"09:00",type:"consultation",duration:15,reason:`Rappel antiparasitaire ${ye.name}`,status:"scheduled",reminderSent:!1})})}),x({title:"Traitements ajoutés",description:`${L.reduce((ye,se)=>ye+se.intervals.length,0)} traitement(s) enregistré(s) dans le dossier médical et rappels programmés.`});else{const ye=b.notes||"Traitement antiparasitaire";c({clientId:ne.id,clientName:ne.name,petId:xe.id,petName:xe.name,productName:ye,productType:"external",targetParasites:"Non spécifié",dateGiven:b.dateGiven,nextDueDate:b.nextDueDate,dosage:b.dosage,administrationRoute:b.administrationRoute,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer,weight:b.weight,status:"completed",cost:b.cost,sideEffects:b.sideEffects}),b.nextDueDate&&f({clientId:ne.id,clientName:ne.name,petId:xe.id,petName:xe.name,date:b.nextDueDate,time:"09:00",type:"consultation",duration:15,reason:`Rappel antiparasitaire ${ye}`,status:"scheduled",reminderSent:!1}),x({title:"Traitement ajouté",description:`Traitement pour ${xe.name} enregistré dans le dossier médical.`})}A([]),_({clientId:(t==null?void 0:t.toString())||"",petId:(n==null?void 0:n.toString())||"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",dosage:"",administrationRoute:"",veterinarian:"",notes:"",batchNumber:"",manufacturer:"",weight:"",cost:"",sideEffects:""}),j(!1)};return r.jsxs(St,{open:N,onOpenChange:j,children:[!a&&r.jsx($c,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau traitement"]})}),r.jsxs(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsx(_t,{children:a?`Modifier ${a.productName}`:"Nouveau traitement antiparasitaire"})}),r.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a&&r.jsxs("div",{className:"col-span-2 text-sm text-blue-600 bg-blue-50 p-2 rounded-md border border-blue-200",children:[r.jsx("strong",{children:"Mode édition :"})," Vous modifiez uniquement ce traitement spécifique. Le client et l'animal sont verrouillés. Les protocoles ne sont pas affichés car ils ne s'appliquent qu'à la création."]}),r.jsxs("div",{children:[r.jsx(B,{children:"Client *"}),r.jsxs(Me,{value:b.clientId,onValueChange:Z=>_(ne=>({...ne,clientId:Z,petId:""})),disabled:a,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un client"})}),r.jsx(De,{children:o&&Array.isArray(o)&&o.length>0?o.map(Z=>r.jsx(U,{value:Z.id.toString(),children:Z.name},Z.id)):r.jsx(U,{value:"no-clients",disabled:!0,children:"Aucun client trouvé"})})]})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Animal *"}),r.jsxs(Me,{value:b.petId,onValueChange:Z=>_(ne=>({...ne,petId:Z})),disabled:!b.clientId||a,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un animal"})}),r.jsx(De,{children:l.filter(Z=>Z.ownerId===parseInt(b.clientId)).map(Z=>r.jsxs(U,{value:Z.id.toString(),children:[Z.name," (",Z.type,")"]},Z.id))})]})]})]}),H.length>0&&!a&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs(B,{children:["Protocoles suggérés (",(te=l.find(Z=>Z.id===parseInt(b.petId)))==null?void 0:te.type,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:H.map(Z=>{const ne=L.some(xe=>xe.id===Z.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-muted/50",children:[r.jsx(Qi,{checked:ne,onCheckedChange:xe=>A(xe?ye=>[...ye,Z]:ye=>ye.filter(se=>se.id!==Z.id))}),r.jsxs("label",{className:"ml-2 flex-1 text-sm",children:[r.jsx("div",{className:"font-medium",children:Z.name}),r.jsx("div",{className:"text-xs text-gray-600",children:Z.description})]})]},Z.id)})})]}),L.length>0?r.jsxs(de,{className:"mb-4",children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-sm",children:"Protocoles sélectionnés"})}),r.jsx(he,{children:r.jsx("ul",{className:"list-disc list-inside text-sm",children:L.map(Z=>r.jsx("li",{children:Z.name},Z.id))})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(B,{children:"Produit antiparasitaire"}),r.jsxs($e,{variant:"outline",className:"text-xs",children:[T.length," antiparasitaires en stock"]})]}),M?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Saisie manuelle"})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:D,className:"text-xs",children:"Changer"})]}),r.jsx(ie,{value:b.productName,onChange:Z=>_(ne=>({...ne,productName:Z.target.value})),placeholder:"Nom du produit antiparasitaire (non disponible en stock)",className:"bg-white"})]})}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(mU,{open:P,onOpenChange:E,children:[r.jsx(pU,{asChild:!0,children:r.jsxs(V,{variant:"outline",role:"combobox","aria-expanded":P,className:"flex-1 justify-between",children:[b.productName||"Sélectionner un antiparasitaire...",r.jsx(ub,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(kE,{className:"w-[400px] p-0",children:r.jsxs(SE,{children:[r.jsx(CE,{placeholder:"Rechercher un antiparasitaire..."}),r.jsxs(_E,{children:[r.jsx(PE,{children:"Aucun antiparasitaire trouvé."}),r.jsxs(AE,{children:[T.map(Z=>r.jsxs(pg,{value:Z.name,onSelect:()=>oe(Z),className:"flex flex-col items-start gap-1 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:Z.name})]}),r.jsxs($e,{variant:Z.currentStock>=5?"default":"destructive",className:"ml-2",children:[Z.currentStock," en stock"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[Z.manufacturer&&r.jsxs("span",{children:["Fabricant: ",Z.manufacturer]}),r.jsxs("span",{children:["Prix: ",Z.sellingPrice.toFixed(2)," ",g.currency]})]})]},Z.id)),r.jsx(pg,{onSelect:Q,children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 p-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Saisie manuelle"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Antiparasitaire non disponible en stock"})]})]})})]})]})]})})]}),b.productName&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:Q,className:"px-3",title:"Passer en saisie manuelle",children:r.jsx(pr,{className:"h-4 w-4"})})]}),b.productName&&r.jsx("div",{className:"flex items-center gap-2",children:(()=>{const Z=T.find(ne=>ne.name.toLowerCase()===b.productName.toLowerCase());return Z?Z.currentStock>=1?r.jsxs($e,{variant:"default",className:"bg-green-100 text-green-800",children:[r.jsx(er,{className:"h-3 w-3 mr-1"}),"En stock (",Z.currentStock,")"]}):r.jsxs($e,{variant:"destructive",children:[r.jsx(qn,{className:"h-3 w-3 mr-1"}),"Stock insuffisant"]}):r.jsxs($e,{variant:"secondary",children:[r.jsx(pr,{className:"h-3 w-3 mr-1"}),"Non en stock"]})})()})]})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Type"}),r.jsx(ie,{value:b.administrationRoute,onChange:Z=>_(ne=>({...ne,administrationRoute:Z.target.value})),placeholder:"Type (oral, topical...)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{children:"Date d'administration *"}),r.jsx(ie,{type:"date",value:b.dateGiven,onChange:Z=>_(ne=>({...ne,dateGiven:Z.target.value})),required:!0})]}),!L.length&&r.jsxs("div",{children:[r.jsx(B,{children:"Date de rappel"}),r.jsx(ie,{type:"date",value:b.nextDueDate,onChange:Z=>_(ne=>({...ne,nextDueDate:Z.target.value}))})]})]}),L.length>0&&r.jsx("div",{className:"space-y-4 mb-4",children:L.map(Z=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"font-medium text-sm",children:["Étapes pour ",Z.name]}),Z.intervals.map(ne=>{const xe=`${Z.id}-${ne.offsetDays}`;return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center",children:[r.jsxs("div",{className:"text-sm",children:[ne.label," (+",ne.offsetDays," jours)"]}),r.jsxs("div",{children:[r.jsx(B,{children:"Date exacte"}),r.jsx(ie,{type:"date",id:xe,value:z[xe]||"",onChange:ye=>J(se=>({...se,[xe]:ye.target.value}))})]})]},xe)})]},Z.id))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{children:"Dosage"}),r.jsx(ie,{value:b.dosage,onChange:Z=>_(ne=>({...ne,dosage:Z.target.value})),placeholder:"Dosage"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Vétérinaire"}),r.jsxs(Me,{value:b.veterinarian,onValueChange:Z=>_(ne=>({...ne,veterinarian:Z})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un vétérinaire"})}),r.jsx(De,{children:(g.veterinarians||[]).filter(Z=>Z.isActive).map(Z=>r.jsx(U,{value:Z.name,children:Z.name},Z.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{children:"Numéro de lot"}),r.jsx(ie,{value:b.batchNumber,onChange:Z=>_(ne=>({...ne,batchNumber:Z.target.value})),placeholder:"Numéro de lot"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Fabricant"}),r.jsx(ie,{value:b.manufacturer,onChange:Z=>_(ne=>({...ne,manufacturer:Z.target.value})),placeholder:"Fabricant"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{children:"Poids"}),r.jsx(ie,{value:b.weight,onChange:Z=>_(ne=>({...ne,weight:Z.target.value})),placeholder:"Poids"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Coût"}),r.jsx(ie,{type:"number",step:"0.01",value:b.cost,onChange:Z=>_(ne=>({...ne,cost:Z.target.value})),placeholder:"0.00"})]})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Effets indésirables"}),r.jsx(ie,{value:b.sideEffects,onChange:Z=>_(ne=>({...ne,sideEffects:Z.target.value})),placeholder:"Effets indésirables"})]}),b.productName&&r.jsxs(de,{className:"mt-4",children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"text-sm flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4"}),"Résumé du stock"]})}),r.jsx(he,{children:(()=>{const Z=T.find(ne=>ne.name.toLowerCase()===b.productName.toLowerCase());return Z?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:Z.name}),r.jsxs($e,{variant:Z.currentStock>=1?"default":"destructive",children:[Z.currentStock," en stock"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Fabricant: ",Z.manufacturer||"Non spécifié"]}),r.jsxs("div",{children:["Prix de vente: ",Z.sellingPrice.toFixed(2)," ",g.currency]}),r.jsxs("div",{children:["Stock minimum: ",Z.minimumStock]}),Z.currentStock<=Z.minimumStock&&r.jsx("div",{className:"text-orange-600 font-medium mt-1",children:"⚠️ Stock bas - Réapprovisionnement recommandé"})]})]}):r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsx("span",{children:"Antiparasitaire non disponible en stock"})]}),r.jsx("div",{className:"mt-1",children:"L'antiparasitaire sera administré sans impact sur le stock."})]})})()})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{variant:"outline",type:"button",onClick:()=>i?i(!1):y(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Ajouter"})]})]})]})]})}function Npe({open:e,onOpenChange:t,vaccination:n}){const{confirmVaccinationReminder:s,calculateDueDateFromProtocol:i}=jt(),{toast:a}=Rt(),[o,l]=w.useState({datePerformed:It(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),c=d=>{if(d.preventDefault(),!o.veterinarian){a({title:"Erreur",description:"Le nom du vétérinaire est requis",variant:"destructive"});return}let f=o.newNextDueDate;!f&&n&&(f=i(n.vaccineName,"chien",o.datePerformed)||""),s(n.id,{datePerformed:o.datePerformed,veterinarian:o.veterinarian,batchNumber:o.batchNumber,notes:o.notes,newNextDueDate:f})&&(a({title:"Rappel confirmé",description:`Le rappel de ${n.vaccineName} a été confirmé et enregistré`}),l({datePerformed:It(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),t(!1))},u=d=>{l(f=>({...f,[d.target.name]:d.target.value}))};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[500px]",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Confirmer le rappel de vaccination"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Vaccination à confirmer :"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:n.vaccineName})," pour ",n.petName]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Rappel prévu le : ",new Date(n.nextDueDate).toLocaleDateString("fr-FR")]})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"datePerformed",children:"Date d'administration *"}),r.jsx(ie,{id:"datePerformed",name:"datePerformed",type:"date",value:o.datePerformed,onChange:u,required:!0})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"veterinarian",children:"Vétérinaire *"}),r.jsx(ie,{id:"veterinarian",name:"veterinarian",value:o.veterinarian,onChange:u,placeholder:"Nom du vétérinaire",required:!0})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"batchNumber",children:"Numéro de lot"}),r.jsx(ie,{id:"batchNumber",name:"batchNumber",value:o.batchNumber,onChange:u,placeholder:"Numéro de lot du vaccin"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"newNextDueDate",children:"Nouvelle date de rappel"}),r.jsx(ie,{id:"newNextDueDate",name:"newNextDueDate",type:"date",value:o.newNextDueDate,onChange:u,placeholder:"Date du prochain rappel"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Laissez vide pour utiliser la date calculée selon le protocole"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",name:"notes",value:o.notes,onChange:u,placeholder:"Notes sur l'administration du vaccin",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Confirmer le rappel"})]})]})]})]})}):null}var Spe=Array.isArray,ri=Spe,Cpe=typeof cr=="object"&&cr&&cr.Object===Object&&cr,gU=Cpe,_pe=gU,Ppe=typeof self=="object"&&self&&self.Object===Object&&self,Ape=_pe||Ppe||Function("return this")(),bo=Ape,Epe=bo,kpe=Epe.Symbol,Cv=kpe,BI=Cv,vU=Object.prototype,Tpe=vU.hasOwnProperty,Ope=vU.toString,Xm=BI?BI.toStringTag:void 0;function Dpe(e){var t=Tpe.call(e,Xm),n=e[Xm];try{e[Xm]=void 0;var s=!0}catch{}var i=Ope.call(e);return s&&(t?e[Xm]=n:delete e[Xm]),i}var Mpe=Dpe,Ipe=Object.prototype,$pe=Ipe.toString;function Rpe(e){return $pe.call(e)}var Lpe=Rpe,zI=Cv,Fpe=Mpe,Bpe=Lpe,zpe="[object Null]",Vpe="[object Undefined]",VI=zI?zI.toStringTag:void 0;function Upe(e){return e==null?e===void 0?Vpe:zpe:VI&&VI in Object(e)?Fpe(e):Bpe(e)}var gl=Upe;function qpe(e){return e!=null&&typeof e=="object"}var vl=qpe,Wpe=gl,Hpe=vl,Gpe="[object Symbol]";function Kpe(e){return typeof e=="symbol"||Hpe(e)&&Wpe(e)==Gpe}var em=Kpe,Ype=ri,Qpe=em,Xpe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jpe=/^\w*$/;function Zpe(e,t){if(Ype(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Qpe(e)?!0:Jpe.test(e)||!Xpe.test(e)||t!=null&&e in Object(t)}var TE=Zpe;function ege(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Bc=ege;const tm=pn(Bc);var tge=gl,nge=Bc,rge="[object AsyncFunction]",sge="[object Function]",ige="[object GeneratorFunction]",age="[object Proxy]";function oge(e){if(!nge(e))return!1;var t=tge(e);return t==sge||t==ige||t==rge||t==age}var OE=oge;const yt=pn(OE);var lge=bo,cge=lge["__core-js_shared__"],uge=cge,yS=uge,UI=function(){var e=/[^.]+$/.exec(yS&&yS.keys&&yS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function dge(e){return!!UI&&UI in e}var hge=dge,fge=Function.prototype,mge=fge.toString;function pge(e){if(e!=null){try{return mge.call(e)}catch{}try{return e+""}catch{}}return""}var xU=pge,gge=OE,vge=hge,xge=Bc,yge=xU,jge=/[\\^$.*+?()[\]{}|]/g,bge=/^\[object .+?Constructor\]$/,wge=Function.prototype,Nge=Object.prototype,Sge=wge.toString,Cge=Nge.hasOwnProperty,_ge=RegExp("^"+Sge.call(Cge).replace(jge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pge(e){if(!xge(e)||vge(e))return!1;var t=gge(e)?_ge:bge;return t.test(yge(e))}var Age=Pge;function Ege(e,t){return e==null?void 0:e[t]}var kge=Ege,Tge=Age,Oge=kge;function Dge(e,t){var n=Oge(e,t);return Tge(n)?n:void 0}var fd=Dge,Mge=fd,Ige=Mge(Object,"create"),Ub=Ige,qI=Ub;function $ge(){this.__data__=qI?qI(null):{},this.size=0}var Rge=$ge;function Lge(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Fge=Lge,Bge=Ub,zge="__lodash_hash_undefined__",Vge=Object.prototype,Uge=Vge.hasOwnProperty;function qge(e){var t=this.__data__;if(Bge){var n=t[e];return n===zge?void 0:n}return Uge.call(t,e)?t[e]:void 0}var Wge=qge,Hge=Ub,Gge=Object.prototype,Kge=Gge.hasOwnProperty;function Yge(e){var t=this.__data__;return Hge?t[e]!==void 0:Kge.call(t,e)}var Qge=Yge,Xge=Ub,Jge="__lodash_hash_undefined__";function Zge(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Xge&&t===void 0?Jge:t,this}var eve=Zge,tve=Rge,nve=Fge,rve=Wge,sve=Qge,ive=eve;function nm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}nm.prototype.clear=tve;nm.prototype.delete=nve;nm.prototype.get=rve;nm.prototype.has=sve;nm.prototype.set=ive;var ave=nm;function ove(){this.__data__=[],this.size=0}var lve=ove;function cve(e,t){return e===t||e!==e&&t!==t}var DE=cve,uve=DE;function dve(e,t){for(var n=e.length;n--;)if(uve(e[n][0],t))return n;return-1}var qb=dve,hve=qb,fve=Array.prototype,mve=fve.splice;function pve(e){var t=this.__data__,n=hve(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():mve.call(t,n,1),--this.size,!0}var gve=pve,vve=qb;function xve(e){var t=this.__data__,n=vve(t,e);return n<0?void 0:t[n][1]}var yve=xve,jve=qb;function bve(e){return jve(this.__data__,e)>-1}var wve=bve,Nve=qb;function Sve(e,t){var n=this.__data__,s=Nve(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var Cve=Sve,_ve=lve,Pve=gve,Ave=yve,Eve=wve,kve=Cve;function rm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}rm.prototype.clear=_ve;rm.prototype.delete=Pve;rm.prototype.get=Ave;rm.prototype.has=Eve;rm.prototype.set=kve;var Wb=rm,Tve=fd,Ove=bo,Dve=Tve(Ove,"Map"),ME=Dve,WI=ave,Mve=Wb,Ive=ME;function $ve(){this.size=0,this.__data__={hash:new WI,map:new(Ive||Mve),string:new WI}}var Rve=$ve;function Lve(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Fve=Lve,Bve=Fve;function zve(e,t){var n=e.__data__;return Bve(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Hb=zve,Vve=Hb;function Uve(e){var t=Vve(this,e).delete(e);return this.size-=t?1:0,t}var qve=Uve,Wve=Hb;function Hve(e){return Wve(this,e).get(e)}var Gve=Hve,Kve=Hb;function Yve(e){return Kve(this,e).has(e)}var Qve=Yve,Xve=Hb;function Jve(e,t){var n=Xve(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var Zve=Jve,exe=Rve,txe=qve,nxe=Gve,rxe=Qve,sxe=Zve;function sm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}sm.prototype.clear=exe;sm.prototype.delete=txe;sm.prototype.get=nxe;sm.prototype.has=rxe;sm.prototype.set=sxe;var IE=sm,yU=IE,ixe="Expected a function";function $E(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ixe);var n=function(){var s=arguments,i=t?t.apply(this,s):s[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,s);return n.cache=a.set(i,o)||a,o};return n.cache=new($E.Cache||yU),n}$E.Cache=yU;var jU=$E;const axe=pn(jU);var oxe=jU,lxe=500;function cxe(e){var t=oxe(e,function(s){return n.size===lxe&&n.clear(),s}),n=t.cache;return t}var uxe=cxe,dxe=uxe,hxe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fxe=/\\(\\)?/g,mxe=dxe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(hxe,function(n,s,i,a){t.push(i?a.replace(fxe,"$1"):s||n)}),t}),pxe=mxe;function gxe(e,t){for(var n=-1,s=e==null?0:e.length,i=Array(s);++n<s;)i[n]=t(e[n],n,e);return i}var RE=gxe,HI=Cv,vxe=RE,xxe=ri,yxe=em,jxe=1/0,GI=HI?HI.prototype:void 0,KI=GI?GI.toString:void 0;function bU(e){if(typeof e=="string")return e;if(xxe(e))return vxe(e,bU)+"";if(yxe(e))return KI?KI.call(e):"";var t=e+"";return t=="0"&&1/e==-jxe?"-0":t}var bxe=bU,wxe=bxe;function Nxe(e){return e==null?"":wxe(e)}var wU=Nxe,Sxe=ri,Cxe=TE,_xe=pxe,Pxe=wU;function Axe(e,t){return Sxe(e)?e:Cxe(e,t)?[e]:_xe(Pxe(e))}var NU=Axe,Exe=em,kxe=1/0;function Txe(e){if(typeof e=="string"||Exe(e))return e;var t=e+"";return t=="0"&&1/e==-kxe?"-0":t}var Gb=Txe,Oxe=NU,Dxe=Gb;function Mxe(e,t){t=Oxe(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[Dxe(t[n++])];return n&&n==s?e:void 0}var LE=Mxe,Ixe=LE;function $xe(e,t,n){var s=e==null?void 0:Ixe(e,t);return s===void 0?n:s}var SU=$xe;const wi=pn(SU);function Rxe(e){return e==null}var Lxe=Rxe;const At=pn(Lxe);var Fxe=gl,Bxe=ri,zxe=vl,Vxe="[object String]";function Uxe(e){return typeof e=="string"||!Bxe(e)&&zxe(e)&&Fxe(e)==Vxe}var qxe=Uxe;const Qu=pn(qxe);var CU={exports:{}},wn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE=Symbol.for("react.element"),BE=Symbol.for("react.portal"),Kb=Symbol.for("react.fragment"),Yb=Symbol.for("react.strict_mode"),Qb=Symbol.for("react.profiler"),Xb=Symbol.for("react.provider"),Jb=Symbol.for("react.context"),Wxe=Symbol.for("react.server_context"),Zb=Symbol.for("react.forward_ref"),ew=Symbol.for("react.suspense"),tw=Symbol.for("react.suspense_list"),nw=Symbol.for("react.memo"),rw=Symbol.for("react.lazy"),Hxe=Symbol.for("react.offscreen"),_U;_U=Symbol.for("react.module.reference");function na(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case FE:switch(e=e.type,e){case Kb:case Qb:case Yb:case ew:case tw:return e;default:switch(e=e&&e.$$typeof,e){case Wxe:case Jb:case Zb:case rw:case nw:case Xb:return e;default:return t}}case BE:return t}}}wn.ContextConsumer=Jb;wn.ContextProvider=Xb;wn.Element=FE;wn.ForwardRef=Zb;wn.Fragment=Kb;wn.Lazy=rw;wn.Memo=nw;wn.Portal=BE;wn.Profiler=Qb;wn.StrictMode=Yb;wn.Suspense=ew;wn.SuspenseList=tw;wn.isAsyncMode=function(){return!1};wn.isConcurrentMode=function(){return!1};wn.isContextConsumer=function(e){return na(e)===Jb};wn.isContextProvider=function(e){return na(e)===Xb};wn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===FE};wn.isForwardRef=function(e){return na(e)===Zb};wn.isFragment=function(e){return na(e)===Kb};wn.isLazy=function(e){return na(e)===rw};wn.isMemo=function(e){return na(e)===nw};wn.isPortal=function(e){return na(e)===BE};wn.isProfiler=function(e){return na(e)===Qb};wn.isStrictMode=function(e){return na(e)===Yb};wn.isSuspense=function(e){return na(e)===ew};wn.isSuspenseList=function(e){return na(e)===tw};wn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Kb||e===Qb||e===Yb||e===ew||e===tw||e===Hxe||typeof e=="object"&&e!==null&&(e.$$typeof===rw||e.$$typeof===nw||e.$$typeof===Xb||e.$$typeof===Jb||e.$$typeof===Zb||e.$$typeof===_U||e.getModuleId!==void 0)};wn.typeOf=na;CU.exports=wn;var Gxe=CU.exports,Kxe=gl,Yxe=vl,Qxe="[object Number]";function Xxe(e){return typeof e=="number"||Yxe(e)&&Kxe(e)==Qxe}var PU=Xxe;const Jxe=pn(PU);var Zxe=PU;function eye(e){return Zxe(e)&&e!=+e}var tye=eye;const im=pn(tye);var Es=function(t){return t===0?0:t>0?1:-1},xu=function(t){return Qu(t)&&t.indexOf("%")===t.length-1},Ve=function(t){return Jxe(t)&&!im(t)},nye=function(t){return At(t)},Mr=function(t){return Ve(t)||Qu(t)},rye=0,md=function(t){var n=++rye;return"".concat(t||"").concat(n)},ks=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(t)&&!Qu(t))return s;var a;if(xu(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return im(a)&&(a=s),i&&a>n&&(a=n),a},Wl=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},sye=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,s={},i=0;i<n;i++)if(!s[t[i]])s[t[i]]=!0;else return!0;return!1},Or=function(t,n){return Ve(t)&&Ve(n)?function(s){return t+s*(n-t)}:function(){return n}};function F0(e,t,n){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):wi(s,t))===n})}var iye=function(t,n){return Ve(t)&&Ve(n)?t-n:Qu(t)&&Qu(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Th(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function W2(e){"@babel/helpers - typeof";return W2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W2(e)}var aye=["viewBox","children"],oye=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YI=["points","pathLength"],jS={svg:aye,polygon:YI,polyline:YI},zE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],B0=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(w.isValidElement(t)&&(s=t.props),!tm(s))return null;var i={};return Object.keys(s).forEach(function(a){zE.includes(a)&&(i[a]=n||function(o){return s[a](s,o)})}),i},lye=function(t,n,s){return function(i){return t(n,s,i),null}},Xu=function(t,n,s){if(!tm(t)||W2(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];zE.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=lye(o,n,s))}),i},cye=["children"],uye=["children"];function QI(e,t){if(e==null)return{};var n=dye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function dye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function H2(e){"@babel/helpers - typeof";return H2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H2(e)}var XI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},JI=null,bS=null,VE=function e(t){if(t===JI&&Array.isArray(bS))return bS;var n=[];return w.Children.forEach(t,function(s){At(s)||(Gxe.isFragment(s)?n=n.concat(e(s.props.children)):n.push(s))}),bS=n,JI=t,n};function Ni(e,t){var n=[],s=[];return Array.isArray(t)?s=t.map(function(i){return Xo(i)}):s=[Xo(t)],VE(e).forEach(function(i){var a=wi(i,"type.displayName")||wi(i,"type.name");s.indexOf(a)!==-1&&n.push(i)}),n}function mi(e,t){var n=Ni(e,t);return n&&n[0]}var ZI=function(t){if(!t||!t.props)return!1;var n=t.props,s=n.width,i=n.height;return!(!Ve(s)||s<=0||!Ve(i)||i<=0)},hye=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fye=function(t){return t&&t.type&&Qu(t.type)&&hye.indexOf(t.type)>=0},AU=function(t){return t&&H2(t)==="object"&&"clipDot"in t},mye=function(t,n,s,i){var a,o=(a=jS==null?void 0:jS[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!yt(t)&&(i&&o.includes(n)||oye.includes(n))||s&&zE.includes(n)},ct=function(t,n,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(w.isValidElement(t)&&(i=t.props),!tm(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;mye((l=i)===null||l===void 0?void 0:l[o],o,n,s)&&(a[o]=i[o])}),a},G2=function e(t,n){if(t===n)return!0;var s=w.Children.count(t);if(s!==w.Children.count(n))return!1;if(s===0)return!0;if(s===1)return e4(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<s;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!e4(a,o))return!1}return!0},e4=function(t,n){if(At(t)&&At(n))return!0;if(!At(t)&&!At(n)){var s=t.props||{},i=s.children,a=QI(s,cye),o=n.props||{},l=o.children,c=QI(o,uye);return i&&l?Th(a,c)&&G2(i,l):!i&&!l?Th(a,c):!1}return!1},t4=function(t,n){var s=[],i={};return VE(t).forEach(function(a,o){if(fye(a))s.push(a);else if(a){var l=Xo(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,o);s.push(f),i[l]=!0}}}),s},pye=function(t){var n=t&&t.type;return n&&XI[n]?XI[n]:null},gye=function(t,n){return VE(n).indexOf(t)},vye=["children","width","height","viewBox","className","style","title","desc"];function K2(){return K2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},K2.apply(this,arguments)}function xye(e,t){if(e==null)return{};var n=yye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function yye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Y2(e){var t=e.children,n=e.width,s=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=xye(e,vye),d=i||{width:n,height:s,x:0,y:0},f=Et("recharts-surface",a);return q.createElement("svg",K2({},ct(u,!0,"svg"),{className:f,width:n,height:s,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,l),q.createElement("desc",null,c),t)}var jye=["children","className"];function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Q2.apply(this,arguments)}function bye(e,t){if(e==null)return{};var n=wye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function wye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Yt=q.forwardRef(function(e,t){var n=e.children,s=e.className,i=bye(e,jye),a=Et("recharts-layer",s);return q.createElement("g",Q2({className:a},ct(i,!0),{ref:t}),n)}),Ea=function(t,n){for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a]};function Nye(e,t,n){var s=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++s<i;)a[s]=e[s+t];return a}var Sye=Nye,Cye=Sye;function _ye(e,t,n){var s=e.length;return n=n===void 0?s:n,!t&&n>=s?e:Cye(e,t,n)}var Pye=_ye,Aye="\\ud800-\\udfff",Eye="\\u0300-\\u036f",kye="\\ufe20-\\ufe2f",Tye="\\u20d0-\\u20ff",Oye=Eye+kye+Tye,Dye="\\ufe0e\\ufe0f",Mye="\\u200d",Iye=RegExp("["+Mye+Aye+Oye+Dye+"]");function $ye(e){return Iye.test(e)}var EU=$ye;function Rye(e){return e.split("")}var Lye=Rye,kU="\\ud800-\\udfff",Fye="\\u0300-\\u036f",Bye="\\ufe20-\\ufe2f",zye="\\u20d0-\\u20ff",Vye=Fye+Bye+zye,Uye="\\ufe0e\\ufe0f",qye="["+kU+"]",X2="["+Vye+"]",J2="\\ud83c[\\udffb-\\udfff]",Wye="(?:"+X2+"|"+J2+")",TU="[^"+kU+"]",OU="(?:\\ud83c[\\udde6-\\uddff]){2}",DU="[\\ud800-\\udbff][\\udc00-\\udfff]",Hye="\\u200d",MU=Wye+"?",IU="["+Uye+"]?",Gye="(?:"+Hye+"(?:"+[TU,OU,DU].join("|")+")"+IU+MU+")*",Kye=IU+MU+Gye,Yye="(?:"+[TU+X2+"?",X2,OU,DU,qye].join("|")+")",Qye=RegExp(J2+"(?="+J2+")|"+Yye+Kye,"g");function Xye(e){return e.match(Qye)||[]}var Jye=Xye,Zye=Lye,e0e=EU,t0e=Jye;function n0e(e){return e0e(e)?t0e(e):Zye(e)}var r0e=n0e,s0e=Pye,i0e=EU,a0e=r0e,o0e=wU;function l0e(e){return function(t){t=o0e(t);var n=i0e(t)?a0e(t):void 0,s=n?n[0]:t.charAt(0),i=n?s0e(n,1).join(""):t.slice(1);return s[e]()+i}}var c0e=l0e,u0e=c0e,d0e=u0e("toUpperCase"),h0e=d0e;const sw=pn(h0e);function Dn(e){return function(){return e}}const $U=Math.cos,z0=Math.sin,za=Math.sqrt,V0=Math.PI,iw=2*V0,Z2=Math.PI,e_=2*Z2,lu=1e-6,f0e=e_-lu;function RU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function m0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return RU;const n=10**t;return function(s){this._+=s[0];for(let i=1,a=s.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+s[i]}}class p0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?RU:m0e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,s,i){this._append`Q${+t},${+n},${this._x1=+s},${this._y1=+i}`}bezierCurveTo(t,n,s,i,a,o){this._append`C${+t},${+n},${+s},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,s,i,a){if(t=+t,n=+n,s=+s,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=s-t,u=i-n,d=o-t,f=l-n,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>lu)if(!(Math.abs(f*c-u*d)>lu)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let g=s-o,x=i-l,v=c*c+u*u,y=g*g+x*x,N=Math.sqrt(v),j=Math.sqrt(m),b=a*Math.tan((Z2-Math.acos((v+m-y)/(2*N*j)))/2),_=b/j,C=b/N;Math.abs(_-1)>lu&&this._append`L${t+_*d},${n+_*f}`,this._append`A${a},${a},0,0,${+(f*g>d*x)},${this._x1=t+C*c},${this._y1=n+C*u}`}}arc(t,n,s,i,a,o){if(t=+t,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(i),c=s*Math.sin(i),u=t+l,d=n+c,f=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>lu||Math.abs(this._y1-d)>lu)&&this._append`L${u},${d}`,s&&(m<0&&(m=m%e_+e_),m>f0e?this._append`A${s},${s},0,1,${f},${t-l},${n-c}A${s},${s},0,1,${f},${this._x1=u},${this._y1=d}`:m>lu&&this._append`A${s},${s},0,${+(m>=Z2)},${f},${this._x1=t+s*Math.cos(a)},${this._y1=n+s*Math.sin(a)}`)}rect(t,n,s,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${s=+s}v${+i}h${-s}Z`}toString(){return this._}}function UE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);t=s}return e},()=>new p0e(t)}function qE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function LU(e){this._context=e}LU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function aw(e){return new LU(e)}function FU(e){return e[0]}function BU(e){return e[1]}function zU(e,t){var n=Dn(!0),s=null,i=aw,a=null,o=UE(l);e=typeof e=="function"?e:e===void 0?FU:Dn(e),t=typeof t=="function"?t:t===void 0?BU:Dn(t);function l(c){var u,d=(c=qE(c)).length,f,m=!1,g;for(s==null&&(a=i(g=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(f,u,c),+t(f,u,c));if(g)return a=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Dn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Dn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Dn(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,s!=null&&(a=i(s)),l):i},l.context=function(c){return arguments.length?(c==null?s=a=null:a=i(s=c),l):s},l}function py(e,t,n){var s=null,i=Dn(!0),a=null,o=aw,l=null,c=UE(u);e=typeof e=="function"?e:e===void 0?FU:Dn(+e),t=typeof t=="function"?t:Dn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?BU:Dn(+n);function u(f){var m,g,x,v=(f=qE(f)).length,y,N=!1,j,b=new Array(v),_=new Array(v);for(a==null&&(l=o(j=c())),m=0;m<=v;++m){if(!(m<v&&i(y=f[m],m,f))===N)if(N=!N)g=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=g;--x)l.point(b[x],_[x]);l.lineEnd(),l.areaEnd()}N&&(b[m]=+e(y,m,f),_[m]=+t(y,m,f),l.point(s?+s(y,m,f):b[m],n?+n(y,m,f):_[m]))}if(j)return l=null,j+""||null}function d(){return zU().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Dn(+f),s=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Dn(+f),u):e},u.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Dn(+f),u):s},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Dn(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Dn(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Dn(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(s).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Dn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class VU{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function g0e(e){return new VU(e,!0)}function v0e(e){return new VU(e,!1)}const WE={draw(e,t){const n=za(t/V0);e.moveTo(n,0),e.arc(0,0,n,0,iw)}},x0e={draw(e,t){const n=za(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},UU=za(1/3),y0e=UU*2,j0e={draw(e,t){const n=za(t/y0e),s=n*UU;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},b0e={draw(e,t){const n=za(t),s=-n/2;e.rect(s,s,n,n)}},w0e=.8908130915292852,qU=z0(V0/10)/z0(7*V0/10),N0e=z0(iw/10)*qU,S0e=-$U(iw/10)*qU,C0e={draw(e,t){const n=za(t*w0e),s=N0e*n,i=S0e*n;e.moveTo(0,-n),e.lineTo(s,i);for(let a=1;a<5;++a){const o=iw*a/5,l=$U(o),c=z0(o);e.lineTo(c*n,-l*n),e.lineTo(l*s-c*i,c*s+l*i)}e.closePath()}},wS=za(3),_0e={draw(e,t){const n=-za(t/(wS*3));e.moveTo(0,n*2),e.lineTo(-wS*n,-n),e.lineTo(wS*n,-n),e.closePath()}},Ri=-.5,Li=za(3)/2,t_=1/za(12),P0e=(t_/2+1)*3,A0e={draw(e,t){const n=za(t/P0e),s=n/2,i=n*t_,a=s,o=n*t_+n,l=-a,c=o;e.moveTo(s,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Ri*s-Li*i,Li*s+Ri*i),e.lineTo(Ri*a-Li*o,Li*a+Ri*o),e.lineTo(Ri*l-Li*c,Li*l+Ri*c),e.lineTo(Ri*s+Li*i,Ri*i-Li*s),e.lineTo(Ri*a+Li*o,Ri*o-Li*a),e.lineTo(Ri*l+Li*c,Ri*c-Li*l),e.closePath()}};function E0e(e,t){let n=null,s=UE(i);e=typeof e=="function"?e:Dn(e||WE),t=typeof t=="function"?t:Dn(t===void 0?64:+t);function i(){let a;if(n||(n=a=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Dn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Dn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function U0(){}function q0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function WU(e){this._context=e}WU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:q0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:q0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k0e(e){return new WU(e)}function HU(e){this._context=e}HU.prototype={areaStart:U0,areaEnd:U0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:q0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function T0e(e){return new HU(e)}function GU(e){this._context=e}GU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:q0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function O0e(e){return new GU(e)}function KU(e){this._context=e}KU.prototype={areaStart:U0,areaEnd:U0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function D0e(e){return new KU(e)}function n4(e){return e<0?-1:1}function r4(e,t,n){var s=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(s||i<0&&-0),o=(n-e._y1)/(i||s<0&&-0),l=(a*i+o*s)/(s+i);return(n4(a)+n4(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function s4(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function NS(e,t,n){var s=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-s)/3;e._context.bezierCurveTo(s+l,i+l*t,a-l,o-l*n,a,o)}function W0(e){this._context=e}W0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:NS(this,this._t0,s4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,NS(this,s4(this,n=r4(this,e,t)),n);break;default:NS(this,this._t0,n=r4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function YU(e){this._context=new QU(e)}(YU.prototype=Object.create(W0.prototype)).point=function(e,t){W0.prototype.point.call(this,t,e)};function QU(e){this._context=e}QU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,i,a){this._context.bezierCurveTo(t,e,s,n,a,i)}};function M0e(e){return new W0(e)}function I0e(e){return new YU(e)}function XU(e){this._context=e}XU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=i4(e),i=i4(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(s[0][a],i[0][a],s[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function i4(e){var t,n=e.length-1,s,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=i[t]/a[t-1],a[t]-=s,o[t]-=s*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function $0e(e){return new XU(e)}function ow(e,t){this._context=e,this._t=t}ow.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function R0e(e){return new ow(e,.5)}function L0e(e){return new ow(e,0)}function F0e(e){return new ow(e,1)}function uf(e,t){if((o=e.length)>1)for(var n=1,s,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],s=0;s<l;++s)a[s][1]+=a[s][0]=isNaN(i[s][1])?i[s][0]:i[s][1]}function n_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function B0e(e,t){return e[t]}function z0e(e){const t=[];return t.key=e,t}function V0e(){var e=Dn([]),t=n_,n=uf,s=B0e;function i(a){var o=Array.from(e.apply(this,arguments),z0e),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+s(f,o[l].key,u,a)]).data=f;for(l=0,d=qE(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Dn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(s=typeof a=="function"?a:Dn(+a),i):s},i.order=function(a){return arguments.length?(t=a==null?n_:typeof a=="function"?a:Dn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??uf,i):n},i}function U0e(e,t){if((s=e.length)>0){for(var n,s,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<s;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<s;++n)e[n][i][1]/=o}uf(e,t)}}function q0e(e,t){if((i=e.length)>0){for(var n=0,s=e[t[0]],i,a=s.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}uf(e,t)}}function W0e(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,s=1,i,a,o;s<a;++s){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[s][1]||0,m=d[s-1][1]||0,g=(f-m)/2,x=0;x<l;++x){var v=e[t[x]],y=v[s][1]||0,N=v[s-1][1]||0;g+=y-N}c+=f,u+=g*f}i[s-1][1]+=i[s-1][0]=n,c&&(n-=u/c)}i[s-1][1]+=i[s-1][0]=n,uf(e,t)}}function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}var H0e=["type","size","sizeType"];function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r_.apply(this,arguments)}function a4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function o4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(n),!0).forEach(function(s){G0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function G0e(e,t,n){return t=K0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K0e(e){var t=Y0e(e,"string");return gg(t)=="symbol"?t:t+""}function Y0e(e,t){if(gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(gg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q0e(e,t){if(e==null)return{};var n=X0e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function X0e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var JU={symbolCircle:WE,symbolCross:x0e,symbolDiamond:j0e,symbolSquare:b0e,symbolStar:C0e,symbolTriangle:_0e,symbolWye:A0e},J0e=Math.PI/180,Z0e=function(t){var n="symbol".concat(sw(t));return JU[n]||WE},eje=function(t,n,s){if(n==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*J0e;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},tje=function(t,n){JU["symbol".concat(sw(t))]=n},HE=function(t){var n=t.type,s=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=Q0e(t,H0e),u=o4(o4({},c),{},{type:s,size:a,sizeType:l}),d=function(){var y=Z0e(s),N=E0e().type(y).size(eje(a,l,s));return N()},f=u.className,m=u.cx,g=u.cy,x=ct(u,!0);return m===+m&&g===+g&&a===+a?q.createElement("path",r_({},x,{className:Et("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};HE.registerSymbol=tje;function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},s_.apply(this,arguments)}function l4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function nje(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(n),!0).forEach(function(s){vg(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function rje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sje(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,eq(s.key),s)}}function ije(e,t,n){return t&&sje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aje(e,t,n){return t=H0(t),oje(e,ZU()?Reflect.construct(t,n||[],H0(e).constructor):t.apply(e,n))}function oje(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lje(e)}function lje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZU=function(){return!!e})()}function H0(e){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H0(e)}function cje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i_(e,t)}function i_(e,t){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},i_(e,t)}function vg(e,t,n){return t=eq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eq(e){var t=uje(e,"string");return df(t)=="symbol"?t:t+""}function uje(e,t){if(df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(df(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fi=32,GE=function(e){function t(){return rje(this,t),aje(this,t,arguments)}return cje(t,e),ije(t,[{key:"renderIcon",value:function(s){var i=this.props.inactiveColor,a=Fi/2,o=Fi/6,l=Fi/3,c=s.inactive?i:s.color;if(s.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:a,x2:Fi,y2:a,className:"recharts-legend-icon"});if(s.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Fi,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(s.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Fi/8,"h").concat(Fi,"v").concat(Fi*3/4,"h").concat(-Fi,"z"),className:"recharts-legend-icon"});if(q.isValidElement(s.legendIcon)){var u=nje({},s);return delete u.legendIcon,q.cloneElement(s.legendIcon,u)}return q.createElement(HE,{fill:c,cx:a,cy:a,size:Fi,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Fi,height:Fi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,x){var v=g.formatter||c,y=Et(vg(vg({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var N=yt(g.value)?null:g.value;Ea(!yt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=g.inactive?u:g.color;return q.createElement("li",s_({className:y,style:f,key:"legend-item-".concat(x)},Xu(s.props,g,x)),q.createElement(Y2,{width:o,height:o,viewBox:d,style:m},s.renderIcon(g)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},v?v(N,g,x):N))})}},{key:"render",value:function(){var s=this.props,i=s.payload,a=s.layout,o=s.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);vg(GE,"displayName","Legend");vg(GE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var dje=Wb;function hje(){this.__data__=new dje,this.size=0}var fje=hje;function mje(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var pje=mje;function gje(e){return this.__data__.get(e)}var vje=gje;function xje(e){return this.__data__.has(e)}var yje=xje,jje=Wb,bje=ME,wje=IE,Nje=200;function Sje(e,t){var n=this.__data__;if(n instanceof jje){var s=n.__data__;if(!bje||s.length<Nje-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new wje(s)}return n.set(e,t),this.size=n.size,this}var Cje=Sje,_je=Wb,Pje=fje,Aje=pje,Eje=vje,kje=yje,Tje=Cje;function am(e){var t=this.__data__=new _je(e);this.size=t.size}am.prototype.clear=Pje;am.prototype.delete=Aje;am.prototype.get=Eje;am.prototype.has=kje;am.prototype.set=Tje;var tq=am,Oje="__lodash_hash_undefined__";function Dje(e){return this.__data__.set(e,Oje),this}var Mje=Dje;function Ije(e){return this.__data__.has(e)}var $je=Ije,Rje=IE,Lje=Mje,Fje=$je;function G0(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Rje;++t<n;)this.add(e[t])}G0.prototype.add=G0.prototype.push=Lje;G0.prototype.has=Fje;var nq=G0;function Bje(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var rq=Bje;function zje(e,t){return e.has(t)}var sq=zje,Vje=nq,Uje=rq,qje=sq,Wje=1,Hje=2;function Gje(e,t,n,s,i,a){var o=n&Wje,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,m=!0,g=n&Hje?new Vje:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var x=e[f],v=t[f];if(s)var y=o?s(v,x,f,t,e,a):s(x,v,f,e,t,a);if(y!==void 0){if(y)continue;m=!1;break}if(g){if(!Uje(t,function(N,j){if(!qje(g,j)&&(x===N||i(x,N,n,s,a)))return g.push(j)})){m=!1;break}}else if(!(x===v||i(x,v,n,s,a))){m=!1;break}}return a.delete(e),a.delete(t),m}var iq=Gje,Kje=bo,Yje=Kje.Uint8Array,Qje=Yje;function Xje(e){var t=-1,n=Array(e.size);return e.forEach(function(s,i){n[++t]=[i,s]}),n}var Jje=Xje;function Zje(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var KE=Zje,c4=Cv,u4=Qje,ebe=DE,tbe=iq,nbe=Jje,rbe=KE,sbe=1,ibe=2,abe="[object Boolean]",obe="[object Date]",lbe="[object Error]",cbe="[object Map]",ube="[object Number]",dbe="[object RegExp]",hbe="[object Set]",fbe="[object String]",mbe="[object Symbol]",pbe="[object ArrayBuffer]",gbe="[object DataView]",d4=c4?c4.prototype:void 0,SS=d4?d4.valueOf:void 0;function vbe(e,t,n,s,i,a,o){switch(n){case gbe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case pbe:return!(e.byteLength!=t.byteLength||!a(new u4(e),new u4(t)));case abe:case obe:case ube:return ebe(+e,+t);case lbe:return e.name==t.name&&e.message==t.message;case dbe:case fbe:return e==t+"";case cbe:var l=nbe;case hbe:var c=s&sbe;if(l||(l=rbe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;s|=ibe,o.set(e,t);var d=tbe(l(e),l(t),s,i,a,o);return o.delete(e),d;case mbe:if(SS)return SS.call(e)==SS.call(t)}return!1}var xbe=vbe;function ybe(e,t){for(var n=-1,s=t.length,i=e.length;++n<s;)e[i+n]=t[n];return e}var aq=ybe,jbe=aq,bbe=ri;function wbe(e,t,n){var s=t(e);return bbe(e)?s:jbe(s,n(e))}var Nbe=wbe;function Sbe(e,t){for(var n=-1,s=e==null?0:e.length,i=0,a=[];++n<s;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var Cbe=Sbe;function _be(){return[]}var Pbe=_be,Abe=Cbe,Ebe=Pbe,kbe=Object.prototype,Tbe=kbe.propertyIsEnumerable,h4=Object.getOwnPropertySymbols,Obe=h4?function(e){return e==null?[]:(e=Object(e),Abe(h4(e),function(t){return Tbe.call(e,t)}))}:Ebe,Dbe=Obe;function Mbe(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var Ibe=Mbe,$be=gl,Rbe=vl,Lbe="[object Arguments]";function Fbe(e){return Rbe(e)&&$be(e)==Lbe}var Bbe=Fbe,f4=Bbe,zbe=vl,oq=Object.prototype,Vbe=oq.hasOwnProperty,Ube=oq.propertyIsEnumerable,qbe=f4(function(){return arguments}())?f4:function(e){return zbe(e)&&Vbe.call(e,"callee")&&!Ube.call(e,"callee")},YE=qbe,K0={exports:{}};function Wbe(){return!1}var Hbe=Wbe;K0.exports;(function(e,t){var n=bo,s=Hbe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||s;e.exports=u})(K0,K0.exports);var lq=K0.exports,Gbe=9007199254740991,Kbe=/^(?:0|[1-9]\d*)$/;function Ybe(e,t){var n=typeof e;return t=t??Gbe,!!t&&(n=="number"||n!="symbol"&&Kbe.test(e))&&e>-1&&e%1==0&&e<t}var QE=Ybe,Qbe=9007199254740991;function Xbe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Qbe}var XE=Xbe,Jbe=gl,Zbe=XE,ewe=vl,twe="[object Arguments]",nwe="[object Array]",rwe="[object Boolean]",swe="[object Date]",iwe="[object Error]",awe="[object Function]",owe="[object Map]",lwe="[object Number]",cwe="[object Object]",uwe="[object RegExp]",dwe="[object Set]",hwe="[object String]",fwe="[object WeakMap]",mwe="[object ArrayBuffer]",pwe="[object DataView]",gwe="[object Float32Array]",vwe="[object Float64Array]",xwe="[object Int8Array]",ywe="[object Int16Array]",jwe="[object Int32Array]",bwe="[object Uint8Array]",wwe="[object Uint8ClampedArray]",Nwe="[object Uint16Array]",Swe="[object Uint32Array]",Bn={};Bn[gwe]=Bn[vwe]=Bn[xwe]=Bn[ywe]=Bn[jwe]=Bn[bwe]=Bn[wwe]=Bn[Nwe]=Bn[Swe]=!0;Bn[twe]=Bn[nwe]=Bn[mwe]=Bn[rwe]=Bn[pwe]=Bn[swe]=Bn[iwe]=Bn[awe]=Bn[owe]=Bn[lwe]=Bn[cwe]=Bn[uwe]=Bn[dwe]=Bn[hwe]=Bn[fwe]=!1;function Cwe(e){return ewe(e)&&Zbe(e.length)&&!!Bn[Jbe(e)]}var _we=Cwe;function Pwe(e){return function(t){return e(t)}}var cq=Pwe,Y0={exports:{}};Y0.exports;(function(e,t){var n=gU,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===s,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Y0,Y0.exports);var Awe=Y0.exports,Ewe=_we,kwe=cq,m4=Awe,p4=m4&&m4.isTypedArray,Twe=p4?kwe(p4):Ewe,uq=Twe,Owe=Ibe,Dwe=YE,Mwe=ri,Iwe=lq,$we=QE,Rwe=uq,Lwe=Object.prototype,Fwe=Lwe.hasOwnProperty;function Bwe(e,t){var n=Mwe(e),s=!n&&Dwe(e),i=!n&&!s&&Iwe(e),a=!n&&!s&&!i&&Rwe(e),o=n||s||i||a,l=o?Owe(e.length,String):[],c=l.length;for(var u in e)(t||Fwe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||$we(u,c)))&&l.push(u);return l}var zwe=Bwe,Vwe=Object.prototype;function Uwe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Vwe;return e===n}var qwe=Uwe;function Wwe(e,t){return function(n){return e(t(n))}}var dq=Wwe,Hwe=dq,Gwe=Hwe(Object.keys,Object),Kwe=Gwe,Ywe=qwe,Qwe=Kwe,Xwe=Object.prototype,Jwe=Xwe.hasOwnProperty;function Zwe(e){if(!Ywe(e))return Qwe(e);var t=[];for(var n in Object(e))Jwe.call(e,n)&&n!="constructor"&&t.push(n);return t}var e1e=Zwe,t1e=OE,n1e=XE;function r1e(e){return e!=null&&n1e(e.length)&&!t1e(e)}var _v=r1e,s1e=zwe,i1e=e1e,a1e=_v;function o1e(e){return a1e(e)?s1e(e):i1e(e)}var lw=o1e,l1e=Nbe,c1e=Dbe,u1e=lw;function d1e(e){return l1e(e,u1e,c1e)}var h1e=d1e,g4=h1e,f1e=1,m1e=Object.prototype,p1e=m1e.hasOwnProperty;function g1e(e,t,n,s,i,a){var o=n&f1e,l=g4(e),c=l.length,u=g4(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:p1e.call(t,m)))return!1}var g=a.get(e),x=a.get(t);if(g&&x)return g==t&&x==e;var v=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){m=l[f];var N=e[m],j=t[m];if(s)var b=o?s(j,N,m,t,e,a):s(N,j,m,e,t,a);if(!(b===void 0?N===j||i(N,j,n,s,a):b)){v=!1;break}y||(y=m=="constructor")}if(v&&!y){var _=e.constructor,C=t.constructor;_!=C&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof C=="function"&&C instanceof C)&&(v=!1)}return a.delete(e),a.delete(t),v}var v1e=g1e,x1e=fd,y1e=bo,j1e=x1e(y1e,"DataView"),b1e=j1e,w1e=fd,N1e=bo,S1e=w1e(N1e,"Promise"),C1e=S1e,_1e=fd,P1e=bo,A1e=_1e(P1e,"Set"),hq=A1e,E1e=fd,k1e=bo,T1e=E1e(k1e,"WeakMap"),O1e=T1e,a_=b1e,o_=ME,l_=C1e,c_=hq,u_=O1e,fq=gl,om=xU,v4="[object Map]",D1e="[object Object]",x4="[object Promise]",y4="[object Set]",j4="[object WeakMap]",b4="[object DataView]",M1e=om(a_),I1e=om(o_),$1e=om(l_),R1e=om(c_),L1e=om(u_),cu=fq;(a_&&cu(new a_(new ArrayBuffer(1)))!=b4||o_&&cu(new o_)!=v4||l_&&cu(l_.resolve())!=x4||c_&&cu(new c_)!=y4||u_&&cu(new u_)!=j4)&&(cu=function(e){var t=fq(e),n=t==D1e?e.constructor:void 0,s=n?om(n):"";if(s)switch(s){case M1e:return b4;case I1e:return v4;case $1e:return x4;case R1e:return y4;case L1e:return j4}return t});var F1e=cu,CS=tq,B1e=iq,z1e=xbe,V1e=v1e,w4=F1e,N4=ri,S4=lq,U1e=uq,q1e=1,C4="[object Arguments]",_4="[object Array]",gy="[object Object]",W1e=Object.prototype,P4=W1e.hasOwnProperty;function H1e(e,t,n,s,i,a){var o=N4(e),l=N4(t),c=o?_4:w4(e),u=l?_4:w4(t);c=c==C4?gy:c,u=u==C4?gy:u;var d=c==gy,f=u==gy,m=c==u;if(m&&S4(e)){if(!S4(t))return!1;o=!0,d=!1}if(m&&!d)return a||(a=new CS),o||U1e(e)?B1e(e,t,n,s,i,a):z1e(e,t,c,n,s,i,a);if(!(n&q1e)){var g=d&&P4.call(e,"__wrapped__"),x=f&&P4.call(t,"__wrapped__");if(g||x){var v=g?e.value():e,y=x?t.value():t;return a||(a=new CS),i(v,y,n,s,a)}}return m?(a||(a=new CS),V1e(e,t,n,s,i,a)):!1}var G1e=H1e,K1e=G1e,A4=vl;function mq(e,t,n,s,i){return e===t?!0:e==null||t==null||!A4(e)&&!A4(t)?e!==e&&t!==t:K1e(e,t,n,s,mq,i)}var JE=mq,Y1e=tq,Q1e=JE,X1e=1,J1e=2;function Z1e(e,t,n,s){var i=n.length,a=i,o=!s;if(e==null)return!a;for(e=Object(e);i--;){var l=n[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=n[i];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Y1e;if(s)var m=s(u,d,c,e,t,f);if(!(m===void 0?Q1e(d,u,X1e|J1e,s,f):m))return!1}}return!0}var eNe=Z1e,tNe=Bc;function nNe(e){return e===e&&!tNe(e)}var pq=nNe,rNe=pq,sNe=lw;function iNe(e){for(var t=sNe(e),n=t.length;n--;){var s=t[n],i=e[s];t[n]=[s,i,rNe(i)]}return t}var aNe=iNe;function oNe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var gq=oNe,lNe=eNe,cNe=aNe,uNe=gq;function dNe(e){var t=cNe(e);return t.length==1&&t[0][2]?uNe(t[0][0],t[0][1]):function(n){return n===e||lNe(n,e,t)}}var hNe=dNe;function fNe(e,t){return e!=null&&t in Object(e)}var mNe=fNe,pNe=NU,gNe=YE,vNe=ri,xNe=QE,yNe=XE,jNe=Gb;function bNe(e,t,n){t=pNe(t,e);for(var s=-1,i=t.length,a=!1;++s<i;){var o=jNe(t[s]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++s!=i?a:(i=e==null?0:e.length,!!i&&yNe(i)&&xNe(o,i)&&(vNe(e)||gNe(e)))}var wNe=bNe,NNe=mNe,SNe=wNe;function CNe(e,t){return e!=null&&SNe(e,t,NNe)}var _Ne=CNe,PNe=JE,ANe=SU,ENe=_Ne,kNe=TE,TNe=pq,ONe=gq,DNe=Gb,MNe=1,INe=2;function $Ne(e,t){return kNe(e)&&TNe(t)?ONe(DNe(e),t):function(n){var s=ANe(n,e);return s===void 0&&s===t?ENe(n,e):PNe(t,s,MNe|INe)}}var RNe=$Ne;function LNe(e){return e}var lm=LNe;function FNe(e){return function(t){return t==null?void 0:t[e]}}var BNe=FNe,zNe=LE;function VNe(e){return function(t){return zNe(t,e)}}var UNe=VNe,qNe=BNe,WNe=UNe,HNe=TE,GNe=Gb;function KNe(e){return HNe(e)?qNe(GNe(e)):WNe(e)}var YNe=KNe,QNe=hNe,XNe=RNe,JNe=lm,ZNe=ri,eSe=YNe;function tSe(e){return typeof e=="function"?e:e==null?JNe:typeof e=="object"?ZNe(e)?XNe(e[0],e[1]):QNe(e):eSe(e)}var wo=tSe;function nSe(e,t,n,s){for(var i=e.length,a=n+(s?1:-1);s?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var vq=nSe;function rSe(e){return e!==e}var sSe=rSe;function iSe(e,t,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===t)return s;return-1}var aSe=iSe,oSe=vq,lSe=sSe,cSe=aSe;function uSe(e,t,n){return t===t?cSe(e,t,n):oSe(e,lSe,n)}var dSe=uSe,hSe=dSe;function fSe(e,t){var n=e==null?0:e.length;return!!n&&hSe(e,t,0)>-1}var mSe=fSe;function pSe(e,t,n){for(var s=-1,i=e==null?0:e.length;++s<i;)if(n(t,e[s]))return!0;return!1}var gSe=pSe;function vSe(){}var xSe=vSe,_S=hq,ySe=xSe,jSe=KE,bSe=1/0,wSe=_S&&1/jSe(new _S([,-0]))[1]==bSe?function(e){return new _S(e)}:ySe,NSe=wSe,SSe=nq,CSe=mSe,_Se=gSe,PSe=sq,ASe=NSe,ESe=KE,kSe=200;function TSe(e,t,n){var s=-1,i=CSe,a=e.length,o=!0,l=[],c=l;if(n)o=!1,i=_Se;else if(a>=kSe){var u=t?null:ASe(e);if(u)return ESe(u);o=!1,i=PSe,c=new SSe}else c=t?[]:l;e:for(;++s<a;){var d=e[s],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var OSe=TSe,DSe=wo,MSe=OSe;function ISe(e,t){return e&&e.length?MSe(e,DSe(t)):[]}var $Se=ISe;const E4=pn($Se);function xq(e,t,n){return t===!0?E4(e,n):yt(t)?E4(e,t):e}function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}var RSe=["ref"];function k4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k4(Object(n),!0).forEach(function(s){cw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function LSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T4(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,jq(s.key),s)}}function FSe(e,t,n){return t&&T4(e.prototype,t),n&&T4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function BSe(e,t,n){return t=Q0(t),zSe(e,yq()?Reflect.construct(t,n||[],Q0(e).constructor):t.apply(e,n))}function zSe(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VSe(e)}function VSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yq=function(){return!!e})()}function Q0(e){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(e)}function USe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d_(e,t)}function d_(e,t){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},d_(e,t)}function cw(e,t,n){return t=jq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jq(e){var t=qSe(e,"string");return hf(t)=="symbol"?t:t+""}function qSe(e,t){if(hf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(hf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WSe(e,t){if(e==null)return{};var n=HSe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function HSe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function GSe(e){return e.value}function KSe(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if(typeof e=="function")return q.createElement(e,t);t.ref;var n=WSe(t,RSe);return q.createElement(GE,n)}var O4=1,Oh=function(e){function t(){var n;LSe(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=BSe(this,t,[].concat(i)),cw(n,"lastBoundingBox",{width:-1,height:-1}),n}return USe(t,e),FSe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>O4||Math.abs(i.height-this.lastBoundingBox.height)>O4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,s&&s(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Mo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,m;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((d||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Mo(Mo({},f),m)}},{key:"render",value:function(){var s=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Mo(Mo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){s.wrapperNode=g}},KSe(a,Mo(Mo({},this.props),{},{payload:xq(d,u,GSe)})))}}],[{key:"getWithHeight",value:function(s,i){var a=Mo(Mo({},this.defaultProps),s.props),o=a.layout;return o==="vertical"&&Ve(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||i}:null}}])}(w.PureComponent);cw(Oh,"displayName","Legend");cw(Oh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var D4=Cv,YSe=YE,QSe=ri,M4=D4?D4.isConcatSpreadable:void 0;function XSe(e){return QSe(e)||YSe(e)||!!(M4&&e&&e[M4])}var JSe=XSe,ZSe=aq,eCe=JSe;function bq(e,t,n,s,i){var a=-1,o=e.length;for(n||(n=eCe),i||(i=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?bq(l,t-1,n,s,i):ZSe(i,l):s||(i[i.length]=l)}return i}var wq=bq;function tCe(e){return function(t,n,s){for(var i=-1,a=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++i];if(n(a[c],c,a)===!1)break}return t}}var nCe=tCe,rCe=nCe,sCe=rCe(),iCe=sCe,aCe=iCe,oCe=lw;function lCe(e,t){return e&&aCe(e,t,oCe)}var Nq=lCe,cCe=_v;function uCe(e,t){return function(n,s){if(n==null)return n;if(!cCe(n))return e(n,s);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&s(o[a],a,o)!==!1;);return n}}var dCe=uCe,hCe=Nq,fCe=dCe,mCe=fCe(hCe),ZE=mCe,pCe=ZE,gCe=_v;function vCe(e,t){var n=-1,s=gCe(e)?Array(e.length):[];return pCe(e,function(i,a,o){s[++n]=t(i,a,o)}),s}var Sq=vCe;function xCe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var yCe=xCe,I4=em;function jCe(e,t){if(e!==t){var n=e!==void 0,s=e===null,i=e===e,a=I4(e),o=t!==void 0,l=t===null,c=t===t,u=I4(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||s&&o&&c||!n&&c||!i)return 1;if(!s&&!a&&!u&&e<t||u&&n&&i&&!s&&!a||l&&n&&i||!o&&i||!c)return-1}return 0}var bCe=jCe,wCe=bCe;function NCe(e,t,n){for(var s=-1,i=e.criteria,a=t.criteria,o=i.length,l=n.length;++s<o;){var c=wCe(i[s],a[s]);if(c){if(s>=l)return c;var u=n[s];return c*(u=="desc"?-1:1)}}return e.index-t.index}var SCe=NCe,PS=RE,CCe=LE,_Ce=wo,PCe=Sq,ACe=yCe,ECe=cq,kCe=SCe,TCe=lm,OCe=ri;function DCe(e,t,n){t.length?t=PS(t,function(a){return OCe(a)?function(o){return CCe(o,a.length===1?a[0]:a)}:a}):t=[TCe];var s=-1;t=PS(t,ECe(_Ce));var i=PCe(e,function(a,o,l){var c=PS(t,function(u){return u(a)});return{criteria:c,index:++s,value:a}});return ACe(i,function(a,o){return kCe(a,o,n)})}var MCe=DCe;function ICe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var $Ce=ICe,RCe=$Ce,$4=Math.max;function LCe(e,t,n){return t=$4(t===void 0?e.length-1:t,0),function(){for(var s=arguments,i=-1,a=$4(s.length-t,0),o=Array(a);++i<a;)o[i]=s[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=s[i];return l[t]=n(o),RCe(e,this,l)}}var FCe=LCe;function BCe(e){return function(){return e}}var zCe=BCe,VCe=fd,UCe=function(){try{var e=VCe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Cq=UCe,qCe=zCe,R4=Cq,WCe=lm,HCe=R4?function(e,t){return R4(e,"toString",{configurable:!0,enumerable:!1,value:qCe(t),writable:!0})}:WCe,GCe=HCe,KCe=800,YCe=16,QCe=Date.now;function XCe(e){var t=0,n=0;return function(){var s=QCe(),i=YCe-(s-n);if(n=s,i>0){if(++t>=KCe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var JCe=XCe,ZCe=GCe,e2e=JCe,t2e=e2e(ZCe),n2e=t2e,r2e=lm,s2e=FCe,i2e=n2e;function a2e(e,t){return i2e(s2e(e,t,r2e),e+"")}var o2e=a2e,l2e=DE,c2e=_v,u2e=QE,d2e=Bc;function h2e(e,t,n){if(!d2e(n))return!1;var s=typeof t;return(s=="number"?c2e(n)&&u2e(t,n.length):s=="string"&&t in n)?l2e(n[t],e):!1}var uw=h2e,f2e=wq,m2e=MCe,p2e=o2e,L4=uw,g2e=p2e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&L4(e,t[0],t[1])?t=[]:n>2&&L4(t[0],t[1],t[2])&&(t=[t[0]]),m2e(e,f2e(t,1),[])}),v2e=g2e;const ek=pn(v2e);function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},h_.apply(this,arguments)}function x2e(e,t){return w2e(e)||b2e(e,t)||j2e(e,t)||y2e()}function y2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j2e(e,t){if(e){if(typeof e=="string")return F4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F4(e,t)}}function F4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function b2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function w2e(e){if(Array.isArray(e))return e}function B4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function AS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(n),!0).forEach(function(s){N2e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function N2e(e,t,n){return t=S2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S2e(e){var t=C2e(e,"string");return xg(t)=="symbol"?t:t+""}function C2e(e,t){if(xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(xg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _2e(e){return Array.isArray(e)&&Mr(e[0])&&Mr(e[1])?e.join(" ~ "):e}var P2e=function(t){var n=t.separator,s=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,g=t.wrapperClassName,x=t.labelClassName,v=t.label,y=t.labelFormatter,N=t.accessibilityLayer,j=N===void 0?!1:N,b=function(){if(d&&d.length){var O={padding:0,margin:0},L=(m?ek(d,m):d).map(function(z,J){if(z.type==="none")return null;var H=AS({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),oe=z.formatter||f||_2e,Q=z.value,D=z.name,ae=Q,pe=D;if(oe&&ae!=null&&pe!=null){var te=oe(Q,D,z,J,d);if(Array.isArray(te)){var Z=x2e(te,2);ae=Z[0],pe=Z[1]}else ae=te}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:H},Mr(pe)?q.createElement("span",{className:"recharts-tooltip-item-name"},pe):null,Mr(pe)?q.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,q.createElement("span",{className:"recharts-tooltip-item-value"},ae),q.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},_=AS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=AS({margin:0},u),A=!At(v),P=A?v:"",E=Et("recharts-default-tooltip",g),M=Et("recharts-tooltip-label",x);A&&y&&d!==void 0&&d!==null&&(P=y(v,d));var $=j?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",h_({className:E,style:_},$),q.createElement("p",{className:M,style:C},q.isValidElement(P)?P:"".concat(P)),b())};function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function vy(e,t,n){return t=A2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A2e(e){var t=E2e(e,"string");return yg(t)=="symbol"?t:t+""}function E2e(e,t){if(yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(yg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jm="recharts-tooltip-wrapper",k2e={visibility:"hidden"};function T2e(e){var t=e.coordinate,n=e.translateX,s=e.translateY;return Et(Jm,vy(vy(vy(vy({},"".concat(Jm,"-right"),Ve(n)&&t&&Ve(t.x)&&n>=t.x),"".concat(Jm,"-left"),Ve(n)&&t&&Ve(t.x)&&n<t.x),"".concat(Jm,"-bottom"),Ve(s)&&t&&Ve(t.y)&&s>=t.y),"".concat(Jm,"-top"),Ve(s)&&t&&Ve(t.y)&&s<t.y))}function z4(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&Ve(a[s]))return a[s];var d=n[s]-l-i,f=n[s]+i;if(t[s])return o[s]?d:f;if(o[s]){var m=d,g=c[s];return m<g?Math.max(f,c[s]):Math.max(d,c[s])}var x=f+l,v=c[s]+u;return x>v?Math.max(d,c[s]):Math.max(f,c[s])}function O2e(e){var t=e.translateX,n=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function D2e(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=z4({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=z4({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=O2e({translateX:d,translateY:f,useTranslate3d:l})):u=k2e,{cssProperties:u,cssClasses:T2e({translateX:d,translateY:f,coordinate:n})}}function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function V4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function U4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(n),!0).forEach(function(s){m_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function M2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Pq(s.key),s)}}function $2e(e,t,n){return t&&I2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R2e(e,t,n){return t=X0(t),L2e(e,_q()?Reflect.construct(t,n||[],X0(e).constructor):t.apply(e,n))}function L2e(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F2e(e)}function F2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_q=function(){return!!e})()}function X0(e){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X0(e)}function B2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},f_(e,t)}function m_(e,t,n){return t=Pq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pq(e){var t=z2e(e,"string");return ff(t)=="symbol"?t:t+""}function z2e(e,t){if(ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ff(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q4=1,V2e=function(e){function t(){var n;M2e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=R2e(this,t,[].concat(i)),m_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),m_(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return B2e(t,e),$2e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>q4||Math.abs(s.height-this.state.lastBoundingBox.height)>q4)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,m=i.isAnimationActive,g=i.offset,x=i.position,v=i.reverseDirection,y=i.useTranslate3d,N=i.viewBox,j=i.wrapperStyle,b=D2e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:g,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:N}),_=b.cssClasses,C=b.cssProperties,A=U4(U4({transition:m&&a?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},j);return q.createElement("div",{tabIndex:-1,className:_,style:A,ref:function(E){s.wrapperNode=E}},u)}}])}(w.PureComponent),U2e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ka={isSsr:U2e(),get:function(t){return ka[t]},set:function(t,n){if(typeof t=="string")ka[t]=n;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(i){ka[i]=t[i]})}}};function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function W4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function H4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(n),!0).forEach(function(s){tk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function q2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Eq(s.key),s)}}function H2e(e,t,n){return t&&W2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G2e(e,t,n){return t=J0(t),K2e(e,Aq()?Reflect.construct(t,n||[],J0(e).constructor):t.apply(e,n))}function K2e(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y2e(e)}function Y2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aq=function(){return!!e})()}function J0(e){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(e)}function Q2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p_(e,t)}function p_(e,t){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},p_(e,t)}function tk(e,t,n){return t=Eq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eq(e){var t=X2e(e,"string");return mf(t)=="symbol"?t:t+""}function X2e(e,t){if(mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(mf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J2e(e){return e.dataKey}function Z2e(e,t){return q.isValidElement(e)?q.cloneElement(e,t):typeof e=="function"?q.createElement(e,t):q.createElement(P2e,t)}var Ur=function(e){function t(){return q2e(this,t),G2e(this,t,arguments)}return Q2e(t,e),H2e(t,[{key:"render",value:function(){var s=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,m=i.isAnimationActive,g=i.offset,x=i.payload,v=i.payloadUniqBy,y=i.position,N=i.reverseDirection,j=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,C=x??[];f&&C.length&&(C=xq(x.filter(function(P){return P.value!=null&&(P.hide!==!0||s.props.includeHidden)}),v,J2e));var A=C.length>0;return q.createElement(V2e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:a,coordinate:d,hasPayload:A,offset:g,position:y,reverseDirection:N,useTranslate3d:j,viewBox:b,wrapperStyle:_},Z2e(u,H4(H4({},this.props),{},{payload:C})))}}])}(w.PureComponent);tk(Ur,"displayName","Tooltip");tk(Ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ka.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var e_e=bo,t_e=function(){return e_e.Date.now()},n_e=t_e,r_e=/\s/;function s_e(e){for(var t=e.length;t--&&r_e.test(e.charAt(t)););return t}var i_e=s_e,a_e=i_e,o_e=/^\s+/;function l_e(e){return e&&e.slice(0,a_e(e)+1).replace(o_e,"")}var c_e=l_e,u_e=c_e,G4=Bc,d_e=em,K4=NaN,h_e=/^[-+]0x[0-9a-f]+$/i,f_e=/^0b[01]+$/i,m_e=/^0o[0-7]+$/i,p_e=parseInt;function g_e(e){if(typeof e=="number")return e;if(d_e(e))return K4;if(G4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=G4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=u_e(e);var n=f_e.test(e);return n||m_e.test(e)?p_e(e.slice(2),n?2:8):h_e.test(e)?K4:+e}var kq=g_e,v_e=Bc,ES=n_e,Y4=kq,x_e="Expected a function",y_e=Math.max,j_e=Math.min;function b_e(e,t,n){var s,i,a,o,l,c,u=0,d=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(x_e);t=Y4(t)||0,v_e(n)&&(d=!!n.leading,f="maxWait"in n,a=f?y_e(Y4(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m);function g(A){var P=s,E=i;return s=i=void 0,u=A,o=e.apply(E,P),o}function x(A){return u=A,l=setTimeout(N,t),d?g(A):o}function v(A){var P=A-c,E=A-u,M=t-P;return f?j_e(M,a-E):M}function y(A){var P=A-c,E=A-u;return c===void 0||P>=t||P<0||f&&E>=a}function N(){var A=ES();if(y(A))return j(A);l=setTimeout(N,v(A))}function j(A){return l=void 0,m&&s?g(A):(s=i=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,s=c=i=l=void 0}function _(){return l===void 0?o:j(ES())}function C(){var A=ES(),P=y(A);if(s=arguments,i=this,c=A,P){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(N,t),g(c)}return l===void 0&&(l=setTimeout(N,t)),o}return C.cancel=b,C.flush=_,C}var w_e=b_e,N_e=w_e,S_e=Bc,C_e="Expected a function";function __e(e,t,n){var s=!0,i=!0;if(typeof e!="function")throw new TypeError(C_e);return S_e(n)&&(s="leading"in n?!!n.leading:s,i="trailing"in n?!!n.trailing:i),N_e(e,t,{leading:s,maxWait:t,trailing:i})}var P_e=__e;const Tq=pn(P_e);function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function Q4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function xy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(n),!0).forEach(function(s){A_e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function A_e(e,t,n){return t=E_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E_e(e){var t=k_e(e,"string");return jg(t)=="symbol"?t:t+""}function k_e(e,t){if(jg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(jg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T_e(e,t){return I_e(e)||M_e(e,t)||D_e(e,t)||O_e()}function O_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D_e(e,t){if(e){if(typeof e=="string")return X4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X4(e,t)}}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function M_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function I_e(e){if(Array.isArray(e))return e}var ul=w.forwardRef(function(e,t){var n=e.aspect,s=e.initialDimension,i=s===void 0?{width:-1,height:-1}:s,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,g=e.children,x=e.debounce,v=x===void 0?0:x,y=e.id,N=e.className,j=e.onResize,b=e.style,_=b===void 0?{}:b,C=w.useRef(null),A=w.useRef();A.current=j,w.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var P=w.useState({containerWidth:i.width,containerHeight:i.height}),E=T_e(P,2),M=E[0],$=E[1],T=w.useCallback(function(L,z){$(function(J){var H=Math.round(L),oe=Math.round(z);return J.containerWidth===H&&J.containerHeight===oe?J:{containerWidth:H,containerHeight:oe}})},[]);w.useEffect(function(){var L=function(D){var ae,pe=D[0].contentRect,te=pe.width,Z=pe.height;T(te,Z),(ae=A.current)===null||ae===void 0||ae.call(A,te,Z)};v>0&&(L=Tq(L,v,{trailing:!0,leading:!1}));var z=new ResizeObserver(L),J=C.current.getBoundingClientRect(),H=J.width,oe=J.height;return T(H,oe),z.observe(C.current),function(){z.disconnect()}},[T,v]);var O=w.useMemo(function(){var L=M.containerWidth,z=M.containerHeight;if(L<0||z<0)return null;Ea(xu(o)||xu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ea(!n||n>0,"The aspect(%s) must be greater than zero.",n);var J=xu(o)?L:o,H=xu(c)?z:c;n&&n>0&&(J?H=J/n:H&&(J=H*n),m&&H>m&&(H=m)),Ea(J>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,H,o,c,d,f,n);var oe=!Array.isArray(g)&&Xo(g.type).endsWith("Chart");return q.Children.map(g,function(Q){return q.isValidElement(Q)?w.cloneElement(Q,xy({width:J,height:H},oe?{style:xy({height:"100%",width:"100%",maxHeight:H,maxWidth:J},Q.props.style)}:{})):Q})},[n,g,c,m,f,d,M,o]);return q.createElement("div",{id:y?"".concat(y):void 0,className:Et("recharts-responsive-container",N),style:xy(xy({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:C},O)}),cm=function(t){return null};cm.displayName="Cell";function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function J4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function g_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(n),!0).forEach(function(s){$_e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function $_e(e,t,n){return t=R_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R_e(e){var t=L_e(e,"string");return bg(t)=="symbol"?t:t+""}function L_e(e,t){if(bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(bg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kd={widthCache:{},cacheCount:0},F_e=2e3,B_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Z4="recharts_measurement_span";function z_e(e){var t=g_({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Op=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ka.isSsr)return{width:0,height:0};var s=z_e(n),i=JSON.stringify({text:t,copyStyle:s});if(Kd.widthCache[i])return Kd.widthCache[i];try{var a=document.getElementById(Z4);a||(a=document.createElement("span"),a.setAttribute("id",Z4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=g_(g_({},B_e),s);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Kd.widthCache[i]=c,++Kd.cacheCount>F_e&&(Kd.cacheCount=0,Kd.widthCache={}),c}catch{return{width:0,height:0}}},V_e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function Z0(e,t){return H_e(e)||W_e(e,t)||q_e(e,t)||U_e()}function U_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q_e(e,t){if(e){if(typeof e=="string")return e$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e$(e,t)}}function e$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function W_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function H_e(e){if(Array.isArray(e))return e}function G_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t$(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Y_e(s.key),s)}}function K_e(e,t,n){return t&&t$(e.prototype,t),n&&t$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y_e(e){var t=Q_e(e,"string");return wg(t)=="symbol"?t:t+""}function Q_e(e,t){if(wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(wg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var n$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,r$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,J_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Oq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Z_e=Object.keys(Oq),mh="NaN";function ePe(e,t){return e*Oq[t]}var yy=function(){function e(t,n){G_e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!X_e.test(n)&&(this.num=NaN,this.unit=""),Z_e.includes(n)&&(this.num=ePe(t,n),this.unit="px")}return K_e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,i=(s=J_e.exec(n))!==null&&s!==void 0?s:[],a=Z0(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function Dq(e){if(e.includes(mh))return mh;for(var t=e;t.includes("*")||t.includes("/");){var n,s=(n=n$.exec(t))!==null&&n!==void 0?n:[],i=Z0(s,4),a=i[1],o=i[2],l=i[3],c=yy.parse(a??""),u=yy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return mh;t=t.replace(n$,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=r$.exec(t))!==null&&f!==void 0?f:[],g=Z0(m,4),x=g[1],v=g[2],y=g[3],N=yy.parse(x??""),j=yy.parse(y??""),b=v==="+"?N.add(j):N.subtract(j);if(b.isNaN())return mh;t=t.replace(r$,b.toString())}return t}var s$=/\(([^()]*)\)/;function tPe(e){for(var t=e;t.includes("(");){var n=s$.exec(t),s=Z0(n,2),i=s[1];t=t.replace(s$,Dq(i))}return t}function nPe(e){var t=e.replace(/\s+/g,"");return t=tPe(t),t=Dq(t),t}function rPe(e){try{return nPe(e)}catch{return mh}}function kS(e){var t=rPe(e.slice(5,-1));return t===mh?"":t}var sPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],iPe=["dx","dy","angle","className","breakAll"];function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},v_.apply(this,arguments)}function i$(e,t){if(e==null)return{};var n=aPe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function aPe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function a$(e,t){return uPe(e)||cPe(e,t)||lPe(e,t)||oPe()}function oPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lPe(e,t){if(e){if(typeof e=="string")return o$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o$(e,t)}}function o$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function cPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function uPe(e){if(Array.isArray(e))return e}var Mq=/[ \f\n\r\t\v\u2028\u2029]+/,Iq=function(t){var n=t.children,s=t.breakAll,i=t.style;try{var a=[];At(n)||(s?a=n.toString().split(""):a=n.toString().split(Mq));var o=a.map(function(c){return{word:c,width:Op(c,i).width}}),l=s?0:Op(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},dPe=function(t,n,s,i,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ve(o),f=l,m=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(H,oe){var Q=oe.word,D=oe.width,ae=H[H.length-1];if(ae&&(i==null||a||ae.width+D+s<Number(i)))ae.words.push(Q),ae.width+=D+s;else{var pe={words:[Q],width:D};H.push(pe)}return H},[])},g=m(n),x=function(J){return J.reduce(function(H,oe){return H.width>oe.width?H:oe})};if(!d)return g;for(var v="…",y=function(J){var H=f.slice(0,J),oe=Iq({breakAll:u,style:c,children:H+v}).wordsWithComputedWidth,Q=m(oe),D=Q.length>o||x(Q).width>Number(i);return[D,Q]},N=0,j=f.length-1,b=0,_;N<=j&&b<=f.length-1;){var C=Math.floor((N+j)/2),A=C-1,P=y(A),E=a$(P,2),M=E[0],$=E[1],T=y(C),O=a$(T,1),L=O[0];if(!M&&!L&&(N=C+1),M&&L&&(j=C-1),!M&&L){_=$;break}b++}return _||g},l$=function(t){var n=At(t)?[]:t.toString().split(Mq);return[{words:n}]},hPe=function(t){var n=t.width,s=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||s)&&!ka.isSsr){var c,u,d=Iq({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return l$(i);return dPe({breakAll:o,children:i,maxLines:l,style:a},c,u,n,s)}return l$(i)},c$="#808080",Ju=function(t){var n=t.x,s=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,g=m===void 0?"start":m,x=t.verticalAnchor,v=x===void 0?"end":x,y=t.fill,N=y===void 0?c$:y,j=i$(t,sPe),b=w.useMemo(function(){return hPe({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:f,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,f,j.style,j.width]),_=j.dx,C=j.dy,A=j.angle,P=j.className,E=j.breakAll,M=i$(j,iPe);if(!Mr(s)||!Mr(a))return null;var $=s+(Ve(_)?_:0),T=a+(Ve(C)?C:0),O;switch(v){case"start":O=kS("calc(".concat(u,")"));break;case"middle":O=kS("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=kS("calc(".concat(b.length-1," * -").concat(l,")"));break}var L=[];if(f){var z=b[0].width,J=j.width;L.push("scale(".concat((Ve(J)?J/z:1)/z,")"))}return A&&L.push("rotate(".concat(A,", ").concat($,", ").concat(T,")")),L.length&&(M.transform=L.join(" ")),q.createElement("text",v_({},ct(M,!0),{x:$,y:T,className:Et("recharts-text",P),textAnchor:g,fill:N.includes("url")?c$:N}),b.map(function(H,oe){var Q=H.words.join(E?"":" ");return q.createElement("tspan",{x:$,dy:oe===0?O:l,key:"".concat(Q,"-").concat(oe)},Q)}))};function xc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nk(e){let t,n,s;e.length!==2?(t=xc,n=(l,c)=>xc(e(l),c),s=(l,c)=>e(l)-c):(t=e===xc||e===fPe?e:mPe,n=e,s=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&s(l[f-1],c)>-s(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function mPe(){return 0}function $q(e){return e===null?NaN:+e}function*pPe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const gPe=nk(xc),Pv=gPe.right;nk($q).center;class u$ extends Map{constructor(t,n=yPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[s,i]of t)this.set(s,i)}get(t){return super.get(d$(this,t))}has(t){return super.has(d$(this,t))}set(t,n){return super.set(vPe(this,t),n)}delete(t){return super.delete(xPe(this,t))}}function d$({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function vPe({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function xPe({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function yPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function jPe(e=xc){if(e===xc)return Rq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const s=e(t,n);return s||s===0?s:(e(n,n)===0)-(e(t,t)===0)}}function Rq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const bPe=Math.sqrt(50),wPe=Math.sqrt(10),NPe=Math.sqrt(2);function ej(e,t,n){const s=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(s)),a=s/Math.pow(10,i),o=a>=bPe?10:a>=wPe?5:a>=NPe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?ej(e,t,n*2):[l,c,u]}function x_(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const s=t<e,[i,a,o]=s?ej(t,e,n):ej(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(s)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function y_(e,t,n){return t=+t,e=+e,n=+n,ej(e,t,n)[2]}function j_(e,t,n){t=+t,e=+e,n=+n;const s=t<e,i=s?y_(t,e,n):y_(e,t,n);return(s?-1:1)*(i<0?1/-i:i)}function h$(e,t){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function f$(e,t){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function Lq(e,t,n=0,s=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=t&&t<=s))return e;for(i=i===void 0?Rq:jPe(i);s>n;){if(s-n>600){const c=s-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(n,Math.floor(t-u*f/c+m)),x=Math.min(s,Math.floor(t+(c-u)*f/c+m));Lq(e,t,g,x,i)}const a=e[t];let o=n,l=s;for(Zm(e,n,t),i(e[s],a)>0&&Zm(e,n,s);o<l;){for(Zm(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Zm(e,n,l):(++l,Zm(e,l,s)),l<=t&&(n=l+1),t<=l&&(s=l-1)}return e}function Zm(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function SPe(e,t,n){if(e=Float64Array.from(pPe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return f$(e);if(t>=1)return h$(e);var s,i=(s-1)*t,a=Math.floor(i),o=h$(Lq(e,a).subarray(0,a+1)),l=f$(e.subarray(a+1));return o+(l-o)*(i-a)}}function CPe(e,t,n=$q){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+n(e[0],0,e);if(t>=1)return+n(e[s-1],s-1,e);var s,i=(s-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function _Pe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var s=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++s<i;)a[s]=e+s*n;return a}function ra(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const b_=Symbol("implicit");function rk(){var e=new u$,t=[],n=[],s=b_;function i(a){let o=e.get(a);if(o===void 0){if(s!==b_)return s;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new u$;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(s=a,i):s},i.copy=function(){return rk(t,n).unknown(s)},ra.apply(i,arguments),i}function Ng(){var e=rk().unknown(void 0),t=e.domain,n=e.range,s=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,g=i<s,x=g?i:s,v=g?s:i;a=(v-x)/Math.max(1,m-c+u*2),l&&(a=Math.floor(a)),x+=(v-x-a*(m-c))*d,o=a*(1-c),l&&(x=Math.round(x),o=Math.round(o));var y=_Pe(m).map(function(N){return x+a*N});return n(g?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([s,i]=m,s=+s,i=+i,f()):[s,i]},e.rangeRound=function(m){return[s,i]=m,s=+s,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return Ng(t(),[s,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},ra.apply(f(),arguments)}function Fq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Fq(t())},e}function Dp(){return Fq(Ng.apply(null,arguments).paddingInner(1))}function sk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Bq(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function Av(){}var Sg=.7,tj=1/Sg,Dh="\\s*([+-]?\\d+)\\s*",Cg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PPe=/^#([0-9a-f]{3,8})$/,APe=new RegExp(`^rgb\\(${Dh},${Dh},${Dh}\\)$`),EPe=new RegExp(`^rgb\\(${fo},${fo},${fo}\\)$`),kPe=new RegExp(`^rgba\\(${Dh},${Dh},${Dh},${Cg}\\)$`),TPe=new RegExp(`^rgba\\(${fo},${fo},${fo},${Cg}\\)$`),OPe=new RegExp(`^hsl\\(${Cg},${fo},${fo}\\)$`),DPe=new RegExp(`^hsla\\(${Cg},${fo},${fo},${Cg}\\)$`),m$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sk(Av,_g,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:p$,formatHex:p$,formatHex8:MPe,formatHsl:IPe,formatRgb:g$,toString:g$});function p$(){return this.rgb().formatHex()}function MPe(){return this.rgb().formatHex8()}function IPe(){return zq(this).formatHsl()}function g$(){return this.rgb().formatRgb()}function _g(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=PPe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?v$(t):n===3?new Ys(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?jy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?jy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=APe.exec(e))?new Ys(t[1],t[2],t[3],1):(t=EPe.exec(e))?new Ys(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kPe.exec(e))?jy(t[1],t[2],t[3],t[4]):(t=TPe.exec(e))?jy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=OPe.exec(e))?j$(t[1],t[2]/100,t[3]/100,1):(t=DPe.exec(e))?j$(t[1],t[2]/100,t[3]/100,t[4]):m$.hasOwnProperty(e)?v$(m$[e]):e==="transparent"?new Ys(NaN,NaN,NaN,0):null}function v$(e){return new Ys(e>>16&255,e>>8&255,e&255,1)}function jy(e,t,n,s){return s<=0&&(e=t=n=NaN),new Ys(e,t,n,s)}function $Pe(e){return e instanceof Av||(e=_g(e)),e?(e=e.rgb(),new Ys(e.r,e.g,e.b,e.opacity)):new Ys}function w_(e,t,n,s){return arguments.length===1?$Pe(e):new Ys(e,t,n,s??1)}function Ys(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}sk(Ys,w_,Bq(Av,{brighter(e){return e=e==null?tj:Math.pow(tj,e),new Ys(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sg:Math.pow(Sg,e),new Ys(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ys(Mu(this.r),Mu(this.g),Mu(this.b),nj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:x$,formatHex:x$,formatHex8:RPe,formatRgb:y$,toString:y$}));function x$(){return`#${yu(this.r)}${yu(this.g)}${yu(this.b)}`}function RPe(){return`#${yu(this.r)}${yu(this.g)}${yu(this.b)}${yu((isNaN(this.opacity)?1:this.opacity)*255)}`}function y$(){const e=nj(this.opacity);return`${e===1?"rgb(":"rgba("}${Mu(this.r)}, ${Mu(this.g)}, ${Mu(this.b)}${e===1?")":`, ${e})`}`}function nj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yu(e){return e=Mu(e),(e<16?"0":"")+e.toString(16)}function j$(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Sa(e,t,n,s)}function zq(e){if(e instanceof Sa)return new Sa(e.h,e.s,e.l,e.opacity);if(e instanceof Av||(e=_g(e)),!e)return new Sa;if(e instanceof Sa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,i=Math.min(t,n,s),a=Math.max(t,n,s),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(n-s)/l+(n<s)*6:n===a?o=(s-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Sa(o,l,c,e.opacity)}function LPe(e,t,n,s){return arguments.length===1?zq(e):new Sa(e,t,n,s??1)}function Sa(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}sk(Sa,LPe,Bq(Av,{brighter(e){return e=e==null?tj:Math.pow(tj,e),new Sa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sg:Math.pow(Sg,e),new Sa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,i=2*n-s;return new Ys(TS(e>=240?e-240:e+120,i,s),TS(e,i,s),TS(e<120?e+240:e-120,i,s),this.opacity)},clamp(){return new Sa(b$(this.h),by(this.s),by(this.l),nj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nj(this.opacity);return`${e===1?"hsl(":"hsla("}${b$(this.h)}, ${by(this.s)*100}%, ${by(this.l)*100}%${e===1?")":`, ${e})`}`}}));function b$(e){return e=(e||0)%360,e<0?e+360:e}function by(e){return Math.max(0,Math.min(1,e||0))}function TS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ik=e=>()=>e;function FPe(e,t){return function(n){return e+n*t}}function BPe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function zPe(e){return(e=+e)==1?Vq:function(t,n){return n-t?BPe(t,n,e):ik(isNaN(t)?n:t)}}function Vq(e,t){var n=t-e;return n?FPe(e,n):ik(isNaN(e)?t:e)}const w$=function e(t){var n=zPe(t);function s(i,a){var o=n((i=w_(i)).r,(a=w_(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=Vq(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return s.gamma=e,s}(1);function VPe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),i;return function(a){for(i=0;i<n;++i)s[i]=e[i]*(1-a)+t[i]*a;return s}}function UPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qPe(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,i=new Array(s),a=new Array(n),o;for(o=0;o<s;++o)i[o]=um(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<s;++o)a[o]=i[o](l);return a}}function WPe(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function rj(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function HPe(e,t){var n={},s={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=um(e[i],t[i]):s[i]=t[i];return function(a){for(i in n)s[i]=n[i](a);return s}}var N_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,OS=new RegExp(N_.source,"g");function GPe(e){return function(){return e}}function KPe(e){return function(t){return e(t)+""}}function YPe(e,t){var n=N_.lastIndex=OS.lastIndex=0,s,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=N_.exec(e))&&(i=OS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(s=s[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:rj(s,i)})),n=OS.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?KPe(c[0].x):GPe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function um(e,t){var n=typeof t,s;return t==null||n==="boolean"?ik(t):(n==="number"?rj:n==="string"?(s=_g(t))?(t=s,w$):YPe:t instanceof _g?w$:t instanceof Date?WPe:UPe(t)?VPe:Array.isArray(t)?qPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?HPe:rj)(e,t)}function ak(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function QPe(e,t){t===void 0&&(t=e,e=um);for(var n=0,s=t.length-1,i=t[0],a=new Array(s<0?0:s);n<s;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return a[l](o-l)}}function XPe(e){return function(){return e}}function sj(e){return+e}var N$=[0,1];function Ts(e){return e}function S_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:XPe(isNaN(t)?NaN:.5)}function JPe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(s){return Math.max(e,Math.min(t,s))}}function ZPe(e,t,n){var s=e[0],i=e[1],a=t[0],o=t[1];return i<s?(s=S_(i,s),a=n(o,a)):(s=S_(s,i),a=n(a,o)),function(l){return a(s(l))}}function eAe(e,t,n){var s=Math.min(e.length,t.length)-1,i=new Array(s),a=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)i[o]=S_(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=Pv(e,l,1,s)-1;return a[c](i[c](l))}}function Ev(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dw(){var e=N$,t=N$,n=um,s,i,a,o=Ts,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Ts&&(o=JPe(e[0],e[m-1])),l=m>2?eAe:ZPe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?a:(c||(c=l(e.map(s),t,n)))(s(o(m)))}return f.invert=function(m){return o(i((u||(u=l(t,e.map(s),rj)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,sj),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),n=ak,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Ts,d()):o!==Ts},f.interpolate=function(m){return arguments.length?(n=m,d()):n},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,g){return s=m,i=g,d()}}function ok(){return dw()(Ts,Ts)}function tAe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ij(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function pf(e){return e=ij(Math.abs(e)),e?e[1]:NaN}function nAe(e,t){return function(n,s){for(var i=n.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function rAe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var sAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pg(e){if(!(t=sAe.exec(e)))throw new Error("invalid format: "+e);var t;return new lk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pg.prototype=lk.prototype;function lk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iAe(e){e:for(var t=e.length,n=1,s=-1,i;n<t;++n)switch(e[n]){case".":s=i=n;break;case"0":s===0&&(s=n),i=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(i+1):e}var Uq;function aAe(e,t){var n=ij(e,t);if(!n)return e+"";var s=n[0],i=n[1],a=i-(Uq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=s.length;return a===o?s:a>o?s+new Array(a-o+1).join("0"):a>0?s.slice(0,a)+"."+s.slice(a):"0."+new Array(1-a).join("0")+ij(e,Math.max(0,t+a-1))[0]}function S$(e,t){var n=ij(e,t);if(!n)return e+"";var s=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+s:s.length>i+1?s.slice(0,i+1)+"."+s.slice(i+1):s+new Array(i-s.length+2).join("0")}const C$={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:tAe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>S$(e*100,t),r:S$,s:aAe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _$(e){return e}var P$=Array.prototype.map,A$=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function oAe(e){var t=e.grouping===void 0||e.thousands===void 0?_$:nAe(P$.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?_$:rAe(P$.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Pg(f);var m=f.fill,g=f.align,x=f.sign,v=f.symbol,y=f.zero,N=f.width,j=f.comma,b=f.precision,_=f.trim,C=f.type;C==="n"?(j=!0,C="g"):C$[C]||(b===void 0&&(b=12),_=!0,C="g"),(y||m==="0"&&g==="=")&&(y=!0,m="0",g="=");var A=v==="$"?n:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=v==="$"?s:/[%p]/.test(C)?o:"",E=C$[C],M=/[defgprs%]/.test(C);b=b===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function $(T){var O=A,L=P,z,J,H;if(C==="c")L=E(T)+L,T="";else{T=+T;var oe=T<0||1/T<0;if(T=isNaN(T)?c:E(Math.abs(T),b),_&&(T=iAe(T)),oe&&+T==0&&x!=="+"&&(oe=!1),O=(oe?x==="("?x:l:x==="-"||x==="("?"":x)+O,L=(C==="s"?A$[8+Uq/3]:"")+L+(oe&&x==="("?")":""),M){for(z=-1,J=T.length;++z<J;)if(H=T.charCodeAt(z),48>H||H>57){L=(H===46?i+T.slice(z+1):T.slice(z))+L,T=T.slice(0,z);break}}}j&&!y&&(T=t(T,1/0));var Q=O.length+T.length+L.length,D=Q<N?new Array(N-Q+1).join(m):"";switch(j&&y&&(T=t(D+T,D.length?N-L.length:1/0),D=""),g){case"<":T=O+T+L+D;break;case"=":T=O+D+T+L;break;case"^":T=D.slice(0,Q=D.length>>1)+O+T+L+D.slice(Q);break;default:T=D+O+T+L;break}return a(T)}return $.toString=function(){return f+""},$}function d(f,m){var g=u((f=Pg(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(pf(m)/3)))*3,v=Math.pow(10,-x),y=A$[8+x/3];return function(N){return g(v*N)+y}}return{format:u,formatPrefix:d}}var wy,ck,qq;lAe({thousands:",",grouping:[3],currency:["$",""]});function lAe(e){return wy=oAe(e),ck=wy.format,qq=wy.formatPrefix,wy}function cAe(e){return Math.max(0,-pf(Math.abs(e)))}function uAe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pf(t)/3)))*3-pf(Math.abs(e)))}function dAe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pf(t)-pf(e))+1}function Wq(e,t,n,s){var i=j_(e,t,n),a;switch(s=Pg(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(a=uAe(i,o))&&(s.precision=a),qq(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(a=dAe(i,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=a-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(a=cAe(i))&&(s.precision=a-(s.type==="%")*2);break}}return ck(s)}function zc(e){var t=e.domain;return e.ticks=function(n){var s=t();return x_(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var i=t();return Wq(i[0],i[i.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=t(),i=0,a=s.length-1,o=s[i],l=s[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=y_(o,l,n),u===c)return s[i]=o,s[a]=l,t(s);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function aj(){var e=ok();return e.copy=function(){return Ev(e,aj())},ra.apply(e,arguments),zc(e)}function Hq(e){var t;function n(s){return s==null||isNaN(s=+s)?t:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,sj),n):e.slice()},n.unknown=function(s){return arguments.length?(t=s,n):t},n.copy=function(){return Hq(e).unknown(t)},e=arguments.length?Array.from(e,sj):[0,1],zc(n)}function Gq(e,t){e=e.slice();var n=0,s=e.length-1,i=e[n],a=e[s],o;return a<i&&(o=n,n=s,s=o,o=i,i=a,a=o),e[n]=t.floor(i),e[s]=t.ceil(a),e}function E$(e){return Math.log(e)}function k$(e){return Math.exp(e)}function hAe(e){return-Math.log(-e)}function fAe(e){return-Math.exp(-e)}function mAe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pAe(e){return e===10?mAe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function gAe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function T$(e){return(t,n)=>-e(-t,n)}function uk(e){const t=e(E$,k$),n=t.domain;let s=10,i,a;function o(){return i=gAe(s),a=pAe(s),n()[0]<0?(i=T$(i),a=T$(a),e(hAe,fAe)):e(E$,k$),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=i(u),g=i(d),x,v;const y=l==null?10:+l;let N=[];if(!(s%1)&&g-m<y){if(m=Math.floor(m),g=Math.ceil(g),u>0){for(;m<=g;++m)for(x=1;x<s;++x)if(v=m<0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;N.push(v)}}else for(;m<=g;++m)for(x=s-1;x>=1;--x)if(v=m>0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;N.push(v)}N.length*2<y&&(N=x_(u,d,y))}else N=x_(m,g,Math.min(g-m,y)).map(a);return f?N.reverse():N},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=Pg(c)).precision==null&&(c.trim=!0),c=ck(c)),l===1/0)return c;const u=Math.max(1,s*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*s<s-.5&&(f*=s),f<=u?c(d):""}},t.nice=()=>n(Gq(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function Kq(){const e=uk(dw()).domain([1,10]);return e.copy=()=>Ev(e,Kq()).base(e.base()),ra.apply(e,arguments),e}function O$(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function D$(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dk(e){var t=1,n=e(O$(t),D$(t));return n.constant=function(s){return arguments.length?e(O$(t=+s),D$(t)):t},zc(n)}function Yq(){var e=dk(dw());return e.copy=function(){return Ev(e,Yq()).constant(e.constant())},ra.apply(e,arguments)}function M$(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vAe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xAe(e){return e<0?-e*e:e*e}function hk(e){var t=e(Ts,Ts),n=1;function s(){return n===1?e(Ts,Ts):n===.5?e(vAe,xAe):e(M$(n),M$(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,s()):n},zc(t)}function fk(){var e=hk(dw());return e.copy=function(){return Ev(e,fk()).exponent(e.exponent())},ra.apply(e,arguments),e}function yAe(){return fk.apply(null,arguments).exponent(.5)}function I$(e){return Math.sign(e)*e*e}function jAe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Qq(){var e=ok(),t=[0,1],n=!1,s;function i(a){var o=jAe(e(a));return isNaN(o)?s:n?Math.round(o):o}return i.invert=function(a){return e.invert(I$(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,sj)).map(I$)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(s=a,i):s},i.copy=function(){return Qq(e.domain(),t).round(n).clamp(e.clamp()).unknown(s)},ra.apply(i,arguments),zc(i)}function Xq(){var e=[],t=[],n=[],s;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=CPe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?s:t[Pv(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(xc),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(s=o,a):s},a.quantiles=function(){return n.slice()},a.copy=function(){return Xq().domain(e).range(t).unknown(s)},ra.apply(a,arguments)}function Jq(){var e=0,t=1,n=1,s=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Pv(s,c,0,n)]:a}function l(){var c=-1;for(s=new Array(n);++c<n;)s[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=n?[s[n-1],t]:[s[u-1],s[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return Jq().domain([e,t]).range(i).unknown(a)},ra.apply(zc(o),arguments)}function Zq(){var e=[.5],t=[0,1],n,s=1;function i(a){return a!=null&&a<=a?t[Pv(e,a,0,s)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),s=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),s=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Zq().domain(e).range(t).unknown(n)},ra.apply(i,arguments)}const DS=new Date,MS=new Date;function $r(e,t,n,s){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},i.filter=a=>$r(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(DS.setTime(+a),MS.setTime(+o),e(DS),e(MS),Math.floor(n(DS,MS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(s?o=>s(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const oj=$r(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);oj.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$r(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):oj);oj.range;const Go=1e3,Hi=Go*60,Ko=Hi*60,dl=Ko*24,mk=dl*7,$$=dl*30,IS=dl*365,ju=$r(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Go)},(e,t)=>(t-e)/Go,e=>e.getUTCSeconds());ju.range;const pk=$r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Go)},(e,t)=>{e.setTime(+e+t*Hi)},(e,t)=>(t-e)/Hi,e=>e.getMinutes());pk.range;const gk=$r(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hi)},(e,t)=>(t-e)/Hi,e=>e.getUTCMinutes());gk.range;const vk=$r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Go-e.getMinutes()*Hi)},(e,t)=>{e.setTime(+e+t*Ko)},(e,t)=>(t-e)/Ko,e=>e.getHours());vk.range;const xk=$r(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ko)},(e,t)=>(t-e)/Ko,e=>e.getUTCHours());xk.range;const kv=$r(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hi)/dl,e=>e.getDate()-1);kv.range;const hw=$r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dl,e=>e.getUTCDate()-1);hw.range;const e7=$r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dl,e=>Math.floor(e/dl));e7.range;function pd(e){return $r(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Hi)/mk)}const fw=pd(0),lj=pd(1),bAe=pd(2),wAe=pd(3),gf=pd(4),NAe=pd(5),SAe=pd(6);fw.range;lj.range;bAe.range;wAe.range;gf.range;NAe.range;SAe.range;function gd(e){return $r(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/mk)}const mw=gd(0),cj=gd(1),CAe=gd(2),_Ae=gd(3),vf=gd(4),PAe=gd(5),AAe=gd(6);mw.range;cj.range;CAe.range;_Ae.range;vf.range;PAe.range;AAe.range;const yk=$r(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());yk.range;const jk=$r(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jk.range;const hl=$r(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$r(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});hl.range;const fl=$r(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());fl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$r(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});fl.range;function t7(e,t,n,s,i,a){const o=[[ju,1,Go],[ju,5,5*Go],[ju,15,15*Go],[ju,30,30*Go],[a,1,Hi],[a,5,5*Hi],[a,15,15*Hi],[a,30,30*Hi],[i,1,Ko],[i,3,3*Ko],[i,6,6*Ko],[i,12,12*Ko],[s,1,dl],[s,2,2*dl],[n,1,mk],[t,1,$$],[t,3,3*$$],[e,1,IS]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),x=g?g.range(u,+d+1):[];return m?x.reverse():x}function c(u,d,f){const m=Math.abs(d-u)/f,g=nk(([,,y])=>y).right(o,m);if(g===o.length)return e.every(j_(u/IS,d/IS,f));if(g===0)return oj.every(Math.max(j_(u,d,f),1));const[x,v]=o[m/o[g-1][2]<o[g][2]/m?g-1:g];return x.every(v)}return[l,c]}const[EAe,kAe]=t7(fl,jk,mw,e7,xk,gk),[TAe,OAe]=t7(hl,yk,fw,kv,vk,pk);function $S(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function RS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ep(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function DAe(e){var t=e.dateTime,n=e.date,s=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=tp(i),d=np(i),f=tp(a),m=np(a),g=tp(o),x=np(o),v=tp(l),y=np(l),N=tp(c),j=np(c),b={a:oe,A:Q,b:D,B:ae,c:null,d:V$,e:V$,f:nEe,g:hEe,G:mEe,H:ZAe,I:eEe,j:tEe,L:n7,m:rEe,M:sEe,p:pe,q:te,Q:W$,s:H$,S:iEe,u:aEe,U:oEe,V:lEe,w:cEe,W:uEe,x:null,X:null,y:dEe,Y:fEe,Z:pEe,"%":q$},_={a:Z,A:ne,b:xe,B:ye,c:null,d:U$,e:U$,f:yEe,g:EEe,G:TEe,H:gEe,I:vEe,j:xEe,L:s7,m:jEe,M:bEe,p:se,q:F,Q:W$,s:H$,S:wEe,u:NEe,U:SEe,V:CEe,w:_Ee,W:PEe,x:null,X:null,y:AEe,Y:kEe,Z:OEe,"%":q$},C={a:$,A:T,b:O,B:L,c:z,d:B$,e:B$,f:YAe,g:F$,G:L$,H:z$,I:z$,j:WAe,L:KAe,m:qAe,M:HAe,p:M,q:UAe,Q:XAe,s:JAe,S:GAe,u:LAe,U:FAe,V:BAe,w:RAe,W:zAe,x:J,X:H,y:F$,Y:L$,Z:VAe,"%":QAe};b.x=A(n,b),b.X=A(s,b),b.c=A(t,b),_.x=A(n,_),_.X=A(s,_),_.c=A(t,_);function A(Y,ee){return function(G){var I=[],ve=-1,we=0,Fe=Y.length,Be,it,lt;for(G instanceof Date||(G=new Date(+G));++ve<Fe;)Y.charCodeAt(ve)===37&&(I.push(Y.slice(we,ve)),(it=R$[Be=Y.charAt(++ve)])!=null?Be=Y.charAt(++ve):it=Be==="e"?" ":"0",(lt=ee[Be])&&(Be=lt(G,it)),I.push(Be),we=ve+1);return I.push(Y.slice(we,ve)),I.join("")}}function P(Y,ee){return function(G){var I=ep(1900,void 0,1),ve=E(I,Y,G+="",0),we,Fe;if(ve!=G.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(ee&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(we=RS(ep(I.y,0,1)),Fe=we.getUTCDay(),we=Fe>4||Fe===0?cj.ceil(we):cj(we),we=hw.offset(we,(I.V-1)*7),I.y=we.getUTCFullYear(),I.m=we.getUTCMonth(),I.d=we.getUTCDate()+(I.w+6)%7):(we=$S(ep(I.y,0,1)),Fe=we.getDay(),we=Fe>4||Fe===0?lj.ceil(we):lj(we),we=kv.offset(we,(I.V-1)*7),I.y=we.getFullYear(),I.m=we.getMonth(),I.d=we.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),Fe="Z"in I?RS(ep(I.y,0,1)).getUTCDay():$S(ep(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(Fe+5)%7:I.w+I.U*7-(Fe+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,RS(I)):$S(I)}}function E(Y,ee,G,I){for(var ve=0,we=ee.length,Fe=G.length,Be,it;ve<we;){if(I>=Fe)return-1;if(Be=ee.charCodeAt(ve++),Be===37){if(Be=ee.charAt(ve++),it=C[Be in R$?ee.charAt(ve++):Be],!it||(I=it(Y,G,I))<0)return-1}else if(Be!=G.charCodeAt(I++))return-1}return I}function M(Y,ee,G){var I=u.exec(ee.slice(G));return I?(Y.p=d.get(I[0].toLowerCase()),G+I[0].length):-1}function $(Y,ee,G){var I=g.exec(ee.slice(G));return I?(Y.w=x.get(I[0].toLowerCase()),G+I[0].length):-1}function T(Y,ee,G){var I=f.exec(ee.slice(G));return I?(Y.w=m.get(I[0].toLowerCase()),G+I[0].length):-1}function O(Y,ee,G){var I=N.exec(ee.slice(G));return I?(Y.m=j.get(I[0].toLowerCase()),G+I[0].length):-1}function L(Y,ee,G){var I=v.exec(ee.slice(G));return I?(Y.m=y.get(I[0].toLowerCase()),G+I[0].length):-1}function z(Y,ee,G){return E(Y,t,ee,G)}function J(Y,ee,G){return E(Y,n,ee,G)}function H(Y,ee,G){return E(Y,s,ee,G)}function oe(Y){return o[Y.getDay()]}function Q(Y){return a[Y.getDay()]}function D(Y){return c[Y.getMonth()]}function ae(Y){return l[Y.getMonth()]}function pe(Y){return i[+(Y.getHours()>=12)]}function te(Y){return 1+~~(Y.getMonth()/3)}function Z(Y){return o[Y.getUTCDay()]}function ne(Y){return a[Y.getUTCDay()]}function xe(Y){return c[Y.getUTCMonth()]}function ye(Y){return l[Y.getUTCMonth()]}function se(Y){return i[+(Y.getUTCHours()>=12)]}function F(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ee=A(Y+="",b);return ee.toString=function(){return Y},ee},parse:function(Y){var ee=P(Y+="",!1);return ee.toString=function(){return Y},ee},utcFormat:function(Y){var ee=A(Y+="",_);return ee.toString=function(){return Y},ee},utcParse:function(Y){var ee=P(Y+="",!0);return ee.toString=function(){return Y},ee}}}var R$={"-":"",_:" ",0:"0"},Yr=/^\s*\d+/,MAe=/^%/,IAe=/[\\^$*+?|[\]().{}]/g;function un(e,t,n){var s=e<0?"-":"",i=(s?-e:e)+"",a=i.length;return s+(a<n?new Array(n-a+1).join(t)+i:i)}function $Ae(e){return e.replace(IAe,"\\$&")}function tp(e){return new RegExp("^(?:"+e.map($Ae).join("|")+")","i")}function np(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function RAe(e,t,n){var s=Yr.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function LAe(e,t,n){var s=Yr.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function FAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function BAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function zAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function L$(e,t,n){var s=Yr.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function F$(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function VAe(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function UAe(e,t,n){var s=Yr.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function qAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function B$(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function WAe(e,t,n){var s=Yr.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function z$(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function HAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function GAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function KAe(e,t,n){var s=Yr.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function YAe(e,t,n){var s=Yr.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function QAe(e,t,n){var s=MAe.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function XAe(e,t,n){var s=Yr.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function JAe(e,t,n){var s=Yr.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function V$(e,t){return un(e.getDate(),t,2)}function ZAe(e,t){return un(e.getHours(),t,2)}function eEe(e,t){return un(e.getHours()%12||12,t,2)}function tEe(e,t){return un(1+kv.count(hl(e),e),t,3)}function n7(e,t){return un(e.getMilliseconds(),t,3)}function nEe(e,t){return n7(e,t)+"000"}function rEe(e,t){return un(e.getMonth()+1,t,2)}function sEe(e,t){return un(e.getMinutes(),t,2)}function iEe(e,t){return un(e.getSeconds(),t,2)}function aEe(e){var t=e.getDay();return t===0?7:t}function oEe(e,t){return un(fw.count(hl(e)-1,e),t,2)}function r7(e){var t=e.getDay();return t>=4||t===0?gf(e):gf.ceil(e)}function lEe(e,t){return e=r7(e),un(gf.count(hl(e),e)+(hl(e).getDay()===4),t,2)}function cEe(e){return e.getDay()}function uEe(e,t){return un(lj.count(hl(e)-1,e),t,2)}function dEe(e,t){return un(e.getFullYear()%100,t,2)}function hEe(e,t){return e=r7(e),un(e.getFullYear()%100,t,2)}function fEe(e,t){return un(e.getFullYear()%1e4,t,4)}function mEe(e,t){var n=e.getDay();return e=n>=4||n===0?gf(e):gf.ceil(e),un(e.getFullYear()%1e4,t,4)}function pEe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+un(t/60|0,"0",2)+un(t%60,"0",2)}function U$(e,t){return un(e.getUTCDate(),t,2)}function gEe(e,t){return un(e.getUTCHours(),t,2)}function vEe(e,t){return un(e.getUTCHours()%12||12,t,2)}function xEe(e,t){return un(1+hw.count(fl(e),e),t,3)}function s7(e,t){return un(e.getUTCMilliseconds(),t,3)}function yEe(e,t){return s7(e,t)+"000"}function jEe(e,t){return un(e.getUTCMonth()+1,t,2)}function bEe(e,t){return un(e.getUTCMinutes(),t,2)}function wEe(e,t){return un(e.getUTCSeconds(),t,2)}function NEe(e){var t=e.getUTCDay();return t===0?7:t}function SEe(e,t){return un(mw.count(fl(e)-1,e),t,2)}function i7(e){var t=e.getUTCDay();return t>=4||t===0?vf(e):vf.ceil(e)}function CEe(e,t){return e=i7(e),un(vf.count(fl(e),e)+(fl(e).getUTCDay()===4),t,2)}function _Ee(e){return e.getUTCDay()}function PEe(e,t){return un(cj.count(fl(e)-1,e),t,2)}function AEe(e,t){return un(e.getUTCFullYear()%100,t,2)}function EEe(e,t){return e=i7(e),un(e.getUTCFullYear()%100,t,2)}function kEe(e,t){return un(e.getUTCFullYear()%1e4,t,4)}function TEe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?vf(e):vf.ceil(e),un(e.getUTCFullYear()%1e4,t,4)}function OEe(){return"+0000"}function q$(){return"%"}function W$(e){return+e}function H$(e){return Math.floor(+e/1e3)}var Yd,a7,o7;DEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DEe(e){return Yd=DAe(e),a7=Yd.format,Yd.parse,o7=Yd.utcFormat,Yd.utcParse,Yd}function MEe(e){return new Date(e)}function IEe(e){return e instanceof Date?+e:+new Date(+e)}function bk(e,t,n,s,i,a,o,l,c,u){var d=ok(),f=d.invert,m=d.domain,g=u(".%L"),x=u(":%S"),v=u("%I:%M"),y=u("%I %p"),N=u("%a %d"),j=u("%b %d"),b=u("%B"),_=u("%Y");function C(A){return(c(A)<A?g:l(A)<A?x:o(A)<A?v:a(A)<A?y:s(A)<A?i(A)<A?N:j:n(A)<A?b:_)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?m(Array.from(A,IEe)):m().map(MEe)},d.ticks=function(A){var P=m();return e(P[0],P[P.length-1],A??10)},d.tickFormat=function(A,P){return P==null?C:u(P)},d.nice=function(A){var P=m();return(!A||typeof A.range!="function")&&(A=t(P[0],P[P.length-1],A??10)),A?m(Gq(P,A)):d},d.copy=function(){return Ev(d,bk(e,t,n,s,i,a,o,l,c,u))},d}function $Ee(){return ra.apply(bk(TAe,OAe,hl,yk,fw,kv,vk,pk,ju,a7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function REe(){return ra.apply(bk(EAe,kAe,fl,jk,mw,hw,xk,gk,ju,o7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pw(){var e=0,t=1,n,s,i,a,o=Ts,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),s=a(t=+t),i=n===s?0:1/(s-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var g,x;return arguments.length?([g,x]=m,o=f(g,x),u):[o(0),o(1)]}}return u.range=d(um),u.rangeRound=d(ak),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(e),s=f(t),i=n===s?0:1/(s-n),u}}function Vc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function l7(){var e=zc(pw()(Ts));return e.copy=function(){return Vc(e,l7())},xl.apply(e,arguments)}function c7(){var e=uk(pw()).domain([1,10]);return e.copy=function(){return Vc(e,c7()).base(e.base())},xl.apply(e,arguments)}function u7(){var e=dk(pw());return e.copy=function(){return Vc(e,u7()).constant(e.constant())},xl.apply(e,arguments)}function wk(){var e=hk(pw());return e.copy=function(){return Vc(e,wk()).exponent(e.exponent())},xl.apply(e,arguments)}function LEe(){return wk.apply(null,arguments).exponent(.5)}function d7(){var e=[],t=Ts;function n(s){if(s!=null&&!isNaN(s=+s))return t((Pv(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let i of s)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(xc),n},n.interpolator=function(s){return arguments.length?(t=s,n):t},n.range=function(){return e.map((s,i)=>t(i/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(i,a)=>SPe(e,a/s))},n.copy=function(){return d7(t).domain(e)},xl.apply(n,arguments)}function gw(){var e=0,t=.5,n=1,s=1,i,a,o,l,c,u=Ts,d,f=!1,m;function g(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-a)*(s*v<s*a?l:c),u(f?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([e,t,n]=v,i=d(e=+e),a=d(t=+t),o=d(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),s=a<i?-1:1,g):[e,t,n]},g.clamp=function(v){return arguments.length?(f=!!v,g):f},g.interpolator=function(v){return arguments.length?(u=v,g):u};function x(v){return function(y){var N,j,b;return arguments.length?([N,j,b]=y,u=QPe(v,[N,j,b]),g):[u(0),u(.5),u(1)]}}return g.range=x(um),g.rangeRound=x(ak),g.unknown=function(v){return arguments.length?(m=v,g):m},function(v){return d=v,i=v(e),a=v(t),o=v(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),s=a<i?-1:1,g}}function h7(){var e=zc(gw()(Ts));return e.copy=function(){return Vc(e,h7())},xl.apply(e,arguments)}function f7(){var e=uk(gw()).domain([.1,1,10]);return e.copy=function(){return Vc(e,f7()).base(e.base())},xl.apply(e,arguments)}function m7(){var e=dk(gw());return e.copy=function(){return Vc(e,m7()).constant(e.constant())},xl.apply(e,arguments)}function Nk(){var e=hk(gw());return e.copy=function(){return Vc(e,Nk()).exponent(e.exponent())},xl.apply(e,arguments)}function FEe(){return Nk.apply(null,arguments).exponent(.5)}const G$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ng,scaleDiverging:h7,scaleDivergingLog:f7,scaleDivergingPow:Nk,scaleDivergingSqrt:FEe,scaleDivergingSymlog:m7,scaleIdentity:Hq,scaleImplicit:b_,scaleLinear:aj,scaleLog:Kq,scaleOrdinal:rk,scalePoint:Dp,scalePow:fk,scaleQuantile:Xq,scaleQuantize:Jq,scaleRadial:Qq,scaleSequential:l7,scaleSequentialLog:c7,scaleSequentialPow:wk,scaleSequentialQuantile:d7,scaleSequentialSqrt:LEe,scaleSequentialSymlog:u7,scaleSqrt:yAe,scaleSymlog:Yq,scaleThreshold:Zq,scaleTime:$Ee,scaleUtc:REe,tickFormat:Wq},Symbol.toStringTag,{value:"Module"}));var BEe=em;function zEe(e,t,n){for(var s=-1,i=e.length;++s<i;){var a=e[s],o=t(a);if(o!=null&&(l===void 0?o===o&&!BEe(o):n(o,l)))var l=o,c=a}return c}var vw=zEe;function VEe(e,t){return e>t}var p7=VEe,UEe=vw,qEe=p7,WEe=lm;function HEe(e){return e&&e.length?UEe(e,WEe,qEe):void 0}var GEe=HEe;const ic=pn(GEe);function KEe(e,t){return e<t}var g7=KEe,YEe=vw,QEe=g7,XEe=lm;function JEe(e){return e&&e.length?YEe(e,XEe,QEe):void 0}var ZEe=JEe;const xw=pn(ZEe);var eke=RE,tke=wo,nke=Sq,rke=ri;function ske(e,t){var n=rke(e)?eke:nke;return n(e,tke(t))}var ike=ske,ake=wq,oke=ike;function lke(e,t){return ake(oke(e,t),1)}var cke=lke;const uke=pn(cke);var dke=JE;function hke(e,t){return dke(e,t)}var fke=hke;const Zu=pn(fke);var dm=1e9,mke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ck,Kn=!0,Zi="[DecimalError] ",Iu=Zi+"Invalid argument: ",Sk=Zi+"Exponent out of range: ",hm=Math.floor,uu=Math.pow,pke=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vi,Br=1e7,zn=7,v7=9007199254740991,uj=hm(v7/zn),rt={};rt.absoluteValue=rt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};rt.comparedTo=rt.cmp=function(e){var t,n,s,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(s=a.d.length,i=e.d.length,t=0,n=s<i?s:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return s===i?0:s>i^a.s<0?1:-1};rt.decimalPlaces=rt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*zn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};rt.dividedBy=rt.div=function(e){return Jo(this,new this.constructor(e))};rt.dividedToIntegerBy=rt.idiv=function(e){var t=this,n=t.constructor;return En(Jo(t,new n(e),0,1),n.precision)};rt.equals=rt.eq=function(e){return!this.cmp(e)};rt.exponent=function(){return wr(this)};rt.greaterThan=rt.gt=function(e){return this.cmp(e)>0};rt.greaterThanOrEqualTo=rt.gte=function(e){return this.cmp(e)>=0};rt.isInteger=rt.isint=function(){return this.e>this.d.length-2};rt.isNegative=rt.isneg=function(){return this.s<0};rt.isPositive=rt.ispos=function(){return this.s>0};rt.isZero=function(){return this.s===0};rt.lessThan=rt.lt=function(e){return this.cmp(e)<0};rt.lessThanOrEqualTo=rt.lte=function(e){return this.cmp(e)<1};rt.logarithm=rt.log=function(e){var t,n=this,s=n.constructor,i=s.precision,a=i+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(vi))throw Error(Zi+"NaN");if(n.s<1)throw Error(Zi+(n.s?"NaN":"-Infinity"));return n.eq(vi)?new s(0):(Kn=!1,t=Jo(Ag(n,a),Ag(e,a),a),Kn=!0,En(t,i))};rt.minus=rt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?j7(t,e):x7(t,(e.s=-e.s,e))};rt.modulo=rt.mod=function(e){var t,n=this,s=n.constructor,i=s.precision;if(e=new s(e),!e.s)throw Error(Zi+"NaN");return n.s?(Kn=!1,t=Jo(n,e,0,1).times(e),Kn=!0,n.minus(t)):En(new s(n),i)};rt.naturalExponential=rt.exp=function(){return y7(this)};rt.naturalLogarithm=rt.ln=function(){return Ag(this)};rt.negated=rt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};rt.plus=rt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?x7(t,e):j7(t,(e.s=-e.s,e))};rt.precision=rt.sd=function(e){var t,n,s,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Iu+e);if(t=wr(i)+1,s=i.d.length-1,n=s*zn+1,s=i.d[s],s){for(;s%10==0;s/=10)n--;for(s=i.d[0];s>=10;s/=10)n++}return e&&t>n?t:n};rt.squareRoot=rt.sqrt=function(){var e,t,n,s,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Zi+"NaN")}for(e=wr(l),Kn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=io(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=hm((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=s,s=a.plus(Jo(l,a,o+2)).times(.5),io(a.d).slice(0,o)===(t=io(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(En(a,n+1,0),a.times(a).eq(l)){s=a;break}}else if(t!="9999")break;o+=4}return Kn=!0,En(s,n)};rt.times=rt.mul=function(e){var t,n,s,i,a,o,l,c,u,d=this,f=d.constructor,m=d.d,g=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=m.length,u=g.length,c<u&&(a=m,m=g,g=a,o=c,c=u,u=o),a=[],o=c+u,s=o;s--;)a.push(0);for(s=u;--s>=0;){for(t=0,i=c+s;i>s;)l=a[i]+g[s]*m[i-s-1]+t,a[i--]=l%Br|0,t=l/Br|0;a[i]=(a[i]+t)%Br|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Kn?En(e,f.precision):e};rt.toDecimalPlaces=rt.todp=function(e,t){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(xo(e,0,dm),t===void 0?t=s.rounding:xo(t,0,8),En(n,e+wr(n)+1,t))};rt.toExponential=function(e,t){var n,s=this,i=s.constructor;return e===void 0?n=ed(s,!0):(xo(e,0,dm),t===void 0?t=i.rounding:xo(t,0,8),s=En(new i(s),e+1,t),n=ed(s,!0,e+1)),n};rt.toFixed=function(e,t){var n,s,i=this,a=i.constructor;return e===void 0?ed(i):(xo(e,0,dm),t===void 0?t=a.rounding:xo(t,0,8),s=En(new a(i),e+wr(i)+1,t),n=ed(s.abs(),!1,e+wr(s)+1),i.isneg()&&!i.isZero()?"-"+n:n)};rt.toInteger=rt.toint=function(){var e=this,t=e.constructor;return En(new t(e),wr(e)+1,t.rounding)};rt.toNumber=function(){return+this};rt.toPower=rt.pow=function(e){var t,n,s,i,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(vi);if(l=new c(l),!l.s){if(e.s<1)throw Error(Zi+"Infinity");return l}if(l.eq(vi))return l;if(s=c.precision,e.eq(vi))return En(l,s);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=d<0?-d:d)<=v7){for(i=new c(vi),t=Math.ceil(s/zn+4),Kn=!1;n%2&&(i=i.times(l),Y$(i.d,t)),n=hm(n/2),n!==0;)l=l.times(l),Y$(l.d,t);return Kn=!0,e.s<0?new c(vi).div(i):En(i,s)}}else if(a<0)throw Error(Zi+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Kn=!1,i=e.times(Ag(l,s+u)),Kn=!0,i=y7(i),i.s=a,i};rt.toPrecision=function(e,t){var n,s,i=this,a=i.constructor;return e===void 0?(n=wr(i),s=ed(i,n<=a.toExpNeg||n>=a.toExpPos)):(xo(e,1,dm),t===void 0?t=a.rounding:xo(t,0,8),i=En(new a(i),e,t),n=wr(i),s=ed(i,e<=n||n<=a.toExpNeg,e)),s};rt.toSignificantDigits=rt.tosd=function(e,t){var n=this,s=n.constructor;return e===void 0?(e=s.precision,t=s.rounding):(xo(e,1,dm),t===void 0?t=s.rounding:xo(t,0,8)),En(new s(n),e,t)};rt.toString=rt.valueOf=rt.val=rt.toJSON=rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wr(e),n=e.constructor;return ed(e,t<=n.toExpNeg||t>=n.toExpPos)};function x7(e,t){var n,s,i,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Kn?En(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(s=c,a=-a,l=u.length):(s=u,i=o,l=c.length),o=Math.ceil(f/zn),l=o>l?o+1:l+1,a>l&&(a=l,s.length=1),s.reverse();a--;)s.push(0);s.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,s=u,u=c,c=s),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/Br|0,c[a]%=Br;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Kn?En(t,f):t}function xo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Iu+e)}function io(e){var t,n,s,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)s=e[t]+"",n=zn-s.length,n&&(a+=zl(n)),a+=s;o=e[t],s=o+"",n=zn-s.length,n&&(a+=zl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Jo=function(){function e(s,i){var a,o=0,l=s.length;for(s=s.slice();l--;)a=s[l]*i+o,s[l]=a%Br|0,o=a/Br|0;return o&&s.unshift(o),s}function t(s,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(s[l]!=i[l]){c=s[l]>i[l]?1:-1;break}return c}function n(s,i,a){for(var o=0;a--;)s[a]-=o,o=s[a]<i[a]?1:0,s[a]=o*Br+s[a]-i[a];for(;!s[0]&&s.length>1;)s.shift()}return function(s,i,a,o){var l,c,u,d,f,m,g,x,v,y,N,j,b,_,C,A,P,E,M=s.constructor,$=s.s==i.s?1:-1,T=s.d,O=i.d;if(!s.s)return new M(s);if(!i.s)throw Error(Zi+"Division by zero");for(c=s.e-i.e,P=O.length,C=T.length,g=new M($),x=g.d=[],u=0;O[u]==(T[u]||0);)++u;if(O[u]>(T[u]||0)&&--c,a==null?j=a=M.precision:o?j=a+(wr(s)-wr(i))+1:j=a,j<0)return new M(0);if(j=j/zn+2|0,u=0,P==1)for(d=0,O=O[0],j++;(u<C||d)&&j--;u++)b=d*Br+(T[u]||0),x[u]=b/O|0,d=b%O|0;else{for(d=Br/(O[0]+1)|0,d>1&&(O=e(O,d),T=e(T,d),P=O.length,C=T.length),_=P,v=T.slice(0,P),y=v.length;y<P;)v[y++]=0;E=O.slice(),E.unshift(0),A=O[0],O[1]>=Br/2&&++A;do d=0,l=t(O,v,P,y),l<0?(N=v[0],P!=y&&(N=N*Br+(v[1]||0)),d=N/A|0,d>1?(d>=Br&&(d=Br-1),f=e(O,d),m=f.length,y=v.length,l=t(f,v,m,y),l==1&&(d--,n(f,P<m?E:O,m))):(d==0&&(l=d=1),f=O.slice()),m=f.length,m<y&&f.unshift(0),n(v,f,y),l==-1&&(y=v.length,l=t(O,v,P,y),l<1&&(d++,n(v,P<y?E:O,y))),y=v.length):l===0&&(d++,v=[0]),x[u++]=d,l&&v[0]?v[y++]=T[_]||0:(v=[T[_]],y=1);while((_++<C||v[0]!==void 0)&&j--)}return x[0]||x.shift(),g.e=c,En(g,o?a+wr(g)+1:a)}}();function y7(e,t){var n,s,i,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(wr(e)>16)throw Error(Sk+wr(e));if(!e.s)return new d(vi);for(t==null?(Kn=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s=Math.log(uu(2,u))/Math.LN10*2+5|0,l+=s,n=i=a=new d(vi),d.precision=l;;){if(i=En(i.times(e),l),n=n.times(++c),o=a.plus(Jo(i,n,l)),io(o.d).slice(0,l)===io(a.d).slice(0,l)){for(;u--;)a=En(a.times(a),l);return d.precision=f,t==null?(Kn=!0,En(a,f)):a}a=o}}function wr(e){for(var t=e.e*zn,n=e.d[0];n>=10;n/=10)t++;return t}function LS(e,t,n){if(t>e.LN10.sd())throw Kn=!0,n&&(e.precision=n),Error(Zi+"LN10 precision limit exceeded");return En(new e(e.LN10),t)}function zl(e){for(var t="";e--;)t+="0";return t}function Ag(e,t){var n,s,i,a,o,l,c,u,d,f=1,m=10,g=e,x=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(Zi+(g.s?"NaN":"-Infinity"));if(g.eq(vi))return new v(0);if(t==null?(Kn=!1,u=y):u=t,g.eq(10))return t==null&&(Kn=!0),LS(v,u);if(u+=m,v.precision=u,n=io(x),s=n.charAt(0),a=wr(g),Math.abs(a)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)g=g.times(e),n=io(g.d),s=n.charAt(0),f++;a=wr(g),s>1?(g=new v("0."+n),a++):g=new v(s+"."+n.slice(1))}else return c=LS(v,u+2,y).times(a+""),g=Ag(new v(s+"."+n.slice(1)),u-m).plus(c),v.precision=y,t==null?(Kn=!0,En(g,y)):g;for(l=o=g=Jo(g.minus(vi),g.plus(vi),u),d=En(g.times(g),u),i=3;;){if(o=En(o.times(d),u),c=l.plus(Jo(o,new v(i),u)),io(c.d).slice(0,u)===io(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(LS(v,u+2,y).times(a+""))),l=Jo(l,new v(f),u),v.precision=y,t==null?(Kn=!0,En(l,y)):l;l=c,i+=2}}function K$(e,t){var n,s,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(n<0&&(n=s),n+=+t.slice(s+1),t=t.substring(0,s)):n<0&&(n=t.length),s=0;t.charCodeAt(s)===48;)++s;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(s,i),t){if(i-=s,n=n-s-1,e.e=hm(n/zn),e.d=[],s=(n+1)%zn,n<0&&(s+=zn),s<i){for(s&&e.d.push(+t.slice(0,s)),i-=zn;s<i;)e.d.push(+t.slice(s,s+=zn));t=t.slice(s),s=zn-t.length}else s-=i;for(;s--;)t+="0";if(e.d.push(+t),Kn&&(e.e>uj||e.e<-uj))throw Error(Sk+n)}else e.s=0,e.e=0,e.d=[0];return e}function En(e,t,n){var s,i,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(s=t-o,s<0)s+=zn,i=t,u=f[d=0];else{if(d=Math.ceil((s+1)/zn),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;s%=zn,i=s-zn+o}if(n!==void 0&&(a=uu(10,o-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(s>0?i>0?u/uu(10,o-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=wr(e),f.length=1,t=t-a-1,f[0]=uu(10,(zn-t%zn)%zn),e.e=hm(-t/zn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=d,a=1,d--):(f.length=d+1,a=uu(10,zn-s),f[d]=i>0?(u/uu(10,o-i)%uu(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Br&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Br)break;f[d--]=0,a=1}for(s=f.length;f[--s]===0;)f.pop();if(Kn&&(e.e>uj||e.e<-uj))throw Error(Sk+wr(e));return e}function j7(e,t){var n,s,i,a,o,l,c,u,d,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Kn?En(t,g):t;if(c=e.d,f=t.d,s=t.e,u=e.e,c=c.slice(),o=u-s,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,s=u,l=c.length),i=Math.max(Math.ceil(g/zn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Br-1;--c[a],c[i]+=Br}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,Kn?En(t,g):t):new m(0)}function ed(e,t,n){var s,i=wr(e),a=io(e.d),o=a.length;return t?(n&&(s=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+zl(s):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+zl(-i-1)+a,n&&(s=n-o)>0&&(a+=zl(s))):i>=o?(a+=zl(i+1-o),n&&(s=n-i-1)>0&&(a=a+"."+zl(s))):((s=i+1)<o&&(a=a.slice(0,s)+"."+a.slice(s)),n&&(s=n-o)>0&&(i+1===o&&(a+="."),a+=zl(s))),e.s<0?"-"+a:a}function Y$(e,t){if(e.length>t)return e.length=t,!0}function b7(e){var t,n,s;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Iu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return K$(o,a.toString())}else if(typeof a!="string")throw Error(Iu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,pke.test(a))K$(o,a);else throw Error(Iu+a)}if(i.prototype=rt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=b7,i.config=i.set=gke,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(n=s[t++])||(e[n]=this[n]);return i.config(e),i}function gke(e){if(!e||typeof e!="object")throw Error(Zi+"Object expected");var t,n,s,i=["precision",1,dm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((s=e[n=i[t]])!==void 0)if(hm(s)===s&&s>=i[t+1]&&s<=i[t+2])this[n]=s;else throw Error(Iu+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(Iu+n+": "+s);return this}var Ck=b7(mke);vi=new Ck(1);const Cn=Ck;function vke(e){return bke(e)||jke(e)||yke(e)||xke()}function xke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yke(e,t){if(e){if(typeof e=="string")return C_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C_(e,t)}}function jke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function bke(e){if(Array.isArray(e))return C_(e)}function C_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var wke=function(t){return t},w7={"@@functional/placeholder":!0},N7=function(t){return t===w7},Q$=function(t){return function n(){return arguments.length===0||arguments.length===1&&N7(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Nke=function e(t,n){return t===1?n:Q$(function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==w7}).length;return o>=t?n.apply(void 0,i):e(t-o,Q$(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return N7(f)?c.shift():f});return n.apply(void 0,vke(d).concat(c))}))})},yw=function(t){return Nke(t.length,t)},__=function(t,n){for(var s=[],i=t;i<n;++i)s[i-t]=i;return s},Ske=yw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Cke=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(!n.length)return wke;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},P_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},S7=function(t){var n=null,s=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,s=t.apply(void 0,a)),s}};function _ke(e){var t;return e===0?t=1:t=Math.floor(new Cn(e).abs().log(10).toNumber())+1,t}function Pke(e,t,n){for(var s=new Cn(e),i=0,a=[];s.lt(t)&&i<1e5;)a.push(s.toNumber()),s=s.add(n),i++;return a}var Ake=yw(function(e,t,n){var s=+e,i=+t;return s+n*(i-s)}),Eke=yw(function(e,t,n){var s=t-+e;return s=s||1/0,(n-e)/s}),kke=yw(function(e,t,n){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});const jw={rangeStep:Pke,getDigitCount:_ke,interpolateNumber:Ake,uninterpolateNumber:Eke,uninterpolateTruncation:kke};function A_(e){return Dke(e)||Oke(e)||C7(e)||Tke()}function Tke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Dke(e){if(Array.isArray(e))return E_(e)}function Eg(e,t){return $ke(e)||Ike(e,t)||C7(e,t)||Mke()}function Mke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C7(e,t){if(e){if(typeof e=="string")return E_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E_(e,t)}}function E_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Ike(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],s=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));s=!0);}catch(c){i=!0,a=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function $ke(e){if(Array.isArray(e))return e}function _7(e){var t=Eg(e,2),n=t[0],s=t[1],i=n,a=s;return n>s&&(i=s,a=n),[i,a]}function P7(e,t,n){if(e.lte(0))return new Cn(0);var s=jw.getDigitCount(e.toNumber()),i=new Cn(10).pow(s),a=e.div(i),o=s!==1?.05:.1,l=new Cn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return t?c:new Cn(Math.ceil(c))}function Rke(e,t,n){var s=1,i=new Cn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(s=new Cn(10).pow(jw.getDigitCount(e)-1),i=new Cn(Math.floor(i.div(s).toNumber())).mul(s)):a>1&&(i=new Cn(Math.floor(e)))}else e===0?i=new Cn(Math.floor((t-1)/2)):n||(i=new Cn(Math.floor(e)));var o=Math.floor((t-1)/2),l=Cke(Ske(function(c){return i.add(new Cn(c-o).mul(s)).toNumber()}),__);return l(0,t)}function A7(e,t,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Cn(0),tickMin:new Cn(0),tickMax:new Cn(0)};var a=P7(new Cn(t).sub(e).div(n-1),s,i),o;e<=0&&t>=0?o=new Cn(0):(o=new Cn(e).add(t).div(2),o=o.sub(new Cn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Cn(t).sub(o).div(a).toNumber()),u=l+c+1;return u>n?A7(e,t,n,s,i+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:o.sub(new Cn(l).mul(a)),tickMax:o.add(new Cn(c).mul(a))})}function Lke(e){var t=Eg(e,2),n=t[0],s=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=_7([n,s]),c=Eg(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(A_(__(0,i-1).map(function(){return 1/0}))):[].concat(A_(__(0,i-1).map(function(){return-1/0})),[d]);return n>s?P_(f):f}if(u===d)return Rke(u,i,a);var m=A7(u,d,o,a),g=m.step,x=m.tickMin,v=m.tickMax,y=jw.rangeStep(x,v.add(new Cn(.1).mul(g)),g);return n>s?P_(y):y}function Fke(e,t){var n=Eg(e,2),s=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=_7([s,i]),l=Eg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[s,i];if(c===u)return[c];var d=Math.max(t,2),f=P7(new Cn(u).sub(c).div(d-1),a,0),m=[].concat(A_(jw.rangeStep(new Cn(c),new Cn(u).sub(new Cn(.99).mul(f)),f)),[u]);return s>i?P_(m):m}var Bke=S7(Lke),zke=S7(Fke),Vke="Invariant failed";function td(e,t){throw new Error(Vke)}var Uke=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function dj(){return dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dj.apply(this,arguments)}function qke(e,t){return Kke(e)||Gke(e,t)||Hke(e,t)||Wke()}function Wke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hke(e,t){if(e){if(typeof e=="string")return X$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X$(e,t)}}function X$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Gke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Kke(e){if(Array.isArray(e))return e}function Yke(e,t){if(e==null)return{};var n=Qke(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Qke(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Xke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jke(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,T7(s.key),s)}}function Zke(e,t,n){return t&&Jke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eTe(e,t,n){return t=hj(t),tTe(e,E7()?Reflect.construct(t,n||[],hj(e).constructor):t.apply(e,n))}function tTe(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nTe(e)}function nTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E7=function(){return!!e})()}function hj(e){return hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hj(e)}function rTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k_(e,t)}function k_(e,t){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},k_(e,t)}function k7(e,t,n){return t=T7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T7(e){var t=sTe(e,"string");return xf(t)=="symbol"?t:t+""}function sTe(e,t){if(xf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(xf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tv=function(e){function t(){return Xke(this,t),eTe(this,t,arguments)}return rTe(t,e),Zke(t,[{key:"render",value:function(){var s=this.props,i=s.offset,a=s.layout,o=s.width,l=s.dataKey,c=s.data,u=s.dataPointFormatter,d=s.xAxis,f=s.yAxis,m=Yke(s,Uke),g=ct(m,!1);this.props.direction==="x"&&d.type!=="number"&&td();var x=c.map(function(v){var y=u(v,l),N=y.x,j=y.y,b=y.value,_=y.errorVal;if(!_)return null;var C=[],A,P;if(Array.isArray(_)){var E=qke(_,2);A=E[0],P=E[1]}else A=P=_;if(a==="vertical"){var M=d.scale,$=j+i,T=$+o,O=$-o,L=M(b-A),z=M(b+P);C.push({x1:z,y1:T,x2:z,y2:O}),C.push({x1:L,y1:$,x2:z,y2:$}),C.push({x1:L,y1:T,x2:L,y2:O})}else if(a==="horizontal"){var J=f.scale,H=N+i,oe=H-o,Q=H+o,D=J(b-A),ae=J(b+P);C.push({x1:oe,y1:ae,x2:Q,y2:ae}),C.push({x1:H,y1:D,x2:H,y2:ae}),C.push({x1:oe,y1:D,x2:Q,y2:D})}return q.createElement(Yt,dj({className:"recharts-errorBar",key:"bar-".concat(C.map(function(pe){return"".concat(pe.x1,"-").concat(pe.x2,"-").concat(pe.y1,"-").concat(pe.y2)}))},g),C.map(function(pe){return q.createElement("line",dj({},pe,{key:"line-".concat(pe.x1,"-").concat(pe.x2,"-").concat(pe.y1,"-").concat(pe.y2)}))}))});return q.createElement(Yt,{className:"recharts-errorBars"},x)}}])}(q.Component);k7(Tv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});k7(Tv,"displayName","ErrorBar");function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function J$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J$(Object(n),!0).forEach(function(s){iTe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function iTe(e,t,n){return t=aTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aTe(e){var t=oTe(e,"string");return kg(t)=="symbol"?t:t+""}function oTe(e,t){if(kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(kg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O7=function(t){var n=t.children,s=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=mi(n,Oh);if(!o)return null;var l=Oh.defaultProps,c=l!==void 0?tu(tu({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(s||[]).reduce(function(d,f){var m=f.item,g=f.props,x=g.sectors||g.data||[];return d.concat(x.map(function(v){return{type:o.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(s||[]).map(function(d){var f=d.item,m=f.type.defaultProps,g=m!==void 0?tu(tu({},m),f.props):{},x=g.dataKey,v=g.name,y=g.legendType,N=g.hide;return{inactive:N,dataKey:x,type:c.iconType||y||"square",color:_k(f),value:v||x,payload:g}}),tu(tu(tu({},c),Oh.getWithHeight(o,i)),{},{payload:u,item:o})};function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function Z$(e){return dTe(e)||uTe(e)||cTe(e)||lTe()}function lTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cTe(e,t){if(e){if(typeof e=="string")return T_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(e,t)}}function uTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dTe(e){if(Array.isArray(e))return T_(e)}function T_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(s){Mh(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Mh(e,t,n){return t=hTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hTe(e){var t=fTe(e,"string");return Tg(t)=="symbol"?t:t+""}function fTe(e,t){if(Tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Tg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gr(e,t,n){return At(e)||At(t)?n:Mr(t)?wi(e,t,n):yt(t)?t(e):n}function Mp(e,t,n,s){var i=uke(e,function(l){return gr(l,t)});if(n==="number"){var a=i.filter(function(l){return Ve(l)||parseFloat(l)});return a.length?[xw(a),ic(a)]:[1/0,-1/0]}var o=s?i.filter(function(l){return!At(l)}):i;return o.map(function(l){return Mr(l)||l instanceof Date?l:""})}var mTe=function(t){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s==null?void 0:s.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,m=u>=l-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Es(f-d)!==Es(m-f)){var x=[];if(Es(m-f)===Es(c[1]-c[0])){g=m;var v=f+c[1]-c[0];x[0]=Math.min(v,(v+d)/2),x[1]=Math.max(v,(v+d)/2)}else{g=d;var y=m+c[1]-c[0];x[0]=Math.min(f,(y+f)/2),x[1]=Math.max(f,(y+f)/2)}var N=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>N[0]&&t<=N[1]||t>=x[0]&&t<=x[1]){o=i[u].index;break}}else{var j=Math.min(d,m),b=Math.max(d,m);if(t>(j+f)/2&&t<=(b+f)/2){o=i[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(s[_].coordinate+s[_+1].coordinate)/2||_>0&&_<l-1&&t>(s[_].coordinate+s[_-1].coordinate)/2&&t<=(s[_].coordinate+s[_+1].coordinate)/2||_===l-1&&t>(s[_].coordinate+s[_-1].coordinate)/2){o=s[_].index;break}return o},_k=function(t){var n,s=t,i=s.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},pTe=function(t){var n=t.barSize,s=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),m=0,g=f.length;m<g;m++){var x=d[f[m]],v=x.items,y=x.cateAxisId,N=v.filter(function(P){return Xo(P.type).indexOf("Bar")>=0});if(N&&N.length){var j=N[0].type.defaultProps,b=j!==void 0?lr(lr({},j),N[0].props):N[0].props,_=b.barSize,C=b[y];o[C]||(o[C]=[]);var A=At(_)?n:_;o[C].push({item:N[0],stackList:N.slice(1),barSize:At(A)?void 0:ks(A,s,0)})}}return o},gTe=function(t){var n=t.barGap,s=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=ks(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,g=i/c,x=o.reduce(function(_,C){return _+C.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&g>0&&(m=!0,g*=.9,x=c*g);var v=(i-x)/2>>0,y={offset:v-u,size:0};d=o.reduce(function(_,C){var A={item:C.item,position:{offset:y.offset+y.size+u,size:m?g:C.barSize}},P=[].concat(Z$(_),[A]);return y=P[P.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){P.push({item:E,position:y})}),P},f)}else{var N=ks(s,i,0,!0);i-2*N-(c-1)*u<=0&&(u=0);var j=(i-2*N-(c-1)*u)/c;j>1&&(j>>=0);var b=l===+l?Math.min(j,l):j;d=o.reduce(function(_,C,A){var P=[].concat(Z$(_),[{item:C.item,position:{offset:N+(j+u)*A+(j-b)/2,size:b}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){P.push({item:E,position:P[P.length-1].position})}),P},f)}return d},vTe=function(t,n,s,i){var a=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),u=O7({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,m=d.height,g=u.align,x=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&g!=="center"&&Ve(t[g]))return lr(lr({},t),{},Mh({},g,t[g]+(f||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&x!=="middle"&&Ve(t[x]))return lr(lr({},t),{},Mh({},x,t[x]+(m||0)))}return t},xTe=function(t,n,s){return At(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},D7=function(t,n,s,i,a){var o=n.props.children,l=Ni(o,Tv).filter(function(u){return xTe(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=gr(d,s);if(At(f))return u;var m=Array.isArray(f)?[xw(f),ic(f)]:[f,f],g=c.reduce(function(x,v){var y=gr(d,v,0),N=m[0]-Math.abs(Array.isArray(y)?y[0]:y),j=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(N,x[0]),Math.max(j,x[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},yTe=function(t,n,s,i,a){var o=n.map(function(l){return D7(t,l,s,a,i)}).filter(function(l){return!At(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},M7=function(t,n,s,i,a){var o=n.map(function(c){var u=c.props.dataKey;return s==="number"&&u&&D7(t,c,u,i)||Mp(t,u,s,a)});if(s==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},I7=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},$7=function(t,n,s,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===s&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(s),l},Yo=function(t,n,s){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||s)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Es(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=a?a.indexOf(f):f;return{coordinate:i(m)+u,value:f,offset:u}});return d.filter(function(f){return!im(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:i(f)+u,value:f,index:m,offset:u}}):i.ticks&&!s?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,m){return{coordinate:i(f)+u,value:a?a[f]:f,index:m,offset:u}})},FS=new WeakMap,Ny=function(t,n){if(typeof n!="function")return t;FS.has(t)||FS.set(t,new WeakMap);var s=FS.get(t);if(s.has(n))return s.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,i),i},R7=function(t,n,s){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ng(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:aj(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:Dp(),realScaleType:"point"}:a==="category"?{scale:Ng(),realScaleType:"band"}:{scale:aj(),realScaleType:"linear"};if(Qu(i)){var c="scale".concat(sw(i));return{scale:(G$[c]||Dp)(),realScaleType:G$[c]?c:"point"}}return yt(i)?{scale:i}:{scale:Dp(),realScaleType:"point"}},tR=1e-4,L7=function(t){var n=t.domain();if(!(!n||n.length<=2)){var s=n.length,i=t.range(),a=Math.min(i[0],i[1])-tR,o=Math.max(i[0],i[1])+tR,l=t(n[0]),c=t(n[s-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[s-1]])}},jTe=function(t,n){if(!t)return null;for(var s=0,i=t.length;s<i;s++)if(t[s].item===n)return t[s].position;return null},bTe=function(t,n){if(!n||n.length!==2||!Ve(n[0])||!Ve(n[1]))return t;var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!Ve(t[0])||t[0]<s)&&(a[0]=s),(!Ve(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<s&&(a[1]=s),a},wTe=function(t){var n=t.length;if(!(n<=0))for(var s=0,i=t[0].length;s<i;++s)for(var a=0,o=0,l=0;l<n;++l){var c=im(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=a,t[l][s][1]=a+c,a=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},NTe=function(t){var n=t.length;if(!(n<=0))for(var s=0,i=t[0].length;s<i;++s)for(var a=0,o=0;o<n;++o){var l=im(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=a,t[o][s][1]=a+l,a=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},STe={sign:wTe,expand:U0e,none:uf,silhouette:q0e,wiggle:W0e,positive:NTe},CTe=function(t,n,s){var i=n.map(function(l){return l.props.dataKey}),a=STe[s],o=V0e().keys(i).value(function(l,c){return+gr(l,c,0)}).order(n_).offset(a);return o(t)},_Te=function(t,n,s,i,a,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,m){var g,x=(g=m.type)!==null&&g!==void 0&&g.defaultProps?lr(lr({},m.type.defaultProps),m.props):m.props,v=x.stackId,y=x.hide;if(y)return f;var N=x[s],j=f[N]||{hasStack:!1,stackGroups:{}};if(Mr(v)){var b=j.stackGroups[v]||{numericAxisId:s,cateAxisId:i,items:[]};b.items.push(m),j.hasStack=!0,j.stackGroups[v]=b}else j.stackGroups[md("_stackId_")]={numericAxisId:s,cateAxisId:i,items:[m]};return lr(lr({},f),{},Mh({},N,j))},c),d={};return Object.keys(u).reduce(function(f,m){var g=u[m];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,y){var N=g.stackGroups[y];return lr(lr({},v),{},Mh({},y,{numericAxisId:s,cateAxisId:i,items:N.items,stackedData:CTe(t,N.items,a)}))},x)}return lr(lr({},f),{},Mh({},m,g))},d)},F7=function(t,n){var s=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=s||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Bke(u,a,l);return t.domain([xw(d),ic(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),m=zke(f,a,l);return{niceTicks:m}}return null};function fj(e){var t=e.axis,n=e.ticks,s=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!At(i[t.dataKey])){var l=F0(n,"value",i[t.dataKey]);if(l)return l.coordinate+s/2}return n[a]?n[a].coordinate+s/2:null}var c=gr(i,At(o)?t.dataKey:o);return At(c)?null:t.scale(c)}var nR=function(t){var n=t.axis,s=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return s[l]?s[l].coordinate+i:null;var c=gr(o,n.dataKey,n.domain[l]);return At(c)?null:n.scale(c)-a/2+i},PTe=function(t){var n=t.numericAxis,s=n.scale.domain();if(n.type==="number"){var i=Math.min(s[0],s[1]),a=Math.max(s[0],s[1]);return i<=0&&a>=0?0:a<0?a:i}return s[0]},ATe=function(t,n){var s,i=(s=t.type)!==null&&s!==void 0&&s.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Mr(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},ETe=function(t){return t.reduce(function(n,s){return[xw(s.concat([n[0]]).filter(Ve)),ic(s.concat([n[1]]).filter(Ve))]},[1/0,-1/0])},B7=function(t,n,s){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=ETe(d.slice(n,s+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},rR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,O_=function(t,n,s){if(yt(t))return t(n,s);if(!Array.isArray(t))return n;var i=[];if(Ve(t[0]))i[0]=s?t[0]:Math.min(t[0],n[0]);else if(rR.test(t[0])){var a=+rR.exec(t[0])[1];i[0]=n[0]-a}else yt(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Ve(t[1]))i[1]=s?t[1]:Math.max(t[1],n[1]);else if(sR.test(t[1])){var o=+sR.exec(t[1])[1];i[1]=n[1]+o}else yt(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},mj=function(t,n,s){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!s||i>0)return i}if(t&&n&&n.length>=2){for(var a=ek(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},iR=function(t,n,s){return!t||!t.length||Zu(t,wi(s,"type.defaultProps.domain"))?n:t},z7=function(t,n){var s=t.type.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,i=s.dataKey,a=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,u=s.chartType,d=s.hide;return lr(lr({},ct(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:_k(t),value:gr(n,i),type:c,payload:n,chartType:u,hide:d})};function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Fo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(n),!0).forEach(function(s){V7(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function V7(e,t,n){return t=kTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kTe(e){var t=TTe(e,"string");return Og(t)=="symbol"?t:t+""}function TTe(e,t){if(Og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Og(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OTe(e,t){return $Te(e)||ITe(e,t)||MTe(e,t)||DTe()}function DTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MTe(e,t){if(e){if(typeof e=="string")return oR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oR(e,t)}}function oR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ITe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function $Te(e){if(Array.isArray(e))return e}var pj=Math.PI/180,RTe=function(t){return t*180/Math.PI},In=function(t,n,s,i){return{x:t+Math.cos(-pj*i)*s,y:n+Math.sin(-pj*i)*s}},U7=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},LTe=function(t,n,s,i,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=ks(t.cx,o,o/2),f=ks(t.cy,l,l/2),m=U7(o,l,s),g=ks(t.innerRadius,m,0),x=ks(t.outerRadius,m,m*.8),v=Object.keys(n);return v.reduce(function(y,N){var j=n[N],b=j.domain,_=j.reversed,C;if(At(j.range))i==="angleAxis"?C=[c,u]:i==="radiusAxis"&&(C=[g,x]),_&&(C=[C[1],C[0]]);else{C=j.range;var A=C,P=OTe(A,2);c=P[0],u=P[1]}var E=R7(j,a),M=E.realScaleType,$=E.scale;$.domain(b).range(C),L7($);var T=F7($,Fo(Fo({},j),{},{realScaleType:M})),O=Fo(Fo(Fo({},j),T),{},{range:C,radius:x,realScaleType:M,scale:$,cx:d,cy:f,innerRadius:g,outerRadius:x,startAngle:c,endAngle:u});return Fo(Fo({},y),{},V7({},N,O))},{})},FTe=function(t,n){var s=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(s-a,2)+Math.pow(i-o,2))},BTe=function(t,n){var s=t.x,i=t.y,a=n.cx,o=n.cy,l=FTe({x:s,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(s-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:RTe(u),angleInRadian:u}},zTe=function(t){var n=t.startAngle,s=t.endAngle,i=Math.floor(n/360),a=Math.floor(s/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:s-o*360}},VTe=function(t,n){var s=n.startAngle,i=n.endAngle,a=Math.floor(s/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},lR=function(t,n){var s=t.x,i=t.y,a=BTe({x:s,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=zTe(n),f=d.startAngle,m=d.endAngle,g=l,x;if(f<=m){for(;g>m;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=m}else{for(;g>f;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=f}return x?Fo(Fo({},n),{},{radius:o,angle:VTe(g,n)}):null},q7=function(t){return!w.isValidElement(t)&&!yt(t)&&typeof t!="boolean"?t.className:""};function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}var UTe=["offset"];function qTe(e){return KTe(e)||GTe(e)||HTe(e)||WTe()}function WTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HTe(e,t){if(e){if(typeof e=="string")return D_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D_(e,t)}}function GTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KTe(e){if(Array.isArray(e))return D_(e)}function D_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function YTe(e,t){if(e==null)return{};var n=QTe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function QTe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function cR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(n),!0).forEach(function(s){XTe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function XTe(e,t,n){return t=JTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JTe(e){var t=ZTe(e,"string");return Dg(t)=="symbol"?t:t+""}function ZTe(e,t){if(Dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Dg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Mg.apply(this,arguments)}var eOe=function(t){var n=t.value,s=t.formatter,i=At(t.children)?n:t.children;return yt(s)?s(i):i},tOe=function(t,n){var s=Es(n-t),i=Math.min(Math.abs(n-t),360);return s*i},nOe=function(t,n,s){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,g=c.startAngle,x=c.endAngle,v=c.clockWise,y=(f+m)/2,N=tOe(g,x),j=N>=0?1:-1,b,_;i==="insideStart"?(b=g+j*o,_=v):i==="insideEnd"?(b=x-j*o,_=!v):i==="end"&&(b=x+j*o,_=v),_=N<=0?_:!_;var C=In(u,d,y,b),A=In(u,d,y,b+(_?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(A.x,",").concat(A.y),E=At(t.id)?md("recharts-radial-line-"):t.id;return q.createElement("text",Mg({},s,{dominantBaseline:"central",className:Et("recharts-radial-bar-label",l)}),q.createElement("defs",null,q.createElement("path",{id:E,d:P})),q.createElement("textPath",{xlinkHref:"#".concat(E)},n))},rOe=function(t){var n=t.viewBox,s=t.offset,i=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,m=(d+f)/2;if(i==="outside"){var g=In(o,l,u+s,m),x=g.x,v=g.y;return{x,y:v,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,N=In(o,l,y,m),j=N.x,b=N.y;return{x:j,y:b,textAnchor:"middle",verticalAnchor:"middle"}},sOe=function(t){var n=t.viewBox,s=t.parentViewBox,i=t.offset,a=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*i,g=f>0?"end":"start",x=f>0?"start":"end",v=u>=0?1:-1,y=v*i,N=v>0?"end":"start",j=v>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:g};return Pr(Pr({},b),s?{height:Math.max(c-s.y,0),width:u}:{})}if(a==="bottom"){var _={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:x};return Pr(Pr({},_),s?{height:Math.max(s.y+s.height-(c+d),0),width:u}:{})}if(a==="left"){var C={x:l-y,y:c+d/2,textAnchor:N,verticalAnchor:"middle"};return Pr(Pr({},C),s?{width:Math.max(C.x-s.x,0),height:d}:{})}if(a==="right"){var A={x:l+u+y,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return Pr(Pr({},A),s?{width:Math.max(s.x+s.width-A.x,0),height:d}:{})}var P=s?{width:u,height:d}:{};return a==="insideLeft"?Pr({x:l+y,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},P):a==="insideRight"?Pr({x:l+u-y,y:c+d/2,textAnchor:N,verticalAnchor:"middle"},P):a==="insideTop"?Pr({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:x},P):a==="insideBottom"?Pr({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:g},P):a==="insideTopLeft"?Pr({x:l+y,y:c+m,textAnchor:j,verticalAnchor:x},P):a==="insideTopRight"?Pr({x:l+u-y,y:c+m,textAnchor:N,verticalAnchor:x},P):a==="insideBottomLeft"?Pr({x:l+y,y:c+d-m,textAnchor:j,verticalAnchor:g},P):a==="insideBottomRight"?Pr({x:l+u-y,y:c+d-m,textAnchor:N,verticalAnchor:g},P):tm(a)&&(Ve(a.x)||xu(a.x))&&(Ve(a.y)||xu(a.y))?Pr({x:l+ks(a.x,u),y:c+ks(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):Pr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},iOe=function(t){return"cx"in t&&Ve(t.cx)};function qr(e){var t=e.offset,n=t===void 0?5:t,s=YTe(e,UTe),i=Pr({offset:n},s),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,m=i.textBreakAll;if(!a||At(l)&&At(c)&&!w.isValidElement(u)&&!yt(u))return null;if(w.isValidElement(u))return w.cloneElement(u,i);var g;if(yt(u)){if(g=w.createElement(u,i),w.isValidElement(g))return g}else g=eOe(i);var x=iOe(a),v=ct(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return nOe(i,g,v);var y=x?rOe(i):sOe(i);return q.createElement(Ju,Mg({className:Et("recharts-label",f)},v,y,{breakAll:m}),g)}qr.displayName="Label";var W7=function(t){var n=t.cx,s=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,g=t.top,x=t.left,v=t.width,y=t.height,N=t.clockWise,j=t.labelViewBox;if(j)return j;if(Ve(v)&&Ve(y)){if(Ve(f)&&Ve(m))return{x:f,y:m,width:v,height:y};if(Ve(g)&&Ve(x))return{x:g,y:x,width:v,height:y}}return Ve(f)&&Ve(m)?{x:f,y:m,width:0,height:0}:Ve(n)&&Ve(s)?{cx:n,cy:s,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:N}:t.viewBox?t.viewBox:{}},aOe=function(t,n){return t?t===!0?q.createElement(qr,{key:"label-implicit",viewBox:n}):Mr(t)?q.createElement(qr,{key:"label-implicit",viewBox:n,value:t}):w.isValidElement(t)?t.type===qr?w.cloneElement(t,{key:"label-implicit",viewBox:n}):q.createElement(qr,{key:"label-implicit",content:t,viewBox:n}):yt(t)?q.createElement(qr,{key:"label-implicit",content:t,viewBox:n}):tm(t)?q.createElement(qr,Mg({viewBox:n},t,{key:"label-implicit"})):null:null},oOe=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var i=t.children,a=W7(t),o=Ni(i,qr).map(function(c,u){return w.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!s)return o;var l=aOe(t.label,n||a);return[l].concat(qTe(o))};qr.parseViewBox=W7;qr.renderCallByParent=oOe;function lOe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var cOe=lOe;const uOe=pn(cOe);function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}var dOe=["valueAccessor"],hOe=["data","dataKey","clockWise","id","textBreakAll"];function fOe(e){return vOe(e)||gOe(e)||pOe(e)||mOe()}function mOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pOe(e,t){if(e){if(typeof e=="string")return M_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M_(e,t)}}function gOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vOe(e){if(Array.isArray(e))return M_(e)}function M_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function gj(){return gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gj.apply(this,arguments)}function uR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function dR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(n),!0).forEach(function(s){xOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xOe(e,t,n){return t=yOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yOe(e){var t=jOe(e,"string");return Ig(t)=="symbol"?t:t+""}function jOe(e,t){if(Ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ig(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hR(e,t){if(e==null)return{};var n=bOe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function bOe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var wOe=function(t){return Array.isArray(t.value)?uOe(t.value):t.value};function mo(e){var t=e.valueAccessor,n=t===void 0?wOe:t,s=hR(e,dOe),i=s.data,a=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,u=hR(s,hOe);return!i||!i.length?null:q.createElement(Yt,{className:"recharts-label-list"},i.map(function(d,f){var m=At(a)?n(d,f):gr(d&&d.payload,a),g=At(l)?{}:{id:"".concat(l,"-").concat(f)};return q.createElement(qr,gj({},ct(d,!0),u,g,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:qr.parseViewBox(At(o)?d:dR(dR({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}mo.displayName="LabelList";function NOe(e,t){return e?e===!0?q.createElement(mo,{key:"labelList-implicit",data:t}):q.isValidElement(e)||yt(e)?q.createElement(mo,{key:"labelList-implicit",data:t,content:e}):tm(e)?q.createElement(mo,gj({data:t},e,{key:"labelList-implicit"})):null:null}function SOe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,i=Ni(s,mo).map(function(o,l){return w.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=NOe(e.label,t);return[a].concat(fOe(i))}mo.renderCallByParent=SOe;function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},I_.apply(this,arguments)}function fR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function mR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(n),!0).forEach(function(s){COe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function COe(e,t,n){return t=_Oe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Oe(e){var t=POe(e,"string");return $g(t)=="symbol"?t:t+""}function POe(e,t){if($g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if($g(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AOe=function(t,n){var s=Es(n-t),i=Math.min(Math.abs(n-t),359.999);return s*i},Sy=function(t){var n=t.cx,s=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/pj,m=u?a:a+o*f,g=In(n,s,d,m),x=In(n,s,i,m),v=u?a-o*f:a,y=In(n,s,d*Math.cos(f*pj),v);return{center:g,circleTangency:x,lineTangency:y,theta:f}},H7=function(t){var n=t.cx,s=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=AOe(o,l),u=o+c,d=In(n,s,a,o),f=In(n,s,a,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=In(n,s,i,o),x=In(n,s,i,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(n,",").concat(s," Z");return m},EOe=function(t){var n=t.cx,s=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Es(d-u),m=Sy({cx:n,cy:s,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),g=m.circleTangency,x=m.lineTangency,v=m.theta,y=Sy({cx:n,cy:s,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),N=y.circleTangency,j=y.lineTangency,b=y.theta,_=c?Math.abs(u-d):Math.abs(u-d)-v-b;if(_<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):H7({cx:n,cy:s,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var C="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
  `);if(i>0){var A=Sy({cx:n,cy:s,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=A.circleTangency,E=A.lineTangency,M=A.theta,$=Sy({cx:n,cy:s,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=$.circleTangency,O=$.lineTangency,L=$.theta,z=c?Math.abs(u-d):Math.abs(u-d)-M-L;if(z<0&&o===0)return"".concat(C,"L").concat(n,",").concat(s,"Z");C+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else C+="L".concat(n,",").concat(s,"Z");return C},kOe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},G7=function(t){var n=mR(mR({},kOe),t),s=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,m=n.className;if(o<a||d===f)return null;var g=Et("recharts-sector",m),x=o-a,v=ks(l,x,0,!0),y;return v>0&&Math.abs(d-f)<360?y=EOe({cx:s,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=H7({cx:s,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),q.createElement("path",I_({},ct(n,!0),{className:g,d:y,role:"img"}))};function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$_.apply(this,arguments)}function pR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function gR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(n),!0).forEach(function(s){TOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function TOe(e,t,n){return t=OOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OOe(e){var t=DOe(e,"string");return Rg(t)=="symbol"?t:t+""}function DOe(e,t){if(Rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Rg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vR={curveBasisClosed:T0e,curveBasisOpen:O0e,curveBasis:k0e,curveBumpX:g0e,curveBumpY:v0e,curveLinearClosed:D0e,curveLinear:aw,curveMonotoneX:M0e,curveMonotoneY:I0e,curveNatural:$0e,curveStep:R0e,curveStepAfter:F0e,curveStepBefore:L0e},Cy=function(t){return t.x===+t.x&&t.y===+t.y},rp=function(t){return t.x},sp=function(t){return t.y},MOe=function(t,n){if(yt(t))return t;var s="curve".concat(sw(t));return(s==="curveMonotone"||s==="curveBump")&&n?vR["".concat(s).concat(n==="vertical"?"Y":"X")]:vR[s]||aw},IOe=function(t){var n=t.type,s=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=MOe(s,l),f=u?a.filter(function(v){return Cy(v)}):a,m;if(Array.isArray(o)){var g=u?o.filter(function(v){return Cy(v)}):o,x=f.map(function(v,y){return gR(gR({},v),{},{base:g[y]})});return l==="vertical"?m=py().y(sp).x1(rp).x0(function(v){return v.base.x}):m=py().x(rp).y1(sp).y0(function(v){return v.base.y}),m.defined(Cy).curve(d),m(x)}return l==="vertical"&&Ve(o)?m=py().y(sp).x1(rp).x0(o):Ve(o)?m=py().x(rp).y1(sp).y0(o):m=zU().x(rp).y(sp),m.defined(Cy).curve(d),m(f)},$u=function(t){var n=t.className,s=t.points,i=t.path,a=t.pathRef;if((!s||!s.length)&&!i)return null;var o=s&&s.length?IOe(t):i;return w.createElement("path",$_({},ct(t,!1),B0(t),{className:Et("recharts-curve",n),d:o,ref:a}))},K7={exports:{}},$Oe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ROe=$Oe,LOe=ROe;function Y7(){}function Q7(){}Q7.resetWarningCache=Y7;var FOe=function(){function e(s,i,a,o,l,c){if(c!==LOe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Q7,resetWarningCache:Y7};return n.PropTypes=n,n};K7.exports=FOe();var BOe=K7.exports;const fn=pn(BOe);var zOe=Object.getOwnPropertyNames,VOe=Object.getOwnPropertySymbols,UOe=Object.prototype.hasOwnProperty;function xR(e,t){return function(s,i,a){return e(s,i,a)&&t(s,i,a)}}function _y(e){return function(n,s,i){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,i);var a=i.cache,o=a.get(n),l=a.get(s);if(o&&l)return o===s&&l===n;a.set(n,s),a.set(s,n);var c=e(n,s,i);return a.delete(n),a.delete(s),c}}function yR(e){return zOe(e).concat(VOe(e))}var qOe=Object.hasOwn||function(e,t){return UOe.call(e,t)};function vd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var WOe="__v",HOe="__o",GOe="_owner",jR=Object.getOwnPropertyDescriptor,bR=Object.keys;function KOe(e,t,n){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],t[s],s,s,e,t,n))return!1;return!0}function YOe(e,t){return vd(e.getTime(),t.getTime())}function QOe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function XOe(e,t){return e===t}function wR(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var i=new Array(s),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var m=o.value,g=l.value;if(n.equals(m[0],g[0],c,f,e,t,n)&&n.equals(m[1],g[1],m[0],g[0],e,t,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var JOe=vd;function ZOe(e,t,n){var s=bR(e),i=s.length;if(bR(t).length!==i)return!1;for(;i-- >0;)if(!X7(e,t,n,s[i]))return!1;return!0}function ip(e,t,n){var s=yR(e),i=s.length;if(yR(t).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=s[i],!X7(e,t,n,a)||(o=jR(e,a),l=jR(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function eDe(e,t){return vd(e.valueOf(),t.valueOf())}function tDe(e,t){return e.source===t.source&&e.flags===t.flags}function NR(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var i=new Array(s),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function nDe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function rDe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function X7(e,t,n,s){return(s===GOe||s===HOe||s===WOe)&&(e.$$typeof||t.$$typeof)?!0:qOe(t,s)&&n.equals(e[s],t[s],s,s,e,t,n)}var sDe="[object Arguments]",iDe="[object Boolean]",aDe="[object Date]",oDe="[object Error]",lDe="[object Map]",cDe="[object Number]",uDe="[object Object]",dDe="[object RegExp]",hDe="[object Set]",fDe="[object String]",mDe="[object URL]",pDe=Array.isArray,SR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,CR=Object.assign,gDe=Object.prototype.toString.call.bind(Object.prototype.toString);function vDe(e){var t=e.areArraysEqual,n=e.areDatesEqual,s=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(x,v,y){if(x===v)return!0;if(x==null||v==null)return!1;var N=typeof x;if(N!==typeof v)return!1;if(N!=="object")return N==="number"?o(x,v,y):N==="function"?i(x,v,y):!1;var j=x.constructor;if(j!==v.constructor)return!1;if(j===Object)return l(x,v,y);if(pDe(x))return t(x,v,y);if(SR!=null&&SR(x))return f(x,v,y);if(j===Date)return n(x,v,y);if(j===RegExp)return u(x,v,y);if(j===Map)return a(x,v,y);if(j===Set)return d(x,v,y);var b=gDe(x);return b===aDe?n(x,v,y):b===dDe?u(x,v,y):b===lDe?a(x,v,y):b===hDe?d(x,v,y):b===uDe?typeof x.then!="function"&&typeof v.then!="function"&&l(x,v,y):b===mDe?m(x,v,y):b===oDe?s(x,v,y):b===sDe?l(x,v,y):b===iDe||b===cDe||b===fDe?c(x,v,y):!1}}function xDe(e){var t=e.circular,n=e.createCustomConfig,s=e.strict,i={areArraysEqual:s?ip:KOe,areDatesEqual:YOe,areErrorsEqual:QOe,areFunctionsEqual:XOe,areMapsEqual:s?xR(wR,ip):wR,areNumbersEqual:JOe,areObjectsEqual:s?ip:ZOe,arePrimitiveWrappersEqual:eDe,areRegExpsEqual:tDe,areSetsEqual:s?xR(NR,ip):NR,areTypedArraysEqual:s?ip:nDe,areUrlsEqual:rDe};if(n&&(i=CR({},i,n(i))),t){var a=_y(i.areArraysEqual),o=_y(i.areMapsEqual),l=_y(i.areObjectsEqual),c=_y(i.areSetsEqual);i=CR({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function yDe(e){return function(t,n,s,i,a,o,l){return e(t,n,l)}}function jDe(e){var t=e.circular,n=e.comparator,s=e.createState,i=e.equals,a=e.strict;if(s)return function(c,u){var d=s(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,g=d.meta;return n(c,u,{cache:m,equals:i,meta:g,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var bDe=Uc();Uc({strict:!0});Uc({circular:!0});Uc({circular:!0,strict:!0});Uc({createInternalComparator:function(){return vd}});Uc({strict:!0,createInternalComparator:function(){return vd}});Uc({circular:!0,createInternalComparator:function(){return vd}});Uc({circular:!0,createInternalComparator:function(){return vd},strict:!0});function Uc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,s=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,l=xDe(e),c=vDe(l),u=s?s(c):yDe(c);return jDe({circular:n,comparator:c,createState:i,equals:u,strict:o})}function wDe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function _R(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):wDe(i)};requestAnimationFrame(s)}function R_(e){"@babel/helpers - typeof";return R_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R_(e)}function NDe(e){return PDe(e)||_De(e)||CDe(e)||SDe()}function SDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CDe(e,t){if(e){if(typeof e=="string")return PR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PR(e,t)}}function PR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function _De(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PDe(e){if(Array.isArray(e))return e}function ADe(){var e={},t=function(){return null},n=!1,s=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=NDe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){_R(i.bind(null,u),c);return}i(c),_R(i.bind(null,u));return}R_(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,s(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function AR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ER(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(n),!0).forEach(function(s){J7(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function J7(e,t,n){return t=EDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EDe(e){var t=kDe(e,"string");return Lg(t)==="symbol"?t:String(t)}function kDe(e,t){if(Lg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Lg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TDe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(s,i){return s.filter(function(a){return i.includes(a)})})},ODe=function(t){return t},DDe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ip=function(t,n){return Object.keys(n).reduce(function(s,i){return ER(ER({},s),{},J7({},i,t(i,n[i])))},{})},kR=function(t,n,s){return t.map(function(i){return"".concat(DDe(i)," ").concat(n,"ms ").concat(s)}).join(",")};function MDe(e,t){return RDe(e)||$De(e,t)||Z7(e,t)||IDe()}function IDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $De(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function RDe(e){if(Array.isArray(e))return e}function LDe(e){return zDe(e)||BDe(e)||Z7(e)||FDe()}function FDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z7(e,t){if(e){if(typeof e=="string")return L_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L_(e,t)}}function BDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zDe(e){if(Array.isArray(e))return L_(e)}function L_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var vj=1e-4,eW=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},tW=function(t,n){return t.map(function(s,i){return s*Math.pow(n,i)}).reduce(function(s,i){return s+i})},TR=function(t,n){return function(s){var i=eW(t,n);return tW(i,s)}},VDe=function(t,n){return function(s){var i=eW(t,n),a=[].concat(LDe(i.map(function(o,l){return o*l}).slice(1)),[0]);return tW(a,s)}},OR=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=MDe(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var f=TR(i,o),m=TR(a,l),g=VDe(i,o),x=function(N){return N>1?1:N<0?0:N},v=function(N){for(var j=N>1?1:N,b=j,_=0;_<8;++_){var C=f(b)-j,A=g(b);if(Math.abs(C-j)<vj||A<vj)return m(b);b=x(b-C/A)}return m(b)};return v.isStepper=!1,v},UDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,s=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var g=-(d-f)*s,x=m*a,v=m+(g-x)*l/1e3,y=m*l/1e3+d;return Math.abs(y-f)<vj&&Math.abs(v)<vj?[f,0]:[y,v]};return c.isStepper=!0,c.dt=l,c},qDe=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OR(i);case"spring":return UDe();default:if(i.split("(")[0]==="cubic-bezier")return OR(i)}return typeof i=="function"?i:null};function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function DR(e){return GDe(e)||HDe(e)||nW(e)||WDe()}function WDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GDe(e){if(Array.isArray(e))return B_(e)}function MR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(n),!0).forEach(function(s){F_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function F_(e,t,n){return t=KDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KDe(e){var t=YDe(e,"string");return Fg(t)==="symbol"?t:String(t)}function YDe(e,t){if(Fg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Fg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QDe(e,t){return ZDe(e)||JDe(e,t)||nW(e,t)||XDe()}function XDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nW(e,t){if(e){if(typeof e=="string")return B_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(e,t)}}function B_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function JDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ZDe(e){if(Array.isArray(e))return e}var xj=function(t,n,s){return t+(n-t)*s},z_=function(t){var n=t.from,s=t.to;return n!==s},eMe=function e(t,n,s){var i=Ip(function(a,o){if(z_(o)){var l=t(o.from,o.to,o.velocity),c=QDe(l,2),u=c[0],d=c[1];return es(es({},o),{},{from:u,velocity:d})}return o},n);return s<1?Ip(function(a,o){return z_(o)?es(es({},o),{},{velocity:xj(o.velocity,i[a].velocity,s),from:xj(o.from,i[a].from,s)}):o},n):e(t,i,s-1)};const tMe=function(e,t,n,s,i){var a=TDe(e,t),o=a.reduce(function(y,N){return es(es({},y),{},F_({},N,[e[N],t[N]]))},{}),l=a.reduce(function(y,N){return es(es({},y),{},F_({},N,{from:e[N],velocity:0,to:t[N]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Ip(function(N,j){return j.from},l)},g=function(){return!Object.values(l).filter(z_).length},x=function(N){u||(u=N);var j=N-u,b=j/n.dt;l=eMe(n,l,b),i(es(es(es({},e),t),m())),u=N,g()||(c=requestAnimationFrame(f))},v=function(N){d||(d=N);var j=(N-d)/s,b=Ip(function(C,A){return xj.apply(void 0,DR(A).concat([n(j)]))},o);if(i(es(es(es({},e),t),b)),j<1)c=requestAnimationFrame(f);else{var _=Ip(function(C,A){return xj.apply(void 0,DR(A).concat([n(1)]))},o);i(es(es(es({},e),t),_))}};return f=n.isStepper?x:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}var nMe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rMe(e,t){if(e==null)return{};var n=sMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function sMe(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function BS(e){return lMe(e)||oMe(e)||aMe(e)||iMe()}function iMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aMe(e,t){if(e){if(typeof e=="string")return V_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V_(e,t)}}function oMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lMe(e){if(Array.isArray(e))return V_(e)}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function IR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(n),!0).forEach(function(s){vp(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function vp(e,t,n){return t=rW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uMe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,rW(s.key),s)}}function dMe(e,t,n){return t&&uMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rW(e){var t=hMe(e,"string");return yf(t)==="symbol"?t:String(t)}function hMe(e,t){if(yf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(yf(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U_(e,t)}function U_(e,t){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},U_(e,t)}function mMe(e){var t=pMe();return function(){var s=yj(e),i;if(t){var a=yj(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return q_(this,i)}}function q_(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W_(e)}function W_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yj(e){return yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yj(e)}var $a=function(e){fMe(n,e);var t=mMe(n);function n(s,i){var a;cMe(this,n),a=t.call(this,s,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,g=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(W_(a)),a.changeStyle=a.changeStyle.bind(W_(a)),!l||g<=0)return a.state={style:{}},typeof m=="function"&&(a.state={style:d}),q_(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof m=="function")return a.state={style:u},q_(a);a.state={style:c?vp({},c,u):u}}else a.state={style:{}};return a}return dMe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,m=this.state.style;if(l){if(!o){var g={style:c?vp({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(g);return}if(!(bDe(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||u?f:i.to;if(this.state&&m){var y={style:c?vp({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(y)}this.runAnimation(ha(ha({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,m=i.onAnimationStart,g=tMe(o,l,qDe(u),c,this.changeStyle),x=function(){a.stopJSAnimation=g()};this.manager.start([m,d,x,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,g=function(v,y,N){if(N===0)return v;var j=y.duration,b=y.easing,_=b===void 0?"ease":b,C=y.style,A=y.properties,P=y.onAnimationEnd,E=N>0?o[N-1]:y,M=A||Object.keys(C);if(typeof _=="function"||_==="spring")return[].concat(BS(v),[a.runJSAnimation.bind(a,{from:E.style,to:C,duration:j,easing:_}),j]);var $=kR(M,j,_),T=ha(ha(ha({},E.style),C),{},{transition:$});return[].concat(BS(v),[T,j,P]).filter(ODe)};return this.manager.start([c].concat(BS(o.reduce(g,[d,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ADe());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,m=i.steps,g=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var v=l?vp({},l,c):c,y=kR(Object.keys(v),o,u);x.start([d,a,ha(ha({},v),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=rMe(i,nMe),u=w.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(g){var x=g.props,v=x.style,y=v===void 0?{}:v,N=x.className,j=w.cloneElement(g,ha(ha({},c),{},{style:ha(ha({},y),d),className:N}));return j};return u===1?f(w.Children.only(a)):q.createElement("div",null,w.Children.map(a,function(m){return f(m)}))}}]),n}(w.PureComponent);$a.displayName="Animate";$a.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$a.propTypes={from:fn.oneOfType([fn.object,fn.string]),to:fn.oneOfType([fn.object,fn.string]),attributeName:fn.string,duration:fn.number,begin:fn.number,easing:fn.oneOfType([fn.string,fn.func]),steps:fn.arrayOf(fn.shape({duration:fn.number.isRequired,style:fn.object.isRequired,easing:fn.oneOfType([fn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),fn.func]),properties:fn.arrayOf("string"),onAnimationEnd:fn.func})),children:fn.oneOfType([fn.node,fn.func]),isActive:fn.bool,canBegin:fn.bool,onAnimationEnd:fn.func,shouldReAnimate:fn.bool,onAnimationStart:fn.func,onAnimationReStart:fn.func};function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jj.apply(this,arguments)}function gMe(e,t){return jMe(e)||yMe(e,t)||xMe(e,t)||vMe()}function vMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xMe(e,t){if(e){if(typeof e=="string")return $R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $R(e,t)}}function $R(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function yMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function jMe(e){if(Array.isArray(e))return e}function RR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function LR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(n),!0).forEach(function(s){bMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bMe(e,t,n){return t=wMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wMe(e){var t=NMe(e,"string");return Bg(t)=="symbol"?t:t+""}function NMe(e,t){if(Bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Bg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FR=function(t,n,s,i,a){var o=Math.min(Math.abs(s)/2,Math.abs(i)/2),l=i>=0?1:-1,c=s>=0?1:-1,u=i>=0&&s>=0||i<0&&s<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],m=0,g=4;m<g;m++)f[m]=a[m]>o?o:a[m];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+s-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+s,",").concat(n+l*f[1])),d+="L ".concat(t+s,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+s-c*f[2],",").concat(n+i)),d+="L ".concat(t+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);d="M ".concat(t,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(n,`
            L `).concat(t+s-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s,",").concat(n+l*x,`
            L `).concat(t+s,",").concat(n+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s-c*x,",").concat(n+i,`
            L `).concat(t+c*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(n+i-l*x," Z")}else d="M ".concat(t,",").concat(n," h ").concat(s," v ").concat(i," h ").concat(-s," Z");return d},SMe=function(t,n){if(!t||!n)return!1;var s=t.x,i=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return s>=u&&s<=d&&i>=f&&i<=m}return!1},CMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pk=function(t){var n=LR(LR({},CMe),t),s=w.useRef(),i=w.useState(-1),a=gMe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var _=s.current.getTotalLength();_&&l(_)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,m=n.radius,g=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isAnimationActive,j=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Et("recharts-rectangle",g);return j?q.createElement($a,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:v,animationEasing:x,isActive:j},function(_){var C=_.width,A=_.height,P=_.x,E=_.y;return q.createElement($a,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:N,easing:x},q.createElement("path",jj({},ct(n,!0),{className:b,d:FR(P,E,C,A,m),ref:s})))}):q.createElement("path",jj({},ct(n,!0),{className:b,d:FR(c,u,d,f,m)}))},_Me=["points","className","baseLinePoints","connectNulls"];function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ph.apply(this,arguments)}function PMe(e,t){if(e==null)return{};var n=AMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function AMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function BR(e){return OMe(e)||TMe(e)||kMe(e)||EMe()}function EMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kMe(e,t){if(e){if(typeof e=="string")return H_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(e,t)}}function TMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OMe(e){if(Array.isArray(e))return H_(e)}function H_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var zR=function(t){return t&&t.x===+t.x&&t.y===+t.y},DMe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(s){zR(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),zR(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},$p=function(t,n){var s=DMe(t);n&&(s=[s.reduce(function(a,o){return[].concat(BR(a),BR(o))},[])]);var i=s.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(i,"Z"):i},MMe=function(t,n,s){var i=$p(t,s);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat($p(n.reverse(),s).slice(1))},IMe=function(t){var n=t.points,s=t.className,i=t.baseLinePoints,a=t.connectNulls,o=PMe(t,_Me);if(!n||!n.length)return null;var l=Et("recharts-polygon",s);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=MMe(n,i,a);return q.createElement("g",{className:l},q.createElement("path",ph({},ct(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?q.createElement("path",ph({},ct(o,!0),{fill:"none",d:$p(n,a)})):null,c?q.createElement("path",ph({},ct(o,!0),{fill:"none",d:$p(i,a)})):null)}var d=$p(n,a);return q.createElement("path",ph({},ct(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},G_.apply(this,arguments)}var Ov=function(t){var n=t.cx,s=t.cy,i=t.r,a=t.className,o=Et("recharts-dot",a);return n===+n&&s===+s&&i===+i?w.createElement("circle",G_({},ct(t,!1),B0(t),{className:o,cx:n,cy:s,r:i})):null};function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}var $Me=["x","y","top","left","width","height","className"];function K_(){return K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},K_.apply(this,arguments)}function VR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function RMe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(n),!0).forEach(function(s){LMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function LMe(e,t,n){return t=FMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FMe(e){var t=BMe(e,"string");return zg(t)=="symbol"?t:t+""}function BMe(e,t){if(zg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(zg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zMe(e,t){if(e==null)return{};var n=VMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function VMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var UMe=function(t,n,s,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(s)},qMe=function(t){var n=t.x,s=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,g=m===void 0?0:m,x=t.className,v=zMe(t,$Me),y=RMe({x:s,y:a,top:l,left:u,width:f,height:g},v);return!Ve(s)||!Ve(a)||!Ve(f)||!Ve(g)||!Ve(l)||!Ve(u)?null:q.createElement("path",K_({},ct(y,!0),{className:Et("recharts-cross",x),d:UMe(s,a,f,g,l,u)}))},WMe=vw,HMe=p7,GMe=wo;function KMe(e,t){return e&&e.length?WMe(e,GMe(t),HMe):void 0}var YMe=KMe;const QMe=pn(YMe);var XMe=vw,JMe=wo,ZMe=g7;function eIe(e,t){return e&&e.length?XMe(e,JMe(t),ZMe):void 0}var tIe=eIe;const nIe=pn(tIe);var rIe=["cx","cy","angle","ticks","axisLine"],sIe=["ticks","tick","angle","tickFormatter","stroke"];function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Rp.apply(this,arguments)}function UR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(n),!0).forEach(function(s){bw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qR(e,t){if(e==null)return{};var n=iIe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function iIe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function aIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,iW(s.key),s)}}function oIe(e,t,n){return t&&WR(e.prototype,t),n&&WR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lIe(e,t,n){return t=bj(t),cIe(e,sW()?Reflect.construct(t,n||[],bj(e).constructor):t.apply(e,n))}function cIe(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uIe(e)}function uIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sW=function(){return!!e})()}function bj(e){return bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bj(e)}function dIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y_(e,t)}function Y_(e,t){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},Y_(e,t)}function bw(e,t,n){return t=iW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iW(e){var t=hIe(e,"string");return jf(t)=="symbol"?t:t+""}function hIe(e,t){if(jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(jf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ww=function(e){function t(){return aIe(this,t),lIe(this,t,arguments)}return dIe(t,e),oIe(t,[{key:"getTickValueCoord",value:function(s){var i=s.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return In(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,i;switch(s){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.angle,l=s.ticks,c=QMe(l,function(d){return d.coordinate||0}),u=nIe(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,u=qR(s,rIe),d=l.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),f=In(i,a,d[0],o),m=In(i,a,d[1],o),g=nu(nu(nu({},ct(u,!1)),{},{fill:"none"},ct(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return q.createElement("line",Rp({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var s=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=qR(i,sIe),f=this.getTickTextAnchor(),m=ct(d,!1),g=ct(o,!1),x=a.map(function(v,y){var N=s.getTickValueCoord(v),j=nu(nu(nu(nu({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},m),{},{stroke:"none",fill:u},g),{},{index:y},N),{},{payload:v});return q.createElement(Yt,Rp({className:Et("recharts-polar-radius-axis-tick",q7(o)),key:"tick-".concat(v.coordinate)},Xu(s.props,v,y)),t.renderTickItem(o,j,c?c(v.value,y):v.value))});return q.createElement(Yt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,i=s.ticks,a=s.axisLine,o=s.tick;return!i||!i.length?null:q.createElement(Yt,{className:Et("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),qr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,i,a){var o;return q.isValidElement(s)?o=q.cloneElement(s,i):yt(s)?o=s(i):o=q.createElement(Ju,Rp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(w.PureComponent);bw(ww,"displayName","PolarRadiusAxis");bw(ww,"axisType","radiusAxis");bw(ww,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hu.apply(this,arguments)}function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ru(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(n),!0).forEach(function(s){Nw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function fIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,oW(s.key),s)}}function mIe(e,t,n){return t&&GR(e.prototype,t),n&&GR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pIe(e,t,n){return t=wj(t),gIe(e,aW()?Reflect.construct(t,n||[],wj(e).constructor):t.apply(e,n))}function gIe(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vIe(e)}function vIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aW=function(){return!!e})()}function wj(e){return wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wj(e)}function xIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q_(e,t)}function Q_(e,t){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},Q_(e,t)}function Nw(e,t,n){return t=oW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oW(e){var t=yIe(e,"string");return bf(t)=="symbol"?t:t+""}function yIe(e,t){if(bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(bf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jIe=Math.PI/180,KR=1e-5,Sw=function(e){function t(){return fIe(this,t),pIe(this,t,arguments)}return xIe(t,e),mIe(t,[{key:"getTickLineCoord",value:function(s){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=In(a,o,l,s.coordinate),m=In(a,o,l+(c==="inner"?-1:1)*d,s.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(s){var i=this.props.orientation,a=Math.cos(-s.coordinate*jIe),o;return a>KR?o=i==="outer"?"start":"end":a<-KR?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,u=ru(ru({},ct(this.props,!1)),{},{fill:"none"},ct(l,!1));if(c==="circle")return q.createElement(Ov,hu({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(m){return In(i,a,o,m.coordinate)});return q.createElement(IMe,hu({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var s=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=ct(this.props,!1),f=ct(o,!1),m=ru(ru({},d),{},{fill:"none"},ct(l,!1)),g=a.map(function(x,v){var y=s.getTickLineCoord(x),N=s.getTickTextAnchor(x),j=ru(ru(ru({textAnchor:N},d),{},{stroke:"none",fill:u},f),{},{index:v,payload:x,x:y.x2,y:y.y2});return q.createElement(Yt,hu({className:Et("recharts-polar-angle-axis-tick",q7(o)),key:"tick-".concat(x.coordinate)},Xu(s.props,x,v)),l&&q.createElement("line",hu({className:"recharts-polar-angle-axis-tick-line"},m,y)),o&&t.renderTickItem(o,j,c?c(x.value,v):x.value))});return q.createElement(Yt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var s=this.props,i=s.ticks,a=s.radius,o=s.axisLine;return a<=0||!i||!i.length?null:q.createElement(Yt,{className:Et("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,i,a){var o;return q.isValidElement(s)?o=q.cloneElement(s,i):yt(s)?o=s(i):o=q.createElement(Ju,hu({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(w.PureComponent);Nw(Sw,"displayName","PolarAngleAxis");Nw(Sw,"axisType","angleAxis");Nw(Sw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var bIe=dq,wIe=bIe(Object.getPrototypeOf,Object),NIe=wIe,SIe=gl,CIe=NIe,_Ie=vl,PIe="[object Object]",AIe=Function.prototype,EIe=Object.prototype,lW=AIe.toString,kIe=EIe.hasOwnProperty,TIe=lW.call(Object);function OIe(e){if(!_Ie(e)||SIe(e)!=PIe)return!1;var t=CIe(e);if(t===null)return!0;var n=kIe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&lW.call(n)==TIe}var DIe=OIe;const MIe=pn(DIe);var IIe=gl,$Ie=vl,RIe="[object Boolean]";function LIe(e){return e===!0||e===!1||$Ie(e)&&IIe(e)==RIe}var FIe=LIe;const BIe=pn(FIe);function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nj.apply(this,arguments)}function zIe(e,t){return WIe(e)||qIe(e,t)||UIe(e,t)||VIe()}function VIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UIe(e,t){if(e){if(typeof e=="string")return YR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YR(e,t)}}function YR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function qIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function WIe(e){if(Array.isArray(e))return e}function QR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function XR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(n),!0).forEach(function(s){HIe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function HIe(e,t,n){return t=GIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GIe(e){var t=KIe(e,"string");return Vg(t)=="symbol"?t:t+""}function KIe(e,t){if(Vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JR=function(t,n,s,i,a){var o=s-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+s,",").concat(n),l+="L ".concat(t+s-o/2,",").concat(n+a),l+="L ".concat(t+s-o/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},YIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QIe=function(t){var n=XR(XR({},YIe),t),s=w.useRef(),i=w.useState(-1),a=zIe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var b=s.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,m=n.height,g=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var j=Et("recharts-trapezoid",g);return N?q.createElement($a,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:v,animationEasing:x,isActive:N},function(b){var _=b.upperWidth,C=b.lowerWidth,A=b.height,P=b.x,E=b.y;return q.createElement($a,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:x},q.createElement("path",Nj({},ct(n,!0),{className:j,d:JR(P,E,_,C,A),ref:s})))}):q.createElement("g",null,q.createElement("path",Nj({},ct(n,!0),{className:j,d:JR(c,u,d,f,m)})))},XIe=["option","shapeType","propTransformer","activeClassName","isActive"];function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function JIe(e,t){if(e==null)return{};var n=ZIe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ZIe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function ZR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Sj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(n),!0).forEach(function(s){e4e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function e4e(e,t,n){return t=t4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t4e(e){var t=n4e(e,"string");return Ug(t)=="symbol"?t:t+""}function n4e(e,t){if(Ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ug(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r4e(e,t){return Sj(Sj({},t),e)}function s4e(e,t){return e==="symbols"}function e3(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return q.createElement(Pk,n);case"trapezoid":return q.createElement(QIe,n);case"sector":return q.createElement(G7,n);case"symbols":if(s4e(t))return q.createElement(HE,n);break;default:return null}}function i4e(e){return w.isValidElement(e)?e.props:e}function cW(e){var t=e.option,n=e.shapeType,s=e.propTransformer,i=s===void 0?r4e:s,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=JIe(e,XIe),u;if(w.isValidElement(t))u=w.cloneElement(t,Sj(Sj({},c),i4e(t)));else if(yt(t))u=t(c);else if(MIe(t)&&!BIe(t)){var d=i(t,c);u=q.createElement(e3,{shapeType:n,elementProps:d})}else{var f=c;u=q.createElement(e3,{shapeType:n,elementProps:f})}return l?q.createElement(Yt,{className:o},u):u}function Cw(e,t){return t!=null&&"trapezoids"in e.props}function _w(e,t){return t!=null&&"sectors"in e.props}function qg(e,t){return t!=null&&"points"in e.props}function a4e(e,t){var n,s,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return i&&a}function o4e(e,t){var n=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return n&&s}function l4e(e,t){var n=e.x===t.x,s=e.y===t.y,i=e.z===t.z;return n&&s&&i}function c4e(e,t){var n;return Cw(e,t)?n=a4e:_w(e,t)?n=o4e:qg(e,t)&&(n=l4e),n}function u4e(e,t){var n;return Cw(e,t)?n="trapezoids":_w(e,t)?n="sectors":qg(e,t)&&(n="points"),n}function d4e(e,t){if(Cw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(_w(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return qg(e,t)?t.payload:{}}function h4e(e){var t=e.activeTooltipItem,n=e.graphicalItem,s=e.itemData,i=u4e(n,t),a=d4e(n,t),o=s.filter(function(c,u){var d=Zu(a,c),f=n.props[i].filter(function(x){var v=c4e(n,t);return v(x,t)}),m=n.props[i].indexOf(f[f.length-1]),g=u===m;return d&&g}),l=s.indexOf(o[o.length-1]);return l}var Ky;function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gh.apply(this,arguments)}function t3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(n),!0).forEach(function(s){qi(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function f4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,dW(s.key),s)}}function m4e(e,t,n){return t&&n3(e.prototype,t),n&&n3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p4e(e,t,n){return t=Cj(t),g4e(e,uW()?Reflect.construct(t,n||[],Cj(e).constructor):t.apply(e,n))}function g4e(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v4e(e)}function v4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uW=function(){return!!e})()}function Cj(e){return Cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cj(e)}function x4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X_(e,t)}function X_(e,t){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},X_(e,t)}function qi(e,t,n){return t=dW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dW(e){var t=y4e(e,"string");return wf(t)=="symbol"?t:t+""}function y4e(e,t){if(wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(wf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Va=function(e){function t(n){var s;return f4e(this,t),s=p4e(this,t,[n]),qi(s,"pieRef",null),qi(s,"sectorRefs",[]),qi(s,"id",md("recharts-pie-")),qi(s,"handleAnimationEnd",function(){var i=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),yt(i)&&i()}),qi(s,"handleAnimationStart",function(){var i=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),yt(i)&&i()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return x4e(t,e),m4e(t,[{key:"isActiveIndex",value:function(s){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(s)!==-1:s===i}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=ct(this.props,!1),f=ct(o,!1),m=ct(l,!1),g=o&&o.offsetRadius||20,x=s.map(function(v,y){var N=(v.startAngle+v.endAngle)/2,j=In(v.cx,v.cy,v.outerRadius+g,N),b=On(On(On(On({},d),v),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(j.x,v.cx)},j),_=On(On(On(On({},d),v),{},{fill:"none",stroke:v.fill},m),{},{index:y,points:[In(v.cx,v.cy,v.outerRadius,N),j]}),C=c;return At(c)&&At(u)?C="value":At(c)&&(C=u),q.createElement(Yt,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,b,gr(v,C)))});return q.createElement(Yt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return s.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&s.length!==1)return null;var f=i.isActiveIndex(d),m=c&&i.hasActiveIndex()?c:null,g=f?o:m,x=On(On({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return q.createElement(Yt,gh({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Xu(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),q.createElement(cW,gh({option:g,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,m=f.prevSectors,g=f.prevIsAnimationActive;return q.createElement($a,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,y=[],N=a&&a[0],j=N.startAngle;return a.forEach(function(b,_){var C=m&&m[_],A=_>0?wi(b,"paddingAngle",0):0;if(C){var P=Or(C.endAngle-C.startAngle,b.endAngle-b.startAngle),E=On(On({},b),{},{startAngle:j+A,endAngle:j+P(v)+A});y.push(E),j=E.endAngle}else{var M=b.endAngle,$=b.startAngle,T=Or(0,M-$),O=T(v),L=On(On({},b),{},{startAngle:j+A,endAngle:j+O+A});y.push(L),j=L.endAngle}}),q.createElement(Yt,null,s.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(s){var i=this;s.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,i=s.sectors,a=s.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Zu(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,m=i.outerRadius,g=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!Ve(u)||!Ve(d)||!Ve(f)||!Ve(m))return null;var v=Et("recharts-pie",l);return q.createElement(Yt,{tabIndex:this.props.rootTabIndex,className:v,ref:function(N){s.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),qr.renderCallByParent(this.props,null,!1),(!g||x)&&mo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return i.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:s.sectors!==i.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,i){return s>i?"start":s<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,i,a){if(q.isValidElement(s))return q.cloneElement(s,i);if(yt(s))return s(i);var o=Et("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return q.createElement($u,gh({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,i,a){if(q.isValidElement(s))return q.cloneElement(s,i);var o=a;if(yt(s)&&(o=s(i),q.isValidElement(o)))return o;var l=Et("recharts-pie-label-text",typeof s!="boolean"&&!yt(s)?s.className:"");return q.createElement(Ju,gh({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(w.PureComponent);Ky=Va;qi(Va,"displayName","Pie");qi(Va,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ka.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});qi(Va,"parseDeltaAngle",function(e,t){var n=Es(t-e),s=Math.min(Math.abs(t-e),360);return n*s});qi(Va,"getRealPieData",function(e){var t=e.data,n=e.children,s=ct(e,!1),i=Ni(n,cm);return t&&t.length?t.map(function(a,o){return On(On(On({payload:a},s),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return On(On({},s),a.props)}):[]});qi(Va,"parseCoordinateOfPie",function(e,t){var n=t.top,s=t.left,i=t.width,a=t.height,o=U7(i,a),l=s+ks(e.cx,i,i/2),c=n+ks(e.cy,a,a/2),u=ks(e.innerRadius,o,0),d=ks(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});qi(Va,"getComposedData",function(e){var t=e.item,n=e.offset,s=t.type.defaultProps!==void 0?On(On({},t.type.defaultProps),t.props):t.props,i=Ky.getRealPieData(s);if(!i||!i.length)return null;var a=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,u=s.dataKey,d=s.nameKey,f=s.valueKey,m=s.tooltipType,g=Math.abs(s.minAngle),x=Ky.parseCoordinateOfPie(s,n),v=Ky.parseDeltaAngle(o,l),y=Math.abs(v),N=u;At(u)&&At(f)?(Ea(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):At(u)&&(Ea(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=f);var j=i.filter(function(E){return gr(E,N,0)!==0}).length,b=(y>=360?j:j-1)*c,_=y-j*g-b,C=i.reduce(function(E,M){var $=gr(M,N,0);return E+(Ve($)?$:0)},0),A;if(C>0){var P;A=i.map(function(E,M){var $=gr(E,N,0),T=gr(E,d,M),O=(Ve($)?$:0)/C,L;M?L=P.endAngle+Es(v)*c*($!==0?1:0):L=o;var z=L+Es(v)*(($!==0?g:0)+O*_),J=(L+z)/2,H=(x.innerRadius+x.outerRadius)/2,oe=[{name:T,value:$,payload:E,dataKey:N,type:m}],Q=In(x.cx,x.cy,H,J);return P=On(On(On({percent:O,cornerRadius:a,name:T,tooltipPayload:oe,midAngle:J,middleRadius:H,tooltipPosition:Q},E),x),{},{value:gr(E,N),startAngle:L,endAngle:z,payload:E,paddingAngle:Es(v)*c}),P})}return On(On({},x),{},{sectors:A,data:i})});var j4e=Math.ceil,b4e=Math.max;function w4e(e,t,n,s){for(var i=-1,a=b4e(j4e((t-e)/(n||1)),0),o=Array(a);a--;)o[s?a:++i]=e,e+=n;return o}var N4e=w4e,S4e=kq,r3=1/0,C4e=17976931348623157e292;function _4e(e){if(!e)return e===0?e:0;if(e=S4e(e),e===r3||e===-r3){var t=e<0?-1:1;return t*C4e}return e===e?e:0}var hW=_4e,P4e=N4e,A4e=uw,zS=hW;function E4e(e){return function(t,n,s){return s&&typeof s!="number"&&A4e(t,n,s)&&(n=s=void 0),t=zS(t),n===void 0?(n=t,t=0):n=zS(n),s=s===void 0?t<n?1:-1:zS(s),P4e(t,n,s,e)}}var k4e=E4e,T4e=k4e,O4e=T4e(),D4e=O4e;const _j=pn(D4e);function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function s3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function i3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(n),!0).forEach(function(s){fW(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function fW(e,t,n){return t=M4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M4e(e){var t=I4e(e,"string");return Wg(t)=="symbol"?t:t+""}function I4e(e,t){if(Wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Wg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $4e=["Webkit","Moz","O","ms"],R4e=function(t,n){var s=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=$4e.reduce(function(a,o){return i3(i3({},a),{},fW({},o+s,n))},{});return i[t]=n,i};function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pj.apply(this,arguments)}function a3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function VS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(n),!0).forEach(function(s){hi(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function L4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,pW(s.key),s)}}function F4e(e,t,n){return t&&o3(e.prototype,t),n&&o3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function B4e(e,t,n){return t=Aj(t),z4e(e,mW()?Reflect.construct(t,n||[],Aj(e).constructor):t.apply(e,n))}function z4e(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V4e(e)}function V4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mW=function(){return!!e})()}function Aj(e){return Aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Aj(e)}function U4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J_(e,t)}function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},J_(e,t)}function hi(e,t,n){return t=pW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pW(e){var t=q4e(e,"string");return Nf(t)=="symbol"?t:t+""}function q4e(e,t){if(Nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Nf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W4e=function(t){var n=t.data,s=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Dp().domain(_j(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(s),endX:u(i),scale:u,scaleValues:d}},l3=function(t){return t.changedTouches&&!!t.changedTouches.length},Sf=function(e){function t(n){var s;return L4e(this,t),s=B4e(this,t,[n]),hi(s,"handleDrag",function(i){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(i):s.state.isSlideMoving&&s.handleSlideDrag(i)}),hi(s,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&s.handleDrag(i.changedTouches[0])}),hi(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=s.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),s.detachDragEndListener()}),hi(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),hi(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),hi(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),hi(s,"handleSlideDragStart",function(i){var a=l3(i)?i.changedTouches[0]:i;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return U4e(t,e),F4e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var i=s.startX,a=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),m=Math.max(i,a),g=t.getIndexInRange(o,f),x=t.getIndexInRange(o,m);return{startIndex:g-g%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(s){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=gr(a[s],l,s);return yt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,g=c.endIndex,x=c.onChange,v=s.pageX-a;v>0?v=Math.min(v,u+d-f-l,u+d-f-o):v<0&&(v=Math.max(v,u-o,u-l));var y=this.getIndex({startX:o+v,endX:l+v});(y.startIndex!==m||y.endIndex!==g)&&x&&x(y),this.setState({startX:o+v,endX:l+v,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,i){var a=l3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,g=d.travellerWidth,x=d.onChange,v=d.gap,y=d.data,N={startX:this.state.startX,endX:this.state.endX},j=s.pageX-a;j>0?j=Math.min(j,f+m-g-u):j<0&&(j=Math.max(j,f-u)),N[o]=u+j;var b=this.getIndex(N),_=b.startIndex,C=b.endIndex,A=function(){var E=y.length-1;return o==="startX"&&(l>c?_%v===0:C%v===0)||l<c&&C===E||o==="endX"&&(l>c?C%v===0:_%v===0)||l>c&&C===E};this.setState(hi(hi({},o,u+j),"brushMoveStartX",s.pageX),function(){x&&A()&&x(b)})}},{key:"handleTravellerMoveKeyboard",value:function(s,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var m=f+s;if(!(m===-1||m>=l.length)){var g=l[m];i==="startX"&&g>=u||i==="endX"&&g<=c||this.setState(hi({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.fill,u=s.stroke;return q.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.data,u=s.children,d=s.padding,f=w.Children.only(u);return f?q.cloneElement(f,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,g=c.ariaLabel,x=c.data,v=c.startIndex,y=c.endIndex,N=Math.max(s,this.props.x),j=VS(VS({},ct(this.props,!1)),{},{x:N,y:u,width:d,height:f}),b=g||"Min value: ".concat((a=x[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return q.createElement(Yt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,j))}},{key:"renderSlide",value:function(s,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(s,i)+u,f=Math.max(Math.abs(i-s)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var s=this.props,i=s.startIndex,a=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,u=s.stroke,d=this.state,f=d.startX,m=d.endX,g=5,x={pointerEvents:"none",fill:u};return q.createElement(Yt,{className:"recharts-brush-texts"},q.createElement(Ju,Pj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-g,y:o+l/2},x),this.getTextOfTick(i)),q.createElement(Ju,Pj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+g,y:o+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var s=this.props,i=s.data,a=s.className,o=s.children,l=s.x,c=s.y,u=s.width,d=s.height,f=s.alwaysShowText,m=this.state,g=m.startX,x=m.endX,v=m.isTextActive,y=m.isSlideMoving,N=m.isTravellerMoving,j=m.isTravellerFocused;if(!i||!i.length||!Ve(l)||!Ve(c)||!Ve(u)||!Ve(d)||u<=0||d<=0)return null;var b=Et("recharts-brush",a),_=q.Children.count(o)===1,C=R4e("userSelect","none");return q.createElement(Yt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(v||y||N||j||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var i=s.x,a=s.y,o=s.width,l=s.height,c=s.stroke,u=Math.floor(a+l/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),q.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,i){var a;return q.isValidElement(s)?a=q.cloneElement(s,i):yt(s)?a=s(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(s,i){var a=s.data,o=s.width,l=s.x,c=s.travellerWidth,u=s.updateId,d=s.startIndex,f=s.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return VS({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?W4e({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var m=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(s.startIndex),endX:i.scale(s.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(s,i){for(var a=s.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>i?l=c:o=c}return i>=s[l]?l:o}}])}(w.PureComponent);hi(Sf,"displayName","Brush");hi(Sf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var H4e=ZE;function G4e(e,t){var n;return H4e(e,function(s,i,a){return n=t(s,i,a),!n}),!!n}var K4e=G4e,Y4e=rq,Q4e=wo,X4e=K4e,J4e=ri,Z4e=uw;function e$e(e,t,n){var s=J4e(e)?Y4e:X4e;return n&&Z4e(e,t,n)&&(t=void 0),s(e,Q4e(t))}var t$e=e$e;const n$e=pn(t$e);var po=function(t,n){var s=t.alwaysShow,i=t.ifOverflow;return s&&(i="extendDomain"),i===n},c3=Cq;function r$e(e,t,n){t=="__proto__"&&c3?c3(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var s$e=r$e,i$e=s$e,a$e=Nq,o$e=wo;function l$e(e,t){var n={};return t=o$e(t),a$e(e,function(s,i,a){i$e(n,i,t(s,i,a))}),n}var c$e=l$e;const u$e=pn(c$e);function d$e(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!t(e[n],n,e))return!1;return!0}var h$e=d$e,f$e=ZE;function m$e(e,t){var n=!0;return f$e(e,function(s,i,a){return n=!!t(s,i,a),n}),n}var p$e=m$e,g$e=h$e,v$e=p$e,x$e=wo,y$e=ri,j$e=uw;function b$e(e,t,n){var s=y$e(e)?g$e:v$e;return n&&j$e(e,t,n)&&(t=void 0),s(e,x$e(t))}var w$e=b$e;const gW=pn(w$e);var N$e=["x","y"];function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function Z_(){return Z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Z_.apply(this,arguments)}function u3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ap(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(n),!0).forEach(function(s){S$e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function S$e(e,t,n){return t=C$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C$e(e){var t=_$e(e,"string");return Hg(t)=="symbol"?t:t+""}function _$e(e,t){if(Hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Hg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P$e(e,t){if(e==null)return{};var n=A$e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function A$e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function E$e(e,t){var n=e.x,s=e.y,i=P$e(e,N$e),a="".concat(n),o=parseInt(a,10),l="".concat(s),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),m=parseInt(f,10);return ap(ap(ap(ap(ap({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function d3(e){return q.createElement(cW,Z_({shapeType:"rectangle",propTransformer:E$e,activeClassName:"recharts-active-bar"},e))}var k$e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,i){if(typeof t=="number")return t;var a=Ve(s)||nye(s);return a?t(s,i):(a||td(),n)}},T$e=["value","background"],vW;function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function O$e(e,t){if(e==null)return{};var n=D$e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function D$e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Ej(){return Ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ej.apply(this,arguments)}function h3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(n),!0).forEach(function(s){ac(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function M$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,yW(s.key),s)}}function I$e(e,t,n){return t&&f3(e.prototype,t),n&&f3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $$e(e,t,n){return t=kj(t),R$e(e,xW()?Reflect.construct(t,n||[],kj(e).constructor):t.apply(e,n))}function R$e(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L$e(e)}function L$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xW=function(){return!!e})()}function kj(e){return kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kj(e)}function F$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eP(e,t)}function eP(e,t){return eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},eP(e,t)}function ac(e,t,n){return t=yW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yW(e){var t=B$e(e,"string");return Cf(t)=="symbol"?t:t+""}function B$e(e,t){if(Cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Cf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ao=function(e){function t(){var n;M$e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=$$e(this,t,[].concat(i)),ac(n,"state",{isAnimationFinished:!1}),ac(n,"id",md("recharts-bar-")),ac(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ac(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return F$e(t,e),I$e(t,[{key:"renderRectanglesStatically",value:function(s){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=ct(this.props,!1);return s&&s.map(function(f,m){var g=m===c,x=g?u:o,v=yr(yr(yr({},d),f),{},{isActive:g,option:x,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return q.createElement(Yt,Ej({className:"recharts-bar-rectangle"},Xu(i.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(m)}),q.createElement(d3,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevData;return q.createElement($a,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,v=a.map(function(y,N){var j=m&&m[N];if(j){var b=Or(j.x,y.x),_=Or(j.y,y.y),C=Or(j.width,y.width),A=Or(j.height,y.height);return yr(yr({},y),{},{x:b(x),y:_(x),width:C(x),height:A(x)})}if(o==="horizontal"){var P=Or(0,y.height),E=P(x);return yr(yr({},y),{},{y:y.y+y.height-E,height:E})}var M=Or(0,y.width),$=M(x);return yr(yr({},y),{},{width:$})});return q.createElement(Yt,null,s.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var s=this.props,i=s.data,a=s.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Zu(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var s=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=ct(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,m=O$e(u,T$e);if(!f)return null;var g=yr(yr(yr(yr(yr({},m),{},{fill:"#eee"},f),c),Xu(s.props,u,d)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return q.createElement(d3,Ej({key:"background-bar-".concat(d),option:s.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ni(d,Tv);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,g=function(y,N){var j=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:j,errorVal:gr(y,N)}},x={clipPath:s?"url(#clipPath-".concat(i,")"):null};return q.createElement(Yt,x,f.map(function(v){return q.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var s=this.props,i=s.hide,a=s.data,o=s.className,l=s.xAxis,c=s.yAxis,u=s.left,d=s.top,f=s.width,m=s.height,g=s.isAnimationActive,x=s.background,v=s.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,N=Et("recharts-bar",o),j=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=j||b,C=At(v)?this.id:v;return q.createElement(Yt,{className:N},j||b?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(C)},q.createElement("rect",{x:j?u:u-f/2,y:b?d:d-m/2,width:j?f:f*2,height:b?m:m*2}))):null,q.createElement(Yt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(C,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,C),(!g||y)&&mo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:i.curData}:s.data!==i.curData?{curData:s.data}:null}}])}(w.PureComponent);vW=ao;ac(ao,"displayName","Bar");ac(ao,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ka.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ac(ao,"getComposedData",function(e){var t=e.props,n=e.item,s=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,g=jTe(s,n);if(!g)return null;var x=t.layout,v=n.type.defaultProps,y=v!==void 0?yr(yr({},v),n.props):n.props,N=y.dataKey,j=y.children,b=y.minPointSize,_=x==="horizontal"?o:a,C=u?_.scale.domain():null,A=PTe({numericAxis:_}),P=Ni(j,cm),E=f.map(function(M,$){var T,O,L,z,J,H;u?T=bTe(u[d+$],C):(T=gr(M,N),Array.isArray(T)||(T=[A,T]));var oe=k$e(b,vW.defaultProps.minPointSize)(T[1],$);if(x==="horizontal"){var Q,D=[o.scale(T[0]),o.scale(T[1])],ae=D[0],pe=D[1];O=nR({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:M,index:$}),L=(Q=pe??ae)!==null&&Q!==void 0?Q:void 0,z=g.size;var te=ae-pe;if(J=Number.isNaN(te)?0:te,H={x:O,y:o.y,width:z,height:o.height},Math.abs(oe)>0&&Math.abs(J)<Math.abs(oe)){var Z=Es(J||oe)*(Math.abs(oe)-Math.abs(J));L-=Z,J+=Z}}else{var ne=[a.scale(T[0]),a.scale(T[1])],xe=ne[0],ye=ne[1];if(O=xe,L=nR({axis:o,ticks:c,bandSize:i,offset:g.offset,entry:M,index:$}),z=ye-xe,J=g.size,H={x:a.x,y:L,width:a.width,height:J},Math.abs(oe)>0&&Math.abs(z)<Math.abs(oe)){var se=Es(z||oe)*(Math.abs(oe)-Math.abs(z));z+=se}}return yr(yr(yr({},M),{},{x:O,y:L,width:z,height:J,value:u?T:T[1],payload:M,background:H},P&&P[$]&&P[$].props),{},{tooltipPayload:[z7(n,M)],tooltipPosition:{x:O+z/2,y:L+J/2}})});return yr({data:E,layout:x},m)});function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function z$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,jW(s.key),s)}}function V$e(e,t,n){return t&&m3(e.prototype,t),n&&m3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(n),!0).forEach(function(s){Pw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Pw(e,t,n){return t=jW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jW(e){var t=U$e(e,"string");return Gg(t)=="symbol"?t:t+""}function U$e(e,t){if(Gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Gg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ak=function(t,n,s,i,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},m=!!mi(u,ao);return d.reduce(function(g,x){var v=n[x],y=v.orientation,N=v.domain,j=v.padding,b=j===void 0?{}:j,_=v.mirror,C=v.reversed,A="".concat(y).concat(_?"Mirror":""),P,E,M,$,T;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var O=N[1]-N[0],L=1/0,z=v.categoricalDomain.sort(iye);if(z.forEach(function(ne,xe){xe>0&&(L=Math.min((ne||0)-(z[xe-1]||0),L))}),Number.isFinite(L)){var J=L/O,H=v.layout==="vertical"?s.height:s.width;if(v.padding==="gap"&&(P=J*H/2),v.padding==="no-gap"){var oe=ks(t.barCategoryGap,J*H),Q=J*H/2;P=Q-oe-(Q-oe)/H*oe}}}i==="xAxis"?E=[s.left+(b.left||0)+(P||0),s.left+s.width-(b.right||0)-(P||0)]:i==="yAxis"?E=c==="horizontal"?[s.top+s.height-(b.bottom||0),s.top+(b.top||0)]:[s.top+(b.top||0)+(P||0),s.top+s.height-(b.bottom||0)-(P||0)]:E=v.range,C&&(E=[E[1],E[0]]);var D=R7(v,a,m),ae=D.scale,pe=D.realScaleType;ae.domain(N).range(E),L7(ae);var te=F7(ae,ja(ja({},v),{},{realScaleType:pe}));i==="xAxis"?(T=y==="top"&&!_||y==="bottom"&&_,M=s.left,$=f[A]-T*v.height):i==="yAxis"&&(T=y==="left"&&!_||y==="right"&&_,M=f[A]-T*v.width,$=s.top);var Z=ja(ja(ja({},v),te),{},{realScaleType:pe,x:M,y:$,scale:ae,width:i==="xAxis"?s.width:v.width,height:i==="yAxis"?s.height:v.height});return Z.bandSize=mj(Z,te),!v.hide&&i==="xAxis"?f[A]+=(T?-1:1)*Z.height:v.hide||(f[A]+=(T?-1:1)*Z.width),ja(ja({},g),{},Pw({},x,Z))},{})},bW=function(t,n){var s=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(s,a),y:Math.min(i,o),width:Math.abs(a-s),height:Math.abs(o-i)}},q$e=function(t){var n=t.x1,s=t.y1,i=t.x2,a=t.y2;return bW({x:n,y:s},{x:i,y:a})},wW=function(){function e(t){z$e(this,e),this.scale=t}return V$e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,a=s.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),i=s[0],a=s[s.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();Pw(wW,"EPS",1e-4);var Ek=function(t){var n=Object.keys(t).reduce(function(s,i){return ja(ja({},s),{},Pw({},i,wW.create(t[i])))},{});return ja(ja({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return u$e(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return gW(i,function(a,o){return n[o].isInRange(a)})}})};function W$e(e){return(e%180+180)%180}var H$e=function(t){var n=t.width,s=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=W$e(i),o=a*Math.PI/180,l=Math.atan(s/n),c=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(c)},G$e=wo,K$e=_v,Y$e=lw;function Q$e(e){return function(t,n,s){var i=Object(t);if(!K$e(t)){var a=G$e(n);t=Y$e(t),n=function(l){return a(i[l],l,i)}}var o=e(t,n,s);return o>-1?i[a?t[o]:o]:void 0}}var X$e=Q$e,J$e=hW;function Z$e(e){var t=J$e(e),n=t%1;return t===t?n?t-n:t:0}var eRe=Z$e,tRe=vq,nRe=wo,rRe=eRe,sRe=Math.max;function iRe(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var i=n==null?0:rRe(n);return i<0&&(i=sRe(s+i,0)),tRe(e,nRe(t),i)}var aRe=iRe,oRe=X$e,lRe=aRe,cRe=oRe(lRe),uRe=cRe;const dRe=pn(uRe);var hRe=axe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),kk=w.createContext(void 0),Tk=w.createContext(void 0),NW=w.createContext(void 0),SW=w.createContext({}),CW=w.createContext(void 0),_W=w.createContext(0),PW=w.createContext(0),g3=function(t){var n=t.state,s=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=hRe(a);return q.createElement(kk.Provider,{value:s},q.createElement(Tk.Provider,{value:i},q.createElement(SW.Provider,{value:a},q.createElement(NW.Provider,{value:d},q.createElement(CW.Provider,{value:o},q.createElement(_W.Provider,{value:u},q.createElement(PW.Provider,{value:c},l)))))))},fRe=function(){return w.useContext(CW)},AW=function(t){var n=w.useContext(kk);n==null&&td();var s=n[t];return s==null&&td(),s},mRe=function(){var t=w.useContext(kk);return Wl(t)},pRe=function(){var t=w.useContext(Tk),n=dRe(t,function(s){return gW(s.domain,Number.isFinite)});return n||Wl(t)},EW=function(t){var n=w.useContext(Tk);n==null&&td();var s=n[t];return s==null&&td(),s},gRe=function(){var t=w.useContext(NW);return t},vRe=function(){return w.useContext(SW)},Ok=function(){return w.useContext(PW)},Dk=function(){return w.useContext(_W)};function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function xRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,TW(s.key),s)}}function jRe(e,t,n){return t&&yRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bRe(e,t,n){return t=Tj(t),wRe(e,kW()?Reflect.construct(t,n||[],Tj(e).constructor):t.apply(e,n))}function wRe(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NRe(e)}function NRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kW=function(){return!!e})()}function Tj(e){return Tj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tj(e)}function SRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tP(e,t)}function tP(e,t){return tP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},tP(e,t)}function v3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function x3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(n),!0).forEach(function(s){Mk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Mk(e,t,n){return t=TW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TW(e){var t=CRe(e,"string");return _f(t)=="symbol"?t:t+""}function CRe(e,t){if(_f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(_f(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Re(e,t){return kRe(e)||ERe(e,t)||ARe(e,t)||PRe()}function PRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ARe(e,t){if(e){if(typeof e=="string")return y3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y3(e,t)}}function y3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ERe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function kRe(e){if(Array.isArray(e))return e}function nP(){return nP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nP.apply(this,arguments)}var TRe=function(t,n){var s;return q.isValidElement(t)?s=q.cloneElement(t,n):yt(t)?s=t(n):s=q.createElement("line",nP({},n,{className:"recharts-reference-line-line"})),s},ORe=function(t,n,s,i,a,o,l,c,u){var d=a.x,f=a.y,m=a.width,g=a.height;if(s){var x=u.y,v=t.y.apply(x,{position:o});if(po(u,"discard")&&!t.y.isInRange(v))return null;var y=[{x:d+m,y:v},{x:d,y:v}];return c==="left"?y.reverse():y}if(n){var N=u.x,j=t.x.apply(N,{position:o});if(po(u,"discard")&&!t.x.isInRange(j))return null;var b=[{x:j,y:f+g},{x:j,y:f}];return l==="top"?b.reverse():b}if(i){var _=u.segment,C=_.map(function(A){return t.apply(A,{position:o})});return po(u,"discard")&&n$e(C,function(A){return!t.isInRange(A)})?null:C}return null};function DRe(e){var t=e.x,n=e.y,s=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=fRe(),d=AW(i),f=EW(a),m=gRe();if(!u||!m)return null;Ea(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=Ek({x:d.scale,y:f.scale}),x=Mr(t),v=Mr(n),y=s&&s.length===2,N=ORe(g,x,v,y,m,e.position,d.orientation,f.orientation,e);if(!N)return null;var j=_Re(N,2),b=j[0],_=b.x,C=b.y,A=j[1],P=A.x,E=A.y,M=po(e,"hidden")?"url(#".concat(u,")"):void 0,$=x3(x3({clipPath:M},ct(e,!0)),{},{x1:_,y1:C,x2:P,y2:E});return q.createElement(Yt,{className:Et("recharts-reference-line",l)},TRe(o,$),qr.renderCallByParent(e,q$e({x1:_,y1:C,x2:P,y2:E})))}var Ik=function(e){function t(){return xRe(this,t),bRe(this,t,arguments)}return SRe(t,e),jRe(t,[{key:"render",value:function(){return q.createElement(DRe,this.props)}}])}(q.Component);Mk(Ik,"displayName","ReferenceLine");Mk(Ik,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rP(){return rP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rP.apply(this,arguments)}function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function j3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function b3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(n),!0).forEach(function(s){Aw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function MRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,DW(s.key),s)}}function $Re(e,t,n){return t&&IRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RRe(e,t,n){return t=Oj(t),LRe(e,OW()?Reflect.construct(t,n||[],Oj(e).constructor):t.apply(e,n))}function LRe(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FRe(e)}function FRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OW=function(){return!!e})()}function Oj(e){return Oj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oj(e)}function BRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sP(e,t)}function sP(e,t){return sP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},sP(e,t)}function Aw(e,t,n){return t=DW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DW(e){var t=zRe(e,"string");return Pf(t)=="symbol"?t:t+""}function zRe(e,t){if(Pf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Pf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VRe=function(t){var n=t.x,s=t.y,i=t.xAxis,a=t.yAxis,o=Ek({x:i.scale,y:a.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return po(t,"discard")&&!o.isInRange(l)?null:l},Ew=function(e){function t(){return MRe(this,t),RRe(this,t,arguments)}return BRe(t,e),$Re(t,[{key:"render",value:function(){var s=this.props,i=s.x,a=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,u=Mr(i),d=Mr(a);if(Ea(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=VRe(this.props);if(!f)return null;var m=f.x,g=f.y,x=this.props,v=x.shape,y=x.className,N=po(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=b3(b3({clipPath:N},ct(this.props,!0)),{},{cx:m,cy:g});return q.createElement(Yt,{className:Et("recharts-reference-dot",y)},t.renderDot(v,j),qr.renderCallByParent(this.props,{x:m-o,y:g-o,width:2*o,height:2*o}))}}])}(q.Component);Aw(Ew,"displayName","ReferenceDot");Aw(Ew,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Aw(Ew,"renderDot",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):yt(e)?n=e(t):n=q.createElement(Ov,rP({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function iP(){return iP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},iP.apply(this,arguments)}function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function w3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function N3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(n),!0).forEach(function(s){kw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function URe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,IW(s.key),s)}}function WRe(e,t,n){return t&&qRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HRe(e,t,n){return t=Dj(t),GRe(e,MW()?Reflect.construct(t,n||[],Dj(e).constructor):t.apply(e,n))}function GRe(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KRe(e)}function KRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MW=function(){return!!e})()}function Dj(e){return Dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dj(e)}function YRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aP(e,t)}function aP(e,t){return aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},aP(e,t)}function kw(e,t,n){return t=IW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(e){var t=QRe(e,"string");return Af(t)=="symbol"?t:t+""}function QRe(e,t){if(Af(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Af(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XRe=function(t,n,s,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var m=Ek({x:d.scale,y:f.scale}),g={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:s?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:n?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return po(a,"discard")&&(!m.isInRange(g)||!m.isInRange(x))?null:bW(g,x)},Tw=function(e){function t(){return URe(this,t),HRe(this,t,arguments)}return YRe(t,e),WRe(t,[{key:"render",value:function(){var s=this.props,i=s.x1,a=s.x2,o=s.y1,l=s.y2,c=s.className,u=s.alwaysShow,d=s.clipPathId;Ea(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Mr(i),m=Mr(a),g=Mr(o),x=Mr(l),v=this.props.shape;if(!f&&!m&&!g&&!x&&!v)return null;var y=XRe(f,m,g,x,this.props);if(!y&&!v)return null;var N=po(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(Yt,{className:Et("recharts-reference-area",c)},t.renderRect(v,N3(N3({clipPath:N},ct(this.props,!0)),y)),qr.renderCallByParent(this.props,y))}}])}(q.Component);kw(Tw,"displayName","ReferenceArea");kw(Tw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});kw(Tw,"renderRect",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):yt(e)?n=e(t):n=q.createElement(Pk,iP({},t,{className:"recharts-reference-area-rect"})),n});function $W(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var s=[],i=0;i<e.length;i+=t)s.push(e[i]);return s}function JRe(e,t,n){var s={width:e.width+t.width,height:e.height+t.height};return H$e(s,n)}function ZRe(e,t,n){var s=n==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:s?i:a,end:s?i+o:a+l}:{start:s?i+o:a+l,end:s?i:a}}function Mj(e,t,n,s,i){if(e*t<e*s||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-s)>=0&&e*(t+e*a/2-i)<=0}function e3e(e,t){return $W(e,t+1)}function t3e(e,t,n,s,i){for(var a=(s||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var x=s==null?void 0:s[c];if(x===void 0)return{v:$W(s,u)};var v=c,y,N=function(){return y===void 0&&(y=n(x,v)),y},j=x.coordinate,b=c===0||Mj(e,j,N,d,l);b||(c=0,d=o,u+=1),b&&(d=j+e*(N()/2+i),c+=u)},m;u<=a.length;)if(m=f(),m)return m.v;return[]}function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function S3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(n),!0).forEach(function(s){n3e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function n3e(e,t,n){return t=r3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r3e(e){var t=s3e(e,"string");return Kg(t)=="symbol"?t:t+""}function s3e(e,t){if(Kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Kg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i3e(e,t,n,s,i){for(var a=(s||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(m){var g=a[m],x,v=function(){return x===void 0&&(x=n(g,m)),x};if(m===o-1){var y=e*(g.coordinate+e*v()/2-c);a[m]=g=hs(hs({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate})}else a[m]=g=hs(hs({},g),{},{tickCoord:g.coordinate});var N=Mj(e,g.tickCoord,v,l,c);N&&(c=g.tickCoord-e*(v()/2+i),a[m]=hs(hs({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function a3e(e,t,n,s,i,a){var o=(s||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=s[l-1],f=n(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=hs(hs({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var g=Mj(e,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-e*(f/2+i),o[l-1]=hs(hs({},d),{},{isShow:!0}))}for(var x=a?l-1:l,v=function(j){var b=o[j],_,C=function(){return _===void 0&&(_=n(b,j)),_};if(j===0){var A=e*(b.coordinate-e*C()/2-c);o[j]=b=hs(hs({},b),{},{tickCoord:A<0?b.coordinate-A*e:b.coordinate})}else o[j]=b=hs(hs({},b),{},{tickCoord:b.coordinate});var P=Mj(e,b.tickCoord,C,c,u);P&&(c=b.tickCoord+e*(C()/2+i),o[j]=hs(hs({},b),{},{isShow:!0}))},y=0;y<x;y++)v(y);return o}function $k(e,t,n){var s=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!s)return[];if(Ve(c)||ka.isSsr)return e3e(i,typeof c=="number"&&Ve(c)?c:0);var m=[],g=l==="top"||l==="bottom"?"width":"height",x=d&&g==="width"?Op(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=function(b,_){var C=yt(u)?u(b.value,_):b.value;return g==="width"?JRe(Op(C,{fontSize:t,letterSpacing:n}),x,f):Op(C,{fontSize:t,letterSpacing:n})[g]},y=i.length>=2?Es(i[1].coordinate-i[0].coordinate):1,N=ZRe(a,y,g);return c==="equidistantPreserveStart"?t3e(y,N,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=a3e(y,N,v,i,o,c==="preserveStartEnd"):m=i3e(y,N,v,i,o),m.filter(function(j){return j.isShow}))}var o3e=["viewBox"],l3e=["viewBox"],c3e=["ticks"];function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vh.apply(this,arguments)}function C3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(n),!0).forEach(function(s){Rk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function US(e,t){if(e==null)return{};var n=u3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function u3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function d3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,LW(s.key),s)}}function h3e(e,t,n){return t&&_3(e.prototype,t),n&&_3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f3e(e,t,n){return t=Ij(t),m3e(e,RW()?Reflect.construct(t,n||[],Ij(e).constructor):t.apply(e,n))}function m3e(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p3e(e)}function p3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RW=function(){return!!e})()}function Ij(e){return Ij=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ij(e)}function g3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oP(e,t)}function oP(e,t){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},oP(e,t)}function Rk(e,t,n){return t=LW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LW(e){var t=v3e(e,"string");return Ef(t)=="symbol"?t:t+""}function v3e(e,t){if(Ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ef(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fm=function(e){function t(n){var s;return d3e(this,t),s=f3e(this,t,[n]),s.state={fontSize:"",letterSpacing:""},s}return g3e(t,e),h3e(t,[{key:"shouldComponentUpdate",value:function(s,i){var a=s.viewBox,o=US(s,o3e),l=this.props,c=l.viewBox,u=US(l,l3e);return!Th(a,c)||!Th(o,u)||!Th(i,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var i=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,m=i.tickMargin,g,x,v,y,N,j,b=f?-1:1,_=s.tickSize||d,C=Ve(s.tickCoord)?s.tickCoord:s.coordinate;switch(u){case"top":g=x=s.coordinate,y=o+ +!f*c,v=y-b*_,j=v-b*m,N=C;break;case"left":v=y=s.coordinate,x=a+ +!f*l,g=x-b*_,N=g-b*m,j=C;break;case"right":v=y=s.coordinate,x=a+ +f*l,g=x+b*_,N=g+b*m,j=C;break;default:g=x=s.coordinate,y=o+ +f*c,v=y+b*_,j=v+b*m,N=C;break}return{line:{x1:g,y1:v,x2:x,y2:y},tick:{x:N,y:j}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,i=s.orientation,a=s.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,i=s.orientation,a=s.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.orientation,u=s.mirror,d=s.axisLine,f=_r(_r(_r({},ct(this.props,!1)),ct(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=_r(_r({},f),{},{x1:i,y1:a+m*l,x2:i+o,y2:a+m*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=_r(_r({},f),{},{x1:i+g*o,y1:a,x2:i+g*o,y2:a+l})}return q.createElement("line",vh({},f,{className:Et("recharts-cartesian-axis-line",wi(d,"className"))}))}},{key:"renderTicks",value:function(s,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,g=$k(_r(_r({},this.props),{},{ticks:s}),i,a),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=ct(this.props,!1),N=ct(d,!1),j=_r(_r({},y),{},{fill:"none"},ct(c,!1)),b=g.map(function(_,C){var A=o.getTickLineCoord(_),P=A.line,E=A.tick,M=_r(_r(_r(_r({textAnchor:x,verticalAnchor:v},y),{},{stroke:"none",fill:u},N),E),{},{index:C,payload:_,visibleTicksCount:g.length,tickFormatter:f});return q.createElement(Yt,vh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Xu(o.props,_,C)),c&&q.createElement("line",vh({},j,P,{className:Et("recharts-cartesian-axis-tick-line",wi(c,"className"))})),d&&t.renderTickItem(d,M,"".concat(yt(f)?f(_.value,C):_.value).concat(m||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var s=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,m=f.ticks,g=US(f,c3e),x=m;return yt(c)&&(x=m&&m.length>0?c(this.props):c(g)),o<=0||l<=0||!x||!x.length?null:q.createElement(Yt,{className:Et("recharts-cartesian-axis",u),ref:function(y){s.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),qr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,i,a){var o,l=Et(i.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(s)?o=q.cloneElement(s,_r(_r({},i),{},{className:l})):yt(s)?o=s(_r(_r({},i),{},{className:l})):o=q.createElement(Ju,vh({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(w.Component);Rk(fm,"displayName","CartesianAxis");Rk(fm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var x3e=["x1","y1","x2","y2","key"],y3e=["offset"];function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function P3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(n),!0).forEach(function(s){j3e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function j3e(e,t,n){return t=b3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b3e(e){var t=w3e(e,"string");return nd(t)=="symbol"?t:t+""}function w3e(e,t){if(nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(nd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bu.apply(this,arguments)}function A3(e,t){if(e==null)return{};var n=N3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function N3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var S3e=function(t){var n=t.fill;if(!n||n==="none")return null;var s=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return q.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function FW(e,t){var n;if(q.isValidElement(e))n=q.cloneElement(e,t);else if(yt(e))n=e(t);else{var s=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=A3(t,x3e),u=ct(c,!1);u.offset;var d=A3(u,y3e);n=q.createElement("line",bu({},d,{x1:s,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function C3e(e){var t=e.x,n=e.width,s=e.horizontal,i=s===void 0?!0:s,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=ms(ms({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return FW(i,u)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function _3e(e){var t=e.y,n=e.height,s=e.vertical,i=s===void 0?!0:s,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=ms(ms({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return FW(i,u)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function P3e(e){var t=e.horizontalFill,n=e.fillOpacity,s=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],v=x?i+o-m:d[g+1]-m;if(v<=0)return null;var y=g%t.length;return q.createElement("rect",{key:"react-".concat(g),y:m,x:s,height:v,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function A3e(e){var t=e.vertical,n=t===void 0?!0:t,s=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!s||!s.length)return null;var d=u.map(function(m){return Math.round(m+a-a)}).sort(function(m,g){return m-g});a!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],v=x?a+l-m:d[g+1]-m;if(v<=0)return null;var y=g%s.length;return q.createElement("rect",{key:"react-".concat(g),x:m,y:o,width:v,height:c,stroke:"none",fill:s[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var E3e=function(t,n){var s=t.xAxis,i=t.width,a=t.height,o=t.offset;return $7($k(ms(ms(ms({},fm.defaultProps),s),{},{ticks:Yo(s,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},k3e=function(t,n){var s=t.yAxis,i=t.width,a=t.height,o=t.offset;return $7($k(ms(ms(ms({},fm.defaultProps),s),{},{ticks:Yo(s,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Qd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rd(e){var t,n,s,i,a,o,l=Ok(),c=Dk(),u=vRe(),d=ms(ms({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Qd.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Qd.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Qd.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Qd.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Qd.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Qd.verticalFill,x:Ve(e.x)?e.x:u.left,y:Ve(e.y)?e.y:u.top,width:Ve(e.width)?e.width:u.width,height:Ve(e.height)?e.height:u.height}),f=d.x,m=d.y,g=d.width,x=d.height,v=d.syncWithTicks,y=d.horizontalValues,N=d.verticalValues,j=mRe(),b=pRe();if(!Ve(g)||g<=0||!Ve(x)||x<=0||!Ve(f)||f!==+f||!Ve(m)||m!==+m)return null;var _=d.verticalCoordinatesGenerator||E3e,C=d.horizontalCoordinatesGenerator||k3e,A=d.horizontalPoints,P=d.verticalPoints;if((!A||!A.length)&&yt(C)){var E=y&&y.length,M=C({yAxis:b?ms(ms({},b),{},{ticks:E?y:b.ticks}):void 0,width:l,height:c,offset:u},E?!0:v);Ea(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(nd(M),"]")),Array.isArray(M)&&(A=M)}if((!P||!P.length)&&yt(_)){var $=N&&N.length,T=_({xAxis:j?ms(ms({},j),{},{ticks:$?N:j.ticks}):void 0,width:l,height:c,offset:u},$?!0:v);Ea(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(nd(T),"]")),Array.isArray(T)&&(P=T)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(S3e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),q.createElement(C3e,bu({},d,{offset:u,horizontalPoints:A,xAxis:j,yAxis:b})),q.createElement(_3e,bu({},d,{offset:u,verticalPoints:P,xAxis:j,yAxis:b})),q.createElement(P3e,bu({},d,{horizontalPoints:A})),q.createElement(A3e,bu({},d,{verticalPoints:P})))}rd.displayName="CartesianGrid";var T3e=["type","layout","connectNulls","ref"],O3e=["key"];function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function E3(e,t){if(e==null)return{};var n=D3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function D3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Lp.apply(this,arguments)}function k3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(n),!0).forEach(function(s){ba(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Xd(e){return R3e(e)||$3e(e)||I3e(e)||M3e()}function M3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I3e(e,t){if(e){if(typeof e=="string")return lP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lP(e,t)}}function $3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R3e(e){if(Array.isArray(e))return lP(e)}function lP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function L3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,zW(s.key),s)}}function F3e(e,t,n){return t&&T3(e.prototype,t),n&&T3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function B3e(e,t,n){return t=$j(t),z3e(e,BW()?Reflect.construct(t,n||[],$j(e).constructor):t.apply(e,n))}function z3e(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V3e(e)}function V3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BW=function(){return!!e})()}function $j(e){return $j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$j(e)}function U3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cP(e,t)}function cP(e,t){return cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},cP(e,t)}function ba(e,t,n){return t=zW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zW(e){var t=q3e(e,"string");return kf(t)=="symbol"?t:t+""}function q3e(e,t){if(kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(kf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tf=function(e){function t(){var n;L3e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=B3e(this,t,[].concat(i)),ba(n,"state",{isAnimationFinished:!0,totalLength:0}),ba(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ba(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(N,j){return N+j});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,g=[],x=0,v=0;x<c.length;v+=c[x],++x)if(v+c[x]>f){g=[].concat(Xd(c.slice(0,x)),[f-v]);break}var y=g.length%2===0?[0,m]:[m];return[].concat(Xd(t.repeat(c,d)),Xd(g),y).map(function(N){return"".concat(N,"px")}).join(", ")}),ba(n,"id",md("recharts-line-")),ba(n,"pathRef",function(o){n.mainCurve=o}),ba(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ba(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return U3e(t,e),F3e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ni(d,Tv);if(!f)return null;var m=function(v,y){return{x:v.x,y:v.y,value:v.value,errorVal:gr(v.payload,y)}},g={clipPath:s?"url(#clipPath-".concat(i,")"):null};return q.createElement(Yt,g,f.map(function(x){return q.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(s,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ct(this.props,!1),m=ct(c,!0),g=u.map(function(v,y){var N=di(di(di({key:"dot-".concat(y),r:3},f),m),{},{index:y,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return t.renderDotItem(c,N)}),x={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return q.createElement(Yt,Lp({className:"recharts-line-dots",key:"dots"},x),g)}},{key:"renderCurveStatically",value:function(s,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=E3(l,T3e),m=di(di(di({},ct(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:s},o),{},{type:c,layout:u,connectNulls:d});return q.createElement($u,Lp({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,g=o.animationId,x=o.animateNewValues,v=o.width,y=o.height,N=this.state,j=N.prevPoints,b=N.totalLength;return q.createElement($a,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var C=_.t;if(j){var A=j.length/l.length,P=l.map(function(O,L){var z=Math.floor(L*A);if(j[z]){var J=j[z],H=Or(J.x,O.x),oe=Or(J.y,O.y);return di(di({},O),{},{x:H(C),y:oe(C)})}if(x){var Q=Or(v*2,O.x),D=Or(y/2,O.y);return di(di({},O),{},{x:Q(C),y:D(C)})}return di(di({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(P,s,i)}var E=Or(0,b),M=E(C),$;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});$=a.getStrokeDasharray(M,b,T)}else $=a.generateSimpleStrokeDasharray(b,M);return a.renderCurveStatically(l,s,i,{strokeDasharray:$})})}},{key:"renderCurve",value:function(s,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Zu(u,o))?this.renderCurveWithAnimation(s,i):this.renderCurveStatically(o,s,i)}},{key:"render",value:function(){var s,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,m=i.left,g=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,j=l.length===1,b=Et("recharts-line",c),_=u&&u.allowDataOverflow,C=d&&d.allowDataOverflow,A=_||C,P=At(y)?this.id:y,E=(s=ct(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},M=E.r,$=M===void 0?3:M,T=E.strokeWidth,O=T===void 0?2:T,L=AU(o)?o:{},z=L.clipDot,J=z===void 0?!0:z,H=$*2+O;return q.createElement(Yt,{className:b},_||C?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(P)},q.createElement("rect",{x:_?m:m-g/2,y:C?f:f-x/2,width:_?g:g*2,height:C?x:x*2})),!J&&q.createElement("clipPath",{id:"clipPath-dots-".concat(P)},q.createElement("rect",{x:m-H/2,y:f-H/2,width:g+H,height:x+H}))):null,!j&&this.renderCurve(A,P),this.renderErrorBar(A,P),(j||o)&&this.renderDots(A,J,P),(!v||N)&&mo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:i.curPoints}:s.points!==i.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,i){for(var a=s.length%2!==0?[].concat(Xd(s),[0]):s,o=[],l=0;l<i;++l)o=[].concat(Xd(o),Xd(a));return o}},{key:"renderDotItem",value:function(s,i){var a;if(q.isValidElement(s))a=q.cloneElement(s,i);else if(yt(s))a=s(i);else{var o=i.key,l=E3(i,O3e),c=Et("recharts-line-dot",typeof s!="boolean"?s.className:"");a=q.createElement(Ov,Lp({key:o},l,{className:c}))}return a}}])}(w.PureComponent);ba(Tf,"displayName","Line");ba(Tf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ka.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ba(Tf,"getComposedData",function(e){var t=e.props,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(m,g){var x=gr(m,o);return d==="horizontal"?{x:fj({axis:n,ticks:i,bandSize:l,entry:m,index:g}),y:At(x)?null:s.scale(x),value:x,payload:m}:{x:At(x)?null:n.scale(x),y:fj({axis:s,ticks:a,bandSize:l,entry:m,index:g}),value:x,payload:m}});return di({points:f,layout:d},u)});var W3e=["layout","type","stroke","connectNulls","isRange","ref"],H3e=["key"],VW;function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function UW(e,t){if(e==null)return{};var n=G3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function G3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wu.apply(this,arguments)}function O3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(n),!0).forEach(function(s){oo(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function K3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,WW(s.key),s)}}function Y3e(e,t,n){return t&&D3(e.prototype,t),n&&D3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q3e(e,t,n){return t=Rj(t),X3e(e,qW()?Reflect.construct(t,n||[],Rj(e).constructor):t.apply(e,n))}function X3e(e,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J3e(e)}function J3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qW=function(){return!!e})()}function Rj(e){return Rj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rj(e)}function Z3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uP(e,t)}function uP(e,t){return uP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},uP(e,t)}function oo(e,t,n){return t=WW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WW(e){var t=eLe(e,"string");return Of(t)=="symbol"?t:t+""}function eLe(e,t){if(Of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Of(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ea=function(e){function t(){var n;K3e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=Q3e(this,t,[].concat(i)),oo(n,"state",{isAnimationFinished:!0}),oo(n,"id",md("recharts-area-")),oo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),yt(o)&&o()}),oo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),yt(o)&&o()}),n}return Z3e(t,e),Y3e(t,[{key:"renderDots",value:function(s,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,m=ct(this.props,!1),g=ct(u,!0),x=d.map(function(y,N){var j=Ll(Ll(Ll({key:"dot-".concat(N),r:3},m),g),{},{index:N,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,j)}),v={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return q.createElement(Yt,wu({className:"recharts-area-dots"},v),x)}},{key:"renderHorizontalRect",value:function(s){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=s*Math.abs(c-u),f=ic(o.map(function(m){return m.y||0}));return Ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(ic(a.map(function(m){return m.y||0})),f)),Ve(f)?q.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=s*Math.abs(c-u),f=ic(o.map(function(m){return m.x||0}));return Ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(ic(a.map(function(m){return m.x||0})),f)),Ve(f)?q.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(s){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,i,a,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var g=UW(l,W3e);return q.createElement(Yt,{clipPath:a?"url(#clipPath-".concat(o,")"):null},q.createElement($u,wu({},ct(g,!0),{points:s,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&q.createElement($u,wu({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})),d!=="none"&&m&&q.createElement($u,wu({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(s,i){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,g=o.animationId,x=this.state,v=x.prevPoints,y=x.prevBaseLine;return q.createElement($a,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var j=N.t;if(v){var b=v.length/l.length,_=l.map(function(E,M){var $=Math.floor(M*b);if(v[$]){var T=v[$],O=Or(T.x,E.x),L=Or(T.y,E.y);return Ll(Ll({},E),{},{x:O(j),y:L(j)})}return E}),C;if(Ve(c)&&typeof c=="number"){var A=Or(y,c);C=A(j)}else if(At(c)||im(c)){var P=Or(y,0);C=P(j)}else C=c.map(function(E,M){var $=Math.floor(M*b);if(y[$]){var T=y[$],O=Or(T.x,E.x),L=Or(T.y,E.y);return Ll(Ll({},E),{},{x:O(j),y:L(j)})}return E});return a.renderAreaStatically(_,C,s,i)}return q.createElement(Yt,null,q.createElement("defs",null,q.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(j))),q.createElement(Yt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,s,i)))})}},{key:"renderArea",value:function(s,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,m=u.totalLength;return c&&o&&o.length&&(!d&&m>0||!Zu(d,o)||!Zu(f,l))?this.renderAreaWithAnimation(s,i):this.renderAreaStatically(o,l,s,i)}},{key:"render",value:function(){var s,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,m=i.yAxis,g=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,j=l.length===1,b=Et("recharts-area",c),_=f&&f.allowDataOverflow,C=m&&m.allowDataOverflow,A=_||C,P=At(y)?this.id:y,E=(s=ct(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},M=E.r,$=M===void 0?3:M,T=E.strokeWidth,O=T===void 0?2:T,L=AU(o)?o:{},z=L.clipDot,J=z===void 0?!0:z,H=$*2+O;return q.createElement(Yt,{className:b},_||C?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(P)},q.createElement("rect",{x:_?d:d-g/2,y:C?u:u-x/2,width:_?g:g*2,height:C?x:x*2})),!J&&q.createElement("clipPath",{id:"clipPath-dots-".concat(P)},q.createElement("rect",{x:d-H/2,y:u-H/2,width:g+H,height:x+H}))):null,j?null:this.renderArea(A,P),(o||j)&&this.renderDots(A,J,P),(!v||N)&&mo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:s.points!==i.curPoints||s.baseLine!==i.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(w.PureComponent);VW=ea;oo(ea,"displayName","Area");oo(ea,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ka.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});oo(ea,"getBaseValue",function(e,t,n,s){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(Ve(l)&&typeof l=="number")return l;var c=i==="horizontal"?s:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});oo(ea,"getComposedData",function(e){var t=e.props,n=e.item,s=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,g=t.layout,x=u&&u.length,v=VW.getBaseValue(t,n,s,i),y=g==="horizontal",N=!1,j=f.map(function(_,C){var A;x?A=u[d+C]:(A=gr(_,c),Array.isArray(A)?N=!0:A=[v,A]);var P=A[1]==null||x&&gr(_,c)==null;return y?{x:fj({axis:s,ticks:a,bandSize:l,entry:_,index:C}),y:P?null:i.scale(A[1]),value:A,payload:_}:{x:P?null:s.scale(A[1]),y:fj({axis:i,ticks:o,bandSize:l,entry:_,index:C}),value:A,payload:_}}),b;return x||N?b=j.map(function(_){var C=Array.isArray(_.value)?_.value[0]:null;return y?{x:_.x,y:C!=null&&_.y!=null?i.scale(C):null}:{x:C!=null?s.scale(C):null,y:_.y}}):b=y?i.scale(v):s.scale(v),Ll({points:j,baseLine:b,layout:g,isRange:N},m)});oo(ea,"renderDotItem",function(e,t){var n;if(q.isValidElement(e))n=q.cloneElement(e,t);else if(yt(e))n=e(t);else{var s=Et("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=UW(t,H3e);n=q.createElement(Ov,wu({},a,{key:i,className:s}))}return n});function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function tLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,KW(s.key),s)}}function rLe(e,t,n){return t&&nLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sLe(e,t,n){return t=Lj(t),iLe(e,HW()?Reflect.construct(t,n||[],Lj(e).constructor):t.apply(e,n))}function iLe(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aLe(e)}function aLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HW=function(){return!!e})()}function Lj(e){return Lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lj(e)}function oLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dP(e,t)}function dP(e,t){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},dP(e,t)}function GW(e,t,n){return t=KW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KW(e){var t=lLe(e,"string");return Df(t)=="symbol"?t:t+""}function lLe(e,t){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Df(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hP(){return hP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hP.apply(this,arguments)}function cLe(e){var t=e.xAxisId,n=Ok(),s=Dk(),i=AW(t);return i==null?null:w.createElement(fm,hP({},i,{className:Et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return Yo(o,!0)}}))}var Ra=function(e){function t(){return tLe(this,t),sLe(this,t,arguments)}return oLe(t,e),rLe(t,[{key:"render",value:function(){return w.createElement(cLe,this.props)}}])}(w.Component);GW(Ra,"displayName","XAxis");GW(Ra,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function uLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,XW(s.key),s)}}function hLe(e,t,n){return t&&dLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fLe(e,t,n){return t=Fj(t),mLe(e,YW()?Reflect.construct(t,n||[],Fj(e).constructor):t.apply(e,n))}function mLe(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pLe(e)}function pLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YW=function(){return!!e})()}function Fj(e){return Fj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fj(e)}function gLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fP(e,t)}function fP(e,t){return fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},fP(e,t)}function QW(e,t,n){return t=XW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XW(e){var t=vLe(e,"string");return Mf(t)=="symbol"?t:t+""}function vLe(e,t){if(Mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Mf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mP(){return mP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mP.apply(this,arguments)}var xLe=function(t){var n=t.yAxisId,s=Ok(),i=Dk(),a=EW(n);return a==null?null:w.createElement(fm,mP({},a,{className:Et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:s,height:i},ticksGenerator:function(l){return Yo(l,!0)}}))},La=function(e){function t(){return uLe(this,t),fLe(this,t,arguments)}return gLe(t,e),hLe(t,[{key:"render",value:function(){return w.createElement(xLe,this.props)}}])}(w.Component);QW(La,"displayName","YAxis");QW(La,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function M3(e){return wLe(e)||bLe(e)||jLe(e)||yLe()}function yLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jLe(e,t){if(e){if(typeof e=="string")return pP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pP(e,t)}}function bLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wLe(e){if(Array.isArray(e))return pP(e)}function pP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var gP=function(t,n,s,i,a){var o=Ni(t,Ik),l=Ni(t,Ew),c=[].concat(M3(o),M3(l)),u=Ni(t,Tw),d="".concat(i,"Id"),f=i[0],m=n;if(c.length&&(m=c.reduce(function(v,y){if(y.props[d]===s&&po(y.props,"extendDomain")&&Ve(y.props[f])){var N=y.props[f];return[Math.min(v[0],N),Math.max(v[1],N)]}return v},m)),u.length){var g="".concat(f,"1"),x="".concat(f,"2");m=u.reduce(function(v,y){if(y.props[d]===s&&po(y.props,"extendDomain")&&Ve(y.props[g])&&Ve(y.props[x])){var N=y.props[g],j=y.props[x];return[Math.min(v[0],N,j),Math.max(v[1],N,j)]}return v},m)}return a&&a.length&&(m=a.reduce(function(v,y){return Ve(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},m)),m},JW={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||c,m),x=n?n+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],g]:c._events[x].push(g):(c._events[x]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new s:delete c._events[u]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,x=new Array(g);m<g;m++)x[m]=f[m].fn;return x},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,g,x){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],N=arguments.length,j,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),N){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,m),!0;case 5:return y.fn.call(y.context,d,f,m,g),!0;case 6:return y.fn.call(y.context,d,f,m,g,x),!0}for(b=1,j=new Array(N-1);b<N;b++)j[b-1]=arguments[b];y.fn.apply(y.context,j)}else{var _=y.length,C;for(b=0;b<_;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),N){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,m);break;default:if(!j)for(C=1,j=new Array(N-1);C<N;C++)j[C-1]=arguments[C];y[b].fn.apply(y[b].context,j)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var g=n?n+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var x=this._events[g];if(x.fn)x.fn===d&&(!m||x.once)&&(!f||x.context===f)&&o(this,g);else{for(var v=0,y=[],N=x.length;v<N;v++)(x[v].fn!==d||m&&!x[v].once||f&&x[v].context!==f)&&y.push(x[v]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(JW);var NLe=JW.exports;const SLe=pn(NLe);var qS=new SLe,WS="recharts.syncMouseEvents";function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function CLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Le(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,ZW(s.key),s)}}function PLe(e,t,n){return t&&_Le(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HS(e,t,n){return t=ZW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZW(e){var t=ALe(e,"string");return Yg(t)=="symbol"?t:t+""}function ALe(e,t){if(Yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Yg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ELe=function(){function e(){CLe(this,e),HS(this,"activeIndex",0),HS(this,"coordinateList",[]),HS(this,"layout","horizontal")}return PLe(e,[{key:"setDetails",value:function(n){var s,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,m=n.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(s=a??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((s=window)===null||s===void 0?void 0:s.scrollY)||0,f=a+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function kLe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],i=e==null?void 0:e[1];if(s&&i&&Ve(s)&&Ve(i))return!0}return!1}function TLe(e,t,n,s){var i=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function e9(e){var t=e.cx,n=e.cy,s=e.radius,i=e.startAngle,a=e.endAngle,o=In(t,n,s,i),l=In(t,n,s,a);return{points:[o,l],cx:t,cy:n,radius:s,startAngle:i,endAngle:a}}function OLe(e,t,n){var s,i,a,o;if(e==="horizontal")s=t.x,a=s,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,s=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=In(l,c,u,f),g=In(l,c,d,f);s=m.x,i=m.y,a=g.x,o=g.y}else return e9(t);return[{x:s,y:i},{x:a,y:o}]}function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function I3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Py(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(n),!0).forEach(function(s){DLe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function DLe(e,t,n){return t=MLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MLe(e){var t=ILe(e,"string");return Qg(t)=="symbol"?t:t+""}function ILe(e,t){if(Qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Qg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Le(e){var t,n,s=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,g=(t=s.props.cursor)!==null&&t!==void 0?t:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!g||!a||!o||m!=="ScatterChart"&&i!=="axis")return null;var x,v=$u;if(m==="ScatterChart")x=o,v=qMe;else if(m==="BarChart")x=TLe(f,o,c,d),v=Pk;else if(f==="radial"){var y=e9(o),N=y.cx,j=y.cy,b=y.radius,_=y.startAngle,C=y.endAngle;x={cx:N,cy:j,startAngle:_,endAngle:C,innerRadius:b,outerRadius:b},v=G7}else x={points:OLe(f,o,c)},v=$u;var A=Py(Py(Py(Py({stroke:"#ccc",pointerEvents:"none"},c),x),ct(g,!1)),{},{payload:l,payloadIndex:u,className:Et("recharts-tooltip-cursor",g.className)});return w.isValidElement(g)?w.cloneElement(g,A):w.createElement(v,A)}var RLe=["item"],LLe=["children","className","width","height","style","compact","title","desc"];function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xh.apply(this,arguments)}function $3(e,t){return zLe(e)||BLe(e,t)||n9(e,t)||FLe()}function FLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BLe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function zLe(e){if(Array.isArray(e))return e}function R3(e,t){if(e==null)return{};var n=VLe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function VLe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function ULe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,r9(s.key),s)}}function WLe(e,t,n){return t&&qLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HLe(e,t,n){return t=Bj(t),GLe(e,t9()?Reflect.construct(t,n||[],Bj(e).constructor):t.apply(e,n))}function GLe(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KLe(e)}function KLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!e})()}function Bj(e){return Bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bj(e)}function YLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vP(e,t)}function vP(e,t){return vP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},vP(e,t)}function $f(e){return JLe(e)||XLe(e)||n9(e)||QLe()}function QLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n9(e,t){if(e){if(typeof e=="string")return xP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xP(e,t)}}function XLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JLe(e){if(Array.isArray(e))return xP(e)}function xP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function L3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(n),!0).forEach(function(s){xt(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xt(e,t,n){return t=r9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r9(e){var t=ZLe(e,"string");return If(t)=="symbol"?t:t+""}function ZLe(e,t){if(If(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(If(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eFe={xAxis:["bottom","top"],yAxis:["left","right"]},tFe={width:"100%",height:"100%"},s9={x:0,y:0};function Ay(e){return e}var nFe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},rFe=function(t,n,s,i){var a=n.find(function(d){return d&&d.index===s});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return _e(_e(_e({},i),In(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return _e(_e(_e({},i),In(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return s9},Ow=function(t,n){var s=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(s??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat($f(l),$f(u)):l},[]);return o.length>0?o:t&&t.length&&Ve(i)&&Ve(a)?t.slice(i,a+1):[]};function i9(e){return e==="number"?[0,"auto"]:void 0}var yP=function(t,n,s,i){var a=t.graphicalItems,o=t.tooltipAxis,l=Ow(n,t);return s<0||!a||!a.length||s>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var g=f===void 0?l:f;m=F0(g,o.dataKey,i)}else m=f&&f[s]||l[s];return m?[].concat($f(c),[z7(u,m)]):c},[])},F3=function(t,n,s,i){var a=i||{x:t.chartX,y:t.chartY},o=nFe(a,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=mTe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=yP(t,n,d,f),g=rFe(s,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:g}}return null},sFe=function(t,n){var s=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,g=I7(d,a);return s.reduce(function(x,v){var y,N=v.type.defaultProps!==void 0?_e(_e({},v.type.defaultProps),v.props):v.props,j=N.type,b=N.dataKey,_=N.allowDataOverflow,C=N.allowDuplicatedCategory,A=N.scale,P=N.ticks,E=N.includeHidden,M=N[o];if(x[M])return x;var $=Ow(t.data,{graphicalItems:i.filter(function(te){var Z,ne=o in te.props?te.props[o]:(Z=te.type.defaultProps)===null||Z===void 0?void 0:Z[o];return ne===M}),dataStartIndex:c,dataEndIndex:u}),T=$.length,O,L,z;kLe(N.domain,_,j)&&(O=O_(N.domain,null,_),g&&(j==="number"||A!=="auto")&&(z=Mp($,b,"category")));var J=i9(j);if(!O||O.length===0){var H,oe=(H=N.domain)!==null&&H!==void 0?H:J;if(b){if(O=Mp($,b,j),j==="category"&&g){var Q=sye(O);C&&Q?(L=O,O=_j(0,T)):C||(O=iR(oe,O,v).reduce(function(te,Z){return te.indexOf(Z)>=0?te:[].concat($f(te),[Z])},[]))}else if(j==="category")C?O=O.filter(function(te){return te!==""&&!At(te)}):O=iR(oe,O,v).reduce(function(te,Z){return te.indexOf(Z)>=0||Z===""||At(Z)?te:[].concat($f(te),[Z])},[]);else if(j==="number"){var D=yTe($,i.filter(function(te){var Z,ne,xe=o in te.props?te.props[o]:(Z=te.type.defaultProps)===null||Z===void 0?void 0:Z[o],ye="hide"in te.props?te.props.hide:(ne=te.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return xe===M&&(E||!ye)}),b,a,d);D&&(O=D)}g&&(j==="number"||A!=="auto")&&(z=Mp($,b,"category"))}else g?O=_j(0,T):l&&l[M]&&l[M].hasStack&&j==="number"?O=m==="expand"?[0,1]:B7(l[M].stackGroups,c,u):O=M7($,i.filter(function(te){var Z=o in te.props?te.props[o]:te.type.defaultProps[o],ne="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return Z===M&&(E||!ne)}),j,d,!0);if(j==="number")O=gP(f,O,M,a,P),oe&&(O=O_(oe,O,_));else if(j==="category"&&oe){var ae=oe,pe=O.every(function(te){return ae.indexOf(te)>=0});pe&&(O=ae)}}return _e(_e({},x),{},xt({},M,_e(_e({},N),{},{axisType:a,domain:O,categoricalDomain:z,duplicateDomain:L,originalDomain:(y=N.domain)!==null&&y!==void 0?y:J,isCategorical:g,layout:d})))},{})},iFe=function(t,n){var s=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=Ow(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:u}),g=m.length,x=I7(d,a),v=-1;return s.reduce(function(y,N){var j=N.type.defaultProps!==void 0?_e(_e({},N.type.defaultProps),N.props):N.props,b=j[o],_=i9("number");if(!y[b]){v++;var C;return x?C=_j(0,g):l&&l[b]&&l[b].hasStack?(C=B7(l[b].stackGroups,c,u),C=gP(f,C,b,a)):(C=O_(_,M7(m,s.filter(function(A){var P,E,M=o in A.props?A.props[o]:(P=A.type.defaultProps)===null||P===void 0?void 0:P[o],$="hide"in A.props?A.props.hide:(E=A.type.defaultProps)===null||E===void 0?void 0:E.hide;return M===b&&!$}),"number",d),i.defaultProps.allowDataOverflow),C=gP(f,C,b,a)),_e(_e({},y),{},xt({},b,_e(_e({axisType:a},i.defaultProps),{},{hide:!0,orientation:wi(eFe,"".concat(a,".").concat(v%2),null),domain:C,originalDomain:_,isCategorical:x,layout:d})))}return y},{})},aFe=function(t,n){var s=n.axisType,i=s===void 0?"xAxis":s,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(i,"Id"),m=Ni(d,a),g={};return m&&m.length?g=sFe(t,{axes:m,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(g=iFe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},oFe=function(t){var n=Wl(t),s=Yo(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:ek(s,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:mj(n,s)}},B3=function(t){var n=t.children,s=t.defaultShowTooltip,i=mi(n,Sf),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},lFe=function(t){return!t||!t.length?!1:t.some(function(n){var s=Xo(n&&n.type);return s&&s.indexOf("Bar")>=0})},z3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},cFe=function(t,n){var s=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=s.width,d=s.height,f=s.children,m=s.margin||{},g=mi(f,Sf),x=mi(f,Oh),v=Object.keys(c).reduce(function(C,A){var P=c[A],E=P.orientation;return!P.mirror&&!P.hide?_e(_e({},C),{},xt({},E,C[E]+P.width)):C},{left:m.left||0,right:m.right||0}),y=Object.keys(o).reduce(function(C,A){var P=o[A],E=P.orientation;return!P.mirror&&!P.hide?_e(_e({},C),{},xt({},E,wi(C,"".concat(E))+P.height)):C},{top:m.top||0,bottom:m.bottom||0}),N=_e(_e({},y),v),j=N.bottom;g&&(N.bottom+=g.props.height||Sf.defaultProps.height),x&&n&&(N=vTe(N,i,s,n));var b=u-N.left-N.right,_=d-N.top-N.bottom;return _e(_e({brushBottom:j},N),{},{width:Math.max(b,0),height:Math.max(_,0)})},uFe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Dw=function(t){var n=t.chartName,s=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(N,j){var b=j.graphicalItems,_=j.stackGroups,C=j.offset,A=j.updateId,P=j.dataStartIndex,E=j.dataEndIndex,M=N.barSize,$=N.layout,T=N.barGap,O=N.barCategoryGap,L=N.maxBarSize,z=z3($),J=z.numericAxisName,H=z.cateAxisName,oe=lFe(b),Q=[];return b.forEach(function(D,ae){var pe=Ow(N.data,{graphicalItems:[D],dataStartIndex:P,dataEndIndex:E}),te=D.type.defaultProps!==void 0?_e(_e({},D.type.defaultProps),D.props):D.props,Z=te.dataKey,ne=te.maxBarSize,xe=te["".concat(J,"Id")],ye=te["".concat(H,"Id")],se={},F=c.reduce(function(Ge,Ke){var Wt=j["".concat(Ke.axisType,"Map")],Yn=te["".concat(Ke.axisType,"Id")];Wt&&Wt[Yn]||Ke.axisType==="zAxis"||td();var kt=Wt[Yn];return _e(_e({},Ge),{},xt(xt({},Ke.axisType,kt),"".concat(Ke.axisType,"Ticks"),Yo(kt)))},se),Y=F[H],ee=F["".concat(H,"Ticks")],G=_&&_[xe]&&_[xe].hasStack&&ATe(D,_[xe].stackGroups),I=Xo(D.type).indexOf("Bar")>=0,ve=mj(Y,ee),we=[],Fe=oe&&pTe({barSize:M,stackGroups:_,totalSize:uFe(F,H)});if(I){var Be,it,lt=At(ne)?L:ne,ft=(Be=(it=mj(Y,ee,!0))!==null&&it!==void 0?it:lt)!==null&&Be!==void 0?Be:0;we=gTe({barGap:T,barCategoryGap:O,bandSize:ft!==ve?ft:ve,sizeList:Fe[ye],maxBarSize:lt}),ft!==ve&&(we=we.map(function(Ge){return _e(_e({},Ge),{},{position:_e(_e({},Ge.position),{},{offset:Ge.position.offset-ft/2})})}))}var Ne=D&&D.type&&D.type.getComposedData;Ne&&Q.push({props:_e(_e({},Ne(_e(_e({},F),{},{displayedData:pe,props:N,dataKey:Z,item:D,bandSize:ve,barPosition:we,offset:C,stackedData:G,layout:$,dataStartIndex:P,dataEndIndex:E}))),{},xt(xt(xt({key:D.key||"item-".concat(ae)},J,F[J]),H,F[H]),"animationId",A)),childIndex:gye(D,N.children),item:D})}),Q},g=function(N,j){var b=N.props,_=N.dataStartIndex,C=N.dataEndIndex,A=N.updateId;if(!ZI({props:b}))return null;var P=b.children,E=b.layout,M=b.stackOffset,$=b.data,T=b.reverseStackOrder,O=z3(E),L=O.numericAxisName,z=O.cateAxisName,J=Ni(P,s),H=_Te($,J,"".concat(L,"Id"),"".concat(z,"Id"),M,T),oe=c.reduce(function(te,Z){var ne="".concat(Z.axisType,"Map");return _e(_e({},te),{},xt({},ne,aFe(b,_e(_e({},Z),{},{graphicalItems:J,stackGroups:Z.axisType===L&&H,dataStartIndex:_,dataEndIndex:C}))))},{}),Q=cFe(_e(_e({},oe),{},{props:b,graphicalItems:J}),j==null?void 0:j.legendBBox);Object.keys(oe).forEach(function(te){oe[te]=d(b,oe[te],Q,te.replace("Map",""),n)});var D=oe["".concat(z,"Map")],ae=oFe(D),pe=m(b,_e(_e({},oe),{},{dataStartIndex:_,dataEndIndex:C,updateId:A,graphicalItems:J,stackGroups:H,offset:Q}));return _e(_e({formattedGraphicalItems:pe,graphicalItems:J,offset:Q,stackGroups:H},ae),oe)},x=function(y){function N(j){var b,_,C;return ULe(this,N),C=HLe(this,N,[j]),xt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xt(C,"accessibilityManager",new ELe),xt(C,"handleLegendBBoxUpdate",function(A){if(A){var P=C.state,E=P.dataStartIndex,M=P.dataEndIndex,$=P.updateId;C.setState(_e({legendBBox:A},g({props:C.props,dataStartIndex:E,dataEndIndex:M,updateId:$},_e(_e({},C.state),{},{legendBBox:A}))))}}),xt(C,"handleReceiveSyncEvent",function(A,P,E){if(C.props.syncId===A){if(E===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(P)}}),xt(C,"handleBrushChange",function(A){var P=A.startIndex,E=A.endIndex;if(P!==C.state.dataStartIndex||E!==C.state.dataEndIndex){var M=C.state.updateId;C.setState(function(){return _e({dataStartIndex:P,dataEndIndex:E},g({props:C.props,dataStartIndex:P,dataEndIndex:E,updateId:M},C.state))}),C.triggerSyncEvent({dataStartIndex:P,dataEndIndex:E})}}),xt(C,"handleMouseEnter",function(A){var P=C.getMouseInfo(A);if(P){var E=_e(_e({},P),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var M=C.props.onMouseEnter;yt(M)&&M(E,A)}}),xt(C,"triggeredAfterMouseMove",function(A){var P=C.getMouseInfo(A),E=P?_e(_e({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var M=C.props.onMouseMove;yt(M)&&M(E,A)}),xt(C,"handleItemMouseEnter",function(A){C.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),xt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),xt(C,"handleMouseMove",function(A){A.persist(),C.throttleTriggeredAfterMouseMove(A)}),xt(C,"handleMouseLeave",function(A){C.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var E=C.props.onMouseLeave;yt(E)&&E(P,A)}),xt(C,"handleOuterEvent",function(A){var P=pye(A),E=wi(C.props,"".concat(P));if(P&&yt(E)){var M,$;/.*touch.*/i.test(P)?$=C.getMouseInfo(A.changedTouches[0]):$=C.getMouseInfo(A),E((M=$)!==null&&M!==void 0?M:{},A)}}),xt(C,"handleClick",function(A){var P=C.getMouseInfo(A);if(P){var E=_e(_e({},P),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var M=C.props.onClick;yt(M)&&M(E,A)}}),xt(C,"handleMouseDown",function(A){var P=C.props.onMouseDown;if(yt(P)){var E=C.getMouseInfo(A);P(E,A)}}),xt(C,"handleMouseUp",function(A){var P=C.props.onMouseUp;if(yt(P)){var E=C.getMouseInfo(A);P(E,A)}}),xt(C,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),xt(C,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseDown(A.changedTouches[0])}),xt(C,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseUp(A.changedTouches[0])}),xt(C,"handleDoubleClick",function(A){var P=C.props.onDoubleClick;if(yt(P)){var E=C.getMouseInfo(A);P(E,A)}}),xt(C,"handleContextMenu",function(A){var P=C.props.onContextMenu;if(yt(P)){var E=C.getMouseInfo(A);P(E,A)}}),xt(C,"triggerSyncEvent",function(A){C.props.syncId!==void 0&&qS.emit(WS,C.props.syncId,A,C.eventEmitterSymbol)}),xt(C,"applySyncEvent",function(A){var P=C.props,E=P.layout,M=P.syncMethod,$=C.state.updateId,T=A.dataStartIndex,O=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)C.setState(_e({dataStartIndex:T,dataEndIndex:O},g({props:C.props,dataStartIndex:T,dataEndIndex:O,updateId:$},C.state)));else if(A.activeTooltipIndex!==void 0){var L=A.chartX,z=A.chartY,J=A.activeTooltipIndex,H=C.state,oe=H.offset,Q=H.tooltipTicks;if(!oe)return;if(typeof M=="function")J=M(Q,A);else if(M==="value"){J=-1;for(var D=0;D<Q.length;D++)if(Q[D].value===A.activeLabel){J=D;break}}var ae=_e(_e({},oe),{},{x:oe.left,y:oe.top}),pe=Math.min(L,ae.x+ae.width),te=Math.min(z,ae.y+ae.height),Z=Q[J]&&Q[J].value,ne=yP(C.state,C.props.data,J),xe=Q[J]?{x:E==="horizontal"?Q[J].coordinate:pe,y:E==="horizontal"?te:Q[J].coordinate}:s9;C.setState(_e(_e({},A),{},{activeLabel:Z,activeCoordinate:xe,activePayload:ne,activeTooltipIndex:J}))}else C.setState(A)}),xt(C,"renderCursor",function(A){var P,E=C.state,M=E.isTooltipActive,$=E.activeCoordinate,T=E.activePayload,O=E.offset,L=E.activeTooltipIndex,z=E.tooltipAxisBandSize,J=C.getTooltipEventType(),H=(P=A.props.active)!==null&&P!==void 0?P:M,oe=C.props.layout,Q=A.key||"_recharts-cursor";return q.createElement($Le,{key:Q,activeCoordinate:$,activePayload:T,activeTooltipIndex:L,chartName:n,element:A,isActive:H,layout:oe,offset:O,tooltipAxisBandSize:z,tooltipEventType:J})}),xt(C,"renderPolarAxis",function(A,P,E){var M=wi(A,"type.axisType"),$=wi(C.state,"".concat(M,"Map")),T=A.type.defaultProps,O=T!==void 0?_e(_e({},T),A.props):A.props,L=$&&$[O["".concat(M,"Id")]];return w.cloneElement(A,_e(_e({},L),{},{className:Et(M,L.className),key:A.key||"".concat(P,"-").concat(E),ticks:Yo(L,!0)}))}),xt(C,"renderPolarGrid",function(A){var P=A.props,E=P.radialLines,M=P.polarAngles,$=P.polarRadius,T=C.state,O=T.radiusAxisMap,L=T.angleAxisMap,z=Wl(O),J=Wl(L),H=J.cx,oe=J.cy,Q=J.innerRadius,D=J.outerRadius;return w.cloneElement(A,{polarAngles:Array.isArray(M)?M:Yo(J,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray($)?$:Yo(z,!0).map(function(ae){return ae.coordinate}),cx:H,cy:oe,innerRadius:Q,outerRadius:D,key:A.key||"polar-grid",radialLines:E})}),xt(C,"renderLegend",function(){var A=C.state.formattedGraphicalItems,P=C.props,E=P.children,M=P.width,$=P.height,T=C.props.margin||{},O=M-(T.left||0)-(T.right||0),L=O7({children:E,formattedGraphicalItems:A,legendWidth:O,legendContent:u});if(!L)return null;var z=L.item,J=R3(L,RLe);return w.cloneElement(z,_e(_e({},J),{},{chartWidth:M,chartHeight:$,margin:T,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),xt(C,"renderTooltip",function(){var A,P=C.props,E=P.children,M=P.accessibilityLayer,$=mi(E,Ur);if(!$)return null;var T=C.state,O=T.isTooltipActive,L=T.activeCoordinate,z=T.activePayload,J=T.activeLabel,H=T.offset,oe=(A=$.props.active)!==null&&A!==void 0?A:O;return w.cloneElement($,{viewBox:_e(_e({},H),{},{x:H.left,y:H.top}),active:oe,label:J,payload:oe?z:[],coordinate:L,accessibilityLayer:M})}),xt(C,"renderBrush",function(A){var P=C.props,E=P.margin,M=P.data,$=C.state,T=$.offset,O=$.dataStartIndex,L=$.dataEndIndex,z=$.updateId;return w.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Ny(C.handleBrushChange,A.props.onChange),data:M,x:Ve(A.props.x)?A.props.x:T.left,y:Ve(A.props.y)?A.props.y:T.top+T.height+T.brushBottom-(E.bottom||0),width:Ve(A.props.width)?A.props.width:T.width,startIndex:O,endIndex:L,updateId:"brush-".concat(z)})}),xt(C,"renderReferenceElement",function(A,P,E){if(!A)return null;var M=C,$=M.clipPathId,T=C.state,O=T.xAxisMap,L=T.yAxisMap,z=T.offset,J=A.type.defaultProps||{},H=A.props,oe=H.xAxisId,Q=oe===void 0?J.xAxisId:oe,D=H.yAxisId,ae=D===void 0?J.yAxisId:D;return w.cloneElement(A,{key:A.key||"".concat(P,"-").concat(E),xAxis:O[Q],yAxis:L[ae],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:$})}),xt(C,"renderActivePoints",function(A){var P=A.item,E=A.activePoint,M=A.basePoint,$=A.childIndex,T=A.isRange,O=[],L=P.props.key,z=P.item.type.defaultProps!==void 0?_e(_e({},P.item.type.defaultProps),P.item.props):P.item.props,J=z.activeDot,H=z.dataKey,oe=_e(_e({index:$,dataKey:H,cx:E.x,cy:E.y,r:4,fill:_k(P.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ct(J,!1)),B0(J));return O.push(N.renderActiveDot(J,oe,"".concat(L,"-activePoint-").concat($))),M?O.push(N.renderActiveDot(J,_e(_e({},oe),{},{cx:M.x,cy:M.y}),"".concat(L,"-basePoint-").concat($))):T&&O.push(null),O}),xt(C,"renderGraphicChild",function(A,P,E){var M=C.filterFormatItem(A,P,E);if(!M)return null;var $=C.getTooltipEventType(),T=C.state,O=T.isTooltipActive,L=T.tooltipAxis,z=T.activeTooltipIndex,J=T.activeLabel,H=C.props.children,oe=mi(H,Ur),Q=M.props,D=Q.points,ae=Q.isRange,pe=Q.baseLine,te=M.item.type.defaultProps!==void 0?_e(_e({},M.item.type.defaultProps),M.item.props):M.item.props,Z=te.activeDot,ne=te.hide,xe=te.activeBar,ye=te.activeShape,se=!!(!ne&&O&&oe&&(Z||xe||ye)),F={};$!=="axis"&&oe&&oe.props.trigger==="click"?F={onClick:Ny(C.handleItemMouseEnter,A.props.onClick)}:$!=="axis"&&(F={onMouseLeave:Ny(C.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Ny(C.handleItemMouseEnter,A.props.onMouseEnter)});var Y=w.cloneElement(A,_e(_e({},M.props),F));function ee(Ke){return typeof L.dataKey=="function"?L.dataKey(Ke.payload):null}if(se)if(z>=0){var G,I;if(L.dataKey&&!L.allowDuplicatedCategory){var ve=typeof L.dataKey=="function"?ee:"payload.".concat(L.dataKey.toString());G=F0(D,ve,J),I=ae&&pe&&F0(pe,ve,J)}else G=D==null?void 0:D[z],I=ae&&pe&&pe[z];if(ye||xe){var we=A.props.activeIndex!==void 0?A.props.activeIndex:z;return[w.cloneElement(A,_e(_e(_e({},M.props),F),{},{activeIndex:we})),null,null]}if(!At(G))return[Y].concat($f(C.renderActivePoints({item:M,activePoint:G,basePoint:I,childIndex:z,isRange:ae})))}else{var Fe,Be=(Fe=C.getItemByXY(C.state.activeCoordinate))!==null&&Fe!==void 0?Fe:{graphicalItem:Y},it=Be.graphicalItem,lt=it.item,ft=lt===void 0?A:lt,Ne=it.childIndex,Ge=_e(_e(_e({},M.props),F),{},{activeIndex:Ne});return[w.cloneElement(ft,Ge),null,null]}return ae?[Y,null,null]:[Y,null]}),xt(C,"renderCustomized",function(A,P,E){return w.cloneElement(A,_e(_e({key:"recharts-customized-".concat(E)},C.props),C.state))}),xt(C,"renderMap",{CartesianGrid:{handler:Ay,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Ay},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Ay},YAxis:{handler:Ay},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((b=j.id)!==null&&b!==void 0?b:md("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=Tq(C.triggeredAfterMouseMove,(_=j.throttleDelay)!==null&&_!==void 0?_:1e3/60),C.state={},C}return YLe(N,y),WLe(N,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,C=b.data,A=b.height,P=b.layout,E=mi(_,Ur);if(E){var M=E.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,T=yP(this.state,C,M,$),O=this.state.tooltipTicks[M].coordinate,L=(this.state.offset.top+A)/2,z=P==="horizontal",J=z?{x:O,y:L}:{y:O,x:L},H=this.state.formattedGraphicalItems.find(function(Q){var D=Q.item;return D.type.name==="Scatter"});H&&(J=_e(_e({},J),H.props.points[M].tooltipPosition),T=H.props.points[M].tooltipPayload);var oe={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:$,activePayload:T,activeCoordinate:J};this.setState(oe),this.renderCursor(E),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var C,A;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(b){G2([mi(b.children,Ur)],[mi(this.props.children,Ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=mi(this.props.children,Ur);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,C=_.getBoundingClientRect(),A=V_e(C),P={chartX:Math.round(b.pageX-A.left),chartY:Math.round(b.pageY-A.top)},E=C.width/_.offsetWidth||1,M=this.inRange(P.chartX,P.chartY,E);if(!M)return null;var $=this.state,T=$.xAxisMap,O=$.yAxisMap,L=this.getTooltipEventType(),z=F3(this.state,this.props.data,this.props.layout,M);if(L!=="axis"&&T&&O){var J=Wl(T).scale,H=Wl(O).scale,oe=J&&J.invert?J.invert(P.chartX):null,Q=H&&H.invert?H.invert(P.chartY):null;return _e(_e({},P),{},{xValue:oe,yValue:Q},z)}return z?_e(_e({},P),z):null}},{key:"inRange",value:function(b,_){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,P=b/C,E=_/C;if(A==="horizontal"||A==="vertical"){var M=this.state.offset,$=P>=M.left&&P<=M.left+M.width&&E>=M.top&&E<=M.top+M.height;return $?{x:P,y:E}:null}var T=this.state,O=T.angleAxisMap,L=T.radiusAxisMap;if(O&&L){var z=Wl(O);return lR({x:P,y:E},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),C=mi(b,Ur),A={};C&&_==="axis"&&(C.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=B0(this.props,this.handleOuterEvent);return _e(_e({},P),A)}},{key:"addListener",value:function(){qS.on(WS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){qS.removeListener(WS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,C){for(var A=this.state.formattedGraphicalItems,P=0,E=A.length;P<E;P++){var M=A[P];if(M.item===b||M.props.key===b.key||_===Xo(M.item.type)&&C===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,C=_.left,A=_.top,P=_.height,E=_.width;return q.createElement("defs",null,q.createElement("clipPath",{id:b},q.createElement("rect",{x:C,y:A,height:P,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,C){var A=$3(C,2),P=A[0],E=A[1];return _e(_e({},_),{},xt({},P,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,C){var A=$3(C,2),P=A[0],E=A[1];return _e(_e({},_),{},xt({},P,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,C=_.formattedGraphicalItems,A=_.activeItem;if(C&&C.length)for(var P=0,E=C.length;P<E;P++){var M=C[P],$=M.props,T=M.item,O=T.type.defaultProps!==void 0?_e(_e({},T.type.defaultProps),T.props):T.props,L=Xo(T.type);if(L==="Bar"){var z=($.data||[]).find(function(Q){return SMe(b,Q)});if(z)return{graphicalItem:M,payload:z}}else if(L==="RadialBar"){var J=($.data||[]).find(function(Q){return lR(b,Q)});if(J)return{graphicalItem:M,payload:J}}else if(Cw(M,A)||_w(M,A)||qg(M,A)){var H=h4e({graphicalItem:M,activeTooltipItem:A,itemData:O.data}),oe=O.activeIndex===void 0?H:O.activeIndex;return{graphicalItem:_e(_e({},M),{},{childIndex:oe}),payload:qg(M,A)?O.data[H]:M.props.data[H]}}}return null}},{key:"render",value:function(){var b=this;if(!ZI(this))return null;var _=this.props,C=_.children,A=_.className,P=_.width,E=_.height,M=_.style,$=_.compact,T=_.title,O=_.desc,L=R3(_,LLe),z=ct(L,!1);if($)return q.createElement(g3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(Y2,xh({},z,{width:P,height:E,title:T,desc:O}),this.renderClipPath(),t4(C,this.renderMap)));if(this.props.accessibilityLayer){var J,H;z.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,z.role=(H=this.props.role)!==null&&H!==void 0?H:"application",z.onKeyDown=function(Q){b.accessibilityManager.keyboardEvent(Q)},z.onFocus=function(){b.accessibilityManager.focus()}}var oe=this.parseEventsOfWrapper();return q.createElement(g3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",xh({className:Et("recharts-wrapper",A),style:_e({position:"relative",cursor:"default",width:P,height:E},M)},oe,{ref:function(D){b.container=D}}),q.createElement(Y2,xh({},z,{width:P,height:E,title:T,desc:O,style:tFe}),this.renderClipPath(),t4(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);xt(x,"displayName",n),xt(x,"defaultProps",_e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),xt(x,"getDerivedStateFromProps",function(y,N){var j=y.dataKey,b=y.data,_=y.children,C=y.width,A=y.height,P=y.layout,E=y.stackOffset,M=y.margin,$=N.dataStartIndex,T=N.dataEndIndex;if(N.updateId===void 0){var O=B3(y);return _e(_e(_e({},O),{},{updateId:0},g(_e(_e({props:y},O),{},{updateId:0}),N)),{},{prevDataKey:j,prevData:b,prevWidth:C,prevHeight:A,prevLayout:P,prevStackOffset:E,prevMargin:M,prevChildren:_})}if(j!==N.prevDataKey||b!==N.prevData||C!==N.prevWidth||A!==N.prevHeight||P!==N.prevLayout||E!==N.prevStackOffset||!Th(M,N.prevMargin)){var L=B3(y),z={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},J=_e(_e({},F3(N,b,P)),{},{updateId:N.updateId+1}),H=_e(_e(_e({},L),z),J);return _e(_e(_e({},H),g(_e({props:y},H),N)),{},{prevDataKey:j,prevData:b,prevWidth:C,prevHeight:A,prevLayout:P,prevStackOffset:E,prevMargin:M,prevChildren:_})}if(!G2(_,N.prevChildren)){var oe,Q,D,ae,pe=mi(_,Sf),te=pe&&(oe=(Q=pe.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&oe!==void 0?oe:$,Z=pe&&(D=(ae=pe.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&D!==void 0?D:T,ne=te!==$||Z!==T,xe=!At(b),ye=xe&&!ne?N.updateId:N.updateId+1;return _e(_e({updateId:ye},g(_e(_e({props:y},N),{},{updateId:ye,dataStartIndex:te,dataEndIndex:Z}),N)),{},{prevChildren:_,dataStartIndex:te,dataEndIndex:Z})}return null}),xt(x,"renderActiveDot",function(y,N,j){var b;return w.isValidElement(y)?b=w.cloneElement(y,N):yt(y)?b=y(N):b=q.createElement(Ov,N),q.createElement(Yt,{className:"recharts-active-dot",key:j},b)});var v=w.forwardRef(function(N,j){return q.createElement(x,xh({},N,{ref:j}))});return v.displayName=x.displayName,v},V3=Dw({chartName:"LineChart",GraphicalChild:Tf,axisComponents:[{axisType:"xAxis",AxisComp:Ra},{axisType:"yAxis",AxisComp:La}],formatAxisMap:Ak}),dFe=Dw({chartName:"BarChart",GraphicalChild:ao,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ra},{axisType:"yAxis",AxisComp:La}],formatAxisMap:Ak}),Lk=Dw({chartName:"PieChart",GraphicalChild:Va,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Sw},{axisType:"radiusAxis",AxisComp:ww}],formatAxisMap:LTe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Fk=Dw({chartName:"AreaChart",GraphicalChild:ea,axisComponents:[{axisType:"xAxis",AxisComp:Ra},{axisType:"yAxis",AxisComp:La}],formatAxisMap:Ak});function Bk({open:e,onOpenChange:t,petId:n,consultationId:s}){const{data:i=[]}=yv(),{data:a=[]}=jv(),{data:o=[]}=ufe(),l=cfe(),{toast:c}=Rt(),[u,d]=w.useState({diagnosis:"",notes:"",validUntil:""}),[f,m]=w.useState([{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}]),g=a.find(C=>C.id===n),x=g?i.find(C=>C.id===g.client_id):null,v=o.filter(C=>(C.category==="medication"||C.category==="supplement")&&C.current_quantity>0&&C.active),y=C=>{const{name:A,value:P}=C.target;d(E=>({...E,[A]:P}))},N=(C,A,P)=>{m(E=>E.map((M,$)=>$===C?{...M,[A]:P}:M))},j=()=>{m(C=>[...C,{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}])},b=C=>{f.length>1&&m(A=>A.filter((P,E)=>E!==C))},_=async C=>{if(C.preventDefault(),!g||!x){c({title:"Erreur",description:"Impossible de trouver l'animal ou le client associé.",variant:"destructive"});return}const A=f.filter(E=>E.medication_name.trim()!=="");if(A.length===0){c({title:"Erreur",description:"Veuillez ajouter au moins un médicament à la prescription.",variant:"destructive"});return}const P={consultation_id:s,animal_id:g.id,client_id:x.id,diagnosis:u.diagnosis,notes:u.notes,valid_until:u.validUntil||void 0,medications:A};try{await l.mutateAsync(P),c({title:"Prescription créée",description:`Prescription créée avec succès pour ${g.name}.`}),t(!1),d({diagnosis:"",notes:"",validUntil:""}),m([{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}])}catch(E){console.error("Error creating prescription:",E),c({title:"Erreur",description:"Une erreur est survenue lors de la création de la prescription.",variant:"destructive"})}};return!g||!x?r.jsx(St,{open:e,onOpenChange:t,children:r.jsx(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:r.jsxs(Ct,{children:[r.jsx(_t,{children:"Erreur"}),r.jsx(jn,{children:"Impossible de trouver l'animal ou le client associé."})]})})}):r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Prescription"}),r.jsxs(jn,{children:["Créer une nouvelle prescription pour ",g.name," (",x.first_name," ",x.last_name,")"]})]}),r.jsxs("form",{onSubmit:_,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(Nt,{id:"diagnosis",name:"diagnosis",value:u.diagnosis,onChange:y,placeholder:"Entrez le diagnostic...",className:"h-20"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"validUntil",children:"Valide jusqu'au (optionnel)"}),r.jsx(ie,{id:"validUntil",name:"validUntil",type:"date",value:u.validUntil,onChange:y})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(B,{className:"text-lg font-semibold",children:"Médicaments"}),r.jsxs(V,{type:"button",onClick:j,size:"sm",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter un médicament"]})]}),f.map((C,A)=>r.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:["Médicament ",A+1]}),f.length>1&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>b(A),children:r.jsx(Vn,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{children:"Médicament *"}),r.jsxs(Me,{value:C.medication_name,onValueChange:P=>N(A,"medication_name",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner ou taper..."})}),r.jsx(De,{children:v.map(P=>r.jsxs(U,{value:P.name,children:[P.name," (",P.current_quantity," ",P.unit,")"]},P.id))})]}),!v.find(P=>P.name===C.medication_name)&&r.jsx(ie,{className:"mt-2",value:C.medication_name,onChange:P=>N(A,"medication_name",P.target.value),placeholder:"Nom du médicament personnalisé"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Dosage"}),r.jsx(ie,{value:C.dosage||"",onChange:P=>N(A,"dosage",P.target.value),placeholder:"ex: 5mg"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Fréquence"}),r.jsxs(Me,{value:C.frequency||"",onValueChange:P=>N(A,"frequency",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner..."})}),r.jsxs(De,{children:[r.jsx(U,{value:"1x/jour",children:"1 fois par jour"}),r.jsx(U,{value:"2x/jour",children:"2 fois par jour"}),r.jsx(U,{value:"3x/jour",children:"3 fois par jour"}),r.jsx(U,{value:"1x/semaine",children:"1 fois par semaine"}),r.jsx(U,{value:"selon besoin",children:"Selon besoin"})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Durée"}),r.jsx(ie,{value:C.duration||"",onChange:P=>N(A,"duration",P.target.value),placeholder:"ex: 7 jours"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Quantité *"}),r.jsx(ie,{type:"number",min:"1",value:C.quantity,onChange:P=>N(A,"quantity",parseInt(P.target.value)||1)})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Voie d'administration"}),r.jsxs(Me,{value:C.route||"oral",onValueChange:P=>N(A,"route",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"oral",children:"Orale"}),r.jsx(U,{value:"injectable",children:"Injectable"}),r.jsx(U,{value:"topique",children:"Topique"}),r.jsx(U,{value:"intraveineuse",children:"Intraveineuse"}),r.jsx(U,{value:"intramusculaire",children:"Intramusculaire"}),r.jsx(U,{value:"sous-cutanée",children:"Sous-cutanée"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Instructions spéciales"}),r.jsx(Nt,{value:C.instructions||"",onChange:P=>N(A,"instructions",P.target.value),placeholder:"Instructions particulières pour ce médicament...",className:"h-16"})]})]},A))]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"notes",children:"Notes générales"}),r.jsx(Nt,{id:"notes",name:"notes",value:u.notes,onChange:y,placeholder:"Notes générales sur la prescription...",className:"h-20"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l.isPending,children:"Annuler"}),r.jsx(V,{type:"submit",disabled:l.isPending,children:l.isPending?"Création...":"Créer la prescription"})]})]})]})})}function hFe({open:e,onOpenChange:t,prescription:n}){const{updatePrescription:s}=jt(),{toast:i}=Rt(),[a,o]=w.useState({date:"",prescribedBy:"",diagnosis:"",instructions:"",duration:"",followUpDate:"",status:"",notes:""}),[l,c]=w.useState([]);w.useEffect(()=>{e&&n&&(o({date:n.date,prescribedBy:n.prescribedBy,diagnosis:n.diagnosis,instructions:n.instructions,duration:n.duration,followUpDate:n.followUpDate||"",status:n.status,notes:n.notes||""}),c([...n.medications]))},[e,n]);const u=y=>{o(N=>({...N,[y.target.id]:y.target.value}))},d=(y,N)=>{o(j=>({...j,[y]:N}))},f=(y,N,j)=>{const b=[...l];b[y]={...b[y],[N]:N==="quantity"||N==="refills"||N==="cost"?Number(j):j},c(b)},m=()=>{const y=Math.max(...l.map(N=>N.id),0)+1;c([...l,{id:y,name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,unit:"comprimés",refills:0,cost:0}])},g=y=>{l.length>1&&c(l.filter((N,j)=>j!==y))},x=y=>{if(y.preventDefault(),!n)return;const N=l.filter(j=>j.name.trim()!=="");if(N.length===0){i({title:"Erreur",description:"Au moins un médicament doit être spécifié.",variant:"destructive"});return}s(n.id,{date:a.date,prescribedBy:a.prescribedBy,diagnosis:a.diagnosis,medications:N,instructions:a.instructions,duration:a.duration,followUpDate:a.followUpDate||void 0,status:a.status,notes:a.notes}),i({title:"Prescription mise à jour",description:"La prescription a été modifiée avec succès."}),t(!1)},v=()=>l.reduce((y,N)=>y+(N.cost||0),0);return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(_h,{className:"h-5 w-5"}),"Modifier la Prescription"]}),r.jsxs(jn,{children:["Modifiez la prescription pour ",n.petName," (",n.clientName,")."]})]}),r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"date",children:"Date de prescription *"}),r.jsx(ie,{id:"date",type:"date",value:a.date,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"prescribedBy",children:"Prescrit par *"}),r.jsx(ie,{id:"prescribedBy",value:a.prescribedBy,onChange:u,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"diagnosis",children:"Diagnostic *"}),r.jsx(ie,{id:"diagnosis",value:a.diagnosis,onChange:u,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"duration",children:"Durée du traitement"}),r.jsx(ie,{id:"duration",value:a.duration,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"followUpDate",children:"Date de suivi"}),r.jsx(ie,{id:"followUpDate",type:"date",value:a.followUpDate,onChange:u,min:a.date})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Statut"}),r.jsxs(Me,{value:a.status,onValueChange:y=>d("status",y),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"active",children:"Active"}),r.jsx(U,{value:"completed",children:"Terminée"}),r.jsx(U,{value:"discontinued",children:"Arrêtée"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(B,{className:"text-base font-medium",children:"Médicaments prescrits"}),r.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:m,className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Ajouter médicament"]})]}),r.jsx("div",{className:"space-y-4",children:l.map((y,N)=>r.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:["Médicament ",N+1]}),l.length>1&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>g(N),className:"text-red-600 hover:text-red-700",children:r.jsx(Vn,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Nom du médicament *"}),r.jsx(ie,{value:y.name,onChange:j=>f(N,"name",j.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Dosage *"}),r.jsx(ie,{value:y.dosage,onChange:j=>f(N,"dosage",j.target.value),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Fréquence *"}),r.jsx(ie,{value:y.frequency,onChange:j=>f(N,"frequency",j.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Durée"}),r.jsx(ie,{value:y.duration,onChange:j=>f(N,"duration",j.target.value)})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Quantité"}),r.jsx(ie,{type:"number",value:y.quantity,onChange:j=>f(N,"quantity",parseInt(j.target.value)),min:"1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Unité"}),r.jsxs(Me,{value:y.unit,onValueChange:j=>f(N,"unit",j),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"comprimés",children:"Comprimés"}),r.jsx(U,{value:"ml",children:"ml"}),r.jsx(U,{value:"g",children:"g"}),r.jsx(U,{value:"mg",children:"mg"}),r.jsx(U,{value:"ampoules",children:"Ampoules"}),r.jsx(U,{value:"flacons",children:"Flacons"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Coût (€)"}),r.jsx(ie,{type:"number",step:"0.01",value:y.cost,onChange:j=>f(N,"cost",parseFloat(j.target.value)),min:"0"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Instructions spécifiques"}),r.jsx(ie,{value:y.instructions,onChange:j=>f(N,"instructions",j.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Renouvellements"}),r.jsx(ie,{type:"number",value:y.refills,onChange:j=>f(N,"refills",parseInt(j.target.value)),min:"0"})]})]})]},y.id))}),r.jsx("div",{className:"flex justify-end",children:r.jsxs($e,{variant:"outline",className:"text-lg px-4 py-2",children:["Coût total: ",v().toFixed(2),"€"]})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"instructions",children:"Instructions générales"}),r.jsx(Nt,{id:"instructions",value:a.instructions,onChange:u,rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",value:a.notes,onChange:u,rows:2})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",className:"gap-2",children:[r.jsx(Ap,{className:"h-4 w-4"}),"Sauvegarder"]})]})]})]})}):null}const fFe="vetpro-veterinarians";function jP({prescription:e}){const{settings:t}=Jt();JSON.parse(localStorage.getItem(fFe)||"[]");const n=e.prescribedBy,s=()=>{const i=window.open("","_blank");if(!i)return;const a=`
      <html>
        <head>
          <title>Prescription - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-info {
              margin-bottom: 30px;
            }
            .patient-info {
              margin-bottom: 30px;
            }
            .prescription-details {
              margin-bottom: 30px;
            }
            .medications {
              margin-bottom: 30px;
            }
            .medication-item {
              border: 1px solid #ccc;
              padding: 15px;
              margin-bottom: 15px;
              border-radius: 5px;
            }
            .instructions {
              margin-bottom: 30px;
            }
            .footer {
              margin-top: 50px;
              text-align: center;
            }
            .signature-line {
              border-top: 1px solid #333;
              width: 200px;
              margin: 20px auto;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 20px;
            }
            th, td {
              border: 1px solid #ddd;
              padding: 8px;
              text-align: left;
            }
            th {
              background-color: #f2f2f2;
            }
            .total-cost {
              font-weight: bold;
              text-align: right;
              margin-top: 20px;
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${t.logo?`<img src="${t.logo}" alt="Logo clinique" style="height:60px;margin-bottom:10px;"/>`:""}
            <h1>PRESCRIPTION MÉDICALE</h1>
            <h2>${t.clinicName}</h2>
            <p>${t.address}<br>
            Tél: ${t.phone} | Email: ${t.email}</p>
          </div>

          <div class="clinic-info">
            <strong>Date de prescription:</strong> ${new Date(e.date).toLocaleDateString("fr-FR")}<br>
            <strong>Prescrit par:</strong> ${n}
          </div>

          <div class="patient-info">
            <h3>Informations du patient</h3>
            <table>
              <tr>
                <th>Propriétaire</th>
                <td>${e.clientName}</td>
              </tr>
              <tr>
                <th>Animal</th>
                <td>${e.petName}</td>
              </tr>
              <tr>
                <th>Diagnostic</th>
                <td>${e.diagnosis}</td>
              </tr>
              <tr>
                <th>Durée du traitement</th>
                <td>${e.duration}</td>
              </tr>
            </table>
          </div>

          <div class="medications">
            <h3>Médicaments prescrits</h3>
            ${e.medications.map(o=>`
              <div class="medication-item">
                <h4>${o.name}</h4>
                <table>
                  <tr>
                    <th>Posologie</th>
                    <td>${o.dosage} - ${o.frequency}</td>
                  </tr>
                  <tr>
                    <th>Durée</th>
                    <td>${o.duration}</td>
                  </tr>
                  <tr>
                    <th>Quantité</th>
                    <td>${o.quantity} ${o.unit}</td>
                  </tr>
                  ${o.refills&&o.refills>0?`
                    <tr>
                      <th>Renouvellements</th>
                      <td>${o.refills}</td>
                    </tr>
                  `:""}
                  ${o.instructions?`
                    <tr>
                      <th>Instructions</th>
                      <td>${o.instructions}</td>
                    </tr>
                  `:""}
                  ${o.cost?`
                    <tr>
                      <th>Coût</th>
                      <td>${o.cost.toFixed(2)}€</td>
                    </tr>
                  `:""}
                </table>
              </div>
            `).join("")}
            
            <div class="total-cost">
              Coût total: ${e.medications.reduce((o,l)=>o+(l.cost||0),0).toFixed(2)}€
            </div>
          </div>

          ${e.instructions?`
            <div class="instructions">
              <h3>Instructions générales</h3>
              <p>${e.instructions}</p>
            </div>
          `:""}

          ${e.followUpDate?`
            <div class="instructions">
              <h3>Suivi</h3>
              <p><strong>Date de suivi prévue:</strong> ${new Date(e.followUpDate).toLocaleDateString("fr-FR")}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="instructions">
              <h3>Notes</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="signature-line"></div>
            <p>Signature du vétérinaire</p>
            <p><small>Cette prescription est valable pour la durée du traitement prescrit.</small></p>
          </div>
        </body>
      </html>
    `;i.document.write(a),i.document.close(),i.focus(),i.print(),i.close()};return r.jsxs(V,{size:"sm",variant:"outline",onClick:s,className:"gap-2",children:[r.jsx(PA,{className:"h-4 w-4"}),"Générer Ordonnance"]})}const mFe={active:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",discontinued:"bg-red-100 text-red-800"},pFe={active:"Active",completed:"Terminée",discontinued:"Arrêtée"};function a9({petId:e,consultationId:t}){const{prescriptions:n,getPrescriptionsByPetId:s,getPrescriptionsByConsultationId:i,deletePrescription:a}=jt(),{toast:o}=Rt(),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null),g=t?i(t):s(e),x=j=>{m(j),d(!0)},v=j=>{confirm(`Êtes-vous sûr de vouloir supprimer la prescription pour ${j.medications.map(b=>b.name).join(", ")} ?`)&&(a(j.id),o({title:"Prescription supprimée",description:"La prescription a été supprimée avec succès."}))},y=j=>{switch(j){case"active":return r.jsx(Vr,{className:"h-4 w-4 text-green-600"});case"completed":return r.jsx(er,{className:"h-4 w-4 text-gray-600"});case"discontinued":return r.jsx(ng,{className:"h-4 w-4 text-red-600"});default:return r.jsx($n,{className:"h-4 w-4 text-gray-600"})}},N=j=>j.reduce((b,_)=>b+(_.cost||0),0);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(_h,{className:"h-5 w-5"}),"Prescriptions (",g.length,")"]}),r.jsxs(V,{size:"sm",onClick:()=>c(!0),disabled:!t,className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle Prescription"]})]}),g.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center text-muted-foreground",children:[r.jsx(_h,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune prescription trouvée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer une nouvelle prescription"})]})}):r.jsx("div",{className:"space-y-4",children:g.sort((j,b)=>new Date(b.date).getTime()-new Date(j.date).getTime()).map(j=>r.jsxs(de,{className:"card-hover",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[y(j.status),r.jsx($e,{className:mFe[j.status],children:pFe[j.status]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx(Pt,{className:"h-4 w-4 inline mr-1"}),new Date(j.date).toLocaleDateString("fr-FR")]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(jP,{prescription:j}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>x(j),className:"h-8 w-8 p-0",title:"Modifier",children:r.jsx(en,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>v(j),className:"h-8 w-8 p-0 text-red-600",title:"Supprimer",children:r.jsx(Vn,{className:"h-3 w-3"})})]})]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Prescrit par:"}),r.jsx("p",{className:"text-muted-foreground",children:j.prescribedBy})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-muted-foreground",children:j.diagnosis})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Durée:"}),r.jsx("p",{className:"text-muted-foreground",children:j.duration})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Coût total:"}),r.jsxs("p",{className:"text-muted-foreground",children:[N(j.medications).toFixed(2),"€"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Médicaments prescrits:"}),r.jsx("div",{className:"space-y-3",children:j.medications.map(b=>r.jsx("div",{className:"p-3 border rounded-lg bg-muted/30",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium",children:b.name}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Posologie:"})," ",b.dosage," - ",b.frequency]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Durée:"})," ",b.duration]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Quantité:"})," ",b.quantity," ",b.unit]}),b.refills&&b.refills>0&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Renouvellements:"})," ",b.refills]}),b.instructions&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Instructions:"})," ",b.instructions]})]}),b.cost&&r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"font-medium",children:[b.cost.toFixed(2),"€"]})})]})},b.id))})]}),j.instructions&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Instructions générales:"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.instructions})]}),j.followUpDate&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Suivi prévu:"}),r.jsx("span",{className:"text-muted-foreground",children:new Date(j.followUpDate).toLocaleDateString("fr-FR")})]}),j.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.notes})]})]})]},j.id))})]}),t&&r.jsx(Bk,{open:l,onOpenChange:c,petId:e.toString(),consultationId:t.toString()}),r.jsx(hFe,{open:u,onOpenChange:d,prescription:f})]})}var o9={exports:{}};(function(e,t){(function(n,s){e.exports=s(w)})(typeof self<"u"?self:cr,function(n){return function(){var s={155:function(N){N.exports=n}},i={};function a(N){var j=i[N];if(j!==void 0)return j.exports;var b=i[N]={exports:{}};return s[N](b,b.exports,a),b.exports}a.d=function(N,j){for(var b in j)a.o(j,b)&&!a.o(N,b)&&Object.defineProperty(N,b,{enumerable:!0,get:j[b]})},a.o=function(N,j){return Object.prototype.hasOwnProperty.call(N,j)},a.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var o={};a.r(o),a.d(o,{useReactToPrint:function(){return y}});var l=a(155);function c({level:N="error",messages:j,suppressErrors:b=!1}){b||(N==="error"?console.error(j):N==="warning"?console.warn(j):console.debug(j))}function u(N,j){if(j||!N){const b=document.getElementById("printWindow");b&&document.body.removeChild(b)}}function d(N){return N instanceof Error?N:new Error("Unknown Error")}function f(N,j){const{documentTitle:b,onAfterPrint:_,onPrintError:C,preserveAfterPrint:A,print:P,suppressErrors:E}=j;setTimeout(()=>{var M,$;if(N.contentWindow){let O=function(){_==null||_(),u(A)};var T=O;if(N.contentWindow.focus(),P)P(N).then(O).catch(L=>{C?C("print",d(L)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:E})});else{if(N.contentWindow.print){const L=($=(M=N.contentDocument)===null||M===void 0?void 0:M.title)!==null&&$!==void 0?$:"",z=N.ownerDocument.title;b&&(N.ownerDocument.title=b,N.contentDocument&&(N.contentDocument.title=b)),N.contentWindow.print(),b&&(N.ownerDocument.title=z,N.contentDocument&&(N.contentDocument.title=L))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:E});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(L=>{var z,J;return((J=(z=navigator.userAgent)!==null&&z!==void 0?z:navigator.vendor)!==null&&J!==void 0?J:"opera"in window&&window.opera).match(L)})?setTimeout(O,500):O()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:E})},500)}function m(N){const j=[],b=document.createTreeWalker(N,NodeFilter.SHOW_ELEMENT,null);let _=b.nextNode();for(;_;)j.push(_),_=b.nextNode();return j}function g(N,j,b){const _=m(N),C=m(j);if(_.length===C.length)for(let A=0;A<_.length;A++){const P=_[A],E=C[A],M=P.shadowRoot;if(M!==null){const $=E.attachShadow({mode:M.mode});$.innerHTML=M.innerHTML,g(M,$,b)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",N,j],suppressErrors:b})}const x=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function v(N,j,b,_){var C,A,P,E,M;const{contentNode:$,clonedContentNode:T,clonedImgNodes:O,clonedVideoNodes:L,numResourcesToLoad:z,originalCanvasNodes:J}=b,{bodyClass:H,fonts:oe,ignoreGlobalStyles:Q,pageStyle:D,nonce:ae,suppressErrors:pe,copyShadowRoots:te}=_;N.onload=null;const Z=(C=N.contentDocument)!==null&&C!==void 0?C:(A=N.contentWindow)===null||A===void 0?void 0:A.document;if(Z){const ne=Z.body.appendChild(T);te&&g($,ne,!!pe),oe&&(!((P=N.contentDocument)===null||P===void 0)&&P.fonts&&(!((E=N.contentWindow)===null||E===void 0)&&E.FontFace)?oe.forEach(G=>{const I=new FontFace(G.family,G.source,{weight:G.weight,style:G.style});N.contentDocument.fonts.add(I),I.loaded.then(()=>{j(I)}).catch(ve=>{j(I,["Failed loading the font:",I,"Load error:",d(ve)])})}):(oe.forEach(G=>{j(G)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:pe})));const xe=D??x,ye=Z.createElement("style");ae&&(ye.setAttribute("nonce",ae),Z.head.setAttribute("nonce",ae)),ye.appendChild(Z.createTextNode(xe)),Z.head.appendChild(ye),H&&Z.body.classList.add(...H.split(" "));const se=Z.querySelectorAll("canvas");for(let G=0;G<J.length;++G){const I=J[G],ve=se[G];if(ve===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",I],suppressErrors:pe});continue}const we=ve.getContext("2d");we&&we.drawImage(I,0,0)}for(let G=0;G<O.length;G++){const I=O[G],ve=I.getAttribute("src");if(ve){const we=new Image;we.onload=()=>{j(I)},we.onerror=(Fe,Be,it,lt,ft)=>{j(I,["Error loading <img>",I,"Error",ft])},we.src=ve}else j(I,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',I])}for(let G=0;G<L.length;G++){const I=L[G];I.preload="auto";const ve=I.getAttribute("poster");if(ve){const we=new Image;we.onload=()=>{j(I)},we.onerror=(Fe,Be,it,lt,ft)=>{j(I,["Error loading video poster",ve,"for video",I,"Error:",ft])},we.src=ve}else I.readyState>=2?j(I):I.src?(I.onloadeddata=()=>{j(I)},I.onerror=(we,Fe,Be,it,lt)=>{j(I,["Error loading video",I,"Error",lt])},I.onstalled=()=>{j(I,["Loading video stalled, skipping",I])}):j(I,["Error loading video, `src` is empty",I])}const F="select",Y=$.querySelectorAll(F),ee=Z.querySelectorAll(F);for(let G=0;G<Y.length;G++)ee[G].value=Y[G].value;if(!Q){const G=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let I=0,ve=G.length;I<ve;++I){const we=G[I];if(we.tagName.toLowerCase()==="style"){const Fe=Z.createElement(we.tagName),Be=we.sheet;if(Be){let it="";try{const lt=Be.cssRules.length;for(let ft=0;ft<lt;++ft)typeof Be.cssRules[ft].cssText=="string"&&(it+=`${Be.cssRules[ft].cssText}\r
`)}catch(lt){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",we,`Original error: ${d(lt).message}`],level:"warning"})}Fe.setAttribute("id",`react-to-print-${I}`),ae&&Fe.setAttribute("nonce",ae),Fe.appendChild(Z.createTextNode(it)),Z.head.appendChild(Fe)}}else if(we.getAttribute("href"))if(we.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",we],level:"warning"}),j(we);else{const Fe=Z.createElement(we.tagName);for(let Be=0,it=we.attributes.length;Be<it;++Be){const lt=we.attributes[Be];lt&&Fe.setAttribute(lt.nodeName,(M=lt.nodeValue)!==null&&M!==void 0?M:"")}Fe.onload=()=>{j(Fe)},Fe.onerror=(Be,it,lt,ft,Ne)=>{j(Fe,["Failed to load",Fe,"Error:",Ne])},ae&&Fe.setAttribute("nonce",ae),Z.head.appendChild(Fe)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",we],level:"warning"}),j(we)}}}z===0&&f(N,_)}function y({bodyClass:N,contentRef:j,copyShadowRoots:b,documentTitle:_,fonts:C,ignoreGlobalStyles:A,nonce:P,onAfterPrint:E,onBeforePrint:M,onPrintError:$,pageStyle:T,preserveAfterPrint:O,print:L,suppressErrors:z}){return(0,l.useCallback)(J=>{function H(){const oe={bodyClass:N,contentRef:j,copyShadowRoots:b,documentTitle:_,fonts:C,ignoreGlobalStyles:A,nonce:P,onAfterPrint:E,onBeforePrint:M,onPrintError:$,pageStyle:T,preserveAfterPrint:O,print:L,suppressErrors:z},Q=function(){const pe=document.createElement("iframe");return pe.width=`${document.documentElement.clientWidth}px`,pe.height=`${document.documentElement.clientHeight}px`,pe.style.position="absolute",pe.style.top=`-${document.documentElement.clientHeight+100}px`,pe.style.left=`-${document.documentElement.clientWidth+100}px`,pe.id="printWindow",pe.srcdoc="<!DOCTYPE html>",pe}(),D=function(pe,te){const{contentRef:Z,fonts:ne,ignoreGlobalStyles:xe,suppressErrors:ye}=te,se=function({contentRef:ve,optionalContent:we,suppressErrors:Fe}){return we&&typeof we=="function"?(ve&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),we()):ve?ve.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Fe})}({contentRef:Z,optionalContent:pe,suppressErrors:ye});if(!se)return;const F=se.cloneNode(!0),Y=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),ee=F.querySelectorAll("img"),G=F.querySelectorAll("video"),I=ne?ne.length:0;return{contentNode:se,clonedContentNode:F,clonedImgNodes:ee,clonedVideoNodes:G,numResourcesToLoad:(xe?0:Y.length)+ee.length+G.length+I,originalCanvasNodes:se.querySelectorAll("canvas")}}(J,oe);if(!D)return void c({messages:["There is nothing to print"],suppressErrors:z});const ae=function(pe,te,Z){const{suppressErrors:ne}=pe,xe=[],ye=[];return function(se,F){xe.includes(se)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",se],suppressErrors:ne}):(F?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...F],suppressErrors:ne}),ye.push(se)):xe.push(se),xe.length+ye.length===te&&f(Z,pe))}}(oe,D.numResourcesToLoad,Q);(function(pe,te,Z,ne){pe.onload=()=>{v(pe,te,Z,ne)},document.body.appendChild(pe)})(Q,ae,D,oe)}u(O,!0),M?M().then(()=>{H()}).catch(oe=>{$==null||$("onBeforePrint",d(oe))}):H()},[N,j,b,_,C,A,P,E,M,$,T,O,L,z])}return o}()})})(o9);var zk=o9.exports,gFe=Object.defineProperty,zj=Object.getOwnPropertySymbols,l9=Object.prototype.hasOwnProperty,c9=Object.prototype.propertyIsEnumerable,U3=(e,t,n)=>t in e?gFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bP=(e,t)=>{for(var n in t||(t={}))l9.call(t,n)&&U3(e,n,t[n]);if(zj)for(var n of zj(t))c9.call(t,n)&&U3(e,n,t[n]);return e},wP=(e,t)=>{var n={};for(var s in e)l9.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&zj)for(var s of zj(e))t.indexOf(s)<0&&c9.call(e,s)&&(n[s]=e[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var sd;(e=>{const t=class Gt{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Gt.MIN_VERSION||c>Gt.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let m=[];for(let x=0;x<this.size;x++)m.push(!1);for(let x=0;x<this.size;x++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),f==-1){let x=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const y=this.getPenaltyScore();y<x&&(f=v,x=y),this.applyMask(v)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return Gt.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return Gt.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,m=-1,g=!0){if(!(Gt.MIN_VERSION<=d&&d<=f&&f<=Gt.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let x,v;for(x=d;;x++){const b=Gt.getNumDataCodewords(x,u)*8,_=o.getTotalBits(c,x);if(_<=b){v=_;break}if(x>=f)throw new RangeError("Data too long")}for(const b of[Gt.Ecc.MEDIUM,Gt.Ecc.QUARTILE,Gt.Ecc.HIGH])g&&v<=Gt.getNumDataCodewords(x,b)*8&&(u=b);let y=[];for(const b of c){n(b.mode.modeBits,4,y),n(b.numChars,b.mode.numCharCountBits(x),y);for(const _ of b.getData())y.push(_)}i(y.length==v);const N=Gt.getNumDataCodewords(x,u)*8;i(y.length<=N),n(0,Math.min(4,N-y.length),y),n(0,(8-y.length%8)%8,y),i(y.length%8==0);for(let b=236;y.length<N;b^=253)n(b,8,y);let j=[];for(;j.length*8<y.length;)j.push(0);return y.forEach((b,_)=>j[_>>>3]|=b<<7-(_&7)),new Gt(x,u,j,m)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let m=0;m<10;m++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;i(f>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,s(f,m));this.setFunctionModule(8,7,s(f,6)),this.setFunctionModule(8,8,s(f,7)),this.setFunctionModule(7,8,s(f,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,s(f,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,s(f,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,s(f,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;i(u>>>18==0);for(let d=0;d<18;d++){const f=s(u,d),m=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(m,g,f),this.setFunctionModule(g,m,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const m=Math.max(Math.abs(f),Math.abs(d)),g=c+f,x=u+d;0<=g&&g<this.size&&0<=x&&x<this.size&&this.setFunctionModule(g,x,m!=2&&m!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Gt.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Gt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],m=Gt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],g=Math.floor(Gt.getNumRawDataModules(u)/8),x=f-g%f,v=Math.floor(g/f);let y=[];const N=Gt.reedSolomonComputeDivisor(m);for(let b=0,_=0;b<f;b++){let C=c.slice(_,_+v-m+(b<x?0:1));_+=C.length;const A=Gt.reedSolomonComputeRemainder(C,N);b<x&&C.push(0),y.push(C.concat(A))}let j=[];for(let b=0;b<y[0].length;b++)y.forEach((_,C)=>{(b!=v-m||C>=x)&&j.push(_[b])});return i(j.length==g),j}drawCodewords(c){if(c.length!=Math.floor(Gt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let m=0;m<2;m++){const g=d-m,v=(d+1&2)==0?this.size-1-f:f;!this.isFunction[v][g]&&u<c.length*8&&(this.modules[v][g]=s(c[u>>>3],7-(u&7)),u++)}}i(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let m=0;m<this.size;m++){let g=!1,x=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[m][y]==g?(x++,x==5?c+=Gt.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,v),g||(c+=this.finderPenaltyCountPatterns(v)*Gt.PENALTY_N3),g=this.modules[m][y],x=1);c+=this.finderPenaltyTerminateAndCount(g,x,v)*Gt.PENALTY_N3}for(let m=0;m<this.size;m++){let g=!1,x=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][m]==g?(x++,x==5?c+=Gt.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,v),g||(c+=this.finderPenaltyCountPatterns(v)*Gt.PENALTY_N3),g=this.modules[y][m],x=1);c+=this.finderPenaltyTerminateAndCount(g,x,v)*Gt.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let g=0;g<this.size-1;g++){const x=this.modules[m][g];x==this.modules[m][g+1]&&x==this.modules[m+1][g]&&x==this.modules[m+1][g+1]&&(c+=Gt.PENALTY_N2)}let u=0;for(const m of this.modules)u=m.reduce((g,x)=>g+(x?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=f&&f<=9),c+=f*Gt.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<Gt.MIN_VERSION||c>Gt.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Gt.getNumRawDataModules(c)/8)-Gt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Gt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let m=0;m<u.length;m++)u[m]=Gt.reedSolomonMultiply(u[m],d),m+1<u.length&&(u[m]^=u[m+1]);d=Gt.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const m=f^d.shift();d.push(0),u.forEach((g,x)=>d[x]^=Gt.reedSolomonMultiply(g,m))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return i(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];i(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function s(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const a=class ir{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new ir(ir.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!ir.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new ir(ir.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!ir.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=ir.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=ir.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(f,11,u)}return d<c.length&&n(ir.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new ir(ir.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:ir.isNumeric(c)?[ir.makeNumeric(c)]:ir.isAlphanumeric(c)?[ir.makeAlphanumeric(c)]:[ir.makeBytes(ir.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new ir(ir.Mode.ECI,0,u)}static isNumeric(c){return ir.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return ir.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const m=f.mode.numCharCountBits(u);if(f.numChars>=1<<m)return 1/0;d+=4+m+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(sd||(sd={}));(e=>{(t=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(sd||(sd={}));(e=>{(t=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(sd||(sd={}));var yh=sd;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var vFe={L:yh.QrCode.Ecc.LOW,M:yh.QrCode.Ecc.MEDIUM,Q:yh.QrCode.Ecc.QUARTILE,H:yh.QrCode.Ecc.HIGH},u9=128,d9="L",h9="#FFFFFF",f9="#000000",m9=!1,p9=1,xFe=4,yFe=0,jFe=.1;function g9(e,t=0){const n=[];return e.forEach(function(s,i){let a=null;s.forEach(function(o,l){if(!o&&a!==null){n.push(`M${a+t} ${i+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===s.length-1){if(!o)return;a===null?n.push(`M${l+t},${i+t} h1v1H${l+t}z`):n.push(`M${a+t},${i+t} h${l+1-a}v1H${a+t}z`);return}o&&a===null&&(a=l)})}),n.join("")}function v9(e,t){return e.slice().map((n,s)=>s<t.y||s>=t.y+t.h?n:n.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function bFe(e,t,n,s){if(s==null)return null;const i=e.length+n*2,a=Math.floor(t*jFe),o=i/t,l=(s.width||a)*o,c=(s.height||a)*o,u=s.x==null?e.length/2-l/2:s.x*o,d=s.y==null?e.length/2-c/2:s.y*o,f=s.opacity==null?1:s.opacity;let m=null;if(s.excavate){let x=Math.floor(u),v=Math.floor(d),y=Math.ceil(l+u-x),N=Math.ceil(c+d-v);m={x,y:v,w:y,h:N}}const g=s.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:m,opacity:f,crossOrigin:g}}function wFe(e,t){return t!=null?Math.max(Math.floor(t),0):e?xFe:yFe}function x9({value:e,level:t,minVersion:n,includeMargin:s,marginSize:i,imageSettings:a,size:o,boostLevel:l}){let c=q.useMemo(()=>{const x=(Array.isArray(e)?e:[e]).reduce((v,y)=>(v.push(...yh.QrSegment.makeSegments(y)),v),[]);return yh.QrCode.encodeSegments(x,vFe[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:m}=q.useMemo(()=>{let g=c.getModules();const x=wFe(s,i),v=g.length+x*2,y=bFe(g,o,x,a);return{cells:g,margin:x,numCells:v,calculatedImageSettings:y}},[c,o,a,s,i]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:m}}var NFe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),y9=q.forwardRef(function(t,n){const s=t,{value:i,size:a=u9,level:o=d9,bgColor:l=h9,fgColor:c=f9,includeMargin:u=m9,minVersion:d=p9,boostLevel:f,marginSize:m,imageSettings:g}=s,v=wP(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=v,N=wP(v,["style"]),j=g==null?void 0:g.src,b=q.useRef(null),_=q.useRef(null),C=q.useCallback(z=>{b.current=z,typeof n=="function"?n(z):n&&(n.current=z)},[n]),[A,P]=q.useState(!1),{margin:E,cells:M,numCells:$,calculatedImageSettings:T}=x9({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:g,size:a});q.useEffect(()=>{if(b.current!=null){const z=b.current,J=z.getContext("2d");if(!J)return;let H=M;const oe=_.current,Q=T!=null&&oe!==null&&oe.complete&&oe.naturalHeight!==0&&oe.naturalWidth!==0;Q&&T.excavation!=null&&(H=v9(M,T.excavation));const D=window.devicePixelRatio||1;z.height=z.width=a*D;const ae=a/$*D;J.scale(ae,ae),J.fillStyle=l,J.fillRect(0,0,$,$),J.fillStyle=c,NFe?J.fill(new Path2D(g9(H,E))):M.forEach(function(pe,te){pe.forEach(function(Z,ne){Z&&J.fillRect(ne+E,te+E,1,1)})}),T&&(J.globalAlpha=T.opacity),Q&&J.drawImage(oe,T.x+E,T.y+E,T.w,T.h)}}),q.useEffect(()=>{P(!1)},[j]);const O=bP({height:a,width:a},y);let L=null;return j!=null&&(L=q.createElement("img",{src:j,key:j,style:{display:"none"},onLoad:()=>{P(!0)},ref:_,crossOrigin:T==null?void 0:T.crossOrigin})),q.createElement(q.Fragment,null,q.createElement("canvas",bP({style:O,height:a,width:a,ref:C,role:"img"},N)),L)});y9.displayName="QRCodeCanvas";var SFe=q.forwardRef(function(t,n){const s=t,{value:i,size:a=u9,level:o=d9,bgColor:l=h9,fgColor:c=f9,includeMargin:u=m9,minVersion:d=p9,boostLevel:f,title:m,marginSize:g,imageSettings:x}=s,v=wP(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:N,numCells:j,calculatedImageSettings:b}=x9({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:g,imageSettings:x,size:a});let _=N,C=null;x!=null&&b!=null&&(b.excavation!=null&&(_=v9(N,b.excavation)),C=q.createElement("image",{href:x.src,height:b.h,width:b.w,x:b.x+y,y:b.y+y,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const A=g9(_,y);return q.createElement("svg",bP({height:a,width:a,viewBox:`0 0 ${j} ${j}`,ref:n,role:"img"},v),!!m&&q.createElement("title",null,m),q.createElement("path",{fill:l,d:`M0,0 h${j}v${j}H0z`,shapeRendering:"crispEdges"}),q.createElement("path",{fill:c,d:A,shapeRendering:"crispEdges"}),C)});SFe.displayName="QRCodeSVG";var Vj={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Vj.exports;(function(e,t){(function(){var n,s="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,m=2,g=4,x=1,v=2,y=1,N=2,j=4,b=8,_=16,C=32,A=64,P=128,E=256,M=512,$=30,T="...",O=800,L=16,z=1,J=2,H=3,oe=1/0,Q=9007199254740991,D=17976931348623157e292,ae=NaN,pe=4294967295,te=pe-1,Z=pe>>>1,ne=[["ary",P],["bind",y],["bindKey",N],["curry",b],["curryRight",_],["flip",M],["partial",C],["partialRight",A],["rearg",E]],xe="[object Arguments]",ye="[object Array]",se="[object AsyncFunction]",F="[object Boolean]",Y="[object Date]",ee="[object DOMException]",G="[object Error]",I="[object Function]",ve="[object GeneratorFunction]",we="[object Map]",Fe="[object Number]",Be="[object Null]",it="[object Object]",lt="[object Promise]",ft="[object Proxy]",Ne="[object RegExp]",Ge="[object Set]",Ke="[object String]",Wt="[object Symbol]",Yn="[object Undefined]",kt="[object WeakMap]",Nn="[object WeakSet]",dr="[object ArrayBuffer]",Qn="[object DataView]",gs="[object Float32Array]",Se="[object Float64Array]",Vt="[object Int8Array]",tt="[object Int16Array]",mt="[object Int32Array]",sn="[object Uint8Array]",is="[object Uint8ClampedArray]",Qr="[object Uint16Array]",Rs="[object Uint32Array]",yl=/\b__p \+= '';/g,ce=/\b(__p \+=) '' \+/g,qe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Le=/&(?:amp|lt|gt|quot|#39);/g,kn=/[&<>"']/g,Xn=RegExp(Le.source),sa=RegExp(kn.source),bt=/<%-([\s\S]+?)%>/g,on=/<%([\s\S]+?)%>/g,gn=/<%=([\s\S]+?)%>/g,vs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xs=/^\w*$/,Ai=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,si=/[\\^$.*+?()[\]{}|]/g,ys=RegExp(si.source),Ls=/^\s+/,Iw=/\s/,$w=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rw=/\{\n\/\* \[wrapped with (.+)\] \*/,Lw=/,? & /,Fw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bw=/[()=,{}\[\]\/\s]/,zw=/\\(\\)?/g,Vw=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dv=/\w*$/,Uw=/^[-+]0x[0-9a-f]+$/i,qw=/^0b[01]+$/i,Ww=/^\[object .+?Constructor\]$/,vm=/^0o[0-7]+$/i,yd=/^(?:0|[1-9]\d*)$/,Hw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,No=/($^)/,Gw=/['\n\r\u2028\u2029\\]/g,jd="\\ud800-\\udfff",Kw="\\u0300-\\u036f",Yw="\\ufe20-\\ufe2f",Qw="\\u20d0-\\u20ff",Mv=Kw+Yw+Qw,Iv="\\u2700-\\u27bf",$v="a-z\\xdf-\\xf6\\xf8-\\xff",Xw="\\xac\\xb1\\xd7\\xf7",Jw="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Zw="\\u2000-\\u206f",e1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rv="A-Z\\xc0-\\xd6\\xd8-\\xde",Lv="\\ufe0e\\ufe0f",Fv=Xw+Jw+Zw+e1,xm="['’]",jl="["+jd+"]",Bv="["+Fv+"]",bd="["+Mv+"]",wd="\\d+",ym="["+Iv+"]",zv="["+$v+"]",re="[^"+jd+Fv+wd+Iv+$v+Rv+"]",X="\\ud83c[\\udffb-\\udfff]",fe="(?:"+bd+"|"+X+")",ge="[^"+jd+"]",We="(?:\\ud83c[\\udde6-\\uddff]){2}",Je="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Rv+"]",at="\\u200d",_n="(?:"+zv+"|"+re+")",vn="(?:"+ze+"|"+re+")",dt="(?:"+xm+"(?:d|ll|m|re|s|t|ve))?",Rn="(?:"+xm+"(?:D|LL|M|RE|S|T|VE))?",Xr=fe+"?",ia="["+Lv+"]?",Ua="(?:"+at+"(?:"+[ge,We,Je].join("|")+")"+ia+Xr+")*",Nd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",t1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",jm=ia+Xr+Ua,n1="(?:"+[ym,We,Je].join("|")+")"+jm,r1="(?:"+[ge+bd+"?",bd,We,Je,jl].join("|")+")",s1=RegExp(xm,"g"),i1=RegExp(bd,"g"),bm=RegExp(X+"(?="+X+")|"+r1+jm,"g"),a1=RegExp([ze+"?"+zv+"+"+dt+"(?="+[Bv,ze,"$"].join("|")+")",vn+"+"+Rn+"(?="+[Bv,ze+_n,"$"].join("|")+")",ze+"?"+_n+"+"+dt,ze+"+"+Rn,t1,Nd,wd,n1].join("|"),"g"),o1=RegExp("["+at+jd+Mv+Lv+"]"),l1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,c1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],u1=-1,Pn={};Pn[gs]=Pn[Se]=Pn[Vt]=Pn[tt]=Pn[mt]=Pn[sn]=Pn[is]=Pn[Qr]=Pn[Rs]=!0,Pn[xe]=Pn[ye]=Pn[dr]=Pn[F]=Pn[Qn]=Pn[Y]=Pn[G]=Pn[I]=Pn[we]=Pn[Fe]=Pn[it]=Pn[Ne]=Pn[Ge]=Pn[Ke]=Pn[kt]=!1;var Sn={};Sn[xe]=Sn[ye]=Sn[dr]=Sn[Qn]=Sn[F]=Sn[Y]=Sn[gs]=Sn[Se]=Sn[Vt]=Sn[tt]=Sn[mt]=Sn[we]=Sn[Fe]=Sn[it]=Sn[Ne]=Sn[Ge]=Sn[Ke]=Sn[Wt]=Sn[sn]=Sn[is]=Sn[Qr]=Sn[Rs]=!0,Sn[G]=Sn[I]=Sn[kt]=!1;var d1={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Uk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},h1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},T9=parseFloat,O9=parseInt,qk=typeof cr=="object"&&cr&&cr.Object===Object&&cr,D9=typeof self=="object"&&self&&self.Object===Object&&self,Jr=qk||D9||Function("return this")(),f1=t&&!t.nodeType&&t,qc=f1&&!0&&e&&!e.nodeType&&e,Wk=qc&&qc.exports===f1,m1=Wk&&qk.process,Ei=function(){try{var je=qc&&qc.require&&qc.require("util").types;return je||m1&&m1.binding&&m1.binding("util")}catch{}}(),Hk=Ei&&Ei.isArrayBuffer,Gk=Ei&&Ei.isDate,Kk=Ei&&Ei.isMap,Yk=Ei&&Ei.isRegExp,Qk=Ei&&Ei.isSet,Xk=Ei&&Ei.isTypedArray;function ii(je,Ae,Ce){switch(Ce.length){case 0:return je.call(Ae);case 1:return je.call(Ae,Ce[0]);case 2:return je.call(Ae,Ce[0],Ce[1]);case 3:return je.call(Ae,Ce[0],Ce[1],Ce[2])}return je.apply(Ae,Ce)}function M9(je,Ae,Ce,et){for(var Tt=-1,dn=je==null?0:je.length;++Tt<dn;){var Sr=je[Tt];Ae(et,Sr,Ce(Sr),je)}return et}function ki(je,Ae){for(var Ce=-1,et=je==null?0:je.length;++Ce<et&&Ae(je[Ce],Ce,je)!==!1;);return je}function I9(je,Ae){for(var Ce=je==null?0:je.length;Ce--&&Ae(je[Ce],Ce,je)!==!1;);return je}function Jk(je,Ae){for(var Ce=-1,et=je==null?0:je.length;++Ce<et;)if(!Ae(je[Ce],Ce,je))return!1;return!0}function bl(je,Ae){for(var Ce=-1,et=je==null?0:je.length,Tt=0,dn=[];++Ce<et;){var Sr=je[Ce];Ae(Sr,Ce,je)&&(dn[Tt++]=Sr)}return dn}function Uv(je,Ae){var Ce=je==null?0:je.length;return!!Ce&&Sd(je,Ae,0)>-1}function p1(je,Ae,Ce){for(var et=-1,Tt=je==null?0:je.length;++et<Tt;)if(Ce(Ae,je[et]))return!0;return!1}function Wn(je,Ae){for(var Ce=-1,et=je==null?0:je.length,Tt=Array(et);++Ce<et;)Tt[Ce]=Ae(je[Ce],Ce,je);return Tt}function wl(je,Ae){for(var Ce=-1,et=Ae.length,Tt=je.length;++Ce<et;)je[Tt+Ce]=Ae[Ce];return je}function g1(je,Ae,Ce,et){var Tt=-1,dn=je==null?0:je.length;for(et&&dn&&(Ce=je[++Tt]);++Tt<dn;)Ce=Ae(Ce,je[Tt],Tt,je);return Ce}function $9(je,Ae,Ce,et){var Tt=je==null?0:je.length;for(et&&Tt&&(Ce=je[--Tt]);Tt--;)Ce=Ae(Ce,je[Tt],Tt,je);return Ce}function v1(je,Ae){for(var Ce=-1,et=je==null?0:je.length;++Ce<et;)if(Ae(je[Ce],Ce,je))return!0;return!1}var R9=x1("length");function L9(je){return je.split("")}function F9(je){return je.match(Fw)||[]}function Zk(je,Ae,Ce){var et;return Ce(je,function(Tt,dn,Sr){if(Ae(Tt,dn,Sr))return et=dn,!1}),et}function qv(je,Ae,Ce,et){for(var Tt=je.length,dn=Ce+(et?1:-1);et?dn--:++dn<Tt;)if(Ae(je[dn],dn,je))return dn;return-1}function Sd(je,Ae,Ce){return Ae===Ae?X9(je,Ae,Ce):qv(je,eT,Ce)}function B9(je,Ae,Ce,et){for(var Tt=Ce-1,dn=je.length;++Tt<dn;)if(et(je[Tt],Ae))return Tt;return-1}function eT(je){return je!==je}function tT(je,Ae){var Ce=je==null?0:je.length;return Ce?j1(je,Ae)/Ce:ae}function x1(je){return function(Ae){return Ae==null?n:Ae[je]}}function y1(je){return function(Ae){return je==null?n:je[Ae]}}function nT(je,Ae,Ce,et,Tt){return Tt(je,function(dn,Sr,An){Ce=et?(et=!1,dn):Ae(Ce,dn,Sr,An)}),Ce}function z9(je,Ae){var Ce=je.length;for(je.sort(Ae);Ce--;)je[Ce]=je[Ce].value;return je}function j1(je,Ae){for(var Ce,et=-1,Tt=je.length;++et<Tt;){var dn=Ae(je[et]);dn!==n&&(Ce=Ce===n?dn:Ce+dn)}return Ce}function b1(je,Ae){for(var Ce=-1,et=Array(je);++Ce<je;)et[Ce]=Ae(Ce);return et}function V9(je,Ae){return Wn(Ae,function(Ce){return[Ce,je[Ce]]})}function rT(je){return je&&je.slice(0,oT(je)+1).replace(Ls,"")}function ai(je){return function(Ae){return je(Ae)}}function w1(je,Ae){return Wn(Ae,function(Ce){return je[Ce]})}function wm(je,Ae){return je.has(Ae)}function sT(je,Ae){for(var Ce=-1,et=je.length;++Ce<et&&Sd(Ae,je[Ce],0)>-1;);return Ce}function iT(je,Ae){for(var Ce=je.length;Ce--&&Sd(Ae,je[Ce],0)>-1;);return Ce}function U9(je,Ae){for(var Ce=je.length,et=0;Ce--;)je[Ce]===Ae&&++et;return et}var q9=y1(d1),W9=y1(Uk);function H9(je){return"\\"+h1[je]}function G9(je,Ae){return je==null?n:je[Ae]}function Cd(je){return o1.test(je)}function K9(je){return l1.test(je)}function Y9(je){for(var Ae,Ce=[];!(Ae=je.next()).done;)Ce.push(Ae.value);return Ce}function N1(je){var Ae=-1,Ce=Array(je.size);return je.forEach(function(et,Tt){Ce[++Ae]=[Tt,et]}),Ce}function aT(je,Ae){return function(Ce){return je(Ae(Ce))}}function Nl(je,Ae){for(var Ce=-1,et=je.length,Tt=0,dn=[];++Ce<et;){var Sr=je[Ce];(Sr===Ae||Sr===d)&&(je[Ce]=d,dn[Tt++]=Ce)}return dn}function Wv(je){var Ae=-1,Ce=Array(je.size);return je.forEach(function(et){Ce[++Ae]=et}),Ce}function Q9(je){var Ae=-1,Ce=Array(je.size);return je.forEach(function(et){Ce[++Ae]=[et,et]}),Ce}function X9(je,Ae,Ce){for(var et=Ce-1,Tt=je.length;++et<Tt;)if(je[et]===Ae)return et;return-1}function J9(je,Ae,Ce){for(var et=Ce+1;et--;)if(je[et]===Ae)return et;return et}function _d(je){return Cd(je)?eH(je):R9(je)}function aa(je){return Cd(je)?tH(je):L9(je)}function oT(je){for(var Ae=je.length;Ae--&&Iw.test(je.charAt(Ae)););return Ae}var Z9=y1(Vv);function eH(je){for(var Ae=bm.lastIndex=0;bm.test(je);)++Ae;return Ae}function tH(je){return je.match(bm)||[]}function nH(je){return je.match(a1)||[]}var rH=function je(Ae){Ae=Ae==null?Jr:Pd.defaults(Jr.Object(),Ae,Pd.pick(Jr,c1));var Ce=Ae.Array,et=Ae.Date,Tt=Ae.Error,dn=Ae.Function,Sr=Ae.Math,An=Ae.Object,S1=Ae.RegExp,sH=Ae.String,Ti=Ae.TypeError,Hv=Ce.prototype,iH=dn.prototype,Ad=An.prototype,Gv=Ae["__core-js_shared__"],Kv=iH.toString,xn=Ad.hasOwnProperty,aH=0,lT=function(){var h=/[^.]+$/.exec(Gv&&Gv.keys&&Gv.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Yv=Ad.toString,oH=Kv.call(An),lH=Jr._,cH=S1("^"+Kv.call(xn).replace(si,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qv=Wk?Ae.Buffer:n,Sl=Ae.Symbol,Xv=Ae.Uint8Array,cT=Qv?Qv.allocUnsafe:n,Jv=aT(An.getPrototypeOf,An),uT=An.create,dT=Ad.propertyIsEnumerable,Zv=Hv.splice,hT=Sl?Sl.isConcatSpreadable:n,Nm=Sl?Sl.iterator:n,Wc=Sl?Sl.toStringTag:n,ex=function(){try{var h=Qc(An,"defineProperty");return h({},"",{}),h}catch{}}(),uH=Ae.clearTimeout!==Jr.clearTimeout&&Ae.clearTimeout,dH=et&&et.now!==Jr.Date.now&&et.now,hH=Ae.setTimeout!==Jr.setTimeout&&Ae.setTimeout,tx=Sr.ceil,nx=Sr.floor,C1=An.getOwnPropertySymbols,fH=Qv?Qv.isBuffer:n,fT=Ae.isFinite,mH=Hv.join,pH=aT(An.keys,An),Cr=Sr.max,as=Sr.min,gH=et.now,vH=Ae.parseInt,mT=Sr.random,xH=Hv.reverse,_1=Qc(Ae,"DataView"),Sm=Qc(Ae,"Map"),P1=Qc(Ae,"Promise"),Ed=Qc(Ae,"Set"),Cm=Qc(Ae,"WeakMap"),_m=Qc(An,"create"),rx=Cm&&new Cm,kd={},yH=Xc(_1),jH=Xc(Sm),bH=Xc(P1),wH=Xc(Ed),NH=Xc(Cm),sx=Sl?Sl.prototype:n,Pm=sx?sx.valueOf:n,pT=sx?sx.toString:n;function W(h){if(rr(h)&&!Mt(h)&&!(h instanceof Zt)){if(h instanceof Oi)return h;if(xn.call(h,"__wrapped__"))return gO(h)}return new Oi(h)}var Td=function(){function h(){}return function(p){if(!Jn(p))return{};if(uT)return uT(p);h.prototype=p;var S=new h;return h.prototype=n,S}}();function ix(){}function Oi(h,p){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}W.templateSettings={escape:bt,evaluate:on,interpolate:gn,variable:"",imports:{_:W}},W.prototype=ix.prototype,W.prototype.constructor=W,Oi.prototype=Td(ix.prototype),Oi.prototype.constructor=Oi;function Zt(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pe,this.__views__=[]}function SH(){var h=new Zt(this.__wrapped__);return h.__actions__=Fs(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Fs(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Fs(this.__views__),h}function CH(){if(this.__filtered__){var h=new Zt(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function _H(){var h=this.__wrapped__.value(),p=this.__dir__,S=Mt(h),k=p<0,R=S?h.length:0,K=LG(0,R,this.__views__),le=K.start,me=K.end,be=me-le,ke=k?me:le-1,Te=this.__iteratees__,Re=Te.length,Qe=0,ot=as(be,this.__takeCount__);if(!S||!k&&R==be&&ot==be)return FT(h,this.__actions__);var gt=[];e:for(;be--&&Qe<ot;){ke+=p;for(var Bt=-1,vt=h[ke];++Bt<Re;){var Ht=Te[Bt],tn=Ht.iteratee,ci=Ht.type,ws=tn(vt);if(ci==J)vt=ws;else if(!ws){if(ci==z)continue e;break e}}gt[Qe++]=vt}return gt}Zt.prototype=Td(ix.prototype),Zt.prototype.constructor=Zt;function Hc(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var k=h[p];this.set(k[0],k[1])}}function PH(){this.__data__=_m?_m(null):{},this.size=0}function AH(h){var p=this.has(h)&&delete this.__data__[h];return this.size-=p?1:0,p}function EH(h){var p=this.__data__;if(_m){var S=p[h];return S===c?n:S}return xn.call(p,h)?p[h]:n}function kH(h){var p=this.__data__;return _m?p[h]!==n:xn.call(p,h)}function TH(h,p){var S=this.__data__;return this.size+=this.has(h)?0:1,S[h]=_m&&p===n?c:p,this}Hc.prototype.clear=PH,Hc.prototype.delete=AH,Hc.prototype.get=EH,Hc.prototype.has=kH,Hc.prototype.set=TH;function So(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var k=h[p];this.set(k[0],k[1])}}function OH(){this.__data__=[],this.size=0}function DH(h){var p=this.__data__,S=ax(p,h);if(S<0)return!1;var k=p.length-1;return S==k?p.pop():Zv.call(p,S,1),--this.size,!0}function MH(h){var p=this.__data__,S=ax(p,h);return S<0?n:p[S][1]}function IH(h){return ax(this.__data__,h)>-1}function $H(h,p){var S=this.__data__,k=ax(S,h);return k<0?(++this.size,S.push([h,p])):S[k][1]=p,this}So.prototype.clear=OH,So.prototype.delete=DH,So.prototype.get=MH,So.prototype.has=IH,So.prototype.set=$H;function Co(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var k=h[p];this.set(k[0],k[1])}}function RH(){this.size=0,this.__data__={hash:new Hc,map:new(Sm||So),string:new Hc}}function LH(h){var p=xx(this,h).delete(h);return this.size-=p?1:0,p}function FH(h){return xx(this,h).get(h)}function BH(h){return xx(this,h).has(h)}function zH(h,p){var S=xx(this,h),k=S.size;return S.set(h,p),this.size+=S.size==k?0:1,this}Co.prototype.clear=RH,Co.prototype.delete=LH,Co.prototype.get=FH,Co.prototype.has=BH,Co.prototype.set=zH;function Gc(h){var p=-1,S=h==null?0:h.length;for(this.__data__=new Co;++p<S;)this.add(h[p])}function VH(h){return this.__data__.set(h,c),this}function UH(h){return this.__data__.has(h)}Gc.prototype.add=Gc.prototype.push=VH,Gc.prototype.has=UH;function oa(h){var p=this.__data__=new So(h);this.size=p.size}function qH(){this.__data__=new So,this.size=0}function WH(h){var p=this.__data__,S=p.delete(h);return this.size=p.size,S}function HH(h){return this.__data__.get(h)}function GH(h){return this.__data__.has(h)}function KH(h,p){var S=this.__data__;if(S instanceof So){var k=S.__data__;if(!Sm||k.length<i-1)return k.push([h,p]),this.size=++S.size,this;S=this.__data__=new Co(k)}return S.set(h,p),this.size=S.size,this}oa.prototype.clear=qH,oa.prototype.delete=WH,oa.prototype.get=HH,oa.prototype.has=GH,oa.prototype.set=KH;function gT(h,p){var S=Mt(h),k=!S&&Jc(h),R=!S&&!k&&El(h),K=!S&&!k&&!R&&Id(h),le=S||k||R||K,me=le?b1(h.length,sH):[],be=me.length;for(var ke in h)(p||xn.call(h,ke))&&!(le&&(ke=="length"||R&&(ke=="offset"||ke=="parent")||K&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||Eo(ke,be)))&&me.push(ke);return me}function vT(h){var p=h.length;return p?h[L1(0,p-1)]:n}function YH(h,p){return yx(Fs(h),Kc(p,0,h.length))}function QH(h){return yx(Fs(h))}function A1(h,p,S){(S!==n&&!la(h[p],S)||S===n&&!(p in h))&&_o(h,p,S)}function Am(h,p,S){var k=h[p];(!(xn.call(h,p)&&la(k,S))||S===n&&!(p in h))&&_o(h,p,S)}function ax(h,p){for(var S=h.length;S--;)if(la(h[S][0],p))return S;return-1}function XH(h,p,S,k){return Cl(h,function(R,K,le){p(k,R,S(R),le)}),k}function xT(h,p){return h&&Wa(p,Rr(p),h)}function JH(h,p){return h&&Wa(p,zs(p),h)}function _o(h,p,S){p=="__proto__"&&ex?ex(h,p,{configurable:!0,enumerable:!0,value:S,writable:!0}):h[p]=S}function E1(h,p){for(var S=-1,k=p.length,R=Ce(k),K=h==null;++S<k;)R[S]=K?n:cN(h,p[S]);return R}function Kc(h,p,S){return h===h&&(S!==n&&(h=h<=S?h:S),p!==n&&(h=h>=p?h:p)),h}function Di(h,p,S,k,R,K){var le,me=p&f,be=p&m,ke=p&g;if(S&&(le=R?S(h,k,R,K):S(h)),le!==n)return le;if(!Jn(h))return h;var Te=Mt(h);if(Te){if(le=BG(h),!me)return Fs(h,le)}else{var Re=os(h),Qe=Re==I||Re==ve;if(El(h))return VT(h,me);if(Re==it||Re==xe||Qe&&!R){if(le=be||Qe?{}:oO(h),!me)return be?EG(h,JH(le,h)):AG(h,xT(le,h))}else{if(!Sn[Re])return R?h:{};le=zG(h,Re,me)}}K||(K=new oa);var ot=K.get(h);if(ot)return ot;K.set(h,le),$O(h)?h.forEach(function(vt){le.add(Di(vt,p,S,vt,h,K))}):MO(h)&&h.forEach(function(vt,Ht){le.set(Ht,Di(vt,p,S,Ht,h,K))});var gt=ke?be?Y1:K1:be?zs:Rr,Bt=Te?n:gt(h);return ki(Bt||h,function(vt,Ht){Bt&&(Ht=vt,vt=h[Ht]),Am(le,Ht,Di(vt,p,S,Ht,h,K))}),le}function ZH(h){var p=Rr(h);return function(S){return yT(S,h,p)}}function yT(h,p,S){var k=S.length;if(h==null)return!k;for(h=An(h);k--;){var R=S[k],K=p[R],le=h[R];if(le===n&&!(R in h)||!K(le))return!1}return!0}function jT(h,p,S){if(typeof h!="function")throw new Ti(o);return Im(function(){h.apply(n,S)},p)}function Em(h,p,S,k){var R=-1,K=Uv,le=!0,me=h.length,be=[],ke=p.length;if(!me)return be;S&&(p=Wn(p,ai(S))),k?(K=p1,le=!1):p.length>=i&&(K=wm,le=!1,p=new Gc(p));e:for(;++R<me;){var Te=h[R],Re=S==null?Te:S(Te);if(Te=k||Te!==0?Te:0,le&&Re===Re){for(var Qe=ke;Qe--;)if(p[Qe]===Re)continue e;be.push(Te)}else K(p,Re,k)||be.push(Te)}return be}var Cl=GT(qa),bT=GT(T1,!0);function eG(h,p){var S=!0;return Cl(h,function(k,R,K){return S=!!p(k,R,K),S}),S}function ox(h,p,S){for(var k=-1,R=h.length;++k<R;){var K=h[k],le=p(K);if(le!=null&&(me===n?le===le&&!li(le):S(le,me)))var me=le,be=K}return be}function tG(h,p,S,k){var R=h.length;for(S=Lt(S),S<0&&(S=-S>R?0:R+S),k=k===n||k>R?R:Lt(k),k<0&&(k+=R),k=S>k?0:LO(k);S<k;)h[S++]=p;return h}function wT(h,p){var S=[];return Cl(h,function(k,R,K){p(k,R,K)&&S.push(k)}),S}function Zr(h,p,S,k,R){var K=-1,le=h.length;for(S||(S=UG),R||(R=[]);++K<le;){var me=h[K];p>0&&S(me)?p>1?Zr(me,p-1,S,k,R):wl(R,me):k||(R[R.length]=me)}return R}var k1=KT(),NT=KT(!0);function qa(h,p){return h&&k1(h,p,Rr)}function T1(h,p){return h&&NT(h,p,Rr)}function lx(h,p){return bl(p,function(S){return ko(h[S])})}function Yc(h,p){p=Pl(p,h);for(var S=0,k=p.length;h!=null&&S<k;)h=h[Ha(p[S++])];return S&&S==k?h:n}function ST(h,p,S){var k=p(h);return Mt(h)?k:wl(k,S(h))}function js(h){return h==null?h===n?Yn:Be:Wc&&Wc in An(h)?RG(h):QG(h)}function O1(h,p){return h>p}function nG(h,p){return h!=null&&xn.call(h,p)}function rG(h,p){return h!=null&&p in An(h)}function sG(h,p,S){return h>=as(p,S)&&h<Cr(p,S)}function D1(h,p,S){for(var k=S?p1:Uv,R=h[0].length,K=h.length,le=K,me=Ce(K),be=1/0,ke=[];le--;){var Te=h[le];le&&p&&(Te=Wn(Te,ai(p))),be=as(Te.length,be),me[le]=!S&&(p||R>=120&&Te.length>=120)?new Gc(le&&Te):n}Te=h[0];var Re=-1,Qe=me[0];e:for(;++Re<R&&ke.length<be;){var ot=Te[Re],gt=p?p(ot):ot;if(ot=S||ot!==0?ot:0,!(Qe?wm(Qe,gt):k(ke,gt,S))){for(le=K;--le;){var Bt=me[le];if(!(Bt?wm(Bt,gt):k(h[le],gt,S)))continue e}Qe&&Qe.push(gt),ke.push(ot)}}return ke}function iG(h,p,S,k){return qa(h,function(R,K,le){p(k,S(R),K,le)}),k}function km(h,p,S){p=Pl(p,h),h=dO(h,p);var k=h==null?h:h[Ha(Ii(p))];return k==null?n:ii(k,h,S)}function CT(h){return rr(h)&&js(h)==xe}function aG(h){return rr(h)&&js(h)==dr}function oG(h){return rr(h)&&js(h)==Y}function Tm(h,p,S,k,R){return h===p?!0:h==null||p==null||!rr(h)&&!rr(p)?h!==h&&p!==p:lG(h,p,S,k,Tm,R)}function lG(h,p,S,k,R,K){var le=Mt(h),me=Mt(p),be=le?ye:os(h),ke=me?ye:os(p);be=be==xe?it:be,ke=ke==xe?it:ke;var Te=be==it,Re=ke==it,Qe=be==ke;if(Qe&&El(h)){if(!El(p))return!1;le=!0,Te=!1}if(Qe&&!Te)return K||(K=new oa),le||Id(h)?sO(h,p,S,k,R,K):IG(h,p,be,S,k,R,K);if(!(S&x)){var ot=Te&&xn.call(h,"__wrapped__"),gt=Re&&xn.call(p,"__wrapped__");if(ot||gt){var Bt=ot?h.value():h,vt=gt?p.value():p;return K||(K=new oa),R(Bt,vt,S,k,K)}}return Qe?(K||(K=new oa),$G(h,p,S,k,R,K)):!1}function cG(h){return rr(h)&&os(h)==we}function M1(h,p,S,k){var R=S.length,K=R,le=!k;if(h==null)return!K;for(h=An(h);R--;){var me=S[R];if(le&&me[2]?me[1]!==h[me[0]]:!(me[0]in h))return!1}for(;++R<K;){me=S[R];var be=me[0],ke=h[be],Te=me[1];if(le&&me[2]){if(ke===n&&!(be in h))return!1}else{var Re=new oa;if(k)var Qe=k(ke,Te,be,h,p,Re);if(!(Qe===n?Tm(Te,ke,x|v,k,Re):Qe))return!1}}return!0}function _T(h){if(!Jn(h)||WG(h))return!1;var p=ko(h)?cH:Ww;return p.test(Xc(h))}function uG(h){return rr(h)&&js(h)==Ne}function dG(h){return rr(h)&&os(h)==Ge}function hG(h){return rr(h)&&Cx(h.length)&&!!Pn[js(h)]}function PT(h){return typeof h=="function"?h:h==null?Vs:typeof h=="object"?Mt(h)?kT(h[0],h[1]):ET(h):YO(h)}function I1(h){if(!Mm(h))return pH(h);var p=[];for(var S in An(h))xn.call(h,S)&&S!="constructor"&&p.push(S);return p}function fG(h){if(!Jn(h))return YG(h);var p=Mm(h),S=[];for(var k in h)k=="constructor"&&(p||!xn.call(h,k))||S.push(k);return S}function $1(h,p){return h<p}function AT(h,p){var S=-1,k=Bs(h)?Ce(h.length):[];return Cl(h,function(R,K,le){k[++S]=p(R,K,le)}),k}function ET(h){var p=X1(h);return p.length==1&&p[0][2]?cO(p[0][0],p[0][1]):function(S){return S===h||M1(S,h,p)}}function kT(h,p){return Z1(h)&&lO(p)?cO(Ha(h),p):function(S){var k=cN(S,h);return k===n&&k===p?uN(S,h):Tm(p,k,x|v)}}function cx(h,p,S,k,R){h!==p&&k1(p,function(K,le){if(R||(R=new oa),Jn(K))mG(h,p,le,S,cx,k,R);else{var me=k?k(tN(h,le),K,le+"",h,p,R):n;me===n&&(me=K),A1(h,le,me)}},zs)}function mG(h,p,S,k,R,K,le){var me=tN(h,S),be=tN(p,S),ke=le.get(be);if(ke){A1(h,S,ke);return}var Te=K?K(me,be,S+"",h,p,le):n,Re=Te===n;if(Re){var Qe=Mt(be),ot=!Qe&&El(be),gt=!Qe&&!ot&&Id(be);Te=be,Qe||ot||gt?Mt(me)?Te=me:hr(me)?Te=Fs(me):ot?(Re=!1,Te=VT(be,!0)):gt?(Re=!1,Te=UT(be,!0)):Te=[]:$m(be)||Jc(be)?(Te=me,Jc(me)?Te=FO(me):(!Jn(me)||ko(me))&&(Te=oO(be))):Re=!1}Re&&(le.set(be,Te),R(Te,be,k,K,le),le.delete(be)),A1(h,S,Te)}function TT(h,p){var S=h.length;if(S)return p+=p<0?S:0,Eo(p,S)?h[p]:n}function OT(h,p,S){p.length?p=Wn(p,function(K){return Mt(K)?function(le){return Yc(le,K.length===1?K[0]:K)}:K}):p=[Vs];var k=-1;p=Wn(p,ai(pt()));var R=AT(h,function(K,le,me){var be=Wn(p,function(ke){return ke(K)});return{criteria:be,index:++k,value:K}});return z9(R,function(K,le){return PG(K,le,S)})}function pG(h,p){return DT(h,p,function(S,k){return uN(h,k)})}function DT(h,p,S){for(var k=-1,R=p.length,K={};++k<R;){var le=p[k],me=Yc(h,le);S(me,le)&&Om(K,Pl(le,h),me)}return K}function gG(h){return function(p){return Yc(p,h)}}function R1(h,p,S,k){var R=k?B9:Sd,K=-1,le=p.length,me=h;for(h===p&&(p=Fs(p)),S&&(me=Wn(h,ai(S)));++K<le;)for(var be=0,ke=p[K],Te=S?S(ke):ke;(be=R(me,Te,be,k))>-1;)me!==h&&Zv.call(me,be,1),Zv.call(h,be,1);return h}function MT(h,p){for(var S=h?p.length:0,k=S-1;S--;){var R=p[S];if(S==k||R!==K){var K=R;Eo(R)?Zv.call(h,R,1):z1(h,R)}}return h}function L1(h,p){return h+nx(mT()*(p-h+1))}function vG(h,p,S,k){for(var R=-1,K=Cr(tx((p-h)/(S||1)),0),le=Ce(K);K--;)le[k?K:++R]=h,h+=S;return le}function F1(h,p){var S="";if(!h||p<1||p>Q)return S;do p%2&&(S+=h),p=nx(p/2),p&&(h+=h);while(p);return S}function Ut(h,p){return nN(uO(h,p,Vs),h+"")}function xG(h){return vT($d(h))}function yG(h,p){var S=$d(h);return yx(S,Kc(p,0,S.length))}function Om(h,p,S,k){if(!Jn(h))return h;p=Pl(p,h);for(var R=-1,K=p.length,le=K-1,me=h;me!=null&&++R<K;){var be=Ha(p[R]),ke=S;if(be==="__proto__"||be==="constructor"||be==="prototype")return h;if(R!=le){var Te=me[be];ke=k?k(Te,be,me):n,ke===n&&(ke=Jn(Te)?Te:Eo(p[R+1])?[]:{})}Am(me,be,ke),me=me[be]}return h}var IT=rx?function(h,p){return rx.set(h,p),h}:Vs,jG=ex?function(h,p){return ex(h,"toString",{configurable:!0,enumerable:!1,value:hN(p),writable:!0})}:Vs;function bG(h){return yx($d(h))}function Mi(h,p,S){var k=-1,R=h.length;p<0&&(p=-p>R?0:R+p),S=S>R?R:S,S<0&&(S+=R),R=p>S?0:S-p>>>0,p>>>=0;for(var K=Ce(R);++k<R;)K[k]=h[k+p];return K}function wG(h,p){var S;return Cl(h,function(k,R,K){return S=p(k,R,K),!S}),!!S}function ux(h,p,S){var k=0,R=h==null?k:h.length;if(typeof p=="number"&&p===p&&R<=Z){for(;k<R;){var K=k+R>>>1,le=h[K];le!==null&&!li(le)&&(S?le<=p:le<p)?k=K+1:R=K}return R}return B1(h,p,Vs,S)}function B1(h,p,S,k){var R=0,K=h==null?0:h.length;if(K===0)return 0;p=S(p);for(var le=p!==p,me=p===null,be=li(p),ke=p===n;R<K;){var Te=nx((R+K)/2),Re=S(h[Te]),Qe=Re!==n,ot=Re===null,gt=Re===Re,Bt=li(Re);if(le)var vt=k||gt;else ke?vt=gt&&(k||Qe):me?vt=gt&&Qe&&(k||!ot):be?vt=gt&&Qe&&!ot&&(k||!Bt):ot||Bt?vt=!1:vt=k?Re<=p:Re<p;vt?R=Te+1:K=Te}return as(K,te)}function $T(h,p){for(var S=-1,k=h.length,R=0,K=[];++S<k;){var le=h[S],me=p?p(le):le;if(!S||!la(me,be)){var be=me;K[R++]=le===0?0:le}}return K}function RT(h){return typeof h=="number"?h:li(h)?ae:+h}function oi(h){if(typeof h=="string")return h;if(Mt(h))return Wn(h,oi)+"";if(li(h))return pT?pT.call(h):"";var p=h+"";return p=="0"&&1/h==-oe?"-0":p}function _l(h,p,S){var k=-1,R=Uv,K=h.length,le=!0,me=[],be=me;if(S)le=!1,R=p1;else if(K>=i){var ke=p?null:DG(h);if(ke)return Wv(ke);le=!1,R=wm,be=new Gc}else be=p?[]:me;e:for(;++k<K;){var Te=h[k],Re=p?p(Te):Te;if(Te=S||Te!==0?Te:0,le&&Re===Re){for(var Qe=be.length;Qe--;)if(be[Qe]===Re)continue e;p&&be.push(Re),me.push(Te)}else R(be,Re,S)||(be!==me&&be.push(Re),me.push(Te))}return me}function z1(h,p){return p=Pl(p,h),h=dO(h,p),h==null||delete h[Ha(Ii(p))]}function LT(h,p,S,k){return Om(h,p,S(Yc(h,p)),k)}function dx(h,p,S,k){for(var R=h.length,K=k?R:-1;(k?K--:++K<R)&&p(h[K],K,h););return S?Mi(h,k?0:K,k?K+1:R):Mi(h,k?K+1:0,k?R:K)}function FT(h,p){var S=h;return S instanceof Zt&&(S=S.value()),g1(p,function(k,R){return R.func.apply(R.thisArg,wl([k],R.args))},S)}function V1(h,p,S){var k=h.length;if(k<2)return k?_l(h[0]):[];for(var R=-1,K=Ce(k);++R<k;)for(var le=h[R],me=-1;++me<k;)me!=R&&(K[R]=Em(K[R]||le,h[me],p,S));return _l(Zr(K,1),p,S)}function BT(h,p,S){for(var k=-1,R=h.length,K=p.length,le={};++k<R;){var me=k<K?p[k]:n;S(le,h[k],me)}return le}function U1(h){return hr(h)?h:[]}function q1(h){return typeof h=="function"?h:Vs}function Pl(h,p){return Mt(h)?h:Z1(h,p)?[h]:pO(hn(h))}var NG=Ut;function Al(h,p,S){var k=h.length;return S=S===n?k:S,!p&&S>=k?h:Mi(h,p,S)}var zT=uH||function(h){return Jr.clearTimeout(h)};function VT(h,p){if(p)return h.slice();var S=h.length,k=cT?cT(S):new h.constructor(S);return h.copy(k),k}function W1(h){var p=new h.constructor(h.byteLength);return new Xv(p).set(new Xv(h)),p}function SG(h,p){var S=p?W1(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.byteLength)}function CG(h){var p=new h.constructor(h.source,Dv.exec(h));return p.lastIndex=h.lastIndex,p}function _G(h){return Pm?An(Pm.call(h)):{}}function UT(h,p){var S=p?W1(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.length)}function qT(h,p){if(h!==p){var S=h!==n,k=h===null,R=h===h,K=li(h),le=p!==n,me=p===null,be=p===p,ke=li(p);if(!me&&!ke&&!K&&h>p||K&&le&&be&&!me&&!ke||k&&le&&be||!S&&be||!R)return 1;if(!k&&!K&&!ke&&h<p||ke&&S&&R&&!k&&!K||me&&S&&R||!le&&R||!be)return-1}return 0}function PG(h,p,S){for(var k=-1,R=h.criteria,K=p.criteria,le=R.length,me=S.length;++k<le;){var be=qT(R[k],K[k]);if(be){if(k>=me)return be;var ke=S[k];return be*(ke=="desc"?-1:1)}}return h.index-p.index}function WT(h,p,S,k){for(var R=-1,K=h.length,le=S.length,me=-1,be=p.length,ke=Cr(K-le,0),Te=Ce(be+ke),Re=!k;++me<be;)Te[me]=p[me];for(;++R<le;)(Re||R<K)&&(Te[S[R]]=h[R]);for(;ke--;)Te[me++]=h[R++];return Te}function HT(h,p,S,k){for(var R=-1,K=h.length,le=-1,me=S.length,be=-1,ke=p.length,Te=Cr(K-me,0),Re=Ce(Te+ke),Qe=!k;++R<Te;)Re[R]=h[R];for(var ot=R;++be<ke;)Re[ot+be]=p[be];for(;++le<me;)(Qe||R<K)&&(Re[ot+S[le]]=h[R++]);return Re}function Fs(h,p){var S=-1,k=h.length;for(p||(p=Ce(k));++S<k;)p[S]=h[S];return p}function Wa(h,p,S,k){var R=!S;S||(S={});for(var K=-1,le=p.length;++K<le;){var me=p[K],be=k?k(S[me],h[me],me,S,h):n;be===n&&(be=h[me]),R?_o(S,me,be):Am(S,me,be)}return S}function AG(h,p){return Wa(h,J1(h),p)}function EG(h,p){return Wa(h,iO(h),p)}function hx(h,p){return function(S,k){var R=Mt(S)?M9:XH,K=p?p():{};return R(S,h,pt(k,2),K)}}function Od(h){return Ut(function(p,S){var k=-1,R=S.length,K=R>1?S[R-1]:n,le=R>2?S[2]:n;for(K=h.length>3&&typeof K=="function"?(R--,K):n,le&&bs(S[0],S[1],le)&&(K=R<3?n:K,R=1),p=An(p);++k<R;){var me=S[k];me&&h(p,me,k,K)}return p})}function GT(h,p){return function(S,k){if(S==null)return S;if(!Bs(S))return h(S,k);for(var R=S.length,K=p?R:-1,le=An(S);(p?K--:++K<R)&&k(le[K],K,le)!==!1;);return S}}function KT(h){return function(p,S,k){for(var R=-1,K=An(p),le=k(p),me=le.length;me--;){var be=le[h?me:++R];if(S(K[be],be,K)===!1)break}return p}}function kG(h,p,S){var k=p&y,R=Dm(h);function K(){var le=this&&this!==Jr&&this instanceof K?R:h;return le.apply(k?S:this,arguments)}return K}function YT(h){return function(p){p=hn(p);var S=Cd(p)?aa(p):n,k=S?S[0]:p.charAt(0),R=S?Al(S,1).join(""):p.slice(1);return k[h]()+R}}function Dd(h){return function(p){return g1(GO(HO(p).replace(s1,"")),h,"")}}function Dm(h){return function(){var p=arguments;switch(p.length){case 0:return new h;case 1:return new h(p[0]);case 2:return new h(p[0],p[1]);case 3:return new h(p[0],p[1],p[2]);case 4:return new h(p[0],p[1],p[2],p[3]);case 5:return new h(p[0],p[1],p[2],p[3],p[4]);case 6:return new h(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new h(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var S=Td(h.prototype),k=h.apply(S,p);return Jn(k)?k:S}}function TG(h,p,S){var k=Dm(h);function R(){for(var K=arguments.length,le=Ce(K),me=K,be=Md(R);me--;)le[me]=arguments[me];var ke=K<3&&le[0]!==be&&le[K-1]!==be?[]:Nl(le,be);if(K-=ke.length,K<S)return eO(h,p,fx,R.placeholder,n,le,ke,n,n,S-K);var Te=this&&this!==Jr&&this instanceof R?k:h;return ii(Te,this,le)}return R}function QT(h){return function(p,S,k){var R=An(p);if(!Bs(p)){var K=pt(S,3);p=Rr(p),S=function(me){return K(R[me],me,R)}}var le=h(p,S,k);return le>-1?R[K?p[le]:le]:n}}function XT(h){return Ao(function(p){var S=p.length,k=S,R=Oi.prototype.thru;for(h&&p.reverse();k--;){var K=p[k];if(typeof K!="function")throw new Ti(o);if(R&&!le&&vx(K)=="wrapper")var le=new Oi([],!0)}for(k=le?k:S;++k<S;){K=p[k];var me=vx(K),be=me=="wrapper"?Q1(K):n;be&&eN(be[0])&&be[1]==(P|b|C|E)&&!be[4].length&&be[9]==1?le=le[vx(be[0])].apply(le,be[3]):le=K.length==1&&eN(K)?le[me]():le.thru(K)}return function(){var ke=arguments,Te=ke[0];if(le&&ke.length==1&&Mt(Te))return le.plant(Te).value();for(var Re=0,Qe=S?p[Re].apply(this,ke):Te;++Re<S;)Qe=p[Re].call(this,Qe);return Qe}})}function fx(h,p,S,k,R,K,le,me,be,ke){var Te=p&P,Re=p&y,Qe=p&N,ot=p&(b|_),gt=p&M,Bt=Qe?n:Dm(h);function vt(){for(var Ht=arguments.length,tn=Ce(Ht),ci=Ht;ci--;)tn[ci]=arguments[ci];if(ot)var ws=Md(vt),ui=U9(tn,ws);if(k&&(tn=WT(tn,k,R,ot)),K&&(tn=HT(tn,K,le,ot)),Ht-=ui,ot&&Ht<ke){var fr=Nl(tn,ws);return eO(h,p,fx,vt.placeholder,S,tn,fr,me,be,ke-Ht)}var ca=Re?S:this,Oo=Qe?ca[h]:h;return Ht=tn.length,me?tn=XG(tn,me):gt&&Ht>1&&tn.reverse(),Te&&be<Ht&&(tn.length=be),this&&this!==Jr&&this instanceof vt&&(Oo=Bt||Dm(Oo)),Oo.apply(ca,tn)}return vt}function JT(h,p){return function(S,k){return iG(S,h,p(k),{})}}function mx(h,p){return function(S,k){var R;if(S===n&&k===n)return p;if(S!==n&&(R=S),k!==n){if(R===n)return k;typeof S=="string"||typeof k=="string"?(S=oi(S),k=oi(k)):(S=RT(S),k=RT(k)),R=h(S,k)}return R}}function H1(h){return Ao(function(p){return p=Wn(p,ai(pt())),Ut(function(S){var k=this;return h(p,function(R){return ii(R,k,S)})})})}function px(h,p){p=p===n?" ":oi(p);var S=p.length;if(S<2)return S?F1(p,h):p;var k=F1(p,tx(h/_d(p)));return Cd(p)?Al(aa(k),0,h).join(""):k.slice(0,h)}function OG(h,p,S,k){var R=p&y,K=Dm(h);function le(){for(var me=-1,be=arguments.length,ke=-1,Te=k.length,Re=Ce(Te+be),Qe=this&&this!==Jr&&this instanceof le?K:h;++ke<Te;)Re[ke]=k[ke];for(;be--;)Re[ke++]=arguments[++me];return ii(Qe,R?S:this,Re)}return le}function ZT(h){return function(p,S,k){return k&&typeof k!="number"&&bs(p,S,k)&&(S=k=n),p=To(p),S===n?(S=p,p=0):S=To(S),k=k===n?p<S?1:-1:To(k),vG(p,S,k,h)}}function gx(h){return function(p,S){return typeof p=="string"&&typeof S=="string"||(p=$i(p),S=$i(S)),h(p,S)}}function eO(h,p,S,k,R,K,le,me,be,ke){var Te=p&b,Re=Te?le:n,Qe=Te?n:le,ot=Te?K:n,gt=Te?n:K;p|=Te?C:A,p&=~(Te?A:C),p&j||(p&=~(y|N));var Bt=[h,p,R,ot,Re,gt,Qe,me,be,ke],vt=S.apply(n,Bt);return eN(h)&&hO(vt,Bt),vt.placeholder=k,fO(vt,h,p)}function G1(h){var p=Sr[h];return function(S,k){if(S=$i(S),k=k==null?0:as(Lt(k),292),k&&fT(S)){var R=(hn(S)+"e").split("e"),K=p(R[0]+"e"+(+R[1]+k));return R=(hn(K)+"e").split("e"),+(R[0]+"e"+(+R[1]-k))}return p(S)}}var DG=Ed&&1/Wv(new Ed([,-0]))[1]==oe?function(h){return new Ed(h)}:pN;function tO(h){return function(p){var S=os(p);return S==we?N1(p):S==Ge?Q9(p):V9(p,h(p))}}function Po(h,p,S,k,R,K,le,me){var be=p&N;if(!be&&typeof h!="function")throw new Ti(o);var ke=k?k.length:0;if(ke||(p&=~(C|A),k=R=n),le=le===n?le:Cr(Lt(le),0),me=me===n?me:Lt(me),ke-=R?R.length:0,p&A){var Te=k,Re=R;k=R=n}var Qe=be?n:Q1(h),ot=[h,p,S,k,R,Te,Re,K,le,me];if(Qe&&KG(ot,Qe),h=ot[0],p=ot[1],S=ot[2],k=ot[3],R=ot[4],me=ot[9]=ot[9]===n?be?0:h.length:Cr(ot[9]-ke,0),!me&&p&(b|_)&&(p&=~(b|_)),!p||p==y)var gt=kG(h,p,S);else p==b||p==_?gt=TG(h,p,me):(p==C||p==(y|C))&&!R.length?gt=OG(h,p,S,k):gt=fx.apply(n,ot);var Bt=Qe?IT:hO;return fO(Bt(gt,ot),h,p)}function nO(h,p,S,k){return h===n||la(h,Ad[S])&&!xn.call(k,S)?p:h}function rO(h,p,S,k,R,K){return Jn(h)&&Jn(p)&&(K.set(p,h),cx(h,p,n,rO,K),K.delete(p)),h}function MG(h){return $m(h)?n:h}function sO(h,p,S,k,R,K){var le=S&x,me=h.length,be=p.length;if(me!=be&&!(le&&be>me))return!1;var ke=K.get(h),Te=K.get(p);if(ke&&Te)return ke==p&&Te==h;var Re=-1,Qe=!0,ot=S&v?new Gc:n;for(K.set(h,p),K.set(p,h);++Re<me;){var gt=h[Re],Bt=p[Re];if(k)var vt=le?k(Bt,gt,Re,p,h,K):k(gt,Bt,Re,h,p,K);if(vt!==n){if(vt)continue;Qe=!1;break}if(ot){if(!v1(p,function(Ht,tn){if(!wm(ot,tn)&&(gt===Ht||R(gt,Ht,S,k,K)))return ot.push(tn)})){Qe=!1;break}}else if(!(gt===Bt||R(gt,Bt,S,k,K))){Qe=!1;break}}return K.delete(h),K.delete(p),Qe}function IG(h,p,S,k,R,K,le){switch(S){case Qn:if(h.byteLength!=p.byteLength||h.byteOffset!=p.byteOffset)return!1;h=h.buffer,p=p.buffer;case dr:return!(h.byteLength!=p.byteLength||!K(new Xv(h),new Xv(p)));case F:case Y:case Fe:return la(+h,+p);case G:return h.name==p.name&&h.message==p.message;case Ne:case Ke:return h==p+"";case we:var me=N1;case Ge:var be=k&x;if(me||(me=Wv),h.size!=p.size&&!be)return!1;var ke=le.get(h);if(ke)return ke==p;k|=v,le.set(h,p);var Te=sO(me(h),me(p),k,R,K,le);return le.delete(h),Te;case Wt:if(Pm)return Pm.call(h)==Pm.call(p)}return!1}function $G(h,p,S,k,R,K){var le=S&x,me=K1(h),be=me.length,ke=K1(p),Te=ke.length;if(be!=Te&&!le)return!1;for(var Re=be;Re--;){var Qe=me[Re];if(!(le?Qe in p:xn.call(p,Qe)))return!1}var ot=K.get(h),gt=K.get(p);if(ot&&gt)return ot==p&&gt==h;var Bt=!0;K.set(h,p),K.set(p,h);for(var vt=le;++Re<be;){Qe=me[Re];var Ht=h[Qe],tn=p[Qe];if(k)var ci=le?k(tn,Ht,Qe,p,h,K):k(Ht,tn,Qe,h,p,K);if(!(ci===n?Ht===tn||R(Ht,tn,S,k,K):ci)){Bt=!1;break}vt||(vt=Qe=="constructor")}if(Bt&&!vt){var ws=h.constructor,ui=p.constructor;ws!=ui&&"constructor"in h&&"constructor"in p&&!(typeof ws=="function"&&ws instanceof ws&&typeof ui=="function"&&ui instanceof ui)&&(Bt=!1)}return K.delete(h),K.delete(p),Bt}function Ao(h){return nN(uO(h,n,yO),h+"")}function K1(h){return ST(h,Rr,J1)}function Y1(h){return ST(h,zs,iO)}var Q1=rx?function(h){return rx.get(h)}:pN;function vx(h){for(var p=h.name+"",S=kd[p],k=xn.call(kd,p)?S.length:0;k--;){var R=S[k],K=R.func;if(K==null||K==h)return R.name}return p}function Md(h){var p=xn.call(W,"placeholder")?W:h;return p.placeholder}function pt(){var h=W.iteratee||fN;return h=h===fN?PT:h,arguments.length?h(arguments[0],arguments[1]):h}function xx(h,p){var S=h.__data__;return qG(p)?S[typeof p=="string"?"string":"hash"]:S.map}function X1(h){for(var p=Rr(h),S=p.length;S--;){var k=p[S],R=h[k];p[S]=[k,R,lO(R)]}return p}function Qc(h,p){var S=G9(h,p);return _T(S)?S:n}function RG(h){var p=xn.call(h,Wc),S=h[Wc];try{h[Wc]=n;var k=!0}catch{}var R=Yv.call(h);return k&&(p?h[Wc]=S:delete h[Wc]),R}var J1=C1?function(h){return h==null?[]:(h=An(h),bl(C1(h),function(p){return dT.call(h,p)}))}:gN,iO=C1?function(h){for(var p=[];h;)wl(p,J1(h)),h=Jv(h);return p}:gN,os=js;(_1&&os(new _1(new ArrayBuffer(1)))!=Qn||Sm&&os(new Sm)!=we||P1&&os(P1.resolve())!=lt||Ed&&os(new Ed)!=Ge||Cm&&os(new Cm)!=kt)&&(os=function(h){var p=js(h),S=p==it?h.constructor:n,k=S?Xc(S):"";if(k)switch(k){case yH:return Qn;case jH:return we;case bH:return lt;case wH:return Ge;case NH:return kt}return p});function LG(h,p,S){for(var k=-1,R=S.length;++k<R;){var K=S[k],le=K.size;switch(K.type){case"drop":h+=le;break;case"dropRight":p-=le;break;case"take":p=as(p,h+le);break;case"takeRight":h=Cr(h,p-le);break}}return{start:h,end:p}}function FG(h){var p=h.match(Rw);return p?p[1].split(Lw):[]}function aO(h,p,S){p=Pl(p,h);for(var k=-1,R=p.length,K=!1;++k<R;){var le=Ha(p[k]);if(!(K=h!=null&&S(h,le)))break;h=h[le]}return K||++k!=R?K:(R=h==null?0:h.length,!!R&&Cx(R)&&Eo(le,R)&&(Mt(h)||Jc(h)))}function BG(h){var p=h.length,S=new h.constructor(p);return p&&typeof h[0]=="string"&&xn.call(h,"index")&&(S.index=h.index,S.input=h.input),S}function oO(h){return typeof h.constructor=="function"&&!Mm(h)?Td(Jv(h)):{}}function zG(h,p,S){var k=h.constructor;switch(p){case dr:return W1(h);case F:case Y:return new k(+h);case Qn:return SG(h,S);case gs:case Se:case Vt:case tt:case mt:case sn:case is:case Qr:case Rs:return UT(h,S);case we:return new k;case Fe:case Ke:return new k(h);case Ne:return CG(h);case Ge:return new k;case Wt:return _G(h)}}function VG(h,p){var S=p.length;if(!S)return h;var k=S-1;return p[k]=(S>1?"& ":"")+p[k],p=p.join(S>2?", ":" "),h.replace($w,`{
/* [wrapped with `+p+`] */
`)}function UG(h){return Mt(h)||Jc(h)||!!(hT&&h&&h[hT])}function Eo(h,p){var S=typeof h;return p=p??Q,!!p&&(S=="number"||S!="symbol"&&yd.test(h))&&h>-1&&h%1==0&&h<p}function bs(h,p,S){if(!Jn(S))return!1;var k=typeof p;return(k=="number"?Bs(S)&&Eo(p,S.length):k=="string"&&p in S)?la(S[p],h):!1}function Z1(h,p){if(Mt(h))return!1;var S=typeof h;return S=="number"||S=="symbol"||S=="boolean"||h==null||li(h)?!0:xs.test(h)||!vs.test(h)||p!=null&&h in An(p)}function qG(h){var p=typeof h;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?h!=="__proto__":h===null}function eN(h){var p=vx(h),S=W[p];if(typeof S!="function"||!(p in Zt.prototype))return!1;if(h===S)return!0;var k=Q1(S);return!!k&&h===k[0]}function WG(h){return!!lT&&lT in h}var HG=Gv?ko:vN;function Mm(h){var p=h&&h.constructor,S=typeof p=="function"&&p.prototype||Ad;return h===S}function lO(h){return h===h&&!Jn(h)}function cO(h,p){return function(S){return S==null?!1:S[h]===p&&(p!==n||h in An(S))}}function GG(h){var p=Nx(h,function(k){return S.size===u&&S.clear(),k}),S=p.cache;return p}function KG(h,p){var S=h[1],k=p[1],R=S|k,K=R<(y|N|P),le=k==P&&S==b||k==P&&S==E&&h[7].length<=p[8]||k==(P|E)&&p[7].length<=p[8]&&S==b;if(!(K||le))return h;k&y&&(h[2]=p[2],R|=S&y?0:j);var me=p[3];if(me){var be=h[3];h[3]=be?WT(be,me,p[4]):me,h[4]=be?Nl(h[3],d):p[4]}return me=p[5],me&&(be=h[5],h[5]=be?HT(be,me,p[6]):me,h[6]=be?Nl(h[5],d):p[6]),me=p[7],me&&(h[7]=me),k&P&&(h[8]=h[8]==null?p[8]:as(h[8],p[8])),h[9]==null&&(h[9]=p[9]),h[0]=p[0],h[1]=R,h}function YG(h){var p=[];if(h!=null)for(var S in An(h))p.push(S);return p}function QG(h){return Yv.call(h)}function uO(h,p,S){return p=Cr(p===n?h.length-1:p,0),function(){for(var k=arguments,R=-1,K=Cr(k.length-p,0),le=Ce(K);++R<K;)le[R]=k[p+R];R=-1;for(var me=Ce(p+1);++R<p;)me[R]=k[R];return me[p]=S(le),ii(h,this,me)}}function dO(h,p){return p.length<2?h:Yc(h,Mi(p,0,-1))}function XG(h,p){for(var S=h.length,k=as(p.length,S),R=Fs(h);k--;){var K=p[k];h[k]=Eo(K,S)?R[K]:n}return h}function tN(h,p){if(!(p==="constructor"&&typeof h[p]=="function")&&p!="__proto__")return h[p]}var hO=mO(IT),Im=hH||function(h,p){return Jr.setTimeout(h,p)},nN=mO(jG);function fO(h,p,S){var k=p+"";return nN(h,VG(k,JG(FG(k),S)))}function mO(h){var p=0,S=0;return function(){var k=gH(),R=L-(k-S);if(S=k,R>0){if(++p>=O)return arguments[0]}else p=0;return h.apply(n,arguments)}}function yx(h,p){var S=-1,k=h.length,R=k-1;for(p=p===n?k:p;++S<p;){var K=L1(S,R),le=h[K];h[K]=h[S],h[S]=le}return h.length=p,h}var pO=GG(function(h){var p=[];return h.charCodeAt(0)===46&&p.push(""),h.replace(Ai,function(S,k,R,K){p.push(R?K.replace(zw,"$1"):k||S)}),p});function Ha(h){if(typeof h=="string"||li(h))return h;var p=h+"";return p=="0"&&1/h==-oe?"-0":p}function Xc(h){if(h!=null){try{return Kv.call(h)}catch{}try{return h+""}catch{}}return""}function JG(h,p){return ki(ne,function(S){var k="_."+S[0];p&S[1]&&!Uv(h,k)&&h.push(k)}),h.sort()}function gO(h){if(h instanceof Zt)return h.clone();var p=new Oi(h.__wrapped__,h.__chain__);return p.__actions__=Fs(h.__actions__),p.__index__=h.__index__,p.__values__=h.__values__,p}function ZG(h,p,S){(S?bs(h,p,S):p===n)?p=1:p=Cr(Lt(p),0);var k=h==null?0:h.length;if(!k||p<1)return[];for(var R=0,K=0,le=Ce(tx(k/p));R<k;)le[K++]=Mi(h,R,R+=p);return le}function eK(h){for(var p=-1,S=h==null?0:h.length,k=0,R=[];++p<S;){var K=h[p];K&&(R[k++]=K)}return R}function tK(){var h=arguments.length;if(!h)return[];for(var p=Ce(h-1),S=arguments[0],k=h;k--;)p[k-1]=arguments[k];return wl(Mt(S)?Fs(S):[S],Zr(p,1))}var nK=Ut(function(h,p){return hr(h)?Em(h,Zr(p,1,hr,!0)):[]}),rK=Ut(function(h,p){var S=Ii(p);return hr(S)&&(S=n),hr(h)?Em(h,Zr(p,1,hr,!0),pt(S,2)):[]}),sK=Ut(function(h,p){var S=Ii(p);return hr(S)&&(S=n),hr(h)?Em(h,Zr(p,1,hr,!0),n,S):[]});function iK(h,p,S){var k=h==null?0:h.length;return k?(p=S||p===n?1:Lt(p),Mi(h,p<0?0:p,k)):[]}function aK(h,p,S){var k=h==null?0:h.length;return k?(p=S||p===n?1:Lt(p),p=k-p,Mi(h,0,p<0?0:p)):[]}function oK(h,p){return h&&h.length?dx(h,pt(p,3),!0,!0):[]}function lK(h,p){return h&&h.length?dx(h,pt(p,3),!0):[]}function cK(h,p,S,k){var R=h==null?0:h.length;return R?(S&&typeof S!="number"&&bs(h,p,S)&&(S=0,k=R),tG(h,p,S,k)):[]}function vO(h,p,S){var k=h==null?0:h.length;if(!k)return-1;var R=S==null?0:Lt(S);return R<0&&(R=Cr(k+R,0)),qv(h,pt(p,3),R)}function xO(h,p,S){var k=h==null?0:h.length;if(!k)return-1;var R=k-1;return S!==n&&(R=Lt(S),R=S<0?Cr(k+R,0):as(R,k-1)),qv(h,pt(p,3),R,!0)}function yO(h){var p=h==null?0:h.length;return p?Zr(h,1):[]}function uK(h){var p=h==null?0:h.length;return p?Zr(h,oe):[]}function dK(h,p){var S=h==null?0:h.length;return S?(p=p===n?1:Lt(p),Zr(h,p)):[]}function hK(h){for(var p=-1,S=h==null?0:h.length,k={};++p<S;){var R=h[p];k[R[0]]=R[1]}return k}function jO(h){return h&&h.length?h[0]:n}function fK(h,p,S){var k=h==null?0:h.length;if(!k)return-1;var R=S==null?0:Lt(S);return R<0&&(R=Cr(k+R,0)),Sd(h,p,R)}function mK(h){var p=h==null?0:h.length;return p?Mi(h,0,-1):[]}var pK=Ut(function(h){var p=Wn(h,U1);return p.length&&p[0]===h[0]?D1(p):[]}),gK=Ut(function(h){var p=Ii(h),S=Wn(h,U1);return p===Ii(S)?p=n:S.pop(),S.length&&S[0]===h[0]?D1(S,pt(p,2)):[]}),vK=Ut(function(h){var p=Ii(h),S=Wn(h,U1);return p=typeof p=="function"?p:n,p&&S.pop(),S.length&&S[0]===h[0]?D1(S,n,p):[]});function xK(h,p){return h==null?"":mH.call(h,p)}function Ii(h){var p=h==null?0:h.length;return p?h[p-1]:n}function yK(h,p,S){var k=h==null?0:h.length;if(!k)return-1;var R=k;return S!==n&&(R=Lt(S),R=R<0?Cr(k+R,0):as(R,k-1)),p===p?J9(h,p,R):qv(h,eT,R,!0)}function jK(h,p){return h&&h.length?TT(h,Lt(p)):n}var bK=Ut(bO);function bO(h,p){return h&&h.length&&p&&p.length?R1(h,p):h}function wK(h,p,S){return h&&h.length&&p&&p.length?R1(h,p,pt(S,2)):h}function NK(h,p,S){return h&&h.length&&p&&p.length?R1(h,p,n,S):h}var SK=Ao(function(h,p){var S=h==null?0:h.length,k=E1(h,p);return MT(h,Wn(p,function(R){return Eo(R,S)?+R:R}).sort(qT)),k});function CK(h,p){var S=[];if(!(h&&h.length))return S;var k=-1,R=[],K=h.length;for(p=pt(p,3);++k<K;){var le=h[k];p(le,k,h)&&(S.push(le),R.push(k))}return MT(h,R),S}function rN(h){return h==null?h:xH.call(h)}function _K(h,p,S){var k=h==null?0:h.length;return k?(S&&typeof S!="number"&&bs(h,p,S)?(p=0,S=k):(p=p==null?0:Lt(p),S=S===n?k:Lt(S)),Mi(h,p,S)):[]}function PK(h,p){return ux(h,p)}function AK(h,p,S){return B1(h,p,pt(S,2))}function EK(h,p){var S=h==null?0:h.length;if(S){var k=ux(h,p);if(k<S&&la(h[k],p))return k}return-1}function kK(h,p){return ux(h,p,!0)}function TK(h,p,S){return B1(h,p,pt(S,2),!0)}function OK(h,p){var S=h==null?0:h.length;if(S){var k=ux(h,p,!0)-1;if(la(h[k],p))return k}return-1}function DK(h){return h&&h.length?$T(h):[]}function MK(h,p){return h&&h.length?$T(h,pt(p,2)):[]}function IK(h){var p=h==null?0:h.length;return p?Mi(h,1,p):[]}function $K(h,p,S){return h&&h.length?(p=S||p===n?1:Lt(p),Mi(h,0,p<0?0:p)):[]}function RK(h,p,S){var k=h==null?0:h.length;return k?(p=S||p===n?1:Lt(p),p=k-p,Mi(h,p<0?0:p,k)):[]}function LK(h,p){return h&&h.length?dx(h,pt(p,3),!1,!0):[]}function FK(h,p){return h&&h.length?dx(h,pt(p,3)):[]}var BK=Ut(function(h){return _l(Zr(h,1,hr,!0))}),zK=Ut(function(h){var p=Ii(h);return hr(p)&&(p=n),_l(Zr(h,1,hr,!0),pt(p,2))}),VK=Ut(function(h){var p=Ii(h);return p=typeof p=="function"?p:n,_l(Zr(h,1,hr,!0),n,p)});function UK(h){return h&&h.length?_l(h):[]}function qK(h,p){return h&&h.length?_l(h,pt(p,2)):[]}function WK(h,p){return p=typeof p=="function"?p:n,h&&h.length?_l(h,n,p):[]}function sN(h){if(!(h&&h.length))return[];var p=0;return h=bl(h,function(S){if(hr(S))return p=Cr(S.length,p),!0}),b1(p,function(S){return Wn(h,x1(S))})}function wO(h,p){if(!(h&&h.length))return[];var S=sN(h);return p==null?S:Wn(S,function(k){return ii(p,n,k)})}var HK=Ut(function(h,p){return hr(h)?Em(h,p):[]}),GK=Ut(function(h){return V1(bl(h,hr))}),KK=Ut(function(h){var p=Ii(h);return hr(p)&&(p=n),V1(bl(h,hr),pt(p,2))}),YK=Ut(function(h){var p=Ii(h);return p=typeof p=="function"?p:n,V1(bl(h,hr),n,p)}),QK=Ut(sN);function XK(h,p){return BT(h||[],p||[],Am)}function JK(h,p){return BT(h||[],p||[],Om)}var ZK=Ut(function(h){var p=h.length,S=p>1?h[p-1]:n;return S=typeof S=="function"?(h.pop(),S):n,wO(h,S)});function NO(h){var p=W(h);return p.__chain__=!0,p}function eY(h,p){return p(h),h}function jx(h,p){return p(h)}var tY=Ao(function(h){var p=h.length,S=p?h[0]:0,k=this.__wrapped__,R=function(K){return E1(K,h)};return p>1||this.__actions__.length||!(k instanceof Zt)||!Eo(S)?this.thru(R):(k=k.slice(S,+S+(p?1:0)),k.__actions__.push({func:jx,args:[R],thisArg:n}),new Oi(k,this.__chain__).thru(function(K){return p&&!K.length&&K.push(n),K}))});function nY(){return NO(this)}function rY(){return new Oi(this.value(),this.__chain__)}function sY(){this.__values__===n&&(this.__values__=RO(this.value()));var h=this.__index__>=this.__values__.length,p=h?n:this.__values__[this.__index__++];return{done:h,value:p}}function iY(){return this}function aY(h){for(var p,S=this;S instanceof ix;){var k=gO(S);k.__index__=0,k.__values__=n,p?R.__wrapped__=k:p=k;var R=k;S=S.__wrapped__}return R.__wrapped__=h,p}function oY(){var h=this.__wrapped__;if(h instanceof Zt){var p=h;return this.__actions__.length&&(p=new Zt(this)),p=p.reverse(),p.__actions__.push({func:jx,args:[rN],thisArg:n}),new Oi(p,this.__chain__)}return this.thru(rN)}function lY(){return FT(this.__wrapped__,this.__actions__)}var cY=hx(function(h,p,S){xn.call(h,S)?++h[S]:_o(h,S,1)});function uY(h,p,S){var k=Mt(h)?Jk:eG;return S&&bs(h,p,S)&&(p=n),k(h,pt(p,3))}function dY(h,p){var S=Mt(h)?bl:wT;return S(h,pt(p,3))}var hY=QT(vO),fY=QT(xO);function mY(h,p){return Zr(bx(h,p),1)}function pY(h,p){return Zr(bx(h,p),oe)}function gY(h,p,S){return S=S===n?1:Lt(S),Zr(bx(h,p),S)}function SO(h,p){var S=Mt(h)?ki:Cl;return S(h,pt(p,3))}function CO(h,p){var S=Mt(h)?I9:bT;return S(h,pt(p,3))}var vY=hx(function(h,p,S){xn.call(h,S)?h[S].push(p):_o(h,S,[p])});function xY(h,p,S,k){h=Bs(h)?h:$d(h),S=S&&!k?Lt(S):0;var R=h.length;return S<0&&(S=Cr(R+S,0)),_x(h)?S<=R&&h.indexOf(p,S)>-1:!!R&&Sd(h,p,S)>-1}var yY=Ut(function(h,p,S){var k=-1,R=typeof p=="function",K=Bs(h)?Ce(h.length):[];return Cl(h,function(le){K[++k]=R?ii(p,le,S):km(le,p,S)}),K}),jY=hx(function(h,p,S){_o(h,S,p)});function bx(h,p){var S=Mt(h)?Wn:AT;return S(h,pt(p,3))}function bY(h,p,S,k){return h==null?[]:(Mt(p)||(p=p==null?[]:[p]),S=k?n:S,Mt(S)||(S=S==null?[]:[S]),OT(h,p,S))}var wY=hx(function(h,p,S){h[S?0:1].push(p)},function(){return[[],[]]});function NY(h,p,S){var k=Mt(h)?g1:nT,R=arguments.length<3;return k(h,pt(p,4),S,R,Cl)}function SY(h,p,S){var k=Mt(h)?$9:nT,R=arguments.length<3;return k(h,pt(p,4),S,R,bT)}function CY(h,p){var S=Mt(h)?bl:wT;return S(h,Sx(pt(p,3)))}function _Y(h){var p=Mt(h)?vT:xG;return p(h)}function PY(h,p,S){(S?bs(h,p,S):p===n)?p=1:p=Lt(p);var k=Mt(h)?YH:yG;return k(h,p)}function AY(h){var p=Mt(h)?QH:bG;return p(h)}function EY(h){if(h==null)return 0;if(Bs(h))return _x(h)?_d(h):h.length;var p=os(h);return p==we||p==Ge?h.size:I1(h).length}function kY(h,p,S){var k=Mt(h)?v1:wG;return S&&bs(h,p,S)&&(p=n),k(h,pt(p,3))}var TY=Ut(function(h,p){if(h==null)return[];var S=p.length;return S>1&&bs(h,p[0],p[1])?p=[]:S>2&&bs(p[0],p[1],p[2])&&(p=[p[0]]),OT(h,Zr(p,1),[])}),wx=dH||function(){return Jr.Date.now()};function OY(h,p){if(typeof p!="function")throw new Ti(o);return h=Lt(h),function(){if(--h<1)return p.apply(this,arguments)}}function _O(h,p,S){return p=S?n:p,p=h&&p==null?h.length:p,Po(h,P,n,n,n,n,p)}function PO(h,p){var S;if(typeof p!="function")throw new Ti(o);return h=Lt(h),function(){return--h>0&&(S=p.apply(this,arguments)),h<=1&&(p=n),S}}var iN=Ut(function(h,p,S){var k=y;if(S.length){var R=Nl(S,Md(iN));k|=C}return Po(h,k,p,S,R)}),AO=Ut(function(h,p,S){var k=y|N;if(S.length){var R=Nl(S,Md(AO));k|=C}return Po(p,k,h,S,R)});function EO(h,p,S){p=S?n:p;var k=Po(h,b,n,n,n,n,n,p);return k.placeholder=EO.placeholder,k}function kO(h,p,S){p=S?n:p;var k=Po(h,_,n,n,n,n,n,p);return k.placeholder=kO.placeholder,k}function TO(h,p,S){var k,R,K,le,me,be,ke=0,Te=!1,Re=!1,Qe=!0;if(typeof h!="function")throw new Ti(o);p=$i(p)||0,Jn(S)&&(Te=!!S.leading,Re="maxWait"in S,K=Re?Cr($i(S.maxWait)||0,p):K,Qe="trailing"in S?!!S.trailing:Qe);function ot(fr){var ca=k,Oo=R;return k=R=n,ke=fr,le=h.apply(Oo,ca),le}function gt(fr){return ke=fr,me=Im(Ht,p),Te?ot(fr):le}function Bt(fr){var ca=fr-be,Oo=fr-ke,QO=p-ca;return Re?as(QO,K-Oo):QO}function vt(fr){var ca=fr-be,Oo=fr-ke;return be===n||ca>=p||ca<0||Re&&Oo>=K}function Ht(){var fr=wx();if(vt(fr))return tn(fr);me=Im(Ht,Bt(fr))}function tn(fr){return me=n,Qe&&k?ot(fr):(k=R=n,le)}function ci(){me!==n&&zT(me),ke=0,k=be=R=me=n}function ws(){return me===n?le:tn(wx())}function ui(){var fr=wx(),ca=vt(fr);if(k=arguments,R=this,be=fr,ca){if(me===n)return gt(be);if(Re)return zT(me),me=Im(Ht,p),ot(be)}return me===n&&(me=Im(Ht,p)),le}return ui.cancel=ci,ui.flush=ws,ui}var DY=Ut(function(h,p){return jT(h,1,p)}),MY=Ut(function(h,p,S){return jT(h,$i(p)||0,S)});function IY(h){return Po(h,M)}function Nx(h,p){if(typeof h!="function"||p!=null&&typeof p!="function")throw new Ti(o);var S=function(){var k=arguments,R=p?p.apply(this,k):k[0],K=S.cache;if(K.has(R))return K.get(R);var le=h.apply(this,k);return S.cache=K.set(R,le)||K,le};return S.cache=new(Nx.Cache||Co),S}Nx.Cache=Co;function Sx(h){if(typeof h!="function")throw new Ti(o);return function(){var p=arguments;switch(p.length){case 0:return!h.call(this);case 1:return!h.call(this,p[0]);case 2:return!h.call(this,p[0],p[1]);case 3:return!h.call(this,p[0],p[1],p[2])}return!h.apply(this,p)}}function $Y(h){return PO(2,h)}var RY=NG(function(h,p){p=p.length==1&&Mt(p[0])?Wn(p[0],ai(pt())):Wn(Zr(p,1),ai(pt()));var S=p.length;return Ut(function(k){for(var R=-1,K=as(k.length,S);++R<K;)k[R]=p[R].call(this,k[R]);return ii(h,this,k)})}),aN=Ut(function(h,p){var S=Nl(p,Md(aN));return Po(h,C,n,p,S)}),OO=Ut(function(h,p){var S=Nl(p,Md(OO));return Po(h,A,n,p,S)}),LY=Ao(function(h,p){return Po(h,E,n,n,n,p)});function FY(h,p){if(typeof h!="function")throw new Ti(o);return p=p===n?p:Lt(p),Ut(h,p)}function BY(h,p){if(typeof h!="function")throw new Ti(o);return p=p==null?0:Cr(Lt(p),0),Ut(function(S){var k=S[p],R=Al(S,0,p);return k&&wl(R,k),ii(h,this,R)})}function zY(h,p,S){var k=!0,R=!0;if(typeof h!="function")throw new Ti(o);return Jn(S)&&(k="leading"in S?!!S.leading:k,R="trailing"in S?!!S.trailing:R),TO(h,p,{leading:k,maxWait:p,trailing:R})}function VY(h){return _O(h,1)}function UY(h,p){return aN(q1(p),h)}function qY(){if(!arguments.length)return[];var h=arguments[0];return Mt(h)?h:[h]}function WY(h){return Di(h,g)}function HY(h,p){return p=typeof p=="function"?p:n,Di(h,g,p)}function GY(h){return Di(h,f|g)}function KY(h,p){return p=typeof p=="function"?p:n,Di(h,f|g,p)}function YY(h,p){return p==null||yT(h,p,Rr(p))}function la(h,p){return h===p||h!==h&&p!==p}var QY=gx(O1),XY=gx(function(h,p){return h>=p}),Jc=CT(function(){return arguments}())?CT:function(h){return rr(h)&&xn.call(h,"callee")&&!dT.call(h,"callee")},Mt=Ce.isArray,JY=Hk?ai(Hk):aG;function Bs(h){return h!=null&&Cx(h.length)&&!ko(h)}function hr(h){return rr(h)&&Bs(h)}function ZY(h){return h===!0||h===!1||rr(h)&&js(h)==F}var El=fH||vN,eQ=Gk?ai(Gk):oG;function tQ(h){return rr(h)&&h.nodeType===1&&!$m(h)}function nQ(h){if(h==null)return!0;if(Bs(h)&&(Mt(h)||typeof h=="string"||typeof h.splice=="function"||El(h)||Id(h)||Jc(h)))return!h.length;var p=os(h);if(p==we||p==Ge)return!h.size;if(Mm(h))return!I1(h).length;for(var S in h)if(xn.call(h,S))return!1;return!0}function rQ(h,p){return Tm(h,p)}function sQ(h,p,S){S=typeof S=="function"?S:n;var k=S?S(h,p):n;return k===n?Tm(h,p,n,S):!!k}function oN(h){if(!rr(h))return!1;var p=js(h);return p==G||p==ee||typeof h.message=="string"&&typeof h.name=="string"&&!$m(h)}function iQ(h){return typeof h=="number"&&fT(h)}function ko(h){if(!Jn(h))return!1;var p=js(h);return p==I||p==ve||p==se||p==ft}function DO(h){return typeof h=="number"&&h==Lt(h)}function Cx(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=Q}function Jn(h){var p=typeof h;return h!=null&&(p=="object"||p=="function")}function rr(h){return h!=null&&typeof h=="object"}var MO=Kk?ai(Kk):cG;function aQ(h,p){return h===p||M1(h,p,X1(p))}function oQ(h,p,S){return S=typeof S=="function"?S:n,M1(h,p,X1(p),S)}function lQ(h){return IO(h)&&h!=+h}function cQ(h){if(HG(h))throw new Tt(a);return _T(h)}function uQ(h){return h===null}function dQ(h){return h==null}function IO(h){return typeof h=="number"||rr(h)&&js(h)==Fe}function $m(h){if(!rr(h)||js(h)!=it)return!1;var p=Jv(h);if(p===null)return!0;var S=xn.call(p,"constructor")&&p.constructor;return typeof S=="function"&&S instanceof S&&Kv.call(S)==oH}var lN=Yk?ai(Yk):uG;function hQ(h){return DO(h)&&h>=-Q&&h<=Q}var $O=Qk?ai(Qk):dG;function _x(h){return typeof h=="string"||!Mt(h)&&rr(h)&&js(h)==Ke}function li(h){return typeof h=="symbol"||rr(h)&&js(h)==Wt}var Id=Xk?ai(Xk):hG;function fQ(h){return h===n}function mQ(h){return rr(h)&&os(h)==kt}function pQ(h){return rr(h)&&js(h)==Nn}var gQ=gx($1),vQ=gx(function(h,p){return h<=p});function RO(h){if(!h)return[];if(Bs(h))return _x(h)?aa(h):Fs(h);if(Nm&&h[Nm])return Y9(h[Nm]());var p=os(h),S=p==we?N1:p==Ge?Wv:$d;return S(h)}function To(h){if(!h)return h===0?h:0;if(h=$i(h),h===oe||h===-oe){var p=h<0?-1:1;return p*D}return h===h?h:0}function Lt(h){var p=To(h),S=p%1;return p===p?S?p-S:p:0}function LO(h){return h?Kc(Lt(h),0,pe):0}function $i(h){if(typeof h=="number")return h;if(li(h))return ae;if(Jn(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=Jn(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=rT(h);var S=qw.test(h);return S||vm.test(h)?O9(h.slice(2),S?2:8):Uw.test(h)?ae:+h}function FO(h){return Wa(h,zs(h))}function xQ(h){return h?Kc(Lt(h),-Q,Q):h===0?h:0}function hn(h){return h==null?"":oi(h)}var yQ=Od(function(h,p){if(Mm(p)||Bs(p)){Wa(p,Rr(p),h);return}for(var S in p)xn.call(p,S)&&Am(h,S,p[S])}),BO=Od(function(h,p){Wa(p,zs(p),h)}),Px=Od(function(h,p,S,k){Wa(p,zs(p),h,k)}),jQ=Od(function(h,p,S,k){Wa(p,Rr(p),h,k)}),bQ=Ao(E1);function wQ(h,p){var S=Td(h);return p==null?S:xT(S,p)}var NQ=Ut(function(h,p){h=An(h);var S=-1,k=p.length,R=k>2?p[2]:n;for(R&&bs(p[0],p[1],R)&&(k=1);++S<k;)for(var K=p[S],le=zs(K),me=-1,be=le.length;++me<be;){var ke=le[me],Te=h[ke];(Te===n||la(Te,Ad[ke])&&!xn.call(h,ke))&&(h[ke]=K[ke])}return h}),SQ=Ut(function(h){return h.push(n,rO),ii(zO,n,h)});function CQ(h,p){return Zk(h,pt(p,3),qa)}function _Q(h,p){return Zk(h,pt(p,3),T1)}function PQ(h,p){return h==null?h:k1(h,pt(p,3),zs)}function AQ(h,p){return h==null?h:NT(h,pt(p,3),zs)}function EQ(h,p){return h&&qa(h,pt(p,3))}function kQ(h,p){return h&&T1(h,pt(p,3))}function TQ(h){return h==null?[]:lx(h,Rr(h))}function OQ(h){return h==null?[]:lx(h,zs(h))}function cN(h,p,S){var k=h==null?n:Yc(h,p);return k===n?S:k}function DQ(h,p){return h!=null&&aO(h,p,nG)}function uN(h,p){return h!=null&&aO(h,p,rG)}var MQ=JT(function(h,p,S){p!=null&&typeof p.toString!="function"&&(p=Yv.call(p)),h[p]=S},hN(Vs)),IQ=JT(function(h,p,S){p!=null&&typeof p.toString!="function"&&(p=Yv.call(p)),xn.call(h,p)?h[p].push(S):h[p]=[S]},pt),$Q=Ut(km);function Rr(h){return Bs(h)?gT(h):I1(h)}function zs(h){return Bs(h)?gT(h,!0):fG(h)}function RQ(h,p){var S={};return p=pt(p,3),qa(h,function(k,R,K){_o(S,p(k,R,K),k)}),S}function LQ(h,p){var S={};return p=pt(p,3),qa(h,function(k,R,K){_o(S,R,p(k,R,K))}),S}var FQ=Od(function(h,p,S){cx(h,p,S)}),zO=Od(function(h,p,S,k){cx(h,p,S,k)}),BQ=Ao(function(h,p){var S={};if(h==null)return S;var k=!1;p=Wn(p,function(K){return K=Pl(K,h),k||(k=K.length>1),K}),Wa(h,Y1(h),S),k&&(S=Di(S,f|m|g,MG));for(var R=p.length;R--;)z1(S,p[R]);return S});function zQ(h,p){return VO(h,Sx(pt(p)))}var VQ=Ao(function(h,p){return h==null?{}:pG(h,p)});function VO(h,p){if(h==null)return{};var S=Wn(Y1(h),function(k){return[k]});return p=pt(p),DT(h,S,function(k,R){return p(k,R[0])})}function UQ(h,p,S){p=Pl(p,h);var k=-1,R=p.length;for(R||(R=1,h=n);++k<R;){var K=h==null?n:h[Ha(p[k])];K===n&&(k=R,K=S),h=ko(K)?K.call(h):K}return h}function qQ(h,p,S){return h==null?h:Om(h,p,S)}function WQ(h,p,S,k){return k=typeof k=="function"?k:n,h==null?h:Om(h,p,S,k)}var UO=tO(Rr),qO=tO(zs);function HQ(h,p,S){var k=Mt(h),R=k||El(h)||Id(h);if(p=pt(p,4),S==null){var K=h&&h.constructor;R?S=k?new K:[]:Jn(h)?S=ko(K)?Td(Jv(h)):{}:S={}}return(R?ki:qa)(h,function(le,me,be){return p(S,le,me,be)}),S}function GQ(h,p){return h==null?!0:z1(h,p)}function KQ(h,p,S){return h==null?h:LT(h,p,q1(S))}function YQ(h,p,S,k){return k=typeof k=="function"?k:n,h==null?h:LT(h,p,q1(S),k)}function $d(h){return h==null?[]:w1(h,Rr(h))}function QQ(h){return h==null?[]:w1(h,zs(h))}function XQ(h,p,S){return S===n&&(S=p,p=n),S!==n&&(S=$i(S),S=S===S?S:0),p!==n&&(p=$i(p),p=p===p?p:0),Kc($i(h),p,S)}function JQ(h,p,S){return p=To(p),S===n?(S=p,p=0):S=To(S),h=$i(h),sG(h,p,S)}function ZQ(h,p,S){if(S&&typeof S!="boolean"&&bs(h,p,S)&&(p=S=n),S===n&&(typeof p=="boolean"?(S=p,p=n):typeof h=="boolean"&&(S=h,h=n)),h===n&&p===n?(h=0,p=1):(h=To(h),p===n?(p=h,h=0):p=To(p)),h>p){var k=h;h=p,p=k}if(S||h%1||p%1){var R=mT();return as(h+R*(p-h+T9("1e-"+((R+"").length-1))),p)}return L1(h,p)}var eX=Dd(function(h,p,S){return p=p.toLowerCase(),h+(S?WO(p):p)});function WO(h){return dN(hn(h).toLowerCase())}function HO(h){return h=hn(h),h&&h.replace(Hw,q9).replace(i1,"")}function tX(h,p,S){h=hn(h),p=oi(p);var k=h.length;S=S===n?k:Kc(Lt(S),0,k);var R=S;return S-=p.length,S>=0&&h.slice(S,R)==p}function nX(h){return h=hn(h),h&&sa.test(h)?h.replace(kn,W9):h}function rX(h){return h=hn(h),h&&ys.test(h)?h.replace(si,"\\$&"):h}var sX=Dd(function(h,p,S){return h+(S?"-":"")+p.toLowerCase()}),iX=Dd(function(h,p,S){return h+(S?" ":"")+p.toLowerCase()}),aX=YT("toLowerCase");function oX(h,p,S){h=hn(h),p=Lt(p);var k=p?_d(h):0;if(!p||k>=p)return h;var R=(p-k)/2;return px(nx(R),S)+h+px(tx(R),S)}function lX(h,p,S){h=hn(h),p=Lt(p);var k=p?_d(h):0;return p&&k<p?h+px(p-k,S):h}function cX(h,p,S){h=hn(h),p=Lt(p);var k=p?_d(h):0;return p&&k<p?px(p-k,S)+h:h}function uX(h,p,S){return S||p==null?p=0:p&&(p=+p),vH(hn(h).replace(Ls,""),p||0)}function dX(h,p,S){return(S?bs(h,p,S):p===n)?p=1:p=Lt(p),F1(hn(h),p)}function hX(){var h=arguments,p=hn(h[0]);return h.length<3?p:p.replace(h[1],h[2])}var fX=Dd(function(h,p,S){return h+(S?"_":"")+p.toLowerCase()});function mX(h,p,S){return S&&typeof S!="number"&&bs(h,p,S)&&(p=S=n),S=S===n?pe:S>>>0,S?(h=hn(h),h&&(typeof p=="string"||p!=null&&!lN(p))&&(p=oi(p),!p&&Cd(h))?Al(aa(h),0,S):h.split(p,S)):[]}var pX=Dd(function(h,p,S){return h+(S?" ":"")+dN(p)});function gX(h,p,S){return h=hn(h),S=S==null?0:Kc(Lt(S),0,h.length),p=oi(p),h.slice(S,S+p.length)==p}function vX(h,p,S){var k=W.templateSettings;S&&bs(h,p,S)&&(p=n),h=hn(h),p=Px({},p,k,nO);var R=Px({},p.imports,k.imports,nO),K=Rr(R),le=w1(R,K),me,be,ke=0,Te=p.interpolate||No,Re="__p += '",Qe=S1((p.escape||No).source+"|"+Te.source+"|"+(Te===gn?Vw:No).source+"|"+(p.evaluate||No).source+"|$","g"),ot="//# sourceURL="+(xn.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++u1+"]")+`
`;h.replace(Qe,function(vt,Ht,tn,ci,ws,ui){return tn||(tn=ci),Re+=h.slice(ke,ui).replace(Gw,H9),Ht&&(me=!0,Re+=`' +
__e(`+Ht+`) +
'`),ws&&(be=!0,Re+=`';
`+ws+`;
__p += '`),tn&&(Re+=`' +
((__t = (`+tn+`)) == null ? '' : __t) +
'`),ke=ui+vt.length,vt}),Re+=`';
`;var gt=xn.call(p,"variable")&&p.variable;if(!gt)Re=`with (obj) {
`+Re+`
}
`;else if(Bw.test(gt))throw new Tt(l);Re=(be?Re.replace(yl,""):Re).replace(ce,"$1").replace(qe,"$1;"),Re="function("+(gt||"obj")+`) {
`+(gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(me?", __e = _.escape":"")+(be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Re+`return __p
}`;var Bt=KO(function(){return dn(K,ot+"return "+Re).apply(n,le)});if(Bt.source=Re,oN(Bt))throw Bt;return Bt}function xX(h){return hn(h).toLowerCase()}function yX(h){return hn(h).toUpperCase()}function jX(h,p,S){if(h=hn(h),h&&(S||p===n))return rT(h);if(!h||!(p=oi(p)))return h;var k=aa(h),R=aa(p),K=sT(k,R),le=iT(k,R)+1;return Al(k,K,le).join("")}function bX(h,p,S){if(h=hn(h),h&&(S||p===n))return h.slice(0,oT(h)+1);if(!h||!(p=oi(p)))return h;var k=aa(h),R=iT(k,aa(p))+1;return Al(k,0,R).join("")}function wX(h,p,S){if(h=hn(h),h&&(S||p===n))return h.replace(Ls,"");if(!h||!(p=oi(p)))return h;var k=aa(h),R=sT(k,aa(p));return Al(k,R).join("")}function NX(h,p){var S=$,k=T;if(Jn(p)){var R="separator"in p?p.separator:R;S="length"in p?Lt(p.length):S,k="omission"in p?oi(p.omission):k}h=hn(h);var K=h.length;if(Cd(h)){var le=aa(h);K=le.length}if(S>=K)return h;var me=S-_d(k);if(me<1)return k;var be=le?Al(le,0,me).join(""):h.slice(0,me);if(R===n)return be+k;if(le&&(me+=be.length-me),lN(R)){if(h.slice(me).search(R)){var ke,Te=be;for(R.global||(R=S1(R.source,hn(Dv.exec(R))+"g")),R.lastIndex=0;ke=R.exec(Te);)var Re=ke.index;be=be.slice(0,Re===n?me:Re)}}else if(h.indexOf(oi(R),me)!=me){var Qe=be.lastIndexOf(R);Qe>-1&&(be=be.slice(0,Qe))}return be+k}function SX(h){return h=hn(h),h&&Xn.test(h)?h.replace(Le,Z9):h}var CX=Dd(function(h,p,S){return h+(S?" ":"")+p.toUpperCase()}),dN=YT("toUpperCase");function GO(h,p,S){return h=hn(h),p=S?n:p,p===n?K9(h)?nH(h):F9(h):h.match(p)||[]}var KO=Ut(function(h,p){try{return ii(h,n,p)}catch(S){return oN(S)?S:new Tt(S)}}),_X=Ao(function(h,p){return ki(p,function(S){S=Ha(S),_o(h,S,iN(h[S],h))}),h});function PX(h){var p=h==null?0:h.length,S=pt();return h=p?Wn(h,function(k){if(typeof k[1]!="function")throw new Ti(o);return[S(k[0]),k[1]]}):[],Ut(function(k){for(var R=-1;++R<p;){var K=h[R];if(ii(K[0],this,k))return ii(K[1],this,k)}})}function AX(h){return ZH(Di(h,f))}function hN(h){return function(){return h}}function EX(h,p){return h==null||h!==h?p:h}var kX=XT(),TX=XT(!0);function Vs(h){return h}function fN(h){return PT(typeof h=="function"?h:Di(h,f))}function OX(h){return ET(Di(h,f))}function DX(h,p){return kT(h,Di(p,f))}var MX=Ut(function(h,p){return function(S){return km(S,h,p)}}),IX=Ut(function(h,p){return function(S){return km(h,S,p)}});function mN(h,p,S){var k=Rr(p),R=lx(p,k);S==null&&!(Jn(p)&&(R.length||!k.length))&&(S=p,p=h,h=this,R=lx(p,Rr(p)));var K=!(Jn(S)&&"chain"in S)||!!S.chain,le=ko(h);return ki(R,function(me){var be=p[me];h[me]=be,le&&(h.prototype[me]=function(){var ke=this.__chain__;if(K||ke){var Te=h(this.__wrapped__),Re=Te.__actions__=Fs(this.__actions__);return Re.push({func:be,args:arguments,thisArg:h}),Te.__chain__=ke,Te}return be.apply(h,wl([this.value()],arguments))})}),h}function $X(){return Jr._===this&&(Jr._=lH),this}function pN(){}function RX(h){return h=Lt(h),Ut(function(p){return TT(p,h)})}var LX=H1(Wn),FX=H1(Jk),BX=H1(v1);function YO(h){return Z1(h)?x1(Ha(h)):gG(h)}function zX(h){return function(p){return h==null?n:Yc(h,p)}}var VX=ZT(),UX=ZT(!0);function gN(){return[]}function vN(){return!1}function qX(){return{}}function WX(){return""}function HX(){return!0}function GX(h,p){if(h=Lt(h),h<1||h>Q)return[];var S=pe,k=as(h,pe);p=pt(p),h-=pe;for(var R=b1(k,p);++S<h;)p(S);return R}function KX(h){return Mt(h)?Wn(h,Ha):li(h)?[h]:Fs(pO(hn(h)))}function YX(h){var p=++aH;return hn(h)+p}var QX=mx(function(h,p){return h+p},0),XX=G1("ceil"),JX=mx(function(h,p){return h/p},1),ZX=G1("floor");function eJ(h){return h&&h.length?ox(h,Vs,O1):n}function tJ(h,p){return h&&h.length?ox(h,pt(p,2),O1):n}function nJ(h){return tT(h,Vs)}function rJ(h,p){return tT(h,pt(p,2))}function sJ(h){return h&&h.length?ox(h,Vs,$1):n}function iJ(h,p){return h&&h.length?ox(h,pt(p,2),$1):n}var aJ=mx(function(h,p){return h*p},1),oJ=G1("round"),lJ=mx(function(h,p){return h-p},0);function cJ(h){return h&&h.length?j1(h,Vs):0}function uJ(h,p){return h&&h.length?j1(h,pt(p,2)):0}return W.after=OY,W.ary=_O,W.assign=yQ,W.assignIn=BO,W.assignInWith=Px,W.assignWith=jQ,W.at=bQ,W.before=PO,W.bind=iN,W.bindAll=_X,W.bindKey=AO,W.castArray=qY,W.chain=NO,W.chunk=ZG,W.compact=eK,W.concat=tK,W.cond=PX,W.conforms=AX,W.constant=hN,W.countBy=cY,W.create=wQ,W.curry=EO,W.curryRight=kO,W.debounce=TO,W.defaults=NQ,W.defaultsDeep=SQ,W.defer=DY,W.delay=MY,W.difference=nK,W.differenceBy=rK,W.differenceWith=sK,W.drop=iK,W.dropRight=aK,W.dropRightWhile=oK,W.dropWhile=lK,W.fill=cK,W.filter=dY,W.flatMap=mY,W.flatMapDeep=pY,W.flatMapDepth=gY,W.flatten=yO,W.flattenDeep=uK,W.flattenDepth=dK,W.flip=IY,W.flow=kX,W.flowRight=TX,W.fromPairs=hK,W.functions=TQ,W.functionsIn=OQ,W.groupBy=vY,W.initial=mK,W.intersection=pK,W.intersectionBy=gK,W.intersectionWith=vK,W.invert=MQ,W.invertBy=IQ,W.invokeMap=yY,W.iteratee=fN,W.keyBy=jY,W.keys=Rr,W.keysIn=zs,W.map=bx,W.mapKeys=RQ,W.mapValues=LQ,W.matches=OX,W.matchesProperty=DX,W.memoize=Nx,W.merge=FQ,W.mergeWith=zO,W.method=MX,W.methodOf=IX,W.mixin=mN,W.negate=Sx,W.nthArg=RX,W.omit=BQ,W.omitBy=zQ,W.once=$Y,W.orderBy=bY,W.over=LX,W.overArgs=RY,W.overEvery=FX,W.overSome=BX,W.partial=aN,W.partialRight=OO,W.partition=wY,W.pick=VQ,W.pickBy=VO,W.property=YO,W.propertyOf=zX,W.pull=bK,W.pullAll=bO,W.pullAllBy=wK,W.pullAllWith=NK,W.pullAt=SK,W.range=VX,W.rangeRight=UX,W.rearg=LY,W.reject=CY,W.remove=CK,W.rest=FY,W.reverse=rN,W.sampleSize=PY,W.set=qQ,W.setWith=WQ,W.shuffle=AY,W.slice=_K,W.sortBy=TY,W.sortedUniq=DK,W.sortedUniqBy=MK,W.split=mX,W.spread=BY,W.tail=IK,W.take=$K,W.takeRight=RK,W.takeRightWhile=LK,W.takeWhile=FK,W.tap=eY,W.throttle=zY,W.thru=jx,W.toArray=RO,W.toPairs=UO,W.toPairsIn=qO,W.toPath=KX,W.toPlainObject=FO,W.transform=HQ,W.unary=VY,W.union=BK,W.unionBy=zK,W.unionWith=VK,W.uniq=UK,W.uniqBy=qK,W.uniqWith=WK,W.unset=GQ,W.unzip=sN,W.unzipWith=wO,W.update=KQ,W.updateWith=YQ,W.values=$d,W.valuesIn=QQ,W.without=HK,W.words=GO,W.wrap=UY,W.xor=GK,W.xorBy=KK,W.xorWith=YK,W.zip=QK,W.zipObject=XK,W.zipObjectDeep=JK,W.zipWith=ZK,W.entries=UO,W.entriesIn=qO,W.extend=BO,W.extendWith=Px,mN(W,W),W.add=QX,W.attempt=KO,W.camelCase=eX,W.capitalize=WO,W.ceil=XX,W.clamp=XQ,W.clone=WY,W.cloneDeep=GY,W.cloneDeepWith=KY,W.cloneWith=HY,W.conformsTo=YY,W.deburr=HO,W.defaultTo=EX,W.divide=JX,W.endsWith=tX,W.eq=la,W.escape=nX,W.escapeRegExp=rX,W.every=uY,W.find=hY,W.findIndex=vO,W.findKey=CQ,W.findLast=fY,W.findLastIndex=xO,W.findLastKey=_Q,W.floor=ZX,W.forEach=SO,W.forEachRight=CO,W.forIn=PQ,W.forInRight=AQ,W.forOwn=EQ,W.forOwnRight=kQ,W.get=cN,W.gt=QY,W.gte=XY,W.has=DQ,W.hasIn=uN,W.head=jO,W.identity=Vs,W.includes=xY,W.indexOf=fK,W.inRange=JQ,W.invoke=$Q,W.isArguments=Jc,W.isArray=Mt,W.isArrayBuffer=JY,W.isArrayLike=Bs,W.isArrayLikeObject=hr,W.isBoolean=ZY,W.isBuffer=El,W.isDate=eQ,W.isElement=tQ,W.isEmpty=nQ,W.isEqual=rQ,W.isEqualWith=sQ,W.isError=oN,W.isFinite=iQ,W.isFunction=ko,W.isInteger=DO,W.isLength=Cx,W.isMap=MO,W.isMatch=aQ,W.isMatchWith=oQ,W.isNaN=lQ,W.isNative=cQ,W.isNil=dQ,W.isNull=uQ,W.isNumber=IO,W.isObject=Jn,W.isObjectLike=rr,W.isPlainObject=$m,W.isRegExp=lN,W.isSafeInteger=hQ,W.isSet=$O,W.isString=_x,W.isSymbol=li,W.isTypedArray=Id,W.isUndefined=fQ,W.isWeakMap=mQ,W.isWeakSet=pQ,W.join=xK,W.kebabCase=sX,W.last=Ii,W.lastIndexOf=yK,W.lowerCase=iX,W.lowerFirst=aX,W.lt=gQ,W.lte=vQ,W.max=eJ,W.maxBy=tJ,W.mean=nJ,W.meanBy=rJ,W.min=sJ,W.minBy=iJ,W.stubArray=gN,W.stubFalse=vN,W.stubObject=qX,W.stubString=WX,W.stubTrue=HX,W.multiply=aJ,W.nth=jK,W.noConflict=$X,W.noop=pN,W.now=wx,W.pad=oX,W.padEnd=lX,W.padStart=cX,W.parseInt=uX,W.random=ZQ,W.reduce=NY,W.reduceRight=SY,W.repeat=dX,W.replace=hX,W.result=UQ,W.round=oJ,W.runInContext=je,W.sample=_Y,W.size=EY,W.snakeCase=fX,W.some=kY,W.sortedIndex=PK,W.sortedIndexBy=AK,W.sortedIndexOf=EK,W.sortedLastIndex=kK,W.sortedLastIndexBy=TK,W.sortedLastIndexOf=OK,W.startCase=pX,W.startsWith=gX,W.subtract=lJ,W.sum=cJ,W.sumBy=uJ,W.template=vX,W.times=GX,W.toFinite=To,W.toInteger=Lt,W.toLength=LO,W.toLower=xX,W.toNumber=$i,W.toSafeInteger=xQ,W.toString=hn,W.toUpper=yX,W.trim=jX,W.trimEnd=bX,W.trimStart=wX,W.truncate=NX,W.unescape=SX,W.uniqueId=YX,W.upperCase=CX,W.upperFirst=dN,W.each=SO,W.eachRight=CO,W.first=jO,mN(W,function(){var h={};return qa(W,function(p,S){xn.call(W.prototype,S)||(h[S]=p)}),h}(),{chain:!1}),W.VERSION=s,ki(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){W[h].placeholder=W}),ki(["drop","take"],function(h,p){Zt.prototype[h]=function(S){S=S===n?1:Cr(Lt(S),0);var k=this.__filtered__&&!p?new Zt(this):this.clone();return k.__filtered__?k.__takeCount__=as(S,k.__takeCount__):k.__views__.push({size:as(S,pe),type:h+(k.__dir__<0?"Right":"")}),k},Zt.prototype[h+"Right"]=function(S){return this.reverse()[h](S).reverse()}}),ki(["filter","map","takeWhile"],function(h,p){var S=p+1,k=S==z||S==H;Zt.prototype[h]=function(R){var K=this.clone();return K.__iteratees__.push({iteratee:pt(R,3),type:S}),K.__filtered__=K.__filtered__||k,K}}),ki(["head","last"],function(h,p){var S="take"+(p?"Right":"");Zt.prototype[h]=function(){return this[S](1).value()[0]}}),ki(["initial","tail"],function(h,p){var S="drop"+(p?"":"Right");Zt.prototype[h]=function(){return this.__filtered__?new Zt(this):this[S](1)}}),Zt.prototype.compact=function(){return this.filter(Vs)},Zt.prototype.find=function(h){return this.filter(h).head()},Zt.prototype.findLast=function(h){return this.reverse().find(h)},Zt.prototype.invokeMap=Ut(function(h,p){return typeof h=="function"?new Zt(this):this.map(function(S){return km(S,h,p)})}),Zt.prototype.reject=function(h){return this.filter(Sx(pt(h)))},Zt.prototype.slice=function(h,p){h=Lt(h);var S=this;return S.__filtered__&&(h>0||p<0)?new Zt(S):(h<0?S=S.takeRight(-h):h&&(S=S.drop(h)),p!==n&&(p=Lt(p),S=p<0?S.dropRight(-p):S.take(p-h)),S)},Zt.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Zt.prototype.toArray=function(){return this.take(pe)},qa(Zt.prototype,function(h,p){var S=/^(?:filter|find|map|reject)|While$/.test(p),k=/^(?:head|last)$/.test(p),R=W[k?"take"+(p=="last"?"Right":""):p],K=k||/^find/.test(p);R&&(W.prototype[p]=function(){var le=this.__wrapped__,me=k?[1]:arguments,be=le instanceof Zt,ke=me[0],Te=be||Mt(le),Re=function(Ht){var tn=R.apply(W,wl([Ht],me));return k&&Qe?tn[0]:tn};Te&&S&&typeof ke=="function"&&ke.length!=1&&(be=Te=!1);var Qe=this.__chain__,ot=!!this.__actions__.length,gt=K&&!Qe,Bt=be&&!ot;if(!K&&Te){le=Bt?le:new Zt(this);var vt=h.apply(le,me);return vt.__actions__.push({func:jx,args:[Re],thisArg:n}),new Oi(vt,Qe)}return gt&&Bt?h.apply(this,me):(vt=this.thru(Re),gt?k?vt.value()[0]:vt.value():vt)})}),ki(["pop","push","shift","sort","splice","unshift"],function(h){var p=Hv[h],S=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",k=/^(?:pop|shift)$/.test(h);W.prototype[h]=function(){var R=arguments;if(k&&!this.__chain__){var K=this.value();return p.apply(Mt(K)?K:[],R)}return this[S](function(le){return p.apply(Mt(le)?le:[],R)})}}),qa(Zt.prototype,function(h,p){var S=W[p];if(S){var k=S.name+"";xn.call(kd,k)||(kd[k]=[]),kd[k].push({name:p,func:S})}}),kd[fx(n,N).name]=[{name:"wrapper",func:n}],Zt.prototype.clone=SH,Zt.prototype.reverse=CH,Zt.prototype.value=_H,W.prototype.at=tY,W.prototype.chain=nY,W.prototype.commit=rY,W.prototype.next=sY,W.prototype.plant=aY,W.prototype.reverse=oY,W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=lY,W.prototype.first=W.prototype.head,Nm&&(W.prototype[Nm]=iY),W},Pd=rH();qc?((qc.exports=Pd)._=Pd,f1._=Pd):Jr._=Pd}).call(cr)})(Vj,Vj.exports);var GS=Vj.exports;const NP=w.forwardRef(({petId:e},t)=>{const{settings:n}=Jt(),{getPetById:s,getClientById:i,getVaccinationsByPetId:a}=jt(),o=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),l=s(e),c=l?i(l.ownerId):null,u=l?a(l.id):[],d=f=>{const m=new Date(f),g=new Date;if(GS.isNaN(m.getTime()))return"N/A";let x=g.getFullYear()-m.getFullYear(),v=g.getMonth()-m.getMonth(),y=g.getDate()-m.getDate();if(y<0){v--;const b=new Date(g.getFullYear(),g.getMonth(),0);y+=b.getDate()}v<0&&(x--,v+=12);const N=Math.floor(y/7),j=[];return x>0&&j.push(`${x} an${x>1?"s":""}`),v>0&&j.push(`${v} mois`),N>0&&j.push(`${N} semain${N>1?"es":""}`),j.join(", ")||"0 jour"};return!l||!c?null:r.jsxs("div",{ref:t,className:"p-8 bg-white text-gray-900 font-sans",children:[n.showClinicInfo&&r.jsxs("section",{className:"mb-4 text-sm",children:[r.jsx("img",{src:n.logo,alt:"Logo",className:"h-12 mb-2"}),r.jsx("p",{children:n.clinicName}),r.jsx("p",{children:n.address}),r.jsxs("p",{children:[n.phone," | ",n.email]}),n.website&&r.jsx("p",{children:n.website})]}),r.jsxs("div",{className:"flex justify-between items-center mb-8 border-b pb-4",children:[r.jsx("h1",{className:"text-4xl font-bold text-primary",children:"Certificat de Vaccination"}),r.jsx(y9,{value:`pet:${l.id}`,size:100})]}),n.showVetsInfo&&r.jsxs("section",{className:"mb-6 text-sm",children:[r.jsx("h2",{className:"font-medium mb-2",children:"Vétérinaires"}),o.map(f=>r.jsxs("p",{children:[f.title," ",f.name," - ",f.specialty]},f.id))]}),l.photo&&r.jsx("div",{className:"mb-6 text-center",children:r.jsx("img",{src:l.photo,alt:l.name,className:"w-32 h-32 object-cover rounded-full mx-auto"})}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold border-b pb-2",children:"Informations de l'animal"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Nom:"})," ",l.name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",l.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"})," ",l.breed||"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"})," ",l.birthDate?d(l.birthDate):"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Propriétaire:"})," ",c.name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Contact:"})," ",c.phone]})]})]}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold border-b pb-2",children:"Historique des Vaccinations"}),r.jsx("div",{className:"mt-4 space-y-4",children:u.map(f=>r.jsxs(de,{className:"border-primary/50",children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-lg",children:f.vaccineName})}),r.jsxs(he,{className:"p-4 text-sm flex justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Date donnée:"})," ",f.dateGiven&&!GS.isNaN(Date.parse(f.dateGiven))?It(new Date(f.dateGiven),"dd/MM/yyyy"):"N/A"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Rappel prévu:"})," ",f.nextDueDate&&!GS.isNaN(Date.parse(f.nextDueDate))?It(new Date(f.nextDueDate),"dd/MM/yyyy"):"N/A"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Vétérinaire:"})," ",f.veterinarian]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Statut:"})," ",f.status]})]})]})]},f.id))})]}),r.jsxs("footer",{className:"mt-8 text-center text-xs text-gray-500",children:["Généré le ",It(new Date,"dd/MM/yyyy")," - VetPro CRM"]})]})});function j9({open:e,onOpenChange:t,pet:n}){const{consultations:s,clients:i,getConsultationsByPetId:a,getClientById:o,getPrescriptionsByPetId:l,getActivePrescriptions:c,getVaccinationsByPetId:u,getAntiparasiticsByPetId:d,updatePet:f,updateConsultation:m,updateVaccination:g,updateVaccinationStatuses:x}=jt(),[v,y]=w.useState(!1),[N,j]=w.useState(!1),[b,_]=w.useState(!1),[C,A]=w.useState(!1),[P,E]=w.useState("overview"),[M,$]=w.useState(!1),[T,O]=w.useState({hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),[L,z]=w.useState((n==null?void 0:n.additionalPhotos)||[]),[J,H]=w.useState({clientId:0,petId:0,type:"",reason:""}),[oe,Q]=w.useState(null),[D,ae]=w.useState(!1),[pe,te]=w.useState(null),[Z,ne]=w.useState(null),{toast:xe}=Rt(),ye=w.useRef(null),se=zk.useReactToPrint({contentRef:ye,onAfterPrint:()=>t(!1)});w.useEffect(()=>{e&&x()},[e,x]);const F=()=>{n&&(f(n.id,{...n,...T}),Object.assign(n,T),$(!1))},Y=()=>{n&&(O({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),$(!1))},ee=ce=>{n&&(H({clientId:n.ownerId,petId:n.id,type:"vaccination",reason:`Rappel vaccinal - ${ce.vaccineName}`}),Q(ce),j(!0))},G=ce=>{te(ce),ae(!0)},I=(ce,qe)=>{g(ce,{status:qe}),ne(null),xe({title:"Statut mis à jour",description:`Le statut de la vaccination a été changé en "${{completed:"Terminée",scheduled:"Planifiée",overdue:"En retard",missed:"Manquée"}[qe]}"`})},ve=(ce,qe)=>{const Le=s.find(sa=>sa.id===ce);if(!Le||!Le.photos)return;const kn=Le.photos.filter((sa,bt)=>bt!==qe),Xn={...Le,photos:kn};m(ce,Xn)},we=async ce=>{var kn;const qe=(kn=ce.target.files)==null?void 0:kn[0];if(!qe)return;const Le=new FileReader;Le.onload=()=>{const Xn=Le.result,sa=[...L,Xn];z(sa),n&&f(n.id,{...n,additionalPhotos:sa})},Le.readAsDataURL(qe)},Fe=ce=>{const qe=L.filter((Le,kn)=>kn!==ce);z(qe),n&&f(n.id,{...n,additionalPhotos:qe})};if(w.useEffect(()=>{n&&(O({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),z(n.additionalPhotos||[]))},[n]),!n)return null;const Be=o(n.ownerId),it=a(n.id),lt=u(n.id),ft=d(n.id),Ne=[...it].sort((ce,qe)=>new Date(qe.date).getTime()-new Date(ce.date).getTime()),Ge=[...lt].sort((ce,qe)=>new Date(qe.dateGiven).getTime()-new Date(ce.dateGiven).getTime()),Ke=[...ft||[]].sort((ce,qe)=>new Date(qe.dateGiven).getTime()-new Date(ce.dateGiven).getTime()),Wt=Ne.filter(ce=>ce.weight||ce.temperature).map(ce=>({date:new Date(ce.date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),weight:ce.weight?parseFloat(ce.weight):0,temperature:ce.temperature?parseFloat(ce.temperature):0})).reverse(),Yn=Ne.filter(ce=>ce.weight).map(ce=>parseFloat(ce.weight)),kt=Ne.filter(ce=>ce.temperature).map(ce=>parseFloat(ce.temperature)),Nn=Yn[0]||0,dr=Yn[1]||0,Qn=Nn-dr,gs=Qn>0?"up":Qn<0?"down":"stable",Se=kt[0]||0,Vt=kt.length>0?kt.reduce((ce,qe)=>ce+qe,0)/kt.length:0,tt=Ne[0],mt=tt!=null&&tt.followUp?{reason:tt.followUp,estimatedDate:new Date(tt.date)}:null,sn=[];if(tt){const ce=(new Date().getTime()-new Date(tt.date).getTime())/2592e6;ce>6&&sn.push({type:"warning",title:"Contrôle de routine recommandé",message:`Dernière consultation il y a ${Math.floor(ce)} mois`,action:"Planifier consultation",actionType:"consultation"})}(Se>39.5||Se<37.5)&&sn.push({type:"danger",title:"Température anormale",message:`Température actuelle: ${Se}°C`,action:"Contrôle urgent",actionType:"consultation"}),Qn<-2&&sn.push({type:"warning",title:"Perte de poids",message:`Perte de ${Math.abs(Qn)}kg depuis la dernière consultation`,action:"Surveiller",actionType:"consultation"});const is=new Date;new Date(is.getTime()+7*24*60*60*1e3),lt.forEach(ce=>{if(ce.nextDueDate){const qe=new Date(ce.nextDueDate),Le=Math.ceil((qe.getTime()-is.getTime())/(1e3*60*60*24));Le<0?sn.push({type:"danger",title:"Vaccination en retard",message:`${ce.vaccineName} - ${Math.abs(Le)} jour(s) de retard`,action:"Planifier vaccination",actionType:"vaccination"}):Le<=7&&sn.push({type:"warning",title:"Vaccination à prévoir",message:`${ce.vaccineName} - Dans ${Le} jour(s)`,action:"Planifier vaccination",actionType:"vaccination"})}}),ft.forEach(ce=>{if(ce.nextDueDate){const qe=new Date(ce.nextDueDate),Le=Math.ceil((qe.getTime()-is.getTime())/(1e3*60*60*24));Le<0?sn.push({type:"danger",title:"Traitement antiparasitaire en retard",message:`${ce.productName} - ${Math.abs(Le)} jour(s) de retard`,action:"Planifier traitement",actionType:"antiparasitic"}):Le<=7&&sn.push({type:"warning",title:"Traitement antiparasitaire à prévoir",message:`${ce.productName} - Dans ${Le} jour(s)`,action:"Planifier traitement",actionType:"antiparasitic"})}});const Qr=()=>{H({clientId:(Be==null?void 0:Be.id)||0,petId:n.id,type:"consultation",reason:"Nouvelle consultation"}),j(!0)},Rs=ce=>{let qe="consultation",Le="";switch(ce){case"consultation":qe="consultation",Le="Contrôle de routine recommandé";break;case"vaccination":qe="vaccination",Le="Vaccination à effectuer";break;case"antiparasitic":qe="controle",Le="Traitement antiparasitaire à effectuer";break;default:qe="consultation",Le="Rendez-vous médical"}H({clientId:(Be==null?void 0:Be.id)||0,petId:n.id,type:qe,reason:Le}),j(!0)},yl=()=>{const ce=window.open("","_blank");if(!ce)return;const qe=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Dossier Médical - ${n.name}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
            .clinic-name { font-size: 24px; font-weight: bold; color: #2563eb; }
            .pet-info { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
            .info-section { border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
            .info-section h3 { margin: 0 0 10px 0; color: #333; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .consultation { margin: 20px 0; border: 1px solid #eee; padding: 15px; border-radius: 5px; }
            .consultation h4 { margin: 0 0 10px 0; color: #333; }
            .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0; }
            .stat-card { border: 1px solid #ddd; padding: 10px; text-align: center; border-radius: 5px; }
            .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; }
            .stat-label { font-size: 12px; color: #666; }
            @media print { body { margin: 0; } }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <h2>Dossier Médical Complet</h2>
            <p><strong>Animal:</strong> ${n.name} | <strong>Généré le:</strong> ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
          </div>

          <div class="pet-info">
            <div class="info-section">
              <h3>Informations Animal</h3>
              <p><strong>Nom:</strong> ${n.name}</p>
              <p><strong>Espèce:</strong> ${n.type}</p>
              <p><strong>Race:</strong> ${n.breed||"Non spécifiée"}</p>
              <p><strong>Sexe:</strong> ${n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Non spécifié"}</p>
              <p><strong>Âge:</strong> ${n.birthDate?nf(n.birthDate):"Non spécifié"}</p>
              <p><strong>Poids actuel:</strong> ${Nn}kg</p>
              <p><strong>Température actuelle:</strong> ${Se}°C</p>
              <p><strong>Couleur:</strong> ${n.color||"Non spécifiée"}</p>
              <p><strong>Puce électronique:</strong> ${n.microchip||"Non spécifiée"}</p>
              ${n.medicalNotes?`<p><strong>Notes médicales:</strong> ${n.medicalNotes}</p>`:""}
            </div>
            <div class="info-section">
              <h3>Propriétaire</h3>
              <p><strong>Nom:</strong> ${(Be==null?void 0:Be.name)||"Non spécifié"}</p>
              <p><strong>Email:</strong> ${(Be==null?void 0:Be.email)||"Non spécifié"}</p>
              <p><strong>Téléphone:</strong> ${(Be==null?void 0:Be.phone)||"Non spécifié"}</p>
            </div>
          </div>

          <div class="stats">
            <div class="stat-card">
              <div class="stat-value">${Ne.length}</div>
              <div class="stat-label">Consultations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${lt.length}</div>
              <div class="stat-label">Vaccinations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${ft.length}</div>
              <div class="stat-label">Antiparasitaires</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${Nn}kg</div>
              <div class="stat-label">Poids actuel</div>
            </div>
          </div>

          <!-- Photo principale de l'animal -->
          ${n.photo?`
            <div style="text-align: center; margin: 20px 0;">
              <img src="${n.photo}" alt="${n.name}" style="max-width: 200px; max-height: 200px; object-fit: cover; border-radius: 8px; border: 2px solid #ddd;" />
              <p style="margin-top: 10px; font-weight: bold;">Photo de ${n.name}</p>
            </div>
          `:""}

          <!-- Historique des Consultations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Consultations (${Ne.length})</h3>
            ${Ne.length>0?Ne.map(Le=>`
              <div style="margin: 15px 0; border: 1px solid #ddd; padding: 15px; border-radius: 5px; background: #f9f9f9;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Consultation du ${new Date(Le.date).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Poids:</strong> ${Le.weight||"Non renseigné"}</p>
                    <p><strong>Température:</strong> ${Le.temperature||"Non renseigné"}</p>
                    ${Le.symptoms?`<p><strong>Symptômes:</strong> ${Le.symptoms}</p>`:""}
                  </div>
                  <div>
                    ${Le.diagnosis?`<p><strong>Diagnostic:</strong> ${Le.diagnosis}</p>`:""}
                    ${Le.treatment?`<p><strong>Traitement:</strong> ${Le.treatment}</p>`:""}
                    ${Le.medications?`<p><strong>Médicaments:</strong> ${Le.medications}</p>`:""}
                  </div>
                </div>
                ${Le.notes?`<p><strong>Notes:</strong> ${Le.notes}</p>`:""}
                ${Le.photos&&Le.photos.length>0?`
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin: 15px 0;">
                    ${Le.photos.map((kn,Xn)=>`
                      <div style="text-align: center;">
                        <img src="${kn}" alt="Photo consultation ${Xn+1}" style="max-width: 120px; max-height: 120px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                        <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo ${Xn+1}</div>
                      </div>
                    `).join("")}
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune consultation enregistrée</p>'}
          </div>

          <!-- Historique des Vaccinations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Vaccinations (${lt.length})</h3>
            ${lt.length>0?lt.map(Le=>`
              <div style="margin: 10px 0; padding: 10px; border-left: 3px solid #4CAF50; background: #f0f8f0;">
                <h4 style="margin: 0 0 10px 0;">${Le.vaccineName} - ${new Date(Le.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <p><strong>Type:</strong> ${Le.vaccineType||"Non spécifié"}</p>
                <p><strong>Prochain rappel:</strong> ${Le.nextDueDate?new Date(Le.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                <p><strong>Vétérinaire:</strong> ${Le.veterinarian||"Non spécifié"}</p>
                ${Le.notes?`<p><strong>Notes:</strong> ${Le.notes}</p>`:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune vaccination enregistrée</p>'}
          </div>

          <!-- Historique des Antiparasitaires -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Traitements Antiparasitaires (${ft.length})</h3>
            ${ft.length>0?ft.map(Le=>`
              <div style="margin: 15px 0; padding: 15px; border-left: 4px solid #9C27B0; background: #f3e5f5; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #7B1FA2;">${Le.productName} - ${new Date(Le.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 10px 0;">
                  <div>
                    <p><strong>Type de produit:</strong> ${Le.productType||"Non spécifié"}</p>
                    <p><strong>Parasites ciblés:</strong> ${Le.targetParasites||"Non spécifié"}</p>
                    <p><strong>Voie d'administration:</strong> ${Le.administrationRoute||"Non spécifié"}</p>
                    <p><strong>Dosage:</strong> ${Le.dosage||"Non spécifié"}</p>
                  </div>
                  <div>
                <p><strong>Prochain traitement:</strong> ${Le.nextDueDate?new Date(Le.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                <p><strong>Vétérinaire:</strong> ${Le.veterinarian||"Non spécifié"}</p>
                    <p><strong>Statut:</strong> ${Le.status==="completed"?"Terminé":Le.status==="scheduled"?"Planifié":Le.status==="overdue"?"En retard":"Manqué"}</p>
                    ${Le.cost?`<p><strong>Coût:</strong> ${Le.cost} €</p>`:""}
                  </div>
                </div>
                ${Le.batchNumber?`<p><strong>Numéro de lot:</strong> ${Le.batchNumber}</p>`:""}
                ${Le.manufacturer?`<p><strong>Fabricant:</strong> ${Le.manufacturer}</p>`:""}
                ${Le.weight?`<p><strong>Poids de l'animal:</strong> ${Le.weight}</p>`:""}
                ${Le.notes?`
                  <div style="margin: 10px 0; padding: 10px; background: rgba(156, 39, 176, 0.1); border-radius: 3px;">
                    <p><strong>Notes:</strong> ${Le.notes}</p>
                  </div>
                `:""}
                ${Le.sideEffects?`
                  <div style="margin: 10px 0; padding: 10px; background: #ffebee; border: 1px solid #f44336; border-radius: 3px;">
                    <p style="color: #d32f2f;"><strong>⚠️ Effets indésirables:</strong> ${Le.sideEffects}</p>
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucun traitement antiparasitaire enregistré</p>'}
          </div>

          <!-- Section Pedigree -->
          ${n.hasPedigree?`
            <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
              <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Pedigree Officiel</h3>
              
              <!-- Informations de l'animal -->
              <div style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Informations de l'animal</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Nom officiel:</strong> ${n.officialName||"Non spécifié"}</p>
                    <p><strong>N° Pedigree/LOF:</strong> ${n.pedigreeNumber||"Non spécifié"}</p>
                    <p><strong>N° Puce/Tatouage:</strong> ${n.microchip||"Non spécifié"}</p>
                    <p><strong>Race:</strong> ${n.breed||"Non spécifiée"}</p>
                  </div>
                  <div>
                    <p><strong>Sexe:</strong> ${n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Non spécifié"}</p>
                    <p><strong>Couleur/Robe:</strong> ${n.color||"Non spécifiée"}</p>
                    <p><strong>Date de naissance:</strong> ${n.birthDate?new Date(n.birthDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                    <p><strong>Éleveur:</strong> ${n.breeder||"Non spécifié"}</p>
                  </div>
                </div>
              </div>

              <!-- Parents -->
              <div style="margin: 20px 0;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Ascendance</h4>
                
                <!-- Père -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #007bff; background: #f0f8ff;">
                  <h5 style="margin: 0 0 8px 0; color: #007bff;">Père</h5>
                  <p><strong>Nom:</strong> ${n.fatherName||"Non spécifié"}</p>
                  <p><strong>N° Pedigree:</strong> ${n.fatherPedigree||"Non spécifié"}</p>
                  <p><strong>Race:</strong> ${n.fatherBreed||"Non spécifiée"}</p>
                  ${n.fatherTitles?`<p><strong>Titres:</strong> ${n.fatherTitles}</p>`:""}
                </div>

                <!-- Mère -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #e91e63; background: #fce4ec;">
                  <h5 style="margin: 0 0 8px 0; color: #e91e63;">Mère</h5>
                  <p><strong>Nom:</strong> ${n.motherName||"Non spécifié"}</p>
                  <p><strong>N° Pedigree:</strong> ${n.motherPedigree||"Non spécifié"}</p>
                  <p><strong>Race:</strong> ${n.motherBreed||"Non spécifiée"}</p>
                  ${n.motherTitles?`<p><strong>Titres:</strong> ${n.motherTitles}</p>`:""}
                </div>
              </div>

              <!-- Certificat Pedigree -->
              ${n.pedigreePhoto?`
                <div style="margin: 20px 0; text-align: center;">
                  <h4 style="margin: 0 0 15px 0; color: #333;">Certificat Pedigree</h4>
                  <img src="${n.pedigreePhoto}" alt="Certificat Pedigree" style="max-width: 100%; max-height: 400px; object-fit: contain; border-radius: 8px; border: 2px solid #ddd; box-shadow: 0 4px 8px rgba(0,0,0,0.1);" />
                  <p style="margin-top: 10px; font-size: 12px; color: #666;">Document officiel du pedigree</p>
                </div>
              `:""}
            </div>
          `:""}

          <!-- Album Photo -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Album Photo</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin: 15px 0;">
              ${n.photo?`
                <div style="text-align: center;">
                  <img src="${n.photo}" alt="Photo principale" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                  <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo principale</div>
                </div>
              `:""}
              ${Ne.some(Le=>Le.photos&&Le.photos.length>0)?Ne.map(Le=>Le.photos?Le.photos.map((kn,Xn)=>`
                    <div style="text-align: center;">
                      <img src="${kn}" alt="Consultation ${new Date(Le.date).toLocaleDateString("fr-FR")} - Photo ${Xn+1}" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                      <div style="font-size: 11px; color: #666; margin-top: 5px;">Consultation ${new Date(Le.date).toLocaleDateString("fr-FR")}</div>
                    </div>
                  `).join(""):"").join(""):""}
            </div>
            ${!n.photo&&!Ne.some(Le=>Le.photos&&Le.photos.length>0)?'<p style="text-align: center; color: #666; font-style: italic;">Aucune photo disponible</p>':""}
          </div>

          <div style="margin-top: 40px; text-align: center; font-size: 12px; color: #666;">
            <p>VetPro CRM - Gestion Vétérinaire Complète</p>
          </div>
        </body>
      </html>
    `;ce.document.write(qe),ce.document.close(),ce.focus(),ce.print(),ce.close()};return r.jsxs(r.Fragment,{children:[r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[1000px] max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-5 w-5"}),"Dossier Médical - ",n.name,Be&&r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(Propriétaire: ",Be.name,")"]})]})}),r.jsxs(pl,{value:P,onValueChange:E,className:"space-y-4",children:[r.jsxs(jo,{className:"grid w-full grid-cols-7",children:[r.jsxs(ln,{value:"overview",className:"gap-2",children:[r.jsx(Oa,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(ln,{value:"history",className:"gap-2",children:[r.jsx(br,{className:"h-4 w-4"}),"Historique"]}),r.jsxs(ln,{value:"prescriptions",className:"gap-2",children:[r.jsx(As,{className:"h-4 w-4"}),"Prescriptions"]}),r.jsxs(ln,{value:"vaccinations",className:"gap-2",children:[r.jsx(As,{className:"h-4 w-4"}),"Vaccinations"]}),r.jsxs(ln,{value:"antiparasites",className:"gap-2",children:[r.jsx(rc,{className:"h-4 w-4"}),"Antiparasitaires"]}),r.jsxs(ln,{value:"pedigree",className:"gap-2",children:[r.jsx(y0,{className:"h-4 w-4"}),"Pedigree"]}),r.jsxs(ln,{value:"charts",className:"gap-2",children:[r.jsx(vr,{className:"h-4 w-4"}),"Évolution"]}),r.jsxs(ln,{value:"alerts",className:"gap-2",children:[r.jsx(Vr,{className:"h-4 w-4"}),"Alertes"]})]}),r.jsxs(cn,{value:"overview",className:"space-y-4",children:[r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ee,{className:"text-lg",children:"Galerie photos"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:we,className:"hidden",id:"add-photo-input"}),r.jsxs("label",{htmlFor:"add-photo-input",className:"cursor-pointer inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:[r.jsx(ht,{className:"h-4 w-4"}),"Ajouter une photo"]})]})]}),r.jsx(he,{children:r.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[n.photo&&r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("img",{src:n.photo,alt:"Photo officielle",className:"h-32 w-32 object-cover rounded"}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:"Officielle"})]}),L.map((ce,qe)=>r.jsxs("div",{className:"relative flex-shrink-0 group",children:[r.jsx("img",{src:ce,alt:`Photo supplémentaire ${qe+1}`,className:"h-32 w-32 object-cover rounded"}),r.jsxs("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:["Photo ",qe+1]}),r.jsx("button",{onClick:()=>Fe(qe),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:"×"})]},`additional-${qe}`)),Ne.map(ce=>{var qe;return(qe=ce.photos)==null?void 0:qe.map((Le,kn)=>r.jsxs("div",{className:"relative flex-shrink-0 group",children:[r.jsx("img",{src:Le,alt:`consultation-${ce.id}-${kn}`,className:"h-32 w-32 object-cover rounded"}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:new Date(ce.date).toLocaleDateString("fr-FR")}),r.jsx("button",{onClick:()=>ve(ce.id,kn),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:"×"})]},`${ce.id}-${kn}`))}),!n.photo&&L.length===0&&Ne.every(ce=>!ce.photos||ce.photos.length===0)&&r.jsx("div",{className:"flex items-center justify-center h-32 w-full border-2 border-dashed border-gray-300 rounded text-gray-500",children:"Aucune photo disponible"})]})})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(j0,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),r.jsxs("p",{className:"text-2xl font-bold",children:[Nn,"kg"]}),Qn!==0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[gs==="up"?r.jsx(vr,{className:"h-3 w-3 text-green-600"}):r.jsx(Vu,{className:"h-3 w-3 text-red-600"}),r.jsxs("span",{className:gs==="up"?"text-green-600":"text-red-600",children:[Math.abs(Qn),"kg"]})]})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rg,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Température"}),r.jsxs("p",{className:"text-2xl font-bold",children:[Se,"°C"]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Moy: ",Vt.toFixed(1),"°C"]})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),r.jsx("p",{className:"text-2xl font-bold",children:Ne.length}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernière: ",tt?new Date(tt.date).toLocaleDateString("fr-FR"):"Aucune"]})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vr,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),r.jsx("p",{className:"text-2xl font-bold",children:sn.length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:sn.length>0?"À traiter":"Aucune"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(As,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prescriptions"}),r.jsx("p",{className:"text-2xl font-bold",children:l(n.id).length}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[c().filter(ce=>ce.petId===n.id).length," active(s)"]})]})]})})})]}),mt&&r.jsx(de,{className:"border-primary",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Prochain suivi recommandé"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:mt.reason})]}),r.jsxs(V,{size:"sm",onClick:Qr,children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Planifier"]})]})})}),sn.length>0&&r.jsxs(de,{className:"border-destructive",children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-destructive",children:"Alertes importantes"})}),r.jsx(he,{className:"space-y-2",children:sn.slice(0,3).map((ce,qe)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/10 rounded",children:[r.jsx(Vr,{className:"h-4 w-4 text-destructive"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:ce.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:ce.message})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Rs(ce.actionType),children:ce.action})]},qe))})]})]}),r.jsxs(cn,{value:"history",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique des consultations"}),r.jsxs(V,{size:"sm",onClick:Qr,className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Planifier Consultation"]})]}),Ne.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(br,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation enregistrée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer la première consultation"})]})}):r.jsx("div",{className:"space-y-4",children:Ne.map(ce=>r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Ee,{className:"text-base",children:["Consultation #",ce.id]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(Pt,{className:"h-4 w-4"}),new Date(ce.date).toLocaleDateString("fr-FR")]})]})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"}),r.jsx("span",{className:"ml-2",children:ce.weight||"Non renseigné"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Température:"}),r.jsx("span",{className:"ml-2",children:ce.temperature||"Non renseigné"})]})]}),ce.symptoms&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Symptômes:"}),r.jsx("p",{className:"text-sm mt-1",children:ce.symptoms})]}),ce.diagnosis&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-sm mt-1",children:ce.diagnosis})]}),ce.treatment&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Traitement:"}),r.jsx("p",{className:"text-sm mt-1",children:ce.treatment})]}),ce.medications&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Médicaments:"}),r.jsx("p",{className:"text-sm mt-1",children:ce.medications})]}),ce.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:ce.notes})]}),ce.followUp&&r.jsxs("div",{className:"pt-2 border-t",children:[r.jsx("span",{className:"font-medium text-primary",children:"Suivi recommandé:"}),r.jsx("p",{className:"text-sm mt-1",children:ce.followUp})]})]})]},ce.id))})]}),r.jsx(cn,{value:"prescriptions",className:"space-y-4",children:r.jsx(a9,{petId:n.id})}),r.jsxs(cn,{value:"charts",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Évolution du poids et de la température"}),Wt.length>0?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(j0,{className:"h-5 w-5"}),"Évolution du poids"]})}),r.jsx(he,{children:r.jsx(ul,{width:"100%",height:200,children:r.jsxs(V3,{data:Wt,children:[r.jsx(rd,{strokeDasharray:"3 3"}),r.jsx(Ra,{dataKey:"date"}),r.jsx(La,{}),r.jsx(Ur,{}),r.jsx(Tf,{type:"monotone",dataKey:"weight",stroke:"#2563eb",strokeWidth:2})]})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(rg,{className:"h-5 w-5"}),"Évolution de la température"]})}),r.jsx(he,{children:r.jsx(ul,{width:"100%",height:200,children:r.jsxs(V3,{data:Wt,children:[r.jsx(rd,{strokeDasharray:"3 3"}),r.jsx(Ra,{dataKey:"date"}),r.jsx(La,{}),r.jsx(Ur,{}),r.jsx(Tf,{type:"monotone",dataKey:"temperature",stroke:"#dc2626",strokeWidth:2})]})})})]})]}):r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(vr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune donnée disponible pour les graphiques"}),r.jsx("p",{className:"text-sm",children:"Ajoutez des consultations avec poids et température"})]})})]}),r.jsxs(cn,{value:"vaccinations",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique vaccinal"}),r.jsx(R0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle vaccination"]})})]}),Ge.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(As,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune vaccination enregistrée"}),r.jsx("p",{className:"text-sm",children:"Commencez par ajouter la première vaccination"})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(As,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(Pt,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"À jour"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.filter(ce=>ce.status==="completed").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(Vr,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.filter(ce=>ce.status==="overdue").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(Pt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiées"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.filter(ce=>ce.status==="scheduled").length})]})]})})})]}),r.jsx("div",{className:"space-y-3",children:Ge.map(ce=>r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(As,{className:`h-5 w-5 ${ce.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),r.jsxs("h4",{className:"font-semibold text-lg",children:[ce.vaccineName,ce.vaccinationCategory==="reminder"&&r.jsx("span",{className:"ml-2 text-sm text-orange-600 font-normal",children:"(Rappel)"})]}),r.jsx($e,{variant:ce.vaccineType==="core"?"default":"secondary",className:"text-xs",children:ce.vaccineType==="core"?"Essentiel":ce.vaccineType==="non-core"?"Optionnel":ce.vaccineType==="rabies"?"Rage":"Personnalisé"}),ce.vaccinationCategory==="reminder"&&r.jsx($e,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"}),Z===ce.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{value:ce.status,onValueChange:qe=>I(ce.id,qe),children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"completed",children:"Terminée"}),r.jsx(U,{value:"scheduled",children:"Planifiée"}),r.jsx(U,{value:"overdue",children:"En retard"}),r.jsx(U,{value:"missed",children:"Manquée"})]})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ne(null),children:"Annuler"})]}):r.jsx($e,{className:ce.status==="completed"?"bg-green-100 text-green-800 border-green-200 cursor-pointer hover:bg-green-200":ce.status==="overdue"?"bg-red-100 text-red-800 border-red-200 cursor-pointer hover:bg-red-200":ce.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200 cursor-pointer hover:bg-blue-200":"bg-orange-100 text-orange-800 border-orange-200 cursor-pointer hover:bg-orange-200",onClick:()=>ne(ce.id),children:ce.status==="completed"?"Terminée":ce.status==="overdue"?"En retard":ce.status==="scheduled"?"Planifiée":"Manquée"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:ce.vaccinationCategory==="reminder"?"Date du rappel":"Date administrée"}),r.jsx("p",{className:"font-medium",children:uo(ce.dateGiven)})]}),ce.vaccinationCategory==="new"&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Rappel prévu"}),r.jsx("p",{className:"font-medium",children:uo(ce.nextDueDate)})]}),ce.vaccinationCategory==="reminder"&&ce.originalVaccinationId&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vaccination originale"}),r.jsxs("p",{className:"font-medium text-sm text-gray-500",children:["ID: ",ce.originalVaccinationId]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vétérinaire"}),r.jsx("p",{className:"font-medium",children:ce.veterinarian})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Coût"}),r.jsx("p",{className:"font-medium",children:ce.cost?`${ce.cost} €`:"Non spécifié"})]})]}),ce.batchNumber&&r.jsx("div",{className:"mt-3 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Numéro de lot: ",r.jsx("span",{className:"font-medium",children:ce.batchNumber})]})}),ce.manufacturer&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",r.jsx("span",{className:"font-medium",children:ce.manufacturer})]})}),ce.location&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Site d'injection: ",r.jsx("span",{className:"font-medium",children:ce.location==="left_shoulder"?"Épaule gauche":ce.location==="right_shoulder"?"Épaule droite":ce.location==="left_hip"?"Hanche gauche":ce.location==="right_hip"?"Hanche droite":"Sous-cutané"})]})}),ce.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Notes:"})," ",ce.notes]})}),ce.adverseReactions&&r.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:"⚠️ Réactions adverses:"})," ",ce.adverseReactions]})})]}),r.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:se,children:[r.jsx(ur,{className:"h-4 w-4"}),"Certificat"]}),ce.nextDueDate&&new Date(ce.nextDueDate)<=new Date&&ce.status!=="completed"&&!ce.reminderAppointmentId&&r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>ee(ce),children:[r.jsx(ht,{className:"h-4 w-4"}),"Rappel"]}),ce.reminderAppointmentId&&r.jsx($e,{variant:"outline",className:"text-xs",children:"Rappel programmé"}),ce.status==="overdue"&&r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>G(ce),children:[r.jsx(ene,{className:"h-4 w-4"}),"Confirmer"]})]})]}),ce.reminderHistory&&ce.reminderHistory.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsx("h5",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Historique des rappels"}),r.jsx("div",{className:"space-y-2",children:ce.reminderHistory.map(qe=>r.jsxs("div",{className:"flex items-center justify-between text-xs bg-muted/30 p-2 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(qe.scheduledDate).toLocaleDateString("fr-FR")})]}),r.jsx($e,{variant:qe.status==="completed"?"default":qe.status==="missed"?"destructive":"secondary",className:"text-xs",children:qe.status==="completed"?"Complété":qe.status==="missed"?"Manqué":qe.status==="cancelled"?"Annulé":"Programmé"})]},qe.id))})]})]})},ce.id))})]})]}),r.jsxs(cn,{value:"antiparasites",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique antiparasitaire"}),r.jsx(L0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),Ke.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(rc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun traitement antiparasitaire enregistré"}),r.jsx("p",{className:"text-sm",children:"Ajoutez des traitements depuis l'onglet Antiparasitaires"})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(rc,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(er,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Complétés"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.filter(ce=>ce.status==="completed").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(Vr,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.filter(ce=>ce.status==="overdue").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(Pt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiés"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.filter(ce=>ce.status==="scheduled").length})]})]})})})]}),r.jsx("div",{className:"space-y-3",children:Ke.map(ce=>r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(rc,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold text-lg",children:ce.productName}),r.jsx($e,{className:ce.status==="completed"?"bg-green-100 text-green-800 border-green-200":ce.status==="overdue"?"bg-red-100 text-red-800 border-red-200":ce.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200":"bg-orange-100 text-orange-800 border-orange-200",children:ce.status==="completed"?"Terminé":ce.status==="overdue"?"En retard":ce.status==="scheduled"?"Planifié":"Manqué"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Date administrée"}),r.jsx("p",{className:"font-medium",children:new Date(ce.dateGiven).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Prochain traitement"}),r.jsx("p",{className:"font-medium",children:ce.nextDueDate?new Date(ce.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Type"}),r.jsx("p",{className:"font-medium",children:ce.productType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vétérinaire"}),r.jsx("p",{className:"font-medium",children:ce.veterinarian})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mt-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Parasites ciblés"}),r.jsx("p",{className:"font-medium",children:ce.targetParasites})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Dosage"}),r.jsx("p",{className:"font-medium",children:ce.dosage||"Non spécifié"})]})]}),ce.batchNumber&&r.jsx("div",{className:"mt-3 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Numéro de lot: ",r.jsx("span",{className:"font-medium",children:ce.batchNumber})]})}),ce.manufacturer&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",r.jsx("span",{className:"font-medium",children:ce.manufacturer})]})}),ce.weight&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Poids de l'animal: ",r.jsx("span",{className:"font-medium",children:ce.weight})]})}),ce.cost&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Coût: ",r.jsxs("span",{className:"font-medium",children:[ce.cost," €"]})]})}),ce.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Notes:"})," ",ce.notes]})}),ce.sideEffects&&r.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:"⚠️ Effets indésirables:"})," ",ce.sideEffects]})})]}),r.jsx("div",{className:"flex flex-col gap-2 ml-4",children:ce.nextDueDate&&new Date(ce.nextDueDate)<=new Date&&ce.status!=="completed"&&r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Rappel"]})})]})})},ce.id))})]})]}),r.jsxs(cn,{value:"pedigree",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Pedigree Officiel"}),r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>$(!M),className:"gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),M?"Annuler":"Modifier"]})]}),r.jsx(de,{children:r.jsx(Pe,{children:r.jsxs(Ee,{className:"text-lg flex items-center gap-2",children:[r.jsx(Qi,{id:"hasPedigree",checked:T.hasPedigree,onCheckedChange:ce=>O(qe=>({...qe,hasPedigree:ce})),disabled:!M}),r.jsx(B,{htmlFor:"hasPedigree",className:"text-lg",children:"Cet animal a un pedigree officiel"})]})})}),T.hasPedigree&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-lg",children:"Informations sur l'animal"})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(ie,{id:"officialName",value:T.officialName,onChange:ce=>O(qe=>({...qe,officialName:ce.target.value})),disabled:!M,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),r.jsx(ie,{id:"pedigreeNumber",value:T.pedigreeNumber,onChange:ce=>O(qe=>({...qe,pedigreeNumber:ce.target.value})),disabled:!M,placeholder:"Numéro de pedigree"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"breeder",children:"Éleveur"}),r.jsx(ie,{id:"breeder",value:T.breeder,onChange:ce=>O(qe=>({...qe,breeder:ce.target.value})),disabled:!M,placeholder:"Nom de l'éleveur"})]})]})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-lg",children:"Parents"})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:"Père"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom du père",value:T.fatherName,onChange:ce=>O(qe=>({...qe,fatherName:ce.target.value})),disabled:!M}),r.jsx(ie,{placeholder:"N° pedigree du père",value:T.fatherPedigree,onChange:ce=>O(qe=>({...qe,fatherPedigree:ce.target.value})),disabled:!M}),r.jsx(ie,{placeholder:"Race du père",value:T.fatherBreed,onChange:ce=>O(qe=>({...qe,fatherBreed:ce.target.value})),disabled:!M}),r.jsx(Nt,{placeholder:"Titres du père",value:T.fatherTitles,onChange:ce=>O(qe=>({...qe,fatherTitles:ce.target.value})),disabled:!M,rows:2})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom de la mère",value:T.motherName,onChange:ce=>O(qe=>({...qe,motherName:ce.target.value})),disabled:!M}),r.jsx(ie,{placeholder:"N° pedigree de la mère",value:T.motherPedigree,onChange:ce=>O(qe=>({...qe,motherPedigree:ce.target.value})),disabled:!M}),r.jsx(ie,{placeholder:"Race de la mère",value:T.motherBreed,onChange:ce=>O(qe=>({...qe,motherBreed:ce.target.value})),disabled:!M}),r.jsx(Nt,{placeholder:"Titres de la mère",value:T.motherTitles,onChange:ce=>O(qe=>({...qe,motherTitles:ce.target.value})),disabled:!M,rows:2})]})]})]})})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-lg",children:"Document officiel"})}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:async ce=>{var kn;const qe=(kn=ce.target.files)==null?void 0:kn[0];if(!qe)return;const Le=new FileReader;Le.onload=()=>O(Xn=>({...Xn,pedigreePhoto:Le.result})),Le.readAsDataURL(qe)},disabled:!M}),T.pedigreePhoto&&r.jsx("img",{src:T.pedigreePhoto,alt:"Document pedigree",className:"h-48 w-auto object-contain rounded border"})]})})]}),M&&r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:Y,children:"Annuler"}),r.jsx(V,{onClick:F,children:"Sauvegarder"})]})]}),!T.hasPedigree&&r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(y0,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun pedigree officiel"}),r.jsx("p",{className:"text-sm",children:"Cochez la case ci-dessus pour ajouter les informations du pedigree"})]})})]}),r.jsxs(cn,{value:"alerts",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Alertes et rappels"}),sn.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(Vr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune alerte active"}),r.jsx("p",{className:"text-sm",children:"Tout va bien !"})]})}):r.jsx("div",{className:"space-y-4",children:sn.map((ce,qe)=>r.jsx(de,{className:ce.type==="danger"?"border-destructive":"border-accent",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Vr,{className:`h-5 w-5 ${ce.type==="danger"?"text-destructive":"text-accent"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:ce.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:ce.message})]}),r.jsx(V,{size:"sm",variant:"outline",children:ce.action})]})})},qe))})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{onClick:yl,className:"gap-2",children:[r.jsx(PA,{className:"h-4 w-4"}),"Imprimer Dossier"]})]})]})}),r.jsx(Zf,{open:v,onOpenChange:y}),r.jsx(bE,{open:N,onOpenChange:ce=>{j(ce),ce||(H({clientId:0,petId:0,type:"",reason:""}),Q(null))},prefillClientId:J.clientId,prefillPetId:J.petId,prefillType:J.type,prefillReason:J.reason,originalVaccinationId:oe==null?void 0:oe.id}),b&&r.jsx(R0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsx(V,{onClick:()=>_(!1),children:"Fermer"})}),r.jsx(Npe,{open:D,onOpenChange:ce=>{ae(ce),ce||te(null)},vaccination:pe}),C&&r.jsx(L0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsx(V,{onClick:()=>A(!1),children:"Fermer"})}),n&&r.jsx("div",{style:{display:"none"},children:r.jsx(NP,{ref:ye,petId:n.id})})]})}const CFe={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"};function _Fe(){const{pets:e,consultations:t,appointments:n,clients:s}=jt();Jt();const[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(null),N=[...e].sort((O,L)=>!O.lastVisit&&!L.lastVisit?0:O.lastVisit?L.lastVisit?new Date(L.lastVisit).getTime()-new Date(O.lastVisit).getTime():-1:1).slice(0,5),j=e.length,b=e.filter(O=>O.status==="healthy").length;e.filter(O=>O.status==="treatment").length,e.filter(O=>O.status==="urgent").length;const _=e.filter(O=>{if(!O.lastVisit)return!1;const L=new Date(O.lastVisit),z=new Date().getMonth(),J=new Date().getFullYear();return L.getMonth()===z&&L.getFullYear()===J}).length,C=j>0?(t.length/j).toFixed(1):"0",A=O=>{v(O),l(!0)},P=O=>{v(O),u(!0)},E=O=>{v(O),f(!0)},M=O=>{v(O),g(!0)},$=O=>{const L=t.filter(H=>H.petId===O.id),z=n.filter(H=>H.petId===O.id),J=s.find(H=>H.id===O.ownerId);return{consultations:L.length,appointments:z.length,owner:(J==null?void 0:J.name)||O.owner,lastConsultation:L.length>0?Math.max(...L.map(H=>new Date(H.date).getTime())):O.lastVisit?new Date(O.lastVisit).getTime():0}},T=O=>{switch(O){case"healthy":return r.jsx(qt,{className:"h-3 w-3 text-green-600"});case"treatment":return r.jsx(br,{className:"h-3 w-3 text-yellow-600"});case"urgent":return r.jsx(qn,{className:"h-3 w-3 text-red-600"});default:return r.jsx(qt,{className:"h-3 w-3"})}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{className:"card-hover",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Ee,{className:"text-lg font-semibold",children:"Animaux Récents"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(qt,{className:"h-3 w-3"}),r.jsxs("span",{children:[j," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Oa,{className:"h-3 w-3"}),r.jsxs("span",{children:[b," en bonne santé"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),r.jsxs("span",{children:["+",_," ce mois"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx($n,{className:"h-3 w-3"}),r.jsxs("span",{children:["Ø ",C," consultations"]})]})]})]}),r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>a(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvel Animal"]})]}),r.jsx(he,{className:"space-y-4",children:N.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(qt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun animal enregistré"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier animal"})]}):N.map(O=>{const L=$(O);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[r.jsx(Gr,{className:"h-12 w-12 flex-shrink-0",children:O.photo?r.jsx(cl,{src:O.photo,alt:O.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(qt,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium truncate",children:O.name}),r.jsxs($e,{variant:"outline",className:CFe[O.status],children:[T(O.status),r.jsx("span",{className:"ml-1",children:O.status==="healthy"?"En bonne santé":O.status==="treatment"?"En traitement":"Urgent"})]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"font-medium",children:O.type}),O.breed&&r.jsxs("span",{children:[" - ",O.breed]}),O.gender&&r.jsxs("span",{children:[" (",O.gender==="male"?"Mâle":"Femelle",")"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Pt,{className:"h-3 w-3"}),r.jsx("span",{children:O.birthDate?nf(O.birthDate):"Âge inconnu"})]})]})}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Propriétaire: ",L.owner]}),r.jsxs("span",{children:["Consultations: ",L.consultations]}),r.jsxs("span",{children:["RDV: ",L.appointments]}),O.lastVisit&&r.jsxs("span",{children:["Dernière visite: ",new Date(O.lastVisit).toLocaleDateString("fr-FR")]})]})]})]}),r.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>A(O),className:"h-8 px-2",children:r.jsx(Ir,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>P(O),className:"h-8 px-2",children:r.jsx(en,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>E(O),className:"h-8 px-2 text-xs",children:"Dossier"}),r.jsx(V,{size:"sm",onClick:()=>M(O),className:"h-8 px-2 text-xs",children:r.jsx(br,{className:"h-3 w-3"})})]})]},O.id)})})]}),r.jsx(wv,{open:i,onOpenChange:a}),r.jsx(EV,{open:o,onOpenChange:l,pet:x,onEdit:()=>{l(!1),u(!0)},onShowDossier:()=>{l(!1),f(!0)}}),r.jsx(Efe,{open:c,onOpenChange:u,pet:x}),r.jsx(j9,{open:d,onOpenChange:f,pet:x}),r.jsx(Zf,{open:m,onOpenChange:g})]})}function b9({open:e,onOpenChange:t,consultation:n}){const{clients:s,pets:i,updateConsultation:a}=jt(),{toast:o}=Rt(),{settings:l}=Jt(),[c,u]=w.useState({clientId:0,clientName:"",petId:0,petName:"",date:"",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",medications:"",followUp:"",cost:"",notes:""}),d=i.filter(v=>v.ownerId===c.clientId),f=new Date().toISOString().split("T")[0],m=v=>{u(y=>({...y,[v.target.id]:v.target.value}))},g=(v,y)=>{if(v==="clientId"){const N=parseInt(y),j=s.find(b=>b.id===N);u(b=>({...b,clientId:N,clientName:(j==null?void 0:j.name)||"",petId:0,petName:""}))}else if(v==="petId"){const N=parseInt(y),j=i.find(b=>b.id===N);u(b=>({...b,petId:N,petName:(j==null?void 0:j.name)||""}))}else u(N=>({...N,[v]:y}))},x=v=>{if(v.preventDefault(),!!n){if(!c.clientId||!c.petId){o({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}a(n.id,{clientId:c.clientId,clientName:c.clientName,petId:c.petId,petName:c.petName,date:c.date||f,weight:c.weight,temperature:c.temperature,symptoms:c.symptoms,diagnosis:c.diagnosis,treatment:c.treatment,medications:c.medications,followUp:c.followUp,cost:c.cost,notes:c.notes}),o({title:"Consultation modifiée",description:`Consultation pour ${c.petName} (${c.clientName}) a été modifiée et sauvegardée.`}),t(!1)}};return w.useEffect(()=>{e&&n&&u({clientId:n.clientId,clientName:n.clientName,petId:n.petId,petName:n.petName,date:n.date,weight:n.weight||"",temperature:n.temperature||"",symptoms:n.symptoms||"",diagnosis:n.diagnosis||"",treatment:n.treatment||"",medications:n.medications||"",followUp:n.followUp||"",cost:n.cost||"",notes:n.notes||""})},[e,n]),n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier la Consultation"}),r.jsxs(jn,{children:["Modifiez les détails de la consultation pour ",n.petName,"."]})]}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Client *"}),r.jsxs(Me,{value:c.clientId.toString(),onValueChange:v=>g("clientId",v),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le client"})}),r.jsx(De,{children:s.map(v=>r.jsx(U,{value:v.id.toString(),children:v.name},v.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Animal *"}),r.jsxs(Me,{value:c.petId.toString(),onValueChange:v=>g("petId",v),disabled:!c.clientId,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:c.clientId?"Sélectionner l'animal":"Sélectionnez d'abord un client"})}),r.jsx(De,{children:d.map(v=>r.jsxs(U,{value:v.id.toString(),children:[v.name," (",v.type,")"]},v.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:c.date||f,onChange:m,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ie,{id:"weight",type:"number",step:"0.1",value:c.weight,onChange:m,placeholder:"ex: 25.5"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"temperature",children:"Température (°C)"}),r.jsx(ie,{id:"temperature",type:"number",step:"0.1",value:c.temperature,onChange:m,placeholder:"ex: 38.5"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"symptoms",children:"Symptômes observés"}),r.jsx(Nt,{id:"symptoms",value:c.symptoms,onChange:m,placeholder:"Décrivez les symptômes et observations...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(Nt,{id:"diagnosis",value:c.diagnosis,onChange:m,placeholder:"Diagnostic posé...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"treatment",children:"Traitement administré"}),r.jsx(Nt,{id:"treatment",value:c.treatment,onChange:m,placeholder:"Traitements, injections, interventions...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"medications",children:"Médicaments prescrits"}),r.jsx(Nt,{id:"medications",value:c.medications,onChange:m,placeholder:"Liste des médicaments avec posologie...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"followUp",children:"Suivi recommandé"}),r.jsx(ie,{id:"followUp",value:c.followUp,onChange:m,placeholder:"ex: Contrôle dans 1 semaine"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(B,{htmlFor:"cost",children:["Coût (",l.currency,")"]}),r.jsx(ie,{id:"cost",type:"number",step:"0.01",value:c.cost,onChange:m,placeholder:"ex: 85.50"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes additionnelles"}),r.jsx(Nt,{id:"notes",value:c.notes,onChange:m,placeholder:"Notes diverses, recommandations...",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Modifier Consultation"})]})]})]})}):null}function Uj({consultation:e}){const{settings:t}=Jt(),n=()=>{const s=window.open("","_blank");if(!s)return;const i=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Consultation - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-name {
              font-size: 24px;
              font-weight: bold;
              color: #2563eb;
            }
            .consultation-title {
              font-size: 20px;
              margin: 10px 0;
            }
            .info-grid {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
              margin-bottom: 30px;
            }
            .info-section {
              border: 1px solid #ddd;
              padding: 15px;
              border-radius: 5px;
            }
            .info-section h3 {
              margin: 0 0 10px 0;
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .info-item {
              margin: 5px 0;
            }
            .info-label {
              font-weight: bold;
              color: #666;
            }
            .medical-section {
              margin: 20px 0;
            }
            .medical-section h3 {
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .footer {
              margin-top: 40px;
              text-align: center;
              font-size: 12px;
              color: #666;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <div class="consultation-title">Rapport de Consultation</div>
            <div>Date: ${new Date(e.date).toLocaleDateString("fr-FR")}</div>
          </div>

          <div class="info-grid">
            <div class="info-section">
              <h3>Informations Client</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${e.clientName}
              </div>
            </div>
            <div class="info-section">
              <h3>Informations Animal</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${e.petName}
              </div>
              <div class="info-item">
                <span class="info-label">Poids:</span> ${e.weight||"Non renseigné"}
              </div>
              <div class="info-item">
                <span class="info-label">Température:</span> ${e.temperature||"Non renseigné"}
              </div>
            </div>
          </div>

          ${e.symptoms?`
            <div class="medical-section">
              <h3>Symptômes Observés</h3>
              <p>${e.symptoms}</p>
            </div>
          `:""}

          ${e.diagnosis?`
            <div class="medical-section">
              <h3>Diagnostic</h3>
              <p>${e.diagnosis}</p>
            </div>
          `:""}

          ${e.treatment?`
            <div class="medical-section">
              <h3>Traitement Administré</h3>
              <p>${e.treatment}</p>
            </div>
          `:""}

          ${e.medications?`
            <div class="medical-section">
              <h3>Médicaments Prescrits</h3>
              <p>${e.medications}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="medical-section">
              <h3>Notes Additionnelles</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="info-grid">
            <div class="info-section">
              <h3>Suivi Recommandé</h3>
              <p>${e.followUp||"Aucun suivi prévu"}</p>
            </div>
            <div class="info-section">
              <h3>Coût</h3>
              <p>${e.cost?e.cost+" "+t.currency:"Non renseigné"}</p>
            </div>
          </div>

          <div class="footer">
            <p>Consultation générée le ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
            <p>VetPro CRM - Gestion Vétérinaire Complète</p>
          </div>
        </body>
      </html>
    `;s.document.write(i),s.document.close(),s.focus(),s.print(),s.close()};return r.jsxs(V,{size:"sm",variant:"outline",onClick:n,className:"gap-2",children:[r.jsx(PA,{className:"h-4 w-4"}),"Imprimer"]})}function PFe(){const{consultations:e,deleteConsultation:t,pets:n,clients:s}=jt(),{settings:i}=Jt(),{toast:a}=Rt(),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),g=[...e].sort((L,z)=>new Date(z.date).getTime()-new Date(L.date).getTime()).slice(0,5),x=e.length,v=e.filter(L=>L.date===new Date().toISOString().split("T")[0]).length,y=new Date().getMonth(),N=new Date().getFullYear(),j=e.filter(L=>{const z=new Date(L.date);return z.getMonth()===y&&z.getFullYear()===N}).length,b=e.filter(L=>{const z=new Date(L.date),J=y===0?11:y-1,H=y===0?N-1:N;return z.getMonth()===J&&z.getFullYear()===H}).length,_=b>0?Math.round((j-b)/b*100):j>0?100:0,C=j*50,A=b*50,P=A>0?Math.round((C-A)/A*100):C>0?100:0,E=L=>{f(L),u(!0)},M=L=>{confirm(`Êtes-vous sûr de vouloir supprimer la consultation pour ${L.petName} ?`)&&(t(L.id),a({title:"Consultation supprimée",description:`La consultation pour ${L.petName} a été supprimée.`}))},$=L=>{const z=new Date().toISOString().split("T")[0];return L.date===z?"bg-accent text-accent-foreground":L.date<z?"bg-secondary text-secondary-foreground":"bg-primary text-primary-foreground"},T=L=>{const z=new Date().toISOString().split("T")[0];return L.date===z?"Aujourd'hui":L.date<z?"Terminée":"À venir"},O=L=>{const z=n.find(H=>H.id===L.petId),J=s.find(H=>H.id===L.clientId);return{petType:(z==null?void 0:z.type)||"Inconnu",petBreed:(z==null?void 0:z.breed)||"Non spécifiée",clientPhone:(J==null?void 0:J.phone)||"Non spécifié",clientCity:(J==null?void 0:J.city)||"Non spécifiée"}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{className:"card-hover",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Ee,{className:"text-lg font-semibold",children:"Consultations Récentes"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(br,{className:"h-3 w-3"}),r.jsxs("span",{children:[x," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Oa,{className:"h-3 w-3"}),r.jsxs("span",{children:[v," aujourd'hui"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),r.jsxs("span",{children:[j," ce mois"]}),_!==0&&r.jsxs($e,{variant:_>0?"default":"destructive",className:"text-xs",children:[_>0?"+":"",_,"%"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(zf,{className:"h-3 w-3"}),r.jsxs("span",{children:["~",C,"€ ce mois"]}),P!==0&&r.jsxs($e,{variant:P>0?"default":"destructive",className:"text-xs",children:[P>0?"+":"",P,"%"]})]})]})]}),r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>l(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]}),r.jsx(he,{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(br,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation enregistrée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre première consultation"})]}):g.map(L=>{const z=O(L);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{className:"h-12 w-12",children:r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(br,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h4",{className:"font-medium",children:["Consultation #",L.id]}),r.jsx($e,{variant:"outline",className:$(L),children:T(L)}),L.cost&&r.jsxs($e,{variant:"secondary",className:"text-xs",children:[L.cost," ",i.currency||"€"]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(qt,{className:"h-3 w-3"}),r.jsxs("span",{children:[L.petName," (",z.petType,")"]}),z.petBreed!=="Non spécifiée"&&r.jsxs("span",{children:[" - ",z.petBreed]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Hr,{className:"h-3 w-3"}),r.jsx("span",{children:L.clientName})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Pt,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(L.date).toLocaleDateString("fr-FR")})]})]})}),r.jsx("div",{className:"text-xs text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[L.diagnosis&&r.jsxs("span",{children:["Diagnostic: ",L.diagnosis]}),L.weight&&r.jsxs("span",{children:["Poids: ",L.weight]}),L.temperature&&r.jsxs("span",{children:["Température: ",L.temperature,"°C"]}),L.photos&&L.photos.length>0&&r.jsxs("span",{children:["📷 ",L.photos.length," photo",L.photos.length>1?"s":""]})]})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>E(L),className:"gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]}),r.jsx(Uj,{consultation:L}),r.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>M(L),className:"gap-2",children:[r.jsx(ur,{className:"h-4 w-4"}),"Supprimer"]})]})]},L.id)})})]}),r.jsx(Zf,{open:o,onOpenChange:l}),r.jsx(b9,{open:c,onOpenChange:u,consultation:d})]})}function AFe(){const{appointments:e,stockItems:t,getUpcomingAppointments:n,getOverdueAppointments:s}=jt();Jt();const i=new Date().toISOString().split("T")[0];n();const a=s(),o=e.filter(d=>d.date===i&&d.status!=="cancelled"&&d.status!=="completed"),l=t.filter(d=>d.currentStock<=d.minimumStock),c=t.filter(d=>d.currentStock===0),u=[];return c.length>0&&u.push({type:"critical",icon:qn,title:"Stock épuisé",message:`${c.length} produit(s) en rupture de stock`,count:c.length,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}),l.length>0&&u.push({type:"warning",icon:Gn,title:"Stock faible",message:`${l.length} produit(s) en stock faible`,count:l.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),a.length>0&&u.push({type:"warning",icon:$n,title:"Rendez-vous en retard",message:`${a.length} rendez-vous en retard`,count:a.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),o.length>0&&u.push({type:"info",icon:Pt,title:"Rendez-vous aujourd'hui",message:`${o.length} rendez-vous prévus aujourd'hui`,count:o.length,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"}),u.length===0?r.jsxs(de,{className:"card-hover",children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-5 w-5 text-green-600"}),"Aucune alerte"]})}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"text-green-600 text-4xl mb-2",children:"✅"}),r.jsx("p",{className:"text-muted-foreground",children:"Tout va bien ! Aucune alerte à signaler."})]})})]}):r.jsxs(de,{className:"card-hover",children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(qn,{className:"h-5 w-5 text-orange-600"}),"Alertes & Notifications",r.jsx($e,{variant:"destructive",className:"ml-2",children:u.length})]})}),r.jsx(he,{className:"space-y-3",children:u.map((d,f)=>r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${d.borderColor} ${d.bgColor}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-full ${d.bgColor}`,children:r.jsx(d.icon,{className:`h-4 w-4 ${d.color}`})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:d.title}),r.jsx("p",{className:"text-xs text-muted-foreground",children:d.message})]})]}),r.jsx($e,{variant:d.type==="critical"?"destructive":d.type==="warning"?"secondary":"default",className:"text-xs",children:d.count})]},f))})]})}function EFe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,farmInterventions:o}=jt();Jt();const l=e.reduce((N,j)=>N+j.pets.length,0),c=l===t.length,u=e.length+t.length+n.length+s.length+i.length+a.length+o.length,d=c?100:Math.round((u-Math.abs(l-t.length))/u*100),f=new Date().toISOString().split("T")[0],m=n.filter(N=>N.date===f).length,g=s.filter(N=>N.date===f&&N.status!=="cancelled"&&N.status!=="completed").length,x=new Date().getMonth(),v=new Date().getFullYear(),y=n.filter(N=>{const j=new Date(N.date);return j.getMonth()===x&&j.getFullYear()===v}).length;return r.jsxs(de,{className:"mb-6",children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[c?r.jsx(er,{className:"h-5 w-5 text-green-600"}):r.jsx(Vr,{className:"h-5 w-5 text-yellow-600"}),"Statut de Synchronisation"]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Da,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",children:["Clients: ",e.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4 text-red-600"}),r.jsxs("span",{className:"text-sm",children:["Animaux: ",t.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm",children:["Consultations: ",n.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-purple-600"}),r.jsxs("span",{className:"text-sm",children:["RDV: ",s.length]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",children:["Aujourd'hui: ",m+g]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm",children:["Ce mois: ",y]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-4 w-4 text-orange-600"}),r.jsxs("span",{className:"text-sm",children:["Prescriptions: ",i.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-4 w-4 text-indigo-600"}),r.jsxs("span",{className:"text-sm",children:["Fermes: ",a.length]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Intégrité des données:"}),r.jsxs($e,{variant:d>=95?"default":d>=80?"secondary":"destructive",children:[d,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${d>=95?"bg-green-600":d>=80?"bg-yellow-600":"bg-red-600"}`,style:{width:`${d}%`}})}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:c?r.jsxs(r.Fragment,{children:[r.jsx(er,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-green-700",children:"Synchronisation OK"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Vr,{className:"h-4 w-4 text-yellow-600"}),r.jsx("span",{className:"text-yellow-700",children:"Désynchronisation détectée"})]})}),!c&&r.jsxs("div",{className:"text-xs text-muted-foreground bg-yellow-50 p-2 rounded",children:[r.jsx("strong",{children:"Attention:"})," ",Math.abs(l-t.length)," animal(s) non synchronisé(s) entre clients et animaux"]})]})]})]})}function kFe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,farmInterventions:o,resetData:l,exportData:c,importData:u}=jt(),{settings:d}=Jt(),{toast:f}=Rt(),[m,g]=w.useState(!1),[x,v]=w.useState(!1),y=e.length+t.length+n.length+s.length+i.length+a.length+o.length,N=Math.round(y*.5),j=[...e.map(O=>O.lastVisit),...t.map(O=>O.lastVisit).filter(Boolean),...n.map(O=>O.date),...s.map(O=>O.date),...i.map(O=>O.date),...a.map(O=>O.lastVisit)].filter(Boolean),b=j.length>0?new Date(Math.max(...j.map(O=>new Date(O).getTime()))):new Date,_=new Date().toISOString().split("T")[0],C=new Date().getMonth(),A=new Date().getFullYear(),P=[...e.filter(O=>O.lastVisit===_),...t.filter(O=>O.lastVisit===_),...n.filter(O=>O.date===_),...s.filter(O=>O.date===_)].length,E=[...e.filter(O=>{const L=new Date(O.lastVisit);return L.getMonth()===C&&L.getFullYear()===A}),...t.filter(O=>{if(!O.lastVisit)return!1;const L=new Date(O.lastVisit);return L.getMonth()===C&&L.getFullYear()===A}),...n.filter(O=>{const L=new Date(O.date);return L.getMonth()===C&&L.getFullYear()===A}),...s.filter(O=>{const L=new Date(O.date);return L.getMonth()===C&&L.getFullYear()===A})].length,M=()=>{try{c(),f({title:"Données exportées",description:`Export de ${y} enregistrements réussi.`})}catch{f({title:"Erreur d'export",description:"Impossible d'exporter les données.",variant:"destructive"})}},$=O=>{var J;const L=(J=O.target.files)==null?void 0:J[0];if(!L)return;const z=new FileReader;z.onload=H=>{var oe,Q;try{const D=JSON.parse((oe=H.target)==null?void 0:oe.result);if(D.clients&&D.pets)u(D),f({title:"Données importées",description:`${D.clients.length} clients, ${D.pets.length} animaux et ${((Q=D.consultations)==null?void 0:Q.length)||0} consultations importés avec succès.`});else throw new Error("Format de fichier invalide")}catch{f({title:"Erreur d'import",description:"Le fichier sélectionné n'est pas valide.",variant:"destructive"})}},z.readAsText(L),v(!1)},T=()=>{try{l(),f({title:"Données réinitialisées",description:"Toutes les données ont été remises aux valeurs par défaut."}),g(!1)}catch{f({title:"Erreur de réinitialisation",description:"Impossible de réinitialiser les données.",variant:"destructive"})}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(Hte,{className:"h-5 w-5"}),"Gestion des Données"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Total:"}),r.jsxs("span",{className:"text-muted-foreground",children:[y," enregistrements"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Taille:"}),r.jsxs("span",{className:"text-muted-foreground",children:["~",N," KB"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Dernière modif:"}),r.jsx("span",{className:"text-muted-foreground",children:b.toLocaleDateString("fr-FR")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:"Aujourd'hui:"}),r.jsx("span",{className:"text-muted-foreground",children:P})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"Ce mois:"}),r.jsx("span",{className:"text-muted-foreground",children:E})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:"Clinique:"}),r.jsx("span",{className:"text-muted-foreground",children:d.clinicName||"Non configurée"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[r.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded",children:[r.jsx("div",{className:"font-medium text-blue-700",children:e.length}),r.jsx("div",{className:"text-blue-600",children:"Clients"})]}),r.jsxs("div",{className:"text-center p-2 bg-red-50 rounded",children:[r.jsx("div",{className:"font-medium text-red-700",children:t.length}),r.jsx("div",{className:"text-red-600",children:"Animaux"})]}),r.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[r.jsx("div",{className:"font-medium text-green-700",children:n.length}),r.jsx("div",{className:"text-green-600",children:"Consultations"})]}),r.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded",children:[r.jsx("div",{className:"font-medium text-purple-700",children:s.length}),r.jsx("div",{className:"text-purple-600",children:"RDV"})]}),r.jsxs("div",{className:"text-center p-2 bg-orange-50 rounded",children:[r.jsx("div",{className:"font-medium text-orange-700",children:i.length}),r.jsx("div",{className:"text-orange-600",children:"Prescriptions"})]}),r.jsxs("div",{className:"text-center p-2 bg-indigo-50 rounded",children:[r.jsx("div",{className:"font-medium text-indigo-700",children:a.length}),r.jsx("div",{className:"text-indigo-600",children:"Fermes"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:M,className:"gap-2",children:[r.jsx(CA,{className:"h-4 w-4"}),"Exporter"]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>v(!0),className:"gap-2",children:[r.jsx(YC,{className:"h-4 w-4"}),"Importer"]}),r.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>g(!0),className:"gap-2",children:[r.jsx(n6,{className:"h-4 w-4"}),"Réinitialiser"]})]})]})]}),r.jsx(St,{open:m,onOpenChange:g,children:r.jsxs(wt,{children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(qn,{className:"h-5 w-5 text-red-600"}),"Réinitialiser toutes les données"]}),r.jsx(jn,{children:"Cette action supprimera définitivement toutes les données (clients, animaux, consultations, etc.) et les remettra aux valeurs par défaut. Cette action ne peut pas être annulée."})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(V,{variant:"outline",onClick:()=>g(!1),children:"Annuler"}),r.jsx(V,{variant:"destructive",onClick:T,children:"Réinitialiser"})]})]})}),r.jsx(St,{open:x,onOpenChange:v,children:r.jsxs(wt,{children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(YC,{className:"h-5 w-5"}),"Importer des données"]}),r.jsx(jn,{children:"Sélectionnez un fichier JSON exporté précédemment pour restaurer vos données."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"file",accept:".json",onChange:$,className:"w-full"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Note:"})," L'import remplacera toutes les données existantes."]})]}),r.jsx("div",{className:"flex gap-2 justify-end",children:r.jsx(V,{variant:"outline",onClick:()=>v(!1),children:"Annuler"})})]})})]})}function TFe(){const{clients:e,pets:t,consultations:n,appointments:s,vaccinations:i,antiparasitics:a,stockItems:o,getUpcomingAppointments:l,getOverdueAppointments:c,generateAccountingSummary:u}=jt(),{settings:d}=Jt(),f=new Date().toISOString().split("T")[0],m=new Date().getMonth(),g=new Date().getFullYear(),x=n.filter(T=>T.date===f).length,v=s.filter(T=>T.date===f&&T.status!=="cancelled").length,N=l().filter(T=>{const O=new Date(T.date),L=new Date,z=new Date(L.getTime()+7*24*60*60*1e3);return O<=z}).length,j=c(),b=o.filter(T=>T.currentStock<=T.minimumStock).length,_=o.filter(T=>T.currentStock===0).length,C=new Date(g,m,1).toISOString().split("T")[0],A=new Date(g,m+1,0).toISOString().split("T")[0],P=u(`${g}-${String(m+1).padStart(2,"0")}`,C,A),E=e.filter(T=>{const O=new Date(T.createdAt);return O.getMonth()===m&&O.getFullYear()===g}).length,M=t.filter(T=>{const O=new Date(T.createdAt);return O.getMonth()===m&&O.getFullYear()===g}).length,$=[{title:"Consultations Aujourd'hui",value:x,icon:br,color:"text-green-600",bgColor:"bg-green-50",trend:x>0?"up":"neutral",description:"Consultations réalisées"},{title:"RDV Aujourd'hui",value:v,icon:Pt,color:"text-blue-600",bgColor:"bg-blue-50",trend:v>0?"up":"neutral",description:"Rendez-vous programmés"},{title:"RDV Cette Semaine",value:N,icon:$n,color:"text-purple-600",bgColor:"bg-purple-50",trend:N>0?"up":"neutral",description:"Rendez-vous à venir"},{title:"RDV En Retard",value:j.length,icon:qn,color:j.length>0?"text-red-600":"text-gray-600",bgColor:j.length>0?"bg-red-50":"bg-gray-50",trend:j.length>0?"down":"neutral",description:"Rendez-vous en retard"},{title:"Nouveaux Clients",value:E,icon:Da,color:"text-emerald-600",bgColor:"bg-emerald-50",trend:E>0?"up":"neutral",description:"Ce mois"},{title:"Nouveaux Animaux",value:M,icon:qt,color:"text-pink-600",bgColor:"bg-pink-50",trend:M>0?"up":"neutral",description:"Ce mois"},{title:"Revenus du Mois",value:`${P.totalRevenue.toFixed(0)} ${d.currency||"€"}`,icon:zf,color:"text-green-600",bgColor:"bg-green-50",trend:P.totalRevenue>0?"up":"neutral",description:`Bénéfice: ${P.netIncome.toFixed(0)} ${d.currency||"€"}`},{title:"Stock Critique",value:b,icon:Oa,color:b>0?"text-orange-600":"text-green-600",bgColor:b>0?"bg-orange-50":"bg-green-50",trend:b>0?"down":"neutral",description:`${_} en rupture`}];return r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:$.map((T,O)=>r.jsxs(de,{className:"card-hover",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-sm font-medium text-muted-foreground",children:T.title}),r.jsx("div",{className:`p-2 rounded-lg ${T.bgColor}`,children:r.jsx(T.icon,{className:`h-4 w-4 ${T.color}`})})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-2xl font-bold",children:T.value}),r.jsxs("div",{className:"flex items-center gap-1",children:[T.trend==="up"&&r.jsxs(r.Fragment,{children:[r.jsx(vr,{className:"h-4 w-4 text-green-600"}),r.jsxs($e,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["+",Math.floor(Math.random()*20)+5,"%"]})]}),T.trend==="down"&&r.jsxs(r.Fragment,{children:[r.jsx(Vu,{className:"h-4 w-4 text-red-600"}),r.jsxs($e,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:["-",Math.floor(Math.random()*15)+3,"%"]})]}),T.trend==="neutral"&&r.jsx($e,{variant:"outline",className:"text-xs",children:"0%"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.description})]})]},O))})}function OFe(){const{accountingEntries:e}=jt(),{settings:t}=Jt(),s=(()=>{const i=[],a=new Date;for(let o=5;o>=0;o--){const l=new Date(a.getFullYear(),a.getMonth()-o,1);`${l.getFullYear()}${String(l.getMonth()+1).padStart(2,"0")}`;const c=new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0],u=new Date(l.getFullYear(),l.getMonth()+1,0).toISOString().split("T")[0],d=e.filter(g=>{const x=new Date(g.date);return x>=new Date(c)&&x<=new Date(u)}),f=d.filter(g=>g.type==="revenue").reduce((g,x)=>g+x.amount,0),m=d.filter(g=>g.type==="expense").reduce((g,x)=>g+x.amount,0);i.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),revenue:Math.round(f),expenses:Math.round(m),profit:Math.round(f-m)})}return i})();return r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-base font-medium",children:"Évolution des Revenus"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(vr,{className:"h-4 w-4 text-green-600"})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(ul,{width:"100%",height:"100%",children:r.jsxs(Fk,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(rd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Ra,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(La,{axisLine:!1,tickLine:!1,className:"text-xs",tickFormatter:i=>`${i}${t.currency||"€"}`}),r.jsx(Ur,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(i,a)=>[`${i} ${t.currency||"€"}`,a==="revenue"?"Revenus":a==="expenses"?"Dépenses":"Bénéfice"]}),r.jsx(ea,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,strokeWidth:2}),r.jsx(ea,{type:"monotone",dataKey:"expenses",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,strokeWidth:2})]})})}),r.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Revenus"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Dépenses"})]})]})]})]})}function DFe(){const{consultations:e,appointments:t,vaccinations:n,antiparasitics:s}=jt(),a=(()=>{const o=[],l=new Date;for(let c=6;c>=0;c--){const u=new Date(l);u.setDate(u.getDate()-c);const d=u.toISOString().split("T")[0],f=e.filter(v=>v.date===d).length,m=t.filter(v=>v.date===d).length,g=n.filter(v=>v.dateGiven===d).length,x=s.filter(v=>v.dateGiven===d).length;o.push({day:u.toLocaleDateString("fr-FR",{weekday:"short"}),date:d,consultations:f,appointments:m,vaccinations:g,antiparasitics:x,total:f+m+g+x})}return o})();return r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-base font-medium",children:"Activité des 7 derniers jours"}),r.jsx(Oa,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(ul,{width:"100%",height:"100%",children:r.jsxs(dFe,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(rd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Ra,{dataKey:"day",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(La,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ur,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(o,l)=>[o,l==="consultations"?"Consultations":l==="appointments"?"Rendez-vous":l==="vaccinations"?"Vaccinations":l==="antiparasitics"?"Antiparasitaires":"Total"]}),r.jsx(ao,{dataKey:"consultations",fill:"#10b981",radius:[2,2,0,0]}),r.jsx(ao,{dataKey:"appointments",fill:"#3b82f6",radius:[2,2,0,0]}),r.jsx(ao,{dataKey:"vaccinations",fill:"#8b5cf6",radius:[2,2,0,0]}),r.jsx(ao,{dataKey:"antiparasitics",fill:"#f59e0b",radius:[2,2,0,0]})]})})}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Consultations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Rendez-vous"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Vaccinations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Antiparasitaires"})]})]})]})]})}function MFe(){const{stockItems:e}=jt(),t=q.useMemo(()=>{const i=e.length,a=e.filter(c=>c.currentStock<=c.minimumStock&&c.currentStock>0).length,o=e.filter(c=>c.currentStock===0).length;return[{name:"Stock Normal",value:i-a-o,color:"#10b981"},{name:"Stock Faible",value:a,color:"#f59e0b"},{name:"Rupture",value:o,color:"#ef4444"}].filter(c=>c.value>0)},[e]),n=e.reduce((i,a)=>i+a.currentStock*a.purchasePrice,0),s=e.sort((i,a)=>a.currentStock*a.purchasePrice-i.currentStock*i.purchasePrice).slice(0,5);return r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-base font-medium",children:"État du Stock"}),r.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(ul,{width:"100%",height:"100%",children:r.jsxs(Lk,{children:[r.jsx(Va,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:a})=>`${i} ${(a*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((i,a)=>r.jsx(cm,{fill:i.color},`cell-${a}`))}),r.jsx(Ur,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:i=>[i,"Articles"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Valeur totale du stock"}),r.jsxs("span",{className:"font-medium",children:[n.toFixed(0)," €"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Articles les plus précieux"}),s.map((i,a)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"truncate flex-1",children:i.name}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:[(i.currentStock*i.purchasePrice).toFixed(0)," €"]})]},i.id))]})]})]})]})}function IFe(){const{clients:e,pets:t}=jt(),s=(()=>{const i=[],a=new Date;for(let o=5;o>=0;o--){const l=new Date(a.getFullYear(),a.getMonth()-o,1),c=new Date(l.getFullYear(),l.getMonth(),1),u=new Date(l.getFullYear(),l.getMonth()+1,0),d=e.filter(x=>{const v=new Date(x.createdAt);return v>=c&&v<=u}).length,f=t.filter(x=>{const v=new Date(x.createdAt);return v>=c&&v<=u}).length,m=e.filter(x=>new Date(x.createdAt)<=u).length,g=t.filter(x=>new Date(x.createdAt)<=u).length;i.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),newClients:d,newPets:f,totalClients:m,totalPets:g})}return i})();return r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-base font-medium",children:"Croissance des Clients"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Da,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(vr,{className:"h-4 w-4 text-blue-600"})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(ul,{width:"100%",height:"100%",children:r.jsxs(Fk,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(rd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Ra,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(La,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ur,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(i,a)=>[i,a==="newClients"?"Nouveaux Clients":a==="newPets"?"Nouveaux Animaux":a==="totalClients"?"Total Clients":"Total Animaux"]}),r.jsx(ea,{type:"monotone",dataKey:"newClients",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2}),r.jsx(ea,{type:"monotone",dataKey:"newPets",stackId:"2",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6,strokeWidth:2})]})})}),r.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Clients"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Animaux"})]})]})]})]})}function $Fe(){const{appointments:e}=jt(),t=q.useMemo(()=>{const c=e.reduce((f,m)=>(f[m.status]=(f[m.status]||0)+1,f),{}),u={scheduled:"Planifié",confirmed:"Confirmé",completed:"Terminé",cancelled:"Annulé","no-show":"Absent"},d={scheduled:"#3b82f6",confirmed:"#10b981",completed:"#6b7280",cancelled:"#ef4444","no-show":"#f59e0b"};return Object.entries(c).map(([f,m])=>({name:u[f]||f,value:m,color:d[f]||"#6b7280"}))},[e]),n=e.length,s=e.filter(c=>c.status==="completed").length,i=e.filter(c=>c.status==="scheduled"||c.status==="confirmed").length,a=e.filter(c=>c.status==="cancelled").length,o=n>0?s/n*100:0,l=n>0?a/n*100:0;return r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-base font-medium",children:"Statuts des Rendez-vous"}),r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(ul,{width:"100%",height:"100%",children:r.jsxs(Lk,{children:[r.jsx(Va,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:t.map((c,u)=>r.jsx(cm,{fill:c.color},`cell-${u}`))}),r.jsx(Ur,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:c=>[c,"Rendez-vous"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[o.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux de réussite"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[l.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux d'annulation"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{children:"Terminés"})]}),r.jsx("span",{className:"font-medium",children:s})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{children:"À venir"})]}),r.jsx("span",{className:"font-medium",children:i})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ng,{className:"h-4 w-4 text-red-600"}),r.jsx("span",{children:"Annulés"})]}),r.jsx("span",{className:"font-medium",children:a})]})]})]})]})]})}function RFe(){const{consultations:e}=jt(),n=(()=>{const s=[],i=new Date;for(let a=11;a>=0;a--){const o=new Date(i.getFullYear(),i.getMonth()-a,1),l=new Date(o.getFullYear(),o.getMonth(),1),c=new Date(o.getFullYear(),o.getMonth()+1,0),u=e.filter(m=>{const g=new Date(m.date);return g>=l&&g<=c}),d=u.reduce((m,g)=>m+(g.cost||0),0),f=u.length>0?d/u.length:0;s.push({month:o.toLocaleDateString("fr-FR",{month:"short",year:"2-digit"}),consultations:u.length,revenue:Math.round(d),averageRevenue:Math.round(f)})}return s})();return r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-base font-medium",children:"Tendances des Consultations"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(br,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(vr,{className:"h-4 w-4 text-blue-600"})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(ul,{width:"100%",height:"100%",children:r.jsxs(Fk,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(rd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Ra,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(La,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ur,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(s,i)=>[i==="consultations"?s:`${s} €`,i==="consultations"?"Consultations":i==="revenue"?"Revenus":"Revenu moyen"]}),r.jsx(ea,{type:"monotone",dataKey:"consultations",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2})]})})}),r.jsx("div",{className:"flex items-center justify-between mt-4 text-sm",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nombre de consultations"})]})})]})]})}function LFe(){const{pets:e}=jt(),t=q.useMemo(()=>{const o=e.reduce((c,u)=>{const d=u.species||"Autre";return c[d]=(c[d]||0)+1,c},{}),l=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"];return Object.entries(o).map(([c,u],d)=>({name:c,value:u,color:l[d%l.length]}))},[e]),n=e.length,s=t.length>0?t[0]:null,i=e.length>0?e.reduce((o,l)=>o+(l.age||0),0)/e.length:0,a=o=>{switch(o.toLowerCase()){case"chien":case"dog":return r.jsx(Gte,{className:"h-4 w-4"});case"chat":case"cat":return r.jsx(zte,{className:"h-4 w-4"});case"poisson":case"fish":return r.jsx(Kte,{className:"h-4 w-4"});case"oiseau":case"bird":return r.jsx(Fte,{className:"h-4 w-4"});default:return r.jsx(qt,{className:"h-4 w-4"})}};return r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-base font-medium",children:"Répartition par Espèce"}),r.jsx(qt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(ul,{width:"100%",height:"100%",children:r.jsxs(Lk,{children:[r.jsx(Va,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o} ${(l*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((o,l)=>r.jsx(cm,{fill:o.color},`cell-${l}`))}),r.jsx(Ur,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:o=>[o,"Animaux"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Total d'animaux"}),r.jsx("span",{className:"font-medium",children:n})]}),s&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Espèce la plus commune"}),r.jsxs("div",{className:"flex items-center gap-2",children:[a(s.name),r.jsx("span",{className:"font-medium",children:s.name})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Âge moyen"}),r.jsxs("span",{className:"font-medium",children:[i.toFixed(1)," ans"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Répartition détaillée"}),t.slice(0,5).map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a(o.name),r.jsx("span",{children:o.name})]}),r.jsxs("span",{className:"text-muted-foreground",children:[o.value," (",(o.value/n*100).toFixed(1),"%)"]})]},l))]})]})]})]})}const FFe=()=>r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[r.jsx(Sfe,{}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"KPI en Temps Réel"}),r.jsx(TFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx(EFe,{}),r.jsx(kFe,{}),r.jsx(AFe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Vue d'ensemble"}),r.jsx(Cfe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Analyses et Tendances"}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(V2,{children:r.jsx(OFe,{})}),r.jsx(DFe,{})]})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx(MFe,{}),r.jsx(IFe,{}),r.jsx($Fe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(RFe,{}),r.jsx(LFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(Afe,{}),r.jsx(_Fe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Activité Récente"}),r.jsx(PFe,{})]}),r.jsx(V2,{children:r.jsx("section",{children:r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Admin Dashboard"})})})]}),xd=e=>{const{settings:t}=Jt();return{currentView:t.displayPreferences[e],isTableView:t.displayPreferences[e]==="table",isCardsView:t.displayPreferences[e]==="cards"}},BFe=(e,t)=>{const n=t.filter(a=>a.client_id===e.id),s=Math.abs(e.id.split("").reduce((a,o)=>(a=(a<<5)-a+o.charCodeAt(0),a&a),0)),i=n.map(a=>({id:Math.abs(a.id.split("").reduce((l,c)=>(l=(l<<5)-l+c.charCodeAt(0),l&l),0)),name:a.name,type:a.species,breed:a.breed||""}));return{id:s,name:`${e.first_name} ${e.last_name}`,firstName:e.first_name,lastName:e.last_name,email:e.email||"",phone:e.phone||e.mobile_phone||"",address:e.address||"",city:e.city,pets:i,lastVisit:new Date(e.updated_at).toLocaleDateString("fr-FR"),totalVisits:0,dbId:e.id}},zFe=()=>{const{data:e=[],isLoading:t}=yv(),{data:n=[],isLoading:s}=jv(),i=rfe(),{toast:a}=Rt(),o=e.map(T=>BFe(T,n)),{currentView:l}=xd("clients"),[c,u]=w.useState(""),[d,f]=w.useState(l),[m,g]=w.useState(!1),[x,v]=w.useState(null),[y,N]=w.useState(!1),[j,b]=w.useState(!1),[_,C]=w.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"Rabat",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),A=o.filter(T=>T.name.toLowerCase().includes(c.toLowerCase())||T.email.toLowerCase().includes(c.toLowerCase())||T.city&&T.city.toLowerCase().includes(c.toLowerCase())),P=T=>{v(T),N(!0)},E=T=>{v(T),C({first_name:T.firstName,last_name:T.lastName,email:T.email,phone:T.phone,mobile_phone:"",address:T.address,city:T.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),b(!0)},M=()=>{x&&C({first_name:x.firstName,last_name:x.lastName,email:x.email,phone:x.phone,mobile_phone:"",address:x.address,city:x.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),N(!1),b(!0)},$=async T=>{if(T.preventDefault(),!x||!_.first_name||!_.last_name){a({title:"Erreur",description:"Le prénom et le nom sont obligatoires",variant:"destructive"});return}try{await i.mutateAsync({id:x.dbId,data:_}),a({title:"Client modifié",description:`${_.first_name} ${_.last_name} a été modifié avec succès`}),b(!1),v(null)}catch(O){a({title:"Erreur",description:O instanceof Error?O.message:"Erreur lors de la modification du client",variant:"destructive"})}};return t||s?r.jsx("div",{className:"container mx-auto px-6 py-8",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Chargement des clients..."})]})})}):r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Clients"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez tous vos clients et leurs informations"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:d==="cards"?"default":"outline",onClick:()=>f("cards"),className:"gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:d==="table"?"default":"outline",onClick:()=>f("table"),className:"gap-2",children:[r.jsx(al,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>g(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau Client"]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher un client"]})}),r.jsx(he,{children:r.jsx(ie,{placeholder:"Rechercher par nom, email ou ville...",value:c,onChange:T=>u(T.target.value),className:"max-w-md"})})]}),d==="cards"?r.jsx("div",{className:"grid gap-6",children:A.map(T=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx(Gr,{className:"h-16 w-16",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-lg",children:T.name.split(" ").map(O=>O[0]).join("")})}),r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:T.name}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Vf,{className:"h-3 w-3"}),T.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),T.phone]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(cd,{className:"h-3 w-3"}),T.address]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4 text-primary"}),"Animaux (",T.pets.length,")"]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:T.pets.length>0?T.pets.map((O,L)=>r.jsxs($e,{variant:"secondary",className:"gap-1",children:[O.name," - ",O.type," ",O.breed&&`(${O.breed})`]},O.id||L)):r.jsx("span",{className:"text-sm text-muted-foreground",children:"Aucun animal enregistré"})})]}),r.jsxs("div",{className:"flex gap-6 text-sm",children:[r.jsxs("span",{children:[r.jsx("strong",{children:"Dernière visite:"})," ",T.lastVisit]}),r.jsxs("span",{children:[r.jsx("strong",{children:"Total visites:"})," ",T.totalVisits]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>P(T),children:[r.jsx(Ir,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>E(T),children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})]})]})})},T.id))}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Contact"}),r.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),r.jsx("th",{className:"p-4 font-medium",children:"Dernière visite"}),r.jsx("th",{className:"p-4 font-medium",children:"Total visites"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:A.map(T=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-10 w-10",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-sm",children:T.name.split(" ").map(O=>O[0]).join("")})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:T.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:T.address})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm",children:T.email}),r.jsx("div",{className:"text-sm text-muted-foreground",children:T.phone})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"flex gap-1 flex-wrap",children:T.pets.length>0?T.pets.map((O,L)=>r.jsx($e,{variant:"secondary",className:"text-xs",children:O.name},O.id||L)):r.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucun"})})}),r.jsx("td",{className:"p-4",children:T.lastVisit}),r.jsx("td",{className:"p-4",children:T.totalVisits}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>P(T),children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>E(T),children:r.jsx(en,{className:"h-4 w-4"})})]})})]},T.id))})]})})})}),r.jsx(bv,{open:m,onOpenChange:g}),x&&y&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs(de,{className:"w-full max-w-2xl mx-4",children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center justify-between",children:["Profil Client - ",x.name,r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>N(!1),children:"✕"})]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Nom complet"}),r.jsx("p",{children:x.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Email"}),r.jsx("p",{children:x.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Téléphone"}),r.jsx("p",{children:x.phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Ville"}),r.jsx("p",{children:x.city})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Adresse"}),r.jsx("p",{children:x.address})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium",children:["Animaux (",x.pets.length,")"]}),r.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:x.pets.map((T,O)=>r.jsxs($e,{variant:"secondary",children:[T.name," - ",T.type," ",T.breed&&`(${T.breed})`]},T.id||O))})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(V,{onClick:()=>M(),children:"Modifier"}),r.jsx(V,{variant:"outline",onClick:()=>N(!1),children:"Fermer"})]})]})]})}),x&&j&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs(de,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center justify-between",children:["Modifier Client - ",x.name,r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>b(!1),children:"✕"})]})}),r.jsx(he,{children:r.jsxs("form",{onSubmit:$,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_first_name",children:"Prénom *"}),r.jsx(ie,{id:"edit_first_name",value:_.first_name,onChange:T=>C(O=>({...O,first_name:T.target.value})),placeholder:"Prénom du client",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_last_name",children:"Nom *"}),r.jsx(ie,{id:"edit_last_name",value:_.last_name,onChange:T=>C(O=>({...O,last_name:T.target.value})),placeholder:"Nom du client",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_email",children:"Email"}),r.jsx(ie,{id:"edit_email",type:"email",value:_.email||"",onChange:T=>C(O=>({...O,email:T.target.value})),placeholder:"email@exemple.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_phone",children:"Téléphone"}),r.jsx(ie,{id:"edit_phone",value:_.phone||"",onChange:T=>C(O=>({...O,phone:T.target.value})),placeholder:"06 12 34 56 78"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_mobile_phone",children:"Téléphone mobile"}),r.jsx(ie,{id:"edit_mobile_phone",value:_.mobile_phone||"",onChange:T=>C(O=>({...O,mobile_phone:T.target.value})),placeholder:"06 12 34 56 78"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_city",children:"Ville"}),r.jsx(ie,{id:"edit_city",value:_.city||"Rabat",onChange:T=>C(O=>({...O,city:T.target.value})),placeholder:"Ville"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_address",children:"Adresse"}),r.jsx(ie,{id:"edit_address",value:_.address||"",onChange:T=>C(O=>({...O,address:T.target.value})),placeholder:"Adresse complète"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_postal_code",children:"Code postal"}),r.jsx(ie,{id:"edit_postal_code",value:_.postal_code||"",onChange:T=>C(O=>({...O,postal_code:T.target.value})),placeholder:"10000"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_client_type",children:"Type de client"}),r.jsxs(Me,{value:_.client_type||"particulier",onValueChange:T=>C(O=>({...O,client_type:T})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de client"})}),r.jsxs(De,{children:[r.jsx(U,{value:"particulier",children:"Particulier"}),r.jsx(U,{value:"eleveur",children:"Éleveur"}),r.jsx(U,{value:"ferme",children:"Ferme"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_notes",children:"Notes"}),r.jsx(Nt,{id:"edit_notes",value:_.notes||"",onChange:T=>C(O=>({...O,notes:T.target.value})),placeholder:"Notes supplémentaires...",rows:3})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(V,{type:"submit",disabled:i.isPending,className:"flex-1",children:i.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Aa,{className:"h-4 w-4 animate-spin mr-2"}),"Modification..."]}):"Enregistrer"}),r.jsx(V,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:i.isPending,className:"flex-1",children:"Annuler"})]})]})})]})})]})},VFe=()=>r.jsx(zFe,{});function UFe({open:e,onOpenChange:t,pet:n}){const[s,i]=w.useState("overview");if(!n)return null;const a=n.birthDate?nf(n.birthDate):"Non renseigné",o=n.weight?`${n.weight} kg`:"Non renseigné";return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-5 w-5"}),"Dossier Médical - ",n.name," (Propriétaire: ",n.owner,")"]})}),r.jsxs(pl,{value:s,onValueChange:i,className:"w-full",children:[r.jsxs(jo,{className:"grid w-full grid-cols-6",children:[r.jsxs(ln,{value:"overview",className:"flex items-center gap-1",children:[r.jsx(Oa,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(ln,{value:"historique",className:"flex items-center gap-1",children:[r.jsx(Pt,{className:"h-4 w-4"}),"Historique"]}),r.jsxs(ln,{value:"prescriptions",className:"flex items-center gap-1",children:[r.jsx(ur,{className:"h-4 w-4"}),"Prescriptions"]}),r.jsxs(ln,{value:"vaccinations",className:"flex items-center gap-1",children:[r.jsx(As,{className:"h-4 w-4"}),"Vaccinations"]}),r.jsxs(ln,{value:"antiparasites",className:"flex items-center gap-1",children:[r.jsx(Vr,{className:"h-4 w-4"}),"Antiparasites"]}),r.jsxs(ln,{value:"pedigree",className:"flex items-center gap-1",children:[r.jsx(y0,{className:"h-4 w-4"}),"Pedigree"]})]}),r.jsxs(cn,{value:"overview",className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Informations générales"})}),r.jsx(he,{children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(Gr,{className:"h-32 w-32",children:n.photo?r.jsx(cl,{src:n.photo,alt:n.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(qt,{className:"h-16 w-16"})})}),r.jsxs(V,{variant:"outline",size:"sm",className:"gap-2",children:[r.jsx(ef,{className:"h-4 w-4"}),"Ajouter photo"]})]}),r.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:n.name}),r.jsxs("div",{className:"space-y-2 mt-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",n.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"})," ",n.breed||"Non renseignée"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Sexe:"})," ",n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Inconnu"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"})," ",a]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Date de naissance:"})," ",n.birthDate||"Non renseignée"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"})," ",n.color||"Non renseignée"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids actuel:"})," ",o]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"N° puce:"})," ",n.microchip||"Non renseigné"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Statut de santé:"}),r.jsx($e,{variant:n.status==="healthy"?"default":n.status==="treatment"?"secondary":"destructive",children:n.status==="healthy"?"En bonne santé":n.status==="treatment"?"En traitement":"Urgent"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Propriétaire:"})," ",n.owner]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernière visite:"})," ",n.lastVisit||"Aucune"]})]})]})]})})]}),r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ee,{children:"Galerie photos"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Ajouter une photo"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center",children:[r.jsx(ef,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo disponible"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez des photos de l'animal pour enrichir son dossier"})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(j0,{className:"h-5 w-5 text-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),r.jsx("p",{className:"text-lg font-bold",children:o}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"-28.2kg"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rg,{className:"h-5 w-5 text-red-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Température"}),r.jsx("p",{className:"text-lg font-bold",children:"38.5°C"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Moy: 38.5°C"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(br,{className:"h-5 w-5 text-green-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),r.jsx("p",{className:"text-lg font-bold",children:"1"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Dernière: 15/01/2024"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vr,{className:"h-5 w-5 text-yellow-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),r.jsx("p",{className:"text-lg font-bold",children:"1"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"À traiter"})]})]})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-5 w-5"}),"Prochain suivi recommandé"]})}),r.jsx(he,{children:r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg",children:[r.jsx("p",{className:"font-medium",children:"Contrôle dans 3 an"}),r.jsxs(V,{size:"sm",className:"mt-2 gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Planifier"]})]})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-red-600",children:"Alertes importantes"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(Vr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Contrôle de routine recommandé"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Dernière consultation il y a 20 mois"})]}),r.jsx(V,{size:"sm",variant:"outline",children:"Planifier consultation"})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(Vr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"DHPP - 247 jour(s) de retard"})]}),r.jsx(V,{size:"sm",variant:"outline",children:"Planifier vaccination"})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(Vr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Lyme - 512 jour(s) de retard"})]}),r.jsx(V,{size:"sm",variant:"outline",children:"Planifier vaccination"})]})]})]})]}),r.jsx(cn,{value:"historique",className:"space-y-4",children:r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Historique médical"})}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Pt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Pas assez de données pour afficher les tendances"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez plus de consultations avec poids et température"})]})})]})}),r.jsx(cn,{value:"prescriptions",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ee,{children:"Prescriptions"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle prescription"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ur,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune prescription disponible"})]})})]})}),r.jsx(cn,{value:"vaccinations",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ee,{children:"Vaccinations"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle vaccination"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm font-medium",children:[r.jsx("div",{children:"Rage"}),r.jsx("div",{children:"DHPP"}),r.jsx("div",{children:"Lyme"})]}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(As,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune vaccination enregistrée"})]})]})})]})}),r.jsx(cn,{value:"antiparasites",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ee,{children:"Antiparasitaires"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau traitement"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Vr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucun traitement antiparasitaire enregistré"})]})})]})}),r.jsx(cn,{value:"pedigree",className:"space-y-4",children:r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Informations de pedigree"})}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(y0,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune information de pedigree disponible"})]})})]})})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[r.jsx("div",{className:"flex gap-2",children:r.jsxs(V,{variant:"outline",size:"sm",children:[r.jsx(ur,{className:"h-4 w-4 mr-2"}),"Voir Dossier Médical"]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{children:[r.jsx(en,{className:"h-4 w-4 mr-2"}),"Modifier"]})]})]}),r.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Animal modifié"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Les informations de ",n.name," ont été mises à jour."]})]})]})})}function qFe({pet:e,consultations:t}){var _,C,A;const n=[...t].sort((P,E)=>new Date(E.date).getTime()-new Date(P.date).getTime()),s=n.filter(P=>P.weight).map(P=>({date:P.date,weight:parseFloat(P.weight)})),i=n.filter(P=>P.temperature).map(P=>({date:P.date,temperature:parseFloat(P.temperature)})),a=((_=s[0])==null?void 0:_.weight)||0,o=((C=s[1])==null?void 0:C.weight)||0,l=a-o,c=l>0?"up":l<0?"down":"stable",u=((A=i[0])==null?void 0:A.temperature)||0,d=i.length>0?i.reduce((P,E)=>P+E.temperature,0)/i.length:0,f=i.length>0?Math.min(...i.map(P=>P.temperature)):0,m=i.length>0?Math.max(...i.map(P=>P.temperature)):0,g=t.length,x=new Date().getMonth(),v=new Date().getFullYear(),y=t.filter(P=>{const E=new Date(P.date);return E.getMonth()===x&&E.getFullYear()===v}).length,N=n[0],j=N?Math.floor((new Date().getTime()-new Date(N.date).getTime())/(1e3*60*60*24)):null,b=[];return u>39.5?b.push({type:"danger",message:"Température élevée",icon:qn}):u<37.5&&b.push({type:"warning",message:"Température basse",icon:qn}),l<-2&&b.push({type:"warning",message:"Perte de poids",icon:Vu}),j&&j>180&&b.push({type:"info",message:"Contrôle recommandé",icon:Pt}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Statistiques médicales"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-2",children:r.jsxs(Ee,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(j0,{className:"h-4 w-4"}),"Poids actuel"]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[a,"kg"]}),l!==0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[c==="up"?r.jsx(vr,{className:"h-3 w-3 text-green-600"}):c==="down"?r.jsx(Vu,{className:"h-3 w-3 text-red-600"}):r.jsx(Qte,{className:"h-3 w-3 text-gray-600"}),r.jsxs("span",{className:c==="up"?"text-green-600":c==="down"?"text-red-600":"text-gray-600",children:[Math.abs(l),"kg"]})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-2",children:r.jsxs(Ee,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(rg,{className:"h-4 w-4"}),"Température"]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[u,"°C"]}),r.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Moy: ",d.toFixed(1),"°C"]}),i.length>1&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Min: ",f,"°C | Max: ",m,"°C"]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-2",children:r.jsxs(Ee,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(Oa,{className:"h-4 w-4"}),"Consultations"]})}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold",children:g}),r.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Ce mois: ",y]}),N&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Dernière: ",new Date(N.date).toLocaleDateString("fr-FR")]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-2",children:r.jsxs(Ee,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(qn,{className:"h-4 w-4"}),"Alertes"]})}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold",children:b.length}),r.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:b.length>0?"À traiter":"Aucune"}),b.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:b.slice(0,2).map((P,E)=>r.jsx($e,{variant:"outline",className:"text-xs",children:P.message},E))})]})]})]}),b.length>0&&r.jsxs(de,{className:"border-destructive/20",children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-destructive text-base",children:"Alertes médicales"})}),r.jsx(he,{children:r.jsx("div",{className:"space-y-2",children:b.map((P,E)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/5 rounded",children:[r.jsx(P.icon,{className:`h-4 w-4 ${P.type==="danger"?"text-destructive":P.type==="warning"?"text-yellow-600":"text-blue-600"}`}),r.jsx("span",{className:"text-sm font-medium",children:P.message})]},E))})})]}),s.length>1||i.length>1?r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-base",children:"Tendances"})}),r.jsx(he,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.length>1&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Évolution du poids"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Poids initial:"}),r.jsxs("span",{children:[s[s.length-1].weight,"kg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Poids actuel:"}),r.jsxs("span",{children:[s[0].weight,"kg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Évolution totale:"}),r.jsxs("span",{className:s[0].weight>s[s.length-1].weight?"text-green-600":"text-red-600",children:[s[0].weight-s[s.length-1].weight,"kg"]})]})]})]}),i.length>1&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Évolution de la température"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Température moyenne:"}),r.jsxs("span",{children:[d.toFixed(1),"°C"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Variation:"}),r.jsxs("span",{children:[m-f,"°C"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Stabilité:"}),r.jsx("span",{className:m-f<1?"text-green-600":"text-yellow-600",children:m-f<1?"Stable":"Variable"})]})]})]})]})})]}):r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center text-muted-foreground",children:[r.jsx(Oa,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),r.jsx("p",{children:"Pas assez de données pour afficher les tendances"}),r.jsx("p",{className:"text-sm",children:"Ajoutez plus de consultations avec poids et température"})]})})]})}const q3={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"},WFe=(e,t)=>{const n=t.find(o=>o.id===e.client_id),s=n?`${n.first_name} ${n.last_name}`:"Propriétaire inconnu",i=Math.abs(e.id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0)),a=Math.abs(e.client_id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0));return{id:i,name:e.name,type:e.species,breed:e.breed||"",gender:e.sex==="Mâle"?"male":e.sex==="Femelle"?"female":void 0,birthDate:e.birth_date||"",weight:e.weight?e.weight.toString():"",color:e.color||"",microchip:e.microchip_number||"",medicalNotes:e.notes||"",photo:e.photo_url||"",ownerId:a,owner:s,status:e.status==="vivant"?"healthy":e.status==="décédé"?"urgent":"treatment",lastVisit:e.updated_at?new Date(e.updated_at).toLocaleDateString("fr-FR"):"Jamais",nextAppointment:void 0,vaccinations:[],dbId:e.id,dbClientId:e.client_id}},HFe=()=>{var Y;const{data:e=[],isLoading:t}=jv(),{data:n=[],isLoading:s}=yv(),{data:i}=lfe(),a=ife(),o=e.map(ee=>WFe(ee,n)),{data:l=[]}=gV(),{data:c=[]}=ofe(),u=w.useCallback(ee=>{var I;const G=typeof ee=="string"?ee:(I=o.find(ve=>ve.id===ee))==null?void 0:I.dbId;return G?l.filter(ve=>ve.animal_id===G):[]},[o,l]),d=w.useCallback(ee=>{var I;const G=typeof ee=="string"?ee:(I=o.find(ve=>ve.id===ee))==null?void 0:I.dbId;return G?c.filter(ve=>ve.animal_id===G):[]},[o,c]),{currentView:f}=xd("pets"),[m,g]=w.useState(""),[x,v]=w.useState("all"),[y,N]=w.useState("all"),[j,b]=w.useState(f),{settings:_}=Jt(),C=_.species.split(",").map(ee=>ee.trim()).filter(ee=>ee.length>0),[A,P]=w.useState(!1),[E,M]=w.useState(!1),[$,T]=w.useState(null),[O,L]=w.useState(!1),[z,J]=w.useState(!1),[H,oe]=w.useState(!1),{toast:Q}=Rt(),[D,ae]=w.useState({client_id:"",name:"",species:"Chien",breed:"",color:"",sex:"Inconnu",weight:void 0,height:void 0,birth_date:"",microchip_number:"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:"",photo_url:"",status:"healthy"}),pe=o.filter(ee=>{const G=ee.name.toLowerCase().includes(m.toLowerCase())||ee.breed&&ee.breed.toLowerCase().includes(m.toLowerCase())||ee.owner.toLowerCase().includes(m.toLowerCase()),I=x==="all"||ee.type.toLowerCase()===x.toLowerCase(),ve=y==="all"||ee.status===y;return G&&I&&ve}),te=ee=>{T(ee),L(!0)},Z=ee=>{T(ee),ae({client_id:ee.dbClientId,name:ee.name,species:ee.type,breed:ee.breed||"",color:ee.color||"",sex:ee.gender==="male"?"Mâle":ee.gender==="female"?"Femelle":"Inconnu",weight:ee.weight?parseFloat(ee.weight):void 0,height:void 0,birth_date:ee.birthDate||"",microchip_number:ee.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:ee.medicalNotes||"",photo_url:ee.photo||"",status:ee.status}),J(!0)},ne=()=>{$&&ae({client_id:$.dbClientId,name:$.name,species:$.type,breed:$.breed||"",color:$.color||"",sex:$.gender==="male"?"Mâle":$.gender==="female"?"Femelle":"Inconnu",weight:$.weight?parseFloat($.weight):void 0,height:void 0,birth_date:$.birthDate||"",microchip_number:$.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:$.medicalNotes||"",photo_url:$.photo||"",status:$.status}),L(!1),J(!0)},xe=ee=>{T(ee),oe(!0)},ye=()=>{L(!1),oe(!0)},se=async()=>{if($){if(D.microchip_number&&D.microchip_number.trim()&&e.find(G=>G.microchip_number===D.microchip_number.trim()&&G.id!==$.dbId)){Q({title:"Erreur",description:"Un animal avec ce numéro de puce existe déjà.",variant:"destructive"});return}try{await a.mutateAsync({id:$.dbId,data:D}),Q({title:"Animal modifié",description:`${D.name} a été modifié avec succès.`}),J(!1)}catch{Q({title:"Erreur",description:"Une erreur s'est produite lors de la modification de l'animal.",variant:"destructive"})}}},F=w.useMemo(()=>$?u($.id):[],[$,u]);return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Animaux"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivez tous les animaux et leurs informations médicales"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:j==="cards"?"default":"outline",onClick:()=>b("cards"),className:"gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:j==="table"?"default":"outline",onClick:()=>b("table"),className:"gap-2",children:[r.jsx(al,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>P(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvel Animal"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total animaux"}),r.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalAnimals)||o.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-5 w-5 text-green-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"En bonne santé"}),r.jsx("p",{className:"text-2xl font-bold",children:((Y=i==null?void 0:i.animalsByStatus)==null?void 0:Y.vivant)||o.filter(ee=>ee.status==="healthy").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qn,{className:"h-5 w-5 text-yellow-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"En traitement"}),r.jsx("p",{className:"text-2xl font-bold",children:o.filter(ee=>ee.status==="treatment").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Clients actifs"}),r.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalClients)||n.length})]})]})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsx(ie,{placeholder:"Rechercher par nom, race ou propriétaire...",value:m,onChange:ee=>g(ee.target.value),className:"max-w-md"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(Me,{value:x,onValueChange:v,children:[r.jsx(Oe,{className:"w-40",children:r.jsx(Ie,{placeholder:"Tous types"})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Tous types"}),C.map((ee,G)=>r.jsx(U,{value:ee.toLowerCase(),children:ee},G))]})]}),r.jsxs(Me,{value:y,onValueChange:N,children:[r.jsx(Oe,{className:"w-40",children:r.jsx(Ie,{placeholder:"Statut"})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Tous statuts"}),r.jsx(U,{value:"healthy",children:"En bonne santé"}),r.jsx(U,{value:"treatment",children:"En traitement"}),r.jsx(U,{value:"urgent",children:"Urgent"})]})]})]})]})]}),j==="cards"?r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:pe.map(ee=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-16 w-16",children:ee.photo?r.jsx(cl,{src:ee.photo,alt:ee.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(qt,{className:"h-8 w-8"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:ee.name}),r.jsx("p",{className:"text-muted-foreground",children:ee.breed}),r.jsx($e,{variant:"outline",className:q3[ee.status],children:ee.status==="healthy"?"En bonne santé":ee.status==="treatment"?"En traitement":"Urgent"})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",ee.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"})," ",ee.birthDate?nf(ee.birthDate):"Non renseigné"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"})," ",ee.weight]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"})," ",ee.color]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Propriétaire: ",typeof ee.owner=="string"?ee.owner:(()=>{const G=n.find(I=>String(I.id)===String(ee.ownerId));return G?`${G.first_name} ${G.last_name}`:"Non spécifié"})()]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Dernière visite: ",ee.lastVisit?new Date(ee.lastVisit).toLocaleDateString("fr-FR"):"Aucune"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(br,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Consultations: ",u(ee.id).length]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Vaccinations:"}),r.jsx("div",{className:"flex gap-1 flex-wrap",children:(()=>{const G=d(ee.id);return G.length>0?G.map(I=>r.jsx($e,{variant:"outline",className:"text-xs",children:I.vaccin},I.id)):r.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucune vaccination enregistrée"})})()})]}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>te(ee),children:[r.jsx(Ir,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>Z(ee),children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>xe(ee),children:"Dossier Médical"}),r.jsxs(V,{size:"sm",className:"flex-1",onClick:()=>{T(ee),M(!0)},children:[r.jsx(br,{className:"h-4 w-4 mr-2"}),"Consultation"]})]})]})})},ee.id))}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Âge"}),r.jsx("th",{className:"p-4 font-medium",children:"Propriétaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Dernière visite"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:pe.map(ee=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-10 w-10",children:ee.photo?r.jsx(cl,{src:ee.photo,alt:ee.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(qt,{className:"h-5 w-5"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:ee.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:ee.breed})]})]})}),r.jsx("td",{className:"p-4",children:ee.type}),r.jsx("td",{className:"p-4",children:ee.birthDate?nf(ee.birthDate):"Non renseigné"}),r.jsx("td",{className:"p-4",children:typeof ee.owner=="string"?ee.owner:(()=>{const G=n.find(I=>String(I.id)===String(ee.ownerId));return G?`${G.first_name} ${G.last_name}`:"Non spécifié"})()}),r.jsx("td",{className:"p-4",children:r.jsx($e,{variant:"outline",className:q3[ee.status],children:ee.status==="healthy"?"En bonne santé":ee.status==="treatment"?"En traitement":"Urgent"})}),r.jsx("td",{className:"p-4",children:ee.lastVisit?new Date(ee.lastVisit).toLocaleDateString("fr-FR"):"Aucune"}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>te(ee),children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Z(ee),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>xe(ee),children:"Dossier"})]})})]},ee.id))})]})})})}),$&&r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(Oa,{className:"h-5 w-5"}),"Statistiques médicales - ",$.name]})}),r.jsx(he,{children:r.jsx(qFe,{pet:$,consultations:F})})]}),r.jsx(wv,{open:A,onOpenChange:P}),r.jsx(Zf,{open:E,onOpenChange:M}),r.jsx(EV,{open:O,onOpenChange:L,pet:$,onEdit:ne,onShowDossier:ye}),r.jsx(St,{open:z,onOpenChange:J,children:r.jsxs(wt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier Animal"}),r.jsx(jn,{children:"Modifiez les informations de l'animal."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"name",children:"Nom *"}),r.jsx(ie,{id:"name",value:D.name,onChange:ee=>ae(G=>({...G,name:ee.target.value})),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"species",children:"Espèce *"}),r.jsxs(Me,{value:D.species,onValueChange:ee=>ae(G=>({...G,species:ee})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner l'espèce"})}),r.jsxs(De,{children:[r.jsx(U,{value:"Chien",children:"Chien"}),r.jsx(U,{value:"Chat",children:"Chat"}),r.jsx(U,{value:"Oiseau",children:"Oiseau"}),r.jsx(U,{value:"Lapin",children:"Lapin"}),r.jsx(U,{value:"Furet",children:"Furet"}),r.jsx(U,{value:"Autre",children:"Autre"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"client_id",children:"Propriétaire *"}),r.jsxs(Me,{value:D.client_id,onValueChange:ee=>ae(G=>({...G,client_id:ee})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le propriétaire"})}),r.jsx(De,{children:n.map(ee=>r.jsxs(U,{value:ee.id,children:[ee.first_name," ",ee.last_name]},ee.id))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"breed",children:"Race"}),r.jsx(ie,{id:"breed",value:D.breed||"",onChange:ee=>ae(G=>({...G,breed:ee.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"sex",children:"Sexe"}),r.jsxs(Me,{value:D.sex,onValueChange:ee=>ae(G=>({...G,sex:ee})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le sexe"})}),r.jsxs(De,{children:[r.jsx(U,{value:"Mâle",children:"Mâle"}),r.jsx(U,{value:"Femelle",children:"Femelle"}),r.jsx(U,{value:"Inconnu",children:"Inconnu"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"birth_date",children:"Date de naissance"}),r.jsx(ie,{id:"birth_date",type:"date",value:D.birth_date||"",onChange:ee=>ae(G=>({...G,birth_date:ee.target.value||void 0}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ie,{id:"weight",type:"number",step:"0.1",value:D.weight||"",onChange:ee=>ae(G=>({...G,weight:ee.target.value?parseFloat(ee.target.value):void 0}))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"color",children:"Couleur"}),r.jsx(ie,{id:"color",value:D.color||"",onChange:ee=>ae(G=>({...G,color:ee.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"microchip_number",children:"N° puce électronique"}),r.jsx(ie,{id:"microchip_number",value:D.microchip_number||"",onChange:ee=>ae(G=>({...G,microchip_number:ee.target.value}))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes médicales"}),r.jsx(Nt,{id:"notes",value:D.notes||"",onChange:ee=>ae(G=>({...G,notes:ee.target.value})),placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>J(!1),children:"Annuler"}),r.jsxs(V,{onClick:se,disabled:a.isPending,children:[a.isPending&&r.jsx(Aa,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarder"]})]})]})]})}),r.jsx(UFe,{open:H,onOpenChange:oe,pet:$})]})},GFe=()=>r.jsx(HFe,{}),KFe={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},YFe=(e,t,n)=>{let s;const i=KFe[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+s:"il y a "+s:s},QFe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},XFe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},JFe={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZFe={date:kh({formats:QFe,defaultWidth:"full"}),time:kh({formats:XFe,defaultWidth:"full"}),dateTime:kh({formats:JFe,defaultWidth:"full"})},e5e={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},t5e=(e,t,n,s)=>e5e[e],n5e={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},r5e={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},s5e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},i5e={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},a5e={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},o5e=(e,t)=>{const n=Number(e),s=t==null?void 0:t.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let a;return n===1?a=s&&i.includes(s)?"ère":"er":a="ème",n+a},l5e=["MMM","MMMM"],c5e={preprocessor:(e,t)=>e.getDate()===1||!t.some(s=>s.isToken&&l5e.includes(s.value))?t:t.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:o5e,era:no({values:n5e,defaultWidth:"wide"}),quarter:no({values:r5e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:no({values:s5e,defaultWidth:"wide"}),day:no({values:i5e,defaultWidth:"wide"}),dayPeriod:no({values:a5e,defaultWidth:"wide"})},u5e=/^(\d+)(ième|ère|ème|er|e)?/i,d5e=/\d+/i,h5e={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},f5e={any:[/^av/i,/^ap/i]},m5e={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},p5e={any:[/1/i,/2/i,/3/i,/4/i]},g5e={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},v5e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},x5e={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},y5e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},j5e={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},b5e={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},w5e={ordinalNumber:HV({matchPattern:u5e,parsePattern:d5e,valueCallback:e=>parseInt(e)}),era:ro({matchPatterns:h5e,defaultMatchWidth:"wide",parsePatterns:f5e,defaultParseWidth:"any"}),quarter:ro({matchPatterns:m5e,defaultMatchWidth:"wide",parsePatterns:p5e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ro({matchPatterns:g5e,defaultMatchWidth:"wide",parsePatterns:v5e,defaultParseWidth:"any"}),day:ro({matchPatterns:x5e,defaultMatchWidth:"wide",parsePatterns:y5e,defaultParseWidth:"any"}),dayPeriod:ro({matchPatterns:j5e,defaultMatchWidth:"any",parsePatterns:b5e,defaultParseWidth:"any"})},Gi={code:"fr",formatDistance:YFe,formatLong:ZFe,formatRelative:t5e,localize:c5e,match:w5e,options:{weekStartsOn:1,firstWeekContainsDate:4}},W3=(e,t)=>{switch(e){case"appointment":switch(t){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}case"vaccination":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}case"antiparasitic":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}default:return"bg-gray-100 text-gray-800 border-gray-200"}},H3=(e,t)=>{switch(e){case"appointment":return r.jsx($n,{className:"h-3 w-3"});case"vaccination":return r.jsx(er,{className:"h-3 w-3"});case"antiparasitic":return r.jsx(qn,{className:"h-3 w-3"});default:return r.jsx(Pt,{className:"h-3 w-3"})}},Vk=({events:e,onEventClick:t,onDateClick:n,onTimeSlotClick:s,showTimeSlots:i=!1,title:a="Calendrier",icon:o=r.jsx(Pt,{className:"h-5 w-5"})})=>{var A;const{settings:l}=Jt(),[c,u]=w.useState(new Date),[d,f]=w.useState(""),m=new Date(c.getFullYear(),c.getMonth(),1),g=new Date(c.getFullYear(),c.getMonth()+1,0),x=new Date(m);x.setDate(x.getDate()-m.getDay());const v=[],y=new Date(x);for(;y<=g||v.length<42;)v.push(new Date(y)),y.setDate(y.getDate()+1);const N=w.useMemo(()=>{const P={};return e.forEach(E=>{const M=E.date;P[M]||(P[M]=[]),P[M].push(E)}),P},[e]),j=w.useMemo(()=>!d||!i?[]:jE(d,l.scheduleSettings,[]),[d,i,l.scheduleSettings]),b=P=>{const E=new Date(c);E.setMonth(c.getMonth()+(P==="next"?1:-1)),u(E)},_=P=>{const E=It(P,"yyyy-MM-dd");f(E),n==null||n(E)},C=P=>{s&&d&&s(d,P)};return r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-3 sm:pb-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[r.jsxs(Ee,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o,a]}),r.jsxs("div",{className:"flex items-center justify-between sm:gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>b("prev"),className:"flex-1 sm:flex-none",children:"←"}),r.jsx("span",{className:"font-medium text-sm sm:text-base px-2 sm:min-w-[140px] text-center",children:It(c,"MMMM yyyy",{locale:Gi})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>b("next"),className:"flex-1 sm:flex-none",children:"→"})]})]})}),r.jsxs(he,{className:"p-2 sm:p-6",children:[r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2 sm:mb-4",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(P=>r.jsx("div",{className:"p-1 sm:p-2 text-center text-xs sm:text-sm font-medium text-gray-500",children:P},P))}),r.jsx("div",{className:"grid grid-cols-7 gap-1",children:v.map((P,E)=>{const M=It(P,"yyyy-MM-dd"),$=N[M]||[],T=P.getMonth()===c.getMonth(),O=Rfe(P,new Date),L=M===d,z=wfe(M,l.scheduleSettings);return r.jsxs("div",{className:`
                    min-h-[60px] sm:min-h-[80px] p-1 border rounded-lg relative cursor-pointer hover:bg-muted/50
                    ${T?"bg-white":"bg-gray-50"}
                    ${O?"ring-2 ring-blue-500":""}
                    ${L?"bg-blue-100 border-blue-300":""}
                    ${z?"":"opacity-50"}
                  `,onClick:()=>_(P),children:[r.jsx("div",{className:`text-xs sm:text-sm font-medium ${T?"text-gray-900":"text-gray-400"}`,children:P.getDate()}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1 mt-0.5 sm:mt-1",children:[$.slice(0,2).map((J,H)=>r.jsx("div",{className:`
                          text-xs p-0.5 sm:p-1 rounded text-center truncate border cursor-pointer
                          ${W3(J.type,J.status)}
                        `,title:`${J.title}${J.time?` - ${J.time}`:""}${J.clientName?` (${J.clientName})`:""}`,onClick:oe=>{oe.stopPropagation(),t==null||t(J)},children:r.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 justify-center",children:[H3(J.type,J.status),r.jsx("span",{className:"truncate text-xs",children:J.title})]})},H)),$.length>2&&r.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",$.length-2]})]})]},E)})})]})]}),d&&r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-3",children:r.jsx(Ee,{className:"text-base sm:text-lg",children:It(new Date(d),"EEEE d MMMM yyyy",{locale:Gi})})}),r.jsxs(he,{className:"p-3 sm:p-6",children:[((A=N[d])==null?void 0:A.length)>0?r.jsx("div",{className:"space-y-3",children:N[d].map(P=>r.jsxs("div",{className:`
                      p-3 rounded-lg border cursor-pointer hover:shadow-sm
                      ${W3(P.type,P.status)}
                    `,onClick:()=>t==null?void 0:t(P),children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[H3(P.type,P.status),r.jsx("span",{className:"font-medium",children:P.title})]}),r.jsx($e,{variant:"outline",className:"text-xs",children:P.status})]}),P.time&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx($n,{className:"h-3 w-3"}),r.jsx("span",{children:P.time})]}),P.clientName&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(Hr,{className:"h-3 w-3"}),r.jsx("span",{children:P.clientName})]}),P.petName&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(qt,{className:"h-3 w-3"}),r.jsx("span",{children:P.petName})]})]},P.id))}):r.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun événement prévu pour cette date"}),i&&j.length>0&&r.jsxs("div",{className:"mt-4 sm:mt-6",children:[r.jsx("h4",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:"Créneaux disponibles"}),r.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-1 sm:gap-2",children:j.map(P=>r.jsxs(V,{variant:P.isAvailable?"outline":"ghost",size:"sm",disabled:!P.isAvailable,onClick:()=>C(P.time),className:"text-xs p-1 sm:p-2",children:[P.time,P.isLunchBreak&&r.jsx($e,{variant:"secondary",className:"ml-1 text-xs hidden sm:inline",children:"Pause"})]},P.time))})]})]})]})]})},G3={scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800","no-show":"bg-orange-100 text-orange-800"},KS={scheduled:"Planifié",confirmed:"Confirmé",completed:"Terminé",cancelled:"Annulé","no-show":"Absent"},K3={consultation:"Consultation générale",vaccination:"Vaccination",chirurgie:"Chirurgie",urgence:"Urgence",controle:"Contrôle post-opératoire",sterilisation:"Stérilisation",dentaire:"Soins dentaires"};function N5e(){const{appointments:e,deleteAppointment:t,updateAppointment:n,getUpcomingAppointments:s,getOverdueAppointments:i}=jt(),{toast:a}=Rt(),{currentView:o}=xd("appointments"),[l,c]=w.useState(!1),[u,d]=w.useState(""),[f,m]=w.useState("all"),[g,x]=w.useState("all"),[v,y]=w.useState("all"),[N,j]=w.useState(new Date().toISOString().split("T")[0]),[b,_]=w.useState("list"),[C,A]=w.useState(o),[P,E]=w.useState(null),[M,$]=w.useState(""),[T,O]=w.useState(()=>{const se=new Date;return new Date(se.getFullYear(),se.getMonth(),1)}),L=s(),z=i(),J=e.filter(se=>{const F=se.clientName.toLowerCase().includes(u.toLowerCase())||se.petName.toLowerCase().includes(u.toLowerCase())||se.reason&&se.reason.toLowerCase().includes(u.toLowerCase()),Y=f==="all"||se.status===f,ee=g==="all"||se.type===g;let G=!0;if(v==="today")G=se.date===new Date().toISOString().split("T")[0];else if(v==="week"){const I=new Date(se.date),ve=new Date,we=new Date(ve.getTime()+7*24*60*60*1e3);G=I>=ve&&I<=we}else if(v==="month"){const I=new Date(se.date),ve=new Date,we=ve.getMonth(),Fe=ve.getFullYear();G=I.getMonth()===we&&I.getFullYear()===Fe}else v==="specific"&&(G=se.date===N);return F&&Y&&ee&&G}),H=(se,F)=>{n(se,{status:F}),a({title:"Statut mis à jour",description:`Le rendez-vous est maintenant ${KS[F].toLowerCase()}.`})},oe=()=>{if(!P)return;const{id:se,field:F}=P,Y=e.find(ee=>ee.id===se);if(Y){const ee={...Y,[F]:M};n(se,ee),a({title:"Modifié",description:`${F} mis à jour`})}E(null)},Q=se=>{confirm(`Êtes-vous sûr de vouloir supprimer le rendez-vous pour ${se.petName} ?`)&&(t(se.id),a({title:"Rendez-vous supprimé",description:`Le rendez-vous pour ${se.petName} a été supprimé.`}))},D=se=>e.filter(F=>F.date===se),pe=(()=>{const se=new Date().toISOString().split("T")[0];return D(se)})(),te=T.getFullYear(),Z=T.getMonth(),ne=new Date(te,Z,1).getDay(),xe=new Date(te,Z+1,0).getDate();let ye=1-ne;for(;ye<=xe;){const se=[];for(let F=0;F<7;F++)ye>0&&ye<=xe?se.push(ye):se.push(0),ye++}return r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Gestion des Rendez-vous"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Planifiez et gérez tous vos rendez-vous vétérinaires"})]}),r.jsxs(V,{onClick:()=>c(!0),className:"gap-2 w-full sm:w-auto",children:[r.jsx(ht,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Nouveau Rendez-vous"}),r.jsx("span",{className:"sm:hidden",children:"Nouveau RDV"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:b==="list"?"default":"outline",onClick:()=>_("list"),size:"sm",className:"flex-1 sm:flex-none",children:"Liste"}),r.jsx(V,{variant:b==="calendar"?"default":"outline",onClick:()=>_("calendar"),size:"sm",className:"flex-1 sm:flex-none",children:"Calendrier"})]}),b==="list"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:C==="cards"?"default":"outline",onClick:()=>A("cards"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[r.jsx(il,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Cartes"})]}),r.jsxs(V,{size:"sm",variant:C==="table"?"default":"outline",onClick:()=>A("table"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[r.jsx(al,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Tableau"})]})]})]}),b==="calendar"?r.jsx(Vk,{events:e.map(se=>({id:se.id,type:"appointment",title:`${se.clientName} - ${se.petName}`,time:se.time,date:se.date,status:se.status,clientName:se.clientName,petName:se.petName})),onEventClick:se=>{},onDateClick:se=>{j(se)},onTimeSlotClick:(se,F)=>{c(!0)},showTimeSlots:!0,title:"Calendrier des Rendez-vous",icon:r.jsx(Pt,{className:"h-5 w-5"})}):r.jsxs("div",{className:"grid gap-2 sm:gap-4 grid-cols-2 lg:grid-cols-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Aujourd'hui"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:pe.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"À venir"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:L.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"En retard"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:z.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:e.length})]})]})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ee,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(_A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Filtres et Recherche"]})}),r.jsx(he,{className:"space-y-3 sm:space-y-4",children:r.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(op,{children:"Recherche"}),r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ie,{placeholder:"Client, animal, motif...",value:u,onChange:se=>d(se.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(op,{children:"Statut"}),r.jsxs(Me,{value:f,onValueChange:m,children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Tous les statuts"}),r.jsx(U,{value:"scheduled",children:"Planifié"}),r.jsx(U,{value:"confirmed",children:"Confirmé"}),r.jsx(U,{value:"completed",children:"Terminé"}),r.jsx(U,{value:"cancelled",children:"Annulé"}),r.jsx(U,{value:"no-show",children:"Absent"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(op,{children:"Type"}),r.jsxs(Me,{value:g,onValueChange:x,children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Tous les types"}),r.jsx(U,{value:"consultation",children:"Consultation"}),r.jsx(U,{value:"vaccination",children:"Vaccination"}),r.jsx(U,{value:"chirurgie",children:"Chirurgie"}),r.jsx(U,{value:"urgence",children:"Urgence"}),r.jsx(U,{value:"controle",children:"Contrôle"}),r.jsx(U,{value:"sterilisation",children:"Stérilisation"}),r.jsx(U,{value:"dentaire",children:"Dentaire"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(op,{children:"Période"}),r.jsxs(Me,{value:v,onValueChange:y,children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Toutes les dates"}),r.jsx(U,{value:"today",children:"Ce jour"}),r.jsx(U,{value:"week",children:"Cette semaine"}),r.jsx(U,{value:"month",children:"Ce mois"}),r.jsx(U,{value:"specific",children:"Date spécifique"})]})]})]}),v==="specific"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(op,{children:"Date"}),r.jsx(ie,{type:"date",value:N,onChange:se=>j(se.target.value)})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h2",{className:"text-xl font-semibold",children:["Rendez-vous (",J.length,")"]})}),J.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(Pt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun rendez-vous trouvé"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier rendez-vous"})]})}):C==="cards"?r.jsx("div",{className:"space-y-4",children:J.sort((se,F)=>new Date(se.date+"T"+se.time).getTime()-new Date(F.date+"T"+F.time).getTime()).map(se=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-4 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:se.clientName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:se.petName})]}),r.jsx($e,{className:G3[se.status],children:KS[se.status]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:new Date(se.date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:se.time})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{className:"ml-1",children:K3[se.type]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Durée:"}),r.jsxs("span",{className:"ml-1",children:[se.duration," min"]})]})]}),se.reason&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Motif:"}),r.jsx("p",{className:"text-sm mt-1",children:se.reason})]}),se.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Notes:"}),r.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:se.notes})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[se.status==="scheduled"&&r.jsxs(r.Fragment,{children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>H(se.id,"confirmed"),className:"gap-1",children:[r.jsx(er,{className:"h-3 w-3"}),"Confirmer"]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>H(se.id,"cancelled"),className:"gap-1 text-red-600",children:[r.jsx(ng,{className:"h-3 w-3"}),"Annuler"]})]}),se.status==="confirmed"&&r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>H(se.id,"completed"),className:"gap-1",children:[r.jsx(er,{className:"h-3 w-3"}),"Terminer"]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>Q(se),className:"gap-1 text-red-600",children:[r.jsx(Vn,{className:"h-3 w-3"}),"Supprimer"]})]})]})})},se.id))}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Client / Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Date & Heure"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Motif"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:J.sort((se,F)=>new Date(se.date+"T"+se.time).getTime()-new Date(F.date+"T"+F.time).getTime()).map(se=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:se.clientName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:se.petName})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{E({id:se.id,field:"date"}),$(se.date)},children:[r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),(P==null?void 0:P.id)===se.id&&P.field==="date"?r.jsx(ie,{type:"date",value:M,onChange:F=>$(F.target.value),onBlur:oe,autoFocus:!0,className:"w-32"}):r.jsx("span",{children:new Date(se.date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{E({id:se.id,field:"time"}),$(se.time)},children:[r.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),(P==null?void 0:P.id)===se.id&&P.field==="time"?r.jsx(ie,{type:"time",value:M,onChange:F=>$(F.target.value),onBlur:oe,autoFocus:!0,className:"w-24"}):r.jsx("span",{className:"text-sm text-muted-foreground",children:se.time})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:K3[se.type]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[se.duration," min"]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"cursor-pointer",onClick:()=>{E({id:se.id,field:"status"}),$(se.status)},children:(P==null?void 0:P.id)===se.id&&P.field==="status"?r.jsxs(Me,{value:M,onValueChange:F=>{$(F),n(se.id,{status:F}),E(null)},children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"scheduled",children:"Planifié"}),r.jsx(U,{value:"confirmed",children:"Confirmé"}),r.jsx(U,{value:"completed",children:"Terminé"}),r.jsx(U,{value:"cancelled",children:"Annulé"}),r.jsx(U,{value:"no-show",children:"Absent"})]})]}):r.jsx($e,{className:G3[se.status],children:KS[se.status]})})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"max-w-xs cursor-pointer",onClick:()=>{E({id:se.id,field:"reason"}),$(se.reason||"")},children:(P==null?void 0:P.id)===se.id&&P.field==="reason"?r.jsx(ie,{value:M,onChange:F=>$(F.target.value),onBlur:oe,autoFocus:!0,placeholder:"Motif du rendez-vous"}):r.jsxs(r.Fragment,{children:[se.reason&&r.jsx("div",{className:"text-sm",children:se.reason}),se.notes&&r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:se.notes})]})})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[se.status==="scheduled"&&r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>H(se.id,"confirmed"),children:r.jsx(er,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>H(se.id,"cancelled"),className:"text-red-600",children:r.jsx(ng,{className:"h-3 w-3"})})]}),se.status==="confirmed"&&r.jsx(V,{size:"sm",variant:"outline",onClick:()=>H(se.id,"completed"),children:r.jsx(er,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Q(se),className:"text-red-600",children:r.jsx(Vn,{className:"h-3 w-3"})})]})})]},se.id))})]})})})})]}),r.jsx(bE,{open:l,onOpenChange:c})]})}const op=({children:e,...t})=>r.jsx("label",{className:"text-sm font-medium",...t,children:e}),mm=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Ze("w-full caption-bottom text-sm",e),...t})}));mm.displayName="Table";const pm=w.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Ze("[&_tr]:border-b",e),...t}));pm.displayName="TableHeader";const gm=w.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Ze("[&_tr:last-child]:border-0",e),...t}));gm.displayName="TableBody";const S5e=w.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Ze("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));S5e.displayName="TableFooter";const Fa=w.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Ze("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Fa.displayName="TableRow";const Ot=w.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Ze("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ot.displayName="TableHead";const Dt=w.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Ze("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Dt.displayName="TableCell";const C5e=w.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Ze("mt-4 text-sm text-muted-foreground",e),...t}));C5e.displayName="TableCaption";const _5e=()=>{const{data:e=[],isLoading:t}=gV();vV();const n=afe(),{settings:s}=Jt(),{toast:i}=Rt(),{currentView:a}=xd("consultations"),[o,l]=w.useState(""),[c,u]=w.useState("all"),[d,f]=w.useState(a),[m,g]=w.useState(!1),[x,v]=w.useState(!1),[y,N]=w.useState(null),[j,b]=w.useState(!1),[_,C]=w.useState(null),[A,P]=w.useState(null),E=e.filter(L=>{var ae,pe,te;const z=`${((ae=L.client)==null?void 0:ae.first_name)||""} ${((pe=L.client)==null?void 0:pe.last_name)||""}`.trim(),J=((te=L.animal)==null?void 0:te.name)||"",H=z.toLowerCase().includes(o.toLowerCase())||J.toLowerCase().includes(o.toLowerCase())||L.symptoms&&L.symptoms.toLowerCase().includes(o.toLowerCase())||L.diagnosis&&L.diagnosis.toLowerCase().includes(o.toLowerCase());if(c==="all")return H;const oe=new Date(L.consultation_date),D=(new Date().getTime()-oe.getTime())/(1e3*3600*24);switch(c){case"week":return H&&D<=7;case"month":return H&&D<=30;case"quarter":return H&&D<=90;default:return H}}),M=L=>{N(L),v(!0)},$=L=>{C(parseInt(L.animal_id)),P(parseInt(L.id)),b(!0)},T=L=>{var z,J;confirm(`Êtes-vous sûr de vouloir supprimer la consultation pour ${((z=L.animal)==null?void 0:z.name)||"cet animal"} ?`)&&(n.mutate(L.id),i({title:"Consultation supprimée",description:`La consultation pour ${((J=L.animal)==null?void 0:J.name)||"cet animal"} a été supprimée.`}))},O=L=>{N({...L,id:"",consultation_date:new Date().toISOString(),symptoms:"",diagnosis:"",treatment:"",notes:"",follow_up_date:null,follow_up_notes:"",status:"scheduled"}),g(!0)};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Consultations"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez et consultez tous les dossiers médicaux"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex border rounded-lg p-1",children:[r.jsx(V,{variant:d==="cards"?"default":"ghost",size:"sm",onClick:()=>f("cards"),className:"px-3",children:r.jsx(il,{className:"h-4 w-4"})}),r.jsx(V,{variant:d==="table"?"default":"ghost",size:"sm",onClick:()=>f("table"),className:"px-3",children:r.jsx(al,{className:"h-4 w-4"})})]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>g(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx(ie,{placeholder:"Rechercher par client, animal, symptômes ou diagnostic...",value:o,onChange:L=>l(L.target.value),className:"max-w-md"}),r.jsxs(Me,{value:c,onValueChange:u,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Période"})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Toutes les périodes"}),r.jsx(U,{value:"week",children:"Cette semaine"}),r.jsx(U,{value:"month",children:"Ce mois"}),r.jsx(U,{value:"quarter",children:"Ce trimestre"})]})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Consultations récentes (",E.length,")"]}),E.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(ur,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation trouvée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre première consultation"})]})}):d==="cards"?E.map(L=>{var z,J,H;return r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-lg font-semibold",children:((z=L.animal)==null?void 0:z.name)||"Animal inconnu"}),r.jsx($e,{variant:"secondary",children:"Consultation"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(L.consultation_date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Hr,{className:"h-4 w-4"}),(J=L.client)==null?void 0:J.first_name," ",(H=L.client)==null?void 0:H.last_name]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ur,{className:"h-3 w-3"}),"Consultation #",L.id]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[L.temperature&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(rg,{className:"h-4 w-4 text-primary"}),L.temperature,"°C"]}),L.weight&&r.jsxs("span",{children:[L.weight," kg"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[L.symptoms&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Symptômes:"}),r.jsx("p",{className:"text-sm",children:L.symptoms})]}),L.diagnosis&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-sm",children:L.diagnosis})]})]}),r.jsxs("div",{className:"space-y-2",children:[L.treatment&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Traitement:"}),r.jsx("p",{className:"text-sm",children:L.treatment})]}),L.medications&&r.jsxs(r.Fragment,{children:[r.jsxs("h5",{className:"font-medium flex items-center gap-1",children:[r.jsx(_h,{className:"h-4 w-4"}),"Médicaments:"]}),r.jsx("p",{className:"text-sm",children:L.medications})]})]})]}),L.notes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm bg-muted p-3 rounded",children:L.notes})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.jsx(Pt,{className:"h-3 w-3 inline mr-1"}),L.followUp?`Suivi: ${L.followUp}`:"Aucun suivi prévu"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Uj,{consultation:L}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>M(L),className:"gap-1",children:[r.jsx(en,{className:"h-3 w-3"}),"Modifier"]}),r.jsxs(V,{size:"sm",variant:"default",onClick:()=>$(L),className:"gap-1",children:[r.jsx(_h,{className:"h-3 w-3"}),"Prescription"]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>T(L),className:"gap-1 text-red-600 hover:text-red-700",children:[r.jsx(Vn,{className:"h-3 w-3"}),"Supprimer"]}),r.jsx(V,{size:"sm",onClick:()=>O(L),children:"Nouveau suivi"})]})]})]})})},L.id)}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsxs(mm,{children:[r.jsx(pm,{children:r.jsxs(Fa,{children:[r.jsx(Ot,{children:"Animal / Client"}),r.jsx(Ot,{children:"Date"}),r.jsx(Ot,{children:"Symptômes"}),r.jsx(Ot,{children:"Diagnostic"}),r.jsx(Ot,{children:"Température"}),r.jsx(Ot,{children:"Coût"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(gm,{children:E.map(L=>{var z,J,H;return r.jsxs(Fa,{children:[r.jsx(Dt,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:(z=L.animal)==null?void 0:z.name}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[(J=L.client)==null?void 0:J.first_name," ",(H=L.client)==null?void 0:H.last_name]})]})}),r.jsx(Dt,{children:new Date(L.consultation_date).toLocaleDateString("fr-FR")}),r.jsx(Dt,{children:r.jsx("div",{className:"max-w-xs truncate",children:L.symptoms||"-"})}),r.jsx(Dt,{children:r.jsx("div",{className:"max-w-xs truncate",children:L.diagnosis||"-"})}),r.jsx(Dt,{children:L.temperature?`${L.temperature}°C`:"-"}),r.jsx(Dt,{children:L.cost?`${L.cost} ${s.currency}`:"-"}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Uj,{consultation:L}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>M(L),children:r.jsx(en,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"default",onClick:()=>$(L),children:r.jsx(_h,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>T(L),className:"text-red-600 hover:text-red-700",children:r.jsx(Vn,{className:"h-3 w-3"})})]})})]},L.id)})})]})})})]}),r.jsx(Zf,{open:m,onOpenChange:g}),r.jsx(b9,{open:x,onOpenChange:v,consultation:y}),_&&A&&r.jsx(Bk,{open:j,onOpenChange:b,petId:_.toString(),consultationId:A.toString()})]})},P5e=({consultation:e,open:t,onOpenChange:n,onEdit:s})=>{if(!e)return null;const{getClientById:i,getPetById:a}=jt(),o=i(e.clientId),l=a(e.petId);return r.jsx(St,{open:t,onOpenChange:n,children:r.jsxs(wt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{children:["Consultation #",e.id," - ",uo(e.date)]}),r.jsx(jn,{children:"Détails de la consultation générale"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(Pt,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:e.purpose||"Consultation générale"})]}),r.jsxs("div",{className:"flex gap-8 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(qt,{className:"h-4 w-4"}),l==null?void 0:l.name," (",l==null?void 0:l.type,")"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Hr,{className:"h-4 w-4"}),o==null?void 0:o.name]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(br,{className:"h-4 w-4"}),e.veterinarian]})]}),e.symptoms&&r.jsx(de,{children:r.jsx(he,{children:r.jsxs("p",{children:[r.jsx("strong",{children:"Symptômes:"})," ",e.symptoms]})})}),r.jsxs(pl,{defaultValue:"overview",className:"space-y-4",children:[r.jsxs(jo,{className:"grid grid-cols-2",children:[r.jsx(ln,{value:"overview",children:"Détails"}),r.jsx(ln,{value:"prescriptions",children:"Prescriptions"})]}),r.jsx(cn,{value:"overview",children:r.jsx(de,{children:r.jsxs(he,{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Motif:"})," ",e.purpose||"Non spécifié"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",e.notes||"Aucune"]}),e.photos&&e.photos.length>0&&r.jsxs("div",{className:"pt-4",children:[r.jsx("h5",{className:"font-medium mb-2",children:"Photos de la consultation"}),r.jsx("div",{className:"flex gap-2 overflow-x-auto",children:e.photos.map((c,u)=>r.jsx("div",{className:"relative",children:r.jsx("img",{src:c,alt:`consult-photo-${u}`,className:"h-32 w-32 object-cover rounded cursor-pointer hover:opacity-80"})},u))})]})]})})}),r.jsx(cn,{value:"prescriptions",children:r.jsx(a9,{petId:e.petId,consultationId:e.id})})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsxs(V,{variant:"outline",onClick:s,children:[r.jsx(en,{className:"h-4 w-4"})," Modifier"]}),r.jsx(Uj,{consultation:e})]})]})})};function A5e({prescription:e}){const{settings:t}=Jt(),{logo:n,clinicName:s,address:i,phone:a,email:o,website:l,currency:c}=t,d=e.medications.map(m=>m.cost*(m.quantity||1)).reduce((m,g)=>m+g,0),f=()=>{window.print()};return r.jsxs("div",{className:"p-8 max-w-screen-lg mx-auto bg-white text-gray-800",children:[r.jsxs("header",{className:"flex items-center justify-between mb-8",children:[n&&r.jsx("img",{src:n,alt:"Logo clinique",className:"h-16 w-16 object-contain"}),r.jsxs("div",{className:"text-center flex-1",children:[r.jsx("h1",{className:"text-2xl font-bold",children:s}),r.jsx("p",{className:"text-sm",children:i}),r.jsxs("p",{className:"text-sm",children:[a," | ",o]}),l&&r.jsx("p",{className:"text-sm",children:l})]}),r.jsx("div",{children:r.jsx(V,{variant:"outline",onClick:f,className:"uppercase text-sm",children:"Imprimer"})})]}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Ordonnance"}),r.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-4",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Date :"})," ",e.date]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Patient :"})," ",e.petName," (",e.clientName,")"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Prescrit par :"})," ",e.prescribedBy]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Diagnostic :"})," ",e.diagnosis]})]})]}),r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b py-2 text-left",children:"Médicament"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Dosage"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Fréquence"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Durée"})]})}),r.jsx("tbody",{children:e.medications.map(m=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:m.name}),r.jsx("td",{className:"py-2",children:m.dosage}),r.jsx("td",{className:"py-2",children:m.frequency}),r.jsx("td",{className:"py-2",children:m.duration})]},m.id))})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Facture"}),r.jsxs("table",{className:"w-full border-collapse mb-4",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b py-2 text-left",children:"Produit / Service"}),r.jsx("th",{className:"border-b py-2 text-right",children:"Quantité"}),r.jsxs("th",{className:"border-b py-2 text-right",children:["Prix Unitaire (",c,")"]}),r.jsxs("th",{className:"border-b py-2 text-right",children:["Total (",c,")"]})]})}),r.jsx("tbody",{children:e.medications.map(m=>{const g=m.quantity||1,x=(m.cost||0)*g;return r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:m.name}),r.jsx("td",{className:"py-2 text-right",children:g}),r.jsx("td",{className:"py-2 text-right",children:m.cost.toFixed(2)}),r.jsx("td",{className:"py-2 text-right",children:x.toFixed(2)})]},m.id)})}),r.jsx("tfoot",{children:r.jsxs("tr",{children:[r.jsx("td",{colSpan:3,className:"py-2 text-right font-semibold",children:"Montant total :"}),r.jsx("td",{className:"py-2 text-right font-semibold",children:d.toFixed(2)})]})})]})]})]})}const E5e=()=>{var oe,Q;const{consultations:e,prescriptions:t,getClientById:n,getPetById:s}=jt(),[i,a]=w.useState(""),[o,l]=w.useState("all"),[c,u]=w.useState("all"),[d,f]=w.useState("all"),[m,g]=w.useState(""),[x,v]=w.useState("cards"),[y,N]=w.useState(!1),[j,b]=w.useState(null),[_,C]=w.useState(!1),[A,P]=w.useState(null),[E,M]=w.useState(!1),[$,T]=w.useState(null),O=[...e.map(D=>{var ae;return{id:D.id,date:D.date,petName:D.petName,petType:((ae=s(D.petId))==null?void 0:ae.type)||"",client:D.clientName,type:"consultation",title:D.diagnosis||"Consultation",veterinarian:D.notes||"Non spécifié",details:D.symptoms||"",prescriptions:[],cost:D.cost,status:"completed"}})].sort((D,ae)=>new Date(ae.date).getTime()-new Date(D.date).getTime()),L=t.map(D=>{var ae,pe;return{id:D.id,date:D.date,petName:D.petName,client:D.clientName,medication:D.medications.map(te=>te.name).join(", "),dosage:((ae=D.medications[0])==null?void 0:ae.dosage)||"",frequency:((pe=D.medications[0])==null?void 0:pe.frequency)||"",duration:D.duration,veterinarian:D.prescribedBy,status:D.status}}),z=O.filter(D=>{const ae=D.petName.toLowerCase().includes(i.toLowerCase())||D.client.toLowerCase().includes(i.toLowerCase())||D.title.toLowerCase().includes(i.toLowerCase()),pe=o==="all"||D.petName.toLowerCase().includes(o.toLowerCase()),te=c==="all"||D.type===c;let Z=!0;if(d==="today"){const ne=new Date().toISOString().split("T")[0];Z=D.date===ne}else if(d==="week"){const ne=new Date(D.date),xe=new Date,ye=xe.getDay(),se=xe.getDate()-ye+(ye===0?-6:1),F=new Date(xe.setDate(se)),Y=new Date(F);Y.setDate(F.getDate()+6),Z=ne>=F&&ne<=Y}else d==="specific"&&(Z=m&&D.date===m);return ae&&pe&&te&&Z}),J=L.filter(D=>{const ae=D.petName.toLowerCase().includes(i.toLowerCase())||D.client.toLowerCase().includes(i.toLowerCase())||D.medication.toLowerCase().includes(i.toLowerCase()),pe=o==="all"||D.petName.toLowerCase().includes(o.toLowerCase()),te=c==="all"||!0;let Z=!0;if(d==="today"){const ne=new Date().toISOString().split("T")[0];Z=D.date===ne}else if(d==="week"){const ne=new Date(D.date),xe=new Date,ye=xe.getDay(),se=xe.getDate()-ye+(ye===0?-6:1),F=new Date(xe.setDate(se)),Y=new Date(F);Y.setDate(F.getDate()+6),Z=ne>=F&&ne<=Y}else d==="specific"&&(Z=m&&D.date===m);return ae&&pe&&te&&Z}),H={active:"bg-blue-100 text-blue-800 hover:bg-blue-200",completed:"bg-green-100 text-green-800 hover:bg-green-200",discontinued:"bg-red-100 text-red-800 hover:bg-red-200"};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Historique Médical"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Consultez l'historique complet des soins et traitements"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(al,{className:"h-4 w-4"}),"Tableau"]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ie,{placeholder:"Rechercher par nom, animal, diagnostic...",value:i,onChange:D=>a(D.target.value)}),r.jsxs(Me,{value:o,onValueChange:l,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Filtrer par animal"})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Tous les animaux"}),Array.from(new Set(O.map(D=>D.petName))).map(D=>r.jsx(U,{value:D,children:D},D))]})]}),r.jsxs(Me,{value:c,onValueChange:u,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Filtrer par type"})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Tous types"}),r.jsx(U,{value:"consultation",children:"Consultations"}),r.jsx(U,{value:"treatment",children:"Traitements"}),r.jsx(U,{value:"surgery",children:"Chirurgies"})]})]}),r.jsxs(Me,{value:d,onValueChange:f,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Période"})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Toute période"}),r.jsx(U,{value:"today",children:"Aujourd'hui"}),r.jsx(U,{value:"week",children:"Cette semaine"}),r.jsx(U,{value:"specific",children:"Date spécifique"})]})]})]}),d==="specific"&&r.jsx(ie,{type:"date",value:m,onChange:D=>g(D.target.value),className:"max-w-xs"})]})]}),r.jsxs(pl,{defaultValue:"medical",className:"space-y-4",children:[r.jsxs(jo,{className:"grid w-full grid-cols-2",children:[r.jsxs(ln,{value:"medical",className:"gap-2",children:[r.jsx(Pt,{className:"h-4 w-4"}),"Historique Médical"]}),r.jsxs(ln,{value:"prescriptions",className:"gap-2",children:[r.jsx(qt,{className:"h-4 w-4"}),"Prescriptions"]})]}),r.jsxs(cn,{value:"medical",className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des consultations (",z.length," entrées)"]})}),x==="cards"?r.jsx("div",{className:"grid gap-6",children:z.map(D=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:new Date(D.date).toLocaleDateString("fr-FR")})]}),r.jsx($e,{variant:"outline",className:"text-xs",children:D.type})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold",children:D.title}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(qt,{className:"h-3 w-3"}),D.petName]}),r.jsxs("span",{children:["Client: ",D.client]}),r.jsxs("span",{children:["Vétérinaire: ",D.veterinarian]})]})]}),D.details&&r.jsx("p",{className:"text-sm text-muted-foreground",children:D.details}),D.cost&&r.jsx("div",{className:"text-sm",children:r.jsxs("span",{className:"font-medium",children:["Coût: ",D.cost," MAD"]})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{b(D),N(!0)},children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(en,{className:"h-4 w-4"})})]})]})})},D.id))}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Date"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Titre"}),r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Vétérinaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:z.map(D=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:new Date(D.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"p-4",children:r.jsx($e,{variant:"outline",className:"text-xs",children:D.type})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-medium",children:D.title}),D.details&&r.jsx("div",{className:"text-sm text-muted-foreground",children:D.details})]}),r.jsx("td",{className:"p-4",children:D.petName}),r.jsx("td",{className:"p-4",children:D.client}),r.jsx("td",{className:"p-4",children:D.veterinarian}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{b(D),N(!0)},children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(en,{className:"h-4 w-4"})})]})})]},D.id))})]})})})})]}),r.jsxs(cn,{value:"prescriptions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des prescriptions (",J.length," entrées)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(al,{className:"h-4 w-4"}),"Tableau"]})]})]}),x==="cards"?J.map(D=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:new Date(D.date).toLocaleDateString("fr-FR")})]}),r.jsx($e,{variant:"outline",className:H[D.status],children:D.status==="active"?"Actif":D.status==="completed"?"Terminé":"Arrêté"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold",children:D.medication}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(qt,{className:"h-3 w-3"}),D.petName]}),r.jsxs("span",{children:["Client: ",D.client]}),r.jsxs("span",{children:["Prescrit par: ",D.veterinarian]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dosage:"})," ",D.dosage]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Fréquence:"})," ",D.frequency]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Durée:"})," ",D.duration]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{P(D),C(!0)},children:"Renouveler"}),r.jsx(jP,{prescription:t.find(ae=>ae.id===D.id)}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{const ae=t.find(pe=>pe.id===D.id);T(ae),M(!0)},children:"Facture"})]})]})})},D.id)):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Date"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Médicament"}),r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Dosage"}),r.jsx("th",{className:"p-4 font-medium",children:"Durée"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:J.map(D=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:new Date(D.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"p-4",children:r.jsx($e,{variant:"outline",className:H[D.status],children:D.status==="active"?"Actif":D.status==="completed"?"Terminé":"Arrêté"})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-medium",children:D.medication}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Prescrit par: ",D.veterinarian]})]}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4 text-primary"}),D.petName]})}),r.jsx("td",{className:"p-4",children:D.client}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{children:D.dosage}),r.jsx("div",{className:"text-muted-foreground",children:D.frequency})]})}),r.jsx("td",{className:"p-4",children:D.duration}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{P(D),C(!0)},children:"Renouveler"}),r.jsx(jP,{prescription:t.find(ae=>ae.id===D.id)}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{const ae=t.find(pe=>pe.id===D.id);T(ae),M(!0)},children:"Facture"})]})})]},D.id))})]})})})})]})]}),r.jsx(P5e,{consultation:j,open:y,onOpenChange:N,onEdit:()=>{}}),(A==null?void 0:A.id)&&r.jsx(Bk,{open:_,onOpenChange:C,petId:((Q=(oe=t.find(D=>D.id===(A==null?void 0:A.id)))==null?void 0:oe.petId)==null?void 0:Q.toString())||"",consultationId:A.id.toString()}),r.jsx(St,{open:E,onOpenChange:M,children:r.jsx(wt,{children:$&&r.jsx(A5e,{prescription:$})})})]})},w9=({photos:e,onPhotosChange:t,farmName:n})=>{const{toast:s}=Rt(),i=w.useRef(null),[a,o]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState({description:"",category:"general"}),g=_=>{const C=_.target.files;if(!C||C.length===0)return;const A=Array.from(C).map(P=>{const E=new FileReader,M={id:`photo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,url:"",description:f.description||`Photo de ${n}`,category:f.category,uploadedAt:new Date().toISOString()};return E.onload=$=>{var O;M.url=(O=$.target)==null?void 0:O.result;const T=[...e,M];t(T)},E.readAsDataURL(P),M});m({description:"",category:"general"}),o(!1),s({title:"Photos ajoutées",description:`${A.length} photo(s) ajoutée(s) à l'exploitation ${n}`})},x=_=>{const C=e.filter(A=>A.id!==_);t(C),s({title:"Photo supprimée",description:"La photo a été supprimée avec succès"})},v=_=>{d(_),m({description:_.description,category:_.category}),c(!0)},y=()=>{if(!u)return;const _=e.map(C=>C.id===u.id?{...C,...f}:C);t(_),c(!1),d(null),m({description:"",category:"general"}),s({title:"Photo modifiée",description:"La photo a été modifiée avec succès"})},N=_=>({cheptel:"Cheptel",batiments:"Bâtiments",equipements:"Équipements",general:"Général"})[_],j=_=>({cheptel:"bg-blue-100 text-blue-800",batiments:"bg-green-100 text-green-800",equipements:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800"})[_],b=e.reduce((_,C)=>(_[C.category]||(_[C.category]=[]),_[C.category].push(C),_),{});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Photos de l'exploitation"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Gérez les photos de votre exploitation, du cheptel et des équipements"})]}),r.jsxs(St,{open:a,onOpenChange:o,children:[r.jsx($c,{asChild:!0,children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Ajouter des photos"]})}),r.jsxs(wt,{className:"max-w-md",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Ajouter des photos"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"photo-description",children:"Description"}),r.jsx(ie,{id:"photo-description",placeholder:"Description des photos",value:f.description,onChange:_=>m({...f,description:_.target.value})})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"photo-category",children:"Catégorie"}),r.jsxs(Me,{value:f.category,onValueChange:_=>m({...f,category:_}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"cheptel",children:"Cheptel"}),r.jsx(U,{value:"batiments",children:"Bâtiments"}),r.jsx(U,{value:"equipements",children:"Équipements"}),r.jsx(U,{value:"general",children:"Général"})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"photo-files",children:"Sélectionner des photos"}),r.jsx(ie,{id:"photo-files",type:"file",multiple:!0,accept:"image/*",ref:i,onChange:g,className:"cursor-pointer"})]})]})]})]})]}),e.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center",children:[r.jsx(ef,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoutée"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Commencez par ajouter des photos de votre exploitation"})]})}):r.jsx("div",{className:"space-y-6",children:Object.entries(b).map(([_,C])=>r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx($e,{className:j(_),children:N(_)}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",C.length," photo",C.length>1?"s":"",")"]})]})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(A=>r.jsxs("div",{className:"group relative",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[r.jsx("img",{src:A.url,alt:A.description,className:"w-full h-full object-cover"}),r.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[r.jsx(V,{size:"sm",variant:"secondary",onClick:()=>d(A),children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"secondary",onClick:()=>v(A),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>x(A.id),children:r.jsx(Vn,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:A.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(A.uploadedAt).toLocaleDateString()})]})]},A.id))})})]},_))}),r.jsx(St,{open:l,onOpenChange:c,children:r.jsxs(wt,{className:"max-w-md",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Modifier la photo"})}),r.jsxs("div",{className:"space-y-4",children:[u&&r.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border",children:r.jsx("img",{src:u.url,alt:u.description,className:"w-full h-full object-cover"})}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"edit-description",children:"Description"}),r.jsx(ie,{id:"edit-description",value:f.description,onChange:_=>m({...f,description:_.target.value})})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"edit-category",children:"Catégorie"}),r.jsxs(Me,{value:f.category,onValueChange:_=>m({...f,category:_}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"cheptel",children:"Cheptel"}),r.jsx(U,{value:"batiments",children:"Bâtiments"}),r.jsx(U,{value:"equipements",children:"Équipements"}),r.jsx(U,{value:"general",children:"Général"})]})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(V,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsx(V,{onClick:y,children:"Enregistrer"})]})]})]})})]})},k5e=({open:e,onOpenChange:t})=>{var N,j,b,_,C,A;const{addFarm:n}=jt(),{settings:s}=Jt(),{toast:i}=Rt(),[a,o]=w.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),[l,c]=w.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!s.farmManagement)return console.error("farmManagement settings not found, using defaults"),r.jsx(St,{open:e,onOpenChange:t,children:r.jsx(wt,{children:r.jsxs(Ct,{children:[r.jsx(_t,{children:"Erreur de configuration"}),r.jsx(jn,{children:"Les paramètres de gestion des fermes ne sont pas configurés. Veuillez recharger la page ou vérifier les paramètres."})]})})});w.useEffect(()=>{e||(o({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const u=(P,E)=>{if(P.includes(".")){const[M,$]=P.split(".");o(T=>{const O=T[M];return{...T,[M]:{...O,[$]:E}}})}else o(M=>({...M,[P]:E}))},d=P=>{o(E=>{var M;return{...E,types:(M=E.types)!=null&&M.includes(P)?E.types.filter($=>$!==P):[...E.types||[],P]}})},f=P=>{o(E=>{var M;return{...E,certifications:(M=E.certifications)!=null&&M.includes(P)?E.certifications.filter($=>$!==P):[...E.certifications||[],P]}})},m=()=>{if(!l.category){i({title:"Erreur",description:"Veuillez sélectionner une catégorie d'animal",variant:"destructive"});return}o(P=>({...P,animalDetails:[...P.animalDetails||[],{...l}]})),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},g=P=>{o(E=>{var M;return{...E,animalDetails:((M=E.animalDetails)==null?void 0:M.filter(($,T)=>T!==P))||[]}})},x=P=>{c(E=>({...E,breeds:[...E.breeds,P]}))},v=P=>{c(E=>({...E,breeds:E.breeds.filter(M=>M!==P)}))},y=P=>{var M;if(P.preventDefault(),!a.name||!a.owner||!a.address||!((M=a.types)!=null&&M.length)){i({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const E={name:a.name,owner:a.owner,ownerIdNumber:a.ownerIdNumber||"",address:a.address,coordinates:a.coordinates||{latitude:0,longitude:0},phone:a.phone||"",email:a.email||"",types:a.types||[],totalAnimals:(a.animalDetails||[]).reduce(($,T)=>$+T.maleCount+T.femaleCount,0),animalDetails:a.animalDetails||[],lastVisit:new Date().toISOString().split("T")[0],status:a.status||"active",veterinarian:a.veterinarian||"",notes:a.notes||"",registrationNumber:a.registrationNumber||"",surfaceArea:a.surfaceArea||0,buildingDetails:a.buildingDetails||"",equipmentDetails:a.equipmentDetails||"",certifications:a.certifications||[],insuranceDetails:a.insuranceDetails||"",emergencyContact:a.emergencyContact||{name:"",phone:"",relation:""}};n(E),i({title:"Succès",description:"Nouvelle exploitation créée avec succès"}),t(!1)};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Exploitation Agricole"}),r.jsx(jn,{children:"Créez une nouvelle exploitation agricole avec toutes les informations détaillées"})]}),r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Informations générales"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"name",children:"Nom de l'exploitation *"}),r.jsx(ie,{id:"name",value:a.name||"",onChange:P=>u("name",P.target.value),placeholder:"Nom de l'exploitation"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"owner",children:"Propriétaire *"}),r.jsx(ie,{id:"owner",value:a.owner||"",onChange:P=>u("owner",P.target.value),placeholder:"Nom du propriétaire"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"ownerIdNumber",children:"N° pièce d'identité du propriétaire"}),r.jsx(ie,{id:"ownerIdNumber",value:a.ownerIdNumber||"",onChange:P=>u("ownerIdNumber",P.target.value),placeholder:"Numéro de carte d'identité, passeport, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"address",children:"Adresse *"}),r.jsx(ie,{id:"address",value:a.address||"",onChange:P=>u("address",P.target.value),placeholder:"Adresse complète"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"latitude",children:"Latitude"}),r.jsx(ie,{id:"latitude",type:"number",step:"0.0001",value:((N=a.coordinates)==null?void 0:N.latitude)||"",onChange:P=>u("coordinates.latitude",parseFloat(P.target.value)||0),placeholder:"47.9056"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"longitude",children:"Longitude"}),r.jsx(ie,{id:"longitude",type:"number",step:"0.0001",value:((j=a.coordinates)==null?void 0:j.longitude)||"",onChange:P=>u("coordinates.longitude",parseFloat(P.target.value)||0),placeholder:"1.9190"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"phone",children:"Téléphone"}),r.jsx(ie,{id:"phone",value:a.phone||"",onChange:P=>u("phone",P.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:a.email||"",onChange:P=>u("email",P.target.value),placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"veterinarian",children:"Vétérinaire responsable"}),r.jsx(ie,{id:"veterinarian",value:a.veterinarian||"",onChange:P=>u("veterinarian",P.target.value),placeholder:"Vétérinaire"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"status",children:"Statut"}),r.jsxs(Me,{value:a.status,onValueChange:P=>u("status",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"active",children:"Active"}),r.jsx(U,{value:"attention",children:"Attention"}),r.jsx(U,{value:"urgent",children:"Urgent"})]})]})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Types d'élevage *"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.farmManagement.farmTypes.map(P=>{var E;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Qi,{id:`type-${P}`,checked:((E=a.types)==null?void 0:E.includes(P))||!1,onCheckedChange:()=>d(P)}),r.jsx(B,{htmlFor:`type-${P}`,children:P})]},P)})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Détails du cheptel"})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(B,{children:"Catégorie"}),r.jsxs(Me,{value:l.category,onValueChange:P=>c(E=>({...E,category:P})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner"})}),r.jsx(De,{children:s.farmManagement.animalCategories.map(P=>r.jsx(U,{value:P,children:P},P))})]})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Mâles"}),r.jsx(ie,{type:"number",value:l.maleCount,onChange:P=>c(E=>({...E,maleCount:parseInt(P.target.value)||0})),placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Femelles"}),r.jsx(ie,{type:"number",value:l.femaleCount,onChange:P=>c(E=>({...E,femaleCount:parseInt(P.target.value)||0})),placeholder:"0"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(V,{type:"button",onClick:m,className:"w-full",children:"Ajouter"})})]}),l.category&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs(B,{children:["Races pour ",l.category]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(b=s.farmManagement.breedsByCategory[l.category])==null?void 0:b.map(P=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Qi,{id:`breed-${P}`,checked:l.breeds.includes(P),onCheckedChange:()=>{l.breeds.includes(P)?v(P):x(P)}}),r.jsx(B,{htmlFor:`breed-${P}`,children:P})]},P))})]}),a.animalDetails&&a.animalDetails.length>0&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(B,{children:"Cheptel configuré"}),r.jsx("div",{className:"mt-2 space-y-2",children:a.animalDetails.map((P,E)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("span",{children:[r.jsx($e,{variant:"secondary",children:P.category}),r.jsxs("span",{className:"ml-2",children:[P.maleCount," mâles, ",P.femaleCount," femelles"]}),P.breeds.length>0&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",P.breeds.join(", ")]})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>g(E),children:"Supprimer"})]},E))})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Informations administratives"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"registrationNumber",children:"Numéro d'immatriculation"}),r.jsx(ie,{id:"registrationNumber",value:a.registrationNumber||"",onChange:P=>u("registrationNumber",P.target.value),placeholder:"Numéro d'immatriculation"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),r.jsx(ie,{id:"surfaceArea",type:"number",step:"0.1",value:a.surfaceArea||"",onChange:P=>u("surfaceArea",parseFloat(P.target.value)||0),placeholder:"Surface en hectares"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"buildingDetails",children:"Détails des bâtiments"}),r.jsx(Nt,{id:"buildingDetails",value:a.buildingDetails||"",onChange:P=>u("buildingDetails",P.target.value),placeholder:"Description des bâtiments, étables, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"equipmentDetails",children:"Équipements"}),r.jsx(Nt,{id:"equipmentDetails",value:a.equipmentDetails||"",onChange:P=>u("equipmentDetails",P.target.value),placeholder:"Liste des équipements disponibles"})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Certifications"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.farmManagement.certificationTypes.map(P=>{var E;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Qi,{id:`cert-${P}`,checked:((E=a.certifications)==null?void 0:E.includes(P))||!1,onCheckedChange:()=>f(P)}),r.jsx(B,{htmlFor:`cert-${P}`,children:P})]},P)})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Assurance et contact d'urgence"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"insuranceDetails",children:"Détails de l'assurance"}),r.jsx(ie,{id:"insuranceDetails",value:a.insuranceDetails||"",onChange:P=>u("insuranceDetails",P.target.value),placeholder:"Compagnie d'assurance et numéro de police"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),r.jsx(ie,{id:"emergencyName",value:((_=a.emergencyContact)==null?void 0:_.name)||"",onChange:P=>u("emergencyContact.name",P.target.value),placeholder:"Nom du contact"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"emergencyPhone",children:"Téléphone d'urgence"}),r.jsx(ie,{id:"emergencyPhone",value:((C=a.emergencyContact)==null?void 0:C.phone)||"",onChange:P=>u("emergencyContact.phone",P.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"emergencyRelation",children:"Relation"}),r.jsx(ie,{id:"emergencyRelation",value:((A=a.emergencyContact)==null?void 0:A.relation)||"",onChange:P=>u("emergencyContact.relation",P.target.value),placeholder:"Relation (époux, fils, etc.)"})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Photos de l'exploitation"})}),r.jsx(he,{children:r.jsx(w9,{photos:a.photos||[],onPhotosChange:P=>u("photos",P),farmName:a.name||"Nouvelle exploitation"})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Notes complémentaires"})}),r.jsx(he,{children:r.jsx(Nt,{value:a.notes||"",onChange:P=>u("notes",P.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Créer l'exploitation"})]})]})]})})},T5e=({open:e,onOpenChange:t,farmId:n,farmName:s})=>{const{addFarmIntervention:i,farms:a}=jt(),{toast:o}=Rt(),[l,c]=w.useState({farmId:"",farmName:"",date:"",type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""});w.useEffect(()=>{if(e){const m=new Date().toISOString().split("T")[0];c({farmId:(n==null?void 0:n.toString())||"",farmName:s||"",date:m,type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""})}},[e,n,s]);const u=(m,g)=>{c(x=>({...x,[m]:g}))},{settings:d}=Jt(),f=m=>{if(m.preventDefault(),!l.farmId||!l.date||!l.type||!l.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const g=a.find(v=>v.id===parseInt(l.farmId));if(!g){o({title:"Erreur",description:"Exploitation non trouvée",variant:"destructive"});return}const x={farmId:parseInt(l.farmId),farmName:g.name,date:l.date,type:l.type,animals:l.animals,veterinarian:l.veterinarian,description:l.description,status:l.status,followUp:l.followUp,cost:l.cost?parseFloat(l.cost):void 0,notes:l.notes};i(x),o({title:"Succès",description:"Intervention programmée avec succès"}),t(!1)};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Intervention"}),r.jsx(jn,{children:"Programmez une nouvelle intervention vétérinaire"})]}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"farmId",children:"Exploitation *"}),r.jsxs(Me,{value:l.farmId,onValueChange:m=>{const g=a.find(x=>x.id===parseInt(m));u("farmId",m),u("farmName",(g==null?void 0:g.name)||"")},children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner une exploitation"})}),r.jsx(De,{children:a.map(m=>r.jsx(U,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:l.date,onChange:m=>u("date",m.target.value),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"type",children:"Type d'intervention *"}),r.jsxs(Me,{value:l.type,onValueChange:m=>u("type",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un type"})}),r.jsxs(De,{children:[r.jsx(U,{value:"vaccination",children:"Vaccination"}),r.jsx(U,{value:"controle",children:"Contrôle sanitaire"}),r.jsx(U,{value:"urgence",children:"Urgence"}),r.jsx(U,{value:"chirurgie",children:"Chirurgie"}),r.jsx(U,{value:"prevention",children:"Prévention"}),r.jsx(U,{value:"consultation",children:"Consultation"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"status",children:"Statut"}),r.jsxs(Me,{value:l.status,onValueChange:m=>u("status",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"scheduled",children:"Programmée"}),r.jsx(U,{value:"ongoing",children:"En cours"}),r.jsx(U,{value:"completed",children:"Terminée"}),r.jsx(U,{value:"cancelled",children:"Annulée"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"animals",children:"Animaux concernés"}),r.jsx(ie,{id:"animals",value:l.animals,onChange:m=>u("animals",m.target.value),placeholder:"15 bovins, 50 poules..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"veterinarian",children:"Vétérinaire"}),r.jsx(ie,{id:"veterinarian",value:l.veterinarian,onChange:m=>u("veterinarian",m.target.value),placeholder:"Dr. Dupont"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"description",children:"Description *"}),r.jsx(Nt,{id:"description",value:l.description,onChange:m=>u("description",m.target.value),placeholder:"Détails de l'intervention...",rows:3,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(B,{htmlFor:"cost",children:["Coût (",d.currency,")"]}),r.jsx(ie,{id:"cost",type:"number",value:l.cost,onChange:m=>u("cost",m.target.value),placeholder:"0.00",min:"0",step:"0.01"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"followUp",children:"Suivi"}),r.jsx(ie,{id:"followUp",value:l.followUp,onChange:m=>u("followUp",m.target.value),placeholder:"Contrôle dans 6 mois"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",value:l.notes,onChange:m=>u("notes",m.target.value),placeholder:"Informations complémentaires...",rows:2})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Programmer Intervention"})]})]})]})})},O5e=({farm:e,open:t,onOpenChange:n,onEdit:s,onNewIntervention:i})=>{var u;const{getFarmInterventionsByFarmId:a}=jt();if(!e)return null;const o=a(e.id),l={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},c=d=>{switch(d){case"active":return r.jsx(er,{className:"h-4 w-4"});case"attention":return r.jsx(qn,{className:"h-4 w-4"});case"urgent":return r.jsx(qn,{className:"h-4 w-4 text-red-600"});default:return r.jsx($n,{className:"h-4 w-4"})}};return r.jsx(St,{open:t,onOpenChange:n,children:r.jsxs(wt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[c(e.status),e.name,r.jsx($e,{className:l[e.status],children:e.status==="active"?"Actif":e.status==="attention"?"Attention":"Urgent"})]}),r.jsx(jn,{children:"Détails complets de l'exploitation agricole"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(rne,{className:"h-5 w-5"}),"Informations Générales"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Propriétaire"}),r.jsx("p",{className:"font-medium",children:e.owner})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Types d'élevage"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(u=e.types)==null?void 0:u.map(d=>r.jsx($e,{variant:"secondary",children:d},d))})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nombre total d'animaux"}),r.jsx("p",{className:"font-medium",children:e.totalAnimals})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vétérinaire"}),r.jsx("p",{className:"font-medium",children:e.veterinarian||"Non assigné"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Dernière visite"}),r.jsx("p",{className:"font-medium",children:uo(e.lastVisit)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Date de création"}),r.jsx("p",{className:"font-medium",children:uo(e.createdAt)})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(cd,{className:"h-3 w-3"}),"Adresse"]}),r.jsx("p",{className:"font-medium",children:e.address})]}),e.coordinates&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Coordonnées GPS"}),r.jsxs("p",{className:"font-mono text-sm",children:[e.coordinates.latitude.toFixed(4),", ",e.coordinates.longitude.toFixed(4)]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),"Téléphone"]}),r.jsx("p",{className:"font-medium",children:e.phone||"Non renseigné"})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(Vf,{className:"h-3 w-3"}),"Email"]}),r.jsx("p",{className:"font-medium",children:e.email||"Non renseigné"})]})]})]})]}),e.animalDetails&&e.animalDetails.length>0&&r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(sne,{className:"h-5 w-5"}),"Détails du Cheptel"]})}),r.jsx(he,{children:r.jsx("div",{className:"space-y-3",children:e.animalDetails.map((d,f)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx($e,{variant:"secondary",children:d.category}),r.jsxs("span",{className:"text-sm font-medium",children:["Total: ",d.maleCount+d.femaleCount," animaux"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Mâles:"})," ",d.maleCount]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Femelles:"})," ",d.femaleCount]}),d.breeds.length>0&&r.jsxs("div",{className:"md:col-span-3",children:[r.jsx("span",{className:"text-muted-foreground",children:"Races:"})," ",d.breeds.join(", ")]})]})]},f))})})]}),(e.registrationNumber||e.surfaceArea||e.buildingDetails||e.equipmentDetails)&&r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(Bte,{className:"h-5 w-5"}),"Informations Administratives"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.registrationNumber&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"N° d'immatriculation"}),r.jsx("p",{className:"font-medium",children:e.registrationNumber})]}),e.surfaceArea&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Surface"}),r.jsxs("p",{className:"font-medium",children:[e.surfaceArea," hectares"]})]})]}),e.buildingDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Bâtiments"}),r.jsx("p",{className:"font-medium",children:e.buildingDetails})]}),e.equipmentDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Équipements"}),r.jsx("p",{className:"font-medium",children:e.equipmentDetails})]})]})]}),e.certifications&&e.certifications.length>0&&r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(ji,{className:"h-5 w-5"}),"Certifications"]})}),r.jsx(he,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:e.certifications.map(d=>r.jsx($e,{variant:"outline",children:d},d))})})]}),(e.insuranceDetails||e.emergencyContact)&&r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-5 w-5"}),"Assurance et Contact d'Urgence"]})}),r.jsxs(he,{className:"space-y-4",children:[e.insuranceDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Assurance"}),r.jsx("p",{className:"font-medium",children:e.insuranceDetails})]}),e.emergencyContact&&e.emergencyContact.name&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contact d'urgence"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Téléphone"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.phone})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Relation"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.relation})]})]})]})]}),e.notes&&r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Notes"})}),r.jsx(he,{children:r.jsx("p",{className:"text-sm",children:e.notes})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Détails du Cheptel"})}),r.jsx(he,{children:e.animalDetails&&e.animalDetails.length>0?r.jsx("div",{className:"space-y-4",children:e.animalDetails.map((d,f)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-semibold text-lg",children:d.category}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs($e,{variant:"secondary",children:[d.maleCount+d.femaleCount," animaux"]}),r.jsxs($e,{variant:"outline",children:[d.maleCount," mâles"]}),r.jsxs($e,{variant:"outline",children:[d.femaleCount," femelles"]})]})]}),d.breeds&&d.breeds.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Races: "}),d.breeds.map((m,g)=>r.jsx($e,{variant:"outline",className:"mr-1 text-xs",children:m},g))]}),d.ageGroups&&d.ageGroups.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Groupes d'âge: "}),d.ageGroups.map((m,g)=>r.jsx($e,{variant:"outline",className:"mr-1 text-xs",children:m},g))]})]},f))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucun détail de cheptel configuré pour cette exploitation"})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Photos de l'exploitation"})}),r.jsx(he,{children:e.photos&&e.photos.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.photos.map(d=>r.jsxs("div",{className:"group relative",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[r.jsx("img",{src:d.url,alt:d.description,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx($e,{variant:"secondary",className:"text-xs bg-black/70 text-white border-0",children:d.category==="cheptel"?"Cheptel":d.category==="batiments"?"Bâtiments":d.category==="equipements"?"Équipements":"Général"})})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:d.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(d.uploadedAt).toLocaleDateString()})]})]},d.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ef,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoutée"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Les photos peuvent être ajoutées lors de la modification de l'exploitation"})]})})]}),r.jsxs(pl,{defaultValue:"interventions",className:"w-full",children:[r.jsx(jo,{className:"grid w-full grid-cols-1",children:r.jsxs(ln,{value:"interventions",children:[r.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Interventions (",o.length,")"]})}),r.jsx(cn,{value:"interventions",className:"space-y-4",children:r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Interventions vétérinaires"})}),r.jsx(he,{children:o.length>0?r.jsx("div",{className:"space-y-2",children:o.map(d=>r.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:d.type}),r.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:uo(d.date)})]}),r.jsx($e,{variant:"outline",children:d.status})]},d.id))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucune intervention enregistrée pour cette exploitation"})})]})})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx(V,{onClick:i,variant:"outline",children:"Nouvelle Intervention"}),r.jsx(V,{onClick:s,children:"Modifier"})]})]})})},D5e=({open:e,onOpenChange:t,farm:n})=>{var j,b,_,C,A,P;const{updateFarm:s}=jt(),{settings:i}=Jt(),{toast:a}=Rt(),[o,l]=w.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),[c,u]=w.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!i.farmManagement)return console.error("farmManagement settings not found, using defaults"),r.jsx(St,{open:e,onOpenChange:t,children:r.jsx(wt,{children:r.jsxs(Ct,{children:[r.jsx(_t,{children:"Erreur de configuration"}),r.jsx(jn,{children:"Les paramètres de gestion des fermes ne sont pas configurés. Veuillez recharger la page ou vérifier les paramètres."})]})})});w.useEffect(()=>{n&&e&&l({...n,coordinates:n.coordinates||{latitude:0,longitude:0},types:n.types||[],animalDetails:n.animalDetails||[],certifications:n.certifications||[],emergencyContact:n.emergencyContact||{name:"",phone:"",relation:""}})},[n,e]),w.useEffect(()=>{e||(l({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const d=(E,M)=>{if(E.includes(".")){const[$,T]=E.split(".");l(O=>({...O,[$]:{...O[$],[T]:M}}))}else l($=>({...$,[E]:M}))},f=E=>{l(M=>{var $;return{...M,types:($=M.types)!=null&&$.includes(E)?M.types.filter(T=>T!==E):[...M.types||[],E]}})},m=E=>{l(M=>{var $;return{...M,certifications:($=M.certifications)!=null&&$.includes(E)?M.certifications.filter(T=>T!==E):[...M.certifications||[],E]}})},g=()=>{if(!c.category){a({title:"Erreur",description:"Veuillez sélectionner une catégorie d'animal",variant:"destructive"});return}l(E=>({...E,animalDetails:[...E.animalDetails||[],{...c}]})),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},x=E=>{l(M=>{var $;return{...M,animalDetails:(($=M.animalDetails)==null?void 0:$.filter((T,O)=>O!==E))||[]}})},v=E=>{u(M=>({...M,breeds:[...M.breeds,E]}))},y=E=>{u(M=>({...M,breeds:M.breeds.filter($=>$!==E)}))},N=E=>{var $;if(E.preventDefault(),!n)return;if(!o.name||!o.owner||!o.address||!(($=o.types)!=null&&$.length)){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const M={...n,...o,coordinates:o.coordinates||{latitude:0,longitude:0},types:o.types||[],animalDetails:o.animalDetails||[],totalAnimals:(o.animalDetails||[]).reduce((T,O)=>T+O.maleCount+O.femaleCount,0),certifications:o.certifications||[],emergencyContact:o.emergencyContact||{name:"",phone:"",relation:""}};s(n.id,M),a({title:"Succès",description:"Exploitation mise à jour avec succès"}),t(!1)};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier l'Exploitation"}),r.jsx(jn,{children:"Modifiez les informations de l'exploitation agricole"})]}),r.jsxs("form",{onSubmit:N,className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Informations générales"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"name",children:"Nom de l'exploitation *"}),r.jsx(ie,{id:"name",value:o.name||"",onChange:E=>d("name",E.target.value),placeholder:"Nom de l'exploitation"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"owner",children:"Propriétaire *"}),r.jsx(ie,{id:"owner",value:o.owner||"",onChange:E=>d("owner",E.target.value),placeholder:"Nom du propriétaire"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"ownerIdNumber",children:"N° pièce d'identité du propriétaire"}),r.jsx(ie,{id:"ownerIdNumber",value:o.ownerIdNumber||"",onChange:E=>d("ownerIdNumber",E.target.value),placeholder:"Numéro de carte d'identité, passeport, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"address",children:"Adresse *"}),r.jsx(ie,{id:"address",value:o.address||"",onChange:E=>d("address",E.target.value),placeholder:"Adresse complète"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"latitude",children:"Latitude"}),r.jsx(ie,{id:"latitude",type:"number",step:"0.0001",value:((j=o.coordinates)==null?void 0:j.latitude)||"",onChange:E=>d("coordinates.latitude",parseFloat(E.target.value)||0),placeholder:"47.9056"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"longitude",children:"Longitude"}),r.jsx(ie,{id:"longitude",type:"number",step:"0.0001",value:((b=o.coordinates)==null?void 0:b.longitude)||"",onChange:E=>d("coordinates.longitude",parseFloat(E.target.value)||0),placeholder:"1.9190"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"phone",children:"Téléphone"}),r.jsx(ie,{id:"phone",value:o.phone||"",onChange:E=>d("phone",E.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:o.email||"",onChange:E=>d("email",E.target.value),placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"veterinarian",children:"Vétérinaire responsable"}),r.jsx(ie,{id:"veterinarian",value:o.veterinarian||"",onChange:E=>d("veterinarian",E.target.value),placeholder:"Vétérinaire"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"status",children:"Statut"}),r.jsxs(Me,{value:o.status,onValueChange:E=>d("status",E),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"active",children:"Active"}),r.jsx(U,{value:"attention",children:"Attention"}),r.jsx(U,{value:"urgent",children:"Urgent"})]})]})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Types d'élevage *"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.farmManagement.farmTypes.map(E=>{var M;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Qi,{id:`type-${E}`,checked:((M=o.types)==null?void 0:M.includes(E))||!1,onCheckedChange:()=>f(E)}),r.jsx(B,{htmlFor:`type-${E}`,children:E})]},E)})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Détails du cheptel"})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(B,{children:"Catégorie"}),r.jsxs(Me,{value:c.category,onValueChange:E=>u(M=>({...M,category:E})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner"})}),r.jsx(De,{children:i.farmManagement.animalCategories.map(E=>r.jsx(U,{value:E,children:E},E))})]})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Mâles"}),r.jsx(ie,{type:"number",value:c.maleCount,onChange:E=>u(M=>({...M,maleCount:parseInt(E.target.value)||0})),placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Femelles"}),r.jsx(ie,{type:"number",value:c.femaleCount,onChange:E=>u(M=>({...M,femaleCount:parseInt(E.target.value)||0})),placeholder:"0"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(V,{type:"button",onClick:g,className:"w-full",children:"Ajouter"})})]}),c.category&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs(B,{children:["Races pour ",c.category]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(_=i.farmManagement.breedsByCategory[c.category])==null?void 0:_.map(E=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Qi,{id:`breed-${E}`,checked:c.breeds.includes(E),onCheckedChange:()=>{c.breeds.includes(E)?y(E):v(E)}}),r.jsx(B,{htmlFor:`breed-${E}`,children:E})]},E))})]}),o.animalDetails&&o.animalDetails.length>0&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(B,{children:"Cheptel configuré"}),r.jsx("div",{className:"mt-2 space-y-2",children:o.animalDetails.map((E,M)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("span",{children:[r.jsx($e,{variant:"secondary",children:E.category}),r.jsxs("span",{className:"ml-2",children:[E.maleCount," mâles, ",E.femaleCount," femelles"]}),E.breeds.length>0&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",E.breeds.join(", ")]})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>x(M),children:"Supprimer"})]},M))})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Informations administratives"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"registrationNumber",children:"Numéro d'immatriculation"}),r.jsx(ie,{id:"registrationNumber",value:o.registrationNumber||"",onChange:E=>d("registrationNumber",E.target.value),placeholder:"Numéro d'immatriculation"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),r.jsx(ie,{id:"surfaceArea",type:"number",step:"0.1",value:o.surfaceArea||"",onChange:E=>d("surfaceArea",parseFloat(E.target.value)||0),placeholder:"Surface en hectares"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"buildingDetails",children:"Détails des bâtiments"}),r.jsx(Nt,{id:"buildingDetails",value:o.buildingDetails||"",onChange:E=>d("buildingDetails",E.target.value),placeholder:"Description des bâtiments, étables, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"equipmentDetails",children:"Équipements"}),r.jsx(Nt,{id:"equipmentDetails",value:o.equipmentDetails||"",onChange:E=>d("equipmentDetails",E.target.value),placeholder:"Liste des équipements disponibles"})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Certifications"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.farmManagement.certificationTypes.map(E=>{var M;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Qi,{id:`cert-${E}`,checked:((M=o.certifications)==null?void 0:M.includes(E))||!1,onCheckedChange:()=>m(E)}),r.jsx(B,{htmlFor:`cert-${E}`,children:E})]},E)})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Assurance et contact d'urgence"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"insuranceDetails",children:"Détails de l'assurance"}),r.jsx(ie,{id:"insuranceDetails",value:o.insuranceDetails||"",onChange:E=>d("insuranceDetails",E.target.value),placeholder:"Compagnie d'assurance et numéro de police"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),r.jsx(ie,{id:"emergencyName",value:((C=o.emergencyContact)==null?void 0:C.name)||"",onChange:E=>d("emergencyContact.name",E.target.value),placeholder:"Nom du contact"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"emergencyPhone",children:"Téléphone d'urgence"}),r.jsx(ie,{id:"emergencyPhone",value:((A=o.emergencyContact)==null?void 0:A.phone)||"",onChange:E=>d("emergencyContact.phone",E.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"emergencyRelation",children:"Relation"}),r.jsx(ie,{id:"emergencyRelation",value:((P=o.emergencyContact)==null?void 0:P.relation)||"",onChange:E=>d("emergencyContact.relation",E.target.value),placeholder:"Relation (époux, fils, etc.)"})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Photos de l'exploitation"})}),r.jsx(he,{children:r.jsx(w9,{photos:o.photos||[],onPhotosChange:E=>d("photos",E),farmName:o.name||"Exploitation"})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Notes complémentaires"})}),r.jsx(he,{children:r.jsx(Nt,{value:o.notes||"",onChange:E=>d("notes",E.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Mettre à jour l'exploitation"})]})]})]})}):null},M5e=({open:e,onOpenChange:t,intervention:n})=>{const{updateFarmIntervention:s,farms:i}=jt(),{toast:a}=Rt(),[o,l]=w.useState({farmId:"",type:"",date:"",animals:"",description:"",veterinarian:"",status:"scheduled",followUp:"",cost:""});w.useEffect(()=>{n&&e&&l({farmId:n.farmId.toString(),type:n.type,date:n.date,animals:n.animals,description:n.description,veterinarian:n.veterinarian,status:n.status,followUp:n.followUp||"",cost:n.cost||""})},[n,e]);const c=(f,m)=>{l(g=>({...g,[f]:m}))},u=f=>{if(f.preventDefault(),!n)return;if(!o.farmId||!o.type||!o.date||!o.animals||!o.description){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const m={farmId:parseInt(o.farmId),type:o.type,date:o.date,animals:o.animals,description:o.description,veterinarian:o.veterinarian,status:o.status,followUp:o.followUp,cost:o.cost};s(n.id,m),a({title:"Succès",description:"Intervention mise à jour avec succès"}),t(!1)};if(!n)return null;const d=i.find(f=>f.id===parseInt(o.farmId));return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier l'Intervention"}),r.jsxs(jn,{children:["Modifiez les informations de l'intervention du ",new Date(n.date).toLocaleDateString("fr-FR")]})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Exploitation *"}),r.jsxs(Me,{value:o.farmId,onValueChange:f=>c("farmId",f),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner l'exploitation"})}),r.jsx(De,{children:i.map(f=>r.jsxs(U,{value:f.id.toString(),children:[f.name," - ",f.owner]},f.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Type d'intervention *"}),r.jsxs(Me,{value:o.type,onValueChange:f=>c("type",f),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le type"})}),r.jsxs(De,{children:[r.jsx(U,{value:"vaccination",children:"Vaccination"}),r.jsx(U,{value:"controle",children:"Contrôle sanitaire"}),r.jsx(U,{value:"urgence",children:"Urgence"}),r.jsx(U,{value:"chirurgie",children:"Chirurgie"}),r.jsx(U,{value:"prevention",children:"Prévention"}),r.jsx(U,{value:"consultation",children:"Consultation"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:o.date,onChange:f=>c("date",f.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Statut"}),r.jsxs(Me,{value:o.status,onValueChange:f=>c("status",f),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"scheduled",children:"Programmé"}),r.jsx(U,{value:"ongoing",children:"En cours"}),r.jsx(U,{value:"completed",children:"Terminé"}),r.jsx(U,{value:"cancelled",children:"Annulé"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"animals",children:"Animaux concernés *"}),r.jsx(ie,{id:"animals",value:o.animals,onChange:f=>c("animals",f.target.value),placeholder:"ex: 50 vaches, 100 porcs...",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"veterinarian",children:"Vétérinaire *"}),r.jsx(ie,{id:"veterinarian",value:o.veterinarian,onChange:f=>c("veterinarian",f.target.value),required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"description",children:"Description *"}),r.jsx(Nt,{id:"description",value:o.description,onChange:f=>c("description",f.target.value),rows:3,placeholder:"Détails de l'intervention, observations, traitements...",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"followUp",children:"Suivi recommandé"}),r.jsx(Nt,{id:"followUp",value:o.followUp,onChange:f=>c("followUp",f.target.value),rows:2,placeholder:"Recommandations, prochain contrôle..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"cost",children:"Coût (€)"}),r.jsx(ie,{id:"cost",type:"number",value:o.cost,onChange:f=>c("cost",f.target.value),min:"0",step:"0.01",placeholder:"0.00"})]})]}),d&&r.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Informations de l'exploitation"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Nom:"})," ",d.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Propriétaire:"})," ",d.owner]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type:"})," ",d.type]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Adresse:"})," ",d.address]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Mettre à jour"})]})]})]})})},I5e=()=>{const{farms:e,farmInterventions:t,deleteFarm:n,deleteFarmIntervention:s,getFarmsByStatus:i,getUpcomingFarmInterventions:a}=jt(),{toast:o}=Rt(),{currentView:l}=xd("farms"),[c,u]=w.useState(""),[d,f]=w.useState("all"),[m,g]=w.useState(l),[x,v]=w.useState(!1),[y,N]=w.useState(!1),[j,b]=w.useState(!1),[_,C]=w.useState(!1),[A,P]=w.useState(!1),[E,M]=w.useState(null),[$,T]=w.useState(null),O=e.filter(ne=>{var se,F;const xe=ne.name.toLowerCase().includes(c.toLowerCase())||ne.owner.toLowerCase().includes(c.toLowerCase())||((se=ne.types)==null?void 0:se.some(Y=>Y.toLowerCase().includes(c.toLowerCase())))||!1,ye=d==="all"||((F=ne.types)==null?void 0:F.includes(d))||!1;return xe&&ye}),L={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},z={"Bovin laitier":"Élevage bovin laitier","Bovin viande":"Élevage bovin viande",Porcin:"Élevage porcin",Avicole:"Élevage avicole",Ovin:"Élevage ovin",Caprin:"Élevage caprin",Équin:"Élevage équin",Apiculture:"Apiculture",Aquaculture:"Aquaculture",Cuniculture:"Cuniculture",Mixte:"Élevage mixte"},J={vaccination:"Vaccination",controle:"Contrôle sanitaire",urgence:"Urgence",chirurgie:"Chirurgie",prevention:"Prévention",consultation:"Consultation"},H=ne=>{M(ne),b(!0)},oe=ne=>{M(ne),C(!0)},Q=ne=>{confirm("Êtes-vous sûr de vouloir supprimer cette exploitation ?")&&(n(ne),o({title:"Succès",description:"Exploitation supprimée"}))},D=ne=>{N(!0)},ae=ne=>{confirm("Êtes-vous sûr de vouloir supprimer cette intervention ?")&&(s(ne),o({title:"Succès",description:"Intervention supprimée"}))},pe=ne=>{T(ne),P(!0)},te=i("attention").length+i("urgent").length,Z=a();return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Exploitations"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez les fermes, élevages et interventions vétérinaires"})]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>v(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle Exploitation"]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center",children:[r.jsx(KC,{className:"h-12 w-12 text-primary mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:e.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Exploitations"})]})}),r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center",children:[r.jsx(qn,{className:"h-12 w-12 text-accent mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:te}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Alertes actives"})]})}),r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center",children:[r.jsx(Pt,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:Z.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Interventions à venir"})]})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx(ie,{placeholder:"Rechercher par nom, propriétaire ou type...",value:c,onChange:ne=>u(ne.target.value),className:"max-w-md"}),r.jsxs(Me,{value:d,onValueChange:f,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Type d'élevage"})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Tous types"}),r.jsx(U,{value:"Bovin laitier",children:"Élevage bovin laitier"}),r.jsx(U,{value:"Bovin viande",children:"Élevage bovin viande"}),r.jsx(U,{value:"Porcin",children:"Élevage porcin"}),r.jsx(U,{value:"Avicole",children:"Élevage avicole"}),r.jsx(U,{value:"Ovin",children:"Élevage ovin"}),r.jsx(U,{value:"Caprin",children:"Élevage caprin"}),r.jsx(U,{value:"Équin",children:"Élevage équin"}),r.jsx(U,{value:"Apiculture",children:"Apiculture"}),r.jsx(U,{value:"Aquaculture",children:"Aquaculture"}),r.jsx(U,{value:"Cuniculture",children:"Cuniculture"}),r.jsx(U,{value:"Mixte",children:"Élevage mixte"})]})]})]})})]}),r.jsxs(pl,{defaultValue:"farms",className:"space-y-6",children:[r.jsxs(jo,{className:"grid w-full grid-cols-2",children:[r.jsxs(ln,{value:"farms",className:"gap-2",children:[r.jsx(KC,{className:"h-4 w-4"}),"Exploitations"]}),r.jsxs(ln,{value:"interventions",className:"gap-2",children:[r.jsx(Pt,{className:"h-4 w-4"}),"Interventions"]})]}),r.jsxs(cn,{value:"farms",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Exploitations (",O.length,")"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:m==="cards"?"default":"outline",onClick:()=>g("cards"),className:"gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:m==="table"?"default":"outline",onClick:()=>g("table"),className:"gap-2",children:[r.jsx(al,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(V,{onClick:()=>N(!0),className:"gap-2",children:[r.jsx(br,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]})]}),O.length===0?r.jsx(de,{children:r.jsx(he,{className:"p-6 text-center text-muted-foreground",children:"Aucune exploitation trouvée"})}):m==="cards"?O.map(ne=>{var xe;return r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-xl font-semibold",children:ne.name}),r.jsx($e,{variant:"outline",className:L[ne.status],children:ne.status==="active"?"Actif":ne.status==="attention"?"Attention":"Urgent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Propriétaire:"})," ",ne.owner]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(cd,{className:"h-3 w-3"}),ne.address]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),ne.phone]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Types:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(xe=ne.types)==null?void 0:xe.map(ye=>r.jsx($e,{variant:"secondary",className:"text-xs",children:z[ye]||ye},ye))})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Animaux:"})," ",ne.totalAnimals]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vétérinaire:"})," ",ne.veterinarian]})]})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernière visite: ",uo(ne.lastVisit)]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>H(ne),children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>oe(ne),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",onClick:()=>D(),children:r.jsx(br,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>Q(ne.id),children:r.jsx(Vn,{className:"h-4 w-4"})})]})]})})},ne.id)}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Exploitation"}),r.jsx("th",{className:"p-4 font-medium",children:"Propriétaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),r.jsx("th",{className:"p-4 font-medium",children:"Contact"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:O.map(ne=>{var xe;return r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:ne.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:ne.address})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:ne.owner}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Vét: ",ne.veterinarian]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:(xe=ne.types)==null?void 0:xe.map(ye=>r.jsx($e,{variant:"secondary",className:"text-xs",children:z[ye]||ye},ye))})}),r.jsx("td",{className:"p-4",children:r.jsx($e,{variant:"outline",className:L[ne.status],children:ne.status==="active"?"Actif":ne.status==="attention"?"Attention":"Urgent"})}),r.jsx("td",{className:"p-4",children:ne.totalAnimals}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),ne.phone]}),r.jsxs("div",{className:"text-muted-foreground",children:["Dernière visite: ",uo(ne.lastVisit)]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>H(ne),children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>oe(ne),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",onClick:()=>D(),children:r.jsx(br,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>Q(ne.id),children:r.jsx(Vn,{className:"h-4 w-4"})})]})})]},ne.id)})})]})})})})]}),r.jsxs(cn,{value:"interventions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Interventions récentes (",t.length,")"]}),r.jsxs(V,{onClick:()=>N(!0),className:"gap-2",children:[r.jsx(br,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]}),t.length===0?r.jsx(de,{children:r.jsx(he,{className:"p-6 text-center text-muted-foreground",children:"Aucune intervention enregistrée"})}):t.map(ne=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-lg font-semibold",children:J[ne.type]}),r.jsx($e,{variant:"outline",className:ne.status==="completed"?"bg-green-100 text-green-800":ne.status==="ongoing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",children:ne.status==="completed"?"Terminé":ne.status==="ongoing"?"En cours":ne.status==="scheduled"?"Programmé":"Annulé"})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Pt,{className:"h-3 w-3"}),uo(ne.date)]}),r.jsx("span",{children:ne.farmName}),r.jsx("span",{children:ne.veterinarian})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Animaux concernés:"})," ",ne.animals]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Suivi:"})," ",ne.followUp||"Aucun"]})]}),r.jsx("p",{className:"text-sm",children:ne.description}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>pe(ne),children:r.jsx(en,{className:"h-4 w-4"})}),ne.status==="ongoing"&&r.jsx(V,{size:"sm",children:r.jsx(br,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>ae(ne.id),children:r.jsx(Vn,{className:"h-4 w-4"})})]})]})})},ne.id))]})]}),r.jsx(k5e,{open:x,onOpenChange:v}),r.jsx(T5e,{open:y,onOpenChange:N,farmId:E==null?void 0:E.id,farmName:E==null?void 0:E.name}),r.jsx(O5e,{farm:E,open:j,onOpenChange:b,onEdit:()=>oe(E),onNewIntervention:()=>{b(!1),N(!0)}}),r.jsx(D5e,{farm:E,open:_,onOpenChange:C}),r.jsx(M5e,{intervention:$,open:A,onOpenChange:P})]})};var Mw="Switch",[$5e,q6e]=Zs(Mw),[R5e,L5e]=$5e(Mw),N9=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,g]=w.useState(null),x=Qt(t,b=>g(b)),v=w.useRef(!1),y=m?d||!!m.closest("form"):!0,[N,j]=go({prop:i,defaultProp:a??!1,onChange:u,caller:Mw});return r.jsxs(R5e,{scope:n,checked:N,disabled:l,children:[r.jsx(st.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":P9(N),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:He(e.onClick,b=>{j(_=>!_),y&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),y&&r.jsx(_9,{control:m,bubbles:!v.current,name:s,value:c,checked:N,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});N9.displayName=Mw;var S9="SwitchThumb",C9=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,i=L5e(S9,n);return r.jsx(st.span,{"data-state":P9(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});C9.displayName=S9;var F5e="SwitchBubbleInput",_9=w.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...i},a)=>{const o=w.useRef(null),l=Qt(o,a),c=mE(n),u=$A(t);return w.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const x=new Event("click",{bubbles:s});g.call(d,n),d.dispatchEvent(x)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_9.displayName=F5e;function P9(e){return e?"checked":"unchecked"}var A9=N9,B5e=C9;const Fr=w.forwardRef(({className:e,...t},n)=>r.jsx(A9,{className:Ze("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(B5e,{className:Ze("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Fr.displayName=A9.displayName;function YS({children:e,protocol:t,mode:n}){const{addVaccinationProtocol:s,updateVaccinationProtocol:i}=jt(),{settings:a}=Jt(),{toast:o}=Rt(),[l,c]=w.useState(!1),[u,d]=w.useState({name:"",species:"",vaccineType:"",description:"",manufacturer:"",intervals:[{offsetDays:365,label:"1 an (intervalle par défaut)"}],ageRequirement:"",notes:"",isActive:!0});w.useEffect(()=>{n==="edit"&&t&&d({name:t.name,species:t.species,vaccineType:t.vaccineType,description:t.description,manufacturer:t.manufacturer||"",intervals:t.intervals||[],ageRequirement:t.ageRequirement||"",notes:t.notes||"",isActive:t.isActive})},[n,t]);const f=g=>{if(g.preventDefault(),!u.name||!u.species||!u.vaccineType||!u.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}n==="create"?(s({name:u.name,species:u.species,vaccineType:u.vaccineType,description:u.description,manufacturer:u.manufacturer,intervals:u.intervals,ageRequirement:u.ageRequirement,notes:u.notes,isActive:u.isActive}),o({title:"Protocole créé",description:`Le protocole ${u.name} a été créé avec succès`})):t&&(i(t.id,{name:u.name,species:u.species,vaccineType:u.vaccineType,description:u.description,manufacturer:u.manufacturer,intervals:u.intervals,ageRequirement:u.ageRequirement,notes:u.notes,isActive:u.isActive}),o({title:"Protocole modifié",description:`Le protocole ${u.name} a été modifié avec succès`})),d({name:"",species:"",vaccineType:"",description:"",manufacturer:"",intervals:[{offsetDays:365,label:"1 an (intervalle par défaut)"}],ageRequirement:"",notes:"",isActive:!0}),c(!1)},m=a.species?a.species.split(",").map(g=>g.trim()):["Chien","Chat","Furet","Lapin","Oiseau","Rongeur"];return r.jsxs(St,{open:l,onOpenChange:c,children:[r.jsx($c,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[n==="create"?r.jsx(ht,{className:"h-4 w-4"}):r.jsx(en,{className:"h-4 w-4"}),n==="create"?"Nouveau Protocole":"Modifier"]})}),r.jsxs(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(ji,{className:"h-5 w-5"}),n==="create"?"Nouveau Protocole Vaccinal":"Modifier le Protocole"]})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"name",children:"Nom du vaccin *"}),r.jsx(ie,{id:"name",value:u.name,onChange:g=>d(x=>({...x,name:g.target.value})),placeholder:"Ex: DHPP, FVRCP, Rage...",required:!0})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"species",children:"Espèce *"}),r.jsxs(Me,{value:u.species,onValueChange:g=>d(x=>({...x,species:g})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner une espèce"})}),r.jsx(De,{children:m.map(g=>r.jsx(U,{value:g,children:g},g))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"vaccineType",children:"Type de vaccin *"}),r.jsxs(Me,{value:u.vaccineType,onValueChange:g=>d(x=>({...x,vaccineType:g})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de vaccin"})}),r.jsxs(De,{children:[r.jsx(U,{value:"core",children:"Essentiel (Core)"}),r.jsx(U,{value:"non-core",children:"Optionnel (Non-core)"}),r.jsx(U,{value:"rabies",children:"Rage"}),r.jsx(U,{value:"custom",children:"Personnalisé"})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(ie,{id:"manufacturer",value:u.manufacturer,onChange:g=>d(x=>({...x,manufacturer:g.target.value})),placeholder:"Ex: Zoetis, Merial, Virbac..."})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"description",children:"Description *"}),r.jsx(Nt,{id:"description",value:u.description,onChange:g=>d(x=>({...x,description:g.target.value})),placeholder:"Description du vaccin et des maladies qu'il prévient...",rows:3,required:!0})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(B,{children:"Étapes du protocole"}),(u.intervals||[]).map((g,x)=>{let v=g.offsetDays,y="days";g.offsetDays%30===0&&g.offsetDays!==0?(v=g.offsetDays/30,y="months"):g.offsetDays%7===0&&g.offsetDays!==0&&(v=g.offsetDays/7,y="weeks");const N=`${v} ${y==="weeks"?"semaine(s)":y==="months"?"mois":"jour(s)"}`;return r.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center",children:[r.jsx(ie,{type:"number",min:0,value:v,onChange:j=>{const b=parseInt(j.target.value)||0,_=y==="weeks"?b*7:y==="months"?b*30:b;d(C=>{const A=[...C.intervals];return A[x].offsetDays=_,{...C,intervals:A}})}}),r.jsxs(Me,{value:y,onValueChange:j=>{const b=j,_=b==="weeks"?v*7:b==="months"?v*30:v;d(C=>{const A=[...C.intervals];return A[x].offsetDays=_,{...C,intervals:A}})},children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"days",children:"Jours"}),r.jsx(U,{value:"weeks",children:"Semaines"}),r.jsx(U,{value:"months",children:"Mois"})]})]}),r.jsx("div",{className:"p-2",children:N}),r.jsx(V,{type:"button",variant:"outline",size:"icon",onClick:()=>{d(j=>{const b=j.intervals.filter((_,C)=>C!==x);return{...j,intervals:b}})},children:"❌"})]},x)}),r.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:()=>d(g=>({...g,intervals:[...g.intervals||[],{offsetDays:0}]})),children:[r.jsx(ht,{className:"h-4 w-4"})," Ajouter une étape"]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"ageRequirement",children:"Âge requis"}),r.jsx(ie,{id:"ageRequirement",value:u.ageRequirement,onChange:g=>d(x=>({...x,ageRequirement:g.target.value})),placeholder:"Ex: À partir de 6 semaines"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"notes",children:"Notes supplémentaires"}),r.jsx(Nt,{id:"notes",value:u.notes,onChange:g=>d(x=>({...x,notes:g.target.value})),placeholder:"Informations complémentaires, contre-indications, etc...",rows:2})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Fr,{id:"isActive",checked:u.isActive,onCheckedChange:g=>d(x=>({...x,isActive:g}))}),r.jsx(B,{htmlFor:"isActive",children:"Protocole actif"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),n==="create"?"Créer le protocole":"Modifier le protocole"]})]})]})]})]})}const Y3=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Q3=e=>{switch(e){case"completed":return r.jsx(er,{className:"h-4 w-4"});case"overdue":return r.jsx(qn,{className:"h-4 w-4"});case"scheduled":return r.jsx($n,{className:"h-4 w-4"});case"missed":return r.jsx(qn,{className:"h-4 w-4"});default:return r.jsx($n,{className:"h-4 w-4"})}},z5e=()=>{const{vaccinations:e,pets:t,clients:n}=jt(),s=w.useMemo(()=>e.map(o=>{var l,c;return{id:o.id,type:"vaccination",title:o.vaccineName,date:o.nextDueDate,status:o.status,clientName:(l=n.find(u=>u.id===o.clientId))==null?void 0:l.name,petName:(c=t.find(u=>u.id===o.petId))==null?void 0:c.name}}),[e,n,t]),i=o=>{},a=o=>{};return r.jsx(Vk,{events:s,onEventClick:i,onDateClick:a,title:"Calendrier Vaccinal",icon:r.jsx(Pt,{className:"h-5 w-5"})})};function V5e(){var gs;const{vaccinations:e,pets:t,clients:n,vaccinationProtocols:s,getVaccinationsByPetId:i,getOverdueVaccinations:a,getUpcomingVaccinations:o,getVaccinationsByStatus:l,getActiveVaccinationProtocols:c,getVaccinationProtocolsBySpecies:u,deleteVaccinationProtocol:d,deleteVaccination:f,updateVaccination:m}=jt(),{settings:g}=Jt(),{currentView:x}=xd("vaccinations"),{toast:v}=Rt(),[y,N]=w.useState(x),[j,b]=w.useState(""),[_,C]=w.useState("all"),[A,P]=w.useState("all"),[E,M]=w.useState("all"),[$,T]=w.useState("overview"),[O,L]=w.useState(!1),[z,J]=w.useState(null),[H,oe]=w.useState(null),[Q,D]=w.useState(null),[ae,pe]=w.useState(null),[te,Z]=w.useState(!1),[ne,xe]=w.useState(!1),[ye,se]=w.useState(null),F=w.useRef(null),[Y,ee]=w.useState(null),[G,I]=w.useState(!1),[ve,we]=w.useState(!1),[Fe,Be]=w.useState(null),[it,lt]=w.useState(""),ft=()=>{if(!Fe)return;const{id:Se,field:Vt}=Fe,tt=e.find(mt=>mt.id===Se);if(tt){const mt={...tt,[Vt]:it};m(Se,mt),v({title:"Modifié",description:`${Vt} mis à jour`})}Be(null)},Ne=zk.useReactToPrint({contentRef:F,onAfterPrint:()=>L(!1)}),Ge=(Se,Vt)=>{m(Se,{status:Vt}),D(null),v({title:"Statut mis à jour",description:`Le statut de la vaccination a été changé en "${{completed:"Terminée",scheduled:"Planifiée",overdue:"En retard",missed:"Manquée"}[Vt]}"`})},Ke=Se=>{pe(Se),Z(!0)},Wt=Se=>{se(Se),xe(!0)},Yn=()=>{if(ye){f(ye.id);const Se=ye.vaccinationCategory==="reminder"?"rappel":"vaccination",Vt=ye.vaccinationCategory==="new"?e.filter(tt=>tt.originalVaccinationId===ye.id).length:0;v({title:`${Se.charAt(0).toUpperCase()+Se.slice(1)} supprimée`,description:ye.vaccinationCategory==="new"&&Vt>0?`La vaccination ${ye.vaccineName} et ses ${Vt} rappel(s) ont été supprimés avec succès.`:`Le ${Se} ${ye.vaccineName} a été supprimé avec succès.`}),xe(!1),se(null)}},kt=()=>{Z(!1),pe(null)},Nn=w.useMemo(()=>{const Se=e.length,Vt=l("completed").length,tt=a().length,mt=o().length,sn=l("scheduled").length,is=e.filter(Rs=>Rs.vaccinationCategory==="reminder").length,Qr=e.filter(Rs=>Rs.vaccinationCategory==="new").length;return{total:Se,completed:Vt,overdue:tt,upcoming:mt,scheduled:sn,reminders:is,originalVaccinations:Qr}},[e,l,a,o]),dr=w.useMemo(()=>e.filter(Se=>{const Vt=Se.petName.toLowerCase().includes(j.toLowerCase())||Se.clientName.toLowerCase().includes(j.toLowerCase())||Se.vaccineName.toLowerCase().includes(j.toLowerCase())||Se.veterinarian.toLowerCase().includes(j.toLowerCase()),tt=_==="all"||Se.status===_,mt=A==="all"||Se.vaccineType===A,sn=E==="all"||Se.vaccinationCategory===E;return Vt&&tt&&mt&&sn}),[e,j,_,A,E]),Qn=()=>{const Se=JSON.stringify(e,null,2),Vt=new Blob([Se],{type:"application/json"}),tt=URL.createObjectURL(Vt),mt=document.createElement("a");mt.href=tt,mt.download=`vaccinations-${It(new Date,"yyyy-MM-dd")}.json`,mt.click(),URL.revokeObjectURL(tt)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(As,{className:"h-8 w-8 text-blue-600"}),"Gestion Vaccinale"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Suivi et planification des vaccinations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(V,{onClick:Qn,variant:"outline",className:"gap-2",children:[r.jsx(CA,{className:"h-4 w-4"}),"Exporter"]}),r.jsx(R0,{})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx(As,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Nn.total})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:r.jsx(er,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Terminées"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Nn.completed})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:r.jsx(qn,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En Retard"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Nn.overdue})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:r.jsx($n,{className:"h-6 w-6 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prochaines 30j"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Nn.upcoming})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:r.jsx(Pt,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiées"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Nn.scheduled})]})]})})})]}),r.jsxs(pl,{value:$,onValueChange:T,children:[r.jsxs(jo,{className:"grid w-full grid-cols-4",children:[r.jsxs(ln,{value:"overview",className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(ln,{value:"calendar",className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4"}),"Calendrier"]}),r.jsxs(ln,{value:"protocols",className:"flex items-center gap-2",children:[r.jsx(ji,{className:"h-4 w-4"}),"Protocoles"]}),r.jsxs(ln,{value:"certificates",className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-4 w-4"}),"Certificats"]})]}),r.jsxs(cn,{value:"overview",className:"space-y-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ie,{placeholder:"Rechercher animal, client, vaccin...",value:j,onChange:Se=>b(Se.target.value),className:"pl-10"})]}),r.jsxs(Me,{value:_,onValueChange:C,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Tous statuts"}),r.jsx(U,{value:"completed",children:"Terminées"}),r.jsx(U,{value:"scheduled",children:"Planifiées"}),r.jsx(U,{value:"overdue",children:"En retard"}),r.jsx(U,{value:"missed",children:"Manquées"})]})]}),r.jsxs(Me,{value:A,onValueChange:P,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Tous types"}),r.jsx(U,{value:"core",children:"Essentiels"}),r.jsx(U,{value:"non-core",children:"Optionnels"}),r.jsx(U,{value:"rabies",children:"Rage"}),r.jsx(U,{value:"custom",children:"Personnalisés"})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(Me,{value:E,onValueChange:M,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Toutes catégories"}),r.jsx(U,{value:"new",children:"Vaccinations"}),r.jsx(U,{value:"reminder",children:"Rappels"})]})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{variant:y==="cards"?"default":"outline",size:"sm",onClick:()=>N("cards"),children:r.jsx(il,{className:"h-4 w-4"})}),r.jsx(V,{variant:y==="table"?"default":"outline",size:"sm",onClick:()=>N("table"),children:r.jsx(al,{className:"h-4 w-4"})})]})]})})}),y==="cards"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:dr.map(Se=>{const Vt=t.find(mt=>mt.id===Se.petId),tt=n.find(mt=>mt.id===Se.clientId);return r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Gr,{className:"h-10 w-10",children:[r.jsx(cl,{src:Vt==null?void 0:Vt.photo}),r.jsx(Kr,{children:r.jsx(gu,{className:"h-5 w-5"})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm",children:Se.petName}),r.jsxs("p",{className:"text-xs text-gray-600",children:[Vt==null?void 0:Vt.type," • ",tt==null?void 0:tt.name]})]})]}),Q===Se.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{value:Se.status,onValueChange:mt=>Ge(Se.id,mt),children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"completed",children:"Terminée"}),r.jsx(U,{value:"scheduled",children:"Planifiée"}),r.jsx(U,{value:"overdue",children:"En retard"}),r.jsx(U,{value:"missed",children:"Manquée"})]})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>D(null),children:"Annuler"})]}):r.jsxs($e,{className:`${Y3(Se.status)} cursor-pointer hover:opacity-80`,onClick:()=>D(Se.id),children:[Q3(Se.status),r.jsx("span",{className:"ml-1 capitalize",children:Se.status})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(As,{className:`h-4 w-4 ${Se.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),r.jsxs("span",{className:"font-medium text-sm",children:[Se.vaccineName,Se.vaccinationCategory==="reminder"&&r.jsx("span",{className:"ml-2 text-xs text-orange-600 font-normal",children:"(Rappel)"})]}),r.jsx($e,{variant:"outline",className:"text-xs",children:Se.vaccineType}),Se.vaccinationCategory==="reminder"&&r.jsx($e,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Pt,{className:"h-4 w-4"}),r.jsxs("span",{children:["Date d'administration: ",It(new Date(Se.dateGiven),"dd/MM/yyyy",{locale:Gi})]})]}),Se.vaccinationCategory==="new"&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx($n,{className:"h-4 w-4"}),r.jsxs("span",{children:["Prochain rappel: ",It(new Date(Se.nextDueDate),"dd/MM/yyyy",{locale:Gi})]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Da,{className:"h-4 w-4"}),r.jsx("span",{children:Se.veterinarian})]}),Se.cost&&r.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:r.jsxs("span",{className:"font-medium",children:[Se.cost," ",g.currency]})}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:Se.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-green-600"}),r.jsx($e,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Se.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Se.stockQuantity,")"]})]}):Se.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx($e,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-3 border-t",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{ee(Se),I(!0)},children:[r.jsx(Ir,{className:"h-4 w-4 mr-1"}),"Détails"]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{ee(Se),we(!0)},children:r.jsx(ur,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Ke(Se),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Wt(Se),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(Vn,{className:"h-4 w-4"})})]})]})},Se.id)})}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsxs(mm,{children:[r.jsx(pm,{children:r.jsxs(Fa,{children:[r.jsx(Ot,{children:"Animal"}),r.jsx(Ot,{children:"Vaccin"}),r.jsx(Ot,{children:"Type"}),r.jsx(Ot,{children:"Date donnée"}),r.jsx(Ot,{children:"Statut"}),r.jsx(Ot,{children:"Stock"}),r.jsx(Ot,{children:"Vétérinaire"}),r.jsx(Ot,{children:"Coût"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(gm,{children:dr.map(Se=>{const Vt=t.find(mt=>mt.id===Se.petId),tt=n.find(mt=>mt.id===Se.clientId);return r.jsxs(Fa,{children:[r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Gr,{className:"h-8 w-8",children:[r.jsx(cl,{src:Vt==null?void 0:Vt.photo}),r.jsx(Kr,{children:r.jsx(gu,{className:"h-4 w-4"})})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:Se.petName}),r.jsx("div",{className:"text-xs text-gray-600",children:tt==null?void 0:tt.name})]})]})}),r.jsx(Dt,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:Se.vaccineName}),Se.vaccinationCategory==="reminder"&&r.jsx($e,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"})]})}),r.jsx(Dt,{children:r.jsx($e,{variant:"outline",className:"text-xs",children:Se.vaccineType})}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{Be({id:Se.id,field:"dateGiven"}),lt(Se.dateGiven)},children:(Fe==null?void 0:Fe.id)===Se.id&&Fe.field==="dateGiven"?r.jsx(ie,{type:"date",value:it,onChange:mt=>lt(mt.target.value),onBlur:ft,autoFocus:!0}):It(new Date(Se.dateGiven),"dd/MM/yyyy")}),r.jsx(Dt,{children:Q===Se.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{value:Se.status,onValueChange:mt=>Ge(Se.id,mt),children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"completed",children:"Terminée"}),r.jsx(U,{value:"scheduled",children:"Planifiée"}),r.jsx(U,{value:"overdue",children:"En retard"}),r.jsx(U,{value:"missed",children:"Manquée"})]})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>D(null),children:"Annuler"})]}):r.jsxs($e,{className:`${Y3(Se.status)} cursor-pointer hover:opacity-80`,onClick:()=>D(Se.id),children:[Q3(Se.status),r.jsx("span",{className:"ml-1 capitalize",children:Se.status})]})}),r.jsx(Dt,{children:Se.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-green-600"}),r.jsx($e,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Se.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Se.stockQuantity,")"]})]}):Se.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx($e,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{Be({id:Se.id,field:"veterinarian"}),lt(Se.veterinarian)},children:(Fe==null?void 0:Fe.id)===Se.id&&Fe.field==="veterinarian"?r.jsxs(Me,{value:it,onValueChange:mt=>{lt(mt),Be(null);const sn={...e.find(is=>is.id===Se.id),veterinarian:mt};m(Se.id,sn)},children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsx(De,{children:g.veterinarians.filter(mt=>mt.isActive).map(mt=>r.jsx(U,{value:mt.name,children:mt.name},mt.id))})]}):Se.veterinarian}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{Be({id:Se.id,field:"cost"}),lt(String(Se.cost||""))},children:(Fe==null?void 0:Fe.id)===Se.id&&Fe.field==="cost"?r.jsx(ie,{type:"number",value:it,onChange:mt=>lt(mt.target.value),onBlur:()=>{ft()},autoFocus:!0}):r.jsxs(r.Fragment,{children:[" ",Se.cost," ",g.currency," "]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{ee(Se),I(!0)},children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{ee(Se),we(!0)},children:r.jsx(ur,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Ke(Se),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Wt(Se),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(Vn,{className:"h-4 w-4"})})]})})]},Se.id)})})]})})})]}),r.jsx(cn,{value:"calendar",children:r.jsx(z5e,{})}),r.jsxs(cn,{value:"protocols",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Gestion des Protocoles Vaccinaux"}),r.jsx(YS,{mode:"create"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(ji,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Protocoles"}),r.jsx("p",{className:"text-xl font-bold",children:s.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(er,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Actifs"}),r.jsx("p",{className:"text-xl font-bold",children:s.filter(Se=>Se.isActive).length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(qt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Essentiels"}),r.jsx("p",{className:"text-xl font-bold",children:s.filter(Se=>Se.vaccineType==="core").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:r.jsx(Da,{className:"h-4 w-4 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Espèces"}),r.jsx("p",{className:"text-xl font-bold",children:new Set(s.map(Se=>Se.species)).size})]})]})})})]}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs(Me,{value:A,onValueChange:P,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Tous types"}),r.jsx(U,{value:"core",children:"Essentiels"}),r.jsx(U,{value:"non-core",children:"Optionnels"}),r.jsx(U,{value:"rabies",children:"Rage"}),r.jsx(U,{value:"custom",children:"Personnalisés"})]})]}),r.jsxs(Me,{value:E,onValueChange:M,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Toutes catégories"}),r.jsx(U,{value:"new",children:"Vaccinations"}),r.jsx(U,{value:"reminder",children:"Rappels"})]})]}),r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ie,{placeholder:"Rechercher un protocole...",value:j,onChange:Se=>b(Se.target.value),className:"pl-10"})]})]}),r.jsx("div",{className:"space-y-6",children:Array.from(new Set(s.map(Se=>Se.species))).map(Se=>{const Vt=s.filter(tt=>tt.species===Se).filter(tt=>{const mt=A==="all"||tt.vaccineType===A,sn=tt.name.toLowerCase().includes(j.toLowerCase())||tt.description.toLowerCase().includes(j.toLowerCase());return mt&&sn});return Vt.length===0?null:r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gu,{className:"h-5 w-5"}),Se," (",Vt.length," protocoles)"]})})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Vt.map(tt=>r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsxs(he,{className:"p-4",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:tt.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx($e,{variant:tt.vaccineType==="core"?"default":"secondary",className:"text-xs",children:tt.vaccineType==="core"?"Essentiel":tt.vaccineType==="non-core"?"Optionnel":tt.vaccineType==="rabies"?"Rage":"Personnalisé"}),!tt.isActive&&r.jsx($e,{variant:"outline",className:"text-xs",children:"Inactif"})]})]})}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:tt.description}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Rappel:"}),r.jsx("span",{className:"font-medium",children:tt.intervals&&tt.intervals.length>0?tt.intervals.map(mt=>mt.label).join(", "):"Non spécifié"})]}),tt.manufacturer&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Fabricant:"}),r.jsx("span",{className:"font-medium",children:tt.manufacturer})]}),tt.ageRequirement&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Âge requis:"}),r.jsx("span",{className:"font-medium",children:tt.ageRequirement})]})]}),tt.notes&&r.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded",children:r.jsx("p",{className:"text-xs text-gray-600",children:tt.notes})}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx(YS,{mode:"edit",protocol:tt,children:r.jsxs(V,{size:"sm",variant:"outline",className:"flex-1",children:[r.jsx(en,{className:"h-4 w-4 mr-1"}),"Modifier"]})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{confirm(`Êtes-vous sûr de vouloir supprimer le protocole "${tt.name}" ?`)&&d(tt.id)},className:"text-red-600 hover:text-red-700",children:"🗑️"})]})]})},tt.id))})})]},Se)})}),s.length===0&&r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(ji,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun protocole vaccinal configuré"}),r.jsx("p",{className:"text-sm mb-4",children:"Commencez par créer votre premier protocole"}),r.jsx(YS,{mode:"create",children:r.jsxs(V,{children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Créer un protocole"]})})]})})]}),r.jsx(cn,{value:"certificates",children:r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-5 w-5"}),"Certificats de Vaccination"]})}),r.jsxs(he,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Générez des certificats officiels de vaccination pour les voyages et compétitions."}),r.jsxs(St,{open:O,onOpenChange:L,children:[r.jsx($c,{asChild:!0,children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Générer un Certificat"]})}),r.jsxs(wt,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Sélectionner l'animal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Me,{value:(H==null?void 0:H.toString())||"",onValueChange:Se=>{oe(parseInt(Se)),J(null)},children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un client"})}),r.jsx(De,{children:n.map(Se=>r.jsx(U,{value:Se.id.toString(),children:Se.name},Se.id))})]}),r.jsxs(Me,{value:(z==null?void 0:z.toString())||"",onValueChange:Se=>J(parseInt(Se)),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un animal"})}),r.jsx(De,{children:t.filter(Se=>H?Se.ownerId===H:!1).map(Se=>r.jsxs(U,{value:Se.id.toString(),children:[Se.name," (",Se.type,")"]},Se.id))})]}),z&&r.jsx("div",{className:"hidden",children:r.jsx(NP,{ref:F,petId:z})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{disabled:!z,onClick:Ne,children:"Générer PDF"})})]})]})]})]})]})})]}),r.jsx(St,{open:G,onOpenChange:I,children:r.jsxs(wt,{className:"max-w-2xl",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Détails de la Vaccination"})}),Y&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Animal:"}),r.jsx("p",{children:Y.petName})]}),r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Client:"}),r.jsx("p",{children:(gs=n.find(Se=>Se.id===Y.clientId))==null?void 0:gs.name})]}),r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Vaccin:"}),r.jsx("p",{children:Y.vaccineName})]}),r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Type:"}),r.jsx("p",{children:Y.vaccineType})]}),r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Date donnée:"}),r.jsx("p",{children:It(new Date(Y.dateGiven),"dd/MM/yyyy",{locale:Gi})})]}),r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Rappel:"}),r.jsx("p",{children:It(new Date(Y.nextDueDate),"dd/MM/yyyy",{locale:Gi})})]}),r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Vétérinaire:"}),r.jsx("p",{children:Y.veterinarian})]}),r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Coût:"}),r.jsxs("p",{children:[Y.cost," ",g.currency]})]})]}),Y.notes&&r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-muted-foreground",children:Y.notes})]})]})]})}),r.jsx(St,{open:ve,onOpenChange:we,children:r.jsxs(wt,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Document de Vaccination"})}),Y&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-muted-foreground",children:["Générez un document officiel pour la vaccination de ",Y.petName,"."]}),r.jsx("div",{className:"hidden",children:r.jsx(NP,{ref:F,petId:Y.petId})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>we(!1),children:"Annuler"}),r.jsx(V,{onClick:Ne,children:"Générer PDF"})]})]})]})}),r.jsx(R0,{open:te,onOpenChange:kt,editingVaccination:ae}),r.jsx(St,{open:ne,onOpenChange:xe,children:r.jsxs(wt,{className:"max-w-md",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Confirmer la suppression"})}),ye&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-muted-foreground",children:["Êtes-vous sûr de vouloir supprimer ",ye.vaccinationCategory==="reminder"?"le rappel":"la vaccination"," ",r.jsx("strong",{children:ye.vaccineName})," pour ",r.jsx("strong",{children:ye.petName})," ?"]}),r.jsxs("p",{className:"text-sm text-red-600",children:["Cette action est irréversible et supprimera également l'entrée du dossier médical.",ye.vaccinationCategory==="reminder"?r.jsxs("span",{className:"block mt-1",children:[r.jsx("strong",{children:"Note :"})," Seul ce rappel sera supprimé, les autres rappels de la même vaccination ne seront pas affectés."]}):r.jsxs("span",{className:"block mt-1",children:[r.jsx("strong",{children:"Attention :"})," La suppression de cette vaccination supprimera également tous ses rappels associés."]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>xe(!1),children:"Annuler"}),r.jsx(V,{variant:"destructive",onClick:Yn,children:"Supprimer"})]})]})]})})]})}function X3({children:e,protocol:t,mode:n}){const{addAntiparasiticProtocol:s,updateAntiparasiticProtocol:i}=jt(),{settings:a}=Jt(),{toast:o}=Rt(),[l,c]=w.useState(!1),[u,d]=w.useState({name:"",species:"",productType:"external",targetParasites:"",description:"",manufacturer:"",intervals:[{offsetDays:30,label:"30 jours"}],weightRange:"",ageRequirement:"",seasonalTreatment:!1,notes:"",isActive:!0}),[f,m]=w.useState(["days"]);w.useEffect(()=>{n==="edit"&&t&&(d({name:t.name,species:t.species,productType:t.productType,targetParasites:t.targetParasites,description:t.description,manufacturer:t.manufacturer||"",intervals:t.intervals,weightRange:t.weightRange||"",ageRequirement:t.ageRequirement||"",seasonalTreatment:t.seasonalTreatment||!1,notes:t.notes||"",isActive:t.isActive}),m(t.intervals.map(v=>v.offsetDays%30===0?"months":v.offsetDays%7===0?"weeks":"days")))},[n,t]);const g=v=>{if(v.preventDefault(),!u.name||!u.species||!u.productType||!u.description){o({title:"Erreur",description:"Champs obligatoires manquants",variant:"destructive"});return}n==="create"?(s(u),o({title:"Protocole créé",description:`${u.name} a été ajouté.`})):t&&(i(t.id,u),o({title:"Protocole mis à jour",description:`${u.name} a été modifié.`})),d({name:"",species:"",productType:"external",targetParasites:"",description:"",manufacturer:"",intervals:[{offsetDays:30,label:"30 jours"}],weightRange:"",ageRequirement:"",seasonalTreatment:!1,notes:"",isActive:!0}),c(!1)},x=a.species?a.species.split(",").map(v=>v.trim()):["Chien","Chat","Bovins","Ovins"];return r.jsxs(St,{open:l,onOpenChange:c,children:[r.jsx($c,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[n==="create"?r.jsx(ht,{className:"h-4 w-4"}):r.jsx(en,{className:"h-4 w-4"}),n==="create"?"Nouveau Protocole":"Modifier"]})}),r.jsxs(wt,{children:[r.jsx(Ct,{children:r.jsx(_t,{children:n==="create"?"Nouveau Protocole Antiparasitaire":"Modifier le Protocole"})}),r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"name",children:"Nom du protocole *"}),r.jsx(ie,{id:"name",value:u.name,onChange:v=>d(y=>({...y,name:v.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"species",children:"Espèce *"}),r.jsxs(Me,{value:u.species,onValueChange:v=>d(y=>({...y,species:v})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Espèce"})}),r.jsx(De,{children:x.map(v=>r.jsx(U,{value:v,children:v},v))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"productType",children:"Type de produit"}),r.jsxs(Me,{value:u.productType,onValueChange:v=>d(y=>({...y,productType:v})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type"})}),r.jsxs(De,{children:[r.jsx(U,{value:"external",children:"Externe"}),r.jsx(U,{value:"internal",children:"Interne"}),r.jsx(U,{value:"combined",children:"Combiné"}),r.jsx(U,{value:"heartworm",children:"Ver du cœur"}),r.jsx(U,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(U,{value:"worming",children:"Vermifugation"})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"targetParasites",children:"Parasites cibles"}),r.jsx(ie,{id:"targetParasites",value:u.targetParasites,onChange:v=>d(y=>({...y,targetParasites:v.target.value}))})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"description",children:"Description"}),r.jsx(Nt,{id:"description",value:u.description,onChange:v=>d(y=>({...y,description:v.target.value})),required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fr,{checked:u.isActive,onCheckedChange:v=>d(y=>({...y,isActive:v}))}),r.jsx(B,{children:"Actif"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Étapes / Intervalles"}),u.intervals.map((v,y)=>{const N=f[y],j=N==="months"?v.offsetDays/30:N==="weeks"?v.offsetDays/7:v.offsetDays;return r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(ie,{type:"number",value:j,min:0,onChange:b=>{const _=parseInt(b.target.value)||0,C=N==="months"?_*30:N==="weeks"?_*7:_;d(A=>{const P=[...A.intervals];return P[y].offsetDays=C,{...A,intervals:P}})},className:"w-20"}),r.jsxs(Me,{value:N,onValueChange:b=>{m(_=>{const C=[..._];return C[y]=b,C})},children:[r.jsx(Oe,{className:"w-24",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"days",children:"jours"}),r.jsx(U,{value:"weeks",children:"semaines"}),r.jsx(U,{value:"months",children:"mois"})]})]}),r.jsxs("span",{className:"ml-2",children:[v.offsetDays," jours"]}),r.jsx(V,{type:"button",variant:"destructive",onClick:()=>{d(b=>({...b,intervals:b.intervals.filter((_,C)=>C!==y)})),m(b=>b.filter((_,C)=>C!==y))},children:"Suppr."})]},y)}),r.jsx(V,{type:"button",onClick:()=>{d(v=>({...v,intervals:[...v.intervals,{offsetDays:0,label:""}]})),m(v=>[...v,"days"])},children:"Ajouter une étape"})]}),r.jsx(V,{type:"submit",className:"w-full",children:n==="create"?"Créer":"Mettre à jour"})]})]})]})}const J3=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},U5e=()=>{const{antiparasitics:e,pets:t,clients:n}=jt(),s=w.useMemo(()=>e.map(o=>{var l,c;return{id:o.id,type:"antiparasitic",title:o.productName,date:o.nextDueDate,status:o.status,clientName:(l=n.find(u=>u.id===o.clientId))==null?void 0:l.name,petName:(c=t.find(u=>u.id===o.petId))==null?void 0:c.name}}),[e,n,t]),i=o=>{},a=o=>{};return r.jsx(Vk,{events:s,onEventClick:i,onDateClick:a,title:"Calendrier Antiparasitaire",icon:r.jsx(rc,{className:"h-5 w-5"})})},Z3=e=>{switch(e){case"completed":return r.jsx(er,{className:"h-4 w-4"});case"overdue":return r.jsx(qn,{className:"h-4 w-4"});case"scheduled":return r.jsx($n,{className:"h-4 w-4"});case"missed":return r.jsx(qn,{className:"h-4 w-4"});default:return r.jsx($n,{className:"h-4 w-4"})}};function q5e(){const{antiparasitics:e,pets:t,clients:n,antiparasiticProtocols:s,getOverdueAntiparasitics:i,getUpcomingAntiparasitics:a,getAntiparasiticsByStatus:o,getActiveAntiparasiticProtocols:l,getAntiparasiticProtocolsBySpecies:c,addAntiparasitic:u,updateAntiparasitic:d,deleteAntiparasitic:f}=jt(),{settings:m}=Jt(),{currentView:g}=xd("antiparasitics"),{toast:x}=Rt(),[v,y]=w.useState(null),[N,j]=w.useState(""),[b,_]=w.useState(!1),[C,A]=w.useState(null),[P,E]=w.useState(!1),[M,$]=w.useState(null),T=()=>{if(!v)return;const{id:Ne,field:Ge}=v,Ke=e.find(Wt=>Wt.id===Ne);if(Ke){const Wt={...Ke,[Ge]:N};d(Ne,Wt),x({title:"Modifié",description:`${Ge} mis à jour`})}y(null)},[O,L]=w.useState(""),[z,J]=w.useState("all"),[H,oe]=w.useState("all"),[Q,D]=w.useState(g),[ae,pe]=w.useState(!1),[te,Z]=w.useState(null),[ne,xe]=w.useState(null),ye=w.useRef(null),se=zk.useReactToPrint({contentRef:ye,onAfterPrint:()=>pe(!1)}),F=e.length,Y=o("completed").length,ee=i().length,G=a().length,I=w.useMemo(()=>[...new Set(s.map(Ge=>Ge.species))].reduce((Ge,Ke)=>(Ge[Ke]=c(Ke),Ge),{}),[s]),ve=w.useMemo(()=>e.filter(Ne=>{t.find(Yn=>Yn.id===Ne.petId),n.find(Yn=>Yn.id===Ne.clientId);const Ge=!O||Ne.productName.toLowerCase().includes(O.toLowerCase())||Ne.petName.toLowerCase().includes(O.toLowerCase())||Ne.clientName.toLowerCase().includes(O.toLowerCase()),Ke=z==="all"||Ne.status===z,Wt=H==="all"||Ne.productType===H;return Ge&&Ke&&Wt}),[e,t,n,O,z,H]),[we,Fe]=w.useState(""),[Be,it]=w.useState("all");w.useMemo(()=>s.filter(Ne=>{const Ge=!we||Ne.name.toLowerCase().includes(we.toLowerCase())||Ne.species.toLowerCase().includes(we.toLowerCase())||Ne.targetParasites.toLowerCase().includes(we.toLowerCase()),Ke=Be==="all"||Ne.productType===Be;return Ge&&Ke}),[s,we,Be]);const lt=Ne=>{$(Ne.petId),E(!0)},ft=Ne=>{A(Ne),_(!0)};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold gradient-primary bg-clip-text text-transparent",children:"Gestion Antiparasitaire"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivi des traitements antiparasitaires et protocoles de prévention"})]}),r.jsx(L0,{children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Traitements"}),r.jsx("p",{className:"text-2xl font-bold",children:F})]}),r.jsx(rc,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Complétés"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:Y})]}),r.jsx(er,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"En Retard"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:ee})]}),r.jsx(qn,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"À Venir (7j)"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:G})]}),r.jsx($n,{className:"h-8 w-8 text-blue-600"})]})})})]}),r.jsxs(pl,{defaultValue:"treatments",className:"space-y-6",children:[r.jsxs(jo,{className:"grid w-full grid-cols-4",children:[r.jsx(ln,{value:"treatments",children:"Traitements"}),r.jsx(ln,{value:"calendar",children:"Calendrier"}),r.jsx(ln,{value:"protocols",children:"Protocoles"}),r.jsx(ln,{value:"certificates",children:"Certificats"})]}),r.jsxs(cn,{value:"treatments",className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(_A,{className:"h-5 w-5"}),"Filtres et Recherche"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ie,{placeholder:"Rechercher par produit, animal ou client...",value:O,onChange:Ne=>L(Ne.target.value),className:"pl-10"})]})}),r.jsxs(Me,{value:z,onValueChange:J,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{placeholder:"Statut"})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Tous statuts"}),r.jsx(U,{value:"completed",children:"Complété"}),r.jsx(U,{value:"scheduled",children:"Planifié"}),r.jsx(U,{value:"overdue",children:"En retard"}),r.jsx(U,{value:"missed",children:"Manqué"})]})]}),r.jsxs(Me,{value:H,onValueChange:oe,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{placeholder:"Type"})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Tous types"}),r.jsx(U,{value:"external",children:"Externe"}),r.jsx(U,{value:"internal",children:"Interne"}),r.jsx(U,{value:"combined",children:"Combiné"}),r.jsx(U,{value:"heartworm",children:"Ver du cœur"}),r.jsx(U,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(U,{value:"worming",children:"Vermifugation"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:Q==="cards"?"default":"outline",size:"sm",onClick:()=>D("cards"),children:r.jsx(il,{className:"h-4 w-4"})}),r.jsx(V,{variant:Q==="table"?"default":"outline",size:"sm",onClick:()=>D("table"),children:r.jsx(al,{className:"h-4 w-4"})})]})]})})]}),Q==="cards"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ve.map(Ne=>{const Ge=t.find(Ke=>Ke.id===Ne.petId);return n.find(Ke=>Ke.id===Ne.clientId),r.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ee,{className:"text-lg",children:Ne.productName}),r.jsxs($e,{className:J3(Ne.status),children:[Z3(Ne.status),r.jsx("span",{className:"ml-1",children:Ne.status==="completed"?"Complété":Ne.status==="scheduled"?"Planifié":Ne.status==="overdue"?"En retard":"Manqué"})]})]})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-10 w-10",children:Ge!=null&&Ge.photo?r.jsx(cl,{src:Ge.photo,alt:Ge.name}):r.jsx(Kr,{children:r.jsx(gu,{className:"h-5 w-5"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Ne.petName}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Ne.clientName})]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{children:Ne.productType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Parasites:"}),r.jsx("span",{className:"text-right",children:Ne.targetParasites})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Date donnée:"}),r.jsx("span",{children:It(new Date(Ne.dateGiven),"dd/MM/yyyy")})]}),Ne.nextDueDate&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Prochain rappel:"}),r.jsx("span",{children:It(new Date(Ne.nextDueDate),"dd/MM/yyyy")})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Vétérinaire:"}),r.jsx("span",{children:Ne.veterinarian})]}),Ne.cost&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Coût:"}),r.jsxs("span",{className:"font-medium",children:[Ne.cost," ",m.currency]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Stock:"}),Ne.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-green-600"}),r.jsx($e,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Ne.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Ne.stockQuantity,")"]})]}):Ne.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx($e,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>lt(Ne),children:[r.jsx(Ir,{className:"h-4 w-4 mr-1"}),"Détails"]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ft(Ne),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("Supprimer ce traitement antiparasitaire ?")&&(f(Ne.id),x({title:"Supprimé",description:`${Ne.productName} supprimé.`}))},children:r.jsx(Vn,{className:"h-4 w-4"})})]})]})]},Ne.id)})}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsxs(mm,{children:[r.jsx(pm,{children:r.jsxs(Fa,{children:[r.jsx(Ot,{children:"Animal"}),r.jsx(Ot,{children:"Produit"}),r.jsx(Ot,{children:"Type"}),r.jsx(Ot,{children:"Date donnée"}),r.jsx(Ot,{children:"Prochain rappel"}),r.jsx(Ot,{children:"Statut"}),r.jsx(Ot,{children:"Stock"}),r.jsx(Ot,{children:"Vétérinaire"}),r.jsx(Ot,{children:"Coût"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(gm,{children:ve.map(Ne=>r.jsxs(Fa,{children:[r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gr,{className:"h-8 w-8",children:r.jsx(Kr,{children:r.jsx(gu,{className:"h-4 w-4"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Ne.petName}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Ne.clientName})]})]})}),r.jsx(Dt,{className:"font-medium",children:Ne.productName}),r.jsx(Dt,{children:Ne.productType}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{y({id:Ne.id,field:"dateGiven"}),j(Ne.dateGiven)},children:(v==null?void 0:v.id)===Ne.id&&v.field==="dateGiven"?r.jsx(ie,{type:"date",value:N,onChange:Ge=>j(Ge.target.value),onBlur:T,autoFocus:!0}):It(new Date(Ne.dateGiven),"dd/MM/yyyy")}),r.jsx(Dt,{children:Ne.nextDueDate?It(new Date(Ne.nextDueDate),"dd/MM/yyyy"):"-"}),r.jsx(Dt,{children:r.jsxs($e,{className:J3(Ne.status),children:[Z3(Ne.status),r.jsx("span",{className:"ml-1",children:Ne.status==="completed"?"Complété":Ne.status==="scheduled"?"Planifié":Ne.status==="overdue"?"En retard":"Manqué"})]})}),r.jsx(Dt,{children:Ne.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-green-600"}),r.jsx($e,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Ne.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Ne.stockQuantity,")"]})]}):Ne.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx($e,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{y({id:Ne.id,field:"veterinarian"}),j(Ne.veterinarian)},children:(v==null?void 0:v.id)===Ne.id&&v.field==="veterinarian"?r.jsxs(Me,{value:N,onValueChange:Ge=>{j(Ge),d(Ne.id,{veterinarian:Ge}),y(null)},children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsx(De,{children:m.veterinarians.filter(Ge=>Ge.isActive).map(Ge=>r.jsx(U,{value:Ge.name,children:Ge.name},Ge.id))})]}):Ne.veterinarian}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{y({id:Ne.id,field:"cost"}),j(Ne.cost||"")},children:(v==null?void 0:v.id)===Ne.id&&v.field==="cost"?r.jsx(ie,{type:"number",value:N,onChange:Ge=>j(Ge.target.value),onBlur:T,autoFocus:!0}):Ne.cost?`${Ne.cost} ${m.currency}`:"-"}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>lt(Ne),children:r.jsx(Ir,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ft(Ne),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("Supprimer ce traitement antiparasitaire ?")&&(f(Ne.id),x({title:"Supprimé",description:`${Ne.productName} supprimé.`}))},children:r.jsx(Vn,{className:"h-4 w-4"})})]})})]},Ne.id))})]})})})]}),r.jsx(cn,{value:"calendar",children:r.jsx(U5e,{})}),r.jsxs(cn,{value:"protocols",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Protocoles Antiparasitaires"}),r.jsx("p",{className:"text-muted-foreground",children:"Gérez les protocoles de traitement par espèce"})]}),r.jsx(X3,{mode:"create",children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau Protocole"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Protocoles"}),r.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),r.jsx(ur,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Actifs"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.filter(Ne=>Ne.isActive).length})]}),r.jsx(er,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Externes"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.filter(Ne=>Ne.productType==="external"||Ne.productType==="flea_tick").length})]}),r.jsx(rc,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Espèces"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Object.keys(I).length})]}),r.jsx(gu,{className:"h-8 w-8 text-purple-600"})]})})})]}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ie,{placeholder:"Rechercher un protocole...",value:we,onChange:Ne=>Fe(Ne.target.value),className:"pl-10"})]})}),r.jsxs(Me,{value:Be,onValueChange:it,children:[r.jsx(Oe,{className:"w-[200px]",children:r.jsx(Ie,{placeholder:"Type de produit"})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Tous types"}),r.jsx(U,{value:"external",children:"Externe"}),r.jsx(U,{value:"internal",children:"Interne"}),r.jsx(U,{value:"combined",children:"Combiné"}),r.jsx(U,{value:"heartworm",children:"Ver du cœur"}),r.jsx(U,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(U,{value:"worming",children:"Vermifugation"})]})]})]})})}),r.jsx("div",{className:"space-y-6",children:Object.keys(I).map(Ne=>{const Ge=I[Ne].filter(Ke=>{const Wt=!we||Ke.name.toLowerCase().includes(we.toLowerCase())||Ke.targetParasites.toLowerCase().includes(we.toLowerCase()),Yn=Be==="all"||Ke.productType===Be;return Wt&&Yn});return Ge.length===0?null:r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(gu,{className:"h-5 w-5"}),Ne," (",Ge.length," protocoles)"]})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ge.map(Ke=>r.jsxs(de,{className:"border-l-4 border-l-primary",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ee,{className:"text-base",children:Ke.name}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(X3,{mode:"edit",protocol:Ke,children:r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(en,{className:"h-4 w-4"})})}),r.jsx($e,{variant:Ke.isActive?"default":"secondary",children:Ke.isActive?"Actif":"Inactif"})]})]})}),r.jsxs(he,{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:Ke.description}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{children:Ke.productType})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Parasites:"}),r.jsx("span",{className:"text-right",children:Ke.targetParasites})]}),Ke.weightRange&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Poids:"}),r.jsx("span",{children:Ke.weightRange})]}),Ke.ageRequirement&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Âge:"}),r.jsx("span",{children:Ke.ageRequirement})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rappels:"}),r.jsx("span",{children:Ke.intervals.map(Wt=>Wt.label).join(", ")})]}),Ke.manufacturer&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Fabricant:"}),r.jsx("span",{children:Ke.manufacturer})]})]}),Ke.notes&&r.jsx("div",{className:"mt-3 p-2 bg-muted rounded text-sm",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",Ke.notes]})})]})]},Ke.id))})})]},Ne)})})]}),r.jsx(cn,{value:"certificates",children:r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-5 w-5"}),"Certificats Antiparasitaires"]})}),r.jsxs(he,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Générez des certificats officiels de traitement antiparasitaire pour les voyages et compétitions."}),r.jsxs(St,{open:ae,onOpenChange:pe,children:[r.jsx($c,{asChild:!0,children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Générer un Certificat"]})}),r.jsxs(wt,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Sélectionner l'animal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Me,{value:(te==null?void 0:te.toString())||"",onValueChange:Ne=>{Z(parseInt(Ne)),xe(null)},children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un client"})}),r.jsx(De,{children:n.map(Ne=>r.jsx(U,{value:Ne.id.toString(),children:Ne.name},Ne.id))})]}),r.jsxs(Me,{value:(ne==null?void 0:ne.toString())||"",onValueChange:Ne=>xe(parseInt(Ne)),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un animal"})}),r.jsx(De,{children:t.filter(Ne=>te?Ne.ownerId===te:!1).map(Ne=>r.jsxs(U,{value:Ne.id.toString(),children:[Ne.name," (",Ne.type,")"]},Ne.id))})]}),ne&&r.jsx("div",{className:"hidden",children:r.jsxs("div",{ref:ye,children:["Certificat antiparasitaire pour animal ",ne]})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{disabled:!ne,onClick:se,children:"Générer PDF"})})]})]})]})]})]})})]}),r.jsx(L0,{open:b,onOpenChange:Ne=>{_(Ne),Ne||A(null)},editingAntiparasitic:C}),M&&r.jsx(j9,{petId:M,open:P,onOpenChange:E})]})}const W5e=[{value:"medication",label:"Médicaments",icon:"💊"},{value:"vaccine",label:"Vaccins",icon:"💉"},{value:"consumable",label:"Consommables",icon:"🩹"},{value:"equipment",label:"Équipement",icon:"🔧"},{value:"supplement",label:"Suppléments",icon:"🧪"}],H5e=[{value:"unit",label:"Unité"},{value:"box",label:"Boîte"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}],G5e={medication:["Antibiotique","Anti-inflammatoire","Antiparasitaire","Anesthésique","Analgésique","Antihistaminique","Corticoïde","Diurétique","Autre"],vaccine:["Vaccin Core","Vaccin Non-Core","Vaccin Obligatoire","Vaccin Recommandé","Autre"],consumable:["Matériel d'injection","Protection","Pansement","Suture","Autre"],equipment:["Diagnostic","Chirurgie","Monitoring","Stérilisation","Autre"],supplement:["Vitamines","Minéraux","Probiotiques","Acides aminés","Autre"]};function eL({open:e,onOpenChange:t,editingItem:n}){var f;const{addStockItem:s,updateStockItem:i}=jt(),{settings:a}=Jt(),{toast:o}=Rt(),[l,c]=w.useState({name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0});w.useEffect(()=>{c(n?{name:n.name,category:n.category,subcategory:n.subcategory||"",description:n.description||"",manufacturer:n.manufacturer||"",batchNumber:n.batchNumber||"",dosage:n.dosage||"",unit:n.unit,currentStock:n.currentStock,minimumStock:n.minimumStock,maximumStock:n.maximumStock||0,purchasePrice:n.purchasePrice,sellingPrice:n.sellingPrice,expirationDate:n.expirationDate||"",supplier:n.supplier||"",location:n.location||"",notes:n.notes||"",barcode:n.barcode||"",sku:n.sku||"",isActive:n.isActive}:{name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0})},[n,e]);const u=m=>{if(m.preventDefault(),!l.name.trim()){o({title:"Erreur",description:"Le nom de l'élément est requis.",variant:"destructive"});return}if(l.currentStock<0||l.minimumStock<0||l.purchasePrice<0||l.sellingPrice<0){o({title:"Erreur",description:"Les valeurs numériques ne peuvent pas être négatives.",variant:"destructive"});return}const g={...l,currentStock:Number(l.currentStock),minimumStock:Number(l.minimumStock),maximumStock:Number(l.maximumStock)||void 0,purchasePrice:Number(l.purchasePrice),sellingPrice:Number(l.sellingPrice),expirationDate:l.expirationDate||void 0,subcategory:l.subcategory||void 0,description:l.description||void 0,manufacturer:l.manufacturer||void 0,batchNumber:l.batchNumber||void 0,dosage:l.dosage||void 0,supplier:l.supplier||void 0,location:l.location||void 0,notes:l.notes||void 0,barcode:l.barcode||void 0,sku:l.sku||void 0};n?(i(n.id,g),o({title:"Élément modifié",description:`"${l.name}" a été modifié avec succès.`})):(s(g),o({title:"Élément ajouté",description:`"${l.name}" a été ajouté au stock.`})),t(!1)},d=(m,g)=>{c(x=>({...x,[m]:g}))};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:n?"Modifier l'élément de stock":"Nouvel élément de stock"}),r.jsx(jn,{children:n?"Modifiez les informations de l'élément de stock.":"Ajoutez un nouvel élément à votre inventaire."})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations de base"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"name",children:"Nom de l'élément *"}),r.jsx(ie,{id:"name",value:l.name,onChange:m=>d("name",m.target.value),placeholder:"ex: Amoxicilline 500mg",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"category",children:"Catégorie *"}),r.jsxs(Me,{value:l.category,onValueChange:m=>d("category",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner une catégorie"})}),r.jsx(De,{children:W5e.map(m=>r.jsxs(U,{value:m.value,children:[m.icon," ",m.label]},m.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"subcategory",children:"Sous-catégorie"}),r.jsxs(Me,{value:l.subcategory,onValueChange:m=>d("subcategory",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner une sous-catégorie"})}),r.jsx(De,{children:(f=G5e[l.category])==null?void 0:f.map(m=>r.jsx(U,{value:m,children:m},m))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(ie,{id:"manufacturer",value:l.manufacturer,onChange:m=>d("manufacturer",m.target.value),placeholder:"ex: Boehringer Ingelheim"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"description",children:"Description"}),r.jsx(Nt,{id:"description",value:l.description,onChange:m=>d("description",m.target.value),placeholder:"Description détaillée de l'élément...",rows:2})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations techniques"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"batchNumber",children:"Numéro de lot"}),r.jsx(ie,{id:"batchNumber",value:l.batchNumber,onChange:m=>d("batchNumber",m.target.value),placeholder:"ex: AMX2024001"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"dosage",children:"Dosage"}),r.jsx(ie,{id:"dosage",value:l.dosage,onChange:m=>d("dosage",m.target.value),placeholder:"ex: 500mg"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"unit",children:"Unité"}),r.jsxs(Me,{value:l.unit,onValueChange:m=>d("unit",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner une unité"})}),r.jsx(De,{children:H5e.map(m=>r.jsx(U,{value:m.value,children:m.label},m.value))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Gestion du stock"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"currentStock",children:"Stock actuel *"}),r.jsx(ie,{id:"currentStock",type:"number",min:"0",value:l.currentStock,onChange:m=>d("currentStock",parseInt(m.target.value)||0),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"minimumStock",children:"Stock minimum *"}),r.jsx(ie,{id:"minimumStock",type:"number",min:"0",value:l.minimumStock,onChange:m=>d("minimumStock",parseInt(m.target.value)||0),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"maximumStock",children:"Stock maximum"}),r.jsx(ie,{id:"maximumStock",type:"number",min:"0",value:l.maximumStock,onChange:m=>d("maximumStock",parseInt(m.target.value)||0)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(B,{htmlFor:"purchasePrice",children:["Prix d'achat (",a.currency,") *"]}),r.jsx(ie,{id:"purchasePrice",type:"number",step:"0.01",min:"0",value:l.purchasePrice,onChange:m=>d("purchasePrice",parseFloat(m.target.value)||0),required:!0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix d'achat au fournisseur"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(B,{htmlFor:"sellingPrice",children:["Prix de vente (",a.currency,") *"]}),r.jsx(ie,{id:"sellingPrice",type:"number",step:"0.01",min:"0",value:l.sellingPrice,onChange:m=>d("sellingPrice",parseFloat(m.target.value)||0),required:!0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix de vente au client"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"La valeur totale sera calculée automatiquement : Prix d'achat × Stock actuel"}),l.purchasePrice>0&&l.currentStock>0&&r.jsxs("div",{className:"text-sm font-medium text-primary",children:["Valeur totale : ",(l.purchasePrice*l.currentStock).toFixed(2)," ",a.currency]}),l.purchasePrice>0&&l.sellingPrice>0&&r.jsxs("div",{className:"text-sm font-medium text-green-600",children:["Marge : ",((l.sellingPrice-l.purchasePrice)*l.currentStock).toFixed(2)," ",a.currency]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations supplémentaires"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"expirationDate",children:"Date d'expiration"}),r.jsx(ie,{id:"expirationDate",type:"date",value:l.expirationDate,onChange:m=>d("expirationDate",m.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"supplier",children:"Fournisseur"}),r.jsx(ie,{id:"supplier",value:l.supplier,onChange:m=>d("supplier",m.target.value),placeholder:"ex: Pharmacie Vétérinaire Centrale"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"location",children:"Emplacement"}),r.jsx(ie,{id:"location",value:l.location,onChange:m=>d("location",m.target.value),placeholder:"ex: Armoire A - Étagère 1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"barcode",children:"Code-barres"}),r.jsx(ie,{id:"barcode",value:l.barcode,onChange:m=>d("barcode",m.target.value),placeholder:"ex: 1234567890123"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"sku",children:"SKU"}),r.jsx(ie,{id:"sku",value:l.sku,onChange:m=>d("sku",m.target.value),placeholder:"ex: MED-AMX-500"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",value:l.notes,onChange:m=>d("notes",m.target.value),placeholder:"Notes supplémentaires...",rows:3})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:n?"Modifier":"Ajouter"})]})]})]})})}const K5e=[{value:"in",label:"Entrée",icon:vr,description:"Ajout de stock (achat, retour, etc.)"},{value:"out",label:"Sortie",icon:Vu,description:"Utilisation, vente, perte, etc."},{value:"adjustment",label:"Ajustement",icon:n6,description:"Correction d'inventaire"},{value:"transfer",label:"Transfert",icon:Rte,description:"Déplacement entre emplacements"}],Y5e={in:["Achat fournisseur","Retour client","Inventaire initial","Don/échantillon","Transfert entrant","Autre"],out:["Utilisation consultation","Vente client","Périmé/expiré","Cassé/endommagé","Vol/perte","Transfert sortant","Autre"],adjustment:["Correction inventaire","Comptage physique","Erreur saisie","Autre"],transfer:["Changement emplacement","Transfert entre sites","Réorganisation stock","Autre"]};function Q5e({open:e,onOpenChange:t,item:n}){var x;const{updateStockItem:s,addStockMovement:i}=jt(),{settings:a}=Jt(),{toast:o}=Rt(),[l,c]=w.useState({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),[u,d]=w.useState("");w.useEffect(()=>{n&&(c({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),d(""))},[n,e]);const f=v=>{if(v.preventDefault(),!n)return;if(l.quantity<=0){o({title:"Erreur",description:"La quantité doit être supérieure à 0.",variant:"destructive"});return}if(!l.reason.trim()){o({title:"Erreur",description:"La raison du mouvement est requise.",variant:"destructive"});return}let y=n.currentStock;if(l.type==="in")y+=l.quantity;else if(l.type==="out"){if(l.quantity>n.currentStock){o({title:"Erreur",description:`Stock insuffisant. Stock disponible: ${n.currentStock}`,variant:"destructive"});return}y-=l.quantity}else l.type==="adjustment"&&(y=l.quantity);l.type!=="transfer"&&s(n.id,{currentStock:y,lastRestocked:l.type==="in"?new Date().toISOString().split("T")[0]:void 0});const N=l.performedBy==="Autre"?u:l.performedBy,j={itemId:n.id,itemName:n.name,type:l.type,quantity:l.quantity,reason:l.reason,reference:l.reference||void 0,performedBy:N||void 0,date:new Date().toISOString(),notes:l.notes||void 0};i(j),o({title:"Mouvement enregistré",description:`${{in:"Entrée",out:"Sortie",adjustment:"Ajustement",transfer:"Transfert"}[l.type]} de ${l.quantity} ${n.unit} pour "${n.name}" enregistrée.`}),t(!1)},m=(v,y)=>{c(N=>({...N,[v]:y}))},g=()=>{if(!n)return 0;let v=n.currentStock;return l.type==="in"?v+=l.quantity:l.type==="out"?v-=l.quantity:l.type==="adjustment"&&(v=l.quantity),Math.max(0,v)};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-5 w-5"}),"Mouvement de stock"]}),r.jsxs(jn,{children:['Enregistrer un mouvement pour "',n.name,'"']})]}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:[r.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(Gn,{className:"h-5 w-5 text-blue-600"}),"Élément concerné"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock actuel"}),r.jsxs("div",{className:"font-semibold text-lg",children:[n.currentStock," ",n.unit]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock minimum"}),r.jsxs("div",{className:"font-semibold text-lg",children:[n.minimumStock," ",n.unit]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Emplacement"}),r.jsxs("div",{className:"font-semibold text-lg flex items-center gap-1",children:[r.jsx(cd,{className:"h-4 w-4"}),n.location||"Non défini"]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix d'achat"}),r.jsxs("div",{className:"font-semibold text-lg text-blue-600",children:[n.purchasePrice.toFixed(2)," ",a.currency]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix de vente"}),r.jsxs("div",{className:"font-semibold text-lg text-green-600",children:[n.sellingPrice.toFixed(2)," ",a.currency]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Valeur totale"}),r.jsxs("div",{className:"font-semibold text-lg text-purple-600",children:[n.totalValue.toFixed(2)," ",a.currency]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{className:"text-base font-medium",children:"Type de mouvement *"}),r.jsxs(Me,{value:l.type,onValueChange:v=>m("type",v),children:[r.jsx(Oe,{className:"h-12",children:r.jsx(Ie,{placeholder:"Sélectionner le type de mouvement"})}),r.jsx(De,{children:K5e.map(v=>{const y=v.icon;return r.jsx(U,{value:v.value,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(y,{className:"h-5 w-5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:v.label}),r.jsx("div",{className:"text-xs text-muted-foreground",children:v.description})]})]})},v.value)})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"quantity",className:"text-base font-medium",children:"Quantité *"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ie,{id:"quantity",type:"number",min:"0",step:"0.01",value:l.quantity,onChange:v=>m("quantity",parseFloat(v.target.value)||0),className:"flex-1 h-12 text-lg",required:!0}),r.jsx("div",{className:"bg-muted px-3 py-2 rounded-md text-sm font-medium",children:n.unit})]}),l.quantity>0&&r.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Nouveau stock après mouvement:"}),r.jsxs("div",{className:`text-lg font-semibold ${g()<=n.minimumStock?"text-orange-600":"text-green-600"}`,children:[g()," ",n.unit]}),g()<=n.minimumStock&&r.jsxs("div",{className:"text-xs text-orange-600 mt-1 flex items-center gap-1",children:[r.jsx(qn,{className:"h-3 w-3"}),"Stock bas - Seuil minimum atteint"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"reason",className:"text-base font-medium",children:"Raison *"}),r.jsxs(Me,{value:l.reason,onValueChange:v=>m("reason",v),children:[r.jsx(Oe,{className:"h-12",children:r.jsx(Ie,{placeholder:"Sélectionner une raison"})}),r.jsx(De,{children:(x=Y5e[l.type])==null?void 0:x.map(v=>r.jsx(U,{value:v,children:v},v))})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"reference",className:"text-base font-medium",children:"Référence"}),r.jsx(ie,{id:"reference",value:l.reference,onChange:v=>m("reference",v.target.value),placeholder:"ex: Facture #12345, Consultation #678",className:"h-12"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"performedBy",className:"text-base font-medium",children:"Effectué par"}),r.jsxs(Me,{value:l.performedBy,onValueChange:v=>m("performedBy",v),children:[r.jsx(Oe,{className:"h-12",children:r.jsx(Ie,{placeholder:"Sélectionner un vétérinaire"})}),r.jsxs(De,{children:[a.veterinarians.filter(v=>v.isActive).map(v=>r.jsx(U,{value:v.name,children:v.name},v.id)),r.jsx(U,{value:"Autre",children:"Autre (saisie manuelle)"})]})]}),l.performedBy==="Autre"&&r.jsx(ie,{placeholder:"Nom du responsable",value:u,onChange:v=>d(v.target.value),className:"h-10 mt-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",className:"text-base font-medium",children:"Notes"}),r.jsx(Nt,{id:"notes",value:l.notes,onChange:v=>m("notes",v.target.value),placeholder:"Notes supplémentaires...",rows:4,className:"resize-none"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),className:"h-12 px-6",children:"Annuler"}),r.jsxs(V,{type:"submit",className:"h-12 px-8 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[r.jsx(vr,{className:"h-4 w-4 mr-2"}),"Enregistrer le mouvement"]})]})]})]})}):null}const lp={medication:{label:"Médicaments",color:"bg-blue-100 text-blue-800",icon:"💊"},vaccine:{label:"Vaccins",color:"bg-green-100 text-green-800",icon:"💉"},consumable:{label:"Consommables",color:"bg-orange-100 text-orange-800",icon:"🩹"},equipment:{label:"Équipement",color:"bg-purple-100 text-purple-800",icon:"🔧"},supplement:{label:"Suppléments",color:"bg-yellow-100 text-yellow-800",icon:"🧪"}},X5e=[{value:"unit",label:"Unité"},{value:"box",label:"Boîte"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}];function J5e(){const{stockItems:e,stockAlerts:t,stockMovements:n,addStockItem:s,updateStockItem:i,deleteStockItem:a,addStockMovement:o,getStockAlerts:l}=jt(),{settings:c}=Jt(),{toast:u}=Rt(),[d,f]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(!1),[y,N]=w.useState(null),[j,b]=w.useState(null),[_,C]=w.useState(""),[A,P]=w.useState("all"),[E,M]=w.useState("all"),[$,T]=w.useState("name"),[O,L]=w.useState("asc"),[z,J]=w.useState(null),[H,oe]=w.useState(""),Q=w.useMemo(()=>{const F=e.length,Y=e.reduce((ve,we)=>ve+we.totalValue,0),ee=e.filter(ve=>ve.currentStock<=ve.minimumStock).length,G=e.filter(ve=>ve.expirationDate&&new Date(ve.expirationDate)<new Date).length,I=e.filter(ve=>ve.expirationDate&&new Date(ve.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(ve.expirationDate)>new Date).length;return{totalItems:F,totalValue:Y,lowStockItems:ee,expiredItems:G,expiringSoonItems:I}},[e]),D=w.useMemo(()=>{let F=e.filter(Y=>{var ve,we;const ee=Y.name.toLowerCase().includes(_.toLowerCase())||((ve=Y.manufacturer)==null?void 0:ve.toLowerCase().includes(_.toLowerCase()))||((we=Y.batchNumber)==null?void 0:we.toLowerCase().includes(_.toLowerCase())),G=A==="all"||Y.category===A;let I=!0;return E==="low_stock"?I=Y.currentStock<=Y.minimumStock:E==="expired"?I=Y.expirationDate&&new Date(Y.expirationDate)<new Date:E==="expiring_soon"?I=Y.expirationDate&&new Date(Y.expirationDate)<=new Date(Date.now()+2592e6)&&new Date(Y.expirationDate)>new Date:E==="active"&&(I=Y.isActive),ee&&G&&I});return F.sort((Y,ee)=>{let G,I;switch($){case"name":G=Y.name.toLowerCase(),I=ee.name.toLowerCase();break;case"currentStock":G=Y.currentStock,I=ee.currentStock;break;case"totalValue":G=Y.totalValue,I=ee.totalValue;break;case"expirationDate":G=Y.expirationDate||"9999-12-31",I=ee.expirationDate||"9999-12-31";break;default:G=Y.name.toLowerCase(),I=ee.name.toLowerCase()}return O==="asc"?G<I?-1:G>I?1:0:G>I?-1:G<I?1:0}),F},[e,_,A,E,$,O]),ae=(F,Y,ee)=>{const G={};switch(Y){case"currentStock":G.currentStock=parseInt(ee)||0;break;case"minimumStock":G.minimumStock=parseInt(ee)||0;break;case"purchasePrice":G.purchasePrice=parseFloat(ee)||0;break;case"sellingPrice":G.sellingPrice=parseFloat(ee)||0;break;case"location":G.location=ee;break;case"notes":G.notes=ee;break}i(F,G),J(null),u({title:"Stock mis à jour",description:"L'élément de stock a été mis à jour avec succès."})},pe=F=>{b(F),v(!0)},te=F=>{v(F),F||b(null)},Z=F=>{confirm(`Êtes-vous sûr de vouloir supprimer "${F.name}" du stock ?`)&&(a(F.id),u({title:"Élément supprimé",description:`"${F.name}" a été supprimé du stock.`}))},ne=F=>{N(F),g(!0)},xe=()=>{const F=[["Nom","Catégorie","Sous-catégorie","Fabricant","Numéro de lot","Dosage","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),...e.map(I=>[`"${I.name}"`,`"${I.category}"`,`"${I.subcategory||""}"`,`"${I.manufacturer||""}"`,`"${I.batchNumber||""}"`,`"${I.dosage||""}"`,`"${I.unit}"`,I.currentStock,I.minimumStock,I.purchasePrice,I.sellingPrice,`"${I.expirationDate||""}"`,`"${I.supplier||""}"`,`"${I.location||""}"`,`"${I.notes||""}"`,`"${I.barcode||""}"`,`"${I.sku||""}"`].join(","))].join(`
`),Y=new Blob([F],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a"),G=URL.createObjectURL(Y);ee.setAttribute("href",G),ee.setAttribute("download",`stock_${new Date().toISOString().split("T")[0]}.csv`),ee.style.visibility="hidden",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),u({title:"Export réussi",description:"Le fichier CSV a été téléchargé avec succès."})},ye=F=>{var G;const Y=(G=F.target.files)==null?void 0:G[0];if(!Y)return;const ee=new FileReader;ee.onload=I=>{var ve;try{const Fe=((ve=I.target)==null?void 0:ve.result).split(`
`),Be=Fe[0].split(",").map(Ke=>Ke.replace(/"/g,"").trim()),lt=["Nom","Catégorie","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente"].filter(Ke=>!Be.includes(Ke));if(lt.length>0){u({title:"Erreur d'import",description:`En-têtes manquants: ${lt.join(", ")}`,variant:"destructive"});return}const ft=[];let Ne=0,Ge=0;for(let Ke=1;Ke<Fe.length;Ke++){const Wt=Fe[Ke].trim();if(Wt)try{const Yn=Wt.split(",").map(Qn=>Qn.replace(/"/g,"").trim()),kt={};if(Be.forEach((Qn,gs)=>{kt[Qn]=Yn[gs]||""}),!kt.Nom||!kt.Catégorie||!kt.Unité){Ge++;continue}if(!Object.keys(lp).includes(kt.Catégorie)){Ge++;continue}const dr={id:Date.now()+Ke,name:kt.Nom,category:kt.Catégorie,subcategory:kt["Sous-catégorie"]||"",manufacturer:kt.Fabricant||"",batchNumber:kt["Numéro de lot"]||"",dosage:kt.Dosage||"",unit:kt.Unité,currentStock:parseInt(kt["Stock actuel"])||0,minimumStock:parseInt(kt["Stock minimum"])||0,purchasePrice:parseFloat(kt["Prix d'achat"])||0,sellingPrice:parseFloat(kt["Prix de vente"])||0,totalValue:(parseInt(kt["Stock actuel"])||0)*(parseFloat(kt["Prix d'achat"])||0),expirationDate:kt["Date d'expiration"]||void 0,supplier:kt.Fournisseur||"",location:kt.Emplacement||"",notes:kt.Notes||"",barcode:kt["Code-barres"]||"",sku:kt.SKU||"",lastUpdated:new Date().toISOString(),isActive:!0};ft.push(dr),Ne++}catch(Yn){Ge++,console.error(`Erreur ligne ${Ke+1}:`,Yn)}}ft.length>0&&ft.forEach(Ke=>{s(Ke)}),u({title:"Import terminé",description:`${Ne} éléments importés avec succès${Ge>0?`, ${Ge} erreurs`:""}.`})}catch{u({title:"Erreur d'import",description:"Impossible de lire le fichier CSV.",variant:"destructive"})}},ee.readAsText(Y),F.target.value=""},se=()=>{const F=[["Nom","Catégorie","Sous-catégorie","Fabricant","Numéro de lot","Dosage","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),["Amoxicilline 500mg","medication","Antibiotique","Boehringer Ingelheim","AMX2024001","500mg","box","15","5","20.00","25.50","2025-12-31","Pharmacie Vétérinaire Centrale","Armoire A - Étagère 1","Stockage à température ambiante","1234567890123","MED-AMX-500"].join(","),["Vaccin DHPP","vaccine","Vaccin combiné","Merial","VAC2024001","1ml","vial","25","10","45.00","55.00","2025-06-30","VetoPharma","Réfrigérateur - Étagère 1","Conservation entre 2-8°C","9876543210987","VAC-DHPP-001"].join(","),["Seringues 5ml","consumable","Matériel médical","BD","SYR2024001","5ml","unit","100","20","0.50","0.75","","MedSupply","Armoire B - Étagère 2","Usage unique","5556667778889","CON-SYR-5ML"].join(",")].join(`
`),Y=new Blob([F],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a"),G=URL.createObjectURL(Y);ee.setAttribute("href",G),ee.setAttribute("download","gabarit_import_stock.csv"),ee.style.visibility="hidden",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),u({title:"Gabarit téléchargé",description:"Le fichier gabarit a été téléchargé avec succès."})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[r.jsx(Gn,{className:"h-8 w-8 text-primary"}),"Gestion de Stock"]}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez votre inventaire de médicaments, vaccins et consommables"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(V,{variant:"outline",onClick:xe,className:"gap-2",children:[r.jsx(CA,{className:"h-4 w-4"}),"Exporter CSV"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:ye,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"import-file"}),r.jsx(V,{variant:"outline",className:"gap-2",asChild:!0,children:r.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[r.jsx(YC,{className:"h-4 w-4"}),"Importer CSV"]})})]}),r.jsxs(V,{variant:"outline",onClick:se,className:"gap-2",children:[r.jsx(pM,{className:"h-4 w-4"}),"Gabarit"]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>f(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvel Élément"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Éléments"}),r.jsx("p",{className:"text-2xl font-bold",children:Q.totalItems})]}),r.jsx(Gn,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur Totale"}),r.jsxs("p",{className:"text-2xl font-bold",children:[Q.totalValue.toFixed(2)," ",c.currency]})]}),r.jsx(zf,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Stock Bas"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Q.lowStockItems})]}),r.jsx(qn,{className:"h-8 w-8 text-orange-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirés"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:Q.expiredItems})]}),r.jsx(ng,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirent Bientôt"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Q.expiringSoonItems})]}),r.jsx($n,{className:"h-8 w-8 text-yellow-600"})]})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(_A,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4 flex-wrap",children:[r.jsx("div",{className:"flex-1 min-w-[300px]",children:r.jsx(ie,{placeholder:"Rechercher par nom, fabricant, lot...",value:_,onChange:F=>C(F.target.value),className:"w-full"})}),r.jsxs(Me,{value:A,onValueChange:P,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Catégorie"})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Toutes les catégories"}),Object.entries(lp).map(([F,Y])=>r.jsxs(U,{value:F,children:[Y.icon," ",Y.label]},F))]})]}),r.jsxs(Me,{value:E,onValueChange:M,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Statut"})}),r.jsxs(De,{children:[r.jsx(U,{value:"all",children:"Tous les statuts"}),r.jsx(U,{value:"active",children:"Actifs"}),r.jsx(U,{value:"low_stock",children:"Stock bas"}),r.jsx(U,{value:"expired",children:"Expirés"}),r.jsx(U,{value:"expiring_soon",children:"Expirent bientôt"})]})]}),r.jsxs(Me,{value:$,onValueChange:T,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Trier par"})}),r.jsxs(De,{children:[r.jsx(U,{value:"name",children:"Nom"}),r.jsx(U,{value:"currentStock",children:"Stock actuel"}),r.jsx(U,{value:"totalValue",children:"Valeur totale"}),r.jsx(U,{value:"expirationDate",children:"Date d'expiration"})]})]}),r.jsx(V,{variant:"outline",onClick:()=>L(O==="asc"?"desc":"asc"),children:O==="asc"?r.jsx(vr,{className:"h-4 w-4"}):r.jsx(Vu,{className:"h-4 w-4"})})]})})]}),r.jsx(de,{className:"bg-blue-50 border-blue-200",children:r.jsx(he,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(pM,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold text-blue-900",children:"Import en masse"}),r.jsx("p",{className:"text-sm text-blue-700",children:'Utilisez le bouton "Gabarit" pour télécharger un fichier CSV avec le format correct. Les données importées seront ajoutées au stock existant.'}),r.jsxs("div",{className:"text-xs text-blue-600",children:[r.jsx("strong",{children:"Catégories valides :"})," medication, vaccine, consumable, equipment, supplement"]}),r.jsxs("div",{className:"text-xs text-blue-600",children:[r.jsx("strong",{children:"Unités valides :"})," box, vial, unit, ml, mg, g, kg, l, pack, tube, sachet"]})]})]})})}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{children:["Inventaire (",D.length," éléments)"]})}),r.jsxs(he,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(mm,{children:[r.jsx(pm,{children:r.jsxs(Fa,{children:[r.jsx(Ot,{children:"Nom"}),r.jsx(Ot,{children:"Catégorie"}),r.jsx(Ot,{children:"Fabricant"}),r.jsx(Ot,{children:"Stock"}),r.jsx(Ot,{children:"Prix d'achat"}),r.jsx(Ot,{children:"Prix de vente"}),r.jsx(Ot,{children:"Valeur totale"}),r.jsx(Ot,{children:"Expiration"}),r.jsx(Ot,{children:"Emplacement"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(gm,{children:D.map(F=>{var I;const Y=F.currentStock<=F.minimumStock,ee=F.expirationDate&&new Date(F.expirationDate)<new Date,G=F.expirationDate&&new Date(F.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(F.expirationDate)>new Date;return r.jsxs(Fa,{className:F.isActive?"":"opacity-50",children:[r.jsx(Dt,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium",children:F.name}),F.batchNumber&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Lot: ",F.batchNumber]}),F.dosage&&r.jsx("div",{className:"text-sm text-muted-foreground",children:F.dosage})]})}),r.jsxs(Dt,{children:[r.jsxs($e,{className:lp[F.category].color,children:[lp[F.category].icon," ",lp[F.category].label]}),F.subcategory&&r.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:F.subcategory})]}),r.jsx(Dt,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{children:F.manufacturer||"-"}),F.supplier&&r.jsx("div",{className:"text-sm text-muted-foreground",children:F.supplier})]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:`font-medium ${Y?"text-orange-600":""}`,children:[F.currentStock," ",((I=X5e.find(ve=>ve.value===F.unit))==null?void 0:I.label)||F.unit]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Min: ",F.minimumStock]}),r.jsxs("div",{className:"flex items-center gap-2",children:[Y&&r.jsx($e,{variant:"destructive",className:"text-xs",children:"Stock bas"}),F.lastUpdated&&new Date(F.lastUpdated).getTime()>Date.now()-24*60*60*1e3&&r.jsx($e,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:"Mis à jour"})]})]})}),r.jsx(Dt,{children:(z==null?void 0:z.id)===F.id&&z.field==="purchasePrice"?r.jsx(ie,{type:"number",step:"0.01",value:H,onChange:ve=>oe(ve.target.value),onBlur:()=>ae(F.id,"purchasePrice",H),onKeyDown:ve=>{ve.key==="Enter"&&ae(F.id,"purchasePrice",H)},autoFocus:!0,className:"w-20"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{J({id:F.id,field:"purchasePrice"}),oe(F.purchasePrice.toString())},children:[F.purchasePrice.toFixed(2)," ",c.currency]})}),r.jsx(Dt,{children:(z==null?void 0:z.id)===F.id&&z.field==="sellingPrice"?r.jsx(ie,{type:"number",step:"0.01",value:H,onChange:ve=>oe(ve.target.value),onBlur:()=>ae(F.id,"sellingPrice",H),onKeyDown:ve=>{ve.key==="Enter"&&ae(F.id,"sellingPrice",H)},autoFocus:!0,className:"w-20"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{J({id:F.id,field:"sellingPrice"}),oe(F.sellingPrice.toString())},children:[r.jsxs("div",{className:"font-medium",children:[F.sellingPrice.toFixed(2)," ",c.currency]}),r.jsxs("div",{className:"text-xs text-green-600",children:["Marge: ",((F.sellingPrice-F.purchasePrice)*F.currentStock).toFixed(2)," ",c.currency]})]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"font-medium",children:[F.totalValue.toFixed(2)," ",c.currency]})}),r.jsx(Dt,{children:F.expirationDate?r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:`text-sm ${ee?"text-red-600 font-medium":G?"text-yellow-600 font-medium":""}`,children:It(new Date(F.expirationDate),"dd/MM/yyyy",{locale:Gi})}),ee&&r.jsx($e,{variant:"destructive",className:"text-xs",children:"Expiré"}),G&&!ee&&r.jsx($e,{variant:"secondary",className:"text-xs bg-yellow-100 text-yellow-800",children:"Expire bientôt"})]}):r.jsx("span",{className:"text-muted-foreground",children:"-"})}),r.jsx(Dt,{children:(z==null?void 0:z.id)===F.id&&z.field==="location"?r.jsx(ie,{value:H,onChange:ve=>oe(ve.target.value),onBlur:()=>ae(F.id,"location",H),onKeyDown:ve=>{ve.key==="Enter"&&ae(F.id,"location",H)},autoFocus:!0,className:"w-32"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded flex items-center gap-1",onClick:()=>{J({id:F.id,field:"location"}),oe(F.location||"")},children:[r.jsx(cd,{className:"h-3 w-3"}),F.location||"Non défini"]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ne(F),children:r.jsx(vr,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>pe(F),children:r.jsx(en,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Z(F),children:r.jsx(Vn,{className:"h-3 w-3"})})]})})]},F.id)})})]})}),D.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Gn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucun élément trouvé"}),r.jsx("p",{className:"text-sm",children:"Ajustez vos filtres ou ajoutez de nouveaux éléments"})]})]})]}),r.jsxs(de,{children:[r.jsxs(Pe,{children:[r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-5 w-5"}),"Historique des Mouvements (",n.length,")"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Derniers mouvements de stock (prescriptions, achats, ajustements)"})]}),r.jsx(he,{children:n.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx($n,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucun mouvement de stock enregistré"})]}):r.jsxs("div",{className:"space-y-4",children:[n.sort((F,Y)=>new Date(Y.date).getTime()-new Date(F.date).getTime()).slice(0,20).map(F=>{const ee={in:{label:"Entrée",color:"text-green-600",icon:"↗️"},out:{label:F.reason==="Prescription médicale"?"Prescription":"Sortie",color:F.reason==="Prescription médicale"?"text-orange-600":"text-red-600",icon:F.reason==="Prescription médicale"?"💊":"↘️"},adjustment:{label:"Ajustement",color:"text-blue-600",icon:"⚖️"},transfer:{label:"Transfert",color:"text-purple-600",icon:"↔️"}}[F.type];return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-2xl",children:ee.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:F.itemName}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[F.reason," • ",F.performedBy||"Non spécifié"]}),F.reference&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Référence: ",F.reference]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`font-semibold ${ee.color}`,children:[F.type==="in"?"+":F.type==="out"?"-":"",F.quantity]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:It(new Date(F.date),"dd/MM/yyyy HH:mm",{locale:Gi})})]})]},F.id)}),n.length>20&&r.jsx("div",{className:"text-center pt-4",children:r.jsxs(V,{variant:"outline",size:"sm",children:["Voir tous les mouvements (",n.length,")"]})})]})})]}),r.jsx(eL,{open:d,onOpenChange:f}),r.jsx(eL,{open:x,onOpenChange:te,editingItem:j}),r.jsx(Q5e,{open:m,onOpenChange:g,item:y})]})}const Z5e={monthly:[{description:"Salaire Secrétaire",amount:3e3,type:"expense",frequency:"monthly",source:"salary"},{description:"CNSS Secrétaire",amount:700,type:"expense",frequency:"monthly",source:"insurance"},{description:"CNSS Vétérinaire",amount:1500,type:"expense",frequency:"monthly",source:"insurance"},{description:"Loyer",amount:3e3,type:"expense",frequency:"monthly",source:"rent"},{description:"Eau et Électricité",amount:300,type:"expense",frequency:"monthly",source:"other"}],annual:[{description:"Impôts",amount:3e3,type:"expense",frequency:"annual",source:"tax"},{description:"Cotisation Ordre des Vétérinaires",amount:1200,type:"expense",frequency:"annual",source:"other"}],occasional:[{description:"Maintenance Équipement",amount:500,type:"expense",frequency:"occasional",source:"other"},{description:"Formation Professionnelle",amount:800,type:"expense",frequency:"occasional",source:"other"},{description:"Achat Matériel",amount:1200,type:"expense",frequency:"occasional",source:"other"}]},e6e=()=>{const{accountingEntries:e,addAccountingEntry:t,updateAccountingEntry:n,deleteAccountingEntry:s,generateAccountingSummary:i,consultations:a,vaccinations:o,antiparasitics:l,prescriptions:c,stockMovements:u,stockItems:d}=jt(),{settings:f}=Jt();Rt();const[m,g]=w.useState("month"),[x,v]=w.useState(""),[y,N]=w.useState(""),[j,b]=w.useState(!1),[_,C]=w.useState(null),[A,P]=w.useState(null),[E,M]=w.useState(!1),[$,T]=w.useState(Z5e),[O,L]=w.useState(!1),[z,J]=w.useState(null),[H,oe]=w.useState({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),[Q,D]=w.useState({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""});w.useEffect(()=>{const G=new Date,I=new Date(G.getFullYear(),G.getMonth(),1),ve=new Date(G.getFullYear(),G.getMonth()+1,0);v(It(I,"yyyy-MM-dd")),N(It(ve,"yyyy-MM-dd"))},[]),w.useEffect(()=>{if(x&&y){const G=m==="month"?It(new Date(x),"yyyy-MM",{locale:Gi}):m==="year"?It(new Date(x),"yyyy",{locale:Gi}):m==="day"?It(new Date(x),"dd/MM/yyyy",{locale:Gi}):`${It(new Date(x),"dd/MM/yyyy")} - ${It(new Date(y),"dd/MM/yyyy")}`,I=i(G,x,y);P(I)}},[x,y,m,e,a,o,l,c,u,i]);const ae=G=>{g(G);const I=new Date;switch(G){case"day":const ve=It(I,"yyyy-MM-dd");v(ve),N(ve);break;case"month":const we=new Date(I.getFullYear(),I.getMonth(),1),Fe=new Date(I.getFullYear(),I.getMonth()+1,0);v(It(we,"yyyy-MM-dd")),N(It(Fe,"yyyy-MM-dd"));break;case"quarter":const Be=Math.floor(I.getMonth()/3),it=new Date(I.getFullYear(),Be*3,1),lt=new Date(I.getFullYear(),Be*3+3,0);v(It(it,"yyyy-MM-dd")),N(It(lt,"yyyy-MM-dd"));break;case"year":const ft=new Date(I.getFullYear(),0,1),Ne=new Date(I.getFullYear(),11,31);v(It(ft,"yyyy-MM-dd")),N(It(Ne,"yyyy-MM-dd"));break}},pe=()=>{if(!Q.description||!Q.amount||!Q.date)return;const G={type:Q.type,category:"manual",frequency:Q.frequency,description:Q.description,amount:parseFloat(Q.amount),date:Q.date,source:Q.source,notes:Q.notes};_?(n(_.id,G),C(null)):t(G),D({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""}),b(!1)},te=G=>{C(G),D({type:G.type,frequency:G.frequency,description:G.description,amount:G.amount.toString(),date:G.date,source:G.source||"other",notes:G.notes||""}),b(!0)},Z=G=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette entrée ?")&&s(G)},ne=G=>{D({...Q,type:G.type,frequency:G.frequency||"occasional",description:G.description,amount:G.amount.toString(),source:G.source,date:Q.date||It(new Date,"yyyy-MM-dd")}),M(!1)},xe=()=>{if(!H.description||!H.amount)return;const G={description:H.description,amount:parseFloat(H.amount),type:H.type,frequency:H.frequency,source:H.source};if(z){const I={...$},ve=z.frequency,we=I[ve].findIndex(Fe=>Fe===z);we!==-1&&(I[ve][we]=G),T(I),J(null)}else{const I={...$},ve=H.frequency;I[ve].push(G),T(I)}oe({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),L(!1)},ye=G=>{J(G),oe({description:G.description,amount:G.amount.toString(),type:G.type,frequency:G.frequency,source:G.source}),L(!0)},se=G=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette suggestion ?")){const I={...$},ve=G.frequency;I[ve]=I[ve].filter(we=>we!==G),T(I)}},F=e.filter(G=>{const I=new Date(G.date),ve=new Date(x),we=new Date(y);return I>=ve&&I<=we}),Y=G=>`${G.toFixed(2)} ${f.currency}`,ee=G=>{switch(G){case"consultation":return"🩺";case"vaccination":return"💉";case"antiparasitic":return"💊";case"prescription":return"📋";case"stock_purchase":return"📦";case"salary":return"👥";case"rent":return"🏢";case"tax":return"📊";case"insurance":return"🛡️";default:return"📄"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(Z5,{className:"h-8 w-8"}),"Gestion Comptable"]}),r.jsx("p",{className:"text-muted-foreground",children:"Suivi des recettes et charges de votre clinique vétérinaire"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(St,{open:j,onOpenChange:b,children:[r.jsx($c,{asChild:!0,children:r.jsxs(V,{onClick:()=>{C(null),D({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""})},children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter une entrée"]})}),r.jsxs(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:_?"Modifier l'entrée comptable":"Ajouter une entrée comptable"}),r.jsx(jn,{children:_?"Modifiez les informations de cette entrée.":"Ajoutez une nouvelle recette ou charge manuelle."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(KN,{className:"h-4 w-4 text-yellow-600"}),r.jsx(B,{className:"text-sm font-medium",children:"Suggestions prédéfinies"})]}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>M(!E),children:E?r.jsx(db,{className:"h-4 w-4"}):r.jsx(KN,{className:"h-4 w-4"})})]}),E&&r.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges mensuelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:$.monthly.map((G,I)=>r.jsx(V,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ne(G),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:G.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[G.amount," ",f.currency]})]})},I))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges annuelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:$.annual.map((G,I)=>r.jsx(V,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ne(G),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:G.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[G.amount," ",f.currency]})]})},I))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges occasionnelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:$.occasional.map((G,I)=>r.jsx(V,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ne(G),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:G.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[G.amount," ",f.currency]})]})},I))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"type",children:"Type"}),r.jsxs(Me,{value:Q.type,onValueChange:G=>D({...Q,type:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"revenue",children:"Recette"}),r.jsx(U,{value:"expense",children:"Charge"})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"frequency",children:"Fréquence"}),r.jsxs(Me,{value:Q.frequency,onValueChange:G=>D({...Q,frequency:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"monthly",children:"Mensuel"}),r.jsx(U,{value:"annual",children:"Annuel"}),r.jsx(U,{value:"occasional",children:"Occasionnel"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"description",children:"Description"}),r.jsx(ie,{id:"description",value:Q.description,onChange:G=>D({...Q,description:G.target.value}),placeholder:"Ex: Salaire employé, Loyer, etc."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(B,{htmlFor:"amount",children:["Montant (",f.currency,")"]}),r.jsx(ie,{id:"amount",type:"number",step:"0.01",value:Q.amount,onChange:G=>D({...Q,amount:G.target.value}),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"date",children:"Date"}),r.jsx(ie,{id:"date",type:"date",value:Q.date,onChange:G=>D({...Q,date:G.target.value})})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"source",children:"Source"}),r.jsxs(Me,{value:Q.source,onValueChange:G=>D({...Q,source:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"salary",children:"Salaire"}),r.jsx(U,{value:"rent",children:"Loyer"}),r.jsx(U,{value:"tax",children:"Impôts"}),r.jsx(U,{value:"insurance",children:"Assurance"}),r.jsx(U,{value:"other",children:"Autre"})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"notes",children:"Notes (optionnel)"}),r.jsx(Nt,{id:"notes",value:Q.notes,onChange:G=>D({...Q,notes:G.target.value}),placeholder:"Informations supplémentaires..."})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>b(!1),children:"Annuler"}),r.jsx(V,{onClick:pe,children:_?"Modifier":"Ajouter"})]})]})]})]})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-5 w-5"}),"Période d'analyse"]})}),r.jsx(he,{children:r.jsxs("div",{className:"flex gap-4 items-end",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:m==="day"?"default":"outline",onClick:()=>ae("day"),size:"sm",children:"Ce jour"}),r.jsx(V,{variant:m==="month"?"default":"outline",onClick:()=>ae("month"),size:"sm",children:"Ce mois"}),r.jsx(V,{variant:m==="quarter"?"default":"outline",onClick:()=>ae("quarter"),size:"sm",children:"Ce trimestre"}),r.jsx(V,{variant:m==="year"?"default":"outline",onClick:()=>ae("year"),size:"sm",children:"Cette année"})]}),r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(B,{htmlFor:"startDate",children:"Du"}),r.jsx(ie,{id:"startDate",type:"date",value:x,onChange:G=>v(G.target.value),className:"w-40"}),r.jsx(B,{htmlFor:"endDate",children:"Au"}),r.jsx(ie,{id:"endDate",type:"date",value:y,onChange:G=>N(G.target.value),className:"w-40"})]})]})})]}),A&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-sm font-medium",children:"Total Recettes"}),r.jsx(vr,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:Y(A.totalRevenue)}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[r.jsxs("div",{children:["Consultations: ",Y(A.revenueBreakdown.consultations)]}),r.jsxs("div",{children:["Vaccinations: ",Y(A.revenueBreakdown.vaccinations)]}),r.jsxs("div",{children:["Antiparasitaires: ",Y(A.revenueBreakdown.antiparasitics)]}),r.jsxs("div",{children:["Prescriptions: ",Y(A.revenueBreakdown.prescriptions)]}),r.jsxs("div",{children:["Manuelles: ",Y(A.revenueBreakdown.manualEntries)]})]})]})]}),r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-sm font-medium",children:"Total Charges"}),r.jsx(Vu,{className:"h-4 w-4 text-red-600"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:Y(A.totalExpenses)}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[r.jsxs("div",{children:["Achats stock: ",Y(A.expenseBreakdown.stockPurchases)]}),r.jsxs("div",{children:["Salaires: ",Y(A.expenseBreakdown.salaries)]}),r.jsxs("div",{children:["Loyer: ",Y(A.expenseBreakdown.rent)]}),r.jsxs("div",{children:["Impôts: ",Y(A.expenseBreakdown.taxes)]}),r.jsxs("div",{children:["Autres: ",Y(A.expenseBreakdown.other)]})]})]})]}),r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-sm font-medium",children:"Résultat Net"}),r.jsx(zf,{className:"h-4 w-4"})]}),r.jsxs(he,{children:[r.jsx("div",{className:`text-2xl font-bold ${A.netIncome>=0?"text-green-600":"text-red-600"}`,children:Y(A.netIncome)}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:A.netIncome>=0?"Bénéfice":"Perte"})]})]})]}),r.jsxs(pl,{defaultValue:"entries",className:"space-y-4",children:[r.jsxs(jo,{children:[r.jsx(ln,{value:"entries",children:"Entrées Comptables"}),r.jsx(ln,{value:"configuration",children:"Configuration"})]}),r.jsx(cn,{value:"entries",children:r.jsxs(de,{children:[r.jsxs(Pe,{children:[r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-5 w-5"}),"Entrées comptables automatiques et manuelles"]}),r.jsx(lf,{children:"Entrées générées automatiquement (consultations, vaccinations, etc.) et entrées manuelles ajoutées"})]}),r.jsxs(he,{children:[r.jsxs(mm,{children:[r.jsx(pm,{children:r.jsxs(Fa,{children:[r.jsx(Ot,{children:"Date"}),r.jsx(Ot,{children:"Type"}),r.jsx(Ot,{children:"Description"}),r.jsx(Ot,{children:"Source"}),r.jsx(Ot,{children:"Fréquence"}),r.jsx(Ot,{children:"Montant"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(gm,{children:F.map(G=>r.jsxs(Fa,{children:[r.jsx(Dt,{children:It(new Date(G.date),"dd/MM/yyyy",{locale:Gi})}),r.jsx(Dt,{children:r.jsx($e,{variant:G.type==="revenue"?"default":"destructive",children:G.type==="revenue"?"Recette":"Charge"})}),r.jsx(Dt,{children:G.description}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:ee(G.source||"other")}),r.jsx("span",{className:"text-sm",children:G.category==="automatic"?"Automatique":"Manuel"})]})}),r.jsx(Dt,{children:r.jsx($e,{variant:"outline",children:G.frequency==="monthly"?"Mensuel":G.frequency==="annual"?"Annuel":"Occasionnel"})}),r.jsxs(Dt,{className:`font-medium ${G.type==="revenue"?"text-green-600":"text-red-600"}`,children:[G.type==="revenue"?"+":"-",Y(G.amount)]}),r.jsx(Dt,{children:G.category==="manual"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>te(G),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>Z(G.id),children:r.jsx(Vn,{className:"h-4 w-4"})})]})})]},G.id))})]}),F.length===0&&r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune entrée comptable pour cette période"})]})]})}),r.jsx(cn,{value:"configuration",children:r.jsxs(de,{children:[r.jsxs(Pe,{children:[r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(KN,{className:"h-5 w-5"}),"Configuration des Suggestions"]}),r.jsx(lf,{children:"Configurez les suggestions prédéfinies pour faciliter la saisie des charges et recettes"})]}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Mensuelles"}),r.jsxs(V,{onClick:()=>{J(null),oe({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),L(!0)},children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:$.monthly.map((G,I)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:G.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[G.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>ye(G),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>se(G),children:r.jsx(Vn,{className:"h-4 w-4"})})]})]},I))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Annuelles"}),r.jsxs(V,{onClick:()=>{J(null),oe({description:"",amount:"",type:"expense",frequency:"annual",source:"other"}),L(!0)},children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:$.annual.map((G,I)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:G.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[G.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>ye(G),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>se(G),children:r.jsx(Vn,{className:"h-4 w-4"})})]})]},I))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Occasionnelles"}),r.jsxs(V,{onClick:()=>{J(null),oe({description:"",amount:"",type:"expense",frequency:"occasional",source:"other"}),L(!0)},children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:$.occasional.map((G,I)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:G.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[G.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>ye(G),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>se(G),children:r.jsx(Vn,{className:"h-4 w-4"})})]})]},I))})]})]})})]}),r.jsx(St,{open:O,onOpenChange:L,children:r.jsxs(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:z?"Modifier la suggestion":"Ajouter une suggestion"}),r.jsx(jn,{children:z?"Modifiez les informations de cette suggestion.":"Ajoutez une nouvelle suggestion prédéfinie."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"suggestion-type",children:"Type"}),r.jsxs(Me,{value:H.type,onValueChange:G=>oe({...H,type:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"revenue",children:"Recette"}),r.jsx(U,{value:"expense",children:"Charge"})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"suggestion-frequency",children:"Fréquence"}),r.jsxs(Me,{value:H.frequency,onValueChange:G=>oe({...H,frequency:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"monthly",children:"Mensuel"}),r.jsx(U,{value:"annual",children:"Annuel"}),r.jsx(U,{value:"occasional",children:"Occasionnel"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"suggestion-description",children:"Description"}),r.jsx(ie,{id:"suggestion-description",value:H.description,onChange:G=>oe({...H,description:G.target.value}),placeholder:"Ex: Salaire employé, Loyer, etc."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(B,{htmlFor:"suggestion-amount",children:["Montant (",f.currency,")"]}),r.jsx(ie,{id:"suggestion-amount",type:"number",step:"0.01",value:H.amount,onChange:G=>oe({...H,amount:G.target.value}),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"suggestion-source",children:"Source"}),r.jsxs(Me,{value:H.source,onValueChange:G=>oe({...H,source:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"salary",children:"Salaire"}),r.jsx(U,{value:"rent",children:"Loyer"}),r.jsx(U,{value:"tax",children:"Impôts"}),r.jsx(U,{value:"insurance",children:"Assurance"}),r.jsx(U,{value:"other",children:"Autre"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>L(!1),children:"Annuler"}),r.jsx(V,{onClick:xe,children:z?"Modifier":"Ajouter"})]})]})]})})]})},t6e=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:s,appointments:i,addConsultation:a,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=jt(),u=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&a({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&o({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},f=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&l({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},m=()=>{e.length>0&&e.forEach(g=>{c(g.id)})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Test des Statistiques des Clients"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-lg",children:"Actions de Test"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs(V,{onClick:u,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),r.jsxs(V,{onClick:d,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),r.jsxs(V,{onClick:f,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),r.jsx(V,{onClick:m,variant:"outline",className:"w-full",children:"Mettre à jour Stats"})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-lg",children:"Statistiques Globales"})}),r.jsxs(he,{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Clients:"})," ",e.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Consultations:"})," ",t.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Antiparasites:"})," ",s.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Rendez-vous:"})," ",i.length]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-lg",children:"Détails des Clients"})}),r.jsx(he,{className:"space-y-3",children:e.map(g=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",g.totalVisits," | Dernière visite: ",new Date(g.lastVisit).toLocaleDateString("fr-FR")]})]},g.id))})]})]})]})},n6e=()=>r.jsx(lE,{children:r.jsx(t6e,{})}),r6e=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:s,appointments:i,addConsultation:a,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=jt(),u=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&a({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&o({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},f=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&l({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},m=()=>{e.length>0&&e.forEach(g=>{c(g.id)})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Test Simple des Statistiques"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-lg",children:"Actions de Test"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs(V,{onClick:u,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),r.jsxs(V,{onClick:d,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),r.jsxs(V,{onClick:f,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),r.jsx(V,{onClick:m,variant:"outline",className:"w-full",children:"Mettre à jour Stats"})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-lg",children:"Statistiques Globales"})}),r.jsxs(he,{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Clients:"})," ",e.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Consultations:"})," ",t.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Antiparasites:"})," ",s.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Rendez-vous:"})," ",i.length]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-lg",children:"Détails des Clients"})}),r.jsx(he,{className:"space-y-3",children:e.map(g=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",g.totalVisits," | Dernière visite: ",new Date(g.lastVisit).toLocaleDateString("fr-FR")]})]},g.id))})]})]})]})},s6e=()=>r.jsx(lE,{children:r.jsx(r6e,{})}),i6e=()=>{const e=Dc();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),r.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),r.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function a6e(){const{user:e,logout:t}=Ic(),{toast:n}=Rt();if(!e)return null;const s=l=>l?l.split(" ").map(c=>c.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),i=l=>{switch(l){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},a=l=>{switch(l){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"assistant":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},o=async()=>{await t(),n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."})};return r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-5 w-5"}),"Profil Utilisateur"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{className:"h-16 w-16",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-lg",children:s(e.profile.full_name||e.profile.username)})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold",children:e.profile.full_name||e.profile.username}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Vf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",e.profile.username]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(ji,{className:"h-4 w-4 text-muted-foreground"}),r.jsx($e,{className:a(e.profile.role),children:i(e.profile.role)})]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"text-sm font-medium mb-3",children:"Informations de session"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"ID Utilisateur:"}),r.jsx("span",{className:"font-mono text-xs",children:e.id})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Nom d'utilisateur:"}),r.jsxs("span",{children:["@",e.profile.username]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rôle:"}),r.jsx("span",{children:i(e.profile.role)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Statut:"}),r.jsx($e,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Connecté"})]})]})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs(V,{variant:"outline",onClick:o,className:"w-full gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx(t6,{className:"h-4 w-4"}),"Se déconnecter"]})})]})]})}const o6e={clinicName:"Clinique du Soleil",address:"123 Avenue Hassan II, Rabat, Maroc",phone:"+212 5 37 00 00 00",email:"contact@cliniquedusoleil.ma",website:"https://www.cliniquedusoleil.ma",footerText:"Clinique du Soleil - Soins vétérinaires à Rabat",logo:"/placeholder.svg",currency:"MAD",species:"Chien, Chat, Bovins, Porcins, Volailles",showClinicInfo:!0,showVetsInfo:!0,veterinarians:[],displayPreferences:{clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},farmManagement:{farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},defaultConsultationPrice:150,scheduleSettings:{openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]}};function l6e(){const{toast:e}=Rt(),{settings:t,updateSettings:n}=Jt(),{theme:s,setTheme:i}=u8(),a=[{id:1,name:"Dr. Jean Dupont",title:"Dr.",specialty:"Médecine générale",phone:"+212 5 37 00 00 01",email:"j.dupont@cliniquedusoleil.ma"},{id:2,name:"Dr. Marie Martin",title:"Dr.",specialty:"Chirurgie",phone:"+212 5 37 00 00 02",email:"m.martin@cliniquedusoleil.ma"},{id:3,name:"Pr. Ahmed El Alaoui",title:"Pr.",specialty:"Dermatologie",phone:"+212 5 37 00 00 03",email:"a.alaoui@cliniquedusoleil.ma"}],o=t.veterinarians.map(I=>({id:I.id,name:I.name,title:I.name.startsWith("Dr.")?"Dr.":I.name.startsWith("Pr.")?"Pr.":"Dr.",specialty:"Médecine générale",phone:"",email:""})),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState({name:"",title:"",specialty:"",phone:"",email:""}),[g,x]=w.useState(!1),[v,y]=w.useState(""),[N,j]=w.useState(!1),[b,_]=w.useState(""),[C,A]=w.useState(""),[P,E]=w.useState(!1),[M,$]=w.useState(""),[T,O]=w.useState(!1),[L,z]=w.useState("");w.useEffect(()=>{if(t.veterinarians.length===0){const I=a.map(ve=>({id:ve.id,name:ve.name,isActive:!0}));n({...t,veterinarians:I})}},[t.veterinarians.length]);const{pets:J}=jt();w.useEffect(()=>{const I=Array.from(new Set([...J.map(we=>we.type)])),ve=Array.from(new Set([...t.species.split(",").map(we=>we.trim()),...I]));n({...t,species:ve.join(", ")})},[J]);const H=(I,ve)=>{n({...t,[I]:ve})},oe=()=>{e({title:"Paramètres sauvegardés",description:"Informations de la clinique mises à jour."})},Q=I=>{var we;const ve=(we=I.target.files)==null?void 0:we[0];if(ve){const Fe=new FileReader;Fe.onload=()=>H("logo",Fe.result),Fe.readAsDataURL(ve)}},D=(I,ve)=>{const we={...t.displayPreferences,[I]:ve},Fe={...t,displayPreferences:we};n(Fe),e({title:"Préférence d'affichage mise à jour",description:`${I} s'affichera maintenant en ${ve==="table"?"tableau":"cartes"}`})},ae=()=>{d(null),m({name:"",title:"",specialty:"",phone:"",email:""}),c(!0)},pe=I=>{d(I),m({name:I.name,title:I.title,specialty:I.specialty||"",phone:I.phone||"",email:I.email||""}),c(!0)},te=()=>{if(!f.name||!f.title){e({title:"Erreur",description:"Nom et titre requis",variant:"destructive"});return}const I=`${f.title} ${f.name}`;let ve;if(u)ve=t.veterinarians.map(we=>we.id===u.id?{...we,name:I,isActive:!0}:we);else{const we={id:Math.max(0,...t.veterinarians.map(Fe=>Fe.id))+1,name:I,isActive:!0};ve=[...t.veterinarians,we]}n({...t,veterinarians:ve}),e({title:"Vétérinaire enregistré"}),c(!1)},Z=I=>{if(!confirm("Supprimer ce vétérinaire ?"))return;const ve=t.veterinarians.filter(we=>we.id!==I);n({...t,veterinarians:ve}),e({title:"Vétérinaire supprimé"})},ne=()=>{if(!v.trim())return;const I={...t,farmManagement:{...t.farmManagement,farmTypes:[...t.farmManagement.farmTypes,v.trim()]}};n(I),y(""),x(!1),e({title:"Type d'élevage ajouté"})},xe=I=>{if(!confirm(`Supprimer le type "${I}" ?`))return;const ve={...t,farmManagement:{...t.farmManagement,farmTypes:t.farmManagement.farmTypes.filter(we=>we!==I)}};n(ve),e({title:"Type d'élevage supprimé"})},ye=()=>{if(!b.trim())return;const I={...t,farmManagement:{...t.farmManagement,animalCategories:[...t.farmManagement.animalCategories,b.trim()],breedsByCategory:{...t.farmManagement.breedsByCategory,[b.trim()]:[]}}};n(I),_(""),j(!1),e({title:"Catégorie d'animal ajoutée"})},se=I=>{if(!confirm(`Supprimer la catégorie "${I}" ?`))return;const ve={...t.farmManagement.breedsByCategory};delete ve[I];const we={...t,farmManagement:{...t.farmManagement,animalCategories:t.farmManagement.animalCategories.filter(Fe=>Fe!==I),breedsByCategory:ve}};n(we),e({title:"Catégorie d'animal supprimée"})},F=()=>{if(!M.trim()||!C)return;const I=t.farmManagement.breedsByCategory[C]||[],ve={...t,farmManagement:{...t.farmManagement,breedsByCategory:{...t.farmManagement.breedsByCategory,[C]:[...I,M.trim()]}}};n(ve),$(""),E(!1),e({title:"Race ajoutée"})},Y=(I,ve)=>{if(!confirm(`Supprimer la race "${ve}" ?`))return;const we=t.farmManagement.breedsByCategory[I]||[],Fe={...t,farmManagement:{...t.farmManagement,breedsByCategory:{...t.farmManagement.breedsByCategory,[I]:we.filter(Be=>Be!==ve)}}};n(Fe),e({title:"Race supprimée"})},ee=()=>{if(!L.trim())return;const I={...t,farmManagement:{...t.farmManagement,certificationTypes:[...t.farmManagement.certificationTypes,L.trim()]}};n(I),z(""),O(!1),e({title:"Certification ajoutée"})},G=I=>{if(!confirm(`Supprimer la certification "${I}" ?`))return;const ve={...t,farmManagement:{...t.farmManagement,certificationTypes:t.farmManagement.certificationTypes.filter(we=>we!==I)}};n(ve),e({title:"Certification supprimée"})};return r.jsx("div",{className:"container mx-auto px-6 py-8 space-y-8",children:r.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Paramètres de la Clinique"})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"logo",children:"Logo de la clinique"}),r.jsx(ie,{id:"logo",type:"file",accept:"image/*",onChange:Q}),t.logo&&r.jsx("img",{src:t.logo,alt:"Logo",className:"h-24 mt-2"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"clinicName",children:"Nom de la clinique"}),r.jsx(ie,{id:"clinicName",value:t.clinicName,onChange:I=>H("clinicName",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"address",children:"Adresse"}),r.jsx(ie,{id:"address",value:t.address,onChange:I=>H("address",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"phone",children:"Téléphone"}),r.jsx(ie,{id:"phone",value:t.phone,onChange:I=>H("phone",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:t.email,onChange:I=>H("email",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"website",children:"Site web"}),r.jsx(ie,{id:"website",value:t.website,onChange:I=>H("website",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"currency",children:"Devise"}),r.jsx(ie,{id:"currency",value:t.currency,onChange:I=>H("currency",I.target.value)})]}),r.jsxs("div",{children:[r.jsxs(B,{htmlFor:"defaultConsultationPrice",children:["Prix de consultation par défaut (",t.currency,")"]}),r.jsx(ie,{id:"defaultConsultationPrice",type:"number",step:"0.01",min:"0",value:t.defaultConsultationPrice,onChange:I=>H("defaultConsultationPrice",parseFloat(I.target.value)||0)})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"species",children:"Liste des espèces (virgule séparées)"}),r.jsx(ie,{id:"species",value:t.species,onChange:I=>H("species",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"footerText",children:"Texte de pied de page"}),r.jsx(ie,{id:"footerText",value:t.footerText,onChange:I=>H("footerText",I.target.value)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fr,{id:"showClinicInfo",checked:t.showClinicInfo,onCheckedChange:I=>H("showClinicInfo",I)}),r.jsx(B,{htmlFor:"showClinicInfo",children:"Afficher coordonnées de la clinique sur le certificat"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fr,{id:"showVetsInfo",checked:t.showVetsInfo,onCheckedChange:I=>H("showVetsInfo",I)}),r.jsx(B,{htmlFor:"showVetsInfo",children:"Afficher liste des vétérinaires sur le certificat"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{onClick:oe,children:"Enregistrer"}),r.jsx(V,{variant:"outline",onClick:()=>{const I=a.map(we=>({id:we.id,name:we.name,isActive:!0})),ve={...o6e,veterinarians:I};n(ve),e({title:"Paramètres réinitialisés",description:"Valeurs par défaut restaurées."})},children:"Restaurer valeurs par défaut"}),r.jsx(V,{variant:"outline",onClick:()=>{const ve={...t,farmManagement:{farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"}};n(ve),e({title:"Paramètres ferme réinitialisés",description:"Configuration des fermes restaurée aux valeurs par défaut."})},children:"Restaurer paramètres ferme"})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Thème de l'application"})}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez le thème de l'application pour votre confort visuel."}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{htmlFor:"theme-select",children:"Thème"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s==="light"?"Mode clair":"Mode sombre"})]}),r.jsxs(Me,{value:s,onValueChange:I=>{i(I),e({title:"Thème mis à jour",description:`Thème changé en mode ${I==="light"?"clair":"sombre"}`})},children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"light",children:"Mode clair"}),r.jsx(U,{value:"dark",children:"Mode sombre"})]})]})]})]})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Préférences d'affichage"})}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez comment vous souhaitez afficher les différentes sections par défaut."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"clients-display",children:"Clients"}),r.jsxs(Me,{value:t.displayPreferences.clients,onValueChange:I=>D("clients",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"pets-display",children:"Animaux"}),r.jsxs(Me,{value:t.displayPreferences.pets,onValueChange:I=>D("pets",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"consultations-display",children:"Consultations"}),r.jsxs(Me,{value:t.displayPreferences.consultations,onValueChange:I=>D("consultations",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"appointments-display",children:"Rendez-vous"}),r.jsxs(Me,{value:t.displayPreferences.appointments,onValueChange:I=>D("appointments",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"prescriptions-display",children:"Prescriptions"}),r.jsxs(Me,{value:t.displayPreferences.prescriptions,onValueChange:I=>D("prescriptions",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"farms-display",children:"Fermes"}),r.jsxs(Me,{value:t.displayPreferences.farms,onValueChange:I=>D("farms",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"vaccinations-display",children:"Vaccinations"}),r.jsxs(Me,{value:t.displayPreferences.vaccinations,onValueChange:I=>D("vaccinations",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"antiparasitics-display",children:"Antiparasitaires"}),r.jsxs(Me,{value:t.displayPreferences.antiparasitics,onValueChange:I=>D("antiparasitics",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]})]})]})})]}),r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex justify-between items-center",children:[r.jsx(Ee,{children:"Vétérinaires"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>{},children:"Debug"}),r.jsxs(V,{onClick:ae,className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"})," Ajouter"]})]})]}),r.jsx(he,{className:"space-y-2",children:o.length===0?r.jsx("p",{className:"text-muted-foreground",children:"Aucun vétérinaire configuré"}):o.map(I=>r.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[I.title," ",I.name]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:I.specialty}),r.jsxs("p",{className:"text-xs",children:[I.phone," | ",I.email]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>pe(I),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>Z(I.id),children:r.jsx(Vn,{className:"h-4 w-4"})})]})]},I.id))})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Configuration des Horaires"})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"openingTime",children:"Heure d'ouverture"}),r.jsx(ie,{id:"openingTime",type:"time",value:t.scheduleSettings.openingTime,onChange:I=>H("scheduleSettings",{...t.scheduleSettings,openingTime:I.target.value})})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"closingTime",children:"Heure de fermeture"}),r.jsx(ie,{id:"closingTime",type:"time",value:t.scheduleSettings.closingTime,onChange:I=>H("scheduleSettings",{...t.scheduleSettings,closingTime:I.target.value})})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(B,{htmlFor:"slotDuration",children:"Durée des créneaux (minutes)"}),r.jsxs(Me,{value:t.scheduleSettings.slotDuration.toString(),onValueChange:I=>H("scheduleSettings",{...t.scheduleSettings,slotDuration:parseInt(I)}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"15",children:"15 minutes"}),r.jsx(U,{value:"30",children:"30 minutes"}),r.jsx(U,{value:"45",children:"45 minutes"}),r.jsx(U,{value:"60",children:"1 heure"})]})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Pause déjeuner"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"lunchBreakStart",children:"Début de pause"}),r.jsx(ie,{id:"lunchBreakStart",type:"time",value:t.scheduleSettings.lunchBreakStart||"",onChange:I=>H("scheduleSettings",{...t.scheduleSettings,lunchBreakStart:I.target.value})})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"lunchBreakEnd",children:"Fin de pause"}),r.jsx(ie,{id:"lunchBreakEnd",type:"time",value:t.scheduleSettings.lunchBreakEnd||"",onChange:I=>H("scheduleSettings",{...t.scheduleSettings,lunchBreakEnd:I.target.value})})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Jours de travail"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"monday",label:"Lundi"},{key:"tuesday",label:"Mardi"},{key:"wednesday",label:"Mercredi"},{key:"thursday",label:"Jeudi"},{key:"friday",label:"Vendredi"},{key:"saturday",label:"Samedi"},{key:"sunday",label:"Dimanche"}].map(I=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Fr,{id:I.key,checked:t.scheduleSettings.workingDays.includes(I.key),onCheckedChange:ve=>{const we=ve?[...t.scheduleSettings.workingDays,I.key]:t.scheduleSettings.workingDays.filter(Fe=>Fe!==I.key);H("scheduleSettings",{...t.scheduleSettings,workingDays:we})}}),r.jsx(B,{htmlFor:I.key,className:"text-sm",children:I.label})]},I.key))})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{children:"Gestion des Exploitations"})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Types d'élevage"}),r.jsxs(V,{size:"sm",onClick:()=>x(!0),className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.farmManagement.farmTypes.map(I=>r.jsxs($e,{variant:"secondary",className:"gap-2",children:[I,r.jsx("button",{onClick:()=>xe(I),className:"hover:text-red-500",children:r.jsx(Vn,{className:"h-3 w-3"})})]},I))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Catégories d'animaux"}),r.jsxs(V,{size:"sm",onClick:()=>j(!0),className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"space-y-3",children:t.farmManagement.animalCategories.map(I=>r.jsxs("div",{className:"border rounded p-3",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h5",{className:"font-medium",children:I}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>{A(I),E(!0)},children:[r.jsx(ht,{className:"h-3 w-3"})," Race"]}),r.jsx("button",{onClick:()=>se(I),className:"text-red-500 hover:text-red-700",children:r.jsx(Vn,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:(t.farmManagement.breedsByCategory[I]||[]).map(ve=>r.jsxs($e,{variant:"outline",className:"text-xs gap-1",children:[ve,r.jsx("button",{onClick:()=>Y(I,ve),className:"hover:text-red-500",children:r.jsx(Vn,{className:"h-2 w-2"})})]},ve))})]},I))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Types de certifications"}),r.jsxs(V,{size:"sm",onClick:()=>O(!0),className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.farmManagement.certificationTypes.map(I=>r.jsxs($e,{variant:"outline",className:"gap-2",children:[I,r.jsx("button",{onClick:()=>G(I),className:"hover:text-red-500",children:r.jsx(Vn,{className:"h-3 w-3"})})]},I))})]})]})]}),r.jsx(St,{open:l,onOpenChange:c,children:r.jsxs(wt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:u?"Modifier vétérinaire":"Nouveau vétérinaire"}),r.jsx(jn,{children:"Nom, titre, spécialité, contact"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"vetName",children:"Nom complet *"}),r.jsx(ie,{id:"vetName",value:f.name,onChange:I=>m(ve=>({...ve,name:I.target.value}))})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"vetTitle",children:"Titre *"}),r.jsx(ie,{id:"vetTitle",value:f.title,onChange:I=>m(ve=>({...ve,title:I.target.value}))})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"vetSpec",children:"Spécialité"}),r.jsx(ie,{id:"vetSpec",value:f.specialty,onChange:I=>m(ve=>({...ve,specialty:I.target.value}))})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"vetPhone",children:"Téléphone"}),r.jsx(ie,{id:"vetPhone",value:f.phone,onChange:I=>m(ve=>({...ve,phone:I.target.value}))})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"vetEmail",children:"Email"}),r.jsx(ie,{id:"vetEmail",type:"email",value:f.email,onChange:I=>m(ve=>({...ve,email:I.target.value}))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsx(V,{onClick:te,children:u?"Mettre à jour":"Créer"})]})]})]})}),r.jsx(St,{open:g,onOpenChange:x,children:r.jsxs(wt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouveau type d'élevage"}),r.jsx(jn,{children:"Ajouter un nouveau type d'exploitation agricole"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{placeholder:"Ex: Apiculture, Aquaculture...",value:v,onChange:I=>y(I.target.value),onKeyPress:I=>I.key==="Enter"&&ne()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>x(!1),children:"Annuler"}),r.jsx(V,{onClick:ne,children:"Ajouter"})]})]})]})}),r.jsx(St,{open:N,onOpenChange:j,children:r.jsxs(wt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle catégorie d'animal"}),r.jsx(jn,{children:"Ajouter une nouvelle catégorie d'animaux d'élevage"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{placeholder:"Ex: Cochons d'Inde, Autruches...",value:b,onChange:I=>_(I.target.value),onKeyPress:I=>I.key==="Enter"&&ye()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>j(!1),children:"Annuler"}),r.jsx(V,{onClick:ye,children:"Ajouter"})]})]})]})}),r.jsx(St,{open:P,onOpenChange:E,children:r.jsxs(wt,{children:[r.jsxs(Ct,{children:[r.jsxs(_t,{children:["Nouvelle race - ",C]}),r.jsxs(jn,{children:["Ajouter une nouvelle race pour la catégorie ",C]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{placeholder:"Nom de la race...",value:M,onChange:I=>$(I.target.value),onKeyPress:I=>I.key==="Enter"&&F()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>E(!1),children:"Annuler"}),r.jsx(V,{onClick:F,children:"Ajouter"})]})]})]})}),r.jsx(St,{open:T,onOpenChange:O,children:r.jsxs(wt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle certification"}),r.jsx(jn,{children:"Ajouter un nouveau type de certification"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{placeholder:"Ex: Commerce équitable, Demeter...",value:L,onChange:I=>z(I.target.value),onKeyPress:I=>I.key==="Enter"&&ee()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>O(!1),children:"Annuler"}),r.jsx(V,{onClick:ee,children:"Ajouter"})]})]})]})})]}),r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsx(a6e,{}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ee,{className:"text-base",children:"Liens Rapides"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs(V,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>window.location.href="/profile",children:[r.jsx(Hr,{className:"h-4 w-4"}),"Mon Profil"]}),r.jsxs(V,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>window.location.href="/auth-settings",children:[r.jsx(ji,{className:"h-4 w-4"}),"Paramètres de Connexion"]})]})]})]})]})})}var c6e="Separator",tL="horizontal",u6e=["horizontal","vertical"],E9=w.forwardRef((e,t)=>{const{decorative:n,orientation:s=tL,...i}=e,a=d6e(s)?s:tL,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(st.div,{"data-orientation":a,...l,...i,ref:t})});E9.displayName=c6e;function d6e(e){return u6e.includes(e)}var k9=E9;const qj=w.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},i)=>r.jsx(k9,{ref:i,decorative:n,orientation:t,className:Ze("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));qj.displayName=k9.displayName;function h6e(){const{user:e,logout:t,refreshProfile:n}=Ic(),{toast:s}=Rt(),{data:i,isLoading:a,refetch:o}=dfe(),l=hfe(),[c,u]=w.useState(!1);w.useState(!1);const[d,f]=w.useState({full_name:"",username:"",email:"",phone:"",address:"",specialty:"",experience:"",bio:"",languages:["Français","Arabe","Anglais"]});w.useEffect(()=>{i&&e&&f(y=>({...y,full_name:i.full_name||"",username:i.username||"",email:e.email||"",phone:i.phone||"",address:i.address||"",specialty:i.specialty||"",experience:i.experience||"",bio:i.bio||""}))},[i,e]),w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),w.useState({notifications:{email:!0,sms:!1,push:!0},privacy:{showEmail:!1,showPhone:!0,showAddress:!1},language:"fr",timezone:"Africa/Casablanca"});const m=async()=>{try{await l.mutateAsync({full_name:d.full_name,username:d.username,phone:d.phone,address:d.address,specialty:d.specialty,experience:d.experience,bio:d.bio}),await Promise.all([o(),n()]),s({title:"Profil mis à jour",description:"Vos informations personnelles ont été sauvegardées avec succès."}),u(!1)}catch(y){s({title:"Erreur",description:y instanceof Error?y.message:"Impossible de sauvegarder le profil.",variant:"destructive"})}},g=y=>y.split(" ").map(N=>N.charAt(0)).join("").toUpperCase().slice(0,2),x=y=>{switch(y){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},v=y=>{switch(y){case"admin":return"bg-red-100 text-red-800";case"assistant":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e?a?r.jsx("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(Aa,{className:"h-8 w-8 animate-spin"}),r.jsx("p",{className:"text-muted-foreground",children:"Chargement du profil..."})]})})}):r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Mon Profil"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gérez vos informations personnelles et préférences"})]}),r.jsx("div",{className:"flex gap-2",children:c?r.jsxs(r.Fragment,{children:[r.jsx(V,{variant:"outline",onClick:()=>u(!1),children:"Annuler"}),r.jsxs(V,{onClick:m,className:"gap-2",disabled:l.isPending,children:[l.isPending?r.jsx(Aa,{className:"h-4 w-4 animate-spin"}):r.jsx(Ap,{className:"h-4 w-4"}),l.isPending?"Sauvegarde...":"Sauvegarder"]})]}):r.jsxs(V,{onClick:()=>u(!0),className:"gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-5 w-5"}),"Informations Personnelles"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Gr,{className:"h-20 w-20",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-xl",children:g(e.profile.full_name)})}),c&&r.jsx(V,{size:"sm",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full",variant:"secondary",children:r.jsx(ef,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold",children:e.profile.full_name||e.profile.username}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Vf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(ji,{className:"h-4 w-4 text-muted-foreground"}),r.jsx($e,{className:v(e.profile.role),children:x(e.profile.role)})]})]})]}),r.jsx(qj,{}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"full_name",children:"Nom complet"}),r.jsx(ie,{id:"full_name",value:d.full_name,onChange:y=>f(N=>({...N,full_name:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"username",children:"Nom d'utilisateur"}),r.jsx(ie,{id:"username",value:d.username,onChange:y=>f(N=>({...N,username:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:d.email,disabled:!0,className:"bg-muted"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"phone",children:"Téléphone"}),r.jsx(ie,{id:"phone",value:d.phone,onChange:y=>f(N=>({...N,phone:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"address",children:"Adresse"}),r.jsx(ie,{id:"address",value:d.address,onChange:y=>f(N=>({...N,address:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"specialty",children:"Spécialité"}),r.jsx(ie,{id:"specialty",value:d.specialty,onChange:y=>f(N=>({...N,specialty:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"experience",children:"Expérience"}),r.jsx(ie,{id:"experience",value:d.experience,onChange:y=>f(N=>({...N,experience:y.target.value})),disabled:!c})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"bio",children:"Biographie"}),r.jsx("textarea",{id:"bio",className:"w-full min-h-[100px] px-3 py-2 border border-input bg-background rounded-md text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:d.bio,onChange:y=>f(N=>({...N,bio:y.target.value})),disabled:!c})]})]})]})]}):null}function f6e(){const{user:e}=Ic(),{toast:t}=Rt(),[n,s]=w.useState({twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginNotifications:!0,deviceTracking:!0,autoLogout:!0}),[i,a]=w.useState({rememberMe:!0,autoLogin:!1,sessionDuration:8,maxConcurrentSessions:3}),[o,l]=w.useState({loginAlerts:!0,securityAlerts:!0,deviceAlerts:!0,emailNotifications:!0,smsNotifications:!1,pushNotifications:!0});w.useState({dataSharing:!1,analytics:!0,crashReports:!0,marketingEmails:!1,profileVisibility:"private"}),w.useState({language:"fr",timezone:"Africa/Casablanca",dateFormat:"DD/MM/YYYY",timeFormat:"24h",theme:"system"});const[c]=w.useState([{id:1,device:"MacBook Pro",browser:"Chrome",location:"Rabat, Maroc",lastActive:"Maintenant",current:!0,ip:"192.168.1.100"},{id:2,device:"iPhone 14",browser:"Safari",location:"Rabat, Maroc",lastActive:"Il y a 2 heures",current:!1,ip:"192.168.1.101"}]),u=()=>{t({title:"Paramètres de sécurité sauvegardés",description:"Vos paramètres de sécurité ont été mis à jour."})},d=()=>{t({title:"Paramètres de session sauvegardés",description:"Vos paramètres de session ont été mis à jour."})},f=()=>{t({title:"Paramètres de notification sauvegardés",description:"Vos paramètres de notification ont été mis à jour."})},m=v=>{t({title:"Session terminée",description:"La session a été fermée avec succès."})},g=()=>{t({title:"Toutes les sessions terminées",description:"Toutes les autres sessions ont été fermées."})},x=v=>v.includes("iPhone")||v.includes("Android")?r.jsx(Zte,{className:"h-4 w-4"}):v.includes("iPad")||v.includes("Tablet")?r.jsx(nne,{className:"h-4 w-4"}):r.jsx(vM,{className:"h-4 w-4"});return e?r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Paramètres de Connexion"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gérez vos paramètres de sécurité et de session"})]})}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(ji,{className:"h-5 w-5"}),"Sécurité"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Authentification à deux facteurs"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez une couche de sécurité supplémentaire"})]}),r.jsx(Fr,{checked:n.twoFactorAuth,onCheckedChange:v=>s(y=>({...y,twoFactorAuth:v}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Délai d'expiration de session (minutes)"}),r.jsxs(Me,{value:n.sessionTimeout.toString(),onValueChange:v=>s(y=>({...y,sessionTimeout:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"15",children:"15 minutes"}),r.jsx(U,{value:"30",children:"30 minutes"}),r.jsx(U,{value:"60",children:"1 heure"}),r.jsx(U,{value:"120",children:"2 heures"}),r.jsx(U,{value:"480",children:"8 heures"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Expiration du mot de passe (jours)"}),r.jsxs(Me,{value:n.passwordExpiry.toString(),onValueChange:v=>s(y=>({...y,passwordExpiry:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"30",children:"30 jours"}),r.jsx(U,{value:"60",children:"60 jours"}),r.jsx(U,{value:"90",children:"90 jours"}),r.jsx(U,{value:"180",children:"6 mois"}),r.jsx(U,{value:"365",children:"1 an"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Notifications de connexion"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez des alertes pour les nouvelles connexions"})]}),r.jsx(Fr,{checked:n.loginNotifications,onCheckedChange:v=>s(y=>({...y,loginNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Suivi des appareils"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Surveillez les appareils connectés"})]}),r.jsx(Fr,{checked:n.deviceTracking,onCheckedChange:v=>s(y=>({...y,deviceTracking:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Déconnexion automatique"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Déconnexion après inactivité"})]}),r.jsx(Fr,{checked:n.autoLogout,onCheckedChange:v=>s(y=>({...y,autoLogout:v}))})]})]}),r.jsxs(V,{onClick:u,className:"w-full gap-2",children:[r.jsx(Ap,{className:"h-4 w-4"}),"Sauvegarder les paramètres de sécurité"]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(vM,{className:"h-5 w-5"}),"Sessions Actives"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsx("div",{className:"space-y-3",children:c.map(v=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[x(v.device),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:v.device}),v.current&&r.jsx($e,{variant:"secondary",className:"text-xs",children:"Actuel"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.browser," • ",v.location]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Dernière activité: ",v.lastActive]})]})]}),!v.current&&r.jsx(V,{variant:"outline",size:"sm",onClick:()=>m(v.id),children:"Terminer"})]},v.id))}),r.jsx(qj,{}),r.jsx(V,{variant:"destructive",onClick:g,className:"w-full",children:"Terminer toutes les autres sessions"})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-5 w-5"}),"Gestion des Sessions"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Se souvenir de moi"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Restez connecté entre les sessions"})]}),r.jsx(Fr,{checked:i.rememberMe,onCheckedChange:v=>a(y=>({...y,rememberMe:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Connexion automatique"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Connexion automatique au démarrage"})]}),r.jsx(Fr,{checked:i.autoLogin,onCheckedChange:v=>a(y=>({...y,autoLogin:v}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Durée de session (heures)"}),r.jsxs(Me,{value:i.sessionDuration.toString(),onValueChange:v=>a(y=>({...y,sessionDuration:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"1",children:"1 heure"}),r.jsx(U,{value:"4",children:"4 heures"}),r.jsx(U,{value:"8",children:"8 heures"}),r.jsx(U,{value:"12",children:"12 heures"}),r.jsx(U,{value:"24",children:"24 heures"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Sessions simultanées maximum"}),r.jsxs(Me,{value:i.maxConcurrentSessions.toString(),onValueChange:v=>a(y=>({...y,maxConcurrentSessions:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(U,{value:"1",children:"1 session"}),r.jsx(U,{value:"2",children:"2 sessions"}),r.jsx(U,{value:"3",children:"3 sessions"}),r.jsx(U,{value:"5",children:"5 sessions"}),r.jsx(U,{value:"10",children:"10 sessions"})]})]})]})]}),r.jsxs(V,{onClick:d,className:"w-full gap-2",children:[r.jsx(Ap,{className:"h-4 w-4"}),"Sauvegarder les paramètres de session"]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(Lte,{className:"h-5 w-5"}),"Notifications de Sécurité"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Alertes de connexion"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouvelles connexions"})]}),r.jsx(Fr,{checked:o.loginAlerts,onCheckedChange:v=>l(y=>({...y,loginAlerts:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Alertes de sécurité"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les événements de sécurité"})]}),r.jsx(Fr,{checked:o.securityAlerts,onCheckedChange:v=>l(y=>({...y,securityAlerts:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Alertes d'appareil"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouveaux appareils"})]}),r.jsx(Fr,{checked:o.deviceAlerts,onCheckedChange:v=>l(y=>({...y,deviceAlerts:v}))})]}),r.jsx(qj,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Notifications par email"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par email"})]}),r.jsx(Fr,{checked:o.emailNotifications,onCheckedChange:v=>l(y=>({...y,emailNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Notifications SMS"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par SMS"})]}),r.jsx(Fr,{checked:o.smsNotifications,onCheckedChange:v=>l(y=>({...y,smsNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Notifications push"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes push"})]}),r.jsx(Fr,{checked:o.pushNotifications,onCheckedChange:v=>l(y=>({...y,pushNotifications:v}))})]})]}),r.jsxs(V,{onClick:f,className:"w-full gap-2",children:[r.jsx(Ap,{className:"h-4 w-4"}),"Sauvegarder les paramètres de notification"]})]})]})]})]}):null}function m6e(){const[e,t]=w.useState(""),[n,s]=w.useState(""),[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(""),[d,f]=w.useState(!1),[m,g]=w.useState(!1),x=Yf(),{toast:v}=Rt();Fae(),w.useEffect(()=>{(async()=>{try{const{data:{session:b},error:_}=await rn.auth.getSession();if(_){u("Lien de réinitialisation invalide ou expiré");return}b?g(!0):u("Lien de réinitialisation invalide ou expiré")}catch{u("Erreur lors de la vérification du lien de réinitialisation")}})()},[]);const y=j=>j.length<8?"Le mot de passe doit contenir au moins 8 caractères":/[A-Z]/.test(j)?/[a-z]/.test(j)?/\d/.test(j)?/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?]/.test(j)?null:"Le mot de passe doit contenir au moins un caractère spécial":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une lettre minuscule":"Le mot de passe doit contenir au moins une lettre majuscule",N=async j=>{if(j.preventDefault(),u(""),!e||!n){u("Veuillez remplir tous les champs");return}if(e!==n){u("Les mots de passe ne correspondent pas");return}const b=y(e);if(b){u(b);return}f(!0);try{const{error:_}=await rn.auth.updateUser({password:e});if(_)throw _;v({title:"Mot de passe mis à jour",description:"Votre mot de passe a été réinitialisé avec succès."}),x("/login")}catch(_){u(_ instanceof Error?_.message:"Une erreur est survenue lors de la mise à jour du mot de passe")}finally{f(!1)}};return!m&&!c?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsx(de,{className:"w-full max-w-md",children:r.jsxs(he,{className:"pt-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(Aa,{className:"h-8 w-8 animate-spin"})}),r.jsx("p",{className:"text-center mt-4 text-sm text-muted-foreground",children:"Vérification du lien de réinitialisation..."})]})})}):c?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsxs(de,{className:"w-full max-w-md",children:[r.jsxs(Pe,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:r.jsx(qt,{className:"h-8 w-8 text-red-600"})})}),r.jsx(Ee,{className:"text-2xl font-bold text-red-600",children:"Lien invalide"})]}),r.jsxs(he,{children:[r.jsx(hg,{className:"mb-4",children:r.jsx(fg,{children:c})}),r.jsx(V,{onClick:()=>x("/login"),className:"w-full",children:"Retour à la connexion"})]})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsxs(de,{className:"w-full max-w-md",children:[r.jsxs(Pe,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:r.jsx(qt,{className:"h-8 w-8 text-primary"})})}),r.jsx(Ee,{className:"text-2xl font-bold",children:"VetPro CRM3"}),r.jsx(lf,{children:"Définir un nouveau mot de passe"})]}),r.jsx(he,{children:r.jsxs("form",{onSubmit:N,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"password",children:"Nouveau mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(ie,{id:"password",type:i?"text":"password",value:e,onChange:j=>t(j.target.value),placeholder:"Votre nouveau mot de passe",required:!0}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),children:i?r.jsx(GC,{className:"h-4 w-4"}):r.jsx(Ir,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Le mot de passe doit contenir au moins 8 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(ie,{id:"confirmPassword",type:o?"text":"password",value:n,onChange:j=>s(j.target.value),placeholder:"Confirmer votre nouveau mot de passe",required:!0}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!o),children:o?r.jsx(GC,{className:"h-4 w-4"}):r.jsx(Ir,{className:"h-4 w-4"})})]})]}),c&&r.jsx(hg,{variant:"destructive",children:r.jsx(fg,{children:c})}),r.jsx(V,{type:"submit",className:"w-full",disabled:d,children:d?r.jsxs(r.Fragment,{children:[r.jsx(Aa,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour..."]}):"Mettre à jour le mot de passe"})]})})]})})}const p6e=new _ie({defaultOptions:{queries:{retry:(e,t)=>(t==null?void 0:t.status)>=400&&(t==null?void 0:t.status)<500?!1:e<2,staleTime:3*60*1e3,gcTime:8*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:"always",refetchOnMount:!0,networkMode:"offlineFirst"},mutations:{retry:1,networkMode:"offlineFirst"}}}),g6e=()=>r.jsx(Qde,{children:r.jsx(Pie,{client:p6e,children:r.jsxs(nie,{children:[r.jsx(Bne,{}),r.jsx(xre,{}),r.jsx(Kde,{children:r.jsx(lE,{children:r.jsx(mfe,{children:r.jsx(zae,{children:r.jsx(Iae,{children:r.jsx("div",{className:"min-h-screen bg-background",children:r.jsxs(Pae,{children:[r.jsx(sr,{path:"/",element:r.jsx(she,{})}),r.jsx(sr,{path:"/login",element:r.jsx(rhe,{children:r.jsx(nhe,{})})}),r.jsx(sr,{path:"/register",element:r.jsx(ihe,{})}),r.jsx(sr,{path:"/dashboard",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(FFe,{})]})}),r.jsx(sr,{path:"/clients",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(VFe,{})]})}),r.jsx(sr,{path:"/pets",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(GFe,{})]})}),r.jsx(sr,{path:"/appointments",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(N5e,{})]})}),r.jsx(sr,{path:"/consultations",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(_5e,{})]})}),r.jsx(sr,{path:"/history",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(E5e,{})]})}),r.jsx(sr,{path:"/farm",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(I5e,{})]})}),r.jsx(sr,{path:"/vaccinations",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(V5e,{})]})}),r.jsx(sr,{path:"/antiparasites",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(q5e,{})]})}),r.jsx(sr,{path:"/stock",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(J5e,{})]})}),r.jsx(sr,{path:"/accounting",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(e6e,{})]})}),r.jsx(sr,{path:"/test-stats",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(n6e,{})]})}),r.jsx(sr,{path:"/simple-test",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(s6e,{})]})}),r.jsx(sr,{path:"/settings",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(l6e,{})]})}),r.jsx(sr,{path:"/profile",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(h6e,{})]})}),r.jsx(sr,{path:"/auth-settings",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(f6e,{})]})}),r.jsx(sr,{path:"/reset-password",element:r.jsx(m6e,{})}),r.jsx(sr,{path:"*",element:r.jsx(i6e,{})})]})})})})})})})]})})});_5(document.getElementById("root")).render(r.jsx(g6e,{}));
