var KO=e=>{throw TypeError(e)};var b1=(e,t,n)=>t.has(e)||KO("Cannot "+n);var ce=(e,t,n)=>(b1(e,t,"read from private field"),n?n.call(e):t.get(e)),ht=(e,t,n)=>t.has(e)?KO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Xe=(e,t,n,s)=>(b1(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),zt=(e,t,n)=>(b1(e,t,"access private method"),n);var wx=(e,t,n,s)=>({set _(i){Xe(e,t,i,n)},get _(){return ce(e,t,s)}});function oJ(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lJ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var uL={exports:{}},Fj={},dL={exports:{}},Jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg=Symbol.for("react.element"),cJ=Symbol.for("react.portal"),uJ=Symbol.for("react.fragment"),dJ=Symbol.for("react.strict_mode"),hJ=Symbol.for("react.profiler"),fJ=Symbol.for("react.provider"),mJ=Symbol.for("react.context"),pJ=Symbol.for("react.forward_ref"),gJ=Symbol.for("react.suspense"),vJ=Symbol.for("react.memo"),xJ=Symbol.for("react.lazy"),YO=Symbol.iterator;function yJ(e){return e===null||typeof e!="object"?null:(e=YO&&e[YO]||e["@@iterator"],typeof e=="function"?e:null)}var hL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fL=Object.assign,mL={};function $f(e,t,n){this.props=e,this.context=t,this.refs=mL,this.updater=n||hL}$f.prototype.isReactComponent={};$f.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pL(){}pL.prototype=$f.prototype;function P_(e,t,n){this.props=e,this.context=t,this.refs=mL,this.updater=n||hL}var __=P_.prototype=new pL;__.constructor=P_;fL(__,$f.prototype);__.isPureReactComponent=!0;var QO=Array.isArray,gL=Object.prototype.hasOwnProperty,A_={current:null},vL={key:!0,ref:!0,__self:!0,__source:!0};function xL(e,t,n){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)gL.call(t,s)&&!vL.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:Jg,type:e,key:a,ref:o,props:i,_owner:A_.current}}function jJ(e,t){return{$$typeof:Jg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function E_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jg}function bJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var XO=/\/+/g;function w1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bJ(""+e.key):t.toString(36)}function Ny(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Jg:case cJ:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+w1(o,0):s,QO(i)?(n="",e!=null&&(n=e.replace(XO,"$&/")+"/"),Ny(i,t,n,"",function(u){return u})):i!=null&&(E_(i)&&(i=jJ(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(XO,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",QO(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+w1(a,l);o+=Ny(a,t,n,c,i)}else if(c=yJ(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+w1(a,l++),o+=Ny(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Nx(e,t,n){if(e==null)return e;var s=[],i=0;return Ny(e,s,"","",function(a){return t.call(n,a,i++)}),s}function wJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ms={current:null},Sy={transition:null},NJ={ReactCurrentDispatcher:Ms,ReactCurrentBatchConfig:Sy,ReactCurrentOwner:A_};function yL(){throw Error("act(...) is not supported in production builds of React.")}Jt.Children={map:Nx,forEach:function(e,t,n){Nx(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nx(e,function(){t++}),t},toArray:function(e){return Nx(e,function(t){return t})||[]},only:function(e){if(!E_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Jt.Component=$f;Jt.Fragment=uJ;Jt.Profiler=hJ;Jt.PureComponent=P_;Jt.StrictMode=dJ;Jt.Suspense=gJ;Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NJ;Jt.act=yL;Jt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=fL({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=A_.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)gL.call(t,c)&&!vL.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Jg,type:e.type,key:i,ref:a,props:s,_owner:o}};Jt.createContext=function(e){return e={$$typeof:mJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fJ,_context:e},e.Consumer=e};Jt.createElement=xL;Jt.createFactory=function(e){var t=xL.bind(null,e);return t.type=e,t};Jt.createRef=function(){return{current:null}};Jt.forwardRef=function(e){return{$$typeof:pJ,render:e}};Jt.isValidElement=E_;Jt.lazy=function(e){return{$$typeof:xJ,_payload:{_status:-1,_result:e},_init:wJ}};Jt.memo=function(e,t){return{$$typeof:vJ,type:e,compare:t===void 0?null:t}};Jt.startTransition=function(e){var t=Sy.transition;Sy.transition={};try{e()}finally{Sy.transition=t}};Jt.unstable_act=yL;Jt.useCallback=function(e,t){return Ms.current.useCallback(e,t)};Jt.useContext=function(e){return Ms.current.useContext(e)};Jt.useDebugValue=function(){};Jt.useDeferredValue=function(e){return Ms.current.useDeferredValue(e)};Jt.useEffect=function(e,t){return Ms.current.useEffect(e,t)};Jt.useId=function(){return Ms.current.useId()};Jt.useImperativeHandle=function(e,t,n){return Ms.current.useImperativeHandle(e,t,n)};Jt.useInsertionEffect=function(e,t){return Ms.current.useInsertionEffect(e,t)};Jt.useLayoutEffect=function(e,t){return Ms.current.useLayoutEffect(e,t)};Jt.useMemo=function(e,t){return Ms.current.useMemo(e,t)};Jt.useReducer=function(e,t,n){return Ms.current.useReducer(e,t,n)};Jt.useRef=function(e){return Ms.current.useRef(e)};Jt.useState=function(e){return Ms.current.useState(e)};Jt.useSyncExternalStore=function(e,t,n){return Ms.current.useSyncExternalStore(e,t,n)};Jt.useTransition=function(){return Ms.current.useTransition()};Jt.version="18.3.1";dL.exports=Jt;var w=dL.exports;const H=pn(w),k_=oJ({__proto__:null,default:H},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SJ=w,CJ=Symbol.for("react.element"),PJ=Symbol.for("react.fragment"),_J=Object.prototype.hasOwnProperty,AJ=SJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EJ={key:!0,ref:!0,__self:!0,__source:!0};function jL(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)_J.call(t,s)&&!EJ.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:CJ,type:e,key:a,ref:o,props:i,_owner:AJ.current}}Fj.Fragment=PJ;Fj.jsx=jL;Fj.jsxs=jL;uL.exports=Fj;var r=uL.exports,bL={exports:{}},Si={},wL={exports:{}},NL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,z){var le=$.length;$.push(z);e:for(;0<le;){var pe=le-1>>>1,ee=$[pe];if(0<i(ee,z))$[pe]=z,$[le]=ee,le=pe;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var z=$[0],le=$.pop();if(le!==z){$[0]=le;e:for(var pe=0,ee=$.length,J=ee>>>1;pe<J;){var B=2*(pe+1)-1,me=$[B],ve=B+1,re=$[ve];if(0>i(me,le))ve<ee&&0>i(re,me)?($[pe]=re,$[ve]=le,pe=ve):($[pe]=me,$[B]=le,pe=B);else if(ve<ee&&0>i(re,le))$[pe]=re,$[ve]=le,pe=ve;else break e}}return z}function i($,z){var le=$.sortIndex-z.sortIndex;return le!==0?le:$.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,g=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var z=n(u);z!==null;){if(z.callback===null)s(u);else if(z.startTime<=$)s(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(u)}}function P($){if(v=!1,b($),!x)if(n(c)!==null)x=!0,q(C);else{var z=n(u);z!==null&&ie(P,z.startTime-$)}}function C($,z){x=!1,v&&(v=!1,N(E),E=-1),g=!0;var le=m;try{for(b(z),f=n(c);f!==null&&(!(f.expirationTime>z)||$&&!O());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,m=f.priorityLevel;var ee=pe(f.expirationTime<=z);z=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(c)&&s(c),b(z)}else s(c);f=n(c)}if(f!==null)var J=!0;else{var B=n(u);B!==null&&ie(P,B.startTime-z),J=!1}return J}finally{f=null,m=le,g=!1}}var _=!1,A=null,E=-1,D=5,I=-1;function O(){return!(e.unstable_now()-I<D)}function k(){if(A!==null){var $=e.unstable_now();I=$;var z=!0;try{z=A(!0,$)}finally{z?F():(_=!1,A=null)}}else _=!1}var F;if(typeof j=="function")F=function(){j(k)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Y=L.port2;L.port1.onmessage=k,F=function(){Y.postMessage(null)}}else F=function(){y(k,0)};function q($){A=$,_||(_=!0,F())}function ie($,z){E=y(function(){$(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,q(C))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function($){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var le=m;m=z;try{return $()}finally{m=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=m;m=$;try{return z()}finally{m=le}},e.unstable_scheduleCallback=function($,z,le){var pe=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?pe+le:pe):le=pe,$){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=le+ee,$={id:d++,callback:z,priorityLevel:$,startTime:le,expirationTime:ee,sortIndex:-1},le>pe?($.sortIndex=le,t(u,$),n(c)===null&&$===n(u)&&(v?(N(E),E=-1):v=!0,ie(P,le-pe))):($.sortIndex=ee,t(c,$),x||g||(x=!0,q(C))),$},e.unstable_shouldYield=O,e.unstable_wrapCallback=function($){var z=m;return function(){var le=m;m=z;try{return $.apply(this,arguments)}finally{m=le}}}})(NL);wL.exports=NL;var kJ=wL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TJ=w,Ni=kJ;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SL=new Set,Rp={};function id(e,t){Hh(e,t),Hh(e+"Capture",t)}function Hh(e,t){for(Rp[e]=t,e=0;e<t.length;e++)SL.add(t[e])}var Zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ZS=Object.prototype.hasOwnProperty,OJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JO={},ZO={};function DJ(e){return ZS.call(ZO,e)?!0:ZS.call(JO,e)?!1:OJ.test(e)?ZO[e]=!0:(JO[e]=!0,!1)}function MJ(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IJ(e,t,n,s){if(t===null||typeof t>"u"||MJ(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Is(e,t,n,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ss={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ss[e]=new Is(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ss[t]=new Is(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ss[e]=new Is(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ss[e]=new Is(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ss[e]=new Is(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ss[e]=new Is(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ss[e]=new Is(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ss[e]=new Is(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ss[e]=new Is(e,5,!1,e.toLowerCase(),null,!1,!1)});var T_=/[\-:]([a-z])/g;function O_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T_,O_);ss[t]=new Is(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T_,O_);ss[t]=new Is(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T_,O_);ss[t]=new Is(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ss[e]=new Is(e,1,!1,e.toLowerCase(),null,!1,!1)});ss.xlinkHref=new Is("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ss[e]=new Is(e,1,!1,e.toLowerCase(),null,!0,!0)});function D_(e,t,n,s){var i=ss.hasOwnProperty(t)?ss[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IJ(t,n,i,s)&&(n=null),s||i===null?DJ(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var fl=TJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sx=Symbol.for("react.element"),nh=Symbol.for("react.portal"),rh=Symbol.for("react.fragment"),M_=Symbol.for("react.strict_mode"),eC=Symbol.for("react.profiler"),CL=Symbol.for("react.provider"),PL=Symbol.for("react.context"),I_=Symbol.for("react.forward_ref"),tC=Symbol.for("react.suspense"),nC=Symbol.for("react.suspense_list"),$_=Symbol.for("react.memo"),Fl=Symbol.for("react.lazy"),_L=Symbol.for("react.offscreen"),eD=Symbol.iterator;function Im(e){return e===null||typeof e!="object"?null:(e=eD&&e[eD]||e["@@iterator"],typeof e=="function"?e:null)}var tr=Object.assign,N1;function op(e){if(N1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N1=t&&t[1]||""}return`
`+N1+e}var S1=!1;function C1(e,t){if(!e||S1)return"";S1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{S1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?op(e):""}function $J(e){switch(e.tag){case 5:return op(e.type);case 16:return op("Lazy");case 13:return op("Suspense");case 19:return op("SuspenseList");case 0:case 2:case 15:return e=C1(e.type,!1),e;case 11:return e=C1(e.type.render,!1),e;case 1:return e=C1(e.type,!0),e;default:return""}}function rC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rh:return"Fragment";case nh:return"Portal";case eC:return"Profiler";case M_:return"StrictMode";case tC:return"Suspense";case nC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case PL:return(e.displayName||"Context")+".Consumer";case CL:return(e._context.displayName||"Context")+".Provider";case I_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $_:return t=e.displayName||null,t!==null?t:rC(e.type)||"Memo";case Fl:t=e._payload,e=e._init;try{return rC(e(t))}catch{}}return null}function RJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rC(t);case 8:return t===M_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function AL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LJ(e){var t=AL(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cx(e){e._valueTracker||(e._valueTracker=LJ(e))}function EL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=AL(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Uy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sC(e,t){var n=t.checked;return tr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tD(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=yc(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kL(e,t){t=t.checked,t!=null&&D_(e,"checked",t,!1)}function iC(e,t){kL(e,t);var n=yc(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?aC(e,t.type,n):t.hasOwnProperty("defaultValue")&&aC(e,t.type,yc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nD(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function aC(e,t,n){(t!=="number"||Uy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var lp=Array.isArray;function jh(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+yc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function oC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return tr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rD(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(lp(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yc(n)}}function TL(e,t){var n=yc(t.value),s=yc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function sD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function OL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?OL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Px,DL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Px=Px||document.createElement("div"),Px.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Px.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FJ=["Webkit","ms","Moz","O"];Object.keys(gp).forEach(function(e){FJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gp[t]=gp[e]})});function ML(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gp.hasOwnProperty(e)&&gp[e]?(""+t).trim():t+"px"}function IL(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=ML(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var BJ=tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cC(e,t){if(t){if(BJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function uC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dC=null;function R_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hC=null,bh=null,wh=null;function iD(e){if(e=tv(e)){if(typeof hC!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=qj(t),hC(e.stateNode,e.type,t))}}function $L(e){bh?wh?wh.push(e):wh=[e]:bh=e}function RL(){if(bh){var e=bh,t=wh;if(wh=bh=null,iD(e),t)for(e=0;e<t.length;e++)iD(t[e])}}function LL(e,t){return e(t)}function FL(){}var P1=!1;function BL(e,t,n){if(P1)return e(t,n);P1=!0;try{return LL(e,t,n)}finally{P1=!1,(bh!==null||wh!==null)&&(FL(),RL())}}function Fp(e,t){var n=e.stateNode;if(n===null)return null;var s=qj(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var fC=!1;if(Zo)try{var $m={};Object.defineProperty($m,"passive",{get:function(){fC=!0}}),window.addEventListener("test",$m,$m),window.removeEventListener("test",$m,$m)}catch{fC=!1}function zJ(e,t,n,s,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var vp=!1,qy=null,Wy=!1,mC=null,VJ={onError:function(e){vp=!0,qy=e}};function UJ(e,t,n,s,i,a,o,l,c){vp=!1,qy=null,zJ.apply(VJ,arguments)}function qJ(e,t,n,s,i,a,o,l,c){if(UJ.apply(this,arguments),vp){if(vp){var u=qy;vp=!1,qy=null}else throw Error(Ue(198));Wy||(Wy=!0,mC=u)}}function ad(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function aD(e){if(ad(e)!==e)throw Error(Ue(188))}function WJ(e){var t=e.alternate;if(!t){if(t=ad(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return aD(i),e;if(a===s)return aD(i),t;a=a.sibling}throw Error(Ue(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(Ue(189))}}if(n.alternate!==s)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function VL(e){return e=WJ(e),e!==null?UL(e):null}function UL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=UL(e);if(t!==null)return t;e=e.sibling}return null}var qL=Ni.unstable_scheduleCallback,oD=Ni.unstable_cancelCallback,HJ=Ni.unstable_shouldYield,GJ=Ni.unstable_requestPaint,fr=Ni.unstable_now,KJ=Ni.unstable_getCurrentPriorityLevel,L_=Ni.unstable_ImmediatePriority,WL=Ni.unstable_UserBlockingPriority,Hy=Ni.unstable_NormalPriority,YJ=Ni.unstable_LowPriority,HL=Ni.unstable_IdlePriority,Bj=null,ao=null;function QJ(e){if(ao&&typeof ao.onCommitFiberRoot=="function")try{ao.onCommitFiberRoot(Bj,e,void 0,(e.current.flags&128)===128)}catch{}}var Ca=Math.clz32?Math.clz32:ZJ,XJ=Math.log,JJ=Math.LN2;function ZJ(e){return e>>>=0,e===0?32:31-(XJ(e)/JJ|0)|0}var _x=64,Ax=4194304;function cp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gy(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=cp(l):(a&=o,a!==0&&(s=cp(a)))}else o=n&~i,o!==0?s=cp(o):a!==0&&(s=cp(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Ca(t),i=1<<n,s|=e[n],t&=~i;return s}function eZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tZ(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Ca(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=eZ(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function pC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function GL(){var e=_x;return _x<<=1,!(_x&4194240)&&(_x=64),e}function _1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zg(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ca(t),e[t]=n}function nZ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ca(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}function F_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Ca(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var jn=0;function KL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var YL,B_,QL,XL,JL,gC=!1,Ex=[],oc=null,lc=null,cc=null,Bp=new Map,zp=new Map,Vl=[],rZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lD(e,t){switch(e){case"focusin":case"focusout":oc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":cc=null;break;case"pointerover":case"pointerout":Bp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zp.delete(t.pointerId)}}function Rm(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=tv(t),t!==null&&B_(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sZ(e,t,n,s,i){switch(t){case"focusin":return oc=Rm(oc,e,t,n,s,i),!0;case"dragenter":return lc=Rm(lc,e,t,n,s,i),!0;case"mouseover":return cc=Rm(cc,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return Bp.set(a,Rm(Bp.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,zp.set(a,Rm(zp.get(a)||null,e,t,n,s,i)),!0}return!1}function ZL(e){var t=hu(e.target);if(t!==null){var n=ad(t);if(n!==null){if(t=n.tag,t===13){if(t=zL(n),t!==null){e.blockedOn=t,JL(e.priority,function(){QL(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);dC=s,n.target.dispatchEvent(s),dC=null}else return t=tv(n),t!==null&&B_(t),e.blockedOn=n,!1;t.shift()}return!0}function cD(e,t,n){Cy(e)&&n.delete(t)}function iZ(){gC=!1,oc!==null&&Cy(oc)&&(oc=null),lc!==null&&Cy(lc)&&(lc=null),cc!==null&&Cy(cc)&&(cc=null),Bp.forEach(cD),zp.forEach(cD)}function Lm(e,t){e.blockedOn===t&&(e.blockedOn=null,gC||(gC=!0,Ni.unstable_scheduleCallback(Ni.unstable_NormalPriority,iZ)))}function Vp(e){function t(i){return Lm(i,e)}if(0<Ex.length){Lm(Ex[0],e);for(var n=1;n<Ex.length;n++){var s=Ex[n];s.blockedOn===e&&(s.blockedOn=null)}}for(oc!==null&&Lm(oc,e),lc!==null&&Lm(lc,e),cc!==null&&Lm(cc,e),Bp.forEach(t),zp.forEach(t),n=0;n<Vl.length;n++)s=Vl[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Vl.length&&(n=Vl[0],n.blockedOn===null);)ZL(n),n.blockedOn===null&&Vl.shift()}var Nh=fl.ReactCurrentBatchConfig,Ky=!0;function aZ(e,t,n,s){var i=jn,a=Nh.transition;Nh.transition=null;try{jn=1,z_(e,t,n,s)}finally{jn=i,Nh.transition=a}}function oZ(e,t,n,s){var i=jn,a=Nh.transition;Nh.transition=null;try{jn=4,z_(e,t,n,s)}finally{jn=i,Nh.transition=a}}function z_(e,t,n,s){if(Ky){var i=vC(e,t,n,s);if(i===null)R1(e,t,s,Yy,n),lD(e,s);else if(sZ(i,e,t,n,s))s.stopPropagation();else if(lD(e,s),t&4&&-1<rZ.indexOf(e)){for(;i!==null;){var a=tv(i);if(a!==null&&YL(a),a=vC(e,t,n,s),a===null&&R1(e,t,s,Yy,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else R1(e,t,s,null,n)}}var Yy=null;function vC(e,t,n,s){if(Yy=null,e=R_(s),e=hu(e),e!==null)if(t=ad(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zL(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yy=e,null}function eF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KJ()){case L_:return 1;case WL:return 4;case Hy:case YJ:return 16;case HL:return 536870912;default:return 16}default:return 16}}var tc=null,V_=null,Py=null;function tF(){if(Py)return Py;var e,t=V_,n=t.length,s,i="value"in tc?tc.value:tc.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[a-s];s++);return Py=i.slice(e,1<s?1-s:void 0)}function _y(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kx(){return!0}function uD(){return!1}function Ci(e){function t(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?kx:uD,this.isPropagationStopped=uD,this}return tr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kx)},persist:function(){},isPersistent:kx}),t}var Rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},U_=Ci(Rf),ev=tr({},Rf,{view:0,detail:0}),lZ=Ci(ev),A1,E1,Fm,zj=tr({},ev,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:q_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fm&&(Fm&&e.type==="mousemove"?(A1=e.screenX-Fm.screenX,E1=e.screenY-Fm.screenY):E1=A1=0,Fm=e),A1)},movementY:function(e){return"movementY"in e?e.movementY:E1}}),dD=Ci(zj),cZ=tr({},zj,{dataTransfer:0}),uZ=Ci(cZ),dZ=tr({},ev,{relatedTarget:0}),k1=Ci(dZ),hZ=tr({},Rf,{animationName:0,elapsedTime:0,pseudoElement:0}),fZ=Ci(hZ),mZ=tr({},Rf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pZ=Ci(mZ),gZ=tr({},Rf,{data:0}),hD=Ci(gZ),vZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yZ[e])?!!t[e]:!1}function q_(){return jZ}var bZ=tr({},ev,{key:function(e){if(e.key){var t=vZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_y(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:q_,charCode:function(e){return e.type==="keypress"?_y(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_y(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wZ=Ci(bZ),NZ=tr({},zj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fD=Ci(NZ),SZ=tr({},ev,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:q_}),CZ=Ci(SZ),PZ=tr({},Rf,{propertyName:0,elapsedTime:0,pseudoElement:0}),_Z=Ci(PZ),AZ=tr({},zj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EZ=Ci(AZ),kZ=[9,13,27,32],W_=Zo&&"CompositionEvent"in window,xp=null;Zo&&"documentMode"in document&&(xp=document.documentMode);var TZ=Zo&&"TextEvent"in window&&!xp,nF=Zo&&(!W_||xp&&8<xp&&11>=xp),mD=" ",pD=!1;function rF(e,t){switch(e){case"keyup":return kZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sh=!1;function OZ(e,t){switch(e){case"compositionend":return sF(t);case"keypress":return t.which!==32?null:(pD=!0,mD);case"textInput":return e=t.data,e===mD&&pD?null:e;default:return null}}function DZ(e,t){if(sh)return e==="compositionend"||!W_&&rF(e,t)?(e=tF(),Py=V_=tc=null,sh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nF&&t.locale!=="ko"?null:t.data;default:return null}}var MZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MZ[e.type]:t==="textarea"}function iF(e,t,n,s){$L(s),t=Qy(t,"onChange"),0<t.length&&(n=new U_("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var yp=null,Up=null;function IZ(e){gF(e,0)}function Vj(e){var t=oh(e);if(EL(t))return e}function $Z(e,t){if(e==="change")return t}var aF=!1;if(Zo){var T1;if(Zo){var O1="oninput"in document;if(!O1){var vD=document.createElement("div");vD.setAttribute("oninput","return;"),O1=typeof vD.oninput=="function"}T1=O1}else T1=!1;aF=T1&&(!document.documentMode||9<document.documentMode)}function xD(){yp&&(yp.detachEvent("onpropertychange",oF),Up=yp=null)}function oF(e){if(e.propertyName==="value"&&Vj(Up)){var t=[];iF(t,Up,e,R_(e)),BL(IZ,t)}}function RZ(e,t,n){e==="focusin"?(xD(),yp=t,Up=n,yp.attachEvent("onpropertychange",oF)):e==="focusout"&&xD()}function LZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vj(Up)}function FZ(e,t){if(e==="click")return Vj(t)}function BZ(e,t){if(e==="input"||e==="change")return Vj(t)}function zZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ea=typeof Object.is=="function"?Object.is:zZ;function qp(e,t){if(Ea(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!ZS.call(t,i)||!Ea(e[i],t[i]))return!1}return!0}function yD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jD(e,t){var n=yD(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yD(n)}}function lF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cF(){for(var e=window,t=Uy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Uy(e.document)}return t}function H_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VZ(e){var t=cF(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lF(n.ownerDocument.documentElement,n)){if(s!==null&&H_(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=jD(n,a);var o=jD(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UZ=Zo&&"documentMode"in document&&11>=document.documentMode,ih=null,xC=null,jp=null,yC=!1;function bD(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yC||ih==null||ih!==Uy(s)||(s=ih,"selectionStart"in s&&H_(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),jp&&qp(jp,s)||(jp=s,s=Qy(xC,"onSelect"),0<s.length&&(t=new U_("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ih)))}function Tx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ah={animationend:Tx("Animation","AnimationEnd"),animationiteration:Tx("Animation","AnimationIteration"),animationstart:Tx("Animation","AnimationStart"),transitionend:Tx("Transition","TransitionEnd")},D1={},uF={};Zo&&(uF=document.createElement("div").style,"AnimationEvent"in window||(delete ah.animationend.animation,delete ah.animationiteration.animation,delete ah.animationstart.animation),"TransitionEvent"in window||delete ah.transitionend.transition);function Uj(e){if(D1[e])return D1[e];if(!ah[e])return e;var t=ah[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uF)return D1[e]=t[n];return e}var dF=Uj("animationend"),hF=Uj("animationiteration"),fF=Uj("animationstart"),mF=Uj("transitionend"),pF=new Map,wD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pc(e,t){pF.set(e,t),id(t,[e])}for(var M1=0;M1<wD.length;M1++){var I1=wD[M1],qZ=I1.toLowerCase(),WZ=I1[0].toUpperCase()+I1.slice(1);Pc(qZ,"on"+WZ)}Pc(dF,"onAnimationEnd");Pc(hF,"onAnimationIteration");Pc(fF,"onAnimationStart");Pc("dblclick","onDoubleClick");Pc("focusin","onFocus");Pc("focusout","onBlur");Pc(mF,"onTransitionEnd");Hh("onMouseEnter",["mouseout","mouseover"]);Hh("onMouseLeave",["mouseout","mouseover"]);Hh("onPointerEnter",["pointerout","pointerover"]);Hh("onPointerLeave",["pointerout","pointerover"]);id("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));id("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));id("onBeforeInput",["compositionend","keypress","textInput","paste"]);id("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));id("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));id("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var up="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(up));function ND(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,qJ(s,t,void 0,e),e.currentTarget=null}function gF(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;ND(i,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;ND(i,l,u),a=c}}}if(Wy)throw e=mC,Wy=!1,mC=null,e}function Ln(e,t){var n=t[SC];n===void 0&&(n=t[SC]=new Set);var s=e+"__bubble";n.has(s)||(vF(t,e,2,!1),n.add(s))}function $1(e,t,n){var s=0;t&&(s|=4),vF(n,e,s,t)}var Ox="_reactListening"+Math.random().toString(36).slice(2);function Wp(e){if(!e[Ox]){e[Ox]=!0,SL.forEach(function(n){n!=="selectionchange"&&(HZ.has(n)||$1(n,!1,e),$1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ox]||(t[Ox]=!0,$1("selectionchange",!1,t))}}function vF(e,t,n,s){switch(eF(t)){case 1:var i=aZ;break;case 4:i=oZ;break;default:i=z_}n=i.bind(null,t,n,e),i=void 0,!fC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function R1(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=hu(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}BL(function(){var u=a,d=R_(n),f=[];e:{var m=pF.get(e);if(m!==void 0){var g=U_,x=e;switch(e){case"keypress":if(_y(n)===0)break e;case"keydown":case"keyup":g=wZ;break;case"focusin":x="focus",g=k1;break;case"focusout":x="blur",g=k1;break;case"beforeblur":case"afterblur":g=k1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=dD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=uZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=CZ;break;case dF:case hF:case fF:g=fZ;break;case mF:g=_Z;break;case"scroll":g=lZ;break;case"wheel":g=EZ;break;case"copy":case"cut":case"paste":g=pZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=fD}var v=(t&4)!==0,y=!v&&e==="scroll",N=v?m!==null?m+"Capture":null:m;v=[];for(var j=u,b;j!==null;){b=j;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,N!==null&&(P=Fp(j,N),P!=null&&v.push(Hp(j,P,b)))),y)break;j=j.return}0<v.length&&(m=new g(m,x,null,n,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==dC&&(x=n.relatedTarget||n.fromElement)&&(hu(x)||x[el]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?hu(x):null,x!==null&&(y=ad(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=dD,P="onMouseLeave",N="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(v=fD,P="onPointerLeave",N="onPointerEnter",j="pointer"),y=g==null?m:oh(g),b=x==null?m:oh(x),m=new v(P,j+"leave",g,n,d),m.target=y,m.relatedTarget=b,P=null,hu(d)===u&&(v=new v(N,j+"enter",x,n,d),v.target=b,v.relatedTarget=y,P=v),y=P,g&&x)t:{for(v=g,N=x,j=0,b=v;b;b=Ld(b))j++;for(b=0,P=N;P;P=Ld(P))b++;for(;0<j-b;)v=Ld(v),j--;for(;0<b-j;)N=Ld(N),b--;for(;j--;){if(v===N||N!==null&&v===N.alternate)break t;v=Ld(v),N=Ld(N)}v=null}else v=null;g!==null&&SD(f,m,g,v,!1),x!==null&&y!==null&&SD(f,y,x,v,!0)}}e:{if(m=u?oh(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var C=$Z;else if(gD(m))if(aF)C=BZ;else{C=LZ;var _=RZ}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=FZ);if(C&&(C=C(e,u))){iF(f,C,n,d);break e}_&&_(e,m,u),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&aC(m,"number",m.value)}switch(_=u?oh(u):window,e){case"focusin":(gD(_)||_.contentEditable==="true")&&(ih=_,xC=u,jp=null);break;case"focusout":jp=xC=ih=null;break;case"mousedown":yC=!0;break;case"contextmenu":case"mouseup":case"dragend":yC=!1,bD(f,n,d);break;case"selectionchange":if(UZ)break;case"keydown":case"keyup":bD(f,n,d)}var A;if(W_)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else sh?rF(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(nF&&n.locale!=="ko"&&(sh||E!=="onCompositionStart"?E==="onCompositionEnd"&&sh&&(A=tF()):(tc=d,V_="value"in tc?tc.value:tc.textContent,sh=!0)),_=Qy(u,E),0<_.length&&(E=new hD(E,e,null,n,d),f.push({event:E,listeners:_}),A?E.data=A:(A=sF(n),A!==null&&(E.data=A)))),(A=TZ?OZ(e,n):DZ(e,n))&&(u=Qy(u,"onBeforeInput"),0<u.length&&(d=new hD("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}gF(f,t)})}function Hp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qy(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Fp(e,n),a!=null&&s.unshift(Hp(e,a,i)),a=Fp(e,t),a!=null&&s.push(Hp(e,a,i))),e=e.return}return s}function Ld(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function SD(e,t,n,s,i){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,i?(c=Fp(n,a),c!=null&&o.unshift(Hp(n,c,l))):i||(c=Fp(n,a),c!=null&&o.push(Hp(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var GZ=/\r\n?/g,KZ=/\u0000|\uFFFD/g;function CD(e){return(typeof e=="string"?e:""+e).replace(GZ,`
`).replace(KZ,"")}function Dx(e,t,n){if(t=CD(t),CD(e)!==t&&n)throw Error(Ue(425))}function Xy(){}var jC=null,bC=null;function wC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var NC=typeof setTimeout=="function"?setTimeout:void 0,YZ=typeof clearTimeout=="function"?clearTimeout:void 0,PD=typeof Promise=="function"?Promise:void 0,QZ=typeof queueMicrotask=="function"?queueMicrotask:typeof PD<"u"?function(e){return PD.resolve(null).then(e).catch(XZ)}:NC;function XZ(e){setTimeout(function(){throw e})}function L1(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),Vp(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Vp(t)}function uc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _D(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lf=Math.random().toString(36).slice(2),Xa="__reactFiber$"+Lf,Gp="__reactProps$"+Lf,el="__reactContainer$"+Lf,SC="__reactEvents$"+Lf,JZ="__reactListeners$"+Lf,ZZ="__reactHandles$"+Lf;function hu(e){var t=e[Xa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[el]||n[Xa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_D(e);e!==null;){if(n=e[Xa])return n;e=_D(e)}return t}e=n,n=e.parentNode}return null}function tv(e){return e=e[Xa]||e[el],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function qj(e){return e[Gp]||null}var CC=[],lh=-1;function _c(e){return{current:e}}function Vn(e){0>lh||(e.current=CC[lh],CC[lh]=null,lh--)}function Dn(e,t){lh++,CC[lh]=e.current,e.current=t}var jc={},ps=_c(jc),Qs=_c(!1),$u=jc;function Gh(e,t){var n=e.type.contextTypes;if(!n)return jc;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Xs(e){return e=e.childContextTypes,e!=null}function Jy(){Vn(Qs),Vn(ps)}function AD(e,t,n){if(ps.current!==jc)throw Error(Ue(168));Dn(ps,t),Dn(Qs,n)}function xF(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(Ue(108,RJ(e)||"Unknown",i));return tr({},n,s)}function Zy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jc,$u=ps.current,Dn(ps,e),Dn(Qs,Qs.current),!0}function ED(e,t,n){var s=e.stateNode;if(!s)throw Error(Ue(169));n?(e=xF(e,t,$u),s.__reactInternalMemoizedMergedChildContext=e,Vn(Qs),Vn(ps),Dn(ps,e)):Vn(Qs),Dn(Qs,n)}var Lo=null,Wj=!1,F1=!1;function yF(e){Lo===null?Lo=[e]:Lo.push(e)}function eee(e){Wj=!0,yF(e)}function Ac(){if(!F1&&Lo!==null){F1=!0;var e=0,t=jn;try{var n=Lo;for(jn=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Lo=null,Wj=!1}catch(i){throw Lo!==null&&(Lo=Lo.slice(e+1)),qL(L_,Ac),i}finally{jn=t,F1=!1}}return null}var ch=[],uh=0,e0=null,t0=0,Bi=[],zi=0,Ru=null,Uo=1,qo="";function ru(e,t){ch[uh++]=t0,ch[uh++]=e0,e0=e,t0=t}function jF(e,t,n){Bi[zi++]=Uo,Bi[zi++]=qo,Bi[zi++]=Ru,Ru=e;var s=Uo;e=qo;var i=32-Ca(s)-1;s&=~(1<<i),n+=1;var a=32-Ca(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Uo=1<<32-Ca(t)+i|n<<i|s,qo=a+e}else Uo=1<<a|n<<i|s,qo=e}function G_(e){e.return!==null&&(ru(e,1),jF(e,1,0))}function K_(e){for(;e===e0;)e0=ch[--uh],ch[uh]=null,t0=ch[--uh],ch[uh]=null;for(;e===Ru;)Ru=Bi[--zi],Bi[zi]=null,qo=Bi[--zi],Bi[zi]=null,Uo=Bi[--zi],Bi[zi]=null}var xi=null,vi=null,Wn=!1,ba=null;function bF(e,t){var n=Ui(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kD(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xi=e,vi=uc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xi=e,vi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ru!==null?{id:Uo,overflow:qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ui(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xi=e,vi=null,!0):!1;default:return!1}}function PC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _C(e){if(Wn){var t=vi;if(t){var n=t;if(!kD(e,t)){if(PC(e))throw Error(Ue(418));t=uc(n.nextSibling);var s=xi;t&&kD(e,t)?bF(s,n):(e.flags=e.flags&-4097|2,Wn=!1,xi=e)}}else{if(PC(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,Wn=!1,xi=e}}}function TD(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xi=e}function Mx(e){if(e!==xi)return!1;if(!Wn)return TD(e),Wn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wC(e.type,e.memoizedProps)),t&&(t=vi)){if(PC(e))throw wF(),Error(Ue(418));for(;t;)bF(e,t),t=uc(t.nextSibling)}if(TD(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vi=uc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vi=null}}else vi=xi?uc(e.stateNode.nextSibling):null;return!0}function wF(){for(var e=vi;e;)e=uc(e.nextSibling)}function Kh(){vi=xi=null,Wn=!1}function Y_(e){ba===null?ba=[e]:ba.push(e)}var tee=fl.ReactCurrentBatchConfig;function Bm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var s=n.stateNode}if(!s)throw Error(Ue(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function Ix(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function OD(e){var t=e._init;return t(e._payload)}function NF(e){function t(N,j){if(e){var b=N.deletions;b===null?(N.deletions=[j],N.flags|=16):b.push(j)}}function n(N,j){if(!e)return null;for(;j!==null;)t(N,j),j=j.sibling;return null}function s(N,j){for(N=new Map;j!==null;)j.key!==null?N.set(j.key,j):N.set(j.index,j),j=j.sibling;return N}function i(N,j){return N=mc(N,j),N.index=0,N.sibling=null,N}function a(N,j,b){return N.index=b,e?(b=N.alternate,b!==null?(b=b.index,b<j?(N.flags|=2,j):b):(N.flags|=2,j)):(N.flags|=1048576,j)}function o(N){return e&&N.alternate===null&&(N.flags|=2),N}function l(N,j,b,P){return j===null||j.tag!==6?(j=H1(b,N.mode,P),j.return=N,j):(j=i(j,b),j.return=N,j)}function c(N,j,b,P){var C=b.type;return C===rh?d(N,j,b.props.children,P,b.key):j!==null&&(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Fl&&OD(C)===j.type)?(P=i(j,b.props),P.ref=Bm(N,j,b),P.return=N,P):(P=My(b.type,b.key,b.props,null,N.mode,P),P.ref=Bm(N,j,b),P.return=N,P)}function u(N,j,b,P){return j===null||j.tag!==4||j.stateNode.containerInfo!==b.containerInfo||j.stateNode.implementation!==b.implementation?(j=G1(b,N.mode,P),j.return=N,j):(j=i(j,b.children||[]),j.return=N,j)}function d(N,j,b,P,C){return j===null||j.tag!==7?(j=Ou(b,N.mode,P,C),j.return=N,j):(j=i(j,b),j.return=N,j)}function f(N,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return j=H1(""+j,N.mode,b),j.return=N,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Sx:return b=My(j.type,j.key,j.props,null,N.mode,b),b.ref=Bm(N,null,j),b.return=N,b;case nh:return j=G1(j,N.mode,b),j.return=N,j;case Fl:var P=j._init;return f(N,P(j._payload),b)}if(lp(j)||Im(j))return j=Ou(j,N.mode,b,null),j.return=N,j;Ix(N,j)}return null}function m(N,j,b,P){var C=j!==null?j.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:l(N,j,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sx:return b.key===C?c(N,j,b,P):null;case nh:return b.key===C?u(N,j,b,P):null;case Fl:return C=b._init,m(N,j,C(b._payload),P)}if(lp(b)||Im(b))return C!==null?null:d(N,j,b,P,null);Ix(N,b)}return null}function g(N,j,b,P,C){if(typeof P=="string"&&P!==""||typeof P=="number")return N=N.get(b)||null,l(j,N,""+P,C);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Sx:return N=N.get(P.key===null?b:P.key)||null,c(j,N,P,C);case nh:return N=N.get(P.key===null?b:P.key)||null,u(j,N,P,C);case Fl:var _=P._init;return g(N,j,b,_(P._payload),C)}if(lp(P)||Im(P))return N=N.get(b)||null,d(j,N,P,C,null);Ix(j,P)}return null}function x(N,j,b,P){for(var C=null,_=null,A=j,E=j=0,D=null;A!==null&&E<b.length;E++){A.index>E?(D=A,A=null):D=A.sibling;var I=m(N,A,b[E],P);if(I===null){A===null&&(A=D);break}e&&A&&I.alternate===null&&t(N,A),j=a(I,j,E),_===null?C=I:_.sibling=I,_=I,A=D}if(E===b.length)return n(N,A),Wn&&ru(N,E),C;if(A===null){for(;E<b.length;E++)A=f(N,b[E],P),A!==null&&(j=a(A,j,E),_===null?C=A:_.sibling=A,_=A);return Wn&&ru(N,E),C}for(A=s(N,A);E<b.length;E++)D=g(A,N,E,b[E],P),D!==null&&(e&&D.alternate!==null&&A.delete(D.key===null?E:D.key),j=a(D,j,E),_===null?C=D:_.sibling=D,_=D);return e&&A.forEach(function(O){return t(N,O)}),Wn&&ru(N,E),C}function v(N,j,b,P){var C=Im(b);if(typeof C!="function")throw Error(Ue(150));if(b=C.call(b),b==null)throw Error(Ue(151));for(var _=C=null,A=j,E=j=0,D=null,I=b.next();A!==null&&!I.done;E++,I=b.next()){A.index>E?(D=A,A=null):D=A.sibling;var O=m(N,A,I.value,P);if(O===null){A===null&&(A=D);break}e&&A&&O.alternate===null&&t(N,A),j=a(O,j,E),_===null?C=O:_.sibling=O,_=O,A=D}if(I.done)return n(N,A),Wn&&ru(N,E),C;if(A===null){for(;!I.done;E++,I=b.next())I=f(N,I.value,P),I!==null&&(j=a(I,j,E),_===null?C=I:_.sibling=I,_=I);return Wn&&ru(N,E),C}for(A=s(N,A);!I.done;E++,I=b.next())I=g(A,N,E,I.value,P),I!==null&&(e&&I.alternate!==null&&A.delete(I.key===null?E:I.key),j=a(I,j,E),_===null?C=I:_.sibling=I,_=I);return e&&A.forEach(function(k){return t(N,k)}),Wn&&ru(N,E),C}function y(N,j,b,P){if(typeof b=="object"&&b!==null&&b.type===rh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Sx:e:{for(var C=b.key,_=j;_!==null;){if(_.key===C){if(C=b.type,C===rh){if(_.tag===7){n(N,_.sibling),j=i(_,b.props.children),j.return=N,N=j;break e}}else if(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Fl&&OD(C)===_.type){n(N,_.sibling),j=i(_,b.props),j.ref=Bm(N,_,b),j.return=N,N=j;break e}n(N,_);break}else t(N,_);_=_.sibling}b.type===rh?(j=Ou(b.props.children,N.mode,P,b.key),j.return=N,N=j):(P=My(b.type,b.key,b.props,null,N.mode,P),P.ref=Bm(N,j,b),P.return=N,N=P)}return o(N);case nh:e:{for(_=b.key;j!==null;){if(j.key===_)if(j.tag===4&&j.stateNode.containerInfo===b.containerInfo&&j.stateNode.implementation===b.implementation){n(N,j.sibling),j=i(j,b.children||[]),j.return=N,N=j;break e}else{n(N,j);break}else t(N,j);j=j.sibling}j=G1(b,N.mode,P),j.return=N,N=j}return o(N);case Fl:return _=b._init,y(N,j,_(b._payload),P)}if(lp(b))return x(N,j,b,P);if(Im(b))return v(N,j,b,P);Ix(N,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,j!==null&&j.tag===6?(n(N,j.sibling),j=i(j,b),j.return=N,N=j):(n(N,j),j=H1(b,N.mode,P),j.return=N,N=j),o(N)):n(N,j)}return y}var Yh=NF(!0),SF=NF(!1),n0=_c(null),r0=null,dh=null,Q_=null;function X_(){Q_=dh=r0=null}function J_(e){var t=n0.current;Vn(n0),e._currentValue=t}function AC(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Sh(e,t){r0=e,Q_=dh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ks=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Q_!==e)if(e={context:e,memoizedValue:t,next:null},dh===null){if(r0===null)throw Error(Ue(308));dh=e,r0.dependencies={lanes:0,firstContext:e}}else dh=dh.next=e;return t}var fu=null;function Z_(e){fu===null?fu=[e]:fu.push(e)}function CF(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,Z_(t)):(n.next=i.next,i.next=n),t.interleaved=n,tl(e,s)}function tl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bl=!1;function eA(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ko(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dc(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,an&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,tl(e,n)}return i=s.interleaved,i===null?(t.next=t,Z_(s)):(t.next=i.next,i.next=t),s.interleaved=t,tl(e,n)}function Ay(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,F_(e,n)}}function DD(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function s0(e,t,n,s){var i=e.updateQueue;Bl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,g=l.eventTime;if((s&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(m=t,g=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(g,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,m=typeof x=="function"?x.call(g,f,m):x,m==null)break e;f=tr({},f,m);break e;case 2:Bl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function MD(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(Ue(191,i));i.call(s)}}}var nv={},oo=_c(nv),Kp=_c(nv),Yp=_c(nv);function mu(e){if(e===nv)throw Error(Ue(174));return e}function tA(e,t){switch(Dn(Yp,t),Dn(Kp,e),Dn(oo,nv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lC(t,e)}Vn(oo),Dn(oo,t)}function Qh(){Vn(oo),Vn(Kp),Vn(Yp)}function _F(e){mu(Yp.current);var t=mu(oo.current),n=lC(t,e.type);t!==n&&(Dn(Kp,e),Dn(oo,n))}function nA(e){Kp.current===e&&(Vn(oo),Vn(Kp))}var Jn=_c(0);function i0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var B1=[];function rA(){for(var e=0;e<B1.length;e++)B1[e]._workInProgressVersionPrimary=null;B1.length=0}var Ey=fl.ReactCurrentDispatcher,z1=fl.ReactCurrentBatchConfig,Lu=0,er=null,Er=null,Br=null,a0=!1,bp=!1,Qp=0,nee=0;function ls(){throw Error(Ue(321))}function sA(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ea(e[n],t[n]))return!1;return!0}function iA(e,t,n,s,i,a){if(Lu=a,er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ey.current=e===null||e.memoizedState===null?aee:oee,e=n(s,i),bp){a=0;do{if(bp=!1,Qp=0,25<=a)throw Error(Ue(301));a+=1,Br=Er=null,t.updateQueue=null,Ey.current=lee,e=n(s,i)}while(bp)}if(Ey.current=o0,t=Er!==null&&Er.next!==null,Lu=0,Br=Er=er=null,a0=!1,t)throw Error(Ue(300));return e}function aA(){var e=Qp!==0;return Qp=0,e}function Ha(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?er.memoizedState=Br=e:Br=Br.next=e,Br}function Qi(){if(Er===null){var e=er.alternate;e=e!==null?e.memoizedState:null}else e=Er.next;var t=Br===null?er.memoizedState:Br.next;if(t!==null)Br=t,Er=e;else{if(e===null)throw Error(Ue(310));Er=e,e={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},Br===null?er.memoizedState=Br=e:Br=Br.next=e}return Br}function Xp(e,t){return typeof t=="function"?t(e):t}function V1(e){var t=Qi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var s=Er,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Lu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,er.lanes|=d,Fu|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,Ea(s,t.memoizedState)||(Ks=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do a=i.lane,er.lanes|=a,Fu|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function U1(e){var t=Qi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Ea(a,t.memoizedState)||(Ks=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function AF(){}function EF(e,t){var n=er,s=Qi(),i=t(),a=!Ea(s.memoizedState,i);if(a&&(s.memoizedState=i,Ks=!0),s=s.queue,oA(OF.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Br!==null&&Br.memoizedState.tag&1){if(n.flags|=2048,Jp(9,TF.bind(null,n,s,i,t),void 0,null),qr===null)throw Error(Ue(349));Lu&30||kF(n,t,i)}return i}function kF(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function TF(e,t,n,s){t.value=n,t.getSnapshot=s,DF(t)&&MF(e)}function OF(e,t,n){return n(function(){DF(t)&&MF(e)})}function DF(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ea(e,n)}catch{return!0}}function MF(e){var t=tl(e,1);t!==null&&Pa(t,e,1,-1)}function ID(e){var t=Ha();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:e},t.queue=e,e=e.dispatch=iee.bind(null,er,e),[t.memoizedState,e]}function Jp(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function IF(){return Qi().memoizedState}function ky(e,t,n,s){var i=Ha();er.flags|=e,i.memoizedState=Jp(1|t,n,void 0,s===void 0?null:s)}function Hj(e,t,n,s){var i=Qi();s=s===void 0?null:s;var a=void 0;if(Er!==null){var o=Er.memoizedState;if(a=o.destroy,s!==null&&sA(s,o.deps)){i.memoizedState=Jp(t,n,a,s);return}}er.flags|=e,i.memoizedState=Jp(1|t,n,a,s)}function $D(e,t){return ky(8390656,8,e,t)}function oA(e,t){return Hj(2048,8,e,t)}function $F(e,t){return Hj(4,2,e,t)}function RF(e,t){return Hj(4,4,e,t)}function LF(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function FF(e,t,n){return n=n!=null?n.concat([e]):null,Hj(4,4,LF.bind(null,t,e),n)}function lA(){}function BF(e,t){var n=Qi();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&sA(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function zF(e,t){var n=Qi();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&sA(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function VF(e,t,n){return Lu&21?(Ea(n,t)||(n=GL(),er.lanes|=n,Fu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ks=!0),e.memoizedState=n)}function ree(e,t){var n=jn;jn=n!==0&&4>n?n:4,e(!0);var s=z1.transition;z1.transition={};try{e(!1),t()}finally{jn=n,z1.transition=s}}function UF(){return Qi().memoizedState}function see(e,t,n){var s=fc(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},qF(e))WF(t,n);else if(n=CF(e,t,n,s),n!==null){var i=Os();Pa(n,e,s,i),HF(n,t,s)}}function iee(e,t,n){var s=fc(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(qF(e))WF(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Ea(l,o)){var c=t.interleaved;c===null?(i.next=i,Z_(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=CF(e,t,i,s),n!==null&&(i=Os(),Pa(n,e,s,i),HF(n,t,s))}}function qF(e){var t=e.alternate;return e===er||t!==null&&t===er}function WF(e,t){bp=a0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function HF(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,F_(e,n)}}var o0={readContext:Yi,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useInsertionEffect:ls,useLayoutEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useMutableSource:ls,useSyncExternalStore:ls,useId:ls,unstable_isNewReconciler:!1},aee={readContext:Yi,useCallback:function(e,t){return Ha().memoizedState=[e,t===void 0?null:t],e},useContext:Yi,useEffect:$D,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ky(4194308,4,LF.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ky(4194308,4,e,t)},useInsertionEffect:function(e,t){return ky(4,2,e,t)},useMemo:function(e,t){var n=Ha();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Ha();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=see.bind(null,er,e),[s.memoizedState,e]},useRef:function(e){var t=Ha();return e={current:e},t.memoizedState=e},useState:ID,useDebugValue:lA,useDeferredValue:function(e){return Ha().memoizedState=e},useTransition:function(){var e=ID(!1),t=e[0];return e=ree.bind(null,e[1]),Ha().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=er,i=Ha();if(Wn){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),qr===null)throw Error(Ue(349));Lu&30||kF(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,$D(OF.bind(null,s,a,e),[e]),s.flags|=2048,Jp(9,TF.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Ha(),t=qr.identifierPrefix;if(Wn){var n=qo,s=Uo;n=(s&~(1<<32-Ca(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nee++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oee={readContext:Yi,useCallback:BF,useContext:Yi,useEffect:oA,useImperativeHandle:FF,useInsertionEffect:$F,useLayoutEffect:RF,useMemo:zF,useReducer:V1,useRef:IF,useState:function(){return V1(Xp)},useDebugValue:lA,useDeferredValue:function(e){var t=Qi();return VF(t,Er.memoizedState,e)},useTransition:function(){var e=V1(Xp)[0],t=Qi().memoizedState;return[e,t]},useMutableSource:AF,useSyncExternalStore:EF,useId:UF,unstable_isNewReconciler:!1},lee={readContext:Yi,useCallback:BF,useContext:Yi,useEffect:oA,useImperativeHandle:FF,useInsertionEffect:$F,useLayoutEffect:RF,useMemo:zF,useReducer:U1,useRef:IF,useState:function(){return U1(Xp)},useDebugValue:lA,useDeferredValue:function(e){var t=Qi();return Er===null?t.memoizedState=e:VF(t,Er.memoizedState,e)},useTransition:function(){var e=U1(Xp)[0],t=Qi().memoizedState;return[e,t]},useMutableSource:AF,useSyncExternalStore:EF,useId:UF,unstable_isNewReconciler:!1};function ma(e,t){if(e&&e.defaultProps){t=tr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function EC(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:tr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gj={isMounted:function(e){return(e=e._reactInternals)?ad(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Os(),i=fc(e),a=Ko(s,i);a.payload=t,n!=null&&(a.callback=n),t=dc(e,a,i),t!==null&&(Pa(t,e,i,s),Ay(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Os(),i=fc(e),a=Ko(s,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=dc(e,a,i),t!==null&&(Pa(t,e,i,s),Ay(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Os(),s=fc(e),i=Ko(n,s);i.tag=2,t!=null&&(i.callback=t),t=dc(e,i,s),t!==null&&(Pa(t,e,s,n),Ay(t,e,s))}};function RD(e,t,n,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!qp(n,s)||!qp(i,a):!0}function GF(e,t,n){var s=!1,i=jc,a=t.contextType;return typeof a=="object"&&a!==null?a=Yi(a):(i=Xs(t)?$u:ps.current,s=t.contextTypes,a=(s=s!=null)?Gh(e,i):jc),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gj,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function LD(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Gj.enqueueReplaceState(t,t.state,null)}function kC(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},eA(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Yi(a):(a=Xs(t)?$u:ps.current,i.context=Gh(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(EC(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Gj.enqueueReplaceState(i,i.state,null),s0(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xh(e,t){try{var n="",s=t;do n+=$J(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function q1(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function TC(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cee=typeof WeakMap=="function"?WeakMap:Map;function KF(e,t,n){n=Ko(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){c0||(c0=!0,zC=s),TC(e,t)},n}function YF(e,t,n){n=Ko(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){TC(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){TC(e,t),typeof s!="function"&&(hc===null?hc=new Set([this]):hc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function FD(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new cee;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=Nee.bind(null,e,t,n),t.then(e,e))}function BD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zD(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ko(-1,1),t.tag=2,dc(n,t,1))),n.lanes|=1),e)}var uee=fl.ReactCurrentOwner,Ks=!1;function Ps(e,t,n,s){t.child=e===null?SF(t,null,n,s):Yh(t,e.child,n,s)}function VD(e,t,n,s,i){n=n.render;var a=t.ref;return Sh(t,i),s=iA(e,t,n,s,a,i),n=aA(),e!==null&&!Ks?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nl(e,t,i)):(Wn&&n&&G_(t),t.flags|=1,Ps(e,t,s,i),t.child)}function UD(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!gA(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,QF(e,t,a,s,i)):(e=My(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:qp,n(o,s)&&e.ref===t.ref)return nl(e,t,i)}return t.flags|=1,e=mc(a,s),e.ref=t.ref,e.return=t,t.child=e}function QF(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(qp(a,s)&&e.ref===t.ref)if(Ks=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(Ks=!0);else return t.lanes=e.lanes,nl(e,t,i)}return OC(e,t,n,s,i)}function XF(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dn(fh,hi),hi|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Dn(fh,hi),hi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,Dn(fh,hi),hi|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,Dn(fh,hi),hi|=s;return Ps(e,t,i,n),t.child}function JF(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function OC(e,t,n,s,i){var a=Xs(n)?$u:ps.current;return a=Gh(t,a),Sh(t,i),n=iA(e,t,n,s,a,i),s=aA(),e!==null&&!Ks?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nl(e,t,i)):(Wn&&s&&G_(t),t.flags|=1,Ps(e,t,n,i),t.child)}function qD(e,t,n,s,i){if(Xs(n)){var a=!0;Zy(t)}else a=!1;if(Sh(t,i),t.stateNode===null)Ty(e,t),GF(t,n,s),kC(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yi(u):(u=Xs(n)?$u:ps.current,u=Gh(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&LD(t,o,s,u),Bl=!1;var m=t.memoizedState;o.state=m,s0(t,s,o,i),c=t.memoizedState,l!==s||m!==c||Qs.current||Bl?(typeof d=="function"&&(EC(t,n,d,s),c=t.memoizedState),(l=Bl||RD(t,n,l,s,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,PF(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ma(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Yi(c):(c=Xs(n)?$u:ps.current,c=Gh(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&LD(t,o,s,c),Bl=!1,m=t.memoizedState,o.state=m,s0(t,s,o,i);var x=t.memoizedState;l!==f||m!==x||Qs.current||Bl?(typeof g=="function"&&(EC(t,n,g,s),x=t.memoizedState),(u=Bl||RD(t,n,u,s,m,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return DC(e,t,n,s,a,i)}function DC(e,t,n,s,i,a){JF(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&ED(t,n,!1),nl(e,t,a);s=t.stateNode,uee.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Yh(t,e.child,null,a),t.child=Yh(t,null,l,a)):Ps(e,t,l,a),t.memoizedState=s.state,i&&ED(t,n,!0),t.child}function ZF(e){var t=e.stateNode;t.pendingContext?AD(e,t.pendingContext,t.pendingContext!==t.context):t.context&&AD(e,t.context,!1),tA(e,t.containerInfo)}function WD(e,t,n,s,i){return Kh(),Y_(i),t.flags|=256,Ps(e,t,n,s),t.child}var MC={dehydrated:null,treeContext:null,retryLane:0};function IC(e){return{baseLanes:e,cachePool:null,transitions:null}}function e5(e,t,n){var s=t.pendingProps,i=Jn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Dn(Jn,i&1),e===null)return _C(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Qj(o,s,0,null),e=Ou(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=IC(n),t.memoizedState=MC,e):cA(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return dee(e,t,o,s,l,i,n);if(a){a=s.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=mc(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=mc(l,a):(a=Ou(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?IC(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=MC,s}return a=e.child,e=a.sibling,s=mc(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function cA(e,t){return t=Qj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $x(e,t,n,s){return s!==null&&Y_(s),Yh(t,e.child,null,n),e=cA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dee(e,t,n,s,i,a,o){if(n)return t.flags&256?(t.flags&=-257,s=q1(Error(Ue(422))),$x(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=Qj({mode:"visible",children:s.children},i,0,null),a=Ou(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Yh(t,e.child,null,o),t.child.memoizedState=IC(o),t.memoizedState=MC,a);if(!(t.mode&1))return $x(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(Ue(419)),s=q1(a,s,void 0),$x(e,t,o,s)}if(l=(o&e.childLanes)!==0,Ks||l){if(s=qr,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,tl(e,i),Pa(s,e,i,-1))}return pA(),s=q1(Error(Ue(421))),$x(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=See.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,vi=uc(i.nextSibling),xi=t,Wn=!0,ba=null,e!==null&&(Bi[zi++]=Uo,Bi[zi++]=qo,Bi[zi++]=Ru,Uo=e.id,qo=e.overflow,Ru=t),t=cA(t,s.children),t.flags|=4096,t)}function HD(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),AC(e.return,t,n)}function W1(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function t5(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(Ps(e,t,s.children,n),s=Jn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&HD(e,n,t);else if(e.tag===19)HD(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Dn(Jn,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&i0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),W1(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&i0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}W1(t,!0,n,null,a);break;case"together":W1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ty(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=mc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hee(e,t,n){switch(t.tag){case 3:ZF(t),Kh();break;case 5:_F(t);break;case 1:Xs(t.type)&&Zy(t);break;case 4:tA(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;Dn(n0,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Dn(Jn,Jn.current&1),t.flags|=128,null):n&t.child.childLanes?e5(e,t,n):(Dn(Jn,Jn.current&1),e=nl(e,t,n),e!==null?e.sibling:null);Dn(Jn,Jn.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return t5(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dn(Jn,Jn.current),s)break;return null;case 22:case 23:return t.lanes=0,XF(e,t,n)}return nl(e,t,n)}var n5,$C,r5,s5;n5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$C=function(){};r5=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,mu(oo.current);var a=null;switch(n){case"input":i=sC(e,i),s=sC(e,s),a=[];break;case"select":i=tr({},i,{value:void 0}),s=tr({},s,{value:void 0}),a=[];break;case"textarea":i=oC(e,i),s=oC(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Xy)}cC(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rp.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ln("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};s5=function(e,t,n,s){n!==s&&(t.flags|=4)};function zm(e,t){if(!Wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function cs(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function fee(e,t,n){var s=t.pendingProps;switch(K_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cs(t),null;case 1:return Xs(t.type)&&Jy(),cs(t),null;case 3:return s=t.stateNode,Qh(),Vn(Qs),Vn(ps),rA(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Mx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ba!==null&&(qC(ba),ba=null))),$C(e,t),cs(t),null;case 5:nA(t);var i=mu(Yp.current);if(n=t.type,e!==null&&t.stateNode!=null)r5(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Ue(166));return cs(t),null}if(e=mu(oo.current),Mx(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Xa]=t,s[Gp]=a,e=(t.mode&1)!==0,n){case"dialog":Ln("cancel",s),Ln("close",s);break;case"iframe":case"object":case"embed":Ln("load",s);break;case"video":case"audio":for(i=0;i<up.length;i++)Ln(up[i],s);break;case"source":Ln("error",s);break;case"img":case"image":case"link":Ln("error",s),Ln("load",s);break;case"details":Ln("toggle",s);break;case"input":tD(s,a),Ln("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Ln("invalid",s);break;case"textarea":rD(s,a),Ln("invalid",s)}cC(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Dx(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Dx(s.textContent,l,e),i=["children",""+l]):Rp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ln("scroll",s)}switch(n){case"input":Cx(s),nD(s,a,!0);break;case"textarea":Cx(s),sD(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Xy)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=OL(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Xa]=t,e[Gp]=s,n5(e,t,!1,!1),t.stateNode=e;e:{switch(o=uC(n,s),n){case"dialog":Ln("cancel",e),Ln("close",e),i=s;break;case"iframe":case"object":case"embed":Ln("load",e),i=s;break;case"video":case"audio":for(i=0;i<up.length;i++)Ln(up[i],e);i=s;break;case"source":Ln("error",e),i=s;break;case"img":case"image":case"link":Ln("error",e),Ln("load",e),i=s;break;case"details":Ln("toggle",e),i=s;break;case"input":tD(e,s),i=sC(e,s),Ln("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=tr({},s,{value:void 0}),Ln("invalid",e);break;case"textarea":rD(e,s),i=oC(e,s),Ln("invalid",e);break;default:i=s}cC(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?IL(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&DL(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Lp(e,c):typeof c=="number"&&Lp(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Rp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ln("scroll",e):c!=null&&D_(e,a,c,o))}switch(n){case"input":Cx(e),nD(e,s,!1);break;case"textarea":Cx(e),sD(e);break;case"option":s.value!=null&&e.setAttribute("value",""+yc(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?jh(e,!!s.multiple,a,!1):s.defaultValue!=null&&jh(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Xy)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return cs(t),null;case 6:if(e&&t.stateNode!=null)s5(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=mu(Yp.current),mu(oo.current),Mx(t)){if(s=t.stateNode,n=t.memoizedProps,s[Xa]=t,(a=s.nodeValue!==n)&&(e=xi,e!==null))switch(e.tag){case 3:Dx(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dx(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Xa]=t,t.stateNode=s}return cs(t),null;case 13:if(Vn(Jn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Wn&&vi!==null&&t.mode&1&&!(t.flags&128))wF(),Kh(),t.flags|=98560,a=!1;else if(a=Mx(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(Ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ue(317));a[Xa]=t}else Kh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;cs(t),a=!1}else ba!==null&&(qC(ba),ba=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Jn.current&1?Or===0&&(Or=3):pA())),t.updateQueue!==null&&(t.flags|=4),cs(t),null);case 4:return Qh(),$C(e,t),e===null&&Wp(t.stateNode.containerInfo),cs(t),null;case 10:return J_(t.type._context),cs(t),null;case 17:return Xs(t.type)&&Jy(),cs(t),null;case 19:if(Vn(Jn),a=t.memoizedState,a===null)return cs(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)zm(a,!1);else{if(Or!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=i0(e),o!==null){for(t.flags|=128,zm(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Dn(Jn,Jn.current&1|2),t.child}e=e.sibling}a.tail!==null&&fr()>Jh&&(t.flags|=128,s=!0,zm(a,!1),t.lanes=4194304)}else{if(!s)if(e=i0(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zm(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Wn)return cs(t),null}else 2*fr()-a.renderingStartTime>Jh&&n!==1073741824&&(t.flags|=128,s=!0,zm(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=fr(),t.sibling=null,n=Jn.current,Dn(Jn,s?n&1|2:n&1),t):(cs(t),null);case 22:case 23:return mA(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?hi&1073741824&&(cs(t),t.subtreeFlags&6&&(t.flags|=8192)):cs(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function mee(e,t){switch(K_(t),t.tag){case 1:return Xs(t.type)&&Jy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qh(),Vn(Qs),Vn(ps),rA(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nA(t),null;case 13:if(Vn(Jn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Kh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vn(Jn),null;case 4:return Qh(),null;case 10:return J_(t.type._context),null;case 22:case 23:return mA(),null;case 24:return null;default:return null}}var Rx=!1,fs=!1,pee=typeof WeakSet=="function"?WeakSet:Set,rt=null;function hh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ir(e,t,s)}else n.current=null}function RC(e,t,n){try{n()}catch(s){ir(e,t,s)}}var GD=!1;function gee(e,t){if(jC=Ky,e=cF(),H_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==a||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===n&&++u===i&&(l=o),m===a&&++d===s&&(c=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(bC={focusedElem:e,selectionRange:n},Ky=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){t=rt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,y=x.memoizedState,N=t.stateNode,j=N.getSnapshotBeforeUpdate(t.elementType===t.type?v:ma(t.type,v),y);N.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(P){ir(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}return x=GD,GD=!1,x}function wp(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&RC(t,n,a)}i=i.next}while(i!==s)}}function Kj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function LC(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function i5(e){var t=e.alternate;t!==null&&(e.alternate=null,i5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xa],delete t[Gp],delete t[SC],delete t[JZ],delete t[ZZ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function a5(e){return e.tag===5||e.tag===3||e.tag===4}function KD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||a5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function FC(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xy));else if(s!==4&&(e=e.child,e!==null))for(FC(e,t,n),e=e.sibling;e!==null;)FC(e,t,n),e=e.sibling}function BC(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(BC(e,t,n),e=e.sibling;e!==null;)BC(e,t,n),e=e.sibling}var es=null,va=!1;function El(e,t,n){for(n=n.child;n!==null;)o5(e,t,n),n=n.sibling}function o5(e,t,n){if(ao&&typeof ao.onCommitFiberUnmount=="function")try{ao.onCommitFiberUnmount(Bj,n)}catch{}switch(n.tag){case 5:fs||hh(n,t);case 6:var s=es,i=va;es=null,El(e,t,n),es=s,va=i,es!==null&&(va?(e=es,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):es.removeChild(n.stateNode));break;case 18:es!==null&&(va?(e=es,n=n.stateNode,e.nodeType===8?L1(e.parentNode,n):e.nodeType===1&&L1(e,n),Vp(e)):L1(es,n.stateNode));break;case 4:s=es,i=va,es=n.stateNode.containerInfo,va=!0,El(e,t,n),es=s,va=i;break;case 0:case 11:case 14:case 15:if(!fs&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&RC(n,t,o),i=i.next}while(i!==s)}El(e,t,n);break;case 1:if(!fs&&(hh(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){ir(n,t,l)}El(e,t,n);break;case 21:El(e,t,n);break;case 22:n.mode&1?(fs=(s=fs)||n.memoizedState!==null,El(e,t,n),fs=s):El(e,t,n);break;default:El(e,t,n)}}function YD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pee),t.forEach(function(s){var i=Cee.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function ca(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:es=l.stateNode,va=!1;break e;case 3:es=l.stateNode.containerInfo,va=!0;break e;case 4:es=l.stateNode.containerInfo,va=!0;break e}l=l.return}if(es===null)throw Error(Ue(160));o5(a,o,i),es=null,va=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ir(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)l5(t,e),t=t.sibling}function l5(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ca(t,e),Wa(e),s&4){try{wp(3,e,e.return),Kj(3,e)}catch(v){ir(e,e.return,v)}try{wp(5,e,e.return)}catch(v){ir(e,e.return,v)}}break;case 1:ca(t,e),Wa(e),s&512&&n!==null&&hh(n,n.return);break;case 5:if(ca(t,e),Wa(e),s&512&&n!==null&&hh(n,n.return),e.flags&32){var i=e.stateNode;try{Lp(i,"")}catch(v){ir(e,e.return,v)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&kL(i,a),uC(l,o);var u=uC(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?IL(i,f):d==="dangerouslySetInnerHTML"?DL(i,f):d==="children"?Lp(i,f):D_(i,d,f,u)}switch(l){case"input":iC(i,a);break;case"textarea":TL(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?jh(i,!!a.multiple,g,!1):m!==!!a.multiple&&(a.defaultValue!=null?jh(i,!!a.multiple,a.defaultValue,!0):jh(i,!!a.multiple,a.multiple?[]:"",!1))}i[Gp]=a}catch(v){ir(e,e.return,v)}}break;case 6:if(ca(t,e),Wa(e),s&4){if(e.stateNode===null)throw Error(Ue(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){ir(e,e.return,v)}}break;case 3:if(ca(t,e),Wa(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Vp(t.containerInfo)}catch(v){ir(e,e.return,v)}break;case 4:ca(t,e),Wa(e);break;case 13:ca(t,e),Wa(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(hA=fr())),s&4&&YD(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(fs=(u=fs)||d,ca(t,e),fs=u):ca(t,e),Wa(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(rt=e,d=e.child;d!==null;){for(f=rt=d;rt!==null;){switch(m=rt,g=m.child,m.tag){case 0:case 11:case 14:case 15:wp(4,m,m.return);break;case 1:hh(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){s=m,n=m.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){ir(s,n,v)}}break;case 5:hh(m,m.return);break;case 22:if(m.memoizedState!==null){XD(f);continue}}g!==null?(g.return=m,rt=g):XD(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ML("display",o))}catch(v){ir(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ir(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ca(t,e),Wa(e),s&4&&YD(e);break;case 21:break;default:ca(t,e),Wa(e)}}function Wa(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(a5(n)){var s=n;break e}n=n.return}throw Error(Ue(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Lp(i,""),s.flags&=-33);var a=KD(e);BC(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=KD(e);FC(e,l,o);break;default:throw Error(Ue(161))}}catch(c){ir(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vee(e,t,n){rt=e,c5(e)}function c5(e,t,n){for(var s=(e.mode&1)!==0;rt!==null;){var i=rt,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Rx;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||fs;l=Rx;var u=fs;if(Rx=o,(fs=c)&&!u)for(rt=i;rt!==null;)o=rt,c=o.child,o.tag===22&&o.memoizedState!==null?JD(i):c!==null?(c.return=o,rt=c):JD(i);for(;a!==null;)rt=a,c5(a),a=a.sibling;rt=i,Rx=l,fs=u}QD(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,rt=a):QD(e)}}function QD(e){for(;rt!==null;){var t=rt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fs||Kj(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!fs)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&MD(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}MD(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Vp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}fs||t.flags&512&&LC(t)}catch(m){ir(t,t.return,m)}}if(t===e){rt=null;break}if(n=t.sibling,n!==null){n.return=t.return,rt=n;break}rt=t.return}}function XD(e){for(;rt!==null;){var t=rt;if(t===e){rt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,rt=n;break}rt=t.return}}function JD(e){for(;rt!==null;){var t=rt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kj(4,t)}catch(c){ir(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){ir(t,i,c)}}var a=t.return;try{LC(t)}catch(c){ir(t,a,c)}break;case 5:var o=t.return;try{LC(t)}catch(c){ir(t,o,c)}}}catch(c){ir(t,t.return,c)}if(t===e){rt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,rt=l;break}rt=t.return}}var xee=Math.ceil,l0=fl.ReactCurrentDispatcher,uA=fl.ReactCurrentOwner,Hi=fl.ReactCurrentBatchConfig,an=0,qr=null,jr=null,ts=0,hi=0,fh=_c(0),Or=0,Zp=null,Fu=0,Yj=0,dA=0,Np=null,Hs=null,hA=0,Jh=1/0,Io=null,c0=!1,zC=null,hc=null,Lx=!1,nc=null,u0=0,Sp=0,VC=null,Oy=-1,Dy=0;function Os(){return an&6?fr():Oy!==-1?Oy:Oy=fr()}function fc(e){return e.mode&1?an&2&&ts!==0?ts&-ts:tee.transition!==null?(Dy===0&&(Dy=GL()),Dy):(e=jn,e!==0||(e=window.event,e=e===void 0?16:eF(e.type)),e):1}function Pa(e,t,n,s){if(50<Sp)throw Sp=0,VC=null,Error(Ue(185));Zg(e,n,s),(!(an&2)||e!==qr)&&(e===qr&&(!(an&2)&&(Yj|=n),Or===4&&Ul(e,ts)),Js(e,s),n===1&&an===0&&!(t.mode&1)&&(Jh=fr()+500,Wj&&Ac()))}function Js(e,t){var n=e.callbackNode;tZ(e,t);var s=Gy(e,e===qr?ts:0);if(s===0)n!==null&&oD(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&oD(n),t===1)e.tag===0?eee(ZD.bind(null,e)):yF(ZD.bind(null,e)),QZ(function(){!(an&6)&&Ac()}),n=null;else{switch(KL(s)){case 1:n=L_;break;case 4:n=WL;break;case 16:n=Hy;break;case 536870912:n=HL;break;default:n=Hy}n=v5(n,u5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function u5(e,t){if(Oy=-1,Dy=0,an&6)throw Error(Ue(327));var n=e.callbackNode;if(Ch()&&e.callbackNode!==n)return null;var s=Gy(e,e===qr?ts:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=d0(e,s);else{t=s;var i=an;an|=2;var a=h5();(qr!==e||ts!==t)&&(Io=null,Jh=fr()+500,Tu(e,t));do try{bee();break}catch(l){d5(e,l)}while(!0);X_(),l0.current=a,an=i,jr!==null?t=0:(qr=null,ts=0,t=Or)}if(t!==0){if(t===2&&(i=pC(e),i!==0&&(s=i,t=UC(e,i))),t===1)throw n=Zp,Tu(e,0),Ul(e,s),Js(e,fr()),n;if(t===6)Ul(e,s);else{if(i=e.current.alternate,!(s&30)&&!yee(i)&&(t=d0(e,s),t===2&&(a=pC(e),a!==0&&(s=a,t=UC(e,a))),t===1))throw n=Zp,Tu(e,0),Ul(e,s),Js(e,fr()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(Ue(345));case 2:su(e,Hs,Io);break;case 3:if(Ul(e,s),(s&130023424)===s&&(t=hA+500-fr(),10<t)){if(Gy(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){Os(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=NC(su.bind(null,e,Hs,Io),t);break}su(e,Hs,Io);break;case 4:if(Ul(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-Ca(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=fr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*xee(s/1960))-s,10<s){e.timeoutHandle=NC(su.bind(null,e,Hs,Io),s);break}su(e,Hs,Io);break;case 5:su(e,Hs,Io);break;default:throw Error(Ue(329))}}}return Js(e,fr()),e.callbackNode===n?u5.bind(null,e):null}function UC(e,t){var n=Np;return e.current.memoizedState.isDehydrated&&(Tu(e,t).flags|=256),e=d0(e,t),e!==2&&(t=Hs,Hs=n,t!==null&&qC(t)),e}function qC(e){Hs===null?Hs=e:Hs.push.apply(Hs,e)}function yee(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!Ea(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ul(e,t){for(t&=~dA,t&=~Yj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ca(t),s=1<<n;e[n]=-1,t&=~s}}function ZD(e){if(an&6)throw Error(Ue(327));Ch();var t=Gy(e,0);if(!(t&1))return Js(e,fr()),null;var n=d0(e,t);if(e.tag!==0&&n===2){var s=pC(e);s!==0&&(t=s,n=UC(e,s))}if(n===1)throw n=Zp,Tu(e,0),Ul(e,t),Js(e,fr()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,su(e,Hs,Io),Js(e,fr()),null}function fA(e,t){var n=an;an|=1;try{return e(t)}finally{an=n,an===0&&(Jh=fr()+500,Wj&&Ac())}}function Bu(e){nc!==null&&nc.tag===0&&!(an&6)&&Ch();var t=an;an|=1;var n=Hi.transition,s=jn;try{if(Hi.transition=null,jn=1,e)return e()}finally{jn=s,Hi.transition=n,an=t,!(an&6)&&Ac()}}function mA(){hi=fh.current,Vn(fh)}function Tu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,YZ(n)),jr!==null)for(n=jr.return;n!==null;){var s=n;switch(K_(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Jy();break;case 3:Qh(),Vn(Qs),Vn(ps),rA();break;case 5:nA(s);break;case 4:Qh();break;case 13:Vn(Jn);break;case 19:Vn(Jn);break;case 10:J_(s.type._context);break;case 22:case 23:mA()}n=n.return}if(qr=e,jr=e=mc(e.current,null),ts=hi=t,Or=0,Zp=null,dA=Yj=Fu=0,Hs=Np=null,fu!==null){for(t=0;t<fu.length;t++)if(n=fu[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}fu=null}return e}function d5(e,t){do{var n=jr;try{if(X_(),Ey.current=o0,a0){for(var s=er.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}a0=!1}if(Lu=0,Br=Er=er=null,bp=!1,Qp=0,uA.current=null,n===null||n.return===null){Or=1,Zp=t,jr=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=ts,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=BD(o);if(g!==null){g.flags&=-257,zD(g,o,l,a,t),g.mode&1&&FD(a,u,t),t=g,c=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(c),t.updateQueue=v}else x.add(c);break e}else{if(!(t&1)){FD(a,u,t),pA();break e}c=Error(Ue(426))}}else if(Wn&&l.mode&1){var y=BD(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),zD(y,o,l,a,t),Y_(Xh(c,l));break e}}a=c=Xh(c,l),Or!==4&&(Or=2),Np===null?Np=[a]:Np.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var N=KF(a,c,t);DD(a,N);break e;case 1:l=c;var j=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof j.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(hc===null||!hc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=YF(a,l,t);DD(a,P);break e}}a=a.return}while(a!==null)}m5(n)}catch(C){t=C,jr===n&&n!==null&&(jr=n=n.return);continue}break}while(!0)}function h5(){var e=l0.current;return l0.current=o0,e===null?o0:e}function pA(){(Or===0||Or===3||Or===2)&&(Or=4),qr===null||!(Fu&268435455)&&!(Yj&268435455)||Ul(qr,ts)}function d0(e,t){var n=an;an|=2;var s=h5();(qr!==e||ts!==t)&&(Io=null,Tu(e,t));do try{jee();break}catch(i){d5(e,i)}while(!0);if(X_(),an=n,l0.current=s,jr!==null)throw Error(Ue(261));return qr=null,ts=0,Or}function jee(){for(;jr!==null;)f5(jr)}function bee(){for(;jr!==null&&!HJ();)f5(jr)}function f5(e){var t=g5(e.alternate,e,hi);e.memoizedProps=e.pendingProps,t===null?m5(e):jr=t,uA.current=null}function m5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mee(n,t),n!==null){n.flags&=32767,jr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Or=6,jr=null;return}}else if(n=fee(n,t,hi),n!==null){jr=n;return}if(t=t.sibling,t!==null){jr=t;return}jr=t=e}while(t!==null);Or===0&&(Or=5)}function su(e,t,n){var s=jn,i=Hi.transition;try{Hi.transition=null,jn=1,wee(e,t,n,s)}finally{Hi.transition=i,jn=s}return null}function wee(e,t,n,s){do Ch();while(nc!==null);if(an&6)throw Error(Ue(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(nZ(e,a),e===qr&&(jr=qr=null,ts=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lx||(Lx=!0,v5(Hy,function(){return Ch(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Hi.transition,Hi.transition=null;var o=jn;jn=1;var l=an;an|=4,uA.current=null,gee(e,n),l5(n,e),VZ(bC),Ky=!!jC,bC=jC=null,e.current=n,vee(n),GJ(),an=l,jn=o,Hi.transition=a}else e.current=n;if(Lx&&(Lx=!1,nc=e,u0=i),a=e.pendingLanes,a===0&&(hc=null),QJ(n.stateNode),Js(e,fr()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(c0)throw c0=!1,e=zC,zC=null,e;return u0&1&&e.tag!==0&&Ch(),a=e.pendingLanes,a&1?e===VC?Sp++:(Sp=0,VC=e):Sp=0,Ac(),null}function Ch(){if(nc!==null){var e=KL(u0),t=Hi.transition,n=jn;try{if(Hi.transition=null,jn=16>e?16:e,nc===null)var s=!1;else{if(e=nc,nc=null,u0=0,an&6)throw Error(Ue(331));var i=an;for(an|=4,rt=e.current;rt!==null;){var a=rt,o=a.child;if(rt.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(rt=u;rt!==null;){var d=rt;switch(d.tag){case 0:case 11:case 15:wp(8,d,a)}var f=d.child;if(f!==null)f.return=d,rt=f;else for(;rt!==null;){d=rt;var m=d.sibling,g=d.return;if(i5(d),d===u){rt=null;break}if(m!==null){m.return=g,rt=m;break}rt=g}}}var x=a.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}rt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,rt=o;else e:for(;rt!==null;){if(a=rt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:wp(9,a,a.return)}var N=a.sibling;if(N!==null){N.return=a.return,rt=N;break e}rt=a.return}}var j=e.current;for(rt=j;rt!==null;){o=rt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,rt=b;else e:for(o=j;rt!==null;){if(l=rt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kj(9,l)}}catch(C){ir(l,l.return,C)}if(l===o){rt=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,rt=P;break e}rt=l.return}}if(an=i,Ac(),ao&&typeof ao.onPostCommitFiberRoot=="function")try{ao.onPostCommitFiberRoot(Bj,e)}catch{}s=!0}return s}finally{jn=n,Hi.transition=t}}return!1}function eM(e,t,n){t=Xh(n,t),t=KF(e,t,1),e=dc(e,t,1),t=Os(),e!==null&&(Zg(e,1,t),Js(e,t))}function ir(e,t,n){if(e.tag===3)eM(e,e,n);else for(;t!==null;){if(t.tag===3){eM(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(hc===null||!hc.has(s))){e=Xh(n,e),e=YF(t,e,1),t=dc(t,e,1),e=Os(),t!==null&&(Zg(t,1,e),Js(t,e));break}}t=t.return}}function Nee(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Os(),e.pingedLanes|=e.suspendedLanes&n,qr===e&&(ts&n)===n&&(Or===4||Or===3&&(ts&130023424)===ts&&500>fr()-hA?Tu(e,0):dA|=n),Js(e,t)}function p5(e,t){t===0&&(e.mode&1?(t=Ax,Ax<<=1,!(Ax&130023424)&&(Ax=4194304)):t=1);var n=Os();e=tl(e,t),e!==null&&(Zg(e,t,n),Js(e,n))}function See(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),p5(e,n)}function Cee(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Ue(314))}s!==null&&s.delete(t),p5(e,n)}var g5;g5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qs.current)Ks=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ks=!1,hee(e,t,n);Ks=!!(e.flags&131072)}else Ks=!1,Wn&&t.flags&1048576&&jF(t,t0,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ty(e,t),e=t.pendingProps;var i=Gh(t,ps.current);Sh(t,n),i=iA(null,t,s,e,i,n);var a=aA();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xs(s)?(a=!0,Zy(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eA(t),i.updater=Gj,t.stateNode=i,i._reactInternals=t,kC(t,s,e,n),t=DC(null,t,s,!0,a,n)):(t.tag=0,Wn&&a&&G_(t),Ps(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Ty(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=_ee(s),e=ma(s,e),i){case 0:t=OC(null,t,s,e,n);break e;case 1:t=qD(null,t,s,e,n);break e;case 11:t=VD(null,t,s,e,n);break e;case 14:t=UD(null,t,s,ma(s.type,e),n);break e}throw Error(Ue(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ma(s,i),OC(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ma(s,i),qD(e,t,s,i,n);case 3:e:{if(ZF(t),e===null)throw Error(Ue(387));s=t.pendingProps,a=t.memoizedState,i=a.element,PF(e,t),s0(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Xh(Error(Ue(423)),t),t=WD(e,t,s,n,i);break e}else if(s!==i){i=Xh(Error(Ue(424)),t),t=WD(e,t,s,n,i);break e}else for(vi=uc(t.stateNode.containerInfo.firstChild),xi=t,Wn=!0,ba=null,n=SF(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kh(),s===i){t=nl(e,t,n);break e}Ps(e,t,s,n)}t=t.child}return t;case 5:return _F(t),e===null&&_C(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,wC(s,i)?o=null:a!==null&&wC(s,a)&&(t.flags|=32),JF(e,t),Ps(e,t,o,n),t.child;case 6:return e===null&&_C(t),null;case 13:return e5(e,t,n);case 4:return tA(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Yh(t,null,s,n):Ps(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ma(s,i),VD(e,t,s,i,n);case 7:return Ps(e,t,t.pendingProps,n),t.child;case 8:return Ps(e,t,t.pendingProps.children,n),t.child;case 12:return Ps(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Dn(n0,s._currentValue),s._currentValue=o,a!==null)if(Ea(a.value,o)){if(a.children===i.children&&!Qs.current){t=nl(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Ko(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),AC(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ue(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),AC(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ps(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Sh(t,n),i=Yi(i),s=s(i),t.flags|=1,Ps(e,t,s,n),t.child;case 14:return s=t.type,i=ma(s,t.pendingProps),i=ma(s.type,i),UD(e,t,s,i,n);case 15:return QF(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ma(s,i),Ty(e,t),t.tag=1,Xs(s)?(e=!0,Zy(t)):e=!1,Sh(t,n),GF(t,s,i),kC(t,s,i,n),DC(null,t,s,!0,e,n);case 19:return t5(e,t,n);case 22:return XF(e,t,n)}throw Error(Ue(156,t.tag))};function v5(e,t){return qL(e,t)}function Pee(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(e,t,n,s){return new Pee(e,t,n,s)}function gA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _ee(e){if(typeof e=="function")return gA(e)?1:0;if(e!=null){if(e=e.$$typeof,e===I_)return 11;if(e===$_)return 14}return 2}function mc(e,t){var n=e.alternate;return n===null?(n=Ui(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function My(e,t,n,s,i,a){var o=2;if(s=e,typeof e=="function")gA(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rh:return Ou(n.children,i,a,t);case M_:o=8,i|=8;break;case eC:return e=Ui(12,n,t,i|2),e.elementType=eC,e.lanes=a,e;case tC:return e=Ui(13,n,t,i),e.elementType=tC,e.lanes=a,e;case nC:return e=Ui(19,n,t,i),e.elementType=nC,e.lanes=a,e;case _L:return Qj(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case CL:o=10;break e;case PL:o=9;break e;case I_:o=11;break e;case $_:o=14;break e;case Fl:o=16,s=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=Ui(o,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function Ou(e,t,n,s){return e=Ui(7,e,s,t),e.lanes=n,e}function Qj(e,t,n,s){return e=Ui(22,e,s,t),e.elementType=_L,e.lanes=n,e.stateNode={isHidden:!1},e}function H1(e,t,n){return e=Ui(6,e,null,t),e.lanes=n,e}function G1(e,t,n){return t=Ui(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Aee(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_1(0),this.expirationTimes=_1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_1(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vA(e,t,n,s,i,a,o,l,c){return e=new Aee(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ui(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eA(a),e}function Eee(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nh,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function x5(e){if(!e)return jc;e=e._reactInternals;e:{if(ad(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(Xs(n))return xF(e,n,t)}return t}function y5(e,t,n,s,i,a,o,l,c){return e=vA(n,s,!0,e,i,a,o,l,c),e.context=x5(null),n=e.current,s=Os(),i=fc(n),a=Ko(s,i),a.callback=t??null,dc(n,a,i),e.current.lanes=i,Zg(e,i,s),Js(e,s),e}function Xj(e,t,n,s){var i=t.current,a=Os(),o=fc(i);return n=x5(n),t.context===null?t.context=n:t.pendingContext=n,t=Ko(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=dc(i,t,o),e!==null&&(Pa(e,i,o,a),Ay(e,i,o)),o}function h0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xA(e,t){tM(e,t),(e=e.alternate)&&tM(e,t)}function kee(){return null}var j5=typeof reportError=="function"?reportError:function(e){console.error(e)};function yA(e){this._internalRoot=e}Jj.prototype.render=yA.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));Xj(e,t,null,null)};Jj.prototype.unmount=yA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bu(function(){Xj(null,e,null,null)}),t[el]=null}};function Jj(e){this._internalRoot=e}Jj.prototype.unstable_scheduleHydration=function(e){if(e){var t=XL();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vl.length&&t!==0&&t<Vl[n].priority;n++);Vl.splice(n,0,e),n===0&&ZL(e)}};function jA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nM(){}function Tee(e,t,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=h0(o);a.call(u)}}var o=y5(t,s,e,0,null,!1,!1,"",nM);return e._reactRootContainer=o,e[el]=o.current,Wp(e.nodeType===8?e.parentNode:e),Bu(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var u=h0(c);l.call(u)}}var c=vA(e,0,!1,null,null,!1,!1,"",nM);return e._reactRootContainer=c,e[el]=c.current,Wp(e.nodeType===8?e.parentNode:e),Bu(function(){Xj(t,c,n,s)}),c}function eb(e,t,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=h0(o);l.call(c)}}Xj(t,o,e,i)}else o=Tee(n,t,e,i,s);return h0(o)}YL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=cp(t.pendingLanes);n!==0&&(F_(t,n|1),Js(t,fr()),!(an&6)&&(Jh=fr()+500,Ac()))}break;case 13:Bu(function(){var s=tl(e,1);if(s!==null){var i=Os();Pa(s,e,1,i)}}),xA(e,1)}};B_=function(e){if(e.tag===13){var t=tl(e,134217728);if(t!==null){var n=Os();Pa(t,e,134217728,n)}xA(e,134217728)}};QL=function(e){if(e.tag===13){var t=fc(e),n=tl(e,t);if(n!==null){var s=Os();Pa(n,e,t,s)}xA(e,t)}};XL=function(){return jn};JL=function(e,t){var n=jn;try{return jn=e,t()}finally{jn=n}};hC=function(e,t,n){switch(t){case"input":if(iC(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=qj(s);if(!i)throw Error(Ue(90));EL(s),iC(s,i)}}}break;case"textarea":TL(e,n);break;case"select":t=n.value,t!=null&&jh(e,!!n.multiple,t,!1)}};LL=fA;FL=Bu;var Oee={usingClientEntryPoint:!1,Events:[tv,oh,qj,$L,RL,fA]},Vm={findFiberByHostInstance:hu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dee={bundleType:Vm.bundleType,version:Vm.version,rendererPackageName:Vm.rendererPackageName,rendererConfig:Vm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VL(e),e===null?null:e.stateNode},findFiberByHostInstance:Vm.findFiberByHostInstance||kee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fx.isDisabled&&Fx.supportsFiber)try{Bj=Fx.inject(Dee),ao=Fx}catch{}}Si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oee;Si.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jA(t))throw Error(Ue(200));return Eee(e,t,null,n)};Si.createRoot=function(e,t){if(!jA(e))throw Error(Ue(299));var n=!1,s="",i=j5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=vA(e,1,!1,null,null,n,!1,s,i),e[el]=t.current,Wp(e.nodeType===8?e.parentNode:e),new yA(t)};Si.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=VL(t),e=e===null?null:e.stateNode,e};Si.flushSync=function(e){return Bu(e)};Si.hydrate=function(e,t,n){if(!Zj(t))throw Error(Ue(200));return eb(null,e,t,!0,n)};Si.hydrateRoot=function(e,t,n){if(!jA(e))throw Error(Ue(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=j5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=y5(t,null,e,1,n??null,i,!1,a,o),e[el]=t.current,Wp(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jj(t)};Si.render=function(e,t,n){if(!Zj(t))throw Error(Ue(200));return eb(null,e,t,!1,n)};Si.unmountComponentAtNode=function(e){if(!Zj(e))throw Error(Ue(40));return e._reactRootContainer?(Bu(function(){eb(null,null,e,!1,function(){e._reactRootContainer=null,e[el]=null})}),!0):!1};Si.unstable_batchedUpdates=fA;Si.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Zj(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return eb(e,t,n,!1,s)};Si.version="18.3.1-next-f1338f8080-20240426";function b5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b5)}catch(e){console.error(e)}}b5(),bL.exports=Si;var od=bL.exports;const w5=pn(od);var N5,rM=od;N5=rM.createRoot,rM.hydrateRoot;const Mee=1,Iee=1e6;let K1=0;function $ee(){return K1=(K1+1)%Number.MAX_SAFE_INTEGER,K1.toString()}const Y1=new Map,sM=e=>{if(Y1.has(e))return;const t=setTimeout(()=>{Y1.delete(e),Cp({type:"REMOVE_TOAST",toastId:e})},Iee);Y1.set(e,t)},Ree=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Mee)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?sM(n):e.toasts.forEach(s=>{sM(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Iy=[];let $y={toasts:[]};function Cp(e){$y=Ree($y,e),Iy.forEach(t=>{t($y)})}function Lee({...e}){const t=$ee(),n=i=>Cp({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>Cp({type:"DISMISS_TOAST",toastId:t});return Cp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}function Ft(){const[e,t]=w.useState($y);return w.useEffect(()=>(Iy.push(t),()=>{const n=Iy.indexOf(t);n>-1&&Iy.splice(n,1)}),[e]),{...e,toast:Lee,dismiss:n=>Cp({type:"DISMISS_TOAST",toastId:n})}}function He(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function iM(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rl(...e){return t=>{let n=!1;const s=e.map(i=>{const a=iM(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():iM(e[i],null)}}}}function Xt(...e){return w.useCallback(rl(...e),e)}function Fee(e,t){const n=w.createContext(t),s=a=>{const{children:o,...l}=a,c=w.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function i(a){const o=w.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,i]}function Zs(e,t=[]){let n=[];function s(a,o){const l=w.createContext(o),c=n.length;n=[...n,o];const u=f=>{var N;const{scope:m,children:g,...x}=f,v=((N=m==null?void 0:m[e])==null?void 0:N[c])||l,y=w.useMemo(()=>x,Object.values(x));return r.jsx(v.Provider,{value:y,children:g})};u.displayName=a+"Provider";function d(f,m){var v;const g=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=w.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[s,Bee(i,...t)]}function Bee(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function bc(e){const t=Vee(e),n=w.forwardRef((s,i)=>{const{children:a,...o}=s,l=w.Children.toArray(a),c=l.find(qee);if(c){const u=c.props.children,d=l.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var zee=bc("Slot");function Vee(e){const t=w.forwardRef((n,s)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const o=Hee(i),l=Wee(a,i.props);return i.type!==w.Fragment&&(l.ref=s?rl(s,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var S5=Symbol("radix.slottable");function Uee(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=S5,t}function qee(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===S5}function Wee(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Hee(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function tb(e){const t=e+"CollectionProvider",[n,s]=Zs(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:N}=v,j=H.useRef(null),b=H.useRef(new Map).current;return r.jsx(i,{scope:y,itemMap:b,collectionRef:j,children:N})};o.displayName=t;const l=e+"CollectionSlot",c=bc(l),u=H.forwardRef((v,y)=>{const{scope:N,children:j}=v,b=a(l,N),P=Xt(y,b.collectionRef);return r.jsx(c,{ref:P,children:j})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=bc(d),g=H.forwardRef((v,y)=>{const{scope:N,children:j,...b}=v,P=H.useRef(null),C=Xt(y,P),_=a(d,N);return H.useEffect(()=>(_.itemMap.set(P,{ref:P,...b}),()=>void _.itemMap.delete(P))),r.jsx(m,{[f]:"",ref:C,children:j})});g.displayName=d;function x(v){const y=a(e+"CollectionConsumer",v);return H.useCallback(()=>{const j=y.collectionRef.current;if(!j)return[];const b=Array.from(j.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((_,A)=>b.indexOf(_.ref.current)-b.indexOf(A.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},x,s]}var Gee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],it=Gee.reduce((e,t)=>{const n=bc(`Primitive.${t}`),s=w.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function bA(e,t){e&&od.flushSync(()=>e.dispatchEvent(t))}function Ds(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function Kee(e,t=globalThis==null?void 0:globalThis.document){const n=Ds(e);w.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Yee="DismissableLayer",WC="dismissableLayer.update",Qee="dismissableLayer.pointerDownOutside",Xee="dismissableLayer.focusOutside",aM,C5=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ld=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=w.useContext(C5),[d,f]=w.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=w.useState({}),x=Xt(t,A=>f(A)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(y),j=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,P=j>=N,C=Zee(A=>{const E=A.target,D=[...u.branches].some(I=>I.contains(E));!P||D||(i==null||i(A),o==null||o(A),A.defaultPrevented||l==null||l())},m),_=ete(A=>{const E=A.target;[...u.branches].some(I=>I.contains(E))||(a==null||a(A),o==null||o(A),A.defaultPrevented||l==null||l())},m);return Kee(A=>{j===u.layers.size-1&&(s==null||s(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},m),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(aM=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),oM(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=aM)}},[d,m,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),oM())},[d,u]),w.useEffect(()=>{const A=()=>g({});return document.addEventListener(WC,A),()=>document.removeEventListener(WC,A)},[]),r.jsx(it.div,{...c,ref:x,style:{pointerEvents:b?P?"auto":"none":void 0,...e.style},onFocusCapture:He(e.onFocusCapture,_.onFocusCapture),onBlurCapture:He(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:He(e.onPointerDownCapture,C.onPointerDownCapture)})});ld.displayName=Yee;var Jee="DismissableLayerBranch",P5=w.forwardRef((e,t)=>{const n=w.useContext(C5),s=w.useRef(null),i=Xt(t,s);return w.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(it.div,{...e,ref:i})});P5.displayName=Jee;function Zee(e,t=globalThis==null?void 0:globalThis.document){const n=Ds(e),s=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){_5(Qee,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function ete(e,t=globalThis==null?void 0:globalThis.document){const n=Ds(e),s=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!s.current&&_5(Xee,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function oM(){const e=new CustomEvent(WC);document.dispatchEvent(e)}function _5(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?bA(i,a):i.dispatchEvent(a)}var tte=ld,nte=P5,wr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},rte="Portal",Ff=w.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[i,a]=w.useState(!1);wr(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?w5.createPortal(r.jsx(it.div,{...s,ref:t}),o):null});Ff.displayName=rte;function ste(e,t){return w.useReducer((n,s)=>t[n][s]??n,e)}var ei=e=>{const{present:t,children:n}=e,s=ite(t),i=typeof n=="function"?n({present:s.isPresent}):w.Children.only(n),a=Xt(s.ref,ate(i));return typeof n=="function"||s.isPresent?w.cloneElement(i,{ref:a}):null};ei.displayName="Presence";function ite(e){const[t,n]=w.useState(),s=w.useRef(null),i=w.useRef(e),a=w.useRef("none"),o=e?"mounted":"unmounted",[l,c]=ste(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Bx(s.current);a.current=l==="mounted"?u:"none"},[l]),wr(()=>{const u=s.current,d=i.current;if(d!==e){const m=a.current,g=Bx(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),wr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const v=Bx(s.current).includes(g.animationName);if(g.target===t&&v&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=g=>{g.target===t&&(a.current=Bx(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Bx(e){return(e==null?void 0:e.animationName)||"none"}function ate(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ote=k_[" useInsertionEffect ".trim().toString()]||wr;function mo({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,a,o]=lte({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=w.useCallback(d=>{var f;if(l){const m=cte(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else a(d)},[l,e,a,o]);return[c,u]}function lte({defaultProp:e,onChange:t}){const[n,s]=w.useState(e),i=w.useRef(n),a=w.useRef(t);return ote(()=>{a.current=t},[t]),w.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,s,a]}function cte(e){return typeof e=="function"}var A5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ute="VisuallyHidden",nb=w.forwardRef((e,t)=>r.jsx(it.span,{...e,ref:t,style:{...A5,...e.style}}));nb.displayName=ute;var dte=nb,wA="ToastProvider",[NA,hte,fte]=tb("Toast"),[E5,n6e]=Zs("Toast",[fte]),[mte,rb]=E5(wA),k5=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),m=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${wA}\`. Expected non-empty \`string\`.`),r.jsx(NA.Provider,{scope:t,children:r.jsx(mte,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(g=>g+1),[]),onToastRemove:w.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};k5.displayName=wA;var T5="ToastViewport",pte=["F8"],HC="toast.viewportPause",GC="toast.viewportResume",O5=w.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=pte,label:i="Notifications ({hotkey})",...a}=e,o=rb(T5,n),l=hte(n),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),m=Xt(t,f,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;w.useEffect(()=>{const y=N=>{var b;s.length!==0&&s.every(P=>N[P]||N.code===P)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[s]),w.useEffect(()=>{const y=c.current,N=f.current;if(x&&y&&N){const j=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(HC);N.dispatchEvent(_),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(GC);N.dispatchEvent(_),o.isClosePausedRef.current=!1}},P=_=>{!y.contains(_.relatedTarget)&&b()},C=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",j),y.addEventListener("focusout",P),y.addEventListener("pointermove",j),y.addEventListener("pointerleave",C),window.addEventListener("blur",j),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",j),y.removeEventListener("focusout",P),y.removeEventListener("pointermove",j),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",j),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const v=w.useCallback(({tabbingDirection:y})=>{const j=l().map(b=>{const P=b.ref.current,C=[P,...Ate(P)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?j.reverse():j).flat()},[l]);return w.useEffect(()=>{const y=f.current;if(y){const N=j=>{var C,_,A;const b=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!b){const E=document.activeElement,D=j.shiftKey;if(j.target===y&&D){(C=u.current)==null||C.focus();return}const k=v({tabbingDirection:D?"backwards":"forwards"}),F=k.findIndex(L=>L===E);Q1(k.slice(F+1))?j.preventDefault():D?(_=u.current)==null||_.focus():(A=d.current)==null||A.focus()}};return y.addEventListener("keydown",N),()=>y.removeEventListener("keydown",N)}},[l,v]),r.jsxs(nte,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&r.jsx(KC,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});Q1(y)}}),r.jsx(NA.Slot,{scope:n,children:r.jsx(it.ol,{tabIndex:-1,...a,ref:m})}),x&&r.jsx(KC,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});Q1(y)}})]})});O5.displayName=T5;var D5="ToastFocusProxy",KC=w.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,a=rb(D5,n);return r.jsx(nb,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&s()}})});KC.displayName=D5;var rv="Toast",gte="toast.swipeStart",vte="toast.swipeMove",xte="toast.swipeCancel",yte="toast.swipeEnd",M5=w.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=mo({prop:s,defaultProp:i??!0,onChange:a,caller:rv});return r.jsx(ei,{present:n||l,children:r.jsx(wte,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ds(e.onPause),onResume:Ds(e.onResume),onSwipeStart:He(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:He(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});M5.displayName=rv;var[jte,bte]=E5(rv,{onClose(){}}),wte=w.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...x}=e,v=rb(rv,n),[y,N]=w.useState(null),j=Xt(t,L=>N(L)),b=w.useRef(null),P=w.useRef(null),C=i||v.duration,_=w.useRef(0),A=w.useRef(C),E=w.useRef(0),{onToastAdd:D,onToastRemove:I}=v,O=Ds(()=>{var Y;(y==null?void 0:y.contains(document.activeElement))&&((Y=v.viewport)==null||Y.focus()),o()}),k=w.useCallback(L=>{!L||L===1/0||(window.clearTimeout(E.current),_.current=new Date().getTime(),E.current=window.setTimeout(O,L))},[O]);w.useEffect(()=>{const L=v.viewport;if(L){const Y=()=>{k(A.current),u==null||u()},q=()=>{const ie=new Date().getTime()-_.current;A.current=A.current-ie,window.clearTimeout(E.current),c==null||c()};return L.addEventListener(HC,q),L.addEventListener(GC,Y),()=>{L.removeEventListener(HC,q),L.removeEventListener(GC,Y)}}},[v.viewport,C,c,u,k]),w.useEffect(()=>{a&&!v.isClosePausedRef.current&&k(C)},[a,C,v.isClosePausedRef,k]),w.useEffect(()=>(D(),()=>I()),[D,I]);const F=w.useMemo(()=>y?z5(y):null,[y]);return v.viewport?r.jsxs(r.Fragment,{children:[F&&r.jsx(Nte,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),r.jsx(jte,{scope:n,onClose:O,children:od.createPortal(r.jsx(NA.ItemSlot,{scope:n,children:r.jsx(tte,{asChild:!0,onEscapeKeyDown:He(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||O(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(it.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:j,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:He(e.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:He(e.onPointerDown,L=>{L.button===0&&(b.current={x:L.clientX,y:L.clientY})}),onPointerMove:He(e.onPointerMove,L=>{if(!b.current)return;const Y=L.clientX-b.current.x,q=L.clientY-b.current.y,ie=!!P.current,$=["left","right"].includes(v.swipeDirection),z=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,le=$?z(0,Y):0,pe=$?0:z(0,q),ee=L.pointerType==="touch"?10:2,J={x:le,y:pe},B={originalEvent:L,delta:J};ie?(P.current=J,zx(vte,f,B,{discrete:!1})):lM(J,v.swipeDirection,ee)?(P.current=J,zx(gte,d,B,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(Y)>ee||Math.abs(q)>ee)&&(b.current=null)}),onPointerUp:He(e.onPointerUp,L=>{const Y=P.current,q=L.target;if(q.hasPointerCapture(L.pointerId)&&q.releasePointerCapture(L.pointerId),P.current=null,b.current=null,Y){const ie=L.currentTarget,$={originalEvent:L,delta:Y};lM(Y,v.swipeDirection,v.swipeThreshold)?zx(yte,g,$,{discrete:!0}):zx(xte,m,$,{discrete:!0}),ie.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Nte=e=>{const{__scopeToast:t,children:n,...s}=e,i=rb(rv,t),[a,o]=w.useState(!1),[l,c]=w.useState(!1);return Pte(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:r.jsx(Ff,{asChild:!0,children:r.jsx(nb,{...s,children:a&&r.jsxs(r.Fragment,{children:[i.label," ",n]})})})},Ste="ToastTitle",I5=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(it.div,{...s,ref:t})});I5.displayName=Ste;var Cte="ToastDescription",$5=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(it.div,{...s,ref:t})});$5.displayName=Cte;var R5="ToastAction",L5=w.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(B5,{altText:n,asChild:!0,children:r.jsx(SA,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${R5}\`. Expected non-empty \`string\`.`),null)});L5.displayName=R5;var F5="ToastClose",SA=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=bte(F5,n);return r.jsx(B5,{asChild:!0,children:r.jsx(it.button,{type:"button",...s,ref:t,onClick:He(e.onClick,i.onClose)})})});SA.displayName=F5;var B5=w.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return r.jsx(it.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function z5(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),_te(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...z5(s))}}),t}function zx(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?bA(i,a):i.dispatchEvent(a)}var lM=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),a=s>i;return t==="left"||t==="right"?a&&s>n:!a&&i>n};function Pte(e=()=>{}){const t=Ds(e);wr(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function _te(e){return e.nodeType===e.ELEMENT_NODE}function Ate(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Q1(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Ete=k5,V5=O5,U5=M5,q5=I5,W5=$5,H5=L5,G5=SA;function K5(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=K5(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Et(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=K5(e))&&(s&&(s+=" "),s+=t);return s}const cM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,uM=Et,sv=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return uM(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const m=cM(d)||cM(f);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(x=>{let[v,y]=x;return Array.isArray(y)?y.includes({...a,...l}[v]):{...a,...l}[v]===y})?[...u,f,m]:u},[]);return uM(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y5=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...Tte,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:Y5("lucide",i),...l},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const n=w.forwardRef(({className:s,...i},a)=>w.createElement(Ote,{ref:a,iconNode:t,className:Y5(`lucide-${kte(e)}`,s),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=Ye("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Ye("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=Ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=Ye("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Ye("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=Ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=Ye("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=Ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=Ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=Ye("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=Ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=Ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=Ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=Ye("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=Ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=Ye("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=Ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=Ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=Ye("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=Ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=Ye("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Ye("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=Ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=Ye("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Ye("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Ye("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=Ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=Ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=Ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=Ye("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=Ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Ye("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ye("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Ye("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=Ye("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=Ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=Ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=Ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=Ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=Ye("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=Ye("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=Ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Ye("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=Ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Ye("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=Ye("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Ye("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=Ye("Tractor",[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=Ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=Ye("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=Ye("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),EA="-",tne=e=>{const t=rne(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(EA);return l[0]===""&&l.length!==1&&l.shift(),t6(l,t)||nne(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},t6=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?t6(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(EA);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},pM=/^\[(.+)\]$/,nne=e=>{if(pM.test(e)){const t=pM.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},rne=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return ine(Object.entries(e.classGroups),n).forEach(([a,o])=>{JC(o,s,a,t)}),s},JC=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:gM(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(sne(i)){JC(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{JC(o,gM(t,a),n,s)})})},gM=(e,t)=>{let n=e;return t.split(EA).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},sne=e=>e.isThemeGetter,ine=(e,t)=>t?e.map(([n,s])=>{const i=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,i]}):e,ane=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},n6="!",one=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let N=l[y];if(u===0){if(N===i&&(s||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(N==="/"){f=y;continue}}N==="["?u++:N==="]"&&u--}const m=c.length===0?l:l.substring(d),g=m.startsWith(n6),x=g?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},lne=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},cne=e=>({cache:ane(e.cacheSize),parseClassName:one(e),...tne(e)}),une=/\s+/,dne=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(une);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let x=!!g,v=s(x?m.substring(0,g):m);if(!v){if(!x){l=u+(l.length>0?" "+l:l);continue}if(v=s(m),!v){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=lne(d).join(":"),N=f?y+n6:y,j=N+v;if(a.includes(j))continue;a.push(j);const b=i(v,x);for(let P=0;P<b.length;++P){const C=b[P];a.push(N+C)}l=u+(l.length>0?" "+l:l)}return l};function hne(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=r6(t))&&(s&&(s+=" "),s+=n);return s}const r6=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=r6(e[s]))&&(n&&(n+=" "),n+=t);return n};function fne(e,...t){let n,s,i,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=cne(u),s=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=dne(c,n);return i(c,d),d}return function(){return a(hne.apply(null,arguments))}}const Rn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},s6=/^\[(?:([a-z-]+):)?(.+)\]$/i,mne=/^\d+\/\d+$/,pne=new Set(["px","full","screen"]),gne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,To=e=>Ph(e)||pne.has(e)||mne.test(e),kl=e=>Vf(e,"length",Ane),Ph=e=>!!e&&!Number.isNaN(Number(e)),J1=e=>Vf(e,"number",Ph),Um=e=>!!e&&Number.isInteger(Number(e)),bne=e=>e.endsWith("%")&&Ph(e.slice(0,-1)),Lt=e=>s6.test(e),Tl=e=>gne.test(e),wne=new Set(["length","size","percentage"]),Nne=e=>Vf(e,wne,i6),Sne=e=>Vf(e,"position",i6),Cne=new Set(["image","url"]),Pne=e=>Vf(e,Cne,kne),_ne=e=>Vf(e,"",Ene),qm=()=>!0,Vf=(e,t,n)=>{const s=s6.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},Ane=e=>vne.test(e)&&!xne.test(e),i6=()=>!1,Ene=e=>yne.test(e),kne=e=>jne.test(e),Tne=()=>{const e=Rn("colors"),t=Rn("spacing"),n=Rn("blur"),s=Rn("brightness"),i=Rn("borderColor"),a=Rn("borderRadius"),o=Rn("borderSpacing"),l=Rn("borderWidth"),c=Rn("contrast"),u=Rn("grayscale"),d=Rn("hueRotate"),f=Rn("invert"),m=Rn("gap"),g=Rn("gradientColorStops"),x=Rn("gradientColorStopPositions"),v=Rn("inset"),y=Rn("margin"),N=Rn("opacity"),j=Rn("padding"),b=Rn("saturate"),P=Rn("scale"),C=Rn("sepia"),_=Rn("skew"),A=Rn("space"),E=Rn("translate"),D=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Lt,t],k=()=>[Lt,t],F=()=>["",To,kl],L=()=>["auto",Ph,Lt],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Lt],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[Ph,Lt];return{cacheSize:500,separator:":",theme:{colors:[qm],spacing:[To,kl],blur:["none","",Tl,Lt],brightness:pe(),borderColor:[e],borderRadius:["none","","full",Tl,Lt],borderSpacing:k(),borderWidth:F(),contrast:pe(),grayscale:z(),hueRotate:pe(),invert:z(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[bne,kl],inset:O(),margin:O(),opacity:pe(),padding:k(),saturate:pe(),scale:pe(),sepia:z(),skew:pe(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Lt]}],container:["container"],columns:[{columns:[Tl]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Lt]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Um,Lt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lt]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Um,Lt]}],"grid-cols":[{"grid-cols":[qm]}],"col-start-end":[{col:["auto",{span:["full",Um,Lt]},Lt]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[qm]}],"row-start-end":[{row:["auto",{span:[Um,Lt]},Lt]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lt,t]}],"min-w":[{"min-w":[Lt,t,"min","max","fit"]}],"max-w":[{"max-w":[Lt,t,"none","full","min","max","fit","prose",{screen:[Tl]},Tl]}],h:[{h:[Lt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Tl,kl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",J1]}],"font-family":[{font:[qm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lt]}],"line-clamp":[{"line-clamp":["none",Ph,J1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",To,Lt]}],"list-image":[{"list-image":["none",Lt]}],"list-style-type":[{list:["none","disc","decimal",Lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",To,kl]}],"underline-offset":[{"underline-offset":["auto",To,Lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),Sne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Nne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[To,Lt]}],"outline-w":[{outline:[To,kl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[To,kl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Tl,_ne]}],"shadow-color":[{shadow:[qm]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Tl,Lt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lt]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",Lt]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Um,Lt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[To,kl,J1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},One=fne(Tne);function Ze(...e){return One(Et(e))}function tf(e){if(!e)return"Âge inconnu";const t=new Date(e),n=new Date;if(isNaN(t.getTime()))return"Date invalide";let s=n.getFullYear()-t.getFullYear(),i=n.getMonth()-t.getMonth();if((i<0||i===0&&n.getDate()<t.getDate())&&(s--,i+=12),s===0){if(i===0){const a=Math.floor((n.getTime()-t.getTime())/864e5);return`${a} jour${a>1?"s":""}`}return`${i} mois`}else return i===0?`${s} an${s>1?"s":""}`:`${s} an${s>1?"s":""} et ${i} mois`}function lo(e){if(!e)return"Non renseigné";const t=new Date(e);return isNaN(t.getTime())?"Date invalide":t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}const Dne=Ete,a6=w.forwardRef(({className:e,...t},n)=>r.jsx(V5,{ref:n,className:Ze("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));a6.displayName=V5.displayName;const Mne=sv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),o6=w.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(U5,{ref:s,className:Ze(Mne({variant:t}),e),...n}));o6.displayName=U5.displayName;const Ine=w.forwardRef(({className:e,...t},n)=>r.jsx(H5,{ref:n,className:Ze("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Ine.displayName=H5.displayName;const l6=w.forwardRef(({className:e,...t},n)=>r.jsx(G5,{ref:n,className:Ze("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(ib,{className:"h-4 w-4"})}));l6.displayName=G5.displayName;const c6=w.forwardRef(({className:e,...t},n)=>r.jsx(q5,{ref:n,className:Ze("text-sm font-semibold",e),...t}));c6.displayName=q5.displayName;const u6=w.forwardRef(({className:e,...t},n)=>r.jsx(W5,{ref:n,className:Ze("text-sm opacity-90",e),...t}));u6.displayName=W5.displayName;function $ne(){const{toasts:e}=Ft();return r.jsxs(Dne,{children:[e.map(function({id:t,title:n,description:s,action:i,...a}){return r.jsxs(o6,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(c6,{children:n}),s&&r.jsx(u6,{children:s})]}),i,r.jsx(l6,{})]},t)}),r.jsx(a6,{})]})}var vM=["light","dark"],Rne="(prefers-color-scheme: dark)",Lne=w.createContext(void 0),Fne={setTheme:e=>{},themes:[]},Bne=()=>{var e;return(e=w.useContext(Lne))!=null?e:Fne};w.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:i,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?vM.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,v=!1,y=!0)=>{let N=o?o[x]:x,j=v?x+"|| ''":`'${N}'`,b="";return i&&y&&!v&&vM.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),n==="class"?v||N?b+=`c.add(${j})`:b+="null":N&&(b+=`d[s](n,${j})`),b},g=e?`!function(){${d}${m(e)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Rne}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var zne=e=>{switch(e){case"success":return qne;case"info":return Hne;case"warning":return Wne;case"error":return Gne;default:return null}},Vne=Array(12).fill(0),Une=({visible:e,className:t})=>H.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},H.createElement("div",{className:"sonner-spinner"},Vne.map((n,s)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),qne=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Wne=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Hne=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Gne=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Kne=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Yne=()=>{let[e,t]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},ZC=1,Qne=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ZC++,a=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),i=n!==void 0,a,o=s.then(async c=>{if(a=["resolve",c],H.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(Jne(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||ZC++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ws=new Qne,Xne=(e,t)=>{let n=(t==null?void 0:t.id)||ZC++;return Ws.addToast({title:e,...t,id:n}),n},Jne=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Zne=Xne,ere=()=>Ws.toasts,tre=()=>Ws.getActiveToasts();Object.assign(Zne,{success:Ws.success,info:Ws.info,warning:Ws.warning,error:Ws.error,custom:Ws.custom,message:Ws.message,promise:Ws.promise,dismiss:Ws.dismiss,loading:Ws.loading},{getHistory:ere,getToasts:tre});function nre(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}nre(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vx(e){return e.label!==void 0}var rre=3,sre="32px",ire="16px",xM=4e3,are=356,ore=14,lre=20,cre=200;function ua(...e){return e.filter(Boolean).join(" ")}function ure(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var dre=e=>{var t,n,s,i,a,o,l,c,u,d,f;let{invert:m,toast:g,unstyled:x,interacting:v,setHeights:y,visibleToasts:N,heights:j,index:b,toasts:P,expanded:C,removeToast:_,defaultRichColors:A,closeButton:E,style:D,cancelButtonStyle:I,actionButtonStyle:O,className:k="",descriptionClassName:F="",duration:L,position:Y,gap:q,loadingIcon:ie,expandByDefault:$,classNames:z,icons:le,closeButtonAriaLabel:pe="Close toast",pauseWhenPageIsHidden:ee}=e,[J,B]=H.useState(null),[me,ve]=H.useState(null),[re,V]=H.useState(!1),[Z,ye]=H.useState(!1),[te,M]=H.useState(!1),[je,we]=H.useState(!1),[Fe,Be]=H.useState(!1),[at,lt]=H.useState(0),[ut,Ne]=H.useState(0),Ge=H.useRef(g.duration||L||xM),Ke=H.useRef(null),qt=H.useRef(null),Kn=b===0,kt=b+1<=N,wn=g.type,cr=g.dismissible!==!1,Yn=g.className||"",gs=g.descriptionClassName||"",Se=H.useMemo(()=>j.findIndex(bt=>bt.toastId===g.id)||0,[j,g.id]),Vt=H.useMemo(()=>{var bt;return(bt=g.closeButton)!=null?bt:E},[g.closeButton,E]),nt=H.useMemo(()=>g.duration||L||xM,[g.duration,L]),mt=H.useRef(0),rn=H.useRef(0),is=H.useRef(0),Yr=H.useRef(null),[Rs,xl]=Y.split("-"),oe=H.useMemo(()=>j.reduce((bt,on,gn)=>gn>=Se?bt:bt+on.height,0),[j,Se]),We=Yne(),Le=g.invert||m,En=wn==="loading";rn.current=H.useMemo(()=>Se*q+oe,[Se,oe]),H.useEffect(()=>{Ge.current=nt},[nt]),H.useEffect(()=>{V(!0)},[]),H.useEffect(()=>{let bt=qt.current;if(bt){let on=bt.getBoundingClientRect().height;return Ne(on),y(gn=>[{toastId:g.id,height:on,position:g.position},...gn]),()=>y(gn=>gn.filter(vs=>vs.toastId!==g.id))}},[y,g.id]),H.useLayoutEffect(()=>{if(!re)return;let bt=qt.current,on=bt.style.height;bt.style.height="auto";let gn=bt.getBoundingClientRect().height;bt.style.height=on,Ne(gn),y(vs=>vs.find(xs=>xs.toastId===g.id)?vs.map(xs=>xs.toastId===g.id?{...xs,height:gn}:xs):[{toastId:g.id,height:gn,position:g.position},...vs])},[re,g.title,g.description,y,g.id]);let Qn=H.useCallback(()=>{ye(!0),lt(rn.current),y(bt=>bt.filter(on=>on.toastId!==g.id)),setTimeout(()=>{_(g)},cre)},[g,_,y,rn]);H.useEffect(()=>{if(g.promise&&wn==="loading"||g.duration===1/0||g.type==="loading")return;let bt;return C||v||ee&&We?(()=>{if(is.current<mt.current){let on=new Date().getTime()-mt.current;Ge.current=Ge.current-on}is.current=new Date().getTime()})():Ge.current!==1/0&&(mt.current=new Date().getTime(),bt=setTimeout(()=>{var on;(on=g.onAutoClose)==null||on.call(g,g),Qn()},Ge.current)),()=>clearTimeout(bt)},[C,v,g,wn,ee,We,Qn]),H.useEffect(()=>{g.delete&&Qn()},[Qn,g.delete]);function ra(){var bt,on,gn;return le!=null&&le.loading?H.createElement("div",{className:ua(z==null?void 0:z.loader,(bt=g==null?void 0:g.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":wn==="loading"},le.loading):ie?H.createElement("div",{className:ua(z==null?void 0:z.loader,(on=g==null?void 0:g.classNames)==null?void 0:on.loader,"sonner-loader"),"data-visible":wn==="loading"},ie):H.createElement(Une,{className:ua(z==null?void 0:z.loader,(gn=g==null?void 0:g.classNames)==null?void 0:gn.loader),visible:wn==="loading"})}return H.createElement("li",{tabIndex:0,ref:qt,className:ua(k,Yn,z==null?void 0:z.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,z==null?void 0:z.default,z==null?void 0:z[wn],(n=g==null?void 0:g.classNames)==null?void 0:n[wn]),"data-sonner-toast":"","data-rich-colors":(s=g.richColors)!=null?s:A,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":re,"data-promise":!!g.promise,"data-swiped":Fe,"data-removed":Z,"data-visible":kt,"data-y-position":Rs,"data-x-position":xl,"data-index":b,"data-front":Kn,"data-swiping":te,"data-dismissible":cr,"data-type":wn,"data-invert":Le,"data-swipe-out":je,"data-swipe-direction":me,"data-expanded":!!(C||$&&re),style:{"--index":b,"--toasts-before":b,"--z-index":P.length-b,"--offset":`${Z?at:rn.current}px`,"--initial-height":$?"auto":`${ut}px`,...D,...g.style},onDragEnd:()=>{M(!1),B(null),Yr.current=null},onPointerDown:bt=>{En||!cr||(Ke.current=new Date,lt(rn.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(M(!0),Yr.current={x:bt.clientX,y:bt.clientY}))},onPointerUp:()=>{var bt,on,gn,vs;if(je||!cr)return;Yr.current=null;let xs=Number(((bt=qt.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pi=Number(((on=qt.current)==null?void 0:on.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ri=new Date().getTime()-((gn=Ke.current)==null?void 0:gn.getTime()),ys=J==="x"?xs:Pi,Ls=Math.abs(ys)/ri;if(Math.abs(ys)>=lre||Ls>.11){lt(rn.current),(vs=g.onDismiss)==null||vs.call(g,g),ve(J==="x"?xs>0?"right":"left":Pi>0?"down":"up"),Qn(),we(!0),Be(!1);return}M(!1),B(null)},onPointerMove:bt=>{var on,gn,vs,xs;if(!Yr.current||!cr||((on=window.getSelection())==null?void 0:on.toString().length)>0)return;let Pi=bt.clientY-Yr.current.y,ri=bt.clientX-Yr.current.x,ys=(gn=e.swipeDirections)!=null?gn:ure(Y);!J&&(Math.abs(ri)>1||Math.abs(Pi)>1)&&B(Math.abs(ri)>Math.abs(Pi)?"x":"y");let Ls={x:0,y:0};J==="y"?(ys.includes("top")||ys.includes("bottom"))&&(ys.includes("top")&&Pi<0||ys.includes("bottom")&&Pi>0)&&(Ls.y=Pi):J==="x"&&(ys.includes("left")||ys.includes("right"))&&(ys.includes("left")&&ri<0||ys.includes("right")&&ri>0)&&(Ls.x=ri),(Math.abs(Ls.x)>0||Math.abs(Ls.y)>0)&&Be(!0),(vs=qt.current)==null||vs.style.setProperty("--swipe-amount-x",`${Ls.x}px`),(xs=qt.current)==null||xs.style.setProperty("--swipe-amount-y",`${Ls.y}px`)}},Vt&&!g.jsx?H.createElement("button",{"aria-label":pe,"data-disabled":En,"data-close-button":!0,onClick:En||!cr?()=>{}:()=>{var bt;Qn(),(bt=g.onDismiss)==null||bt.call(g,g)},className:ua(z==null?void 0:z.closeButton,(i=g==null?void 0:g.classNames)==null?void 0:i.closeButton)},(a=le==null?void 0:le.close)!=null?a:Kne):null,g.jsx||w.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:H.createElement(H.Fragment,null,wn||g.icon||g.promise?H.createElement("div",{"data-icon":"",className:ua(z==null?void 0:z.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ra():null,g.type!=="loading"?g.icon||(le==null?void 0:le[wn])||zne(wn):null):null,H.createElement("div",{"data-content":"",className:ua(z==null?void 0:z.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},H.createElement("div",{"data-title":"",className:ua(z==null?void 0:z.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?H.createElement("div",{"data-description":"",className:ua(F,gs,z==null?void 0:z.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),w.isValidElement(g.cancel)?g.cancel:g.cancel&&Vx(g.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||I,onClick:bt=>{var on,gn;Vx(g.cancel)&&cr&&((gn=(on=g.cancel).onClick)==null||gn.call(on,bt),Qn())},className:ua(z==null?void 0:z.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,w.isValidElement(g.action)?g.action:g.action&&Vx(g.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||O,onClick:bt=>{var on,gn;Vx(g.action)&&((gn=(on=g.action).onClick)==null||gn.call(on,bt),!bt.defaultPrevented&&Qn())},className:ua(z==null?void 0:z.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function yM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function hre(e,t){let n={};return[e,t].forEach((s,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",l=a?ire:sre;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(l)}),n}var fre=w.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:g,visibleToasts:x=rre,toastOptions:v,dir:y=yM(),gap:N=ore,loadingIcon:j,icons:b,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:C}=e,[_,A]=H.useState([]),E=H.useMemo(()=>Array.from(new Set([s].concat(_.filter(ee=>ee.position).map(ee=>ee.position)))),[_,s]),[D,I]=H.useState([]),[O,k]=H.useState(!1),[F,L]=H.useState(!1),[Y,q]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=H.useRef(null),$=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=H.useRef(null),le=H.useRef(!1),pe=H.useCallback(ee=>{A(J=>{var B;return(B=J.find(me=>me.id===ee.id))!=null&&B.delete||Ws.dismiss(ee.id),J.filter(({id:me})=>me!==ee.id)})},[]);return H.useEffect(()=>Ws.subscribe(ee=>{if(ee.dismiss){A(J=>J.map(B=>B.id===ee.id?{...B,delete:!0}:B));return}setTimeout(()=>{w5.flushSync(()=>{A(J=>{let B=J.findIndex(me=>me.id===ee.id);return B!==-1?[...J.slice(0,B),{...J[B],...ee},...J.slice(B+1)]:[ee,...J]})})})}),[]),H.useEffect(()=>{if(d!=="system"){q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:J})=>{q(J?"dark":"light")})}catch{ee.addListener(({matches:B})=>{try{q(B?"dark":"light")}catch(me){console.error(me)}})}},[d]),H.useEffect(()=>{_.length<=1&&k(!1)},[_]),H.useEffect(()=>{let ee=J=>{var B,me;i.every(ve=>J[ve]||J.code===ve)&&(k(!0),(B=ie.current)==null||B.focus()),J.code==="Escape"&&(document.activeElement===ie.current||(me=ie.current)!=null&&me.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[i]),H.useEffect(()=>{if(ie.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,le.current=!1)}},[ie.current]),H.createElement("section",{ref:t,"aria-label":`${P} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((ee,J)=>{var B;let[me,ve]=ee.split("-");return _.length?H.createElement("ol",{key:ee,dir:y==="auto"?yM():y,tabIndex:-1,ref:ie,className:l,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":me,"data-lifted":O&&_.length>1&&!a,"data-x-position":ve,style:{"--front-toast-height":`${((B=D[0])==null?void 0:B.height)||0}px`,"--width":`${are}px`,"--gap":`${N}px`,...g,...hre(c,u)},onBlur:re=>{le.current&&!re.currentTarget.contains(re.relatedTarget)&&(le.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||le.current||(le.current=!0,z.current=re.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{F||k(!1)},onDragEnd:()=>k(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},_.filter(re=>!re.position&&J===0||re.position===ee).map((re,V)=>{var Z,ye;return H.createElement(dre,{key:re.id,icons:b,index:V,toast:re,defaultRichColors:f,duration:(Z=v==null?void 0:v.duration)!=null?Z:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:x,closeButton:(ye=v==null?void 0:v.closeButton)!=null?ye:o,interacting:F,position:ee,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:pe,toasts:_.filter(te=>te.position==re.position),heights:D.filter(te=>te.position==re.position),setHeights:I,expandByDefault:a,gap:N,loadingIcon:j,expanded:O,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const mre=({...e})=>{const{theme:t="system"}=Bne();return r.jsx(fre,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var pre=k_[" useId ".trim().toString()]||(()=>{}),gre=0;function rs(e){const[t,n]=w.useState(pre());return wr(()=>{n(s=>s??String(gre++))},[e]),t?`radix-${t}`:""}const vre=["top","right","bottom","left"],wc=Math.min,mi=Math.max,p0=Math.round,Ux=Math.floor,co=e=>({x:e,y:e}),xre={left:"right",right:"left",bottom:"top",top:"bottom"},yre={start:"end",end:"start"};function e2(e,t,n){return mi(e,wc(t,n))}function al(e,t){return typeof e=="function"?e(t):e}function ol(e){return e.split("-")[0]}function Uf(e){return e.split("-")[1]}function kA(e){return e==="x"?"y":"x"}function TA(e){return e==="y"?"height":"width"}const jre=new Set(["top","bottom"]);function no(e){return jre.has(ol(e))?"y":"x"}function OA(e){return kA(no(e))}function bre(e,t,n){n===void 0&&(n=!1);const s=Uf(e),i=OA(e),a=TA(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=g0(o)),[o,g0(o)]}function wre(e){const t=g0(e);return[t2(e),t,t2(t)]}function t2(e){return e.replace(/start|end/g,t=>yre[t])}const jM=["left","right"],bM=["right","left"],Nre=["top","bottom"],Sre=["bottom","top"];function Cre(e,t,n){switch(e){case"top":case"bottom":return n?t?bM:jM:t?jM:bM;case"left":case"right":return t?Nre:Sre;default:return[]}}function Pre(e,t,n,s){const i=Uf(e);let a=Cre(ol(e),n==="start",s);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(t2)))),a}function g0(e){return e.replace(/left|right|bottom|top/g,t=>xre[t])}function _re(e){return{top:0,right:0,bottom:0,left:0,...e}}function d6(e){return typeof e!="number"?_re(e):{top:e,right:e,bottom:e,left:e}}function v0(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function wM(e,t,n){let{reference:s,floating:i}=e;const a=no(t),o=OA(t),l=TA(o),c=ol(t),u=a==="y",d=s.x+s.width/2-i.width/2,f=s.y+s.height/2-i.height/2,m=s[l]/2-i[l]/2;let g;switch(c){case"top":g={x:d,y:s.y-i.height};break;case"bottom":g={x:d,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:f};break;case"left":g={x:s.x-i.width,y:f};break;default:g={x:s.x,y:s.y}}switch(Uf(t)){case"start":g[o]-=m*(n&&u?-1:1);break;case"end":g[o]+=m*(n&&u?-1:1);break}return g}const Are=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=wM(u,s,c),m=s,g={},x=0;for(let v=0;v<l.length;v++){const{name:y,fn:N}=l[v],{x:j,y:b,data:P,reset:C}=await N({x:d,y:f,initialPlacement:s,placement:m,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});d=j??d,f=b??f,g={...g,[y]:{...g[y],...P}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:d,y:f}=wM(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:g}};async function ng(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=al(t,e),x=d6(g),y=l[m?f==="floating"?"reference":"floating":f],N=v0(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),j=f==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),P=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},C=v0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:b,strategy:c}):j);return{top:(N.top-C.top+x.top)/P.y,bottom:(C.bottom-N.bottom+x.bottom)/P.y,left:(N.left-C.left+x.left)/P.x,right:(C.right-N.right+x.right)/P.x}}const Ere=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=al(e,t)||{};if(u==null)return{};const f=d6(d),m={x:n,y:s},g=OA(i),x=TA(g),v=await o.getDimensions(u),y=g==="y",N=y?"top":"left",j=y?"bottom":"right",b=y?"clientHeight":"clientWidth",P=a.reference[x]+a.reference[g]-m[g]-a.floating[x],C=m[g]-a.reference[g],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=_?_[b]:0;(!A||!await(o.isElement==null?void 0:o.isElement(_)))&&(A=l.floating[b]||a.floating[x]);const E=P/2-C/2,D=A/2-v[x]/2-1,I=wc(f[N],D),O=wc(f[j],D),k=I,F=A-v[x]-O,L=A/2-v[x]/2+E,Y=e2(k,L,F),q=!c.arrow&&Uf(i)!=null&&L!==Y&&a.reference[x]/2-(L<k?I:O)-v[x]/2<0,ie=q?L<k?L-k:L-F:0;return{[g]:m[g]+ie,data:{[g]:Y,centerOffset:L-Y-ie,...q&&{alignmentOffset:ie}},reset:q}}}),kre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...y}=al(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=ol(i),j=no(l),b=ol(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(b||!v?[g0(l)]:wre(l)),_=x!=="none";!m&&_&&C.push(...Pre(l,v,x,P));const A=[l,...C],E=await ng(t,y),D=[];let I=((s=a.flip)==null?void 0:s.overflows)||[];if(d&&D.push(E[N]),f){const L=bre(i,o,P);D.push(E[L[0]],E[L[1]])}if(I=[...I,{placement:i,overflows:D}],!D.every(L=>L<=0)){var O,k;const L=(((O=a.flip)==null?void 0:O.index)||0)+1,Y=A[L];if(Y&&(!(f==="alignment"?j!==no(Y):!1)||I.every($=>$.overflows[0]>0&&no($.placement)===j)))return{data:{index:L,overflows:I},reset:{placement:Y}};let q=(k=I.filter(ie=>ie.overflows[0]<=0).sort((ie,$)=>ie.overflows[1]-$.overflows[1])[0])==null?void 0:k.placement;if(!q)switch(g){case"bestFit":{var F;const ie=(F=I.filter($=>{if(_){const z=no($.placement);return z===j||z==="y"}return!0}).map($=>[$.placement,$.overflows.filter(z=>z>0).reduce((z,le)=>z+le,0)]).sort(($,z)=>$[1]-z[1])[0])==null?void 0:F[0];ie&&(q=ie);break}case"initialPlacement":q=l;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function NM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function SM(e){return vre.some(t=>e[t]>=0)}const Tre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=al(e,t);switch(s){case"referenceHidden":{const a=await ng(t,{...i,elementContext:"reference"}),o=NM(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:SM(o)}}}case"escaped":{const a=await ng(t,{...i,altBoundary:!0}),o=NM(a,n.floating);return{data:{escapedOffsets:o,escaped:SM(o)}}}default:return{}}}}},h6=new Set(["left","top"]);async function Ore(e,t){const{placement:n,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=ol(n),l=Uf(n),c=no(n)==="y",u=h6.has(o)?-1:1,d=a&&c?-1:1,f=al(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(g=l==="end"?x*-1:x),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const Dre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await Ore(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},Mre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:N,y:j}=y;return{x:N,y:j}}},...c}=al(e,t),u={x:n,y:s},d=await ng(t,c),f=no(ol(i)),m=kA(f);let g=u[m],x=u[f];if(a){const y=m==="y"?"top":"left",N=m==="y"?"bottom":"right",j=g+d[y],b=g-d[N];g=e2(j,g,b)}if(o){const y=f==="y"?"top":"left",N=f==="y"?"bottom":"right",j=x+d[y],b=x-d[N];x=e2(j,x,b)}const v=l.fn({...t,[m]:g,[f]:x});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[m]:a,[f]:o}}}}}},Ire=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=al(e,t),d={x:n,y:s},f=no(i),m=kA(f);let g=d[m],x=d[f];const v=al(l,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=m==="y"?"height":"width",P=a.reference[m]-a.floating[b]+y.mainAxis,C=a.reference[m]+a.reference[b]-y.mainAxis;g<P?g=P:g>C&&(g=C)}if(u){var N,j;const b=m==="y"?"width":"height",P=h6.has(ol(i)),C=a.reference[f]-a.floating[b]+(P&&((N=o.offset)==null?void 0:N[f])||0)+(P?0:y.crossAxis),_=a.reference[f]+a.reference[b]+(P?0:((j=o.offset)==null?void 0:j[f])||0)-(P?y.crossAxis:0);x<C?x=C:x>_&&(x=_)}return{[m]:g,[f]:x}}}},$re=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=al(e,t),d=await ng(t,u),f=ol(i),m=Uf(i),g=no(i)==="y",{width:x,height:v}=a.floating;let y,N;f==="top"||f==="bottom"?(y=f,N=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=f,y=m==="end"?"top":"bottom");const j=v-d.top-d.bottom,b=x-d.left-d.right,P=wc(v-d[y],j),C=wc(x-d[N],b),_=!t.middlewareData.shift;let A=P,E=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(A=j),_&&!m){const I=mi(d.left,0),O=mi(d.right,0),k=mi(d.top,0),F=mi(d.bottom,0);g?E=x-2*(I!==0||O!==0?I+O:mi(d.left,d.right)):A=v-2*(k!==0||F!==0?k+F:mi(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:A});const D=await o.getDimensions(l.floating);return x!==D.width||v!==D.height?{reset:{rects:!0}}:{}}}};function ab(){return typeof window<"u"}function qf(e){return f6(e)?(e.nodeName||"").toLowerCase():"#document"}function ji(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vo(e){var t;return(t=(f6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function f6(e){return ab()?e instanceof Node||e instanceof ji(e).Node:!1}function Ta(e){return ab()?e instanceof Element||e instanceof ji(e).Element:!1}function po(e){return ab()?e instanceof HTMLElement||e instanceof ji(e).HTMLElement:!1}function CM(e){return!ab()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ji(e).ShadowRoot}const Rre=new Set(["inline","contents"]);function iv(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=Oa(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!Rre.has(i)}const Lre=new Set(["table","td","th"]);function Fre(e){return Lre.has(qf(e))}const Bre=[":popover-open",":modal"];function ob(e){return Bre.some(t=>{try{return e.matches(t)}catch{return!1}})}const zre=["transform","translate","scale","rotate","perspective"],Vre=["transform","translate","scale","rotate","perspective","filter"],Ure=["paint","layout","strict","content"];function DA(e){const t=MA(),n=Ta(e)?Oa(e):e;return zre.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Vre.some(s=>(n.willChange||"").includes(s))||Ure.some(s=>(n.contain||"").includes(s))}function qre(e){let t=Nc(e);for(;po(t)&&!nf(t);){if(DA(t))return t;if(ob(t))return null;t=Nc(t)}return null}function MA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Wre=new Set(["html","body","#document"]);function nf(e){return Wre.has(qf(e))}function Oa(e){return ji(e).getComputedStyle(e)}function lb(e){return Ta(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Nc(e){if(qf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||CM(e)&&e.host||vo(e);return CM(t)?t.host:t}function m6(e){const t=Nc(e);return nf(t)?e.ownerDocument?e.ownerDocument.body:e.body:po(t)&&iv(t)?t:m6(t)}function rg(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=m6(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),o=ji(i);if(a){const l=n2(o);return t.concat(o,o.visualViewport||[],iv(i)?i:[],l&&n?rg(l):[])}return t.concat(i,rg(i,[],n))}function n2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function p6(e){const t=Oa(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=po(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:s,l=p0(n)!==a||p0(s)!==o;return l&&(n=a,s=o),{width:n,height:s,$:l}}function IA(e){return Ta(e)?e:e.contextElement}function _h(e){const t=IA(e);if(!po(t))return co(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:a}=p6(t);let o=(a?p0(n.width):n.width)/s,l=(a?p0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Hre=co(0);function g6(e){const t=ji(e);return!MA()||!t.visualViewport?Hre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Gre(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ji(e)?!1:t}function Uu(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=IA(e);let o=co(1);t&&(s?Ta(s)&&(o=_h(s)):o=_h(e));const l=Gre(a,n,s)?g6(a):co(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const m=ji(a),g=s&&Ta(s)?ji(s):s;let x=m,v=n2(x);for(;v&&s&&g!==x;){const y=_h(v),N=v.getBoundingClientRect(),j=Oa(v),b=N.left+(v.clientLeft+parseFloat(j.paddingLeft))*y.x,P=N.top+(v.clientTop+parseFloat(j.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=b,u+=P,x=ji(v),v=n2(x)}}return v0({width:d,height:f,x:c,y:u})}function $A(e,t){const n=lb(e).scrollLeft;return t?t.left+n:Uu(vo(e)).left+n}function v6(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:$A(e,s)),a=s.top+t.scrollTop;return{x:i,y:a}}function Kre(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const a=i==="fixed",o=vo(s),l=t?ob(t.floating):!1;if(s===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=co(1);const d=co(0),f=po(s);if((f||!f&&!a)&&((qf(s)!=="body"||iv(o))&&(c=lb(s)),po(s))){const g=Uu(s);u=_h(s),d.x=g.x+s.clientLeft,d.y=g.y+s.clientTop}const m=o&&!f&&!a?v6(o,c,!0):co(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function Yre(e){return Array.from(e.getClientRects())}function Qre(e){const t=vo(e),n=lb(e),s=e.ownerDocument.body,i=mi(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=mi(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+$A(e);const l=-n.scrollTop;return Oa(s).direction==="rtl"&&(o+=mi(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:o,y:l}}function Xre(e,t){const n=ji(e),s=vo(e),i=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=MA();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}const Jre=new Set(["absolute","fixed"]);function Zre(e,t){const n=Uu(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,a=po(e)?_h(e):co(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=s*a.y;return{width:o,height:l,x:c,y:u}}function PM(e,t,n){let s;if(t==="viewport")s=Xre(e,n);else if(t==="document")s=Qre(vo(e));else if(Ta(t))s=Zre(t,n);else{const i=g6(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return v0(s)}function x6(e,t){const n=Nc(e);return n===t||!Ta(n)||nf(n)?!1:Oa(n).position==="fixed"||x6(n,t)}function ese(e,t){const n=t.get(e);if(n)return n;let s=rg(e,[],!1).filter(l=>Ta(l)&&qf(l)!=="body"),i=null;const a=Oa(e).position==="fixed";let o=a?Nc(e):e;for(;Ta(o)&&!nf(o);){const l=Oa(o),c=DA(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&Jre.has(i.position)||iv(o)&&!c&&x6(e,o))?s=s.filter(d=>d!==o):i=l,o=Nc(o)}return t.set(e,s),s}function tse(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const o=[...n==="clippingAncestors"?ob(t)?[]:ese(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((u,d)=>{const f=PM(t,d,i);return u.top=mi(f.top,u.top),u.right=wc(f.right,u.right),u.bottom=wc(f.bottom,u.bottom),u.left=mi(f.left,u.left),u},PM(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nse(e){const{width:t,height:n}=p6(e);return{width:t,height:n}}function rse(e,t,n){const s=po(t),i=vo(t),a=n==="fixed",o=Uu(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=co(0);function u(){c.x=$A(i)}if(s||!s&&!a)if((qf(t)!=="body"||iv(i))&&(l=lb(t)),s){const g=Uu(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else i&&u();a&&!s&&i&&u();const d=i&&!s&&!a?v6(i,l):co(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function Z1(e){return Oa(e).position==="static"}function _M(e,t){if(!po(e)||Oa(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return vo(e)===n&&(n=n.ownerDocument.body),n}function y6(e,t){const n=ji(e);if(ob(e))return n;if(!po(e)){let i=Nc(e);for(;i&&!nf(i);){if(Ta(i)&&!Z1(i))return i;i=Nc(i)}return n}let s=_M(e,t);for(;s&&Fre(s)&&Z1(s);)s=_M(s,t);return s&&nf(s)&&Z1(s)&&!DA(s)?n:s||qre(e)||n}const sse=async function(e){const t=this.getOffsetParent||y6,n=this.getDimensions,s=await n(e.floating);return{reference:rse(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function ise(e){return Oa(e).direction==="rtl"}const ase={convertOffsetParentRelativeRectToViewportRelativeRect:Kre,getDocumentElement:vo,getClippingRect:tse,getOffsetParent:y6,getElementRects:sse,getClientRects:Yre,getDimensions:nse,getScale:_h,isElement:Ta,isRTL:ise};function j6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ose(e,t){let n=null,s;const i=vo(e);function a(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:g}=u;if(l||t(),!m||!g)return;const x=Ux(f),v=Ux(i.clientWidth-(d+m)),y=Ux(i.clientHeight-(f+g)),N=Ux(d),b={rootMargin:-x+"px "+-v+"px "+-y+"px "+-N+"px",threshold:mi(0,wc(1,c))||1};let P=!0;function C(_){const A=_[0].intersectionRatio;if(A!==c){if(!P)return o();A?o(!1,A):s=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!j6(u,e.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(C,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return o(!0),a}function lse(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=IA(e),d=i||a?[...u?rg(u):[],...rg(t)]:[];d.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const f=u&&l?ose(u,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(N=>{let[j]=N;j&&j.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let x,v=c?Uu(e):null;c&&y();function y(){const N=Uu(e);v&&!j6(v,N)&&n(),v=N,x=requestAnimationFrame(y)}return n(),()=>{var N;d.forEach(j=>{i&&j.removeEventListener("scroll",n),a&&j.removeEventListener("resize",n)}),f==null||f(),(N=g)==null||N.disconnect(),g=null,c&&cancelAnimationFrame(x)}}const cse=Dre,use=Mre,dse=kre,hse=$re,fse=Tre,AM=Ere,mse=Ire,pse=(e,t,n)=>{const s=new Map,i={platform:ase,...n},a={...i.platform,_c:s};return Are(e,t,{...i,platform:a})};var gse=typeof document<"u",vse=function(){},Ry=gse?w.useLayoutEffect:vse;function x0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!x0(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!x0(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function b6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function EM(e,t){const n=b6(e);return Math.round(t*n)/n}function eS(e){const t=w.useRef(e);return Ry(()=>{t.current=e}),t}function xse(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=w.useState(s);x0(m,s)||g(s);const[x,v]=w.useState(null),[y,N]=w.useState(null),j=w.useCallback($=>{$!==_.current&&(_.current=$,v($))},[]),b=w.useCallback($=>{$!==A.current&&(A.current=$,N($))},[]),P=a||x,C=o||y,_=w.useRef(null),A=w.useRef(null),E=w.useRef(d),D=c!=null,I=eS(c),O=eS(i),k=eS(u),F=w.useCallback(()=>{if(!_.current||!A.current)return;const $={placement:t,strategy:n,middleware:m};O.current&&($.platform=O.current),pse(_.current,A.current,$).then(z=>{const le={...z,isPositioned:k.current!==!1};L.current&&!x0(E.current,le)&&(E.current=le,od.flushSync(()=>{f(le)}))})},[m,t,n,O,k]);Ry(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const L=w.useRef(!1);Ry(()=>(L.current=!0,()=>{L.current=!1}),[]),Ry(()=>{if(P&&(_.current=P),C&&(A.current=C),P&&C){if(I.current)return I.current(P,C,F);F()}},[P,C,F,I,D]);const Y=w.useMemo(()=>({reference:_,floating:A,setReference:j,setFloating:b}),[j,b]),q=w.useMemo(()=>({reference:P,floating:C}),[P,C]),ie=w.useMemo(()=>{const $={position:n,left:0,top:0};if(!q.floating)return $;const z=EM(q.floating,d.x),le=EM(q.floating,d.y);return l?{...$,transform:"translate("+z+"px, "+le+"px)",...b6(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:le}},[n,l,q.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:F,refs:Y,elements:q,floatingStyles:ie}),[d,F,Y,q,ie])}const yse=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?AM({element:s.current,padding:i}).fn(n):{}:s?AM({element:s,padding:i}).fn(n):{}}}},jse=(e,t)=>({...cse(e),options:[e,t]}),bse=(e,t)=>({...use(e),options:[e,t]}),wse=(e,t)=>({...mse(e),options:[e,t]}),Nse=(e,t)=>({...dse(e),options:[e,t]}),Sse=(e,t)=>({...hse(e),options:[e,t]}),Cse=(e,t)=>({...fse(e),options:[e,t]}),Pse=(e,t)=>({...yse(e),options:[e,t]});var _se="Arrow",w6=w.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...a}=e;return r.jsx(it.svg,{...a,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});w6.displayName=_se;var Ase=w6;function RA(e){const[t,n]=w.useState(void 0);return wr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var LA="Popper",[N6,Ec]=Zs(LA),[Ese,S6]=N6(LA),C6=e=>{const{__scopePopper:t,children:n}=e,[s,i]=w.useState(null);return r.jsx(Ese,{scope:t,anchor:s,onAnchorChange:i,children:n})};C6.displayName=LA;var P6="PopperAnchor",_6=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,a=S6(P6,n),o=w.useRef(null),l=Xt(t,o);return w.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(it.div,{...i,ref:l})});_6.displayName=P6;var FA="PopperContent",[kse,Tse]=N6(FA),A6=w.forwardRef((e,t)=>{var re,V,Z,ye,te,M;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...v}=e,y=S6(FA,n),[N,j]=w.useState(null),b=Xt(t,je=>j(je)),[P,C]=w.useState(null),_=RA(P),A=(_==null?void 0:_.width)??0,E=(_==null?void 0:_.height)??0,D=s+(a!=="center"?"-"+a:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],k=O.length>0,F={padding:I,boundary:O.filter(Dse),altBoundary:k},{refs:L,floatingStyles:Y,placement:q,isPositioned:ie,middlewareData:$}=xse({strategy:"fixed",placement:D,whileElementsMounted:(...je)=>lse(...je,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[jse({mainAxis:i+E,alignmentAxis:o}),c&&bse({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?wse():void 0,...F}),c&&Nse({...F}),Sse({...F,apply:({elements:je,rects:we,availableWidth:Fe,availableHeight:Be})=>{const{width:at,height:lt}=we.reference,ut=je.floating.style;ut.setProperty("--radix-popper-available-width",`${Fe}px`),ut.setProperty("--radix-popper-available-height",`${Be}px`),ut.setProperty("--radix-popper-anchor-width",`${at}px`),ut.setProperty("--radix-popper-anchor-height",`${lt}px`)}}),P&&Pse({element:P,padding:l}),Mse({arrowWidth:A,arrowHeight:E}),m&&Cse({strategy:"referenceHidden",...F})]}),[z,le]=T6(q),pe=Ds(x);wr(()=>{ie&&(pe==null||pe())},[ie,pe]);const ee=(re=$.arrow)==null?void 0:re.x,J=(V=$.arrow)==null?void 0:V.y,B=((Z=$.arrow)==null?void 0:Z.centerOffset)!==0,[me,ve]=w.useState();return wr(()=>{N&&ve(window.getComputedStyle(N).zIndex)},[N]),r.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:ie?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(ye=$.transformOrigin)==null?void 0:ye.x,(te=$.transformOrigin)==null?void 0:te.y].join(" "),...((M=$.hide)==null?void 0:M.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(kse,{scope:n,placedSide:z,onArrowChange:C,arrowX:ee,arrowY:J,shouldHideArrow:B,children:r.jsx(it.div,{"data-side":z,"data-align":le,...v,ref:b,style:{...v.style,animation:ie?void 0:"none"}})})})});A6.displayName=FA;var E6="PopperArrow",Ose={top:"bottom",right:"left",bottom:"top",left:"right"},k6=w.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,a=Tse(E6,s),o=Ose[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(Ase,{...i,ref:n,style:{...i.style,display:"block"}})})});k6.displayName=E6;function Dse(e){return e!==null}var Mse=e=>({name:"transformOrigin",options:e,fn(t){var y,N,j;const{placement:n,rects:s,middlewareData:i}=t,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=T6(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((N=i.arrow)==null?void 0:N.x)??0)+l/2,g=(((j=i.arrow)==null?void 0:j.y)??0)+c/2;let x="",v="";return u==="bottom"?(x=o?f:`${m}px`,v=`${-c}px`):u==="top"?(x=o?f:`${m}px`,v=`${s.floating.height+c}px`):u==="right"?(x=`${-c}px`,v=o?f:`${g}px`):u==="left"&&(x=`${s.floating.width+c}px`,v=o?f:`${g}px`),{data:{x,y:v}}}});function T6(e){const[t,n="center"]=e.split("-");return[t,n]}var BA=C6,av=_6,cb=A6,ub=k6,[db,r6e]=Zs("Tooltip",[Ec]),zA=Ec(),O6="TooltipProvider",Ise=700,kM="tooltip.open",[$se,D6]=db(O6),M6=e=>{const{__scopeTooltip:t,delayDuration:n=Ise,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=e,o=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),r.jsx($se,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};M6.displayName=O6;var I6="Tooltip",[s6e,hb]=db(I6),r2="TooltipTrigger",Rse=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=hb(r2,n),a=D6(r2,n),o=zA(n),l=w.useRef(null),c=Xt(t,l,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(av,{asChild:!0,...o,children:r.jsx(it.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:c,onPointerMove:He(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:He(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:He(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:He(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:He(e.onBlur,i.onClose),onClick:He(e.onClick,i.onClose)})})});Rse.displayName=r2;var Lse="TooltipPortal",[i6e,Fse]=db(Lse,{forceMount:void 0}),rf="TooltipContent",$6=w.forwardRef((e,t)=>{const n=Fse(rf,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...a}=e,o=hb(rf,e.__scopeTooltip);return r.jsx(ei,{present:s||o.open,children:o.disableHoverableContent?r.jsx(R6,{side:i,...a,ref:t}):r.jsx(Bse,{side:i,...a,ref:t})})}),Bse=w.forwardRef((e,t)=>{const n=hb(rf,e.__scopeTooltip),s=D6(rf,e.__scopeTooltip),i=w.useRef(null),a=Xt(t,i),[o,l]=w.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=s,m=w.useCallback(()=>{l(null),f(!1)},[f]),g=w.useCallback((x,v)=>{const y=x.currentTarget,N={x:x.clientX,y:x.clientY},j=Wse(N,y.getBoundingClientRect()),b=Hse(N,j),P=Gse(v.getBoundingClientRect()),C=Yse([...b,...P]);l(C),f(!0)},[f]);return w.useEffect(()=>()=>m(),[m]),w.useEffect(()=>{if(c&&d){const x=y=>g(y,d),v=y=>g(y,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",v)}}},[c,d,g,m]),w.useEffect(()=>{if(o){const x=v=>{const y=v.target,N={x:v.clientX,y:v.clientY},j=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!Kse(N,o);j?m():b&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,m]),r.jsx(R6,{...e,ref:a})}),[zse,Vse]=db(I6,{isInside:!1}),Use=Uee("TooltipContent"),R6=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=hb(rf,n),u=zA(n),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(kM,d),()=>document.removeEventListener(kM,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),r.jsx(ld,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:r.jsxs(cb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Use,{children:s}),r.jsx(zse,{scope:n,isInside:!0,children:r.jsx(dte,{id:c.contentId,role:"tooltip",children:i||s})})]})})});$6.displayName=rf;var L6="TooltipArrow",qse=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=zA(n);return Vse(L6,n).isInside?null:r.jsx(ub,{...i,...s,ref:t})});qse.displayName=L6;function Wse(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,i,a)){case a:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Hse(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function Gse(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function Kse(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(i=!i)}return i}function Yse(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Qse(t)}function Qse(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Xse=M6,F6=$6;const Jse=Xse,Zse=w.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(F6,{ref:s,sideOffset:t,className:Ze("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Zse.displayName=F6.displayName;var Wf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eie={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Hl,C_,Z3,tie=(Z3=class{constructor(){ht(this,Hl,eie);ht(this,C_,!1)}setTimeoutProvider(e){Xe(this,Hl,e)}setTimeout(e,t){return ce(this,Hl).setTimeout(e,t)}clearTimeout(e){ce(this,Hl).clearTimeout(e)}setInterval(e,t){return ce(this,Hl).setInterval(e,t)}clearInterval(e){ce(this,Hl).clearInterval(e)}},Hl=new WeakMap,C_=new WeakMap,Z3),gu=new tie;function nie(e){setTimeout(e,0)}var qu=typeof window>"u"||"Deno"in globalThis;function _s(){}function rie(e,t){return typeof e=="function"?e(t):e}function s2(e){return typeof e=="number"&&e>=0&&e!==1/0}function B6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pc(e,t){return typeof e=="function"?e(t):e}function Fi(e,t){return typeof e=="function"?e(t):e}function TM(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==VA(o,t.options))return!1}else if(!sg(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function OM(e,t){const{exact:n,status:s,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Wu(t.options.mutationKey)!==Wu(a))return!1}else if(!sg(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function VA(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wu)(e)}function Wu(e){return JSON.stringify(e,(t,n)=>i2(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function sg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>sg(e[n],t[n])):!1}var sie=Object.prototype.hasOwnProperty;function z6(e,t){if(e===t)return e;const n=DM(e)&&DM(t);if(!n&&!(i2(e)&&i2(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u],f=e[d],m=t[d];if(f===m){l[d]=f,(n?u<i:sie.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const g=z6(f,m);l[d]=g,g===f&&c++}return i===o&&c===i?e:l}function y0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function DM(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function i2(e){if(!MM(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!MM(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function MM(e){return Object.prototype.toString.call(e)==="[object Object]"}function iie(e){return new Promise(t=>{gu.setTimeout(t,e)})}function a2(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?z6(e,t):t}function aie(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function oie(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var UA=Symbol();function V6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===UA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function U6(e,t){return typeof e=="function"?e(...t):!!e}var wu,Gl,Mh,eL,lie=(eL=class extends Wf{constructor(){super();ht(this,wu);ht(this,Gl);ht(this,Mh);Xe(this,Mh,t=>{if(!qu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ce(this,Gl)||this.setEventListener(ce(this,Mh))}onUnsubscribe(){var t;this.hasListeners()||((t=ce(this,Gl))==null||t.call(this),Xe(this,Gl,void 0))}setEventListener(t){var n;Xe(this,Mh,t),(n=ce(this,Gl))==null||n.call(this),Xe(this,Gl,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){ce(this,wu)!==t&&(Xe(this,wu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ce(this,wu)=="boolean"?ce(this,wu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},wu=new WeakMap,Gl=new WeakMap,Mh=new WeakMap,eL),qA=new lie;function o2(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}var cie=nie;function uie(){let e=[],t=0,n=l=>{l()},s=l=>{l()},i=cie;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var kr=uie(),Ih,Kl,$h,tL,die=(tL=class extends Wf{constructor(){super();ht(this,Ih,!0);ht(this,Kl);ht(this,$h);Xe(this,$h,t=>{if(!qu&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){ce(this,Kl)||this.setEventListener(ce(this,$h))}onUnsubscribe(){var t;this.hasListeners()||((t=ce(this,Kl))==null||t.call(this),Xe(this,Kl,void 0))}setEventListener(t){var n;Xe(this,$h,t),(n=ce(this,Kl))==null||n.call(this),Xe(this,Kl,t(this.setOnline.bind(this)))}setOnline(t){ce(this,Ih)!==t&&(Xe(this,Ih,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return ce(this,Ih)}},Ih=new WeakMap,Kl=new WeakMap,$h=new WeakMap,tL),j0=new die;function hie(e){return Math.min(1e3*2**e,3e4)}function q6(e){return(e??"online")==="online"?j0.isOnline():!0}var l2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function W6(e){let t=!1,n=0,s;const i=o2(),a=()=>i.status!=="pending",o=v=>{var y;if(!a()){const N=new l2(v);m(N),(y=e.onCancel)==null||y.call(e,N)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>qA.isFocused()&&(e.networkMode==="always"||j0.isOnline())&&e.canRun(),d=()=>q6(e.networkMode)&&e.canRun(),f=v=>{a()||(s==null||s(),i.resolve(v))},m=v=>{a()||(s==null||s(),i.reject(v))},g=()=>new Promise(v=>{var y;s=N=>{(a()||u())&&v(N)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;s=void 0,a()||(v=e.onContinue)==null||v.call(e)}),x=()=>{if(a())return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(N){v=Promise.reject(N)}Promise.resolve(v).then(f).catch(N=>{var _;if(a())return;const j=e.retry??(qu?0:3),b=e.retryDelay??hie,P=typeof b=="function"?b(n,N):b,C=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,N);if(t||!C){m(N);return}n++,(_=e.onFail)==null||_.call(e,n,N),iie(P).then(()=>u()?void 0:g()).then(()=>{t?m(N):x()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():g().then(x),i)}}var Nu,nL,H6=(nL=class{constructor(){ht(this,Nu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),s2(this.gcTime)&&Xe(this,Nu,gu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qu?1/0:5*60*1e3))}clearGcTimeout(){ce(this,Nu)&&(gu.clearTimeout(ce(this,Nu)),Xe(this,Nu,void 0))}},Nu=new WeakMap,nL),Su,Rh,Li,Cu,Rr,Gg,Pu,pa,Do,rL,fie=(rL=class extends H6{constructor(t){super();ht(this,pa);ht(this,Su);ht(this,Rh);ht(this,Li);ht(this,Cu);ht(this,Rr);ht(this,Gg);ht(this,Pu);Xe(this,Pu,!1),Xe(this,Gg,t.defaultOptions),this.setOptions(t.options),this.observers=[],Xe(this,Cu,t.client),Xe(this,Li,ce(this,Cu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Xe(this,Su,IM(this.options)),this.state=t.state??ce(this,Su),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ce(this,Rr))==null?void 0:t.promise}setOptions(t){if(this.options={...ce(this,Gg),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=IM(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Xe(this,Su,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ce(this,Li).remove(this)}setData(t,n){const s=a2(this.state.data,t,this.options);return zt(this,pa,Do).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){zt(this,pa,Do).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,i;const n=(s=ce(this,Rr))==null?void 0:s.promise;return(i=ce(this,Rr))==null||i.cancel(t),n?n.then(_s).catch(_s):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ce(this,Su))}isActive(){return this.observers.some(t=>Fi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===UA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>pc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!B6(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ce(this,Rr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ce(this,Rr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ce(this,Li).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ce(this,Rr)&&(ce(this,Pu)?ce(this,Rr).cancel({revert:!0}):ce(this,Rr).cancelRetry()),this.scheduleGc()),ce(this,Li).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||zt(this,pa,Do).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,m,g,x,v,y,N,j,b;if(this.state.fetchStatus!=="idle"&&((c=ce(this,Rr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ce(this,Rr))return ce(this,Rr).continueRetry(),ce(this,Rr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const P=this.observers.find(C=>C.options.queryFn);P&&this.setOptions(P.options)}const s=new AbortController,i=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(Xe(this,Pu,!0),s.signal)})},a=()=>{const P=V6(this.options,n),_=(()=>{const A={client:ce(this,Cu),queryKey:this.queryKey,meta:this.meta};return i(A),A})();return Xe(this,Pu,!1),this.options.persister?this.options.persister(P,_,this):P(_)},l=(()=>{const P={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ce(this,Cu),state:this.state,fetchFn:a};return i(P),P})();(u=this.options.behavior)==null||u.onFetch(l,this),Xe(this,Rh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&zt(this,pa,Do).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Xe(this,Rr,W6({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:P=>{P instanceof l2&&P.revert&&this.setState({...ce(this,Rh),fetchStatus:"idle"}),s.abort()},onFail:(P,C)=>{zt(this,pa,Do).call(this,{type:"failed",failureCount:P,error:C})},onPause:()=>{zt(this,pa,Do).call(this,{type:"pause"})},onContinue:()=>{zt(this,pa,Do).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const P=await ce(this,Rr).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(g=(m=ce(this,Li).config).onSuccess)==null||g.call(m,P,this),(v=(x=ce(this,Li).config).onSettled)==null||v.call(x,P,this.state.error,this),P}catch(P){if(P instanceof l2){if(P.silent)return ce(this,Rr).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw zt(this,pa,Do).call(this,{type:"error",error:P}),(N=(y=ce(this,Li).config).onError)==null||N.call(y,P,this),(b=(j=ce(this,Li).config).onSettled)==null||b.call(j,this.state.data,P,this),P}finally{this.scheduleGc()}}},Su=new WeakMap,Rh=new WeakMap,Li=new WeakMap,Cu=new WeakMap,Rr=new WeakMap,Gg=new WeakMap,Pu=new WeakMap,pa=new WeakSet,Do=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...G6(s.data,this.options),fetchMeta:t.meta??null};case"success":const i={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Xe(this,Rh,t.manual?i:void 0),i;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),kr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ce(this,Li).notify({query:this,type:"updated",action:t})})},rL);function G6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:q6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function IM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Us,nn,Kg,Ss,_u,Lh,Fo,Yl,Yg,Fh,Bh,Au,Eu,Ql,zh,mn,dp,c2,u2,d2,h2,f2,m2,p2,K6,sL,mie=(sL=class extends Wf{constructor(t,n){super();ht(this,mn);ht(this,Us);ht(this,nn);ht(this,Kg);ht(this,Ss);ht(this,_u);ht(this,Lh);ht(this,Fo);ht(this,Yl);ht(this,Yg);ht(this,Fh);ht(this,Bh);ht(this,Au);ht(this,Eu);ht(this,Ql);ht(this,zh,new Set);this.options=n,Xe(this,Us,t),Xe(this,Yl,null),Xe(this,Fo,o2()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ce(this,nn).addObserver(this),$M(ce(this,nn),this.options)?zt(this,mn,dp).call(this):this.updateResult(),zt(this,mn,h2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return g2(ce(this,nn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return g2(ce(this,nn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,zt(this,mn,f2).call(this),zt(this,mn,m2).call(this),ce(this,nn).removeObserver(this)}setOptions(t){const n=this.options,s=ce(this,nn);if(this.options=ce(this,Us).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fi(this.options.enabled,ce(this,nn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");zt(this,mn,p2).call(this),ce(this,nn).setOptions(this.options),n._defaulted&&!y0(this.options,n)&&ce(this,Us).getQueryCache().notify({type:"observerOptionsUpdated",query:ce(this,nn),observer:this});const i=this.hasListeners();i&&RM(ce(this,nn),s,this.options,n)&&zt(this,mn,dp).call(this),this.updateResult(),i&&(ce(this,nn)!==s||Fi(this.options.enabled,ce(this,nn))!==Fi(n.enabled,ce(this,nn))||pc(this.options.staleTime,ce(this,nn))!==pc(n.staleTime,ce(this,nn)))&&zt(this,mn,c2).call(this);const a=zt(this,mn,u2).call(this);i&&(ce(this,nn)!==s||Fi(this.options.enabled,ce(this,nn))!==Fi(n.enabled,ce(this,nn))||a!==ce(this,Ql))&&zt(this,mn,d2).call(this,a)}getOptimisticResult(t){const n=ce(this,Us).getQueryCache().build(ce(this,Us),t),s=this.createResult(n,t);return gie(this,s)&&(Xe(this,Ss,s),Xe(this,Lh,this.options),Xe(this,_u,ce(this,nn).state)),s}getCurrentResult(){return ce(this,Ss)}trackResult(t,n){return new Proxy(t,{get:(s,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&ce(this,Fo).status==="pending"&&ce(this,Fo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,i))})}trackProp(t){ce(this,zh).add(t)}getCurrentQuery(){return ce(this,nn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ce(this,Us).defaultQueryOptions(t),s=ce(this,Us).getQueryCache().build(ce(this,Us),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return zt(this,mn,dp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ce(this,Ss)))}createResult(t,n){var D;const s=ce(this,nn),i=this.options,a=ce(this,Ss),o=ce(this,_u),l=ce(this,Lh),u=t!==s?t.state:ce(this,Kg),{state:d}=t;let f={...d},m=!1,g;if(n._optimisticResults){const I=this.hasListeners(),O=!I&&$M(t,n),k=I&&RM(t,s,n,i);(O||k)&&(f={...f,...G6(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:y}=f;g=f.data;let N=!1;if(n.placeholderData!==void 0&&g===void 0&&y==="pending"){let I;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(I=a.data,N=!0):I=typeof n.placeholderData=="function"?n.placeholderData((D=ce(this,Bh))==null?void 0:D.state.data,ce(this,Bh)):n.placeholderData,I!==void 0&&(y="success",g=a2(a==null?void 0:a.data,I,n),m=!0)}if(n.select&&g!==void 0&&!N)if(a&&g===(o==null?void 0:o.data)&&n.select===ce(this,Yg))g=ce(this,Fh);else try{Xe(this,Yg,n.select),g=n.select(g),g=a2(a==null?void 0:a.data,g,n),Xe(this,Fh,g),Xe(this,Yl,null)}catch(I){Xe(this,Yl,I)}ce(this,Yl)&&(x=ce(this,Yl),g=ce(this,Fh),v=Date.now(),y="error");const j=f.fetchStatus==="fetching",b=y==="pending",P=y==="error",C=b&&j,_=g!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:b,isSuccess:y==="success",isError:P,isInitialLoading:C,isLoading:C,data:g,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:j,isRefetching:j&&!b,isLoadingError:P&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:P&&_,isStale:WA(t,n),refetch:this.refetch,promise:ce(this,Fo),isEnabled:Fi(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=F=>{E.status==="error"?F.reject(E.error):E.data!==void 0&&F.resolve(E.data)},O=()=>{const F=Xe(this,Fo,E.promise=o2());I(F)},k=ce(this,Fo);switch(k.status){case"pending":t.queryHash===s.queryHash&&I(k);break;case"fulfilled":(E.status==="error"||E.data!==k.value)&&O();break;case"rejected":(E.status!=="error"||E.error!==k.reason)&&O();break}}return E}updateResult(){const t=ce(this,Ss),n=this.createResult(ce(this,nn),this.options);if(Xe(this,_u,ce(this,nn).state),Xe(this,Lh,this.options),ce(this,_u).data!==void 0&&Xe(this,Bh,ce(this,nn)),y0(n,t))return;Xe(this,Ss,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!ce(this,zh).size)return!0;const o=new Set(a??ce(this,zh));return this.options.throwOnError&&o.add("error"),Object.keys(ce(this,Ss)).some(l=>{const c=l;return ce(this,Ss)[c]!==t[c]&&o.has(c)})};zt(this,mn,K6).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&zt(this,mn,h2).call(this)}},Us=new WeakMap,nn=new WeakMap,Kg=new WeakMap,Ss=new WeakMap,_u=new WeakMap,Lh=new WeakMap,Fo=new WeakMap,Yl=new WeakMap,Yg=new WeakMap,Fh=new WeakMap,Bh=new WeakMap,Au=new WeakMap,Eu=new WeakMap,Ql=new WeakMap,zh=new WeakMap,mn=new WeakSet,dp=function(t){zt(this,mn,p2).call(this);let n=ce(this,nn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(_s)),n},c2=function(){zt(this,mn,f2).call(this);const t=pc(this.options.staleTime,ce(this,nn));if(qu||ce(this,Ss).isStale||!s2(t))return;const s=B6(ce(this,Ss).dataUpdatedAt,t)+1;Xe(this,Au,gu.setTimeout(()=>{ce(this,Ss).isStale||this.updateResult()},s))},u2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ce(this,nn)):this.options.refetchInterval)??!1},d2=function(t){zt(this,mn,m2).call(this),Xe(this,Ql,t),!(qu||Fi(this.options.enabled,ce(this,nn))===!1||!s2(ce(this,Ql))||ce(this,Ql)===0)&&Xe(this,Eu,gu.setInterval(()=>{(this.options.refetchIntervalInBackground||qA.isFocused())&&zt(this,mn,dp).call(this)},ce(this,Ql)))},h2=function(){zt(this,mn,c2).call(this),zt(this,mn,d2).call(this,zt(this,mn,u2).call(this))},f2=function(){ce(this,Au)&&(gu.clearTimeout(ce(this,Au)),Xe(this,Au,void 0))},m2=function(){ce(this,Eu)&&(gu.clearInterval(ce(this,Eu)),Xe(this,Eu,void 0))},p2=function(){const t=ce(this,Us).getQueryCache().build(ce(this,Us),this.options);if(t===ce(this,nn))return;const n=ce(this,nn);Xe(this,nn,t),Xe(this,Kg,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},K6=function(t){kr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ce(this,Ss))}),ce(this,Us).getQueryCache().notify({query:ce(this,nn),type:"observerResultsUpdated"})})},sL);function pie(e,t){return Fi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function $M(e,t){return pie(e,t)||e.state.data!==void 0&&g2(e,t,t.refetchOnMount)}function g2(e,t,n){if(Fi(t.enabled,e)!==!1&&pc(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&WA(e,t)}return!1}function RM(e,t,n,s){return(e!==t||Fi(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&WA(e,n)}function WA(e,t){return Fi(t.enabled,e)!==!1&&e.isStaleByTime(pc(t.staleTime,e))}function gie(e,t){return!y0(e.getCurrentResult(),t)}function LM(e){return{onFetch:(t,n)=>{var d,f,m,g,x;const s=t.options,i=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},N=V6(t.options,t.fetchOptions),j=async(b,P,C)=>{if(v)return Promise.reject();if(P==null&&b.pages.length)return Promise.resolve(b);const A=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:P,direction:C?"backward":"forward",meta:t.options.meta};return y(O),O})(),E=await N(A),{maxPages:D}=t.options,I=C?oie:aie;return{pages:I(b.pages,E,D),pageParams:I(b.pageParams,P,D)}};if(i&&a.length){const b=i==="backward",P=b?vie:FM,C={pages:a,pageParams:o},_=P(s,C);l=await j(C,_,b)}else{const b=e??a.length;do{const P=c===0?o[0]??s.initialPageParam:FM(s,l);if(c>0&&P==null)break;l=await j(l,P),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function FM(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function vie(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var Qg,Ka,Cs,ku,Ya,Il,iL,xie=(iL=class extends H6{constructor(t){super();ht(this,Ya);ht(this,Qg);ht(this,Ka);ht(this,Cs);ht(this,ku);Xe(this,Qg,t.client),this.mutationId=t.mutationId,Xe(this,Cs,t.mutationCache),Xe(this,Ka,[]),this.state=t.state||Y6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ce(this,Ka).includes(t)||(ce(this,Ka).push(t),this.clearGcTimeout(),ce(this,Cs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Xe(this,Ka,ce(this,Ka).filter(n=>n!==t)),this.scheduleGc(),ce(this,Cs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ce(this,Ka).length||(this.state.status==="pending"?this.scheduleGc():ce(this,Cs).remove(this))}continue(){var t;return((t=ce(this,ku))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,m,g,x,v,y,N,j,b,P,C,_,A,E,D;const n=()=>{zt(this,Ya,Il).call(this,{type:"continue"})},s={client:ce(this,Qg),meta:this.options.meta,mutationKey:this.options.mutationKey};Xe(this,ku,W6({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(I,O)=>{zt(this,Ya,Il).call(this,{type:"failed",failureCount:I,error:O})},onPause:()=>{zt(this,Ya,Il).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ce(this,Cs).canRun(this)}));const i=this.state.status==="pending",a=!ce(this,ku).canStart();try{if(i)n();else{zt(this,Ya,Il).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=ce(this,Cs).config).onMutate)==null?void 0:l.call(o,t,this,s));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,s));O!==this.state.context&&zt(this,Ya,Il).call(this,{type:"pending",context:O,variables:t,isPaused:a})}const I=await ce(this,ku).start();return await((f=(d=ce(this,Cs).config).onSuccess)==null?void 0:f.call(d,I,t,this.state.context,this,s)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,I,t,this.state.context,s)),await((v=(x=ce(this,Cs).config).onSettled)==null?void 0:v.call(x,I,null,this.state.variables,this.state.context,this,s)),await((N=(y=this.options).onSettled)==null?void 0:N.call(y,I,null,t,this.state.context,s)),zt(this,Ya,Il).call(this,{type:"success",data:I}),I}catch(I){try{throw await((b=(j=ce(this,Cs).config).onError)==null?void 0:b.call(j,I,t,this.state.context,this,s)),await((C=(P=this.options).onError)==null?void 0:C.call(P,I,t,this.state.context,s)),await((A=(_=ce(this,Cs).config).onSettled)==null?void 0:A.call(_,void 0,I,this.state.variables,this.state.context,this,s)),await((D=(E=this.options).onSettled)==null?void 0:D.call(E,void 0,I,t,this.state.context,s)),I}finally{zt(this,Ya,Il).call(this,{type:"error",error:I})}}finally{ce(this,Cs).runNext(this)}}},Qg=new WeakMap,Ka=new WeakMap,Cs=new WeakMap,ku=new WeakMap,Ya=new WeakSet,Il=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),kr.batch(()=>{ce(this,Ka).forEach(s=>{s.onMutationUpdate(t)}),ce(this,Cs).notify({mutation:this,type:"updated",action:t})})},iL);function Y6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bo,ga,Xg,aL,yie=(aL=class extends Wf{constructor(t={}){super();ht(this,Bo);ht(this,ga);ht(this,Xg);this.config=t,Xe(this,Bo,new Set),Xe(this,ga,new Map),Xe(this,Xg,0)}build(t,n,s){const i=new xie({client:t,mutationCache:this,mutationId:++wx(this,Xg)._,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){ce(this,Bo).add(t);const n=qx(t);if(typeof n=="string"){const s=ce(this,ga).get(n);s?s.push(t):ce(this,ga).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ce(this,Bo).delete(t)){const n=qx(t);if(typeof n=="string"){const s=ce(this,ga).get(n);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&ce(this,ga).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=qx(t);if(typeof n=="string"){const s=ce(this,ga).get(n),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const n=qx(t);if(typeof n=="string"){const i=(s=ce(this,ga).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kr.batch(()=>{ce(this,Bo).forEach(t=>{this.notify({type:"removed",mutation:t})}),ce(this,Bo).clear(),ce(this,ga).clear()})}getAll(){return Array.from(ce(this,Bo))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>OM(n,s))}findAll(t={}){return this.getAll().filter(n=>OM(t,n))}notify(t){kr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return kr.batch(()=>Promise.all(t.map(n=>n.continue().catch(_s))))}},Bo=new WeakMap,ga=new WeakMap,Xg=new WeakMap,aL);function qx(e){var t;return(t=e.options.scope)==null?void 0:t.id}var zo,Xl,qs,Vo,Jo,Ly,v2,oL,jie=(oL=class extends Wf{constructor(n,s){super();ht(this,Jo);ht(this,zo);ht(this,Xl);ht(this,qs);ht(this,Vo);Xe(this,zo,n),this.setOptions(s),this.bindMethods(),zt(this,Jo,Ly).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const s=this.options;this.options=ce(this,zo).defaultMutationOptions(n),y0(this.options,s)||ce(this,zo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ce(this,qs),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Wu(s.mutationKey)!==Wu(this.options.mutationKey)?this.reset():((i=ce(this,qs))==null?void 0:i.state.status)==="pending"&&ce(this,qs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ce(this,qs))==null||n.removeObserver(this)}onMutationUpdate(n){zt(this,Jo,Ly).call(this),zt(this,Jo,v2).call(this,n)}getCurrentResult(){return ce(this,Xl)}reset(){var n;(n=ce(this,qs))==null||n.removeObserver(this),Xe(this,qs,void 0),zt(this,Jo,Ly).call(this),zt(this,Jo,v2).call(this)}mutate(n,s){var i;return Xe(this,Vo,s),(i=ce(this,qs))==null||i.removeObserver(this),Xe(this,qs,ce(this,zo).getMutationCache().build(ce(this,zo),this.options)),ce(this,qs).addObserver(this),ce(this,qs).execute(n)}},zo=new WeakMap,Xl=new WeakMap,qs=new WeakMap,Vo=new WeakMap,Jo=new WeakSet,Ly=function(){var s;const n=((s=ce(this,qs))==null?void 0:s.state)??Y6();Xe(this,Xl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},v2=function(n){kr.batch(()=>{var s,i,a,o,l,c,u,d;if(ce(this,Vo)&&this.hasListeners()){const f=ce(this,Xl).variables,m=ce(this,Xl).context,g={client:ce(this,zo),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(s=ce(this,Vo)).onSuccess)==null||i.call(s,n.data,f,m,g),(o=(a=ce(this,Vo)).onSettled)==null||o.call(a,n.data,null,f,m,g)):(n==null?void 0:n.type)==="error"&&((c=(l=ce(this,Vo)).onError)==null||c.call(l,n.error,f,m,g),(d=(u=ce(this,Vo)).onSettled)==null||d.call(u,void 0,n.error,f,m,g))}this.listeners.forEach(f=>{f(ce(this,Xl))})})},oL),Qa,lL,bie=(lL=class extends Wf{constructor(t={}){super();ht(this,Qa);this.config=t,Xe(this,Qa,new Map)}build(t,n,s){const i=n.queryKey,a=n.queryHash??VA(i,n);let o=this.get(a);return o||(o=new fie({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){ce(this,Qa).has(t.queryHash)||(ce(this,Qa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ce(this,Qa).get(t.queryHash);n&&(t.destroy(),n===t&&ce(this,Qa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ce(this,Qa).get(t)}getAll(){return[...ce(this,Qa).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>TM(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>TM(t,s)):n}notify(t){kr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){kr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Qa=new WeakMap,lL),sr,Jl,Zl,Vh,Uh,ec,qh,Wh,cL,wie=(cL=class{constructor(e={}){ht(this,sr);ht(this,Jl);ht(this,Zl);ht(this,Vh);ht(this,Uh);ht(this,ec);ht(this,qh);ht(this,Wh);Xe(this,sr,e.queryCache||new bie),Xe(this,Jl,e.mutationCache||new yie),Xe(this,Zl,e.defaultOptions||{}),Xe(this,Vh,new Map),Xe(this,Uh,new Map),Xe(this,ec,0)}mount(){wx(this,ec)._++,ce(this,ec)===1&&(Xe(this,qh,qA.subscribe(async e=>{e&&(await this.resumePausedMutations(),ce(this,sr).onFocus())})),Xe(this,Wh,j0.subscribe(async e=>{e&&(await this.resumePausedMutations(),ce(this,sr).onOnline())})))}unmount(){var e,t;wx(this,ec)._--,ce(this,ec)===0&&((e=ce(this,qh))==null||e.call(this),Xe(this,qh,void 0),(t=ce(this,Wh))==null||t.call(this),Xe(this,Wh,void 0))}isFetching(e){return ce(this,sr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ce(this,Jl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ce(this,sr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ce(this,sr).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(pc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return ce(this,sr).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=ce(this,sr).get(s.queryHash),a=i==null?void 0:i.state.data,o=rie(t,a);if(o!==void 0)return ce(this,sr).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return kr.batch(()=>ce(this,sr).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ce(this,sr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ce(this,sr);kr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ce(this,sr);return kr.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=kr.batch(()=>ce(this,sr).findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(_s).catch(_s)}invalidateQueries(e,t={}){return kr.batch(()=>(ce(this,sr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=kr.batch(()=>ce(this,sr).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(_s)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(_s)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ce(this,sr).build(this,t);return n.isStaleByTime(pc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_s).catch(_s)}fetchInfiniteQuery(e){return e.behavior=LM(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_s).catch(_s)}ensureInfiniteQueryData(e){return e.behavior=LM(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return j0.isOnline()?ce(this,Jl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ce(this,sr)}getMutationCache(){return ce(this,Jl)}getDefaultOptions(){return ce(this,Zl)}setDefaultOptions(e){Xe(this,Zl,e)}setQueryDefaults(e,t){ce(this,Vh).set(Wu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ce(this,Vh).values()],n={};return t.forEach(s=>{sg(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){ce(this,Uh).set(Wu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ce(this,Uh).values()],n={};return t.forEach(s=>{sg(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ce(this,Zl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=VA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===UA&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ce(this,Zl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ce(this,sr).clear(),ce(this,Jl).clear()}},sr=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,Vh=new WeakMap,Uh=new WeakMap,ec=new WeakMap,qh=new WeakMap,Wh=new WeakMap,cL),Q6=w.createContext(void 0),Ra=e=>{const t=w.useContext(Q6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Nie=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(Q6.Provider,{value:e,children:t})),X6=w.createContext(!1),Sie=()=>w.useContext(X6);X6.Provider;function Cie(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Pie=w.createContext(Cie()),_ie=()=>w.useContext(Pie),Aie=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Eie=e=>{w.useEffect(()=>{e.clearReset()},[e])},kie=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&e.data===void 0||U6(n,[e.error,s])),Tie=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...i)=>n(s(...i)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Oie=(e,t)=>e.isLoading&&e.isFetching&&!t,Die=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,BM=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Mie(e,t,n){var f,m,g,x,v;const s=Sie(),i=_ie(),a=Ra(),o=a.defaultQueryOptions(e);(m=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",Tie(o),Aie(o,i),Eie(i);const l=!a.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!s&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(y=>{const N=d?c.subscribe(kr.batchCalls(y)):_s;return c.updateResult(),N},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o)},[o,c]),Die(o,u))throw BM(o,c,i);if(kie({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||x.call(g,o,u),o.experimental_prefetchInRender&&!qu&&Oie(u,s)){const y=l?BM(o,c,i):(v=a.getQueryCache().get(o.queryHash))==null?void 0:v.promise;y==null||y.catch(_s).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function fb(e,t){return Mie(e,mie)}function kc(e,t){const n=Ra(),[s]=w.useState(()=>new jie(n,e));w.useEffect(()=>{s.setOptions(e)},[s,e]);const i=w.useSyncExternalStore(w.useCallback(o=>s.subscribe(kr.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=w.useCallback((o,l)=>{s.mutate(o,l).catch(_s)},[s]);if(i.error&&U6(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ig.apply(this,arguments)}var sc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sc||(sc={}));const zM="popstate";function Iie(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:l}=s.location;return x2("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:b0(i)}return Rie(t,n,null,e)}function xr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function J6(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $ie(){return Math.random().toString(36).substr(2,8)}function VM(e,t){return{usr:e.state,key:e.key,idx:t}}function x2(e,t,n,s){return n===void 0&&(n=null),ig({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Hf(t):t,{state:n,key:t&&t.key||s||$ie()})}function b0(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Hf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Rie(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=sc.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ig({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=sc.Pop;let y=d(),N=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:N})}function m(y,N){l=sc.Push;let j=x2(v.location,y,N);u=d()+1;let b=VM(j,u),P=v.createHref(j);try{o.pushState(b,"",P)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(P)}a&&c&&c({action:l,location:v.location,delta:1})}function g(y,N){l=sc.Replace;let j=x2(v.location,y,N);u=d();let b=VM(j,u),P=v.createHref(j);o.replaceState(b,"",P),a&&c&&c({action:l,location:v.location,delta:0})}function x(y){let N=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof y=="string"?y:b0(y);return j=j.replace(/ $/,"%20"),xr(N,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,N)}let v={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(zM,f),c=y,()=>{i.removeEventListener(zM,f),c=null}},createHref(y){return t(i,y)},createURL:x,encodeLocation(y){let N=x(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:g,go(y){return o.go(y)}};return v}var UM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(UM||(UM={}));function Lie(e,t,n){return n===void 0&&(n="/"),Fie(e,t,n,!1)}function Fie(e,t,n,s){let i=typeof t=="string"?Hf(t):t,a=HA(i.pathname||"/",n);if(a==null)return null;let o=Z6(e);Bie(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Xie(a);l=Yie(o[c],u,s)}return l}function Z6(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(xr(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=gc([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(xr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Z6(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Gie(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of eB(a.path))i(a,o,c)}),t}function eB(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=eB(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Bie(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Kie(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const zie=/^:[\w-]+$/,Vie=3,Uie=2,qie=1,Wie=10,Hie=-2,qM=e=>e==="*";function Gie(e,t){let n=e.split("/"),s=n.length;return n.some(qM)&&(s+=Hie),t&&(s+=Uie),n.filter(i=>!qM(i)).reduce((i,a)=>i+(zie.test(a)?Vie:a===""?qie:Wie),s)}function Kie(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function Yie(e,t,n){let{routesMeta:s}=e,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=WM({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!s[s.length-1].route.index&&(f=WM({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:gc([a,f.pathname]),pathnameBase:tae(gc([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=gc([a,f.pathnameBase]))}return o}function WM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Qie(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((u,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let v=l[f]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const x=l[f];return g&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Qie(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),J6(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function Xie(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return J6(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function HA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Jie(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Hf(e):e;return{pathname:n?n.startsWith("/")?n:Zie(n,t):t,search:nae(s),hash:rae(i)}}function Zie(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tS(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eae(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function GA(e,t){let n=eae(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function KA(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Hf(e):(i=ig({},e),xr(!i.pathname||!i.pathname.includes("?"),tS("?","pathname","search",i)),xr(!i.pathname||!i.pathname.includes("#"),tS("#","pathname","hash",i)),xr(!i.search||!i.search.includes("#"),tS("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=Jie(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const gc=e=>e.join("/").replace(/\/\/+/g,"/"),tae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tB=["post","put","patch","delete"];new Set(tB);const iae=["get",...tB];new Set(iae);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ag.apply(this,arguments)}const YA=w.createContext(null),aae=w.createContext(null),Tc=w.createContext(null),mb=w.createContext(null),Oc=w.createContext({outlet:null,matches:[],isDataRoute:!1}),nB=w.createContext(null);function oae(e,t){let{relative:n}=t===void 0?{}:t;Gf()||xr(!1);let{basename:s,navigator:i}=w.useContext(Tc),{hash:a,pathname:o,search:l}=sB(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:gc([s,o])),i.createHref({pathname:c,search:l,hash:a})}function Gf(){return w.useContext(mb)!=null}function ud(){return Gf()||xr(!1),w.useContext(mb).location}function rB(e){w.useContext(Tc).static||w.useLayoutEffect(e)}function pb(){let{isDataRoute:e}=w.useContext(Oc);return e?jae():lae()}function lae(){Gf()||xr(!1);let e=w.useContext(YA),{basename:t,future:n,navigator:s}=w.useContext(Tc),{matches:i}=w.useContext(Oc),{pathname:a}=ud(),o=JSON.stringify(GA(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return rB(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let f=KA(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gc([t,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[t,s,o,a,e])}function sB(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=w.useContext(Tc),{matches:i}=w.useContext(Oc),{pathname:a}=ud(),o=JSON.stringify(GA(i,s.v7_relativeSplatPath));return w.useMemo(()=>KA(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function cae(e,t){return uae(e,t)}function uae(e,t,n,s){Gf()||xr(!1);let{navigator:i}=w.useContext(Tc),{matches:a}=w.useContext(Oc),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ud(),d;if(t){var f;let y=typeof t=="string"?Hf(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||xr(!1),d=y}else d=u;let m=d.pathname||"/",g=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=Lie(e,{pathname:g}),v=pae(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:gc([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:gc([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,s);return t&&v?w.createElement(mb.Provider,{value:{location:ag({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:sc.Pop}},v):v}function dae(){let e=yae(),t=sae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const hae=w.createElement(dae,null);class fae extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Oc.Provider,{value:this.props.routeContext},w.createElement(nB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mae(e){let{routeContext:t,match:n,children:s}=e,i=w.useContext(YA);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Oc.Provider,{value:t},s)}function pae(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||xr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:g}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let g,x=!1,v=null,y=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||hae,c&&(u<0&&m===0?(x=!0,y=null):u===m&&(x=!0,y=f.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,m+1)),j=()=>{let b;return g?b=v:x?b=y:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,w.createElement(mae,{match:f,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(fae,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):j()},null)}var iB=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(iB||{}),w0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(w0||{});function gae(e){let t=w.useContext(YA);return t||xr(!1),t}function vae(e){let t=w.useContext(aae);return t||xr(!1),t}function xae(e){let t=w.useContext(Oc);return t||xr(!1),t}function aB(e){let t=xae(),n=t.matches[t.matches.length-1];return n.route.id||xr(!1),n.route.id}function yae(){var e;let t=w.useContext(nB),n=vae(w0.UseRouteError),s=aB(w0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function jae(){let{router:e}=gae(iB.UseNavigateStable),t=aB(w0.UseNavigateStable),n=w.useRef(!1);return rB(()=>{n.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ag({fromRouteId:t},a)))},[e,t])}function bae(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function y2(e){let{to:t,replace:n,state:s,relative:i}=e;Gf()||xr(!1);let{future:a,static:o}=w.useContext(Tc),{matches:l}=w.useContext(Oc),{pathname:c}=ud(),u=pb(),d=KA(t,GA(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:n,state:s,relative:i}),[u,f,i,n,s]),null}function hr(e){xr(!1)}function wae(e){let{basename:t="/",children:n=null,location:s,navigationType:i=sc.Pop,navigator:a,static:o=!1,future:l}=e;Gf()&&xr(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:o,future:ag({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=Hf(s));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:x="default"}=s,v=w.useMemo(()=>{let y=HA(d,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:g,key:x},navigationType:i}},[c,d,f,m,g,x,i]);return v==null?null:w.createElement(Tc.Provider,{value:u},w.createElement(mb.Provider,{children:n,value:v}))}function Nae(e){let{children:t,location:n}=e;return cae(j2(t),n)}new Promise(()=>{});function j2(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(s,i)=>{if(!w.isValidElement(s))return;let a=[...t,i];if(s.type===w.Fragment){n.push.apply(n,j2(s.props.children,a));return}s.type!==hr&&xr(!1),!s.props.index||!s.props.children||xr(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=j2(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b2(){return b2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},b2.apply(this,arguments)}function Sae(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Cae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Pae(e,t){return e.button===0&&(!t||t==="_self")&&!Cae(e)}const _ae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Aae="6";try{window.__reactRouterVersion=Aae}catch{}const Eae="startTransition",HM=k_[Eae];function kae(e){let{basename:t,children:n,future:s,window:i}=e,a=w.useRef();a.current==null&&(a.current=Iie({window:i,v5Compat:!0}));let o=a.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=w.useCallback(f=>{u&&HM?HM(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>bae(s),[s]),w.createElement(wae,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const Tae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wa=w.forwardRef(function(t,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=Sae(t,_ae),{basename:g}=w.useContext(Tc),x,v=!1;if(typeof u=="string"&&Oae.test(u)&&(x=u,Tae))try{let b=new URL(window.location.href),P=u.startsWith("//")?new URL(b.protocol+u):new URL(u),C=HA(P.pathname,g);P.origin===b.origin&&C!=null?u=C+P.search+P.hash:v=!0}catch{}let y=oae(u,{relative:i}),N=Dae(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function j(b){s&&s(b),b.defaultPrevented||N(b)}return w.createElement("a",b2({},m,{href:x||y,onClick:v||a?s:j,ref:n,target:c}))});var GM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(GM||(GM={}));var KM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(KM||(KM={}));function Dae(e,t){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=pb(),u=ud(),d=sB(e,{relative:o});return w.useCallback(f=>{if(Pae(f,n)){f.preventDefault();let m=s!==void 0?s:b0(u)===b0(d);c(e,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,i,n,e,a,o,l])}const Mae=sv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=w.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},a)=>{const o=s?zee:"button";return r.jsx(o,{className:Ze(Mae({variant:t,size:n,className:e})),ref:a,...i})});W.displayName="Button";const oB=w.createContext(void 0);function Iae({children:e}){const[t,n]=w.useState(()=>{const i=localStorage.getItem("theme");return i||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});w.useEffect(()=>{localStorage.setItem("theme",t);const i=document.documentElement;t==="dark"?i.classList.add("dark"):i.classList.remove("dark")},[t]);const s=()=>{n(i=>i==="light"?"dark":"light")};return r.jsx(oB.Provider,{value:{theme:t,setTheme:n,toggleTheme:s},children:e})}function lB(){const e=w.useContext(oB);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function YM(){const{theme:e,toggleTheme:t}=lB();return r.jsxs(W,{variant:"outline",size:"sm",onClick:t,className:"h-9 w-9 p-0",title:e==="light"?"Activer le mode sombre":"Activer le mode clair",children:[e==="light"?r.jsx(Gte,{className:"h-4 w-4"}):r.jsx(Xte,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:e==="light"?"Activer le mode sombre":"Activer le mode clair"})]})}var $ae=w.createContext(void 0);function gb(e){const t=w.useContext($ae);return e||t||"ltr"}var nS=0;function vb(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??QM()),document.body.insertAdjacentElement("beforeend",e[1]??QM()),nS++,()=>{nS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),nS--}},[])}function QM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rS="focusScope.autoFocusOnMount",sS="focusScope.autoFocusOnUnmount",XM={bubbles:!1,cancelable:!0},Rae="FocusScope",ov=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=w.useState(null),u=Ds(i),d=Ds(a),f=w.useRef(null),m=Xt(t,v=>c(v)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let v=function(b){if(g.paused||!l)return;const P=b.target;l.contains(P)?f.current=P:$l(f.current,{select:!0})},y=function(b){if(g.paused||!l)return;const P=b.relatedTarget;P!==null&&(l.contains(P)||$l(f.current,{select:!0}))},N=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&$l(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const j=new MutationObserver(N);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),j.disconnect()}}},[s,l,g.paused]),w.useEffect(()=>{if(l){ZM.add(g);const v=document.activeElement;if(!l.contains(v)){const N=new CustomEvent(rS,XM);l.addEventListener(rS,u),l.dispatchEvent(N),N.defaultPrevented||(Lae(Uae(cB(l)),{select:!0}),document.activeElement===v&&$l(l))}return()=>{l.removeEventListener(rS,u),setTimeout(()=>{const N=new CustomEvent(sS,XM);l.addEventListener(sS,d),l.dispatchEvent(N),N.defaultPrevented||$l(v??document.body,{select:!0}),l.removeEventListener(sS,d),ZM.remove(g)},0)}}},[l,u,d,g]);const x=w.useCallback(v=>{if(!n&&!s||g.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(y&&N){const j=v.currentTarget,[b,P]=Fae(j);b&&P?!v.shiftKey&&N===P?(v.preventDefault(),n&&$l(b,{select:!0})):v.shiftKey&&N===b&&(v.preventDefault(),n&&$l(P,{select:!0})):N===j&&v.preventDefault()}},[n,s,g.paused]);return r.jsx(it.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});ov.displayName=Rae;function Lae(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if($l(s,{select:t}),document.activeElement!==n)return}function Fae(e){const t=cB(e),n=JM(t,e),s=JM(t.reverse(),e);return[n,s]}function cB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function JM(e,t){for(const n of e)if(!Bae(n,{upTo:t}))return n}function Bae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zae(e){return e instanceof HTMLInputElement&&"select"in e}function $l(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&zae(e)&&t&&e.select()}}var ZM=Vae();function Vae(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=eI(e,t),e.unshift(t)},remove(t){var n;e=eI(e,t),(n=e[0])==null||n.resume()}}}function eI(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Uae(e){return e.filter(t=>t.tagName!=="A")}var iS="rovingFocusGroup.onEntryFocus",qae={bubbles:!1,cancelable:!0},lv="RovingFocusGroup",[w2,uB,Wae]=tb(lv),[Hae,xb]=Zs(lv,[Wae]),[Gae,Kae]=Hae(lv),dB=w.forwardRef((e,t)=>r.jsx(w2.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(w2.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Yae,{...e,ref:t})})}));dB.displayName=lv;var Yae=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=w.useRef(null),g=Xt(t,m),x=gb(a),[v,y]=mo({prop:o,defaultProp:l??null,onChange:c,caller:lv}),[N,j]=w.useState(!1),b=Ds(u),P=uB(n),C=w.useRef(!1),[_,A]=w.useState(0);return w.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(iS,b),()=>E.removeEventListener(iS,b)},[b]),r.jsx(Gae,{scope:n,orientation:s,dir:x,loop:i,currentTabStopId:v,onItemFocus:w.useCallback(E=>y(E),[y]),onItemShiftTab:w.useCallback(()=>j(!0),[]),onFocusableItemAdd:w.useCallback(()=>A(E=>E+1),[]),onFocusableItemRemove:w.useCallback(()=>A(E=>E-1),[]),children:r.jsx(it.div,{tabIndex:N||_===0?-1:0,"data-orientation":s,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:He(e.onMouseDown,()=>{C.current=!0}),onFocus:He(e.onFocus,E=>{const D=!C.current;if(E.target===E.currentTarget&&D&&!N){const I=new CustomEvent(iS,qae);if(E.currentTarget.dispatchEvent(I),!I.defaultPrevented){const O=P().filter(q=>q.focusable),k=O.find(q=>q.active),F=O.find(q=>q.id===v),Y=[k,F,...O].filter(Boolean).map(q=>q.ref.current);mB(Y,d)}}C.current=!1}),onBlur:He(e.onBlur,()=>j(!1))})})}),hB="RovingFocusGroupItem",fB=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=rs(),u=a||c,d=Kae(hB,n),f=d.currentTabStopId===u,m=uB(n),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:v}=d;return w.useEffect(()=>{if(s)return g(),()=>x()},[s,g,x]),r.jsx(w2.ItemSlot,{scope:n,id:u,focusable:s,active:i,children:r.jsx(it.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:He(e.onMouseDown,y=>{s?d.onItemFocus(u):y.preventDefault()}),onFocus:He(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:He(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const N=Jae(y,d.orientation,d.dir);if(N!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=m().filter(P=>P.focusable).map(P=>P.ref.current);if(N==="last")b.reverse();else if(N==="prev"||N==="next"){N==="prev"&&b.reverse();const P=b.indexOf(y.currentTarget);b=d.loop?Zae(b,P+1):b.slice(P+1)}setTimeout(()=>mB(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});fB.displayName=hB;var Qae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xae(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Jae(e,t,n){const s=Xae(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Qae[s]}function mB(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function Zae(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var pB=dB,gB=fB,eoe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Fd=new WeakMap,Wx=new WeakMap,Hx={},aS=0,vB=function(e){return e&&(e.host||vB(e.parentNode))},toe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=vB(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},noe=function(e,t,n,s){var i=toe(t,Array.isArray(e)?e:[e]);Hx[n]||(Hx[n]=new WeakMap);var a=Hx[n],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(s),x=g!==null&&g!=="false",v=(Fd.get(m)||0)+1,y=(a.get(m)||0)+1;Fd.set(m,v),a.set(m,y),o.push(m),v===1&&x&&Wx.set(m,!0),y===1&&m.setAttribute(n,"true"),x||m.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",m,N)}})};return d(t),l.clear(),aS++,function(){o.forEach(function(f){var m=Fd.get(f)-1,g=a.get(f)-1;Fd.set(f,m),a.set(f,g),m||(Wx.has(f)||f.removeAttribute(s),Wx.delete(f)),g||f.removeAttribute(n)}),aS--,aS||(Fd=new WeakMap,Fd=new WeakMap,Wx=new WeakMap,Hx={})}},yb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=eoe(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),noe(s,i,n,"aria-hidden")):function(){return null}},Ja=function(){return Ja=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ja.apply(this,arguments)};function xB(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function roe(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var Fy="right-scroll-bar-position",By="width-before-scroll-bar",soe="with-scroll-bars-hidden",ioe="--removed-body-scroll-bar-size";function oS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function aoe(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var ooe=typeof window<"u"?w.useLayoutEffect:w.useEffect,tI=new WeakMap;function loe(e,t){var n=aoe(null,function(s){return e.forEach(function(i){return oS(i,s)})});return ooe(function(){var s=tI.get(n);if(s){var i=new Set(s),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||oS(l,null)}),a.forEach(function(l){i.has(l)||oS(l,o)})}tI.set(n,e)},[e]),n}function coe(e){return e}function uoe(e,t){t===void 0&&(t=coe);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function doe(e){e===void 0&&(e={});var t=uoe(null);return t.options=Ja({async:!0,ssr:!1},e),t}var yB=function(e){var t=e.sideCar,n=xB(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,Ja({},n))};yB.isSideCarExport=!0;function hoe(e,t){return e.useMedium(t),yB}var jB=doe(),lS=function(){},jb=w.forwardRef(function(e,t){var n=w.useRef(null),s=w.useState({onScrollCapture:lS,onWheelCapture:lS,onTouchMoveCapture:lS}),i=s[0],a=s[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,g=e.noRelative,x=e.noIsolation,v=e.inert,y=e.allowPinchZoom,N=e.as,j=N===void 0?"div":N,b=e.gapMode,P=xB(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,_=loe([n,t]),A=Ja(Ja({},P),i);return w.createElement(w.Fragment,null,d&&w.createElement(C,{sideCar:jB,removeScrollBar:u,shards:f,noRelative:g,noIsolation:x,inert:v,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?w.cloneElement(w.Children.only(l),Ja(Ja({},A),{ref:_})):w.createElement(j,Ja({},A,{className:c,ref:_}),l))});jb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jb.classNames={fullWidth:By,zeroRight:Fy};var foe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function moe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=foe();return t&&e.setAttribute("nonce",t),e}function poe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function goe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var voe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=moe())&&(poe(t,n),goe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xoe=function(){var e=voe();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},bB=function(){var e=xoe(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},yoe={left:0,top:0,right:0,gap:0},cS=function(e){return parseInt(e||"",10)||0},joe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[cS(n),cS(s),cS(i)]},boe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return yoe;var t=joe(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},woe=bB(),Ah="data-scroll-locked",Noe=function(e,t,n,s){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(soe,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Ah,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fy,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(By,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Fy," .").concat(Fy,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(By," .").concat(By,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ah,`] {
    `).concat(ioe,": ").concat(l,`px;
  }
`)},nI=function(){var e=parseInt(document.body.getAttribute(Ah)||"0",10);return isFinite(e)?e:0},Soe=function(){w.useEffect(function(){return document.body.setAttribute(Ah,(nI()+1).toString()),function(){var e=nI()-1;e<=0?document.body.removeAttribute(Ah):document.body.setAttribute(Ah,e.toString())}},[])},Coe=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;Soe();var a=w.useMemo(function(){return boe(i)},[i]);return w.createElement(woe,{styles:Noe(a,!t,i,n?"":"!important")})},N2=!1;if(typeof window<"u")try{var Gx=Object.defineProperty({},"passive",{get:function(){return N2=!0,!0}});window.addEventListener("test",Gx,Gx),window.removeEventListener("test",Gx,Gx)}catch{N2=!1}var Bd=N2?{passive:!1}:!1,Poe=function(e){return e.tagName==="TEXTAREA"},wB=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Poe(e)&&n[t]==="visible")},_oe=function(e){return wB(e,"overflowY")},Aoe=function(e){return wB(e,"overflowX")},rI=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=NB(e,s);if(i){var a=SB(e,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Eoe=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},koe=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},NB=function(e,t){return e==="v"?_oe(t):Aoe(t)},SB=function(e,t){return e==="v"?Eoe(t):koe(t)},Toe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ooe=function(e,t,n,s,i){var a=Toe(e,window.getComputedStyle(t).direction),o=a*s,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var g=SB(e,l),x=g[0],v=g[1],y=g[2],N=v-y-a*x;(x||N)&&NB(e,l)&&(f+=N,m+=x);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(m)<1||!i))&&(u=!0),u},Kx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},sI=function(e){return[e.deltaX,e.deltaY]},iI=function(e){return e&&"current"in e?e.current:e},Doe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Moe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ioe=0,zd=[];function $oe(e){var t=w.useRef([]),n=w.useRef([0,0]),s=w.useRef(),i=w.useState(Ioe++)[0],a=w.useState(bB)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=roe([e.lockRef.current],(e.shards||[]).map(iI),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var N=Kx(v),j=n.current,b="deltaX"in v?v.deltaX:j[0]-N[0],P="deltaY"in v?v.deltaY:j[1]-N[1],C,_=v.target,A=Math.abs(b)>Math.abs(P)?"h":"v";if("touches"in v&&A==="h"&&_.type==="range")return!1;var E=rI(A,_);if(!E)return!0;if(E?C=A:(C=A==="v"?"h":"v",E=rI(A,_)),!E)return!1;if(!s.current&&"changedTouches"in v&&(b||P)&&(s.current=C),!C)return!0;var D=s.current||C;return Ooe(D,y,v,D==="h"?b:P,!0)},[]),c=w.useCallback(function(v){var y=v;if(!(!zd.length||zd[zd.length-1]!==a)){var N="deltaY"in y?sI(y):Kx(y),j=t.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&Doe(C.delta,N)})[0];if(j&&j.should){y.cancelable&&y.preventDefault();return}if(!j){var b=(o.current.shards||[]).map(iI).filter(Boolean).filter(function(C){return C.contains(y.target)}),P=b.length>0?l(y,b[0]):!o.current.noIsolation;P&&y.cancelable&&y.preventDefault()}}},[]),u=w.useCallback(function(v,y,N,j){var b={name:v,delta:y,target:N,should:j,shadowParent:Roe(N)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(P){return P!==b})},1)},[]),d=w.useCallback(function(v){n.current=Kx(v),s.current=void 0},[]),f=w.useCallback(function(v){u(v.type,sI(v),v.target,l(v,e.lockRef.current))},[]),m=w.useCallback(function(v){u(v.type,Kx(v),v.target,l(v,e.lockRef.current))},[]);w.useEffect(function(){return zd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Bd),document.addEventListener("touchmove",c,Bd),document.addEventListener("touchstart",d,Bd),function(){zd=zd.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,Bd),document.removeEventListener("touchmove",c,Bd),document.removeEventListener("touchstart",d,Bd)}},[]);var g=e.removeScrollBar,x=e.inert;return w.createElement(w.Fragment,null,x?w.createElement(a,{styles:Moe(i)}):null,g?w.createElement(Coe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Roe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Loe=hoe(jB,$oe);var cv=w.forwardRef(function(e,t){return w.createElement(jb,Ja({},e,{ref:t,sideCar:Loe}))});cv.classNames=jb.classNames;var S2=["Enter"," "],Foe=["ArrowDown","PageUp","Home"],CB=["ArrowUp","PageDown","End"],Boe=[...Foe,...CB],zoe={ltr:[...S2,"ArrowRight"],rtl:[...S2,"ArrowLeft"]},Voe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},uv="Menu",[og,Uoe,qoe]=tb(uv),[dd,PB]=Zs(uv,[qoe,Ec,xb]),bb=Ec(),_B=xb(),[Woe,hd]=dd(uv),[Hoe,dv]=dd(uv),AB=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:i,onOpenChange:a,modal:o=!0}=e,l=bb(t),[c,u]=w.useState(null),d=w.useRef(!1),f=Ds(a),m=gb(i);return w.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),r.jsx(BA,{...l,children:r.jsx(Woe,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:r.jsx(Hoe,{scope:t,onClose:w.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:s})})})};AB.displayName=uv;var Goe="MenuAnchor",QA=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=bb(n);return r.jsx(av,{...i,...s,ref:t})});QA.displayName=Goe;var XA="MenuPortal",[Koe,EB]=dd(XA,{forceMount:void 0}),kB=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:i}=e,a=hd(XA,t);return r.jsx(Koe,{scope:t,forceMount:n,children:r.jsx(ei,{present:n||a.open,children:r.jsx(Ff,{asChild:!0,container:i,children:s})})})};kB.displayName=XA;var Gi="MenuContent",[Yoe,JA]=dd(Gi),TB=w.forwardRef((e,t)=>{const n=EB(Gi,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=hd(Gi,e.__scopeMenu),o=dv(Gi,e.__scopeMenu);return r.jsx(og.Provider,{scope:e.__scopeMenu,children:r.jsx(ei,{present:s||a.open,children:r.jsx(og.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(Qoe,{...i,ref:t}):r.jsx(Xoe,{...i,ref:t})})})})}),Qoe=w.forwardRef((e,t)=>{const n=hd(Gi,e.__scopeMenu),s=w.useRef(null),i=Xt(t,s);return w.useEffect(()=>{const a=s.current;if(a)return yb(a)},[]),r.jsx(ZA,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:He(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Xoe=w.forwardRef((e,t)=>{const n=hd(Gi,e.__scopeMenu);return r.jsx(ZA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Joe=bc("MenuContent.ScrollLock"),ZA=w.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...v}=e,y=hd(Gi,n),N=dv(Gi,n),j=bb(n),b=_B(n),P=Uoe(n),[C,_]=w.useState(null),A=w.useRef(null),E=Xt(t,A,y.onContentChange),D=w.useRef(0),I=w.useRef(""),O=w.useRef(0),k=w.useRef(null),F=w.useRef("right"),L=w.useRef(0),Y=x?cv:w.Fragment,q=x?{as:Joe,allowPinchZoom:!0}:void 0,ie=z=>{var re,V;const le=I.current+z,pe=P().filter(Z=>!Z.disabled),ee=document.activeElement,J=(re=pe.find(Z=>Z.ref.current===ee))==null?void 0:re.textValue,B=pe.map(Z=>Z.textValue),me=ule(B,le,J),ve=(V=pe.find(Z=>Z.textValue===me))==null?void 0:V.ref.current;(function Z(ye){I.current=ye,window.clearTimeout(D.current),ye!==""&&(D.current=window.setTimeout(()=>Z(""),1e3))})(le),ve&&setTimeout(()=>ve.focus())};w.useEffect(()=>()=>window.clearTimeout(D.current),[]),vb();const $=w.useCallback(z=>{var pe,ee;return F.current===((pe=k.current)==null?void 0:pe.side)&&hle(z,(ee=k.current)==null?void 0:ee.area)},[]);return r.jsx(Yoe,{scope:n,searchRef:I,onItemEnter:w.useCallback(z=>{$(z)&&z.preventDefault()},[$]),onItemLeave:w.useCallback(z=>{var le;$(z)||((le=A.current)==null||le.focus(),_(null))},[$]),onTriggerLeave:w.useCallback(z=>{$(z)&&z.preventDefault()},[$]),pointerGraceTimerRef:O,onPointerGraceIntentChange:w.useCallback(z=>{k.current=z},[]),children:r.jsx(Y,{...q,children:r.jsx(ov,{asChild:!0,trapped:i,onMountAutoFocus:He(a,z=>{var le;z.preventDefault(),(le=A.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(ld,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:r.jsx(pB,{asChild:!0,...b,dir:N.dir,orientation:"vertical",loop:s,currentTabStopId:C,onCurrentTabStopIdChange:_,onEntryFocus:He(c,z=>{N.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(cb,{role:"menu","aria-orientation":"vertical","data-state":GB(y.open),"data-radix-menu-content":"",dir:N.dir,...j,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:He(v.onKeyDown,z=>{const pe=z.target.closest("[data-radix-menu-content]")===z.currentTarget,ee=z.ctrlKey||z.altKey||z.metaKey,J=z.key.length===1;pe&&(z.key==="Tab"&&z.preventDefault(),!ee&&J&&ie(z.key));const B=A.current;if(z.target!==B||!Boe.includes(z.key))return;z.preventDefault();const ve=P().filter(re=>!re.disabled).map(re=>re.ref.current);CB.includes(z.key)&&ve.reverse(),lle(ve)}),onBlur:He(e.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(D.current),I.current="")}),onPointerMove:He(e.onPointerMove,lg(z=>{const le=z.target,pe=L.current!==z.clientX;if(z.currentTarget.contains(le)&&pe){const ee=z.clientX>L.current?"right":"left";F.current=ee,L.current=z.clientX}}))})})})})})})});TB.displayName=Gi;var Zoe="MenuGroup",eE=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(it.div,{role:"group",...s,ref:t})});eE.displayName=Zoe;var ele="MenuLabel",OB=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(it.div,{...s,ref:t})});OB.displayName=ele;var N0="MenuItem",aI="menu.itemSelect",wb=w.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...i}=e,a=w.useRef(null),o=dv(N0,e.__scopeMenu),l=JA(N0,e.__scopeMenu),c=Xt(t,a),u=w.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const m=new CustomEvent(aI,{bubbles:!0,cancelable:!0});f.addEventListener(aI,g=>s==null?void 0:s(g),{once:!0}),bA(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return r.jsx(DB,{...i,ref:c,disabled:n,onClick:He(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:He(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:He(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||S2.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});wb.displayName=N0;var DB=w.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...a}=e,o=JA(N0,n),l=_B(n),c=w.useRef(null),u=Xt(t,c),[d,f]=w.useState(!1),[m,g]=w.useState("");return w.useEffect(()=>{const x=c.current;x&&g((x.textContent??"").trim())},[a.children]),r.jsx(og.ItemSlot,{scope:n,disabled:s,textValue:i??m,children:r.jsx(gB,{asChild:!0,...l,focusable:!s,children:r.jsx(it.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:u,onPointerMove:He(e.onPointerMove,lg(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:He(e.onPointerLeave,lg(x=>o.onItemLeave(x))),onFocus:He(e.onFocus,()=>f(!0)),onBlur:He(e.onBlur,()=>f(!1))})})})}),tle="MenuCheckboxItem",MB=w.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...i}=e;return r.jsx(FB,{scope:e.__scopeMenu,checked:n,children:r.jsx(wb,{role:"menuitemcheckbox","aria-checked":S0(n)?"mixed":n,...i,ref:t,"data-state":nE(n),onSelect:He(i.onSelect,()=>s==null?void 0:s(S0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});MB.displayName=tle;var IB="MenuRadioGroup",[nle,rle]=dd(IB,{value:void 0,onValueChange:()=>{}}),$B=w.forwardRef((e,t)=>{const{value:n,onValueChange:s,...i}=e,a=Ds(s);return r.jsx(nle,{scope:e.__scopeMenu,value:n,onValueChange:a,children:r.jsx(eE,{...i,ref:t})})});$B.displayName=IB;var RB="MenuRadioItem",LB=w.forwardRef((e,t)=>{const{value:n,...s}=e,i=rle(RB,e.__scopeMenu),a=n===i.value;return r.jsx(FB,{scope:e.__scopeMenu,checked:a,children:r.jsx(wb,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":nE(a),onSelect:He(s.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});LB.displayName=RB;var tE="MenuItemIndicator",[FB,sle]=dd(tE,{checked:!1}),BB=w.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...i}=e,a=sle(tE,n);return r.jsx(ei,{present:s||S0(a.checked)||a.checked===!0,children:r.jsx(it.span,{...i,ref:t,"data-state":nE(a.checked)})})});BB.displayName=tE;var ile="MenuSeparator",zB=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(it.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});zB.displayName=ile;var ale="MenuArrow",VB=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=bb(n);return r.jsx(ub,{...i,...s,ref:t})});VB.displayName=ale;var ole="MenuSub",[o6e,UB]=dd(ole),hp="MenuSubTrigger",qB=w.forwardRef((e,t)=>{const n=hd(hp,e.__scopeMenu),s=dv(hp,e.__scopeMenu),i=UB(hp,e.__scopeMenu),a=JA(hp,e.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),r.jsx(QA,{asChild:!0,...u,children:r.jsx(DB,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":GB(n.open),...e,ref:rl(t,i.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:He(e.onPointerMove,lg(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:He(e.onPointerLeave,lg(f=>{var g,x;d();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const v=(x=n.content)==null?void 0:x.dataset.side,y=v==="right",N=y?-5:5,j=m[y?"left":"right"],b=m[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:j,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:j,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:He(e.onKeyDown,f=>{var g;const m=a.searchRef.current!=="";e.disabled||m&&f.key===" "||zoe[s.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});qB.displayName=hp;var WB="MenuSubContent",HB=w.forwardRef((e,t)=>{const n=EB(Gi,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=hd(Gi,e.__scopeMenu),o=dv(Gi,e.__scopeMenu),l=UB(WB,e.__scopeMenu),c=w.useRef(null),u=Xt(t,c);return r.jsx(og.Provider,{scope:e.__scopeMenu,children:r.jsx(ei,{present:s||a.open,children:r.jsx(og.Slot,{scope:e.__scopeMenu,children:r.jsx(ZA,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:He(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:He(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:He(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),m=Voe[o.dir].includes(d.key);f&&m&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});HB.displayName=WB;function GB(e){return e?"open":"closed"}function S0(e){return e==="indeterminate"}function nE(e){return S0(e)?"indeterminate":e?"checked":"unchecked"}function lle(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function cle(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function ule(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=cle(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function dle(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(i=!i)}return i}function hle(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return dle(n,t)}function lg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var fle=AB,mle=QA,ple=kB,gle=TB,vle=eE,xle=OB,yle=wb,jle=MB,ble=$B,wle=LB,Nle=BB,Sle=zB,Cle=VB,Ple=qB,_le=HB,Nb="DropdownMenu",[Ale,l6e]=Zs(Nb,[PB]),$s=PB(),[Ele,KB]=Ale(Nb),YB=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=$s(t),u=w.useRef(null),[d,f]=mo({prop:i,defaultProp:a??!1,onChange:o,caller:Nb});return r.jsx(Ele,{scope:t,triggerId:rs(),triggerRef:u,contentId:rs(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(m=>!m),[f]),modal:l,children:r.jsx(fle,{...c,open:d,onOpenChange:f,dir:s,modal:l,children:n})})};YB.displayName=Nb;var QB="DropdownMenuTrigger",XB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=e,a=KB(QB,n),o=$s(n);return r.jsx(mle,{asChild:!0,...o,children:r.jsx(it.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:rl(t,a.triggerRef),onPointerDown:He(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:He(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});XB.displayName=QB;var kle="DropdownMenuPortal",JB=e=>{const{__scopeDropdownMenu:t,...n}=e,s=$s(t);return r.jsx(ple,{...s,...n})};JB.displayName=kle;var ZB="DropdownMenuContent",e8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=KB(ZB,n),a=$s(n),o=w.useRef(!1);return r.jsx(gle,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:t,onCloseAutoFocus:He(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:He(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});e8.displayName=ZB;var Tle="DropdownMenuGroup",Ole=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(vle,{...i,...s,ref:t})});Ole.displayName=Tle;var Dle="DropdownMenuLabel",t8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(xle,{...i,...s,ref:t})});t8.displayName=Dle;var Mle="DropdownMenuItem",n8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(yle,{...i,...s,ref:t})});n8.displayName=Mle;var Ile="DropdownMenuCheckboxItem",r8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(jle,{...i,...s,ref:t})});r8.displayName=Ile;var $le="DropdownMenuRadioGroup",Rle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(ble,{...i,...s,ref:t})});Rle.displayName=$le;var Lle="DropdownMenuRadioItem",s8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(wle,{...i,...s,ref:t})});s8.displayName=Lle;var Fle="DropdownMenuItemIndicator",i8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Nle,{...i,...s,ref:t})});i8.displayName=Fle;var Ble="DropdownMenuSeparator",a8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Sle,{...i,...s,ref:t})});a8.displayName=Ble;var zle="DropdownMenuArrow",Vle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Cle,{...i,...s,ref:t})});Vle.displayName=zle;var Ule="DropdownMenuSubTrigger",o8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Ple,{...i,...s,ref:t})});o8.displayName=Ule;var qle="DropdownMenuSubContent",l8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(_le,{...i,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});l8.displayName=qle;var Wle=YB,Hle=XB,Gle=JB,c8=e8,u8=t8,d8=n8,h8=r8,f8=s8,m8=i8,p8=a8,g8=o8,v8=l8;const Kle=Wle,Yle=Hle,Qle=w.forwardRef(({className:e,inset:t,children:n,...s},i)=>r.jsxs(g8,{ref:i,className:Ze("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx(Rte,{className:"ml-auto h-4 w-4"})]}));Qle.displayName=g8.displayName;const Xle=w.forwardRef(({className:e,...t},n)=>r.jsx(v8,{ref:n,className:Ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Xle.displayName=v8.displayName;const x8=w.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(Gle,{children:r.jsx(c8,{ref:s,sideOffset:t,className:Ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));x8.displayName=c8.displayName;const zy=w.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(d8,{ref:s,className:Ze("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));zy.displayName=d8.displayName;const Jle=w.forwardRef(({className:e,children:t,checked:n,...s},i)=>r.jsxs(h8,{ref:i,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(m8,{children:r.jsx(CA,{className:"h-4 w-4"})})}),t]}));Jle.displayName=h8.displayName;const Zle=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(f8,{ref:s,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(m8,{children:r.jsx(Fte,{className:"h-2 w-2 fill-current"})})}),t]}));Zle.displayName=f8.displayName;const y8=w.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(u8,{ref:s,className:Ze("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));y8.displayName=u8.displayName;const C2=w.forwardRef(({className:e,...t},n)=>r.jsx(p8,{ref:n,className:Ze("-mx-1 my-1 h-px bg-muted",e),...t}));C2.displayName=p8.displayName;var j8={exports:{}},b8={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=w;function ece(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tce=typeof Object.is=="function"?Object.is:ece,nce=sf.useState,rce=sf.useEffect,sce=sf.useLayoutEffect,ice=sf.useDebugValue;function ace(e,t){var n=t(),s=nce({inst:{value:n,getSnapshot:t}}),i=s[0].inst,a=s[1];return sce(function(){i.value=n,i.getSnapshot=t,uS(i)&&a({inst:i})},[e,n,t]),rce(function(){return uS(i)&&a({inst:i}),e(function(){uS(i)&&a({inst:i})})},[e]),ice(n),n}function uS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tce(e,n)}catch{return!0}}function oce(e,t){return t()}var lce=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?oce:ace;b8.useSyncExternalStore=sf.useSyncExternalStore!==void 0?sf.useSyncExternalStore:lce;j8.exports=b8;var cce=j8.exports;function uce(){return cce.useSyncExternalStore(dce,()=>!0,()=>!1)}function dce(){return()=>{}}var rE="Avatar",[hce,c6e]=Zs(rE),[fce,w8]=hce(rE),N8=w.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[i,a]=w.useState("idle");return r.jsx(fce,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:r.jsx(it.span,{...s,ref:t})})});N8.displayName=rE;var S8="AvatarImage",C8=w.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...a}=e,o=w8(S8,n),l=mce(s,a),c=Ds(u=>{i(u),o.onImageLoadingStatusChange(u)});return wr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(it.img,{...a,ref:t,src:s}):null});C8.displayName=S8;var P8="AvatarFallback",_8=w.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,a=w8(P8,n),[o,l]=w.useState(s===void 0);return w.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&a.imageLoadingStatus!=="loaded"?r.jsx(it.span,{...i,ref:t}):null});_8.displayName=P8;function oI(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function mce(e,{referrerPolicy:t,crossOrigin:n}){const s=uce(),i=w.useRef(null),a=s?(i.current||(i.current=new window.Image),i.current):null,[o,l]=w.useState(()=>oI(a,e));return wr(()=>{l(oI(a,e))},[a,e]),wr(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var A8=N8,E8=C8,k8=_8;const Hr=w.forwardRef(({className:e,...t},n)=>r.jsx(A8,{ref:n,className:Ze("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Hr.displayName=A8.displayName;const ll=w.forwardRef(({className:e,...t},n)=>r.jsx(E8,{ref:n,className:Ze("aspect-square h-full w-full",e),...t}));ll.displayName=E8.displayName;const Gr=w.forwardRef(({className:e,...t},n)=>r.jsx(k8,{ref:n,className:Ze("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Gr.displayName=k8.displayName;const pce="modulepreload",gce=function(e){return"/"+e},lI={},hv=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=gce(c),c in lI)return;lI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":pce,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},vce=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hv(async()=>{const{default:s}=await Promise.resolve().then(()=>Kf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class sE extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class xce extends sE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cI extends sE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uI extends sE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var P2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(P2||(P2={}));var yce=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class jce{constructor(t,{headers:n={},customFetch:s,region:i=P2.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=vce(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return yce(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(v=>{throw new xce(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new cI(f);if(!f.ok)throw new uI(f);let g=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield f.json():g==="application/octet-stream"?x=yield f.blob():g==="text/event-stream"?x=f:g==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof uI||i instanceof cI?i.context:void 0}}})}}var Gs={},iE={},Sb={},fv={},Cb={},Pb={},bce=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},af=bce();const wce=af.fetch,T8=af.fetch.bind(af),O8=af.Headers,Nce=af.Request,Sce=af.Response,Kf=Object.freeze(Object.defineProperty({__proto__:null,Headers:O8,Request:Nce,Response:Sce,default:T8,fetch:wce},Symbol.toStringTag,{value:"Module"})),Cce=lJ(Kf);var _b={};Object.defineProperty(_b,"__esModule",{value:!0});let Pce=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};_b.default=Pce;var D8=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pb,"__esModule",{value:!0});const _ce=D8(Cce),Ace=D8(_b);let Ece=class{constructor(t){var n,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=_ce.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,u;let d=null,f=null,m=null,g=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const j=await a.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=j:f=JSON.parse(j))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),N=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&N&&N.length>1&&(m=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,g=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(f=[],d=null,g=200,x="OK")}catch{a.status===404&&y===""?(g=204,x="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,g=200,x="OK"),d&&this.shouldThrowOnError)throw new Ace.default(d)}return{error:d,data:f,count:m,status:g,statusText:x}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Pb.default=Ece;var kce=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cb,"__esModule",{value:!0});const Tce=kce(Pb);let Oce=class extends Tce.default{select(t){let n=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Cb.default=Oce;var Dce=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fv,"__esModule",{value:!0});const Mce=Dce(Cb);let Ice=class extends Mce.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};fv.default=Ice;var $ce=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sb,"__esModule",{value:!0});const Wm=$ce(fv);let Rce=class{constructor(t,{headers:n={},schema:s,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=s,this.fetch=i}select(t,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new Wm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:s=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Wm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Wm.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var s;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Wm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var n;const s="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Wm.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Sb.default=Rce;var M8=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iE,"__esModule",{value:!0});const Lce=M8(Sb),Fce=M8(fv);let Bce=class I8{constructor(t,{headers:n={},schema:s,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=s,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new Lce.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new I8(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;s||i?(l=s?"HEAD":"GET",Object.entries(n).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",u=n);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new Fce.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};iE.default=Bce;var Yf=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.PostgrestError=Gs.PostgrestBuilder=Gs.PostgrestTransformBuilder=Gs.PostgrestFilterBuilder=Gs.PostgrestQueryBuilder=Gs.PostgrestClient=void 0;const $8=Yf(iE);Gs.PostgrestClient=$8.default;const R8=Yf(Sb);Gs.PostgrestQueryBuilder=R8.default;const L8=Yf(fv);Gs.PostgrestFilterBuilder=L8.default;const F8=Yf(Cb);Gs.PostgrestTransformBuilder=F8.default;const B8=Yf(Pb);Gs.PostgrestBuilder=B8.default;const z8=Yf(_b);Gs.PostgrestError=z8.default;var zce=Gs.default={PostgrestClient:$8.default,PostgrestQueryBuilder:R8.default,PostgrestFilterBuilder:L8.default,PostgrestTransformBuilder:F8.default,PostgrestBuilder:B8.default,PostgrestError:z8.default};const{PostgrestClient:Vce,PostgrestQueryBuilder:p6e,PostgrestFilterBuilder:g6e,PostgrestTransformBuilder:v6e,PostgrestBuilder:x6e,PostgrestError:y6e}=zce;class Uce{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qce="2.15.5",Wce=`realtime-js/${qce}`,Hce="1.0.0",_2=1e4,Gce=1e3,Kce=100;var _p;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_p||(_p={}));var _r;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_r||(_r={}));var xa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xa||(xa={}));var A2;(function(e){e.websocket="websocket"})(A2||(A2={}));var uu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(uu||(uu={}));class Yce{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+i));o=o+i;const c=s.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class V8{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kn||(kn={}));const dI=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,o)=>(a[o]=Qce(o,e,t,i),a),{})},Qce=(e,t,n,s)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!s.includes(a)?U8(a,o):E2(o)},U8=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return eue(t,n)}switch(e){case kn.bool:return Xce(t);case kn.float4:case kn.float8:case kn.int2:case kn.int4:case kn.int8:case kn.numeric:case kn.oid:return Jce(t);case kn.json:case kn.jsonb:return Zce(t);case kn.timestamp:return tue(t);case kn.abstime:case kn.date:case kn.daterange:case kn.int4range:case kn.int8range:case kn.money:case kn.reltime:case kn.text:case kn.time:case kn.timestamptz:case kn.timetz:case kn.tsrange:case kn.tstzrange:return E2(t);default:return E2(t)}},E2=e=>e,Xce=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Jce=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Zce=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},eue=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>U8(t,l))}return e},tue=e=>typeof e=="string"?e.replace(" ","T"):e,q8=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class dS{constructor(t,n,s={},i=_2){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hI||(hI={}));class Ap{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ap.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Ap.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ap.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const m=d.map(y=>y.presence_ref),g=f.map(y=>y.presence_ref),x=d.filter(y=>g.indexOf(y.presence_ref)<0),v=f.filter(y=>m.indexOf(y.presence_ref)<0);x.length>0&&(l[u]=x),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},s,i)}static syncDiff(t,n,s,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),m=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...m)}s(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fI||(fI={}));var Ep;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ep||(Ep={}));var $o;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($o||($o={}));class aE{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=_r.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new dS(this,xa.join,this.params,this.timeout),this.rejoinTimer=new V8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_r.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_r.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=_r.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_r.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=_r.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xa.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Ap(this),this.broadcastEndpointURL=q8(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==_r.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ep.PRESENCE]&&this.bindings[Ep.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t($o.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t($o.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){t==null||t($o.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,N=[];for(let j=0;j<y;j++){const b=v[j],{filter:{event:P,schema:C,table:_,filter:A}}=b,E=g&&g[j];if(E&&E.event===P&&E.schema===C&&E.table===_&&E.filter===A)N.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=_r.errored,t==null||t($o.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t($o.SUBSCRIBED);return}}).receive("error",g=>{this.state=_r.errored,t==null||t($o.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($o.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===_r.joined&&t===Ep.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_r.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xa.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new dS(this,xa.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_r.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new dS(this,t,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Kce){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=xa;if(s&&[l,c,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,n,s);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var x,v,y;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(v=g.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(g=>g.callback(m,s)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var x,v,y,N,j,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const P=g.id,C=(x=g.filter)===null||x===void 0?void 0:x.event;return P&&((v=n.ids)===null||v===void 0?void 0:v.includes(P))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const P=(j=(N=g==null?void 0:g.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return P==="*"||P===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:v,table:y,commit_timestamp:N,type:j,errors:b}=x;m=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:N,eventType:j,new:{},old:{},errors:b}),this._getPayloadRecords(x))}g.callback(m,s)})}_isClosed(){return this.state===_r.closed}_isJoined(){return this.state===_r.joined}_isJoining(){return this.state===_r.joining}_isLeaving(){return this.state===_r.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&aE.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xa.close,{},t)}_onError(t){this._on(xa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_r.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=dI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=dI(t.columns,t.old_record)),n}}const hS=()=>{},Yx={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nue=[1e3,2e3,5e3,1e4],rue=1e4,sue=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iue{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_2,this.transport=null,this.heartbeatIntervalMs=Yx.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hS,this.ref=0,this.reconnectTimer=null,this.logger=hS,this.conn=null,this.sendBuffer=[],this.serializer=new Yce,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>hv(async()=>{const{default:l}=await Promise.resolve().then(()=>Kf);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${A2.websocket}`,this.httpEndpoint=q8(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Uce.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Hce}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case _p.connecting:return uu.Connecting;case _p.open:return uu.Open;case _p.closing:return uu.Closing;default:return uu.Closed}}isConnected(){return this.connectionState()===uu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new aE(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Gce,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Yx.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${s} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(xa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([sue],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:Wce};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(xa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new V8(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yx.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,i,a,o,l,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:_2,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Yx.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:hS,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>nue[f-1]||rue,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class oE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ar(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class aue extends oE{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class k2 extends oE{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var oue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const W8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hv(async()=>{const{default:s}=await Promise.resolve().then(()=>Kf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},lue=()=>oue(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hv(()=>Promise.resolve().then(()=>Kf),void 0)).Response:Response}),T2=e=>{if(Array.isArray(e))return e.map(n=>T2(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=T2(s)}),t},cue=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var fd=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const fS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uue=(e,t,n)=>fd(void 0,void 0,void 0,function*(){const s=yield lue();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new aue(fS(i),a,o))}).catch(i=>{t(new k2(fS(i),i))}):t(new k2(fS(e),e))}),due=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?i:(cue(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(s)):i.body=s,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function mv(e,t,n,s,i,a){return fd(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,due(t,s,i,a)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>uue(c,l,s))})})}function C0(e,t,n,s){return fd(this,void 0,void 0,function*(){return mv(e,"GET",t,n,s)})}function Ga(e,t,n,s,i){return fd(this,void 0,void 0,function*(){return mv(e,"POST",t,s,i,n)})}function O2(e,t,n,s,i){return fd(this,void 0,void 0,function*(){return mv(e,"PUT",t,s,i,n)})}function hue(e,t,n,s){return fd(this,void 0,void 0,function*(){return mv(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function H8(e,t,n,s,i){return fd(this,void 0,void 0,function*(){return mv(e,"DELETE",t,s,i,n)})}var Ns=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const fue={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mue{constructor(t,n={},s,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=s,this.fetch=W8(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,s,i){return Ns(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},mI),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?O2:Ga)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ar(a))return{data:null,error:a};throw a}})}upload(t,n,s){return Ns(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return Ns(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:mI.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield O2(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ar(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Ns(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Ga(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new oE("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ar(s))return{data:null,error:s};throw s}})}update(t,n,s){return Ns(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Ns(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ar(i))return{data:null,error:i};throw i}})}copy(t,n,s){return Ns(this,void 0,void 0,function*(){try{return{data:{path:(yield Ga(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ar(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return Ns(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ga(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ar(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return Ns(this,void 0,void 0,function*(){try{const i=yield Ga(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ar(i))return{data:null,error:i};throw i}})}download(t,n){return Ns(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield C0(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ar(l))return{data:null,error:l};throw l}})}info(t){return Ns(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield C0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:T2(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ar(s))return{data:null,error:s};throw s}})}exists(t){return Ns(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield hue(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ar(s)&&s instanceof k2){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(t){return Ns(this,void 0,void 0,function*(){try{return{data:yield H8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ar(n))return{data:null,error:n};throw n}})}list(t,n,s){return Ns(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},fue),n),{prefix:t||""});return{data:yield Ga(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ar(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ns(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield Ga(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ar(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const pue="2.12.1",gue={"X-Client-Info":`storage-js/${pue}`};var Vd=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class vue{constructor(t,n={},s,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},gue),n),this.fetch=W8(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Vd(this,void 0,void 0,function*(){try{return{data:yield C0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ar(t))return{data:null,error:t};throw t}})}getBucket(t){return Vd(this,void 0,void 0,function*(){try{return{data:yield C0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ar(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Vd(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ar(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Vd(this,void 0,void 0,function*(){try{return{data:yield O2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ar(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Vd(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ar(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Vd(this,void 0,void 0,function*(){try{return{data:yield H8(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ar(n))return{data:null,error:n};throw n}})}}class xue extends vue{constructor(t,n={},s,i){super(t,n,s,i)}from(t){return new mue(this.url,this.headers,t,this.fetch)}}const yue="2.57.4";let fp="";typeof Deno<"u"?fp="deno":typeof document<"u"?fp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fp="react-native":fp="node";const jue={"X-Client-Info":`supabase-js-${fp}/${yue}`},bue={headers:jue},wue={schema:"public"},Nue={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sue={};var Cue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const Pue=e=>{let t;return e?t=e:typeof fetch>"u"?t=T8:t=fetch,(...n)=>t(...n)},_ue=()=>typeof Headers>"u"?O8:Headers,Aue=(e,t,n)=>{const s=Pue(n),i=_ue();return(a,o)=>Cue(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(a,Object.assign(Object.assign({},o),{headers:u}))})};var Eue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};function kue(e){return e.endsWith("/")?e:e+"/"}function Tue(e,t){var n,s;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Eue(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function Oue(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kue(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const G8="2.71.1",Jd=30*1e3,D2=3,mS=D2*Jd,Due="http://localhost:9999",Mue="supabase.auth.token",Iue={"X-Client-Info":`gotrue-js/${G8}`},M2="X-Supabase-Api-Version",K8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$ue=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rue=10*60*1e3;class lE extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function $t(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Lue extends lE{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Fue(e){return $t(e)&&e.name==="AuthApiError"}class Y8 extends lE{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Dc extends lE{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class Rl extends Dc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bue(e){return $t(e)&&e.name==="AuthSessionMissingError"}class Qx extends Dc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xx extends Dc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Jx extends Dc{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zue(e){return $t(e)&&e.name==="AuthImplicitGrantRedirectError"}class pI extends Dc{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class I2 extends Dc{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function pS(e){return $t(e)&&e.name==="AuthRetryableFetchError"}class gI extends Dc{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class $2 extends Dc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const P0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vI=` 	
\r=`.split(""),Vue=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vI.length;t+=1)e[vI[t].charCodeAt(0)]=-2;for(let t=0;t<P0.length;t+=1)e[P0[t].charCodeAt(0)]=t;return e})();function xI(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(P0[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(P0[s]),t.queuedBits-=6}}function Q8(e,t,n){const s=Vue[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yI(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Wue(o,s,n)};for(let o=0;o<e.length;o+=1)Q8(e.charCodeAt(o),i,a);return t.join("")}function Uue(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function que(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Uue(s,t)}}function Wue(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Hue(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Q8(e.charCodeAt(i),n,s);return new Uint8Array(t)}function Gue(e){const t=[];return que(e,n=>t.push(n)),new Uint8Array(t)}function Kue(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>xI(i,n,s)),xI(null,n,s),t.join("")}function Yue(e){return Math.round(Date.now()/1e3)+e}function Que(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ha=()=>typeof window<"u"&&typeof document<"u",Jc={tested:!1,writable:!1},X8=()=>{if(!ha())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jc.tested)return Jc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Jc.tested=!0,Jc.writable=!0}catch{Jc.tested=!0,Jc.writable=!1}return Jc.writable};function Xue(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const J8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hv(async()=>{const{default:s}=await Promise.resolve().then(()=>Kf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},Jue=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Zc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ol=async(e,t)=>{await e.removeItem(t)};class Ab{constructor(){this.promise=new Ab.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ab.promiseConstructor=Promise;function gS(e){const t=e.split(".");if(t.length!==3)throw new $2("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!$ue.test(t[s]))throw new $2("JWT not in base64url format");return{header:JSON.parse(yI(t[0])),payload:JSON.parse(yI(t[1])),signature:Hue(t[2]),raw:{header:t[0],payload:t[1]}}}async function Zue(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ede(e,t){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){s(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function tde(e){return("0"+e.toString(16)).substr(-2)}function nde(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,tde).join("")}async function rde(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function sde(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await rde(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ud(e,t,n=!1){const s=nde();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Zd(e,`${t}-code-verifier`,i);const a=await sde(s);return[a,s===a?"plain":"s256"]}const ide=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ade(e){const t=e.headers.get(M2);if(!t||!t.match(ide))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ode(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lde(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cde=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qd(e){if(!cde.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vS(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jI(e){return JSON.parse(JSON.stringify(e))}var ude=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const iu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dde=[502,503,504];async function bI(e){var t;if(!Jue(e))throw new I2(iu(e),0);if(dde.includes(e.status))throw new I2(iu(e),e.status);let n;try{n=await e.json()}catch(a){throw new Y8(iu(a),a)}let s;const i=ade(e);if(i&&i.getTime()>=K8["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new gI(iu(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Rl}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new gI(iu(n),e.status,n.weak_password.reasons);throw new Lue(iu(n),e.status||500,s)}const hde=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function Kt(e,t,n,s){var i;const a=Object.assign({},s==null?void 0:s.headers);a[M2]||(a[M2]=K8["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await fde(e,t,n+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function fde(e,t,n,s,i,a){const o=hde(t,s,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new I2(iu(c),0)}if(l.ok||await bI(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await bI(c)}}function Mo(e){var t;let n=null;vde(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Yue(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function wI(e){const t=Mo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ql(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function mde(e){return{data:e,error:null}}function pde(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=e,o=ude(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function gde(e){return e}function vde(e){return e.access_token&&e.refresh_token&&e.expires_in}const xS=["global","local","others"];var xde=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};class yde{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=J8(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=xS[0]){if(xS.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xS.join(", ")}`);try{return await Kt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Kt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ql})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=xde(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await Kt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:pde,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($t(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Kt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ql})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Kt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:gde});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($t(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){qd(t);try{return await Kt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ql})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){qd(t);try{return await Kt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ql})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){qd(t);try{return await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ql})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){qd(t.userId);try{const{data:n,error:s}=await Kt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if($t(n))return{data:null,error:n};throw n}}async _deleteFactor(t){qd(t.userId),qd(t.id);try{return{data:await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}}function NI(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function jde(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wd={debug:!!(globalThis&&X8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Z8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bde extends Z8{}async function wde(e,t,n){Wd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Wd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Wd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Wd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Wd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bde(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wd.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}jde();const Nde={url:Due,storageKey:Mue,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Iue,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function SI(e,t,n){return await n()}const Hd={};class cg{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cg.nextInstanceID,cg.nextInstanceID+=1,this.instanceID>0&&ha()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Nde),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new yde({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=J8(i.fetch),this.lock=i.lock||SI,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ha()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=wde:this.lock=SI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:X8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=NI(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=NI(this.memoryStorage)),ha()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Hd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Hd[this.storageKey]=Object.assign(Object.assign({},Hd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Hd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Hd[this.storageKey]=Object.assign(Object.assign({},Hd[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${G8}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Xue(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),ha()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),zue(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $t(n)?{error:n}:{error:new Y8("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const a=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Mo}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,s,i;try{let a;if("email"in t){const{email:d,password:f,options:m}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Ud(this.storage,this.storageKey)),a=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},xform:Mo})}else if("phone"in t){const{phone:d,password:f,options:m}=t;a=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Mo})}else throw new Xx("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wI})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wI})}else throw new Xx("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Qx}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,i,a,o,l,c,u,d,f,m,g;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:y,wallet:N,statement:j,options:b}=t;let P;if(ha())if(typeof N=="object")P=N;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))P=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=N}const C=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const _=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),j?{statement:j}:null));let A;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")A=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)A=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)x=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),v=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${C.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(s=b==null?void 0:b.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const _=await P.signMessage(new TextEncoder().encode(x),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=_}}try{const{data:y,error:N}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Kue(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Mo});if(N)throw N;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Qx}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:N})}catch(y){if($t(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await Zc(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:a,error:o}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Mo});if(await Ol(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Qx}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if($t(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:a,nonce:o}=t,l=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Mo}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Qx}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ud(this.storage,this.storageKey));const{error:f}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Xx("You must provide either an email or phone number.")}catch(l){if($t(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await Kt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Mo});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if($t(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Ud(this.storage,this.storageKey)),await Kt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:mde})}catch(a){if($t(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Rl;const{error:i}=await Kt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if($t(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:a}=t,{error:o}=await Kt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:i,options:a}=t,{data:o,error:l}=await Kt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Xx("You must provide either an email or phone number and a type")}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Zc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<mS:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await Zc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=vS()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ql}):await this._useSession(async n=>{var s,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rl}:await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ql})})}catch(n){if($t(n))return Bue(n)&&(await this._removeSession(),await Ol(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new Rl;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ud(this.storage,this.storageKey));const{data:u,error:d}=await Kt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ql});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rl;const n=Date.now()/1e3;let s=n,i=!0,a=null;const{payload:o}=gS(t.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if($t(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Rl;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ha())throw new Jx("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jx(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new pI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jx("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new pI("No code detected.");const{data:j,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Jx("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const g=m-d;g*1e3<=Jd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const x=m-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:v,error:y}=await this._getUser(a);if(y)throw y;const N={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(s){if($t(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Zc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{error:a};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Fue(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ol(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Que(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Ud(this.storage,this.storageKey,!0));try{return await Kt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if($t(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:m}=a;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Kt(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ha()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if($t(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)throw o;return await Kt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if($t(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await ede(async i=>(i>0&&await Zue(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Kt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Mo})),(i,a)=>{const o=200*Math.pow(2,i);return a&&pS(a)&&Date.now()+o-s<Jd})}catch(s){if(this._debug(n,"error",s),$t(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),ha()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Zc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Zc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Zd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:vS()}else if(i&&!i.user&&!i.user){const o=await Zc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Ol(this.storage,this.storageKey+"-user"),await Zd(this.storage,this.storageKey,i)):i.user=vS()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<mS;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${mS}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),pS(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Rl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ab;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Rl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),$t(a)){const o={session:null,error:a};return pS(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Zd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=jI(i);await Zd(this.storage,this.storageKey,a)}else{const i=jI(n);await Zd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ol(this.storage,this.storageKey),await Ol(this.storage,this.storageKey+"-code-verifier"),await Ol(this.storage,this.storageKey+"-user"),this.userStorage&&await Ol(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ha()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Jd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Jd}ms, refresh threshold is ${D2} ticks`),i<=D2&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Z8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ha()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ud(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Kt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if($t(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Kt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if($t(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await Kt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if($t(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Kt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if($t(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],i=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=gS(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+Rue>i)return s;const{data:a,error:o}=await Kt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,s=a.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};s=g.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=gS(s);n!=null&&n.allowExpired||ode(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:a,header:i,signature:o},error:null}}const d=lde(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Gue(`${l}.${c}`)))throw new $2("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}}}cg.nextInstanceID=0;const Sde=cg;class Cde extends Sde{constructor(t){super(t)}}var Pde=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class _de{constructor(t,n,s){var i,a,o;this.supabaseUrl=t,this.supabaseKey=n;const l=Oue(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:wue,realtime:Sue,auth:Object.assign(Object.assign({},Nue),{storageKey:c}),global:bue},d=Tue(s??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Aue(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Vce(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new xue(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new jce(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Pde(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Cde({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new iue(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ade=(e,t,n)=>new _de(e,t,n);function Ede(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Ede()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kde="https://fqmeqckchbppabetefuk.supabase.co",Tde="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxbWVxY2tjaGJwcGFiZXRlZnVrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY2NzUzODYsImV4cCI6MjA3MjI1MTM4Nn0.MkyVvQVmqUXShrHXHTpHib0Dyq39ZB47KhGZZgBlF-o",Mr=Ade(kde,Tde,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),ez=async()=>{const{data:{user:e},error:t}=await Mr.auth.getUser();if(t)throw t;return e},Eb=async()=>{const e=await ez();if(!e)return null;const{data:t,error:n}=await Mr.from("user_profiles").select("*").eq("id",e.id).single();if(n)throw n;return t},Ode=async(e,t,n,s,i="assistant")=>{const{data:a,error:o}=await Mr.auth.signUp({email:e,password:t,options:{data:{username:n,full_name:s,role:i}}});if(o)throw o;return a},Dde=async()=>{const{error:e}=await Mr.auth.signOut();if(e)throw e},Mde=async e=>{const t=await ez();if(!t)throw new Error("No authenticated user");const{data:n,error:s}=await Mr.from("user_profiles").select("*").eq("id",t.id).single();n||await tz(t);const i=Object.entries({...e,updated_at:new Date().toISOString()}).reduce((l,[c,u])=>(u!=null&&u!==""&&(l[c]=u),l),{}),{data:a,error:o}=await Mr.from("user_profiles").update(i).eq("id",t.id).select().single();if(o){const l={id:t.id,email:t.email,username:(n==null?void 0:n.username)||t.email.split("@")[0],full_name:(n==null?void 0:n.full_name)||"",role:(n==null?void 0:n.role)||"assistant",...i},{data:c,error:u}=await Mr.from("user_profiles").upsert(l).select().single();if(u)throw new Error(`Profile update failed: ${u.message}`);return c}return a},tz=async e=>{var t,n,s;try{const i=await Eb();if(i)return i;const{data:a,error:o}=await Mr.from("user_profiles").insert({id:e.id,email:e.email,username:((t=e.user_metadata)==null?void 0:t.username)||e.email.split("@")[0],full_name:((n=e.user_metadata)==null?void 0:n.full_name)||"",role:((s=e.user_metadata)==null?void 0:s.role)||"assistant"}).select().single();if(o)throw o;return a}catch(i){throw i}},Sa={all:["auth"],session:()=>[...Sa.all,"session"]},Ide=async()=>{try{const{data:{session:e},error:t}=await Mr.auth.getSession();if(t||!(e!=null&&e.user))return null;let n=null;try{n=await Eb()}catch{try{n=await tz(e.user)}catch(i){console.error("Failed to create user profile:",i)}}return n?{id:e.user.id,email:e.user.email,profile:n}:null}catch{return null}},$de=()=>fb({queryKey:Sa.session(),queryFn:Ide,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:"always",refetchOnReconnect:!1,networkMode:"offlineFirst"}),Rde=()=>{const e=Ra();return kc({mutationFn:async({email:t,password:n})=>{try{const{data:s,error:i}=await Mr.auth.signInWithPassword({email:t,password:n});if(i){const o={"Invalid login credentials":"Email ou mot de passe incorrect","Email not confirmed":"Veuillez confirmer votre email avant de vous connecter","Too many requests":"Trop de tentatives de connexion. Veuillez réessayer plus tard"}[i.message]||i.message;throw new Error(o)}if(!s.user||!s.session)throw new Error("Échec de connexion - session invalide");return s.user}catch(s){throw s}},onSuccess:async()=>{await new Promise(t=>setTimeout(t,100)),e.refetchQueries({queryKey:Sa.session()})},onError:()=>{e.setQueryData(Sa.session(),null)}})},Lde=()=>{const e=Ra();return kc({mutationFn:async()=>{await Dde()},onSuccess:()=>{e.setQueryData(Sa.session(),null),e.removeQueries({queryKey:Sa.session()})}})},Fde=()=>{const e=Ra();return kc({mutationFn:async()=>{const t=await Eb();if(!t)throw new Error("Could not refresh profile");return t},onSuccess:()=>{e.invalidateQueries({queryKey:Sa.session()})}})},nz=w.createContext(void 0);function Bde({children:e}){const{data:t,isLoading:n,error:s}=$de(),i=Rde(),a=Lde(),o=Fde(),l=Ra(),[c,u]=w.useState(!1),d=w.useRef(!1);w.useEffect(()=>{if(d.current)return;d.current=!0;const{data:{subscription:N}}=Mr.auth.onAuthStateChange((b,P)=>{b==="SIGNED_OUT"?(l.setQueryData(Sa.session(),null),l.removeQueries({queryKey:Sa.session()})):b==="TOKEN_REFRESHED"&&P&&l.invalidateQueries({queryKey:Sa.session()}),c||u(!0)}),j=setTimeout(()=>{c||u(!0)},2e3);return()=>{N.unsubscribe(),clearTimeout(j),d.current=!1}},[l,c]);const f=async(N,j)=>{try{return await i.mutateAsync({email:N,password:j}),!0}catch(b){return console.error("Login error:",b),!1}},m=async()=>{try{await a.mutateAsync()}catch(N){console.error("Logout error:",N),l.setQueryData(Sa.session(),null)}},g=async()=>{await o.mutateAsync()},x=!c||n&&!s&&t===void 0,v=i.isPending||a.isPending,y={user:t||null,isAuthenticated:!!t&&c,isLoading:x||v,login:f,logout:m,refreshProfile:g};return r.jsx(nz.Provider,{value:y,children:e})}function Mc(){const e=w.useContext(nz);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function CI(){const{user:e,logout:t}=Mc(),{toast:n}=Ft(),s=pb(),[i,a]=w.useState(!1),o=async()=>{a(!0),await new Promise(d=>setTimeout(d,500)),t(),n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."}),a(!1)};if(!e)return null;const l=d=>d?d.split(" ").map(f=>f.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),c=d=>{switch(d){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},u=d=>{switch(d){case"admin":return r.jsx(yi,{className:"h-3 w-3"});case"assistant":return r.jsx(Wr,{className:"h-3 w-3"});default:return r.jsx(Wr,{className:"h-3 w-3"})}};return r.jsxs(Kle,{children:[r.jsx(Yle,{asChild:!0,children:r.jsx(W,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:r.jsx(Hr,{className:"h-8 w-8",children:r.jsx(Gr,{className:"bg-primary text-primary-foreground text-sm",children:l(e.profile.full_name)})})})}),r.jsxs(x8,{className:"w-56",align:"end",forceMount:!0,children:[r.jsx(y8,{className:"font-normal",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("p",{className:"text-sm font-medium leading-none",children:e.profile.full_name||e.profile.username}),r.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email}),r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u(e.profile.role),r.jsx("span",{className:"text-xs text-muted-foreground",children:c(e.profile.role)})]})]})}),r.jsx(C2,{}),r.jsxs(zy,{className:"cursor-pointer",onClick:()=>s("/profile"),children:[r.jsx(Wr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Profil"})]}),r.jsxs(zy,{className:"cursor-pointer",onClick:()=>s("/auth-settings"),children:[r.jsx(Kte,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Paramètres de connexion"})]}),r.jsx(C2,{}),r.jsxs(zy,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:o,disabled:i,children:[r.jsx(Z5,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:i?"Déconnexion...":"Se déconnecter"})]})]})]})}const rz=[{icon:Wte,label:"Dashboard",path:"/dashboard"},{icon:ka,label:"Clients",path:"/clients"},{icon:Yt,label:"Animaux",path:"/pets"},{icon:wt,label:"RDV",path:"/appointments"},{icon:lr,label:"Consultations",path:"/consultations"},{icon:As,label:"Vaccinations",path:"/vaccinations"},{icon:rc,label:"Antiparasites",path:"/antiparasites"},{icon:J5,label:"Historiques",path:"/history"},{icon:QC,label:"Farm Mgmt",path:"/farm"}],sz=[{icon:Hn,label:"Stock",path:"/stock"},{icon:X5,label:"Comptabilité",path:"/accounting"},{icon:Bte,label:"Paramètres",path:"/settings"}],zde=[...rz,...sz];function us(){const e=ud(),[t,n]=w.useState(!1);return r.jsx("nav",{className:"bg-card border-b shadow-card",children:r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[r.jsxs(wa,{to:"/dashboard",className:"flex items-center gap-1 sm:gap-2",children:[r.jsx(Yt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-primary"}),r.jsx("h1",{className:"text-lg sm:text-xl font-bold gradient-primary bg-clip-text text-transparent hidden sm:block",children:"VetPro CRM"}),r.jsx("h1",{className:"text-base sm:text-lg font-bold gradient-primary bg-clip-text text-transparent sm:hidden",children:"VetPro"})]}),r.jsx("div",{className:"hidden sm:block",children:r.jsx(YM,{})})]}),r.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[rz.map(s=>r.jsx(W,{variant:e.pathname===s.path?"default":"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",asChild:!0,children:r.jsxs(wa,{to:s.path,children:[r.jsx(s.icon,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden xl:inline",children:s.label})]})},s.path)),r.jsxs("div",{className:"relative group",children:[r.jsxs(W,{variant:"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",children:[r.jsx(fM,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden xl:inline",children:"Plus"})]}),r.jsx("div",{className:"absolute right-0 top-full mt-1 w-40 bg-card border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:r.jsx("div",{className:"py-1",children:sz.map(s=>r.jsxs(wa,{to:s.path,className:`flex items-center gap-2 px-4 py-2 text-sm transition-colors hover:bg-muted ${e.pathname===s.path?"bg-primary text-primary-foreground":""}`,children:[r.jsx(s.icon,{className:"h-4 w-4"}),s.label]},s.path))})})]})]}),r.jsx("div",{className:"hidden lg:flex items-center gap-2",children:r.jsx(CI,{})}),r.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[r.jsx("div",{className:"sm:hidden",children:r.jsx(YM,{})}),r.jsx(CI,{}),r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>n(!t),className:"gap-1 p-2",children:t?r.jsx(ib,{className:"h-4 w-4"}):r.jsx(fM,{className:"h-4 w-4"})})]})]}),t&&r.jsx("div",{className:"lg:hidden mt-2 pt-2 border-t",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1",children:zde.map(s=>r.jsx(W,{variant:e.pathname===s.path?"default":"ghost",size:"sm",className:"gap-2 justify-start text-xs sm:text-sm",asChild:!0,onClick:()=>n(!1),children:r.jsxs(wa,{to:s.path,children:[r.jsx(s.icon,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"truncate",children:s.label})]})},s.path))})})]})})}class Vde extends w.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n})}render(){var t,n;return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-8",children:r.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-lg shadow-lg border border-red-200",children:[r.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-4",children:"🚨 Erreur dans l'application"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Erreur :"}),r.jsx("pre",{className:"bg-red-100 p-4 rounded text-sm text-red-800 overflow-auto",children:(t=this.state.error)==null?void 0:t.toString()})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Stack Trace :"}),r.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm text-gray-800 overflow-auto max-h-64",children:(n=this.state.errorInfo)==null?void 0:n.componentStack})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Recharger la page"}),r.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Retour"})]})]})]})}):this.props.children}}const iz=w.createContext(void 0),PI=[{id:1,name:"Marie Dubois",firstName:"Marie",lastName:"Dubois",email:"marie.dubois@email.com",phone:"06 12 34 56 78",address:"123 Rue de la Paix",city:"Paris",postalCode:"75001",idNumber:"1234567890123",pets:[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",gender:"female",birthDate:"2021-03-15",weight:"28 kg",color:"Doré",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:4,name:"Luna",type:"Chat",breed:"Siamois",gender:"female",birthDate:"2022-05-12",weight:"3.8 kg",color:"Crème et marron",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-08",nextAppointment:"2024-02-08",microchip:"982000111222333",vaccinations:["Rage","FVRCP","FeLV"]}],lastVisit:"2024-01-15",totalVisits:12},{id:2,name:"Jean Martin",firstName:"Jean",lastName:"Martin",email:"jean.martin@email.com",phone:"06 98 76 54 32",address:"45 Avenue des Roses",city:"Lyon",postalCode:"69000",idNumber:"9876543210987",pets:[{id:2,name:"Whiskers",type:"Chat",breed:"Persan",gender:"male",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]}],lastVisit:"2024-01-10",totalVisits:8},{id:3,name:"Sophie Leroux",firstName:"Sophie",lastName:"Leroux",email:"sophie.leroux@email.com",phone:"06 45 67 89 12",address:"78 Boulevard Maritime",city:"Marseille",postalCode:"13000",idNumber:"4567891234567",pets:[{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",gender:"male",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]},{id:5,name:"Max",type:"Chien",breed:"Labrador",gender:"male",birthDate:"2020-09-03",weight:"30 kg",color:"Noir",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-22",nextAppointment:"2024-02-22",microchip:"982000444555666",vaccinations:["Rage","DHPP","Lyme","Bordetella"]}],lastVisit:"2024-01-18",totalVisits:15}],Hm=[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",birthDate:"2021-03-15",weight:"28 kg",color:"Doré",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:2,name:"Whiskers",type:"Chat",breed:"Persan",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]},{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]}],Zx=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",weight:"28.2 kg",temperature:"38.5",symptoms:"Contrôle annuel, bonne santé générale",diagnosis:"Aucun problème détecté",treatment:"Vaccination annuelle",medications:"Rappel vaccin DHPP",followUp:"Contrôle dans 1 an",cost:"85.00",notes:"Animal en excellente santé",photos:[],createdAt:"2024-01-15T10:30:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",weight:"4.3 kg",temperature:"39.2",symptoms:"Perte d'appétit, léthargie",diagnosis:"Infection urinaire",treatment:"Antibiotiques",medications:"Amoxicilline 50mg 2x/jour pendant 7 jours",followUp:"Contrôle dans 1 semaine",cost:"120.00",notes:"Surveiller la consommation d'eau",photos:[],createdAt:"2024-01-10T14:15:00Z"}],ey=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-25",time:"14:30",type:"vaccination",duration:30,reason:"Vaccination annuelle",notes:"Rappel vaccinal complet",status:"scheduled",reminderSent:!1,createdAt:"2024-01-20T09:00:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-22",time:"10:00",type:"controle",duration:45,reason:"Contrôle post-traitement",notes:"Vérifier l'amélioration de l'appétit",status:"confirmed",reminderSent:!0,createdAt:"2024-01-18T16:30:00Z"},{id:3,clientId:3,clientName:"Sophie Leroux",petId:3,petName:"Rex",date:"2024-01-26",time:"16:00",type:"sterilisation",duration:60,reason:"Stérilisation",notes:"Jeûne 12h avant l'intervention",status:"scheduled",reminderSent:!1,createdAt:"2024-01-19T11:15:00Z"}],ty=[{id:1,consultationId:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",prescribedBy:"Dr. Martin",diagnosis:"Trachéobronchite",medications:[{id:1,name:"Doxycycline",dosage:"100mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprimés",refills:0,cost:25.5},{id:2,name:"Sirop antitussif",dosage:"5ml",frequency:"3x/jour",duration:"5 jours",instructions:"Donner 30 minutes avant les repas",quantity:75,unit:"ml",refills:1,cost:15}],instructions:"Surveiller la température et l'appétit. Retour en cas d'aggravation.",duration:"7 jours",followUpDate:"2024-01-22",status:"active",notes:"Patient calme, bon appétit maintenu",createdAt:"2024-01-15T10:30:00Z"},{id:2,consultationId:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",prescribedBy:"Dr. Martin",diagnosis:"Infection urinaire",medications:[{id:3,name:"Amoxicilline",dosage:"50mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprimés",refills:0,cost:18}],instructions:"Augmenter la consommation d'eau. Surveiller les urines.",duration:"7 jours",followUpDate:"2024-01-17",status:"completed",notes:"Amélioration progressive",createdAt:"2024-01-10T14:15:00Z"}],ny=[{id:1,name:"Ferme des Prairies",owner:"Pierre Durand",address:"123 Route de la Campagne, 45000 Orléans",coordinates:{latitude:47.9056,longitude:1.919},phone:"02 38 45 67 89",email:"p.durand@fermedespra.fr",types:["Bovin laitier"],totalAnimals:85,animalDetails:[{category:"Bovins laitiers",maleCount:3,femaleCount:82,breeds:["Holstein","Prim'Holstein"],ageGroups:["Veaux (0-6 mois)","Génisses (6-24 mois)","Vaches adultes"]}],lastVisit:"2024-01-15",status:"active",veterinarian:"Dr. Dupont",notes:"Exploitation bien gérée, animaux en bonne santé",registrationNumber:"FR45123456789",surfaceArea:45.5,buildingDetails:"Étable moderne 850m², stabulation libre, salle de traite 2x8",equipmentDetails:"Tracteur John Deere, Tank à lait 2000L, Système de ventilation automatique",certifications:["Agriculture Biologique","Haute Valeur Environnementale"],insuranceDetails:"Groupama - Police n°123456789",emergencyContact:{name:"Marie Durand",phone:"06 12 34 56 78",relation:"Épouse"},photos:[{id:"photo_1",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBDaGVwdGVsPC90ZXh0Pgo8L3N2Zz4K",description:"Vaches Holstein dans le pré",category:"cheptel",uploadedAt:"2024-01-15T10:00:00Z"},{id:"photo_2",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBCw6J0aW1lbnRzPC90ZXh0Pgo8L3N2Zz4K",description:"Étable moderne avec salle de traite",category:"batiments",uploadedAt:"2024-01-15T10:00:00Z"}],createdAt:"2024-01-01T09:00:00Z"},{id:2,name:"Élevage Martin",owner:"Jean-Luc Martin",address:"456 Chemin des Champs, 41000 Blois",coordinates:{latitude:47.5886,longitude:1.334},phone:"02 54 78 90 12",email:"jl.martin@elevagemartin.fr",types:["Porcin"],totalAnimals:150,animalDetails:[{category:"Porcs",maleCount:75,femaleCount:75,breeds:["Large White","Landrace"],ageGroups:["Porcelets (0-2 mois)","Porcs en croissance (2-6 mois)"]}],lastVisit:"2024-01-10",status:"active",veterinarian:"Dr. Martin",notes:"Nouveau système de ventilation installé",registrationNumber:"FR41987654321",surfaceArea:28.3,buildingDetails:"Porcherie 600m², nurserie 200m², système de ventilation automatique",equipmentDetails:"Système d'alimentation automatique, Pompe à lisier, Générateur de secours",certifications:["Label Rouge"],insuranceDetails:"Crédit Agricole Assurances - Police n°987654321",emergencyContact:{name:"Sophie Martin",phone:"06 98 76 54 32",relation:"Sœur"},createdAt:"2024-01-02T10:30:00Z"},{id:3,name:"Ferme Avicole Leroux",owner:"Marie Leroux",address:"789 Avenue des Volailles, 37000 Tours",coordinates:{latitude:47.3936,longitude:.6848},phone:"02 47 12 34 56",email:"m.leroux@avicole-leroux.fr",types:["Avicole"],totalAnimals:2500,animalDetails:[{category:"Poules pondeuses",maleCount:50,femaleCount:2e3,breeds:["ISA Brown","Lohmann Brown"],ageGroups:["Poussins (0-18 semaines)","Pondeuses (18+ semaines)"]},{category:"Poulets de chair",maleCount:225,femaleCount:225,breeds:["Cobb 500","Ross 308"],ageGroups:["0-6 semaines"]}],lastVisit:"2024-01-18",status:"attention",veterinarian:"Dr. Dupont",notes:"Problème de ventilation détecté, surveillance renforcée",registrationNumber:"FR37555666777",surfaceArea:12.8,buildingDetails:"Poulailler automatisé 1200m², aire de parcours 5000m²",equipmentDetails:"Système de ramassage automatique des œufs, Ventilation programmable, Éclairage LED",certifications:["Œufs de France","Bien-être animal"],insuranceDetails:"MMA - Police n°555666777",emergencyContact:{name:"Paul Leroux",phone:"06 47 12 34 56",relation:"Fils"},createdAt:"2024-01-03T14:15:00Z"},{id:4,name:"Ferme Équine du Val",owner:"Sophie Moreau",address:"12 Chemin des Écuries, 78000 Versailles",coordinates:{latitude:48.8044,longitude:2.1232},phone:"01 39 50 12 34",email:"s.moreau@fermeequine.fr",types:["Équin"],totalAnimals:25,animalDetails:[{category:"Chevaux",maleCount:8,femaleCount:17,breeds:["Pur-sang","Selle français","Arabe"],ageGroups:["Poulains (0-3 ans)","Jeunes chevaux (3-7 ans)","Chevaux adultes (7+ ans)"]}],lastVisit:"2024-01-20",status:"active",veterinarian:"Dr. Martin",notes:"Écurie de prestige, chevaux de compétition",registrationNumber:"FR78123456789",surfaceArea:15.2,buildingDetails:"Écuries 800m², manège couvert 1200m², carrière extérieure 2000m²",equipmentDetails:"Tracteur, Système d'arrosage automatique, Éclairage LED, Système de sécurité",certifications:["Bien-être animal","Équitation de tradition française"],insuranceDetails:"Allianz - Police n°781234567",emergencyContact:{name:"Marc Moreau",phone:"06 12 34 56 78",relation:"Époux"},createdAt:"2024-01-04T08:30:00Z"},{id:5,name:"Rucher des Fleurs",owner:"Jean Dupuis",address:"45 Route des Champs, 13000 Marseille",coordinates:{latitude:43.2965,longitude:5.3698},phone:"04 91 23 45 67",email:"j.dupuis@rucherdesfleurs.fr",types:["Apiculture"],totalAnimals:120,animalDetails:[{category:"Abeilles",maleCount:0,femaleCount:120,breeds:["Abeille noire","Buckfast"],ageGroups:["Reines (1-3 ans)","Ouvrières (6 semaines)","Faux-bourdons (3 mois)"]}],lastVisit:"2024-01-12",status:"active",veterinarian:"Dr. Dupont",notes:"Production de miel de qualité, apiculture biologique",registrationNumber:"FR13123456789",surfaceArea:8.5,buildingDetails:"Miellerie 200m², entrepôt 150m², zone de conditionnement 100m²",equipmentDetails:"Extracteur de miel, Centrifugeuse, Filtres, Matériel de conditionnement",certifications:["Agriculture Biologique","Miel de France"],insuranceDetails:"MAIF - Police n°131234567",emergencyContact:{name:"Marie Dupuis",phone:"06 91 23 45 67",relation:"Épouse"},createdAt:"2024-01-05T11:15:00Z"}],ry=[{id:1,date:"2024-01-20",farmId:1,farmName:"Ferme des Prairies",type:"vaccination",animals:"15 bovins",veterinarian:"Dr. Dupont",description:"Vaccination contre la fièvre aphteuse",status:"completed",followUp:"Contrôle dans 6 mois",cost:450,notes:"Intervention réussie, aucun effet secondaire",createdAt:"2024-01-20T08:00:00Z"},{id:2,date:"2024-01-18",farmId:3,farmName:"Ferme Avicole Leroux",type:"urgence",animals:"50 poules",veterinarian:"Dr. Dupont",description:"Traitement infection respiratoire",status:"ongoing",followUp:"Suivi hebdomadaire",cost:320,notes:"Traitement antibiotique en cours",createdAt:"2024-01-18T14:30:00Z"},{id:3,date:"2024-01-15",farmId:2,farmName:"Élevage Martin",type:"controle",animals:"Tous les porcins",veterinarian:"Dr. Martin",description:"Contrôle sanitaire trimestriel",status:"completed",followUp:"Prochain contrôle en avril",cost:280,notes:"Tous les paramètres dans les normes",createdAt:"2024-01-15T10:00:00Z"}],sy=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"DHPP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2025-01-15",batchNumber:"VAC2024-001",veterinarian:"Dr. Martin",notes:"Première vaccination annuelle",status:"completed",cost:"45.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-12-31",createdAt:"2024-01-15T10:30:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Rage",vaccineType:"rabies",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2027-01-15",batchNumber:"RAB2024-005",veterinarian:"Dr. Martin",notes:"Vaccination antirabique obligatoire",status:"completed",cost:"35.00",location:"right_shoulder",manufacturer:"Merial",expirationDate:"2026-08-15",createdAt:"2024-01-15T10:45:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:3,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",vaccineName:"FVRCP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2023-08-22",nextDueDate:"2024-08-22",batchNumber:"CAT2023-012",veterinarian:"Dr. Dupont",notes:"Vaccination de base pour chat",status:"overdue",cost:"40.00",location:"subcutaneous",manufacturer:"Virbac",expirationDate:"2025-06-30",createdAt:"2023-08-22T14:20:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:4,petId:3,petName:"Rex",clientId:3,clientName:"Sophie Leroux",vaccineName:"Bordetella",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-18",nextDueDate:"2025-01-18",batchNumber:"BOR2024-008",veterinarian:"Dr. Martin",notes:"Vaccination contre la toux de chenil",status:"completed",cost:"30.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-09-30",createdAt:"2024-01-18T16:15:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:5,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Lyme",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-25",nextDueDate:"2024-04-25",batchNumber:"LYM2024-003",veterinarian:"Dr. Martin",notes:"Vaccination contre la maladie de Lyme",status:"scheduled",cost:"50.00",location:"left_hip",manufacturer:"Boehringer Ingelheim",expirationDate:"2025-11-20",createdAt:"2024-01-25T09:00:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1}],Dl=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",productName:"Frontline Combo Spot-On",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",dateGiven:"2024-01-10",nextDueDate:"2024-02-10",dosage:"1 pipette",administrationRoute:"topical",veterinarian:"Dr. Martin",notes:"Application entre les omoplates",batchNumber:"FRC2024-001",manufacturer:"Boehringer Ingelheim",weight:"28kg",status:"completed",cost:"25.50",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",productName:"Milbemax Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cœur",dateGiven:"2024-01-05",nextDueDate:"2024-04-05",dosage:"1/2 comprimé",administrationRoute:"oral",veterinarian:"Dr. Dupont",notes:"Donné avec la nourriture",batchNumber:"MLX2024-008",manufacturer:"Novartis",weight:"4.5kg",status:"completed",cost:"18.00",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1}],Gm=[{id:1,name:"Frontline Combo Spot-On",species:"Chien",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",description:"Protection complète contre puces et tiques pendant 8 semaines",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"2-60kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!0,notes:"Éviter le bain 48h avant et après application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:2,name:"NexGard Spectra",species:"Chien",productType:"combined",targetParasites:"Puces, Tiques, Vers du cœur, Vers ronds, Vers plats",description:"Protection combinée externe et interne mensuelle",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Première dose"},{offsetDays:30,label:"Dose mensuelle"}],weightRange:"2-60kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!1,notes:"Donner avec la nourriture pour une meilleure absorption",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:3,name:"Drontal Plus",species:"Chien",productType:"worming",targetParasites:"Vers ronds, Vers plats, Ankylostomes, Trichures",description:"Vermifugation large spectre",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Première vermifugation"},{offsetDays:90,label:"Rappel trimestriel"},{offsetDays:180,label:"Rappel semestriel"}],weightRange:"2-35kg",ageRequirement:"Dès 2 semaines",seasonalTreatment:!1,notes:"Administrer le matin à jeun, répéter selon exposition aux parasites",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:4,name:"Advocate Spot-On",species:"Chien",productType:"combined",targetParasites:"Puces, Vers du cœur, Vers ronds, Ankylostomes, Gale sarcoptique",description:"Protection topique combinée mensuelle",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"1-40kg",ageRequirement:"Dès 7 semaines",seasonalTreatment:!1,notes:"Appliquer sur peau sèche entre les omoplates",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:5,name:"Frontline Combo Chat",species:"Chat",productType:"flea_tick",targetParasites:"Puces, Tiques",description:"Protection mensuelle contre puces et tiques chez le chat",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"1-8kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!0,notes:"Attention aux réactions cutanées, surveiller 24h après application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:6,name:"Stronghold Plus",species:"Chat",productType:"combined",targetParasites:"Puces, Vers du cœur, Vers ronds, Ankylostomes, Gale des oreilles",description:"Protection combinée mensuelle pour chats",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"0.5-8kg",ageRequirement:"Dès 6 semaines",seasonalTreatment:!1,notes:"Efficace contre gale des oreilles en 1 application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:7,name:"Milbemax Chat",species:"Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cœur",description:"Vermifugation complète pour chats",manufacturer:"Novartis",intervals:[{offsetDays:0,label:"Première vermifugation"},{offsetDays:90,label:"Rappel trimestriel"}],weightRange:"0.5-8kg",ageRequirement:"Dès 6 semaines",seasonalTreatment:!1,notes:"Comprimés appétents, peut être donné avec ou sans nourriture",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:8,name:"Eprinex Pour-On",species:"Bovins",productType:"external",targetParasites:"Mouches, Poux, Gales, Vers gastro-intestinaux",description:"Traitement pour-on systémique pour bovins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application unique"},{offsetDays:84,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Tous âges",seasonalTreatment:!0,notes:"Temps d'attente viande: 15 jours, lait: 0 jour",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:9,name:"Panacur 100",species:"Bovins",productType:"worming",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires",description:"Vermifuge oral pour bovins",manufacturer:"MSD",intervals:[{offsetDays:0,label:"Traitement initial"},{offsetDays:120,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Dès 2 semaines",seasonalTreatment:!1,notes:"Temps d'attente viande: 14 jours, lait: 3 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:10,name:"Cydectin 0.1%",species:"Ovins",productType:"combined",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires, Gales",description:"Traitement injectable pour ovins et caprins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Injection unique"},{offsetDays:90,label:"Rappel saisonnier"}],weightRange:"10-100kg",ageRequirement:"Dès 4 semaines",seasonalTreatment:!0,notes:"Temps d'attente viande: 35 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],_I=[{id:1,name:"Amoxicilline 500mg",category:"medication",subcategory:"Antibiotique",description:"Antibiotique à large spectre",manufacturer:"Boehringer Ingelheim",batchNumber:"AMX2024001",dosage:"500mg",unit:"box",currentStock:15,minimumStock:5,maximumStock:50,purchasePrice:20,sellingPrice:25.5,totalValue:300,expirationDate:"2025-12-31",supplier:"Pharmacie Vétérinaire Centrale",location:"Armoire A - Étagère 1",notes:"Stockage à température ambiante",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-15",isActive:!0,barcode:"1234567890123",sku:"MED-AMX-500"},{id:2,name:"Frontline Combo Spot-On",category:"medication",subcategory:"Antiparasitaire",description:"Traitement contre puces et tiques",manufacturer:"Boehringer Ingelheim",batchNumber:"FRC2024001",dosage:"1 pipette",unit:"pack",currentStock:8,minimumStock:10,maximumStock:100,purchasePrice:15,sellingPrice:18.75,totalValue:120,expirationDate:"2026-06-30",supplier:"VetoSupply Maroc",location:"Armoire B - Étagère 2",notes:"Pour chiens 20-40kg",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-10",isActive:!0,barcode:"2345678901234",sku:"ANT-FRONT-20-40"},{id:3,name:"DHPP Canine",category:"vaccine",subcategory:"Vaccin Core",description:"Vaccin contre Distemper, Hépatite, Parvovirus, Parainfluenza",manufacturer:"Merial",batchNumber:"DHPP2024001",dosage:"1 dose",unit:"vial",currentStock:25,minimumStock:10,maximumStock:100,purchasePrice:9.5,sellingPrice:12,totalValue:237.5,expirationDate:"2025-08-15",supplier:"Vaccins Vétérinaires SA",location:"Réfrigérateur - Étagère 1",notes:"Conservation 2-8°C",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-20",isActive:!0,barcode:"3456789012345",sku:"VAC-DHPP-001"},{id:4,name:"Rage Canine",category:"vaccine",subcategory:"Vaccin Obligatoire",description:"Vaccin antirabique obligatoire",manufacturer:"Merial",batchNumber:"RAB2024001",dosage:"1 dose",unit:"vial",currentStock:12,minimumStock:5,maximumStock:50,purchasePrice:12,sellingPrice:15,totalValue:144,expirationDate:"2025-10-20",supplier:"Vaccins Vétérinaires SA",location:"Réfrigérateur - Étagère 2",notes:"Conservation 2-8°C - Obligatoire",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-18",isActive:!0,barcode:"4567890123456",sku:"VAC-RAB-001"},{id:5,name:"Seringues 5ml",category:"consumable",subcategory:"Matériel d'injection",description:"Seringues stériles 5ml avec aiguilles",manufacturer:"BD Medical",batchNumber:"SYR2024001",dosage:"5ml",unit:"box",currentStock:50,minimumStock:20,maximumStock:200,purchasePrice:.35,sellingPrice:.45,totalValue:17.5,expirationDate:"2027-03-15",supplier:"Matériel Médical Pro",location:"Armoire C - Étagère 1",notes:"Stériles, usage unique",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-12",isActive:!0,barcode:"5678901234567",sku:"CON-SYR-5ML"},{id:6,name:"Masques chirurgicaux",category:"consumable",subcategory:"Protection",description:"Masques chirurgicaux jetables",manufacturer:"3M",batchNumber:"MSK2024001",dosage:"1 unité",unit:"box",currentStock:200,minimumStock:50,maximumStock:500,purchasePrice:.12,sellingPrice:.15,totalValue:24,expirationDate:"2026-12-31",supplier:"Protection Médicale",location:"Armoire D - Étagère 1",notes:"Type IIR, boîte de 50",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-08",isActive:!0,barcode:"6789012345678",sku:"CON-MSK-50"},{id:7,name:"Gants nitrile",category:"consumable",subcategory:"Protection",description:"Gants nitrile non poudrés",manufacturer:"Ansell",batchNumber:"GNT2024001",dosage:"1 paire",unit:"box",currentStock:30,minimumStock:10,maximumStock:100,purchasePrice:.2,sellingPrice:.25,totalValue:6,expirationDate:"2026-08-20",supplier:"Protection Médicale",location:"Armoire D - Étagère 2",notes:"Taille M, boîte de 100",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-05",isActive:!0,barcode:"7890123456789",sku:"CON-GNT-M-100"},{id:8,name:"Thermomètre digital",category:"equipment",subcategory:"Diagnostic",description:"Thermomètre digital vétérinaire",manufacturer:"Gima",batchNumber:"THM2024001",dosage:"1 unité",unit:"unit",currentStock:3,minimumStock:2,maximumStock:10,purchasePrice:35,sellingPrice:45,totalValue:105,expirationDate:void 0,supplier:"Équipement Vétérinaire",location:"Bureau - Tiroir 1",notes:"Résistant à l'eau, écran LCD",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-03",isActive:!0,barcode:"8901234567890",sku:"EQP-THM-DIG"},{id:9,name:"Vitamines B Complex",category:"supplement",subcategory:"Vitamines",description:"Complexe vitaminique B pour animaux",manufacturer:"Virbac",batchNumber:"VIT2024001",dosage:"1ml",unit:"bottle",currentStock:5,minimumStock:3,maximumStock:20,purchasePrice:6.5,sellingPrice:8.5,totalValue:32.5,expirationDate:"2025-11-30",supplier:"Suppléments Vétérinaires",location:"Armoire A - Étagère 3",notes:"Flacon 50ml",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-14",isActive:!0,barcode:"9012345678901",sku:"SUP-VIT-B-50"}],iy=[{id:1,name:"DAPP (DHPP)",species:"Chien",vaccineType:"core",description:"Distemper, Adénovirus, Parvovirus, Parainfluenza - Vaccination essentielle",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"J0 (première injection)"},{offsetDays:21,label:"21 jours (2e injection)"},{offsetDays:42,label:"42 jours (3e injection)"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"6-8 semaines (renforcer jusqu'à 16 semaines)",notes:"Protocole d'initiation à 6-8-12-16 semaines puis rappel à 1 an, puis triennal",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:2,name:"Rage (Rabies)",species:"Chien",vaccineType:"rabies",description:"Vaccination antirabique obligatoire selon la législation locale",manufacturer:"Merial",intervals:[{offsetDays:0,label:"À l'âge de 12 semaines minimum"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"12 semaines minimum",notes:"Rappel annuel ou biennal selon réglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:3,name:"Bordetella bronchiseptica",species:"Chien",vaccineType:"non-core",description:"Protection contre la toux de chenil",manufacturer:"Zoetis",intervals:[{offsetDays:8,label:"8 semaines"}],ageRequirement:"8 semaines",notes:"Vaccination intracellulaire recommandée pour chiens en collectivité",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:4,name:"Leptospirose",species:"Chien",vaccineType:"non-core",description:"Protection contre les sérovars pathogènes de Leptospira",manufacturer:"Virbac",intervals:[{offsetDays:12,label:"12 semaines"}],ageRequirement:"12 semaines",notes:"Double sérovariels recommandé",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:5,name:"RCP (FVRCP)",species:"Chat",vaccineType:"core",description:"Calicivirose, Panleucopénie, Rhinotrachéite virale féline",manufacturer:"Virbac",intervals:[{offsetDays:0,label:"6 semaines"},{offsetDays:21,label:"12 semaines"},{offsetDays:28,label:"1 an"}],ageRequirement:"6-8-12 semaines",notes:"Renforcement à 1 an puis rappel triennal ou annuel selon protocole",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:6,name:"Rage (Rabies)",species:"Chat",vaccineType:"rabies",description:"Vaccination antirabique selon réglementation voyage",manufacturer:"Merial",intervals:[{offsetDays:365,label:"1 an"},{offsetDays:730,label:"2 ans"}],ageRequirement:"12 semaines",notes:"Rappel annuel ou biennal selon réglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:7,name:"Distemper furet (Maladie de Carré)",species:"Furet",vaccineType:"core",description:"Protection contre le morbillivirus (Carré)",manufacturer:"Merial",intervals:[{offsetDays:6,label:"6 semaines"},{offsetDays:12,label:"8 semaines"}],ageRequirement:"6-8 semaines",notes:"Protocole similaire à celui des chiens",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:8,name:"Myxomatose",species:"Lapin",vaccineType:"core",description:"Protection contre la myxomatose",manufacturer:"Virbac",intervals:[{offsetDays:180,label:"180 jours"}],ageRequirement:"5-6 semaines",notes:"Vaccination semestrielle",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:9,name:"VHD (Maladie hémorragique virale)",species:"Lapin",vaccineType:"core",description:"Protection contre VHD de type 1 et 2",manufacturer:"Virbac",intervals:[{offsetDays:6,label:"6 semaines"}],ageRequirement:"6 semaines",notes:"Rappel annuel",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"}];function cE({children:e}){const t=()=>{try{const X=localStorage.getItem("vetpro-clients"),ue=localStorage.getItem("vetpro-pets"),ge=localStorage.getItem("vetpro-consultations"),qe=localStorage.getItem("vetpro-appointments"),Je=localStorage.getItem("vetpro-prescriptions"),ze=localStorage.getItem("vetpro-farms"),et=localStorage.getItem("vetpro-farmInterventions"),vn=localStorage.getItem("vetpro-vaccinations"),sn=localStorage.getItem("vetpro-vaccinationProtocols"),dt=localStorage.getItem("vetpro-antiparasitics"),$n=localStorage.getItem("vetpro-antiparasiticProtocols"),Qr=localStorage.getItem("vetpro-stockItems"),sa=localStorage.getItem("vetpro-stockAlerts"),za=localStorage.getItem("vetpro-stockMovements"),Sd=localStorage.getItem("vetpro-accountingEntries");if(X&&ue){const sN=JSON.parse(X),xm=JSON.parse(ue),iN=ge?JSON.parse(ge):Zx,aN=qe?JSON.parse(qe):ey,oN=Je?JSON.parse(Je):ty,lN=ze?JSON.parse(ze):ny,ym=et?JSON.parse(et):ry,cN=vn?JSON.parse(vn):sy,uN=sn?JSON.parse(sn):iy,dN=dt?JSON.parse(dt):Dl,hN=$n?JSON.parse($n):Gm,fN=Qr?JSON.parse(Qr):_I,Pn=sa?JSON.parse(sa):[],Nn=za?JSON.parse(za):[],mN=Sd?JSON.parse(Sd):[];return console.log("   Should use initial?",!dt),console.log("   initialAntiparasitics length:",Dl.length),{clients:sN.map($v=>({...$v,pets:xm.filter(pN=>pN.ownerId===$v.id)})),pets:xm,consultations:iN,appointments:aN,prescriptions:oN,farms:lN,farmInterventions:ym,vaccinations:cN,vaccinationProtocols:uN,antiparasitics:dN,antiparasiticProtocols:hN,stockItems:fN,stockAlerts:Pn,stockMovements:Nn,accountingEntries:mN}}}catch(X){console.error("Erreur lors du chargement des données:",X)}return{clients:PI.map(X=>({...X,pets:Hm.filter(ue=>ue.ownerId===X.id)})),pets:Hm,consultations:Zx,appointments:ey,prescriptions:ty,farms:ny,farmInterventions:ry,vaccinations:sy,vaccinationProtocols:iy,antiparasitics:Dl,antiparasiticProtocols:Gm,stockItems:_I,stockAlerts:[],stockMovements:[],accountingEntries:[]}},n=(ne,X,ue,ge=d,qe=m,Je=x,ze=y,et=j,vn=P,sn=_,dt=E,$n=I,Qr=k,sa=L,za=q)=>{try{localStorage.setItem("vetpro-clients",JSON.stringify(ne)),localStorage.setItem("vetpro-pets",JSON.stringify(X)),localStorage.setItem("vetpro-consultations",JSON.stringify(ue)),localStorage.setItem("vetpro-appointments",JSON.stringify(ge)),localStorage.setItem("vetpro-prescriptions",JSON.stringify(qe)),localStorage.setItem("vetpro-farms",JSON.stringify(Je)),localStorage.setItem("vetpro-farmInterventions",JSON.stringify(ze)),localStorage.setItem("vetpro-vaccinations",JSON.stringify(et)),localStorage.setItem("vetpro-vaccinationProtocols",JSON.stringify(vn)),localStorage.setItem("vetpro-antiparasitics",JSON.stringify(sn)),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(dt)),localStorage.setItem("vetpro-stockItems",JSON.stringify($n)),localStorage.setItem("vetpro-stockAlerts",JSON.stringify(Qr)),localStorage.setItem("vetpro-stockMovements",JSON.stringify(sa)),localStorage.setItem("vetpro-accountingEntries",JSON.stringify(za)),console.log("saveDataToStorage - antiparasitics saved:",sn)}catch(Sd){console.error("Erreur lors de la sauvegarde des données:",Sd)}},s=t(),[i,a]=w.useState(s.clients),[o,l]=w.useState(s.pets),[c,u]=w.useState(s.consultations),[d,f]=w.useState(s.appointments),[m,g]=w.useState(s.prescriptions),[x,v]=w.useState(s.farms),[y,N]=w.useState(s.farmInterventions),[j,b]=w.useState(s.vaccinations),[P,C]=w.useState(s.vaccinationProtocols),[_,A]=w.useState(s.antiparasitics),[E,D]=w.useState(s.antiparasiticProtocols),[I,O]=w.useState(s.stockItems||[]),[k,F]=w.useState(s.stockAlerts||[]),[L,Y]=w.useState(s.stockMovements||[]),[q,ie]=w.useState(s.accountingEntries||[]);console.log("🚀 ClientContext - ANTIPARASITICS DEBUG:"),console.log("   Initial antiparasitics from storage:",s.antiparasitics),console.log("   Current antiparasitics state:",_),console.log("   State length:",(_==null?void 0:_.length)||0),w.useEffect(()=>{localStorage.getItem("vetpro-antiparasiticProtocols")||localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(Gm)),localStorage.getItem("vetpro-antiparasitics")||(console.log("🚀 Initialisation des antiparasitaires d'exemple dans localStorage"),localStorage.setItem("vetpro-antiparasitics",JSON.stringify(Dl)),A(Dl))},[]),w.useEffect(()=>{const ne=new Date;new Date(ne.getFullYear(),ne.getMonth(),1),new Date(ne.getFullYear(),ne.getMonth()+1,0)},[]),w.useEffect(()=>{const ne=new Date,X=new Date(ne.getFullYear(),ne.getMonth(),1),ue=new Date(ne.getFullYear(),ne.getMonth()+1,0);Nd(X.toISOString().split("T")[0],ue.toISOString().split("T")[0]),vm(X.toISOString().split("T")[0],ue.toISOString().split("T")[0])},[c,j,_,m,L]),w.useEffect(()=>{console.log("🔄 ANTIPARASITICS STATE CHANGED:"),console.log("   New length:",_.length),console.log("   Data:",_)},[_]),w.useEffect(()=>{i.length>0&&c.length>=0&&j.length>=0&&_.length>=0&&d.length>=0&&i.forEach(ne=>{ee(ne.id)})},[i.length,c.length,j.length,_.length,d.length]);const $=ne=>{const X={...ne,name:`${ne.firstName} ${ne.lastName}`,id:Math.max(...i.map(ge=>ge.id),0)+1,pets:[],lastVisit:new Date().toISOString().split("T")[0],totalVisits:0},ue=[...i,X];a(ue),n(ue,o,c,d,m,x,y,j)},z=ne=>{const X={...ne,id:Math.max(...o.map(qe=>qe.id),0)+1,status:ne.status||"healthy",lastVisit:new Date().toISOString().split("T")[0]},ue=[...o,X];l(ue);const ge=i.map(qe=>qe.id===ne.ownerId?{...qe,pets:[...qe.pets,{id:X.id,name:X.name,type:X.type,breed:X.breed,birthDate:X.birthDate,weight:X.weight,color:X.color,microchip:X.microchip,medicalNotes:X.medicalNotes,photo:X.photo,ownerId:X.ownerId,owner:X.owner,status:X.status,lastVisit:X.lastVisit,nextAppointment:X.nextAppointment,vaccinations:X.vaccinations}]}:qe);a(ge),n(ge,ue,c,d,m,x,y,j)},le=(ne,X)=>{const ue=i.map(ge=>ge.id===ne?{...ge,...X,name:X.firstName&&X.lastName?`${X.firstName} ${X.lastName}`:ge.name}:ge);a(ue),n(ue,o,c,d,m,x,y,j)},pe=(ne,X)=>{({...o.find(qe=>qe.id===ne),...X});const ue=o.map(qe=>qe.id===ne?{...qe,...X}:qe);l(ue);const ge=i.map(qe=>({...qe,pets:qe.pets.map(Je=>Je.id===ne?{...Je,...X}:Je)}));a(ge),n(ge,ue,c)},ee=ne=>{const X=i.find(dt=>dt.id===ne);if(!X)return;const ue=c.filter(dt=>dt.clientId===ne),ge=j.filter(dt=>dt.clientId===ne),qe=_.filter(dt=>dt.clientId===ne),Je=d.filter(dt=>dt.clientId===ne&&dt.status==="completed"),ze=ue.length+ge.length+qe.length+Je.length,et=[...ue.map(dt=>({date:dt.date,type:"consultation"})),...ge.map(dt=>({date:dt.dateGiven,type:"vaccination"})),...qe.map(dt=>({date:dt.dateGiven,type:"antiparasitic"})),...Je.map(dt=>({date:dt.date,type:"appointment"}))],vn=et.length>0?et.reduce((dt,$n)=>new Date($n.date)>new Date(dt.date)?$n:dt).date:X.lastVisit,sn=i.map(dt=>dt.id===ne?{...dt,totalVisits:ze,lastVisit:vn}:dt);return a(sn),{totalVisits:ze,lastVisit:vn}},J=ne=>{const X={...ne,id:Math.max(...I.map(ge=>ge.id),0)+1,lastUpdated:new Date().toISOString(),totalValue:ne.currentStock*ne.purchasePrice},ue=[...I,X];return O(ue),n(i,o,c,d,m,x,y,j,P,_,E,ue,k,L),X},B=(ne,X)=>{const ue=I.map(ge=>{if(ge.id===ne){const qe={...ge,...X};return(X.currentStock!==void 0||X.purchasePrice!==void 0)&&(qe.totalValue=qe.currentStock*qe.purchasePrice),qe.lastUpdated=new Date().toISOString(),qe}return ge});return O(ue),n(i,o,c,d,m,x,y,j,P,_,E,ue,k,L),ue.find(ge=>ge.id===ne)},me=ne=>{const X=I.filter(ue=>ue.id!==ne);O(X),n(i,o,c,d,m,x,y,j,P,_,E,X,k,L)},ve=ne=>{const X={...ne,id:Math.max(...L.map(ge=>ge.id),0)+1},ue=[...L,X];return Y(ue),n(i,o,c,d,m,x,y,j,P,_,E,I,k,ue),X},re=()=>{const ne=[],X=new Date().toISOString().split("T")[0],ue=new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0];return I.forEach(ge=>{ge.currentStock<=ge.minimumStock&&ne.push({id:ne.length+1,itemId:ge.id,itemName:ge.name,type:"low_stock",message:`Stock bas: ${ge.currentStock} ${ge.unit} restant(s)`,severity:ge.currentStock===0?"critical":"high",createdAt:new Date().toISOString(),isRead:!1}),ge.expirationDate&&(ge.expirationDate<X?ne.push({id:ne.length+1,itemId:ge.id,itemName:ge.name,type:"expired",message:`Expiré le ${ge.expirationDate}`,severity:"critical",createdAt:new Date().toISOString(),isRead:!1}):ge.expirationDate<=ue&&ne.push({id:ne.length+1,itemId:ge.id,itemName:ge.name,type:"expiring_soon",message:`Expire le ${ge.expirationDate}`,severity:"medium",createdAt:new Date().toISOString(),isRead:!1}))}),ne},V=ne=>{const X={...ne,id:Math.max(...c.map(Je=>Je.id),0)+1,createdAt:new Date().toISOString(),photos:ne.photos||[]},ue=[...c,X];u(ue);const ge=o.map(Je=>Je.id===ne.petId?{...Je,lastVisit:ne.date}:Je);l(ge);const qe=i.map(Je=>({...Je,pets:Je.pets.map(ze=>ze.id===ne.petId?{...ze,lastVisit:ne.date}:ze)}));a(qe),ee(ne.clientId),n(qe,ge,ue)},Z=ne=>{if(!o.find(qe=>qe.id===ne))return;const ue=o.filter(qe=>qe.id!==ne);l(ue);const ge=i.map(qe=>({...qe,pets:qe.pets.filter(Je=>Je.id!==ne)}));a(ge),n(ge,ue,c)},ye=()=>{console.log("🔄 RESET DATA - Remise à zéro complète des données"),localStorage.removeItem("vetpro-clients"),localStorage.removeItem("vetpro-pets"),localStorage.removeItem("vetpro-consultations"),localStorage.removeItem("vetpro-appointments"),localStorage.removeItem("vetpro-prescriptions"),localStorage.removeItem("vetpro-farms"),localStorage.removeItem("vetpro-farmInterventions"),localStorage.removeItem("vetpro-vaccinations"),localStorage.removeItem("vetpro-vaccinationProtocols"),localStorage.removeItem("vetpro-antiparasitics"),localStorage.removeItem("vetpro-antiparasiticProtocols");const ne=PI.map(X=>({...X,pets:Hm.filter(ue=>ue.ownerId===X.id)}));a(ne),l(Hm),u(Zx),f(ey),g(ty),v(ny),N(ry),b(sy),C(iy),A(Dl),D(Gm),n(ne,Hm,Zx,ey,ty,ny,ry,sy,iy,Dl,Gm),console.log("✅ Reset terminé avec antiparasitaires d'exemple:",Dl.length)},te=()=>{const ne={clients:i,pets:o,consultations:c,appointments:d,prescriptions:m,farms:x,farmInterventions:y,vaccinations:j,vaccinationProtocols:P,antiparasitics:_,antiparasiticProtocols:E},X=new Blob([JSON.stringify(ne,null,2)],{type:"application/json"}),ue=URL.createObjectURL(X),ge=document.createElement("a");ge.href=ue,ge.download=`vetpro-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(ue)},M=ne=>{const X=ne.clients.map(ue=>({...ue,pets:ne.pets.filter(ge=>ge.ownerId===ue.id)}));a(X),l(ne.pets),u(ne.consultations||[]),f(ne.appointments||[]),g(ne.prescriptions||[]),v(ne.farms||[]),N(ne.farmInterventions||[]),b(ne.vaccinations||[]),C(ne.vaccinationProtocols||[]),A(ne.antiparasitics||[]),D(ne.antiparasiticProtocols||[]),n(X,ne.pets,ne.consultations||[],ne.appointments||[],ne.prescriptions||[],ne.farms||[],ne.farmInterventions||[],ne.vaccinations||[],ne.vaccinationProtocols||[],ne.antiparasitics||[],ne.antiparasiticProtocols||[])},je=(ne,X)=>{const ue=c.map(ge=>ge.id===ne?{...ge,...X}:ge);u(ue),n(i,o,ue)},we=ne=>{const X=c.filter(ue=>ue.id!==ne);u(X),n(i,o,X)},Fe=ne=>{const X=I.find(ue=>ue.name.toLowerCase()===ne.productName.toLowerCase()&&ue.category==="medication"&&ue.isActive);return X&&X.currentStock>=1?{...ne,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!0}:X&&X.currentStock>0?{...ne,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!1}:{...ne,isInStock:!1,stockQuantity:0,stockDeducted:!1}},Be=ne=>{const X=Fe(ne);let ue=[...I];if(X.stockDeducted&&X.stockItemId){const ze=ue.findIndex(et=>et.id===X.stockItemId);if(ze!==-1){const et=ue[ze];ue[ze]={...et,currentStock:et.currentStock-1,lastUpdated:new Date().toISOString()};const vn=ve({itemId:X.stockItemId,itemName:X.productName,type:"out",quantity:1,reason:"Traitement antiparasitaire",reference:`Antiparasitaire #${Math.max(0,..._.map(sn=>sn.id))+1}`,performedBy:X.veterinarian,date:new Date().toISOString(),notes:`Traitement antiparasitaire de ${X.petName} - ${X.productName}`});console.log("Mouvement de stock antiparasitaire enregistré:",vn)}}const ge={...X,id:Math.max(0,..._.map(ze=>ze.id))+1,createdAt:new Date().toISOString()},qe=[..._,ge];A(qe),O(ue),console.log("✅ Antiparasitaire ajouté avec succès:",ge),console.log("📊 Total antiparasitaires après ajout:",qe.length),console.log("💾 Synchronisation dans le dossier médical..."),ee(ne.clientId),n(i,o,c,d,m,x,y,j,P,qe,E,ue,k,L);const Je=localStorage.getItem("vetpro-antiparasitics");console.log("✅ Données sauvegardées dans localStorage:",Je?JSON.parse(Je).length:0,"antiparasitaires")},at=(ne,X)=>{const ue=_.map(ge=>ge.id===ne?{...ge,...X}:ge);A(ue),n(i,o,c,d,m,x,y,j,P,ue,E)},lt=ne=>{const X=_.filter(ue=>ue.id!==ne);A(X),n(i,o,c,d,m,x,y,j,P,X,E)},ut=ne=>{const X={...ne,id:Math.max(0,...E.map(ge=>ge.id))+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},ue=[...E,X];D(ue),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(ue))},Ne=(ne,X)=>{const ue=E.map(ge=>ge.id===ne?{...ge,...X,updatedAt:new Date().toISOString()}:ge);D(ue),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(ue))},Ge=ne=>{const X=E.filter(ue=>ue.id!==ne);D(X),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(X))},Ke=ne=>_.find(X=>X.id===ne),qt=ne=>{const X=_.filter(ue=>ue.petId===ne);return console.log("getAntiparasiticsByPetId - petId:",ne,"result:",X),console.log("getAntiparasiticsByPetId - all antiparasitics:",_),X},Kn=ne=>_.filter(X=>X.clientId===ne),kt=()=>{const ne=new Date().toISOString().split("T")[0];return _.filter(X=>X.nextDueDate&&X.nextDueDate<ne&&X.status!=="completed")},wn=(ne=7)=>{const X=new Date,ue=new Date(X.getTime()+ne*24*60*60*1e3);return _.filter(ge=>{if(!ge.nextDueDate)return!1;const qe=new Date(ge.nextDueDate);return qe>=X&&qe<=ue})},cr=ne=>_.filter(X=>X.status===ne),Yn=ne=>E.find(X=>X.id===ne),gs=ne=>E.filter(X=>X.species===ne&&X.isActive),Se=()=>E.filter(ne=>ne.isActive),Vt=ne=>i.find(X=>X.id===ne),nt=ne=>o.find(X=>X.id===ne),mt=ne=>c.find(X=>X.id===ne),rn=ne=>o.filter(X=>X.ownerId===ne),is=ne=>c.filter(X=>X.petId===ne),Yr=ne=>c.filter(X=>X.clientId===ne),Rs=ne=>{const X={...ne,id:Math.max(...d.map(ge=>ge.id),0)+1,createdAt:new Date().toISOString()},ue=[...d,X];f(ue),ee(ne.clientId),n(i,o,c,ue,m)},xl=(ne,X)=>{const ue=d.map(ge=>ge.id===ne?{...ge,...X}:ge);f(ue),n(i,o,c,ue,m)},oe=ne=>{const X=d.filter(ue=>ue.id!==ne);f(X),n(i,o,c,X,m)},We=ne=>d.find(X=>X.id===ne),Le=ne=>d.filter(X=>X.clientId===ne),En=ne=>d.filter(X=>X.petId===ne),Qn=ne=>d.filter(X=>X.date===ne),ra=()=>{const ne=new Date().toISOString().split("T")[0];return d.filter(X=>X.date>=ne&&X.status!=="cancelled"&&X.status!=="completed").sort((X,ue)=>new Date(X.date+"T"+X.time).getTime()-new Date(ue.date+"T"+ue.time).getTime())},bt=()=>{const ne=new Date().toISOString().split("T")[0];return d.filter(X=>X.date<ne&&X.status==="scheduled").sort((X,ue)=>new Date(X.date+"T"+X.time).getTime()-new Date(ue.date+"T"+ue.time).getTime())},on=ne=>ne.map(X=>{const ue=I.find(ge=>ge.name.toLowerCase()===X.name.toLowerCase()&&ge.category==="medication"&&ge.isActive);return ue&&ue.currentStock>=X.quantity?{...X,stockItemId:ue.id,isInStock:!0,stockQuantity:ue.currentStock,stockDeducted:!0}:ue&&ue.currentStock>0?{...X,stockItemId:ue.id,isInStock:!0,stockQuantity:ue.currentStock,stockDeducted:!1}:{...X,isInStock:!1,stockQuantity:0,stockDeducted:!1}}),gn=ne=>{const X=on(ne.medications);let ue=[...I];X.forEach(Je=>{if(Je.stockDeducted&&Je.stockItemId){const ze=ue.findIndex(et=>et.id===Je.stockItemId);if(ze!==-1){const et=ue[ze];ue[ze]={...et,currentStock:et.currentStock-Je.quantity,lastUpdated:new Date().toISOString()};const vn=ve({itemId:Je.stockItemId,itemName:Je.name,type:"out",quantity:Je.quantity,reason:"Prescription médicale",reference:`Prescription #${Math.max(...m.map(sn=>sn.id),0)+1}`,performedBy:ne.prescribedBy,date:new Date().toISOString(),notes:`Prescription pour ${ne.petName} - ${ne.diagnosis}`});console.log("Mouvement de stock enregistré:",vn)}}});const ge={...ne,medications:X,id:Math.max(...m.map(Je=>Je.id),0)+1,createdAt:new Date().toISOString()},qe=[...m,ge];g(qe),O(ue),n(i,o,c,d,qe,x,y,j,P,_,E,ue,k,L,q)},vs=(ne,X)=>{const ue=m.map(ge=>ge.id===ne?{...ge,...X}:ge);g(ue),n(i,o,c,d,ue,x,y,j,P,_,E,I,k,L,q)},xs=ne=>{const X=m.filter(ue=>ue.id!==ne);g(X),n(i,o,c,d,X,x,y,j,P,_,E,I,k,L,q)},Pi=ne=>m.find(X=>X.id===ne),ri=ne=>m.filter(X=>X.petId===ne),ys=ne=>m.filter(X=>X.consultationId===ne),Ls=()=>m.filter(ne=>ne.status==="active").sort((ne,X)=>new Date(X.date).getTime()-new Date(ne.date).getTime()),Lw=ne=>{const X={...ne,id:Math.max(...x.map(ge=>ge.id),0)+1,createdAt:new Date().toISOString()},ue=[...x,X];v(ue),n(i,o,c,d,m,ue,y)},Fw=(ne,X)=>{const ue=x.map(ge=>ge.id===ne?{...ge,...X}:ge);v(ue),n(i,o,c,d,m,ue,y)},Bw=ne=>{const X=x.filter(ue=>ue.id!==ne);v(X),n(i,o,c,d,m,X,y)},zw=ne=>{const X={...ne,id:Math.max(...y.map(ge=>ge.id),0)+1,createdAt:new Date().toISOString()},ue=[...y,X];N(ue),n(i,o,c,d,m,x,ue)},Vw=(ne,X)=>{const ue=y.map(ge=>ge.id===ne?{...ge,...X}:ge);N(ue),n(i,o,c,d,m,x,ue)},Uw=ne=>{const X=y.filter(ue=>ue.id!==ne);N(X),n(i,o,c,d,m,x,X)},qw=ne=>x.find(X=>X.id===ne),Ww=ne=>y.find(X=>X.id===ne),_v=ne=>y.filter(X=>X.farmId===ne),Hw=()=>{const ne=new Date().toISOString().split("T")[0];return y.filter(X=>X.date>=ne&&X.status!=="cancelled").sort((X,ue)=>new Date(X.date).getTime()-new Date(ue.date).getTime())},Gw=ne=>x.filter(X=>X.status===ne),Kw=ne=>{const X=I.find(ue=>ue.name.toLowerCase()===ne.vaccineName.toLowerCase()&&ue.category==="vaccine"&&ue.isActive);return X&&X.currentStock>=1?{...ne,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!0}:X&&X.currentStock>0?{...ne,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!1}:{...ne,isInStock:!1,stockQuantity:0,stockDeducted:!1}},pm=ne=>{const X=Kw(ne);let ue=[...I];if(X.stockDeducted&&X.stockItemId){const qe=ue.findIndex(Je=>Je.id===X.stockItemId);if(qe!==-1){const Je=ue[qe];ue[qe]={...Je,currentStock:Je.currentStock-1,lastUpdated:new Date().toISOString()};const ze=ve({itemId:X.stockItemId,itemName:X.vaccineName,type:"out",quantity:1,reason:"Vaccination",reference:`Vaccination #${Math.max(...j.map(et=>et.id),0)+1}`,performedBy:X.veterinarian,date:new Date().toISOString(),notes:`Vaccination de ${X.petName} - ${X.vaccineName}`});console.log("Mouvement de stock vaccin enregistré:",ze)}}const ge={...X,id:Math.max(...j.map(qe=>qe.id),0)+1,createdAt:new Date().toISOString()};return b(qe=>{const Je=[...qe,ge];return ee(ne.clientId),n(i,o,c,d,m,x,y,Je,P,_,E,ue,k,L),console.log("🔄 addVaccination - total vaccinations after add:",Je.length,Je.map(ze=>({id:ze.id,category:ze.vaccinationCategory}))),Je}),O(ue),ge.id},jd=(ne,X)=>{const ue=j.map(ge=>ge.id===ne?{...ge,...X}:ge);b(ue),n(i,o,c,d,m,x,y,ue)},Yw=ne=>{console.log("🗑️ deleteVaccination - ID à supprimer:",ne),console.log("🗑️ deleteVaccination - Vaccinations avant suppression:",j.length);const X=j.find(ge=>ge.id===ne);if(!X){console.log("🗑️ deleteVaccination - Vaccination non trouvée");return}console.log("🗑️ deleteVaccination - Vaccination à supprimer:",{id:X.id,vaccineName:X.vaccineName,vaccinationCategory:X.vaccinationCategory,originalVaccinationId:X.originalVaccinationId});let ue=[...j];if(X.vaccinationCategory==="new"){console.log("🗑️ deleteVaccination - Suppression d'une vaccination originale, recherche des rappels liés...");const ge=j.filter(qe=>qe.originalVaccinationId===ne);console.log("🗑️ deleteVaccination - Rappels liés trouvés:",ge.length),ue=j.filter(qe=>qe.id!==ne&&qe.originalVaccinationId!==ne)}else console.log("🗑️ deleteVaccination - Suppression d'un rappel uniquement"),ue=j.filter(ge=>ge.id!==ne);console.log("🗑️ deleteVaccination - Vaccinations après suppression:",ue.length),console.log("🗑️ deleteVaccination - Vaccinations supprimées:",j.length-ue.length),b(ue),n(i,o,c,d,m,x,y,ue)},bo=ne=>j.find(X=>X.id===ne),Qw=ne=>j.filter(X=>X.petId===ne),bd=ne=>j.filter(X=>X.clientId===ne),Xw=()=>{const ne=new Date().toISOString().split("T")[0];return j.filter(X=>X.nextDueDate<ne&&X.status!=="completed").sort((X,ue)=>new Date(X.nextDueDate).getTime()-new Date(ue.nextDueDate).getTime())},Jw=()=>{const ne=new Date,X=new Date(ne.getTime()+30*24*60*60*1e3).toISOString().split("T")[0],ue=ne.toISOString().split("T")[0];return j.filter(ge=>ge.nextDueDate>=ue&&ge.nextDueDate<=X&&ge.status!=="completed").sort((ge,qe)=>new Date(ge.nextDueDate).getTime()-new Date(qe.nextDueDate).getTime())},Zw=ne=>j.filter(X=>X.status===ne),Av=()=>{const ne=new Date().toISOString().split("T")[0];let X=!1;const ue=j.map(ge=>ge.status==="completed"?ge:ge.nextDueDate<ne&&ge.status!=="overdue"?(X=!0,{...ge,status:"overdue"}):ge.nextDueDate>=ne&&ge.status!=="scheduled"?(X=!0,{...ge,status:"scheduled"}):ge);return X&&(b(ue),n(i,o,c,d,m,x,y,ue)),ue},Ev=ne=>{const X={...ne,id:Math.max(...P.map(ge=>ge.id),0)+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},ue=[...P,X];C(ue),n(i,o,c,d,m,x,y,j,ue)},kv=(ne,X)=>{const ue=P.map(ge=>ge.id===ne?{...ge,...X,updatedAt:new Date().toISOString()}:ge);C(ue),n(i,o,c,d,m,x,y,j,ue)},eN=ne=>{const X=P.filter(ue=>ue.id!==ne);C(X),n(i,o,c,d,m,x,y,j,X)},tN=ne=>P.find(X=>X.id===ne),nN=ne=>P.filter(X=>X.species===ne&&X.isActive),rN=()=>P.filter(ne=>ne.isActive),Tv=(ne,X,ue)=>{const ge=P.find(ze=>ze.name===ne&&ze.species===X&&ze.isActive);if(!ge||!ge.intervals.length)return null;const qe=ge.intervals[ge.intervals.length-1],Je=new Date(ue);return Je.setDate(Je.getDate()+qe.offsetDays),Je.toISOString().split("T")[0]},Ov=(ne,X,ue)=>{var sn;const ge=bo(ne);if(!ge)return;const qe={clientId:ge.clientId,clientName:ge.clientName,petId:ge.petId,petName:ge.petName,date:X,time:ue,type:"vaccination",duration:30,reason:`Rappel vaccinal - ${ge.vaccineName}`,notes:`Rappel pour ${ge.vaccineName} (vaccination originale ID: ${ne})`,status:"scheduled",reminderSent:!1};Rs(qe);const Je=Math.max(...d.map(dt=>dt.id),0)+1,ze={petId:ge.petId,petName:ge.petName,clientId:ge.clientId,clientName:ge.clientName,vaccineName:ge.vaccineName,vaccineType:ge.vaccineType,vaccinationCategory:"reminder",dateGiven:X,nextDueDate:ge.nextDueDate,batchNumber:ge.batchNumber,veterinarian:ge.veterinarian,notes:`Rappel de ${ge.vaccineName} (original: ${ne})`,status:"scheduled",cost:ge.cost,location:ge.location,manufacturer:ge.manufacturer,originalVaccinationId:ne,reminderAppointmentId:Je,isReminder:!0};pm(ze);const et={id:Math.max(...((sn=ge.reminderHistory)==null?void 0:sn.map(dt=>dt.id))||[0],0)+1,vaccinationId:ne,appointmentId:Je,scheduledDate:X,status:"scheduled",notes:`Rappel programmé pour ${ge.vaccineName}`,createdAt:new Date().toISOString()},vn=[...ge.reminderHistory||[],et];return jd(ne,{reminderHistory:vn}),{appointment:qe,reminderVaccination:ze,reminder:et}},Dv=(ne,X,ue)=>{var ze;const ge=bo(ne);if(!ge)return;const Je={status:"completed",reminderHistory:((ze=ge.reminderHistory)==null?void 0:ze.map(et=>et.appointmentId===X?{...et,status:"completed"}:et))||[],reminderAppointmentId:void 0};return ue&&(Je.nextDueDate=ue),jd(ne,Je),xl(X,{status:"completed"}),ge},gm=(ne,X)=>{const ue=bo(ne);if(!ue)return null;const ge={petId:ue.petId,petName:ue.petName,clientId:ue.clientId,clientName:ue.clientName,vaccineName:ue.vaccineName,vaccineType:ue.vaccineType,vaccinationCategory:"reminder",dateGiven:X.datePerformed,nextDueDate:X.newNextDueDate||ue.nextDueDate,calculatedDueDate:ue.calculatedDueDate,batchNumber:X.batchNumber||ue.batchNumber,veterinarian:X.veterinarian,notes:X.notes||`Rappel effectué - ${ue.vaccineName}`,status:"completed",cost:ue.cost,location:ue.location,manufacturer:ue.manufacturer,expirationDate:ue.expirationDate,adverseReactions:ue.adverseReactions,originalVaccinationId:ne,isReminder:!0};pm(ge);const qe={status:"completed",reminderAppointmentId:void 0};return X.newNextDueDate&&(qe.nextDueDate=X.newNextDueDate),jd(ne,qe),ge},yl=ne=>{const X={...ne,id:Math.max(...q.map(ge=>ge.id),0)+1,createdAt:new Date().toISOString()},ue=[...q,X];return ie(ue),n(i,o,c,d,m,x,y,j,P,_,E,I,k,L,ue),X},Mv=(ne,X)=>{const ue=q.map(ge=>ge.id===ne?{...ge,...X}:ge);ie(ue),n(i,o,c,d,m,x,y,j,P,_,E,I,k,L,ue)},wd=ne=>{const X=q.filter(ue=>ue.id!==ne);ie(X),n(i,o,c,d,m,x,y,j,P,_,E,I,k,L,X)},Nd=(ne,X)=>{const ue=new Date(ne),ge=new Date(X);let qe=0;const Je={consultations:0,vaccinations:0,antiparasitics:0,prescriptions:0,stockSales:0,manualEntries:0,recurringCharges:0};return c.filter(ze=>{const et=new Date(ze.date);return et>=ue&&et<=ge}).forEach(ze=>{var sn;const et=parseFloat(((sn=ze.cost)==null?void 0:sn.toString())||"0");qe+=et,Je.consultations+=et,q.find(dt=>dt.source==="consultation"&&dt.sourceId===ze.id)||yl({type:"revenue",category:"automatic",frequency:"occasional",description:`Consultation - ${ze.petName}`,amount:et,date:ze.date,reference:`Consultation #${ze.id}`,source:"consultation",sourceId:ze.id,notes:`Consultation automatique pour ${ze.petName}`})}),j.filter(ze=>{const et=new Date(ze.dateGiven);return et>=ue&&et<=ge}).forEach(ze=>{var sn;const et=parseFloat(((sn=ze.cost)==null?void 0:sn.toString())||"0");qe+=et,Je.vaccinations+=et,q.find(dt=>dt.source==="vaccination"&&dt.sourceId===ze.id)||yl({type:"revenue",category:"automatic",frequency:"occasional",description:`Vaccination - ${ze.vaccineName}`,amount:et,date:ze.dateGiven,reference:`Vaccination #${ze.id}`,source:"vaccination",sourceId:ze.id,notes:`Vaccination automatique pour ${ze.petName}`})}),_.filter(ze=>{const et=new Date(ze.dateGiven);return et>=ue&&et<=ge}).forEach(ze=>{var sn;const et=parseFloat(((sn=ze.cost)==null?void 0:sn.toString())||"0");qe+=et,Je.antiparasitics+=et,q.find(dt=>dt.source==="antiparasitic"&&dt.sourceId===ze.id)||yl({type:"revenue",category:"automatic",frequency:"occasional",description:`Antiparasitaire - ${ze.productName}`,amount:et,date:ze.dateGiven,reference:`Antiparasitaire #${ze.id}`,source:"antiparasitic",sourceId:ze.id,notes:`Antiparasitaire automatique pour ${ze.petName}`})}),m.filter(ze=>{const et=new Date(ze.createdAt);return et>=ue&&et<=ge}).forEach(ze=>{const et=ze.medications.reduce((sn,dt)=>{var $n;return sn+parseFloat((($n=dt.cost)==null?void 0:$n.toString())||"0")*dt.quantity},0);qe+=et,Je.prescriptions+=et,!q.find(sn=>sn.source==="prescription"&&sn.sourceId===ze.id)&&et>0&&yl({type:"revenue",category:"automatic",frequency:"occasional",description:`Prescription - ${ze.petName}`,amount:et,date:ze.createdAt,reference:`Prescription #${ze.id}`,source:"prescription",sourceId:ze.id,notes:`Prescription automatique pour ${ze.petName}`})}),{totalRevenue:qe,revenueBreakdown:Je}},vm=(ne,X)=>{const ue=new Date(ne),ge=new Date(X);let qe=0;const Je={stockPurchases:0,salaries:0,rent:0,taxes:0,insurance:0,other:0,manualEntries:0,recurringCharges:0};return L.filter(ze=>{const et=new Date(ze.date);return et>=ue&&et<=ge&&ze.type==="in"&&ze.reason==="Achat fournisseur"}).forEach(ze=>{const et=I.find(vn=>vn.id===ze.itemId);if(et){const vn=et.purchasePrice*ze.quantity;qe+=vn,Je.stockPurchases+=vn,q.find(dt=>dt.source==="stock_purchase"&&dt.reference===ze.reference)||yl({type:"expense",category:"automatic",frequency:"occasional",description:`Achat stock - ${ze.itemName}`,amount:vn,date:ze.date,reference:ze.reference,source:"stock_purchase",notes:`Achat automatique de ${ze.quantity} ${ze.itemName}`})}}),{totalExpenses:qe,expenseBreakdown:Je}},Iv=(ne,X,ue)=>{const{totalRevenue:ge,revenueBreakdown:qe}=Nd(X,ue),{totalExpenses:Je,expenseBreakdown:ze}=vm(X,ue),et=q.filter($n=>{const Qr=new Date($n.date),sa=new Date(X),za=new Date(ue);return Qr>=sa&&Qr<=za&&$n.category==="manual"&&$n.type==="revenue"}).reduce(($n,Qr)=>$n+Qr.amount,0),vn=q.filter($n=>{const Qr=new Date($n.date),sa=new Date(X),za=new Date(ue);return Qr>=sa&&Qr<=za&&$n.category==="manual"&&$n.type==="expense"}).reduce(($n,Qr)=>$n+Qr.amount,0);qe.manualEntries=et,ze.manualEntries=vn;const sn=ge+et,dt=Je+vn;return{period:ne,totalRevenue:sn,totalExpenses:dt,netIncome:sn-dt,revenueBreakdown:qe,expenseBreakdown:ze}};return r.jsx(iz.Provider,{value:{clients:i,pets:o,consultations:c,appointments:d,prescriptions:m,farms:x,farmInterventions:y,vaccinations:j,vaccinationProtocols:P,antiparasitics:_,antiparasiticProtocols:E,stockItems:I,stockAlerts:k,stockMovements:L,accountingEntries:q,addClient:$,addPet:z,addConsultation:V,addAppointment:Rs,addPrescription:gn,addFarm:Lw,addFarmIntervention:zw,addVaccination:pm,addVaccinationProtocol:Ev,addAntiparasitic:Be,addAntiparasiticProtocol:ut,addStockItem:J,addStockMovement:ve,addAccountingEntry:yl,updateAccountingEntry:Mv,deleteAccountingEntry:wd,calculateAutomaticRevenue:Nd,calculateAutomaticExpenses:vm,generateAccountingSummary:Iv,updateClient:le,updatePet:pe,updateConsultation:je,updateAppointment:xl,updatePrescription:vs,updateFarm:Fw,updateFarmIntervention:Vw,updateVaccination:jd,updateVaccinationProtocol:kv,updateAntiparasitic:at,updateAntiparasiticProtocol:Ne,updateStockItem:B,deletePet:Z,deleteConsultation:we,deleteAppointment:oe,deletePrescription:xs,deleteFarm:Bw,deleteFarmIntervention:Uw,deleteVaccination:Yw,deleteVaccinationProtocol:eN,deleteAntiparasitic:lt,deleteAntiparasiticProtocol:Ge,deleteStockItem:me,resetData:ye,exportData:te,importData:M,getClientById:Vt,getPetById:nt,getConsultationById:mt,getAppointmentById:We,getPrescriptionById:Pi,getFarmById:qw,getFarmInterventionById:Ww,getVaccinationById:bo,getVaccinationProtocolById:tN,getVaccinationProtocolsBySpecies:nN,getActiveVaccinationProtocols:rN,getAntiparasiticById:Ke,getAntiparasiticsByPetId:qt,getAntiparasiticsByClientId:Kn,getOverdueAntiparasitics:kt,getUpcomingAntiparasitics:wn,getAntiparasiticsByStatus:cr,getAntiparasiticProtocolById:Yn,getAntiparasiticProtocolsBySpecies:gs,getActiveAntiparasiticProtocols:Se,getPetsByOwnerId:rn,getConsultationsByPetId:is,getConsultationsByClientId:Yr,getAppointmentsByClientId:Le,getAppointmentsByPetId:En,getAppointmentsByDate:Qn,getUpcomingAppointments:ra,getOverdueAppointments:bt,getPrescriptionsByPetId:ri,getPrescriptionsByConsultationId:ys,getActivePrescriptions:Ls,getFarmInterventionsByFarmId:_v,getUpcomingFarmInterventions:Hw,getFarmsByStatus:Gw,getVaccinationsByPetId:Qw,getVaccinationsByClientId:bd,getOverdueVaccinations:Xw,getUpcomingVaccinations:Jw,getVaccinationsByStatus:Zw,createVaccinationReminder:Ov,completeVaccinationReminder:Dv,confirmVaccinationReminder:gm,updateVaccinationStatuses:Av,calculateDueDateFromProtocol:Tv,updateClientStats:ee,getStockAlerts:re},children:e})}const pt=()=>{const e=w.useContext(iz);if(e===void 0)throw new Error("useClients must be used within a ClientProvider");return e},se=w.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:Ze("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));se.displayName="Input";var Ude="Label",az=w.forwardRef((e,t)=>r.jsx(it.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));az.displayName=Ude;var oz=az;const qde=sv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),U=w.forwardRef(({className:e,...t},n)=>r.jsx(oz,{ref:n,className:Ze(qde(),e),...t}));U.displayName=oz.displayName;const de=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));de.displayName="Card";const Pe=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("flex flex-col space-y-1.5 p-6",e),...t}));Pe.displayName="CardHeader";const Ae=w.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:Ze("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ae.displayName="CardTitle";const ug=w.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:Ze("text-sm text-muted-foreground",e),...t}));ug.displayName="CardDescription";const he=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("p-6 pt-0",e),...t}));he.displayName="CardContent";const Wde=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("flex items-center p-6 pt-0",e),...t}));Wde.displayName="CardFooter";const Hde=sv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),lz=w.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:Ze(Hde({variant:t}),e),...n}));lz.displayName="Alert";const Gde=w.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:Ze("mb-1 font-medium leading-none tracking-tight",e),...t}));Gde.displayName="AlertTitle";const cz=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("text-sm [&_p]:leading-relaxed",e),...t}));cz.displayName="AlertDescription";function Kde(){const[e,t]=w.useState(""),[n,s]=w.useState(""),[i,a]=w.useState(!1),[o,l]=w.useState(""),{login:c,isLoading:u}=Mc(),d=async f=>{if(f.preventDefault(),l(""),!e||!n){l("Veuillez remplir tous les champs");return}await c(e,n)||l("Email ou mot de passe incorrect, ou email non confirmé")};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsxs(de,{className:"w-full max-w-md",children:[r.jsxs(Pe,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:r.jsx(Yt,{className:"h-8 w-8 text-primary"})})}),r.jsx(Ae,{className:"text-2xl font-bold",children:"VetPro CRM"}),r.jsx(ug,{children:"Connectez-vous à votre espace vétérinaire"})]}),r.jsxs(he,{children:[r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o&&r.jsx(lz,{variant:"destructive",children:r.jsx(cz,{children:o})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",placeholder:"vet@vetpro.com",value:e,onChange:f=>t(f.target.value),disabled:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"password",children:"Mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(se,{id:"password",type:i?"text":"password",placeholder:"••••••••",value:n,onChange:f=>s(f.target.value),disabled:u,required:!0}),r.jsx(W,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),disabled:u,children:i?r.jsx(Ute,{className:"h-4 w-4"}):r.jsx(ns,{className:"h-4 w-4"})})]})]}),r.jsx(W,{type:"submit",className:"w-full",disabled:u,children:u?r.jsxs(r.Fragment,{children:[r.jsx(zu,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pas encore de compte ?"," ",r.jsx("a",{href:"/register",className:"text-primary hover:underline",children:"S'inscrire"})]})})]})]})})}function ds({children:e}){const{isAuthenticated:t,isLoading:n,user:s}=Mc(),[i,a]=w.useState(!1);return w.useEffect(()=>{if(n){const o=setTimeout(()=>{a(!0)},3e3);return()=>clearTimeout(o)}else a(!1)},[n]),i?r.jsx(y2,{to:"/login",replace:!0}):n&&!i?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Vérification de l'authentification..."})]})}):!t||!s?r.jsx(y2,{to:"/login",replace:!0}):r.jsx(r.Fragment,{children:e})}function Yde({children:e,redirectTo:t="/dashboard"}){const{isAuthenticated:n,isLoading:s,user:i}=Mc(),[a,o]=w.useState(!1);return w.useEffect(()=>{if(s){const l=setTimeout(()=>{o(!0)},2e3);return()=>clearTimeout(l)}else o(!1)},[s]),a?r.jsx(r.Fragment,{children:e}):s&&!a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Chargement..."})]})}):n&&i?r.jsx(y2,{to:t,replace:!0}):r.jsx(r.Fragment,{children:e})}const uz="/assets/vet-hero-UFBVcjRL.jpg";function Qde(){return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"border-b",children:r.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-xl font-bold",children:"VetPro"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(W,{variant:"ghost",asChild:!0,children:r.jsx(wa,{to:"/login",children:"Se connecter"})}),r.jsx(W,{asChild:!0,children:r.jsx(wa,{to:"/register",children:"Commencer"})})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-sm font-medium text-primary",children:"Solution CRM Vétérinaire Complète"})]}),r.jsxs("h1",{className:"text-5xl font-bold leading-tight",children:["Gérez votre pratique",r.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"vétérinaire efficacement"})]}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"VetPro vous aide à gérer vos clients, leurs animaux, les rendez-vous, consultations et l'historique médical. Optimisez votre pratique avec notre solution tout-en-un."})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(W,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:r.jsxs(wa,{to:"/register",children:["Commencer gratuitement",r.jsx(YC,{className:"h-4 w-4"})]})}),r.jsx(W,{variant:"outline",size:"lg",className:"gap-2",asChild:!0,children:r.jsx(wa,{to:"/login",children:"Voir la démo"})})]})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsx("img",{src:uz,alt:"Vétérinaire professionnel",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})})}),r.jsx("section",{className:"py-20 bg-muted/30",children:r.jsxs("div",{className:"container mx-auto px-6",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Tout ce dont vous avez besoin pour votre clinique"}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Une solution complète pour moderniser et optimiser votre pratique vétérinaire"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(ka,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Gestion des Clients"}),r.jsx("p",{className:"text-muted-foreground",children:"Gérez facilement vos clients et leurs animaux avec un système intuitif et complet."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(wt,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Rendez-vous"}),r.jsx("p",{className:"text-muted-foreground",children:"Planifiez et gérez vos rendez-vous avec un calendrier intelligent et flexible."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(lr,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Consultations"}),r.jsx("p",{className:"text-muted-foreground",children:"Documentez vos consultations et maintenez un historique médical détaillé."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(J5,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Statistiques"}),r.jsx("p",{className:"text-muted-foreground",children:"Analysez votre activité avec des rapports détaillés et des tableaux de bord."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(yi,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Sécurisé"}),r.jsx("p",{className:"text-muted-foreground",children:"Vos données sont protégées avec les plus hauts standards de sécurité."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Yt,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Farm Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Gérez les exploitations agricoles et suivez la santé des troupeaux."})]})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-6 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Prêt à moderniser votre pratique ?"}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Rejoignez des centaines de vétérinaires qui font confiance à VetPro pour gérer leur clinique efficacement."}),r.jsx("div",{className:"flex gap-4 justify-center",children:r.jsx(W,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:r.jsxs(wa,{to:"/register",children:["Commencer maintenant",r.jsx(YC,{className:"h-4 w-4"})]})})})]})})}),r.jsx("footer",{className:"border-t py-8",children:r.jsx("div",{className:"container mx-auto px-6 text-center text-muted-foreground",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," VetPro. Tous droits réservés."]})})})]})}const Xde=()=>{const e=pb(),{toast:t}=Ft(),[n,s]=w.useState(!1),[i,a]=w.useState({username:"",fullName:"",email:"",password:"",confirmPassword:""}),o=c=>{a(u=>({...u,[c.target.id]:c.target.value}))},l=async c=>{if(c.preventDefault(),s(!0),i.password!==i.confirmPassword){t({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"}),s(!1);return}if(i.password.length<6){t({title:"Erreur",description:"Le mot de passe doit comporter au moins 6 caractères",variant:"destructive"}),s(!1);return}try{await Ode(i.email,i.password,i.username,i.fullName,"assistant"),t({title:"Inscription réussie",description:"Votre compte a été créé avec succès. Veuillez vérifier votre email et cliquer sur le lien de confirmation pour pouvoir vous connecter."}),e("/login")}catch(u){t({title:"Erreur d'inscription",description:u.message||"Une erreur est survenue lors de l'inscription",variant:"destructive"})}finally{s(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:r.jsxs(de,{className:"w-full max-w-md",children:[r.jsxs(Pe,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(Yt,{className:"h-12 w-12 text-primary"})}),r.jsx(Ae,{className:"text-2xl gradient-primary bg-clip-text text-transparent",children:"VetPro CRM"}),r.jsx(ug,{children:"Créez votre compte vétérinaire"})]}),r.jsxs(he,{children:[r.jsxs("form",{onSubmit:l,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"username",children:"Nom d'utilisateur"}),r.jsx(se,{id:"username",placeholder:"martin.dubois",value:i.username,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"fullName",children:"Nom complet"}),r.jsx(se,{id:"fullName",placeholder:"Dr. Martin Dubois",value:i.fullName,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",placeholder:"votre.email@example.com",value:i.email,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"password",children:"Mot de passe"}),r.jsx(se,{id:"password",type:"password",placeholder:"Minimum 6 caractères",value:i.password,onChange:o,required:!0,minLength:6})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),r.jsx(se,{id:"confirmPassword",type:"password",placeholder:"Confirmer votre mot de passe",value:i.confirmPassword,onChange:o,required:!0,minLength:6})]}),r.jsx(W,{type:"submit",className:"w-full",disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(zu,{className:"mr-2 h-4 w-4 animate-spin"}),"Création en cours..."]}):"Créer le compte"})]}),r.jsxs("div",{className:"mt-6 text-center",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Déjà un compte ?"," ",r.jsx(wa,{to:"/login",className:"text-primary hover:underline",children:"Se connecter"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:r.jsx(wa,{to:"/",className:"hover:underline",children:"Retour à l'accueil"})})]})]})]})})};var kb="Dialog",[dz,j6e]=Zs(kb),[Jde,La]=dz(kb),hz=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=mo({prop:s,defaultProp:i??!1,onChange:a,caller:kb});return r.jsx(Jde,{scope:t,triggerRef:l,contentRef:c,contentId:rs(),titleId:rs(),descriptionId:rs(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};hz.displayName=kb;var fz="DialogTrigger",mz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=La(fz,n),a=Xt(t,i.triggerRef);return r.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hE(i.open),...s,ref:a,onClick:He(e.onClick,i.onOpenToggle)})});mz.displayName=fz;var uE="DialogPortal",[Zde,pz]=dz(uE,{forceMount:void 0}),gz=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,a=La(uE,t);return r.jsx(Zde,{scope:t,forceMount:n,children:w.Children.map(s,o=>r.jsx(ei,{present:n||a.open,children:r.jsx(Ff,{asChild:!0,container:i,children:o})}))})};gz.displayName=uE;var _0="DialogOverlay",vz=w.forwardRef((e,t)=>{const n=pz(_0,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=La(_0,e.__scopeDialog);return a.modal?r.jsx(ei,{present:s||a.open,children:r.jsx(the,{...i,ref:t})}):null});vz.displayName=_0;var ehe=bc("DialogOverlay.RemoveScroll"),the=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=La(_0,n);return r.jsx(cv,{as:ehe,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(it.div,{"data-state":hE(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Hu="DialogContent",xz=w.forwardRef((e,t)=>{const n=pz(Hu,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=La(Hu,e.__scopeDialog);return r.jsx(ei,{present:s||a.open,children:a.modal?r.jsx(nhe,{...i,ref:t}):r.jsx(rhe,{...i,ref:t})})});xz.displayName=Hu;var nhe=w.forwardRef((e,t)=>{const n=La(Hu,e.__scopeDialog),s=w.useRef(null),i=Xt(t,n.contentRef,s);return w.useEffect(()=>{const a=s.current;if(a)return yb(a)},[]),r.jsx(yz,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:He(e.onFocusOutside,a=>a.preventDefault())})}),rhe=w.forwardRef((e,t)=>{const n=La(Hu,e.__scopeDialog),s=w.useRef(!1),i=w.useRef(!1);return r.jsx(yz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),yz=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=La(Hu,n),c=w.useRef(null),u=Xt(t,c);return vb(),r.jsxs(r.Fragment,{children:[r.jsx(ov,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(ld,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":hE(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(she,{titleId:l.titleId}),r.jsx(ahe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),dE="DialogTitle",jz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=La(dE,n);return r.jsx(it.h2,{id:i.titleId,...s,ref:t})});jz.displayName=dE;var bz="DialogDescription",wz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=La(bz,n);return r.jsx(it.p,{id:i.descriptionId,...s,ref:t})});wz.displayName=bz;var Nz="DialogClose",Sz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=La(Nz,n);return r.jsx(it.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>i.onOpenChange(!1))})});Sz.displayName=Nz;function hE(e){return e?"open":"closed"}var Cz="DialogTitleWarning",[b6e,Pz]=Fee(Cz,{contentName:Hu,titleName:dE,docsSlug:"dialog"}),she=({titleId:e})=>{const t=Pz(Cz),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},ihe="DialogDescriptionWarning",ahe=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pz(ihe).contentName}}.`;return w.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},_z=hz,ohe=mz,Az=gz,fE=vz,mE=xz,Ez=jz,kz=wz,lhe=Sz;const Ct=_z,Ic=ohe,che=Az,Tz=w.forwardRef(({className:e,...t},n)=>r.jsx(fE,{ref:n,className:Ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Tz.displayName=fE.displayName;const Nt=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(che,{children:[r.jsx(Tz,{}),r.jsxs(mE,{ref:s,className:Ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(lhe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(ib,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nt.displayName=mE.displayName;const Pt=({className:e,...t})=>r.jsx("div",{className:Ze("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Pt.displayName="DialogHeader";const _t=w.forwardRef(({className:e,...t},n)=>r.jsx(Ez,{ref:n,className:Ze("text-lg font-semibold leading-none tracking-tight",e),...t}));_t.displayName=Ez.displayName;const Cn=w.forwardRef(({className:e,...t},n)=>r.jsx(kz,{ref:n,className:Ze("text-sm text-muted-foreground",e),...t}));Cn.displayName=kz.displayName;const St=w.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Ze("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));St.displayName="Textarea";function AI(e,[t,n]){return Math.min(n,Math.max(t,e))}function pE(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var uhe=[" ","Enter","ArrowUp","ArrowDown"],dhe=[" ","Enter"],Gu="Select",[Tb,Ob,hhe]=tb(Gu),[Qf,w6e]=Zs(Gu,[hhe,Ec]),Db=Ec(),[fhe,$c]=Qf(Gu),[mhe,phe]=Qf(Gu),Oz=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:g,form:x}=e,v=Db(t),[y,N]=w.useState(null),[j,b]=w.useState(null),[P,C]=w.useState(!1),_=gb(u),[A,E]=mo({prop:s,defaultProp:i??!1,onChange:a,caller:Gu}),[D,I]=mo({prop:o,defaultProp:l,onChange:c,caller:Gu}),O=w.useRef(null),k=y?x||!!y.closest("form"):!0,[F,L]=w.useState(new Set),Y=Array.from(F).map(q=>q.props.value).join(";");return r.jsx(BA,{...v,children:r.jsxs(fhe,{required:g,scope:t,trigger:y,onTriggerChange:N,valueNode:j,onValueNodeChange:b,valueNodeHasChildren:P,onValueNodeHasChildrenChange:C,contentId:rs(),value:D,onValueChange:I,open:A,onOpenChange:E,dir:_,triggerPointerDownPosRef:O,disabled:m,children:[r.jsx(Tb.Provider,{scope:t,children:r.jsx(mhe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(q=>{L(ie=>new Set(ie).add(q))},[]),onNativeOptionRemove:w.useCallback(q=>{L(ie=>{const $=new Set(ie);return $.delete(q),$})},[]),children:n})}),k?r.jsxs(nV,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:D,onChange:q=>I(q.target.value),disabled:m,form:x,children:[D===void 0?r.jsx("option",{value:""}):null,Array.from(F)]},Y):null]})})};Oz.displayName=Gu;var Dz="SelectTrigger",Mz=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,a=Db(n),o=$c(Dz,n),l=o.disabled||s,c=Xt(t,o.onTriggerChange),u=Ob(n),d=w.useRef("touch"),[f,m,g]=sV(v=>{const y=u().filter(b=>!b.disabled),N=y.find(b=>b.value===o.value),j=iV(y,v,N);j!==void 0&&o.onValueChange(j.value)}),x=v=>{l||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return r.jsx(av,{asChild:!0,...a,children:r.jsx(it.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":rV(o.value)?"":void 0,...i,ref:c,onClick:He(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&x(v)}),onPointerDown:He(i.onPointerDown,v=>{d.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:He(i.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(y&&v.key===" ")&&uhe.includes(v.key)&&(x(),v.preventDefault())})})})});Mz.displayName=Dz;var Iz="SelectValue",$z=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:o="",...l}=e,c=$c(Iz,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Xt(t,c.onValueNodeChange);return wr(()=>{u(d)},[u,d]),r.jsx(it.span,{...l,ref:f,style:{pointerEvents:"none"},children:rV(c.value)?r.jsx(r.Fragment,{children:o}):a})});$z.displayName=Iz;var ghe="SelectIcon",Rz=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(it.span,{"aria-hidden":!0,...i,ref:t,children:s||"▼"})});Rz.displayName=ghe;var vhe="SelectPortal",Lz=e=>r.jsx(Ff,{asChild:!0,...e});Lz.displayName=vhe;var Ku="SelectContent",Fz=w.forwardRef((e,t)=>{const n=$c(Ku,e.__scopeSelect),[s,i]=w.useState();if(wr(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?od.createPortal(r.jsx(Bz,{scope:e.__scopeSelect,children:r.jsx(Tb.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(zz,{...e,ref:t})});Fz.displayName=Ku;var fa=10,[Bz,Rc]=Qf(Ku),xhe="SelectContentImpl",yhe=bc("SelectContent.RemoveScroll"),zz=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:y,...N}=e,j=$c(Ku,n),[b,P]=w.useState(null),[C,_]=w.useState(null),A=Xt(t,re=>P(re)),[E,D]=w.useState(null),[I,O]=w.useState(null),k=Ob(n),[F,L]=w.useState(!1),Y=w.useRef(!1);w.useEffect(()=>{if(b)return yb(b)},[b]),vb();const q=w.useCallback(re=>{const[V,...Z]=k().map(M=>M.ref.current),[ye]=Z.slice(-1),te=document.activeElement;for(const M of re)if(M===te||(M==null||M.scrollIntoView({block:"nearest"}),M===V&&C&&(C.scrollTop=0),M===ye&&C&&(C.scrollTop=C.scrollHeight),M==null||M.focus(),document.activeElement!==te))return},[k,C]),ie=w.useCallback(()=>q([E,b]),[q,E,b]);w.useEffect(()=>{F&&ie()},[F,ie]);const{onOpenChange:$,triggerPointerDownPosRef:z}=j;w.useEffect(()=>{if(b){let re={x:0,y:0};const V=ye=>{var te,M;re={x:Math.abs(Math.round(ye.pageX)-(((te=z.current)==null?void 0:te.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((M=z.current)==null?void 0:M.y)??0))}},Z=ye=>{re.x<=10&&re.y<=10?ye.preventDefault():b.contains(ye.target)||$(!1),document.removeEventListener("pointermove",V),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",Z,{capture:!0})}}},[b,$,z]),w.useEffect(()=>{const re=()=>$(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[$]);const[le,pe]=sV(re=>{const V=k().filter(te=>!te.disabled),Z=V.find(te=>te.ref.current===document.activeElement),ye=iV(V,re,Z);ye&&setTimeout(()=>ye.ref.current.focus())}),ee=w.useCallback((re,V,Z)=>{const ye=!Y.current&&!Z;(j.value!==void 0&&j.value===V||ye)&&(D(re),ye&&(Y.current=!0))},[j.value]),J=w.useCallback(()=>b==null?void 0:b.focus(),[b]),B=w.useCallback((re,V,Z)=>{const ye=!Y.current&&!Z;(j.value!==void 0&&j.value===V||ye)&&O(re)},[j.value]),me=s==="popper"?R2:Vz,ve=me===R2?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:y}:{};return r.jsx(Bz,{scope:n,content:b,viewport:C,onViewportChange:_,itemRefCallback:ee,selectedItem:E,onItemLeave:J,itemTextRefCallback:B,focusSelectedItem:ie,selectedItemText:I,position:s,isPositioned:F,searchRef:le,children:r.jsx(cv,{as:yhe,allowPinchZoom:!0,children:r.jsx(ov,{asChild:!0,trapped:j.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:He(i,re=>{var V;(V=j.trigger)==null||V.focus({preventScroll:!0}),re.preventDefault()}),children:r.jsx(ld,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:r.jsx(me,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:re=>re.preventDefault(),...N,...ve,onPlaced:()=>L(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:He(N.onKeyDown,re=>{const V=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!V&&re.key.length===1&&pe(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let ye=k().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(re.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const te=re.target,M=ye.indexOf(te);ye=ye.slice(M+1)}setTimeout(()=>q(ye)),re.preventDefault()}})})})})})})});zz.displayName=xhe;var jhe="SelectItemAlignedPosition",Vz=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,a=$c(Ku,n),o=Rc(Ku,n),[l,c]=w.useState(null),[u,d]=w.useState(null),f=Xt(t,A=>d(A)),m=Ob(n),g=w.useRef(!1),x=w.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:N,focusSelectedItem:j}=o,b=w.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&y&&N){const A=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),I=N.getBoundingClientRect();if(a.dir!=="rtl"){const te=I.left-E.left,M=D.left-te,je=A.left-M,we=A.width+je,Fe=Math.max(we,E.width),Be=window.innerWidth-fa,at=AI(M,[fa,Math.max(fa,Be-Fe)]);l.style.minWidth=we+"px",l.style.left=at+"px"}else{const te=E.right-I.right,M=window.innerWidth-D.right-te,je=window.innerWidth-A.right-M,we=A.width+je,Fe=Math.max(we,E.width),Be=window.innerWidth-fa,at=AI(M,[fa,Math.max(fa,Be-Fe)]);l.style.minWidth=we+"px",l.style.right=at+"px"}const O=m(),k=window.innerHeight-fa*2,F=v.scrollHeight,L=window.getComputedStyle(u),Y=parseInt(L.borderTopWidth,10),q=parseInt(L.paddingTop,10),ie=parseInt(L.borderBottomWidth,10),$=parseInt(L.paddingBottom,10),z=Y+q+F+$+ie,le=Math.min(y.offsetHeight*5,z),pe=window.getComputedStyle(v),ee=parseInt(pe.paddingTop,10),J=parseInt(pe.paddingBottom,10),B=A.top+A.height/2-fa,me=k-B,ve=y.offsetHeight/2,re=y.offsetTop+ve,V=Y+q+re,Z=z-V;if(V<=B){const te=O.length>0&&y===O[O.length-1].ref.current;l.style.bottom="0px";const M=u.clientHeight-v.offsetTop-v.offsetHeight,je=Math.max(me,ve+(te?J:0)+M+ie),we=V+je;l.style.height=we+"px"}else{const te=O.length>0&&y===O[0].ref.current;l.style.top="0px";const je=Math.max(B,Y+v.offsetTop+(te?ee:0)+ve)+Z;l.style.height=je+"px",v.scrollTop=V-B+v.offsetTop}l.style.margin=`${fa}px 0`,l.style.minHeight=le+"px",l.style.maxHeight=k+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[m,a.trigger,a.valueNode,l,u,v,y,N,a.dir,s]);wr(()=>b(),[b]);const[P,C]=w.useState();wr(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const _=w.useCallback(A=>{A&&x.current===!0&&(b(),j==null||j(),x.current=!1)},[b,j]);return r.jsx(whe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:_,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:r.jsx(it.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Vz.displayName=jhe;var bhe="SelectPopperPosition",R2=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=fa,...a}=e,o=Db(n);return r.jsx(cb,{...o,...a,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});R2.displayName=bhe;var[whe,gE]=Qf(Ku,{}),L2="SelectViewport",Uz=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,a=Rc(L2,n),o=gE(L2,n),l=Xt(t,a.onViewportChange),c=w.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Tb.Slot,{scope:n,children:r.jsx(it.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:He(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const x=window.innerHeight-fa*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),N=Math.max(v,y);if(N<x){const j=N+g,b=Math.min(x,j),P=j-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Uz.displayName=L2;var qz="SelectGroup",[Nhe,She]=Qf(qz),Che=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=rs();return r.jsx(Nhe,{scope:n,id:i,children:r.jsx(it.div,{role:"group","aria-labelledby":i,...s,ref:t})})});Che.displayName=qz;var Wz="SelectLabel",Hz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=She(Wz,n);return r.jsx(it.div,{id:i.id,...s,ref:t})});Hz.displayName=Wz;var A0="SelectItem",[Phe,Gz]=Qf(A0),Kz=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...o}=e,l=$c(A0,n),c=Rc(A0,n),u=l.value===s,[d,f]=w.useState(a??""),[m,g]=w.useState(!1),x=Xt(t,j=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,j,s,i)}),v=rs(),y=w.useRef("touch"),N=()=>{i||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Phe,{scope:n,value:s,disabled:i,textId:v,isSelected:u,onItemTextChange:w.useCallback(j=>{f(b=>b||((j==null?void 0:j.textContent)??"").trim())},[]),children:r.jsx(Tb.ItemSlot,{scope:n,value:s,disabled:i,textValue:d,children:r.jsx(it.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:He(o.onFocus,()=>g(!0)),onBlur:He(o.onBlur,()=>g(!1)),onClick:He(o.onClick,()=>{y.current!=="mouse"&&N()}),onPointerUp:He(o.onPointerUp,()=>{y.current==="mouse"&&N()}),onPointerDown:He(o.onPointerDown,j=>{y.current=j.pointerType}),onPointerMove:He(o.onPointerMove,j=>{var b;y.current=j.pointerType,i?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(o.onPointerLeave,j=>{var b;j.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:He(o.onKeyDown,j=>{var P;((P=c.searchRef)==null?void 0:P.current)!==""&&j.key===" "||(dhe.includes(j.key)&&N(),j.key===" "&&j.preventDefault())})})})})});Kz.displayName=A0;var mp="SelectItemText",Yz=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...a}=e,o=$c(mp,n),l=Rc(mp,n),c=Gz(mp,n),u=phe(mp,n),[d,f]=w.useState(null),m=Xt(t,N=>f(N),c.onItemTextChange,N=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,N,c.value,c.disabled)}),g=d==null?void 0:d.textContent,x=w.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return wr(()=>(v(x),()=>y(x)),[v,y,x]),r.jsxs(r.Fragment,{children:[r.jsx(it.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?od.createPortal(a.children,o.valueNode):null]})});Yz.displayName=mp;var Qz="SelectItemIndicator",Xz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return Gz(Qz,n).isSelected?r.jsx(it.span,{"aria-hidden":!0,...s,ref:t}):null});Xz.displayName=Qz;var F2="SelectScrollUpButton",Jz=w.forwardRef((e,t)=>{const n=Rc(F2,e.__scopeSelect),s=gE(F2,e.__scopeSelect),[i,a]=w.useState(!1),o=Xt(t,s.onScrollButtonChange);return wr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(eV,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Jz.displayName=F2;var B2="SelectScrollDownButton",Zz=w.forwardRef((e,t)=>{const n=Rc(B2,e.__scopeSelect),s=gE(B2,e.__scopeSelect),[i,a]=w.useState(!1),o=Xt(t,s.onScrollButtonChange);return wr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(eV,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Zz.displayName=B2;var eV=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,a=Rc("SelectScrollButton",n),o=w.useRef(null),l=Ob(n),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),wr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),r.jsx(it.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:He(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:He(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:He(i.onPointerLeave,()=>{c()})})}),_he="SelectSeparator",tV=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(it.div,{"aria-hidden":!0,...s,ref:t})});tV.displayName=_he;var z2="SelectArrow",Ahe=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Db(n),a=$c(z2,n),o=Rc(z2,n);return a.open&&o.position==="popper"?r.jsx(ub,{...i,...s,ref:t}):null});Ahe.displayName=z2;var Ehe="SelectBubbleInput",nV=w.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=w.useRef(null),a=Xt(s,i),o=pE(t);return w.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(it.select,{...n,style:{...A5,...n.style},ref:a,defaultValue:t})});nV.displayName=Ehe;function rV(e){return e===""||e===void 0}function sV(e){const t=Ds(e),n=w.useRef(""),s=w.useRef(0),i=w.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=w.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function iV(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=khe(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function khe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var The=Oz,aV=Mz,Ohe=$z,Dhe=Rz,Mhe=Lz,oV=Fz,Ihe=Uz,lV=Hz,cV=Kz,$he=Yz,Rhe=Xz,uV=Jz,dV=Zz,hV=tV;const Ie=The,$e=Ohe,De=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(aV,{ref:s,className:Ze("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(Dhe,{asChild:!0,children:r.jsx(sb,{className:"h-4 w-4 opacity-50"})})]}));De.displayName=aV.displayName;const fV=w.forwardRef(({className:e,...t},n)=>r.jsx(uV,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Lte,{className:"h-4 w-4"})}));fV.displayName=uV.displayName;const mV=w.forwardRef(({className:e,...t},n)=>r.jsx(dV,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(sb,{className:"h-4 w-4"})}));mV.displayName=dV.displayName;const Me=w.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>r.jsx(Mhe,{children:r.jsxs(oV,{ref:i,className:Ze("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(fV,{}),r.jsx(Ihe,{className:Ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(mV,{})]})}));Me.displayName=oV.displayName;const Lhe=w.forwardRef(({className:e,...t},n)=>r.jsx(lV,{ref:n,className:Ze("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Lhe.displayName=lV.displayName;const K=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(cV,{ref:s,className:Ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Rhe,{children:r.jsx(CA,{className:"h-4 w-4"})})}),r.jsx($he,{children:t})]}));K.displayName=cV.displayName;const Fhe=w.forwardRef(({className:e,...t},n)=>r.jsx(hV,{ref:n,className:Ze("-mx-1 my-1 h-px bg-muted",e),...t}));Fhe.displayName=hV.displayName;const Bhe=async()=>{const{data:e,error:t}=await Mr.from("clients").select("*").order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching clients: ${t.message}`);return e||[]},zhe=async e=>{const{data:{user:t}}=await Mr.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:n,error:s}=await Mr.from("clients").insert({...e,user_id:t.id,city:e.city||"Rabat",country:e.country||"Maroc",client_type:e.client_type||"particulier"}).select().single();if(s)throw new Error(`Error creating client: ${s.message}`);return n},Vhe=async(e,t)=>{const{data:n,error:s}=await Mr.from("clients").update(t).eq("id",e).select().single();if(s)throw new Error(`Error updating client: ${s.message}`);return n},Uhe=async()=>{const{data:e,error:t}=await Mr.from("animals").select(`
      *,
      client:clients(*)
    `).order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching animals: ${t.message}`);return e||[]},qhe=async e=>{var a,o,l;const{data:{user:t}}=await Mr.auth.getUser();if(!t)throw new Error("User not authenticated");const n={...e};"microchip_number"in n&&!((a=n.microchip_number)!=null&&a.trim())&&delete n.microchip_number,"birth_date"in n&&!((o=n.birth_date)!=null&&o.trim())&&delete n.birth_date,"sterilization_date"in n&&!((l=n.sterilization_date)!=null&&l.trim())&&delete n.sterilization_date;const{data:s,error:i}=await Mr.from("animals").insert({...n,user_id:t.id,sterilized:n.sterilized||!1,status:"vivant"}).select(`
      *,
      client:clients(*)
    `).single();if(i)throw new Error(`Error creating animal: ${i.message}`);return s},Whe=async(e,t)=>{var a,o,l;const n={...t};"microchip_number"in n&&!((a=n.microchip_number)!=null&&a.trim())&&(n.microchip_number=null),"birth_date"in n&&!((o=n.birth_date)!=null&&o.trim())&&(n.birth_date=null),"sterilization_date"in n&&!((l=n.sterilization_date)!=null&&l.trim())&&(n.sterilization_date=null);const{data:s,error:i}=await Mr.from("animals").update(n).eq("id",e).select(`
      *,
      client:clients(*)
    `).single();if(i)throw new Error(`Error updating animal: ${i.message}`);return s},Za={all:["clients"],lists:()=>[...Za.all,"list"],list:e=>[...Za.lists(),{filters:e}],details:()=>[...Za.all,"detail"],detail:e=>[...Za.details(),e],search:e=>[...Za.all,"search",e]},pi={all:["animals"],lists:()=>[...pi.all,"list"],list:e=>[...pi.lists(),{filters:e}],details:()=>[...pi.all,"detail"],detail:e=>[...pi.details(),e],byClient:e=>[...pi.all,"client",e],search:e=>[...pi.all,"search",e]},vE={all:["stats"],clients:()=>[...vE.all,"clients"]},xE={all:["userProfile"],profile:()=>[...xE.all,"profile"]},yE=()=>fb({queryKey:Za.lists(),queryFn:Bhe,staleTime:5*60*1e3}),Hhe=()=>{const e=Ra();return kc({mutationFn:zhe,onSuccess:t=>{e.invalidateQueries({queryKey:Za.lists()}),e.setQueryData(Za.detail(t.id),t),e.invalidateQueries({queryKey:vE.clients()})}})},Ghe=()=>{const e=Ra();return kc({mutationFn:({id:t,data:n})=>Vhe(t,n),onSuccess:t=>{e.setQueryData(Za.detail(t.id),t),e.invalidateQueries({queryKey:Za.lists()})}})},pV=()=>fb({queryKey:pi.lists(),queryFn:Uhe,staleTime:5*60*1e3}),Khe=()=>{const e=Ra();return kc({mutationFn:qhe,onSuccess:t=>{e.invalidateQueries({queryKey:pi.lists()}),e.setQueryData(pi.detail(t.id),t),e.invalidateQueries({queryKey:pi.byClient(t.client_id)}),e.invalidateQueries({queryKey:vE.clients()})}})},Yhe=()=>{const e=Ra();return kc({mutationFn:({id:t,data:n})=>Whe(t,n),onSuccess:t=>{e.setQueryData(pi.detail(t.id),t),e.invalidateQueries({queryKey:pi.lists()}),e.invalidateQueries({queryKey:pi.byClient(t.client_id)})}})},Qhe=()=>fb({queryKey:xE.profile(),queryFn:Eb,staleTime:5*60*1e3}),Xhe=()=>{const e=Ra();return kc({mutationFn:t=>Mde(t),onSuccess:t=>{e.setQueryData(xE.profile(),t),e.invalidateQueries({queryKey:["auth","session"]})}})};function pv({open:e,onOpenChange:t}){const n=Hhe(),{toast:s}=Ft(),[i,a]=w.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),o=u=>{const{id:d,value:f}=u.target;a(m=>({...m,[d]:f}))},l=(u,d)=>{a(f=>({...f,[u]:d}))},c=async u=>{u.preventDefault();try{await n.mutateAsync(i),s({title:"Client ajouté",description:`${i.first_name} ${i.last_name} a été ajouté et sauvegardé avec succès.`}),a({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),t(!1)}catch{s({title:"Erreur",description:"Une erreur s'est produite lors de l'ajout du client.",variant:"destructive"})}};return r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[500px]",children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:"Nouveau Client"}),r.jsx(Cn,{children:"Ajoutez un nouveau client à votre base de données."})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"first_name",children:"Prénom *"}),r.jsx(se,{id:"first_name",value:i.first_name,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"last_name",children:"Nom *"}),r.jsx(se,{id:"last_name",value:i.last_name,onChange:o,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:i.email||"",onChange:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"phone",children:"Téléphone *"}),r.jsx(se,{id:"phone",value:i.phone||"",onChange:o,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"address",children:"Adresse"}),r.jsx(se,{id:"address",value:i.address||"",onChange:o})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"city",children:"Ville"}),r.jsx(se,{id:"city",value:i.city||"",onChange:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"postal_code",children:"Code postal"}),r.jsx(se,{id:"postal_code",value:i.postal_code||"",onChange:o})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"mobile_phone",children:"Téléphone portable"}),r.jsx(se,{id:"mobile_phone",value:i.mobile_phone||"",onChange:o,placeholder:"Numéro de téléphone portable"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"client_type",children:"Type de client"}),r.jsxs(Ie,{value:i.client_type,onValueChange:u=>l("client_type",u),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner le type"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"particulier",children:"Particulier"}),r.jsx(K,{value:"eleveur",children:"Éleveur"}),r.jsx(K,{value:"ferme",children:"Ferme"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",value:i.notes||"",onChange:o,placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsxs(W,{type:"submit",disabled:n.isPending,children:[n.isPending&&r.jsx(zu,{className:"mr-2 h-4 w-4 animate-spin"}),"Ajouter Client"]})]})]})]})})}const Jhe=sv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Oe({className:e,variant:t,...n}){return r.jsx("div",{className:Ze(Jhe({variant:t}),e),...n})}const ay="vetpro-clinicSettings",gV={farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},vV={clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},xV={openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]},V2=[{id:1,name:"Dr. Jean Dupont",isActive:!0},{id:2,name:"Dr. Marie Martin",isActive:!0},{id:3,name:"Pr. Ahmed El Alaoui",isActive:!0}],oy={clinicName:"",address:"",phone:"",email:"",website:"",footerText:"",logo:"/placeholder.svg",currency:"MAD",species:"",showClinicInfo:!0,showVetsInfo:!0,veterinarians:V2,farmManagement:gV,displayPreferences:vV,defaultConsultationPrice:150,scheduleSettings:xV},yV=w.createContext(void 0),Zhe=({children:e})=>{const[t,n]=w.useState(oy);w.useEffect(()=>{const i=localStorage.getItem(ay);if(i)try{const a=JSON.parse(i),o={...oy,...a,veterinarians:a.veterinarians&&a.veterinarians.some(l=>l.name==="Dr. Martin"||l.name==="Dr. Dupont")?V2:a.veterinarians||V2,farmManagement:{...gV,...a.farmManagement},displayPreferences:{...vV,...a.displayPreferences},scheduleSettings:{...xV,...a.scheduleSettings}};n(o),localStorage.setItem(ay,JSON.stringify(o))}catch(a){console.error("Erreur lors du chargement des paramètres:",a),n(oy)}else localStorage.setItem(ay,JSON.stringify(oy))},[]);const s=i=>{n(i),localStorage.setItem(ay,JSON.stringify(i))};return r.jsx(yV.Provider,{value:{settings:t,updateSettings:s},children:e})},Wt=()=>{const e=w.useContext(yV);if(!e)throw new Error("useSettings must be used within SettingsProvider");return e};var Mb="Checkbox",[efe,N6e]=Zs(Mb),[tfe,jE]=efe(Mb);function nfe(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,g]=mo({prop:n,defaultProp:i??!1,onChange:c,caller:Mb}),[x,v]=w.useState(null),[y,N]=w.useState(null),j=w.useRef(!1),b=x?!!o||!!x.closest("form"):!0,P={checked:m,disabled:a,setChecked:g,control:x,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:vc(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:N};return r.jsx(tfe,{scope:t,...P,children:rfe(f)?f(P):s})}var jV="CheckboxTrigger",bV=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},i)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:x}=jE(jV,e),v=Xt(i,d),y=w.useRef(c);return w.useEffect(()=>{const N=a==null?void 0:a.form;if(N){const j=()=>f(y.current);return N.addEventListener("reset",j),()=>N.removeEventListener("reset",j)}},[a,f]),r.jsx(it.button,{type:"button",role:"checkbox","aria-checked":vc(c)?"mixed":c,"aria-required":u,"data-state":PV(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:v,onKeyDown:He(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:He(n,N=>{f(j=>vc(j)?!0:!j),x&&g&&(m.current=N.isPropagationStopped(),m.current||N.stopPropagation())})})});bV.displayName=jV;var bE=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return r.jsx(nfe,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>r.jsxs(r.Fragment,{children:[r.jsx(bV,{...f,ref:t,__scopeCheckbox:n}),m&&r.jsx(CV,{__scopeCheckbox:n})]})})});bE.displayName=Mb;var wV="CheckboxIndicator",NV=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,a=jE(wV,n);return r.jsx(ei,{present:s||vc(a.checked)||a.checked===!0,children:r.jsx(it.span,{"data-state":PV(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});NV.displayName=wV;var SV="CheckboxBubbleInput",CV=w.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:g}=jE(SV,e),x=Xt(n,g),v=pE(a),y=RA(s);w.useEffect(()=>{const j=m;if(!j)return;const b=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(b,"checked").set,_=!i.current;if(v!==a&&C){const A=new Event("click",{bubbles:_});j.indeterminate=vc(a),C.call(j,vc(a)?!1:a),j.dispatchEvent(A)}},[m,v,a,i]);const N=w.useRef(vc(a)?!1:a);return r.jsx(it.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});CV.displayName=SV;function rfe(e){return typeof e=="function"}function vc(e){return e==="indeterminate"}function PV(e){return vc(e)?"indeterminate":e?"checked":"unchecked"}const Ki=w.forwardRef(({className:e,...t},n)=>r.jsx(bE,{ref:n,className:Ze("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(NV,{className:Ze("flex items-center justify-center text-current"),children:r.jsx(CA,{className:"h-4 w-4"})})}));Ki.displayName=bE.displayName;function gv({open:e,onOpenChange:t}){const{data:n=[]}=yE(),s=Khe(),{settings:i}=Wt(),{toast:a}=Ft(),[o,l]=w.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),c=f=>{l(m=>({...m,[f.target.id]:f.target.value}))},u=(f,m)=>{l(g=>({...g,[f]:m}))},d=async f=>{if(f.preventDefault(),!n.find(g=>g.id===o.ownerId)){a({title:"Erreur",description:"Veuillez sélectionner un propriétaire valide."});return}try{const g={client_id:o.ownerId,name:o.name,species:o.type,breed:o.breed||void 0,color:o.color||void 0,sex:o.gender==="male"?"Mâle":o.gender==="female"?"Femelle":"Inconnu",weight:o.weight?Number(o.weight):void 0,birth_date:o.birthDate||void 0,...o.microchip&&o.microchip.trim()?{microchip_number:o.microchip.trim()}:{},notes:o.medicalNotes||void 0,photo_url:o.photo||void 0};await s.mutateAsync(g),a({title:"Animal ajouté",description:`${o.name} a été ajouté et sauvegardé avec succès.`}),l({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),t(!1)}catch{a({title:"Erreur",description:"Erreur lors de l'ajout de l'animal",variant:"destructive"})}};return r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:"Nouvel Animal"}),r.jsx(Cn,{children:"Ajoutez un nouvel animal à votre base de données."})]}),r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"name",children:"Nom de l'animal *"}),r.jsx(se,{id:"name",value:o.name,onChange:c,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Type d'animal *"}),r.jsxs(Ie,{value:o.type,onValueChange:f=>u("type",f),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner le type"})}),r.jsx(Me,{children:i.species?i.species.split(",").map((f,m)=>{const g=f.trim();return g?r.jsx(K,{value:g,children:g},m):null}).filter(Boolean):r.jsx(K,{value:"Chien",children:"Chien"})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"breed",children:"Race"}),r.jsx(se,{id:"breed",value:o.breed,onChange:c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Sexe"}),r.jsxs(Ie,{value:o.gender,onValueChange:f=>u("gender",f),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner le sexe"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"male",children:"Mâle"}),r.jsx(K,{value:"female",children:"Femelle"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"birthDate",children:"Date de naissance"}),r.jsx(se,{id:"birthDate",type:"date",value:o.birthDate,onChange:c,max:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(se,{id:"weight",value:o.weight,onChange:c})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"color",children:"Couleur"}),r.jsx(se,{id:"color",value:o.color,onChange:c})]}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Propriétaire *"}),n.length===0?r.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible. Veuillez d'abord ajouter un client."})}):r.jsxs(Ie,{value:o.ownerId.toString(),onValueChange:f=>u("ownerId",f),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner le propriétaire"})}),r.jsx(Me,{children:n.map(f=>r.jsxs(K,{value:f.id.toString(),children:[f.first_name," ",f.last_name," - ",f.email]},f.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"microchip",children:"Numéro de puce électronique"}),r.jsx(se,{id:"microchip",value:o.microchip,onChange:c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"medicalNotes",children:"Notes médicales"}),r.jsx(St,{id:"medicalNotes",value:o.medicalNotes,onChange:c,placeholder:"Allergies, conditions médicales, notes importantes..."})]}),r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ki,{id:"hasPedigree",checked:o.hasPedigree,onCheckedChange:f=>l(m=>({...m,hasPedigree:f}))}),r.jsx(U,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),o.hasPedigree&&r.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(se,{id:"officialName",value:o.officialName,onChange:c,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),r.jsx(se,{id:"pedigreeNumber",value:o.pedigreeNumber,onChange:c,placeholder:"Numéro de pedigree"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"breeder",children:"Éleveur"}),r.jsx(se,{id:"breeder",value:o.breeder,onChange:c,placeholder:"Nom de l'éleveur"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Père"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom du père",value:o.fatherName,onChange:c}),r.jsx(se,{placeholder:"N° pedigree du père",value:o.fatherPedigree,onChange:c}),r.jsx(se,{placeholder:"Race du père",value:o.fatherBreed,onChange:c}),r.jsx(St,{placeholder:"Titres du père",value:o.fatherTitles,onChange:c,rows:2})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom de la mère",value:o.motherName,onChange:c}),r.jsx(se,{placeholder:"N° pedigree de la mère",value:o.motherPedigree,onChange:c}),r.jsx(se,{placeholder:"Race de la mère",value:o.motherBreed,onChange:c}),r.jsx(St,{placeholder:"Titres de la mère",value:o.motherTitles,onChange:c,rows:2})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Document pedigree"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async f=>{var x;const m=(x=f.target.files)==null?void 0:x[0];if(!m)return;const g=new FileReader;g.onload=()=>l(v=>({...v,pedigreePhoto:g.result})),g.readAsDataURL(m)}}),o.pedigreePhoto&&r.jsx("img",{src:o.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Photo de l'animal"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async f=>{var x;const m=(x=f.target.files)==null?void 0:x[0];if(!m)return;const g=new FileReader;g.onload=()=>l(v=>({...v,photo:g.result})),g.readAsDataURL(m)}}),o.photo&&r.jsx("img",{src:o.photo,alt:"preview",className:"h-24 w-24 object-cover rounded"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(W,{type:"submit",children:"Ajouter Animal"})]})]})]})})}function wE(e,t,n){const s=[],{openingTime:i,closingTime:a,slotDuration:o,lunchBreakStart:l,lunchBreakEnd:c}=t,u=ly(i),d=ly(a),f=l?ly(l):null,m=c?ly(c):null;for(let g=u;g<d;g+=o){const x=ife(g),v=f&&m&&g>=f&&g<m,y=n.some(N=>N.date===e&&N.time===x);s.push({time:x,isAvailable:!y&&!v,isLunchBreak:!!v})}return s}function sfe(e,t,n,s){const a=wE(e,n,s).find(o=>o.time===t);return a?a.isAvailable:!1}function ly(e){const[t,n]=e.split(":").map(Number);return t*60+n}function ife(e){const t=Math.floor(e/60),n=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function afe(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"long"})}function ofe(e,t){const n=afe(e).toLowerCase();return t.workingDays.includes(n)}function NE({open:e,onOpenChange:t,prefillClientId:n,prefillPetId:s,prefillType:i,prefillReason:a,originalVaccinationId:o}){var ie,$;const{clients:l,pets:c,addAppointment:u,getPetsByOwnerId:d,createVaccinationReminder:f,appointments:m}=pt(),{settings:g}=Wt(),{toast:x}=Ft(),[v,y]=w.useState(!1),[N,j]=w.useState(!1),[b,P]=w.useState([]),[C,_]=w.useState({clientId:0,petId:0,date:"",time:"",type:"",duration:30,reason:"",notes:""}),[A,E]=w.useState([]),[D,I]=w.useState([]);w.useEffect(()=>{e&&(_({clientId:n||0,petId:s||0,date:"",time:"",type:i||"",duration:30,reason:a||"",notes:""}),E([]),I([]))},[e,n,s,i,a]),w.useEffect(()=>{if(e&&n&&s){const z=d(n);E(z);const le=z.find(pe=>pe.id===s);_(le?pe=>({...pe,petId:s}):pe=>({...pe,petId:0}))}},[e,n,s,d]),w.useEffect(()=>{if(C.clientId>0){const z=d(C.clientId);E(z),(!s||!z.find(le=>le.id===s))&&_(le=>({...le,petId:0}))}else E([])},[C.clientId,d,s]),w.useEffect(()=>{if(C.date){const z=wE(C.date,g.scheduleSettings,m);P(z),C.time&&!sfe(C.date,C.time,g.scheduleSettings,m)&&_(le=>({...le,time:""}))}else P([])},[C.date,g.scheduleSettings,m]),w.useEffect(()=>{C.date&&C.time&&C.duration&&O()},[C.date,C.time,C.duration]);const O=()=>{const z=[],le=new Date(`${C.date}T${C.time}`),pe=new Date(le.getTime()+C.duration*6e4),ee=le.getHours(),J=pe.getHours();(ee<8||J>18)&&z.push("Le rendez-vous doit être entre 8h00 et 18h00");const B=le.getDay();(B===0||B===6)&&z.push("Pas de rendez-vous le weekend"),I(z)},k=z=>{_(le=>({...le,[z.target.id]:z.target.value}))},F=(z,le)=>{_(pe=>({...pe,[z]:z==="clientId"||z==="petId"||z==="duration"?parseInt(le):le}))},L=z=>{if(z.preventDefault(),D.length>0){x({title:"Conflits détectés",description:D.join(", "),variant:"destructive"});return}if(!C.clientId||!C.petId||!C.date||!C.time||!C.type){x({title:"Informations manquantes",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}const le=l.find(ee=>ee.id===C.clientId),pe=c.find(ee=>ee.id===C.petId);if(!le||!pe){x({title:"Erreur",description:"Client ou animal non trouvé.",variant:"destructive"});return}u({clientId:C.clientId,clientName:le.name,petId:C.petId,petName:pe.name,date:C.date,time:C.time,type:C.type,duration:C.duration,reason:C.reason,notes:C.notes,status:"scheduled",reminderSent:!1}),i==="vaccination"&&o&&(f(o,C.date,C.time),x({title:"Rappel enregistré",description:"Le rappel de vaccination a été ajouté."})),x({title:"Rendez-vous planifié",description:`RDV pour ${pe.name} (${le.name}) prévu le ${C.date} à ${C.time}.`}),t(!1)},Y=()=>new Date().toISOString().split("T")[0],q=z=>({consultation:"Consultation générale",vaccination:"Vaccination",chirurgie:"Chirurgie",urgence:"Urgence",controle:"Contrôle post-opératoire",sterilisation:"Stérilisation",dentaire:"Soins dentaires"})[z]||z;return r.jsxs(r.Fragment,{children:[r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-5 w-5"}),"Nouveau Rendez-vous"]}),r.jsx(Cn,{children:"Planifiez un nouveau rendez-vous pour un client et son animal."})]}),r.jsxs("form",{onSubmit:L,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Client *"}),l.length===0?r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible."}),r.jsxs(W,{type:"button",size:"sm",variant:"outline",className:"mt-2 gap-1",onClick:()=>y(!0),children:[r.jsx(ft,{className:"h-3 w-3"}),"Ajouter Client"]})]}):r.jsxs(Ie,{value:C.clientId.toString(),onValueChange:z=>F("clientId",z),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner le client"})}),r.jsx(Me,{children:l.map(z=>r.jsx(K,{value:z.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-3 w-3"}),z.name]})},z.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Animal *"}),C.clientId===0?r.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md",children:r.jsx("p",{className:"text-gray-600 text-sm",children:"Sélectionnez d'abord un client"})}):A.length===0?r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun animal pour ce client."}),r.jsxs(W,{type:"button",size:"sm",variant:"outline",className:"mt-2 gap-1",onClick:()=>j(!0),children:[r.jsx(ft,{className:"h-3 w-3"}),"Ajouter Animal"]})]}):r.jsxs(Ie,{value:C.petId.toString(),onValueChange:z=>F("petId",z),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner l'animal"})}),r.jsx(Me,{children:A.map(z=>r.jsx(K,{value:z.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"h-3 w-3"}),z.name," (",z.type,")"]})},z.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"date",children:"Date *"}),r.jsx(se,{id:"date",type:"date",value:C.date,onChange:k,min:Y(),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"time",children:"Heure *"}),C.date?r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Ie,{value:C.time,onValueChange:z=>_(le=>({...le,time:z})),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner un créneau"})}),r.jsx(Me,{className:"max-h-60",children:b.map(z=>r.jsx(K,{value:z.time,disabled:!z.isAvailable,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:z.time}),z.isLunchBreak&&r.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Pause"}),!z.isAvailable&&r.jsx(Oe,{variant:"destructive",className:"text-xs",children:"Occupé"})]})},z.time))})]}),b.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun créneau disponible pour cette date"})]}):r.jsx(se,{id:"time",type:"time",value:C.time,onChange:k,disabled:!0,placeholder:"Sélectionnez d'abord une date"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Type de consultation *"}),r.jsxs(Ie,{value:C.type,onValueChange:z=>F("type",z),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Type de RDV"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"consultation",children:"Consultation générale"}),r.jsx(K,{value:"vaccination",children:"Vaccination"}),r.jsx(K,{value:"chirurgie",children:"Chirurgie"}),r.jsx(K,{value:"urgence",children:"Urgence"}),r.jsx(K,{value:"controle",children:"Contrôle post-opératoire"}),r.jsx(K,{value:"sterilisation",children:"Stérilisation"}),r.jsx(K,{value:"dentaire",children:"Soins dentaires"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Durée (minutes)"}),r.jsxs(Ie,{value:C.duration.toString(),onValueChange:z=>F("duration",z),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"15",children:"15 minutes"}),r.jsx(K,{value:"30",children:"30 minutes"}),r.jsx(K,{value:"45",children:"45 minutes"}),r.jsx(K,{value:"60",children:"1 heure"}),r.jsx(K,{value:"90",children:"1h30"}),r.jsx(K,{value:"120",children:"2 heures"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"reason",children:"Motif de consultation"}),r.jsx(se,{id:"reason",value:C.reason,onChange:k,placeholder:"ex: Vaccination annuelle, boiterie, contrôle..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",value:C.notes,onChange:k,placeholder:"Instructions spéciales, préparation nécessaire..."})]}),D.length>0&&r.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[r.jsx(zr,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Conflits détectés :"})]}),r.jsx("ul",{className:"mt-2 text-sm text-red-700",children:D.map((z,le)=>r.jsxs("li",{children:["• ",z]},le))})]}),C.clientId&&C.petId&&C.date&&C.time&&C.type&&r.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Résumé du rendez-vous :"}),r.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Client :"})," ",(ie=l.find(z=>z.id===C.clientId))==null?void 0:ie.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Animal :"})," ",($=c.find(z=>z.id===C.petId))==null?void 0:$.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date :"})," ",new Date(C.date).toLocaleDateString("fr-FR")]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Heure :"})," ",C.time]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type :"})," ",q(C.type)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Durée :"})," ",C.duration," minutes"]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(W,{type:"submit",disabled:D.length>0,children:"Planifier RDV"})]})]})]})}),r.jsx(pv,{open:v,onOpenChange:y}),r.jsx(gv,{open:N,onOpenChange:j})]})}var EI=1,lfe=.9,cfe=.8,ufe=.17,yS=.1,jS=.999,dfe=.9999,hfe=.99,ffe=/[\\\/_+.#"@\[\(\{&]/,mfe=/[\\\/_+.#"@\[\(\{&]/g,pfe=/[\s-]/,_V=/[\s-]/g;function U2(e,t,n,s,i,a,o){if(a===t.length)return i===e.length?EI:hfe;var l=`${i},${a}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(a),u=n.indexOf(c,i),d=0,f,m,g,x;u>=0;)f=U2(e,t,n,s,u+1,a+1,o),f>d&&(u===i?f*=EI:ffe.test(e.charAt(u-1))?(f*=cfe,g=e.slice(i,u-1).match(mfe),g&&i>0&&(f*=Math.pow(jS,g.length))):pfe.test(e.charAt(u-1))?(f*=lfe,x=e.slice(i,u-1).match(_V),x&&i>0&&(f*=Math.pow(jS,x.length))):(f*=ufe,i>0&&(f*=Math.pow(jS,u-i))),e.charAt(u)!==t.charAt(a)&&(f*=dfe)),(f<yS&&n.charAt(u-1)===s.charAt(a+1)||s.charAt(a+1)===s.charAt(a)&&n.charAt(u-1)!==s.charAt(a))&&(m=U2(e,t,n,s,u+1,a+2,o),m*yS>f&&(f=m*yS)),f>d&&(d=f),u=n.indexOf(c,u+1);return o[l]=d,d}function kI(e){return e.toLowerCase().replace(_V," ")}function gfe(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,U2(e,t,kI(e),kI(t),0,0,{})}var Km='[cmdk-group=""]',bS='[cmdk-group-items=""]',vfe='[cmdk-group-heading=""]',AV='[cmdk-item=""]',TI=`${AV}:not([aria-disabled="true"])`,q2="cmdk-item-select",eh="data-value",xfe=(e,t,n)=>gfe(e,t,n),EV=w.createContext(void 0),vv=()=>w.useContext(EV),kV=w.createContext(void 0),SE=()=>w.useContext(kV),TV=w.createContext(void 0),OV=w.forwardRef((e,t)=>{let n=th(()=>{var ee,J;return{search:"",value:(J=(ee=e.value)!=null?ee:e.defaultValue)!=null?J:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=th(()=>new Set),i=th(()=>new Map),a=th(()=>new Map),o=th(()=>new Set),l=DV(e),{label:c,children:u,value:d,onValueChange:f,filter:m,shouldFilter:g,loop:x,disablePointerSelection:v=!1,vimBindings:y=!0,...N}=e,j=rs(),b=rs(),P=rs(),C=w.useRef(null),_=Efe();Yu(()=>{if(d!==void 0){let ee=d.trim();n.current.value=ee,A.emit()}},[d]),Yu(()=>{_(6,F)},[]);let A=w.useMemo(()=>({subscribe:ee=>(o.current.add(ee),()=>o.current.delete(ee)),snapshot:()=>n.current,setState:(ee,J,B)=>{var me,ve,re,V;if(!Object.is(n.current[ee],J)){if(n.current[ee]=J,ee==="search")k(),I(),_(1,O);else if(ee==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Z=document.getElementById(P);Z?Z.focus():(me=document.getElementById(j))==null||me.focus()}if(_(7,()=>{var Z;n.current.selectedItemId=(Z=L())==null?void 0:Z.id,A.emit()}),B||_(5,F),((ve=l.current)==null?void 0:ve.value)!==void 0){let Z=J??"";(V=(re=l.current).onValueChange)==null||V.call(re,Z);return}}A.emit()}},emit:()=>{o.current.forEach(ee=>ee())}}),[]),E=w.useMemo(()=>({value:(ee,J,B)=>{var me;J!==((me=a.current.get(ee))==null?void 0:me.value)&&(a.current.set(ee,{value:J,keywords:B}),n.current.filtered.items.set(ee,D(J,B)),_(2,()=>{I(),A.emit()}))},item:(ee,J)=>(s.current.add(ee),J&&(i.current.has(J)?i.current.get(J).add(ee):i.current.set(J,new Set([ee]))),_(3,()=>{k(),I(),n.current.value||O(),A.emit()}),()=>{a.current.delete(ee),s.current.delete(ee),n.current.filtered.items.delete(ee);let B=L();_(4,()=>{k(),(B==null?void 0:B.getAttribute("id"))===ee&&O(),A.emit()})}),group:ee=>(i.current.has(ee)||i.current.set(ee,new Set),()=>{a.current.delete(ee),i.current.delete(ee)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:j,inputId:P,labelId:b,listInnerRef:C}),[]);function D(ee,J){var B,me;let ve=(me=(B=l.current)==null?void 0:B.filter)!=null?me:xfe;return ee?ve(ee,n.current.search,J):0}function I(){if(!n.current.search||l.current.shouldFilter===!1)return;let ee=n.current.filtered.items,J=[];n.current.filtered.groups.forEach(me=>{let ve=i.current.get(me),re=0;ve.forEach(V=>{let Z=ee.get(V);re=Math.max(Z,re)}),J.push([me,re])});let B=C.current;Y().sort((me,ve)=>{var re,V;let Z=me.getAttribute("id"),ye=ve.getAttribute("id");return((re=ee.get(ye))!=null?re:0)-((V=ee.get(Z))!=null?V:0)}).forEach(me=>{let ve=me.closest(bS);ve?ve.appendChild(me.parentElement===ve?me:me.closest(`${bS} > *`)):B.appendChild(me.parentElement===B?me:me.closest(`${bS} > *`))}),J.sort((me,ve)=>ve[1]-me[1]).forEach(me=>{var ve;let re=(ve=C.current)==null?void 0:ve.querySelector(`${Km}[${eh}="${encodeURIComponent(me[0])}"]`);re==null||re.parentElement.appendChild(re)})}function O(){let ee=Y().find(B=>B.getAttribute("aria-disabled")!=="true"),J=ee==null?void 0:ee.getAttribute(eh);A.setState("value",J||void 0)}function k(){var ee,J,B,me;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let ve=0;for(let re of s.current){let V=(J=(ee=a.current.get(re))==null?void 0:ee.value)!=null?J:"",Z=(me=(B=a.current.get(re))==null?void 0:B.keywords)!=null?me:[],ye=D(V,Z);n.current.filtered.items.set(re,ye),ye>0&&ve++}for(let[re,V]of i.current)for(let Z of V)if(n.current.filtered.items.get(Z)>0){n.current.filtered.groups.add(re);break}n.current.filtered.count=ve}function F(){var ee,J,B;let me=L();me&&(((ee=me.parentElement)==null?void 0:ee.firstChild)===me&&((B=(J=me.closest(Km))==null?void 0:J.querySelector(vfe))==null||B.scrollIntoView({block:"nearest"})),me.scrollIntoView({block:"nearest"}))}function L(){var ee;return(ee=C.current)==null?void 0:ee.querySelector(`${AV}[aria-selected="true"]`)}function Y(){var ee;return Array.from(((ee=C.current)==null?void 0:ee.querySelectorAll(TI))||[])}function q(ee){let J=Y()[ee];J&&A.setState("value",J.getAttribute(eh))}function ie(ee){var J;let B=L(),me=Y(),ve=me.findIndex(V=>V===B),re=me[ve+ee];(J=l.current)!=null&&J.loop&&(re=ve+ee<0?me[me.length-1]:ve+ee===me.length?me[0]:me[ve+ee]),re&&A.setState("value",re.getAttribute(eh))}function $(ee){let J=L(),B=J==null?void 0:J.closest(Km),me;for(;B&&!me;)B=ee>0?_fe(B,Km):Afe(B,Km),me=B==null?void 0:B.querySelector(TI);me?A.setState("value",me.getAttribute(eh)):ie(ee)}let z=()=>q(Y().length-1),le=ee=>{ee.preventDefault(),ee.metaKey?z():ee.altKey?$(1):ie(1)},pe=ee=>{ee.preventDefault(),ee.metaKey?q(0):ee.altKey?$(-1):ie(-1)};return w.createElement(it.div,{ref:t,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:ee=>{var J;(J=N.onKeyDown)==null||J.call(N,ee);let B=ee.nativeEvent.isComposing||ee.keyCode===229;if(!(ee.defaultPrevented||B))switch(ee.key){case"n":case"j":{y&&ee.ctrlKey&&le(ee);break}case"ArrowDown":{le(ee);break}case"p":case"k":{y&&ee.ctrlKey&&pe(ee);break}case"ArrowUp":{pe(ee);break}case"Home":{ee.preventDefault(),q(0);break}case"End":{ee.preventDefault(),z();break}case"Enter":{ee.preventDefault();let me=L();if(me){let ve=new Event(q2);me.dispatchEvent(ve)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:Tfe},c),Ib(e,ee=>w.createElement(kV.Provider,{value:A},w.createElement(EV.Provider,{value:E},ee))))}),yfe=w.forwardRef((e,t)=>{var n,s;let i=rs(),a=w.useRef(null),o=w.useContext(TV),l=vv(),c=DV(e),u=(s=(n=c.current)==null?void 0:n.forceMount)!=null?s:o==null?void 0:o.forceMount;Yu(()=>{if(!u)return l.item(i,o==null?void 0:o.id)},[u]);let d=MV(i,a,[e.value,e.children,a],e.keywords),f=SE(),m=Sc(_=>_.value&&_.value===d.current),g=Sc(_=>u||l.filter()===!1?!0:_.search?_.filtered.items.get(i)>0:!0);w.useEffect(()=>{let _=a.current;if(!(!_||e.disabled))return _.addEventListener(q2,x),()=>_.removeEventListener(q2,x)},[g,e.onSelect,e.disabled]);function x(){var _,A;v(),(A=(_=c.current).onSelect)==null||A.call(_,d.current)}function v(){f.setState("value",d.current,!0)}if(!g)return null;let{disabled:y,value:N,onSelect:j,forceMount:b,keywords:P,...C}=e;return w.createElement(it.div,{ref:rl(a,t),...C,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!m,"data-disabled":!!y,"data-selected":!!m,onPointerMove:y||l.getDisablePointerSelection()?void 0:v,onClick:y?void 0:x},e.children)}),jfe=w.forwardRef((e,t)=>{let{heading:n,children:s,forceMount:i,...a}=e,o=rs(),l=w.useRef(null),c=w.useRef(null),u=rs(),d=vv(),f=Sc(g=>i||d.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);Yu(()=>d.group(o),[]),MV(o,l,[e.value,e.heading,c]);let m=w.useMemo(()=>({id:o,forceMount:i}),[i]);return w.createElement(it.div,{ref:rl(l,t),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&w.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),Ib(e,g=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},w.createElement(TV.Provider,{value:m},g))))}),bfe=w.forwardRef((e,t)=>{let{alwaysRender:n,...s}=e,i=w.useRef(null),a=Sc(o=>!o.search);return!n&&!a?null:w.createElement(it.div,{ref:rl(i,t),...s,"cmdk-separator":"",role:"separator"})}),wfe=w.forwardRef((e,t)=>{let{onValueChange:n,...s}=e,i=e.value!=null,a=SE(),o=Sc(u=>u.search),l=Sc(u=>u.selectedItemId),c=vv();return w.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),w.createElement(it.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:i?e.value:o,onChange:u=>{i||a.setState("search",u.target.value),n==null||n(u.target.value)}})}),Nfe=w.forwardRef((e,t)=>{let{children:n,label:s="Suggestions",...i}=e,a=w.useRef(null),o=w.useRef(null),l=Sc(u=>u.selectedItemId),c=vv();return w.useEffect(()=>{if(o.current&&a.current){let u=o.current,d=a.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let g=u.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(f),m.unobserve(u)}}},[]),w.createElement(it.div,{ref:rl(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":s,id:c.listId},Ib(e,u=>w.createElement("div",{ref:rl(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Sfe=w.forwardRef((e,t)=>{let{open:n,onOpenChange:s,overlayClassName:i,contentClassName:a,container:o,...l}=e;return w.createElement(_z,{open:n,onOpenChange:s},w.createElement(Az,{container:o},w.createElement(fE,{"cmdk-overlay":"",className:i}),w.createElement(mE,{"aria-label":e.label,"cmdk-dialog":"",className:a},w.createElement(OV,{ref:t,...l}))))}),Cfe=w.forwardRef((e,t)=>Sc(n=>n.filtered.count===0)?w.createElement(it.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Pfe=w.forwardRef((e,t)=>{let{progress:n,children:s,label:i="Loading...",...a}=e;return w.createElement(it.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Ib(e,o=>w.createElement("div",{"aria-hidden":!0},o)))}),ti=Object.assign(OV,{List:Nfe,Item:yfe,Input:wfe,Group:jfe,Separator:bfe,Dialog:Sfe,Empty:Cfe,Loading:Pfe});function _fe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Afe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function DV(e){let t=w.useRef(e);return Yu(()=>{t.current=e}),t}var Yu=typeof window>"u"?w.useEffect:w.useLayoutEffect;function th(e){let t=w.useRef();return t.current===void 0&&(t.current=e()),t}function Sc(e){let t=SE(),n=()=>e(t.snapshot());return w.useSyncExternalStore(t.subscribe,n,n)}function MV(e,t,n,s=[]){let i=w.useRef(),a=vv();return Yu(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=s.map(u=>u.trim());a.value(e,l,c),(o=t.current)==null||o.setAttribute(eh,l),i.current=l}),i}var Efe=()=>{let[e,t]=w.useState(),n=th(()=>new Map);return Yu(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,i)=>{n.current.set(s,i),t({})}};function kfe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Ib({asChild:e,children:t},n){return e&&w.isValidElement(t)?w.cloneElement(kfe(t),{ref:t.ref},n(t.props.children)):n(t)}var Tfe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const $b=w.forwardRef(({className:e,...t},n)=>r.jsx(ti,{ref:n,className:Ze("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));$b.displayName=ti.displayName;const Rb=w.forwardRef(({className:e,...t},n)=>r.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[r.jsx(mr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx(ti.Input,{ref:n,className:Ze("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Rb.displayName=ti.Input.displayName;const Lb=w.forwardRef(({className:e,...t},n)=>r.jsx(ti.List,{ref:n,className:Ze("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Lb.displayName=ti.List.displayName;const Fb=w.forwardRef((e,t)=>r.jsx(ti.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Fb.displayName=ti.Empty.displayName;const Bb=w.forwardRef(({className:e,...t},n)=>r.jsx(ti.Group,{ref:n,className:Ze("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Bb.displayName=ti.Group.displayName;const Ofe=w.forwardRef(({className:e,...t},n)=>r.jsx(ti.Separator,{ref:n,className:Ze("-mx-1 h-px bg-border",e),...t}));Ofe.displayName=ti.Separator.displayName;const of=w.forwardRef(({className:e,...t},n)=>r.jsx(ti.Item,{ref:n,className:Ze("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));of.displayName=ti.Item.displayName;var zb="Popover",[IV,S6e]=Zs(zb,[Ec]),xv=Ec(),[Dfe,Lc]=IV(zb),$V=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=xv(t),c=w.useRef(null),[u,d]=w.useState(!1),[f,m]=mo({prop:s,defaultProp:i??!1,onChange:a,caller:zb});return r.jsx(BA,{...l,children:r.jsx(Dfe,{scope:t,contentId:rs(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:o,children:n})})};$V.displayName=zb;var RV="PopoverAnchor",Mfe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Lc(RV,n),a=xv(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return w.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(av,{...a,...s,ref:t})});Mfe.displayName=RV;var LV="PopoverTrigger",FV=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Lc(LV,n),a=xv(n),o=Xt(t,i.triggerRef),l=r.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":qV(i.open),...s,ref:o,onClick:He(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:r.jsx(av,{asChild:!0,...a,children:l})});FV.displayName=LV;var CE="PopoverPortal",[Ife,$fe]=IV(CE,{forceMount:void 0}),BV=e=>{const{__scopePopover:t,forceMount:n,children:s,container:i}=e,a=Lc(CE,t);return r.jsx(Ife,{scope:t,forceMount:n,children:r.jsx(ei,{present:n||a.open,children:r.jsx(Ff,{asChild:!0,container:i,children:s})})})};BV.displayName=CE;var lf="PopoverContent",zV=w.forwardRef((e,t)=>{const n=$fe(lf,e.__scopePopover),{forceMount:s=n.forceMount,...i}=e,a=Lc(lf,e.__scopePopover);return r.jsx(ei,{present:s||a.open,children:a.modal?r.jsx(Lfe,{...i,ref:t}):r.jsx(Ffe,{...i,ref:t})})});zV.displayName=lf;var Rfe=bc("PopoverContent.RemoveScroll"),Lfe=w.forwardRef((e,t)=>{const n=Lc(lf,e.__scopePopover),s=w.useRef(null),i=Xt(t,s),a=w.useRef(!1);return w.useEffect(()=>{const o=s.current;if(o)return yb(o)},[]),r.jsx(cv,{as:Rfe,allowPinchZoom:!0,children:r.jsx(VV,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:He(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ffe=w.forwardRef((e,t)=>{const n=Lc(lf,e.__scopePopover),s=w.useRef(!1),i=w.useRef(!1);return r.jsx(VV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),VV=w.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=Lc(lf,n),g=xv(n);return vb(),r.jsx(ov,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(ld,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:r.jsx(cb,{"data-state":qV(m.open),role:"dialog",id:m.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),UV="PopoverClose",Bfe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Lc(UV,n);return r.jsx(it.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>i.onOpenChange(!1))})});Bfe.displayName=UV;var zfe="PopoverArrow",Vfe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=xv(n);return r.jsx(ub,{...i,...s,ref:t})});Vfe.displayName=zfe;function qV(e){return e?"open":"closed"}var Ufe=$V,qfe=FV,Wfe=BV,WV=zV;const PE=Ufe,_E=qfe,Vb=w.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},i)=>r.jsx(Wfe,{children:r.jsx(WV,{ref:i,align:t,sideOffset:n,className:Ze("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Vb.displayName=WV.displayName;function Ub({open:e,onOpenChange:t,petId:n,consultationId:s}){const{clients:i,pets:a,consultations:o,addPrescription:l,stockItems:c,updateStockItem:u}=pt(),{toast:d}=Ft(),{settings:f}=Wt(),[m,g]=w.useState({consultationId:s||0,clientId:0,petId:n,date:new Date().toISOString().split("T")[0],prescribedBy:f.veterinarians.length>0?f.veterinarians[0].name:"",diagnosis:"",instructions:"",duration:"",followUpDate:"",notes:""}),[x,v]=w.useState([{name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,unit:"comprimés",refills:0,cost:0,isInStock:!1,stockQuantity:0,stockDeducted:!1}]),[y,N]=w.useState({}),j=a.find(k=>k.id===n),b=j?i.find(k=>k.pets.some(F=>F.id===n)):null;w.useEffect(()=>{j&&b&&g(k=>({...k,clientId:b.id}))},[j,b]);const P=c.filter(k=>(k.category==="medication"||k.category==="supplement")&&(k.currentStock||0)>0),C=(k,F)=>{g(L=>({...L,[k]:F}))},_=(k,F,L)=>{const Y=[...x];if(F==="quantity"||F==="refills"||F==="cost"){const q=typeof L=="string"?parseFloat(L)||0:L;Y[k]={...Y[k],[F]:q}}else F==="stockDeducted"?Y[k]={...Y[k],[F]:L}:Y[k]={...Y[k],[F]:L};if(F==="name"){const q=P.find(ie=>ie.name===L);q?Y[k]={...Y[k],isInStock:!0,stockQuantity:q.currentStock||0,cost:q.sellingPrice||0,stockDeducted:!0}:Y[k]={...Y[k],isInStock:!1,stockQuantity:0,stockDeducted:!1}}v(Y)},A=()=>{v([...x,{name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,unit:"comprimés",refills:0,cost:0,isInStock:!1,stockQuantity:0,stockDeducted:!1}])},E=k=>{x.length>1&&v(x.filter((F,L)=>L!==k))},D=(k,F)=>{_(k,"name",F.name),N(L=>({...L,[k]:!1}))},I=k=>{const F=k.toLowerCase();return F.includes("vitamine")||F.includes("vitamin")?["1 comprimé","2 comprimés","1ml","2ml","1 goutte","2 gouttes"]:F.includes("antibiotique")||F.includes("antibiotic")?["50mg","100mg","250mg","500mg","1 comprimé","2 comprimés"]:F.includes("anti-inflammatoire")||F.includes("anti-inflammatory")?["25mg","50mg","100mg","1 comprimé","2 comprimés","1ml"]:F.includes("vermifuge")||F.includes("dewormer")?["1 comprimé","2 comprimés","1ml","2ml","1 pipette"]:F.includes("pommade")||F.includes("cream")||F.includes("gel")?["Fine couche","Couche mince","1 application","2 applications"]:F.includes("sirop")||F.includes("syrup")?["1ml","2ml","5ml","1 cuillère","2 cuillères"]:F.includes("goutte")||F.includes("drop")?["1 goutte","2 gouttes","3 gouttes","4 gouttes","5 gouttes"]:F.includes("injection")||F.includes("injectable")?["0.1ml","0.2ml","0.5ml","1ml","2ml"]:["1 comprimé","2 comprimés","1ml","2ml","50mg","100mg","250mg","500mg"]},O=async k=>{if(k.preventDefault(),!m.diagnosis.trim()){d({title:"Erreur",description:"Le diagnostic est obligatoire.",variant:"destructive"});return}const F=x.filter(q=>q.name.trim()!=="");if(F.length===0){d({title:"Erreur",description:"Au moins un médicament doit être spécifié.",variant:"destructive"});return}const L=F.map((q,ie)=>({...q,id:ie+1})),Y={...m,clientName:(b==null?void 0:b.name)||"",petName:(j==null?void 0:j.name)||"",status:"active",medications:L};try{l(Y);let q=0;for(const ie of F)if(ie.isInStock&&ie.stockDeducted){const $=c.find(z=>z.name===ie.name);if($){const z=Math.max(0,($.currentStock||0)-ie.quantity);u($.id,{...$,currentStock:z});const le=ie.cost*ie.quantity;q+=le}}d({title:"Prescription créée",description:`La prescription a été créée avec succès.${q>0?` Coût total: ${q} ${f.currency}`:""}`}),t(!1),g({consultationId:s||0,clientId:0,petId:n,date:new Date().toISOString().split("T")[0],prescribedBy:f.veterinarians.length>0?f.veterinarians[0].name:"",diagnosis:"",instructions:"",duration:"",followUpDate:"",notes:""}),v([{name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,unit:"comprimés",refills:0,cost:0,isInStock:!1,stockQuantity:0,stockDeducted:!1}])}catch{d({title:"Erreur",description:"Une erreur est survenue lors de la création de la prescription.",variant:"destructive"})}};return!j||!b?null:r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(Yo,{className:"h-5 w-5"}),"Nouvelle Prescription"]}),r.jsxs(Cn,{children:["Prescription pour ",j.name," - ",b.name]})]}),r.jsxs("form",{onSubmit:O,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Date de prescription *"}),r.jsx(se,{type:"date",value:m.date,onChange:k=>C("date",k.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Prescrit par *"}),r.jsxs(Ie,{value:m.prescribedBy,onValueChange:k=>C("prescribedBy",k),required:!0,children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner un vétérinaire"})}),r.jsx(Me,{children:f.veterinarians.length>0?f.veterinarians.map(k=>r.jsx(K,{value:k.name,children:k.name},k.id)):r.jsx(K,{value:"",disabled:!0,children:"Aucun vétérinaire configuré"})})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Diagnostic *"}),r.jsx(St,{value:m.diagnosis,onChange:k=>C("diagnosis",k.target.value),placeholder:"Diagnostic de l'animal",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Instructions générales"}),r.jsx(St,{value:m.instructions,onChange:k=>C("instructions",k.target.value),placeholder:"Instructions générales pour le propriétaire"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Durée du traitement"}),r.jsx(se,{value:m.duration,onChange:k=>C("duration",k.target.value),placeholder:"ex: 7 jours, 2 semaines..."})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Date de suivi"}),r.jsx(se,{type:"date",value:m.followUpDate,onChange:k=>C("followUpDate",k.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Notes"}),r.jsx(se,{value:m.notes,onChange:k=>C("notes",k.target.value),placeholder:"Notes supplémentaires"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Médicaments"}),r.jsxs(W,{type:"button",onClick:A,variant:"outline",size:"sm",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter un médicament"]})]}),x.map((k,F)=>r.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h4",{className:"font-medium",children:["Médicament ",F+1]}),k.name&&r.jsx("div",{className:"flex items-center gap-1",children:k.isInStock?r.jsxs(Oe,{variant:"default",className:"bg-green-100 text-green-800 border-green-200",children:[r.jsx(Zn,{className:"h-3 w-3 mr-1"}),"En stock (",k.stockQuantity,")"]}):r.jsxs(Oe,{variant:"destructive",className:"bg-orange-100 text-orange-800 border-orange-200",children:[r.jsx(Un,{className:"h-3 w-3 mr-1"}),"Non disponible en stock"]})})]}),x.length>1&&r.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>E(F),className:"text-red-600 hover:text-red-700",children:r.jsx(zn,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Nom du médicament *"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{value:k.name,onChange:L=>_(F,"name",L.target.value),placeholder:"Nom du médicament",required:!0}),P.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Ou sélectionner depuis le stock :"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[P.slice(0,5).map(L=>r.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:()=>D(F,L),className:"text-xs",children:[L.name,r.jsx(Oe,{variant:"secondary",className:"ml-1 text-xs",children:L.currentStock||0})]},L.id)),P.length>5&&r.jsxs(PE,{children:[r.jsx(_E,{asChild:!0,children:r.jsxs(W,{type:"button",variant:"outline",size:"sm",className:"text-xs",children:["+",P.length-5," autres"]})}),r.jsx(Vb,{className:"w-80 p-0",children:r.jsxs($b,{children:[r.jsx(Rb,{placeholder:"Rechercher un médicament..."}),r.jsxs(Lb,{children:[r.jsx(Fb,{children:"Aucun médicament trouvé."}),r.jsx(Bb,{children:P.slice(5).map(L=>r.jsx(of,{value:L.name,onSelect:()=>D(F,L),children:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsx("span",{children:L.name}),r.jsxs(Oe,{variant:"outline",className:"ml-2",children:["Stock: ",L.currentStock||0]})]})},L.id))})]})]})})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Dosage *"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{value:k.dosage,onChange:L=>_(F,"dosage",L.target.value),placeholder:"ex: 50mg, 100mg, 1 comprimé...",required:!0}),k.name&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:[r.jsx("p",{className:"font-medium",children:"Suggestions de dosage :"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:I(k.name).map((L,Y)=>r.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-6 text-xs px-2",onClick:()=>_(F,"dosage",L),children:L},Y))})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Fréquence *"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{value:k.frequency,onChange:L=>_(F,"frequency",L.target.value),placeholder:"ex: 2x/jour, 3x/jour...",required:!0}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:[r.jsx("p",{className:"font-medium",children:"Suggestions de fréquence :"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:["1x/jour","2x/jour","3x/jour","1x/12h","1x/8h","Au besoin"].map(L=>r.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-6 text-xs px-2",onClick:()=>_(F,"frequency",L),children:L},L))})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Quantité"}),r.jsx(se,{type:"number",value:k.quantity,onChange:L=>_(F,"quantity",L.target.value),min:"1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Unité"}),r.jsxs(Ie,{value:k.unit,onValueChange:L=>_(F,"unit",L),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"comprimés",children:"Comprimés"}),r.jsx(K,{value:"ml",children:"ml"}),r.jsx(K,{value:"g",children:"g"}),r.jsx(K,{value:"mg",children:"mg"}),r.jsx(K,{value:"ampoules",children:"Ampoules"}),r.jsx(K,{value:"flacons",children:"Flacons"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(U,{children:["Coût unitaire (",f.currency,")"]}),r.jsx(se,{type:"number",step:"0.01",value:k.cost,onChange:L=>_(F,"cost",L.target.value),min:"0"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Instructions spécifiques"}),r.jsx(se,{value:k.instructions,onChange:L=>_(F,"instructions",L.target.value),placeholder:"ex: Donner avec de la nourriture..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Renouvellements"}),r.jsx(se,{type:"number",value:k.refills,onChange:L=>_(F,"refills",L.target.value),min:"0",placeholder:"0"})]})]}),k.isInStock&&r.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted rounded-lg",children:[r.jsx("input",{type:"checkbox",id:`stock-deduct-${F}`,checked:k.stockDeducted,onChange:L=>_(F,"stockDeducted",L.target.checked),className:"rounded border-gray-300"}),r.jsxs(U,{htmlFor:`stock-deduct-${F}`,className:"text-sm",children:["Déduire ",k.quantity," ",k.unit," du stock"]}),k.stockDeducted&&r.jsxs(Oe,{variant:"default",className:"ml-2",children:["Stock: ",k.stockQuantity-k.quantity]})]})]},F))]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(W,{type:"submit",children:"Créer la prescription"})]})]})]})})}function Xf({open:e,onOpenChange:t}){const{clients:n,pets:s,addConsultation:i}=pt(),{toast:a}=Ft(),{settings:o}=Wt(),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(!1),[g,x]=w.useState({clientId:0,clientName:"",petId:0,petName:"",date:"",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:o.defaultConsultationPrice.toString(),notes:"",photos:[]}),v=s.filter(P=>P.ownerId===g.clientId),y=new Date().toISOString().split("T")[0];w.useEffect(()=>{o.defaultConsultationPrice&&!g.cost&&x(P=>({...P,cost:o.defaultConsultationPrice.toString()}))},[o.defaultConsultationPrice,g.cost]);const N=P=>{x(C=>({...C,[P.target.id]:P.target.value}))},j=(P,C)=>{if(P==="clientId"){const _=parseInt(C),A=n.find(E=>E.id===_);x(E=>({...E,clientId:_,clientName:(A==null?void 0:A.name)||"",petId:0,petName:""}))}else if(P==="petId"){const _=parseInt(C),A=s.find(E=>E.id===_);x(E=>({...E,petId:_,petName:(A==null?void 0:A.name)||""}))}else x(_=>({..._,[P]:C}))},b=P=>{if(P.preventDefault(),!g.clientId||!g.petId){a({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}i({clientId:g.clientId,clientName:g.clientName,petId:g.petId,petName:g.petName,date:g.date||y,weight:g.weight,temperature:g.temperature,symptoms:g.symptoms,diagnosis:g.diagnosis,treatment:g.treatment,medications:"",followUp:g.followUp,cost:g.cost,notes:g.notes,photos:g.photos}),a({title:"Consultation enregistrée",description:`Consultation pour ${g.petName} (${g.clientName}) a été enregistrée et sauvegardée.`}),x({clientId:0,clientName:"",petId:0,petName:"",date:y,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:"",notes:"",photos:[]}),t(!1)};return w.useEffect(()=>{e&&x({clientId:0,clientName:"",petId:0,petName:"",date:y,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:"",notes:"",photos:[]})},[e,y]),r.jsxs(r.Fragment,{children:[r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:"Nouvelle Consultation"}),r.jsx(Cn,{children:"Enregistrez une nouvelle consultation vétérinaire."})]}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Client *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ie,{value:g.clientId.toString(),onValueChange:P=>j("clientId",P),children:[r.jsx(De,{className:"flex-1",children:r.jsx($e,{placeholder:"Sélectionner le client"})}),r.jsx(Me,{children:n.map(P=>r.jsx(K,{value:P.id.toString(),children:P.name},P.id))})]}),r.jsx(W,{type:"button",size:"sm",variant:"outline",onClick:()=>c(!0),className:"px-2",children:r.jsx(ft,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Animal *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Ie,{value:g.petId.toString(),onValueChange:P=>j("petId",P),disabled:!g.clientId,children:[r.jsx(De,{className:"flex-1",children:r.jsx($e,{placeholder:g.clientId?"Sélectionner l'animal":"Sélectionnez d'abord un client"})}),r.jsx(Me,{children:v.map(P=>r.jsxs(K,{value:P.id.toString(),children:[P.name," (",P.type,")"]},P.id))})]}),r.jsx(W,{type:"button",size:"sm",variant:"outline",onClick:()=>d(!0),className:"px-2",disabled:!g.clientId,children:r.jsx(ft,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"date",children:"Date *"}),r.jsx(se,{id:"date",type:"date",value:g.date||y,onChange:N,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(se,{id:"weight",type:"number",step:"0.1",value:g.weight,onChange:N,placeholder:"ex: 25.5"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"temperature",children:"Température (°C)"}),r.jsx(se,{id:"temperature",type:"number",step:"0.1",value:g.temperature,onChange:N,placeholder:"ex: 38.5"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"symptoms",children:"Symptômes observés"}),r.jsx(St,{id:"symptoms",value:g.symptoms,onChange:N,placeholder:"Décrivez les symptômes et observations...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(St,{id:"diagnosis",value:g.diagnosis,onChange:N,placeholder:"Diagnostic posé...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"treatment",children:"Traitement administré"}),r.jsx(St,{id:"treatment",value:g.treatment,onChange:N,placeholder:"Traitements, injections, interventions...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Prescription"}),r.jsxs("div",{className:"flex items-center gap-2 p-4 border rounded-lg bg-muted/30",children:[r.jsx(Yo,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium",children:"Créer une prescription"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Gérez les médicaments prescrits de manière séparée"})]}),r.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:()=>m(!0),disabled:!g.petId,className:"gap-2",children:[r.jsx(Yo,{className:"h-4 w-4"}),"Nouvelle Prescription"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"followUp",children:"Suivi recommandé"}),r.jsx(se,{id:"followUp",value:g.followUp,onChange:N,placeholder:"ex: Contrôle dans 1 semaine"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(U,{htmlFor:"cost",children:["Coût (",o.currency,")"]}),r.jsx(se,{id:"cost",type:"number",step:"0.01",value:g.cost,onChange:N,placeholder:"ex: 85.50"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"notes",children:"Notes additionnelles"}),r.jsx(St,{id:"notes",value:g.notes,onChange:N,placeholder:"Notes diverses, recommandations...",rows:3})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(U,{children:"Photos de la consultation"}),r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:async P=>{const C=Array.from(P.target.files||[]),_=await Promise.all(C.map(A=>new Promise((E,D)=>{const I=new FileReader;I.onload=()=>E(I.result),I.onerror=()=>D(),I.readAsDataURL(A)})));x(A=>({...A,photos:[...A.photos,..._]}))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"}),g.photos.length>0&&r.jsx("div",{className:"flex gap-2 overflow-x-auto pt-2",children:g.photos.map((P,C)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:P,alt:`photo-${C}`,className:"h-24 w-24 object-cover rounded"}),r.jsx("button",{type:"button",onClick:()=>x(_=>({..._,photos:_.photos.filter((A,E)=>E!==C)})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},C))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(W,{type:"submit",children:"Enregistrer Consultation"})]})]})]})}),r.jsx(pv,{open:l,onOpenChange:c}),r.jsx(gv,{open:u,onOpenChange:d}),r.jsx(Ub,{open:f,onOpenChange:m,petId:g.petId,consultationId:0})]})}const Hfe=({children:e,allowedRoles:t,fallback:n=null})=>{const{user:s}=Mc();return!s||!t.includes(s.profile.role)?r.jsx(r.Fragment,{children:n}):r.jsx(r.Fragment,{children:e})},W2=({children:e,fallback:t=null})=>r.jsx(Hfe,{allowedRoles:["admin"],fallback:t,children:e});function Gfe(){const{clients:e,pets:t,consultations:n,vaccinations:s,antiparasitics:i,generateAccountingSummary:a}=pt(),{settings:o}=Wt(),l=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),c=l.length===1?`Bienvenue ${l[0].title} ${l[0].name}`:`Bienvenue à ${o.clinicName}`,[u,d]=w.useState(!1),[f,m]=w.useState(!1),[g,x]=w.useState(!1),[v,y]=w.useState(!1),N=e.length,j=t.length,b=s.length,P=i.length,C=new Date().toISOString().split("T")[0],_=n.filter(k=>k.date===C).length,A=new Date().getMonth(),E=new Date().getFullYear(),D=new Date(E,A,1).toISOString().split("T")[0],I=new Date(E,A+1,0).toISOString().split("T")[0],O=a(`${E}-${String(A+1).padStart(2,"0")}`,D,I);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"relative overflow-hidden gradient-hero rounded-2xl p-8 mb-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-8",children:[o.logo&&r.jsx("img",{src:o.logo,alt:"Logo clinique",className:"h-20 w-20 object-contain rounded"}),r.jsxs("div",{className:"flex-1 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-sm font-medium text-primary",children:"Gestion Vétérinaire Complète"})]}),r.jsxs("h1",{className:"text-4xl font-bold leading-tight max-w-3xl",children:[c,", ",r.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"Dashboard VetPro"})]}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl",children:"Gérez efficacement vos clients, leurs animaux, les rendez-vous et consultations. Votre pratique vétérinaire optimisée en un seul endroit."}),r.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[r.jsxs(W,{size:"lg",className:"gap-2 medical-glow",onClick:()=>d(!0),children:[r.jsx(ka,{className:"h-5 w-5"}),"Nouveau Client",r.jsx(YC,{className:"h-4 w-4"})]}),r.jsxs(W,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>x(!0),children:[r.jsx(Yt,{className:"h-5 w-5"}),"Nouvel Animal"]}),r.jsxs(W,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>m(!0),children:[r.jsx(wt,{className:"h-5 w-5"}),"Planifier RDV"]}),r.jsxs(W,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>y(!0),children:[r.jsx(pr,{className:"h-5 w-5"}),"Nouvelle Consultation"]})]}),r.jsxs("div",{className:"flex gap-6 pt-8 flex-wrap",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:N}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Clients actifs"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-secondary",children:j}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Animaux suivis"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-accent",children:_}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Consultations aujourd'hui"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Vaccinations"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:P}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Antiparasitaires"})]}),r.jsx(W2,{children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[O.totalRevenue.toFixed(0)," ",o.currency||"€"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Revenus ce mois"})]})})]})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsx("img",{src:uz,alt:"Vétérinaire professionnel examinant un chien",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})}),r.jsx(pv,{open:u,onOpenChange:d}),r.jsx(NE,{open:f,onOpenChange:m}),r.jsx(gv,{open:g,onOpenChange:x}),r.jsx(Xf,{open:v,onOpenChange:y})]})}function Kfe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,vaccinations:o,antiparasitics:l,stockItems:c,stockMovements:u,accountingEntries:d,getUpcomingAppointments:f,getOverdueAppointments:m,generateAccountingSummary:g}=pt(),{settings:x}=Wt(),v=e.length,y=t.length;n.length,s.length,i.length;const N=a.length,j=o.length,b=l.length,P=c.length,C=new Date().getMonth(),_=new Date().getFullYear(),A=n.filter(V=>{const Z=new Date(V.date);return Z.getMonth()===C&&Z.getFullYear()===_}).length,E=o.filter(V=>{const Z=new Date(V.dateGiven);return Z.getMonth()===C&&Z.getFullYear()===_}).length,D=l.filter(V=>{const Z=new Date(V.dateGiven);return Z.getMonth()===C&&Z.getFullYear()===_}).length,I=new Date().toISOString().split("T")[0],O=n.filter(V=>V.date===I).length,k=s.filter(V=>V.date===I&&V.status!=="cancelled"&&V.status!=="completed").length,F=f();m();const L=c.filter(V=>V.currentStock<=V.minimumStock).length,Y=c.filter(V=>V.currentStock===0).length;c.reduce((V,Z)=>V+Z.currentStock*Z.purchasePrice,0);const q=new Date(_,C,1).toISOString().split("T")[0],ie=new Date(_,C+1,0).toISOString().split("T")[0],$=g(`${_}-${String(C+1).padStart(2,"0")}`,q,ie),z=$.totalRevenue;$.totalExpenses;const le=$.netIncome,pe=(V,Z)=>{if(Z===0)return V>0?"+100%":"0%";const ye=(V-Z)/Z*100;return ye>=0?`+${Math.round(ye)}%`:`${Math.round(ye)}%`},ee=C===0?11:C-1,J=C===0?_-1:_,B=n.filter(V=>{const Z=new Date(V.date);return Z.getMonth()===ee&&Z.getFullYear()===J}).length,me=e.filter(V=>{const Z=new Date(V.lastVisit);return Z.getMonth()===ee&&Z.getFullYear()===J}).length,ve=t.filter(V=>{if(!V.lastVisit)return!1;const Z=new Date(V.lastVisit);return Z.getMonth()===ee&&Z.getFullYear()===J}).length;s.filter(V=>{const Z=new Date(V.date);return Z.getMonth()===ee&&Z.getFullYear()===J}).length;const re=[{title:"Clients Total",value:v.toString(),change:pe(v,me),icon:ka,color:"text-blue-600",bgColor:"bg-blue-50",description:`${v>0?Math.round(v/10):0} nouveaux ce mois`},{title:"Animaux Suivis",value:y.toString(),change:pe(y,ve),icon:Yt,color:"text-red-600",bgColor:"bg-red-50",description:`${y>0?Math.round(y/8):0} nouveaux ce mois`},{title:"RDV Aujourd'hui",value:k.toString(),change:k>0?"+"+Math.min(20,Math.floor(k*.3))+"%":"0%",icon:wt,color:"text-purple-600",bgColor:"bg-purple-50",description:`${F.length} à venir cette semaine`},{title:"Consultations",value:A.toString(),change:pe(A,B),icon:pr,color:"text-green-600",bgColor:"bg-green-50",description:`${O} aujourd'hui`},{title:"Revenus Réels",value:`${z.toFixed(0)} ${x.currency||"€"}`,change:z>0?"+"+Math.round(z/1e3*10)+"%":"0%",icon:Bf,color:"text-emerald-600",bgColor:"bg-emerald-50",description:`Bénéfice: ${le.toFixed(0)} ${x.currency||"€"}`},{title:"Activité Ferme",value:N.toString(),change:N>0?"+"+Math.min(15,Math.floor(N*.2))+"%":"0%",icon:Xi,color:"text-orange-600",bgColor:"bg-orange-50",description:`${N} exploitations actives`},{title:"Vaccinations",value:E.toString(),change:E>0?"+"+Math.min(25,Math.floor(E*.3))+"%":"0%",icon:As,color:"text-blue-600",bgColor:"bg-blue-50",description:`${j} total ce mois`},{title:"Antiparasitaires",value:D.toString(),change:D>0?"+"+Math.min(20,Math.floor(D*.25))+"%":"0%",icon:yi,color:"text-purple-600",bgColor:"bg-purple-50",description:`${b} total ce mois`},{title:"Stock",value:P.toString(),change:L>0?"-"+Math.min(15,Math.floor(L*.2))+"%":"0%",icon:L>0?Un:Hn,color:L>0?"text-red-600":"text-green-600",bgColor:L>0?"bg-red-50":"bg-green-50",description:`${L} en rupture, ${Y} épuisés`}];return r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:re.map(V=>r.jsxs(de,{className:"card-hover",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ae,{className:"text-sm font-medium text-muted-foreground",children:V.title}),r.jsx("div",{className:`p-2 rounded-lg ${V.bgColor}`,children:r.jsx(V.icon,{className:`h-4 w-4 ${V.color}`})})]}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold",children:V.value}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r.jsx("span",{className:"text-secondary font-medium",children:V.change})," vs mois dernier"]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:V.description})]})]},V.title))})}function Yfe({open:e,onOpenChange:t,client:n,onEdit:s}){return n?r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[600px]",children:[r.jsx(Pt,{children:r.jsx(_t,{children:"Profil Client"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Hr,{className:"h-20 w-20",children:r.jsx(Gr,{className:"bg-primary text-primary-foreground text-xl",children:n.name.split(" ").map(i=>i[0]).join("")})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(zf,{className:"h-3 w-3"}),n.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ef,{className:"h-3 w-3"}),n.phone]})]})]})]}),n.address&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Adresse"}),r.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground",children:[r.jsx(cd,{className:"h-4 w-4 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{children:n.address}),r.jsxs("p",{children:[n.postalCode," ",n.city]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[r.jsx(Yt,{className:"h-4 w-4 text-primary"}),"Animaux (",n.pets.length,")"]}),n.pets.length>0?r.jsx("div",{className:"space-y-2",children:n.pets.map((i,a)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:i.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.type," • ",i.breed]})]}),r.jsx(Oe,{variant:"outline",children:i.status==="healthy"?"En bonne santé":i.status==="treatment"?"En traitement":"Urgent"})]},a))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucun animal enregistré"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernière visite:"}),r.jsx("p",{children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Total visites:"}),r.jsx("p",{children:n.totalVisits})]})]}),n.notes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Notes"}),r.jsx("p",{className:"text-muted-foreground",children:n.notes})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(W,{onClick:s,className:"gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})]})]})]})}):null}function Qfe({open:e,onOpenChange:t,client:n}){const{updateClient:s}=pt(),{toast:i}=Ft(),[a,o]=w.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",idNumber:"",notes:""});w.useEffect(()=>{n&&o({firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,address:n.address||"",city:n.city||"",postalCode:n.postalCode||"",idNumber:n.idNumber||"",notes:n.notes||""})},[n]);const l=u=>{o(d=>({...d,[u.target.id]:u.target.value}))},c=u=>{u.preventDefault(),n&&(s(n.id,a),i({title:"Client modifié",description:`Les informations de ${a.firstName} ${a.lastName} ont été mises à jour.`}),t(!1))};return n?r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[500px]",children:[r.jsx(Pt,{children:r.jsx(_t,{children:"Modifier Client"})}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"firstName",children:"Prénom *"}),r.jsx(se,{id:"firstName",value:a.firstName,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"lastName",children:"Nom *"}),r.jsx(se,{id:"lastName",value:a.lastName,onChange:l,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:a.email,onChange:l})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"phone",children:"Téléphone *"}),r.jsx(se,{id:"phone",value:a.phone,onChange:l,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"address",children:"Adresse"}),r.jsx(se,{id:"address",value:a.address,onChange:l})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"city",children:"Ville"}),r.jsx(se,{id:"city",value:a.city,onChange:l})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"postalCode",children:"Code postal"}),r.jsx(se,{id:"postalCode",value:a.postalCode,onChange:l})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"idNumber",children:"N° pièce d'identité"}),r.jsx(se,{id:"idNumber",value:a.idNumber,onChange:l,placeholder:"Numéro de carte d'identité, passeport, etc."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",value:a.notes,onChange:l,placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(W,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}function Xfe(){const{clients:e,pets:t,consultations:n,appointments:s}=pt();Wt();const[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),g=[...e].sort((A,E)=>new Date(E.lastVisit).getTime()-new Date(A.lastVisit).getTime()).slice(0,5),x=e.length,v=e.filter(A=>{const E=new Date(A.lastVisit),D=new Date;return D.setDate(D.getDate()-30),E>=D}).length,y=e.filter(A=>{const E=new Date(A.lastVisit),D=new Date().getMonth(),I=new Date().getFullYear();return E.getMonth()===D&&E.getFullYear()===I}).length,N=x>0?(t.length/x).toFixed(1):"0",j=A=>{f(A),l(!0)},b=A=>{f(A),u(!0)},P=()=>{l(!1),u(!0)},C=A=>{const E=new Date(A),I=Math.abs(new Date().getTime()-E.getTime()),O=Math.ceil(I/(1e3*60*60*24));return O===0?"Aujourd'hui":O===1?"Hier":O<7?`Il y a ${O} jours`:O<30?`Il y a ${Math.floor(O/7)} semaine${Math.floor(O/7)>1?"s":""}`:`Il y a ${Math.floor(O/30)} mois`},_=A=>{const E=t.filter(O=>O.ownerId===A.id),D=n.filter(O=>O.clientId===A.id),I=s.filter(O=>O.clientId===A.id);return{pets:E.length,consultations:D.length,appointments:I.length,lastActivity:D.length>0?Math.max(...D.map(O=>new Date(O.date).getTime())):new Date(A.lastVisit).getTime()}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{className:"card-hover",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Ae,{className:"text-lg font-semibold",children:"Clients Récents"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ka,{className:"h-3 w-3"}),r.jsxs("span",{children:[x," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Xi,{className:"h-3 w-3"}),r.jsxs("span",{children:[v," actifs"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),r.jsxs("span",{children:["+",y," ce mois"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(In,{className:"h-3 w-3"}),r.jsxs("span",{children:["Ø ",N," animaux"]})]})]})]}),r.jsxs(W,{size:"sm",className:"gap-2",onClick:()=>a(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau Client"]})]}),r.jsx(he,{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(ka,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun client enregistré"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier client"})]}):g.map(A=>{const E=_(A);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Hr,{children:r.jsx(Gr,{className:"bg-primary text-primary-foreground",children:A.name.split(" ").map(D=>D[0]).join("")})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium",children:A.name}),r.jsxs(Oe,{variant:"outline",className:"text-xs",children:[E.pets," animal",E.pets>1?"s":""]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(zf,{className:"h-3 w-3"}),A.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ef,{className:"h-3 w-3"}),A.phone]}),A.city&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(cd,{className:"h-3 w-3"}),A.city]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Dernière visite: ",C(A.lastVisit)]}),r.jsxs("span",{children:["Total visites: ",A.totalVisits]}),r.jsxs("span",{children:["Consultations: ",E.consultations]}),r.jsxs("span",{children:["RDV: ",E.appointments]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>j(A),children:[r.jsx(ns,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(W,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>b(A),children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})]})]},A.id)})})]}),r.jsx(pv,{open:i,onOpenChange:a}),r.jsx(Yfe,{open:o,onOpenChange:l,client:d,onEdit:P}),r.jsx(Qfe,{open:c,onOpenChange:u,client:d})]})}function HV({open:e,onOpenChange:t,pet:n,onEdit:s,onShowDossier:i}){const{updatePet:a}=pt(),[o,l]=w.useState(null);w.useEffect(()=>{e&&l((n==null?void 0:n.photo)||null)},[e,n]);const c=w.useRef(null),u=d=>{var m;const f=(m=d.target.files)==null?void 0:m[0];if(f){const g=new FileReader;g.onload=x=>{var y;const v=(y=x.target)==null?void 0:y.result;l(v),a(n.id,{photo:v})},g.readAsDataURL(f)}};return n?r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsx(Pt,{children:r.jsx(_t,{children:"Profil Animal"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(Hr,{className:"h-24 w-24",children:o?r.jsx(ll,{src:o,alt:n.name,className:"h-full w-full object-cover rounded-full"}):r.jsx(Gr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Yt,{className:"h-12 w-12"})})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(W,{size:"sm",variant:"outline",className:"gap-2 w-full flex items-center justify-center",onClick:()=>{var d;return(d=c.current)==null?void 0:d.click()},children:[r.jsx(Zh,{className:"h-4 w-4"}),o?"Changer photo":"Ajouter photo"]}),o&&r.jsx(W,{size:"sm",variant:"destructive",className:"gap-2 w-full",onClick:()=>{l(null),a(n.id,{photo:void 0})},children:"Supprimer photo"}),r.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:u,className:"hidden"})]})]}),r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),r.jsx(Oe,{variant:"outline",className:n.status==="healthy"?"bg-secondary text-secondary-foreground":n.status==="treatment"?"bg-accent text-accent-foreground":"bg-destructive text-destructive-foreground",children:n.status==="healthy"?"En bonne santé":n.status==="treatment"?"En traitement":"Urgent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"}),r.jsx("p",{className:"text-muted-foreground",children:n.type})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"}),r.jsx("p",{className:"text-muted-foreground",children:n.breed||"Non spécifiée"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"}),r.jsx("p",{className:"text-muted-foreground",children:n.birthDate?r.jsxs(r.Fragment,{children:[tf(n.birthDate),r.jsx("br",{}),r.jsxs("span",{className:"text-xs",children:["Né(e) le ",lo(n.birthDate)]})]}):"Non spécifié"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"}),r.jsx("p",{className:"text-muted-foreground",children:n.weight||"Non spécifié"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"}),r.jsx("p",{className:"text-muted-foreground",children:n.color||"Non spécifiée"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Propriétaire:"}),r.jsx("p",{className:"text-muted-foreground",children:n.owner})]})]}),n.microchip&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Puce électronique:"}),r.jsx("p",{className:"text-muted-foreground font-mono",children:n.microchip})]})]}),r.jsxs("div",{className:"space-y-4",children:[n.lastVisit&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernière visite:"}),r.jsx("p",{className:"text-muted-foreground",children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]})]}),n.nextAppointment&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Prochain RDV:"}),r.jsx("p",{className:"text-muted-foreground",children:new Date(n.nextAppointment).toLocaleDateString("fr-FR")})]})]})]})]}),n.vaccinations&&n.vaccinations.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Vaccinations"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:n.vaccinations.map((d,f)=>r.jsx(Oe,{variant:"outline",children:d},f))})]}),n.medicalNotes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Notes médicales"}),r.jsx("p",{className:"text-muted-foreground p-3 bg-muted/30 rounded-lg",children:n.medicalNotes})]}),r.jsxs("div",{className:"flex justify-between gap-2 pt-4 border-t",children:[r.jsxs(W,{variant:"outline",onClick:i,className:"gap-2",children:[r.jsx(lr,{className:"h-4 w-4"}),"Voir Dossier Médical"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(W,{onClick:s,className:"gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})]})]})]})]})}):null}function Jfe({open:e,onOpenChange:t,pet:n}){const{updatePet:s,clients:i}=pt(),{settings:a}=Wt(),{toast:o}=Ft(),[l,c]=w.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:0,microchip:"",medicalNotes:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""});w.useEffect(()=>{n&&c({name:n.name,type:n.type,breed:n.breed||"",gender:n.gender||"",birthDate:n.birthDate||"",weight:n.weight||"",color:n.color||"",ownerId:n.ownerId,microchip:n.microchip||"",medicalNotes:n.medicalNotes||"",status:n.status,hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""})},[n]);const u=m=>{c(g=>({...g,[m.target.id]:m.target.value}))},d=(m,g)=>{c(x=>({...x,[m]:m==="ownerId"?parseInt(g):g}))},f=m=>{if(m.preventDefault(),!n)return;const g=i.find(x=>x.id===l.ownerId);s(n.id,{...l,owner:(g==null?void 0:g.name)||n.owner}),o({title:"Animal modifié",description:`Les informations de ${l.name} ont été mises à jour.`}),t(!1)};return n?r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsx(Pt,{children:r.jsx(_t,{children:"Modifier Animal"})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"name",children:"Nom de l'animal *"}),r.jsx(se,{id:"name",value:l.name,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Type d'animal *"}),r.jsxs(Ie,{value:l.type,onValueChange:m=>d("type",m),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsx(Me,{children:a.species?a.species.split(",").map((m,g)=>{const x=m.trim();return x?r.jsx(K,{value:x,children:x},g):null}).filter(Boolean):r.jsx(K,{value:"Chien",children:"Chien"})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"breed",children:"Race"}),r.jsx(se,{id:"breed",value:l.breed,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Sexe"}),r.jsxs(Ie,{value:l.gender,onValueChange:m=>d("gender",m),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner le sexe"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"male",children:"Mâle"}),r.jsx(K,{value:"female",children:"Femelle"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"birthDate",children:"Date de naissance"}),r.jsx(se,{id:"birthDate",type:"date",value:l.birthDate,onChange:u,max:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(se,{id:"weight",value:l.weight,onChange:u})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"color",children:"Couleur"}),r.jsx(se,{id:"color",value:l.color,onChange:u})]}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Propriétaire *"}),r.jsxs(Ie,{value:l.ownerId.toString(),onValueChange:m=>d("ownerId",m),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsx(Me,{children:i.map(m=>r.jsx(K,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Statut de santé"}),r.jsxs(Ie,{value:l.status,onValueChange:m=>d("status",m),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"healthy",children:"En bonne santé"}),r.jsx(K,{value:"treatment",children:"En traitement"}),r.jsx(K,{value:"urgent",children:"Urgent"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"microchip",children:"Numéro de puce électronique"}),r.jsx(se,{id:"microchip",value:l.microchip,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"medicalNotes",children:"Notes médicales"}),r.jsx(St,{id:"medicalNotes",value:l.medicalNotes,onChange:u,placeholder:"Allergies, conditions médicales, notes importantes..."})]}),r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ki,{id:"hasPedigree",checked:l.hasPedigree,onCheckedChange:m=>c(g=>({...g,hasPedigree:m}))}),r.jsx(U,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),l.hasPedigree&&r.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(se,{id:"officialName",value:l.officialName,onChange:u,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),r.jsx(se,{id:"pedigreeNumber",value:l.pedigreeNumber,onChange:u,placeholder:"Numéro de pedigree"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"breeder",children:"Éleveur"}),r.jsx(se,{id:"breeder",value:l.breeder,onChange:u,placeholder:"Nom de l'éleveur"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Père"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom du père",value:l.fatherName,onChange:u}),r.jsx(se,{placeholder:"N° pedigree du père",value:l.fatherPedigree,onChange:u}),r.jsx(se,{placeholder:"Race du père",value:l.fatherBreed,onChange:u}),r.jsx(St,{placeholder:"Titres du père",value:l.fatherTitles,onChange:u,rows:2})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom de la mère",value:l.motherName,onChange:u}),r.jsx(se,{placeholder:"N° pedigree de la mère",value:l.motherPedigree,onChange:u}),r.jsx(se,{placeholder:"Race de la mère",value:l.motherBreed,onChange:u}),r.jsx(St,{placeholder:"Titres de la mère",value:l.motherTitles,onChange:u,rows:2})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Document pedigree"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,pedigreePhoto:x.result})),x.readAsDataURL(g)}}),l.pedigreePhoto&&r.jsx("img",{src:l.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(W,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}var qb="Tabs",[Zfe,C6e]=Zs(qb,[xb]),GV=xb(),[eme,AE]=Zfe(qb),KV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=gb(l),[f,m]=mo({prop:s,onChange:i,defaultProp:a??"",caller:qb});return r.jsx(eme,{scope:n,baseId:rs(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:r.jsx(it.div,{dir:d,"data-orientation":o,...u,ref:t})})});KV.displayName=qb;var YV="TabsList",QV=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,a=AE(YV,n),o=GV(n);return r.jsx(pB,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(it.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});QV.displayName=YV;var XV="TabsTrigger",JV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...a}=e,o=AE(XV,n),l=GV(n),c=tU(o.baseId,s),u=nU(o.baseId,s),d=s===o.value;return r.jsx(gB,{asChild:!0,...l,focusable:!i,active:d,children:r.jsx(it.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:He(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:He(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:He(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(s)})})})});JV.displayName=XV;var ZV="TabsContent",eU=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:a,...o}=e,l=AE(ZV,n),c=tU(l.baseId,s),u=nU(l.baseId,s),d=s===l.value,f=w.useRef(d);return w.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(ei,{present:i||d,children:({present:m})=>r.jsx(it.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});eU.displayName=ZV;function tU(e,t){return`${e}-trigger-${t}`}function nU(e,t){return`${e}-content-${t}`}var tme=KV,rU=QV,sU=JV,iU=eU;const ml=tme,xo=w.forwardRef(({className:e,...t},n)=>r.jsx(rU,{ref:n,className:Ze("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));xo.displayName=rU.displayName;const ln=w.forwardRef(({className:e,...t},n)=>r.jsx(sU,{ref:n,className:Ze("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ln.displayName=sU.displayName;const cn=w.forwardRef(({className:e,...t},n)=>r.jsx(iU,{ref:n,className:Ze("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));cn.displayName=iU.displayName;function ea(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Cc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function aU(e,t){const n=ea(e);return isNaN(t)?Cc(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const oU=6048e5,nme=864e5;let rme={};function Wb(){return rme}function dg(e,t){var l,c,u,d;const n=Wb(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=ea(e),a=i.getDay(),o=(a<s?7:0)+a-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function E0(e){return dg(e,{weekStartsOn:1})}function lU(e){const t=ea(e),n=t.getFullYear(),s=Cc(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=E0(s),a=Cc(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=E0(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function k0(e){const t=ea(e);return t.setHours(0,0,0,0),t}function OI(e){const t=ea(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function sme(e,t){const n=k0(e),s=k0(t),i=+n-OI(n),a=+s-OI(s);return Math.round((i-a)/nme)}function ime(e){const t=lU(e),n=Cc(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),E0(n)}function ame(e,t){const n=k0(e),s=k0(t);return+n==+s}function ome(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function lme(e){if(!ome(e)&&typeof e!="number")return!1;const t=ea(e);return!isNaN(Number(t))}function cme(e){const t=ea(e),n=Cc(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ume={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dme=(e,t,n)=>{let s;const i=ume[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Eh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const hme={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pme={date:Eh({formats:hme,defaultWidth:"full"}),time:Eh({formats:fme,defaultWidth:"full"}),dateTime:Eh({formats:mme,defaultWidth:"full"})},gme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vme=(e,t,n,s)=>gme[e];function eo(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const xme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sme=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Cme={ordinalNumber:Sme,era:eo({values:xme,defaultWidth:"wide"}),quarter:eo({values:yme,defaultWidth:"wide",argumentCallback:e=>e-1}),month:eo({values:jme,defaultWidth:"wide"}),day:eo({values:bme,defaultWidth:"wide"}),dayPeriod:eo({values:wme,defaultWidth:"wide",formattingValues:Nme,defaultFormattingWidth:"wide"})};function to(e){return(t,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?_me(l,f=>f.test(o)):Pme(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Pme(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function _me(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function cU(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const Ame=/^(\d+)(th|st|nd|rd)?/i,Eme=/\d+/i,kme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tme={any:[/^b/i,/^(a|c)/i]},Ome={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dme={any:[/1/i,/2/i,/3/i,/4/i]},Mme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ime={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$me={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bme={ordinalNumber:cU({matchPattern:Ame,parsePattern:Eme,valueCallback:e=>parseInt(e,10)}),era:to({matchPatterns:kme,defaultMatchWidth:"wide",parsePatterns:Tme,defaultParseWidth:"any"}),quarter:to({matchPatterns:Ome,defaultMatchWidth:"wide",parsePatterns:Dme,defaultParseWidth:"any",valueCallback:e=>e+1}),month:to({matchPatterns:Mme,defaultMatchWidth:"wide",parsePatterns:Ime,defaultParseWidth:"any"}),day:to({matchPatterns:$me,defaultMatchWidth:"wide",parsePatterns:Rme,defaultParseWidth:"any"}),dayPeriod:to({matchPatterns:Lme,defaultMatchWidth:"any",parsePatterns:Fme,defaultParseWidth:"any"})},zme={code:"en-US",formatDistance:dme,formatLong:pme,formatRelative:vme,localize:Cme,match:Bme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vme(e){const t=ea(e);return sme(t,cme(t))+1}function Ume(e){const t=ea(e),n=+E0(t)-+ime(t);return Math.round(n/oU)+1}function uU(e,t){var d,f,m,g;const n=ea(e),s=n.getFullYear(),i=Wb(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=Cc(e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=dg(o,t),c=Cc(e,0);c.setFullYear(s,0,a),c.setHours(0,0,0,0);const u=dg(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function qme(e,t){var l,c,u,d;const n=Wb(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=uU(e,t),a=Cc(e,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),dg(a,t)}function Wme(e,t){const n=ea(e),s=+dg(n,t)-+qme(n,t);return Math.round(s/oU)+1}function yn(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const Ml={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return yn(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):yn(n+1,2)},d(e,t){return yn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return yn(e.getHours()%12||12,t.length)},H(e,t){return yn(e.getHours(),t.length)},m(e,t){return yn(e.getMinutes(),t.length)},s(e,t){return yn(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return yn(i,t.length)}},Gd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},DI={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return Ml.y(e,t)},Y:function(e,t,n,s){const i=uU(e,s),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return yn(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):yn(a,t.length)},R:function(e,t){const n=lU(e);return yn(n,t.length)},u:function(e,t){const n=e.getFullYear();return yn(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return yn(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return yn(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Ml.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return yn(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const i=Wme(e,s);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):yn(i,t.length)},I:function(e,t,n){const s=Ume(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):yn(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ml.d(e,t)},D:function(e,t,n){const s=Vme(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):yn(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return yn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return yn(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return yn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let i;switch(s===12?i=Gd.noon:s===0?i=Gd.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let i;switch(s>=17?i=Gd.evening:s>=12?i=Gd.afternoon:s>=4?i=Gd.morning:i=Gd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ml.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ml.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):yn(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):yn(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ml.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ml.s(e,t)},S:function(e,t){return Ml.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return II(s);case"XXXX":case"XX":return au(s);case"XXXXX":case"XXX":default:return au(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return II(s);case"xxxx":case"xx":return au(s);case"xxxxx":case"xxx":default:return au(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+MI(s,":");case"OOOO":default:return"GMT"+au(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+MI(s,":");case"zzzz":default:return"GMT"+au(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return yn(s,t.length)},T:function(e,t,n){const s=e.getTime();return yn(s,t.length)}};function MI(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),a=s%60;return a===0?n+String(i):n+String(i)+t+yn(a,2)}function II(e,t){return e%60===0?(e>0?"-":"+")+yn(Math.abs(e)/60,2):au(e,t)}function au(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=yn(Math.trunc(s/60),2),a=yn(s%60,2);return n+i+t+a}const $I=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},dU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Hme=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return $I(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",$I(s,t)).replace("{{time}}",dU(i,t))},Gme={p:dU,P:Hme},Kme=/^D+$/,Yme=/^Y+$/,Qme=["D","DD","YY","YYYY"];function Xme(e){return Kme.test(e)}function Jme(e){return Yme.test(e)}function Zme(e,t,n){const s=epe(e,t,n);if(console.warn(s),Qme.includes(e))throw new RangeError(s)}function epe(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tpe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,npe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rpe=/^'([^]*?)'?$/,spe=/''/g,ipe=/[a-zA-Z]/;function It(e,t,n){var d,f,m,g,x,v,y,N;const s=Wb(),i=(n==null?void 0:n.locale)??s.locale??zme,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((N=(y=s.locale)==null?void 0:y.options)==null?void 0:N.weekStartsOn)??0,l=ea(e);if(!lme(l))throw new RangeError("Invalid time value");let c=t.match(npe).map(j=>{const b=j[0];if(b==="p"||b==="P"){const P=Gme[b];return P(j,i.formatLong)}return j}).join("").match(tpe).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const b=j[0];if(b==="'")return{isToken:!1,value:ape(j)};if(DI[b])return{isToken:!0,value:j};if(b.match(ipe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:j}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(j=>{if(!j.isToken)return j.value;const b=j.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Jme(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Xme(b))&&Zme(b,t,String(e));const P=DI[b[0]];return P(l,b,i.localize,u)}).join("")}function ape(e){const t=e.match(rpe);return t?t[1].replace(spe,"'"):e}const ope=[{value:"left_shoulder",label:"Épaule gauche"},{value:"right_shoulder",label:"Épaule droite"},{value:"left_hip",label:"Hanche gauche"},{value:"right_hip",label:"Hanche droite"},{value:"subcutaneous",label:"Sous-cutané"}];function T0({children:e,selectedPetId:t,selectedClientId:n,isReminder:s=!1,originalVaccinationId:i,open:a,onOpenChange:o,editingVaccination:l}){const{clients:c,pets:u,addVaccination:d,updateVaccination:f,getVaccinationProtocolsBySpecies:m,calculateDueDateFromProtocol:g,stockItems:x}=pt(),{settings:v}=Wt(),{toast:y}=Ft(),[N,j]=w.useState(!1),b=a!==void 0?a:N,P=o||j;w.useState(!1);const[C,_]=w.useState(!1),[A,E]=w.useState(!1),[D,I]=w.useState([]),[O,k]=w.useState({clientId:n||"",petId:t||"",vaccineName:"",vaccineType:"",dateGiven:It(new Date,"yyyy-MM-dd"),batchNumber:"",veterinarian:"",notes:"",cost:"",location:"",manufacturer:"",expirationDate:"",adverseReactions:""}),[F,L]=w.useState([]),Y=F||[],[q,ie]=w.useState({}),[$,z]=w.useState(null),[le,pe]=w.useState("");w.useEffect(()=>{n&&k(V=>({...V,clientId:n.toString()})),t&&k(V=>({...V,petId:t.toString()}))},[n,t]),w.useEffect(()=>{const V=x.filter(Z=>Z.category==="vaccine"&&Z.isActive&&Z.currentStock>0).sort((Z,ye)=>Z.name.localeCompare(ye.name));I(V),console.log("Vaccins disponibles mis à jour:",V.length,"items")},[x]),w.useEffect(()=>{l&&k({clientId:l.clientId.toString(),petId:l.petId.toString(),vaccineName:l.vaccineName,vaccineType:l.vaccineType,dateGiven:l.dateGiven,nextDueDate:l.nextDueDate,batchNumber:l.batchNumber||"",veterinarian:l.veterinarian||"",notes:l.notes||"",cost:l.cost||"",location:l.location||"",manufacturer:l.manufacturer||"",injectionSite:l.injectionSite||""})},[l]),w.useEffect(()=>{if(O.vaccineName&&O.dateGiven&&O.petId){const V=u.find(Z=>Z.id===parseInt(O.petId));if(V){const Z=g(O.vaccineName,V.type,O.dateGiven);Z&&pe(Z)}}},[O.vaccineName,O.dateGiven,O.petId,u,g]),w.useEffect(()=>{if(Y.length>0&&O.dateGiven){const V={};Y.forEach(Z=>{Z.intervals.forEach(ye=>{const te=`${Z.id}-${ye.offsetDays}`;V[te]=It(aU(new Date(O.dateGiven),ye.offsetDays),"yyyy-MM-dd")})}),ie(V)}else ie({})},[Y,O.dateGiven]);const ee=V=>{k(Z=>({...Z,vaccineName:V.name,manufacturer:V.manufacturer||Z.manufacturer,cost:V.sellingPrice.toString()})),_(!1),E(!1)},J=()=>{E(!0),_(!1)},B=()=>{E(!1),k(V=>({...V,vaccineName:"",manufacturer:"",cost:""}))},me=V=>{if(V.preventDefault(),l){if(!O.clientId||!O.petId){y({title:"Erreur",description:"Client ou animal manquant",variant:"destructive"});return}}else if(!O.clientId||!O.petId||Y.length===0&&!O.vaccineName){y({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const Z=c.find(M=>M.id===parseInt(O.clientId)),ye=u.find(M=>M.id===parseInt(O.petId));if(!Z||!ye){y({title:"Erreur",description:"Client ou animal introuvable",variant:"destructive"});return}if(Y.length>0&&!l){Y.forEach(M=>{var je,we;if(M.intervals&&Array.isArray(M.intervals)){let Fe;const Be=M.intervals.find(at=>at.offsetDays===0);if(Be){const at=`${M.id}-${Be.offsetDays}`,lt=q[at]||"";Fe=d({clientId:parseInt(O.clientId),clientName:((je=c.find(ut=>ut.id===parseInt(O.clientId)))==null?void 0:je.name)||"",petId:parseInt(O.petId),petName:((we=u.find(ut=>ut.id===parseInt(O.petId)))==null?void 0:we.name)||"",vaccineName:`${M.name} (${Be.label})`,vaccineType:M.vaccineType,dateGiven:O.dateGiven,nextDueDate:lt,batchNumber:O.batchNumber,veterinarian:O.veterinarian,notes:O.notes,status:"completed",cost:O.cost,location:O.location,manufacturer:M.manufacturer||O.manufacturer,expirationDate:O.expirationDate,adverseReactions:O.adverseReactions,vaccinationCategory:"new",isReminder:!1})}M.intervals.forEach(at=>{var lt,ut;if(at.offsetDays>0){const Ne=`${M.id}-${at.offsetDays}`,Ge=q[Ne]||"";d({clientId:parseInt(O.clientId),clientName:((lt=c.find(Ke=>Ke.id===parseInt(O.clientId)))==null?void 0:lt.name)||"",petId:parseInt(O.petId),petName:((ut=u.find(Ke=>Ke.id===parseInt(O.petId)))==null?void 0:ut.name)||"",vaccineName:`${M.name} (${at.label})`,vaccineType:M.vaccineType,dateGiven:Ge,nextDueDate:Ge,batchNumber:O.batchNumber,veterinarian:O.veterinarian,notes:O.notes,status:"scheduled",cost:O.cost,location:O.location,manufacturer:M.manufacturer||O.manufacturer,expirationDate:O.expirationDate,adverseReactions:O.adverseReactions,vaccinationCategory:"reminder",originalVaccinationId:Fe,isReminder:!0})}})}}),y({title:"Vaccinations enregistrées",description:`${Y.length} vaccinations ajoutées.`}),L([]),P(!1);return}const te=Object.values(q).sort().pop()||le||O.dateGiven;if(l){const M=l.vaccinationCategory==="reminder"?"rappel":"vaccination";f(l.id,{clientId:parseInt(O.clientId),clientName:Z.name,petId:parseInt(O.petId),petName:ye.name,vaccineName:O.vaccineName,vaccineType:O.vaccineType,vaccinationCategory:l.vaccinationCategory,dateGiven:O.dateGiven,nextDueDate:l.vaccinationCategory==="reminder"?O.dateGiven:te,calculatedDueDate:le,batchNumber:O.batchNumber,veterinarian:O.veterinarian,notes:O.notes,status:l.status,cost:O.cost,location:O.location,manufacturer:O.manufacturer,expirationDate:O.expirationDate,adverseReactions:O.adverseReactions,originalVaccinationId:l.originalVaccinationId,isReminder:l.isReminder}),y({title:`${M.charAt(0).toUpperCase()+M.slice(1)} modifiée`,description:`${M.charAt(0).toUpperCase()+M.slice(1)} ${O.vaccineName} modifiée pour ${ye.name}`})}else d({clientId:parseInt(O.clientId),clientName:Z.name,petId:parseInt(O.petId),petName:ye.name,vaccineName:O.vaccineName,vaccineType:O.vaccineType,vaccinationCategory:s?"reminder":"new",dateGiven:O.dateGiven,nextDueDate:te,calculatedDueDate:le,batchNumber:O.batchNumber,veterinarian:O.veterinarian,notes:O.notes,status:"completed",cost:O.cost,location:O.location,manufacturer:O.manufacturer,expirationDate:O.expirationDate,adverseReactions:O.adverseReactions,originalVaccinationId:s?i:void 0,isReminder:s}),y({title:"Vaccination enregistrée",description:`Vaccination ${O.vaccineName} ajoutée pour ${ye.name}`});k({clientId:(n==null?void 0:n.toString())||"",petId:(t==null?void 0:t.toString())||"",vaccineName:"",vaccineType:"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",batchNumber:"",veterinarian:"",notes:"",cost:"",location:"",manufacturer:"",expirationDate:"",adverseReactions:""}),L([]),P(!1)},ve=u.find(V=>V.id===parseInt(O.petId)),re=ve?m(ve.type):[];return r.jsxs(Ct,{open:b,onOpenChange:P,children:[r.jsx(Ic,{asChild:!0,children:e||r.jsxs(W,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle Vaccination"]})}),r.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(As,{className:"h-5 w-5"}),l?l.vaccinationCategory==="reminder"?"Modifier le Rappel":"Modifier la Vaccination":"Nouvelle Vaccination"]}),l&&l.vaccinationCategory==="reminder"&&r.jsxs("div",{className:"text-sm text-orange-600 bg-orange-50 p-2 rounded-md border border-orange-200",children:[r.jsx("strong",{children:"Mode édition de rappel :"})," Vous modifiez uniquement ce rappel spécifique. Les autres rappels de la même vaccination ne seront pas affectés."]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("form",{onSubmit:me,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l&&r.jsxs("div",{className:"col-span-2 text-sm text-blue-600 bg-blue-50 p-2 rounded-md border border-blue-200",children:[r.jsx("strong",{children:"Mode édition :"})," Vous modifiez uniquement cette vaccination spécifique. Le client et l'animal sont verrouillés. Les protocoles ne sont pas affichés car ils ne s'appliquent qu'à la création."]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"clientId",children:"Client *"}),r.jsxs(Ie,{value:O.clientId,onValueChange:V=>{k(Z=>({...Z,clientId:V,petId:""})),z(null)},disabled:!!l,children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner un client"})}),r.jsx(Me,{children:c&&Array.isArray(c)&&c.length>0?c.map(V=>r.jsx(K,{value:V.id.toString(),children:V.name},V.id)):r.jsx(K,{value:"no-clients",disabled:!0,children:"Aucun client trouvé"})})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"petId",children:"Animal *"}),r.jsxs(Ie,{value:O.petId,onValueChange:V=>{k(Z=>({...Z,petId:V})),z(null)},disabled:l?!0:!O.clientId,children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner un animal"})}),r.jsx(Me,{children:u.filter(V=>V.ownerId===parseInt(O.clientId)).map(V=>r.jsxs(K,{value:V.id.toString(),children:[V.name," (",V.type,")"]},V.id))})]})]})]}),re.length>0&&!l&&r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs(U,{children:["Protocoles suggérés pour ",ve==null?void 0:ve.type," (sélection multiple)"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:re.map(V=>{const Z=Y.some(ye=>ye.id===V.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-muted/50",children:[r.jsx(Ki,{id:`protocol-${V.id}`,checked:Z,onCheckedChange:ye=>{L(ye?te=>[...te,V]:te=>te.filter(M=>M.id!==V.id))}}),r.jsxs("label",{htmlFor:`protocol-${V.id}`,className:"ml-2 flex-1 text-sm",children:[r.jsx("div",{className:"font-medium",children:V.name}),r.jsx("div",{className:"text-xs text-gray-600",children:V.description})]})]},V.id)})})]}),Y.length>0&&!l?r.jsxs(de,{className:"mb-4",children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-sm",children:"Vaccins sélectionnés"})}),r.jsx(he,{children:r.jsx("ul",{className:"list-disc list-inside text-sm",children:Y.map(V=>r.jsx("li",{children:V.name},V.id))})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs(U,{htmlFor:"vaccineName",children:["Nom du vaccin ",!l&&"*"]}),r.jsxs(Oe,{variant:"outline",className:"text-xs",children:[D.length," vaccins en stock"]})]}),A?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Saisie manuelle"})]}),r.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:B,className:"text-xs",children:"Changer"})]}),r.jsx(se,{value:O.vaccineName,onChange:V=>k(Z=>({...Z,vaccineName:V.target.value})),placeholder:"Nom du vaccin (non disponible en stock)",className:"bg-white",required:!l})]})}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(PE,{open:C,onOpenChange:_,children:[r.jsx(_E,{asChild:!0,children:r.jsxs(W,{variant:"outline",role:"combobox","aria-expanded":C,className:"flex-1 justify-between",children:[O.vaccineName||"Sélectionner un vaccin...",r.jsx(sb,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(Vb,{className:"w-[400px] p-0",children:r.jsxs($b,{children:[r.jsx(Rb,{placeholder:"Rechercher un vaccin..."}),r.jsxs(Lb,{children:[r.jsx(Fb,{children:"Aucun vaccin trouvé."}),r.jsxs(Bb,{children:[D.map(V=>r.jsxs(of,{value:V.name,onSelect:()=>ee(V),className:"flex flex-col items-start gap-1 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:V.name})]}),r.jsxs(Oe,{variant:V.currentStock>=5?"default":"destructive",className:"ml-2",children:[V.currentStock," en stock"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[V.manufacturer&&r.jsxs("span",{children:["Fabricant: ",V.manufacturer]}),r.jsxs("span",{children:["Prix: ",V.sellingPrice.toFixed(2)," ",v.currency]})]})]},V.id)),r.jsx(of,{onSelect:J,children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 p-2",children:[r.jsx(mr,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Saisie manuelle"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Vaccin non disponible en stock"})]})]})})]})]})]})})]}),O.vaccineName&&r.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:J,className:"px-3",title:"Passer en saisie manuelle",children:r.jsx(mr,{className:"h-4 w-4"})})]}),O.vaccineName&&r.jsx("div",{className:"flex items-center gap-2",children:(()=>{const V=D.find(Z=>Z.name.toLowerCase()===O.vaccineName.toLowerCase());return V?V.currentStock>=1?r.jsxs(Oe,{variant:"default",className:"bg-green-100 text-green-800",children:[r.jsx(Zn,{className:"h-3 w-3 mr-1"}),"En stock (",V.currentStock,")"]}):r.jsxs(Oe,{variant:"destructive",children:[r.jsx(Un,{className:"h-3 w-3 mr-1"}),"Stock insuffisant"]}):r.jsxs(Oe,{variant:"secondary",children:[r.jsx(mr,{className:"h-3 w-3 mr-1"}),"Non en stock"]})})()})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"vaccineType",children:"Type de vaccin"}),r.jsxs(Ie,{value:O.vaccineType,onValueChange:V=>k(Z=>({...Z,vaccineType:V})),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Type de vaccin"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"core",children:"Essentiel"}),r.jsx(K,{value:"non-core",children:"Optionnel"}),r.jsx(K,{value:"rabies",children:"Rage"}),r.jsx(K,{value:"custom",children:"Personnalisé"})]})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs("div",{children:[r.jsxs(U,{htmlFor:"dateGiven",children:["Date d'administration ",!l&&"*"]}),r.jsx(se,{id:"dateGiven",type:"date",value:O.dateGiven,onChange:V=>k(Z=>({...Z,dateGiven:V.target.value})),required:!l})]})}),Y.length>0&&!l&&r.jsx("div",{className:"space-y-4 mb-4",children:Y.map(V=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"font-medium text-sm",children:["Étapes pour ",V.name]}),V.intervals.map(Z=>{const ye=`${V.id}-${Z.offsetDays}`,te=new Date(O.dateGiven);te.setDate(te.getDate()+Z.offsetDays);const M=te.toISOString().split("T")[0];return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center",children:[r.jsxs("div",{className:"text-sm",children:[Z.label," (+",Z.offsetDays," jours)"]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:ye,children:"Date de rappel"}),r.jsx(se,{id:ye,type:"date",value:q[ye]||M,onChange:je=>ie(we=>({...we,[ye]:je.target.value}))}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Suggérée: ",te.toLocaleDateString("fr-FR")]})]})]},ye)})]},V.id))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"veterinarian",children:"Vétérinaire"}),r.jsxs(Ie,{value:O.veterinarian,onValueChange:V=>k(Z=>({...Z,veterinarian:V})),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner un vétérinaire"})}),r.jsx(Me,{children:(console.log("Vétérinaires disponibles dans le formulaire:",v.veterinarians),v.veterinarians.filter(V=>V.isActive).map(V=>r.jsx(K,{value:V.name,children:V.name},V.id)))})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"location",children:"Site d'injection"}),r.jsxs(Ie,{value:O.location,onValueChange:V=>k(Z=>({...Z,location:V})),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner le site"})}),r.jsx(Me,{children:ope.map(V=>r.jsx(K,{value:V.value,children:V.label},V.value))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"batchNumber",children:"Numéro de lot"}),r.jsx(se,{id:"batchNumber",value:O.batchNumber,onChange:V=>k(Z=>({...Z,batchNumber:V.target.value})),placeholder:"Ex: VAC2024-001"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(se,{id:"manufacturer",value:O.manufacturer,onChange:V=>k(Z=>({...Z,manufacturer:V.target.value})),placeholder:"Ex: Zoetis, Merial"})]}),r.jsxs("div",{children:[r.jsxs(U,{htmlFor:"cost",children:["Coût (",v.currency,")"]}),r.jsx(se,{id:"cost",value:O.cost,onChange:V=>k(Z=>({...Z,cost:V.target.value})),placeholder:"0.00",type:"number",step:"0.01"})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"expirationDate",children:"Date d'expiration du vaccin"}),r.jsx(se,{id:"expirationDate",type:"date",value:O.expirationDate,onChange:V=>k(Z=>({...Z,expirationDate:V.target.value}))})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",value:O.notes,onChange:V=>k(Z=>({...Z,notes:V.target.value})),placeholder:"Notes sur la vaccination...",rows:3})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"adverseReactions",children:"Réactions adverses"}),r.jsx(St,{id:"adverseReactions",value:O.adverseReactions,onChange:V=>k(Z=>({...Z,adverseReactions:V.target.value})),placeholder:"Décrire toute réaction adverse observée...",rows:2})]}),O.vaccineName&&r.jsxs(de,{className:"mt-4",children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"text-sm flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4"}),"Résumé du stock"]})}),r.jsx(he,{children:(()=>{const V=D.find(Z=>Z.name.toLowerCase()===O.vaccineName.toLowerCase());return V?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:V.name}),r.jsxs(Oe,{variant:V.currentStock>=1?"default":"destructive",children:[V.currentStock," en stock"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Fabricant: ",V.manufacturer||"Non spécifié"]}),r.jsxs("div",{children:["Prix de vente: ",V.sellingPrice.toFixed(2)," ",v.currency]}),r.jsxs("div",{children:["Stock minimum: ",V.minimumStock]}),V.currentStock<=V.minimumStock&&r.jsx("div",{className:"text-orange-600 font-medium mt-1",children:"⚠️ Stock bas - Réapprovisionnement recommandé"})]})]}):r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4"}),r.jsx("span",{children:"Vaccin non disponible en stock"})]}),r.jsx("div",{className:"mt-1",children:"Le vaccin sera administré sans impact sur le stock."})]})})()})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>setOpen(!1),children:"Annuler"}),r.jsxs(W,{type:"submit",children:[r.jsx(As,{className:"h-4 w-4 mr-2"}),"Enregistrer la vaccination"]})]})]})}),r.jsxs("div",{className:"space-y-4",children:[ve&&r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-sm",children:"Informations Animal"})}),r.jsx(he,{className:"pt-0",children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Nom:"})," ",ve.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",ve.type]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Race:"})," ",ve.breed||"Non spécifiée"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Âge:"})," ",ve.birthDate?`${Math.floor((new Date().getTime()-new Date(ve.birthDate).getTime())/(365.25*24*60*60*1e3))} ans`:"Non spécifié"]})]})})]}),r.jsxs(de,{className:"border-amber-200 bg-amber-50",children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"text-sm text-amber-700 flex items-center gap-2",children:[r.jsx(Un,{className:"h-4 w-4"}),"Important"]})}),r.jsx(he,{className:"pt-0",children:r.jsxs("ul",{className:"text-xs text-amber-700 space-y-1",children:[r.jsx("li",{children:"• Vérifiez la date d'expiration du vaccin"}),r.jsx("li",{children:"• Respectez la chaîne du froid"}),r.jsx("li",{children:"• Surveillez les réactions dans les 24h"}),r.jsx("li",{children:"• Enregistrez le numéro de lot"}),r.jsx("li",{children:"• Planifiez le rappel"})]})})]})]})]})]})]})}function O0({children:e,selectedClientId:t,selectedPetId:n,open:s,onOpenChange:i,editingAntiparasitic:a}){var pe,ee;const{clients:o,pets:l,addAntiparasitic:c,updateAntiparasitic:u,getAntiparasiticProtocolsBySpecies:d,addAppointment:f,stockItems:m}=pt(),{settings:g}=Wt(),{toast:x}=Ft(),[v,y]=w.useState(!1),N=s!==void 0?s:v,j=i||y,[b,P]=w.useState({clientId:(t==null?void 0:t.toString())||"",petId:(n==null?void 0:n.toString())||"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",dosage:"",administrationRoute:"",veterinarian:"",notes:"",batchNumber:"",manufacturer:"",weight:"",cost:"",sideEffects:""}),[C,_]=w.useState([]),[A,E]=w.useState(!1),[D,I]=w.useState(!1),[O,k]=w.useState([]),F=C||[],[L,Y]=w.useState({});w.useEffect(()=>{t&&P(J=>({...J,clientId:t.toString(),petId:""})),n&&P(J=>({...J,petId:n.toString()}))},[t,n]),w.useEffect(()=>{const J=m.filter(B=>B.category==="medication"&&B.isActive&&B.currentStock>0).sort((B,me)=>B.name.localeCompare(me.name));k(J),console.log("Antiparasitaires disponibles mis à jour:",J.length,"items")},[m]),w.useEffect(()=>{a&&P({clientId:a.clientId.toString(),petId:a.petId.toString(),dateGiven:a.dateGiven,nextDueDate:a.nextDueDate||"",dosage:a.dosage||"",administrationRoute:a.administrationRoute||"",veterinarian:a.veterinarian||"",notes:a.notes||"",batchNumber:a.batchNumber||"",manufacturer:a.manufacturer||"",weight:a.weight||"",cost:a.cost||"",sideEffects:a.sideEffects||""})},[a]),w.useEffect(()=>{if(F.length&&b.dateGiven){const J={};F.forEach(B=>{B.intervals.forEach(me=>{const ve=`${B.id}-${me.offsetDays}`;J[ve]=It(aU(new Date(b.dateGiven),me.offsetDays),"yyyy-MM-dd")})}),Y(J)}else Y({})},[F,b.dateGiven]);const q=b.petId?d(((pe=l.find(J=>J.id===parseInt(b.petId)))==null?void 0:pe.type)||""):[],ie=J=>{P(B=>({...B,productName:J.name,manufacturer:J.manufacturer||B.manufacturer,cost:J.sellingPrice.toString()})),E(!1),I(!1)},$=()=>{I(!0),E(!1)},z=()=>{I(!1),P(J=>({...J,productName:"",manufacturer:"",cost:""}))},le=J=>{if(J.preventDefault(),!b.clientId||!b.petId){x({title:"Erreur",description:"Client et animal requis.",variant:"destructive"});return}const B=o.find(ve=>ve.id===parseInt(b.clientId)),me=l.find(ve=>ve.id===parseInt(b.petId));if(!B||!me){x({title:"Erreur",description:"Client ou animal introuvable.",variant:"destructive"});return}if(a){u(a.id,{clientId:parseInt(b.clientId),clientName:B.name,petId:parseInt(b.petId),petName:me.name,productName:a.productName,productType:a.productType,targetParasites:a.targetParasites,dateGiven:b.dateGiven,nextDueDate:b.nextDueDate,dosage:b.dosage,administrationRoute:b.administrationRoute,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer,weight:b.weight,status:a.status,cost:b.cost,sideEffects:b.sideEffects}),x({title:"Traitement modifié",description:`Le traitement ${a.productName} a été mis à jour avec succès.`}),j(!1);return}if(F.length>0)F.forEach(ve=>{ve.intervals.forEach(re=>{const V=`${ve.id}-${re.offsetDays}`,Z=L[V]||"",ye=re.offsetDays===0?b.dateGiven:Z;c({clientId:B.id,clientName:B.name,petId:me.id,petName:me.name,productName:`${ve.name} (${re.label})`,productType:ve.productType,targetParasites:ve.targetParasites,dateGiven:ye,nextDueDate:Z,dosage:b.dosage,administrationRoute:b.administrationRoute||ve.productType,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer||ve.manufacturer||"",weight:b.weight,status:re.offsetDays===0?"completed":"scheduled",cost:b.cost,sideEffects:b.sideEffects})})}),F.forEach(ve=>{(ve.intervals||[]).forEach(re=>{const V=`${ve.id}-${re.offsetDays}`,Z=L[V];Z&&re.offsetDays>0&&f({clientId:B.id,clientName:B.name,petId:me.id,petName:me.name,date:Z,time:"09:00",type:"consultation",duration:15,reason:`Rappel antiparasitaire ${ve.name}`,status:"scheduled",reminderSent:!1})})}),x({title:"Traitements ajoutés",description:`${F.reduce((ve,re)=>ve+re.intervals.length,0)} traitement(s) enregistré(s) dans le dossier médical et rappels programmés.`});else{const ve=b.notes||"Traitement antiparasitaire";c({clientId:B.id,clientName:B.name,petId:me.id,petName:me.name,productName:ve,productType:"external",targetParasites:"Non spécifié",dateGiven:b.dateGiven,nextDueDate:b.nextDueDate,dosage:b.dosage,administrationRoute:b.administrationRoute,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer,weight:b.weight,status:"completed",cost:b.cost,sideEffects:b.sideEffects}),b.nextDueDate&&f({clientId:B.id,clientName:B.name,petId:me.id,petName:me.name,date:b.nextDueDate,time:"09:00",type:"consultation",duration:15,reason:`Rappel antiparasitaire ${ve}`,status:"scheduled",reminderSent:!1}),x({title:"Traitement ajouté",description:`Traitement pour ${me.name} enregistré dans le dossier médical.`})}console.log("Antiparasitaire ajouté avec succès - Données synchronisées dans le dossier médical"),_([]),P({clientId:(t==null?void 0:t.toString())||"",petId:(n==null?void 0:n.toString())||"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",dosage:"",administrationRoute:"",veterinarian:"",notes:"",batchNumber:"",manufacturer:"",weight:"",cost:"",sideEffects:""}),j(!1)};return r.jsxs(Ct,{open:N,onOpenChange:j,children:[!a&&r.jsx(Ic,{asChild:!0,children:e||r.jsxs(W,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau traitement"]})}),r.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pt,{children:r.jsx(_t,{children:a?`Modifier ${a.productName}`:"Nouveau traitement antiparasitaire"})}),r.jsxs("form",{onSubmit:le,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a&&r.jsxs("div",{className:"col-span-2 text-sm text-blue-600 bg-blue-50 p-2 rounded-md border border-blue-200",children:[r.jsx("strong",{children:"Mode édition :"})," Vous modifiez uniquement ce traitement spécifique. Le client et l'animal sont verrouillés. Les protocoles ne sont pas affichés car ils ne s'appliquent qu'à la création."]}),r.jsxs("div",{children:[r.jsx(U,{children:"Client *"}),r.jsxs(Ie,{value:b.clientId,onValueChange:J=>P(B=>({...B,clientId:J,petId:""})),disabled:a,children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner un client"})}),r.jsx(Me,{children:o&&Array.isArray(o)&&o.length>0?o.map(J=>r.jsx(K,{value:J.id.toString(),children:J.name},J.id)):r.jsx(K,{value:"no-clients",disabled:!0,children:"Aucun client trouvé"})})]})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Animal *"}),r.jsxs(Ie,{value:b.petId,onValueChange:J=>P(B=>({...B,petId:J})),disabled:!b.clientId||a,children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner un animal"})}),r.jsx(Me,{children:l.filter(J=>J.ownerId===parseInt(b.clientId)).map(J=>r.jsxs(K,{value:J.id.toString(),children:[J.name," (",J.type,")"]},J.id))})]})]})]}),q.length>0&&!a&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs(U,{children:["Protocoles suggérés (",(ee=l.find(J=>J.id===parseInt(b.petId)))==null?void 0:ee.type,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:q.map(J=>{const B=F.some(me=>me.id===J.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-muted/50",children:[r.jsx(Ki,{checked:B,onCheckedChange:me=>_(me?ve=>[...ve,J]:ve=>ve.filter(re=>re.id!==J.id))}),r.jsxs("label",{className:"ml-2 flex-1 text-sm",children:[r.jsx("div",{className:"font-medium",children:J.name}),r.jsx("div",{className:"text-xs text-gray-600",children:J.description})]})]},J.id)})})]}),F.length>0?r.jsxs(de,{className:"mb-4",children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-sm",children:"Protocoles sélectionnés"})}),r.jsx(he,{children:r.jsx("ul",{className:"list-disc list-inside text-sm",children:F.map(J=>r.jsx("li",{children:J.name},J.id))})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(U,{children:"Produit antiparasitaire"}),r.jsxs(Oe,{variant:"outline",className:"text-xs",children:[O.length," antiparasitaires en stock"]})]}),D?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Saisie manuelle"})]}),r.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:z,className:"text-xs",children:"Changer"})]}),r.jsx(se,{value:b.productName,onChange:J=>P(B=>({...B,productName:J.target.value})),placeholder:"Nom du produit antiparasitaire (non disponible en stock)",className:"bg-white"})]})}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(PE,{open:A,onOpenChange:E,children:[r.jsx(_E,{asChild:!0,children:r.jsxs(W,{variant:"outline",role:"combobox","aria-expanded":A,className:"flex-1 justify-between",children:[b.productName||"Sélectionner un antiparasitaire...",r.jsx(sb,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(Vb,{className:"w-[400px] p-0",children:r.jsxs($b,{children:[r.jsx(Rb,{placeholder:"Rechercher un antiparasitaire..."}),r.jsxs(Lb,{children:[r.jsx(Fb,{children:"Aucun antiparasitaire trouvé."}),r.jsxs(Bb,{children:[O.map(J=>r.jsxs(of,{value:J.name,onSelect:()=>ie(J),className:"flex flex-col items-start gap-1 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:J.name})]}),r.jsxs(Oe,{variant:J.currentStock>=5?"default":"destructive",className:"ml-2",children:[J.currentStock," en stock"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[J.manufacturer&&r.jsxs("span",{children:["Fabricant: ",J.manufacturer]}),r.jsxs("span",{children:["Prix: ",J.sellingPrice.toFixed(2)," ",g.currency]})]})]},J.id)),r.jsx(of,{onSelect:$,children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 p-2",children:[r.jsx(mr,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Saisie manuelle"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Antiparasitaire non disponible en stock"})]})]})})]})]})]})})]}),b.productName&&r.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:$,className:"px-3",title:"Passer en saisie manuelle",children:r.jsx(mr,{className:"h-4 w-4"})})]}),b.productName&&r.jsx("div",{className:"flex items-center gap-2",children:(()=>{const J=O.find(B=>B.name.toLowerCase()===b.productName.toLowerCase());return J?J.currentStock>=1?r.jsxs(Oe,{variant:"default",className:"bg-green-100 text-green-800",children:[r.jsx(Zn,{className:"h-3 w-3 mr-1"}),"En stock (",J.currentStock,")"]}):r.jsxs(Oe,{variant:"destructive",children:[r.jsx(Un,{className:"h-3 w-3 mr-1"}),"Stock insuffisant"]}):r.jsxs(Oe,{variant:"secondary",children:[r.jsx(mr,{className:"h-3 w-3 mr-1"}),"Non en stock"]})})()})]})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Type"}),r.jsx(se,{value:b.administrationRoute,onChange:J=>P(B=>({...B,administrationRoute:J.target.value})),placeholder:"Type (oral, topical...)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{children:"Date d'administration *"}),r.jsx(se,{type:"date",value:b.dateGiven,onChange:J=>P(B=>({...B,dateGiven:J.target.value})),required:!0})]}),!F.length&&r.jsxs("div",{children:[r.jsx(U,{children:"Date de rappel"}),r.jsx(se,{type:"date",value:b.nextDueDate,onChange:J=>P(B=>({...B,nextDueDate:J.target.value}))})]})]}),F.length>0&&r.jsx("div",{className:"space-y-4 mb-4",children:F.map(J=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"font-medium text-sm",children:["Étapes pour ",J.name]}),J.intervals.map(B=>{const me=`${J.id}-${B.offsetDays}`;return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center",children:[r.jsxs("div",{className:"text-sm",children:[B.label," (+",B.offsetDays," jours)"]}),r.jsxs("div",{children:[r.jsx(U,{children:"Date exacte"}),r.jsx(se,{type:"date",id:me,value:L[me]||"",onChange:ve=>Y(re=>({...re,[me]:ve.target.value}))})]})]},me)})]},J.id))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{children:"Dosage"}),r.jsx(se,{value:b.dosage,onChange:J=>P(B=>({...B,dosage:J.target.value})),placeholder:"Dosage"})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Vétérinaire"}),r.jsxs(Ie,{value:b.veterinarian,onValueChange:J=>P(B=>({...B,veterinarian:J})),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner un vétérinaire"})}),r.jsx(Me,{children:(g.veterinarians||[]).filter(J=>J.isActive).map(J=>r.jsx(K,{value:J.name,children:J.name},J.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{children:"Numéro de lot"}),r.jsx(se,{value:b.batchNumber,onChange:J=>P(B=>({...B,batchNumber:J.target.value})),placeholder:"Numéro de lot"})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Fabricant"}),r.jsx(se,{value:b.manufacturer,onChange:J=>P(B=>({...B,manufacturer:J.target.value})),placeholder:"Fabricant"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{children:"Poids"}),r.jsx(se,{value:b.weight,onChange:J=>P(B=>({...B,weight:J.target.value})),placeholder:"Poids"})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Coût"}),r.jsx(se,{type:"number",step:"0.01",value:b.cost,onChange:J=>P(B=>({...B,cost:J.target.value})),placeholder:"0.00"})]})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Effets indésirables"}),r.jsx(se,{value:b.sideEffects,onChange:J=>P(B=>({...B,sideEffects:J.target.value})),placeholder:"Effets indésirables"})]}),b.productName&&r.jsxs(de,{className:"mt-4",children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"text-sm flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4"}),"Résumé du stock"]})}),r.jsx(he,{children:(()=>{const J=O.find(B=>B.name.toLowerCase()===b.productName.toLowerCase());return J?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:J.name}),r.jsxs(Oe,{variant:J.currentStock>=1?"default":"destructive",children:[J.currentStock," en stock"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Fabricant: ",J.manufacturer||"Non spécifié"]}),r.jsxs("div",{children:["Prix de vente: ",J.sellingPrice.toFixed(2)," ",g.currency]}),r.jsxs("div",{children:["Stock minimum: ",J.minimumStock]}),J.currentStock<=J.minimumStock&&r.jsx("div",{className:"text-orange-600 font-medium mt-1",children:"⚠️ Stock bas - Réapprovisionnement recommandé"})]})]}):r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4"}),r.jsx("span",{children:"Antiparasitaire non disponible en stock"})]}),r.jsx("div",{className:"mt-1",children:"L'antiparasitaire sera administré sans impact sur le stock."})]})})()})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{variant:"outline",type:"button",onClick:()=>i?i(!1):y(!1),children:"Annuler"}),r.jsx(W,{type:"submit",children:"Ajouter"})]})]})]})]})}function lpe({open:e,onOpenChange:t,vaccination:n}){const{confirmVaccinationReminder:s,calculateDueDateFromProtocol:i}=pt(),{toast:a}=Ft(),[o,l]=w.useState({datePerformed:It(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),c=d=>{if(d.preventDefault(),!o.veterinarian){a({title:"Erreur",description:"Le nom du vétérinaire est requis",variant:"destructive"});return}let f=o.newNextDueDate;!f&&n&&(f=i(n.vaccineName,"chien",o.datePerformed)||""),s(n.id,{datePerformed:o.datePerformed,veterinarian:o.veterinarian,batchNumber:o.batchNumber,notes:o.notes,newNextDueDate:f})&&(a({title:"Rappel confirmé",description:`Le rappel de ${n.vaccineName} a été confirmé et enregistré`}),l({datePerformed:It(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),t(!1))},u=d=>{l(f=>({...f,[d.target.name]:d.target.value}))};return n?r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[500px]",children:[r.jsx(Pt,{children:r.jsx(_t,{children:"Confirmer le rappel de vaccination"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Vaccination à confirmer :"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:n.vaccineName})," pour ",n.petName]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Rappel prévu le : ",new Date(n.nextDueDate).toLocaleDateString("fr-FR")]})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"datePerformed",children:"Date d'administration *"}),r.jsx(se,{id:"datePerformed",name:"datePerformed",type:"date",value:o.datePerformed,onChange:u,required:!0})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"veterinarian",children:"Vétérinaire *"}),r.jsx(se,{id:"veterinarian",name:"veterinarian",value:o.veterinarian,onChange:u,placeholder:"Nom du vétérinaire",required:!0})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"batchNumber",children:"Numéro de lot"}),r.jsx(se,{id:"batchNumber",name:"batchNumber",value:o.batchNumber,onChange:u,placeholder:"Numéro de lot du vaccin"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"newNextDueDate",children:"Nouvelle date de rappel"}),r.jsx(se,{id:"newNextDueDate",name:"newNextDueDate",type:"date",value:o.newNextDueDate,onChange:u,placeholder:"Date du prochain rappel"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Laissez vide pour utiliser la date calculée selon le protocole"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",name:"notes",value:o.notes,onChange:u,placeholder:"Notes sur l'administration du vaccin",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(W,{type:"submit",children:"Confirmer le rappel"})]})]})]})]})}):null}var cpe=Array.isArray,ni=cpe,upe=typeof or=="object"&&or&&or.Object===Object&&or,hU=upe,dpe=hU,hpe=typeof self=="object"&&self&&self.Object===Object&&self,fpe=dpe||hpe||Function("return this")(),yo=fpe,mpe=yo,ppe=mpe.Symbol,yv=ppe,RI=yv,fU=Object.prototype,gpe=fU.hasOwnProperty,vpe=fU.toString,Ym=RI?RI.toStringTag:void 0;function xpe(e){var t=gpe.call(e,Ym),n=e[Ym];try{e[Ym]=void 0;var s=!0}catch{}var i=vpe.call(e);return s&&(t?e[Ym]=n:delete e[Ym]),i}var ype=xpe,jpe=Object.prototype,bpe=jpe.toString;function wpe(e){return bpe.call(e)}var Npe=wpe,LI=yv,Spe=ype,Cpe=Npe,Ppe="[object Null]",_pe="[object Undefined]",FI=LI?LI.toStringTag:void 0;function Ape(e){return e==null?e===void 0?_pe:Ppe:FI&&FI in Object(e)?Spe(e):Cpe(e)}var pl=Ape;function Epe(e){return e!=null&&typeof e=="object"}var gl=Epe,kpe=pl,Tpe=gl,Ope="[object Symbol]";function Dpe(e){return typeof e=="symbol"||Tpe(e)&&kpe(e)==Ope}var Jf=Dpe,Mpe=ni,Ipe=Jf,$pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rpe=/^\w*$/;function Lpe(e,t){if(Mpe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ipe(e)?!0:Rpe.test(e)||!$pe.test(e)||t!=null&&e in Object(t)}var EE=Lpe;function Fpe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Fc=Fpe;const Zf=pn(Fc);var Bpe=pl,zpe=Fc,Vpe="[object AsyncFunction]",Upe="[object Function]",qpe="[object GeneratorFunction]",Wpe="[object Proxy]";function Hpe(e){if(!zpe(e))return!1;var t=Bpe(e);return t==Upe||t==qpe||t==Vpe||t==Wpe}var kE=Hpe;const jt=pn(kE);var Gpe=yo,Kpe=Gpe["__core-js_shared__"],Ype=Kpe,wS=Ype,BI=function(){var e=/[^.]+$/.exec(wS&&wS.keys&&wS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Qpe(e){return!!BI&&BI in e}var Xpe=Qpe,Jpe=Function.prototype,Zpe=Jpe.toString;function ege(e){if(e!=null){try{return Zpe.call(e)}catch{}try{return e+""}catch{}}return""}var mU=ege,tge=kE,nge=Xpe,rge=Fc,sge=mU,ige=/[\\^$.*+?()[\]{}|]/g,age=/^\[object .+?Constructor\]$/,oge=Function.prototype,lge=Object.prototype,cge=oge.toString,uge=lge.hasOwnProperty,dge=RegExp("^"+cge.call(uge).replace(ige,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hge(e){if(!rge(e)||nge(e))return!1;var t=tge(e)?dge:age;return t.test(sge(e))}var fge=hge;function mge(e,t){return e==null?void 0:e[t]}var pge=mge,gge=fge,vge=pge;function xge(e,t){var n=vge(e,t);return gge(n)?n:void 0}var md=xge,yge=md,jge=yge(Object,"create"),Hb=jge,zI=Hb;function bge(){this.__data__=zI?zI(null):{},this.size=0}var wge=bge;function Nge(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Sge=Nge,Cge=Hb,Pge="__lodash_hash_undefined__",_ge=Object.prototype,Age=_ge.hasOwnProperty;function Ege(e){var t=this.__data__;if(Cge){var n=t[e];return n===Pge?void 0:n}return Age.call(t,e)?t[e]:void 0}var kge=Ege,Tge=Hb,Oge=Object.prototype,Dge=Oge.hasOwnProperty;function Mge(e){var t=this.__data__;return Tge?t[e]!==void 0:Dge.call(t,e)}var Ige=Mge,$ge=Hb,Rge="__lodash_hash_undefined__";function Lge(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$ge&&t===void 0?Rge:t,this}var Fge=Lge,Bge=wge,zge=Sge,Vge=kge,Uge=Ige,qge=Fge;function em(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}em.prototype.clear=Bge;em.prototype.delete=zge;em.prototype.get=Vge;em.prototype.has=Uge;em.prototype.set=qge;var Wge=em;function Hge(){this.__data__=[],this.size=0}var Gge=Hge;function Kge(e,t){return e===t||e!==e&&t!==t}var TE=Kge,Yge=TE;function Qge(e,t){for(var n=e.length;n--;)if(Yge(e[n][0],t))return n;return-1}var Gb=Qge,Xge=Gb,Jge=Array.prototype,Zge=Jge.splice;function eve(e){var t=this.__data__,n=Xge(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():Zge.call(t,n,1),--this.size,!0}var tve=eve,nve=Gb;function rve(e){var t=this.__data__,n=nve(t,e);return n<0?void 0:t[n][1]}var sve=rve,ive=Gb;function ave(e){return ive(this.__data__,e)>-1}var ove=ave,lve=Gb;function cve(e,t){var n=this.__data__,s=lve(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var uve=cve,dve=Gge,hve=tve,fve=sve,mve=ove,pve=uve;function tm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}tm.prototype.clear=dve;tm.prototype.delete=hve;tm.prototype.get=fve;tm.prototype.has=mve;tm.prototype.set=pve;var Kb=tm,gve=md,vve=yo,xve=gve(vve,"Map"),OE=xve,VI=Wge,yve=Kb,jve=OE;function bve(){this.size=0,this.__data__={hash:new VI,map:new(jve||yve),string:new VI}}var wve=bve;function Nve(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Sve=Nve,Cve=Sve;function Pve(e,t){var n=e.__data__;return Cve(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Yb=Pve,_ve=Yb;function Ave(e){var t=_ve(this,e).delete(e);return this.size-=t?1:0,t}var Eve=Ave,kve=Yb;function Tve(e){return kve(this,e).get(e)}var Ove=Tve,Dve=Yb;function Mve(e){return Dve(this,e).has(e)}var Ive=Mve,$ve=Yb;function Rve(e,t){var n=$ve(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var Lve=Rve,Fve=wve,Bve=Eve,zve=Ove,Vve=Ive,Uve=Lve;function nm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}nm.prototype.clear=Fve;nm.prototype.delete=Bve;nm.prototype.get=zve;nm.prototype.has=Vve;nm.prototype.set=Uve;var DE=nm,pU=DE,qve="Expected a function";function ME(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(qve);var n=function(){var s=arguments,i=t?t.apply(this,s):s[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,s);return n.cache=a.set(i,o)||a,o};return n.cache=new(ME.Cache||pU),n}ME.Cache=pU;var gU=ME;const Wve=pn(gU);var Hve=gU,Gve=500;function Kve(e){var t=Hve(e,function(s){return n.size===Gve&&n.clear(),s}),n=t.cache;return t}var Yve=Kve,Qve=Yve,Xve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jve=/\\(\\)?/g,Zve=Qve(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Xve,function(n,s,i,a){t.push(i?a.replace(Jve,"$1"):s||n)}),t}),exe=Zve;function txe(e,t){for(var n=-1,s=e==null?0:e.length,i=Array(s);++n<s;)i[n]=t(e[n],n,e);return i}var IE=txe,UI=yv,nxe=IE,rxe=ni,sxe=Jf,ixe=1/0,qI=UI?UI.prototype:void 0,WI=qI?qI.toString:void 0;function vU(e){if(typeof e=="string")return e;if(rxe(e))return nxe(e,vU)+"";if(sxe(e))return WI?WI.call(e):"";var t=e+"";return t=="0"&&1/e==-ixe?"-0":t}var axe=vU,oxe=axe;function lxe(e){return e==null?"":oxe(e)}var xU=lxe,cxe=ni,uxe=EE,dxe=exe,hxe=xU;function fxe(e,t){return cxe(e)?e:uxe(e,t)?[e]:dxe(hxe(e))}var yU=fxe,mxe=Jf,pxe=1/0;function gxe(e){if(typeof e=="string"||mxe(e))return e;var t=e+"";return t=="0"&&1/e==-pxe?"-0":t}var Qb=gxe,vxe=yU,xxe=Qb;function yxe(e,t){t=vxe(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[xxe(t[n++])];return n&&n==s?e:void 0}var $E=yxe,jxe=$E;function bxe(e,t,n){var s=e==null?void 0:jxe(e,t);return s===void 0?n:s}var jU=bxe;const bi=pn(jU);function wxe(e){return e==null}var Nxe=wxe;const At=pn(Nxe);var Sxe=pl,Cxe=ni,Pxe=gl,_xe="[object String]";function Axe(e){return typeof e=="string"||!Cxe(e)&&Pxe(e)&&Sxe(e)==_xe}var Exe=Axe;const Qu=pn(Exe);var bU={exports:{}},bn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE=Symbol.for("react.element"),LE=Symbol.for("react.portal"),Xb=Symbol.for("react.fragment"),Jb=Symbol.for("react.strict_mode"),Zb=Symbol.for("react.profiler"),ew=Symbol.for("react.provider"),tw=Symbol.for("react.context"),kxe=Symbol.for("react.server_context"),nw=Symbol.for("react.forward_ref"),rw=Symbol.for("react.suspense"),sw=Symbol.for("react.suspense_list"),iw=Symbol.for("react.memo"),aw=Symbol.for("react.lazy"),Txe=Symbol.for("react.offscreen"),wU;wU=Symbol.for("react.module.reference");function ta(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case RE:switch(e=e.type,e){case Xb:case Zb:case Jb:case rw:case sw:return e;default:switch(e=e&&e.$$typeof,e){case kxe:case tw:case nw:case aw:case iw:case ew:return e;default:return t}}case LE:return t}}}bn.ContextConsumer=tw;bn.ContextProvider=ew;bn.Element=RE;bn.ForwardRef=nw;bn.Fragment=Xb;bn.Lazy=aw;bn.Memo=iw;bn.Portal=LE;bn.Profiler=Zb;bn.StrictMode=Jb;bn.Suspense=rw;bn.SuspenseList=sw;bn.isAsyncMode=function(){return!1};bn.isConcurrentMode=function(){return!1};bn.isContextConsumer=function(e){return ta(e)===tw};bn.isContextProvider=function(e){return ta(e)===ew};bn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===RE};bn.isForwardRef=function(e){return ta(e)===nw};bn.isFragment=function(e){return ta(e)===Xb};bn.isLazy=function(e){return ta(e)===aw};bn.isMemo=function(e){return ta(e)===iw};bn.isPortal=function(e){return ta(e)===LE};bn.isProfiler=function(e){return ta(e)===Zb};bn.isStrictMode=function(e){return ta(e)===Jb};bn.isSuspense=function(e){return ta(e)===rw};bn.isSuspenseList=function(e){return ta(e)===sw};bn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xb||e===Zb||e===Jb||e===rw||e===sw||e===Txe||typeof e=="object"&&e!==null&&(e.$$typeof===aw||e.$$typeof===iw||e.$$typeof===ew||e.$$typeof===tw||e.$$typeof===nw||e.$$typeof===wU||e.getModuleId!==void 0)};bn.typeOf=ta;bU.exports=bn;var Oxe=bU.exports,Dxe=pl,Mxe=gl,Ixe="[object Number]";function $xe(e){return typeof e=="number"||Mxe(e)&&Dxe(e)==Ixe}var NU=$xe;const Rxe=pn(NU);var Lxe=NU;function Fxe(e){return Lxe(e)&&e!=+e}var Bxe=Fxe;const rm=pn(Bxe);var Es=function(t){return t===0?0:t>0?1:-1},vu=function(t){return Qu(t)&&t.indexOf("%")===t.length-1},Ve=function(t){return Rxe(t)&&!rm(t)},zxe=function(t){return At(t)},Dr=function(t){return Ve(t)||Qu(t)},Vxe=0,pd=function(t){var n=++Vxe;return"".concat(t||"").concat(n)},ks=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(t)&&!Qu(t))return s;var a;if(vu(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return rm(a)&&(a=s),i&&a>n&&(a=n),a},Wl=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Uxe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,s={},i=0;i<n;i++)if(!s[t[i]])s[t[i]]=!0;else return!0;return!1},Tr=function(t,n){return Ve(t)&&Ve(n)?function(s){return t+s*(n-t)}:function(){return n}};function D0(e,t,n){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):bi(s,t))===n})}var qxe=function(t,n){return Ve(t)&&Ve(n)?t-n:Qu(t)&&Qu(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function kh(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function H2(e){"@babel/helpers - typeof";return H2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H2(e)}var Wxe=["viewBox","children"],Hxe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HI=["points","pathLength"],NS={svg:Wxe,polygon:HI,polyline:HI},FE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],M0=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(w.isValidElement(t)&&(s=t.props),!Zf(s))return null;var i={};return Object.keys(s).forEach(function(a){FE.includes(a)&&(i[a]=n||function(o){return s[a](s,o)})}),i},Gxe=function(t,n,s){return function(i){return t(n,s,i),null}},Xu=function(t,n,s){if(!Zf(t)||H2(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];FE.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Gxe(o,n,s))}),i},Kxe=["children"],Yxe=["children"];function GI(e,t){if(e==null)return{};var n=Qxe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Qxe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function G2(e){"@babel/helpers - typeof";return G2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G2(e)}var KI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Qo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},YI=null,SS=null,BE=function e(t){if(t===YI&&Array.isArray(SS))return SS;var n=[];return w.Children.forEach(t,function(s){At(s)||(Oxe.isFragment(s)?n=n.concat(e(s.props.children)):n.push(s))}),SS=n,YI=t,n};function wi(e,t){var n=[],s=[];return Array.isArray(t)?s=t.map(function(i){return Qo(i)}):s=[Qo(t)],BE(e).forEach(function(i){var a=bi(i,"type.displayName")||bi(i,"type.name");s.indexOf(a)!==-1&&n.push(i)}),n}function fi(e,t){var n=wi(e,t);return n&&n[0]}var QI=function(t){if(!t||!t.props)return!1;var n=t.props,s=n.width,i=n.height;return!(!Ve(s)||s<=0||!Ve(i)||i<=0)},Xxe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Jxe=function(t){return t&&t.type&&Qu(t.type)&&Xxe.indexOf(t.type)>=0},SU=function(t){return t&&G2(t)==="object"&&"clipDot"in t},Zxe=function(t,n,s,i){var a,o=(a=NS==null?void 0:NS[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!jt(t)&&(i&&o.includes(n)||Hxe.includes(n))||s&&FE.includes(n)},ct=function(t,n,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(w.isValidElement(t)&&(i=t.props),!Zf(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;Zxe((l=i)===null||l===void 0?void 0:l[o],o,n,s)&&(a[o]=i[o])}),a},K2=function e(t,n){if(t===n)return!0;var s=w.Children.count(t);if(s!==w.Children.count(n))return!1;if(s===0)return!0;if(s===1)return XI(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<s;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!XI(a,o))return!1}return!0},XI=function(t,n){if(At(t)&&At(n))return!0;if(!At(t)&&!At(n)){var s=t.props||{},i=s.children,a=GI(s,Kxe),o=n.props||{},l=o.children,c=GI(o,Yxe);return i&&l?kh(a,c)&&K2(i,l):!i&&!l?kh(a,c):!1}return!1},JI=function(t,n){var s=[],i={};return BE(t).forEach(function(a,o){if(Jxe(a))s.push(a);else if(a){var l=Qo(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,o);s.push(f),i[l]=!0}}}),s},eye=function(t){var n=t&&t.type;return n&&KI[n]?KI[n]:null},tye=function(t,n){return BE(n).indexOf(t)},nye=["children","width","height","viewBox","className","style","title","desc"];function Y2(){return Y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Y2.apply(this,arguments)}function rye(e,t){if(e==null)return{};var n=sye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function sye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Q2(e){var t=e.children,n=e.width,s=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=rye(e,nye),d=i||{width:n,height:s,x:0,y:0},f=Et("recharts-surface",a);return H.createElement("svg",Y2({},ct(u,!0,"svg"),{className:f,width:n,height:s,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),H.createElement("title",null,l),H.createElement("desc",null,c),t)}var iye=["children","className"];function X2(){return X2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},X2.apply(this,arguments)}function aye(e,t){if(e==null)return{};var n=oye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function oye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Qt=H.forwardRef(function(e,t){var n=e.children,s=e.className,i=aye(e,iye),a=Et("recharts-layer",s);return H.createElement("g",X2({className:a},ct(i,!0),{ref:t}),n)}),_a=function(t,n){for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a]};function lye(e,t,n){var s=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++s<i;)a[s]=e[s+t];return a}var cye=lye,uye=cye;function dye(e,t,n){var s=e.length;return n=n===void 0?s:n,!t&&n>=s?e:uye(e,t,n)}var hye=dye,fye="\\ud800-\\udfff",mye="\\u0300-\\u036f",pye="\\ufe20-\\ufe2f",gye="\\u20d0-\\u20ff",vye=mye+pye+gye,xye="\\ufe0e\\ufe0f",yye="\\u200d",jye=RegExp("["+yye+fye+vye+xye+"]");function bye(e){return jye.test(e)}var CU=bye;function wye(e){return e.split("")}var Nye=wye,PU="\\ud800-\\udfff",Sye="\\u0300-\\u036f",Cye="\\ufe20-\\ufe2f",Pye="\\u20d0-\\u20ff",_ye=Sye+Cye+Pye,Aye="\\ufe0e\\ufe0f",Eye="["+PU+"]",J2="["+_ye+"]",Z2="\\ud83c[\\udffb-\\udfff]",kye="(?:"+J2+"|"+Z2+")",_U="[^"+PU+"]",AU="(?:\\ud83c[\\udde6-\\uddff]){2}",EU="[\\ud800-\\udbff][\\udc00-\\udfff]",Tye="\\u200d",kU=kye+"?",TU="["+Aye+"]?",Oye="(?:"+Tye+"(?:"+[_U,AU,EU].join("|")+")"+TU+kU+")*",Dye=TU+kU+Oye,Mye="(?:"+[_U+J2+"?",J2,AU,EU,Eye].join("|")+")",Iye=RegExp(Z2+"(?="+Z2+")|"+Mye+Dye,"g");function $ye(e){return e.match(Iye)||[]}var Rye=$ye,Lye=Nye,Fye=CU,Bye=Rye;function zye(e){return Fye(e)?Bye(e):Lye(e)}var Vye=zye,Uye=hye,qye=CU,Wye=Vye,Hye=xU;function Gye(e){return function(t){t=Hye(t);var n=qye(t)?Wye(t):void 0,s=n?n[0]:t.charAt(0),i=n?Uye(n,1).join(""):t.slice(1);return s[e]()+i}}var Kye=Gye,Yye=Kye,Qye=Yye("toUpperCase"),Xye=Qye;const ow=pn(Xye);function On(e){return function(){return e}}const OU=Math.cos,I0=Math.sin,Fa=Math.sqrt,$0=Math.PI,lw=2*$0,eP=Math.PI,tP=2*eP,ou=1e-6,Jye=tP-ou;function DU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Zye(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return DU;const n=10**t;return function(s){this._+=s[0];for(let i=1,a=s.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+s[i]}}class e0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?DU:Zye(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,s,i){this._append`Q${+t},${+n},${this._x1=+s},${this._y1=+i}`}bezierCurveTo(t,n,s,i,a,o){this._append`C${+t},${+n},${+s},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,s,i,a){if(t=+t,n=+n,s=+s,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=s-t,u=i-n,d=o-t,f=l-n,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>ou)if(!(Math.abs(f*c-u*d)>ou)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let g=s-o,x=i-l,v=c*c+u*u,y=g*g+x*x,N=Math.sqrt(v),j=Math.sqrt(m),b=a*Math.tan((eP-Math.acos((v+m-y)/(2*N*j)))/2),P=b/j,C=b/N;Math.abs(P-1)>ou&&this._append`L${t+P*d},${n+P*f}`,this._append`A${a},${a},0,0,${+(f*g>d*x)},${this._x1=t+C*c},${this._y1=n+C*u}`}}arc(t,n,s,i,a,o){if(t=+t,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(i),c=s*Math.sin(i),u=t+l,d=n+c,f=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ou||Math.abs(this._y1-d)>ou)&&this._append`L${u},${d}`,s&&(m<0&&(m=m%tP+tP),m>Jye?this._append`A${s},${s},0,1,${f},${t-l},${n-c}A${s},${s},0,1,${f},${this._x1=u},${this._y1=d}`:m>ou&&this._append`A${s},${s},0,${+(m>=eP)},${f},${this._x1=t+s*Math.cos(a)},${this._y1=n+s*Math.sin(a)}`)}rect(t,n,s,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${s=+s}v${+i}h${-s}Z`}toString(){return this._}}function zE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);t=s}return e},()=>new e0e(t)}function VE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MU(e){this._context=e}MU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cw(e){return new MU(e)}function IU(e){return e[0]}function $U(e){return e[1]}function RU(e,t){var n=On(!0),s=null,i=cw,a=null,o=zE(l);e=typeof e=="function"?e:e===void 0?IU:On(e),t=typeof t=="function"?t:t===void 0?$U:On(t);function l(c){var u,d=(c=VE(c)).length,f,m=!1,g;for(s==null&&(a=i(g=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(f,u,c),+t(f,u,c));if(g)return a=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:On(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:On(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:On(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,s!=null&&(a=i(s)),l):i},l.context=function(c){return arguments.length?(c==null?s=a=null:a=i(s=c),l):s},l}function cy(e,t,n){var s=null,i=On(!0),a=null,o=cw,l=null,c=zE(u);e=typeof e=="function"?e:e===void 0?IU:On(+e),t=typeof t=="function"?t:On(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?$U:On(+n);function u(f){var m,g,x,v=(f=VE(f)).length,y,N=!1,j,b=new Array(v),P=new Array(v);for(a==null&&(l=o(j=c())),m=0;m<=v;++m){if(!(m<v&&i(y=f[m],m,f))===N)if(N=!N)g=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=g;--x)l.point(b[x],P[x]);l.lineEnd(),l.areaEnd()}N&&(b[m]=+e(y,m,f),P[m]=+t(y,m,f),l.point(s?+s(y,m,f):b[m],n?+n(y,m,f):P[m]))}if(j)return l=null,j+""||null}function d(){return RU().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:On(+f),s=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:On(+f),u):e},u.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:On(+f),u):s},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:On(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:On(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:On(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(s).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:On(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class LU{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function t0e(e){return new LU(e,!0)}function n0e(e){return new LU(e,!1)}const UE={draw(e,t){const n=Fa(t/$0);e.moveTo(n,0),e.arc(0,0,n,0,lw)}},r0e={draw(e,t){const n=Fa(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},FU=Fa(1/3),s0e=FU*2,i0e={draw(e,t){const n=Fa(t/s0e),s=n*FU;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},a0e={draw(e,t){const n=Fa(t),s=-n/2;e.rect(s,s,n,n)}},o0e=.8908130915292852,BU=I0($0/10)/I0(7*$0/10),l0e=I0(lw/10)*BU,c0e=-OU(lw/10)*BU,u0e={draw(e,t){const n=Fa(t*o0e),s=l0e*n,i=c0e*n;e.moveTo(0,-n),e.lineTo(s,i);for(let a=1;a<5;++a){const o=lw*a/5,l=OU(o),c=I0(o);e.lineTo(c*n,-l*n),e.lineTo(l*s-c*i,c*s+l*i)}e.closePath()}},CS=Fa(3),d0e={draw(e,t){const n=-Fa(t/(CS*3));e.moveTo(0,n*2),e.lineTo(-CS*n,-n),e.lineTo(CS*n,-n),e.closePath()}},Ii=-.5,$i=Fa(3)/2,nP=1/Fa(12),h0e=(nP/2+1)*3,f0e={draw(e,t){const n=Fa(t/h0e),s=n/2,i=n*nP,a=s,o=n*nP+n,l=-a,c=o;e.moveTo(s,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Ii*s-$i*i,$i*s+Ii*i),e.lineTo(Ii*a-$i*o,$i*a+Ii*o),e.lineTo(Ii*l-$i*c,$i*l+Ii*c),e.lineTo(Ii*s+$i*i,Ii*i-$i*s),e.lineTo(Ii*a+$i*o,Ii*o-$i*a),e.lineTo(Ii*l+$i*c,Ii*c-$i*l),e.closePath()}};function m0e(e,t){let n=null,s=zE(i);e=typeof e=="function"?e:On(e||UE),t=typeof t=="function"?t:On(t===void 0?64:+t);function i(){let a;if(n||(n=a=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:On(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:On(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function R0(){}function L0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function zU(e){this._context=e}zU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:L0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:L0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function p0e(e){return new zU(e)}function VU(e){this._context=e}VU.prototype={areaStart:R0,areaEnd:R0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:L0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function g0e(e){return new VU(e)}function UU(e){this._context=e}UU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:L0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function v0e(e){return new UU(e)}function qU(e){this._context=e}qU.prototype={areaStart:R0,areaEnd:R0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function x0e(e){return new qU(e)}function ZI(e){return e<0?-1:1}function e4(e,t,n){var s=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(s||i<0&&-0),o=(n-e._y1)/(i||s<0&&-0),l=(a*i+o*s)/(s+i);return(ZI(a)+ZI(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function t4(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function PS(e,t,n){var s=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-s)/3;e._context.bezierCurveTo(s+l,i+l*t,a-l,o-l*n,a,o)}function F0(e){this._context=e}F0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:PS(this,this._t0,t4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,PS(this,t4(this,n=e4(this,e,t)),n);break;default:PS(this,this._t0,n=e4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function WU(e){this._context=new HU(e)}(WU.prototype=Object.create(F0.prototype)).point=function(e,t){F0.prototype.point.call(this,t,e)};function HU(e){this._context=e}HU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,i,a){this._context.bezierCurveTo(t,e,s,n,a,i)}};function y0e(e){return new F0(e)}function j0e(e){return new WU(e)}function GU(e){this._context=e}GU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=n4(e),i=n4(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(s[0][a],i[0][a],s[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function n4(e){var t,n=e.length-1,s,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=i[t]/a[t-1],a[t]-=s,o[t]-=s*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function b0e(e){return new GU(e)}function uw(e,t){this._context=e,this._t=t}uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function w0e(e){return new uw(e,.5)}function N0e(e){return new uw(e,0)}function S0e(e){return new uw(e,1)}function cf(e,t){if((o=e.length)>1)for(var n=1,s,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],s=0;s<l;++s)a[s][1]+=a[s][0]=isNaN(i[s][1])?i[s][0]:i[s][1]}function rP(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function C0e(e,t){return e[t]}function P0e(e){const t=[];return t.key=e,t}function _0e(){var e=On([]),t=rP,n=cf,s=C0e;function i(a){var o=Array.from(e.apply(this,arguments),P0e),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+s(f,o[l].key,u,a)]).data=f;for(l=0,d=VE(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:On(Array.from(a)),i):e},i.value=function(a){return arguments.length?(s=typeof a=="function"?a:On(+a),i):s},i.order=function(a){return arguments.length?(t=a==null?rP:typeof a=="function"?a:On(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??cf,i):n},i}function A0e(e,t){if((s=e.length)>0){for(var n,s,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<s;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<s;++n)e[n][i][1]/=o}cf(e,t)}}function E0e(e,t){if((i=e.length)>0){for(var n=0,s=e[t[0]],i,a=s.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}cf(e,t)}}function k0e(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,s=1,i,a,o;s<a;++s){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[s][1]||0,m=d[s-1][1]||0,g=(f-m)/2,x=0;x<l;++x){var v=e[t[x]],y=v[s][1]||0,N=v[s-1][1]||0;g+=y-N}c+=f,u+=g*f}i[s-1][1]+=i[s-1][0]=n,c&&(n-=u/c)}i[s-1][1]+=i[s-1][0]=n,cf(e,t)}}function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}var T0e=["type","size","sizeType"];function sP(){return sP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sP.apply(this,arguments)}function r4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function s4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r4(Object(n),!0).forEach(function(s){O0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function O0e(e,t,n){return t=D0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D0e(e){var t=M0e(e,"string");return hg(t)=="symbol"?t:t+""}function M0e(e,t){if(hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(hg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I0e(e,t){if(e==null)return{};var n=$0e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function $0e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var KU={symbolCircle:UE,symbolCross:r0e,symbolDiamond:i0e,symbolSquare:a0e,symbolStar:u0e,symbolTriangle:d0e,symbolWye:f0e},R0e=Math.PI/180,L0e=function(t){var n="symbol".concat(ow(t));return KU[n]||UE},F0e=function(t,n,s){if(n==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*R0e;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},B0e=function(t,n){KU["symbol".concat(ow(t))]=n},qE=function(t){var n=t.type,s=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=I0e(t,T0e),u=s4(s4({},c),{},{type:s,size:a,sizeType:l}),d=function(){var y=L0e(s),N=m0e().type(y).size(F0e(a,l,s));return N()},f=u.className,m=u.cx,g=u.cy,x=ct(u,!0);return m===+m&&g===+g&&a===+a?H.createElement("path",sP({},x,{className:Et("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};qE.registerSymbol=B0e;function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function iP(){return iP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},iP.apply(this,arguments)}function i4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function z0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(n),!0).forEach(function(s){fg(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function V0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U0e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,QU(s.key),s)}}function q0e(e,t,n){return t&&U0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W0e(e,t,n){return t=B0(t),H0e(e,YU()?Reflect.construct(t,n||[],B0(e).constructor):t.apply(e,n))}function H0e(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G0e(e)}function G0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YU=function(){return!!e})()}function B0(e){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},B0(e)}function K0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aP(e,t)}function aP(e,t){return aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},aP(e,t)}function fg(e,t,n){return t=QU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QU(e){var t=Y0e(e,"string");return uf(t)=="symbol"?t:t+""}function Y0e(e,t){if(uf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(uf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ri=32,WE=function(e){function t(){return V0e(this,t),W0e(this,t,arguments)}return K0e(t,e),q0e(t,[{key:"renderIcon",value:function(s){var i=this.props.inactiveColor,a=Ri/2,o=Ri/6,l=Ri/3,c=s.inactive?i:s.color;if(s.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:a,x2:Ri,y2:a,className:"recharts-legend-icon"});if(s.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Ri,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(s.type==="rect")return H.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ri/8,"h").concat(Ri,"v").concat(Ri*3/4,"h").concat(-Ri,"z"),className:"recharts-legend-icon"});if(H.isValidElement(s.legendIcon)){var u=z0e({},s);return delete u.legendIcon,H.cloneElement(s.legendIcon,u)}return H.createElement(qE,{fill:c,cx:a,cy:a,size:Ri,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Ri,height:Ri},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,x){var v=g.formatter||c,y=Et(fg(fg({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var N=jt(g.value)?null:g.value;_a(!jt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=g.inactive?u:g.color;return H.createElement("li",iP({className:y,style:f,key:"legend-item-".concat(x)},Xu(s.props,g,x)),H.createElement(Q2,{width:o,height:o,viewBox:d,style:m},s.renderIcon(g)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},v?v(N,g,x):N))})}},{key:"render",value:function(){var s=this.props,i=s.payload,a=s.layout,o=s.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);fg(WE,"displayName","Legend");fg(WE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Q0e=Kb;function X0e(){this.__data__=new Q0e,this.size=0}var J0e=X0e;function Z0e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var eje=Z0e;function tje(e){return this.__data__.get(e)}var nje=tje;function rje(e){return this.__data__.has(e)}var sje=rje,ije=Kb,aje=OE,oje=DE,lje=200;function cje(e,t){var n=this.__data__;if(n instanceof ije){var s=n.__data__;if(!aje||s.length<lje-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new oje(s)}return n.set(e,t),this.size=n.size,this}var uje=cje,dje=Kb,hje=J0e,fje=eje,mje=nje,pje=sje,gje=uje;function sm(e){var t=this.__data__=new dje(e);this.size=t.size}sm.prototype.clear=hje;sm.prototype.delete=fje;sm.prototype.get=mje;sm.prototype.has=pje;sm.prototype.set=gje;var XU=sm,vje="__lodash_hash_undefined__";function xje(e){return this.__data__.set(e,vje),this}var yje=xje;function jje(e){return this.__data__.has(e)}var bje=jje,wje=DE,Nje=yje,Sje=bje;function z0(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new wje;++t<n;)this.add(e[t])}z0.prototype.add=z0.prototype.push=Nje;z0.prototype.has=Sje;var JU=z0;function Cje(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var ZU=Cje;function Pje(e,t){return e.has(t)}var eq=Pje,_je=JU,Aje=ZU,Eje=eq,kje=1,Tje=2;function Oje(e,t,n,s,i,a){var o=n&kje,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,m=!0,g=n&Tje?new _je:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var x=e[f],v=t[f];if(s)var y=o?s(v,x,f,t,e,a):s(x,v,f,e,t,a);if(y!==void 0){if(y)continue;m=!1;break}if(g){if(!Aje(t,function(N,j){if(!Eje(g,j)&&(x===N||i(x,N,n,s,a)))return g.push(j)})){m=!1;break}}else if(!(x===v||i(x,v,n,s,a))){m=!1;break}}return a.delete(e),a.delete(t),m}var tq=Oje,Dje=yo,Mje=Dje.Uint8Array,Ije=Mje;function $je(e){var t=-1,n=Array(e.size);return e.forEach(function(s,i){n[++t]=[i,s]}),n}var Rje=$je;function Lje(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var HE=Lje,a4=yv,o4=Ije,Fje=TE,Bje=tq,zje=Rje,Vje=HE,Uje=1,qje=2,Wje="[object Boolean]",Hje="[object Date]",Gje="[object Error]",Kje="[object Map]",Yje="[object Number]",Qje="[object RegExp]",Xje="[object Set]",Jje="[object String]",Zje="[object Symbol]",ebe="[object ArrayBuffer]",tbe="[object DataView]",l4=a4?a4.prototype:void 0,_S=l4?l4.valueOf:void 0;function nbe(e,t,n,s,i,a,o){switch(n){case tbe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ebe:return!(e.byteLength!=t.byteLength||!a(new o4(e),new o4(t)));case Wje:case Hje:case Yje:return Fje(+e,+t);case Gje:return e.name==t.name&&e.message==t.message;case Qje:case Jje:return e==t+"";case Kje:var l=zje;case Xje:var c=s&Uje;if(l||(l=Vje),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;s|=qje,o.set(e,t);var d=Bje(l(e),l(t),s,i,a,o);return o.delete(e),d;case Zje:if(_S)return _S.call(e)==_S.call(t)}return!1}var rbe=nbe;function sbe(e,t){for(var n=-1,s=t.length,i=e.length;++n<s;)e[i+n]=t[n];return e}var nq=sbe,ibe=nq,abe=ni;function obe(e,t,n){var s=t(e);return abe(e)?s:ibe(s,n(e))}var lbe=obe;function cbe(e,t){for(var n=-1,s=e==null?0:e.length,i=0,a=[];++n<s;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var ube=cbe;function dbe(){return[]}var hbe=dbe,fbe=ube,mbe=hbe,pbe=Object.prototype,gbe=pbe.propertyIsEnumerable,c4=Object.getOwnPropertySymbols,vbe=c4?function(e){return e==null?[]:(e=Object(e),fbe(c4(e),function(t){return gbe.call(e,t)}))}:mbe,xbe=vbe;function ybe(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var jbe=ybe,bbe=pl,wbe=gl,Nbe="[object Arguments]";function Sbe(e){return wbe(e)&&bbe(e)==Nbe}var Cbe=Sbe,u4=Cbe,Pbe=gl,rq=Object.prototype,_be=rq.hasOwnProperty,Abe=rq.propertyIsEnumerable,Ebe=u4(function(){return arguments}())?u4:function(e){return Pbe(e)&&_be.call(e,"callee")&&!Abe.call(e,"callee")},GE=Ebe,V0={exports:{}};function kbe(){return!1}var Tbe=kbe;V0.exports;(function(e,t){var n=yo,s=Tbe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||s;e.exports=u})(V0,V0.exports);var sq=V0.exports,Obe=9007199254740991,Dbe=/^(?:0|[1-9]\d*)$/;function Mbe(e,t){var n=typeof e;return t=t??Obe,!!t&&(n=="number"||n!="symbol"&&Dbe.test(e))&&e>-1&&e%1==0&&e<t}var KE=Mbe,Ibe=9007199254740991;function $be(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ibe}var YE=$be,Rbe=pl,Lbe=YE,Fbe=gl,Bbe="[object Arguments]",zbe="[object Array]",Vbe="[object Boolean]",Ube="[object Date]",qbe="[object Error]",Wbe="[object Function]",Hbe="[object Map]",Gbe="[object Number]",Kbe="[object Object]",Ybe="[object RegExp]",Qbe="[object Set]",Xbe="[object String]",Jbe="[object WeakMap]",Zbe="[object ArrayBuffer]",ewe="[object DataView]",twe="[object Float32Array]",nwe="[object Float64Array]",rwe="[object Int8Array]",swe="[object Int16Array]",iwe="[object Int32Array]",awe="[object Uint8Array]",owe="[object Uint8ClampedArray]",lwe="[object Uint16Array]",cwe="[object Uint32Array]",Fn={};Fn[twe]=Fn[nwe]=Fn[rwe]=Fn[swe]=Fn[iwe]=Fn[awe]=Fn[owe]=Fn[lwe]=Fn[cwe]=!0;Fn[Bbe]=Fn[zbe]=Fn[Zbe]=Fn[Vbe]=Fn[ewe]=Fn[Ube]=Fn[qbe]=Fn[Wbe]=Fn[Hbe]=Fn[Gbe]=Fn[Kbe]=Fn[Ybe]=Fn[Qbe]=Fn[Xbe]=Fn[Jbe]=!1;function uwe(e){return Fbe(e)&&Lbe(e.length)&&!!Fn[Rbe(e)]}var dwe=uwe;function hwe(e){return function(t){return e(t)}}var iq=hwe,U0={exports:{}};U0.exports;(function(e,t){var n=hU,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===s,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(U0,U0.exports);var fwe=U0.exports,mwe=dwe,pwe=iq,d4=fwe,h4=d4&&d4.isTypedArray,gwe=h4?pwe(h4):mwe,aq=gwe,vwe=jbe,xwe=GE,ywe=ni,jwe=sq,bwe=KE,wwe=aq,Nwe=Object.prototype,Swe=Nwe.hasOwnProperty;function Cwe(e,t){var n=ywe(e),s=!n&&xwe(e),i=!n&&!s&&jwe(e),a=!n&&!s&&!i&&wwe(e),o=n||s||i||a,l=o?vwe(e.length,String):[],c=l.length;for(var u in e)(t||Swe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||bwe(u,c)))&&l.push(u);return l}var Pwe=Cwe,_we=Object.prototype;function Awe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||_we;return e===n}var Ewe=Awe;function kwe(e,t){return function(n){return e(t(n))}}var oq=kwe,Twe=oq,Owe=Twe(Object.keys,Object),Dwe=Owe,Mwe=Ewe,Iwe=Dwe,$we=Object.prototype,Rwe=$we.hasOwnProperty;function Lwe(e){if(!Mwe(e))return Iwe(e);var t=[];for(var n in Object(e))Rwe.call(e,n)&&n!="constructor"&&t.push(n);return t}var Fwe=Lwe,Bwe=kE,zwe=YE;function Vwe(e){return e!=null&&zwe(e.length)&&!Bwe(e)}var jv=Vwe,Uwe=Pwe,qwe=Fwe,Wwe=jv;function Hwe(e){return Wwe(e)?Uwe(e):qwe(e)}var dw=Hwe,Gwe=lbe,Kwe=xbe,Ywe=dw;function Qwe(e){return Gwe(e,Ywe,Kwe)}var Xwe=Qwe,f4=Xwe,Jwe=1,Zwe=Object.prototype,eNe=Zwe.hasOwnProperty;function tNe(e,t,n,s,i,a){var o=n&Jwe,l=f4(e),c=l.length,u=f4(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:eNe.call(t,m)))return!1}var g=a.get(e),x=a.get(t);if(g&&x)return g==t&&x==e;var v=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){m=l[f];var N=e[m],j=t[m];if(s)var b=o?s(j,N,m,t,e,a):s(N,j,m,e,t,a);if(!(b===void 0?N===j||i(N,j,n,s,a):b)){v=!1;break}y||(y=m=="constructor")}if(v&&!y){var P=e.constructor,C=t.constructor;P!=C&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof C=="function"&&C instanceof C)&&(v=!1)}return a.delete(e),a.delete(t),v}var nNe=tNe,rNe=md,sNe=yo,iNe=rNe(sNe,"DataView"),aNe=iNe,oNe=md,lNe=yo,cNe=oNe(lNe,"Promise"),uNe=cNe,dNe=md,hNe=yo,fNe=dNe(hNe,"Set"),lq=fNe,mNe=md,pNe=yo,gNe=mNe(pNe,"WeakMap"),vNe=gNe,oP=aNe,lP=OE,cP=uNe,uP=lq,dP=vNe,cq=pl,im=mU,m4="[object Map]",xNe="[object Object]",p4="[object Promise]",g4="[object Set]",v4="[object WeakMap]",x4="[object DataView]",yNe=im(oP),jNe=im(lP),bNe=im(cP),wNe=im(uP),NNe=im(dP),lu=cq;(oP&&lu(new oP(new ArrayBuffer(1)))!=x4||lP&&lu(new lP)!=m4||cP&&lu(cP.resolve())!=p4||uP&&lu(new uP)!=g4||dP&&lu(new dP)!=v4)&&(lu=function(e){var t=cq(e),n=t==xNe?e.constructor:void 0,s=n?im(n):"";if(s)switch(s){case yNe:return x4;case jNe:return m4;case bNe:return p4;case wNe:return g4;case NNe:return v4}return t});var SNe=lu,AS=XU,CNe=tq,PNe=rbe,_Ne=nNe,y4=SNe,j4=ni,b4=sq,ANe=aq,ENe=1,w4="[object Arguments]",N4="[object Array]",uy="[object Object]",kNe=Object.prototype,S4=kNe.hasOwnProperty;function TNe(e,t,n,s,i,a){var o=j4(e),l=j4(t),c=o?N4:y4(e),u=l?N4:y4(t);c=c==w4?uy:c,u=u==w4?uy:u;var d=c==uy,f=u==uy,m=c==u;if(m&&b4(e)){if(!b4(t))return!1;o=!0,d=!1}if(m&&!d)return a||(a=new AS),o||ANe(e)?CNe(e,t,n,s,i,a):PNe(e,t,c,n,s,i,a);if(!(n&ENe)){var g=d&&S4.call(e,"__wrapped__"),x=f&&S4.call(t,"__wrapped__");if(g||x){var v=g?e.value():e,y=x?t.value():t;return a||(a=new AS),i(v,y,n,s,a)}}return m?(a||(a=new AS),_Ne(e,t,n,s,i,a)):!1}var ONe=TNe,DNe=ONe,C4=gl;function uq(e,t,n,s,i){return e===t?!0:e==null||t==null||!C4(e)&&!C4(t)?e!==e&&t!==t:DNe(e,t,n,s,uq,i)}var QE=uq,MNe=XU,INe=QE,$Ne=1,RNe=2;function LNe(e,t,n,s){var i=n.length,a=i,o=!s;if(e==null)return!a;for(e=Object(e);i--;){var l=n[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=n[i];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new MNe;if(s)var m=s(u,d,c,e,t,f);if(!(m===void 0?INe(d,u,$Ne|RNe,s,f):m))return!1}}return!0}var FNe=LNe,BNe=Fc;function zNe(e){return e===e&&!BNe(e)}var dq=zNe,VNe=dq,UNe=dw;function qNe(e){for(var t=UNe(e),n=t.length;n--;){var s=t[n],i=e[s];t[n]=[s,i,VNe(i)]}return t}var WNe=qNe;function HNe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var hq=HNe,GNe=FNe,KNe=WNe,YNe=hq;function QNe(e){var t=KNe(e);return t.length==1&&t[0][2]?YNe(t[0][0],t[0][1]):function(n){return n===e||GNe(n,e,t)}}var XNe=QNe;function JNe(e,t){return e!=null&&t in Object(e)}var ZNe=JNe,e1e=yU,t1e=GE,n1e=ni,r1e=KE,s1e=YE,i1e=Qb;function a1e(e,t,n){t=e1e(t,e);for(var s=-1,i=t.length,a=!1;++s<i;){var o=i1e(t[s]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++s!=i?a:(i=e==null?0:e.length,!!i&&s1e(i)&&r1e(o,i)&&(n1e(e)||t1e(e)))}var o1e=a1e,l1e=ZNe,c1e=o1e;function u1e(e,t){return e!=null&&c1e(e,t,l1e)}var d1e=u1e,h1e=QE,f1e=jU,m1e=d1e,p1e=EE,g1e=dq,v1e=hq,x1e=Qb,y1e=1,j1e=2;function b1e(e,t){return p1e(e)&&g1e(t)?v1e(x1e(e),t):function(n){var s=f1e(n,e);return s===void 0&&s===t?m1e(n,e):h1e(t,s,y1e|j1e)}}var w1e=b1e;function N1e(e){return e}var am=N1e;function S1e(e){return function(t){return t==null?void 0:t[e]}}var C1e=S1e,P1e=$E;function _1e(e){return function(t){return P1e(t,e)}}var A1e=_1e,E1e=C1e,k1e=A1e,T1e=EE,O1e=Qb;function D1e(e){return T1e(e)?E1e(O1e(e)):k1e(e)}var M1e=D1e,I1e=XNe,$1e=w1e,R1e=am,L1e=ni,F1e=M1e;function B1e(e){return typeof e=="function"?e:e==null?R1e:typeof e=="object"?L1e(e)?$1e(e[0],e[1]):I1e(e):F1e(e)}var jo=B1e;function z1e(e,t,n,s){for(var i=e.length,a=n+(s?1:-1);s?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var fq=z1e;function V1e(e){return e!==e}var U1e=V1e;function q1e(e,t,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===t)return s;return-1}var W1e=q1e,H1e=fq,G1e=U1e,K1e=W1e;function Y1e(e,t,n){return t===t?K1e(e,t,n):H1e(e,G1e,n)}var Q1e=Y1e,X1e=Q1e;function J1e(e,t){var n=e==null?0:e.length;return!!n&&X1e(e,t,0)>-1}var Z1e=J1e;function eSe(e,t,n){for(var s=-1,i=e==null?0:e.length;++s<i;)if(n(t,e[s]))return!0;return!1}var tSe=eSe;function nSe(){}var rSe=nSe,ES=lq,sSe=rSe,iSe=HE,aSe=1/0,oSe=ES&&1/iSe(new ES([,-0]))[1]==aSe?function(e){return new ES(e)}:sSe,lSe=oSe,cSe=JU,uSe=Z1e,dSe=tSe,hSe=eq,fSe=lSe,mSe=HE,pSe=200;function gSe(e,t,n){var s=-1,i=uSe,a=e.length,o=!0,l=[],c=l;if(n)o=!1,i=dSe;else if(a>=pSe){var u=t?null:fSe(e);if(u)return mSe(u);o=!1,i=hSe,c=new cSe}else c=t?[]:l;e:for(;++s<a;){var d=e[s],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var vSe=gSe,xSe=jo,ySe=vSe;function jSe(e,t){return e&&e.length?ySe(e,xSe(t)):[]}var bSe=jSe;const P4=pn(bSe);function mq(e,t,n){return t===!0?P4(e,n):jt(t)?P4(e,t):e}function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}var wSe=["ref"];function _4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(n),!0).forEach(function(s){hw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function NSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A4(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gq(s.key),s)}}function SSe(e,t,n){return t&&A4(e.prototype,t),n&&A4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CSe(e,t,n){return t=q0(t),PSe(e,pq()?Reflect.construct(t,n||[],q0(e).constructor):t.apply(e,n))}function PSe(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Se(e)}function _Se(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pq=function(){return!!e})()}function q0(e){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q0(e)}function ASe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hP(e,t)}function hP(e,t){return hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},hP(e,t)}function hw(e,t,n){return t=gq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gq(e){var t=ESe(e,"string");return df(t)=="symbol"?t:t+""}function ESe(e,t){if(df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(df(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kSe(e,t){if(e==null)return{};var n=TSe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function TSe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function OSe(e){return e.value}function DSe(e,t){if(H.isValidElement(e))return H.cloneElement(e,t);if(typeof e=="function")return H.createElement(e,t);t.ref;var n=kSe(t,wSe);return H.createElement(WE,n)}var E4=1,Th=function(e){function t(){var n;NSe(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=CSe(this,t,[].concat(i)),hw(n,"lastBoundingBox",{width:-1,height:-1}),n}return ASe(t,e),SSe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>E4||Math.abs(i.height-this.lastBoundingBox.height)>E4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,s&&s(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Oo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,m;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((d||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Oo(Oo({},f),m)}},{key:"render",value:function(){var s=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Oo(Oo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return H.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){s.wrapperNode=g}},DSe(a,Oo(Oo({},this.props),{},{payload:mq(d,u,OSe)})))}}],[{key:"getWithHeight",value:function(s,i){var a=Oo(Oo({},this.defaultProps),s.props),o=a.layout;return o==="vertical"&&Ve(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||i}:null}}])}(w.PureComponent);hw(Th,"displayName","Legend");hw(Th,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var k4=yv,MSe=GE,ISe=ni,T4=k4?k4.isConcatSpreadable:void 0;function $Se(e){return ISe(e)||MSe(e)||!!(T4&&e&&e[T4])}var RSe=$Se,LSe=nq,FSe=RSe;function vq(e,t,n,s,i){var a=-1,o=e.length;for(n||(n=FSe),i||(i=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?vq(l,t-1,n,s,i):LSe(i,l):s||(i[i.length]=l)}return i}var xq=vq;function BSe(e){return function(t,n,s){for(var i=-1,a=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++i];if(n(a[c],c,a)===!1)break}return t}}var zSe=BSe,VSe=zSe,USe=VSe(),qSe=USe,WSe=qSe,HSe=dw;function GSe(e,t){return e&&WSe(e,t,HSe)}var yq=GSe,KSe=jv;function YSe(e,t){return function(n,s){if(n==null)return n;if(!KSe(n))return e(n,s);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&s(o[a],a,o)!==!1;);return n}}var QSe=YSe,XSe=yq,JSe=QSe,ZSe=JSe(XSe),XE=ZSe,eCe=XE,tCe=jv;function nCe(e,t){var n=-1,s=tCe(e)?Array(e.length):[];return eCe(e,function(i,a,o){s[++n]=t(i,a,o)}),s}var jq=nCe;function rCe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var sCe=rCe,O4=Jf;function iCe(e,t){if(e!==t){var n=e!==void 0,s=e===null,i=e===e,a=O4(e),o=t!==void 0,l=t===null,c=t===t,u=O4(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||s&&o&&c||!n&&c||!i)return 1;if(!s&&!a&&!u&&e<t||u&&n&&i&&!s&&!a||l&&n&&i||!o&&i||!c)return-1}return 0}var aCe=iCe,oCe=aCe;function lCe(e,t,n){for(var s=-1,i=e.criteria,a=t.criteria,o=i.length,l=n.length;++s<o;){var c=oCe(i[s],a[s]);if(c){if(s>=l)return c;var u=n[s];return c*(u=="desc"?-1:1)}}return e.index-t.index}var cCe=lCe,kS=IE,uCe=$E,dCe=jo,hCe=jq,fCe=sCe,mCe=iq,pCe=cCe,gCe=am,vCe=ni;function xCe(e,t,n){t.length?t=kS(t,function(a){return vCe(a)?function(o){return uCe(o,a.length===1?a[0]:a)}:a}):t=[gCe];var s=-1;t=kS(t,mCe(dCe));var i=hCe(e,function(a,o,l){var c=kS(t,function(u){return u(a)});return{criteria:c,index:++s,value:a}});return fCe(i,function(a,o){return pCe(a,o,n)})}var yCe=xCe;function jCe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var bCe=jCe,wCe=bCe,D4=Math.max;function NCe(e,t,n){return t=D4(t===void 0?e.length-1:t,0),function(){for(var s=arguments,i=-1,a=D4(s.length-t,0),o=Array(a);++i<a;)o[i]=s[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=s[i];return l[t]=n(o),wCe(e,this,l)}}var SCe=NCe;function CCe(e){return function(){return e}}var PCe=CCe,_Ce=md,ACe=function(){try{var e=_Ce(Object,"defineProperty");return e({},"",{}),e}catch{}}(),bq=ACe,ECe=PCe,M4=bq,kCe=am,TCe=M4?function(e,t){return M4(e,"toString",{configurable:!0,enumerable:!1,value:ECe(t),writable:!0})}:kCe,OCe=TCe,DCe=800,MCe=16,ICe=Date.now;function $Ce(e){var t=0,n=0;return function(){var s=ICe(),i=MCe-(s-n);if(n=s,i>0){if(++t>=DCe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var RCe=$Ce,LCe=OCe,FCe=RCe,BCe=FCe(LCe),zCe=BCe,VCe=am,UCe=SCe,qCe=zCe;function WCe(e,t){return qCe(UCe(e,t,VCe),e+"")}var HCe=WCe,GCe=TE,KCe=jv,YCe=KE,QCe=Fc;function XCe(e,t,n){if(!QCe(n))return!1;var s=typeof t;return(s=="number"?KCe(n)&&YCe(t,n.length):s=="string"&&t in n)?GCe(n[t],e):!1}var fw=XCe,JCe=xq,ZCe=yCe,e2e=HCe,I4=fw,t2e=e2e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&I4(e,t[0],t[1])?t=[]:n>2&&I4(t[0],t[1],t[2])&&(t=[t[0]]),ZCe(e,JCe(t,1),[])}),n2e=t2e;const JE=pn(n2e);function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function fP(){return fP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fP.apply(this,arguments)}function r2e(e,t){return o2e(e)||a2e(e,t)||i2e(e,t)||s2e()}function s2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i2e(e,t){if(e){if(typeof e=="string")return $4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $4(e,t)}}function $4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function a2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function o2e(e){if(Array.isArray(e))return e}function R4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function TS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(n),!0).forEach(function(s){l2e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function l2e(e,t,n){return t=c2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c2e(e){var t=u2e(e,"string");return mg(t)=="symbol"?t:t+""}function u2e(e,t){if(mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(mg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d2e(e){return Array.isArray(e)&&Dr(e[0])&&Dr(e[1])?e.join(" ~ "):e}var h2e=function(t){var n=t.separator,s=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,g=t.wrapperClassName,x=t.labelClassName,v=t.label,y=t.labelFormatter,N=t.accessibilityLayer,j=N===void 0?!1:N,b=function(){if(d&&d.length){var k={padding:0,margin:0},F=(m?JE(d,m):d).map(function(L,Y){if(L.type==="none")return null;var q=TS({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),ie=L.formatter||f||d2e,$=L.value,z=L.name,le=$,pe=z;if(ie&&le!=null&&pe!=null){var ee=ie($,z,L,Y,d);if(Array.isArray(ee)){var J=r2e(ee,2);le=J[0],pe=J[1]}else le=ee}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:q},Dr(pe)?H.createElement("span",{className:"recharts-tooltip-item-name"},pe):null,Dr(pe)?H.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,H.createElement("span",{className:"recharts-tooltip-item-value"},le),H.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:k},F)}return null},P=TS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=TS({margin:0},u),_=!At(v),A=_?v:"",E=Et("recharts-default-tooltip",g),D=Et("recharts-tooltip-label",x);_&&y&&d!==void 0&&d!==null&&(A=y(v,d));var I=j?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",fP({className:E,style:P},I),H.createElement("p",{className:D,style:C},H.isValidElement(A)?A:"".concat(A)),b())};function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function dy(e,t,n){return t=f2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f2e(e){var t=m2e(e,"string");return pg(t)=="symbol"?t:t+""}function m2e(e,t){if(pg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(pg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qm="recharts-tooltip-wrapper",p2e={visibility:"hidden"};function g2e(e){var t=e.coordinate,n=e.translateX,s=e.translateY;return Et(Qm,dy(dy(dy(dy({},"".concat(Qm,"-right"),Ve(n)&&t&&Ve(t.x)&&n>=t.x),"".concat(Qm,"-left"),Ve(n)&&t&&Ve(t.x)&&n<t.x),"".concat(Qm,"-bottom"),Ve(s)&&t&&Ve(t.y)&&s>=t.y),"".concat(Qm,"-top"),Ve(s)&&t&&Ve(t.y)&&s<t.y))}function L4(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&Ve(a[s]))return a[s];var d=n[s]-l-i,f=n[s]+i;if(t[s])return o[s]?d:f;if(o[s]){var m=d,g=c[s];return m<g?Math.max(f,c[s]):Math.max(d,c[s])}var x=f+l,v=c[s]+u;return x>v?Math.max(d,c[s]):Math.max(f,c[s])}function v2e(e){var t=e.translateX,n=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function x2e(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=L4({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=L4({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=v2e({translateX:d,translateY:f,useTranslate3d:l})):u=p2e,{cssProperties:u,cssClasses:g2e({translateX:d,translateY:f,coordinate:n})}}function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function F4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function B4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(n),!0).forEach(function(s){pP(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function y2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Nq(s.key),s)}}function b2e(e,t,n){return t&&j2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w2e(e,t,n){return t=W0(t),N2e(e,wq()?Reflect.construct(t,n||[],W0(e).constructor):t.apply(e,n))}function N2e(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S2e(e)}function S2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wq=function(){return!!e})()}function W0(e){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W0(e)}function C2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mP(e,t)}function mP(e,t){return mP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},mP(e,t)}function pP(e,t,n){return t=Nq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nq(e){var t=P2e(e,"string");return hf(t)=="symbol"?t:t+""}function P2e(e,t){if(hf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(hf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z4=1,_2e=function(e){function t(){var n;y2e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=w2e(this,t,[].concat(i)),pP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pP(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return C2e(t,e),b2e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>z4||Math.abs(s.height-this.state.lastBoundingBox.height)>z4)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,m=i.isAnimationActive,g=i.offset,x=i.position,v=i.reverseDirection,y=i.useTranslate3d,N=i.viewBox,j=i.wrapperStyle,b=x2e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:g,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:N}),P=b.cssClasses,C=b.cssProperties,_=B4(B4({transition:m&&a?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},j);return H.createElement("div",{tabIndex:-1,className:P,style:_,ref:function(E){s.wrapperNode=E}},u)}}])}(w.PureComponent),A2e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Aa={isSsr:A2e(),get:function(t){return Aa[t]},set:function(t,n){if(typeof t=="string")Aa[t]=n;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(i){Aa[i]=t[i]})}}};function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function V4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function U4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(n),!0).forEach(function(s){ZE(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function E2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Cq(s.key),s)}}function T2e(e,t,n){return t&&k2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O2e(e,t,n){return t=H0(t),D2e(e,Sq()?Reflect.construct(t,n||[],H0(e).constructor):t.apply(e,n))}function D2e(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M2e(e)}function M2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sq=function(){return!!e})()}function H0(e){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H0(e)}function I2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gP(e,t)}function gP(e,t){return gP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},gP(e,t)}function ZE(e,t,n){return t=Cq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cq(e){var t=$2e(e,"string");return ff(t)=="symbol"?t:t+""}function $2e(e,t){if(ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ff(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R2e(e){return e.dataKey}function L2e(e,t){return H.isValidElement(e)?H.cloneElement(e,t):typeof e=="function"?H.createElement(e,t):H.createElement(h2e,t)}var Vr=function(e){function t(){return E2e(this,t),O2e(this,t,arguments)}return I2e(t,e),T2e(t,[{key:"render",value:function(){var s=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,m=i.isAnimationActive,g=i.offset,x=i.payload,v=i.payloadUniqBy,y=i.position,N=i.reverseDirection,j=i.useTranslate3d,b=i.viewBox,P=i.wrapperStyle,C=x??[];f&&C.length&&(C=mq(x.filter(function(A){return A.value!=null&&(A.hide!==!0||s.props.includeHidden)}),v,R2e));var _=C.length>0;return H.createElement(_2e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:a,coordinate:d,hasPayload:_,offset:g,position:y,reverseDirection:N,useTranslate3d:j,viewBox:b,wrapperStyle:P},L2e(u,U4(U4({},this.props),{},{payload:C})))}}])}(w.PureComponent);ZE(Vr,"displayName","Tooltip");ZE(Vr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Aa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var F2e=yo,B2e=function(){return F2e.Date.now()},z2e=B2e,V2e=/\s/;function U2e(e){for(var t=e.length;t--&&V2e.test(e.charAt(t)););return t}var q2e=U2e,W2e=q2e,H2e=/^\s+/;function G2e(e){return e&&e.slice(0,W2e(e)+1).replace(H2e,"")}var K2e=G2e,Y2e=K2e,q4=Fc,Q2e=Jf,W4=NaN,X2e=/^[-+]0x[0-9a-f]+$/i,J2e=/^0b[01]+$/i,Z2e=/^0o[0-7]+$/i,ePe=parseInt;function tPe(e){if(typeof e=="number")return e;if(Q2e(e))return W4;if(q4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=q4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Y2e(e);var n=J2e.test(e);return n||Z2e.test(e)?ePe(e.slice(2),n?2:8):X2e.test(e)?W4:+e}var Pq=tPe,nPe=Fc,OS=z2e,H4=Pq,rPe="Expected a function",sPe=Math.max,iPe=Math.min;function aPe(e,t,n){var s,i,a,o,l,c,u=0,d=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(rPe);t=H4(t)||0,nPe(n)&&(d=!!n.leading,f="maxWait"in n,a=f?sPe(H4(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m);function g(_){var A=s,E=i;return s=i=void 0,u=_,o=e.apply(E,A),o}function x(_){return u=_,l=setTimeout(N,t),d?g(_):o}function v(_){var A=_-c,E=_-u,D=t-A;return f?iPe(D,a-E):D}function y(_){var A=_-c,E=_-u;return c===void 0||A>=t||A<0||f&&E>=a}function N(){var _=OS();if(y(_))return j(_);l=setTimeout(N,v(_))}function j(_){return l=void 0,m&&s?g(_):(s=i=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,s=c=i=l=void 0}function P(){return l===void 0?o:j(OS())}function C(){var _=OS(),A=y(_);if(s=arguments,i=this,c=_,A){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(N,t),g(c)}return l===void 0&&(l=setTimeout(N,t)),o}return C.cancel=b,C.flush=P,C}var oPe=aPe,lPe=oPe,cPe=Fc,uPe="Expected a function";function dPe(e,t,n){var s=!0,i=!0;if(typeof e!="function")throw new TypeError(uPe);return cPe(n)&&(s="leading"in n?!!n.leading:s,i="trailing"in n?!!n.trailing:i),lPe(e,t,{leading:s,maxWait:t,trailing:i})}var hPe=dPe;const _q=pn(hPe);function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function G4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function hy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(n),!0).forEach(function(s){fPe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function fPe(e,t,n){return t=mPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mPe(e){var t=pPe(e,"string");return gg(t)=="symbol"?t:t+""}function pPe(e,t){if(gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(gg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gPe(e,t){return jPe(e)||yPe(e,t)||xPe(e,t)||vPe()}function vPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xPe(e,t){if(e){if(typeof e=="string")return K4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K4(e,t)}}function K4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function yPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function jPe(e){if(Array.isArray(e))return e}var cl=w.forwardRef(function(e,t){var n=e.aspect,s=e.initialDimension,i=s===void 0?{width:-1,height:-1}:s,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,g=e.children,x=e.debounce,v=x===void 0?0:x,y=e.id,N=e.className,j=e.onResize,b=e.style,P=b===void 0?{}:b,C=w.useRef(null),_=w.useRef();_.current=j,w.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var A=w.useState({containerWidth:i.width,containerHeight:i.height}),E=gPe(A,2),D=E[0],I=E[1],O=w.useCallback(function(F,L){I(function(Y){var q=Math.round(F),ie=Math.round(L);return Y.containerWidth===q&&Y.containerHeight===ie?Y:{containerWidth:q,containerHeight:ie}})},[]);w.useEffect(function(){var F=function(z){var le,pe=z[0].contentRect,ee=pe.width,J=pe.height;O(ee,J),(le=_.current)===null||le===void 0||le.call(_,ee,J)};v>0&&(F=_q(F,v,{trailing:!0,leading:!1}));var L=new ResizeObserver(F),Y=C.current.getBoundingClientRect(),q=Y.width,ie=Y.height;return O(q,ie),L.observe(C.current),function(){L.disconnect()}},[O,v]);var k=w.useMemo(function(){var F=D.containerWidth,L=D.containerHeight;if(F<0||L<0)return null;_a(vu(o)||vu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),_a(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Y=vu(o)?F:o,q=vu(c)?L:c;n&&n>0&&(Y?q=Y/n:q&&(Y=q*n),m&&q>m&&(q=m)),_a(Y>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,q,o,c,d,f,n);var ie=!Array.isArray(g)&&Qo(g.type).endsWith("Chart");return H.Children.map(g,function($){return H.isValidElement($)?w.cloneElement($,hy({width:Y,height:q},ie?{style:hy({height:"100%",width:"100%",maxHeight:q,maxWidth:Y},$.props.style)}:{})):$})},[n,g,c,m,f,d,D,o]);return H.createElement("div",{id:y?"".concat(y):void 0,className:Et("recharts-responsive-container",N),style:hy(hy({},P),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:C},k)}),om=function(t){return null};om.displayName="Cell";function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function Y4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function vP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(n),!0).forEach(function(s){bPe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bPe(e,t,n){return t=wPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wPe(e){var t=NPe(e,"string");return vg(t)=="symbol"?t:t+""}function NPe(e,t){if(vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kd={widthCache:{},cacheCount:0},SPe=2e3,CPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Q4="recharts_measurement_span";function PPe(e){var t=vP({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var kp=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Aa.isSsr)return{width:0,height:0};var s=PPe(n),i=JSON.stringify({text:t,copyStyle:s});if(Kd.widthCache[i])return Kd.widthCache[i];try{var a=document.getElementById(Q4);a||(a=document.createElement("span"),a.setAttribute("id",Q4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=vP(vP({},CPe),s);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Kd.widthCache[i]=c,++Kd.cacheCount>SPe&&(Kd.cacheCount=0,Kd.widthCache={}),c}catch{return{width:0,height:0}}},_Pe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function G0(e,t){return TPe(e)||kPe(e,t)||EPe(e,t)||APe()}function APe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EPe(e,t){if(e){if(typeof e=="string")return X4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X4(e,t)}}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function kPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function TPe(e){if(Array.isArray(e))return e}function OPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J4(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,MPe(s.key),s)}}function DPe(e,t,n){return t&&J4(e.prototype,t),n&&J4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function MPe(e){var t=IPe(e,"string");return xg(t)=="symbol"?t:t+""}function IPe(e,t){if(xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(xg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Z4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,e$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$Pe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,RPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Aq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},LPe=Object.keys(Aq),mh="NaN";function FPe(e,t){return e*Aq[t]}var fy=function(){function e(t,n){OPe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!$Pe.test(n)&&(this.num=NaN,this.unit=""),LPe.includes(n)&&(this.num=FPe(t,n),this.unit="px")}return DPe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,i=(s=RPe.exec(n))!==null&&s!==void 0?s:[],a=G0(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function Eq(e){if(e.includes(mh))return mh;for(var t=e;t.includes("*")||t.includes("/");){var n,s=(n=Z4.exec(t))!==null&&n!==void 0?n:[],i=G0(s,4),a=i[1],o=i[2],l=i[3],c=fy.parse(a??""),u=fy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return mh;t=t.replace(Z4,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=e$.exec(t))!==null&&f!==void 0?f:[],g=G0(m,4),x=g[1],v=g[2],y=g[3],N=fy.parse(x??""),j=fy.parse(y??""),b=v==="+"?N.add(j):N.subtract(j);if(b.isNaN())return mh;t=t.replace(e$,b.toString())}return t}var t$=/\(([^()]*)\)/;function BPe(e){for(var t=e;t.includes("(");){var n=t$.exec(t),s=G0(n,2),i=s[1];t=t.replace(t$,Eq(i))}return t}function zPe(e){var t=e.replace(/\s+/g,"");return t=BPe(t),t=Eq(t),t}function VPe(e){try{return zPe(e)}catch{return mh}}function DS(e){var t=VPe(e.slice(5,-1));return t===mh?"":t}var UPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qPe=["dx","dy","angle","className","breakAll"];function xP(){return xP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xP.apply(this,arguments)}function n$(e,t){if(e==null)return{};var n=WPe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function WPe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function r$(e,t){return YPe(e)||KPe(e,t)||GPe(e,t)||HPe()}function HPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GPe(e,t){if(e){if(typeof e=="string")return s$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s$(e,t)}}function s$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function KPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function YPe(e){if(Array.isArray(e))return e}var kq=/[ \f\n\r\t\v\u2028\u2029]+/,Tq=function(t){var n=t.children,s=t.breakAll,i=t.style;try{var a=[];At(n)||(s?a=n.toString().split(""):a=n.toString().split(kq));var o=a.map(function(c){return{word:c,width:kp(c,i).width}}),l=s?0:kp(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},QPe=function(t,n,s,i,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ve(o),f=l,m=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(q,ie){var $=ie.word,z=ie.width,le=q[q.length-1];if(le&&(i==null||a||le.width+z+s<Number(i)))le.words.push($),le.width+=z+s;else{var pe={words:[$],width:z};q.push(pe)}return q},[])},g=m(n),x=function(Y){return Y.reduce(function(q,ie){return q.width>ie.width?q:ie})};if(!d)return g;for(var v="…",y=function(Y){var q=f.slice(0,Y),ie=Tq({breakAll:u,style:c,children:q+v}).wordsWithComputedWidth,$=m(ie),z=$.length>o||x($).width>Number(i);return[z,$]},N=0,j=f.length-1,b=0,P;N<=j&&b<=f.length-1;){var C=Math.floor((N+j)/2),_=C-1,A=y(_),E=r$(A,2),D=E[0],I=E[1],O=y(C),k=r$(O,1),F=k[0];if(!D&&!F&&(N=C+1),D&&F&&(j=C-1),!D&&F){P=I;break}b++}return P||g},i$=function(t){var n=At(t)?[]:t.toString().split(kq);return[{words:n}]},XPe=function(t){var n=t.width,s=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||s)&&!Aa.isSsr){var c,u,d=Tq({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return i$(i);return QPe({breakAll:o,children:i,maxLines:l,style:a},c,u,n,s)}return i$(i)},a$="#808080",Ju=function(t){var n=t.x,s=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,g=m===void 0?"start":m,x=t.verticalAnchor,v=x===void 0?"end":x,y=t.fill,N=y===void 0?a$:y,j=n$(t,UPe),b=w.useMemo(function(){return XPe({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:f,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,f,j.style,j.width]),P=j.dx,C=j.dy,_=j.angle,A=j.className,E=j.breakAll,D=n$(j,qPe);if(!Dr(s)||!Dr(a))return null;var I=s+(Ve(P)?P:0),O=a+(Ve(C)?C:0),k;switch(v){case"start":k=DS("calc(".concat(u,")"));break;case"middle":k=DS("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:k=DS("calc(".concat(b.length-1," * -").concat(l,")"));break}var F=[];if(f){var L=b[0].width,Y=j.width;F.push("scale(".concat((Ve(Y)?Y/L:1)/L,")"))}return _&&F.push("rotate(".concat(_,", ").concat(I,", ").concat(O,")")),F.length&&(D.transform=F.join(" ")),H.createElement("text",xP({},ct(D,!0),{x:I,y:O,className:Et("recharts-text",A),textAnchor:g,fill:N.includes("url")?a$:N}),b.map(function(q,ie){var $=q.words.join(E?"":" ");return H.createElement("tspan",{x:I,dy:ie===0?k:l,key:"".concat($,"-").concat(ie)},$)}))};function xc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function JPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ek(e){let t,n,s;e.length!==2?(t=xc,n=(l,c)=>xc(e(l),c),s=(l,c)=>e(l)-c):(t=e===xc||e===JPe?e:ZPe,n=e,s=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&s(l[f-1],c)>-s(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function ZPe(){return 0}function Oq(e){return e===null?NaN:+e}function*e_e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const t_e=ek(xc),bv=t_e.right;ek(Oq).center;class o$ extends Map{constructor(t,n=s_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[s,i]of t)this.set(s,i)}get(t){return super.get(l$(this,t))}has(t){return super.has(l$(this,t))}set(t,n){return super.set(n_e(this,t),n)}delete(t){return super.delete(r_e(this,t))}}function l$({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function n_e({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function r_e({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function s_e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function i_e(e=xc){if(e===xc)return Dq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const s=e(t,n);return s||s===0?s:(e(n,n)===0)-(e(t,t)===0)}}function Dq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const a_e=Math.sqrt(50),o_e=Math.sqrt(10),l_e=Math.sqrt(2);function K0(e,t,n){const s=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(s)),a=s/Math.pow(10,i),o=a>=a_e?10:a>=o_e?5:a>=l_e?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?K0(e,t,n*2):[l,c,u]}function yP(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const s=t<e,[i,a,o]=s?K0(t,e,n):K0(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(s)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function jP(e,t,n){return t=+t,e=+e,n=+n,K0(e,t,n)[2]}function bP(e,t,n){t=+t,e=+e,n=+n;const s=t<e,i=s?jP(t,e,n):jP(e,t,n);return(s?-1:1)*(i<0?1/-i:i)}function c$(e,t){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function u$(e,t){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function Mq(e,t,n=0,s=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=t&&t<=s))return e;for(i=i===void 0?Dq:i_e(i);s>n;){if(s-n>600){const c=s-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(n,Math.floor(t-u*f/c+m)),x=Math.min(s,Math.floor(t+(c-u)*f/c+m));Mq(e,t,g,x,i)}const a=e[t];let o=n,l=s;for(Xm(e,n,t),i(e[s],a)>0&&Xm(e,n,s);o<l;){for(Xm(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Xm(e,n,l):(++l,Xm(e,l,s)),l<=t&&(n=l+1),t<=l&&(s=l-1)}return e}function Xm(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function c_e(e,t,n){if(e=Float64Array.from(e_e(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return u$(e);if(t>=1)return c$(e);var s,i=(s-1)*t,a=Math.floor(i),o=c$(Mq(e,a).subarray(0,a+1)),l=u$(e.subarray(a+1));return o+(l-o)*(i-a)}}function u_e(e,t,n=Oq){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+n(e[0],0,e);if(t>=1)return+n(e[s-1],s-1,e);var s,i=(s-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function d_e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var s=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++s<i;)a[s]=e+s*n;return a}function na(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function vl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const wP=Symbol("implicit");function tk(){var e=new o$,t=[],n=[],s=wP;function i(a){let o=e.get(a);if(o===void 0){if(s!==wP)return s;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new o$;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(s=a,i):s},i.copy=function(){return tk(t,n).unknown(s)},na.apply(i,arguments),i}function yg(){var e=tk().unknown(void 0),t=e.domain,n=e.range,s=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,g=i<s,x=g?i:s,v=g?s:i;a=(v-x)/Math.max(1,m-c+u*2),l&&(a=Math.floor(a)),x+=(v-x-a*(m-c))*d,o=a*(1-c),l&&(x=Math.round(x),o=Math.round(o));var y=d_e(m).map(function(N){return x+a*N});return n(g?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([s,i]=m,s=+s,i=+i,f()):[s,i]},e.rangeRound=function(m){return[s,i]=m,s=+s,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return yg(t(),[s,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},na.apply(f(),arguments)}function Iq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Iq(t())},e}function Tp(){return Iq(yg.apply(null,arguments).paddingInner(1))}function nk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function $q(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function wv(){}var jg=.7,Y0=1/jg,Oh="\\s*([+-]?\\d+)\\s*",bg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h_e=/^#([0-9a-f]{3,8})$/,f_e=new RegExp(`^rgb\\(${Oh},${Oh},${Oh}\\)$`),m_e=new RegExp(`^rgb\\(${uo},${uo},${uo}\\)$`),p_e=new RegExp(`^rgba\\(${Oh},${Oh},${Oh},${bg}\\)$`),g_e=new RegExp(`^rgba\\(${uo},${uo},${uo},${bg}\\)$`),v_e=new RegExp(`^hsl\\(${bg},${uo},${uo}\\)$`),x_e=new RegExp(`^hsla\\(${bg},${uo},${uo},${bg}\\)$`),d$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nk(wv,wg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:h$,formatHex:h$,formatHex8:y_e,formatHsl:j_e,formatRgb:f$,toString:f$});function h$(){return this.rgb().formatHex()}function y_e(){return this.rgb().formatHex8()}function j_e(){return Rq(this).formatHsl()}function f$(){return this.rgb().formatRgb()}function wg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=h_e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?m$(t):n===3?new Ys(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?my(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?my(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=f_e.exec(e))?new Ys(t[1],t[2],t[3],1):(t=m_e.exec(e))?new Ys(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=p_e.exec(e))?my(t[1],t[2],t[3],t[4]):(t=g_e.exec(e))?my(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=v_e.exec(e))?v$(t[1],t[2]/100,t[3]/100,1):(t=x_e.exec(e))?v$(t[1],t[2]/100,t[3]/100,t[4]):d$.hasOwnProperty(e)?m$(d$[e]):e==="transparent"?new Ys(NaN,NaN,NaN,0):null}function m$(e){return new Ys(e>>16&255,e>>8&255,e&255,1)}function my(e,t,n,s){return s<=0&&(e=t=n=NaN),new Ys(e,t,n,s)}function b_e(e){return e instanceof wv||(e=wg(e)),e?(e=e.rgb(),new Ys(e.r,e.g,e.b,e.opacity)):new Ys}function NP(e,t,n,s){return arguments.length===1?b_e(e):new Ys(e,t,n,s??1)}function Ys(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}nk(Ys,NP,$q(wv,{brighter(e){return e=e==null?Y0:Math.pow(Y0,e),new Ys(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jg:Math.pow(jg,e),new Ys(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ys(Du(this.r),Du(this.g),Du(this.b),Q0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p$,formatHex:p$,formatHex8:w_e,formatRgb:g$,toString:g$}));function p$(){return`#${xu(this.r)}${xu(this.g)}${xu(this.b)}`}function w_e(){return`#${xu(this.r)}${xu(this.g)}${xu(this.b)}${xu((isNaN(this.opacity)?1:this.opacity)*255)}`}function g$(){const e=Q0(this.opacity);return`${e===1?"rgb(":"rgba("}${Du(this.r)}, ${Du(this.g)}, ${Du(this.b)}${e===1?")":`, ${e})`}`}function Q0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Du(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xu(e){return e=Du(e),(e<16?"0":"")+e.toString(16)}function v$(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Na(e,t,n,s)}function Rq(e){if(e instanceof Na)return new Na(e.h,e.s,e.l,e.opacity);if(e instanceof wv||(e=wg(e)),!e)return new Na;if(e instanceof Na)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,i=Math.min(t,n,s),a=Math.max(t,n,s),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(n-s)/l+(n<s)*6:n===a?o=(s-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Na(o,l,c,e.opacity)}function N_e(e,t,n,s){return arguments.length===1?Rq(e):new Na(e,t,n,s??1)}function Na(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}nk(Na,N_e,$q(wv,{brighter(e){return e=e==null?Y0:Math.pow(Y0,e),new Na(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jg:Math.pow(jg,e),new Na(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,i=2*n-s;return new Ys(MS(e>=240?e-240:e+120,i,s),MS(e,i,s),MS(e<120?e+240:e-120,i,s),this.opacity)},clamp(){return new Na(x$(this.h),py(this.s),py(this.l),Q0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Q0(this.opacity);return`${e===1?"hsl(":"hsla("}${x$(this.h)}, ${py(this.s)*100}%, ${py(this.l)*100}%${e===1?")":`, ${e})`}`}}));function x$(e){return e=(e||0)%360,e<0?e+360:e}function py(e){return Math.max(0,Math.min(1,e||0))}function MS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const rk=e=>()=>e;function S_e(e,t){return function(n){return e+n*t}}function C_e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function P_e(e){return(e=+e)==1?Lq:function(t,n){return n-t?C_e(t,n,e):rk(isNaN(t)?n:t)}}function Lq(e,t){var n=t-e;return n?S_e(e,n):rk(isNaN(e)?t:e)}const y$=function e(t){var n=P_e(t);function s(i,a){var o=n((i=NP(i)).r,(a=NP(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=Lq(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return s.gamma=e,s}(1);function __e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),i;return function(a){for(i=0;i<n;++i)s[i]=e[i]*(1-a)+t[i]*a;return s}}function A_e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function E_e(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,i=new Array(s),a=new Array(n),o;for(o=0;o<s;++o)i[o]=lm(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<s;++o)a[o]=i[o](l);return a}}function k_e(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function X0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function T_e(e,t){var n={},s={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=lm(e[i],t[i]):s[i]=t[i];return function(a){for(i in n)s[i]=n[i](a);return s}}var SP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,IS=new RegExp(SP.source,"g");function O_e(e){return function(){return e}}function D_e(e){return function(t){return e(t)+""}}function M_e(e,t){var n=SP.lastIndex=IS.lastIndex=0,s,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=SP.exec(e))&&(i=IS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(s=s[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:X0(s,i)})),n=IS.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?D_e(c[0].x):O_e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function lm(e,t){var n=typeof t,s;return t==null||n==="boolean"?rk(t):(n==="number"?X0:n==="string"?(s=wg(t))?(t=s,y$):M_e:t instanceof wg?y$:t instanceof Date?k_e:A_e(t)?__e:Array.isArray(t)?E_e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?T_e:X0)(e,t)}function sk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function I_e(e,t){t===void 0&&(t=e,e=lm);for(var n=0,s=t.length-1,i=t[0],a=new Array(s<0?0:s);n<s;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return a[l](o-l)}}function $_e(e){return function(){return e}}function J0(e){return+e}var j$=[0,1];function Ts(e){return e}function CP(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:$_e(isNaN(t)?NaN:.5)}function R_e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(s){return Math.max(e,Math.min(t,s))}}function L_e(e,t,n){var s=e[0],i=e[1],a=t[0],o=t[1];return i<s?(s=CP(i,s),a=n(o,a)):(s=CP(s,i),a=n(a,o)),function(l){return a(s(l))}}function F_e(e,t,n){var s=Math.min(e.length,t.length)-1,i=new Array(s),a=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)i[o]=CP(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=bv(e,l,1,s)-1;return a[c](i[c](l))}}function Nv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mw(){var e=j$,t=j$,n=lm,s,i,a,o=Ts,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Ts&&(o=R_e(e[0],e[m-1])),l=m>2?F_e:L_e,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?a:(c||(c=l(e.map(s),t,n)))(s(o(m)))}return f.invert=function(m){return o(i((u||(u=l(t,e.map(s),X0)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,J0),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),n=sk,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Ts,d()):o!==Ts},f.interpolate=function(m){return arguments.length?(n=m,d()):n},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,g){return s=m,i=g,d()}}function ik(){return mw()(Ts,Ts)}function B_e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Z0(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function mf(e){return e=Z0(Math.abs(e)),e?e[1]:NaN}function z_e(e,t){return function(n,s){for(var i=n.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function V_e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var U_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ng(e){if(!(t=U_e.exec(e)))throw new Error("invalid format: "+e);var t;return new ak({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ng.prototype=ak.prototype;function ak(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ak.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function q_e(e){e:for(var t=e.length,n=1,s=-1,i;n<t;++n)switch(e[n]){case".":s=i=n;break;case"0":s===0&&(s=n),i=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(i+1):e}var Fq;function W_e(e,t){var n=Z0(e,t);if(!n)return e+"";var s=n[0],i=n[1],a=i-(Fq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=s.length;return a===o?s:a>o?s+new Array(a-o+1).join("0"):a>0?s.slice(0,a)+"."+s.slice(a):"0."+new Array(1-a).join("0")+Z0(e,Math.max(0,t+a-1))[0]}function b$(e,t){var n=Z0(e,t);if(!n)return e+"";var s=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+s:s.length>i+1?s.slice(0,i+1)+"."+s.slice(i+1):s+new Array(i-s.length+2).join("0")}const w$={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:B_e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>b$(e*100,t),r:b$,s:W_e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function N$(e){return e}var S$=Array.prototype.map,C$=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function H_e(e){var t=e.grouping===void 0||e.thousands===void 0?N$:z_e(S$.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?N$:V_e(S$.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ng(f);var m=f.fill,g=f.align,x=f.sign,v=f.symbol,y=f.zero,N=f.width,j=f.comma,b=f.precision,P=f.trim,C=f.type;C==="n"?(j=!0,C="g"):w$[C]||(b===void 0&&(b=12),P=!0,C="g"),(y||m==="0"&&g==="=")&&(y=!0,m="0",g="=");var _=v==="$"?n:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",A=v==="$"?s:/[%p]/.test(C)?o:"",E=w$[C],D=/[defgprs%]/.test(C);b=b===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function I(O){var k=_,F=A,L,Y,q;if(C==="c")F=E(O)+F,O="";else{O=+O;var ie=O<0||1/O<0;if(O=isNaN(O)?c:E(Math.abs(O),b),P&&(O=q_e(O)),ie&&+O==0&&x!=="+"&&(ie=!1),k=(ie?x==="("?x:l:x==="-"||x==="("?"":x)+k,F=(C==="s"?C$[8+Fq/3]:"")+F+(ie&&x==="("?")":""),D){for(L=-1,Y=O.length;++L<Y;)if(q=O.charCodeAt(L),48>q||q>57){F=(q===46?i+O.slice(L+1):O.slice(L))+F,O=O.slice(0,L);break}}}j&&!y&&(O=t(O,1/0));var $=k.length+O.length+F.length,z=$<N?new Array(N-$+1).join(m):"";switch(j&&y&&(O=t(z+O,z.length?N-F.length:1/0),z=""),g){case"<":O=k+O+F+z;break;case"=":O=k+z+O+F;break;case"^":O=z.slice(0,$=z.length>>1)+k+O+F+z.slice($);break;default:O=z+k+O+F;break}return a(O)}return I.toString=function(){return f+""},I}function d(f,m){var g=u((f=Ng(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(mf(m)/3)))*3,v=Math.pow(10,-x),y=C$[8+x/3];return function(N){return g(v*N)+y}}return{format:u,formatPrefix:d}}var gy,ok,Bq;G_e({thousands:",",grouping:[3],currency:["$",""]});function G_e(e){return gy=H_e(e),ok=gy.format,Bq=gy.formatPrefix,gy}function K_e(e){return Math.max(0,-mf(Math.abs(e)))}function Y_e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mf(t)/3)))*3-mf(Math.abs(e)))}function Q_e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mf(t)-mf(e))+1}function zq(e,t,n,s){var i=bP(e,t,n),a;switch(s=Ng(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(a=Y_e(i,o))&&(s.precision=a),Bq(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(a=Q_e(i,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=a-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(a=K_e(i))&&(s.precision=a-(s.type==="%")*2);break}}return ok(s)}function Bc(e){var t=e.domain;return e.ticks=function(n){var s=t();return yP(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var i=t();return zq(i[0],i[i.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=t(),i=0,a=s.length-1,o=s[i],l=s[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=jP(o,l,n),u===c)return s[i]=o,s[a]=l,t(s);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function ej(){var e=ik();return e.copy=function(){return Nv(e,ej())},na.apply(e,arguments),Bc(e)}function Vq(e){var t;function n(s){return s==null||isNaN(s=+s)?t:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,J0),n):e.slice()},n.unknown=function(s){return arguments.length?(t=s,n):t},n.copy=function(){return Vq(e).unknown(t)},e=arguments.length?Array.from(e,J0):[0,1],Bc(n)}function Uq(e,t){e=e.slice();var n=0,s=e.length-1,i=e[n],a=e[s],o;return a<i&&(o=n,n=s,s=o,o=i,i=a,a=o),e[n]=t.floor(i),e[s]=t.ceil(a),e}function P$(e){return Math.log(e)}function _$(e){return Math.exp(e)}function X_e(e){return-Math.log(-e)}function J_e(e){return-Math.exp(-e)}function Z_e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function eAe(e){return e===10?Z_e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tAe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function A$(e){return(t,n)=>-e(-t,n)}function lk(e){const t=e(P$,_$),n=t.domain;let s=10,i,a;function o(){return i=tAe(s),a=eAe(s),n()[0]<0?(i=A$(i),a=A$(a),e(X_e,J_e)):e(P$,_$),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=i(u),g=i(d),x,v;const y=l==null?10:+l;let N=[];if(!(s%1)&&g-m<y){if(m=Math.floor(m),g=Math.ceil(g),u>0){for(;m<=g;++m)for(x=1;x<s;++x)if(v=m<0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;N.push(v)}}else for(;m<=g;++m)for(x=s-1;x>=1;--x)if(v=m>0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;N.push(v)}N.length*2<y&&(N=yP(u,d,y))}else N=yP(m,g,Math.min(g-m,y)).map(a);return f?N.reverse():N},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=Ng(c)).precision==null&&(c.trim=!0),c=ok(c)),l===1/0)return c;const u=Math.max(1,s*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*s<s-.5&&(f*=s),f<=u?c(d):""}},t.nice=()=>n(Uq(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function qq(){const e=lk(mw()).domain([1,10]);return e.copy=()=>Nv(e,qq()).base(e.base()),na.apply(e,arguments),e}function E$(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function k$(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ck(e){var t=1,n=e(E$(t),k$(t));return n.constant=function(s){return arguments.length?e(E$(t=+s),k$(t)):t},Bc(n)}function Wq(){var e=ck(mw());return e.copy=function(){return Nv(e,Wq()).constant(e.constant())},na.apply(e,arguments)}function T$(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nAe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rAe(e){return e<0?-e*e:e*e}function uk(e){var t=e(Ts,Ts),n=1;function s(){return n===1?e(Ts,Ts):n===.5?e(nAe,rAe):e(T$(n),T$(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,s()):n},Bc(t)}function dk(){var e=uk(mw());return e.copy=function(){return Nv(e,dk()).exponent(e.exponent())},na.apply(e,arguments),e}function sAe(){return dk.apply(null,arguments).exponent(.5)}function O$(e){return Math.sign(e)*e*e}function iAe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Hq(){var e=ik(),t=[0,1],n=!1,s;function i(a){var o=iAe(e(a));return isNaN(o)?s:n?Math.round(o):o}return i.invert=function(a){return e.invert(O$(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,J0)).map(O$)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(s=a,i):s},i.copy=function(){return Hq(e.domain(),t).round(n).clamp(e.clamp()).unknown(s)},na.apply(i,arguments),Bc(i)}function Gq(){var e=[],t=[],n=[],s;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=u_e(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?s:t[bv(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(xc),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(s=o,a):s},a.quantiles=function(){return n.slice()},a.copy=function(){return Gq().domain(e).range(t).unknown(s)},na.apply(a,arguments)}function Kq(){var e=0,t=1,n=1,s=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[bv(s,c,0,n)]:a}function l(){var c=-1;for(s=new Array(n);++c<n;)s[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=n?[s[n-1],t]:[s[u-1],s[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return Kq().domain([e,t]).range(i).unknown(a)},na.apply(Bc(o),arguments)}function Yq(){var e=[.5],t=[0,1],n,s=1;function i(a){return a!=null&&a<=a?t[bv(e,a,0,s)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),s=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),s=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Yq().domain(e).range(t).unknown(n)},na.apply(i,arguments)}const $S=new Date,RS=new Date;function Ir(e,t,n,s){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},i.filter=a=>Ir(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>($S.setTime(+a),RS.setTime(+o),e($S),e(RS),Math.floor(n($S,RS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(s?o=>s(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const tj=Ir(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);tj.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ir(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):tj);tj.range;const Wo=1e3,qi=Wo*60,Ho=qi*60,ul=Ho*24,hk=ul*7,D$=ul*30,LS=ul*365,yu=Ir(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wo)},(e,t)=>(t-e)/Wo,e=>e.getUTCSeconds());yu.range;const fk=Ir(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wo)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getMinutes());fk.range;const mk=Ir(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getUTCMinutes());mk.range;const pk=Ir(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wo-e.getMinutes()*qi)},(e,t)=>{e.setTime(+e+t*Ho)},(e,t)=>(t-e)/Ho,e=>e.getHours());pk.range;const gk=Ir(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ho)},(e,t)=>(t-e)/Ho,e=>e.getUTCHours());gk.range;const Sv=Ir(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qi)/ul,e=>e.getDate()-1);Sv.range;const pw=Ir(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ul,e=>e.getUTCDate()-1);pw.range;const Qq=Ir(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ul,e=>Math.floor(e/ul));Qq.range;function gd(e){return Ir(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*qi)/hk)}const gw=gd(0),nj=gd(1),aAe=gd(2),oAe=gd(3),pf=gd(4),lAe=gd(5),cAe=gd(6);gw.range;nj.range;aAe.range;oAe.range;pf.range;lAe.range;cAe.range;function vd(e){return Ir(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/hk)}const vw=vd(0),rj=vd(1),uAe=vd(2),dAe=vd(3),gf=vd(4),hAe=vd(5),fAe=vd(6);vw.range;rj.range;uAe.range;dAe.range;gf.range;hAe.range;fAe.range;const vk=Ir(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vk.range;const xk=Ir(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xk.range;const dl=Ir(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());dl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ir(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});dl.range;const hl=Ir(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());hl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ir(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});hl.range;function Xq(e,t,n,s,i,a){const o=[[yu,1,Wo],[yu,5,5*Wo],[yu,15,15*Wo],[yu,30,30*Wo],[a,1,qi],[a,5,5*qi],[a,15,15*qi],[a,30,30*qi],[i,1,Ho],[i,3,3*Ho],[i,6,6*Ho],[i,12,12*Ho],[s,1,ul],[s,2,2*ul],[n,1,hk],[t,1,D$],[t,3,3*D$],[e,1,LS]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),x=g?g.range(u,+d+1):[];return m?x.reverse():x}function c(u,d,f){const m=Math.abs(d-u)/f,g=ek(([,,y])=>y).right(o,m);if(g===o.length)return e.every(bP(u/LS,d/LS,f));if(g===0)return tj.every(Math.max(bP(u,d,f),1));const[x,v]=o[m/o[g-1][2]<o[g][2]/m?g-1:g];return x.every(v)}return[l,c]}const[mAe,pAe]=Xq(hl,xk,vw,Qq,gk,mk),[gAe,vAe]=Xq(dl,vk,gw,Sv,pk,fk);function FS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function BS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function xAe(e){var t=e.dateTime,n=e.date,s=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Zm(i),d=ep(i),f=Zm(a),m=ep(a),g=Zm(o),x=ep(o),v=Zm(l),y=ep(l),N=Zm(c),j=ep(c),b={a:ie,A:$,b:z,B:le,c:null,d:F$,e:F$,f:zAe,g:XAe,G:ZAe,H:LAe,I:FAe,j:BAe,L:Jq,m:VAe,M:UAe,p:pe,q:ee,Q:V$,s:U$,S:qAe,u:WAe,U:HAe,V:GAe,w:KAe,W:YAe,x:null,X:null,y:QAe,Y:JAe,Z:eEe,"%":z$},P={a:J,A:B,b:me,B:ve,c:null,d:B$,e:B$,f:sEe,g:mEe,G:gEe,H:tEe,I:nEe,j:rEe,L:e7,m:iEe,M:aEe,p:re,q:V,Q:V$,s:U$,S:oEe,u:lEe,U:cEe,V:uEe,w:dEe,W:hEe,x:null,X:null,y:fEe,Y:pEe,Z:vEe,"%":z$},C={a:I,A:O,b:k,B:F,c:L,d:R$,e:R$,f:MAe,g:$$,G:I$,H:L$,I:L$,j:kAe,L:DAe,m:EAe,M:TAe,p:D,q:AAe,Q:$Ae,s:RAe,S:OAe,u:NAe,U:SAe,V:CAe,w:wAe,W:PAe,x:Y,X:q,y:$$,Y:I$,Z:_Ae,"%":IAe};b.x=_(n,b),b.X=_(s,b),b.c=_(t,b),P.x=_(n,P),P.X=_(s,P),P.c=_(t,P);function _(Z,ye){return function(te){var M=[],je=-1,we=0,Fe=Z.length,Be,at,lt;for(te instanceof Date||(te=new Date(+te));++je<Fe;)Z.charCodeAt(je)===37&&(M.push(Z.slice(we,je)),(at=M$[Be=Z.charAt(++je)])!=null?Be=Z.charAt(++je):at=Be==="e"?" ":"0",(lt=ye[Be])&&(Be=lt(te,at)),M.push(Be),we=je+1);return M.push(Z.slice(we,je)),M.join("")}}function A(Z,ye){return function(te){var M=Jm(1900,void 0,1),je=E(M,Z,te+="",0),we,Fe;if(je!=te.length)return null;if("Q"in M)return new Date(M.Q);if("s"in M)return new Date(M.s*1e3+("L"in M?M.L:0));if(ye&&!("Z"in M)&&(M.Z=0),"p"in M&&(M.H=M.H%12+M.p*12),M.m===void 0&&(M.m="q"in M?M.q:0),"V"in M){if(M.V<1||M.V>53)return null;"w"in M||(M.w=1),"Z"in M?(we=BS(Jm(M.y,0,1)),Fe=we.getUTCDay(),we=Fe>4||Fe===0?rj.ceil(we):rj(we),we=pw.offset(we,(M.V-1)*7),M.y=we.getUTCFullYear(),M.m=we.getUTCMonth(),M.d=we.getUTCDate()+(M.w+6)%7):(we=FS(Jm(M.y,0,1)),Fe=we.getDay(),we=Fe>4||Fe===0?nj.ceil(we):nj(we),we=Sv.offset(we,(M.V-1)*7),M.y=we.getFullYear(),M.m=we.getMonth(),M.d=we.getDate()+(M.w+6)%7)}else("W"in M||"U"in M)&&("w"in M||(M.w="u"in M?M.u%7:"W"in M?1:0),Fe="Z"in M?BS(Jm(M.y,0,1)).getUTCDay():FS(Jm(M.y,0,1)).getDay(),M.m=0,M.d="W"in M?(M.w+6)%7+M.W*7-(Fe+5)%7:M.w+M.U*7-(Fe+6)%7);return"Z"in M?(M.H+=M.Z/100|0,M.M+=M.Z%100,BS(M)):FS(M)}}function E(Z,ye,te,M){for(var je=0,we=ye.length,Fe=te.length,Be,at;je<we;){if(M>=Fe)return-1;if(Be=ye.charCodeAt(je++),Be===37){if(Be=ye.charAt(je++),at=C[Be in M$?ye.charAt(je++):Be],!at||(M=at(Z,te,M))<0)return-1}else if(Be!=te.charCodeAt(M++))return-1}return M}function D(Z,ye,te){var M=u.exec(ye.slice(te));return M?(Z.p=d.get(M[0].toLowerCase()),te+M[0].length):-1}function I(Z,ye,te){var M=g.exec(ye.slice(te));return M?(Z.w=x.get(M[0].toLowerCase()),te+M[0].length):-1}function O(Z,ye,te){var M=f.exec(ye.slice(te));return M?(Z.w=m.get(M[0].toLowerCase()),te+M[0].length):-1}function k(Z,ye,te){var M=N.exec(ye.slice(te));return M?(Z.m=j.get(M[0].toLowerCase()),te+M[0].length):-1}function F(Z,ye,te){var M=v.exec(ye.slice(te));return M?(Z.m=y.get(M[0].toLowerCase()),te+M[0].length):-1}function L(Z,ye,te){return E(Z,t,ye,te)}function Y(Z,ye,te){return E(Z,n,ye,te)}function q(Z,ye,te){return E(Z,s,ye,te)}function ie(Z){return o[Z.getDay()]}function $(Z){return a[Z.getDay()]}function z(Z){return c[Z.getMonth()]}function le(Z){return l[Z.getMonth()]}function pe(Z){return i[+(Z.getHours()>=12)]}function ee(Z){return 1+~~(Z.getMonth()/3)}function J(Z){return o[Z.getUTCDay()]}function B(Z){return a[Z.getUTCDay()]}function me(Z){return c[Z.getUTCMonth()]}function ve(Z){return l[Z.getUTCMonth()]}function re(Z){return i[+(Z.getUTCHours()>=12)]}function V(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ye=_(Z+="",b);return ye.toString=function(){return Z},ye},parse:function(Z){var ye=A(Z+="",!1);return ye.toString=function(){return Z},ye},utcFormat:function(Z){var ye=_(Z+="",P);return ye.toString=function(){return Z},ye},utcParse:function(Z){var ye=A(Z+="",!0);return ye.toString=function(){return Z},ye}}}var M$={"-":"",_:" ",0:"0"},Kr=/^\s*\d+/,yAe=/^%/,jAe=/[\\^$*+?|[\]().{}]/g;function un(e,t,n){var s=e<0?"-":"",i=(s?-e:e)+"",a=i.length;return s+(a<n?new Array(n-a+1).join(t)+i:i)}function bAe(e){return e.replace(jAe,"\\$&")}function Zm(e){return new RegExp("^(?:"+e.map(bAe).join("|")+")","i")}function ep(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function wAe(e,t,n){var s=Kr.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function NAe(e,t,n){var s=Kr.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function SAe(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function CAe(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function PAe(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function I$(e,t,n){var s=Kr.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function $$(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function _Ae(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function AAe(e,t,n){var s=Kr.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function EAe(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function R$(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function kAe(e,t,n){var s=Kr.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function L$(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function TAe(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function OAe(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function DAe(e,t,n){var s=Kr.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function MAe(e,t,n){var s=Kr.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function IAe(e,t,n){var s=yAe.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function $Ae(e,t,n){var s=Kr.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function RAe(e,t,n){var s=Kr.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function F$(e,t){return un(e.getDate(),t,2)}function LAe(e,t){return un(e.getHours(),t,2)}function FAe(e,t){return un(e.getHours()%12||12,t,2)}function BAe(e,t){return un(1+Sv.count(dl(e),e),t,3)}function Jq(e,t){return un(e.getMilliseconds(),t,3)}function zAe(e,t){return Jq(e,t)+"000"}function VAe(e,t){return un(e.getMonth()+1,t,2)}function UAe(e,t){return un(e.getMinutes(),t,2)}function qAe(e,t){return un(e.getSeconds(),t,2)}function WAe(e){var t=e.getDay();return t===0?7:t}function HAe(e,t){return un(gw.count(dl(e)-1,e),t,2)}function Zq(e){var t=e.getDay();return t>=4||t===0?pf(e):pf.ceil(e)}function GAe(e,t){return e=Zq(e),un(pf.count(dl(e),e)+(dl(e).getDay()===4),t,2)}function KAe(e){return e.getDay()}function YAe(e,t){return un(nj.count(dl(e)-1,e),t,2)}function QAe(e,t){return un(e.getFullYear()%100,t,2)}function XAe(e,t){return e=Zq(e),un(e.getFullYear()%100,t,2)}function JAe(e,t){return un(e.getFullYear()%1e4,t,4)}function ZAe(e,t){var n=e.getDay();return e=n>=4||n===0?pf(e):pf.ceil(e),un(e.getFullYear()%1e4,t,4)}function eEe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+un(t/60|0,"0",2)+un(t%60,"0",2)}function B$(e,t){return un(e.getUTCDate(),t,2)}function tEe(e,t){return un(e.getUTCHours(),t,2)}function nEe(e,t){return un(e.getUTCHours()%12||12,t,2)}function rEe(e,t){return un(1+pw.count(hl(e),e),t,3)}function e7(e,t){return un(e.getUTCMilliseconds(),t,3)}function sEe(e,t){return e7(e,t)+"000"}function iEe(e,t){return un(e.getUTCMonth()+1,t,2)}function aEe(e,t){return un(e.getUTCMinutes(),t,2)}function oEe(e,t){return un(e.getUTCSeconds(),t,2)}function lEe(e){var t=e.getUTCDay();return t===0?7:t}function cEe(e,t){return un(vw.count(hl(e)-1,e),t,2)}function t7(e){var t=e.getUTCDay();return t>=4||t===0?gf(e):gf.ceil(e)}function uEe(e,t){return e=t7(e),un(gf.count(hl(e),e)+(hl(e).getUTCDay()===4),t,2)}function dEe(e){return e.getUTCDay()}function hEe(e,t){return un(rj.count(hl(e)-1,e),t,2)}function fEe(e,t){return un(e.getUTCFullYear()%100,t,2)}function mEe(e,t){return e=t7(e),un(e.getUTCFullYear()%100,t,2)}function pEe(e,t){return un(e.getUTCFullYear()%1e4,t,4)}function gEe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?gf(e):gf.ceil(e),un(e.getUTCFullYear()%1e4,t,4)}function vEe(){return"+0000"}function z$(){return"%"}function V$(e){return+e}function U$(e){return Math.floor(+e/1e3)}var Yd,n7,r7;xEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xEe(e){return Yd=xAe(e),n7=Yd.format,Yd.parse,r7=Yd.utcFormat,Yd.utcParse,Yd}function yEe(e){return new Date(e)}function jEe(e){return e instanceof Date?+e:+new Date(+e)}function yk(e,t,n,s,i,a,o,l,c,u){var d=ik(),f=d.invert,m=d.domain,g=u(".%L"),x=u(":%S"),v=u("%I:%M"),y=u("%I %p"),N=u("%a %d"),j=u("%b %d"),b=u("%B"),P=u("%Y");function C(_){return(c(_)<_?g:l(_)<_?x:o(_)<_?v:a(_)<_?y:s(_)<_?i(_)<_?N:j:n(_)<_?b:P)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?m(Array.from(_,jEe)):m().map(yEe)},d.ticks=function(_){var A=m();return e(A[0],A[A.length-1],_??10)},d.tickFormat=function(_,A){return A==null?C:u(A)},d.nice=function(_){var A=m();return(!_||typeof _.range!="function")&&(_=t(A[0],A[A.length-1],_??10)),_?m(Uq(A,_)):d},d.copy=function(){return Nv(d,yk(e,t,n,s,i,a,o,l,c,u))},d}function bEe(){return na.apply(yk(gAe,vAe,dl,vk,gw,Sv,pk,fk,yu,n7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wEe(){return na.apply(yk(mAe,pAe,hl,xk,vw,pw,gk,mk,yu,r7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xw(){var e=0,t=1,n,s,i,a,o=Ts,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),s=a(t=+t),i=n===s?0:1/(s-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var g,x;return arguments.length?([g,x]=m,o=f(g,x),u):[o(0),o(1)]}}return u.range=d(lm),u.rangeRound=d(sk),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(e),s=f(t),i=n===s?0:1/(s-n),u}}function zc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function s7(){var e=Bc(xw()(Ts));return e.copy=function(){return zc(e,s7())},vl.apply(e,arguments)}function i7(){var e=lk(xw()).domain([1,10]);return e.copy=function(){return zc(e,i7()).base(e.base())},vl.apply(e,arguments)}function a7(){var e=ck(xw());return e.copy=function(){return zc(e,a7()).constant(e.constant())},vl.apply(e,arguments)}function jk(){var e=uk(xw());return e.copy=function(){return zc(e,jk()).exponent(e.exponent())},vl.apply(e,arguments)}function NEe(){return jk.apply(null,arguments).exponent(.5)}function o7(){var e=[],t=Ts;function n(s){if(s!=null&&!isNaN(s=+s))return t((bv(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let i of s)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(xc),n},n.interpolator=function(s){return arguments.length?(t=s,n):t},n.range=function(){return e.map((s,i)=>t(i/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(i,a)=>c_e(e,a/s))},n.copy=function(){return o7(t).domain(e)},vl.apply(n,arguments)}function yw(){var e=0,t=.5,n=1,s=1,i,a,o,l,c,u=Ts,d,f=!1,m;function g(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-a)*(s*v<s*a?l:c),u(f?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([e,t,n]=v,i=d(e=+e),a=d(t=+t),o=d(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),s=a<i?-1:1,g):[e,t,n]},g.clamp=function(v){return arguments.length?(f=!!v,g):f},g.interpolator=function(v){return arguments.length?(u=v,g):u};function x(v){return function(y){var N,j,b;return arguments.length?([N,j,b]=y,u=I_e(v,[N,j,b]),g):[u(0),u(.5),u(1)]}}return g.range=x(lm),g.rangeRound=x(sk),g.unknown=function(v){return arguments.length?(m=v,g):m},function(v){return d=v,i=v(e),a=v(t),o=v(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),s=a<i?-1:1,g}}function l7(){var e=Bc(yw()(Ts));return e.copy=function(){return zc(e,l7())},vl.apply(e,arguments)}function c7(){var e=lk(yw()).domain([.1,1,10]);return e.copy=function(){return zc(e,c7()).base(e.base())},vl.apply(e,arguments)}function u7(){var e=ck(yw());return e.copy=function(){return zc(e,u7()).constant(e.constant())},vl.apply(e,arguments)}function bk(){var e=uk(yw());return e.copy=function(){return zc(e,bk()).exponent(e.exponent())},vl.apply(e,arguments)}function SEe(){return bk.apply(null,arguments).exponent(.5)}const q$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yg,scaleDiverging:l7,scaleDivergingLog:c7,scaleDivergingPow:bk,scaleDivergingSqrt:SEe,scaleDivergingSymlog:u7,scaleIdentity:Vq,scaleImplicit:wP,scaleLinear:ej,scaleLog:qq,scaleOrdinal:tk,scalePoint:Tp,scalePow:dk,scaleQuantile:Gq,scaleQuantize:Kq,scaleRadial:Hq,scaleSequential:s7,scaleSequentialLog:i7,scaleSequentialPow:jk,scaleSequentialQuantile:o7,scaleSequentialSqrt:NEe,scaleSequentialSymlog:a7,scaleSqrt:sAe,scaleSymlog:Wq,scaleThreshold:Yq,scaleTime:bEe,scaleUtc:wEe,tickFormat:zq},Symbol.toStringTag,{value:"Module"}));var CEe=Jf;function PEe(e,t,n){for(var s=-1,i=e.length;++s<i;){var a=e[s],o=t(a);if(o!=null&&(l===void 0?o===o&&!CEe(o):n(o,l)))var l=o,c=a}return c}var jw=PEe;function _Ee(e,t){return e>t}var d7=_Ee,AEe=jw,EEe=d7,kEe=am;function TEe(e){return e&&e.length?AEe(e,kEe,EEe):void 0}var OEe=TEe;const ic=pn(OEe);function DEe(e,t){return e<t}var h7=DEe,MEe=jw,IEe=h7,$Ee=am;function REe(e){return e&&e.length?MEe(e,$Ee,IEe):void 0}var LEe=REe;const bw=pn(LEe);var FEe=IE,BEe=jo,zEe=jq,VEe=ni;function UEe(e,t){var n=VEe(e)?FEe:zEe;return n(e,BEe(t))}var qEe=UEe,WEe=xq,HEe=qEe;function GEe(e,t){return WEe(HEe(e,t),1)}var KEe=GEe;const YEe=pn(KEe);var QEe=QE;function XEe(e,t){return QEe(e,t)}var JEe=XEe;const Zu=pn(JEe);var cm=1e9,ZEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Nk,Gn=!0,Ji="[DecimalError] ",Mu=Ji+"Invalid argument: ",wk=Ji+"Exponent out of range: ",um=Math.floor,cu=Math.pow,eke=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gi,Fr=1e7,Bn=7,f7=9007199254740991,sj=um(f7/Bn),st={};st.absoluteValue=st.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};st.comparedTo=st.cmp=function(e){var t,n,s,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(s=a.d.length,i=e.d.length,t=0,n=s<i?s:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return s===i?0:s>i^a.s<0?1:-1};st.decimalPlaces=st.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Bn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};st.dividedBy=st.div=function(e){return Xo(this,new this.constructor(e))};st.dividedToIntegerBy=st.idiv=function(e){var t=this,n=t.constructor;return An(Xo(t,new n(e),0,1),n.precision)};st.equals=st.eq=function(e){return!this.cmp(e)};st.exponent=function(){return br(this)};st.greaterThan=st.gt=function(e){return this.cmp(e)>0};st.greaterThanOrEqualTo=st.gte=function(e){return this.cmp(e)>=0};st.isInteger=st.isint=function(){return this.e>this.d.length-2};st.isNegative=st.isneg=function(){return this.s<0};st.isPositive=st.ispos=function(){return this.s>0};st.isZero=function(){return this.s===0};st.lessThan=st.lt=function(e){return this.cmp(e)<0};st.lessThanOrEqualTo=st.lte=function(e){return this.cmp(e)<1};st.logarithm=st.log=function(e){var t,n=this,s=n.constructor,i=s.precision,a=i+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(gi))throw Error(Ji+"NaN");if(n.s<1)throw Error(Ji+(n.s?"NaN":"-Infinity"));return n.eq(gi)?new s(0):(Gn=!1,t=Xo(Sg(n,a),Sg(e,a),a),Gn=!0,An(t,i))};st.minus=st.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g7(t,e):m7(t,(e.s=-e.s,e))};st.modulo=st.mod=function(e){var t,n=this,s=n.constructor,i=s.precision;if(e=new s(e),!e.s)throw Error(Ji+"NaN");return n.s?(Gn=!1,t=Xo(n,e,0,1).times(e),Gn=!0,n.minus(t)):An(new s(n),i)};st.naturalExponential=st.exp=function(){return p7(this)};st.naturalLogarithm=st.ln=function(){return Sg(this)};st.negated=st.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};st.plus=st.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?m7(t,e):g7(t,(e.s=-e.s,e))};st.precision=st.sd=function(e){var t,n,s,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Mu+e);if(t=br(i)+1,s=i.d.length-1,n=s*Bn+1,s=i.d[s],s){for(;s%10==0;s/=10)n--;for(s=i.d[0];s>=10;s/=10)n++}return e&&t>n?t:n};st.squareRoot=st.sqrt=function(){var e,t,n,s,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ji+"NaN")}for(e=br(l),Gn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=ro(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=um((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=s,s=a.plus(Xo(l,a,o+2)).times(.5),ro(a.d).slice(0,o)===(t=ro(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(An(a,n+1,0),a.times(a).eq(l)){s=a;break}}else if(t!="9999")break;o+=4}return Gn=!0,An(s,n)};st.times=st.mul=function(e){var t,n,s,i,a,o,l,c,u,d=this,f=d.constructor,m=d.d,g=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=m.length,u=g.length,c<u&&(a=m,m=g,g=a,o=c,c=u,u=o),a=[],o=c+u,s=o;s--;)a.push(0);for(s=u;--s>=0;){for(t=0,i=c+s;i>s;)l=a[i]+g[s]*m[i-s-1]+t,a[i--]=l%Fr|0,t=l/Fr|0;a[i]=(a[i]+t)%Fr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Gn?An(e,f.precision):e};st.toDecimalPlaces=st.todp=function(e,t){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(go(e,0,cm),t===void 0?t=s.rounding:go(t,0,8),An(n,e+br(n)+1,t))};st.toExponential=function(e,t){var n,s=this,i=s.constructor;return e===void 0?n=ed(s,!0):(go(e,0,cm),t===void 0?t=i.rounding:go(t,0,8),s=An(new i(s),e+1,t),n=ed(s,!0,e+1)),n};st.toFixed=function(e,t){var n,s,i=this,a=i.constructor;return e===void 0?ed(i):(go(e,0,cm),t===void 0?t=a.rounding:go(t,0,8),s=An(new a(i),e+br(i)+1,t),n=ed(s.abs(),!1,e+br(s)+1),i.isneg()&&!i.isZero()?"-"+n:n)};st.toInteger=st.toint=function(){var e=this,t=e.constructor;return An(new t(e),br(e)+1,t.rounding)};st.toNumber=function(){return+this};st.toPower=st.pow=function(e){var t,n,s,i,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(gi);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ji+"Infinity");return l}if(l.eq(gi))return l;if(s=c.precision,e.eq(gi))return An(l,s);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=d<0?-d:d)<=f7){for(i=new c(gi),t=Math.ceil(s/Bn+4),Gn=!1;n%2&&(i=i.times(l),H$(i.d,t)),n=um(n/2),n!==0;)l=l.times(l),H$(l.d,t);return Gn=!0,e.s<0?new c(gi).div(i):An(i,s)}}else if(a<0)throw Error(Ji+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Gn=!1,i=e.times(Sg(l,s+u)),Gn=!0,i=p7(i),i.s=a,i};st.toPrecision=function(e,t){var n,s,i=this,a=i.constructor;return e===void 0?(n=br(i),s=ed(i,n<=a.toExpNeg||n>=a.toExpPos)):(go(e,1,cm),t===void 0?t=a.rounding:go(t,0,8),i=An(new a(i),e,t),n=br(i),s=ed(i,e<=n||n<=a.toExpNeg,e)),s};st.toSignificantDigits=st.tosd=function(e,t){var n=this,s=n.constructor;return e===void 0?(e=s.precision,t=s.rounding):(go(e,1,cm),t===void 0?t=s.rounding:go(t,0,8)),An(new s(n),e,t)};st.toString=st.valueOf=st.val=st.toJSON=st[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=br(e),n=e.constructor;return ed(e,t<=n.toExpNeg||t>=n.toExpPos)};function m7(e,t){var n,s,i,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Gn?An(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(s=c,a=-a,l=u.length):(s=u,i=o,l=c.length),o=Math.ceil(f/Bn),l=o>l?o+1:l+1,a>l&&(a=l,s.length=1),s.reverse();a--;)s.push(0);s.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,s=u,u=c,c=s),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/Fr|0,c[a]%=Fr;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Gn?An(t,f):t}function go(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Mu+e)}function ro(e){var t,n,s,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)s=e[t]+"",n=Bn-s.length,n&&(a+=zl(n)),a+=s;o=e[t],s=o+"",n=Bn-s.length,n&&(a+=zl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Xo=function(){function e(s,i){var a,o=0,l=s.length;for(s=s.slice();l--;)a=s[l]*i+o,s[l]=a%Fr|0,o=a/Fr|0;return o&&s.unshift(o),s}function t(s,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(s[l]!=i[l]){c=s[l]>i[l]?1:-1;break}return c}function n(s,i,a){for(var o=0;a--;)s[a]-=o,o=s[a]<i[a]?1:0,s[a]=o*Fr+s[a]-i[a];for(;!s[0]&&s.length>1;)s.shift()}return function(s,i,a,o){var l,c,u,d,f,m,g,x,v,y,N,j,b,P,C,_,A,E,D=s.constructor,I=s.s==i.s?1:-1,O=s.d,k=i.d;if(!s.s)return new D(s);if(!i.s)throw Error(Ji+"Division by zero");for(c=s.e-i.e,A=k.length,C=O.length,g=new D(I),x=g.d=[],u=0;k[u]==(O[u]||0);)++u;if(k[u]>(O[u]||0)&&--c,a==null?j=a=D.precision:o?j=a+(br(s)-br(i))+1:j=a,j<0)return new D(0);if(j=j/Bn+2|0,u=0,A==1)for(d=0,k=k[0],j++;(u<C||d)&&j--;u++)b=d*Fr+(O[u]||0),x[u]=b/k|0,d=b%k|0;else{for(d=Fr/(k[0]+1)|0,d>1&&(k=e(k,d),O=e(O,d),A=k.length,C=O.length),P=A,v=O.slice(0,A),y=v.length;y<A;)v[y++]=0;E=k.slice(),E.unshift(0),_=k[0],k[1]>=Fr/2&&++_;do d=0,l=t(k,v,A,y),l<0?(N=v[0],A!=y&&(N=N*Fr+(v[1]||0)),d=N/_|0,d>1?(d>=Fr&&(d=Fr-1),f=e(k,d),m=f.length,y=v.length,l=t(f,v,m,y),l==1&&(d--,n(f,A<m?E:k,m))):(d==0&&(l=d=1),f=k.slice()),m=f.length,m<y&&f.unshift(0),n(v,f,y),l==-1&&(y=v.length,l=t(k,v,A,y),l<1&&(d++,n(v,A<y?E:k,y))),y=v.length):l===0&&(d++,v=[0]),x[u++]=d,l&&v[0]?v[y++]=O[P]||0:(v=[O[P]],y=1);while((P++<C||v[0]!==void 0)&&j--)}return x[0]||x.shift(),g.e=c,An(g,o?a+br(g)+1:a)}}();function p7(e,t){var n,s,i,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(br(e)>16)throw Error(wk+br(e));if(!e.s)return new d(gi);for(t==null?(Gn=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s=Math.log(cu(2,u))/Math.LN10*2+5|0,l+=s,n=i=a=new d(gi),d.precision=l;;){if(i=An(i.times(e),l),n=n.times(++c),o=a.plus(Xo(i,n,l)),ro(o.d).slice(0,l)===ro(a.d).slice(0,l)){for(;u--;)a=An(a.times(a),l);return d.precision=f,t==null?(Gn=!0,An(a,f)):a}a=o}}function br(e){for(var t=e.e*Bn,n=e.d[0];n>=10;n/=10)t++;return t}function zS(e,t,n){if(t>e.LN10.sd())throw Gn=!0,n&&(e.precision=n),Error(Ji+"LN10 precision limit exceeded");return An(new e(e.LN10),t)}function zl(e){for(var t="";e--;)t+="0";return t}function Sg(e,t){var n,s,i,a,o,l,c,u,d,f=1,m=10,g=e,x=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(Ji+(g.s?"NaN":"-Infinity"));if(g.eq(gi))return new v(0);if(t==null?(Gn=!1,u=y):u=t,g.eq(10))return t==null&&(Gn=!0),zS(v,u);if(u+=m,v.precision=u,n=ro(x),s=n.charAt(0),a=br(g),Math.abs(a)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)g=g.times(e),n=ro(g.d),s=n.charAt(0),f++;a=br(g),s>1?(g=new v("0."+n),a++):g=new v(s+"."+n.slice(1))}else return c=zS(v,u+2,y).times(a+""),g=Sg(new v(s+"."+n.slice(1)),u-m).plus(c),v.precision=y,t==null?(Gn=!0,An(g,y)):g;for(l=o=g=Xo(g.minus(gi),g.plus(gi),u),d=An(g.times(g),u),i=3;;){if(o=An(o.times(d),u),c=l.plus(Xo(o,new v(i),u)),ro(c.d).slice(0,u)===ro(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(zS(v,u+2,y).times(a+""))),l=Xo(l,new v(f),u),v.precision=y,t==null?(Gn=!0,An(l,y)):l;l=c,i+=2}}function W$(e,t){var n,s,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(n<0&&(n=s),n+=+t.slice(s+1),t=t.substring(0,s)):n<0&&(n=t.length),s=0;t.charCodeAt(s)===48;)++s;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(s,i),t){if(i-=s,n=n-s-1,e.e=um(n/Bn),e.d=[],s=(n+1)%Bn,n<0&&(s+=Bn),s<i){for(s&&e.d.push(+t.slice(0,s)),i-=Bn;s<i;)e.d.push(+t.slice(s,s+=Bn));t=t.slice(s),s=Bn-t.length}else s-=i;for(;s--;)t+="0";if(e.d.push(+t),Gn&&(e.e>sj||e.e<-sj))throw Error(wk+n)}else e.s=0,e.e=0,e.d=[0];return e}function An(e,t,n){var s,i,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(s=t-o,s<0)s+=Bn,i=t,u=f[d=0];else{if(d=Math.ceil((s+1)/Bn),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;s%=Bn,i=s-Bn+o}if(n!==void 0&&(a=cu(10,o-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(s>0?i>0?u/cu(10,o-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=br(e),f.length=1,t=t-a-1,f[0]=cu(10,(Bn-t%Bn)%Bn),e.e=um(-t/Bn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=d,a=1,d--):(f.length=d+1,a=cu(10,Bn-s),f[d]=i>0?(u/cu(10,o-i)%cu(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Fr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Fr)break;f[d--]=0,a=1}for(s=f.length;f[--s]===0;)f.pop();if(Gn&&(e.e>sj||e.e<-sj))throw Error(wk+br(e));return e}function g7(e,t){var n,s,i,a,o,l,c,u,d,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Gn?An(t,g):t;if(c=e.d,f=t.d,s=t.e,u=e.e,c=c.slice(),o=u-s,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,s=u,l=c.length),i=Math.max(Math.ceil(g/Bn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Fr-1;--c[a],c[i]+=Fr}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,Gn?An(t,g):t):new m(0)}function ed(e,t,n){var s,i=br(e),a=ro(e.d),o=a.length;return t?(n&&(s=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+zl(s):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+zl(-i-1)+a,n&&(s=n-o)>0&&(a+=zl(s))):i>=o?(a+=zl(i+1-o),n&&(s=n-i-1)>0&&(a=a+"."+zl(s))):((s=i+1)<o&&(a=a.slice(0,s)+"."+a.slice(s)),n&&(s=n-o)>0&&(i+1===o&&(a+="."),a+=zl(s))),e.s<0?"-"+a:a}function H$(e,t){if(e.length>t)return e.length=t,!0}function v7(e){var t,n,s;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Mu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return W$(o,a.toString())}else if(typeof a!="string")throw Error(Mu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,eke.test(a))W$(o,a);else throw Error(Mu+a)}if(i.prototype=st,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=v7,i.config=i.set=tke,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(n=s[t++])||(e[n]=this[n]);return i.config(e),i}function tke(e){if(!e||typeof e!="object")throw Error(Ji+"Object expected");var t,n,s,i=["precision",1,cm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((s=e[n=i[t]])!==void 0)if(um(s)===s&&s>=i[t+1]&&s<=i[t+2])this[n]=s;else throw Error(Mu+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(Mu+n+": "+s);return this}var Nk=v7(ZEe);gi=new Nk(1);const Sn=Nk;function nke(e){return ake(e)||ike(e)||ske(e)||rke()}function rke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ske(e,t){if(e){if(typeof e=="string")return PP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PP(e,t)}}function ike(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ake(e){if(Array.isArray(e))return PP(e)}function PP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var oke=function(t){return t},x7={"@@functional/placeholder":!0},y7=function(t){return t===x7},G$=function(t){return function n(){return arguments.length===0||arguments.length===1&&y7(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},lke=function e(t,n){return t===1?n:G$(function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==x7}).length;return o>=t?n.apply(void 0,i):e(t-o,G$(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return y7(f)?c.shift():f});return n.apply(void 0,nke(d).concat(c))}))})},ww=function(t){return lke(t.length,t)},_P=function(t,n){for(var s=[],i=t;i<n;++i)s[i-t]=i;return s},cke=ww(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),uke=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(!n.length)return oke;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},AP=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},j7=function(t){var n=null,s=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,s=t.apply(void 0,a)),s}};function dke(e){var t;return e===0?t=1:t=Math.floor(new Sn(e).abs().log(10).toNumber())+1,t}function hke(e,t,n){for(var s=new Sn(e),i=0,a=[];s.lt(t)&&i<1e5;)a.push(s.toNumber()),s=s.add(n),i++;return a}var fke=ww(function(e,t,n){var s=+e,i=+t;return s+n*(i-s)}),mke=ww(function(e,t,n){var s=t-+e;return s=s||1/0,(n-e)/s}),pke=ww(function(e,t,n){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});const Nw={rangeStep:hke,getDigitCount:dke,interpolateNumber:fke,uninterpolateNumber:mke,uninterpolateTruncation:pke};function EP(e){return xke(e)||vke(e)||b7(e)||gke()}function gke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xke(e){if(Array.isArray(e))return kP(e)}function Cg(e,t){return bke(e)||jke(e,t)||b7(e,t)||yke()}function yke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b7(e,t){if(e){if(typeof e=="string")return kP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kP(e,t)}}function kP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function jke(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],s=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));s=!0);}catch(c){i=!0,a=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function bke(e){if(Array.isArray(e))return e}function w7(e){var t=Cg(e,2),n=t[0],s=t[1],i=n,a=s;return n>s&&(i=s,a=n),[i,a]}function N7(e,t,n){if(e.lte(0))return new Sn(0);var s=Nw.getDigitCount(e.toNumber()),i=new Sn(10).pow(s),a=e.div(i),o=s!==1?.05:.1,l=new Sn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return t?c:new Sn(Math.ceil(c))}function wke(e,t,n){var s=1,i=new Sn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(s=new Sn(10).pow(Nw.getDigitCount(e)-1),i=new Sn(Math.floor(i.div(s).toNumber())).mul(s)):a>1&&(i=new Sn(Math.floor(e)))}else e===0?i=new Sn(Math.floor((t-1)/2)):n||(i=new Sn(Math.floor(e)));var o=Math.floor((t-1)/2),l=uke(cke(function(c){return i.add(new Sn(c-o).mul(s)).toNumber()}),_P);return l(0,t)}function S7(e,t,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Sn(0),tickMin:new Sn(0),tickMax:new Sn(0)};var a=N7(new Sn(t).sub(e).div(n-1),s,i),o;e<=0&&t>=0?o=new Sn(0):(o=new Sn(e).add(t).div(2),o=o.sub(new Sn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Sn(t).sub(o).div(a).toNumber()),u=l+c+1;return u>n?S7(e,t,n,s,i+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:o.sub(new Sn(l).mul(a)),tickMax:o.add(new Sn(c).mul(a))})}function Nke(e){var t=Cg(e,2),n=t[0],s=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=w7([n,s]),c=Cg(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(EP(_P(0,i-1).map(function(){return 1/0}))):[].concat(EP(_P(0,i-1).map(function(){return-1/0})),[d]);return n>s?AP(f):f}if(u===d)return wke(u,i,a);var m=S7(u,d,o,a),g=m.step,x=m.tickMin,v=m.tickMax,y=Nw.rangeStep(x,v.add(new Sn(.1).mul(g)),g);return n>s?AP(y):y}function Ske(e,t){var n=Cg(e,2),s=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=w7([s,i]),l=Cg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[s,i];if(c===u)return[c];var d=Math.max(t,2),f=N7(new Sn(u).sub(c).div(d-1),a,0),m=[].concat(EP(Nw.rangeStep(new Sn(c),new Sn(u).sub(new Sn(.99).mul(f)),f)),[u]);return s>i?AP(m):m}var Cke=j7(Nke),Pke=j7(Ske),_ke="Invariant failed";function td(e,t){throw new Error(_ke)}var Ake=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function ij(){return ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ij.apply(this,arguments)}function Eke(e,t){return Dke(e)||Oke(e,t)||Tke(e,t)||kke()}function kke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tke(e,t){if(e){if(typeof e=="string")return K$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K$(e,t)}}function K$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Oke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Dke(e){if(Array.isArray(e))return e}function Mke(e,t){if(e==null)return{};var n=Ike(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Ike(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function $ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rke(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_7(s.key),s)}}function Lke(e,t,n){return t&&Rke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fke(e,t,n){return t=aj(t),Bke(e,C7()?Reflect.construct(t,n||[],aj(e).constructor):t.apply(e,n))}function Bke(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zke(e)}function zke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C7=function(){return!!e})()}function aj(e){return aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aj(e)}function Vke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TP(e,t)}function TP(e,t){return TP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},TP(e,t)}function P7(e,t,n){return t=_7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _7(e){var t=Uke(e,"string");return vf(t)=="symbol"?t:t+""}function Uke(e,t){if(vf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(vf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cv=function(e){function t(){return $ke(this,t),Fke(this,t,arguments)}return Vke(t,e),Lke(t,[{key:"render",value:function(){var s=this.props,i=s.offset,a=s.layout,o=s.width,l=s.dataKey,c=s.data,u=s.dataPointFormatter,d=s.xAxis,f=s.yAxis,m=Mke(s,Ake),g=ct(m,!1);this.props.direction==="x"&&d.type!=="number"&&td();var x=c.map(function(v){var y=u(v,l),N=y.x,j=y.y,b=y.value,P=y.errorVal;if(!P)return null;var C=[],_,A;if(Array.isArray(P)){var E=Eke(P,2);_=E[0],A=E[1]}else _=A=P;if(a==="vertical"){var D=d.scale,I=j+i,O=I+o,k=I-o,F=D(b-_),L=D(b+A);C.push({x1:L,y1:O,x2:L,y2:k}),C.push({x1:F,y1:I,x2:L,y2:I}),C.push({x1:F,y1:O,x2:F,y2:k})}else if(a==="horizontal"){var Y=f.scale,q=N+i,ie=q-o,$=q+o,z=Y(b-_),le=Y(b+A);C.push({x1:ie,y1:le,x2:$,y2:le}),C.push({x1:q,y1:z,x2:q,y2:le}),C.push({x1:ie,y1:z,x2:$,y2:z})}return H.createElement(Qt,ij({className:"recharts-errorBar",key:"bar-".concat(C.map(function(pe){return"".concat(pe.x1,"-").concat(pe.x2,"-").concat(pe.y1,"-").concat(pe.y2)}))},g),C.map(function(pe){return H.createElement("line",ij({},pe,{key:"line-".concat(pe.x1,"-").concat(pe.x2,"-").concat(pe.y1,"-").concat(pe.y2)}))}))});return H.createElement(Qt,{className:"recharts-errorBars"},x)}}])}(H.Component);P7(Cv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});P7(Cv,"displayName","ErrorBar");function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function Y$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y$(Object(n),!0).forEach(function(s){qke(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qke(e,t,n){return t=Wke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wke(e){var t=Hke(e,"string");return Pg(t)=="symbol"?t:t+""}function Hke(e,t){if(Pg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Pg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A7=function(t){var n=t.children,s=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=fi(n,Th);if(!o)return null;var l=Th.defaultProps,c=l!==void 0?eu(eu({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(s||[]).reduce(function(d,f){var m=f.item,g=f.props,x=g.sectors||g.data||[];return d.concat(x.map(function(v){return{type:o.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(s||[]).map(function(d){var f=d.item,m=f.type.defaultProps,g=m!==void 0?eu(eu({},m),f.props):{},x=g.dataKey,v=g.name,y=g.legendType,N=g.hide;return{inactive:N,dataKey:x,type:c.iconType||y||"square",color:Sk(f),value:v||x,payload:g}}),eu(eu(eu({},c),Th.getWithHeight(o,i)),{},{payload:u,item:o})};function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function Q$(e){return Qke(e)||Yke(e)||Kke(e)||Gke()}function Gke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kke(e,t){if(e){if(typeof e=="string")return OP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OP(e,t)}}function Yke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qke(e){if(Array.isArray(e))return OP(e)}function OP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function X$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X$(Object(n),!0).forEach(function(s){Dh(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Dh(e,t,n){return t=Xke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xke(e){var t=Jke(e,"string");return _g(t)=="symbol"?t:t+""}function Jke(e,t){if(_g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(_g(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gr(e,t,n){return At(e)||At(t)?n:Dr(t)?bi(e,t,n):jt(t)?t(e):n}function Op(e,t,n,s){var i=YEe(e,function(l){return gr(l,t)});if(n==="number"){var a=i.filter(function(l){return Ve(l)||parseFloat(l)});return a.length?[bw(a),ic(a)]:[1/0,-1/0]}var o=s?i.filter(function(l){return!At(l)}):i;return o.map(function(l){return Dr(l)||l instanceof Date?l:""})}var Zke=function(t){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s==null?void 0:s.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,m=u>=l-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Es(f-d)!==Es(m-f)){var x=[];if(Es(m-f)===Es(c[1]-c[0])){g=m;var v=f+c[1]-c[0];x[0]=Math.min(v,(v+d)/2),x[1]=Math.max(v,(v+d)/2)}else{g=d;var y=m+c[1]-c[0];x[0]=Math.min(f,(y+f)/2),x[1]=Math.max(f,(y+f)/2)}var N=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>N[0]&&t<=N[1]||t>=x[0]&&t<=x[1]){o=i[u].index;break}}else{var j=Math.min(d,m),b=Math.max(d,m);if(t>(j+f)/2&&t<=(b+f)/2){o=i[u].index;break}}}else for(var P=0;P<l;P++)if(P===0&&t<=(s[P].coordinate+s[P+1].coordinate)/2||P>0&&P<l-1&&t>(s[P].coordinate+s[P-1].coordinate)/2&&t<=(s[P].coordinate+s[P+1].coordinate)/2||P===l-1&&t>(s[P].coordinate+s[P-1].coordinate)/2){o=s[P].index;break}return o},Sk=function(t){var n,s=t,i=s.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},eTe=function(t){var n=t.barSize,s=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),m=0,g=f.length;m<g;m++){var x=d[f[m]],v=x.items,y=x.cateAxisId,N=v.filter(function(A){return Qo(A.type).indexOf("Bar")>=0});if(N&&N.length){var j=N[0].type.defaultProps,b=j!==void 0?ar(ar({},j),N[0].props):N[0].props,P=b.barSize,C=b[y];o[C]||(o[C]=[]);var _=At(P)?n:P;o[C].push({item:N[0],stackList:N.slice(1),barSize:At(_)?void 0:ks(_,s,0)})}}return o},tTe=function(t){var n=t.barGap,s=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=ks(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,g=i/c,x=o.reduce(function(P,C){return P+C.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&g>0&&(m=!0,g*=.9,x=c*g);var v=(i-x)/2>>0,y={offset:v-u,size:0};d=o.reduce(function(P,C){var _={item:C.item,position:{offset:y.offset+y.size+u,size:m?g:C.barSize}},A=[].concat(Q$(P),[_]);return y=A[A.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){A.push({item:E,position:y})}),A},f)}else{var N=ks(s,i,0,!0);i-2*N-(c-1)*u<=0&&(u=0);var j=(i-2*N-(c-1)*u)/c;j>1&&(j>>=0);var b=l===+l?Math.min(j,l):j;d=o.reduce(function(P,C,_){var A=[].concat(Q$(P),[{item:C.item,position:{offset:N+(j+u)*_+(j-b)/2,size:b}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){A.push({item:E,position:A[A.length-1].position})}),A},f)}return d},nTe=function(t,n,s,i){var a=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),u=A7({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,m=d.height,g=u.align,x=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&g!=="center"&&Ve(t[g]))return ar(ar({},t),{},Dh({},g,t[g]+(f||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&x!=="middle"&&Ve(t[x]))return ar(ar({},t),{},Dh({},x,t[x]+(m||0)))}return t},rTe=function(t,n,s){return At(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},E7=function(t,n,s,i,a){var o=n.props.children,l=wi(o,Cv).filter(function(u){return rTe(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=gr(d,s);if(At(f))return u;var m=Array.isArray(f)?[bw(f),ic(f)]:[f,f],g=c.reduce(function(x,v){var y=gr(d,v,0),N=m[0]-Math.abs(Array.isArray(y)?y[0]:y),j=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(N,x[0]),Math.max(j,x[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},sTe=function(t,n,s,i,a){var o=n.map(function(l){return E7(t,l,s,a,i)}).filter(function(l){return!At(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},k7=function(t,n,s,i,a){var o=n.map(function(c){var u=c.props.dataKey;return s==="number"&&u&&E7(t,c,u,i)||Op(t,u,s,a)});if(s==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},T7=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},O7=function(t,n,s,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===s&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(s),l},Go=function(t,n,s){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||s)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Es(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=a?a.indexOf(f):f;return{coordinate:i(m)+u,value:f,offset:u}});return d.filter(function(f){return!rm(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:i(f)+u,value:f,index:m,offset:u}}):i.ticks&&!s?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,m){return{coordinate:i(f)+u,value:a?a[f]:f,index:m,offset:u}})},VS=new WeakMap,vy=function(t,n){if(typeof n!="function")return t;VS.has(t)||VS.set(t,new WeakMap);var s=VS.get(t);if(s.has(n))return s.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,i),i},D7=function(t,n,s){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:yg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ej(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:Tp(),realScaleType:"point"}:a==="category"?{scale:yg(),realScaleType:"band"}:{scale:ej(),realScaleType:"linear"};if(Qu(i)){var c="scale".concat(ow(i));return{scale:(q$[c]||Tp)(),realScaleType:q$[c]?c:"point"}}return jt(i)?{scale:i}:{scale:Tp(),realScaleType:"point"}},J$=1e-4,M7=function(t){var n=t.domain();if(!(!n||n.length<=2)){var s=n.length,i=t.range(),a=Math.min(i[0],i[1])-J$,o=Math.max(i[0],i[1])+J$,l=t(n[0]),c=t(n[s-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[s-1]])}},iTe=function(t,n){if(!t)return null;for(var s=0,i=t.length;s<i;s++)if(t[s].item===n)return t[s].position;return null},aTe=function(t,n){if(!n||n.length!==2||!Ve(n[0])||!Ve(n[1]))return t;var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!Ve(t[0])||t[0]<s)&&(a[0]=s),(!Ve(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<s&&(a[1]=s),a},oTe=function(t){var n=t.length;if(!(n<=0))for(var s=0,i=t[0].length;s<i;++s)for(var a=0,o=0,l=0;l<n;++l){var c=rm(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=a,t[l][s][1]=a+c,a=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},lTe=function(t){var n=t.length;if(!(n<=0))for(var s=0,i=t[0].length;s<i;++s)for(var a=0,o=0;o<n;++o){var l=rm(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=a,t[o][s][1]=a+l,a=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},cTe={sign:oTe,expand:A0e,none:cf,silhouette:E0e,wiggle:k0e,positive:lTe},uTe=function(t,n,s){var i=n.map(function(l){return l.props.dataKey}),a=cTe[s],o=_0e().keys(i).value(function(l,c){return+gr(l,c,0)}).order(rP).offset(a);return o(t)},dTe=function(t,n,s,i,a,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,m){var g,x=(g=m.type)!==null&&g!==void 0&&g.defaultProps?ar(ar({},m.type.defaultProps),m.props):m.props,v=x.stackId,y=x.hide;if(y)return f;var N=x[s],j=f[N]||{hasStack:!1,stackGroups:{}};if(Dr(v)){var b=j.stackGroups[v]||{numericAxisId:s,cateAxisId:i,items:[]};b.items.push(m),j.hasStack=!0,j.stackGroups[v]=b}else j.stackGroups[pd("_stackId_")]={numericAxisId:s,cateAxisId:i,items:[m]};return ar(ar({},f),{},Dh({},N,j))},c),d={};return Object.keys(u).reduce(function(f,m){var g=u[m];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,y){var N=g.stackGroups[y];return ar(ar({},v),{},Dh({},y,{numericAxisId:s,cateAxisId:i,items:N.items,stackedData:uTe(t,N.items,a)}))},x)}return ar(ar({},f),{},Dh({},m,g))},d)},I7=function(t,n){var s=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=s||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Cke(u,a,l);return t.domain([bw(d),ic(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),m=Pke(f,a,l);return{niceTicks:m}}return null};function oj(e){var t=e.axis,n=e.ticks,s=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!At(i[t.dataKey])){var l=D0(n,"value",i[t.dataKey]);if(l)return l.coordinate+s/2}return n[a]?n[a].coordinate+s/2:null}var c=gr(i,At(o)?t.dataKey:o);return At(c)?null:t.scale(c)}var Z$=function(t){var n=t.axis,s=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return s[l]?s[l].coordinate+i:null;var c=gr(o,n.dataKey,n.domain[l]);return At(c)?null:n.scale(c)-a/2+i},hTe=function(t){var n=t.numericAxis,s=n.scale.domain();if(n.type==="number"){var i=Math.min(s[0],s[1]),a=Math.max(s[0],s[1]);return i<=0&&a>=0?0:a<0?a:i}return s[0]},fTe=function(t,n){var s,i=(s=t.type)!==null&&s!==void 0&&s.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Dr(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},mTe=function(t){return t.reduce(function(n,s){return[bw(s.concat([n[0]]).filter(Ve)),ic(s.concat([n[1]]).filter(Ve))]},[1/0,-1/0])},$7=function(t,n,s){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=mTe(d.slice(n,s+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},eR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DP=function(t,n,s){if(jt(t))return t(n,s);if(!Array.isArray(t))return n;var i=[];if(Ve(t[0]))i[0]=s?t[0]:Math.min(t[0],n[0]);else if(eR.test(t[0])){var a=+eR.exec(t[0])[1];i[0]=n[0]-a}else jt(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Ve(t[1]))i[1]=s?t[1]:Math.max(t[1],n[1]);else if(tR.test(t[1])){var o=+tR.exec(t[1])[1];i[1]=n[1]+o}else jt(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},lj=function(t,n,s){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!s||i>0)return i}if(t&&n&&n.length>=2){for(var a=JE(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},nR=function(t,n,s){return!t||!t.length||Zu(t,bi(s,"type.defaultProps.domain"))?n:t},R7=function(t,n){var s=t.type.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,i=s.dataKey,a=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,u=s.chartType,d=s.hide;return ar(ar({},ct(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:Sk(t),value:gr(n,i),type:c,payload:n,chartType:u,hide:d})};function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function rR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(n),!0).forEach(function(s){L7(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function L7(e,t,n){return t=pTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pTe(e){var t=gTe(e,"string");return Ag(t)=="symbol"?t:t+""}function gTe(e,t){if(Ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ag(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vTe(e,t){return bTe(e)||jTe(e,t)||yTe(e,t)||xTe()}function xTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yTe(e,t){if(e){if(typeof e=="string")return sR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sR(e,t)}}function sR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function jTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function bTe(e){if(Array.isArray(e))return e}var cj=Math.PI/180,wTe=function(t){return t*180/Math.PI},Mn=function(t,n,s,i){return{x:t+Math.cos(-cj*i)*s,y:n+Math.sin(-cj*i)*s}},F7=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},NTe=function(t,n,s,i,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=ks(t.cx,o,o/2),f=ks(t.cy,l,l/2),m=F7(o,l,s),g=ks(t.innerRadius,m,0),x=ks(t.outerRadius,m,m*.8),v=Object.keys(n);return v.reduce(function(y,N){var j=n[N],b=j.domain,P=j.reversed,C;if(At(j.range))i==="angleAxis"?C=[c,u]:i==="radiusAxis"&&(C=[g,x]),P&&(C=[C[1],C[0]]);else{C=j.range;var _=C,A=vTe(_,2);c=A[0],u=A[1]}var E=D7(j,a),D=E.realScaleType,I=E.scale;I.domain(b).range(C),M7(I);var O=I7(I,Ro(Ro({},j),{},{realScaleType:D})),k=Ro(Ro(Ro({},j),O),{},{range:C,radius:x,realScaleType:D,scale:I,cx:d,cy:f,innerRadius:g,outerRadius:x,startAngle:c,endAngle:u});return Ro(Ro({},y),{},L7({},N,k))},{})},STe=function(t,n){var s=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(s-a,2)+Math.pow(i-o,2))},CTe=function(t,n){var s=t.x,i=t.y,a=n.cx,o=n.cy,l=STe({x:s,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(s-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:wTe(u),angleInRadian:u}},PTe=function(t){var n=t.startAngle,s=t.endAngle,i=Math.floor(n/360),a=Math.floor(s/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:s-o*360}},_Te=function(t,n){var s=n.startAngle,i=n.endAngle,a=Math.floor(s/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},iR=function(t,n){var s=t.x,i=t.y,a=CTe({x:s,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=PTe(n),f=d.startAngle,m=d.endAngle,g=l,x;if(f<=m){for(;g>m;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=m}else{for(;g>f;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=f}return x?Ro(Ro({},n),{},{radius:o,angle:_Te(g,n)}):null},B7=function(t){return!w.isValidElement(t)&&!jt(t)&&typeof t!="boolean"?t.className:""};function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}var ATe=["offset"];function ETe(e){return DTe(e)||OTe(e)||TTe(e)||kTe()}function kTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TTe(e,t){if(e){if(typeof e=="string")return MP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MP(e,t)}}function OTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DTe(e){if(Array.isArray(e))return MP(e)}function MP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function MTe(e,t){if(e==null)return{};var n=ITe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ITe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(n),!0).forEach(function(s){$Te(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function $Te(e,t,n){return t=RTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RTe(e){var t=LTe(e,"string");return Eg(t)=="symbol"?t:t+""}function LTe(e,t){if(Eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Eg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kg.apply(this,arguments)}var FTe=function(t){var n=t.value,s=t.formatter,i=At(t.children)?n:t.children;return jt(s)?s(i):i},BTe=function(t,n){var s=Es(n-t),i=Math.min(Math.abs(n-t),360);return s*i},zTe=function(t,n,s){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,g=c.startAngle,x=c.endAngle,v=c.clockWise,y=(f+m)/2,N=BTe(g,x),j=N>=0?1:-1,b,P;i==="insideStart"?(b=g+j*o,P=v):i==="insideEnd"?(b=x-j*o,P=!v):i==="end"&&(b=x+j*o,P=v),P=N<=0?P:!P;var C=Mn(u,d,y,b),_=Mn(u,d,y,b+(P?1:-1)*359),A="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(P?0:1,`,
    `).concat(_.x,",").concat(_.y),E=At(t.id)?pd("recharts-radial-line-"):t.id;return H.createElement("text",kg({},s,{dominantBaseline:"central",className:Et("recharts-radial-bar-label",l)}),H.createElement("defs",null,H.createElement("path",{id:E,d:A})),H.createElement("textPath",{xlinkHref:"#".concat(E)},n))},VTe=function(t){var n=t.viewBox,s=t.offset,i=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,m=(d+f)/2;if(i==="outside"){var g=Mn(o,l,u+s,m),x=g.x,v=g.y;return{x,y:v,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,N=Mn(o,l,y,m),j=N.x,b=N.y;return{x:j,y:b,textAnchor:"middle",verticalAnchor:"middle"}},UTe=function(t){var n=t.viewBox,s=t.parentViewBox,i=t.offset,a=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*i,g=f>0?"end":"start",x=f>0?"start":"end",v=u>=0?1:-1,y=v*i,N=v>0?"end":"start",j=v>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:g};return Pr(Pr({},b),s?{height:Math.max(c-s.y,0),width:u}:{})}if(a==="bottom"){var P={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:x};return Pr(Pr({},P),s?{height:Math.max(s.y+s.height-(c+d),0),width:u}:{})}if(a==="left"){var C={x:l-y,y:c+d/2,textAnchor:N,verticalAnchor:"middle"};return Pr(Pr({},C),s?{width:Math.max(C.x-s.x,0),height:d}:{})}if(a==="right"){var _={x:l+u+y,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return Pr(Pr({},_),s?{width:Math.max(s.x+s.width-_.x,0),height:d}:{})}var A=s?{width:u,height:d}:{};return a==="insideLeft"?Pr({x:l+y,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},A):a==="insideRight"?Pr({x:l+u-y,y:c+d/2,textAnchor:N,verticalAnchor:"middle"},A):a==="insideTop"?Pr({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:x},A):a==="insideBottom"?Pr({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:g},A):a==="insideTopLeft"?Pr({x:l+y,y:c+m,textAnchor:j,verticalAnchor:x},A):a==="insideTopRight"?Pr({x:l+u-y,y:c+m,textAnchor:N,verticalAnchor:x},A):a==="insideBottomLeft"?Pr({x:l+y,y:c+d-m,textAnchor:j,verticalAnchor:g},A):a==="insideBottomRight"?Pr({x:l+u-y,y:c+d-m,textAnchor:N,verticalAnchor:g},A):Zf(a)&&(Ve(a.x)||vu(a.x))&&(Ve(a.y)||vu(a.y))?Pr({x:l+ks(a.x,u),y:c+ks(a.y,d),textAnchor:"end",verticalAnchor:"end"},A):Pr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},qTe=function(t){return"cx"in t&&Ve(t.cx)};function Ur(e){var t=e.offset,n=t===void 0?5:t,s=MTe(e,ATe),i=Pr({offset:n},s),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,m=i.textBreakAll;if(!a||At(l)&&At(c)&&!w.isValidElement(u)&&!jt(u))return null;if(w.isValidElement(u))return w.cloneElement(u,i);var g;if(jt(u)){if(g=w.createElement(u,i),w.isValidElement(g))return g}else g=FTe(i);var x=qTe(a),v=ct(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return zTe(i,g,v);var y=x?VTe(i):UTe(i);return H.createElement(Ju,kg({className:Et("recharts-label",f)},v,y,{breakAll:m}),g)}Ur.displayName="Label";var z7=function(t){var n=t.cx,s=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,g=t.top,x=t.left,v=t.width,y=t.height,N=t.clockWise,j=t.labelViewBox;if(j)return j;if(Ve(v)&&Ve(y)){if(Ve(f)&&Ve(m))return{x:f,y:m,width:v,height:y};if(Ve(g)&&Ve(x))return{x:g,y:x,width:v,height:y}}return Ve(f)&&Ve(m)?{x:f,y:m,width:0,height:0}:Ve(n)&&Ve(s)?{cx:n,cy:s,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:N}:t.viewBox?t.viewBox:{}},WTe=function(t,n){return t?t===!0?H.createElement(Ur,{key:"label-implicit",viewBox:n}):Dr(t)?H.createElement(Ur,{key:"label-implicit",viewBox:n,value:t}):w.isValidElement(t)?t.type===Ur?w.cloneElement(t,{key:"label-implicit",viewBox:n}):H.createElement(Ur,{key:"label-implicit",content:t,viewBox:n}):jt(t)?H.createElement(Ur,{key:"label-implicit",content:t,viewBox:n}):Zf(t)?H.createElement(Ur,kg({viewBox:n},t,{key:"label-implicit"})):null:null},HTe=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var i=t.children,a=z7(t),o=wi(i,Ur).map(function(c,u){return w.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!s)return o;var l=WTe(t.label,n||a);return[l].concat(ETe(o))};Ur.parseViewBox=z7;Ur.renderCallByParent=HTe;function GTe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var KTe=GTe;const YTe=pn(KTe);function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}var QTe=["valueAccessor"],XTe=["data","dataKey","clockWise","id","textBreakAll"];function JTe(e){return nOe(e)||tOe(e)||eOe(e)||ZTe()}function ZTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eOe(e,t){if(e){if(typeof e=="string")return IP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IP(e,t)}}function tOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nOe(e){if(Array.isArray(e))return IP(e)}function IP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function uj(){return uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},uj.apply(this,arguments)}function oR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function lR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(n),!0).forEach(function(s){rOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function rOe(e,t,n){return t=sOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sOe(e){var t=iOe(e,"string");return Tg(t)=="symbol"?t:t+""}function iOe(e,t){if(Tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Tg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cR(e,t){if(e==null)return{};var n=aOe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function aOe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var oOe=function(t){return Array.isArray(t.value)?YTe(t.value):t.value};function ho(e){var t=e.valueAccessor,n=t===void 0?oOe:t,s=cR(e,QTe),i=s.data,a=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,u=cR(s,XTe);return!i||!i.length?null:H.createElement(Qt,{className:"recharts-label-list"},i.map(function(d,f){var m=At(a)?n(d,f):gr(d&&d.payload,a),g=At(l)?{}:{id:"".concat(l,"-").concat(f)};return H.createElement(Ur,uj({},ct(d,!0),u,g,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Ur.parseViewBox(At(o)?d:lR(lR({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ho.displayName="LabelList";function lOe(e,t){return e?e===!0?H.createElement(ho,{key:"labelList-implicit",data:t}):H.isValidElement(e)||jt(e)?H.createElement(ho,{key:"labelList-implicit",data:t,content:e}):Zf(e)?H.createElement(ho,uj({data:t},e,{key:"labelList-implicit"})):null:null}function cOe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,i=wi(s,ho).map(function(o,l){return w.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=lOe(e.label,t);return[a].concat(JTe(i))}ho.renderCallByParent=cOe;function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}function $P(){return $P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$P.apply(this,arguments)}function uR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function dR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(n),!0).forEach(function(s){uOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function uOe(e,t,n){return t=dOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dOe(e){var t=hOe(e,"string");return Og(t)=="symbol"?t:t+""}function hOe(e,t){if(Og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Og(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fOe=function(t,n){var s=Es(n-t),i=Math.min(Math.abs(n-t),359.999);return s*i},xy=function(t){var n=t.cx,s=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/cj,m=u?a:a+o*f,g=Mn(n,s,d,m),x=Mn(n,s,i,m),v=u?a-o*f:a,y=Mn(n,s,d*Math.cos(f*cj),v);return{center:g,circleTangency:x,lineTangency:y,theta:f}},V7=function(t){var n=t.cx,s=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=fOe(o,l),u=o+c,d=Mn(n,s,a,o),f=Mn(n,s,a,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=Mn(n,s,i,o),x=Mn(n,s,i,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(n,",").concat(s," Z");return m},mOe=function(t){var n=t.cx,s=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Es(d-u),m=xy({cx:n,cy:s,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),g=m.circleTangency,x=m.lineTangency,v=m.theta,y=xy({cx:n,cy:s,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),N=y.circleTangency,j=y.lineTangency,b=y.theta,P=c?Math.abs(u-d):Math.abs(u-d)-v-b;if(P<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):V7({cx:n,cy:s,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var C="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
  `);if(i>0){var _=xy({cx:n,cy:s,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=_.circleTangency,E=_.lineTangency,D=_.theta,I=xy({cx:n,cy:s,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=I.circleTangency,k=I.lineTangency,F=I.theta,L=c?Math.abs(u-d):Math.abs(u-d)-D-F;if(L<0&&o===0)return"".concat(C,"L").concat(n,",").concat(s,"Z");C+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else C+="L".concat(n,",").concat(s,"Z");return C},pOe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},U7=function(t){var n=dR(dR({},pOe),t),s=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,m=n.className;if(o<a||d===f)return null;var g=Et("recharts-sector",m),x=o-a,v=ks(l,x,0,!0),y;return v>0&&Math.abs(d-f)<360?y=mOe({cx:s,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=V7({cx:s,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),H.createElement("path",$P({},ct(n,!0),{className:g,d:y,role:"img"}))};function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function RP(){return RP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},RP.apply(this,arguments)}function hR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function fR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(n),!0).forEach(function(s){gOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function gOe(e,t,n){return t=vOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vOe(e){var t=xOe(e,"string");return Dg(t)=="symbol"?t:t+""}function xOe(e,t){if(Dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Dg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mR={curveBasisClosed:g0e,curveBasisOpen:v0e,curveBasis:p0e,curveBumpX:t0e,curveBumpY:n0e,curveLinearClosed:x0e,curveLinear:cw,curveMonotoneX:y0e,curveMonotoneY:j0e,curveNatural:b0e,curveStep:w0e,curveStepAfter:S0e,curveStepBefore:N0e},yy=function(t){return t.x===+t.x&&t.y===+t.y},tp=function(t){return t.x},np=function(t){return t.y},yOe=function(t,n){if(jt(t))return t;var s="curve".concat(ow(t));return(s==="curveMonotone"||s==="curveBump")&&n?mR["".concat(s).concat(n==="vertical"?"Y":"X")]:mR[s]||cw},jOe=function(t){var n=t.type,s=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=yOe(s,l),f=u?a.filter(function(v){return yy(v)}):a,m;if(Array.isArray(o)){var g=u?o.filter(function(v){return yy(v)}):o,x=f.map(function(v,y){return fR(fR({},v),{},{base:g[y]})});return l==="vertical"?m=cy().y(np).x1(tp).x0(function(v){return v.base.x}):m=cy().x(tp).y1(np).y0(function(v){return v.base.y}),m.defined(yy).curve(d),m(x)}return l==="vertical"&&Ve(o)?m=cy().y(np).x1(tp).x0(o):Ve(o)?m=cy().x(tp).y1(np).y0(o):m=RU().x(tp).y(np),m.defined(yy).curve(d),m(f)},Iu=function(t){var n=t.className,s=t.points,i=t.path,a=t.pathRef;if((!s||!s.length)&&!i)return null;var o=s&&s.length?jOe(t):i;return w.createElement("path",RP({},ct(t,!1),M0(t),{className:Et("recharts-curve",n),d:o,ref:a}))},q7={exports:{}},bOe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wOe=bOe,NOe=wOe;function W7(){}function H7(){}H7.resetWarningCache=W7;var SOe=function(){function e(s,i,a,o,l,c){if(c!==NOe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:H7,resetWarningCache:W7};return n.PropTypes=n,n};q7.exports=SOe();var COe=q7.exports;const fn=pn(COe);var POe=Object.getOwnPropertyNames,_Oe=Object.getOwnPropertySymbols,AOe=Object.prototype.hasOwnProperty;function pR(e,t){return function(s,i,a){return e(s,i,a)&&t(s,i,a)}}function jy(e){return function(n,s,i){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,i);var a=i.cache,o=a.get(n),l=a.get(s);if(o&&l)return o===s&&l===n;a.set(n,s),a.set(s,n);var c=e(n,s,i);return a.delete(n),a.delete(s),c}}function gR(e){return POe(e).concat(_Oe(e))}var EOe=Object.hasOwn||function(e,t){return AOe.call(e,t)};function xd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var kOe="__v",TOe="__o",OOe="_owner",vR=Object.getOwnPropertyDescriptor,xR=Object.keys;function DOe(e,t,n){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],t[s],s,s,e,t,n))return!1;return!0}function MOe(e,t){return xd(e.getTime(),t.getTime())}function IOe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function $Oe(e,t){return e===t}function yR(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var i=new Array(s),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var m=o.value,g=l.value;if(n.equals(m[0],g[0],c,f,e,t,n)&&n.equals(m[1],g[1],m[0],g[0],e,t,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var ROe=xd;function LOe(e,t,n){var s=xR(e),i=s.length;if(xR(t).length!==i)return!1;for(;i-- >0;)if(!G7(e,t,n,s[i]))return!1;return!0}function rp(e,t,n){var s=gR(e),i=s.length;if(gR(t).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=s[i],!G7(e,t,n,a)||(o=vR(e,a),l=vR(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function FOe(e,t){return xd(e.valueOf(),t.valueOf())}function BOe(e,t){return e.source===t.source&&e.flags===t.flags}function jR(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var i=new Array(s),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function zOe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function VOe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function G7(e,t,n,s){return(s===OOe||s===TOe||s===kOe)&&(e.$$typeof||t.$$typeof)?!0:EOe(t,s)&&n.equals(e[s],t[s],s,s,e,t,n)}var UOe="[object Arguments]",qOe="[object Boolean]",WOe="[object Date]",HOe="[object Error]",GOe="[object Map]",KOe="[object Number]",YOe="[object Object]",QOe="[object RegExp]",XOe="[object Set]",JOe="[object String]",ZOe="[object URL]",eDe=Array.isArray,bR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,wR=Object.assign,tDe=Object.prototype.toString.call.bind(Object.prototype.toString);function nDe(e){var t=e.areArraysEqual,n=e.areDatesEqual,s=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(x,v,y){if(x===v)return!0;if(x==null||v==null)return!1;var N=typeof x;if(N!==typeof v)return!1;if(N!=="object")return N==="number"?o(x,v,y):N==="function"?i(x,v,y):!1;var j=x.constructor;if(j!==v.constructor)return!1;if(j===Object)return l(x,v,y);if(eDe(x))return t(x,v,y);if(bR!=null&&bR(x))return f(x,v,y);if(j===Date)return n(x,v,y);if(j===RegExp)return u(x,v,y);if(j===Map)return a(x,v,y);if(j===Set)return d(x,v,y);var b=tDe(x);return b===WOe?n(x,v,y):b===QOe?u(x,v,y):b===GOe?a(x,v,y):b===XOe?d(x,v,y):b===YOe?typeof x.then!="function"&&typeof v.then!="function"&&l(x,v,y):b===ZOe?m(x,v,y):b===HOe?s(x,v,y):b===UOe?l(x,v,y):b===qOe||b===KOe||b===JOe?c(x,v,y):!1}}function rDe(e){var t=e.circular,n=e.createCustomConfig,s=e.strict,i={areArraysEqual:s?rp:DOe,areDatesEqual:MOe,areErrorsEqual:IOe,areFunctionsEqual:$Oe,areMapsEqual:s?pR(yR,rp):yR,areNumbersEqual:ROe,areObjectsEqual:s?rp:LOe,arePrimitiveWrappersEqual:FOe,areRegExpsEqual:BOe,areSetsEqual:s?pR(jR,rp):jR,areTypedArraysEqual:s?rp:zOe,areUrlsEqual:VOe};if(n&&(i=wR({},i,n(i))),t){var a=jy(i.areArraysEqual),o=jy(i.areMapsEqual),l=jy(i.areObjectsEqual),c=jy(i.areSetsEqual);i=wR({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function sDe(e){return function(t,n,s,i,a,o,l){return e(t,n,l)}}function iDe(e){var t=e.circular,n=e.comparator,s=e.createState,i=e.equals,a=e.strict;if(s)return function(c,u){var d=s(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,g=d.meta;return n(c,u,{cache:m,equals:i,meta:g,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var aDe=Vc();Vc({strict:!0});Vc({circular:!0});Vc({circular:!0,strict:!0});Vc({createInternalComparator:function(){return xd}});Vc({strict:!0,createInternalComparator:function(){return xd}});Vc({circular:!0,createInternalComparator:function(){return xd}});Vc({circular:!0,createInternalComparator:function(){return xd},strict:!0});function Vc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,s=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,l=rDe(e),c=nDe(l),u=s?s(c):sDe(c);return iDe({circular:n,comparator:c,createState:i,equals:u,strict:o})}function oDe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function NR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):oDe(i)};requestAnimationFrame(s)}function LP(e){"@babel/helpers - typeof";return LP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LP(e)}function lDe(e){return hDe(e)||dDe(e)||uDe(e)||cDe()}function cDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uDe(e,t){if(e){if(typeof e=="string")return SR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SR(e,t)}}function SR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function dDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hDe(e){if(Array.isArray(e))return e}function fDe(){var e={},t=function(){return null},n=!1,s=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=lDe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){NR(i.bind(null,u),c);return}i(c),NR(i.bind(null,u));return}LP(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,s(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function CR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function PR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(n),!0).forEach(function(s){K7(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function K7(e,t,n){return t=mDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mDe(e){var t=pDe(e,"string");return Mg(t)==="symbol"?t:String(t)}function pDe(e,t){if(Mg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Mg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gDe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(s,i){return s.filter(function(a){return i.includes(a)})})},vDe=function(t){return t},xDe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Dp=function(t,n){return Object.keys(n).reduce(function(s,i){return PR(PR({},s),{},K7({},i,t(i,n[i])))},{})},_R=function(t,n,s){return t.map(function(i){return"".concat(xDe(i)," ").concat(n,"ms ").concat(s)}).join(",")};function yDe(e,t){return wDe(e)||bDe(e,t)||Y7(e,t)||jDe()}function jDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function wDe(e){if(Array.isArray(e))return e}function NDe(e){return PDe(e)||CDe(e)||Y7(e)||SDe()}function SDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y7(e,t){if(e){if(typeof e=="string")return FP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FP(e,t)}}function CDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PDe(e){if(Array.isArray(e))return FP(e)}function FP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var dj=1e-4,Q7=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},X7=function(t,n){return t.map(function(s,i){return s*Math.pow(n,i)}).reduce(function(s,i){return s+i})},AR=function(t,n){return function(s){var i=Q7(t,n);return X7(i,s)}},_De=function(t,n){return function(s){var i=Q7(t,n),a=[].concat(NDe(i.map(function(o,l){return o*l}).slice(1)),[0]);return X7(a,s)}},ER=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=yDe(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var f=AR(i,o),m=AR(a,l),g=_De(i,o),x=function(N){return N>1?1:N<0?0:N},v=function(N){for(var j=N>1?1:N,b=j,P=0;P<8;++P){var C=f(b)-j,_=g(b);if(Math.abs(C-j)<dj||_<dj)return m(b);b=x(b-C/_)}return m(b)};return v.isStepper=!1,v},ADe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,s=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var g=-(d-f)*s,x=m*a,v=m+(g-x)*l/1e3,y=m*l/1e3+d;return Math.abs(y-f)<dj&&Math.abs(v)<dj?[f,0]:[y,v]};return c.isStepper=!0,c.dt=l,c},EDe=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ER(i);case"spring":return ADe();default:if(i.split("(")[0]==="cubic-bezier")return ER(i)}return typeof i=="function"?i:null};function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function kR(e){return ODe(e)||TDe(e)||J7(e)||kDe()}function kDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ODe(e){if(Array.isArray(e))return zP(e)}function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(s){BP(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function BP(e,t,n){return t=DDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DDe(e){var t=MDe(e,"string");return Ig(t)==="symbol"?t:String(t)}function MDe(e,t){if(Ig(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ig(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IDe(e,t){return LDe(e)||RDe(e,t)||J7(e,t)||$De()}function $De(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J7(e,t){if(e){if(typeof e=="string")return zP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zP(e,t)}}function zP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function RDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function LDe(e){if(Array.isArray(e))return e}var hj=function(t,n,s){return t+(n-t)*s},VP=function(t){var n=t.from,s=t.to;return n!==s},FDe=function e(t,n,s){var i=Dp(function(a,o){if(VP(o)){var l=t(o.from,o.to,o.velocity),c=IDe(l,2),u=c[0],d=c[1];return Zr(Zr({},o),{},{from:u,velocity:d})}return o},n);return s<1?Dp(function(a,o){return VP(o)?Zr(Zr({},o),{},{velocity:hj(o.velocity,i[a].velocity,s),from:hj(o.from,i[a].from,s)}):o},n):e(t,i,s-1)};const BDe=function(e,t,n,s,i){var a=gDe(e,t),o=a.reduce(function(y,N){return Zr(Zr({},y),{},BP({},N,[e[N],t[N]]))},{}),l=a.reduce(function(y,N){return Zr(Zr({},y),{},BP({},N,{from:e[N],velocity:0,to:t[N]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Dp(function(N,j){return j.from},l)},g=function(){return!Object.values(l).filter(VP).length},x=function(N){u||(u=N);var j=N-u,b=j/n.dt;l=FDe(n,l,b),i(Zr(Zr(Zr({},e),t),m())),u=N,g()||(c=requestAnimationFrame(f))},v=function(N){d||(d=N);var j=(N-d)/s,b=Dp(function(C,_){return hj.apply(void 0,kR(_).concat([n(j)]))},o);if(i(Zr(Zr(Zr({},e),t),b)),j<1)c=requestAnimationFrame(f);else{var P=Dp(function(C,_){return hj.apply(void 0,kR(_).concat([n(1)]))},o);i(Zr(Zr(Zr({},e),t),P))}};return f=n.isStepper?x:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}var zDe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function VDe(e,t){if(e==null)return{};var n=UDe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function UDe(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function US(e){return GDe(e)||HDe(e)||WDe(e)||qDe()}function qDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WDe(e,t){if(e){if(typeof e=="string")return UP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UP(e,t)}}function HDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GDe(e){if(Array.isArray(e))return UP(e)}function UP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function OR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(n),!0).forEach(function(s){pp(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function pp(e,t,n){return t=Z7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YDe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Z7(s.key),s)}}function QDe(e,t,n){return t&&YDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z7(e){var t=XDe(e,"string");return xf(t)==="symbol"?t:String(t)}function XDe(e,t){if(xf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(xf(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qP(e,t)}function qP(e,t){return qP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},qP(e,t)}function ZDe(e){var t=eMe();return function(){var s=fj(e),i;if(t){var a=fj(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return WP(this,i)}}function WP(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HP(e)}function HP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fj(e){return fj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fj(e)}var Da=function(e){JDe(n,e);var t=ZDe(n);function n(s,i){var a;KDe(this,n),a=t.call(this,s,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,g=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(HP(a)),a.changeStyle=a.changeStyle.bind(HP(a)),!l||g<=0)return a.state={style:{}},typeof m=="function"&&(a.state={style:d}),WP(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof m=="function")return a.state={style:u},WP(a);a.state={style:c?pp({},c,u):u}}else a.state={style:{}};return a}return QDe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,m=this.state.style;if(l){if(!o){var g={style:c?pp({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(g);return}if(!(aDe(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||u?f:i.to;if(this.state&&m){var y={style:c?pp({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(y)}this.runAnimation(da(da({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,m=i.onAnimationStart,g=BDe(o,l,EDe(u),c,this.changeStyle),x=function(){a.stopJSAnimation=g()};this.manager.start([m,d,x,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,g=function(v,y,N){if(N===0)return v;var j=y.duration,b=y.easing,P=b===void 0?"ease":b,C=y.style,_=y.properties,A=y.onAnimationEnd,E=N>0?o[N-1]:y,D=_||Object.keys(C);if(typeof P=="function"||P==="spring")return[].concat(US(v),[a.runJSAnimation.bind(a,{from:E.style,to:C,duration:j,easing:P}),j]);var I=_R(D,j,P),O=da(da(da({},E.style),C),{},{transition:I});return[].concat(US(v),[O,j,A]).filter(vDe)};return this.manager.start([c].concat(US(o.reduce(g,[d,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=fDe());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,m=i.steps,g=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var v=l?pp({},l,c):c,y=_R(Object.keys(v),o,u);x.start([d,a,da(da({},v),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=VDe(i,zDe),u=w.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(g){var x=g.props,v=x.style,y=v===void 0?{}:v,N=x.className,j=w.cloneElement(g,da(da({},c),{},{style:da(da({},y),d),className:N}));return j};return u===1?f(w.Children.only(a)):H.createElement("div",null,w.Children.map(a,function(m){return f(m)}))}}]),n}(w.PureComponent);Da.displayName="Animate";Da.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Da.propTypes={from:fn.oneOfType([fn.object,fn.string]),to:fn.oneOfType([fn.object,fn.string]),attributeName:fn.string,duration:fn.number,begin:fn.number,easing:fn.oneOfType([fn.string,fn.func]),steps:fn.arrayOf(fn.shape({duration:fn.number.isRequired,style:fn.object.isRequired,easing:fn.oneOfType([fn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),fn.func]),properties:fn.arrayOf("string"),onAnimationEnd:fn.func})),children:fn.oneOfType([fn.node,fn.func]),isActive:fn.bool,canBegin:fn.bool,onAnimationEnd:fn.func,shouldReAnimate:fn.bool,onAnimationStart:fn.func,onAnimationReStart:fn.func};function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function mj(){return mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mj.apply(this,arguments)}function tMe(e,t){return iMe(e)||sMe(e,t)||rMe(e,t)||nMe()}function nMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rMe(e,t){if(e){if(typeof e=="string")return DR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DR(e,t)}}function DR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function sMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function iMe(e){if(Array.isArray(e))return e}function MR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function IR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(n),!0).forEach(function(s){aMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function aMe(e,t,n){return t=oMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oMe(e){var t=lMe(e,"string");return $g(t)=="symbol"?t:t+""}function lMe(e,t){if($g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if($g(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $R=function(t,n,s,i,a){var o=Math.min(Math.abs(s)/2,Math.abs(i)/2),l=i>=0?1:-1,c=s>=0?1:-1,u=i>=0&&s>=0||i<0&&s<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],m=0,g=4;m<g;m++)f[m]=a[m]>o?o:a[m];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+s-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+s,",").concat(n+l*f[1])),d+="L ".concat(t+s,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+s-c*f[2],",").concat(n+i)),d+="L ".concat(t+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);d="M ".concat(t,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(n,`
            L `).concat(t+s-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s,",").concat(n+l*x,`
            L `).concat(t+s,",").concat(n+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s-c*x,",").concat(n+i,`
            L `).concat(t+c*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(n+i-l*x," Z")}else d="M ".concat(t,",").concat(n," h ").concat(s," v ").concat(i," h ").concat(-s," Z");return d},cMe=function(t,n){if(!t||!n)return!1;var s=t.x,i=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return s>=u&&s<=d&&i>=f&&i<=m}return!1},uMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ck=function(t){var n=IR(IR({},uMe),t),s=w.useRef(),i=w.useState(-1),a=tMe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var P=s.current.getTotalLength();P&&l(P)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,m=n.radius,g=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isAnimationActive,j=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Et("recharts-rectangle",g);return j?H.createElement(Da,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:v,animationEasing:x,isActive:j},function(P){var C=P.width,_=P.height,A=P.x,E=P.y;return H.createElement(Da,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:N,easing:x},H.createElement("path",mj({},ct(n,!0),{className:b,d:$R(A,E,C,_,m),ref:s})))}):H.createElement("path",mj({},ct(n,!0),{className:b,d:$R(c,u,d,f,m)}))},dMe=["points","className","baseLinePoints","connectNulls"];function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ph.apply(this,arguments)}function hMe(e,t){if(e==null)return{};var n=fMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function fMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function RR(e){return vMe(e)||gMe(e)||pMe(e)||mMe()}function mMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pMe(e,t){if(e){if(typeof e=="string")return GP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GP(e,t)}}function gMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vMe(e){if(Array.isArray(e))return GP(e)}function GP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var LR=function(t){return t&&t.x===+t.x&&t.y===+t.y},xMe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(s){LR(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),LR(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Mp=function(t,n){var s=xMe(t);n&&(s=[s.reduce(function(a,o){return[].concat(RR(a),RR(o))},[])]);var i=s.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(i,"Z"):i},yMe=function(t,n,s){var i=Mp(t,s);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Mp(n.reverse(),s).slice(1))},jMe=function(t){var n=t.points,s=t.className,i=t.baseLinePoints,a=t.connectNulls,o=hMe(t,dMe);if(!n||!n.length)return null;var l=Et("recharts-polygon",s);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=yMe(n,i,a);return H.createElement("g",{className:l},H.createElement("path",ph({},ct(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?H.createElement("path",ph({},ct(o,!0),{fill:"none",d:Mp(n,a)})):null,c?H.createElement("path",ph({},ct(o,!0),{fill:"none",d:Mp(i,a)})):null)}var d=Mp(n,a);return H.createElement("path",ph({},ct(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function KP(){return KP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},KP.apply(this,arguments)}var Pv=function(t){var n=t.cx,s=t.cy,i=t.r,a=t.className,o=Et("recharts-dot",a);return n===+n&&s===+s&&i===+i?w.createElement("circle",KP({},ct(t,!1),M0(t),{className:o,cx:n,cy:s,r:i})):null};function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}var bMe=["x","y","top","left","width","height","className"];function YP(){return YP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},YP.apply(this,arguments)}function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function wMe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(s){NMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function NMe(e,t,n){return t=SMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SMe(e){var t=CMe(e,"string");return Rg(t)=="symbol"?t:t+""}function CMe(e,t){if(Rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Rg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PMe(e,t){if(e==null)return{};var n=_Me(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function _Me(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var AMe=function(t,n,s,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(s)},EMe=function(t){var n=t.x,s=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,g=m===void 0?0:m,x=t.className,v=PMe(t,bMe),y=wMe({x:s,y:a,top:l,left:u,width:f,height:g},v);return!Ve(s)||!Ve(a)||!Ve(f)||!Ve(g)||!Ve(l)||!Ve(u)?null:H.createElement("path",YP({},ct(y,!0),{className:Et("recharts-cross",x),d:AMe(s,a,f,g,l,u)}))},kMe=jw,TMe=d7,OMe=jo;function DMe(e,t){return e&&e.length?kMe(e,OMe(t),TMe):void 0}var MMe=DMe;const IMe=pn(MMe);var $Me=jw,RMe=jo,LMe=h7;function FMe(e,t){return e&&e.length?$Me(e,RMe(t),LMe):void 0}var BMe=FMe;const zMe=pn(BMe);var VMe=["cx","cy","angle","ticks","axisLine"],UMe=["ticks","tick","angle","tickFormatter","stroke"];function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ip.apply(this,arguments)}function BR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(n),!0).forEach(function(s){Sw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function zR(e,t){if(e==null)return{};var n=qMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function qMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function WMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,tW(s.key),s)}}function HMe(e,t,n){return t&&VR(e.prototype,t),n&&VR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function GMe(e,t,n){return t=pj(t),KMe(e,eW()?Reflect.construct(t,n||[],pj(e).constructor):t.apply(e,n))}function KMe(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YMe(e)}function YMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eW=function(){return!!e})()}function pj(e){return pj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pj(e)}function QMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QP(e,t)}function QP(e,t){return QP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},QP(e,t)}function Sw(e,t,n){return t=tW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tW(e){var t=XMe(e,"string");return yf(t)=="symbol"?t:t+""}function XMe(e,t){if(yf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(yf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cw=function(e){function t(){return WMe(this,t),GMe(this,t,arguments)}return QMe(t,e),HMe(t,[{key:"getTickValueCoord",value:function(s){var i=s.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Mn(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,i;switch(s){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.angle,l=s.ticks,c=IMe(l,function(d){return d.coordinate||0}),u=zMe(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,u=zR(s,VMe),d=l.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),f=Mn(i,a,d[0],o),m=Mn(i,a,d[1],o),g=tu(tu(tu({},ct(u,!1)),{},{fill:"none"},ct(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return H.createElement("line",Ip({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var s=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=zR(i,UMe),f=this.getTickTextAnchor(),m=ct(d,!1),g=ct(o,!1),x=a.map(function(v,y){var N=s.getTickValueCoord(v),j=tu(tu(tu(tu({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},m),{},{stroke:"none",fill:u},g),{},{index:y},N),{},{payload:v});return H.createElement(Qt,Ip({className:Et("recharts-polar-radius-axis-tick",B7(o)),key:"tick-".concat(v.coordinate)},Xu(s.props,v,y)),t.renderTickItem(o,j,c?c(v.value,y):v.value))});return H.createElement(Qt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,i=s.ticks,a=s.axisLine,o=s.tick;return!i||!i.length?null:H.createElement(Qt,{className:Et("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Ur.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,i,a){var o;return H.isValidElement(s)?o=H.cloneElement(s,i):jt(s)?o=s(i):o=H.createElement(Ju,Ip({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(w.PureComponent);Sw(Cw,"displayName","PolarRadiusAxis");Sw(Cw,"axisType","radiusAxis");Sw(Cw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},du.apply(this,arguments)}function UR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(n),!0).forEach(function(s){Pw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function JMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,rW(s.key),s)}}function ZMe(e,t,n){return t&&qR(e.prototype,t),n&&qR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function eIe(e,t,n){return t=gj(t),tIe(e,nW()?Reflect.construct(t,n||[],gj(e).constructor):t.apply(e,n))}function tIe(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nIe(e)}function nIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nW=function(){return!!e})()}function gj(e){return gj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gj(e)}function rIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XP(e,t)}function XP(e,t){return XP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},XP(e,t)}function Pw(e,t,n){return t=rW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rW(e){var t=sIe(e,"string");return jf(t)=="symbol"?t:t+""}function sIe(e,t){if(jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(jf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iIe=Math.PI/180,WR=1e-5,_w=function(e){function t(){return JMe(this,t),eIe(this,t,arguments)}return rIe(t,e),ZMe(t,[{key:"getTickLineCoord",value:function(s){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=Mn(a,o,l,s.coordinate),m=Mn(a,o,l+(c==="inner"?-1:1)*d,s.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(s){var i=this.props.orientation,a=Math.cos(-s.coordinate*iIe),o;return a>WR?o=i==="outer"?"start":"end":a<-WR?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,u=nu(nu({},ct(this.props,!1)),{},{fill:"none"},ct(l,!1));if(c==="circle")return H.createElement(Pv,du({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(m){return Mn(i,a,o,m.coordinate)});return H.createElement(jMe,du({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var s=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=ct(this.props,!1),f=ct(o,!1),m=nu(nu({},d),{},{fill:"none"},ct(l,!1)),g=a.map(function(x,v){var y=s.getTickLineCoord(x),N=s.getTickTextAnchor(x),j=nu(nu(nu({textAnchor:N},d),{},{stroke:"none",fill:u},f),{},{index:v,payload:x,x:y.x2,y:y.y2});return H.createElement(Qt,du({className:Et("recharts-polar-angle-axis-tick",B7(o)),key:"tick-".concat(x.coordinate)},Xu(s.props,x,v)),l&&H.createElement("line",du({className:"recharts-polar-angle-axis-tick-line"},m,y)),o&&t.renderTickItem(o,j,c?c(x.value,v):x.value))});return H.createElement(Qt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var s=this.props,i=s.ticks,a=s.radius,o=s.axisLine;return a<=0||!i||!i.length?null:H.createElement(Qt,{className:Et("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,i,a){var o;return H.isValidElement(s)?o=H.cloneElement(s,i):jt(s)?o=s(i):o=H.createElement(Ju,du({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(w.PureComponent);Pw(_w,"displayName","PolarAngleAxis");Pw(_w,"axisType","angleAxis");Pw(_w,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var aIe=oq,oIe=aIe(Object.getPrototypeOf,Object),lIe=oIe,cIe=pl,uIe=lIe,dIe=gl,hIe="[object Object]",fIe=Function.prototype,mIe=Object.prototype,sW=fIe.toString,pIe=mIe.hasOwnProperty,gIe=sW.call(Object);function vIe(e){if(!dIe(e)||cIe(e)!=hIe)return!1;var t=uIe(e);if(t===null)return!0;var n=pIe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&sW.call(n)==gIe}var xIe=vIe;const yIe=pn(xIe);var jIe=pl,bIe=gl,wIe="[object Boolean]";function NIe(e){return e===!0||e===!1||bIe(e)&&jIe(e)==wIe}var SIe=NIe;const CIe=pn(SIe);function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function vj(){return vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vj.apply(this,arguments)}function PIe(e,t){return kIe(e)||EIe(e,t)||AIe(e,t)||_Ie()}function _Ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AIe(e,t){if(e){if(typeof e=="string")return HR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HR(e,t)}}function HR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function EIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function kIe(e){if(Array.isArray(e))return e}function GR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function KR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(n),!0).forEach(function(s){TIe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function TIe(e,t,n){return t=OIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OIe(e){var t=DIe(e,"string");return Lg(t)=="symbol"?t:t+""}function DIe(e,t){if(Lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Lg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YR=function(t,n,s,i,a){var o=s-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+s,",").concat(n),l+="L ".concat(t+s-o/2,",").concat(n+a),l+="L ".concat(t+s-o/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},MIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IIe=function(t){var n=KR(KR({},MIe),t),s=w.useRef(),i=w.useState(-1),a=PIe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var b=s.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,m=n.height,g=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var j=Et("recharts-trapezoid",g);return N?H.createElement(Da,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:v,animationEasing:x,isActive:N},function(b){var P=b.upperWidth,C=b.lowerWidth,_=b.height,A=b.x,E=b.y;return H.createElement(Da,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:x},H.createElement("path",vj({},ct(n,!0),{className:j,d:YR(A,E,P,C,_),ref:s})))}):H.createElement("g",null,H.createElement("path",vj({},ct(n,!0),{className:j,d:YR(c,u,d,f,m)})))},$Ie=["option","shapeType","propTransformer","activeClassName","isActive"];function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function RIe(e,t){if(e==null)return{};var n=LIe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function LIe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function QR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function xj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(n),!0).forEach(function(s){FIe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function FIe(e,t,n){return t=BIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BIe(e){var t=zIe(e,"string");return Fg(t)=="symbol"?t:t+""}function zIe(e,t){if(Fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Fg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VIe(e,t){return xj(xj({},t),e)}function UIe(e,t){return e==="symbols"}function XR(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return H.createElement(Ck,n);case"trapezoid":return H.createElement(IIe,n);case"sector":return H.createElement(U7,n);case"symbols":if(UIe(t))return H.createElement(qE,n);break;default:return null}}function qIe(e){return w.isValidElement(e)?e.props:e}function iW(e){var t=e.option,n=e.shapeType,s=e.propTransformer,i=s===void 0?VIe:s,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=RIe(e,$Ie),u;if(w.isValidElement(t))u=w.cloneElement(t,xj(xj({},c),qIe(t)));else if(jt(t))u=t(c);else if(yIe(t)&&!CIe(t)){var d=i(t,c);u=H.createElement(XR,{shapeType:n,elementProps:d})}else{var f=c;u=H.createElement(XR,{shapeType:n,elementProps:f})}return l?H.createElement(Qt,{className:o},u):u}function Aw(e,t){return t!=null&&"trapezoids"in e.props}function Ew(e,t){return t!=null&&"sectors"in e.props}function Bg(e,t){return t!=null&&"points"in e.props}function WIe(e,t){var n,s,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return i&&a}function HIe(e,t){var n=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return n&&s}function GIe(e,t){var n=e.x===t.x,s=e.y===t.y,i=e.z===t.z;return n&&s&&i}function KIe(e,t){var n;return Aw(e,t)?n=WIe:Ew(e,t)?n=HIe:Bg(e,t)&&(n=GIe),n}function YIe(e,t){var n;return Aw(e,t)?n="trapezoids":Ew(e,t)?n="sectors":Bg(e,t)&&(n="points"),n}function QIe(e,t){if(Aw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ew(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return Bg(e,t)?t.payload:{}}function XIe(e){var t=e.activeTooltipItem,n=e.graphicalItem,s=e.itemData,i=YIe(n,t),a=QIe(n,t),o=s.filter(function(c,u){var d=Zu(a,c),f=n.props[i].filter(function(x){var v=KIe(n,t);return v(x,t)}),m=n.props[i].indexOf(f[f.length-1]),g=u===m;return d&&g}),l=s.indexOf(o[o.length-1]);return l}var Vy;function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gh.apply(this,arguments)}function JR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(n),!0).forEach(function(s){Vi(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function JIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,oW(s.key),s)}}function ZIe(e,t,n){return t&&ZR(e.prototype,t),n&&ZR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function e4e(e,t,n){return t=yj(t),t4e(e,aW()?Reflect.construct(t,n||[],yj(e).constructor):t.apply(e,n))}function t4e(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n4e(e)}function n4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aW=function(){return!!e})()}function yj(e){return yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yj(e)}function r4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JP(e,t)}function JP(e,t){return JP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},JP(e,t)}function Vi(e,t,n){return t=oW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oW(e){var t=s4e(e,"string");return bf(t)=="symbol"?t:t+""}function s4e(e,t){if(bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(bf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ba=function(e){function t(n){var s;return JIe(this,t),s=e4e(this,t,[n]),Vi(s,"pieRef",null),Vi(s,"sectorRefs",[]),Vi(s,"id",pd("recharts-pie-")),Vi(s,"handleAnimationEnd",function(){var i=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),jt(i)&&i()}),Vi(s,"handleAnimationStart",function(){var i=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),jt(i)&&i()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return r4e(t,e),ZIe(t,[{key:"isActiveIndex",value:function(s){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(s)!==-1:s===i}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=ct(this.props,!1),f=ct(o,!1),m=ct(l,!1),g=o&&o.offsetRadius||20,x=s.map(function(v,y){var N=(v.startAngle+v.endAngle)/2,j=Mn(v.cx,v.cy,v.outerRadius+g,N),b=Tn(Tn(Tn(Tn({},d),v),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(j.x,v.cx)},j),P=Tn(Tn(Tn(Tn({},d),v),{},{fill:"none",stroke:v.fill},m),{},{index:y,points:[Mn(v.cx,v.cy,v.outerRadius,N),j]}),C=c;return At(c)&&At(u)?C="value":At(c)&&(C=u),H.createElement(Qt,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,P,"line"),t.renderLabelItem(o,b,gr(v,C)))});return H.createElement(Qt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return s.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&s.length!==1)return null;var f=i.isActiveIndex(d),m=c&&i.hasActiveIndex()?c:null,g=f?o:m,x=Tn(Tn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return H.createElement(Qt,gh({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Xu(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),H.createElement(iW,gh({option:g,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,m=f.prevSectors,g=f.prevIsAnimationActive;return H.createElement(Da,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,y=[],N=a&&a[0],j=N.startAngle;return a.forEach(function(b,P){var C=m&&m[P],_=P>0?bi(b,"paddingAngle",0):0;if(C){var A=Tr(C.endAngle-C.startAngle,b.endAngle-b.startAngle),E=Tn(Tn({},b),{},{startAngle:j+_,endAngle:j+A(v)+_});y.push(E),j=E.endAngle}else{var D=b.endAngle,I=b.startAngle,O=Tr(0,D-I),k=O(v),F=Tn(Tn({},b),{},{startAngle:j+_,endAngle:j+k+_});y.push(F),j=F.endAngle}}),H.createElement(Qt,null,s.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(s){var i=this;s.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,i=s.sectors,a=s.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Zu(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,m=i.outerRadius,g=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!Ve(u)||!Ve(d)||!Ve(f)||!Ve(m))return null;var v=Et("recharts-pie",l);return H.createElement(Qt,{tabIndex:this.props.rootTabIndex,className:v,ref:function(N){s.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Ur.renderCallByParent(this.props,null,!1),(!g||x)&&ho.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return i.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:s.sectors!==i.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,i){return s>i?"start":s<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,i,a){if(H.isValidElement(s))return H.cloneElement(s,i);if(jt(s))return s(i);var o=Et("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return H.createElement(Iu,gh({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,i,a){if(H.isValidElement(s))return H.cloneElement(s,i);var o=a;if(jt(s)&&(o=s(i),H.isValidElement(o)))return o;var l=Et("recharts-pie-label-text",typeof s!="boolean"&&!jt(s)?s.className:"");return H.createElement(Ju,gh({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(w.PureComponent);Vy=Ba;Vi(Ba,"displayName","Pie");Vi(Ba,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Aa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Vi(Ba,"parseDeltaAngle",function(e,t){var n=Es(t-e),s=Math.min(Math.abs(t-e),360);return n*s});Vi(Ba,"getRealPieData",function(e){var t=e.data,n=e.children,s=ct(e,!1),i=wi(n,om);return t&&t.length?t.map(function(a,o){return Tn(Tn(Tn({payload:a},s),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Tn(Tn({},s),a.props)}):[]});Vi(Ba,"parseCoordinateOfPie",function(e,t){var n=t.top,s=t.left,i=t.width,a=t.height,o=F7(i,a),l=s+ks(e.cx,i,i/2),c=n+ks(e.cy,a,a/2),u=ks(e.innerRadius,o,0),d=ks(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Vi(Ba,"getComposedData",function(e){var t=e.item,n=e.offset,s=t.type.defaultProps!==void 0?Tn(Tn({},t.type.defaultProps),t.props):t.props,i=Vy.getRealPieData(s);if(!i||!i.length)return null;var a=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,u=s.dataKey,d=s.nameKey,f=s.valueKey,m=s.tooltipType,g=Math.abs(s.minAngle),x=Vy.parseCoordinateOfPie(s,n),v=Vy.parseDeltaAngle(o,l),y=Math.abs(v),N=u;At(u)&&At(f)?(_a(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):At(u)&&(_a(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=f);var j=i.filter(function(E){return gr(E,N,0)!==0}).length,b=(y>=360?j:j-1)*c,P=y-j*g-b,C=i.reduce(function(E,D){var I=gr(D,N,0);return E+(Ve(I)?I:0)},0),_;if(C>0){var A;_=i.map(function(E,D){var I=gr(E,N,0),O=gr(E,d,D),k=(Ve(I)?I:0)/C,F;D?F=A.endAngle+Es(v)*c*(I!==0?1:0):F=o;var L=F+Es(v)*((I!==0?g:0)+k*P),Y=(F+L)/2,q=(x.innerRadius+x.outerRadius)/2,ie=[{name:O,value:I,payload:E,dataKey:N,type:m}],$=Mn(x.cx,x.cy,q,Y);return A=Tn(Tn(Tn({percent:k,cornerRadius:a,name:O,tooltipPayload:ie,midAngle:Y,middleRadius:q,tooltipPosition:$},E),x),{},{value:gr(E,N),startAngle:F,endAngle:L,payload:E,paddingAngle:Es(v)*c}),A})}return Tn(Tn({},x),{},{sectors:_,data:i})});var i4e=Math.ceil,a4e=Math.max;function o4e(e,t,n,s){for(var i=-1,a=a4e(i4e((t-e)/(n||1)),0),o=Array(a);a--;)o[s?a:++i]=e,e+=n;return o}var l4e=o4e,c4e=Pq,e3=1/0,u4e=17976931348623157e292;function d4e(e){if(!e)return e===0?e:0;if(e=c4e(e),e===e3||e===-e3){var t=e<0?-1:1;return t*u4e}return e===e?e:0}var lW=d4e,h4e=l4e,f4e=fw,qS=lW;function m4e(e){return function(t,n,s){return s&&typeof s!="number"&&f4e(t,n,s)&&(n=s=void 0),t=qS(t),n===void 0?(n=t,t=0):n=qS(n),s=s===void 0?t<n?1:-1:qS(s),h4e(t,n,s,e)}}var p4e=m4e,g4e=p4e,v4e=g4e(),x4e=v4e;const jj=pn(x4e);function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function t3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function n3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(n),!0).forEach(function(s){cW(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function cW(e,t,n){return t=y4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y4e(e){var t=j4e(e,"string");return zg(t)=="symbol"?t:t+""}function j4e(e,t){if(zg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(zg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b4e=["Webkit","Moz","O","ms"],w4e=function(t,n){var s=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=b4e.reduce(function(a,o){return n3(n3({},a),{},cW({},o+s,n))},{});return i[t]=n,i};function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function bj(){return bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bj.apply(this,arguments)}function r3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function WS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(n),!0).forEach(function(s){di(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function N4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,dW(s.key),s)}}function S4e(e,t,n){return t&&s3(e.prototype,t),n&&s3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C4e(e,t,n){return t=wj(t),P4e(e,uW()?Reflect.construct(t,n||[],wj(e).constructor):t.apply(e,n))}function P4e(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _4e(e)}function _4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uW=function(){return!!e})()}function wj(e){return wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wj(e)}function A4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZP(e,t)}function ZP(e,t){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},ZP(e,t)}function di(e,t,n){return t=dW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dW(e){var t=E4e(e,"string");return wf(t)=="symbol"?t:t+""}function E4e(e,t){if(wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(wf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k4e=function(t){var n=t.data,s=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Tp().domain(jj(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(s),endX:u(i),scale:u,scaleValues:d}},i3=function(t){return t.changedTouches&&!!t.changedTouches.length},Nf=function(e){function t(n){var s;return N4e(this,t),s=C4e(this,t,[n]),di(s,"handleDrag",function(i){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(i):s.state.isSlideMoving&&s.handleSlideDrag(i)}),di(s,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&s.handleDrag(i.changedTouches[0])}),di(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=s.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),s.detachDragEndListener()}),di(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),di(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),di(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),di(s,"handleSlideDragStart",function(i){var a=i3(i)?i.changedTouches[0]:i;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return A4e(t,e),S4e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var i=s.startX,a=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),m=Math.max(i,a),g=t.getIndexInRange(o,f),x=t.getIndexInRange(o,m);return{startIndex:g-g%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(s){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=gr(a[s],l,s);return jt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,g=c.endIndex,x=c.onChange,v=s.pageX-a;v>0?v=Math.min(v,u+d-f-l,u+d-f-o):v<0&&(v=Math.max(v,u-o,u-l));var y=this.getIndex({startX:o+v,endX:l+v});(y.startIndex!==m||y.endIndex!==g)&&x&&x(y),this.setState({startX:o+v,endX:l+v,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,i){var a=i3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,g=d.travellerWidth,x=d.onChange,v=d.gap,y=d.data,N={startX:this.state.startX,endX:this.state.endX},j=s.pageX-a;j>0?j=Math.min(j,f+m-g-u):j<0&&(j=Math.max(j,f-u)),N[o]=u+j;var b=this.getIndex(N),P=b.startIndex,C=b.endIndex,_=function(){var E=y.length-1;return o==="startX"&&(l>c?P%v===0:C%v===0)||l<c&&C===E||o==="endX"&&(l>c?C%v===0:P%v===0)||l>c&&C===E};this.setState(di(di({},o,u+j),"brushMoveStartX",s.pageX),function(){x&&_()&&x(b)})}},{key:"handleTravellerMoveKeyboard",value:function(s,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var m=f+s;if(!(m===-1||m>=l.length)){var g=l[m];i==="startX"&&g>=u||i==="endX"&&g<=c||this.setState(di({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.fill,u=s.stroke;return H.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.data,u=s.children,d=s.padding,f=w.Children.only(u);return f?H.cloneElement(f,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,g=c.ariaLabel,x=c.data,v=c.startIndex,y=c.endIndex,N=Math.max(s,this.props.x),j=WS(WS({},ct(this.props,!1)),{},{x:N,y:u,width:d,height:f}),b=g||"Min value: ".concat((a=x[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return H.createElement(Qt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,j))}},{key:"renderSlide",value:function(s,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(s,i)+u,f=Math.max(Math.abs(i-s)-u,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var s=this.props,i=s.startIndex,a=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,u=s.stroke,d=this.state,f=d.startX,m=d.endX,g=5,x={pointerEvents:"none",fill:u};return H.createElement(Qt,{className:"recharts-brush-texts"},H.createElement(Ju,bj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-g,y:o+l/2},x),this.getTextOfTick(i)),H.createElement(Ju,bj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+g,y:o+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var s=this.props,i=s.data,a=s.className,o=s.children,l=s.x,c=s.y,u=s.width,d=s.height,f=s.alwaysShowText,m=this.state,g=m.startX,x=m.endX,v=m.isTextActive,y=m.isSlideMoving,N=m.isTravellerMoving,j=m.isTravellerFocused;if(!i||!i.length||!Ve(l)||!Ve(c)||!Ve(u)||!Ve(d)||u<=0||d<=0)return null;var b=Et("recharts-brush",a),P=H.Children.count(o)===1,C=w4e("userSelect","none");return H.createElement(Qt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(v||y||N||j||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var i=s.x,a=s.y,o=s.width,l=s.height,c=s.stroke,u=Math.floor(a+l/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),H.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,i){var a;return H.isValidElement(s)?a=H.cloneElement(s,i):jt(s)?a=s(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(s,i){var a=s.data,o=s.width,l=s.x,c=s.travellerWidth,u=s.updateId,d=s.startIndex,f=s.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return WS({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?k4e({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var m=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(s.startIndex),endX:i.scale(s.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(s,i){for(var a=s.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>i?l=c:o=c}return i>=s[l]?l:o}}])}(w.PureComponent);di(Nf,"displayName","Brush");di(Nf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var T4e=XE;function O4e(e,t){var n;return T4e(e,function(s,i,a){return n=t(s,i,a),!n}),!!n}var D4e=O4e,M4e=ZU,I4e=jo,$4e=D4e,R4e=ni,L4e=fw;function F4e(e,t,n){var s=R4e(e)?M4e:$4e;return n&&L4e(e,t,n)&&(t=void 0),s(e,I4e(t))}var B4e=F4e;const z4e=pn(B4e);var fo=function(t,n){var s=t.alwaysShow,i=t.ifOverflow;return s&&(i="extendDomain"),i===n},a3=bq;function V4e(e,t,n){t=="__proto__"&&a3?a3(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var U4e=V4e,q4e=U4e,W4e=yq,H4e=jo;function G4e(e,t){var n={};return t=H4e(t),W4e(e,function(s,i,a){q4e(n,i,t(s,i,a))}),n}var K4e=G4e;const Y4e=pn(K4e);function Q4e(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!t(e[n],n,e))return!1;return!0}var X4e=Q4e,J4e=XE;function Z4e(e,t){var n=!0;return J4e(e,function(s,i,a){return n=!!t(s,i,a),n}),n}var e$e=Z4e,t$e=X4e,n$e=e$e,r$e=jo,s$e=ni,i$e=fw;function a$e(e,t,n){var s=s$e(e)?t$e:n$e;return n&&i$e(e,t,n)&&(t=void 0),s(e,r$e(t))}var o$e=a$e;const hW=pn(o$e);var l$e=["x","y"];function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},e_.apply(this,arguments)}function o3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function sp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(n),!0).forEach(function(s){c$e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function c$e(e,t,n){return t=u$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u$e(e){var t=d$e(e,"string");return Vg(t)=="symbol"?t:t+""}function d$e(e,t){if(Vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h$e(e,t){if(e==null)return{};var n=f$e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function f$e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function m$e(e,t){var n=e.x,s=e.y,i=h$e(e,l$e),a="".concat(n),o=parseInt(a,10),l="".concat(s),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),m=parseInt(f,10);return sp(sp(sp(sp(sp({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function l3(e){return H.createElement(iW,e_({shapeType:"rectangle",propTransformer:m$e,activeClassName:"recharts-active-bar"},e))}var p$e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,i){if(typeof t=="number")return t;var a=Ve(s)||zxe(s);return a?t(s,i):(a||td(),n)}},g$e=["value","background"],fW;function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function v$e(e,t){if(e==null)return{};var n=x$e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function x$e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nj.apply(this,arguments)}function c3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(n),!0).forEach(function(s){ac(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function y$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,pW(s.key),s)}}function j$e(e,t,n){return t&&u3(e.prototype,t),n&&u3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b$e(e,t,n){return t=Sj(t),w$e(e,mW()?Reflect.construct(t,n||[],Sj(e).constructor):t.apply(e,n))}function w$e(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N$e(e)}function N$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mW=function(){return!!e})()}function Sj(e){return Sj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sj(e)}function S$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t_(e,t)}function t_(e,t){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},t_(e,t)}function ac(e,t,n){return t=pW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pW(e){var t=C$e(e,"string");return Sf(t)=="symbol"?t:t+""}function C$e(e,t){if(Sf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Sf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var so=function(e){function t(){var n;y$e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=b$e(this,t,[].concat(i)),ac(n,"state",{isAnimationFinished:!1}),ac(n,"id",pd("recharts-bar-")),ac(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ac(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return S$e(t,e),j$e(t,[{key:"renderRectanglesStatically",value:function(s){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=ct(this.props,!1);return s&&s.map(function(f,m){var g=m===c,x=g?u:o,v=yr(yr(yr({},d),f),{},{isActive:g,option:x,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(Qt,Nj({className:"recharts-bar-rectangle"},Xu(i.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(m)}),H.createElement(l3,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevData;return H.createElement(Da,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,v=a.map(function(y,N){var j=m&&m[N];if(j){var b=Tr(j.x,y.x),P=Tr(j.y,y.y),C=Tr(j.width,y.width),_=Tr(j.height,y.height);return yr(yr({},y),{},{x:b(x),y:P(x),width:C(x),height:_(x)})}if(o==="horizontal"){var A=Tr(0,y.height),E=A(x);return yr(yr({},y),{},{y:y.y+y.height-E,height:E})}var D=Tr(0,y.width),I=D(x);return yr(yr({},y),{},{width:I})});return H.createElement(Qt,null,s.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var s=this.props,i=s.data,a=s.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Zu(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var s=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=ct(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,m=v$e(u,g$e);if(!f)return null;var g=yr(yr(yr(yr(yr({},m),{},{fill:"#eee"},f),c),Xu(s.props,u,d)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return H.createElement(l3,Nj({key:"background-bar-".concat(d),option:s.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=wi(d,Cv);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,g=function(y,N){var j=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:j,errorVal:gr(y,N)}},x={clipPath:s?"url(#clipPath-".concat(i,")"):null};return H.createElement(Qt,x,f.map(function(v){return H.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var s=this.props,i=s.hide,a=s.data,o=s.className,l=s.xAxis,c=s.yAxis,u=s.left,d=s.top,f=s.width,m=s.height,g=s.isAnimationActive,x=s.background,v=s.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,N=Et("recharts-bar",o),j=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,P=j||b,C=At(v)?this.id:v;return H.createElement(Qt,{className:N},j||b?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(C)},H.createElement("rect",{x:j?u:u-f/2,y:b?d:d-m/2,width:j?f:f*2,height:b?m:m*2}))):null,H.createElement(Qt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(C,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,C),(!g||y)&&ho.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:i.curData}:s.data!==i.curData?{curData:s.data}:null}}])}(w.PureComponent);fW=so;ac(so,"displayName","Bar");ac(so,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Aa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ac(so,"getComposedData",function(e){var t=e.props,n=e.item,s=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,g=iTe(s,n);if(!g)return null;var x=t.layout,v=n.type.defaultProps,y=v!==void 0?yr(yr({},v),n.props):n.props,N=y.dataKey,j=y.children,b=y.minPointSize,P=x==="horizontal"?o:a,C=u?P.scale.domain():null,_=hTe({numericAxis:P}),A=wi(j,om),E=f.map(function(D,I){var O,k,F,L,Y,q;u?O=aTe(u[d+I],C):(O=gr(D,N),Array.isArray(O)||(O=[_,O]));var ie=p$e(b,fW.defaultProps.minPointSize)(O[1],I);if(x==="horizontal"){var $,z=[o.scale(O[0]),o.scale(O[1])],le=z[0],pe=z[1];k=Z$({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:D,index:I}),F=($=pe??le)!==null&&$!==void 0?$:void 0,L=g.size;var ee=le-pe;if(Y=Number.isNaN(ee)?0:ee,q={x:k,y:o.y,width:L,height:o.height},Math.abs(ie)>0&&Math.abs(Y)<Math.abs(ie)){var J=Es(Y||ie)*(Math.abs(ie)-Math.abs(Y));F-=J,Y+=J}}else{var B=[a.scale(O[0]),a.scale(O[1])],me=B[0],ve=B[1];if(k=me,F=Z$({axis:o,ticks:c,bandSize:i,offset:g.offset,entry:D,index:I}),L=ve-me,Y=g.size,q={x:a.x,y:F,width:a.width,height:Y},Math.abs(ie)>0&&Math.abs(L)<Math.abs(ie)){var re=Es(L||ie)*(Math.abs(ie)-Math.abs(L));L+=re}}return yr(yr(yr({},D),{},{x:k,y:F,width:L,height:Y,value:u?O:O[1],payload:D,background:q},A&&A[I]&&A[I].props),{},{tooltipPayload:[R7(n,D)],tooltipPosition:{x:k+L/2,y:F+Y/2}})});return yr({data:E,layout:x},m)});function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function P$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gW(s.key),s)}}function _$e(e,t,n){return t&&d3(e.prototype,t),n&&d3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(n),!0).forEach(function(s){kw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kw(e,t,n){return t=gW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=A$e(e,"string");return Ug(t)=="symbol"?t:t+""}function A$e(e,t){if(Ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ug(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pk=function(t,n,s,i,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},m=!!fi(u,so);return d.reduce(function(g,x){var v=n[x],y=v.orientation,N=v.domain,j=v.padding,b=j===void 0?{}:j,P=v.mirror,C=v.reversed,_="".concat(y).concat(P?"Mirror":""),A,E,D,I,O;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var k=N[1]-N[0],F=1/0,L=v.categoricalDomain.sort(qxe);if(L.forEach(function(B,me){me>0&&(F=Math.min((B||0)-(L[me-1]||0),F))}),Number.isFinite(F)){var Y=F/k,q=v.layout==="vertical"?s.height:s.width;if(v.padding==="gap"&&(A=Y*q/2),v.padding==="no-gap"){var ie=ks(t.barCategoryGap,Y*q),$=Y*q/2;A=$-ie-($-ie)/q*ie}}}i==="xAxis"?E=[s.left+(b.left||0)+(A||0),s.left+s.width-(b.right||0)-(A||0)]:i==="yAxis"?E=c==="horizontal"?[s.top+s.height-(b.bottom||0),s.top+(b.top||0)]:[s.top+(b.top||0)+(A||0),s.top+s.height-(b.bottom||0)-(A||0)]:E=v.range,C&&(E=[E[1],E[0]]);var z=D7(v,a,m),le=z.scale,pe=z.realScaleType;le.domain(N).range(E),M7(le);var ee=I7(le,ya(ya({},v),{},{realScaleType:pe}));i==="xAxis"?(O=y==="top"&&!P||y==="bottom"&&P,D=s.left,I=f[_]-O*v.height):i==="yAxis"&&(O=y==="left"&&!P||y==="right"&&P,D=f[_]-O*v.width,I=s.top);var J=ya(ya(ya({},v),ee),{},{realScaleType:pe,x:D,y:I,scale:le,width:i==="xAxis"?s.width:v.width,height:i==="yAxis"?s.height:v.height});return J.bandSize=lj(J,ee),!v.hide&&i==="xAxis"?f[_]+=(O?-1:1)*J.height:v.hide||(f[_]+=(O?-1:1)*J.width),ya(ya({},g),{},kw({},x,J))},{})},vW=function(t,n){var s=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(s,a),y:Math.min(i,o),width:Math.abs(a-s),height:Math.abs(o-i)}},E$e=function(t){var n=t.x1,s=t.y1,i=t.x2,a=t.y2;return vW({x:n,y:s},{x:i,y:a})},xW=function(){function e(t){P$e(this,e),this.scale=t}return _$e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,a=s.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),i=s[0],a=s[s.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();kw(xW,"EPS",1e-4);var _k=function(t){var n=Object.keys(t).reduce(function(s,i){return ya(ya({},s),{},kw({},i,xW.create(t[i])))},{});return ya(ya({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return Y4e(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return hW(i,function(a,o){return n[o].isInRange(a)})}})};function k$e(e){return(e%180+180)%180}var T$e=function(t){var n=t.width,s=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=k$e(i),o=a*Math.PI/180,l=Math.atan(s/n),c=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(c)},O$e=jo,D$e=jv,M$e=dw;function I$e(e){return function(t,n,s){var i=Object(t);if(!D$e(t)){var a=O$e(n);t=M$e(t),n=function(l){return a(i[l],l,i)}}var o=e(t,n,s);return o>-1?i[a?t[o]:o]:void 0}}var $$e=I$e,R$e=lW;function L$e(e){var t=R$e(e),n=t%1;return t===t?n?t-n:t:0}var F$e=L$e,B$e=fq,z$e=jo,V$e=F$e,U$e=Math.max;function q$e(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var i=n==null?0:V$e(n);return i<0&&(i=U$e(s+i,0)),B$e(e,z$e(t),i)}var W$e=q$e,H$e=$$e,G$e=W$e,K$e=H$e(G$e),Y$e=K$e;const Q$e=pn(Y$e);var X$e=Wve(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Ak=w.createContext(void 0),Ek=w.createContext(void 0),yW=w.createContext(void 0),jW=w.createContext({}),bW=w.createContext(void 0),wW=w.createContext(0),NW=w.createContext(0),f3=function(t){var n=t.state,s=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=X$e(a);return H.createElement(Ak.Provider,{value:s},H.createElement(Ek.Provider,{value:i},H.createElement(jW.Provider,{value:a},H.createElement(yW.Provider,{value:d},H.createElement(bW.Provider,{value:o},H.createElement(wW.Provider,{value:u},H.createElement(NW.Provider,{value:c},l)))))))},J$e=function(){return w.useContext(bW)},SW=function(t){var n=w.useContext(Ak);n==null&&td();var s=n[t];return s==null&&td(),s},Z$e=function(){var t=w.useContext(Ak);return Wl(t)},eRe=function(){var t=w.useContext(Ek),n=Q$e(t,function(s){return hW(s.domain,Number.isFinite)});return n||Wl(t)},CW=function(t){var n=w.useContext(Ek);n==null&&td();var s=n[t];return s==null&&td(),s},tRe=function(){var t=w.useContext(yW);return t},nRe=function(){return w.useContext(jW)},kk=function(){return w.useContext(NW)},Tk=function(){return w.useContext(wW)};function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function rRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_W(s.key),s)}}function iRe(e,t,n){return t&&sRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aRe(e,t,n){return t=Cj(t),oRe(e,PW()?Reflect.construct(t,n||[],Cj(e).constructor):t.apply(e,n))}function oRe(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lRe(e)}function lRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PW=function(){return!!e})()}function Cj(e){return Cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cj(e)}function cRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n_(e,t)}function n_(e,t){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},n_(e,t)}function m3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function p3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(n),!0).forEach(function(s){Ok(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ok(e,t,n){return t=_W(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _W(e){var t=uRe(e,"string");return Cf(t)=="symbol"?t:t+""}function uRe(e,t){if(Cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Cf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dRe(e,t){return pRe(e)||mRe(e,t)||fRe(e,t)||hRe()}function hRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fRe(e,t){if(e){if(typeof e=="string")return g3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g3(e,t)}}function g3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function mRe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function pRe(e){if(Array.isArray(e))return e}function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r_.apply(this,arguments)}var gRe=function(t,n){var s;return H.isValidElement(t)?s=H.cloneElement(t,n):jt(t)?s=t(n):s=H.createElement("line",r_({},n,{className:"recharts-reference-line-line"})),s},vRe=function(t,n,s,i,a,o,l,c,u){var d=a.x,f=a.y,m=a.width,g=a.height;if(s){var x=u.y,v=t.y.apply(x,{position:o});if(fo(u,"discard")&&!t.y.isInRange(v))return null;var y=[{x:d+m,y:v},{x:d,y:v}];return c==="left"?y.reverse():y}if(n){var N=u.x,j=t.x.apply(N,{position:o});if(fo(u,"discard")&&!t.x.isInRange(j))return null;var b=[{x:j,y:f+g},{x:j,y:f}];return l==="top"?b.reverse():b}if(i){var P=u.segment,C=P.map(function(_){return t.apply(_,{position:o})});return fo(u,"discard")&&z4e(C,function(_){return!t.isInRange(_)})?null:C}return null};function xRe(e){var t=e.x,n=e.y,s=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=J$e(),d=SW(i),f=CW(a),m=tRe();if(!u||!m)return null;_a(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=_k({x:d.scale,y:f.scale}),x=Dr(t),v=Dr(n),y=s&&s.length===2,N=vRe(g,x,v,y,m,e.position,d.orientation,f.orientation,e);if(!N)return null;var j=dRe(N,2),b=j[0],P=b.x,C=b.y,_=j[1],A=_.x,E=_.y,D=fo(e,"hidden")?"url(#".concat(u,")"):void 0,I=p3(p3({clipPath:D},ct(e,!0)),{},{x1:P,y1:C,x2:A,y2:E});return H.createElement(Qt,{className:Et("recharts-reference-line",l)},gRe(o,I),Ur.renderCallByParent(e,E$e({x1:P,y1:C,x2:A,y2:E})))}var Dk=function(e){function t(){return rRe(this,t),aRe(this,t,arguments)}return cRe(t,e),iRe(t,[{key:"render",value:function(){return H.createElement(xRe,this.props)}}])}(H.Component);Ok(Dk,"displayName","ReferenceLine");Ok(Dk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},s_.apply(this,arguments)}function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function v3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function x3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(n),!0).forEach(function(s){Tw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function yRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,EW(s.key),s)}}function bRe(e,t,n){return t&&jRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wRe(e,t,n){return t=Pj(t),NRe(e,AW()?Reflect.construct(t,n||[],Pj(e).constructor):t.apply(e,n))}function NRe(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SRe(e)}function SRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AW=function(){return!!e})()}function Pj(e){return Pj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pj(e)}function CRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i_(e,t)}function i_(e,t){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},i_(e,t)}function Tw(e,t,n){return t=EW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EW(e){var t=PRe(e,"string");return Pf(t)=="symbol"?t:t+""}function PRe(e,t){if(Pf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Pf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Re=function(t){var n=t.x,s=t.y,i=t.xAxis,a=t.yAxis,o=_k({x:i.scale,y:a.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return fo(t,"discard")&&!o.isInRange(l)?null:l},Ow=function(e){function t(){return yRe(this,t),wRe(this,t,arguments)}return CRe(t,e),bRe(t,[{key:"render",value:function(){var s=this.props,i=s.x,a=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,u=Dr(i),d=Dr(a);if(_a(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=_Re(this.props);if(!f)return null;var m=f.x,g=f.y,x=this.props,v=x.shape,y=x.className,N=fo(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=x3(x3({clipPath:N},ct(this.props,!0)),{},{cx:m,cy:g});return H.createElement(Qt,{className:Et("recharts-reference-dot",y)},t.renderDot(v,j),Ur.renderCallByParent(this.props,{x:m-o,y:g-o,width:2*o,height:2*o}))}}])}(H.Component);Tw(Ow,"displayName","ReferenceDot");Tw(Ow,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tw(Ow,"renderDot",function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):jt(e)?n=e(t):n=H.createElement(Pv,s_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},a_.apply(this,arguments)}function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function y3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function j3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y3(Object(n),!0).forEach(function(s){Dw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ARe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ERe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,TW(s.key),s)}}function kRe(e,t,n){return t&&ERe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TRe(e,t,n){return t=_j(t),ORe(e,kW()?Reflect.construct(t,n||[],_j(e).constructor):t.apply(e,n))}function ORe(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DRe(e)}function DRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kW=function(){return!!e})()}function _j(e){return _j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_j(e)}function MRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o_(e,t)}function o_(e,t){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},o_(e,t)}function Dw(e,t,n){return t=TW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TW(e){var t=IRe(e,"string");return _f(t)=="symbol"?t:t+""}function IRe(e,t){if(_f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(_f(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Re=function(t,n,s,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var m=_k({x:d.scale,y:f.scale}),g={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:s?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:n?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return fo(a,"discard")&&(!m.isInRange(g)||!m.isInRange(x))?null:vW(g,x)},Mw=function(e){function t(){return ARe(this,t),TRe(this,t,arguments)}return MRe(t,e),kRe(t,[{key:"render",value:function(){var s=this.props,i=s.x1,a=s.x2,o=s.y1,l=s.y2,c=s.className,u=s.alwaysShow,d=s.clipPathId;_a(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Dr(i),m=Dr(a),g=Dr(o),x=Dr(l),v=this.props.shape;if(!f&&!m&&!g&&!x&&!v)return null;var y=$Re(f,m,g,x,this.props);if(!y&&!v)return null;var N=fo(this.props,"hidden")?"url(#".concat(d,")"):void 0;return H.createElement(Qt,{className:Et("recharts-reference-area",c)},t.renderRect(v,j3(j3({clipPath:N},ct(this.props,!0)),y)),Ur.renderCallByParent(this.props,y))}}])}(H.Component);Dw(Mw,"displayName","ReferenceArea");Dw(Mw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Dw(Mw,"renderRect",function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):jt(e)?n=e(t):n=H.createElement(Ck,a_({},t,{className:"recharts-reference-area-rect"})),n});function OW(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var s=[],i=0;i<e.length;i+=t)s.push(e[i]);return s}function RRe(e,t,n){var s={width:e.width+t.width,height:e.height+t.height};return T$e(s,n)}function LRe(e,t,n){var s=n==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:s?i:a,end:s?i+o:a+l}:{start:s?i+o:a+l,end:s?i:a}}function Aj(e,t,n,s,i){if(e*t<e*s||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-s)>=0&&e*(t+e*a/2-i)<=0}function FRe(e,t){return OW(e,t+1)}function BRe(e,t,n,s,i){for(var a=(s||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var x=s==null?void 0:s[c];if(x===void 0)return{v:OW(s,u)};var v=c,y,N=function(){return y===void 0&&(y=n(x,v)),y},j=x.coordinate,b=c===0||Aj(e,j,N,d,l);b||(c=0,d=o,u+=1),b&&(d=j+e*(N()/2+i),c+=u)},m;u<=a.length;)if(m=f(),m)return m.v;return[]}function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function b3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(n),!0).forEach(function(s){zRe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function zRe(e,t,n){return t=VRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VRe(e){var t=URe(e,"string");return qg(t)=="symbol"?t:t+""}function URe(e,t){if(qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(qg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qRe(e,t,n,s,i){for(var a=(s||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(m){var g=a[m],x,v=function(){return x===void 0&&(x=n(g,m)),x};if(m===o-1){var y=e*(g.coordinate+e*v()/2-c);a[m]=g=hs(hs({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate})}else a[m]=g=hs(hs({},g),{},{tickCoord:g.coordinate});var N=Aj(e,g.tickCoord,v,l,c);N&&(c=g.tickCoord-e*(v()/2+i),a[m]=hs(hs({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function WRe(e,t,n,s,i,a){var o=(s||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=s[l-1],f=n(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=hs(hs({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var g=Aj(e,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-e*(f/2+i),o[l-1]=hs(hs({},d),{},{isShow:!0}))}for(var x=a?l-1:l,v=function(j){var b=o[j],P,C=function(){return P===void 0&&(P=n(b,j)),P};if(j===0){var _=e*(b.coordinate-e*C()/2-c);o[j]=b=hs(hs({},b),{},{tickCoord:_<0?b.coordinate-_*e:b.coordinate})}else o[j]=b=hs(hs({},b),{},{tickCoord:b.coordinate});var A=Aj(e,b.tickCoord,C,c,u);A&&(c=b.tickCoord+e*(C()/2+i),o[j]=hs(hs({},b),{},{isShow:!0}))},y=0;y<x;y++)v(y);return o}function Mk(e,t,n){var s=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!s)return[];if(Ve(c)||Aa.isSsr)return FRe(i,typeof c=="number"&&Ve(c)?c:0);var m=[],g=l==="top"||l==="bottom"?"width":"height",x=d&&g==="width"?kp(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=function(b,P){var C=jt(u)?u(b.value,P):b.value;return g==="width"?RRe(kp(C,{fontSize:t,letterSpacing:n}),x,f):kp(C,{fontSize:t,letterSpacing:n})[g]},y=i.length>=2?Es(i[1].coordinate-i[0].coordinate):1,N=LRe(a,y,g);return c==="equidistantPreserveStart"?BRe(y,N,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=WRe(y,N,v,i,o,c==="preserveStartEnd"):m=qRe(y,N,v,i,o),m.filter(function(j){return j.isShow}))}var HRe=["viewBox"],GRe=["viewBox"],KRe=["ticks"];function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vh.apply(this,arguments)}function w3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(n),!0).forEach(function(s){Ik(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function HS(e,t){if(e==null)return{};var n=YRe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function YRe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function QRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,MW(s.key),s)}}function XRe(e,t,n){return t&&N3(e.prototype,t),n&&N3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function JRe(e,t,n){return t=Ej(t),ZRe(e,DW()?Reflect.construct(t,n||[],Ej(e).constructor):t.apply(e,n))}function ZRe(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e3e(e)}function e3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DW=function(){return!!e})()}function Ej(e){return Ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ej(e)}function t3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l_(e,t)}function l_(e,t){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},l_(e,t)}function Ik(e,t,n){return t=MW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MW(e){var t=n3e(e,"string");return Af(t)=="symbol"?t:t+""}function n3e(e,t){if(Af(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Af(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dm=function(e){function t(n){var s;return QRe(this,t),s=JRe(this,t,[n]),s.state={fontSize:"",letterSpacing:""},s}return t3e(t,e),XRe(t,[{key:"shouldComponentUpdate",value:function(s,i){var a=s.viewBox,o=HS(s,HRe),l=this.props,c=l.viewBox,u=HS(l,GRe);return!kh(a,c)||!kh(o,u)||!kh(i,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var i=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,m=i.tickMargin,g,x,v,y,N,j,b=f?-1:1,P=s.tickSize||d,C=Ve(s.tickCoord)?s.tickCoord:s.coordinate;switch(u){case"top":g=x=s.coordinate,y=o+ +!f*c,v=y-b*P,j=v-b*m,N=C;break;case"left":v=y=s.coordinate,x=a+ +!f*l,g=x-b*P,N=g-b*m,j=C;break;case"right":v=y=s.coordinate,x=a+ +f*l,g=x+b*P,N=g+b*m,j=C;break;default:g=x=s.coordinate,y=o+ +f*c,v=y+b*P,j=v+b*m,N=C;break}return{line:{x1:g,y1:v,x2:x,y2:y},tick:{x:N,y:j}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,i=s.orientation,a=s.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,i=s.orientation,a=s.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.orientation,u=s.mirror,d=s.axisLine,f=Cr(Cr(Cr({},ct(this.props,!1)),ct(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=Cr(Cr({},f),{},{x1:i,y1:a+m*l,x2:i+o,y2:a+m*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=Cr(Cr({},f),{},{x1:i+g*o,y1:a,x2:i+g*o,y2:a+l})}return H.createElement("line",vh({},f,{className:Et("recharts-cartesian-axis-line",bi(d,"className"))}))}},{key:"renderTicks",value:function(s,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,g=Mk(Cr(Cr({},this.props),{},{ticks:s}),i,a),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=ct(this.props,!1),N=ct(d,!1),j=Cr(Cr({},y),{},{fill:"none"},ct(c,!1)),b=g.map(function(P,C){var _=o.getTickLineCoord(P),A=_.line,E=_.tick,D=Cr(Cr(Cr(Cr({textAnchor:x,verticalAnchor:v},y),{},{stroke:"none",fill:u},N),E),{},{index:C,payload:P,visibleTicksCount:g.length,tickFormatter:f});return H.createElement(Qt,vh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Xu(o.props,P,C)),c&&H.createElement("line",vh({},j,A,{className:Et("recharts-cartesian-axis-tick-line",bi(c,"className"))})),d&&t.renderTickItem(d,D,"".concat(jt(f)?f(P.value,C):P.value).concat(m||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var s=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,m=f.ticks,g=HS(f,KRe),x=m;return jt(c)&&(x=m&&m.length>0?c(this.props):c(g)),o<=0||l<=0||!x||!x.length?null:H.createElement(Qt,{className:Et("recharts-cartesian-axis",u),ref:function(y){s.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Ur.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,i,a){var o,l=Et(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(s)?o=H.cloneElement(s,Cr(Cr({},i),{},{className:l})):jt(s)?o=s(Cr(Cr({},i),{},{className:l})):o=H.createElement(Ju,vh({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(w.Component);Ik(dm,"displayName","CartesianAxis");Ik(dm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var r3e=["x1","y1","x2","y2","key"],s3e=["offset"];function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function S3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(n),!0).forEach(function(s){i3e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function i3e(e,t,n){return t=a3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a3e(e){var t=o3e(e,"string");return nd(t)=="symbol"?t:t+""}function o3e(e,t){if(nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(nd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ju.apply(this,arguments)}function C3(e,t){if(e==null)return{};var n=l3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function l3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var c3e=function(t){var n=t.fill;if(!n||n==="none")return null;var s=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return H.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function IW(e,t){var n;if(H.isValidElement(e))n=H.cloneElement(e,t);else if(jt(e))n=e(t);else{var s=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=C3(t,r3e),u=ct(c,!1);u.offset;var d=C3(u,s3e);n=H.createElement("line",ju({},d,{x1:s,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function u3e(e){var t=e.x,n=e.width,s=e.horizontal,i=s===void 0?!0:s,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=ms(ms({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return IW(i,u)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function d3e(e){var t=e.y,n=e.height,s=e.vertical,i=s===void 0?!0:s,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=ms(ms({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return IW(i,u)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function h3e(e){var t=e.horizontalFill,n=e.fillOpacity,s=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],v=x?i+o-m:d[g+1]-m;if(v<=0)return null;var y=g%t.length;return H.createElement("rect",{key:"react-".concat(g),y:m,x:s,height:v,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function f3e(e){var t=e.vertical,n=t===void 0?!0:t,s=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!s||!s.length)return null;var d=u.map(function(m){return Math.round(m+a-a)}).sort(function(m,g){return m-g});a!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],v=x?a+l-m:d[g+1]-m;if(v<=0)return null;var y=g%s.length;return H.createElement("rect",{key:"react-".concat(g),x:m,y:o,width:v,height:c,stroke:"none",fill:s[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var m3e=function(t,n){var s=t.xAxis,i=t.width,a=t.height,o=t.offset;return O7(Mk(ms(ms(ms({},dm.defaultProps),s),{},{ticks:Go(s,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},p3e=function(t,n){var s=t.yAxis,i=t.width,a=t.height,o=t.offset;return O7(Mk(ms(ms(ms({},dm.defaultProps),s),{},{ticks:Go(s,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Qd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rd(e){var t,n,s,i,a,o,l=kk(),c=Tk(),u=nRe(),d=ms(ms({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Qd.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Qd.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Qd.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Qd.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Qd.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Qd.verticalFill,x:Ve(e.x)?e.x:u.left,y:Ve(e.y)?e.y:u.top,width:Ve(e.width)?e.width:u.width,height:Ve(e.height)?e.height:u.height}),f=d.x,m=d.y,g=d.width,x=d.height,v=d.syncWithTicks,y=d.horizontalValues,N=d.verticalValues,j=Z$e(),b=eRe();if(!Ve(g)||g<=0||!Ve(x)||x<=0||!Ve(f)||f!==+f||!Ve(m)||m!==+m)return null;var P=d.verticalCoordinatesGenerator||m3e,C=d.horizontalCoordinatesGenerator||p3e,_=d.horizontalPoints,A=d.verticalPoints;if((!_||!_.length)&&jt(C)){var E=y&&y.length,D=C({yAxis:b?ms(ms({},b),{},{ticks:E?y:b.ticks}):void 0,width:l,height:c,offset:u},E?!0:v);_a(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(nd(D),"]")),Array.isArray(D)&&(_=D)}if((!A||!A.length)&&jt(P)){var I=N&&N.length,O=P({xAxis:j?ms(ms({},j),{},{ticks:I?N:j.ticks}):void 0,width:l,height:c,offset:u},I?!0:v);_a(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(nd(O),"]")),Array.isArray(O)&&(A=O)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(c3e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),H.createElement(u3e,ju({},d,{offset:u,horizontalPoints:_,xAxis:j,yAxis:b})),H.createElement(d3e,ju({},d,{offset:u,verticalPoints:A,xAxis:j,yAxis:b})),H.createElement(h3e,ju({},d,{horizontalPoints:_})),H.createElement(f3e,ju({},d,{verticalPoints:A})))}rd.displayName="CartesianGrid";var g3e=["type","layout","connectNulls","ref"],v3e=["key"];function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function P3(e,t){if(e==null)return{};var n=x3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function x3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$p.apply(this,arguments)}function _3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ui(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(n),!0).forEach(function(s){ja(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Xd(e){return w3e(e)||b3e(e)||j3e(e)||y3e()}function y3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j3e(e,t){if(e){if(typeof e=="string")return c_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(e,t)}}function b3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w3e(e){if(Array.isArray(e))return c_(e)}function c_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function N3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,RW(s.key),s)}}function S3e(e,t,n){return t&&A3(e.prototype,t),n&&A3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C3e(e,t,n){return t=kj(t),P3e(e,$W()?Reflect.construct(t,n||[],kj(e).constructor):t.apply(e,n))}function P3e(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _3e(e)}function _3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($W=function(){return!!e})()}function kj(e){return kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kj(e)}function A3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u_(e,t)}function u_(e,t){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},u_(e,t)}function ja(e,t,n){return t=RW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RW(e){var t=E3e(e,"string");return Ef(t)=="symbol"?t:t+""}function E3e(e,t){if(Ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ef(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kf=function(e){function t(){var n;N3e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=C3e(this,t,[].concat(i)),ja(n,"state",{isAnimationFinished:!0,totalLength:0}),ja(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ja(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(N,j){return N+j});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,g=[],x=0,v=0;x<c.length;v+=c[x],++x)if(v+c[x]>f){g=[].concat(Xd(c.slice(0,x)),[f-v]);break}var y=g.length%2===0?[0,m]:[m];return[].concat(Xd(t.repeat(c,d)),Xd(g),y).map(function(N){return"".concat(N,"px")}).join(", ")}),ja(n,"id",pd("recharts-line-")),ja(n,"pathRef",function(o){n.mainCurve=o}),ja(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ja(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return A3e(t,e),S3e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=wi(d,Cv);if(!f)return null;var m=function(v,y){return{x:v.x,y:v.y,value:v.value,errorVal:gr(v.payload,y)}},g={clipPath:s?"url(#clipPath-".concat(i,")"):null};return H.createElement(Qt,g,f.map(function(x){return H.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(s,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ct(this.props,!1),m=ct(c,!0),g=u.map(function(v,y){var N=ui(ui(ui({key:"dot-".concat(y),r:3},f),m),{},{index:y,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return t.renderDotItem(c,N)}),x={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return H.createElement(Qt,$p({className:"recharts-line-dots",key:"dots"},x),g)}},{key:"renderCurveStatically",value:function(s,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=P3(l,g3e),m=ui(ui(ui({},ct(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:s},o),{},{type:c,layout:u,connectNulls:d});return H.createElement(Iu,$p({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,g=o.animationId,x=o.animateNewValues,v=o.width,y=o.height,N=this.state,j=N.prevPoints,b=N.totalLength;return H.createElement(Da,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var C=P.t;if(j){var _=j.length/l.length,A=l.map(function(k,F){var L=Math.floor(F*_);if(j[L]){var Y=j[L],q=Tr(Y.x,k.x),ie=Tr(Y.y,k.y);return ui(ui({},k),{},{x:q(C),y:ie(C)})}if(x){var $=Tr(v*2,k.x),z=Tr(y/2,k.y);return ui(ui({},k),{},{x:$(C),y:z(C)})}return ui(ui({},k),{},{x:k.x,y:k.y})});return a.renderCurveStatically(A,s,i)}var E=Tr(0,b),D=E(C),I;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});I=a.getStrokeDasharray(D,b,O)}else I=a.generateSimpleStrokeDasharray(b,D);return a.renderCurveStatically(l,s,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(s,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Zu(u,o))?this.renderCurveWithAnimation(s,i):this.renderCurveStatically(o,s,i)}},{key:"render",value:function(){var s,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,m=i.left,g=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,j=l.length===1,b=Et("recharts-line",c),P=u&&u.allowDataOverflow,C=d&&d.allowDataOverflow,_=P||C,A=At(y)?this.id:y,E=(s=ct(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},D=E.r,I=D===void 0?3:D,O=E.strokeWidth,k=O===void 0?2:O,F=SU(o)?o:{},L=F.clipDot,Y=L===void 0?!0:L,q=I*2+k;return H.createElement(Qt,{className:b},P||C?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(A)},H.createElement("rect",{x:P?m:m-g/2,y:C?f:f-x/2,width:P?g:g*2,height:C?x:x*2})),!Y&&H.createElement("clipPath",{id:"clipPath-dots-".concat(A)},H.createElement("rect",{x:m-q/2,y:f-q/2,width:g+q,height:x+q}))):null,!j&&this.renderCurve(_,A),this.renderErrorBar(_,A),(j||o)&&this.renderDots(_,Y,A),(!v||N)&&ho.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:i.curPoints}:s.points!==i.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,i){for(var a=s.length%2!==0?[].concat(Xd(s),[0]):s,o=[],l=0;l<i;++l)o=[].concat(Xd(o),Xd(a));return o}},{key:"renderDotItem",value:function(s,i){var a;if(H.isValidElement(s))a=H.cloneElement(s,i);else if(jt(s))a=s(i);else{var o=i.key,l=P3(i,v3e),c=Et("recharts-line-dot",typeof s!="boolean"?s.className:"");a=H.createElement(Pv,$p({key:o},l,{className:c}))}return a}}])}(w.PureComponent);ja(kf,"displayName","Line");ja(kf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Aa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ja(kf,"getComposedData",function(e){var t=e.props,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(m,g){var x=gr(m,o);return d==="horizontal"?{x:oj({axis:n,ticks:i,bandSize:l,entry:m,index:g}),y:At(x)?null:s.scale(x),value:x,payload:m}:{x:At(x)?null:n.scale(x),y:oj({axis:s,ticks:a,bandSize:l,entry:m,index:g}),value:x,payload:m}});return ui({points:f,layout:d},u)});var k3e=["layout","type","stroke","connectNulls","isRange","ref"],T3e=["key"],LW;function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function FW(e,t){if(e==null)return{};var n=O3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function O3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bu.apply(this,arguments)}function E3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(n),!0).forEach(function(s){io(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function D3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,zW(s.key),s)}}function M3e(e,t,n){return t&&k3(e.prototype,t),n&&k3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function I3e(e,t,n){return t=Tj(t),$3e(e,BW()?Reflect.construct(t,n||[],Tj(e).constructor):t.apply(e,n))}function $3e(e,t){if(t&&(Tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R3e(e)}function R3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BW=function(){return!!e})()}function Tj(e){return Tj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tj(e)}function L3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d_(e,t)}function d_(e,t){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},d_(e,t)}function io(e,t,n){return t=zW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zW(e){var t=F3e(e,"string");return Tf(t)=="symbol"?t:t+""}function F3e(e,t){if(Tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Tf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zi=function(e){function t(){var n;D3e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=I3e(this,t,[].concat(i)),io(n,"state",{isAnimationFinished:!0}),io(n,"id",pd("recharts-area-")),io(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),jt(o)&&o()}),io(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),jt(o)&&o()}),n}return L3e(t,e),M3e(t,[{key:"renderDots",value:function(s,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,m=ct(this.props,!1),g=ct(u,!0),x=d.map(function(y,N){var j=Ll(Ll(Ll({key:"dot-".concat(N),r:3},m),g),{},{index:N,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,j)}),v={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return H.createElement(Qt,bu({className:"recharts-area-dots"},v),x)}},{key:"renderHorizontalRect",value:function(s){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=s*Math.abs(c-u),f=ic(o.map(function(m){return m.y||0}));return Ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(ic(a.map(function(m){return m.y||0})),f)),Ve(f)?H.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=s*Math.abs(c-u),f=ic(o.map(function(m){return m.x||0}));return Ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(ic(a.map(function(m){return m.x||0})),f)),Ve(f)?H.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(s){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,i,a,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var g=FW(l,k3e);return H.createElement(Qt,{clipPath:a?"url(#clipPath-".concat(o,")"):null},H.createElement(Iu,bu({},ct(g,!0),{points:s,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&H.createElement(Iu,bu({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})),d!=="none"&&m&&H.createElement(Iu,bu({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(s,i){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,g=o.animationId,x=this.state,v=x.prevPoints,y=x.prevBaseLine;return H.createElement(Da,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var j=N.t;if(v){var b=v.length/l.length,P=l.map(function(E,D){var I=Math.floor(D*b);if(v[I]){var O=v[I],k=Tr(O.x,E.x),F=Tr(O.y,E.y);return Ll(Ll({},E),{},{x:k(j),y:F(j)})}return E}),C;if(Ve(c)&&typeof c=="number"){var _=Tr(y,c);C=_(j)}else if(At(c)||rm(c)){var A=Tr(y,0);C=A(j)}else C=c.map(function(E,D){var I=Math.floor(D*b);if(y[I]){var O=y[I],k=Tr(O.x,E.x),F=Tr(O.y,E.y);return Ll(Ll({},E),{},{x:k(j),y:F(j)})}return E});return a.renderAreaStatically(P,C,s,i)}return H.createElement(Qt,null,H.createElement("defs",null,H.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(j))),H.createElement(Qt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,s,i)))})}},{key:"renderArea",value:function(s,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,m=u.totalLength;return c&&o&&o.length&&(!d&&m>0||!Zu(d,o)||!Zu(f,l))?this.renderAreaWithAnimation(s,i):this.renderAreaStatically(o,l,s,i)}},{key:"render",value:function(){var s,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,m=i.yAxis,g=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,j=l.length===1,b=Et("recharts-area",c),P=f&&f.allowDataOverflow,C=m&&m.allowDataOverflow,_=P||C,A=At(y)?this.id:y,E=(s=ct(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},D=E.r,I=D===void 0?3:D,O=E.strokeWidth,k=O===void 0?2:O,F=SU(o)?o:{},L=F.clipDot,Y=L===void 0?!0:L,q=I*2+k;return H.createElement(Qt,{className:b},P||C?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(A)},H.createElement("rect",{x:P?d:d-g/2,y:C?u:u-x/2,width:P?g:g*2,height:C?x:x*2})),!Y&&H.createElement("clipPath",{id:"clipPath-dots-".concat(A)},H.createElement("rect",{x:d-q/2,y:u-q/2,width:g+q,height:x+q}))):null,j?null:this.renderArea(_,A),(o||j)&&this.renderDots(_,Y,A),(!v||N)&&ho.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:s.points!==i.curPoints||s.baseLine!==i.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(w.PureComponent);LW=Zi;io(Zi,"displayName","Area");io(Zi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Aa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});io(Zi,"getBaseValue",function(e,t,n,s){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(Ve(l)&&typeof l=="number")return l;var c=i==="horizontal"?s:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});io(Zi,"getComposedData",function(e){var t=e.props,n=e.item,s=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,g=t.layout,x=u&&u.length,v=LW.getBaseValue(t,n,s,i),y=g==="horizontal",N=!1,j=f.map(function(P,C){var _;x?_=u[d+C]:(_=gr(P,c),Array.isArray(_)?N=!0:_=[v,_]);var A=_[1]==null||x&&gr(P,c)==null;return y?{x:oj({axis:s,ticks:a,bandSize:l,entry:P,index:C}),y:A?null:i.scale(_[1]),value:_,payload:P}:{x:A?null:s.scale(_[1]),y:oj({axis:i,ticks:o,bandSize:l,entry:P,index:C}),value:_,payload:P}}),b;return x||N?b=j.map(function(P){var C=Array.isArray(P.value)?P.value[0]:null;return y?{x:P.x,y:C!=null&&P.y!=null?i.scale(C):null}:{x:C!=null?s.scale(C):null,y:P.y}}):b=y?i.scale(v):s.scale(v),Ll({points:j,baseLine:b,layout:g,isRange:N},m)});io(Zi,"renderDotItem",function(e,t){var n;if(H.isValidElement(e))n=H.cloneElement(e,t);else if(jt(e))n=e(t);else{var s=Et("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=FW(t,T3e);n=H.createElement(Pv,bu({},a,{key:i,className:s}))}return n});function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function B3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z3e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,qW(s.key),s)}}function V3e(e,t,n){return t&&z3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U3e(e,t,n){return t=Oj(t),q3e(e,VW()?Reflect.construct(t,n||[],Oj(e).constructor):t.apply(e,n))}function q3e(e,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W3e(e)}function W3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VW=function(){return!!e})()}function Oj(e){return Oj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oj(e)}function H3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h_(e,t)}function h_(e,t){return h_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},h_(e,t)}function UW(e,t,n){return t=qW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qW(e){var t=G3e(e,"string");return Of(t)=="symbol"?t:t+""}function G3e(e,t){if(Of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Of(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f_(){return f_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},f_.apply(this,arguments)}function K3e(e){var t=e.xAxisId,n=kk(),s=Tk(),i=SW(t);return i==null?null:w.createElement(dm,f_({},i,{className:Et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return Go(o,!0)}}))}var Ma=function(e){function t(){return B3e(this,t),U3e(this,t,arguments)}return H3e(t,e),V3e(t,[{key:"render",value:function(){return w.createElement(K3e,this.props)}}])}(w.Component);UW(Ma,"displayName","XAxis");UW(Ma,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function Y3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q3e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,GW(s.key),s)}}function X3e(e,t,n){return t&&Q3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function J3e(e,t,n){return t=Dj(t),Z3e(e,WW()?Reflect.construct(t,n||[],Dj(e).constructor):t.apply(e,n))}function Z3e(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eLe(e)}function eLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WW=function(){return!!e})()}function Dj(e){return Dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dj(e)}function tLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m_(e,t)}function m_(e,t){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},m_(e,t)}function HW(e,t,n){return t=GW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=nLe(e,"string");return Df(t)=="symbol"?t:t+""}function nLe(e,t){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Df(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},p_.apply(this,arguments)}var rLe=function(t){var n=t.yAxisId,s=kk(),i=Tk(),a=CW(n);return a==null?null:w.createElement(dm,p_({},a,{className:Et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:s,height:i},ticksGenerator:function(l){return Go(l,!0)}}))},Ia=function(e){function t(){return Y3e(this,t),J3e(this,t,arguments)}return tLe(t,e),X3e(t,[{key:"render",value:function(){return w.createElement(rLe,this.props)}}])}(w.Component);HW(Ia,"displayName","YAxis");HW(Ia,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function T3(e){return oLe(e)||aLe(e)||iLe(e)||sLe()}function sLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iLe(e,t){if(e){if(typeof e=="string")return g_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(e,t)}}function aLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oLe(e){if(Array.isArray(e))return g_(e)}function g_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var v_=function(t,n,s,i,a){var o=wi(t,Dk),l=wi(t,Ow),c=[].concat(T3(o),T3(l)),u=wi(t,Mw),d="".concat(i,"Id"),f=i[0],m=n;if(c.length&&(m=c.reduce(function(v,y){if(y.props[d]===s&&fo(y.props,"extendDomain")&&Ve(y.props[f])){var N=y.props[f];return[Math.min(v[0],N),Math.max(v[1],N)]}return v},m)),u.length){var g="".concat(f,"1"),x="".concat(f,"2");m=u.reduce(function(v,y){if(y.props[d]===s&&fo(y.props,"extendDomain")&&Ve(y.props[g])&&Ve(y.props[x])){var N=y.props[g],j=y.props[x];return[Math.min(v[0],N,j),Math.max(v[1],N,j)]}return v},m)}return a&&a.length&&(m=a.reduce(function(v,y){return Ve(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},m)),m},KW={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||c,m),x=n?n+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],g]:c._events[x].push(g):(c._events[x]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new s:delete c._events[u]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,x=new Array(g);m<g;m++)x[m]=f[m].fn;return x},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,g,x){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],N=arguments.length,j,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),N){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,m),!0;case 5:return y.fn.call(y.context,d,f,m,g),!0;case 6:return y.fn.call(y.context,d,f,m,g,x),!0}for(b=1,j=new Array(N-1);b<N;b++)j[b-1]=arguments[b];y.fn.apply(y.context,j)}else{var P=y.length,C;for(b=0;b<P;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),N){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,m);break;default:if(!j)for(C=1,j=new Array(N-1);C<N;C++)j[C-1]=arguments[C];y[b].fn.apply(y[b].context,j)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var g=n?n+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var x=this._events[g];if(x.fn)x.fn===d&&(!m||x.once)&&(!f||x.context===f)&&o(this,g);else{for(var v=0,y=[],N=x.length;v<N;v++)(x[v].fn!==d||m&&!x[v].once||f&&x[v].context!==f)&&y.push(x[v]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(KW);var lLe=KW.exports;const cLe=pn(lLe);var GS=new cLe,KS="recharts.syncMouseEvents";function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function uLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,YW(s.key),s)}}function hLe(e,t,n){return t&&dLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YS(e,t,n){return t=YW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YW(e){var t=fLe(e,"string");return Wg(t)=="symbol"?t:t+""}function fLe(e,t){if(Wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Wg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mLe=function(){function e(){uLe(this,e),YS(this,"activeIndex",0),YS(this,"coordinateList",[]),YS(this,"layout","horizontal")}return hLe(e,[{key:"setDetails",value:function(n){var s,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,m=n.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(s=a??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((s=window)===null||s===void 0?void 0:s.scrollY)||0,f=a+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function pLe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],i=e==null?void 0:e[1];if(s&&i&&Ve(s)&&Ve(i))return!0}return!1}function gLe(e,t,n,s){var i=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function QW(e){var t=e.cx,n=e.cy,s=e.radius,i=e.startAngle,a=e.endAngle,o=Mn(t,n,s,i),l=Mn(t,n,s,a);return{points:[o,l],cx:t,cy:n,radius:s,startAngle:i,endAngle:a}}function vLe(e,t,n){var s,i,a,o;if(e==="horizontal")s=t.x,a=s,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,s=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=Mn(l,c,u,f),g=Mn(l,c,d,f);s=m.x,i=m.y,a=g.x,o=g.y}else return QW(t);return[{x:s,y:i},{x:a,y:o}]}function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function O3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function by(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(n),!0).forEach(function(s){xLe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xLe(e,t,n){return t=yLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yLe(e){var t=jLe(e,"string");return Hg(t)=="symbol"?t:t+""}function jLe(e,t){if(Hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Hg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bLe(e){var t,n,s=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,g=(t=s.props.cursor)!==null&&t!==void 0?t:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!g||!a||!o||m!=="ScatterChart"&&i!=="axis")return null;var x,v=Iu;if(m==="ScatterChart")x=o,v=EMe;else if(m==="BarChart")x=gLe(f,o,c,d),v=Ck;else if(f==="radial"){var y=QW(o),N=y.cx,j=y.cy,b=y.radius,P=y.startAngle,C=y.endAngle;x={cx:N,cy:j,startAngle:P,endAngle:C,innerRadius:b,outerRadius:b},v=U7}else x={points:vLe(f,o,c)},v=Iu;var _=by(by(by(by({stroke:"#ccc",pointerEvents:"none"},c),x),ct(g,!1)),{},{payload:l,payloadIndex:u,className:Et("recharts-tooltip-cursor",g.className)});return w.isValidElement(g)?w.cloneElement(g,_):w.createElement(v,_)}var wLe=["item"],NLe=["children","className","width","height","style","compact","title","desc"];function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xh.apply(this,arguments)}function D3(e,t){return PLe(e)||CLe(e,t)||JW(e,t)||SLe()}function SLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CLe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function PLe(e){if(Array.isArray(e))return e}function M3(e,t){if(e==null)return{};var n=_Le(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function _Le(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function ALe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ELe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,ZW(s.key),s)}}function kLe(e,t,n){return t&&ELe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TLe(e,t,n){return t=Mj(t),OLe(e,XW()?Reflect.construct(t,n||[],Mj(e).constructor):t.apply(e,n))}function OLe(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DLe(e)}function DLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XW=function(){return!!e})()}function Mj(e){return Mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mj(e)}function MLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},x_(e,t)}function If(e){return RLe(e)||$Le(e)||JW(e)||ILe()}function ILe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JW(e,t){if(e){if(typeof e=="string")return y_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y_(e,t)}}function $Le(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RLe(e){if(Array.isArray(e))return y_(e)}function y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function I3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(n),!0).forEach(function(s){yt(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function yt(e,t,n){return t=ZW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZW(e){var t=LLe(e,"string");return Mf(t)=="symbol"?t:t+""}function LLe(e,t){if(Mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Mf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FLe={xAxis:["bottom","top"],yAxis:["left","right"]},BLe={width:"100%",height:"100%"},e9={x:0,y:0};function wy(e){return e}var zLe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},VLe=function(t,n,s,i){var a=n.find(function(d){return d&&d.index===s});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return _e(_e(_e({},i),Mn(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return _e(_e(_e({},i),Mn(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return e9},Iw=function(t,n){var s=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(s??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(If(l),If(u)):l},[]);return o.length>0?o:t&&t.length&&Ve(i)&&Ve(a)?t.slice(i,a+1):[]};function t9(e){return e==="number"?[0,"auto"]:void 0}var j_=function(t,n,s,i){var a=t.graphicalItems,o=t.tooltipAxis,l=Iw(n,t);return s<0||!a||!a.length||s>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var g=f===void 0?l:f;m=D0(g,o.dataKey,i)}else m=f&&f[s]||l[s];return m?[].concat(If(c),[R7(u,m)]):c},[])},$3=function(t,n,s,i){var a=i||{x:t.chartX,y:t.chartY},o=zLe(a,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Zke(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=j_(t,n,d,f),g=VLe(s,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:g}}return null},ULe=function(t,n){var s=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,g=T7(d,a);return s.reduce(function(x,v){var y,N=v.type.defaultProps!==void 0?_e(_e({},v.type.defaultProps),v.props):v.props,j=N.type,b=N.dataKey,P=N.allowDataOverflow,C=N.allowDuplicatedCategory,_=N.scale,A=N.ticks,E=N.includeHidden,D=N[o];if(x[D])return x;var I=Iw(t.data,{graphicalItems:i.filter(function(ee){var J,B=o in ee.props?ee.props[o]:(J=ee.type.defaultProps)===null||J===void 0?void 0:J[o];return B===D}),dataStartIndex:c,dataEndIndex:u}),O=I.length,k,F,L;pLe(N.domain,P,j)&&(k=DP(N.domain,null,P),g&&(j==="number"||_!=="auto")&&(L=Op(I,b,"category")));var Y=t9(j);if(!k||k.length===0){var q,ie=(q=N.domain)!==null&&q!==void 0?q:Y;if(b){if(k=Op(I,b,j),j==="category"&&g){var $=Uxe(k);C&&$?(F=k,k=jj(0,O)):C||(k=nR(ie,k,v).reduce(function(ee,J){return ee.indexOf(J)>=0?ee:[].concat(If(ee),[J])},[]))}else if(j==="category")C?k=k.filter(function(ee){return ee!==""&&!At(ee)}):k=nR(ie,k,v).reduce(function(ee,J){return ee.indexOf(J)>=0||J===""||At(J)?ee:[].concat(If(ee),[J])},[]);else if(j==="number"){var z=sTe(I,i.filter(function(ee){var J,B,me=o in ee.props?ee.props[o]:(J=ee.type.defaultProps)===null||J===void 0?void 0:J[o],ve="hide"in ee.props?ee.props.hide:(B=ee.type.defaultProps)===null||B===void 0?void 0:B.hide;return me===D&&(E||!ve)}),b,a,d);z&&(k=z)}g&&(j==="number"||_!=="auto")&&(L=Op(I,b,"category"))}else g?k=jj(0,O):l&&l[D]&&l[D].hasStack&&j==="number"?k=m==="expand"?[0,1]:$7(l[D].stackGroups,c,u):k=k7(I,i.filter(function(ee){var J=o in ee.props?ee.props[o]:ee.type.defaultProps[o],B="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return J===D&&(E||!B)}),j,d,!0);if(j==="number")k=v_(f,k,D,a,A),ie&&(k=DP(ie,k,P));else if(j==="category"&&ie){var le=ie,pe=k.every(function(ee){return le.indexOf(ee)>=0});pe&&(k=le)}}return _e(_e({},x),{},yt({},D,_e(_e({},N),{},{axisType:a,domain:k,categoricalDomain:L,duplicateDomain:F,originalDomain:(y=N.domain)!==null&&y!==void 0?y:Y,isCategorical:g,layout:d})))},{})},qLe=function(t,n){var s=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=Iw(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:u}),g=m.length,x=T7(d,a),v=-1;return s.reduce(function(y,N){var j=N.type.defaultProps!==void 0?_e(_e({},N.type.defaultProps),N.props):N.props,b=j[o],P=t9("number");if(!y[b]){v++;var C;return x?C=jj(0,g):l&&l[b]&&l[b].hasStack?(C=$7(l[b].stackGroups,c,u),C=v_(f,C,b,a)):(C=DP(P,k7(m,s.filter(function(_){var A,E,D=o in _.props?_.props[o]:(A=_.type.defaultProps)===null||A===void 0?void 0:A[o],I="hide"in _.props?_.props.hide:(E=_.type.defaultProps)===null||E===void 0?void 0:E.hide;return D===b&&!I}),"number",d),i.defaultProps.allowDataOverflow),C=v_(f,C,b,a)),_e(_e({},y),{},yt({},b,_e(_e({axisType:a},i.defaultProps),{},{hide:!0,orientation:bi(FLe,"".concat(a,".").concat(v%2),null),domain:C,originalDomain:P,isCategorical:x,layout:d})))}return y},{})},WLe=function(t,n){var s=n.axisType,i=s===void 0?"xAxis":s,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(i,"Id"),m=wi(d,a),g={};return m&&m.length?g=ULe(t,{axes:m,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(g=qLe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},HLe=function(t){var n=Wl(t),s=Go(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:JE(s,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:lj(n,s)}},R3=function(t){var n=t.children,s=t.defaultShowTooltip,i=fi(n,Nf),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},GLe=function(t){return!t||!t.length?!1:t.some(function(n){var s=Qo(n&&n.type);return s&&s.indexOf("Bar")>=0})},L3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},KLe=function(t,n){var s=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=s.width,d=s.height,f=s.children,m=s.margin||{},g=fi(f,Nf),x=fi(f,Th),v=Object.keys(c).reduce(function(C,_){var A=c[_],E=A.orientation;return!A.mirror&&!A.hide?_e(_e({},C),{},yt({},E,C[E]+A.width)):C},{left:m.left||0,right:m.right||0}),y=Object.keys(o).reduce(function(C,_){var A=o[_],E=A.orientation;return!A.mirror&&!A.hide?_e(_e({},C),{},yt({},E,bi(C,"".concat(E))+A.height)):C},{top:m.top||0,bottom:m.bottom||0}),N=_e(_e({},y),v),j=N.bottom;g&&(N.bottom+=g.props.height||Nf.defaultProps.height),x&&n&&(N=nTe(N,i,s,n));var b=u-N.left-N.right,P=d-N.top-N.bottom;return _e(_e({brushBottom:j},N),{},{width:Math.max(b,0),height:Math.max(P,0)})},YLe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},$w=function(t){var n=t.chartName,s=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(N,j){var b=j.graphicalItems,P=j.stackGroups,C=j.offset,_=j.updateId,A=j.dataStartIndex,E=j.dataEndIndex,D=N.barSize,I=N.layout,O=N.barGap,k=N.barCategoryGap,F=N.maxBarSize,L=L3(I),Y=L.numericAxisName,q=L.cateAxisName,ie=GLe(b),$=[];return b.forEach(function(z,le){var pe=Iw(N.data,{graphicalItems:[z],dataStartIndex:A,dataEndIndex:E}),ee=z.type.defaultProps!==void 0?_e(_e({},z.type.defaultProps),z.props):z.props,J=ee.dataKey,B=ee.maxBarSize,me=ee["".concat(Y,"Id")],ve=ee["".concat(q,"Id")],re={},V=c.reduce(function(Ge,Ke){var qt=j["".concat(Ke.axisType,"Map")],Kn=ee["".concat(Ke.axisType,"Id")];qt&&qt[Kn]||Ke.axisType==="zAxis"||td();var kt=qt[Kn];return _e(_e({},Ge),{},yt(yt({},Ke.axisType,kt),"".concat(Ke.axisType,"Ticks"),Go(kt)))},re),Z=V[q],ye=V["".concat(q,"Ticks")],te=P&&P[me]&&P[me].hasStack&&fTe(z,P[me].stackGroups),M=Qo(z.type).indexOf("Bar")>=0,je=lj(Z,ye),we=[],Fe=ie&&eTe({barSize:D,stackGroups:P,totalSize:YLe(V,q)});if(M){var Be,at,lt=At(B)?F:B,ut=(Be=(at=lj(Z,ye,!0))!==null&&at!==void 0?at:lt)!==null&&Be!==void 0?Be:0;we=tTe({barGap:O,barCategoryGap:k,bandSize:ut!==je?ut:je,sizeList:Fe[ve],maxBarSize:lt}),ut!==je&&(we=we.map(function(Ge){return _e(_e({},Ge),{},{position:_e(_e({},Ge.position),{},{offset:Ge.position.offset-ut/2})})}))}var Ne=z&&z.type&&z.type.getComposedData;Ne&&$.push({props:_e(_e({},Ne(_e(_e({},V),{},{displayedData:pe,props:N,dataKey:J,item:z,bandSize:je,barPosition:we,offset:C,stackedData:te,layout:I,dataStartIndex:A,dataEndIndex:E}))),{},yt(yt(yt({key:z.key||"item-".concat(le)},Y,V[Y]),q,V[q]),"animationId",_)),childIndex:tye(z,N.children),item:z})}),$},g=function(N,j){var b=N.props,P=N.dataStartIndex,C=N.dataEndIndex,_=N.updateId;if(!QI({props:b}))return null;var A=b.children,E=b.layout,D=b.stackOffset,I=b.data,O=b.reverseStackOrder,k=L3(E),F=k.numericAxisName,L=k.cateAxisName,Y=wi(A,s),q=dTe(I,Y,"".concat(F,"Id"),"".concat(L,"Id"),D,O),ie=c.reduce(function(ee,J){var B="".concat(J.axisType,"Map");return _e(_e({},ee),{},yt({},B,WLe(b,_e(_e({},J),{},{graphicalItems:Y,stackGroups:J.axisType===F&&q,dataStartIndex:P,dataEndIndex:C}))))},{}),$=KLe(_e(_e({},ie),{},{props:b,graphicalItems:Y}),j==null?void 0:j.legendBBox);Object.keys(ie).forEach(function(ee){ie[ee]=d(b,ie[ee],$,ee.replace("Map",""),n)});var z=ie["".concat(L,"Map")],le=HLe(z),pe=m(b,_e(_e({},ie),{},{dataStartIndex:P,dataEndIndex:C,updateId:_,graphicalItems:Y,stackGroups:q,offset:$}));return _e(_e({formattedGraphicalItems:pe,graphicalItems:Y,offset:$,stackGroups:q},le),ie)},x=function(y){function N(j){var b,P,C;return ALe(this,N),C=TLe(this,N,[j]),yt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),yt(C,"accessibilityManager",new mLe),yt(C,"handleLegendBBoxUpdate",function(_){if(_){var A=C.state,E=A.dataStartIndex,D=A.dataEndIndex,I=A.updateId;C.setState(_e({legendBBox:_},g({props:C.props,dataStartIndex:E,dataEndIndex:D,updateId:I},_e(_e({},C.state),{},{legendBBox:_}))))}}),yt(C,"handleReceiveSyncEvent",function(_,A,E){if(C.props.syncId===_){if(E===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(A)}}),yt(C,"handleBrushChange",function(_){var A=_.startIndex,E=_.endIndex;if(A!==C.state.dataStartIndex||E!==C.state.dataEndIndex){var D=C.state.updateId;C.setState(function(){return _e({dataStartIndex:A,dataEndIndex:E},g({props:C.props,dataStartIndex:A,dataEndIndex:E,updateId:D},C.state))}),C.triggerSyncEvent({dataStartIndex:A,dataEndIndex:E})}}),yt(C,"handleMouseEnter",function(_){var A=C.getMouseInfo(_);if(A){var E=_e(_e({},A),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var D=C.props.onMouseEnter;jt(D)&&D(E,_)}}),yt(C,"triggeredAfterMouseMove",function(_){var A=C.getMouseInfo(_),E=A?_e(_e({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var D=C.props.onMouseMove;jt(D)&&D(E,_)}),yt(C,"handleItemMouseEnter",function(_){C.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),yt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),yt(C,"handleMouseMove",function(_){_.persist(),C.throttleTriggeredAfterMouseMove(_)}),yt(C,"handleMouseLeave",function(_){C.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};C.setState(A),C.triggerSyncEvent(A);var E=C.props.onMouseLeave;jt(E)&&E(A,_)}),yt(C,"handleOuterEvent",function(_){var A=eye(_),E=bi(C.props,"".concat(A));if(A&&jt(E)){var D,I;/.*touch.*/i.test(A)?I=C.getMouseInfo(_.changedTouches[0]):I=C.getMouseInfo(_),E((D=I)!==null&&D!==void 0?D:{},_)}}),yt(C,"handleClick",function(_){var A=C.getMouseInfo(_);if(A){var E=_e(_e({},A),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var D=C.props.onClick;jt(D)&&D(E,_)}}),yt(C,"handleMouseDown",function(_){var A=C.props.onMouseDown;if(jt(A)){var E=C.getMouseInfo(_);A(E,_)}}),yt(C,"handleMouseUp",function(_){var A=C.props.onMouseUp;if(jt(A)){var E=C.getMouseInfo(_);A(E,_)}}),yt(C,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),yt(C,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&C.handleMouseDown(_.changedTouches[0])}),yt(C,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&C.handleMouseUp(_.changedTouches[0])}),yt(C,"handleDoubleClick",function(_){var A=C.props.onDoubleClick;if(jt(A)){var E=C.getMouseInfo(_);A(E,_)}}),yt(C,"handleContextMenu",function(_){var A=C.props.onContextMenu;if(jt(A)){var E=C.getMouseInfo(_);A(E,_)}}),yt(C,"triggerSyncEvent",function(_){C.props.syncId!==void 0&&GS.emit(KS,C.props.syncId,_,C.eventEmitterSymbol)}),yt(C,"applySyncEvent",function(_){var A=C.props,E=A.layout,D=A.syncMethod,I=C.state.updateId,O=_.dataStartIndex,k=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)C.setState(_e({dataStartIndex:O,dataEndIndex:k},g({props:C.props,dataStartIndex:O,dataEndIndex:k,updateId:I},C.state)));else if(_.activeTooltipIndex!==void 0){var F=_.chartX,L=_.chartY,Y=_.activeTooltipIndex,q=C.state,ie=q.offset,$=q.tooltipTicks;if(!ie)return;if(typeof D=="function")Y=D($,_);else if(D==="value"){Y=-1;for(var z=0;z<$.length;z++)if($[z].value===_.activeLabel){Y=z;break}}var le=_e(_e({},ie),{},{x:ie.left,y:ie.top}),pe=Math.min(F,le.x+le.width),ee=Math.min(L,le.y+le.height),J=$[Y]&&$[Y].value,B=j_(C.state,C.props.data,Y),me=$[Y]?{x:E==="horizontal"?$[Y].coordinate:pe,y:E==="horizontal"?ee:$[Y].coordinate}:e9;C.setState(_e(_e({},_),{},{activeLabel:J,activeCoordinate:me,activePayload:B,activeTooltipIndex:Y}))}else C.setState(_)}),yt(C,"renderCursor",function(_){var A,E=C.state,D=E.isTooltipActive,I=E.activeCoordinate,O=E.activePayload,k=E.offset,F=E.activeTooltipIndex,L=E.tooltipAxisBandSize,Y=C.getTooltipEventType(),q=(A=_.props.active)!==null&&A!==void 0?A:D,ie=C.props.layout,$=_.key||"_recharts-cursor";return H.createElement(bLe,{key:$,activeCoordinate:I,activePayload:O,activeTooltipIndex:F,chartName:n,element:_,isActive:q,layout:ie,offset:k,tooltipAxisBandSize:L,tooltipEventType:Y})}),yt(C,"renderPolarAxis",function(_,A,E){var D=bi(_,"type.axisType"),I=bi(C.state,"".concat(D,"Map")),O=_.type.defaultProps,k=O!==void 0?_e(_e({},O),_.props):_.props,F=I&&I[k["".concat(D,"Id")]];return w.cloneElement(_,_e(_e({},F),{},{className:Et(D,F.className),key:_.key||"".concat(A,"-").concat(E),ticks:Go(F,!0)}))}),yt(C,"renderPolarGrid",function(_){var A=_.props,E=A.radialLines,D=A.polarAngles,I=A.polarRadius,O=C.state,k=O.radiusAxisMap,F=O.angleAxisMap,L=Wl(k),Y=Wl(F),q=Y.cx,ie=Y.cy,$=Y.innerRadius,z=Y.outerRadius;return w.cloneElement(_,{polarAngles:Array.isArray(D)?D:Go(Y,!0).map(function(le){return le.coordinate}),polarRadius:Array.isArray(I)?I:Go(L,!0).map(function(le){return le.coordinate}),cx:q,cy:ie,innerRadius:$,outerRadius:z,key:_.key||"polar-grid",radialLines:E})}),yt(C,"renderLegend",function(){var _=C.state.formattedGraphicalItems,A=C.props,E=A.children,D=A.width,I=A.height,O=C.props.margin||{},k=D-(O.left||0)-(O.right||0),F=A7({children:E,formattedGraphicalItems:_,legendWidth:k,legendContent:u});if(!F)return null;var L=F.item,Y=M3(F,wLe);return w.cloneElement(L,_e(_e({},Y),{},{chartWidth:D,chartHeight:I,margin:O,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),yt(C,"renderTooltip",function(){var _,A=C.props,E=A.children,D=A.accessibilityLayer,I=fi(E,Vr);if(!I)return null;var O=C.state,k=O.isTooltipActive,F=O.activeCoordinate,L=O.activePayload,Y=O.activeLabel,q=O.offset,ie=(_=I.props.active)!==null&&_!==void 0?_:k;return w.cloneElement(I,{viewBox:_e(_e({},q),{},{x:q.left,y:q.top}),active:ie,label:Y,payload:ie?L:[],coordinate:F,accessibilityLayer:D})}),yt(C,"renderBrush",function(_){var A=C.props,E=A.margin,D=A.data,I=C.state,O=I.offset,k=I.dataStartIndex,F=I.dataEndIndex,L=I.updateId;return w.cloneElement(_,{key:_.key||"_recharts-brush",onChange:vy(C.handleBrushChange,_.props.onChange),data:D,x:Ve(_.props.x)?_.props.x:O.left,y:Ve(_.props.y)?_.props.y:O.top+O.height+O.brushBottom-(E.bottom||0),width:Ve(_.props.width)?_.props.width:O.width,startIndex:k,endIndex:F,updateId:"brush-".concat(L)})}),yt(C,"renderReferenceElement",function(_,A,E){if(!_)return null;var D=C,I=D.clipPathId,O=C.state,k=O.xAxisMap,F=O.yAxisMap,L=O.offset,Y=_.type.defaultProps||{},q=_.props,ie=q.xAxisId,$=ie===void 0?Y.xAxisId:ie,z=q.yAxisId,le=z===void 0?Y.yAxisId:z;return w.cloneElement(_,{key:_.key||"".concat(A,"-").concat(E),xAxis:k[$],yAxis:F[le],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:I})}),yt(C,"renderActivePoints",function(_){var A=_.item,E=_.activePoint,D=_.basePoint,I=_.childIndex,O=_.isRange,k=[],F=A.props.key,L=A.item.type.defaultProps!==void 0?_e(_e({},A.item.type.defaultProps),A.item.props):A.item.props,Y=L.activeDot,q=L.dataKey,ie=_e(_e({index:I,dataKey:q,cx:E.x,cy:E.y,r:4,fill:Sk(A.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ct(Y,!1)),M0(Y));return k.push(N.renderActiveDot(Y,ie,"".concat(F,"-activePoint-").concat(I))),D?k.push(N.renderActiveDot(Y,_e(_e({},ie),{},{cx:D.x,cy:D.y}),"".concat(F,"-basePoint-").concat(I))):O&&k.push(null),k}),yt(C,"renderGraphicChild",function(_,A,E){var D=C.filterFormatItem(_,A,E);if(!D)return null;var I=C.getTooltipEventType(),O=C.state,k=O.isTooltipActive,F=O.tooltipAxis,L=O.activeTooltipIndex,Y=O.activeLabel,q=C.props.children,ie=fi(q,Vr),$=D.props,z=$.points,le=$.isRange,pe=$.baseLine,ee=D.item.type.defaultProps!==void 0?_e(_e({},D.item.type.defaultProps),D.item.props):D.item.props,J=ee.activeDot,B=ee.hide,me=ee.activeBar,ve=ee.activeShape,re=!!(!B&&k&&ie&&(J||me||ve)),V={};I!=="axis"&&ie&&ie.props.trigger==="click"?V={onClick:vy(C.handleItemMouseEnter,_.props.onClick)}:I!=="axis"&&(V={onMouseLeave:vy(C.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:vy(C.handleItemMouseEnter,_.props.onMouseEnter)});var Z=w.cloneElement(_,_e(_e({},D.props),V));function ye(Ke){return typeof F.dataKey=="function"?F.dataKey(Ke.payload):null}if(re)if(L>=0){var te,M;if(F.dataKey&&!F.allowDuplicatedCategory){var je=typeof F.dataKey=="function"?ye:"payload.".concat(F.dataKey.toString());te=D0(z,je,Y),M=le&&pe&&D0(pe,je,Y)}else te=z==null?void 0:z[L],M=le&&pe&&pe[L];if(ve||me){var we=_.props.activeIndex!==void 0?_.props.activeIndex:L;return[w.cloneElement(_,_e(_e(_e({},D.props),V),{},{activeIndex:we})),null,null]}if(!At(te))return[Z].concat(If(C.renderActivePoints({item:D,activePoint:te,basePoint:M,childIndex:L,isRange:le})))}else{var Fe,Be=(Fe=C.getItemByXY(C.state.activeCoordinate))!==null&&Fe!==void 0?Fe:{graphicalItem:Z},at=Be.graphicalItem,lt=at.item,ut=lt===void 0?_:lt,Ne=at.childIndex,Ge=_e(_e(_e({},D.props),V),{},{activeIndex:Ne});return[w.cloneElement(ut,Ge),null,null]}return le?[Z,null,null]:[Z,null]}),yt(C,"renderCustomized",function(_,A,E){return w.cloneElement(_,_e(_e({key:"recharts-customized-".concat(E)},C.props),C.state))}),yt(C,"renderMap",{CartesianGrid:{handler:wy,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:wy},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:wy},YAxis:{handler:wy},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((b=j.id)!==null&&b!==void 0?b:pd("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=_q(C.triggeredAfterMouseMove,(P=j.throttleDelay)!==null&&P!==void 0?P:1e3/60),C.state={},C}return MLe(N,y),kLe(N,[{key:"componentDidMount",value:function(){var b,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,P=b.children,C=b.data,_=b.height,A=b.layout,E=fi(P,Vr);if(E){var D=E.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,O=j_(this.state,C,D,I),k=this.state.tooltipTicks[D].coordinate,F=(this.state.offset.top+_)/2,L=A==="horizontal",Y=L?{x:k,y:F}:{y:k,x:F},q=this.state.formattedGraphicalItems.find(function($){var z=$.item;return z.type.name==="Scatter"});q&&(Y=_e(_e({},Y),q.props.points[D].tooltipPosition),O=q.props.points[D].tooltipPayload);var ie={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:I,activePayload:O,activeCoordinate:Y};this.setState(ie),this.renderCursor(E),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var C,_;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(b){K2([fi(b.children,Vr)],[fi(this.props.children,Vr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=fi(this.props.children,Vr);if(b&&typeof b.props.shared=="boolean"){var P=b.props.shared?"axis":"item";return l.indexOf(P)>=0?P:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var P=this.container,C=P.getBoundingClientRect(),_=_Pe(C),A={chartX:Math.round(b.pageX-_.left),chartY:Math.round(b.pageY-_.top)},E=C.width/P.offsetWidth||1,D=this.inRange(A.chartX,A.chartY,E);if(!D)return null;var I=this.state,O=I.xAxisMap,k=I.yAxisMap,F=this.getTooltipEventType(),L=$3(this.state,this.props.data,this.props.layout,D);if(F!=="axis"&&O&&k){var Y=Wl(O).scale,q=Wl(k).scale,ie=Y&&Y.invert?Y.invert(A.chartX):null,$=q&&q.invert?q.invert(A.chartY):null;return _e(_e({},A),{},{xValue:ie,yValue:$},L)}return L?_e(_e({},A),L):null}},{key:"inRange",value:function(b,P){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,A=b/C,E=P/C;if(_==="horizontal"||_==="vertical"){var D=this.state.offset,I=A>=D.left&&A<=D.left+D.width&&E>=D.top&&E<=D.top+D.height;return I?{x:A,y:E}:null}var O=this.state,k=O.angleAxisMap,F=O.radiusAxisMap;if(k&&F){var L=Wl(k);return iR({x:A,y:E},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,P=this.getTooltipEventType(),C=fi(b,Vr),_={};C&&P==="axis"&&(C.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=M0(this.props,this.handleOuterEvent);return _e(_e({},A),_)}},{key:"addListener",value:function(){GS.on(KS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){GS.removeListener(KS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,P,C){for(var _=this.state.formattedGraphicalItems,A=0,E=_.length;A<E;A++){var D=_[A];if(D.item===b||D.props.key===b.key||P===Qo(D.item.type)&&C===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,P=this.state.offset,C=P.left,_=P.top,A=P.height,E=P.width;return H.createElement("defs",null,H.createElement("clipPath",{id:b},H.createElement("rect",{x:C,y:_,height:A,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(P,C){var _=D3(C,2),A=_[0],E=_[1];return _e(_e({},P),{},yt({},A,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(P,C){var _=D3(C,2),A=_[0],E=_[1];return _e(_e({},P),{},yt({},A,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[b])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(b){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[b])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(b){var P=this.state,C=P.formattedGraphicalItems,_=P.activeItem;if(C&&C.length)for(var A=0,E=C.length;A<E;A++){var D=C[A],I=D.props,O=D.item,k=O.type.defaultProps!==void 0?_e(_e({},O.type.defaultProps),O.props):O.props,F=Qo(O.type);if(F==="Bar"){var L=(I.data||[]).find(function($){return cMe(b,$)});if(L)return{graphicalItem:D,payload:L}}else if(F==="RadialBar"){var Y=(I.data||[]).find(function($){return iR(b,$)});if(Y)return{graphicalItem:D,payload:Y}}else if(Aw(D,_)||Ew(D,_)||Bg(D,_)){var q=XIe({graphicalItem:D,activeTooltipItem:_,itemData:k.data}),ie=k.activeIndex===void 0?q:k.activeIndex;return{graphicalItem:_e(_e({},D),{},{childIndex:ie}),payload:Bg(D,_)?k.data[q]:D.props.data[q]}}}return null}},{key:"render",value:function(){var b=this;if(!QI(this))return null;var P=this.props,C=P.children,_=P.className,A=P.width,E=P.height,D=P.style,I=P.compact,O=P.title,k=P.desc,F=M3(P,NLe),L=ct(F,!1);if(I)return H.createElement(f3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(Q2,xh({},L,{width:A,height:E,title:O,desc:k}),this.renderClipPath(),JI(C,this.renderMap)));if(this.props.accessibilityLayer){var Y,q;L.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,L.role=(q=this.props.role)!==null&&q!==void 0?q:"application",L.onKeyDown=function($){b.accessibilityManager.keyboardEvent($)},L.onFocus=function(){b.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return H.createElement(f3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",xh({className:Et("recharts-wrapper",_),style:_e({position:"relative",cursor:"default",width:A,height:E},D)},ie,{ref:function(z){b.container=z}}),H.createElement(Q2,xh({},L,{width:A,height:E,title:O,desc:k,style:BLe}),this.renderClipPath(),JI(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);yt(x,"displayName",n),yt(x,"defaultProps",_e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),yt(x,"getDerivedStateFromProps",function(y,N){var j=y.dataKey,b=y.data,P=y.children,C=y.width,_=y.height,A=y.layout,E=y.stackOffset,D=y.margin,I=N.dataStartIndex,O=N.dataEndIndex;if(N.updateId===void 0){var k=R3(y);return _e(_e(_e({},k),{},{updateId:0},g(_e(_e({props:y},k),{},{updateId:0}),N)),{},{prevDataKey:j,prevData:b,prevWidth:C,prevHeight:_,prevLayout:A,prevStackOffset:E,prevMargin:D,prevChildren:P})}if(j!==N.prevDataKey||b!==N.prevData||C!==N.prevWidth||_!==N.prevHeight||A!==N.prevLayout||E!==N.prevStackOffset||!kh(D,N.prevMargin)){var F=R3(y),L={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},Y=_e(_e({},$3(N,b,A)),{},{updateId:N.updateId+1}),q=_e(_e(_e({},F),L),Y);return _e(_e(_e({},q),g(_e({props:y},q),N)),{},{prevDataKey:j,prevData:b,prevWidth:C,prevHeight:_,prevLayout:A,prevStackOffset:E,prevMargin:D,prevChildren:P})}if(!K2(P,N.prevChildren)){var ie,$,z,le,pe=fi(P,Nf),ee=pe&&(ie=($=pe.props)===null||$===void 0?void 0:$.startIndex)!==null&&ie!==void 0?ie:I,J=pe&&(z=(le=pe.props)===null||le===void 0?void 0:le.endIndex)!==null&&z!==void 0?z:O,B=ee!==I||J!==O,me=!At(b),ve=me&&!B?N.updateId:N.updateId+1;return _e(_e({updateId:ve},g(_e(_e({props:y},N),{},{updateId:ve,dataStartIndex:ee,dataEndIndex:J}),N)),{},{prevChildren:P,dataStartIndex:ee,dataEndIndex:J})}return null}),yt(x,"renderActiveDot",function(y,N,j){var b;return w.isValidElement(y)?b=w.cloneElement(y,N):jt(y)?b=y(N):b=H.createElement(Pv,N),H.createElement(Qt,{className:"recharts-active-dot",key:j},b)});var v=w.forwardRef(function(N,j){return H.createElement(x,xh({},N,{ref:j}))});return v.displayName=x.displayName,v},F3=$w({chartName:"LineChart",GraphicalChild:kf,axisComponents:[{axisType:"xAxis",AxisComp:Ma},{axisType:"yAxis",AxisComp:Ia}],formatAxisMap:Pk}),QLe=$w({chartName:"BarChart",GraphicalChild:so,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ma},{axisType:"yAxis",AxisComp:Ia}],formatAxisMap:Pk}),$k=$w({chartName:"PieChart",GraphicalChild:Ba,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:_w},{axisType:"radiusAxis",AxisComp:Cw}],formatAxisMap:NTe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Rk=$w({chartName:"AreaChart",GraphicalChild:Zi,axisComponents:[{axisType:"xAxis",AxisComp:Ma},{axisType:"yAxis",AxisComp:Ia}],formatAxisMap:Pk});function XLe({open:e,onOpenChange:t,prescription:n}){const{updatePrescription:s}=pt(),{toast:i}=Ft(),[a,o]=w.useState({date:"",prescribedBy:"",diagnosis:"",instructions:"",duration:"",followUpDate:"",status:"",notes:""}),[l,c]=w.useState([]);w.useEffect(()=>{e&&n&&(o({date:n.date,prescribedBy:n.prescribedBy,diagnosis:n.diagnosis,instructions:n.instructions,duration:n.duration,followUpDate:n.followUpDate||"",status:n.status,notes:n.notes||""}),c([...n.medications]))},[e,n]);const u=y=>{o(N=>({...N,[y.target.id]:y.target.value}))},d=(y,N)=>{o(j=>({...j,[y]:N}))},f=(y,N,j)=>{const b=[...l];b[y]={...b[y],[N]:N==="quantity"||N==="refills"||N==="cost"?Number(j):j},c(b)},m=()=>{const y=Math.max(...l.map(N=>N.id),0)+1;c([...l,{id:y,name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,unit:"comprimés",refills:0,cost:0}])},g=y=>{l.length>1&&c(l.filter((N,j)=>j!==y))},x=y=>{if(y.preventDefault(),!n)return;const N=l.filter(j=>j.name.trim()!=="");if(N.length===0){i({title:"Erreur",description:"Au moins un médicament doit être spécifié.",variant:"destructive"});return}s(n.id,{date:a.date,prescribedBy:a.prescribedBy,diagnosis:a.diagnosis,medications:N,instructions:a.instructions,duration:a.duration,followUpDate:a.followUpDate||void 0,status:a.status,notes:a.notes}),i({title:"Prescription mise à jour",description:"La prescription a été modifiée avec succès."}),t(!1)},v=()=>l.reduce((y,N)=>y+(N.cost||0),0);return n?r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(Yo,{className:"h-5 w-5"}),"Modifier la Prescription"]}),r.jsxs(Cn,{children:["Modifiez la prescription pour ",n.petName," (",n.clientName,")."]})]}),r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"date",children:"Date de prescription *"}),r.jsx(se,{id:"date",type:"date",value:a.date,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"prescribedBy",children:"Prescrit par *"}),r.jsx(se,{id:"prescribedBy",value:a.prescribedBy,onChange:u,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"diagnosis",children:"Diagnostic *"}),r.jsx(se,{id:"diagnosis",value:a.diagnosis,onChange:u,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"duration",children:"Durée du traitement"}),r.jsx(se,{id:"duration",value:a.duration,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"followUpDate",children:"Date de suivi"}),r.jsx(se,{id:"followUpDate",type:"date",value:a.followUpDate,onChange:u,min:a.date})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Statut"}),r.jsxs(Ie,{value:a.status,onValueChange:y=>d("status",y),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"active",children:"Active"}),r.jsx(K,{value:"completed",children:"Terminée"}),r.jsx(K,{value:"discontinued",children:"Arrêtée"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(U,{className:"text-base font-medium",children:"Médicaments prescrits"}),r.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:m,className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Ajouter médicament"]})]}),r.jsx("div",{className:"space-y-4",children:l.map((y,N)=>r.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:["Médicament ",N+1]}),l.length>1&&r.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>g(N),className:"text-red-600 hover:text-red-700",children:r.jsx(zn,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Nom du médicament *"}),r.jsx(se,{value:y.name,onChange:j=>f(N,"name",j.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Dosage *"}),r.jsx(se,{value:y.dosage,onChange:j=>f(N,"dosage",j.target.value),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Fréquence *"}),r.jsx(se,{value:y.frequency,onChange:j=>f(N,"frequency",j.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Durée"}),r.jsx(se,{value:y.duration,onChange:j=>f(N,"duration",j.target.value)})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Quantité"}),r.jsx(se,{type:"number",value:y.quantity,onChange:j=>f(N,"quantity",parseInt(j.target.value)),min:"1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Unité"}),r.jsxs(Ie,{value:y.unit,onValueChange:j=>f(N,"unit",j),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"comprimés",children:"Comprimés"}),r.jsx(K,{value:"ml",children:"ml"}),r.jsx(K,{value:"g",children:"g"}),r.jsx(K,{value:"mg",children:"mg"}),r.jsx(K,{value:"ampoules",children:"Ampoules"}),r.jsx(K,{value:"flacons",children:"Flacons"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Coût (€)"}),r.jsx(se,{type:"number",step:"0.01",value:y.cost,onChange:j=>f(N,"cost",parseFloat(j.target.value)),min:"0"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Instructions spécifiques"}),r.jsx(se,{value:y.instructions,onChange:j=>f(N,"instructions",j.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Renouvellements"}),r.jsx(se,{type:"number",value:y.refills,onChange:j=>f(N,"refills",parseInt(j.target.value)),min:"0"})]})]})]},y.id))}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(Oe,{variant:"outline",className:"text-lg px-4 py-2",children:["Coût total: ",v().toFixed(2),"€"]})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"instructions",children:"Instructions générales"}),r.jsx(St,{id:"instructions",value:a.instructions,onChange:u,rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",value:a.notes,onChange:u,rows:2})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsxs(W,{type:"submit",className:"gap-2",children:[r.jsx(Pp,{className:"h-4 w-4"}),"Sauvegarder"]})]})]})]})}):null}const JLe="vetpro-veterinarians";function b_({prescription:e}){const{settings:t}=Wt();JSON.parse(localStorage.getItem(JLe)||"[]");const n=e.prescribedBy,s=()=>{const i=window.open("","_blank");if(!i)return;const a=`
      <html>
        <head>
          <title>Prescription - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-info {
              margin-bottom: 30px;
            }
            .patient-info {
              margin-bottom: 30px;
            }
            .prescription-details {
              margin-bottom: 30px;
            }
            .medications {
              margin-bottom: 30px;
            }
            .medication-item {
              border: 1px solid #ccc;
              padding: 15px;
              margin-bottom: 15px;
              border-radius: 5px;
            }
            .instructions {
              margin-bottom: 30px;
            }
            .footer {
              margin-top: 50px;
              text-align: center;
            }
            .signature-line {
              border-top: 1px solid #333;
              width: 200px;
              margin: 20px auto;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 20px;
            }
            th, td {
              border: 1px solid #ddd;
              padding: 8px;
              text-align: left;
            }
            th {
              background-color: #f2f2f2;
            }
            .total-cost {
              font-weight: bold;
              text-align: right;
              margin-top: 20px;
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${t.logo?`<img src="${t.logo}" alt="Logo clinique" style="height:60px;margin-bottom:10px;"/>`:""}
            <h1>PRESCRIPTION MÉDICALE</h1>
            <h2>${t.clinicName}</h2>
            <p>${t.address}<br>
            Tél: ${t.phone} | Email: ${t.email}</p>
          </div>

          <div class="clinic-info">
            <strong>Date de prescription:</strong> ${new Date(e.date).toLocaleDateString("fr-FR")}<br>
            <strong>Prescrit par:</strong> ${n}
          </div>

          <div class="patient-info">
            <h3>Informations du patient</h3>
            <table>
              <tr>
                <th>Propriétaire</th>
                <td>${e.clientName}</td>
              </tr>
              <tr>
                <th>Animal</th>
                <td>${e.petName}</td>
              </tr>
              <tr>
                <th>Diagnostic</th>
                <td>${e.diagnosis}</td>
              </tr>
              <tr>
                <th>Durée du traitement</th>
                <td>${e.duration}</td>
              </tr>
            </table>
          </div>

          <div class="medications">
            <h3>Médicaments prescrits</h3>
            ${e.medications.map(o=>`
              <div class="medication-item">
                <h4>${o.name}</h4>
                <table>
                  <tr>
                    <th>Posologie</th>
                    <td>${o.dosage} - ${o.frequency}</td>
                  </tr>
                  <tr>
                    <th>Durée</th>
                    <td>${o.duration}</td>
                  </tr>
                  <tr>
                    <th>Quantité</th>
                    <td>${o.quantity} ${o.unit}</td>
                  </tr>
                  ${o.refills&&o.refills>0?`
                    <tr>
                      <th>Renouvellements</th>
                      <td>${o.refills}</td>
                    </tr>
                  `:""}
                  ${o.instructions?`
                    <tr>
                      <th>Instructions</th>
                      <td>${o.instructions}</td>
                    </tr>
                  `:""}
                  ${o.cost?`
                    <tr>
                      <th>Coût</th>
                      <td>${o.cost.toFixed(2)}€</td>
                    </tr>
                  `:""}
                </table>
              </div>
            `).join("")}
            
            <div class="total-cost">
              Coût total: ${e.medications.reduce((o,l)=>o+(l.cost||0),0).toFixed(2)}€
            </div>
          </div>

          ${e.instructions?`
            <div class="instructions">
              <h3>Instructions générales</h3>
              <p>${e.instructions}</p>
            </div>
          `:""}

          ${e.followUpDate?`
            <div class="instructions">
              <h3>Suivi</h3>
              <p><strong>Date de suivi prévue:</strong> ${new Date(e.followUpDate).toLocaleDateString("fr-FR")}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="instructions">
              <h3>Notes</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="signature-line"></div>
            <p>Signature du vétérinaire</p>
            <p><small>Cette prescription est valable pour la durée du traitement prescrit.</small></p>
          </div>
        </body>
      </html>
    `;i.document.write(a),i.document.close(),i.focus(),i.print(),i.close()};return r.jsxs(W,{size:"sm",variant:"outline",onClick:s,className:"gap-2",children:[r.jsx(AA,{className:"h-4 w-4"}),"Générer Ordonnance"]})}const ZLe={active:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",discontinued:"bg-red-100 text-red-800"},eFe={active:"Active",completed:"Terminée",discontinued:"Arrêtée"};function n9({petId:e,consultationId:t}){const{prescriptions:n,getPrescriptionsByPetId:s,getPrescriptionsByConsultationId:i,deletePrescription:a}=pt(),{toast:o}=Ft(),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null),g=t?i(t):s(e),x=j=>{m(j),d(!0)},v=j=>{confirm(`Êtes-vous sûr de vouloir supprimer la prescription pour ${j.medications.map(b=>b.name).join(", ")} ?`)&&(a(j.id),o({title:"Prescription supprimée",description:"La prescription a été supprimée avec succès."}))},y=j=>{switch(j){case"active":return r.jsx(zr,{className:"h-4 w-4 text-green-600"});case"completed":return r.jsx(Zn,{className:"h-4 w-4 text-gray-600"});case"discontinued":return r.jsx(eg,{className:"h-4 w-4 text-red-600"});default:return r.jsx(In,{className:"h-4 w-4 text-gray-600"})}},N=j=>j.reduce((b,P)=>b+(P.cost||0),0);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(Yo,{className:"h-5 w-5"}),"Prescriptions (",g.length,")"]}),r.jsxs(W,{size:"sm",onClick:()=>c(!0),className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle Prescription"]})]}),g.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center text-muted-foreground",children:[r.jsx(Yo,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune prescription trouvée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer une nouvelle prescription"})]})}):r.jsx("div",{className:"space-y-4",children:g.sort((j,b)=>new Date(b.date).getTime()-new Date(j.date).getTime()).map(j=>r.jsxs(de,{className:"card-hover",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[y(j.status),r.jsx(Oe,{className:ZLe[j.status],children:eFe[j.status]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx(wt,{className:"h-4 w-4 inline mr-1"}),new Date(j.date).toLocaleDateString("fr-FR")]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(b_,{prescription:j}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>x(j),className:"h-8 w-8 p-0",title:"Modifier",children:r.jsx(en,{className:"h-3 w-3"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>v(j),className:"h-8 w-8 p-0 text-red-600",title:"Supprimer",children:r.jsx(zn,{className:"h-3 w-3"})})]})]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Prescrit par:"}),r.jsx("p",{className:"text-muted-foreground",children:j.prescribedBy})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-muted-foreground",children:j.diagnosis})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Durée:"}),r.jsx("p",{className:"text-muted-foreground",children:j.duration})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Coût total:"}),r.jsxs("p",{className:"text-muted-foreground",children:[N(j.medications).toFixed(2),"€"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Médicaments prescrits:"}),r.jsx("div",{className:"space-y-3",children:j.medications.map(b=>r.jsx("div",{className:"p-3 border rounded-lg bg-muted/30",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium",children:b.name}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Posologie:"})," ",b.dosage," - ",b.frequency]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Durée:"})," ",b.duration]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Quantité:"})," ",b.quantity," ",b.unit]}),b.refills&&b.refills>0&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Renouvellements:"})," ",b.refills]}),b.instructions&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Instructions:"})," ",b.instructions]})]}),b.cost&&r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"font-medium",children:[b.cost.toFixed(2),"€"]})})]})},b.id))})]}),j.instructions&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Instructions générales:"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.instructions})]}),j.followUpDate&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(In,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Suivi prévu:"}),r.jsx("span",{className:"text-muted-foreground",children:new Date(j.followUpDate).toLocaleDateString("fr-FR")})]}),j.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.notes})]})]})]},j.id))})]}),r.jsx(Ub,{open:l,onOpenChange:c,petId:e,consultationId:t}),r.jsx(XLe,{open:u,onOpenChange:d,prescription:f})]})}var r9={exports:{}};(function(e,t){(function(n,s){e.exports=s(w)})(typeof self<"u"?self:or,function(n){return function(){var s={155:function(N){N.exports=n}},i={};function a(N){var j=i[N];if(j!==void 0)return j.exports;var b=i[N]={exports:{}};return s[N](b,b.exports,a),b.exports}a.d=function(N,j){for(var b in j)a.o(j,b)&&!a.o(N,b)&&Object.defineProperty(N,b,{enumerable:!0,get:j[b]})},a.o=function(N,j){return Object.prototype.hasOwnProperty.call(N,j)},a.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var o={};a.r(o),a.d(o,{useReactToPrint:function(){return y}});var l=a(155);function c({level:N="error",messages:j,suppressErrors:b=!1}){b||(N==="error"?console.error(j):N==="warning"?console.warn(j):console.debug(j))}function u(N,j){if(j||!N){const b=document.getElementById("printWindow");b&&document.body.removeChild(b)}}function d(N){return N instanceof Error?N:new Error("Unknown Error")}function f(N,j){const{documentTitle:b,onAfterPrint:P,onPrintError:C,preserveAfterPrint:_,print:A,suppressErrors:E}=j;setTimeout(()=>{var D,I;if(N.contentWindow){let k=function(){P==null||P(),u(_)};var O=k;if(N.contentWindow.focus(),A)A(N).then(k).catch(F=>{C?C("print",d(F)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:E})});else{if(N.contentWindow.print){const F=(I=(D=N.contentDocument)===null||D===void 0?void 0:D.title)!==null&&I!==void 0?I:"",L=N.ownerDocument.title;b&&(N.ownerDocument.title=b,N.contentDocument&&(N.contentDocument.title=b)),N.contentWindow.print(),b&&(N.ownerDocument.title=L,N.contentDocument&&(N.contentDocument.title=F))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:E});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(F=>{var L,Y;return((Y=(L=navigator.userAgent)!==null&&L!==void 0?L:navigator.vendor)!==null&&Y!==void 0?Y:"opera"in window&&window.opera).match(F)})?setTimeout(k,500):k()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:E})},500)}function m(N){const j=[],b=document.createTreeWalker(N,NodeFilter.SHOW_ELEMENT,null);let P=b.nextNode();for(;P;)j.push(P),P=b.nextNode();return j}function g(N,j,b){const P=m(N),C=m(j);if(P.length===C.length)for(let _=0;_<P.length;_++){const A=P[_],E=C[_],D=A.shadowRoot;if(D!==null){const I=E.attachShadow({mode:D.mode});I.innerHTML=D.innerHTML,g(D,I,b)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",N,j],suppressErrors:b})}const x=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function v(N,j,b,P){var C,_,A,E,D;const{contentNode:I,clonedContentNode:O,clonedImgNodes:k,clonedVideoNodes:F,numResourcesToLoad:L,originalCanvasNodes:Y}=b,{bodyClass:q,fonts:ie,ignoreGlobalStyles:$,pageStyle:z,nonce:le,suppressErrors:pe,copyShadowRoots:ee}=P;N.onload=null;const J=(C=N.contentDocument)!==null&&C!==void 0?C:(_=N.contentWindow)===null||_===void 0?void 0:_.document;if(J){const B=J.body.appendChild(O);ee&&g(I,B,!!pe),ie&&(!((A=N.contentDocument)===null||A===void 0)&&A.fonts&&(!((E=N.contentWindow)===null||E===void 0)&&E.FontFace)?ie.forEach(te=>{const M=new FontFace(te.family,te.source,{weight:te.weight,style:te.style});N.contentDocument.fonts.add(M),M.loaded.then(()=>{j(M)}).catch(je=>{j(M,["Failed loading the font:",M,"Load error:",d(je)])})}):(ie.forEach(te=>{j(te)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:pe})));const me=z??x,ve=J.createElement("style");le&&(ve.setAttribute("nonce",le),J.head.setAttribute("nonce",le)),ve.appendChild(J.createTextNode(me)),J.head.appendChild(ve),q&&J.body.classList.add(...q.split(" "));const re=J.querySelectorAll("canvas");for(let te=0;te<Y.length;++te){const M=Y[te],je=re[te];if(je===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",M],suppressErrors:pe});continue}const we=je.getContext("2d");we&&we.drawImage(M,0,0)}for(let te=0;te<k.length;te++){const M=k[te],je=M.getAttribute("src");if(je){const we=new Image;we.onload=()=>{j(M)},we.onerror=(Fe,Be,at,lt,ut)=>{j(M,["Error loading <img>",M,"Error",ut])},we.src=je}else j(M,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',M])}for(let te=0;te<F.length;te++){const M=F[te];M.preload="auto";const je=M.getAttribute("poster");if(je){const we=new Image;we.onload=()=>{j(M)},we.onerror=(Fe,Be,at,lt,ut)=>{j(M,["Error loading video poster",je,"for video",M,"Error:",ut])},we.src=je}else M.readyState>=2?j(M):M.src?(M.onloadeddata=()=>{j(M)},M.onerror=(we,Fe,Be,at,lt)=>{j(M,["Error loading video",M,"Error",lt])},M.onstalled=()=>{j(M,["Loading video stalled, skipping",M])}):j(M,["Error loading video, `src` is empty",M])}const V="select",Z=I.querySelectorAll(V),ye=J.querySelectorAll(V);for(let te=0;te<Z.length;te++)ye[te].value=Z[te].value;if(!$){const te=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let M=0,je=te.length;M<je;++M){const we=te[M];if(we.tagName.toLowerCase()==="style"){const Fe=J.createElement(we.tagName),Be=we.sheet;if(Be){let at="";try{const lt=Be.cssRules.length;for(let ut=0;ut<lt;++ut)typeof Be.cssRules[ut].cssText=="string"&&(at+=`${Be.cssRules[ut].cssText}\r
`)}catch(lt){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",we,`Original error: ${d(lt).message}`],level:"warning"})}Fe.setAttribute("id",`react-to-print-${M}`),le&&Fe.setAttribute("nonce",le),Fe.appendChild(J.createTextNode(at)),J.head.appendChild(Fe)}}else if(we.getAttribute("href"))if(we.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",we],level:"warning"}),j(we);else{const Fe=J.createElement(we.tagName);for(let Be=0,at=we.attributes.length;Be<at;++Be){const lt=we.attributes[Be];lt&&Fe.setAttribute(lt.nodeName,(D=lt.nodeValue)!==null&&D!==void 0?D:"")}Fe.onload=()=>{j(Fe)},Fe.onerror=(Be,at,lt,ut,Ne)=>{j(Fe,["Failed to load",Fe,"Error:",Ne])},le&&Fe.setAttribute("nonce",le),J.head.appendChild(Fe)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",we],level:"warning"}),j(we)}}}L===0&&f(N,P)}function y({bodyClass:N,contentRef:j,copyShadowRoots:b,documentTitle:P,fonts:C,ignoreGlobalStyles:_,nonce:A,onAfterPrint:E,onBeforePrint:D,onPrintError:I,pageStyle:O,preserveAfterPrint:k,print:F,suppressErrors:L}){return(0,l.useCallback)(Y=>{function q(){const ie={bodyClass:N,contentRef:j,copyShadowRoots:b,documentTitle:P,fonts:C,ignoreGlobalStyles:_,nonce:A,onAfterPrint:E,onBeforePrint:D,onPrintError:I,pageStyle:O,preserveAfterPrint:k,print:F,suppressErrors:L},$=function(){const pe=document.createElement("iframe");return pe.width=`${document.documentElement.clientWidth}px`,pe.height=`${document.documentElement.clientHeight}px`,pe.style.position="absolute",pe.style.top=`-${document.documentElement.clientHeight+100}px`,pe.style.left=`-${document.documentElement.clientWidth+100}px`,pe.id="printWindow",pe.srcdoc="<!DOCTYPE html>",pe}(),z=function(pe,ee){const{contentRef:J,fonts:B,ignoreGlobalStyles:me,suppressErrors:ve}=ee,re=function({contentRef:je,optionalContent:we,suppressErrors:Fe}){return we&&typeof we=="function"?(je&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),we()):je?je.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Fe})}({contentRef:J,optionalContent:pe,suppressErrors:ve});if(!re)return;const V=re.cloneNode(!0),Z=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),ye=V.querySelectorAll("img"),te=V.querySelectorAll("video"),M=B?B.length:0;return{contentNode:re,clonedContentNode:V,clonedImgNodes:ye,clonedVideoNodes:te,numResourcesToLoad:(me?0:Z.length)+ye.length+te.length+M,originalCanvasNodes:re.querySelectorAll("canvas")}}(Y,ie);if(!z)return void c({messages:["There is nothing to print"],suppressErrors:L});const le=function(pe,ee,J){const{suppressErrors:B}=pe,me=[],ve=[];return function(re,V){me.includes(re)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",re],suppressErrors:B}):(V?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...V],suppressErrors:B}),ve.push(re)):me.push(re),me.length+ve.length===ee&&f(J,pe))}}(ie,z.numResourcesToLoad,$);(function(pe,ee,J,B){pe.onload=()=>{v(pe,ee,J,B)},document.body.appendChild(pe)})($,le,z,ie)}u(k,!0),D?D().then(()=>{q()}).catch(ie=>{I==null||I("onBeforePrint",d(ie))}):q()},[N,j,b,P,C,_,A,E,D,I,O,k,F,L])}return o}()})})(r9);var Lk=r9.exports,tFe=Object.defineProperty,Ij=Object.getOwnPropertySymbols,s9=Object.prototype.hasOwnProperty,i9=Object.prototype.propertyIsEnumerable,B3=(e,t,n)=>t in e?tFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w_=(e,t)=>{for(var n in t||(t={}))s9.call(t,n)&&B3(e,n,t[n]);if(Ij)for(var n of Ij(t))i9.call(t,n)&&B3(e,n,t[n]);return e},N_=(e,t)=>{var n={};for(var s in e)s9.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&Ij)for(var s of Ij(e))t.indexOf(s)<0&&i9.call(e,s)&&(n[s]=e[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var sd;(e=>{const t=class Gt{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Gt.MIN_VERSION||c>Gt.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let m=[];for(let x=0;x<this.size;x++)m.push(!1);for(let x=0;x<this.size;x++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),f==-1){let x=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const y=this.getPenaltyScore();y<x&&(f=v,x=y),this.applyMask(v)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return Gt.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return Gt.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,m=-1,g=!0){if(!(Gt.MIN_VERSION<=d&&d<=f&&f<=Gt.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let x,v;for(x=d;;x++){const b=Gt.getNumDataCodewords(x,u)*8,P=o.getTotalBits(c,x);if(P<=b){v=P;break}if(x>=f)throw new RangeError("Data too long")}for(const b of[Gt.Ecc.MEDIUM,Gt.Ecc.QUARTILE,Gt.Ecc.HIGH])g&&v<=Gt.getNumDataCodewords(x,b)*8&&(u=b);let y=[];for(const b of c){n(b.mode.modeBits,4,y),n(b.numChars,b.mode.numCharCountBits(x),y);for(const P of b.getData())y.push(P)}i(y.length==v);const N=Gt.getNumDataCodewords(x,u)*8;i(y.length<=N),n(0,Math.min(4,N-y.length),y),n(0,(8-y.length%8)%8,y),i(y.length%8==0);for(let b=236;y.length<N;b^=253)n(b,8,y);let j=[];for(;j.length*8<y.length;)j.push(0);return y.forEach((b,P)=>j[P>>>3]|=b<<7-(P&7)),new Gt(x,u,j,m)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let m=0;m<10;m++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;i(f>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,s(f,m));this.setFunctionModule(8,7,s(f,6)),this.setFunctionModule(8,8,s(f,7)),this.setFunctionModule(7,8,s(f,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,s(f,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,s(f,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,s(f,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;i(u>>>18==0);for(let d=0;d<18;d++){const f=s(u,d),m=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(m,g,f),this.setFunctionModule(g,m,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const m=Math.max(Math.abs(f),Math.abs(d)),g=c+f,x=u+d;0<=g&&g<this.size&&0<=x&&x<this.size&&this.setFunctionModule(g,x,m!=2&&m!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Gt.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Gt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],m=Gt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],g=Math.floor(Gt.getNumRawDataModules(u)/8),x=f-g%f,v=Math.floor(g/f);let y=[];const N=Gt.reedSolomonComputeDivisor(m);for(let b=0,P=0;b<f;b++){let C=c.slice(P,P+v-m+(b<x?0:1));P+=C.length;const _=Gt.reedSolomonComputeRemainder(C,N);b<x&&C.push(0),y.push(C.concat(_))}let j=[];for(let b=0;b<y[0].length;b++)y.forEach((P,C)=>{(b!=v-m||C>=x)&&j.push(P[b])});return i(j.length==g),j}drawCodewords(c){if(c.length!=Math.floor(Gt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let m=0;m<2;m++){const g=d-m,v=(d+1&2)==0?this.size-1-f:f;!this.isFunction[v][g]&&u<c.length*8&&(this.modules[v][g]=s(c[u>>>3],7-(u&7)),u++)}}i(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let m=0;m<this.size;m++){let g=!1,x=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[m][y]==g?(x++,x==5?c+=Gt.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,v),g||(c+=this.finderPenaltyCountPatterns(v)*Gt.PENALTY_N3),g=this.modules[m][y],x=1);c+=this.finderPenaltyTerminateAndCount(g,x,v)*Gt.PENALTY_N3}for(let m=0;m<this.size;m++){let g=!1,x=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][m]==g?(x++,x==5?c+=Gt.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,v),g||(c+=this.finderPenaltyCountPatterns(v)*Gt.PENALTY_N3),g=this.modules[y][m],x=1);c+=this.finderPenaltyTerminateAndCount(g,x,v)*Gt.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let g=0;g<this.size-1;g++){const x=this.modules[m][g];x==this.modules[m][g+1]&&x==this.modules[m+1][g]&&x==this.modules[m+1][g+1]&&(c+=Gt.PENALTY_N2)}let u=0;for(const m of this.modules)u=m.reduce((g,x)=>g+(x?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=f&&f<=9),c+=f*Gt.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<Gt.MIN_VERSION||c>Gt.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Gt.getNumRawDataModules(c)/8)-Gt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Gt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let m=0;m<u.length;m++)u[m]=Gt.reedSolomonMultiply(u[m],d),m+1<u.length&&(u[m]^=u[m+1]);d=Gt.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const m=f^d.shift();d.push(0),u.forEach((g,x)=>d[x]^=Gt.reedSolomonMultiply(g,m))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return i(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];i(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function s(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const a=class rr{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new rr(rr.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!rr.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new rr(rr.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!rr.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=rr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=rr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(f,11,u)}return d<c.length&&n(rr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new rr(rr.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:rr.isNumeric(c)?[rr.makeNumeric(c)]:rr.isAlphanumeric(c)?[rr.makeAlphanumeric(c)]:[rr.makeBytes(rr.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new rr(rr.Mode.ECI,0,u)}static isNumeric(c){return rr.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return rr.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const m=f.mode.numCharCountBits(u);if(f.numChars>=1<<m)return 1/0;d+=4+m+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(sd||(sd={}));(e=>{(t=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(sd||(sd={}));(e=>{(t=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(sd||(sd={}));var yh=sd;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var nFe={L:yh.QrCode.Ecc.LOW,M:yh.QrCode.Ecc.MEDIUM,Q:yh.QrCode.Ecc.QUARTILE,H:yh.QrCode.Ecc.HIGH},a9=128,o9="L",l9="#FFFFFF",c9="#000000",u9=!1,d9=1,rFe=4,sFe=0,iFe=.1;function h9(e,t=0){const n=[];return e.forEach(function(s,i){let a=null;s.forEach(function(o,l){if(!o&&a!==null){n.push(`M${a+t} ${i+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===s.length-1){if(!o)return;a===null?n.push(`M${l+t},${i+t} h1v1H${l+t}z`):n.push(`M${a+t},${i+t} h${l+1-a}v1H${a+t}z`);return}o&&a===null&&(a=l)})}),n.join("")}function f9(e,t){return e.slice().map((n,s)=>s<t.y||s>=t.y+t.h?n:n.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function aFe(e,t,n,s){if(s==null)return null;const i=e.length+n*2,a=Math.floor(t*iFe),o=i/t,l=(s.width||a)*o,c=(s.height||a)*o,u=s.x==null?e.length/2-l/2:s.x*o,d=s.y==null?e.length/2-c/2:s.y*o,f=s.opacity==null?1:s.opacity;let m=null;if(s.excavate){let x=Math.floor(u),v=Math.floor(d),y=Math.ceil(l+u-x),N=Math.ceil(c+d-v);m={x,y:v,w:y,h:N}}const g=s.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:m,opacity:f,crossOrigin:g}}function oFe(e,t){return t!=null?Math.max(Math.floor(t),0):e?rFe:sFe}function m9({value:e,level:t,minVersion:n,includeMargin:s,marginSize:i,imageSettings:a,size:o,boostLevel:l}){let c=H.useMemo(()=>{const x=(Array.isArray(e)?e:[e]).reduce((v,y)=>(v.push(...yh.QrSegment.makeSegments(y)),v),[]);return yh.QrCode.encodeSegments(x,nFe[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:m}=H.useMemo(()=>{let g=c.getModules();const x=oFe(s,i),v=g.length+x*2,y=aFe(g,o,x,a);return{cells:g,margin:x,numCells:v,calculatedImageSettings:y}},[c,o,a,s,i]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:m}}var lFe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),p9=H.forwardRef(function(t,n){const s=t,{value:i,size:a=a9,level:o=o9,bgColor:l=l9,fgColor:c=c9,includeMargin:u=u9,minVersion:d=d9,boostLevel:f,marginSize:m,imageSettings:g}=s,v=N_(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=v,N=N_(v,["style"]),j=g==null?void 0:g.src,b=H.useRef(null),P=H.useRef(null),C=H.useCallback(L=>{b.current=L,typeof n=="function"?n(L):n&&(n.current=L)},[n]),[_,A]=H.useState(!1),{margin:E,cells:D,numCells:I,calculatedImageSettings:O}=m9({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:g,size:a});H.useEffect(()=>{if(b.current!=null){const L=b.current,Y=L.getContext("2d");if(!Y)return;let q=D;const ie=P.current,$=O!=null&&ie!==null&&ie.complete&&ie.naturalHeight!==0&&ie.naturalWidth!==0;$&&O.excavation!=null&&(q=f9(D,O.excavation));const z=window.devicePixelRatio||1;L.height=L.width=a*z;const le=a/I*z;Y.scale(le,le),Y.fillStyle=l,Y.fillRect(0,0,I,I),Y.fillStyle=c,lFe?Y.fill(new Path2D(h9(q,E))):D.forEach(function(pe,ee){pe.forEach(function(J,B){J&&Y.fillRect(B+E,ee+E,1,1)})}),O&&(Y.globalAlpha=O.opacity),$&&Y.drawImage(ie,O.x+E,O.y+E,O.w,O.h)}}),H.useEffect(()=>{A(!1)},[j]);const k=w_({height:a,width:a},y);let F=null;return j!=null&&(F=H.createElement("img",{src:j,key:j,style:{display:"none"},onLoad:()=>{A(!0)},ref:P,crossOrigin:O==null?void 0:O.crossOrigin})),H.createElement(H.Fragment,null,H.createElement("canvas",w_({style:k,height:a,width:a,ref:C,role:"img"},N)),F)});p9.displayName="QRCodeCanvas";var cFe=H.forwardRef(function(t,n){const s=t,{value:i,size:a=a9,level:o=o9,bgColor:l=l9,fgColor:c=c9,includeMargin:u=u9,minVersion:d=d9,boostLevel:f,title:m,marginSize:g,imageSettings:x}=s,v=N_(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:N,numCells:j,calculatedImageSettings:b}=m9({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:g,imageSettings:x,size:a});let P=N,C=null;x!=null&&b!=null&&(b.excavation!=null&&(P=f9(N,b.excavation)),C=H.createElement("image",{href:x.src,height:b.h,width:b.w,x:b.x+y,y:b.y+y,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const _=h9(P,y);return H.createElement("svg",w_({height:a,width:a,viewBox:`0 0 ${j} ${j}`,ref:n,role:"img"},v),!!m&&H.createElement("title",null,m),H.createElement("path",{fill:l,d:`M0,0 h${j}v${j}H0z`,shapeRendering:"crispEdges"}),H.createElement("path",{fill:c,d:_,shapeRendering:"crispEdges"}),C)});cFe.displayName="QRCodeSVG";var $j={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */$j.exports;(function(e,t){(function(){var n,s="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,m=2,g=4,x=1,v=2,y=1,N=2,j=4,b=8,P=16,C=32,_=64,A=128,E=256,D=512,I=30,O="...",k=800,F=16,L=1,Y=2,q=3,ie=1/0,$=9007199254740991,z=17976931348623157e292,le=NaN,pe=4294967295,ee=pe-1,J=pe>>>1,B=[["ary",A],["bind",y],["bindKey",N],["curry",b],["curryRight",P],["flip",D],["partial",C],["partialRight",_],["rearg",E]],me="[object Arguments]",ve="[object Array]",re="[object AsyncFunction]",V="[object Boolean]",Z="[object Date]",ye="[object DOMException]",te="[object Error]",M="[object Function]",je="[object GeneratorFunction]",we="[object Map]",Fe="[object Number]",Be="[object Null]",at="[object Object]",lt="[object Promise]",ut="[object Proxy]",Ne="[object RegExp]",Ge="[object Set]",Ke="[object String]",qt="[object Symbol]",Kn="[object Undefined]",kt="[object WeakMap]",wn="[object WeakSet]",cr="[object ArrayBuffer]",Yn="[object DataView]",gs="[object Float32Array]",Se="[object Float64Array]",Vt="[object Int8Array]",nt="[object Int16Array]",mt="[object Int32Array]",rn="[object Uint8Array]",is="[object Uint8ClampedArray]",Yr="[object Uint16Array]",Rs="[object Uint32Array]",xl=/\b__p \+= '';/g,oe=/\b(__p \+=) '' \+/g,We=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Le=/&(?:amp|lt|gt|quot|#39);/g,En=/[&<>"']/g,Qn=RegExp(Le.source),ra=RegExp(En.source),bt=/<%-([\s\S]+?)%>/g,on=/<%([\s\S]+?)%>/g,gn=/<%=([\s\S]+?)%>/g,vs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xs=/^\w*$/,Pi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ri=/[\\^$.*+?()[\]{}|]/g,ys=RegExp(ri.source),Ls=/^\s+/,Lw=/\s/,Fw=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bw=/\{\n\/\* \[wrapped with (.+)\] \*/,zw=/,? & /,Vw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Uw=/[()=,{}\[\]\/\s]/,qw=/\\(\\)?/g,Ww=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_v=/\w*$/,Hw=/^[-+]0x[0-9a-f]+$/i,Gw=/^0b[01]+$/i,Kw=/^\[object .+?Constructor\]$/,pm=/^0o[0-7]+$/i,jd=/^(?:0|[1-9]\d*)$/,Yw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bo=/($^)/,Qw=/['\n\r\u2028\u2029\\]/g,bd="\\ud800-\\udfff",Xw="\\u0300-\\u036f",Jw="\\ufe20-\\ufe2f",Zw="\\u20d0-\\u20ff",Av=Xw+Jw+Zw,Ev="\\u2700-\\u27bf",kv="a-z\\xdf-\\xf6\\xf8-\\xff",eN="\\xac\\xb1\\xd7\\xf7",tN="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",nN="\\u2000-\\u206f",rN=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tv="A-Z\\xc0-\\xd6\\xd8-\\xde",Ov="\\ufe0e\\ufe0f",Dv=eN+tN+nN+rN,gm="['’]",yl="["+bd+"]",Mv="["+Dv+"]",wd="["+Av+"]",Nd="\\d+",vm="["+Ev+"]",Iv="["+kv+"]",ne="[^"+bd+Dv+Nd+Ev+kv+Tv+"]",X="\\ud83c[\\udffb-\\udfff]",ue="(?:"+wd+"|"+X+")",ge="[^"+bd+"]",qe="(?:\\ud83c[\\udde6-\\uddff]){2}",Je="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Tv+"]",et="\\u200d",vn="(?:"+Iv+"|"+ne+")",sn="(?:"+ze+"|"+ne+")",dt="(?:"+gm+"(?:d|ll|m|re|s|t|ve))?",$n="(?:"+gm+"(?:D|LL|M|RE|S|T|VE))?",Qr=ue+"?",sa="["+Ov+"]?",za="(?:"+et+"(?:"+[ge,qe,Je].join("|")+")"+sa+Qr+")*",Sd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sN="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xm=sa+Qr+za,iN="(?:"+[vm,qe,Je].join("|")+")"+xm,aN="(?:"+[ge+wd+"?",wd,qe,Je,yl].join("|")+")",oN=RegExp(gm,"g"),lN=RegExp(wd,"g"),ym=RegExp(X+"(?="+X+")|"+aN+xm,"g"),cN=RegExp([ze+"?"+Iv+"+"+dt+"(?="+[Mv,ze,"$"].join("|")+")",sn+"+"+$n+"(?="+[Mv,ze+vn,"$"].join("|")+")",ze+"?"+vn+"+"+dt,ze+"+"+$n,sN,Sd,Nd,iN].join("|"),"g"),uN=RegExp("["+et+bd+Av+Ov+"]"),dN=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hN=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fN=-1,Pn={};Pn[gs]=Pn[Se]=Pn[Vt]=Pn[nt]=Pn[mt]=Pn[rn]=Pn[is]=Pn[Yr]=Pn[Rs]=!0,Pn[me]=Pn[ve]=Pn[cr]=Pn[V]=Pn[Yn]=Pn[Z]=Pn[te]=Pn[M]=Pn[we]=Pn[Fe]=Pn[at]=Pn[Ne]=Pn[Ge]=Pn[Ke]=Pn[kt]=!1;var Nn={};Nn[me]=Nn[ve]=Nn[cr]=Nn[Yn]=Nn[V]=Nn[Z]=Nn[gs]=Nn[Se]=Nn[Vt]=Nn[nt]=Nn[mt]=Nn[we]=Nn[Fe]=Nn[at]=Nn[Ne]=Nn[Ge]=Nn[Ke]=Nn[qt]=Nn[rn]=Nn[is]=Nn[Yr]=Nn[Rs]=!0,Nn[te]=Nn[M]=Nn[kt]=!1;var mN={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Bk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$v={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pN={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_9=parseFloat,A9=parseInt,zk=typeof or=="object"&&or&&or.Object===Object&&or,E9=typeof self=="object"&&self&&self.Object===Object&&self,Xr=zk||E9||Function("return this")(),gN=t&&!t.nodeType&&t,Uc=gN&&!0&&e&&!e.nodeType&&e,Vk=Uc&&Uc.exports===gN,vN=Vk&&zk.process,_i=function(){try{var xe=Uc&&Uc.require&&Uc.require("util").types;return xe||vN&&vN.binding&&vN.binding("util")}catch{}}(),Uk=_i&&_i.isArrayBuffer,qk=_i&&_i.isDate,Wk=_i&&_i.isMap,Hk=_i&&_i.isRegExp,Gk=_i&&_i.isSet,Kk=_i&&_i.isTypedArray;function si(xe,Ee,Ce){switch(Ce.length){case 0:return xe.call(Ee);case 1:return xe.call(Ee,Ce[0]);case 2:return xe.call(Ee,Ce[0],Ce[1]);case 3:return xe.call(Ee,Ce[0],Ce[1],Ce[2])}return xe.apply(Ee,Ce)}function k9(xe,Ee,Ce,tt){for(var Tt=-1,dn=xe==null?0:xe.length;++Tt<dn;){var Nr=xe[Tt];Ee(tt,Nr,Ce(Nr),xe)}return tt}function Ai(xe,Ee){for(var Ce=-1,tt=xe==null?0:xe.length;++Ce<tt&&Ee(xe[Ce],Ce,xe)!==!1;);return xe}function T9(xe,Ee){for(var Ce=xe==null?0:xe.length;Ce--&&Ee(xe[Ce],Ce,xe)!==!1;);return xe}function Yk(xe,Ee){for(var Ce=-1,tt=xe==null?0:xe.length;++Ce<tt;)if(!Ee(xe[Ce],Ce,xe))return!1;return!0}function jl(xe,Ee){for(var Ce=-1,tt=xe==null?0:xe.length,Tt=0,dn=[];++Ce<tt;){var Nr=xe[Ce];Ee(Nr,Ce,xe)&&(dn[Tt++]=Nr)}return dn}function Rv(xe,Ee){var Ce=xe==null?0:xe.length;return!!Ce&&Cd(xe,Ee,0)>-1}function xN(xe,Ee,Ce){for(var tt=-1,Tt=xe==null?0:xe.length;++tt<Tt;)if(Ce(Ee,xe[tt]))return!0;return!1}function qn(xe,Ee){for(var Ce=-1,tt=xe==null?0:xe.length,Tt=Array(tt);++Ce<tt;)Tt[Ce]=Ee(xe[Ce],Ce,xe);return Tt}function bl(xe,Ee){for(var Ce=-1,tt=Ee.length,Tt=xe.length;++Ce<tt;)xe[Tt+Ce]=Ee[Ce];return xe}function yN(xe,Ee,Ce,tt){var Tt=-1,dn=xe==null?0:xe.length;for(tt&&dn&&(Ce=xe[++Tt]);++Tt<dn;)Ce=Ee(Ce,xe[Tt],Tt,xe);return Ce}function O9(xe,Ee,Ce,tt){var Tt=xe==null?0:xe.length;for(tt&&Tt&&(Ce=xe[--Tt]);Tt--;)Ce=Ee(Ce,xe[Tt],Tt,xe);return Ce}function jN(xe,Ee){for(var Ce=-1,tt=xe==null?0:xe.length;++Ce<tt;)if(Ee(xe[Ce],Ce,xe))return!0;return!1}var D9=bN("length");function M9(xe){return xe.split("")}function I9(xe){return xe.match(Vw)||[]}function Qk(xe,Ee,Ce){var tt;return Ce(xe,function(Tt,dn,Nr){if(Ee(Tt,dn,Nr))return tt=dn,!1}),tt}function Lv(xe,Ee,Ce,tt){for(var Tt=xe.length,dn=Ce+(tt?1:-1);tt?dn--:++dn<Tt;)if(Ee(xe[dn],dn,xe))return dn;return-1}function Cd(xe,Ee,Ce){return Ee===Ee?G9(xe,Ee,Ce):Lv(xe,Xk,Ce)}function $9(xe,Ee,Ce,tt){for(var Tt=Ce-1,dn=xe.length;++Tt<dn;)if(tt(xe[Tt],Ee))return Tt;return-1}function Xk(xe){return xe!==xe}function Jk(xe,Ee){var Ce=xe==null?0:xe.length;return Ce?NN(xe,Ee)/Ce:le}function bN(xe){return function(Ee){return Ee==null?n:Ee[xe]}}function wN(xe){return function(Ee){return xe==null?n:xe[Ee]}}function Zk(xe,Ee,Ce,tt,Tt){return Tt(xe,function(dn,Nr,_n){Ce=tt?(tt=!1,dn):Ee(Ce,dn,Nr,_n)}),Ce}function R9(xe,Ee){var Ce=xe.length;for(xe.sort(Ee);Ce--;)xe[Ce]=xe[Ce].value;return xe}function NN(xe,Ee){for(var Ce,tt=-1,Tt=xe.length;++tt<Tt;){var dn=Ee(xe[tt]);dn!==n&&(Ce=Ce===n?dn:Ce+dn)}return Ce}function SN(xe,Ee){for(var Ce=-1,tt=Array(xe);++Ce<xe;)tt[Ce]=Ee(Ce);return tt}function L9(xe,Ee){return qn(Ee,function(Ce){return[Ce,xe[Ce]]})}function eT(xe){return xe&&xe.slice(0,sT(xe)+1).replace(Ls,"")}function ii(xe){return function(Ee){return xe(Ee)}}function CN(xe,Ee){return qn(Ee,function(Ce){return xe[Ce]})}function jm(xe,Ee){return xe.has(Ee)}function tT(xe,Ee){for(var Ce=-1,tt=xe.length;++Ce<tt&&Cd(Ee,xe[Ce],0)>-1;);return Ce}function nT(xe,Ee){for(var Ce=xe.length;Ce--&&Cd(Ee,xe[Ce],0)>-1;);return Ce}function F9(xe,Ee){for(var Ce=xe.length,tt=0;Ce--;)xe[Ce]===Ee&&++tt;return tt}var B9=wN(mN),z9=wN(Bk);function V9(xe){return"\\"+pN[xe]}function U9(xe,Ee){return xe==null?n:xe[Ee]}function Pd(xe){return uN.test(xe)}function q9(xe){return dN.test(xe)}function W9(xe){for(var Ee,Ce=[];!(Ee=xe.next()).done;)Ce.push(Ee.value);return Ce}function PN(xe){var Ee=-1,Ce=Array(xe.size);return xe.forEach(function(tt,Tt){Ce[++Ee]=[Tt,tt]}),Ce}function rT(xe,Ee){return function(Ce){return xe(Ee(Ce))}}function wl(xe,Ee){for(var Ce=-1,tt=xe.length,Tt=0,dn=[];++Ce<tt;){var Nr=xe[Ce];(Nr===Ee||Nr===d)&&(xe[Ce]=d,dn[Tt++]=Ce)}return dn}function Fv(xe){var Ee=-1,Ce=Array(xe.size);return xe.forEach(function(tt){Ce[++Ee]=tt}),Ce}function H9(xe){var Ee=-1,Ce=Array(xe.size);return xe.forEach(function(tt){Ce[++Ee]=[tt,tt]}),Ce}function G9(xe,Ee,Ce){for(var tt=Ce-1,Tt=xe.length;++tt<Tt;)if(xe[tt]===Ee)return tt;return-1}function K9(xe,Ee,Ce){for(var tt=Ce+1;tt--;)if(xe[tt]===Ee)return tt;return tt}function _d(xe){return Pd(xe)?Q9(xe):D9(xe)}function ia(xe){return Pd(xe)?X9(xe):M9(xe)}function sT(xe){for(var Ee=xe.length;Ee--&&Lw.test(xe.charAt(Ee)););return Ee}var Y9=wN($v);function Q9(xe){for(var Ee=ym.lastIndex=0;ym.test(xe);)++Ee;return Ee}function X9(xe){return xe.match(ym)||[]}function J9(xe){return xe.match(cN)||[]}var Z9=function xe(Ee){Ee=Ee==null?Xr:Ad.defaults(Xr.Object(),Ee,Ad.pick(Xr,hN));var Ce=Ee.Array,tt=Ee.Date,Tt=Ee.Error,dn=Ee.Function,Nr=Ee.Math,_n=Ee.Object,_N=Ee.RegExp,eH=Ee.String,Ei=Ee.TypeError,Bv=Ce.prototype,tH=dn.prototype,Ed=_n.prototype,zv=Ee["__core-js_shared__"],Vv=tH.toString,xn=Ed.hasOwnProperty,nH=0,iT=function(){var h=/[^.]+$/.exec(zv&&zv.keys&&zv.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Uv=Ed.toString,rH=Vv.call(_n),sH=Xr._,iH=_N("^"+Vv.call(xn).replace(ri,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qv=Vk?Ee.Buffer:n,Nl=Ee.Symbol,Wv=Ee.Uint8Array,aT=qv?qv.allocUnsafe:n,Hv=rT(_n.getPrototypeOf,_n),oT=_n.create,lT=Ed.propertyIsEnumerable,Gv=Bv.splice,cT=Nl?Nl.isConcatSpreadable:n,bm=Nl?Nl.iterator:n,qc=Nl?Nl.toStringTag:n,Kv=function(){try{var h=Yc(_n,"defineProperty");return h({},"",{}),h}catch{}}(),aH=Ee.clearTimeout!==Xr.clearTimeout&&Ee.clearTimeout,oH=tt&&tt.now!==Xr.Date.now&&tt.now,lH=Ee.setTimeout!==Xr.setTimeout&&Ee.setTimeout,Yv=Nr.ceil,Qv=Nr.floor,AN=_n.getOwnPropertySymbols,cH=qv?qv.isBuffer:n,uT=Ee.isFinite,uH=Bv.join,dH=rT(_n.keys,_n),Sr=Nr.max,as=Nr.min,hH=tt.now,fH=Ee.parseInt,dT=Nr.random,mH=Bv.reverse,EN=Yc(Ee,"DataView"),wm=Yc(Ee,"Map"),kN=Yc(Ee,"Promise"),kd=Yc(Ee,"Set"),Nm=Yc(Ee,"WeakMap"),Sm=Yc(_n,"create"),Xv=Nm&&new Nm,Td={},pH=Qc(EN),gH=Qc(wm),vH=Qc(kN),xH=Qc(kd),yH=Qc(Nm),Jv=Nl?Nl.prototype:n,Cm=Jv?Jv.valueOf:n,hT=Jv?Jv.toString:n;function G(h){if(nr(h)&&!Mt(h)&&!(h instanceof Zt)){if(h instanceof ki)return h;if(xn.call(h,"__wrapped__"))return fO(h)}return new ki(h)}var Od=function(){function h(){}return function(p){if(!Xn(p))return{};if(oT)return oT(p);h.prototype=p;var S=new h;return h.prototype=n,S}}();function Zv(){}function ki(h,p){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}G.templateSettings={escape:bt,evaluate:on,interpolate:gn,variable:"",imports:{_:G}},G.prototype=Zv.prototype,G.prototype.constructor=G,ki.prototype=Od(Zv.prototype),ki.prototype.constructor=ki;function Zt(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pe,this.__views__=[]}function jH(){var h=new Zt(this.__wrapped__);return h.__actions__=Fs(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Fs(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Fs(this.__views__),h}function bH(){if(this.__filtered__){var h=new Zt(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function wH(){var h=this.__wrapped__.value(),p=this.__dir__,S=Mt(h),T=p<0,R=S?h.length:0,Q=MG(0,R,this.__views__),ae=Q.start,fe=Q.end,be=fe-ae,ke=T?fe:ae-1,Te=this.__iteratees__,Re=Te.length,Qe=0,ot=as(be,this.__takeCount__);if(!S||!T&&R==be&&ot==be)return $T(h,this.__actions__);var vt=[];e:for(;be--&&Qe<ot;){ke+=p;for(var Bt=-1,xt=h[ke];++Bt<Re;){var Ht=Te[Bt],tn=Ht.iteratee,li=Ht.type,ws=tn(xt);if(li==Y)xt=ws;else if(!ws){if(li==L)continue e;break e}}vt[Qe++]=xt}return vt}Zt.prototype=Od(Zv.prototype),Zt.prototype.constructor=Zt;function Wc(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var T=h[p];this.set(T[0],T[1])}}function NH(){this.__data__=Sm?Sm(null):{},this.size=0}function SH(h){var p=this.has(h)&&delete this.__data__[h];return this.size-=p?1:0,p}function CH(h){var p=this.__data__;if(Sm){var S=p[h];return S===c?n:S}return xn.call(p,h)?p[h]:n}function PH(h){var p=this.__data__;return Sm?p[h]!==n:xn.call(p,h)}function _H(h,p){var S=this.__data__;return this.size+=this.has(h)?0:1,S[h]=Sm&&p===n?c:p,this}Wc.prototype.clear=NH,Wc.prototype.delete=SH,Wc.prototype.get=CH,Wc.prototype.has=PH,Wc.prototype.set=_H;function wo(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var T=h[p];this.set(T[0],T[1])}}function AH(){this.__data__=[],this.size=0}function EH(h){var p=this.__data__,S=ex(p,h);if(S<0)return!1;var T=p.length-1;return S==T?p.pop():Gv.call(p,S,1),--this.size,!0}function kH(h){var p=this.__data__,S=ex(p,h);return S<0?n:p[S][1]}function TH(h){return ex(this.__data__,h)>-1}function OH(h,p){var S=this.__data__,T=ex(S,h);return T<0?(++this.size,S.push([h,p])):S[T][1]=p,this}wo.prototype.clear=AH,wo.prototype.delete=EH,wo.prototype.get=kH,wo.prototype.has=TH,wo.prototype.set=OH;function No(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var T=h[p];this.set(T[0],T[1])}}function DH(){this.size=0,this.__data__={hash:new Wc,map:new(wm||wo),string:new Wc}}function MH(h){var p=hx(this,h).delete(h);return this.size-=p?1:0,p}function IH(h){return hx(this,h).get(h)}function $H(h){return hx(this,h).has(h)}function RH(h,p){var S=hx(this,h),T=S.size;return S.set(h,p),this.size+=S.size==T?0:1,this}No.prototype.clear=DH,No.prototype.delete=MH,No.prototype.get=IH,No.prototype.has=$H,No.prototype.set=RH;function Hc(h){var p=-1,S=h==null?0:h.length;for(this.__data__=new No;++p<S;)this.add(h[p])}function LH(h){return this.__data__.set(h,c),this}function FH(h){return this.__data__.has(h)}Hc.prototype.add=Hc.prototype.push=LH,Hc.prototype.has=FH;function aa(h){var p=this.__data__=new wo(h);this.size=p.size}function BH(){this.__data__=new wo,this.size=0}function zH(h){var p=this.__data__,S=p.delete(h);return this.size=p.size,S}function VH(h){return this.__data__.get(h)}function UH(h){return this.__data__.has(h)}function qH(h,p){var S=this.__data__;if(S instanceof wo){var T=S.__data__;if(!wm||T.length<i-1)return T.push([h,p]),this.size=++S.size,this;S=this.__data__=new No(T)}return S.set(h,p),this.size=S.size,this}aa.prototype.clear=BH,aa.prototype.delete=zH,aa.prototype.get=VH,aa.prototype.has=UH,aa.prototype.set=qH;function fT(h,p){var S=Mt(h),T=!S&&Xc(h),R=!S&&!T&&Al(h),Q=!S&&!T&&!R&&$d(h),ae=S||T||R||Q,fe=ae?SN(h.length,eH):[],be=fe.length;for(var ke in h)(p||xn.call(h,ke))&&!(ae&&(ke=="length"||R&&(ke=="offset"||ke=="parent")||Q&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||_o(ke,be)))&&fe.push(ke);return fe}function mT(h){var p=h.length;return p?h[zN(0,p-1)]:n}function WH(h,p){return fx(Fs(h),Gc(p,0,h.length))}function HH(h){return fx(Fs(h))}function TN(h,p,S){(S!==n&&!oa(h[p],S)||S===n&&!(p in h))&&So(h,p,S)}function Pm(h,p,S){var T=h[p];(!(xn.call(h,p)&&oa(T,S))||S===n&&!(p in h))&&So(h,p,S)}function ex(h,p){for(var S=h.length;S--;)if(oa(h[S][0],p))return S;return-1}function GH(h,p,S,T){return Sl(h,function(R,Q,ae){p(T,R,S(R),ae)}),T}function pT(h,p){return h&&Ua(p,$r(p),h)}function KH(h,p){return h&&Ua(p,zs(p),h)}function So(h,p,S){p=="__proto__"&&Kv?Kv(h,p,{configurable:!0,enumerable:!0,value:S,writable:!0}):h[p]=S}function ON(h,p){for(var S=-1,T=p.length,R=Ce(T),Q=h==null;++S<T;)R[S]=Q?n:h1(h,p[S]);return R}function Gc(h,p,S){return h===h&&(S!==n&&(h=h<=S?h:S),p!==n&&(h=h>=p?h:p)),h}function Ti(h,p,S,T,R,Q){var ae,fe=p&f,be=p&m,ke=p&g;if(S&&(ae=R?S(h,T,R,Q):S(h)),ae!==n)return ae;if(!Xn(h))return h;var Te=Mt(h);if(Te){if(ae=$G(h),!fe)return Fs(h,ae)}else{var Re=os(h),Qe=Re==M||Re==je;if(Al(h))return FT(h,fe);if(Re==at||Re==me||Qe&&!R){if(ae=be||Qe?{}:sO(h),!fe)return be?CG(h,KH(ae,h)):SG(h,pT(ae,h))}else{if(!Nn[Re])return R?h:{};ae=RG(h,Re,fe)}}Q||(Q=new aa);var ot=Q.get(h);if(ot)return ot;Q.set(h,ae),DO(h)?h.forEach(function(xt){ae.add(Ti(xt,p,S,xt,h,Q))}):TO(h)&&h.forEach(function(xt,Ht){ae.set(Ht,Ti(xt,p,S,Ht,h,Q))});var vt=ke?be?JN:XN:be?zs:$r,Bt=Te?n:vt(h);return Ai(Bt||h,function(xt,Ht){Bt&&(Ht=xt,xt=h[Ht]),Pm(ae,Ht,Ti(xt,p,S,Ht,h,Q))}),ae}function YH(h){var p=$r(h);return function(S){return gT(S,h,p)}}function gT(h,p,S){var T=S.length;if(h==null)return!T;for(h=_n(h);T--;){var R=S[T],Q=p[R],ae=h[R];if(ae===n&&!(R in h)||!Q(ae))return!1}return!0}function vT(h,p,S){if(typeof h!="function")throw new Ei(o);return Dm(function(){h.apply(n,S)},p)}function _m(h,p,S,T){var R=-1,Q=Rv,ae=!0,fe=h.length,be=[],ke=p.length;if(!fe)return be;S&&(p=qn(p,ii(S))),T?(Q=xN,ae=!1):p.length>=i&&(Q=jm,ae=!1,p=new Hc(p));e:for(;++R<fe;){var Te=h[R],Re=S==null?Te:S(Te);if(Te=T||Te!==0?Te:0,ae&&Re===Re){for(var Qe=ke;Qe--;)if(p[Qe]===Re)continue e;be.push(Te)}else Q(p,Re,T)||be.push(Te)}return be}var Sl=qT(Va),xT=qT(MN,!0);function QH(h,p){var S=!0;return Sl(h,function(T,R,Q){return S=!!p(T,R,Q),S}),S}function tx(h,p,S){for(var T=-1,R=h.length;++T<R;){var Q=h[T],ae=p(Q);if(ae!=null&&(fe===n?ae===ae&&!oi(ae):S(ae,fe)))var fe=ae,be=Q}return be}function XH(h,p,S,T){var R=h.length;for(S=Rt(S),S<0&&(S=-S>R?0:R+S),T=T===n||T>R?R:Rt(T),T<0&&(T+=R),T=S>T?0:IO(T);S<T;)h[S++]=p;return h}function yT(h,p){var S=[];return Sl(h,function(T,R,Q){p(T,R,Q)&&S.push(T)}),S}function Jr(h,p,S,T,R){var Q=-1,ae=h.length;for(S||(S=FG),R||(R=[]);++Q<ae;){var fe=h[Q];p>0&&S(fe)?p>1?Jr(fe,p-1,S,T,R):bl(R,fe):T||(R[R.length]=fe)}return R}var DN=WT(),jT=WT(!0);function Va(h,p){return h&&DN(h,p,$r)}function MN(h,p){return h&&jT(h,p,$r)}function nx(h,p){return jl(p,function(S){return Ao(h[S])})}function Kc(h,p){p=Pl(p,h);for(var S=0,T=p.length;h!=null&&S<T;)h=h[qa(p[S++])];return S&&S==T?h:n}function bT(h,p,S){var T=p(h);return Mt(h)?T:bl(T,S(h))}function js(h){return h==null?h===n?Kn:Be:qc&&qc in _n(h)?DG(h):HG(h)}function IN(h,p){return h>p}function JH(h,p){return h!=null&&xn.call(h,p)}function ZH(h,p){return h!=null&&p in _n(h)}function eG(h,p,S){return h>=as(p,S)&&h<Sr(p,S)}function $N(h,p,S){for(var T=S?xN:Rv,R=h[0].length,Q=h.length,ae=Q,fe=Ce(Q),be=1/0,ke=[];ae--;){var Te=h[ae];ae&&p&&(Te=qn(Te,ii(p))),be=as(Te.length,be),fe[ae]=!S&&(p||R>=120&&Te.length>=120)?new Hc(ae&&Te):n}Te=h[0];var Re=-1,Qe=fe[0];e:for(;++Re<R&&ke.length<be;){var ot=Te[Re],vt=p?p(ot):ot;if(ot=S||ot!==0?ot:0,!(Qe?jm(Qe,vt):T(ke,vt,S))){for(ae=Q;--ae;){var Bt=fe[ae];if(!(Bt?jm(Bt,vt):T(h[ae],vt,S)))continue e}Qe&&Qe.push(vt),ke.push(ot)}}return ke}function tG(h,p,S,T){return Va(h,function(R,Q,ae){p(T,S(R),Q,ae)}),T}function Am(h,p,S){p=Pl(p,h),h=lO(h,p);var T=h==null?h:h[qa(Di(p))];return T==null?n:si(T,h,S)}function wT(h){return nr(h)&&js(h)==me}function nG(h){return nr(h)&&js(h)==cr}function rG(h){return nr(h)&&js(h)==Z}function Em(h,p,S,T,R){return h===p?!0:h==null||p==null||!nr(h)&&!nr(p)?h!==h&&p!==p:sG(h,p,S,T,Em,R)}function sG(h,p,S,T,R,Q){var ae=Mt(h),fe=Mt(p),be=ae?ve:os(h),ke=fe?ve:os(p);be=be==me?at:be,ke=ke==me?at:ke;var Te=be==at,Re=ke==at,Qe=be==ke;if(Qe&&Al(h)){if(!Al(p))return!1;ae=!0,Te=!1}if(Qe&&!Te)return Q||(Q=new aa),ae||$d(h)?tO(h,p,S,T,R,Q):TG(h,p,be,S,T,R,Q);if(!(S&x)){var ot=Te&&xn.call(h,"__wrapped__"),vt=Re&&xn.call(p,"__wrapped__");if(ot||vt){var Bt=ot?h.value():h,xt=vt?p.value():p;return Q||(Q=new aa),R(Bt,xt,S,T,Q)}}return Qe?(Q||(Q=new aa),OG(h,p,S,T,R,Q)):!1}function iG(h){return nr(h)&&os(h)==we}function RN(h,p,S,T){var R=S.length,Q=R,ae=!T;if(h==null)return!Q;for(h=_n(h);R--;){var fe=S[R];if(ae&&fe[2]?fe[1]!==h[fe[0]]:!(fe[0]in h))return!1}for(;++R<Q;){fe=S[R];var be=fe[0],ke=h[be],Te=fe[1];if(ae&&fe[2]){if(ke===n&&!(be in h))return!1}else{var Re=new aa;if(T)var Qe=T(ke,Te,be,h,p,Re);if(!(Qe===n?Em(Te,ke,x|v,T,Re):Qe))return!1}}return!0}function NT(h){if(!Xn(h)||zG(h))return!1;var p=Ao(h)?iH:Kw;return p.test(Qc(h))}function aG(h){return nr(h)&&js(h)==Ne}function oG(h){return nr(h)&&os(h)==Ge}function lG(h){return nr(h)&&yx(h.length)&&!!Pn[js(h)]}function ST(h){return typeof h=="function"?h:h==null?Vs:typeof h=="object"?Mt(h)?_T(h[0],h[1]):PT(h):HO(h)}function LN(h){if(!Om(h))return dH(h);var p=[];for(var S in _n(h))xn.call(h,S)&&S!="constructor"&&p.push(S);return p}function cG(h){if(!Xn(h))return WG(h);var p=Om(h),S=[];for(var T in h)T=="constructor"&&(p||!xn.call(h,T))||S.push(T);return S}function FN(h,p){return h<p}function CT(h,p){var S=-1,T=Bs(h)?Ce(h.length):[];return Sl(h,function(R,Q,ae){T[++S]=p(R,Q,ae)}),T}function PT(h){var p=e1(h);return p.length==1&&p[0][2]?aO(p[0][0],p[0][1]):function(S){return S===h||RN(S,h,p)}}function _T(h,p){return n1(h)&&iO(p)?aO(qa(h),p):function(S){var T=h1(S,h);return T===n&&T===p?f1(S,h):Em(p,T,x|v)}}function rx(h,p,S,T,R){h!==p&&DN(p,function(Q,ae){if(R||(R=new aa),Xn(Q))uG(h,p,ae,S,rx,T,R);else{var fe=T?T(s1(h,ae),Q,ae+"",h,p,R):n;fe===n&&(fe=Q),TN(h,ae,fe)}},zs)}function uG(h,p,S,T,R,Q,ae){var fe=s1(h,S),be=s1(p,S),ke=ae.get(be);if(ke){TN(h,S,ke);return}var Te=Q?Q(fe,be,S+"",h,p,ae):n,Re=Te===n;if(Re){var Qe=Mt(be),ot=!Qe&&Al(be),vt=!Qe&&!ot&&$d(be);Te=be,Qe||ot||vt?Mt(fe)?Te=fe:ur(fe)?Te=Fs(fe):ot?(Re=!1,Te=FT(be,!0)):vt?(Re=!1,Te=BT(be,!0)):Te=[]:Mm(be)||Xc(be)?(Te=fe,Xc(fe)?Te=$O(fe):(!Xn(fe)||Ao(fe))&&(Te=sO(be))):Re=!1}Re&&(ae.set(be,Te),R(Te,be,T,Q,ae),ae.delete(be)),TN(h,S,Te)}function AT(h,p){var S=h.length;if(S)return p+=p<0?S:0,_o(p,S)?h[p]:n}function ET(h,p,S){p.length?p=qn(p,function(Q){return Mt(Q)?function(ae){return Kc(ae,Q.length===1?Q[0]:Q)}:Q}):p=[Vs];var T=-1;p=qn(p,ii(gt()));var R=CT(h,function(Q,ae,fe){var be=qn(p,function(ke){return ke(Q)});return{criteria:be,index:++T,value:Q}});return R9(R,function(Q,ae){return NG(Q,ae,S)})}function dG(h,p){return kT(h,p,function(S,T){return f1(h,T)})}function kT(h,p,S){for(var T=-1,R=p.length,Q={};++T<R;){var ae=p[T],fe=Kc(h,ae);S(fe,ae)&&km(Q,Pl(ae,h),fe)}return Q}function hG(h){return function(p){return Kc(p,h)}}function BN(h,p,S,T){var R=T?$9:Cd,Q=-1,ae=p.length,fe=h;for(h===p&&(p=Fs(p)),S&&(fe=qn(h,ii(S)));++Q<ae;)for(var be=0,ke=p[Q],Te=S?S(ke):ke;(be=R(fe,Te,be,T))>-1;)fe!==h&&Gv.call(fe,be,1),Gv.call(h,be,1);return h}function TT(h,p){for(var S=h?p.length:0,T=S-1;S--;){var R=p[S];if(S==T||R!==Q){var Q=R;_o(R)?Gv.call(h,R,1):qN(h,R)}}return h}function zN(h,p){return h+Qv(dT()*(p-h+1))}function fG(h,p,S,T){for(var R=-1,Q=Sr(Yv((p-h)/(S||1)),0),ae=Ce(Q);Q--;)ae[T?Q:++R]=h,h+=S;return ae}function VN(h,p){var S="";if(!h||p<1||p>$)return S;do p%2&&(S+=h),p=Qv(p/2),p&&(h+=h);while(p);return S}function Ut(h,p){return i1(oO(h,p,Vs),h+"")}function mG(h){return mT(Rd(h))}function pG(h,p){var S=Rd(h);return fx(S,Gc(p,0,S.length))}function km(h,p,S,T){if(!Xn(h))return h;p=Pl(p,h);for(var R=-1,Q=p.length,ae=Q-1,fe=h;fe!=null&&++R<Q;){var be=qa(p[R]),ke=S;if(be==="__proto__"||be==="constructor"||be==="prototype")return h;if(R!=ae){var Te=fe[be];ke=T?T(Te,be,fe):n,ke===n&&(ke=Xn(Te)?Te:_o(p[R+1])?[]:{})}Pm(fe,be,ke),fe=fe[be]}return h}var OT=Xv?function(h,p){return Xv.set(h,p),h}:Vs,gG=Kv?function(h,p){return Kv(h,"toString",{configurable:!0,enumerable:!1,value:p1(p),writable:!0})}:Vs;function vG(h){return fx(Rd(h))}function Oi(h,p,S){var T=-1,R=h.length;p<0&&(p=-p>R?0:R+p),S=S>R?R:S,S<0&&(S+=R),R=p>S?0:S-p>>>0,p>>>=0;for(var Q=Ce(R);++T<R;)Q[T]=h[T+p];return Q}function xG(h,p){var S;return Sl(h,function(T,R,Q){return S=p(T,R,Q),!S}),!!S}function sx(h,p,S){var T=0,R=h==null?T:h.length;if(typeof p=="number"&&p===p&&R<=J){for(;T<R;){var Q=T+R>>>1,ae=h[Q];ae!==null&&!oi(ae)&&(S?ae<=p:ae<p)?T=Q+1:R=Q}return R}return UN(h,p,Vs,S)}function UN(h,p,S,T){var R=0,Q=h==null?0:h.length;if(Q===0)return 0;p=S(p);for(var ae=p!==p,fe=p===null,be=oi(p),ke=p===n;R<Q;){var Te=Qv((R+Q)/2),Re=S(h[Te]),Qe=Re!==n,ot=Re===null,vt=Re===Re,Bt=oi(Re);if(ae)var xt=T||vt;else ke?xt=vt&&(T||Qe):fe?xt=vt&&Qe&&(T||!ot):be?xt=vt&&Qe&&!ot&&(T||!Bt):ot||Bt?xt=!1:xt=T?Re<=p:Re<p;xt?R=Te+1:Q=Te}return as(Q,ee)}function DT(h,p){for(var S=-1,T=h.length,R=0,Q=[];++S<T;){var ae=h[S],fe=p?p(ae):ae;if(!S||!oa(fe,be)){var be=fe;Q[R++]=ae===0?0:ae}}return Q}function MT(h){return typeof h=="number"?h:oi(h)?le:+h}function ai(h){if(typeof h=="string")return h;if(Mt(h))return qn(h,ai)+"";if(oi(h))return hT?hT.call(h):"";var p=h+"";return p=="0"&&1/h==-ie?"-0":p}function Cl(h,p,S){var T=-1,R=Rv,Q=h.length,ae=!0,fe=[],be=fe;if(S)ae=!1,R=xN;else if(Q>=i){var ke=p?null:EG(h);if(ke)return Fv(ke);ae=!1,R=jm,be=new Hc}else be=p?[]:fe;e:for(;++T<Q;){var Te=h[T],Re=p?p(Te):Te;if(Te=S||Te!==0?Te:0,ae&&Re===Re){for(var Qe=be.length;Qe--;)if(be[Qe]===Re)continue e;p&&be.push(Re),fe.push(Te)}else R(be,Re,S)||(be!==fe&&be.push(Re),fe.push(Te))}return fe}function qN(h,p){return p=Pl(p,h),h=lO(h,p),h==null||delete h[qa(Di(p))]}function IT(h,p,S,T){return km(h,p,S(Kc(h,p)),T)}function ix(h,p,S,T){for(var R=h.length,Q=T?R:-1;(T?Q--:++Q<R)&&p(h[Q],Q,h););return S?Oi(h,T?0:Q,T?Q+1:R):Oi(h,T?Q+1:0,T?R:Q)}function $T(h,p){var S=h;return S instanceof Zt&&(S=S.value()),yN(p,function(T,R){return R.func.apply(R.thisArg,bl([T],R.args))},S)}function WN(h,p,S){var T=h.length;if(T<2)return T?Cl(h[0]):[];for(var R=-1,Q=Ce(T);++R<T;)for(var ae=h[R],fe=-1;++fe<T;)fe!=R&&(Q[R]=_m(Q[R]||ae,h[fe],p,S));return Cl(Jr(Q,1),p,S)}function RT(h,p,S){for(var T=-1,R=h.length,Q=p.length,ae={};++T<R;){var fe=T<Q?p[T]:n;S(ae,h[T],fe)}return ae}function HN(h){return ur(h)?h:[]}function GN(h){return typeof h=="function"?h:Vs}function Pl(h,p){return Mt(h)?h:n1(h,p)?[h]:hO(hn(h))}var yG=Ut;function _l(h,p,S){var T=h.length;return S=S===n?T:S,!p&&S>=T?h:Oi(h,p,S)}var LT=aH||function(h){return Xr.clearTimeout(h)};function FT(h,p){if(p)return h.slice();var S=h.length,T=aT?aT(S):new h.constructor(S);return h.copy(T),T}function KN(h){var p=new h.constructor(h.byteLength);return new Wv(p).set(new Wv(h)),p}function jG(h,p){var S=p?KN(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.byteLength)}function bG(h){var p=new h.constructor(h.source,_v.exec(h));return p.lastIndex=h.lastIndex,p}function wG(h){return Cm?_n(Cm.call(h)):{}}function BT(h,p){var S=p?KN(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.length)}function zT(h,p){if(h!==p){var S=h!==n,T=h===null,R=h===h,Q=oi(h),ae=p!==n,fe=p===null,be=p===p,ke=oi(p);if(!fe&&!ke&&!Q&&h>p||Q&&ae&&be&&!fe&&!ke||T&&ae&&be||!S&&be||!R)return 1;if(!T&&!Q&&!ke&&h<p||ke&&S&&R&&!T&&!Q||fe&&S&&R||!ae&&R||!be)return-1}return 0}function NG(h,p,S){for(var T=-1,R=h.criteria,Q=p.criteria,ae=R.length,fe=S.length;++T<ae;){var be=zT(R[T],Q[T]);if(be){if(T>=fe)return be;var ke=S[T];return be*(ke=="desc"?-1:1)}}return h.index-p.index}function VT(h,p,S,T){for(var R=-1,Q=h.length,ae=S.length,fe=-1,be=p.length,ke=Sr(Q-ae,0),Te=Ce(be+ke),Re=!T;++fe<be;)Te[fe]=p[fe];for(;++R<ae;)(Re||R<Q)&&(Te[S[R]]=h[R]);for(;ke--;)Te[fe++]=h[R++];return Te}function UT(h,p,S,T){for(var R=-1,Q=h.length,ae=-1,fe=S.length,be=-1,ke=p.length,Te=Sr(Q-fe,0),Re=Ce(Te+ke),Qe=!T;++R<Te;)Re[R]=h[R];for(var ot=R;++be<ke;)Re[ot+be]=p[be];for(;++ae<fe;)(Qe||R<Q)&&(Re[ot+S[ae]]=h[R++]);return Re}function Fs(h,p){var S=-1,T=h.length;for(p||(p=Ce(T));++S<T;)p[S]=h[S];return p}function Ua(h,p,S,T){var R=!S;S||(S={});for(var Q=-1,ae=p.length;++Q<ae;){var fe=p[Q],be=T?T(S[fe],h[fe],fe,S,h):n;be===n&&(be=h[fe]),R?So(S,fe,be):Pm(S,fe,be)}return S}function SG(h,p){return Ua(h,t1(h),p)}function CG(h,p){return Ua(h,nO(h),p)}function ax(h,p){return function(S,T){var R=Mt(S)?k9:GH,Q=p?p():{};return R(S,h,gt(T,2),Q)}}function Dd(h){return Ut(function(p,S){var T=-1,R=S.length,Q=R>1?S[R-1]:n,ae=R>2?S[2]:n;for(Q=h.length>3&&typeof Q=="function"?(R--,Q):n,ae&&bs(S[0],S[1],ae)&&(Q=R<3?n:Q,R=1),p=_n(p);++T<R;){var fe=S[T];fe&&h(p,fe,T,Q)}return p})}function qT(h,p){return function(S,T){if(S==null)return S;if(!Bs(S))return h(S,T);for(var R=S.length,Q=p?R:-1,ae=_n(S);(p?Q--:++Q<R)&&T(ae[Q],Q,ae)!==!1;);return S}}function WT(h){return function(p,S,T){for(var R=-1,Q=_n(p),ae=T(p),fe=ae.length;fe--;){var be=ae[h?fe:++R];if(S(Q[be],be,Q)===!1)break}return p}}function PG(h,p,S){var T=p&y,R=Tm(h);function Q(){var ae=this&&this!==Xr&&this instanceof Q?R:h;return ae.apply(T?S:this,arguments)}return Q}function HT(h){return function(p){p=hn(p);var S=Pd(p)?ia(p):n,T=S?S[0]:p.charAt(0),R=S?_l(S,1).join(""):p.slice(1);return T[h]()+R}}function Md(h){return function(p){return yN(qO(UO(p).replace(oN,"")),h,"")}}function Tm(h){return function(){var p=arguments;switch(p.length){case 0:return new h;case 1:return new h(p[0]);case 2:return new h(p[0],p[1]);case 3:return new h(p[0],p[1],p[2]);case 4:return new h(p[0],p[1],p[2],p[3]);case 5:return new h(p[0],p[1],p[2],p[3],p[4]);case 6:return new h(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new h(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var S=Od(h.prototype),T=h.apply(S,p);return Xn(T)?T:S}}function _G(h,p,S){var T=Tm(h);function R(){for(var Q=arguments.length,ae=Ce(Q),fe=Q,be=Id(R);fe--;)ae[fe]=arguments[fe];var ke=Q<3&&ae[0]!==be&&ae[Q-1]!==be?[]:wl(ae,be);if(Q-=ke.length,Q<S)return XT(h,p,ox,R.placeholder,n,ae,ke,n,n,S-Q);var Te=this&&this!==Xr&&this instanceof R?T:h;return si(Te,this,ae)}return R}function GT(h){return function(p,S,T){var R=_n(p);if(!Bs(p)){var Q=gt(S,3);p=$r(p),S=function(fe){return Q(R[fe],fe,R)}}var ae=h(p,S,T);return ae>-1?R[Q?p[ae]:ae]:n}}function KT(h){return Po(function(p){var S=p.length,T=S,R=ki.prototype.thru;for(h&&p.reverse();T--;){var Q=p[T];if(typeof Q!="function")throw new Ei(o);if(R&&!ae&&dx(Q)=="wrapper")var ae=new ki([],!0)}for(T=ae?T:S;++T<S;){Q=p[T];var fe=dx(Q),be=fe=="wrapper"?ZN(Q):n;be&&r1(be[0])&&be[1]==(A|b|C|E)&&!be[4].length&&be[9]==1?ae=ae[dx(be[0])].apply(ae,be[3]):ae=Q.length==1&&r1(Q)?ae[fe]():ae.thru(Q)}return function(){var ke=arguments,Te=ke[0];if(ae&&ke.length==1&&Mt(Te))return ae.plant(Te).value();for(var Re=0,Qe=S?p[Re].apply(this,ke):Te;++Re<S;)Qe=p[Re].call(this,Qe);return Qe}})}function ox(h,p,S,T,R,Q,ae,fe,be,ke){var Te=p&A,Re=p&y,Qe=p&N,ot=p&(b|P),vt=p&D,Bt=Qe?n:Tm(h);function xt(){for(var Ht=arguments.length,tn=Ce(Ht),li=Ht;li--;)tn[li]=arguments[li];if(ot)var ws=Id(xt),ci=F9(tn,ws);if(T&&(tn=VT(tn,T,R,ot)),Q&&(tn=UT(tn,Q,ae,ot)),Ht-=ci,ot&&Ht<ke){var dr=wl(tn,ws);return XT(h,p,ox,xt.placeholder,S,tn,dr,fe,be,ke-Ht)}var la=Re?S:this,ko=Qe?la[h]:h;return Ht=tn.length,fe?tn=GG(tn,fe):vt&&Ht>1&&tn.reverse(),Te&&be<Ht&&(tn.length=be),this&&this!==Xr&&this instanceof xt&&(ko=Bt||Tm(ko)),ko.apply(la,tn)}return xt}function YT(h,p){return function(S,T){return tG(S,h,p(T),{})}}function lx(h,p){return function(S,T){var R;if(S===n&&T===n)return p;if(S!==n&&(R=S),T!==n){if(R===n)return T;typeof S=="string"||typeof T=="string"?(S=ai(S),T=ai(T)):(S=MT(S),T=MT(T)),R=h(S,T)}return R}}function YN(h){return Po(function(p){return p=qn(p,ii(gt())),Ut(function(S){var T=this;return h(p,function(R){return si(R,T,S)})})})}function cx(h,p){p=p===n?" ":ai(p);var S=p.length;if(S<2)return S?VN(p,h):p;var T=VN(p,Yv(h/_d(p)));return Pd(p)?_l(ia(T),0,h).join(""):T.slice(0,h)}function AG(h,p,S,T){var R=p&y,Q=Tm(h);function ae(){for(var fe=-1,be=arguments.length,ke=-1,Te=T.length,Re=Ce(Te+be),Qe=this&&this!==Xr&&this instanceof ae?Q:h;++ke<Te;)Re[ke]=T[ke];for(;be--;)Re[ke++]=arguments[++fe];return si(Qe,R?S:this,Re)}return ae}function QT(h){return function(p,S,T){return T&&typeof T!="number"&&bs(p,S,T)&&(S=T=n),p=Eo(p),S===n?(S=p,p=0):S=Eo(S),T=T===n?p<S?1:-1:Eo(T),fG(p,S,T,h)}}function ux(h){return function(p,S){return typeof p=="string"&&typeof S=="string"||(p=Mi(p),S=Mi(S)),h(p,S)}}function XT(h,p,S,T,R,Q,ae,fe,be,ke){var Te=p&b,Re=Te?ae:n,Qe=Te?n:ae,ot=Te?Q:n,vt=Te?n:Q;p|=Te?C:_,p&=~(Te?_:C),p&j||(p&=~(y|N));var Bt=[h,p,R,ot,Re,vt,Qe,fe,be,ke],xt=S.apply(n,Bt);return r1(h)&&cO(xt,Bt),xt.placeholder=T,uO(xt,h,p)}function QN(h){var p=Nr[h];return function(S,T){if(S=Mi(S),T=T==null?0:as(Rt(T),292),T&&uT(S)){var R=(hn(S)+"e").split("e"),Q=p(R[0]+"e"+(+R[1]+T));return R=(hn(Q)+"e").split("e"),+(R[0]+"e"+(+R[1]-T))}return p(S)}}var EG=kd&&1/Fv(new kd([,-0]))[1]==ie?function(h){return new kd(h)}:x1;function JT(h){return function(p){var S=os(p);return S==we?PN(p):S==Ge?H9(p):L9(p,h(p))}}function Co(h,p,S,T,R,Q,ae,fe){var be=p&N;if(!be&&typeof h!="function")throw new Ei(o);var ke=T?T.length:0;if(ke||(p&=~(C|_),T=R=n),ae=ae===n?ae:Sr(Rt(ae),0),fe=fe===n?fe:Rt(fe),ke-=R?R.length:0,p&_){var Te=T,Re=R;T=R=n}var Qe=be?n:ZN(h),ot=[h,p,S,T,R,Te,Re,Q,ae,fe];if(Qe&&qG(ot,Qe),h=ot[0],p=ot[1],S=ot[2],T=ot[3],R=ot[4],fe=ot[9]=ot[9]===n?be?0:h.length:Sr(ot[9]-ke,0),!fe&&p&(b|P)&&(p&=~(b|P)),!p||p==y)var vt=PG(h,p,S);else p==b||p==P?vt=_G(h,p,fe):(p==C||p==(y|C))&&!R.length?vt=AG(h,p,S,T):vt=ox.apply(n,ot);var Bt=Qe?OT:cO;return uO(Bt(vt,ot),h,p)}function ZT(h,p,S,T){return h===n||oa(h,Ed[S])&&!xn.call(T,S)?p:h}function eO(h,p,S,T,R,Q){return Xn(h)&&Xn(p)&&(Q.set(p,h),rx(h,p,n,eO,Q),Q.delete(p)),h}function kG(h){return Mm(h)?n:h}function tO(h,p,S,T,R,Q){var ae=S&x,fe=h.length,be=p.length;if(fe!=be&&!(ae&&be>fe))return!1;var ke=Q.get(h),Te=Q.get(p);if(ke&&Te)return ke==p&&Te==h;var Re=-1,Qe=!0,ot=S&v?new Hc:n;for(Q.set(h,p),Q.set(p,h);++Re<fe;){var vt=h[Re],Bt=p[Re];if(T)var xt=ae?T(Bt,vt,Re,p,h,Q):T(vt,Bt,Re,h,p,Q);if(xt!==n){if(xt)continue;Qe=!1;break}if(ot){if(!jN(p,function(Ht,tn){if(!jm(ot,tn)&&(vt===Ht||R(vt,Ht,S,T,Q)))return ot.push(tn)})){Qe=!1;break}}else if(!(vt===Bt||R(vt,Bt,S,T,Q))){Qe=!1;break}}return Q.delete(h),Q.delete(p),Qe}function TG(h,p,S,T,R,Q,ae){switch(S){case Yn:if(h.byteLength!=p.byteLength||h.byteOffset!=p.byteOffset)return!1;h=h.buffer,p=p.buffer;case cr:return!(h.byteLength!=p.byteLength||!Q(new Wv(h),new Wv(p)));case V:case Z:case Fe:return oa(+h,+p);case te:return h.name==p.name&&h.message==p.message;case Ne:case Ke:return h==p+"";case we:var fe=PN;case Ge:var be=T&x;if(fe||(fe=Fv),h.size!=p.size&&!be)return!1;var ke=ae.get(h);if(ke)return ke==p;T|=v,ae.set(h,p);var Te=tO(fe(h),fe(p),T,R,Q,ae);return ae.delete(h),Te;case qt:if(Cm)return Cm.call(h)==Cm.call(p)}return!1}function OG(h,p,S,T,R,Q){var ae=S&x,fe=XN(h),be=fe.length,ke=XN(p),Te=ke.length;if(be!=Te&&!ae)return!1;for(var Re=be;Re--;){var Qe=fe[Re];if(!(ae?Qe in p:xn.call(p,Qe)))return!1}var ot=Q.get(h),vt=Q.get(p);if(ot&&vt)return ot==p&&vt==h;var Bt=!0;Q.set(h,p),Q.set(p,h);for(var xt=ae;++Re<be;){Qe=fe[Re];var Ht=h[Qe],tn=p[Qe];if(T)var li=ae?T(tn,Ht,Qe,p,h,Q):T(Ht,tn,Qe,h,p,Q);if(!(li===n?Ht===tn||R(Ht,tn,S,T,Q):li)){Bt=!1;break}xt||(xt=Qe=="constructor")}if(Bt&&!xt){var ws=h.constructor,ci=p.constructor;ws!=ci&&"constructor"in h&&"constructor"in p&&!(typeof ws=="function"&&ws instanceof ws&&typeof ci=="function"&&ci instanceof ci)&&(Bt=!1)}return Q.delete(h),Q.delete(p),Bt}function Po(h){return i1(oO(h,n,gO),h+"")}function XN(h){return bT(h,$r,t1)}function JN(h){return bT(h,zs,nO)}var ZN=Xv?function(h){return Xv.get(h)}:x1;function dx(h){for(var p=h.name+"",S=Td[p],T=xn.call(Td,p)?S.length:0;T--;){var R=S[T],Q=R.func;if(Q==null||Q==h)return R.name}return p}function Id(h){var p=xn.call(G,"placeholder")?G:h;return p.placeholder}function gt(){var h=G.iteratee||g1;return h=h===g1?ST:h,arguments.length?h(arguments[0],arguments[1]):h}function hx(h,p){var S=h.__data__;return BG(p)?S[typeof p=="string"?"string":"hash"]:S.map}function e1(h){for(var p=$r(h),S=p.length;S--;){var T=p[S],R=h[T];p[S]=[T,R,iO(R)]}return p}function Yc(h,p){var S=U9(h,p);return NT(S)?S:n}function DG(h){var p=xn.call(h,qc),S=h[qc];try{h[qc]=n;var T=!0}catch{}var R=Uv.call(h);return T&&(p?h[qc]=S:delete h[qc]),R}var t1=AN?function(h){return h==null?[]:(h=_n(h),jl(AN(h),function(p){return lT.call(h,p)}))}:y1,nO=AN?function(h){for(var p=[];h;)bl(p,t1(h)),h=Hv(h);return p}:y1,os=js;(EN&&os(new EN(new ArrayBuffer(1)))!=Yn||wm&&os(new wm)!=we||kN&&os(kN.resolve())!=lt||kd&&os(new kd)!=Ge||Nm&&os(new Nm)!=kt)&&(os=function(h){var p=js(h),S=p==at?h.constructor:n,T=S?Qc(S):"";if(T)switch(T){case pH:return Yn;case gH:return we;case vH:return lt;case xH:return Ge;case yH:return kt}return p});function MG(h,p,S){for(var T=-1,R=S.length;++T<R;){var Q=S[T],ae=Q.size;switch(Q.type){case"drop":h+=ae;break;case"dropRight":p-=ae;break;case"take":p=as(p,h+ae);break;case"takeRight":h=Sr(h,p-ae);break}}return{start:h,end:p}}function IG(h){var p=h.match(Bw);return p?p[1].split(zw):[]}function rO(h,p,S){p=Pl(p,h);for(var T=-1,R=p.length,Q=!1;++T<R;){var ae=qa(p[T]);if(!(Q=h!=null&&S(h,ae)))break;h=h[ae]}return Q||++T!=R?Q:(R=h==null?0:h.length,!!R&&yx(R)&&_o(ae,R)&&(Mt(h)||Xc(h)))}function $G(h){var p=h.length,S=new h.constructor(p);return p&&typeof h[0]=="string"&&xn.call(h,"index")&&(S.index=h.index,S.input=h.input),S}function sO(h){return typeof h.constructor=="function"&&!Om(h)?Od(Hv(h)):{}}function RG(h,p,S){var T=h.constructor;switch(p){case cr:return KN(h);case V:case Z:return new T(+h);case Yn:return jG(h,S);case gs:case Se:case Vt:case nt:case mt:case rn:case is:case Yr:case Rs:return BT(h,S);case we:return new T;case Fe:case Ke:return new T(h);case Ne:return bG(h);case Ge:return new T;case qt:return wG(h)}}function LG(h,p){var S=p.length;if(!S)return h;var T=S-1;return p[T]=(S>1?"& ":"")+p[T],p=p.join(S>2?", ":" "),h.replace(Fw,`{
/* [wrapped with `+p+`] */
`)}function FG(h){return Mt(h)||Xc(h)||!!(cT&&h&&h[cT])}function _o(h,p){var S=typeof h;return p=p??$,!!p&&(S=="number"||S!="symbol"&&jd.test(h))&&h>-1&&h%1==0&&h<p}function bs(h,p,S){if(!Xn(S))return!1;var T=typeof p;return(T=="number"?Bs(S)&&_o(p,S.length):T=="string"&&p in S)?oa(S[p],h):!1}function n1(h,p){if(Mt(h))return!1;var S=typeof h;return S=="number"||S=="symbol"||S=="boolean"||h==null||oi(h)?!0:xs.test(h)||!vs.test(h)||p!=null&&h in _n(p)}function BG(h){var p=typeof h;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?h!=="__proto__":h===null}function r1(h){var p=dx(h),S=G[p];if(typeof S!="function"||!(p in Zt.prototype))return!1;if(h===S)return!0;var T=ZN(S);return!!T&&h===T[0]}function zG(h){return!!iT&&iT in h}var VG=zv?Ao:j1;function Om(h){var p=h&&h.constructor,S=typeof p=="function"&&p.prototype||Ed;return h===S}function iO(h){return h===h&&!Xn(h)}function aO(h,p){return function(S){return S==null?!1:S[h]===p&&(p!==n||h in _n(S))}}function UG(h){var p=vx(h,function(T){return S.size===u&&S.clear(),T}),S=p.cache;return p}function qG(h,p){var S=h[1],T=p[1],R=S|T,Q=R<(y|N|A),ae=T==A&&S==b||T==A&&S==E&&h[7].length<=p[8]||T==(A|E)&&p[7].length<=p[8]&&S==b;if(!(Q||ae))return h;T&y&&(h[2]=p[2],R|=S&y?0:j);var fe=p[3];if(fe){var be=h[3];h[3]=be?VT(be,fe,p[4]):fe,h[4]=be?wl(h[3],d):p[4]}return fe=p[5],fe&&(be=h[5],h[5]=be?UT(be,fe,p[6]):fe,h[6]=be?wl(h[5],d):p[6]),fe=p[7],fe&&(h[7]=fe),T&A&&(h[8]=h[8]==null?p[8]:as(h[8],p[8])),h[9]==null&&(h[9]=p[9]),h[0]=p[0],h[1]=R,h}function WG(h){var p=[];if(h!=null)for(var S in _n(h))p.push(S);return p}function HG(h){return Uv.call(h)}function oO(h,p,S){return p=Sr(p===n?h.length-1:p,0),function(){for(var T=arguments,R=-1,Q=Sr(T.length-p,0),ae=Ce(Q);++R<Q;)ae[R]=T[p+R];R=-1;for(var fe=Ce(p+1);++R<p;)fe[R]=T[R];return fe[p]=S(ae),si(h,this,fe)}}function lO(h,p){return p.length<2?h:Kc(h,Oi(p,0,-1))}function GG(h,p){for(var S=h.length,T=as(p.length,S),R=Fs(h);T--;){var Q=p[T];h[T]=_o(Q,S)?R[Q]:n}return h}function s1(h,p){if(!(p==="constructor"&&typeof h[p]=="function")&&p!="__proto__")return h[p]}var cO=dO(OT),Dm=lH||function(h,p){return Xr.setTimeout(h,p)},i1=dO(gG);function uO(h,p,S){var T=p+"";return i1(h,LG(T,KG(IG(T),S)))}function dO(h){var p=0,S=0;return function(){var T=hH(),R=F-(T-S);if(S=T,R>0){if(++p>=k)return arguments[0]}else p=0;return h.apply(n,arguments)}}function fx(h,p){var S=-1,T=h.length,R=T-1;for(p=p===n?T:p;++S<p;){var Q=zN(S,R),ae=h[Q];h[Q]=h[S],h[S]=ae}return h.length=p,h}var hO=UG(function(h){var p=[];return h.charCodeAt(0)===46&&p.push(""),h.replace(Pi,function(S,T,R,Q){p.push(R?Q.replace(qw,"$1"):T||S)}),p});function qa(h){if(typeof h=="string"||oi(h))return h;var p=h+"";return p=="0"&&1/h==-ie?"-0":p}function Qc(h){if(h!=null){try{return Vv.call(h)}catch{}try{return h+""}catch{}}return""}function KG(h,p){return Ai(B,function(S){var T="_."+S[0];p&S[1]&&!Rv(h,T)&&h.push(T)}),h.sort()}function fO(h){if(h instanceof Zt)return h.clone();var p=new ki(h.__wrapped__,h.__chain__);return p.__actions__=Fs(h.__actions__),p.__index__=h.__index__,p.__values__=h.__values__,p}function YG(h,p,S){(S?bs(h,p,S):p===n)?p=1:p=Sr(Rt(p),0);var T=h==null?0:h.length;if(!T||p<1)return[];for(var R=0,Q=0,ae=Ce(Yv(T/p));R<T;)ae[Q++]=Oi(h,R,R+=p);return ae}function QG(h){for(var p=-1,S=h==null?0:h.length,T=0,R=[];++p<S;){var Q=h[p];Q&&(R[T++]=Q)}return R}function XG(){var h=arguments.length;if(!h)return[];for(var p=Ce(h-1),S=arguments[0],T=h;T--;)p[T-1]=arguments[T];return bl(Mt(S)?Fs(S):[S],Jr(p,1))}var JG=Ut(function(h,p){return ur(h)?_m(h,Jr(p,1,ur,!0)):[]}),ZG=Ut(function(h,p){var S=Di(p);return ur(S)&&(S=n),ur(h)?_m(h,Jr(p,1,ur,!0),gt(S,2)):[]}),eK=Ut(function(h,p){var S=Di(p);return ur(S)&&(S=n),ur(h)?_m(h,Jr(p,1,ur,!0),n,S):[]});function tK(h,p,S){var T=h==null?0:h.length;return T?(p=S||p===n?1:Rt(p),Oi(h,p<0?0:p,T)):[]}function nK(h,p,S){var T=h==null?0:h.length;return T?(p=S||p===n?1:Rt(p),p=T-p,Oi(h,0,p<0?0:p)):[]}function rK(h,p){return h&&h.length?ix(h,gt(p,3),!0,!0):[]}function sK(h,p){return h&&h.length?ix(h,gt(p,3),!0):[]}function iK(h,p,S,T){var R=h==null?0:h.length;return R?(S&&typeof S!="number"&&bs(h,p,S)&&(S=0,T=R),XH(h,p,S,T)):[]}function mO(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=S==null?0:Rt(S);return R<0&&(R=Sr(T+R,0)),Lv(h,gt(p,3),R)}function pO(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=T-1;return S!==n&&(R=Rt(S),R=S<0?Sr(T+R,0):as(R,T-1)),Lv(h,gt(p,3),R,!0)}function gO(h){var p=h==null?0:h.length;return p?Jr(h,1):[]}function aK(h){var p=h==null?0:h.length;return p?Jr(h,ie):[]}function oK(h,p){var S=h==null?0:h.length;return S?(p=p===n?1:Rt(p),Jr(h,p)):[]}function lK(h){for(var p=-1,S=h==null?0:h.length,T={};++p<S;){var R=h[p];T[R[0]]=R[1]}return T}function vO(h){return h&&h.length?h[0]:n}function cK(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=S==null?0:Rt(S);return R<0&&(R=Sr(T+R,0)),Cd(h,p,R)}function uK(h){var p=h==null?0:h.length;return p?Oi(h,0,-1):[]}var dK=Ut(function(h){var p=qn(h,HN);return p.length&&p[0]===h[0]?$N(p):[]}),hK=Ut(function(h){var p=Di(h),S=qn(h,HN);return p===Di(S)?p=n:S.pop(),S.length&&S[0]===h[0]?$N(S,gt(p,2)):[]}),fK=Ut(function(h){var p=Di(h),S=qn(h,HN);return p=typeof p=="function"?p:n,p&&S.pop(),S.length&&S[0]===h[0]?$N(S,n,p):[]});function mK(h,p){return h==null?"":uH.call(h,p)}function Di(h){var p=h==null?0:h.length;return p?h[p-1]:n}function pK(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=T;return S!==n&&(R=Rt(S),R=R<0?Sr(T+R,0):as(R,T-1)),p===p?K9(h,p,R):Lv(h,Xk,R,!0)}function gK(h,p){return h&&h.length?AT(h,Rt(p)):n}var vK=Ut(xO);function xO(h,p){return h&&h.length&&p&&p.length?BN(h,p):h}function xK(h,p,S){return h&&h.length&&p&&p.length?BN(h,p,gt(S,2)):h}function yK(h,p,S){return h&&h.length&&p&&p.length?BN(h,p,n,S):h}var jK=Po(function(h,p){var S=h==null?0:h.length,T=ON(h,p);return TT(h,qn(p,function(R){return _o(R,S)?+R:R}).sort(zT)),T});function bK(h,p){var S=[];if(!(h&&h.length))return S;var T=-1,R=[],Q=h.length;for(p=gt(p,3);++T<Q;){var ae=h[T];p(ae,T,h)&&(S.push(ae),R.push(T))}return TT(h,R),S}function a1(h){return h==null?h:mH.call(h)}function wK(h,p,S){var T=h==null?0:h.length;return T?(S&&typeof S!="number"&&bs(h,p,S)?(p=0,S=T):(p=p==null?0:Rt(p),S=S===n?T:Rt(S)),Oi(h,p,S)):[]}function NK(h,p){return sx(h,p)}function SK(h,p,S){return UN(h,p,gt(S,2))}function CK(h,p){var S=h==null?0:h.length;if(S){var T=sx(h,p);if(T<S&&oa(h[T],p))return T}return-1}function PK(h,p){return sx(h,p,!0)}function _K(h,p,S){return UN(h,p,gt(S,2),!0)}function AK(h,p){var S=h==null?0:h.length;if(S){var T=sx(h,p,!0)-1;if(oa(h[T],p))return T}return-1}function EK(h){return h&&h.length?DT(h):[]}function kK(h,p){return h&&h.length?DT(h,gt(p,2)):[]}function TK(h){var p=h==null?0:h.length;return p?Oi(h,1,p):[]}function OK(h,p,S){return h&&h.length?(p=S||p===n?1:Rt(p),Oi(h,0,p<0?0:p)):[]}function DK(h,p,S){var T=h==null?0:h.length;return T?(p=S||p===n?1:Rt(p),p=T-p,Oi(h,p<0?0:p,T)):[]}function MK(h,p){return h&&h.length?ix(h,gt(p,3),!1,!0):[]}function IK(h,p){return h&&h.length?ix(h,gt(p,3)):[]}var $K=Ut(function(h){return Cl(Jr(h,1,ur,!0))}),RK=Ut(function(h){var p=Di(h);return ur(p)&&(p=n),Cl(Jr(h,1,ur,!0),gt(p,2))}),LK=Ut(function(h){var p=Di(h);return p=typeof p=="function"?p:n,Cl(Jr(h,1,ur,!0),n,p)});function FK(h){return h&&h.length?Cl(h):[]}function BK(h,p){return h&&h.length?Cl(h,gt(p,2)):[]}function zK(h,p){return p=typeof p=="function"?p:n,h&&h.length?Cl(h,n,p):[]}function o1(h){if(!(h&&h.length))return[];var p=0;return h=jl(h,function(S){if(ur(S))return p=Sr(S.length,p),!0}),SN(p,function(S){return qn(h,bN(S))})}function yO(h,p){if(!(h&&h.length))return[];var S=o1(h);return p==null?S:qn(S,function(T){return si(p,n,T)})}var VK=Ut(function(h,p){return ur(h)?_m(h,p):[]}),UK=Ut(function(h){return WN(jl(h,ur))}),qK=Ut(function(h){var p=Di(h);return ur(p)&&(p=n),WN(jl(h,ur),gt(p,2))}),WK=Ut(function(h){var p=Di(h);return p=typeof p=="function"?p:n,WN(jl(h,ur),n,p)}),HK=Ut(o1);function GK(h,p){return RT(h||[],p||[],Pm)}function KK(h,p){return RT(h||[],p||[],km)}var YK=Ut(function(h){var p=h.length,S=p>1?h[p-1]:n;return S=typeof S=="function"?(h.pop(),S):n,yO(h,S)});function jO(h){var p=G(h);return p.__chain__=!0,p}function QK(h,p){return p(h),h}function mx(h,p){return p(h)}var XK=Po(function(h){var p=h.length,S=p?h[0]:0,T=this.__wrapped__,R=function(Q){return ON(Q,h)};return p>1||this.__actions__.length||!(T instanceof Zt)||!_o(S)?this.thru(R):(T=T.slice(S,+S+(p?1:0)),T.__actions__.push({func:mx,args:[R],thisArg:n}),new ki(T,this.__chain__).thru(function(Q){return p&&!Q.length&&Q.push(n),Q}))});function JK(){return jO(this)}function ZK(){return new ki(this.value(),this.__chain__)}function eY(){this.__values__===n&&(this.__values__=MO(this.value()));var h=this.__index__>=this.__values__.length,p=h?n:this.__values__[this.__index__++];return{done:h,value:p}}function tY(){return this}function nY(h){for(var p,S=this;S instanceof Zv;){var T=fO(S);T.__index__=0,T.__values__=n,p?R.__wrapped__=T:p=T;var R=T;S=S.__wrapped__}return R.__wrapped__=h,p}function rY(){var h=this.__wrapped__;if(h instanceof Zt){var p=h;return this.__actions__.length&&(p=new Zt(this)),p=p.reverse(),p.__actions__.push({func:mx,args:[a1],thisArg:n}),new ki(p,this.__chain__)}return this.thru(a1)}function sY(){return $T(this.__wrapped__,this.__actions__)}var iY=ax(function(h,p,S){xn.call(h,S)?++h[S]:So(h,S,1)});function aY(h,p,S){var T=Mt(h)?Yk:QH;return S&&bs(h,p,S)&&(p=n),T(h,gt(p,3))}function oY(h,p){var S=Mt(h)?jl:yT;return S(h,gt(p,3))}var lY=GT(mO),cY=GT(pO);function uY(h,p){return Jr(px(h,p),1)}function dY(h,p){return Jr(px(h,p),ie)}function hY(h,p,S){return S=S===n?1:Rt(S),Jr(px(h,p),S)}function bO(h,p){var S=Mt(h)?Ai:Sl;return S(h,gt(p,3))}function wO(h,p){var S=Mt(h)?T9:xT;return S(h,gt(p,3))}var fY=ax(function(h,p,S){xn.call(h,S)?h[S].push(p):So(h,S,[p])});function mY(h,p,S,T){h=Bs(h)?h:Rd(h),S=S&&!T?Rt(S):0;var R=h.length;return S<0&&(S=Sr(R+S,0)),jx(h)?S<=R&&h.indexOf(p,S)>-1:!!R&&Cd(h,p,S)>-1}var pY=Ut(function(h,p,S){var T=-1,R=typeof p=="function",Q=Bs(h)?Ce(h.length):[];return Sl(h,function(ae){Q[++T]=R?si(p,ae,S):Am(ae,p,S)}),Q}),gY=ax(function(h,p,S){So(h,S,p)});function px(h,p){var S=Mt(h)?qn:CT;return S(h,gt(p,3))}function vY(h,p,S,T){return h==null?[]:(Mt(p)||(p=p==null?[]:[p]),S=T?n:S,Mt(S)||(S=S==null?[]:[S]),ET(h,p,S))}var xY=ax(function(h,p,S){h[S?0:1].push(p)},function(){return[[],[]]});function yY(h,p,S){var T=Mt(h)?yN:Zk,R=arguments.length<3;return T(h,gt(p,4),S,R,Sl)}function jY(h,p,S){var T=Mt(h)?O9:Zk,R=arguments.length<3;return T(h,gt(p,4),S,R,xT)}function bY(h,p){var S=Mt(h)?jl:yT;return S(h,xx(gt(p,3)))}function wY(h){var p=Mt(h)?mT:mG;return p(h)}function NY(h,p,S){(S?bs(h,p,S):p===n)?p=1:p=Rt(p);var T=Mt(h)?WH:pG;return T(h,p)}function SY(h){var p=Mt(h)?HH:vG;return p(h)}function CY(h){if(h==null)return 0;if(Bs(h))return jx(h)?_d(h):h.length;var p=os(h);return p==we||p==Ge?h.size:LN(h).length}function PY(h,p,S){var T=Mt(h)?jN:xG;return S&&bs(h,p,S)&&(p=n),T(h,gt(p,3))}var _Y=Ut(function(h,p){if(h==null)return[];var S=p.length;return S>1&&bs(h,p[0],p[1])?p=[]:S>2&&bs(p[0],p[1],p[2])&&(p=[p[0]]),ET(h,Jr(p,1),[])}),gx=oH||function(){return Xr.Date.now()};function AY(h,p){if(typeof p!="function")throw new Ei(o);return h=Rt(h),function(){if(--h<1)return p.apply(this,arguments)}}function NO(h,p,S){return p=S?n:p,p=h&&p==null?h.length:p,Co(h,A,n,n,n,n,p)}function SO(h,p){var S;if(typeof p!="function")throw new Ei(o);return h=Rt(h),function(){return--h>0&&(S=p.apply(this,arguments)),h<=1&&(p=n),S}}var l1=Ut(function(h,p,S){var T=y;if(S.length){var R=wl(S,Id(l1));T|=C}return Co(h,T,p,S,R)}),CO=Ut(function(h,p,S){var T=y|N;if(S.length){var R=wl(S,Id(CO));T|=C}return Co(p,T,h,S,R)});function PO(h,p,S){p=S?n:p;var T=Co(h,b,n,n,n,n,n,p);return T.placeholder=PO.placeholder,T}function _O(h,p,S){p=S?n:p;var T=Co(h,P,n,n,n,n,n,p);return T.placeholder=_O.placeholder,T}function AO(h,p,S){var T,R,Q,ae,fe,be,ke=0,Te=!1,Re=!1,Qe=!0;if(typeof h!="function")throw new Ei(o);p=Mi(p)||0,Xn(S)&&(Te=!!S.leading,Re="maxWait"in S,Q=Re?Sr(Mi(S.maxWait)||0,p):Q,Qe="trailing"in S?!!S.trailing:Qe);function ot(dr){var la=T,ko=R;return T=R=n,ke=dr,ae=h.apply(ko,la),ae}function vt(dr){return ke=dr,fe=Dm(Ht,p),Te?ot(dr):ae}function Bt(dr){var la=dr-be,ko=dr-ke,GO=p-la;return Re?as(GO,Q-ko):GO}function xt(dr){var la=dr-be,ko=dr-ke;return be===n||la>=p||la<0||Re&&ko>=Q}function Ht(){var dr=gx();if(xt(dr))return tn(dr);fe=Dm(Ht,Bt(dr))}function tn(dr){return fe=n,Qe&&T?ot(dr):(T=R=n,ae)}function li(){fe!==n&&LT(fe),ke=0,T=be=R=fe=n}function ws(){return fe===n?ae:tn(gx())}function ci(){var dr=gx(),la=xt(dr);if(T=arguments,R=this,be=dr,la){if(fe===n)return vt(be);if(Re)return LT(fe),fe=Dm(Ht,p),ot(be)}return fe===n&&(fe=Dm(Ht,p)),ae}return ci.cancel=li,ci.flush=ws,ci}var EY=Ut(function(h,p){return vT(h,1,p)}),kY=Ut(function(h,p,S){return vT(h,Mi(p)||0,S)});function TY(h){return Co(h,D)}function vx(h,p){if(typeof h!="function"||p!=null&&typeof p!="function")throw new Ei(o);var S=function(){var T=arguments,R=p?p.apply(this,T):T[0],Q=S.cache;if(Q.has(R))return Q.get(R);var ae=h.apply(this,T);return S.cache=Q.set(R,ae)||Q,ae};return S.cache=new(vx.Cache||No),S}vx.Cache=No;function xx(h){if(typeof h!="function")throw new Ei(o);return function(){var p=arguments;switch(p.length){case 0:return!h.call(this);case 1:return!h.call(this,p[0]);case 2:return!h.call(this,p[0],p[1]);case 3:return!h.call(this,p[0],p[1],p[2])}return!h.apply(this,p)}}function OY(h){return SO(2,h)}var DY=yG(function(h,p){p=p.length==1&&Mt(p[0])?qn(p[0],ii(gt())):qn(Jr(p,1),ii(gt()));var S=p.length;return Ut(function(T){for(var R=-1,Q=as(T.length,S);++R<Q;)T[R]=p[R].call(this,T[R]);return si(h,this,T)})}),c1=Ut(function(h,p){var S=wl(p,Id(c1));return Co(h,C,n,p,S)}),EO=Ut(function(h,p){var S=wl(p,Id(EO));return Co(h,_,n,p,S)}),MY=Po(function(h,p){return Co(h,E,n,n,n,p)});function IY(h,p){if(typeof h!="function")throw new Ei(o);return p=p===n?p:Rt(p),Ut(h,p)}function $Y(h,p){if(typeof h!="function")throw new Ei(o);return p=p==null?0:Sr(Rt(p),0),Ut(function(S){var T=S[p],R=_l(S,0,p);return T&&bl(R,T),si(h,this,R)})}function RY(h,p,S){var T=!0,R=!0;if(typeof h!="function")throw new Ei(o);return Xn(S)&&(T="leading"in S?!!S.leading:T,R="trailing"in S?!!S.trailing:R),AO(h,p,{leading:T,maxWait:p,trailing:R})}function LY(h){return NO(h,1)}function FY(h,p){return c1(GN(p),h)}function BY(){if(!arguments.length)return[];var h=arguments[0];return Mt(h)?h:[h]}function zY(h){return Ti(h,g)}function VY(h,p){return p=typeof p=="function"?p:n,Ti(h,g,p)}function UY(h){return Ti(h,f|g)}function qY(h,p){return p=typeof p=="function"?p:n,Ti(h,f|g,p)}function WY(h,p){return p==null||gT(h,p,$r(p))}function oa(h,p){return h===p||h!==h&&p!==p}var HY=ux(IN),GY=ux(function(h,p){return h>=p}),Xc=wT(function(){return arguments}())?wT:function(h){return nr(h)&&xn.call(h,"callee")&&!lT.call(h,"callee")},Mt=Ce.isArray,KY=Uk?ii(Uk):nG;function Bs(h){return h!=null&&yx(h.length)&&!Ao(h)}function ur(h){return nr(h)&&Bs(h)}function YY(h){return h===!0||h===!1||nr(h)&&js(h)==V}var Al=cH||j1,QY=qk?ii(qk):rG;function XY(h){return nr(h)&&h.nodeType===1&&!Mm(h)}function JY(h){if(h==null)return!0;if(Bs(h)&&(Mt(h)||typeof h=="string"||typeof h.splice=="function"||Al(h)||$d(h)||Xc(h)))return!h.length;var p=os(h);if(p==we||p==Ge)return!h.size;if(Om(h))return!LN(h).length;for(var S in h)if(xn.call(h,S))return!1;return!0}function ZY(h,p){return Em(h,p)}function eQ(h,p,S){S=typeof S=="function"?S:n;var T=S?S(h,p):n;return T===n?Em(h,p,n,S):!!T}function u1(h){if(!nr(h))return!1;var p=js(h);return p==te||p==ye||typeof h.message=="string"&&typeof h.name=="string"&&!Mm(h)}function tQ(h){return typeof h=="number"&&uT(h)}function Ao(h){if(!Xn(h))return!1;var p=js(h);return p==M||p==je||p==re||p==ut}function kO(h){return typeof h=="number"&&h==Rt(h)}function yx(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=$}function Xn(h){var p=typeof h;return h!=null&&(p=="object"||p=="function")}function nr(h){return h!=null&&typeof h=="object"}var TO=Wk?ii(Wk):iG;function nQ(h,p){return h===p||RN(h,p,e1(p))}function rQ(h,p,S){return S=typeof S=="function"?S:n,RN(h,p,e1(p),S)}function sQ(h){return OO(h)&&h!=+h}function iQ(h){if(VG(h))throw new Tt(a);return NT(h)}function aQ(h){return h===null}function oQ(h){return h==null}function OO(h){return typeof h=="number"||nr(h)&&js(h)==Fe}function Mm(h){if(!nr(h)||js(h)!=at)return!1;var p=Hv(h);if(p===null)return!0;var S=xn.call(p,"constructor")&&p.constructor;return typeof S=="function"&&S instanceof S&&Vv.call(S)==rH}var d1=Hk?ii(Hk):aG;function lQ(h){return kO(h)&&h>=-$&&h<=$}var DO=Gk?ii(Gk):oG;function jx(h){return typeof h=="string"||!Mt(h)&&nr(h)&&js(h)==Ke}function oi(h){return typeof h=="symbol"||nr(h)&&js(h)==qt}var $d=Kk?ii(Kk):lG;function cQ(h){return h===n}function uQ(h){return nr(h)&&os(h)==kt}function dQ(h){return nr(h)&&js(h)==wn}var hQ=ux(FN),fQ=ux(function(h,p){return h<=p});function MO(h){if(!h)return[];if(Bs(h))return jx(h)?ia(h):Fs(h);if(bm&&h[bm])return W9(h[bm]());var p=os(h),S=p==we?PN:p==Ge?Fv:Rd;return S(h)}function Eo(h){if(!h)return h===0?h:0;if(h=Mi(h),h===ie||h===-ie){var p=h<0?-1:1;return p*z}return h===h?h:0}function Rt(h){var p=Eo(h),S=p%1;return p===p?S?p-S:p:0}function IO(h){return h?Gc(Rt(h),0,pe):0}function Mi(h){if(typeof h=="number")return h;if(oi(h))return le;if(Xn(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=Xn(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=eT(h);var S=Gw.test(h);return S||pm.test(h)?A9(h.slice(2),S?2:8):Hw.test(h)?le:+h}function $O(h){return Ua(h,zs(h))}function mQ(h){return h?Gc(Rt(h),-$,$):h===0?h:0}function hn(h){return h==null?"":ai(h)}var pQ=Dd(function(h,p){if(Om(p)||Bs(p)){Ua(p,$r(p),h);return}for(var S in p)xn.call(p,S)&&Pm(h,S,p[S])}),RO=Dd(function(h,p){Ua(p,zs(p),h)}),bx=Dd(function(h,p,S,T){Ua(p,zs(p),h,T)}),gQ=Dd(function(h,p,S,T){Ua(p,$r(p),h,T)}),vQ=Po(ON);function xQ(h,p){var S=Od(h);return p==null?S:pT(S,p)}var yQ=Ut(function(h,p){h=_n(h);var S=-1,T=p.length,R=T>2?p[2]:n;for(R&&bs(p[0],p[1],R)&&(T=1);++S<T;)for(var Q=p[S],ae=zs(Q),fe=-1,be=ae.length;++fe<be;){var ke=ae[fe],Te=h[ke];(Te===n||oa(Te,Ed[ke])&&!xn.call(h,ke))&&(h[ke]=Q[ke])}return h}),jQ=Ut(function(h){return h.push(n,eO),si(LO,n,h)});function bQ(h,p){return Qk(h,gt(p,3),Va)}function wQ(h,p){return Qk(h,gt(p,3),MN)}function NQ(h,p){return h==null?h:DN(h,gt(p,3),zs)}function SQ(h,p){return h==null?h:jT(h,gt(p,3),zs)}function CQ(h,p){return h&&Va(h,gt(p,3))}function PQ(h,p){return h&&MN(h,gt(p,3))}function _Q(h){return h==null?[]:nx(h,$r(h))}function AQ(h){return h==null?[]:nx(h,zs(h))}function h1(h,p,S){var T=h==null?n:Kc(h,p);return T===n?S:T}function EQ(h,p){return h!=null&&rO(h,p,JH)}function f1(h,p){return h!=null&&rO(h,p,ZH)}var kQ=YT(function(h,p,S){p!=null&&typeof p.toString!="function"&&(p=Uv.call(p)),h[p]=S},p1(Vs)),TQ=YT(function(h,p,S){p!=null&&typeof p.toString!="function"&&(p=Uv.call(p)),xn.call(h,p)?h[p].push(S):h[p]=[S]},gt),OQ=Ut(Am);function $r(h){return Bs(h)?fT(h):LN(h)}function zs(h){return Bs(h)?fT(h,!0):cG(h)}function DQ(h,p){var S={};return p=gt(p,3),Va(h,function(T,R,Q){So(S,p(T,R,Q),T)}),S}function MQ(h,p){var S={};return p=gt(p,3),Va(h,function(T,R,Q){So(S,R,p(T,R,Q))}),S}var IQ=Dd(function(h,p,S){rx(h,p,S)}),LO=Dd(function(h,p,S,T){rx(h,p,S,T)}),$Q=Po(function(h,p){var S={};if(h==null)return S;var T=!1;p=qn(p,function(Q){return Q=Pl(Q,h),T||(T=Q.length>1),Q}),Ua(h,JN(h),S),T&&(S=Ti(S,f|m|g,kG));for(var R=p.length;R--;)qN(S,p[R]);return S});function RQ(h,p){return FO(h,xx(gt(p)))}var LQ=Po(function(h,p){return h==null?{}:dG(h,p)});function FO(h,p){if(h==null)return{};var S=qn(JN(h),function(T){return[T]});return p=gt(p),kT(h,S,function(T,R){return p(T,R[0])})}function FQ(h,p,S){p=Pl(p,h);var T=-1,R=p.length;for(R||(R=1,h=n);++T<R;){var Q=h==null?n:h[qa(p[T])];Q===n&&(T=R,Q=S),h=Ao(Q)?Q.call(h):Q}return h}function BQ(h,p,S){return h==null?h:km(h,p,S)}function zQ(h,p,S,T){return T=typeof T=="function"?T:n,h==null?h:km(h,p,S,T)}var BO=JT($r),zO=JT(zs);function VQ(h,p,S){var T=Mt(h),R=T||Al(h)||$d(h);if(p=gt(p,4),S==null){var Q=h&&h.constructor;R?S=T?new Q:[]:Xn(h)?S=Ao(Q)?Od(Hv(h)):{}:S={}}return(R?Ai:Va)(h,function(ae,fe,be){return p(S,ae,fe,be)}),S}function UQ(h,p){return h==null?!0:qN(h,p)}function qQ(h,p,S){return h==null?h:IT(h,p,GN(S))}function WQ(h,p,S,T){return T=typeof T=="function"?T:n,h==null?h:IT(h,p,GN(S),T)}function Rd(h){return h==null?[]:CN(h,$r(h))}function HQ(h){return h==null?[]:CN(h,zs(h))}function GQ(h,p,S){return S===n&&(S=p,p=n),S!==n&&(S=Mi(S),S=S===S?S:0),p!==n&&(p=Mi(p),p=p===p?p:0),Gc(Mi(h),p,S)}function KQ(h,p,S){return p=Eo(p),S===n?(S=p,p=0):S=Eo(S),h=Mi(h),eG(h,p,S)}function YQ(h,p,S){if(S&&typeof S!="boolean"&&bs(h,p,S)&&(p=S=n),S===n&&(typeof p=="boolean"?(S=p,p=n):typeof h=="boolean"&&(S=h,h=n)),h===n&&p===n?(h=0,p=1):(h=Eo(h),p===n?(p=h,h=0):p=Eo(p)),h>p){var T=h;h=p,p=T}if(S||h%1||p%1){var R=dT();return as(h+R*(p-h+_9("1e-"+((R+"").length-1))),p)}return zN(h,p)}var QQ=Md(function(h,p,S){return p=p.toLowerCase(),h+(S?VO(p):p)});function VO(h){return m1(hn(h).toLowerCase())}function UO(h){return h=hn(h),h&&h.replace(Yw,B9).replace(lN,"")}function XQ(h,p,S){h=hn(h),p=ai(p);var T=h.length;S=S===n?T:Gc(Rt(S),0,T);var R=S;return S-=p.length,S>=0&&h.slice(S,R)==p}function JQ(h){return h=hn(h),h&&ra.test(h)?h.replace(En,z9):h}function ZQ(h){return h=hn(h),h&&ys.test(h)?h.replace(ri,"\\$&"):h}var eX=Md(function(h,p,S){return h+(S?"-":"")+p.toLowerCase()}),tX=Md(function(h,p,S){return h+(S?" ":"")+p.toLowerCase()}),nX=HT("toLowerCase");function rX(h,p,S){h=hn(h),p=Rt(p);var T=p?_d(h):0;if(!p||T>=p)return h;var R=(p-T)/2;return cx(Qv(R),S)+h+cx(Yv(R),S)}function sX(h,p,S){h=hn(h),p=Rt(p);var T=p?_d(h):0;return p&&T<p?h+cx(p-T,S):h}function iX(h,p,S){h=hn(h),p=Rt(p);var T=p?_d(h):0;return p&&T<p?cx(p-T,S)+h:h}function aX(h,p,S){return S||p==null?p=0:p&&(p=+p),fH(hn(h).replace(Ls,""),p||0)}function oX(h,p,S){return(S?bs(h,p,S):p===n)?p=1:p=Rt(p),VN(hn(h),p)}function lX(){var h=arguments,p=hn(h[0]);return h.length<3?p:p.replace(h[1],h[2])}var cX=Md(function(h,p,S){return h+(S?"_":"")+p.toLowerCase()});function uX(h,p,S){return S&&typeof S!="number"&&bs(h,p,S)&&(p=S=n),S=S===n?pe:S>>>0,S?(h=hn(h),h&&(typeof p=="string"||p!=null&&!d1(p))&&(p=ai(p),!p&&Pd(h))?_l(ia(h),0,S):h.split(p,S)):[]}var dX=Md(function(h,p,S){return h+(S?" ":"")+m1(p)});function hX(h,p,S){return h=hn(h),S=S==null?0:Gc(Rt(S),0,h.length),p=ai(p),h.slice(S,S+p.length)==p}function fX(h,p,S){var T=G.templateSettings;S&&bs(h,p,S)&&(p=n),h=hn(h),p=bx({},p,T,ZT);var R=bx({},p.imports,T.imports,ZT),Q=$r(R),ae=CN(R,Q),fe,be,ke=0,Te=p.interpolate||bo,Re="__p += '",Qe=_N((p.escape||bo).source+"|"+Te.source+"|"+(Te===gn?Ww:bo).source+"|"+(p.evaluate||bo).source+"|$","g"),ot="//# sourceURL="+(xn.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++fN+"]")+`
`;h.replace(Qe,function(xt,Ht,tn,li,ws,ci){return tn||(tn=li),Re+=h.slice(ke,ci).replace(Qw,V9),Ht&&(fe=!0,Re+=`' +
__e(`+Ht+`) +
'`),ws&&(be=!0,Re+=`';
`+ws+`;
__p += '`),tn&&(Re+=`' +
((__t = (`+tn+`)) == null ? '' : __t) +
'`),ke=ci+xt.length,xt}),Re+=`';
`;var vt=xn.call(p,"variable")&&p.variable;if(!vt)Re=`with (obj) {
`+Re+`
}
`;else if(Uw.test(vt))throw new Tt(l);Re=(be?Re.replace(xl,""):Re).replace(oe,"$1").replace(We,"$1;"),Re="function("+(vt||"obj")+`) {
`+(vt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(fe?", __e = _.escape":"")+(be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Re+`return __p
}`;var Bt=WO(function(){return dn(Q,ot+"return "+Re).apply(n,ae)});if(Bt.source=Re,u1(Bt))throw Bt;return Bt}function mX(h){return hn(h).toLowerCase()}function pX(h){return hn(h).toUpperCase()}function gX(h,p,S){if(h=hn(h),h&&(S||p===n))return eT(h);if(!h||!(p=ai(p)))return h;var T=ia(h),R=ia(p),Q=tT(T,R),ae=nT(T,R)+1;return _l(T,Q,ae).join("")}function vX(h,p,S){if(h=hn(h),h&&(S||p===n))return h.slice(0,sT(h)+1);if(!h||!(p=ai(p)))return h;var T=ia(h),R=nT(T,ia(p))+1;return _l(T,0,R).join("")}function xX(h,p,S){if(h=hn(h),h&&(S||p===n))return h.replace(Ls,"");if(!h||!(p=ai(p)))return h;var T=ia(h),R=tT(T,ia(p));return _l(T,R).join("")}function yX(h,p){var S=I,T=O;if(Xn(p)){var R="separator"in p?p.separator:R;S="length"in p?Rt(p.length):S,T="omission"in p?ai(p.omission):T}h=hn(h);var Q=h.length;if(Pd(h)){var ae=ia(h);Q=ae.length}if(S>=Q)return h;var fe=S-_d(T);if(fe<1)return T;var be=ae?_l(ae,0,fe).join(""):h.slice(0,fe);if(R===n)return be+T;if(ae&&(fe+=be.length-fe),d1(R)){if(h.slice(fe).search(R)){var ke,Te=be;for(R.global||(R=_N(R.source,hn(_v.exec(R))+"g")),R.lastIndex=0;ke=R.exec(Te);)var Re=ke.index;be=be.slice(0,Re===n?fe:Re)}}else if(h.indexOf(ai(R),fe)!=fe){var Qe=be.lastIndexOf(R);Qe>-1&&(be=be.slice(0,Qe))}return be+T}function jX(h){return h=hn(h),h&&Qn.test(h)?h.replace(Le,Y9):h}var bX=Md(function(h,p,S){return h+(S?" ":"")+p.toUpperCase()}),m1=HT("toUpperCase");function qO(h,p,S){return h=hn(h),p=S?n:p,p===n?q9(h)?J9(h):I9(h):h.match(p)||[]}var WO=Ut(function(h,p){try{return si(h,n,p)}catch(S){return u1(S)?S:new Tt(S)}}),wX=Po(function(h,p){return Ai(p,function(S){S=qa(S),So(h,S,l1(h[S],h))}),h});function NX(h){var p=h==null?0:h.length,S=gt();return h=p?qn(h,function(T){if(typeof T[1]!="function")throw new Ei(o);return[S(T[0]),T[1]]}):[],Ut(function(T){for(var R=-1;++R<p;){var Q=h[R];if(si(Q[0],this,T))return si(Q[1],this,T)}})}function SX(h){return YH(Ti(h,f))}function p1(h){return function(){return h}}function CX(h,p){return h==null||h!==h?p:h}var PX=KT(),_X=KT(!0);function Vs(h){return h}function g1(h){return ST(typeof h=="function"?h:Ti(h,f))}function AX(h){return PT(Ti(h,f))}function EX(h,p){return _T(h,Ti(p,f))}var kX=Ut(function(h,p){return function(S){return Am(S,h,p)}}),TX=Ut(function(h,p){return function(S){return Am(h,S,p)}});function v1(h,p,S){var T=$r(p),R=nx(p,T);S==null&&!(Xn(p)&&(R.length||!T.length))&&(S=p,p=h,h=this,R=nx(p,$r(p)));var Q=!(Xn(S)&&"chain"in S)||!!S.chain,ae=Ao(h);return Ai(R,function(fe){var be=p[fe];h[fe]=be,ae&&(h.prototype[fe]=function(){var ke=this.__chain__;if(Q||ke){var Te=h(this.__wrapped__),Re=Te.__actions__=Fs(this.__actions__);return Re.push({func:be,args:arguments,thisArg:h}),Te.__chain__=ke,Te}return be.apply(h,bl([this.value()],arguments))})}),h}function OX(){return Xr._===this&&(Xr._=sH),this}function x1(){}function DX(h){return h=Rt(h),Ut(function(p){return AT(p,h)})}var MX=YN(qn),IX=YN(Yk),$X=YN(jN);function HO(h){return n1(h)?bN(qa(h)):hG(h)}function RX(h){return function(p){return h==null?n:Kc(h,p)}}var LX=QT(),FX=QT(!0);function y1(){return[]}function j1(){return!1}function BX(){return{}}function zX(){return""}function VX(){return!0}function UX(h,p){if(h=Rt(h),h<1||h>$)return[];var S=pe,T=as(h,pe);p=gt(p),h-=pe;for(var R=SN(T,p);++S<h;)p(S);return R}function qX(h){return Mt(h)?qn(h,qa):oi(h)?[h]:Fs(hO(hn(h)))}function WX(h){var p=++nH;return hn(h)+p}var HX=lx(function(h,p){return h+p},0),GX=QN("ceil"),KX=lx(function(h,p){return h/p},1),YX=QN("floor");function QX(h){return h&&h.length?tx(h,Vs,IN):n}function XX(h,p){return h&&h.length?tx(h,gt(p,2),IN):n}function JX(h){return Jk(h,Vs)}function ZX(h,p){return Jk(h,gt(p,2))}function eJ(h){return h&&h.length?tx(h,Vs,FN):n}function tJ(h,p){return h&&h.length?tx(h,gt(p,2),FN):n}var nJ=lx(function(h,p){return h*p},1),rJ=QN("round"),sJ=lx(function(h,p){return h-p},0);function iJ(h){return h&&h.length?NN(h,Vs):0}function aJ(h,p){return h&&h.length?NN(h,gt(p,2)):0}return G.after=AY,G.ary=NO,G.assign=pQ,G.assignIn=RO,G.assignInWith=bx,G.assignWith=gQ,G.at=vQ,G.before=SO,G.bind=l1,G.bindAll=wX,G.bindKey=CO,G.castArray=BY,G.chain=jO,G.chunk=YG,G.compact=QG,G.concat=XG,G.cond=NX,G.conforms=SX,G.constant=p1,G.countBy=iY,G.create=xQ,G.curry=PO,G.curryRight=_O,G.debounce=AO,G.defaults=yQ,G.defaultsDeep=jQ,G.defer=EY,G.delay=kY,G.difference=JG,G.differenceBy=ZG,G.differenceWith=eK,G.drop=tK,G.dropRight=nK,G.dropRightWhile=rK,G.dropWhile=sK,G.fill=iK,G.filter=oY,G.flatMap=uY,G.flatMapDeep=dY,G.flatMapDepth=hY,G.flatten=gO,G.flattenDeep=aK,G.flattenDepth=oK,G.flip=TY,G.flow=PX,G.flowRight=_X,G.fromPairs=lK,G.functions=_Q,G.functionsIn=AQ,G.groupBy=fY,G.initial=uK,G.intersection=dK,G.intersectionBy=hK,G.intersectionWith=fK,G.invert=kQ,G.invertBy=TQ,G.invokeMap=pY,G.iteratee=g1,G.keyBy=gY,G.keys=$r,G.keysIn=zs,G.map=px,G.mapKeys=DQ,G.mapValues=MQ,G.matches=AX,G.matchesProperty=EX,G.memoize=vx,G.merge=IQ,G.mergeWith=LO,G.method=kX,G.methodOf=TX,G.mixin=v1,G.negate=xx,G.nthArg=DX,G.omit=$Q,G.omitBy=RQ,G.once=OY,G.orderBy=vY,G.over=MX,G.overArgs=DY,G.overEvery=IX,G.overSome=$X,G.partial=c1,G.partialRight=EO,G.partition=xY,G.pick=LQ,G.pickBy=FO,G.property=HO,G.propertyOf=RX,G.pull=vK,G.pullAll=xO,G.pullAllBy=xK,G.pullAllWith=yK,G.pullAt=jK,G.range=LX,G.rangeRight=FX,G.rearg=MY,G.reject=bY,G.remove=bK,G.rest=IY,G.reverse=a1,G.sampleSize=NY,G.set=BQ,G.setWith=zQ,G.shuffle=SY,G.slice=wK,G.sortBy=_Y,G.sortedUniq=EK,G.sortedUniqBy=kK,G.split=uX,G.spread=$Y,G.tail=TK,G.take=OK,G.takeRight=DK,G.takeRightWhile=MK,G.takeWhile=IK,G.tap=QK,G.throttle=RY,G.thru=mx,G.toArray=MO,G.toPairs=BO,G.toPairsIn=zO,G.toPath=qX,G.toPlainObject=$O,G.transform=VQ,G.unary=LY,G.union=$K,G.unionBy=RK,G.unionWith=LK,G.uniq=FK,G.uniqBy=BK,G.uniqWith=zK,G.unset=UQ,G.unzip=o1,G.unzipWith=yO,G.update=qQ,G.updateWith=WQ,G.values=Rd,G.valuesIn=HQ,G.without=VK,G.words=qO,G.wrap=FY,G.xor=UK,G.xorBy=qK,G.xorWith=WK,G.zip=HK,G.zipObject=GK,G.zipObjectDeep=KK,G.zipWith=YK,G.entries=BO,G.entriesIn=zO,G.extend=RO,G.extendWith=bx,v1(G,G),G.add=HX,G.attempt=WO,G.camelCase=QQ,G.capitalize=VO,G.ceil=GX,G.clamp=GQ,G.clone=zY,G.cloneDeep=UY,G.cloneDeepWith=qY,G.cloneWith=VY,G.conformsTo=WY,G.deburr=UO,G.defaultTo=CX,G.divide=KX,G.endsWith=XQ,G.eq=oa,G.escape=JQ,G.escapeRegExp=ZQ,G.every=aY,G.find=lY,G.findIndex=mO,G.findKey=bQ,G.findLast=cY,G.findLastIndex=pO,G.findLastKey=wQ,G.floor=YX,G.forEach=bO,G.forEachRight=wO,G.forIn=NQ,G.forInRight=SQ,G.forOwn=CQ,G.forOwnRight=PQ,G.get=h1,G.gt=HY,G.gte=GY,G.has=EQ,G.hasIn=f1,G.head=vO,G.identity=Vs,G.includes=mY,G.indexOf=cK,G.inRange=KQ,G.invoke=OQ,G.isArguments=Xc,G.isArray=Mt,G.isArrayBuffer=KY,G.isArrayLike=Bs,G.isArrayLikeObject=ur,G.isBoolean=YY,G.isBuffer=Al,G.isDate=QY,G.isElement=XY,G.isEmpty=JY,G.isEqual=ZY,G.isEqualWith=eQ,G.isError=u1,G.isFinite=tQ,G.isFunction=Ao,G.isInteger=kO,G.isLength=yx,G.isMap=TO,G.isMatch=nQ,G.isMatchWith=rQ,G.isNaN=sQ,G.isNative=iQ,G.isNil=oQ,G.isNull=aQ,G.isNumber=OO,G.isObject=Xn,G.isObjectLike=nr,G.isPlainObject=Mm,G.isRegExp=d1,G.isSafeInteger=lQ,G.isSet=DO,G.isString=jx,G.isSymbol=oi,G.isTypedArray=$d,G.isUndefined=cQ,G.isWeakMap=uQ,G.isWeakSet=dQ,G.join=mK,G.kebabCase=eX,G.last=Di,G.lastIndexOf=pK,G.lowerCase=tX,G.lowerFirst=nX,G.lt=hQ,G.lte=fQ,G.max=QX,G.maxBy=XX,G.mean=JX,G.meanBy=ZX,G.min=eJ,G.minBy=tJ,G.stubArray=y1,G.stubFalse=j1,G.stubObject=BX,G.stubString=zX,G.stubTrue=VX,G.multiply=nJ,G.nth=gK,G.noConflict=OX,G.noop=x1,G.now=gx,G.pad=rX,G.padEnd=sX,G.padStart=iX,G.parseInt=aX,G.random=YQ,G.reduce=yY,G.reduceRight=jY,G.repeat=oX,G.replace=lX,G.result=FQ,G.round=rJ,G.runInContext=xe,G.sample=wY,G.size=CY,G.snakeCase=cX,G.some=PY,G.sortedIndex=NK,G.sortedIndexBy=SK,G.sortedIndexOf=CK,G.sortedLastIndex=PK,G.sortedLastIndexBy=_K,G.sortedLastIndexOf=AK,G.startCase=dX,G.startsWith=hX,G.subtract=sJ,G.sum=iJ,G.sumBy=aJ,G.template=fX,G.times=UX,G.toFinite=Eo,G.toInteger=Rt,G.toLength=IO,G.toLower=mX,G.toNumber=Mi,G.toSafeInteger=mQ,G.toString=hn,G.toUpper=pX,G.trim=gX,G.trimEnd=vX,G.trimStart=xX,G.truncate=yX,G.unescape=jX,G.uniqueId=WX,G.upperCase=bX,G.upperFirst=m1,G.each=bO,G.eachRight=wO,G.first=vO,v1(G,function(){var h={};return Va(G,function(p,S){xn.call(G.prototype,S)||(h[S]=p)}),h}(),{chain:!1}),G.VERSION=s,Ai(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){G[h].placeholder=G}),Ai(["drop","take"],function(h,p){Zt.prototype[h]=function(S){S=S===n?1:Sr(Rt(S),0);var T=this.__filtered__&&!p?new Zt(this):this.clone();return T.__filtered__?T.__takeCount__=as(S,T.__takeCount__):T.__views__.push({size:as(S,pe),type:h+(T.__dir__<0?"Right":"")}),T},Zt.prototype[h+"Right"]=function(S){return this.reverse()[h](S).reverse()}}),Ai(["filter","map","takeWhile"],function(h,p){var S=p+1,T=S==L||S==q;Zt.prototype[h]=function(R){var Q=this.clone();return Q.__iteratees__.push({iteratee:gt(R,3),type:S}),Q.__filtered__=Q.__filtered__||T,Q}}),Ai(["head","last"],function(h,p){var S="take"+(p?"Right":"");Zt.prototype[h]=function(){return this[S](1).value()[0]}}),Ai(["initial","tail"],function(h,p){var S="drop"+(p?"":"Right");Zt.prototype[h]=function(){return this.__filtered__?new Zt(this):this[S](1)}}),Zt.prototype.compact=function(){return this.filter(Vs)},Zt.prototype.find=function(h){return this.filter(h).head()},Zt.prototype.findLast=function(h){return this.reverse().find(h)},Zt.prototype.invokeMap=Ut(function(h,p){return typeof h=="function"?new Zt(this):this.map(function(S){return Am(S,h,p)})}),Zt.prototype.reject=function(h){return this.filter(xx(gt(h)))},Zt.prototype.slice=function(h,p){h=Rt(h);var S=this;return S.__filtered__&&(h>0||p<0)?new Zt(S):(h<0?S=S.takeRight(-h):h&&(S=S.drop(h)),p!==n&&(p=Rt(p),S=p<0?S.dropRight(-p):S.take(p-h)),S)},Zt.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Zt.prototype.toArray=function(){return this.take(pe)},Va(Zt.prototype,function(h,p){var S=/^(?:filter|find|map|reject)|While$/.test(p),T=/^(?:head|last)$/.test(p),R=G[T?"take"+(p=="last"?"Right":""):p],Q=T||/^find/.test(p);R&&(G.prototype[p]=function(){var ae=this.__wrapped__,fe=T?[1]:arguments,be=ae instanceof Zt,ke=fe[0],Te=be||Mt(ae),Re=function(Ht){var tn=R.apply(G,bl([Ht],fe));return T&&Qe?tn[0]:tn};Te&&S&&typeof ke=="function"&&ke.length!=1&&(be=Te=!1);var Qe=this.__chain__,ot=!!this.__actions__.length,vt=Q&&!Qe,Bt=be&&!ot;if(!Q&&Te){ae=Bt?ae:new Zt(this);var xt=h.apply(ae,fe);return xt.__actions__.push({func:mx,args:[Re],thisArg:n}),new ki(xt,Qe)}return vt&&Bt?h.apply(this,fe):(xt=this.thru(Re),vt?T?xt.value()[0]:xt.value():xt)})}),Ai(["pop","push","shift","sort","splice","unshift"],function(h){var p=Bv[h],S=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",T=/^(?:pop|shift)$/.test(h);G.prototype[h]=function(){var R=arguments;if(T&&!this.__chain__){var Q=this.value();return p.apply(Mt(Q)?Q:[],R)}return this[S](function(ae){return p.apply(Mt(ae)?ae:[],R)})}}),Va(Zt.prototype,function(h,p){var S=G[p];if(S){var T=S.name+"";xn.call(Td,T)||(Td[T]=[]),Td[T].push({name:p,func:S})}}),Td[ox(n,N).name]=[{name:"wrapper",func:n}],Zt.prototype.clone=jH,Zt.prototype.reverse=bH,Zt.prototype.value=wH,G.prototype.at=XK,G.prototype.chain=JK,G.prototype.commit=ZK,G.prototype.next=eY,G.prototype.plant=nY,G.prototype.reverse=rY,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=sY,G.prototype.first=G.prototype.head,bm&&(G.prototype[bm]=tY),G},Ad=Z9();Uc?((Uc.exports=Ad)._=Ad,gN._=Ad):Xr._=Ad}).call(or)})($j,$j.exports);var QS=$j.exports;const S_=w.forwardRef(({petId:e},t)=>{const{settings:n}=Wt(),{getPetById:s,getClientById:i,getVaccinationsByPetId:a}=pt(),o=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),l=s(e),c=l?i(l.ownerId):null,u=l?a(l.id):[],d=f=>{const m=new Date(f),g=new Date;if(QS.isNaN(m.getTime()))return"N/A";let x=g.getFullYear()-m.getFullYear(),v=g.getMonth()-m.getMonth(),y=g.getDate()-m.getDate();if(y<0){v--;const b=new Date(g.getFullYear(),g.getMonth(),0);y+=b.getDate()}v<0&&(x--,v+=12);const N=Math.floor(y/7),j=[];return x>0&&j.push(`${x} an${x>1?"s":""}`),v>0&&j.push(`${v} mois`),N>0&&j.push(`${N} semain${N>1?"es":""}`),j.join(", ")||"0 jour"};return!l||!c?null:r.jsxs("div",{ref:t,className:"p-8 bg-white text-gray-900 font-sans",children:[n.showClinicInfo&&r.jsxs("section",{className:"mb-4 text-sm",children:[r.jsx("img",{src:n.logo,alt:"Logo",className:"h-12 mb-2"}),r.jsx("p",{children:n.clinicName}),r.jsx("p",{children:n.address}),r.jsxs("p",{children:[n.phone," | ",n.email]}),n.website&&r.jsx("p",{children:n.website})]}),r.jsxs("div",{className:"flex justify-between items-center mb-8 border-b pb-4",children:[r.jsx("h1",{className:"text-4xl font-bold text-primary",children:"Certificat de Vaccination"}),r.jsx(p9,{value:`pet:${l.id}`,size:100})]}),n.showVetsInfo&&r.jsxs("section",{className:"mb-6 text-sm",children:[r.jsx("h2",{className:"font-medium mb-2",children:"Vétérinaires"}),o.map(f=>r.jsxs("p",{children:[f.title," ",f.name," - ",f.specialty]},f.id))]}),l.photo&&r.jsx("div",{className:"mb-6 text-center",children:r.jsx("img",{src:l.photo,alt:l.name,className:"w-32 h-32 object-cover rounded-full mx-auto"})}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold border-b pb-2",children:"Informations de l'animal"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Nom:"})," ",l.name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",l.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"})," ",l.breed||"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"})," ",l.birthDate?d(l.birthDate):"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Propriétaire:"})," ",c.name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Contact:"})," ",c.phone]})]})]}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold border-b pb-2",children:"Historique des Vaccinations"}),r.jsx("div",{className:"mt-4 space-y-4",children:u.map(f=>r.jsxs(de,{className:"border-primary/50",children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-lg",children:f.vaccineName})}),r.jsxs(he,{className:"p-4 text-sm flex justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Date donnée:"})," ",f.dateGiven&&!QS.isNaN(Date.parse(f.dateGiven))?It(new Date(f.dateGiven),"dd/MM/yyyy"):"N/A"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Rappel prévu:"})," ",f.nextDueDate&&!QS.isNaN(Date.parse(f.nextDueDate))?It(new Date(f.nextDueDate),"dd/MM/yyyy"):"N/A"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Vétérinaire:"})," ",f.veterinarian]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Statut:"})," ",f.status]})]})]})]},f.id))})]}),r.jsxs("footer",{className:"mt-8 text-center text-xs text-gray-500",children:["Généré le ",It(new Date,"dd/MM/yyyy")," - VetPro CRM"]})]})});function g9({open:e,onOpenChange:t,pet:n}){const{consultations:s,clients:i,getConsultationsByPetId:a,getClientById:o,getPrescriptionsByPetId:l,getActivePrescriptions:c,getVaccinationsByPetId:u,getAntiparasiticsByPetId:d,updatePet:f,updateConsultation:m,updateVaccination:g,updateVaccinationStatuses:x}=pt(),[v,y]=w.useState(!1),[N,j]=w.useState(!1),[b,P]=w.useState(!1),[C,_]=w.useState(!1),[A,E]=w.useState("overview"),[D,I]=w.useState(!1),[O,k]=w.useState({hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),[F,L]=w.useState((n==null?void 0:n.additionalPhotos)||[]),[Y,q]=w.useState({clientId:0,petId:0,type:"",reason:""}),[ie,$]=w.useState(null),[z,le]=w.useState(!1),[pe,ee]=w.useState(null),[J,B]=w.useState(null),{toast:me}=Ft(),ve=w.useRef(null),re=Lk.useReactToPrint({contentRef:ve,onAfterPrint:()=>t(!1)});w.useEffect(()=>{e&&x()},[e,x]);const V=()=>{n&&(f(n.id,{...n,...O}),Object.assign(n,O),I(!1))},Z=()=>{n&&(k({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),I(!1))},ye=oe=>{n&&(q({clientId:n.ownerId,petId:n.id,type:"vaccination",reason:`Rappel vaccinal - ${oe.vaccineName}`}),$(oe),j(!0))},te=oe=>{ee(oe),le(!0)},M=(oe,We)=>{g(oe,{status:We}),B(null),me({title:"Statut mis à jour",description:`Le statut de la vaccination a été changé en "${{completed:"Terminée",scheduled:"Planifiée",overdue:"En retard",missed:"Manquée"}[We]}"`})},je=(oe,We)=>{const Le=s.find(ra=>ra.id===oe);if(!Le||!Le.photos)return;const En=Le.photos.filter((ra,bt)=>bt!==We),Qn={...Le,photos:En};m(oe,Qn)},we=async oe=>{var En;const We=(En=oe.target.files)==null?void 0:En[0];if(!We)return;const Le=new FileReader;Le.onload=()=>{const Qn=Le.result,ra=[...F,Qn];L(ra),n&&f(n.id,{...n,additionalPhotos:ra})},Le.readAsDataURL(We)},Fe=oe=>{const We=F.filter((Le,En)=>En!==oe);L(We),n&&f(n.id,{...n,additionalPhotos:We})};if(w.useEffect(()=>{n&&(k({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),L(n.additionalPhotos||[]))},[n]),!n)return null;const Be=o(n.ownerId),at=a(n.id),lt=u(n.id),ut=d(n.id);console.log("🔍 PetDossierModal - DEBUG ANTIPARASITICS:"),console.log("   Pet ID:",n.id),console.log("   Pet Name:",n.name),console.log("   Antiparasitics found:",ut),console.log("   Length:",(ut==null?void 0:ut.length)||0);const Ne=[...at].sort((oe,We)=>new Date(We.date).getTime()-new Date(oe.date).getTime()),Ge=[...lt].sort((oe,We)=>new Date(We.dateGiven).getTime()-new Date(oe.dateGiven).getTime()),Ke=[...ut||[]].sort((oe,We)=>new Date(We.dateGiven).getTime()-new Date(oe.dateGiven).getTime()),qt=Ne.filter(oe=>oe.weight||oe.temperature).map(oe=>({date:new Date(oe.date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),weight:oe.weight?parseFloat(oe.weight):0,temperature:oe.temperature?parseFloat(oe.temperature):0})).reverse(),Kn=Ne.filter(oe=>oe.weight).map(oe=>parseFloat(oe.weight)),kt=Ne.filter(oe=>oe.temperature).map(oe=>parseFloat(oe.temperature)),wn=Kn[0]||0,cr=Kn[1]||0,Yn=wn-cr,gs=Yn>0?"up":Yn<0?"down":"stable",Se=kt[0]||0,Vt=kt.length>0?kt.reduce((oe,We)=>oe+We,0)/kt.length:0,nt=Ne[0],mt=nt!=null&&nt.followUp?{reason:nt.followUp,estimatedDate:new Date(nt.date)}:null,rn=[];if(nt){const oe=(new Date().getTime()-new Date(nt.date).getTime())/2592e6;oe>6&&rn.push({type:"warning",title:"Contrôle de routine recommandé",message:`Dernière consultation il y a ${Math.floor(oe)} mois`,action:"Planifier consultation",actionType:"consultation"})}(Se>39.5||Se<37.5)&&rn.push({type:"danger",title:"Température anormale",message:`Température actuelle: ${Se}°C`,action:"Contrôle urgent",actionType:"consultation"}),Yn<-2&&rn.push({type:"warning",title:"Perte de poids",message:`Perte de ${Math.abs(Yn)}kg depuis la dernière consultation`,action:"Surveiller",actionType:"consultation"});const is=new Date;new Date(is.getTime()+7*24*60*60*1e3),lt.forEach(oe=>{if(oe.nextDueDate){const We=new Date(oe.nextDueDate),Le=Math.ceil((We.getTime()-is.getTime())/(1e3*60*60*24));Le<0?rn.push({type:"danger",title:"Vaccination en retard",message:`${oe.vaccineName} - ${Math.abs(Le)} jour(s) de retard`,action:"Planifier vaccination",actionType:"vaccination"}):Le<=7&&rn.push({type:"warning",title:"Vaccination à prévoir",message:`${oe.vaccineName} - Dans ${Le} jour(s)`,action:"Planifier vaccination",actionType:"vaccination"})}}),ut.forEach(oe=>{if(oe.nextDueDate){const We=new Date(oe.nextDueDate),Le=Math.ceil((We.getTime()-is.getTime())/(1e3*60*60*24));Le<0?rn.push({type:"danger",title:"Traitement antiparasitaire en retard",message:`${oe.productName} - ${Math.abs(Le)} jour(s) de retard`,action:"Planifier traitement",actionType:"antiparasitic"}):Le<=7&&rn.push({type:"warning",title:"Traitement antiparasitaire à prévoir",message:`${oe.productName} - Dans ${Le} jour(s)`,action:"Planifier traitement",actionType:"antiparasitic"})}});const Yr=()=>{q({clientId:(Be==null?void 0:Be.id)||0,petId:n.id,type:"consultation",reason:"Nouvelle consultation"}),j(!0)},Rs=oe=>{let We="consultation",Le="";switch(oe){case"consultation":We="consultation",Le="Contrôle de routine recommandé";break;case"vaccination":We="vaccination",Le="Vaccination à effectuer";break;case"antiparasitic":We="controle",Le="Traitement antiparasitaire à effectuer";break;default:We="consultation",Le="Rendez-vous médical"}q({clientId:(Be==null?void 0:Be.id)||0,petId:n.id,type:We,reason:Le}),j(!0)},xl=()=>{const oe=window.open("","_blank");if(!oe)return;const We=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Dossier Médical - ${n.name}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
            .clinic-name { font-size: 24px; font-weight: bold; color: #2563eb; }
            .pet-info { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
            .info-section { border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
            .info-section h3 { margin: 0 0 10px 0; color: #333; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .consultation { margin: 20px 0; border: 1px solid #eee; padding: 15px; border-radius: 5px; }
            .consultation h4 { margin: 0 0 10px 0; color: #333; }
            .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0; }
            .stat-card { border: 1px solid #ddd; padding: 10px; text-align: center; border-radius: 5px; }
            .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; }
            .stat-label { font-size: 12px; color: #666; }
            @media print { body { margin: 0; } }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <h2>Dossier Médical Complet</h2>
            <p><strong>Animal:</strong> ${n.name} | <strong>Généré le:</strong> ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
          </div>

          <div class="pet-info">
            <div class="info-section">
              <h3>Informations Animal</h3>
              <p><strong>Nom:</strong> ${n.name}</p>
              <p><strong>Espèce:</strong> ${n.type}</p>
              <p><strong>Race:</strong> ${n.breed||"Non spécifiée"}</p>
              <p><strong>Sexe:</strong> ${n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Non spécifié"}</p>
              <p><strong>Âge:</strong> ${n.birthDate?tf(n.birthDate):"Non spécifié"}</p>
              <p><strong>Poids actuel:</strong> ${wn}kg</p>
              <p><strong>Température actuelle:</strong> ${Se}°C</p>
              <p><strong>Couleur:</strong> ${n.color||"Non spécifiée"}</p>
              <p><strong>Puce électronique:</strong> ${n.microchip||"Non spécifiée"}</p>
              ${n.medicalNotes?`<p><strong>Notes médicales:</strong> ${n.medicalNotes}</p>`:""}
            </div>
            <div class="info-section">
              <h3>Propriétaire</h3>
              <p><strong>Nom:</strong> ${(Be==null?void 0:Be.name)||"Non spécifié"}</p>
              <p><strong>Email:</strong> ${(Be==null?void 0:Be.email)||"Non spécifié"}</p>
              <p><strong>Téléphone:</strong> ${(Be==null?void 0:Be.phone)||"Non spécifié"}</p>
            </div>
          </div>

          <div class="stats">
            <div class="stat-card">
              <div class="stat-value">${Ne.length}</div>
              <div class="stat-label">Consultations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${lt.length}</div>
              <div class="stat-label">Vaccinations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${ut.length}</div>
              <div class="stat-label">Antiparasitaires</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${wn}kg</div>
              <div class="stat-label">Poids actuel</div>
            </div>
          </div>

          <!-- Photo principale de l'animal -->
          ${n.photo?`
            <div style="text-align: center; margin: 20px 0;">
              <img src="${n.photo}" alt="${n.name}" style="max-width: 200px; max-height: 200px; object-fit: cover; border-radius: 8px; border: 2px solid #ddd;" />
              <p style="margin-top: 10px; font-weight: bold;">Photo de ${n.name}</p>
            </div>
          `:""}

          <!-- Historique des Consultations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Consultations (${Ne.length})</h3>
            ${Ne.length>0?Ne.map(Le=>`
              <div style="margin: 15px 0; border: 1px solid #ddd; padding: 15px; border-radius: 5px; background: #f9f9f9;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Consultation du ${new Date(Le.date).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Poids:</strong> ${Le.weight||"Non renseigné"}</p>
                    <p><strong>Température:</strong> ${Le.temperature||"Non renseigné"}</p>
                    ${Le.symptoms?`<p><strong>Symptômes:</strong> ${Le.symptoms}</p>`:""}
                  </div>
                  <div>
                    ${Le.diagnosis?`<p><strong>Diagnostic:</strong> ${Le.diagnosis}</p>`:""}
                    ${Le.treatment?`<p><strong>Traitement:</strong> ${Le.treatment}</p>`:""}
                    ${Le.medications?`<p><strong>Médicaments:</strong> ${Le.medications}</p>`:""}
                  </div>
                </div>
                ${Le.notes?`<p><strong>Notes:</strong> ${Le.notes}</p>`:""}
                ${Le.photos&&Le.photos.length>0?`
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin: 15px 0;">
                    ${Le.photos.map((En,Qn)=>`
                      <div style="text-align: center;">
                        <img src="${En}" alt="Photo consultation ${Qn+1}" style="max-width: 120px; max-height: 120px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                        <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo ${Qn+1}</div>
                      </div>
                    `).join("")}
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune consultation enregistrée</p>'}
          </div>

          <!-- Historique des Vaccinations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Vaccinations (${lt.length})</h3>
            ${lt.length>0?lt.map(Le=>`
              <div style="margin: 10px 0; padding: 10px; border-left: 3px solid #4CAF50; background: #f0f8f0;">
                <h4 style="margin: 0 0 10px 0;">${Le.vaccineName} - ${new Date(Le.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <p><strong>Type:</strong> ${Le.vaccineType||"Non spécifié"}</p>
                <p><strong>Prochain rappel:</strong> ${Le.nextDueDate?new Date(Le.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                <p><strong>Vétérinaire:</strong> ${Le.veterinarian||"Non spécifié"}</p>
                ${Le.notes?`<p><strong>Notes:</strong> ${Le.notes}</p>`:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune vaccination enregistrée</p>'}
          </div>

          <!-- Historique des Antiparasitaires -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Traitements Antiparasitaires (${ut.length})</h3>
            ${ut.length>0?ut.map(Le=>`
              <div style="margin: 15px 0; padding: 15px; border-left: 4px solid #9C27B0; background: #f3e5f5; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #7B1FA2;">${Le.productName} - ${new Date(Le.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 10px 0;">
                  <div>
                    <p><strong>Type de produit:</strong> ${Le.productType||"Non spécifié"}</p>
                    <p><strong>Parasites ciblés:</strong> ${Le.targetParasites||"Non spécifié"}</p>
                    <p><strong>Voie d'administration:</strong> ${Le.administrationRoute||"Non spécifié"}</p>
                    <p><strong>Dosage:</strong> ${Le.dosage||"Non spécifié"}</p>
                  </div>
                  <div>
                <p><strong>Prochain traitement:</strong> ${Le.nextDueDate?new Date(Le.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                <p><strong>Vétérinaire:</strong> ${Le.veterinarian||"Non spécifié"}</p>
                    <p><strong>Statut:</strong> ${Le.status==="completed"?"Terminé":Le.status==="scheduled"?"Planifié":Le.status==="overdue"?"En retard":"Manqué"}</p>
                    ${Le.cost?`<p><strong>Coût:</strong> ${Le.cost} €</p>`:""}
                  </div>
                </div>
                ${Le.batchNumber?`<p><strong>Numéro de lot:</strong> ${Le.batchNumber}</p>`:""}
                ${Le.manufacturer?`<p><strong>Fabricant:</strong> ${Le.manufacturer}</p>`:""}
                ${Le.weight?`<p><strong>Poids de l'animal:</strong> ${Le.weight}</p>`:""}
                ${Le.notes?`
                  <div style="margin: 10px 0; padding: 10px; background: rgba(156, 39, 176, 0.1); border-radius: 3px;">
                    <p><strong>Notes:</strong> ${Le.notes}</p>
                  </div>
                `:""}
                ${Le.sideEffects?`
                  <div style="margin: 10px 0; padding: 10px; background: #ffebee; border: 1px solid #f44336; border-radius: 3px;">
                    <p style="color: #d32f2f;"><strong>⚠️ Effets indésirables:</strong> ${Le.sideEffects}</p>
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucun traitement antiparasitaire enregistré</p>'}
          </div>

          <!-- Section Pedigree -->
          ${n.hasPedigree?`
            <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
              <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Pedigree Officiel</h3>
              
              <!-- Informations de l'animal -->
              <div style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Informations de l'animal</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Nom officiel:</strong> ${n.officialName||"Non spécifié"}</p>
                    <p><strong>N° Pedigree/LOF:</strong> ${n.pedigreeNumber||"Non spécifié"}</p>
                    <p><strong>N° Puce/Tatouage:</strong> ${n.microchip||"Non spécifié"}</p>
                    <p><strong>Race:</strong> ${n.breed||"Non spécifiée"}</p>
                  </div>
                  <div>
                    <p><strong>Sexe:</strong> ${n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Non spécifié"}</p>
                    <p><strong>Couleur/Robe:</strong> ${n.color||"Non spécifiée"}</p>
                    <p><strong>Date de naissance:</strong> ${n.birthDate?new Date(n.birthDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                    <p><strong>Éleveur:</strong> ${n.breeder||"Non spécifié"}</p>
                  </div>
                </div>
              </div>

              <!-- Parents -->
              <div style="margin: 20px 0;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Ascendance</h4>
                
                <!-- Père -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #007bff; background: #f0f8ff;">
                  <h5 style="margin: 0 0 8px 0; color: #007bff;">Père</h5>
                  <p><strong>Nom:</strong> ${n.fatherName||"Non spécifié"}</p>
                  <p><strong>N° Pedigree:</strong> ${n.fatherPedigree||"Non spécifié"}</p>
                  <p><strong>Race:</strong> ${n.fatherBreed||"Non spécifiée"}</p>
                  ${n.fatherTitles?`<p><strong>Titres:</strong> ${n.fatherTitles}</p>`:""}
                </div>

                <!-- Mère -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #e91e63; background: #fce4ec;">
                  <h5 style="margin: 0 0 8px 0; color: #e91e63;">Mère</h5>
                  <p><strong>Nom:</strong> ${n.motherName||"Non spécifié"}</p>
                  <p><strong>N° Pedigree:</strong> ${n.motherPedigree||"Non spécifié"}</p>
                  <p><strong>Race:</strong> ${n.motherBreed||"Non spécifiée"}</p>
                  ${n.motherTitles?`<p><strong>Titres:</strong> ${n.motherTitles}</p>`:""}
                </div>
              </div>

              <!-- Certificat Pedigree -->
              ${n.pedigreePhoto?`
                <div style="margin: 20px 0; text-align: center;">
                  <h4 style="margin: 0 0 15px 0; color: #333;">Certificat Pedigree</h4>
                  <img src="${n.pedigreePhoto}" alt="Certificat Pedigree" style="max-width: 100%; max-height: 400px; object-fit: contain; border-radius: 8px; border: 2px solid #ddd; box-shadow: 0 4px 8px rgba(0,0,0,0.1);" />
                  <p style="margin-top: 10px; font-size: 12px; color: #666;">Document officiel du pedigree</p>
                </div>
              `:""}
            </div>
          `:""}

          <!-- Album Photo -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Album Photo</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin: 15px 0;">
              ${n.photo?`
                <div style="text-align: center;">
                  <img src="${n.photo}" alt="Photo principale" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                  <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo principale</div>
                </div>
              `:""}
              ${Ne.some(Le=>Le.photos&&Le.photos.length>0)?Ne.map(Le=>Le.photos?Le.photos.map((En,Qn)=>`
                    <div style="text-align: center;">
                      <img src="${En}" alt="Consultation ${new Date(Le.date).toLocaleDateString("fr-FR")} - Photo ${Qn+1}" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                      <div style="font-size: 11px; color: #666; margin-top: 5px;">Consultation ${new Date(Le.date).toLocaleDateString("fr-FR")}</div>
                    </div>
                  `).join(""):"").join(""):""}
            </div>
            ${!n.photo&&!Ne.some(Le=>Le.photos&&Le.photos.length>0)?'<p style="text-align: center; color: #666; font-style: italic;">Aucune photo disponible</p>':""}
          </div>

          <div style="margin-top: 40px; text-align: center; font-size: 12px; color: #666;">
            <p>VetPro CRM - Gestion Vétérinaire Complète</p>
          </div>
        </body>
      </html>
    `;oe.document.write(We),oe.document.close(),oe.focus(),oe.print(),oe.close()};return r.jsxs(r.Fragment,{children:[r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[1000px] max-h-[90vh] overflow-y-auto",children:[r.jsx(Pt,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(lr,{className:"h-5 w-5"}),"Dossier Médical - ",n.name,Be&&r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(Propriétaire: ",Be.name,")"]})]})}),r.jsxs(ml,{value:A,onValueChange:E,className:"space-y-4",children:[r.jsxs(xo,{className:"grid w-full grid-cols-7",children:[r.jsxs(ln,{value:"overview",className:"gap-2",children:[r.jsx(Xi,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(ln,{value:"history",className:"gap-2",children:[r.jsx(pr,{className:"h-4 w-4"}),"Historique"]}),r.jsxs(ln,{value:"prescriptions",className:"gap-2",children:[r.jsx(As,{className:"h-4 w-4"}),"Prescriptions"]}),r.jsxs(ln,{value:"vaccinations",className:"gap-2",children:[r.jsx(As,{className:"h-4 w-4"}),"Vaccinations"]}),r.jsxs(ln,{value:"antiparasites",className:"gap-2",children:[r.jsx(rc,{className:"h-4 w-4"}),"Antiparasitaires"]}),r.jsxs(ln,{value:"pedigree",className:"gap-2",children:[r.jsx(f0,{className:"h-4 w-4"}),"Pedigree"]}),r.jsxs(ln,{value:"charts",className:"gap-2",children:[r.jsx(vr,{className:"h-4 w-4"}),"Évolution"]}),r.jsxs(ln,{value:"alerts",className:"gap-2",children:[r.jsx(zr,{className:"h-4 w-4"}),"Alertes"]})]}),r.jsxs(cn,{value:"overview",className:"space-y-4",children:[r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ae,{className:"text-lg",children:"Galerie photos"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:we,className:"hidden",id:"add-photo-input"}),r.jsxs("label",{htmlFor:"add-photo-input",className:"cursor-pointer inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:[r.jsx(ft,{className:"h-4 w-4"}),"Ajouter une photo"]})]})]}),r.jsx(he,{children:r.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[n.photo&&r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("img",{src:n.photo,alt:"Photo officielle",className:"h-32 w-32 object-cover rounded"}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:"Officielle"})]}),F.map((oe,We)=>r.jsxs("div",{className:"relative flex-shrink-0 group",children:[r.jsx("img",{src:oe,alt:`Photo supplémentaire ${We+1}`,className:"h-32 w-32 object-cover rounded"}),r.jsxs("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:["Photo ",We+1]}),r.jsx("button",{onClick:()=>Fe(We),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:"×"})]},`additional-${We}`)),Ne.map(oe=>{var We;return(We=oe.photos)==null?void 0:We.map((Le,En)=>r.jsxs("div",{className:"relative flex-shrink-0 group",children:[r.jsx("img",{src:Le,alt:`consultation-${oe.id}-${En}`,className:"h-32 w-32 object-cover rounded"}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:new Date(oe.date).toLocaleDateString("fr-FR")}),r.jsx("button",{onClick:()=>je(oe.id,En),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:"×"})]},`${oe.id}-${En}`))}),!n.photo&&F.length===0&&Ne.every(oe=>!oe.photos||oe.photos.length===0)&&r.jsx("div",{className:"flex items-center justify-center h-32 w-full border-2 border-dashed border-gray-300 rounded text-gray-500",children:"Aucune photo disponible"})]})})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(m0,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),r.jsxs("p",{className:"text-2xl font-bold",children:[wn,"kg"]}),Yn!==0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[gs==="up"?r.jsx(vr,{className:"h-3 w-3 text-green-600"}):r.jsx(Vu,{className:"h-3 w-3 text-red-600"}),r.jsxs("span",{className:gs==="up"?"text-green-600":"text-red-600",children:[Math.abs(Yn),"kg"]})]})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tg,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Température"}),r.jsxs("p",{className:"text-2xl font-bold",children:[Se,"°C"]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Moy: ",Vt.toFixed(1),"°C"]})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),r.jsx("p",{className:"text-2xl font-bold",children:Ne.length}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernière: ",nt?new Date(nt.date).toLocaleDateString("fr-FR"):"Aucune"]})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),r.jsx("p",{className:"text-2xl font-bold",children:rn.length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:rn.length>0?"À traiter":"Aucune"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(As,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prescriptions"}),r.jsx("p",{className:"text-2xl font-bold",children:l(n.id).length}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[c().filter(oe=>oe.petId===n.id).length," active(s)"]})]})]})})})]}),mt&&r.jsx(de,{className:"border-primary",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Prochain suivi recommandé"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:mt.reason})]}),r.jsxs(W,{size:"sm",onClick:Yr,children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Planifier"]})]})})}),rn.length>0&&r.jsxs(de,{className:"border-destructive",children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-destructive",children:"Alertes importantes"})}),r.jsx(he,{className:"space-y-2",children:rn.slice(0,3).map((oe,We)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/10 rounded",children:[r.jsx(zr,{className:"h-4 w-4 text-destructive"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:oe.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:oe.message})]}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>Rs(oe.actionType),children:oe.action})]},We))})]})]}),r.jsxs(cn,{value:"history",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique des consultations"}),r.jsxs(W,{size:"sm",onClick:Yr,className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Planifier Consultation"]})]}),Ne.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(pr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation enregistrée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer la première consultation"})]})}):r.jsx("div",{className:"space-y-4",children:Ne.map(oe=>r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Ae,{className:"text-base",children:["Consultation #",oe.id]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(wt,{className:"h-4 w-4"}),new Date(oe.date).toLocaleDateString("fr-FR")]})]})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"}),r.jsx("span",{className:"ml-2",children:oe.weight||"Non renseigné"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Température:"}),r.jsx("span",{className:"ml-2",children:oe.temperature||"Non renseigné"})]})]}),oe.symptoms&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Symptômes:"}),r.jsx("p",{className:"text-sm mt-1",children:oe.symptoms})]}),oe.diagnosis&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-sm mt-1",children:oe.diagnosis})]}),oe.treatment&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Traitement:"}),r.jsx("p",{className:"text-sm mt-1",children:oe.treatment})]}),oe.medications&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Médicaments:"}),r.jsx("p",{className:"text-sm mt-1",children:oe.medications})]}),oe.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:oe.notes})]}),oe.followUp&&r.jsxs("div",{className:"pt-2 border-t",children:[r.jsx("span",{className:"font-medium text-primary",children:"Suivi recommandé:"}),r.jsx("p",{className:"text-sm mt-1",children:oe.followUp})]})]})]},oe.id))})]}),r.jsx(cn,{value:"prescriptions",className:"space-y-4",children:r.jsx(n9,{petId:n.id})}),r.jsxs(cn,{value:"charts",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Évolution du poids et de la température"}),qt.length>0?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(m0,{className:"h-5 w-5"}),"Évolution du poids"]})}),r.jsx(he,{children:r.jsx(cl,{width:"100%",height:200,children:r.jsxs(F3,{data:qt,children:[r.jsx(rd,{strokeDasharray:"3 3"}),r.jsx(Ma,{dataKey:"date"}),r.jsx(Ia,{}),r.jsx(Vr,{}),r.jsx(kf,{type:"monotone",dataKey:"weight",stroke:"#2563eb",strokeWidth:2})]})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(tg,{className:"h-5 w-5"}),"Évolution de la température"]})}),r.jsx(he,{children:r.jsx(cl,{width:"100%",height:200,children:r.jsxs(F3,{data:qt,children:[r.jsx(rd,{strokeDasharray:"3 3"}),r.jsx(Ma,{dataKey:"date"}),r.jsx(Ia,{}),r.jsx(Vr,{}),r.jsx(kf,{type:"monotone",dataKey:"temperature",stroke:"#dc2626",strokeWidth:2})]})})})]})]}):r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(vr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune donnée disponible pour les graphiques"}),r.jsx("p",{className:"text-sm",children:"Ajoutez des consultations avec poids et température"})]})})]}),r.jsxs(cn,{value:"vaccinations",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique vaccinal"}),r.jsx(T0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsxs(W,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle vaccination"]})})]}),Ge.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(As,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune vaccination enregistrée"}),r.jsx("p",{className:"text-sm",children:"Commencez par ajouter la première vaccination"})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(As,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(wt,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"À jour"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.filter(oe=>oe.status==="completed").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(zr,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.filter(oe=>oe.status==="overdue").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(wt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiées"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.filter(oe=>oe.status==="scheduled").length})]})]})})})]}),r.jsx("div",{className:"space-y-3",children:Ge.map(oe=>r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(As,{className:`h-5 w-5 ${oe.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),r.jsxs("h4",{className:"font-semibold text-lg",children:[oe.vaccineName,oe.vaccinationCategory==="reminder"&&r.jsx("span",{className:"ml-2 text-sm text-orange-600 font-normal",children:"(Rappel)"})]}),r.jsx(Oe,{variant:oe.vaccineType==="core"?"default":"secondary",className:"text-xs",children:oe.vaccineType==="core"?"Essentiel":oe.vaccineType==="non-core"?"Optionnel":oe.vaccineType==="rabies"?"Rage":"Personnalisé"}),oe.vaccinationCategory==="reminder"&&r.jsx(Oe,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"}),J===oe.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Ie,{value:oe.status,onValueChange:We=>M(oe.id,We),children:[r.jsx(De,{className:"w-32",children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"completed",children:"Terminée"}),r.jsx(K,{value:"scheduled",children:"Planifiée"}),r.jsx(K,{value:"overdue",children:"En retard"}),r.jsx(K,{value:"missed",children:"Manquée"})]})]}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>B(null),children:"Annuler"})]}):r.jsx(Oe,{className:oe.status==="completed"?"bg-green-100 text-green-800 border-green-200 cursor-pointer hover:bg-green-200":oe.status==="overdue"?"bg-red-100 text-red-800 border-red-200 cursor-pointer hover:bg-red-200":oe.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200 cursor-pointer hover:bg-blue-200":"bg-orange-100 text-orange-800 border-orange-200 cursor-pointer hover:bg-orange-200",onClick:()=>B(oe.id),children:oe.status==="completed"?"Terminée":oe.status==="overdue"?"En retard":oe.status==="scheduled"?"Planifiée":"Manquée"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:oe.vaccinationCategory==="reminder"?"Date du rappel":"Date administrée"}),r.jsx("p",{className:"font-medium",children:lo(oe.dateGiven)})]}),oe.vaccinationCategory==="new"&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Rappel prévu"}),r.jsx("p",{className:"font-medium",children:lo(oe.nextDueDate)})]}),oe.vaccinationCategory==="reminder"&&oe.originalVaccinationId&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vaccination originale"}),r.jsxs("p",{className:"font-medium text-sm text-gray-500",children:["ID: ",oe.originalVaccinationId]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vétérinaire"}),r.jsx("p",{className:"font-medium",children:oe.veterinarian})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Coût"}),r.jsx("p",{className:"font-medium",children:oe.cost?`${oe.cost} €`:"Non spécifié"})]})]}),oe.batchNumber&&r.jsx("div",{className:"mt-3 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Numéro de lot: ",r.jsx("span",{className:"font-medium",children:oe.batchNumber})]})}),oe.manufacturer&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",r.jsx("span",{className:"font-medium",children:oe.manufacturer})]})}),oe.location&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Site d'injection: ",r.jsx("span",{className:"font-medium",children:oe.location==="left_shoulder"?"Épaule gauche":oe.location==="right_shoulder"?"Épaule droite":oe.location==="left_hip"?"Hanche gauche":oe.location==="right_hip"?"Hanche droite":"Sous-cutané"})]})}),oe.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Notes:"})," ",oe.notes]})}),oe.adverseReactions&&r.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:"⚠️ Réactions adverses:"})," ",oe.adverseReactions]})})]}),r.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[r.jsxs(W,{size:"sm",variant:"outline",className:"gap-2",onClick:re,children:[r.jsx(lr,{className:"h-4 w-4"}),"Certificat"]}),oe.nextDueDate&&new Date(oe.nextDueDate)<=new Date&&oe.status!=="completed"&&!oe.reminderAppointmentId&&r.jsxs(W,{size:"sm",className:"gap-2",onClick:()=>ye(oe),children:[r.jsx(ft,{className:"h-4 w-4"}),"Rappel"]}),oe.reminderAppointmentId&&r.jsx(Oe,{variant:"outline",className:"text-xs",children:"Rappel programmé"}),oe.status==="overdue"&&r.jsxs(W,{size:"sm",className:"gap-2",onClick:()=>te(oe),children:[r.jsx(Qte,{className:"h-4 w-4"}),"Confirmer"]})]})]}),oe.reminderHistory&&oe.reminderHistory.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsx("h5",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Historique des rappels"}),r.jsx("div",{className:"space-y-2",children:oe.reminderHistory.map(We=>r.jsxs("div",{className:"flex items-center justify-between text-xs bg-muted/30 p-2 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(We.scheduledDate).toLocaleDateString("fr-FR")})]}),r.jsx(Oe,{variant:We.status==="completed"?"default":We.status==="missed"?"destructive":"secondary",className:"text-xs",children:We.status==="completed"?"Complété":We.status==="missed"?"Manqué":We.status==="cancelled"?"Annulé":"Programmé"})]},We.id))})]})]})},oe.id))})]})]}),r.jsxs(cn,{value:"antiparasites",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique antiparasitaire"}),r.jsx(O0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsxs(W,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),Ke.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(rc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun traitement antiparasitaire enregistré"}),r.jsx("p",{className:"text-sm",children:"Ajoutez des traitements depuis l'onglet Antiparasitaires"})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(rc,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(Zn,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Complétés"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.filter(oe=>oe.status==="completed").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(zr,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.filter(oe=>oe.status==="overdue").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(wt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiés"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.filter(oe=>oe.status==="scheduled").length})]})]})})})]}),r.jsx("div",{className:"space-y-3",children:Ke.map(oe=>r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(rc,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold text-lg",children:oe.productName}),r.jsx(Oe,{className:oe.status==="completed"?"bg-green-100 text-green-800 border-green-200":oe.status==="overdue"?"bg-red-100 text-red-800 border-red-200":oe.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200":"bg-orange-100 text-orange-800 border-orange-200",children:oe.status==="completed"?"Terminé":oe.status==="overdue"?"En retard":oe.status==="scheduled"?"Planifié":"Manqué"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Date administrée"}),r.jsx("p",{className:"font-medium",children:new Date(oe.dateGiven).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Prochain traitement"}),r.jsx("p",{className:"font-medium",children:oe.nextDueDate?new Date(oe.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Type"}),r.jsx("p",{className:"font-medium",children:oe.productType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vétérinaire"}),r.jsx("p",{className:"font-medium",children:oe.veterinarian})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mt-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Parasites ciblés"}),r.jsx("p",{className:"font-medium",children:oe.targetParasites})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Dosage"}),r.jsx("p",{className:"font-medium",children:oe.dosage||"Non spécifié"})]})]}),oe.batchNumber&&r.jsx("div",{className:"mt-3 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Numéro de lot: ",r.jsx("span",{className:"font-medium",children:oe.batchNumber})]})}),oe.manufacturer&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",r.jsx("span",{className:"font-medium",children:oe.manufacturer})]})}),oe.weight&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Poids de l'animal: ",r.jsx("span",{className:"font-medium",children:oe.weight})]})}),oe.cost&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Coût: ",r.jsxs("span",{className:"font-medium",children:[oe.cost," €"]})]})}),oe.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Notes:"})," ",oe.notes]})}),oe.sideEffects&&r.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:"⚠️ Effets indésirables:"})," ",oe.sideEffects]})})]}),r.jsx("div",{className:"flex flex-col gap-2 ml-4",children:oe.nextDueDate&&new Date(oe.nextDueDate)<=new Date&&oe.status!=="completed"&&r.jsxs(W,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Rappel"]})})]})})},oe.id))})]})]}),r.jsxs(cn,{value:"pedigree",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Pedigree Officiel"}),r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>I(!D),className:"gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),D?"Annuler":"Modifier"]})]}),r.jsx(de,{children:r.jsx(Pe,{children:r.jsxs(Ae,{className:"text-lg flex items-center gap-2",children:[r.jsx(Ki,{id:"hasPedigree",checked:O.hasPedigree,onCheckedChange:oe=>k(We=>({...We,hasPedigree:oe})),disabled:!D}),r.jsx(U,{htmlFor:"hasPedigree",className:"text-lg",children:"Cet animal a un pedigree officiel"})]})})}),O.hasPedigree&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-lg",children:"Informations sur l'animal"})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(se,{id:"officialName",value:O.officialName,onChange:oe=>k(We=>({...We,officialName:oe.target.value})),disabled:!D,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),r.jsx(se,{id:"pedigreeNumber",value:O.pedigreeNumber,onChange:oe=>k(We=>({...We,pedigreeNumber:oe.target.value})),disabled:!D,placeholder:"Numéro de pedigree"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"breeder",children:"Éleveur"}),r.jsx(se,{id:"breeder",value:O.breeder,onChange:oe=>k(We=>({...We,breeder:oe.target.value})),disabled:!D,placeholder:"Nom de l'éleveur"})]})]})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-lg",children:"Parents"})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:"Père"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom du père",value:O.fatherName,onChange:oe=>k(We=>({...We,fatherName:oe.target.value})),disabled:!D}),r.jsx(se,{placeholder:"N° pedigree du père",value:O.fatherPedigree,onChange:oe=>k(We=>({...We,fatherPedigree:oe.target.value})),disabled:!D}),r.jsx(se,{placeholder:"Race du père",value:O.fatherBreed,onChange:oe=>k(We=>({...We,fatherBreed:oe.target.value})),disabled:!D}),r.jsx(St,{placeholder:"Titres du père",value:O.fatherTitles,onChange:oe=>k(We=>({...We,fatherTitles:oe.target.value})),disabled:!D,rows:2})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom de la mère",value:O.motherName,onChange:oe=>k(We=>({...We,motherName:oe.target.value})),disabled:!D}),r.jsx(se,{placeholder:"N° pedigree de la mère",value:O.motherPedigree,onChange:oe=>k(We=>({...We,motherPedigree:oe.target.value})),disabled:!D}),r.jsx(se,{placeholder:"Race de la mère",value:O.motherBreed,onChange:oe=>k(We=>({...We,motherBreed:oe.target.value})),disabled:!D}),r.jsx(St,{placeholder:"Titres de la mère",value:O.motherTitles,onChange:oe=>k(We=>({...We,motherTitles:oe.target.value})),disabled:!D,rows:2})]})]})]})})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-lg",children:"Document officiel"})}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:async oe=>{var En;const We=(En=oe.target.files)==null?void 0:En[0];if(!We)return;const Le=new FileReader;Le.onload=()=>k(Qn=>({...Qn,pedigreePhoto:Le.result})),Le.readAsDataURL(We)},disabled:!D}),O.pedigreePhoto&&r.jsx("img",{src:O.pedigreePhoto,alt:"Document pedigree",className:"h-48 w-auto object-contain rounded border"})]})})]}),D&&r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(W,{variant:"outline",onClick:Z,children:"Annuler"}),r.jsx(W,{onClick:V,children:"Sauvegarder"})]})]}),!O.hasPedigree&&r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(f0,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun pedigree officiel"}),r.jsx("p",{className:"text-sm",children:"Cochez la case ci-dessus pour ajouter les informations du pedigree"})]})})]}),r.jsxs(cn,{value:"alerts",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Alertes et rappels"}),rn.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(zr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune alerte active"}),r.jsx("p",{className:"text-sm",children:"Tout va bien !"})]})}):r.jsx("div",{className:"space-y-4",children:rn.map((oe,We)=>r.jsx(de,{className:oe.type==="danger"?"border-destructive":"border-accent",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(zr,{className:`h-5 w-5 ${oe.type==="danger"?"text-destructive":"text-accent"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:oe.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:oe.message})]}),r.jsx(W,{size:"sm",variant:"outline",children:oe.action})]})})},We))})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(W,{onClick:xl,className:"gap-2",children:[r.jsx(AA,{className:"h-4 w-4"}),"Imprimer Dossier"]})]})]})}),r.jsx(Xf,{open:v,onOpenChange:y}),r.jsx(NE,{open:N,onOpenChange:oe=>{j(oe),oe||(q({clientId:0,petId:0,type:"",reason:""}),$(null))},prefillClientId:Y.clientId,prefillPetId:Y.petId,prefillType:Y.type,prefillReason:Y.reason,originalVaccinationId:ie==null?void 0:ie.id}),b&&r.jsx(T0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsx(W,{onClick:()=>P(!1),children:"Fermer"})}),r.jsx(lpe,{open:z,onOpenChange:oe=>{le(oe),oe||ee(null)},vaccination:pe}),C&&r.jsx(O0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsx(W,{onClick:()=>_(!1),children:"Fermer"})}),n&&r.jsx("div",{style:{display:"none"},children:r.jsx(S_,{ref:ve,petId:n.id})})]})}const uFe={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"};function dFe(){const{pets:e,consultations:t,appointments:n,clients:s}=pt();Wt();const[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(null),N=[...e].sort((k,F)=>!k.lastVisit&&!F.lastVisit?0:k.lastVisit?F.lastVisit?new Date(F.lastVisit).getTime()-new Date(k.lastVisit).getTime():-1:1).slice(0,5),j=e.length,b=e.filter(k=>k.status==="healthy").length;e.filter(k=>k.status==="treatment").length,e.filter(k=>k.status==="urgent").length;const P=e.filter(k=>{if(!k.lastVisit)return!1;const F=new Date(k.lastVisit),L=new Date().getMonth(),Y=new Date().getFullYear();return F.getMonth()===L&&F.getFullYear()===Y}).length,C=j>0?(t.length/j).toFixed(1):"0",_=k=>{v(k),l(!0)},A=k=>{v(k),u(!0)},E=k=>{v(k),f(!0)},D=k=>{v(k),g(!0)},I=k=>{const F=t.filter(q=>q.petId===k.id),L=n.filter(q=>q.petId===k.id),Y=s.find(q=>q.id===k.ownerId);return{consultations:F.length,appointments:L.length,owner:(Y==null?void 0:Y.name)||k.owner,lastConsultation:F.length>0?Math.max(...F.map(q=>new Date(q.date).getTime())):k.lastVisit?new Date(k.lastVisit).getTime():0}},O=k=>{switch(k){case"healthy":return r.jsx(Yt,{className:"h-3 w-3 text-green-600"});case"treatment":return r.jsx(pr,{className:"h-3 w-3 text-yellow-600"});case"urgent":return r.jsx(Un,{className:"h-3 w-3 text-red-600"});default:return r.jsx(Yt,{className:"h-3 w-3"})}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{className:"card-hover",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Ae,{className:"text-lg font-semibold",children:"Animaux Récents"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Yt,{className:"h-3 w-3"}),r.jsxs("span",{children:[j," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Xi,{className:"h-3 w-3"}),r.jsxs("span",{children:[b," en bonne santé"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),r.jsxs("span",{children:["+",P," ce mois"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(In,{className:"h-3 w-3"}),r.jsxs("span",{children:["Ø ",C," consultations"]})]})]})]}),r.jsxs(W,{size:"sm",className:"gap-2",onClick:()=>a(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvel Animal"]})]}),r.jsx(he,{className:"space-y-4",children:N.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Yt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun animal enregistré"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier animal"})]}):N.map(k=>{const F=I(k);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[r.jsx(Hr,{className:"h-12 w-12 flex-shrink-0",children:k.photo?r.jsx(ll,{src:k.photo,alt:k.name}):r.jsx(Gr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Yt,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium truncate",children:k.name}),r.jsxs(Oe,{variant:"outline",className:uFe[k.status],children:[O(k.status),r.jsx("span",{className:"ml-1",children:k.status==="healthy"?"En bonne santé":k.status==="treatment"?"En traitement":"Urgent"})]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"font-medium",children:k.type}),k.breed&&r.jsxs("span",{children:[" - ",k.breed]}),k.gender&&r.jsxs("span",{children:[" (",k.gender==="male"?"Mâle":"Femelle",")"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(wt,{className:"h-3 w-3"}),r.jsx("span",{children:k.birthDate?tf(k.birthDate):"Âge inconnu"})]})]})}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Propriétaire: ",F.owner]}),r.jsxs("span",{children:["Consultations: ",F.consultations]}),r.jsxs("span",{children:["RDV: ",F.appointments]}),k.lastVisit&&r.jsxs("span",{children:["Dernière visite: ",new Date(k.lastVisit).toLocaleDateString("fr-FR")]})]})]})]}),r.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>_(k),className:"h-8 px-2",children:r.jsx(ns,{className:"h-3 w-3"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>A(k),className:"h-8 px-2",children:r.jsx(en,{className:"h-3 w-3"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>E(k),className:"h-8 px-2 text-xs",children:"Dossier"}),r.jsx(W,{size:"sm",onClick:()=>D(k),className:"h-8 px-2 text-xs",children:r.jsx(pr,{className:"h-3 w-3"})})]})]},k.id)})})]}),r.jsx(gv,{open:i,onOpenChange:a}),r.jsx(HV,{open:o,onOpenChange:l,pet:x,onEdit:()=>{l(!1),u(!0)},onShowDossier:()=>{l(!1),f(!0)}}),r.jsx(Jfe,{open:c,onOpenChange:u,pet:x}),r.jsx(g9,{open:d,onOpenChange:f,pet:x}),r.jsx(Xf,{open:m,onOpenChange:g})]})}function v9({open:e,onOpenChange:t,consultation:n}){const{clients:s,pets:i,updateConsultation:a}=pt(),{toast:o}=Ft(),{settings:l}=Wt(),[c,u]=w.useState({clientId:0,clientName:"",petId:0,petName:"",date:"",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",medications:"",followUp:"",cost:"",notes:""}),d=i.filter(v=>v.ownerId===c.clientId),f=new Date().toISOString().split("T")[0],m=v=>{u(y=>({...y,[v.target.id]:v.target.value}))},g=(v,y)=>{if(v==="clientId"){const N=parseInt(y),j=s.find(b=>b.id===N);u(b=>({...b,clientId:N,clientName:(j==null?void 0:j.name)||"",petId:0,petName:""}))}else if(v==="petId"){const N=parseInt(y),j=i.find(b=>b.id===N);u(b=>({...b,petId:N,petName:(j==null?void 0:j.name)||""}))}else u(N=>({...N,[v]:y}))},x=v=>{if(v.preventDefault(),!!n){if(!c.clientId||!c.petId){o({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}a(n.id,{clientId:c.clientId,clientName:c.clientName,petId:c.petId,petName:c.petName,date:c.date||f,weight:c.weight,temperature:c.temperature,symptoms:c.symptoms,diagnosis:c.diagnosis,treatment:c.treatment,medications:c.medications,followUp:c.followUp,cost:c.cost,notes:c.notes}),o({title:"Consultation modifiée",description:`Consultation pour ${c.petName} (${c.clientName}) a été modifiée et sauvegardée.`}),t(!1)}};return w.useEffect(()=>{e&&n&&u({clientId:n.clientId,clientName:n.clientName,petId:n.petId,petName:n.petName,date:n.date,weight:n.weight||"",temperature:n.temperature||"",symptoms:n.symptoms||"",diagnosis:n.diagnosis||"",treatment:n.treatment||"",medications:n.medications||"",followUp:n.followUp||"",cost:n.cost||"",notes:n.notes||""})},[e,n]),n?r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:"Modifier la Consultation"}),r.jsxs(Cn,{children:["Modifiez les détails de la consultation pour ",n.petName,"."]})]}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Client *"}),r.jsxs(Ie,{value:c.clientId.toString(),onValueChange:v=>g("clientId",v),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner le client"})}),r.jsx(Me,{children:s.map(v=>r.jsx(K,{value:v.id.toString(),children:v.name},v.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Animal *"}),r.jsxs(Ie,{value:c.petId.toString(),onValueChange:v=>g("petId",v),disabled:!c.clientId,children:[r.jsx(De,{children:r.jsx($e,{placeholder:c.clientId?"Sélectionner l'animal":"Sélectionnez d'abord un client"})}),r.jsx(Me,{children:d.map(v=>r.jsxs(K,{value:v.id.toString(),children:[v.name," (",v.type,")"]},v.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"date",children:"Date *"}),r.jsx(se,{id:"date",type:"date",value:c.date||f,onChange:m,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(se,{id:"weight",type:"number",step:"0.1",value:c.weight,onChange:m,placeholder:"ex: 25.5"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"temperature",children:"Température (°C)"}),r.jsx(se,{id:"temperature",type:"number",step:"0.1",value:c.temperature,onChange:m,placeholder:"ex: 38.5"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"symptoms",children:"Symptômes observés"}),r.jsx(St,{id:"symptoms",value:c.symptoms,onChange:m,placeholder:"Décrivez les symptômes et observations...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(St,{id:"diagnosis",value:c.diagnosis,onChange:m,placeholder:"Diagnostic posé...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"treatment",children:"Traitement administré"}),r.jsx(St,{id:"treatment",value:c.treatment,onChange:m,placeholder:"Traitements, injections, interventions...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"medications",children:"Médicaments prescrits"}),r.jsx(St,{id:"medications",value:c.medications,onChange:m,placeholder:"Liste des médicaments avec posologie...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"followUp",children:"Suivi recommandé"}),r.jsx(se,{id:"followUp",value:c.followUp,onChange:m,placeholder:"ex: Contrôle dans 1 semaine"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(U,{htmlFor:"cost",children:["Coût (",l.currency,")"]}),r.jsx(se,{id:"cost",type:"number",step:"0.01",value:c.cost,onChange:m,placeholder:"ex: 85.50"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"notes",children:"Notes additionnelles"}),r.jsx(St,{id:"notes",value:c.notes,onChange:m,placeholder:"Notes diverses, recommandations...",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(W,{type:"submit",children:"Modifier Consultation"})]})]})]})}):null}function Rj({consultation:e}){const{settings:t}=Wt(),n=()=>{const s=window.open("","_blank");if(!s)return;const i=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Consultation - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-name {
              font-size: 24px;
              font-weight: bold;
              color: #2563eb;
            }
            .consultation-title {
              font-size: 20px;
              margin: 10px 0;
            }
            .info-grid {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
              margin-bottom: 30px;
            }
            .info-section {
              border: 1px solid #ddd;
              padding: 15px;
              border-radius: 5px;
            }
            .info-section h3 {
              margin: 0 0 10px 0;
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .info-item {
              margin: 5px 0;
            }
            .info-label {
              font-weight: bold;
              color: #666;
            }
            .medical-section {
              margin: 20px 0;
            }
            .medical-section h3 {
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .footer {
              margin-top: 40px;
              text-align: center;
              font-size: 12px;
              color: #666;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <div class="consultation-title">Rapport de Consultation</div>
            <div>Date: ${new Date(e.date).toLocaleDateString("fr-FR")}</div>
          </div>

          <div class="info-grid">
            <div class="info-section">
              <h3>Informations Client</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${e.clientName}
              </div>
            </div>
            <div class="info-section">
              <h3>Informations Animal</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${e.petName}
              </div>
              <div class="info-item">
                <span class="info-label">Poids:</span> ${e.weight||"Non renseigné"}
              </div>
              <div class="info-item">
                <span class="info-label">Température:</span> ${e.temperature||"Non renseigné"}
              </div>
            </div>
          </div>

          ${e.symptoms?`
            <div class="medical-section">
              <h3>Symptômes Observés</h3>
              <p>${e.symptoms}</p>
            </div>
          `:""}

          ${e.diagnosis?`
            <div class="medical-section">
              <h3>Diagnostic</h3>
              <p>${e.diagnosis}</p>
            </div>
          `:""}

          ${e.treatment?`
            <div class="medical-section">
              <h3>Traitement Administré</h3>
              <p>${e.treatment}</p>
            </div>
          `:""}

          ${e.medications?`
            <div class="medical-section">
              <h3>Médicaments Prescrits</h3>
              <p>${e.medications}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="medical-section">
              <h3>Notes Additionnelles</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="info-grid">
            <div class="info-section">
              <h3>Suivi Recommandé</h3>
              <p>${e.followUp||"Aucun suivi prévu"}</p>
            </div>
            <div class="info-section">
              <h3>Coût</h3>
              <p>${e.cost?e.cost+" "+t.currency:"Non renseigné"}</p>
            </div>
          </div>

          <div class="footer">
            <p>Consultation générée le ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
            <p>VetPro CRM - Gestion Vétérinaire Complète</p>
          </div>
        </body>
      </html>
    `;s.document.write(i),s.document.close(),s.focus(),s.print(),s.close()};return r.jsxs(W,{size:"sm",variant:"outline",onClick:n,className:"gap-2",children:[r.jsx(AA,{className:"h-4 w-4"}),"Imprimer"]})}function hFe(){const{consultations:e,deleteConsultation:t,pets:n,clients:s}=pt(),{settings:i}=Wt(),{toast:a}=Ft(),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),g=[...e].sort((F,L)=>new Date(L.date).getTime()-new Date(F.date).getTime()).slice(0,5),x=e.length,v=e.filter(F=>F.date===new Date().toISOString().split("T")[0]).length,y=new Date().getMonth(),N=new Date().getFullYear(),j=e.filter(F=>{const L=new Date(F.date);return L.getMonth()===y&&L.getFullYear()===N}).length,b=e.filter(F=>{const L=new Date(F.date),Y=y===0?11:y-1,q=y===0?N-1:N;return L.getMonth()===Y&&L.getFullYear()===q}).length,P=b>0?Math.round((j-b)/b*100):j>0?100:0,C=j*50,_=b*50,A=_>0?Math.round((C-_)/_*100):C>0?100:0,E=F=>{f(F),u(!0)},D=F=>{confirm(`Êtes-vous sûr de vouloir supprimer la consultation pour ${F.petName} ?`)&&(t(F.id),a({title:"Consultation supprimée",description:`La consultation pour ${F.petName} a été supprimée.`}))},I=F=>{const L=new Date().toISOString().split("T")[0];return F.date===L?"bg-accent text-accent-foreground":F.date<L?"bg-secondary text-secondary-foreground":"bg-primary text-primary-foreground"},O=F=>{const L=new Date().toISOString().split("T")[0];return F.date===L?"Aujourd'hui":F.date<L?"Terminée":"À venir"},k=F=>{const L=n.find(q=>q.id===F.petId),Y=s.find(q=>q.id===F.clientId);return{petType:(L==null?void 0:L.type)||"Inconnu",petBreed:(L==null?void 0:L.breed)||"Non spécifiée",clientPhone:(Y==null?void 0:Y.phone)||"Non spécifié",clientCity:(Y==null?void 0:Y.city)||"Non spécifiée"}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{className:"card-hover",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Ae,{className:"text-lg font-semibold",children:"Consultations Récentes"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(pr,{className:"h-3 w-3"}),r.jsxs("span",{children:[x," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Xi,{className:"h-3 w-3"}),r.jsxs("span",{children:[v," aujourd'hui"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),r.jsxs("span",{children:[j," ce mois"]}),P!==0&&r.jsxs(Oe,{variant:P>0?"default":"destructive",className:"text-xs",children:[P>0?"+":"",P,"%"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Bf,{className:"h-3 w-3"}),r.jsxs("span",{children:["~",C,"€ ce mois"]}),A!==0&&r.jsxs(Oe,{variant:A>0?"default":"destructive",className:"text-xs",children:[A>0?"+":"",A,"%"]})]})]})]}),r.jsxs(W,{size:"sm",className:"gap-2",onClick:()=>l(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]}),r.jsx(he,{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(pr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation enregistrée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre première consultation"})]}):g.map(F=>{const L=k(F);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Hr,{className:"h-12 w-12",children:r.jsx(Gr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(pr,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h4",{className:"font-medium",children:["Consultation #",F.id]}),r.jsx(Oe,{variant:"outline",className:I(F),children:O(F)}),F.cost&&r.jsxs(Oe,{variant:"secondary",className:"text-xs",children:[F.cost," ",i.currency||"€"]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Yt,{className:"h-3 w-3"}),r.jsxs("span",{children:[F.petName," (",L.petType,")"]}),L.petBreed!=="Non spécifiée"&&r.jsxs("span",{children:[" - ",L.petBreed]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wr,{className:"h-3 w-3"}),r.jsx("span",{children:F.clientName})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(wt,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(F.date).toLocaleDateString("fr-FR")})]})]})}),r.jsx("div",{className:"text-xs text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[F.diagnosis&&r.jsxs("span",{children:["Diagnostic: ",F.diagnosis]}),F.weight&&r.jsxs("span",{children:["Poids: ",F.weight]}),F.temperature&&r.jsxs("span",{children:["Température: ",F.temperature,"°C"]}),F.photos&&F.photos.length>0&&r.jsxs("span",{children:["📷 ",F.photos.length," photo",F.photos.length>1?"s":""]})]})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{size:"sm",variant:"outline",onClick:()=>E(F),className:"gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]}),r.jsx(Rj,{consultation:F}),r.jsxs(W,{size:"sm",variant:"destructive",onClick:()=>D(F),className:"gap-2",children:[r.jsx(lr,{className:"h-4 w-4"}),"Supprimer"]})]})]},F.id)})})]}),r.jsx(Xf,{open:o,onOpenChange:l}),r.jsx(v9,{open:c,onOpenChange:u,consultation:d})]})}function fFe(){const{appointments:e,stockItems:t,getUpcomingAppointments:n,getOverdueAppointments:s}=pt();Wt();const i=new Date().toISOString().split("T")[0];n();const a=s(),o=e.filter(d=>d.date===i&&d.status!=="cancelled"&&d.status!=="completed"),l=t.filter(d=>d.currentStock<=d.minimumStock),c=t.filter(d=>d.currentStock===0),u=[];return c.length>0&&u.push({type:"critical",icon:Un,title:"Stock épuisé",message:`${c.length} produit(s) en rupture de stock`,count:c.length,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}),l.length>0&&u.push({type:"warning",icon:Hn,title:"Stock faible",message:`${l.length} produit(s) en stock faible`,count:l.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),a.length>0&&u.push({type:"warning",icon:In,title:"Rendez-vous en retard",message:`${a.length} rendez-vous en retard`,count:a.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),o.length>0&&u.push({type:"info",icon:wt,title:"Rendez-vous aujourd'hui",message:`${o.length} rendez-vous prévus aujourd'hui`,count:o.length,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"}),u.length===0?r.jsxs(de,{className:"card-hover",children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-5 w-5 text-green-600"}),"Aucune alerte"]})}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"text-green-600 text-4xl mb-2",children:"✅"}),r.jsx("p",{className:"text-muted-foreground",children:"Tout va bien ! Aucune alerte à signaler."})]})})]}):r.jsxs(de,{className:"card-hover",children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(Un,{className:"h-5 w-5 text-orange-600"}),"Alertes & Notifications",r.jsx(Oe,{variant:"destructive",className:"ml-2",children:u.length})]})}),r.jsx(he,{className:"space-y-3",children:u.map((d,f)=>r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${d.borderColor} ${d.bgColor}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-full ${d.bgColor}`,children:r.jsx(d.icon,{className:`h-4 w-4 ${d.color}`})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:d.title}),r.jsx("p",{className:"text-xs text-muted-foreground",children:d.message})]})]}),r.jsx(Oe,{variant:d.type==="critical"?"destructive":d.type==="warning"?"secondary":"default",className:"text-xs",children:d.count})]},f))})]})}function mFe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,farmInterventions:o}=pt();Wt();const l=e.reduce((N,j)=>N+j.pets.length,0),c=l===t.length,u=e.length+t.length+n.length+s.length+i.length+a.length+o.length,d=c?100:Math.round((u-Math.abs(l-t.length))/u*100),f=new Date().toISOString().split("T")[0],m=n.filter(N=>N.date===f).length,g=s.filter(N=>N.date===f&&N.status!=="cancelled"&&N.status!=="completed").length,x=new Date().getMonth(),v=new Date().getFullYear(),y=n.filter(N=>{const j=new Date(N.date);return j.getMonth()===x&&j.getFullYear()===v}).length;return r.jsxs(de,{className:"mb-6",children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[c?r.jsx(Zn,{className:"h-5 w-5 text-green-600"}):r.jsx(zr,{className:"h-5 w-5 text-yellow-600"}),"Statut de Synchronisation"]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ka,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",children:["Clients: ",e.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"h-4 w-4 text-red-600"}),r.jsxs("span",{className:"text-sm",children:["Animaux: ",t.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(lr,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm",children:["Consultations: ",n.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-4 w-4 text-purple-600"}),r.jsxs("span",{className:"text-sm",children:["RDV: ",s.length]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",children:["Aujourd'hui: ",m+g]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(In,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm",children:["Ce mois: ",y]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"h-4 w-4 text-orange-600"}),r.jsxs("span",{className:"text-sm",children:["Prescriptions: ",i.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(lr,{className:"h-4 w-4 text-indigo-600"}),r.jsxs("span",{className:"text-sm",children:["Fermes: ",a.length]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Intégrité des données:"}),r.jsxs(Oe,{variant:d>=95?"default":d>=80?"secondary":"destructive",children:[d,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${d>=95?"bg-green-600":d>=80?"bg-yellow-600":"bg-red-600"}`,style:{width:`${d}%`}})}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:c?r.jsxs(r.Fragment,{children:[r.jsx(Zn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-green-700",children:"Synchronisation OK"})]}):r.jsxs(r.Fragment,{children:[r.jsx(zr,{className:"h-4 w-4 text-yellow-600"}),r.jsx("span",{className:"text-yellow-700",children:"Désynchronisation détectée"})]})}),!c&&r.jsxs("div",{className:"text-xs text-muted-foreground bg-yellow-50 p-2 rounded",children:[r.jsx("strong",{children:"Attention:"})," ",Math.abs(l-t.length)," animal(s) non synchronisé(s) entre clients et animaux"]})]})]})]})}function pFe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,farmInterventions:o,resetData:l,exportData:c,importData:u}=pt(),{settings:d}=Wt(),{toast:f}=Ft(),[m,g]=w.useState(!1),[x,v]=w.useState(!1),y=e.length+t.length+n.length+s.length+i.length+a.length+o.length,N=Math.round(y*.5),j=[...e.map(k=>k.lastVisit),...t.map(k=>k.lastVisit).filter(Boolean),...n.map(k=>k.date),...s.map(k=>k.date),...i.map(k=>k.date),...a.map(k=>k.lastVisit)].filter(Boolean),b=j.length>0?new Date(Math.max(...j.map(k=>new Date(k).getTime()))):new Date,P=new Date().toISOString().split("T")[0],C=new Date().getMonth(),_=new Date().getFullYear(),A=[...e.filter(k=>k.lastVisit===P),...t.filter(k=>k.lastVisit===P),...n.filter(k=>k.date===P),...s.filter(k=>k.date===P)].length,E=[...e.filter(k=>{const F=new Date(k.lastVisit);return F.getMonth()===C&&F.getFullYear()===_}),...t.filter(k=>{if(!k.lastVisit)return!1;const F=new Date(k.lastVisit);return F.getMonth()===C&&F.getFullYear()===_}),...n.filter(k=>{const F=new Date(k.date);return F.getMonth()===C&&F.getFullYear()===_}),...s.filter(k=>{const F=new Date(k.date);return F.getMonth()===C&&F.getFullYear()===_})].length,D=()=>{try{c(),f({title:"Données exportées",description:`Export de ${y} enregistrements réussi.`})}catch{f({title:"Erreur d'export",description:"Impossible d'exporter les données.",variant:"destructive"})}},I=k=>{var Y;const F=(Y=k.target.files)==null?void 0:Y[0];if(!F)return;const L=new FileReader;L.onload=q=>{var ie,$;try{const z=JSON.parse((ie=q.target)==null?void 0:ie.result);if(z.clients&&z.pets)u(z),f({title:"Données importées",description:`${z.clients.length} clients, ${z.pets.length} animaux et ${(($=z.consultations)==null?void 0:$.length)||0} consultations importés avec succès.`});else throw new Error("Format de fichier invalide")}catch{f({title:"Erreur d'import",description:"Le fichier sélectionné n'est pas valide.",variant:"destructive"})}},L.readAsText(F),v(!1)},O=()=>{try{l(),f({title:"Données réinitialisées",description:"Toutes les données ont été remises aux valeurs par défaut."}),g(!1)}catch{f({title:"Erreur de réinitialisation",description:"Impossible de réinitialiser les données.",variant:"destructive"})}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(zte,{className:"h-5 w-5"}),"Gestion des Données"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Total:"}),r.jsxs("span",{className:"text-muted-foreground",children:[y," enregistrements"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Taille:"}),r.jsxs("span",{className:"text-muted-foreground",children:["~",N," KB"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Dernière modif:"}),r.jsx("span",{className:"text-muted-foreground",children:b.toLocaleDateString("fr-FR")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:"Aujourd'hui:"}),r.jsx("span",{className:"text-muted-foreground",children:A})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(In,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"Ce mois:"}),r.jsx("span",{className:"text-muted-foreground",children:E})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:"Clinique:"}),r.jsx("span",{className:"text-muted-foreground",children:d.clinicName||"Non configurée"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[r.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded",children:[r.jsx("div",{className:"font-medium text-blue-700",children:e.length}),r.jsx("div",{className:"text-blue-600",children:"Clients"})]}),r.jsxs("div",{className:"text-center p-2 bg-red-50 rounded",children:[r.jsx("div",{className:"font-medium text-red-700",children:t.length}),r.jsx("div",{className:"text-red-600",children:"Animaux"})]}),r.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[r.jsx("div",{className:"font-medium text-green-700",children:n.length}),r.jsx("div",{className:"text-green-600",children:"Consultations"})]}),r.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded",children:[r.jsx("div",{className:"font-medium text-purple-700",children:s.length}),r.jsx("div",{className:"text-purple-600",children:"RDV"})]}),r.jsxs("div",{className:"text-center p-2 bg-orange-50 rounded",children:[r.jsx("div",{className:"font-medium text-orange-700",children:i.length}),r.jsx("div",{className:"text-orange-600",children:"Prescriptions"})]}),r.jsxs("div",{className:"text-center p-2 bg-indigo-50 rounded",children:[r.jsx("div",{className:"font-medium text-indigo-700",children:a.length}),r.jsx("div",{className:"text-indigo-600",children:"Fermes"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{size:"sm",variant:"outline",onClick:D,className:"gap-2",children:[r.jsx(PA,{className:"h-4 w-4"}),"Exporter"]}),r.jsxs(W,{size:"sm",variant:"outline",onClick:()=>v(!0),className:"gap-2",children:[r.jsx(XC,{className:"h-4 w-4"}),"Importer"]}),r.jsxs(W,{size:"sm",variant:"destructive",onClick:()=>g(!0),className:"gap-2",children:[r.jsx(e6,{className:"h-4 w-4"}),"Réinitialiser"]})]})]})]}),r.jsx(Ct,{open:m,onOpenChange:g,children:r.jsxs(Nt,{children:[r.jsxs(Pt,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(Un,{className:"h-5 w-5 text-red-600"}),"Réinitialiser toutes les données"]}),r.jsx(Cn,{children:"Cette action supprimera définitivement toutes les données (clients, animaux, consultations, etc.) et les remettra aux valeurs par défaut. Cette action ne peut pas être annulée."})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(W,{variant:"outline",onClick:()=>g(!1),children:"Annuler"}),r.jsx(W,{variant:"destructive",onClick:O,children:"Réinitialiser"})]})]})}),r.jsx(Ct,{open:x,onOpenChange:v,children:r.jsxs(Nt,{children:[r.jsxs(Pt,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(XC,{className:"h-5 w-5"}),"Importer des données"]}),r.jsx(Cn,{children:"Sélectionnez un fichier JSON exporté précédemment pour restaurer vos données."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"file",accept:".json",onChange:I,className:"w-full"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Note:"})," L'import remplacera toutes les données existantes."]})]}),r.jsx("div",{className:"flex gap-2 justify-end",children:r.jsx(W,{variant:"outline",onClick:()=>v(!1),children:"Annuler"})})]})})]})}function gFe(){const{clients:e,pets:t,consultations:n,appointments:s,vaccinations:i,antiparasitics:a,stockItems:o,getUpcomingAppointments:l,getOverdueAppointments:c,generateAccountingSummary:u}=pt(),{settings:d}=Wt(),f=new Date().toISOString().split("T")[0],m=new Date().getMonth(),g=new Date().getFullYear(),x=n.filter(O=>O.date===f).length,v=s.filter(O=>O.date===f&&O.status!=="cancelled").length,N=l().filter(O=>{const k=new Date(O.date),F=new Date,L=new Date(F.getTime()+7*24*60*60*1e3);return k<=L}).length,j=c(),b=o.filter(O=>O.currentStock<=O.minimumStock).length,P=o.filter(O=>O.currentStock===0).length,C=new Date(g,m,1).toISOString().split("T")[0],_=new Date(g,m+1,0).toISOString().split("T")[0],A=u(`${g}-${String(m+1).padStart(2,"0")}`,C,_),E=e.filter(O=>{const k=new Date(O.createdAt);return k.getMonth()===m&&k.getFullYear()===g}).length,D=t.filter(O=>{const k=new Date(O.createdAt);return k.getMonth()===m&&k.getFullYear()===g}).length,I=[{title:"Consultations Aujourd'hui",value:x,icon:pr,color:"text-green-600",bgColor:"bg-green-50",trend:x>0?"up":"neutral",description:"Consultations réalisées"},{title:"RDV Aujourd'hui",value:v,icon:wt,color:"text-blue-600",bgColor:"bg-blue-50",trend:v>0?"up":"neutral",description:"Rendez-vous programmés"},{title:"RDV Cette Semaine",value:N,icon:In,color:"text-purple-600",bgColor:"bg-purple-50",trend:N>0?"up":"neutral",description:"Rendez-vous à venir"},{title:"RDV En Retard",value:j.length,icon:Un,color:j.length>0?"text-red-600":"text-gray-600",bgColor:j.length>0?"bg-red-50":"bg-gray-50",trend:j.length>0?"down":"neutral",description:"Rendez-vous en retard"},{title:"Nouveaux Clients",value:E,icon:ka,color:"text-emerald-600",bgColor:"bg-emerald-50",trend:E>0?"up":"neutral",description:"Ce mois"},{title:"Nouveaux Animaux",value:D,icon:Yt,color:"text-pink-600",bgColor:"bg-pink-50",trend:D>0?"up":"neutral",description:"Ce mois"},{title:"Revenus du Mois",value:`${A.totalRevenue.toFixed(0)} ${d.currency||"€"}`,icon:Bf,color:"text-green-600",bgColor:"bg-green-50",trend:A.totalRevenue>0?"up":"neutral",description:`Bénéfice: ${A.netIncome.toFixed(0)} ${d.currency||"€"}`},{title:"Stock Critique",value:b,icon:Xi,color:b>0?"text-orange-600":"text-green-600",bgColor:b>0?"bg-orange-50":"bg-green-50",trend:b>0?"down":"neutral",description:`${P} en rupture`}];return r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:I.map((O,k)=>r.jsxs(de,{className:"card-hover",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ae,{className:"text-sm font-medium text-muted-foreground",children:O.title}),r.jsx("div",{className:`p-2 rounded-lg ${O.bgColor}`,children:r.jsx(O.icon,{className:`h-4 w-4 ${O.color}`})})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-2xl font-bold",children:O.value}),r.jsxs("div",{className:"flex items-center gap-1",children:[O.trend==="up"&&r.jsxs(r.Fragment,{children:[r.jsx(vr,{className:"h-4 w-4 text-green-600"}),r.jsxs(Oe,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["+",Math.floor(Math.random()*20)+5,"%"]})]}),O.trend==="down"&&r.jsxs(r.Fragment,{children:[r.jsx(Vu,{className:"h-4 w-4 text-red-600"}),r.jsxs(Oe,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:["-",Math.floor(Math.random()*15)+3,"%"]})]}),O.trend==="neutral"&&r.jsx(Oe,{variant:"outline",className:"text-xs",children:"0%"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:O.description})]})]},k))})}function vFe(){const{accountingEntries:e}=pt(),{settings:t}=Wt(),s=(()=>{const i=[],a=new Date;for(let o=5;o>=0;o--){const l=new Date(a.getFullYear(),a.getMonth()-o,1);`${l.getFullYear()}${String(l.getMonth()+1).padStart(2,"0")}`;const c=new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0],u=new Date(l.getFullYear(),l.getMonth()+1,0).toISOString().split("T")[0],d=e.filter(g=>{const x=new Date(g.date);return x>=new Date(c)&&x<=new Date(u)}),f=d.filter(g=>g.type==="revenue").reduce((g,x)=>g+x.amount,0),m=d.filter(g=>g.type==="expense").reduce((g,x)=>g+x.amount,0);i.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),revenue:Math.round(f),expenses:Math.round(m),profit:Math.round(f-m)})}return i})();return r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ae,{className:"text-base font-medium",children:"Évolution des Revenus"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Bf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(vr,{className:"h-4 w-4 text-green-600"})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs(Rk,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(rd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Ma,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ia,{axisLine:!1,tickLine:!1,className:"text-xs",tickFormatter:i=>`${i}${t.currency||"€"}`}),r.jsx(Vr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(i,a)=>[`${i} ${t.currency||"€"}`,a==="revenue"?"Revenus":a==="expenses"?"Dépenses":"Bénéfice"]}),r.jsx(Zi,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,strokeWidth:2}),r.jsx(Zi,{type:"monotone",dataKey:"expenses",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,strokeWidth:2})]})})}),r.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Revenus"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Dépenses"})]})]})]})]})}function xFe(){const{consultations:e,appointments:t,vaccinations:n,antiparasitics:s}=pt(),a=(()=>{const o=[],l=new Date;for(let c=6;c>=0;c--){const u=new Date(l);u.setDate(u.getDate()-c);const d=u.toISOString().split("T")[0],f=e.filter(v=>v.date===d).length,m=t.filter(v=>v.date===d).length,g=n.filter(v=>v.dateGiven===d).length,x=s.filter(v=>v.dateGiven===d).length;o.push({day:u.toLocaleDateString("fr-FR",{weekday:"short"}),date:d,consultations:f,appointments:m,vaccinations:g,antiparasitics:x,total:f+m+g+x})}return o})();return r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ae,{className:"text-base font-medium",children:"Activité des 7 derniers jours"}),r.jsx(Xi,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs(QLe,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(rd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Ma,{dataKey:"day",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ia,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Vr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(o,l)=>[o,l==="consultations"?"Consultations":l==="appointments"?"Rendez-vous":l==="vaccinations"?"Vaccinations":l==="antiparasitics"?"Antiparasitaires":"Total"]}),r.jsx(so,{dataKey:"consultations",fill:"#10b981",radius:[2,2,0,0]}),r.jsx(so,{dataKey:"appointments",fill:"#3b82f6",radius:[2,2,0,0]}),r.jsx(so,{dataKey:"vaccinations",fill:"#8b5cf6",radius:[2,2,0,0]}),r.jsx(so,{dataKey:"antiparasitics",fill:"#f59e0b",radius:[2,2,0,0]})]})})}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Consultations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Rendez-vous"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Vaccinations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Antiparasitaires"})]})]})]})]})}function yFe(){const{stockItems:e}=pt(),t=H.useMemo(()=>{const i=e.length,a=e.filter(c=>c.currentStock<=c.minimumStock&&c.currentStock>0).length,o=e.filter(c=>c.currentStock===0).length;return[{name:"Stock Normal",value:i-a-o,color:"#10b981"},{name:"Stock Faible",value:a,color:"#f59e0b"},{name:"Rupture",value:o,color:"#ef4444"}].filter(c=>c.value>0)},[e]),n=e.reduce((i,a)=>i+a.currentStock*a.purchasePrice,0),s=e.sort((i,a)=>a.currentStock*a.purchasePrice-i.currentStock*i.purchasePrice).slice(0,5);return r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ae,{className:"text-base font-medium",children:"État du Stock"}),r.jsx(Hn,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs($k,{children:[r.jsx(Ba,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:a})=>`${i} ${(a*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((i,a)=>r.jsx(om,{fill:i.color},`cell-${a}`))}),r.jsx(Vr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:i=>[i,"Articles"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Valeur totale du stock"}),r.jsxs("span",{className:"font-medium",children:[n.toFixed(0)," €"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Articles les plus précieux"}),s.map((i,a)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"truncate flex-1",children:i.name}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:[(i.currentStock*i.purchasePrice).toFixed(0)," €"]})]},i.id))]})]})]})]})}function jFe(){const{clients:e,pets:t}=pt(),s=(()=>{const i=[],a=new Date;for(let o=5;o>=0;o--){const l=new Date(a.getFullYear(),a.getMonth()-o,1),c=new Date(l.getFullYear(),l.getMonth(),1),u=new Date(l.getFullYear(),l.getMonth()+1,0),d=e.filter(x=>{const v=new Date(x.createdAt);return v>=c&&v<=u}).length,f=t.filter(x=>{const v=new Date(x.createdAt);return v>=c&&v<=u}).length,m=e.filter(x=>new Date(x.createdAt)<=u).length,g=t.filter(x=>new Date(x.createdAt)<=u).length;i.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),newClients:d,newPets:f,totalClients:m,totalPets:g})}return i})();return r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ae,{className:"text-base font-medium",children:"Croissance des Clients"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ka,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(vr,{className:"h-4 w-4 text-blue-600"})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs(Rk,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(rd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Ma,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ia,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Vr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(i,a)=>[i,a==="newClients"?"Nouveaux Clients":a==="newPets"?"Nouveaux Animaux":a==="totalClients"?"Total Clients":"Total Animaux"]}),r.jsx(Zi,{type:"monotone",dataKey:"newClients",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2}),r.jsx(Zi,{type:"monotone",dataKey:"newPets",stackId:"2",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6,strokeWidth:2})]})})}),r.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Clients"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Animaux"})]})]})]})]})}function bFe(){const{appointments:e}=pt(),t=H.useMemo(()=>{const c=e.reduce((f,m)=>(f[m.status]=(f[m.status]||0)+1,f),{}),u={scheduled:"Planifié",confirmed:"Confirmé",completed:"Terminé",cancelled:"Annulé","no-show":"Absent"},d={scheduled:"#3b82f6",confirmed:"#10b981",completed:"#6b7280",cancelled:"#ef4444","no-show":"#f59e0b"};return Object.entries(c).map(([f,m])=>({name:u[f]||f,value:m,color:d[f]||"#6b7280"}))},[e]),n=e.length,s=e.filter(c=>c.status==="completed").length,i=e.filter(c=>c.status==="scheduled"||c.status==="confirmed").length,a=e.filter(c=>c.status==="cancelled").length,o=n>0?s/n*100:0,l=n>0?a/n*100:0;return r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ae,{className:"text-base font-medium",children:"Statuts des Rendez-vous"}),r.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs($k,{children:[r.jsx(Ba,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:t.map((c,u)=>r.jsx(om,{fill:c.color},`cell-${u}`))}),r.jsx(Vr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:c=>[c,"Rendez-vous"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[o.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux de réussite"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[l.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux d'annulation"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{children:"Terminés"})]}),r.jsx("span",{className:"font-medium",children:s})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(In,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{children:"À venir"})]}),r.jsx("span",{className:"font-medium",children:i})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(eg,{className:"h-4 w-4 text-red-600"}),r.jsx("span",{children:"Annulés"})]}),r.jsx("span",{className:"font-medium",children:a})]})]})]})]})]})}function wFe(){const{consultations:e}=pt(),n=(()=>{const s=[],i=new Date;for(let a=11;a>=0;a--){const o=new Date(i.getFullYear(),i.getMonth()-a,1),l=new Date(o.getFullYear(),o.getMonth(),1),c=new Date(o.getFullYear(),o.getMonth()+1,0),u=e.filter(m=>{const g=new Date(m.date);return g>=l&&g<=c}),d=u.reduce((m,g)=>m+(g.cost||0),0),f=u.length>0?d/u.length:0;s.push({month:o.toLocaleDateString("fr-FR",{month:"short",year:"2-digit"}),consultations:u.length,revenue:Math.round(d),averageRevenue:Math.round(f)})}return s})();return r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ae,{className:"text-base font-medium",children:"Tendances des Consultations"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(vr,{className:"h-4 w-4 text-blue-600"})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs(Rk,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(rd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Ma,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ia,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Vr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(s,i)=>[i==="consultations"?s:`${s} €`,i==="consultations"?"Consultations":i==="revenue"?"Revenus":"Revenu moyen"]}),r.jsx(Zi,{type:"monotone",dataKey:"consultations",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2})]})})}),r.jsx("div",{className:"flex items-center justify-between mt-4 text-sm",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nombre de consultations"})]})})]})]})}function NFe(){const{pets:e}=pt(),t=H.useMemo(()=>{const o=e.reduce((c,u)=>{const d=u.species||"Autre";return c[d]=(c[d]||0)+1,c},{}),l=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"];return Object.entries(o).map(([c,u],d)=>({name:c,value:u,color:l[d%l.length]}))},[e]),n=e.length,s=t.length>0?t[0]:null,i=e.length>0?e.reduce((o,l)=>o+(l.age||0),0)/e.length:0,a=o=>{switch(o.toLowerCase()){case"chien":case"dog":return r.jsx(Vte,{className:"h-4 w-4"});case"chat":case"cat":return r.jsx($te,{className:"h-4 w-4"});case"poisson":case"fish":return r.jsx(qte,{className:"h-4 w-4"});case"oiseau":case"bird":return r.jsx(Mte,{className:"h-4 w-4"});default:return r.jsx(Yt,{className:"h-4 w-4"})}};return r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ae,{className:"text-base font-medium",children:"Répartition par Espèce"}),r.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs($k,{children:[r.jsx(Ba,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o} ${(l*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((o,l)=>r.jsx(om,{fill:o.color},`cell-${l}`))}),r.jsx(Vr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:o=>[o,"Animaux"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Total d'animaux"}),r.jsx("span",{className:"font-medium",children:n})]}),s&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Espèce la plus commune"}),r.jsxs("div",{className:"flex items-center gap-2",children:[a(s.name),r.jsx("span",{className:"font-medium",children:s.name})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Âge moyen"}),r.jsxs("span",{className:"font-medium",children:[i.toFixed(1)," ans"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Répartition détaillée"}),t.slice(0,5).map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a(o.name),r.jsx("span",{children:o.name})]}),r.jsxs("span",{className:"text-muted-foreground",children:[o.value," (",(o.value/n*100).toFixed(1),"%)"]})]},l))]})]})]})]})}const SFe=()=>r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[r.jsx(Gfe,{}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"KPI en Temps Réel"}),r.jsx(gFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx(mFe,{}),r.jsx(pFe,{}),r.jsx(fFe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Vue d'ensemble"}),r.jsx(Kfe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Analyses et Tendances"}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(W2,{children:r.jsx(vFe,{})}),r.jsx(xFe,{})]})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx(yFe,{}),r.jsx(jFe,{}),r.jsx(bFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(wFe,{}),r.jsx(NFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(Xfe,{}),r.jsx(dFe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Activité Récente"}),r.jsx(hFe,{})]}),r.jsx(W2,{children:r.jsx("section",{children:r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Admin Dashboard"})})})]}),yd=e=>{const{settings:t}=Wt();return{currentView:t.displayPreferences[e],isTableView:t.displayPreferences[e]==="table",isCardsView:t.displayPreferences[e]==="cards"}},CFe=(e,t)=>{const n=t.filter(a=>a.client_id===e.id),s=Math.abs(e.id.split("").reduce((a,o)=>(a=(a<<5)-a+o.charCodeAt(0),a&a),0)),i=n.map(a=>({id:Math.abs(a.id.split("").reduce((l,c)=>(l=(l<<5)-l+c.charCodeAt(0),l&l),0)),name:a.name,type:a.species,breed:a.breed||""}));return{id:s,name:`${e.first_name} ${e.last_name}`,firstName:e.first_name,lastName:e.last_name,email:e.email||"",phone:e.phone||e.mobile_phone||"",address:e.address||"",city:e.city,pets:i,lastVisit:new Date(e.updated_at).toLocaleDateString("fr-FR"),totalVisits:0,dbId:e.id}},PFe=()=>{const{data:e=[],isLoading:t}=yE(),{data:n=[],isLoading:s}=pV(),i=Ghe(),{toast:a}=Ft(),o=e.map(O=>CFe(O,n)),{currentView:l}=yd("clients"),[c,u]=w.useState(""),[d,f]=w.useState(l),[m,g]=w.useState(!1),[x,v]=w.useState(null),[y,N]=w.useState(!1),[j,b]=w.useState(!1),[P,C]=w.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"Rabat",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),_=o.filter(O=>O.name.toLowerCase().includes(c.toLowerCase())||O.email.toLowerCase().includes(c.toLowerCase())||O.city&&O.city.toLowerCase().includes(c.toLowerCase())),A=O=>{v(O),N(!0)},E=O=>{v(O),C({first_name:O.firstName,last_name:O.lastName,email:O.email,phone:O.phone,mobile_phone:"",address:O.address,city:O.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),b(!0)},D=()=>{x&&C({first_name:x.firstName,last_name:x.lastName,email:x.email,phone:x.phone,mobile_phone:"",address:x.address,city:x.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),N(!1),b(!0)},I=async O=>{if(O.preventDefault(),!x||!P.first_name||!P.last_name){a({title:"Erreur",description:"Le prénom et le nom sont obligatoires",variant:"destructive"});return}try{await i.mutateAsync({id:x.dbId,data:P}),a({title:"Client modifié",description:`${P.first_name} ${P.last_name} a été modifié avec succès`}),b(!1),v(null)}catch(k){a({title:"Erreur",description:k instanceof Error?k.message:"Erreur lors de la modification du client",variant:"destructive"})}};return t||s?r.jsx("div",{className:"container mx-auto px-6 py-8",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Chargement des clients..."})]})})}):r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Clients"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez tous vos clients et leurs informations"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{size:"sm",variant:d==="cards"?"default":"outline",onClick:()=>f("cards"),className:"gap-2",children:[r.jsx(sl,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(W,{size:"sm",variant:d==="table"?"default":"outline",onClick:()=>f("table"),className:"gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(W,{className:"gap-2 medical-glow",onClick:()=>g(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau Client"]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-5 w-5"}),"Rechercher un client"]})}),r.jsx(he,{children:r.jsx(se,{placeholder:"Rechercher par nom, email ou ville...",value:c,onChange:O=>u(O.target.value),className:"max-w-md"})})]}),d==="cards"?r.jsx("div",{className:"grid gap-6",children:_.map(O=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx(Hr,{className:"h-16 w-16",children:r.jsx(Gr,{className:"bg-primary text-primary-foreground text-lg",children:O.name.split(" ").map(k=>k[0]).join("")})}),r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:O.name}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(zf,{className:"h-3 w-3"}),O.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ef,{className:"h-3 w-3"}),O.phone]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(cd,{className:"h-3 w-3"}),O.address]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[r.jsx(Yt,{className:"h-4 w-4 text-primary"}),"Animaux (",O.pets.length,")"]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:O.pets.length>0?O.pets.map((k,F)=>r.jsxs(Oe,{variant:"secondary",className:"gap-1",children:[k.name," - ",k.type," ",k.breed&&`(${k.breed})`]},k.id||F)):r.jsx("span",{className:"text-sm text-muted-foreground",children:"Aucun animal enregistré"})})]}),r.jsxs("div",{className:"flex gap-6 text-sm",children:[r.jsxs("span",{children:[r.jsx("strong",{children:"Dernière visite:"})," ",O.lastVisit]}),r.jsxs("span",{children:[r.jsx("strong",{children:"Total visites:"})," ",O.totalVisits]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>A(O),children:[r.jsx(ns,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(W,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>E(O),children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})]})]})})},O.id))}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Contact"}),r.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),r.jsx("th",{className:"p-4 font-medium",children:"Dernière visite"}),r.jsx("th",{className:"p-4 font-medium",children:"Total visites"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:_.map(O=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Hr,{className:"h-10 w-10",children:r.jsx(Gr,{className:"bg-primary text-primary-foreground text-sm",children:O.name.split(" ").map(k=>k[0]).join("")})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:O.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:O.address})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm",children:O.email}),r.jsx("div",{className:"text-sm text-muted-foreground",children:O.phone})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"flex gap-1 flex-wrap",children:O.pets.length>0?O.pets.map((k,F)=>r.jsx(Oe,{variant:"secondary",className:"text-xs",children:k.name},k.id||F)):r.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucun"})})}),r.jsx("td",{className:"p-4",children:O.lastVisit}),r.jsx("td",{className:"p-4",children:O.totalVisits}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>A(O),children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>E(O),children:r.jsx(en,{className:"h-4 w-4"})})]})})]},O.id))})]})})})}),r.jsx(pv,{open:m,onOpenChange:g}),x&&y&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs(de,{className:"w-full max-w-2xl mx-4",children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center justify-between",children:["Profil Client - ",x.name,r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>N(!1),children:"✕"})]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Nom complet"}),r.jsx("p",{children:x.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Email"}),r.jsx("p",{children:x.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Téléphone"}),r.jsx("p",{children:x.phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Ville"}),r.jsx("p",{children:x.city})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Adresse"}),r.jsx("p",{children:x.address})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium",children:["Animaux (",x.pets.length,")"]}),r.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:x.pets.map((O,k)=>r.jsxs(Oe,{variant:"secondary",children:[O.name," - ",O.type," ",O.breed&&`(${O.breed})`]},O.id||k))})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(W,{onClick:()=>D(),children:"Modifier"}),r.jsx(W,{variant:"outline",onClick:()=>N(!1),children:"Fermer"})]})]})]})}),x&&j&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs(de,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center justify-between",children:["Modifier Client - ",x.name,r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>b(!1),children:"✕"})]})}),r.jsx(he,{children:r.jsxs("form",{onSubmit:I,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"edit_first_name",children:"Prénom *"}),r.jsx(se,{id:"edit_first_name",value:P.first_name,onChange:O=>C(k=>({...k,first_name:O.target.value})),placeholder:"Prénom du client",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"edit_last_name",children:"Nom *"}),r.jsx(se,{id:"edit_last_name",value:P.last_name,onChange:O=>C(k=>({...k,last_name:O.target.value})),placeholder:"Nom du client",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"edit_email",children:"Email"}),r.jsx(se,{id:"edit_email",type:"email",value:P.email||"",onChange:O=>C(k=>({...k,email:O.target.value})),placeholder:"email@exemple.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"edit_phone",children:"Téléphone"}),r.jsx(se,{id:"edit_phone",value:P.phone||"",onChange:O=>C(k=>({...k,phone:O.target.value})),placeholder:"06 12 34 56 78"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"edit_mobile_phone",children:"Téléphone mobile"}),r.jsx(se,{id:"edit_mobile_phone",value:P.mobile_phone||"",onChange:O=>C(k=>({...k,mobile_phone:O.target.value})),placeholder:"06 12 34 56 78"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"edit_city",children:"Ville"}),r.jsx(se,{id:"edit_city",value:P.city||"Rabat",onChange:O=>C(k=>({...k,city:O.target.value})),placeholder:"Ville"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"edit_address",children:"Adresse"}),r.jsx(se,{id:"edit_address",value:P.address||"",onChange:O=>C(k=>({...k,address:O.target.value})),placeholder:"Adresse complète"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"edit_postal_code",children:"Code postal"}),r.jsx(se,{id:"edit_postal_code",value:P.postal_code||"",onChange:O=>C(k=>({...k,postal_code:O.target.value})),placeholder:"10000"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"edit_client_type",children:"Type de client"}),r.jsxs(Ie,{value:P.client_type||"particulier",onValueChange:O=>C(k=>({...k,client_type:O})),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Type de client"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"particulier",children:"Particulier"}),r.jsx(K,{value:"eleveur",children:"Éleveur"}),r.jsx(K,{value:"ferme",children:"Ferme"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"edit_notes",children:"Notes"}),r.jsx(St,{id:"edit_notes",value:P.notes||"",onChange:O=>C(k=>({...k,notes:O.target.value})),placeholder:"Notes supplémentaires...",rows:3})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(W,{type:"submit",disabled:i.isPending,className:"flex-1",children:i.isPending?r.jsxs(r.Fragment,{children:[r.jsx(zu,{className:"h-4 w-4 animate-spin mr-2"}),"Modification..."]}):"Enregistrer"}),r.jsx(W,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:i.isPending,className:"flex-1",children:"Annuler"})]})]})})]})})]})},_Fe=()=>r.jsx(PFe,{});function AFe({open:e,onOpenChange:t,pet:n}){const[s,i]=w.useState("overview");if(!n)return null;const a=n.birthDate?tf(n.birthDate):"Non renseigné",o=n.weight?`${n.weight} kg`:"Non renseigné";return r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pt,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(lr,{className:"h-5 w-5"}),"Dossier Médical - ",n.name," (Propriétaire: ",n.owner,")"]})}),r.jsxs(ml,{value:s,onValueChange:i,className:"w-full",children:[r.jsxs(xo,{className:"grid w-full grid-cols-6",children:[r.jsxs(ln,{value:"overview",className:"flex items-center gap-1",children:[r.jsx(Xi,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(ln,{value:"historique",className:"flex items-center gap-1",children:[r.jsx(wt,{className:"h-4 w-4"}),"Historique"]}),r.jsxs(ln,{value:"prescriptions",className:"flex items-center gap-1",children:[r.jsx(lr,{className:"h-4 w-4"}),"Prescriptions"]}),r.jsxs(ln,{value:"vaccinations",className:"flex items-center gap-1",children:[r.jsx(As,{className:"h-4 w-4"}),"Vaccinations"]}),r.jsxs(ln,{value:"antiparasites",className:"flex items-center gap-1",children:[r.jsx(zr,{className:"h-4 w-4"}),"Antiparasites"]}),r.jsxs(ln,{value:"pedigree",className:"flex items-center gap-1",children:[r.jsx(f0,{className:"h-4 w-4"}),"Pedigree"]})]}),r.jsxs(cn,{value:"overview",className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Informations générales"})}),r.jsx(he,{children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(Hr,{className:"h-32 w-32",children:n.photo?r.jsx(ll,{src:n.photo,alt:n.name}):r.jsx(Gr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Yt,{className:"h-16 w-16"})})}),r.jsxs(W,{variant:"outline",size:"sm",className:"gap-2",children:[r.jsx(Zh,{className:"h-4 w-4"}),"Ajouter photo"]})]}),r.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:n.name}),r.jsxs("div",{className:"space-y-2 mt-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",n.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"})," ",n.breed||"Non renseignée"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Sexe:"})," ",n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Inconnu"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"})," ",a]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Date de naissance:"})," ",n.birthDate||"Non renseignée"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"})," ",n.color||"Non renseignée"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids actuel:"})," ",o]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"N° puce:"})," ",n.microchip||"Non renseigné"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Statut de santé:"}),r.jsx(Oe,{variant:n.status==="healthy"?"default":n.status==="treatment"?"secondary":"destructive",children:n.status==="healthy"?"En bonne santé":n.status==="treatment"?"En traitement":"Urgent"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Propriétaire:"})," ",n.owner]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernière visite:"})," ",n.lastVisit||"Aucune"]})]})]})]})})]}),r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ae,{children:"Galerie photos"}),r.jsxs(W,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Ajouter une photo"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center",children:[r.jsx(Zh,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo disponible"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez des photos de l'animal pour enrichir son dossier"})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(m0,{className:"h-5 w-5 text-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),r.jsx("p",{className:"text-lg font-bold",children:o}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"-28.2kg"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tg,{className:"h-5 w-5 text-red-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Température"}),r.jsx("p",{className:"text-lg font-bold",children:"38.5°C"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Moy: 38.5°C"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5 text-green-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),r.jsx("p",{className:"text-lg font-bold",children:"1"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Dernière: 15/01/2024"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-5 w-5 text-yellow-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),r.jsx("p",{className:"text-lg font-bold",children:"1"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"À traiter"})]})]})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-5 w-5"}),"Prochain suivi recommandé"]})}),r.jsx(he,{children:r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg",children:[r.jsx("p",{className:"font-medium",children:"Contrôle dans 3 an"}),r.jsxs(W,{size:"sm",className:"mt-2 gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Planifier"]})]})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-red-600",children:"Alertes importantes"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(zr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Contrôle de routine recommandé"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Dernière consultation il y a 20 mois"})]}),r.jsx(W,{size:"sm",variant:"outline",children:"Planifier consultation"})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(zr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"DHPP - 247 jour(s) de retard"})]}),r.jsx(W,{size:"sm",variant:"outline",children:"Planifier vaccination"})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(zr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Lyme - 512 jour(s) de retard"})]}),r.jsx(W,{size:"sm",variant:"outline",children:"Planifier vaccination"})]})]})]})]}),r.jsx(cn,{value:"historique",className:"space-y-4",children:r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Historique médical"})}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(wt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Pas assez de données pour afficher les tendances"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez plus de consultations avec poids et température"})]})})]})}),r.jsx(cn,{value:"prescriptions",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ae,{children:"Prescriptions"}),r.jsxs(W,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle prescription"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(lr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune prescription disponible"})]})})]})}),r.jsx(cn,{value:"vaccinations",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ae,{children:"Vaccinations"}),r.jsxs(W,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle vaccination"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm font-medium",children:[r.jsx("div",{children:"Rage"}),r.jsx("div",{children:"DHPP"}),r.jsx("div",{children:"Lyme"})]}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(As,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune vaccination enregistrée"})]})]})})]})}),r.jsx(cn,{value:"antiparasites",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ae,{children:"Antiparasitaires"}),r.jsxs(W,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau traitement"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(zr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucun traitement antiparasitaire enregistré"})]})})]})}),r.jsx(cn,{value:"pedigree",className:"space-y-4",children:r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Informations de pedigree"})}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(f0,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune information de pedigree disponible"})]})})]})})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[r.jsx("div",{className:"flex gap-2",children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(lr,{className:"h-4 w-4 mr-2"}),"Voir Dossier Médical"]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(W,{children:[r.jsx(en,{className:"h-4 w-4 mr-2"}),"Modifier"]})]})]}),r.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Animal modifié"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Les informations de ",n.name," ont été mises à jour."]})]})]})})}function EFe({pet:e,consultations:t}){var P,C,_;const n=[...t].sort((A,E)=>new Date(E.date).getTime()-new Date(A.date).getTime()),s=n.filter(A=>A.weight).map(A=>({date:A.date,weight:parseFloat(A.weight)})),i=n.filter(A=>A.temperature).map(A=>({date:A.date,temperature:parseFloat(A.temperature)})),a=((P=s[0])==null?void 0:P.weight)||0,o=((C=s[1])==null?void 0:C.weight)||0,l=a-o,c=l>0?"up":l<0?"down":"stable",u=((_=i[0])==null?void 0:_.temperature)||0,d=i.length>0?i.reduce((A,E)=>A+E.temperature,0)/i.length:0,f=i.length>0?Math.min(...i.map(A=>A.temperature)):0,m=i.length>0?Math.max(...i.map(A=>A.temperature)):0,g=t.length,x=new Date().getMonth(),v=new Date().getFullYear(),y=t.filter(A=>{const E=new Date(A.date);return E.getMonth()===x&&E.getFullYear()===v}).length,N=n[0],j=N?Math.floor((new Date().getTime()-new Date(N.date).getTime())/(1e3*60*60*24)):null,b=[];return u>39.5?b.push({type:"danger",message:"Température élevée",icon:Un}):u<37.5&&b.push({type:"warning",message:"Température basse",icon:Un}),l<-2&&b.push({type:"warning",message:"Perte de poids",icon:Vu}),j&&j>180&&b.push({type:"info",message:"Contrôle recommandé",icon:wt}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Statistiques médicales"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-2",children:r.jsxs(Ae,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(m0,{className:"h-4 w-4"}),"Poids actuel"]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[a,"kg"]}),l!==0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[c==="up"?r.jsx(vr,{className:"h-3 w-3 text-green-600"}):c==="down"?r.jsx(Vu,{className:"h-3 w-3 text-red-600"}):r.jsx(Hte,{className:"h-3 w-3 text-gray-600"}),r.jsxs("span",{className:c==="up"?"text-green-600":c==="down"?"text-red-600":"text-gray-600",children:[Math.abs(l),"kg"]})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-2",children:r.jsxs(Ae,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(tg,{className:"h-4 w-4"}),"Température"]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[u,"°C"]}),r.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Moy: ",d.toFixed(1),"°C"]}),i.length>1&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Min: ",f,"°C | Max: ",m,"°C"]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-2",children:r.jsxs(Ae,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(Xi,{className:"h-4 w-4"}),"Consultations"]})}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold",children:g}),r.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Ce mois: ",y]}),N&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Dernière: ",new Date(N.date).toLocaleDateString("fr-FR")]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-2",children:r.jsxs(Ae,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(Un,{className:"h-4 w-4"}),"Alertes"]})}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold",children:b.length}),r.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:b.length>0?"À traiter":"Aucune"}),b.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:b.slice(0,2).map((A,E)=>r.jsx(Oe,{variant:"outline",className:"text-xs",children:A.message},E))})]})]})]}),b.length>0&&r.jsxs(de,{className:"border-destructive/20",children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-destructive text-base",children:"Alertes médicales"})}),r.jsx(he,{children:r.jsx("div",{className:"space-y-2",children:b.map((A,E)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/5 rounded",children:[r.jsx(A.icon,{className:`h-4 w-4 ${A.type==="danger"?"text-destructive":A.type==="warning"?"text-yellow-600":"text-blue-600"}`}),r.jsx("span",{className:"text-sm font-medium",children:A.message})]},E))})})]}),s.length>1||i.length>1?r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-base",children:"Tendances"})}),r.jsx(he,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.length>1&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Évolution du poids"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Poids initial:"}),r.jsxs("span",{children:[s[s.length-1].weight,"kg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Poids actuel:"}),r.jsxs("span",{children:[s[0].weight,"kg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Évolution totale:"}),r.jsxs("span",{className:s[0].weight>s[s.length-1].weight?"text-green-600":"text-red-600",children:[s[0].weight-s[s.length-1].weight,"kg"]})]})]})]}),i.length>1&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Évolution de la température"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Température moyenne:"}),r.jsxs("span",{children:[d.toFixed(1),"°C"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Variation:"}),r.jsxs("span",{children:[m-f,"°C"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Stabilité:"}),r.jsx("span",{className:m-f<1?"text-green-600":"text-yellow-600",children:m-f<1?"Stable":"Variable"})]})]})]})]})})]}):r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center text-muted-foreground",children:[r.jsx(Xi,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),r.jsx("p",{children:"Pas assez de données pour afficher les tendances"}),r.jsx("p",{className:"text-sm",children:"Ajoutez plus de consultations avec poids et température"})]})})]})}const z3={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"},kFe=(e,t)=>{const n=t.find(o=>o.id===e.client_id),s=n?`${n.first_name} ${n.last_name}`:"Propriétaire inconnu",i=Math.abs(e.id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0)),a=Math.abs(e.client_id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0));return{id:i,name:e.name,type:e.species,breed:e.breed||"",gender:e.sex==="Mâle"?"male":e.sex==="Femelle"?"female":void 0,birthDate:e.birth_date||"",weight:e.weight?e.weight.toString():"",color:e.color||"",microchip:e.microchip_number||"",medicalNotes:e.notes||"",photo:e.photo_url||"",ownerId:a,owner:s,status:e.status==="vivant"?"healthy":e.status==="décédé"?"urgent":"treatment",lastVisit:e.updated_at?new Date(e.updated_at).toLocaleDateString("fr-FR"):"Jamais",nextAppointment:void 0,vaccinations:[],dbId:e.id,dbClientId:e.client_id}},TFe=()=>{const{data:e=[],isLoading:t}=pV(),{data:n=[],isLoading:s}=yE(),i=Yhe(),a=e.map(B=>kFe(B,n)),o=B=>[],{currentView:l}=yd("pets"),[c,u]=w.useState(""),[d,f]=w.useState("all"),[m,g]=w.useState("all"),[x,v]=w.useState(l),{settings:y}=Wt(),N=y.species.split(",").map(B=>B.trim()).filter(B=>B.length>0),[j,b]=w.useState(!1),[P,C]=w.useState(!1),[_,A]=w.useState(null),[E,D]=w.useState(!1),[I,O]=w.useState(!1),[k,F]=w.useState(!1),{toast:L}=Ft(),[Y,q]=w.useState({client_id:"",name:"",species:"Chien",breed:"",color:"",sex:"Inconnu",weight:void 0,height:void 0,birth_date:"",microchip_number:"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:"",photo_url:""}),ie=a.filter(B=>{const me=B.name.toLowerCase().includes(c.toLowerCase())||B.breed&&B.breed.toLowerCase().includes(c.toLowerCase())||B.owner.toLowerCase().includes(c.toLowerCase()),ve=d==="all"||B.type.toLowerCase()===d.toLowerCase(),re=m==="all"||B.status===m;return me&&ve&&re}),$=B=>{A(B),D(!0)},z=B=>{A(B),q({client_id:B.dbClientId,name:B.name,species:B.type,breed:B.breed||"",color:B.color||"",sex:B.gender==="male"?"Mâle":B.gender==="female"?"Femelle":"Inconnu",weight:B.weight?parseFloat(B.weight):void 0,height:void 0,birth_date:B.birthDate||"",microchip_number:B.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:B.medicalNotes||"",photo_url:B.photo||""}),O(!0)},le=()=>{_&&q({client_id:_.dbClientId,name:_.name,species:_.type,breed:_.breed||"",color:_.color||"",sex:_.gender==="male"?"Mâle":_.gender==="female"?"Femelle":"Inconnu",weight:_.weight?parseFloat(_.weight):void 0,height:void 0,birth_date:_.birthDate||"",microchip_number:_.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:_.medicalNotes||"",photo_url:_.photo||""}),D(!1),O(!0)},pe=B=>{A(B),F(!0)},ee=()=>{D(!1),F(!0)},J=async()=>{if(_)try{await i.mutateAsync({id:_.dbId,data:Y}),L({title:"Animal modifié",description:`${Y.name} a été modifié avec succès.`}),O(!1)}catch{L({title:"Erreur",description:"Une erreur s'est produite lors de la modification de l'animal.",variant:"destructive"})}};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Animaux"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivez tous les animaux et leurs informations médicales"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(sl,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(W,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(W,{className:"gap-2 medical-glow",onClick:()=>b(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvel Animal"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total animaux"}),r.jsx("p",{className:"text-2xl font-bold",children:a.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),r.jsx("p",{className:"text-2xl font-bold",children:"0"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xi,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Ce mois"}),r.jsx("p",{className:"text-2xl font-bold",children:"0"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Clients actifs"}),r.jsx("p",{className:"text-2xl font-bold",children:n.length})]})]})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsx(se,{placeholder:"Rechercher par nom, race ou propriétaire...",value:c,onChange:B=>u(B.target.value),className:"max-w-md"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(Ie,{value:d,onValueChange:f,children:[r.jsx(De,{className:"w-40",children:r.jsx($e,{placeholder:"Tous types"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Tous types"}),N.map((B,me)=>r.jsx(K,{value:B.toLowerCase(),children:B},me))]})]}),r.jsxs(Ie,{value:m,onValueChange:g,children:[r.jsx(De,{className:"w-40",children:r.jsx($e,{placeholder:"Statut"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Tous statuts"}),r.jsx(K,{value:"healthy",children:"En bonne santé"}),r.jsx(K,{value:"treatment",children:"En traitement"}),r.jsx(K,{value:"urgent",children:"Urgent"})]})]})]})]})]}),x==="cards"?r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:ie.map(B=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Hr,{className:"h-16 w-16",children:B.photo?r.jsx(ll,{src:B.photo,alt:B.name}):r.jsx(Gr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Yt,{className:"h-8 w-8"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:B.name}),r.jsx("p",{className:"text-muted-foreground",children:B.breed}),r.jsx(Oe,{variant:"outline",className:z3[B.status],children:B.status==="healthy"?"En bonne santé":B.status==="treatment"?"En traitement":"Urgent"})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",B.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"})," ",B.birthDate?tf(B.birthDate):"Non renseigné"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"})," ",B.weight]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"})," ",B.color]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Propriétaire: ",B.owner]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(wt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Dernière visite: ",B.lastVisit?new Date(B.lastVisit).toLocaleDateString("fr-FR"):"Aucune"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(pr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Consultations: ",o(B.id).length]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Vaccinations:"}),r.jsx("div",{className:"flex gap-1 flex-wrap",children:B.vaccinations&&B.vaccinations.length>0?B.vaccinations.map((me,ve)=>r.jsx(Oe,{variant:"outline",className:"text-xs",children:me},ve)):r.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucune vaccination enregistrée"})})]}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsxs(W,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>$(B),children:[r.jsx(ns,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(W,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>z(B),children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>pe(B),children:"Dossier Médical"}),r.jsxs(W,{size:"sm",className:"flex-1",onClick:()=>{A(B),C(!0)},children:[r.jsx(pr,{className:"h-4 w-4 mr-2"}),"Consultation"]})]})]})})},B.id))}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Âge"}),r.jsx("th",{className:"p-4 font-medium",children:"Propriétaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Dernière visite"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:ie.map(B=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Hr,{className:"h-10 w-10",children:B.photo?r.jsx(ll,{src:B.photo,alt:B.name}):r.jsx(Gr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Yt,{className:"h-5 w-5"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:B.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:B.breed})]})]})}),r.jsx("td",{className:"p-4",children:B.type}),r.jsx("td",{className:"p-4",children:B.birthDate?tf(B.birthDate):"Non renseigné"}),r.jsx("td",{className:"p-4",children:B.owner}),r.jsx("td",{className:"p-4",children:r.jsx(Oe,{variant:"outline",className:z3[B.status],children:B.status==="healthy"?"En bonne santé":B.status==="treatment"?"En traitement":"Urgent"})}),r.jsx("td",{className:"p-4",children:B.lastVisit?new Date(B.lastVisit).toLocaleDateString("fr-FR"):"Aucune"}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>$(B),children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>z(B),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>pe(B),children:"Dossier"})]})})]},B.id))})]})})})}),_&&r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(Xi,{className:"h-5 w-5"}),"Statistiques médicales - ",_.name]})}),r.jsx(he,{children:r.jsx(EFe,{pet:_,consultations:o(_.id)})})]}),r.jsx(gv,{open:j,onOpenChange:b}),r.jsx(Xf,{open:P,onOpenChange:C}),r.jsx(HV,{open:E,onOpenChange:D,pet:_,onEdit:le,onShowDossier:ee}),r.jsx(Ct,{open:I,onOpenChange:O,children:r.jsxs(Nt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:"Modifier Animal"}),r.jsx(Cn,{children:"Modifiez les informations de l'animal."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"name",children:"Nom *"}),r.jsx(se,{id:"name",value:Y.name,onChange:B=>q(me=>({...me,name:B.target.value})),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"species",children:"Espèce *"}),r.jsxs(Ie,{value:Y.species,onValueChange:B=>q(me=>({...me,species:B})),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner l'espèce"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"Chien",children:"Chien"}),r.jsx(K,{value:"Chat",children:"Chat"}),r.jsx(K,{value:"Oiseau",children:"Oiseau"}),r.jsx(K,{value:"Lapin",children:"Lapin"}),r.jsx(K,{value:"Furet",children:"Furet"}),r.jsx(K,{value:"Autre",children:"Autre"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"client_id",children:"Propriétaire *"}),r.jsxs(Ie,{value:Y.client_id,onValueChange:B=>q(me=>({...me,client_id:B})),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner le propriétaire"})}),r.jsx(Me,{children:n.map(B=>r.jsxs(K,{value:B.id,children:[B.first_name," ",B.last_name]},B.id))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"breed",children:"Race"}),r.jsx(se,{id:"breed",value:Y.breed||"",onChange:B=>q(me=>({...me,breed:B.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"sex",children:"Sexe"}),r.jsxs(Ie,{value:Y.sex,onValueChange:B=>q(me=>({...me,sex:B})),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner le sexe"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"Mâle",children:"Mâle"}),r.jsx(K,{value:"Femelle",children:"Femelle"}),r.jsx(K,{value:"Inconnu",children:"Inconnu"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"birth_date",children:"Date de naissance"}),r.jsx(se,{id:"birth_date",type:"date",value:Y.birth_date||"",onChange:B=>q(me=>({...me,birth_date:B.target.value||void 0}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(se,{id:"weight",type:"number",step:"0.1",value:Y.weight||"",onChange:B=>q(me=>({...me,weight:B.target.value?parseFloat(B.target.value):void 0}))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"color",children:"Couleur"}),r.jsx(se,{id:"color",value:Y.color||"",onChange:B=>q(me=>({...me,color:B.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"microchip_number",children:"N° puce électronique"}),r.jsx(se,{id:"microchip_number",value:Y.microchip_number||"",onChange:B=>q(me=>({...me,microchip_number:B.target.value}))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"notes",children:"Notes médicales"}),r.jsx(St,{id:"notes",value:Y.notes||"",onChange:B=>q(me=>({...me,notes:B.target.value})),placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>O(!1),children:"Annuler"}),r.jsxs(W,{onClick:J,disabled:i.isPending,children:[i.isPending&&r.jsx(zu,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarder"]})]})]})]})}),r.jsx(AFe,{open:k,onOpenChange:F,pet:_})]})},OFe=()=>r.jsx(TFe,{}),DFe={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},MFe=(e,t,n)=>{let s;const i=DFe[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+s:"il y a "+s:s},IFe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},$Fe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},RFe={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LFe={date:Eh({formats:IFe,defaultWidth:"full"}),time:Eh({formats:$Fe,defaultWidth:"full"}),dateTime:Eh({formats:RFe,defaultWidth:"full"})},FFe={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},BFe=(e,t,n,s)=>FFe[e],zFe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},VFe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},UFe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},qFe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},WFe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},HFe=(e,t)=>{const n=Number(e),s=t==null?void 0:t.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let a;return n===1?a=s&&i.includes(s)?"ère":"er":a="ème",n+a},GFe=["MMM","MMMM"],KFe={preprocessor:(e,t)=>e.getDate()===1||!t.some(s=>s.isToken&&GFe.includes(s.value))?t:t.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:HFe,era:eo({values:zFe,defaultWidth:"wide"}),quarter:eo({values:VFe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:eo({values:UFe,defaultWidth:"wide"}),day:eo({values:qFe,defaultWidth:"wide"}),dayPeriod:eo({values:WFe,defaultWidth:"wide"})},YFe=/^(\d+)(ième|ère|ème|er|e)?/i,QFe=/\d+/i,XFe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},JFe={any:[/^av/i,/^ap/i]},ZFe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},e5e={any:[/1/i,/2/i,/3/i,/4/i]},t5e={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},n5e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},r5e={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},s5e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},i5e={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},a5e={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},o5e={ordinalNumber:cU({matchPattern:YFe,parsePattern:QFe,valueCallback:e=>parseInt(e)}),era:to({matchPatterns:XFe,defaultMatchWidth:"wide",parsePatterns:JFe,defaultParseWidth:"any"}),quarter:to({matchPatterns:ZFe,defaultMatchWidth:"wide",parsePatterns:e5e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:to({matchPatterns:t5e,defaultMatchWidth:"wide",parsePatterns:n5e,defaultParseWidth:"any"}),day:to({matchPatterns:r5e,defaultMatchWidth:"wide",parsePatterns:s5e,defaultParseWidth:"any"}),dayPeriod:to({matchPatterns:i5e,defaultMatchWidth:"any",parsePatterns:a5e,defaultParseWidth:"any"})},Wi={code:"fr",formatDistance:MFe,formatLong:LFe,formatRelative:BFe,localize:KFe,match:o5e,options:{weekStartsOn:1,firstWeekContainsDate:4}},V3=(e,t)=>{switch(e){case"appointment":switch(t){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}case"vaccination":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}case"antiparasitic":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}default:return"bg-gray-100 text-gray-800 border-gray-200"}},U3=(e,t)=>{switch(e){case"appointment":return r.jsx(In,{className:"h-3 w-3"});case"vaccination":return r.jsx(Zn,{className:"h-3 w-3"});case"antiparasitic":return r.jsx(Un,{className:"h-3 w-3"});default:return r.jsx(wt,{className:"h-3 w-3"})}},Fk=({events:e,onEventClick:t,onDateClick:n,onTimeSlotClick:s,showTimeSlots:i=!1,title:a="Calendrier",icon:o=r.jsx(wt,{className:"h-5 w-5"})})=>{var _;const{settings:l}=Wt(),[c,u]=w.useState(new Date),[d,f]=w.useState(""),m=new Date(c.getFullYear(),c.getMonth(),1),g=new Date(c.getFullYear(),c.getMonth()+1,0),x=new Date(m);x.setDate(x.getDate()-m.getDay());const v=[],y=new Date(x);for(;y<=g||v.length<42;)v.push(new Date(y)),y.setDate(y.getDate()+1);const N=w.useMemo(()=>{const A={};return e.forEach(E=>{const D=E.date;A[D]||(A[D]=[]),A[D].push(E)}),A},[e]),j=w.useMemo(()=>!d||!i?[]:wE(d,l.scheduleSettings,[]),[d,i,l.scheduleSettings]),b=A=>{const E=new Date(c);E.setMonth(c.getMonth()+(A==="next"?1:-1)),u(E)},P=A=>{const E=It(A,"yyyy-MM-dd");f(E),n==null||n(E)},C=A=>{s&&d&&s(d,A)};return r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-3 sm:pb-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[r.jsxs(Ae,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o,a]}),r.jsxs("div",{className:"flex items-center justify-between sm:gap-2",children:[r.jsx(W,{variant:"outline",size:"sm",onClick:()=>b("prev"),className:"flex-1 sm:flex-none",children:"←"}),r.jsx("span",{className:"font-medium text-sm sm:text-base px-2 sm:min-w-[140px] text-center",children:It(c,"MMMM yyyy",{locale:Wi})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>b("next"),className:"flex-1 sm:flex-none",children:"→"})]})]})}),r.jsxs(he,{className:"p-2 sm:p-6",children:[r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2 sm:mb-4",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(A=>r.jsx("div",{className:"p-1 sm:p-2 text-center text-xs sm:text-sm font-medium text-gray-500",children:A},A))}),r.jsx("div",{className:"grid grid-cols-7 gap-1",children:v.map((A,E)=>{const D=It(A,"yyyy-MM-dd"),I=N[D]||[],O=A.getMonth()===c.getMonth(),k=ame(A,new Date),F=D===d,L=ofe(D,l.scheduleSettings);return r.jsxs("div",{className:`
                    min-h-[60px] sm:min-h-[80px] p-1 border rounded-lg relative cursor-pointer hover:bg-muted/50
                    ${O?"bg-white":"bg-gray-50"}
                    ${k?"ring-2 ring-blue-500":""}
                    ${F?"bg-blue-100 border-blue-300":""}
                    ${L?"":"opacity-50"}
                  `,onClick:()=>P(A),children:[r.jsx("div",{className:`text-xs sm:text-sm font-medium ${O?"text-gray-900":"text-gray-400"}`,children:A.getDate()}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1 mt-0.5 sm:mt-1",children:[I.slice(0,2).map((Y,q)=>r.jsx("div",{className:`
                          text-xs p-0.5 sm:p-1 rounded text-center truncate border cursor-pointer
                          ${V3(Y.type,Y.status)}
                        `,title:`${Y.title}${Y.time?` - ${Y.time}`:""}${Y.clientName?` (${Y.clientName})`:""}`,onClick:ie=>{ie.stopPropagation(),t==null||t(Y)},children:r.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 justify-center",children:[U3(Y.type,Y.status),r.jsx("span",{className:"truncate text-xs",children:Y.title})]})},q)),I.length>2&&r.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",I.length-2]})]})]},E)})})]})]}),d&&r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-3",children:r.jsx(Ae,{className:"text-base sm:text-lg",children:It(new Date(d),"EEEE d MMMM yyyy",{locale:Wi})})}),r.jsxs(he,{className:"p-3 sm:p-6",children:[((_=N[d])==null?void 0:_.length)>0?r.jsx("div",{className:"space-y-3",children:N[d].map(A=>r.jsxs("div",{className:`
                      p-3 rounded-lg border cursor-pointer hover:shadow-sm
                      ${V3(A.type,A.status)}
                    `,onClick:()=>t==null?void 0:t(A),children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[U3(A.type,A.status),r.jsx("span",{className:"font-medium",children:A.title})]}),r.jsx(Oe,{variant:"outline",className:"text-xs",children:A.status})]}),A.time&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(In,{className:"h-3 w-3"}),r.jsx("span",{children:A.time})]}),A.clientName&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(Wr,{className:"h-3 w-3"}),r.jsx("span",{children:A.clientName})]}),A.petName&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(Yt,{className:"h-3 w-3"}),r.jsx("span",{children:A.petName})]})]},A.id))}):r.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun événement prévu pour cette date"}),i&&j.length>0&&r.jsxs("div",{className:"mt-4 sm:mt-6",children:[r.jsx("h4",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:"Créneaux disponibles"}),r.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-1 sm:gap-2",children:j.map(A=>r.jsxs(W,{variant:A.isAvailable?"outline":"ghost",size:"sm",disabled:!A.isAvailable,onClick:()=>C(A.time),className:"text-xs p-1 sm:p-2",children:[A.time,A.isLunchBreak&&r.jsx(Oe,{variant:"secondary",className:"ml-1 text-xs hidden sm:inline",children:"Pause"})]},A.time))})]})]})]})]})},q3={scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800","no-show":"bg-orange-100 text-orange-800"},XS={scheduled:"Planifié",confirmed:"Confirmé",completed:"Terminé",cancelled:"Annulé","no-show":"Absent"},W3={consultation:"Consultation générale",vaccination:"Vaccination",chirurgie:"Chirurgie",urgence:"Urgence",controle:"Contrôle post-opératoire",sterilisation:"Stérilisation",dentaire:"Soins dentaires"};function l5e(){const{appointments:e,deleteAppointment:t,updateAppointment:n,getUpcomingAppointments:s,getOverdueAppointments:i}=pt(),{toast:a}=Ft(),{currentView:o}=yd("appointments"),[l,c]=w.useState(!1),[u,d]=w.useState(""),[f,m]=w.useState("all"),[g,x]=w.useState("all"),[v,y]=w.useState("all"),[N,j]=w.useState(new Date().toISOString().split("T")[0]),[b,P]=w.useState("list"),[C,_]=w.useState(o),[A,E]=w.useState(null),[D,I]=w.useState(""),[O,k]=w.useState(()=>{const re=new Date;return new Date(re.getFullYear(),re.getMonth(),1)}),F=s(),L=i(),Y=e.filter(re=>{const V=re.clientName.toLowerCase().includes(u.toLowerCase())||re.petName.toLowerCase().includes(u.toLowerCase())||re.reason&&re.reason.toLowerCase().includes(u.toLowerCase()),Z=f==="all"||re.status===f,ye=g==="all"||re.type===g;let te=!0;if(v==="today")te=re.date===new Date().toISOString().split("T")[0];else if(v==="week"){const M=new Date(re.date),je=new Date,we=new Date(je.getTime()+7*24*60*60*1e3);te=M>=je&&M<=we}else if(v==="month"){const M=new Date(re.date),je=new Date,we=je.getMonth(),Fe=je.getFullYear();te=M.getMonth()===we&&M.getFullYear()===Fe}else v==="specific"&&(te=re.date===N);return V&&Z&&ye&&te}),q=(re,V)=>{n(re,{status:V}),a({title:"Statut mis à jour",description:`Le rendez-vous est maintenant ${XS[V].toLowerCase()}.`})},ie=()=>{if(!A)return;const{id:re,field:V}=A,Z=e.find(ye=>ye.id===re);if(Z){const ye={...Z,[V]:D};n(re,ye),a({title:"Modifié",description:`${V} mis à jour`})}E(null)},$=re=>{confirm(`Êtes-vous sûr de vouloir supprimer le rendez-vous pour ${re.petName} ?`)&&(t(re.id),a({title:"Rendez-vous supprimé",description:`Le rendez-vous pour ${re.petName} a été supprimé.`}))},z=re=>e.filter(V=>V.date===re),pe=(()=>{const re=new Date().toISOString().split("T")[0];return z(re)})(),ee=O.getFullYear(),J=O.getMonth(),B=new Date(ee,J,1).getDay(),me=new Date(ee,J+1,0).getDate();let ve=1-B;for(;ve<=me;){const re=[];for(let V=0;V<7;V++)ve>0&&ve<=me?re.push(ve):re.push(0),ve++}return r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Gestion des Rendez-vous"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Planifiez et gérez tous vos rendez-vous vétérinaires"})]}),r.jsxs(W,{onClick:()=>c(!0),className:"gap-2 w-full sm:w-auto",children:[r.jsx(ft,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Nouveau Rendez-vous"}),r.jsx("span",{className:"sm:hidden",children:"Nouveau RDV"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:b==="list"?"default":"outline",onClick:()=>P("list"),size:"sm",className:"flex-1 sm:flex-none",children:"Liste"}),r.jsx(W,{variant:b==="calendar"?"default":"outline",onClick:()=>P("calendar"),size:"sm",className:"flex-1 sm:flex-none",children:"Calendrier"})]}),b==="list"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{size:"sm",variant:C==="cards"?"default":"outline",onClick:()=>_("cards"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[r.jsx(sl,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Cartes"})]}),r.jsxs(W,{size:"sm",variant:C==="table"?"default":"outline",onClick:()=>_("table"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[r.jsx(il,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Tableau"})]})]})]}),b==="calendar"?r.jsx(Fk,{events:e.map(re=>({id:re.id,type:"appointment",title:`${re.clientName} - ${re.petName}`,time:re.time,date:re.date,status:re.status,clientName:re.clientName,petName:re.petName})),onEventClick:re=>{},onDateClick:re=>{j(re)},onTimeSlotClick:(re,V)=>{c(!0)},showTimeSlots:!0,title:"Calendrier des Rendez-vous",icon:r.jsx(wt,{className:"h-5 w-5"})}):r.jsxs("div",{className:"grid gap-2 sm:gap-4 grid-cols-2 lg:grid-cols-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Aujourd'hui"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:pe.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(In,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"À venir"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:F.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"En retard"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:L.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:e.length})]})]})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs(Ae,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(_A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Filtres et Recherche"]})}),r.jsx(he,{className:"space-y-3 sm:space-y-4",children:r.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ip,{children:"Recherche"}),r.jsxs("div",{className:"relative",children:[r.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(se,{placeholder:"Client, animal, motif...",value:u,onChange:re=>d(re.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ip,{children:"Statut"}),r.jsxs(Ie,{value:f,onValueChange:m,children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Tous les statuts"}),r.jsx(K,{value:"scheduled",children:"Planifié"}),r.jsx(K,{value:"confirmed",children:"Confirmé"}),r.jsx(K,{value:"completed",children:"Terminé"}),r.jsx(K,{value:"cancelled",children:"Annulé"}),r.jsx(K,{value:"no-show",children:"Absent"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ip,{children:"Type"}),r.jsxs(Ie,{value:g,onValueChange:x,children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Tous les types"}),r.jsx(K,{value:"consultation",children:"Consultation"}),r.jsx(K,{value:"vaccination",children:"Vaccination"}),r.jsx(K,{value:"chirurgie",children:"Chirurgie"}),r.jsx(K,{value:"urgence",children:"Urgence"}),r.jsx(K,{value:"controle",children:"Contrôle"}),r.jsx(K,{value:"sterilisation",children:"Stérilisation"}),r.jsx(K,{value:"dentaire",children:"Dentaire"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ip,{children:"Période"}),r.jsxs(Ie,{value:v,onValueChange:y,children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Toutes les dates"}),r.jsx(K,{value:"today",children:"Ce jour"}),r.jsx(K,{value:"week",children:"Cette semaine"}),r.jsx(K,{value:"month",children:"Ce mois"}),r.jsx(K,{value:"specific",children:"Date spécifique"})]})]})]}),v==="specific"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(ip,{children:"Date"}),r.jsx(se,{type:"date",value:N,onChange:re=>j(re.target.value)})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h2",{className:"text-xl font-semibold",children:["Rendez-vous (",Y.length,")"]})}),Y.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(wt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun rendez-vous trouvé"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier rendez-vous"})]})}):C==="cards"?r.jsx("div",{className:"space-y-4",children:Y.sort((re,V)=>new Date(re.date+"T"+re.time).getTime()-new Date(V.date+"T"+V.time).getTime()).map(re=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-4 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:re.clientName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:re.petName})]}),r.jsx(Oe,{className:q3[re.status],children:XS[re.status]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:new Date(re.date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(In,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:re.time})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{className:"ml-1",children:W3[re.type]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Durée:"}),r.jsxs("span",{className:"ml-1",children:[re.duration," min"]})]})]}),re.reason&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Motif:"}),r.jsx("p",{className:"text-sm mt-1",children:re.reason})]}),re.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Notes:"}),r.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:re.notes})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[re.status==="scheduled"&&r.jsxs(r.Fragment,{children:[r.jsxs(W,{size:"sm",variant:"outline",onClick:()=>q(re.id,"confirmed"),className:"gap-1",children:[r.jsx(Zn,{className:"h-3 w-3"}),"Confirmer"]}),r.jsxs(W,{size:"sm",variant:"outline",onClick:()=>q(re.id,"cancelled"),className:"gap-1 text-red-600",children:[r.jsx(eg,{className:"h-3 w-3"}),"Annuler"]})]}),re.status==="confirmed"&&r.jsxs(W,{size:"sm",variant:"outline",onClick:()=>q(re.id,"completed"),className:"gap-1",children:[r.jsx(Zn,{className:"h-3 w-3"}),"Terminer"]}),r.jsxs(W,{size:"sm",variant:"outline",onClick:()=>$(re),className:"gap-1 text-red-600",children:[r.jsx(zn,{className:"h-3 w-3"}),"Supprimer"]})]})]})})},re.id))}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Client / Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Date & Heure"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Motif"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:Y.sort((re,V)=>new Date(re.date+"T"+re.time).getTime()-new Date(V.date+"T"+V.time).getTime()).map(re=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:re.clientName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:re.petName})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{E({id:re.id,field:"date"}),I(re.date)},children:[r.jsx(wt,{className:"h-4 w-4 text-muted-foreground"}),(A==null?void 0:A.id)===re.id&&A.field==="date"?r.jsx(se,{type:"date",value:D,onChange:V=>I(V.target.value),onBlur:ie,autoFocus:!0,className:"w-32"}):r.jsx("span",{children:new Date(re.date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{E({id:re.id,field:"time"}),I(re.time)},children:[r.jsx(In,{className:"h-4 w-4 text-muted-foreground"}),(A==null?void 0:A.id)===re.id&&A.field==="time"?r.jsx(se,{type:"time",value:D,onChange:V=>I(V.target.value),onBlur:ie,autoFocus:!0,className:"w-24"}):r.jsx("span",{className:"text-sm text-muted-foreground",children:re.time})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:W3[re.type]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[re.duration," min"]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"cursor-pointer",onClick:()=>{E({id:re.id,field:"status"}),I(re.status)},children:(A==null?void 0:A.id)===re.id&&A.field==="status"?r.jsxs(Ie,{value:D,onValueChange:V=>{I(V),n(re.id,{status:V}),E(null)},children:[r.jsx(De,{className:"w-32",children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"scheduled",children:"Planifié"}),r.jsx(K,{value:"confirmed",children:"Confirmé"}),r.jsx(K,{value:"completed",children:"Terminé"}),r.jsx(K,{value:"cancelled",children:"Annulé"}),r.jsx(K,{value:"no-show",children:"Absent"})]})]}):r.jsx(Oe,{className:q3[re.status],children:XS[re.status]})})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"max-w-xs cursor-pointer",onClick:()=>{E({id:re.id,field:"reason"}),I(re.reason||"")},children:(A==null?void 0:A.id)===re.id&&A.field==="reason"?r.jsx(se,{value:D,onChange:V=>I(V.target.value),onBlur:ie,autoFocus:!0,placeholder:"Motif du rendez-vous"}):r.jsxs(r.Fragment,{children:[re.reason&&r.jsx("div",{className:"text-sm",children:re.reason}),re.notes&&r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:re.notes})]})})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[re.status==="scheduled"&&r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>q(re.id,"confirmed"),children:r.jsx(Zn,{className:"h-3 w-3"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>q(re.id,"cancelled"),className:"text-red-600",children:r.jsx(eg,{className:"h-3 w-3"})})]}),re.status==="confirmed"&&r.jsx(W,{size:"sm",variant:"outline",onClick:()=>q(re.id,"completed"),children:r.jsx(Zn,{className:"h-3 w-3"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>$(re),className:"text-red-600",children:r.jsx(zn,{className:"h-3 w-3"})})]})})]},re.id))})]})})})})]}),r.jsx(NE,{open:l,onOpenChange:c})]})}const ip=({children:e,...t})=>r.jsx("label",{className:"text-sm font-medium",...t,children:e}),hm=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Ze("w-full caption-bottom text-sm",e),...t})}));hm.displayName="Table";const fm=w.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Ze("[&_tr]:border-b",e),...t}));fm.displayName="TableHeader";const mm=w.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Ze("[&_tr:last-child]:border-0",e),...t}));mm.displayName="TableBody";const c5e=w.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Ze("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));c5e.displayName="TableFooter";const $a=w.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Ze("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));$a.displayName="TableRow";const Ot=w.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Ze("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ot.displayName="TableHead";const Dt=w.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Ze("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Dt.displayName="TableCell";const u5e=w.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Ze("mt-4 text-sm text-muted-foreground",e),...t}));u5e.displayName="TableCaption";const d5e=()=>{const{consultations:e,deleteConsultation:t}=pt(),{settings:n}=Wt(),{toast:s}=Ft(),{currentView:i}=yd("consultations"),[a,o]=w.useState(""),[l,c]=w.useState("all"),[u,d]=w.useState(i),[f,m]=w.useState(!1),[g,x]=w.useState(!1),[v,y]=w.useState(null),[N,j]=w.useState(!1),[b,P]=w.useState(null),[C,_]=w.useState(null),A=e.filter(k=>{const F=k.clientName.toLowerCase().includes(a.toLowerCase())||k.petName.toLowerCase().includes(a.toLowerCase())||k.symptoms&&k.symptoms.toLowerCase().includes(a.toLowerCase())||k.diagnosis&&k.diagnosis.toLowerCase().includes(a.toLowerCase());if(l==="all")return F;const L=new Date(k.date),q=(new Date().getTime()-L.getTime())/(1e3*3600*24);switch(l){case"week":return F&&q<=7;case"month":return F&&q<=30;case"quarter":return F&&q<=90;default:return F}}),E=k=>{y(k),x(!0)},D=k=>{P(k.petId),_(k.id),j(!0)},I=k=>{confirm(`Êtes-vous sûr de vouloir supprimer la consultation pour ${k.petName} ?`)&&(t(k.id),s({title:"Consultation supprimée",description:`La consultation pour ${k.petName} a été supprimée.`}))},O=k=>{y({...k,id:0,date:new Date().toISOString().split("T")[0],symptoms:"",diagnosis:"",treatment:"",medications:"",followUp:"",cost:"",notes:""}),m(!0)};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Consultations"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez et consultez tous les dossiers médicaux"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex border rounded-lg p-1",children:[r.jsx(W,{variant:u==="cards"?"default":"ghost",size:"sm",onClick:()=>d("cards"),className:"px-3",children:r.jsx(sl,{className:"h-4 w-4"})}),r.jsx(W,{variant:u==="table"?"default":"ghost",size:"sm",onClick:()=>d("table"),className:"px-3",children:r.jsx(il,{className:"h-4 w-4"})})]}),r.jsxs(W,{className:"gap-2 medical-glow",onClick:()=>m(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx(se,{placeholder:"Rechercher par client, animal, symptômes ou diagnostic...",value:a,onChange:k=>o(k.target.value),className:"max-w-md"}),r.jsxs(Ie,{value:l,onValueChange:c,children:[r.jsx(De,{className:"w-48",children:r.jsx($e,{placeholder:"Période"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Toutes les périodes"}),r.jsx(K,{value:"week",children:"Cette semaine"}),r.jsx(K,{value:"month",children:"Ce mois"}),r.jsx(K,{value:"quarter",children:"Ce trimestre"})]})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Consultations récentes (",A.length,")"]}),A.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(lr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation trouvée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre première consultation"})]})}):u==="cards"?A.map(k=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-lg font-semibold",children:k.petName}),r.jsx(Oe,{variant:"secondary",children:"Consultation"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(k.date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wr,{className:"h-3 w-3"}),k.clientName]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(lr,{className:"h-3 w-3"}),"Consultation #",k.id]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[k.temperature&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tg,{className:"h-4 w-4 text-primary"}),k.temperature,"°C"]}),k.weight&&r.jsxs("span",{children:[k.weight," kg"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[k.symptoms&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Symptômes:"}),r.jsx("p",{className:"text-sm",children:k.symptoms})]}),k.diagnosis&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-sm",children:k.diagnosis})]})]}),r.jsxs("div",{className:"space-y-2",children:[k.treatment&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Traitement:"}),r.jsx("p",{className:"text-sm",children:k.treatment})]}),k.medications&&r.jsxs(r.Fragment,{children:[r.jsxs("h5",{className:"font-medium flex items-center gap-1",children:[r.jsx(Yo,{className:"h-4 w-4"}),"Médicaments:"]}),r.jsx("p",{className:"text-sm",children:k.medications})]})]})]}),k.notes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm bg-muted p-3 rounded",children:k.notes})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.jsx(wt,{className:"h-3 w-3 inline mr-1"}),k.followUp?`Suivi: ${k.followUp}`:"Aucun suivi prévu"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Rj,{consultation:k}),r.jsxs(W,{size:"sm",variant:"outline",onClick:()=>E(k),className:"gap-1",children:[r.jsx(en,{className:"h-3 w-3"}),"Modifier"]}),r.jsxs(W,{size:"sm",variant:"default",onClick:()=>D(k),className:"gap-1",children:[r.jsx(Yo,{className:"h-3 w-3"}),"Prescription"]}),r.jsxs(W,{size:"sm",variant:"outline",onClick:()=>I(k),className:"gap-1 text-red-600 hover:text-red-700",children:[r.jsx(zn,{className:"h-3 w-3"}),"Supprimer"]}),r.jsx(W,{size:"sm",onClick:()=>O(k),children:"Nouveau suivi"})]})]})]})})},k.id)):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsxs(hm,{children:[r.jsx(fm,{children:r.jsxs($a,{children:[r.jsx(Ot,{children:"Animal / Client"}),r.jsx(Ot,{children:"Date"}),r.jsx(Ot,{children:"Symptômes"}),r.jsx(Ot,{children:"Diagnostic"}),r.jsx(Ot,{children:"Température"}),r.jsx(Ot,{children:"Coût"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(mm,{children:A.map(k=>r.jsxs($a,{children:[r.jsx(Dt,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:k.petName}),r.jsx("div",{className:"text-sm text-muted-foreground",children:k.clientName})]})}),r.jsx(Dt,{children:new Date(k.date).toLocaleDateString("fr-FR")}),r.jsx(Dt,{children:r.jsx("div",{className:"max-w-xs truncate",children:k.symptoms||"-"})}),r.jsx(Dt,{children:r.jsx("div",{className:"max-w-xs truncate",children:k.diagnosis||"-"})}),r.jsx(Dt,{children:k.temperature?`${k.temperature}°C`:"-"}),r.jsx(Dt,{children:k.cost?`${k.cost} ${n.currency}`:"-"}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Rj,{consultation:k}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>E(k),children:r.jsx(en,{className:"h-3 w-3"})}),r.jsx(W,{size:"sm",variant:"default",onClick:()=>D(k),children:r.jsx(Yo,{className:"h-3 w-3"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>I(k),className:"text-red-600 hover:text-red-700",children:r.jsx(zn,{className:"h-3 w-3"})})]})})]},k.id))})]})})})]}),r.jsx(Xf,{open:f,onOpenChange:m}),r.jsx(v9,{open:g,onOpenChange:x,consultation:v}),b&&r.jsx(Ub,{open:N,onOpenChange:j,petId:b,consultationId:C||void 0})]})},h5e=({consultation:e,open:t,onOpenChange:n,onEdit:s})=>{if(!e)return null;const{getClientById:i,getPetById:a}=pt(),o=i(e.clientId),l=a(e.petId);return r.jsx(Ct,{open:t,onOpenChange:n,children:r.jsxs(Nt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsxs(_t,{children:["Consultation #",e.id," - ",lo(e.date)]}),r.jsx(Cn,{children:"Détails de la consultation générale"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(wt,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:e.purpose||"Consultation générale"})]}),r.jsxs("div",{className:"flex gap-8 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Yt,{className:"h-4 w-4"}),l==null?void 0:l.name," (",l==null?void 0:l.type,")"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wr,{className:"h-4 w-4"}),o==null?void 0:o.name]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(pr,{className:"h-4 w-4"}),e.veterinarian]})]}),e.symptoms&&r.jsx(de,{children:r.jsx(he,{children:r.jsxs("p",{children:[r.jsx("strong",{children:"Symptômes:"})," ",e.symptoms]})})}),r.jsxs(ml,{defaultValue:"overview",className:"space-y-4",children:[r.jsxs(xo,{className:"grid grid-cols-2",children:[r.jsx(ln,{value:"overview",children:"Détails"}),r.jsx(ln,{value:"prescriptions",children:"Prescriptions"})]}),r.jsx(cn,{value:"overview",children:r.jsx(de,{children:r.jsxs(he,{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Motif:"})," ",e.purpose||"Non spécifié"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",e.notes||"Aucune"]}),e.photos&&e.photos.length>0&&r.jsxs("div",{className:"pt-4",children:[r.jsx("h5",{className:"font-medium mb-2",children:"Photos de la consultation"}),r.jsx("div",{className:"flex gap-2 overflow-x-auto",children:e.photos.map((c,u)=>r.jsx("div",{className:"relative",children:r.jsx("img",{src:c,alt:`consult-photo-${u}`,className:"h-32 w-32 object-cover rounded cursor-pointer hover:opacity-80"})},u))})]})]})})}),r.jsx(cn,{value:"prescriptions",children:r.jsx(n9,{petId:e.petId,consultationId:e.id})})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsxs(W,{variant:"outline",onClick:s,children:[r.jsx(en,{className:"h-4 w-4"})," Modifier"]}),r.jsx(Rj,{consultation:e})]})]})})};function f5e({prescription:e}){const{settings:t}=Wt(),{logo:n,clinicName:s,address:i,phone:a,email:o,website:l,currency:c}=t,d=e.medications.map(m=>m.cost*(m.quantity||1)).reduce((m,g)=>m+g,0),f=()=>{window.print()};return r.jsxs("div",{className:"p-8 max-w-screen-lg mx-auto bg-white text-gray-800",children:[r.jsxs("header",{className:"flex items-center justify-between mb-8",children:[n&&r.jsx("img",{src:n,alt:"Logo clinique",className:"h-16 w-16 object-contain"}),r.jsxs("div",{className:"text-center flex-1",children:[r.jsx("h1",{className:"text-2xl font-bold",children:s}),r.jsx("p",{className:"text-sm",children:i}),r.jsxs("p",{className:"text-sm",children:[a," | ",o]}),l&&r.jsx("p",{className:"text-sm",children:l})]}),r.jsx("div",{children:r.jsx(W,{variant:"outline",onClick:f,className:"uppercase text-sm",children:"Imprimer"})})]}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Ordonnance"}),r.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-4",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Date :"})," ",e.date]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Patient :"})," ",e.petName," (",e.clientName,")"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Prescrit par :"})," ",e.prescribedBy]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Diagnostic :"})," ",e.diagnosis]})]})]}),r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b py-2 text-left",children:"Médicament"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Dosage"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Fréquence"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Durée"})]})}),r.jsx("tbody",{children:e.medications.map(m=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:m.name}),r.jsx("td",{className:"py-2",children:m.dosage}),r.jsx("td",{className:"py-2",children:m.frequency}),r.jsx("td",{className:"py-2",children:m.duration})]},m.id))})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Facture"}),r.jsxs("table",{className:"w-full border-collapse mb-4",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b py-2 text-left",children:"Produit / Service"}),r.jsx("th",{className:"border-b py-2 text-right",children:"Quantité"}),r.jsxs("th",{className:"border-b py-2 text-right",children:["Prix Unitaire (",c,")"]}),r.jsxs("th",{className:"border-b py-2 text-right",children:["Total (",c,")"]})]})}),r.jsx("tbody",{children:e.medications.map(m=>{const g=m.quantity||1,x=(m.cost||0)*g;return r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:m.name}),r.jsx("td",{className:"py-2 text-right",children:g}),r.jsx("td",{className:"py-2 text-right",children:m.cost.toFixed(2)}),r.jsx("td",{className:"py-2 text-right",children:x.toFixed(2)})]},m.id)})}),r.jsx("tfoot",{children:r.jsxs("tr",{children:[r.jsx("td",{colSpan:3,className:"py-2 text-right font-semibold",children:"Montant total :"}),r.jsx("td",{className:"py-2 text-right font-semibold",children:d.toFixed(2)})]})})]})]})]})}const m5e=()=>{var ie;const{consultations:e,prescriptions:t,getClientById:n,getPetById:s}=pt(),[i,a]=w.useState(""),[o,l]=w.useState("all"),[c,u]=w.useState("all"),[d,f]=w.useState("all"),[m,g]=w.useState(""),[x,v]=w.useState("cards"),[y,N]=w.useState(!1),[j,b]=w.useState(null),[P,C]=w.useState(!1),[_,A]=w.useState(null),[E,D]=w.useState(!1),[I,O]=w.useState(null),k=[...e.map($=>{var z;return{id:$.id,date:$.date,petName:$.petName,petType:((z=s($.petId))==null?void 0:z.type)||"",client:$.clientName,type:"consultation",title:$.diagnosis||"Consultation",veterinarian:$.notes||"Non spécifié",details:$.symptoms||"",prescriptions:[],cost:$.cost,status:"completed"}})].sort(($,z)=>new Date(z.date).getTime()-new Date($.date).getTime()),F=t.map($=>{var z,le;return{id:$.id,date:$.date,petName:$.petName,client:$.clientName,medication:$.medications.map(pe=>pe.name).join(", "),dosage:((z=$.medications[0])==null?void 0:z.dosage)||"",frequency:((le=$.medications[0])==null?void 0:le.frequency)||"",duration:$.duration,veterinarian:$.prescribedBy,status:$.status}}),L=k.filter($=>{const z=$.petName.toLowerCase().includes(i.toLowerCase())||$.client.toLowerCase().includes(i.toLowerCase())||$.title.toLowerCase().includes(i.toLowerCase()),le=o==="all"||$.petName.toLowerCase().includes(o.toLowerCase()),pe=c==="all"||$.type===c;let ee=!0;if(d==="today"){const J=new Date().toISOString().split("T")[0];ee=$.date===J}else if(d==="week"){const J=new Date($.date),B=new Date,me=B.getDay(),ve=B.getDate()-me+(me===0?-6:1),re=new Date(B.setDate(ve)),V=new Date(re);V.setDate(re.getDate()+6),ee=J>=re&&J<=V}else d==="specific"&&(ee=m&&$.date===m);return z&&le&&pe&&ee}),Y=F.filter($=>{const z=$.petName.toLowerCase().includes(i.toLowerCase())||$.client.toLowerCase().includes(i.toLowerCase())||$.medication.toLowerCase().includes(i.toLowerCase()),le=o==="all"||$.petName.toLowerCase().includes(o.toLowerCase()),pe=c==="all"||!0;let ee=!0;if(d==="today"){const J=new Date().toISOString().split("T")[0];ee=$.date===J}else if(d==="week"){const J=new Date($.date),B=new Date,me=B.getDay(),ve=B.getDate()-me+(me===0?-6:1),re=new Date(B.setDate(ve)),V=new Date(re);V.setDate(re.getDate()+6),ee=J>=re&&J<=V}else d==="specific"&&(ee=m&&$.date===m);return z&&le&&pe&&ee}),q={active:"bg-blue-100 text-blue-800 hover:bg-blue-200",completed:"bg-green-100 text-green-800 hover:bg-green-200",discontinued:"bg-red-100 text-red-800 hover:bg-red-200"};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Historique Médical"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Consultez l'historique complet des soins et traitements"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(sl,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(W,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Tableau"]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-5 w-5"}),"Rechercher"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(se,{placeholder:"Rechercher par nom, animal, diagnostic...",value:i,onChange:$=>a($.target.value)}),r.jsxs(Ie,{value:o,onValueChange:l,children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Filtrer par animal"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Tous les animaux"}),Array.from(new Set(k.map($=>$.petName))).map($=>r.jsx(K,{value:$,children:$},$))]})]}),r.jsxs(Ie,{value:c,onValueChange:u,children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Filtrer par type"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Tous types"}),r.jsx(K,{value:"consultation",children:"Consultations"}),r.jsx(K,{value:"treatment",children:"Traitements"}),r.jsx(K,{value:"surgery",children:"Chirurgies"})]})]}),r.jsxs(Ie,{value:d,onValueChange:f,children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Période"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Toute période"}),r.jsx(K,{value:"today",children:"Aujourd'hui"}),r.jsx(K,{value:"week",children:"Cette semaine"}),r.jsx(K,{value:"specific",children:"Date spécifique"})]})]})]}),d==="specific"&&r.jsx(se,{type:"date",value:m,onChange:$=>g($.target.value),className:"max-w-xs"})]})]}),r.jsxs(ml,{defaultValue:"medical",className:"space-y-4",children:[r.jsxs(xo,{className:"grid w-full grid-cols-2",children:[r.jsxs(ln,{value:"medical",className:"gap-2",children:[r.jsx(wt,{className:"h-4 w-4"}),"Historique Médical"]}),r.jsxs(ln,{value:"prescriptions",className:"gap-2",children:[r.jsx(Yt,{className:"h-4 w-4"}),"Prescriptions"]})]}),r.jsxs(cn,{value:"medical",className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des consultations (",L.length," entrées)"]})}),x==="cards"?r.jsx("div",{className:"grid gap-6",children:L.map($=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:new Date($.date).toLocaleDateString("fr-FR")})]}),r.jsx(Oe,{variant:"outline",className:"text-xs",children:$.type})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold",children:$.title}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Yt,{className:"h-3 w-3"}),$.petName]}),r.jsxs("span",{children:["Client: ",$.client]}),r.jsxs("span",{children:["Vétérinaire: ",$.veterinarian]})]})]}),$.details&&r.jsx("p",{className:"text-sm text-muted-foreground",children:$.details}),$.cost&&r.jsx("div",{className:"text-sm",children:r.jsxs("span",{className:"font-medium",children:["Coût: ",$.cost," MAD"]})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>{b($),N(!0)},children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",children:r.jsx(en,{className:"h-4 w-4"})})]})]})})},$.id))}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Date"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Titre"}),r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Vétérinaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:L.map($=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:new Date($.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"p-4",children:r.jsx(Oe,{variant:"outline",className:"text-xs",children:$.type})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-medium",children:$.title}),$.details&&r.jsx("div",{className:"text-sm text-muted-foreground",children:$.details})]}),r.jsx("td",{className:"p-4",children:$.petName}),r.jsx("td",{className:"p-4",children:$.client}),r.jsx("td",{className:"p-4",children:$.veterinarian}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>{b($),N(!0)},children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",children:r.jsx(en,{className:"h-4 w-4"})})]})})]},$.id))})]})})})})]}),r.jsxs(cn,{value:"prescriptions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des prescriptions (",Y.length," entrées)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(sl,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(W,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Tableau"]})]})]}),x==="cards"?Y.map($=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:new Date($.date).toLocaleDateString("fr-FR")})]}),r.jsx(Oe,{variant:"outline",className:q[$.status],children:$.status==="active"?"Actif":$.status==="completed"?"Terminé":"Arrêté"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold",children:$.medication}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Yt,{className:"h-3 w-3"}),$.petName]}),r.jsxs("span",{children:["Client: ",$.client]}),r.jsxs("span",{children:["Prescrit par: ",$.veterinarian]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dosage:"})," ",$.dosage]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Fréquence:"})," ",$.frequency]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Durée:"})," ",$.duration]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>{A($),C(!0)},children:"Renouveler"}),r.jsx(b_,{prescription:t.find(z=>z.id===$.id)}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>{const z=t.find(le=>le.id===$.id);O(z),D(!0)},children:"Facture"})]})]})})},$.id)):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Date"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Médicament"}),r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Dosage"}),r.jsx("th",{className:"p-4 font-medium",children:"Durée"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:Y.map($=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:new Date($.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"p-4",children:r.jsx(Oe,{variant:"outline",className:q[$.status],children:$.status==="active"?"Actif":$.status==="completed"?"Terminé":"Arrêté"})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-medium",children:$.medication}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Prescrit par: ",$.veterinarian]})]}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"h-4 w-4 text-primary"}),$.petName]})}),r.jsx("td",{className:"p-4",children:$.client}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{children:$.dosage}),r.jsx("div",{className:"text-muted-foreground",children:$.frequency})]})}),r.jsx("td",{className:"p-4",children:$.duration}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>{A($),C(!0)},children:"Renouveler"}),r.jsx(b_,{prescription:t.find(z=>z.id===$.id)}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>{const z=t.find(le=>le.id===$.id);O(z),D(!0)},children:"Facture"})]})})]},$.id))})]})})})})]})]}),r.jsx(h5e,{consultation:j,open:y,onOpenChange:N,onEdit:()=>{}}),r.jsx(Ub,{open:P,onOpenChange:C,petId:(ie=t.find($=>$.id===(_==null?void 0:_.id)))==null?void 0:ie.petId,consultationId:_==null?void 0:_.id}),r.jsx(Ct,{open:E,onOpenChange:D,children:r.jsx(Nt,{children:I&&r.jsx(f5e,{prescription:I})})})]})},x9=({photos:e,onPhotosChange:t,farmName:n})=>{const{toast:s}=Ft(),i=w.useRef(null),[a,o]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState({description:"",category:"general"}),g=P=>{const C=P.target.files;if(!C||C.length===0)return;const _=Array.from(C).map(A=>{const E=new FileReader,D={id:`photo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,url:"",description:f.description||`Photo de ${n}`,category:f.category,uploadedAt:new Date().toISOString()};return E.onload=I=>{var k;D.url=(k=I.target)==null?void 0:k.result;const O=[...e,D];t(O)},E.readAsDataURL(A),D});m({description:"",category:"general"}),o(!1),s({title:"Photos ajoutées",description:`${_.length} photo(s) ajoutée(s) à l'exploitation ${n}`})},x=P=>{const C=e.filter(_=>_.id!==P);t(C),s({title:"Photo supprimée",description:"La photo a été supprimée avec succès"})},v=P=>{d(P),m({description:P.description,category:P.category}),c(!0)},y=()=>{if(!u)return;const P=e.map(C=>C.id===u.id?{...C,...f}:C);t(P),c(!1),d(null),m({description:"",category:"general"}),s({title:"Photo modifiée",description:"La photo a été modifiée avec succès"})},N=P=>({cheptel:"Cheptel",batiments:"Bâtiments",equipements:"Équipements",general:"Général"})[P],j=P=>({cheptel:"bg-blue-100 text-blue-800",batiments:"bg-green-100 text-green-800",equipements:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800"})[P],b=e.reduce((P,C)=>(P[C.category]||(P[C.category]=[]),P[C.category].push(C),P),{});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Photos de l'exploitation"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Gérez les photos de votre exploitation, du cheptel et des équipements"})]}),r.jsxs(Ct,{open:a,onOpenChange:o,children:[r.jsx(Ic,{asChild:!0,children:r.jsxs(W,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Ajouter des photos"]})}),r.jsxs(Nt,{className:"max-w-md",children:[r.jsx(Pt,{children:r.jsx(_t,{children:"Ajouter des photos"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"photo-description",children:"Description"}),r.jsx(se,{id:"photo-description",placeholder:"Description des photos",value:f.description,onChange:P=>m({...f,description:P.target.value})})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"photo-category",children:"Catégorie"}),r.jsxs(Ie,{value:f.category,onValueChange:P=>m({...f,category:P}),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"cheptel",children:"Cheptel"}),r.jsx(K,{value:"batiments",children:"Bâtiments"}),r.jsx(K,{value:"equipements",children:"Équipements"}),r.jsx(K,{value:"general",children:"Général"})]})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"photo-files",children:"Sélectionner des photos"}),r.jsx(se,{id:"photo-files",type:"file",multiple:!0,accept:"image/*",ref:i,onChange:g,className:"cursor-pointer"})]})]})]})]})]}),e.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center",children:[r.jsx(Zh,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoutée"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Commencez par ajouter des photos de votre exploitation"})]})}):r.jsx("div",{className:"space-y-6",children:Object.entries(b).map(([P,C])=>r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(Oe,{className:j(P),children:N(P)}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",C.length," photo",C.length>1?"s":"",")"]})]})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(_=>r.jsxs("div",{className:"group relative",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[r.jsx("img",{src:_.url,alt:_.description,className:"w-full h-full object-cover"}),r.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[r.jsx(W,{size:"sm",variant:"secondary",onClick:()=>d(_),children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"secondary",onClick:()=>v(_),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"destructive",onClick:()=>x(_.id),children:r.jsx(zn,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:_.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(_.uploadedAt).toLocaleDateString()})]})]},_.id))})})]},P))}),r.jsx(Ct,{open:l,onOpenChange:c,children:r.jsxs(Nt,{className:"max-w-md",children:[r.jsx(Pt,{children:r.jsx(_t,{children:"Modifier la photo"})}),r.jsxs("div",{className:"space-y-4",children:[u&&r.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border",children:r.jsx("img",{src:u.url,alt:u.description,className:"w-full h-full object-cover"})}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"edit-description",children:"Description"}),r.jsx(se,{id:"edit-description",value:f.description,onChange:P=>m({...f,description:P.target.value})})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"edit-category",children:"Catégorie"}),r.jsxs(Ie,{value:f.category,onValueChange:P=>m({...f,category:P}),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"cheptel",children:"Cheptel"}),r.jsx(K,{value:"batiments",children:"Bâtiments"}),r.jsx(K,{value:"equipements",children:"Équipements"}),r.jsx(K,{value:"general",children:"Général"})]})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(W,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsx(W,{onClick:y,children:"Enregistrer"})]})]})]})})]})},p5e=({open:e,onOpenChange:t})=>{var N,j,b,P,C,_;const{addFarm:n}=pt(),{settings:s}=Wt(),{toast:i}=Ft(),[a,o]=w.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),[l,c]=w.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!s.farmManagement)return console.error("farmManagement settings not found, using defaults"),r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsx(Nt,{children:r.jsxs(Pt,{children:[r.jsx(_t,{children:"Erreur de configuration"}),r.jsx(Cn,{children:"Les paramètres de gestion des fermes ne sont pas configurés. Veuillez recharger la page ou vérifier les paramètres."})]})})});w.useEffect(()=>{e||(o({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const u=(A,E)=>{if(A.includes(".")){const[D,I]=A.split(".");o(O=>{const k=O[D];return{...O,[D]:{...k,[I]:E}}})}else o(D=>({...D,[A]:E}))},d=A=>{o(E=>{var D;return{...E,types:(D=E.types)!=null&&D.includes(A)?E.types.filter(I=>I!==A):[...E.types||[],A]}})},f=A=>{o(E=>{var D;return{...E,certifications:(D=E.certifications)!=null&&D.includes(A)?E.certifications.filter(I=>I!==A):[...E.certifications||[],A]}})},m=()=>{if(!l.category){i({title:"Erreur",description:"Veuillez sélectionner une catégorie d'animal",variant:"destructive"});return}o(A=>({...A,animalDetails:[...A.animalDetails||[],{...l}]})),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},g=A=>{o(E=>{var D;return{...E,animalDetails:((D=E.animalDetails)==null?void 0:D.filter((I,O)=>O!==A))||[]}})},x=A=>{c(E=>({...E,breeds:[...E.breeds,A]}))},v=A=>{c(E=>({...E,breeds:E.breeds.filter(D=>D!==A)}))},y=A=>{var D;if(A.preventDefault(),!a.name||!a.owner||!a.address||!((D=a.types)!=null&&D.length)){i({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const E={name:a.name,owner:a.owner,ownerIdNumber:a.ownerIdNumber||"",address:a.address,coordinates:a.coordinates||{latitude:0,longitude:0},phone:a.phone||"",email:a.email||"",types:a.types||[],totalAnimals:(a.animalDetails||[]).reduce((I,O)=>I+O.maleCount+O.femaleCount,0),animalDetails:a.animalDetails||[],lastVisit:new Date().toISOString().split("T")[0],status:a.status||"active",veterinarian:a.veterinarian||"",notes:a.notes||"",registrationNumber:a.registrationNumber||"",surfaceArea:a.surfaceArea||0,buildingDetails:a.buildingDetails||"",equipmentDetails:a.equipmentDetails||"",certifications:a.certifications||[],insuranceDetails:a.insuranceDetails||"",emergencyContact:a.emergencyContact||{name:"",phone:"",relation:""}};n(E),i({title:"Succès",description:"Nouvelle exploitation créée avec succès"}),t(!1)};return r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:"Nouvelle Exploitation Agricole"}),r.jsx(Cn,{children:"Créez une nouvelle exploitation agricole avec toutes les informations détaillées"})]}),r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Informations générales"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"name",children:"Nom de l'exploitation *"}),r.jsx(se,{id:"name",value:a.name||"",onChange:A=>u("name",A.target.value),placeholder:"Nom de l'exploitation"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"owner",children:"Propriétaire *"}),r.jsx(se,{id:"owner",value:a.owner||"",onChange:A=>u("owner",A.target.value),placeholder:"Nom du propriétaire"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"ownerIdNumber",children:"N° pièce d'identité du propriétaire"}),r.jsx(se,{id:"ownerIdNumber",value:a.ownerIdNumber||"",onChange:A=>u("ownerIdNumber",A.target.value),placeholder:"Numéro de carte d'identité, passeport, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(U,{htmlFor:"address",children:"Adresse *"}),r.jsx(se,{id:"address",value:a.address||"",onChange:A=>u("address",A.target.value),placeholder:"Adresse complète"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"latitude",children:"Latitude"}),r.jsx(se,{id:"latitude",type:"number",step:"0.0001",value:((N=a.coordinates)==null?void 0:N.latitude)||"",onChange:A=>u("coordinates.latitude",parseFloat(A.target.value)||0),placeholder:"47.9056"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"longitude",children:"Longitude"}),r.jsx(se,{id:"longitude",type:"number",step:"0.0001",value:((j=a.coordinates)==null?void 0:j.longitude)||"",onChange:A=>u("coordinates.longitude",parseFloat(A.target.value)||0),placeholder:"1.9190"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"phone",children:"Téléphone"}),r.jsx(se,{id:"phone",value:a.phone||"",onChange:A=>u("phone",A.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:a.email||"",onChange:A=>u("email",A.target.value),placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"veterinarian",children:"Vétérinaire responsable"}),r.jsx(se,{id:"veterinarian",value:a.veterinarian||"",onChange:A=>u("veterinarian",A.target.value),placeholder:"Vétérinaire"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"status",children:"Statut"}),r.jsxs(Ie,{value:a.status,onValueChange:A=>u("status",A),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"active",children:"Active"}),r.jsx(K,{value:"attention",children:"Attention"}),r.jsx(K,{value:"urgent",children:"Urgent"})]})]})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Types d'élevage *"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.farmManagement.farmTypes.map(A=>{var E;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ki,{id:`type-${A}`,checked:((E=a.types)==null?void 0:E.includes(A))||!1,onCheckedChange:()=>d(A)}),r.jsx(U,{htmlFor:`type-${A}`,children:A})]},A)})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Détails du cheptel"})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(U,{children:"Catégorie"}),r.jsxs(Ie,{value:l.category,onValueChange:A=>c(E=>({...E,category:A})),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner"})}),r.jsx(Me,{children:s.farmManagement.animalCategories.map(A=>r.jsx(K,{value:A,children:A},A))})]})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Mâles"}),r.jsx(se,{type:"number",value:l.maleCount,onChange:A=>c(E=>({...E,maleCount:parseInt(A.target.value)||0})),placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Femelles"}),r.jsx(se,{type:"number",value:l.femaleCount,onChange:A=>c(E=>({...E,femaleCount:parseInt(A.target.value)||0})),placeholder:"0"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(W,{type:"button",onClick:m,className:"w-full",children:"Ajouter"})})]}),l.category&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs(U,{children:["Races pour ",l.category]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(b=s.farmManagement.breedsByCategory[l.category])==null?void 0:b.map(A=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ki,{id:`breed-${A}`,checked:l.breeds.includes(A),onCheckedChange:()=>{l.breeds.includes(A)?v(A):x(A)}}),r.jsx(U,{htmlFor:`breed-${A}`,children:A})]},A))})]}),a.animalDetails&&a.animalDetails.length>0&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(U,{children:"Cheptel configuré"}),r.jsx("div",{className:"mt-2 space-y-2",children:a.animalDetails.map((A,E)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("span",{children:[r.jsx(Oe,{variant:"secondary",children:A.category}),r.jsxs("span",{className:"ml-2",children:[A.maleCount," mâles, ",A.femaleCount," femelles"]}),A.breeds.length>0&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",A.breeds.join(", ")]})]}),r.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>g(E),children:"Supprimer"})]},E))})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Informations administratives"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"registrationNumber",children:"Numéro d'immatriculation"}),r.jsx(se,{id:"registrationNumber",value:a.registrationNumber||"",onChange:A=>u("registrationNumber",A.target.value),placeholder:"Numéro d'immatriculation"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),r.jsx(se,{id:"surfaceArea",type:"number",step:"0.1",value:a.surfaceArea||"",onChange:A=>u("surfaceArea",parseFloat(A.target.value)||0),placeholder:"Surface en hectares"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(U,{htmlFor:"buildingDetails",children:"Détails des bâtiments"}),r.jsx(St,{id:"buildingDetails",value:a.buildingDetails||"",onChange:A=>u("buildingDetails",A.target.value),placeholder:"Description des bâtiments, étables, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(U,{htmlFor:"equipmentDetails",children:"Équipements"}),r.jsx(St,{id:"equipmentDetails",value:a.equipmentDetails||"",onChange:A=>u("equipmentDetails",A.target.value),placeholder:"Liste des équipements disponibles"})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Certifications"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.farmManagement.certificationTypes.map(A=>{var E;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ki,{id:`cert-${A}`,checked:((E=a.certifications)==null?void 0:E.includes(A))||!1,onCheckedChange:()=>f(A)}),r.jsx(U,{htmlFor:`cert-${A}`,children:A})]},A)})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Assurance et contact d'urgence"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(U,{htmlFor:"insuranceDetails",children:"Détails de l'assurance"}),r.jsx(se,{id:"insuranceDetails",value:a.insuranceDetails||"",onChange:A=>u("insuranceDetails",A.target.value),placeholder:"Compagnie d'assurance et numéro de police"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),r.jsx(se,{id:"emergencyName",value:((P=a.emergencyContact)==null?void 0:P.name)||"",onChange:A=>u("emergencyContact.name",A.target.value),placeholder:"Nom du contact"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"emergencyPhone",children:"Téléphone d'urgence"}),r.jsx(se,{id:"emergencyPhone",value:((C=a.emergencyContact)==null?void 0:C.phone)||"",onChange:A=>u("emergencyContact.phone",A.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"emergencyRelation",children:"Relation"}),r.jsx(se,{id:"emergencyRelation",value:((_=a.emergencyContact)==null?void 0:_.relation)||"",onChange:A=>u("emergencyContact.relation",A.target.value),placeholder:"Relation (époux, fils, etc.)"})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Photos de l'exploitation"})}),r.jsx(he,{children:r.jsx(x9,{photos:a.photos||[],onPhotosChange:A=>u("photos",A),farmName:a.name||"Nouvelle exploitation"})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Notes complémentaires"})}),r.jsx(he,{children:r.jsx(St,{value:a.notes||"",onChange:A=>u("notes",A.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(W,{type:"submit",children:"Créer l'exploitation"})]})]})]})})},g5e=({open:e,onOpenChange:t,farmId:n,farmName:s})=>{const{addFarmIntervention:i,farms:a}=pt(),{toast:o}=Ft(),[l,c]=w.useState({farmId:"",farmName:"",date:"",type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""});w.useEffect(()=>{if(e){const m=new Date().toISOString().split("T")[0];c({farmId:(n==null?void 0:n.toString())||"",farmName:s||"",date:m,type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""})}},[e,n,s]);const u=(m,g)=>{c(x=>({...x,[m]:g}))},{settings:d}=Wt(),f=m=>{if(m.preventDefault(),!l.farmId||!l.date||!l.type||!l.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const g=a.find(v=>v.id===parseInt(l.farmId));if(!g){o({title:"Erreur",description:"Exploitation non trouvée",variant:"destructive"});return}const x={farmId:parseInt(l.farmId),farmName:g.name,date:l.date,type:l.type,animals:l.animals,veterinarian:l.veterinarian,description:l.description,status:l.status,followUp:l.followUp,cost:l.cost?parseFloat(l.cost):void 0,notes:l.notes};i(x),o({title:"Succès",description:"Intervention programmée avec succès"}),t(!1)};return r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:"Nouvelle Intervention"}),r.jsx(Cn,{children:"Programmez une nouvelle intervention vétérinaire"})]}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"farmId",children:"Exploitation *"}),r.jsxs(Ie,{value:l.farmId,onValueChange:m=>{const g=a.find(x=>x.id===parseInt(m));u("farmId",m),u("farmName",(g==null?void 0:g.name)||"")},children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner une exploitation"})}),r.jsx(Me,{children:a.map(m=>r.jsx(K,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"date",children:"Date *"}),r.jsx(se,{id:"date",type:"date",value:l.date,onChange:m=>u("date",m.target.value),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"type",children:"Type d'intervention *"}),r.jsxs(Ie,{value:l.type,onValueChange:m=>u("type",m),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner un type"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"vaccination",children:"Vaccination"}),r.jsx(K,{value:"controle",children:"Contrôle sanitaire"}),r.jsx(K,{value:"urgence",children:"Urgence"}),r.jsx(K,{value:"chirurgie",children:"Chirurgie"}),r.jsx(K,{value:"prevention",children:"Prévention"}),r.jsx(K,{value:"consultation",children:"Consultation"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"status",children:"Statut"}),r.jsxs(Ie,{value:l.status,onValueChange:m=>u("status",m),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"scheduled",children:"Programmée"}),r.jsx(K,{value:"ongoing",children:"En cours"}),r.jsx(K,{value:"completed",children:"Terminée"}),r.jsx(K,{value:"cancelled",children:"Annulée"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"animals",children:"Animaux concernés"}),r.jsx(se,{id:"animals",value:l.animals,onChange:m=>u("animals",m.target.value),placeholder:"15 bovins, 50 poules..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"veterinarian",children:"Vétérinaire"}),r.jsx(se,{id:"veterinarian",value:l.veterinarian,onChange:m=>u("veterinarian",m.target.value),placeholder:"Dr. Dupont"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"description",children:"Description *"}),r.jsx(St,{id:"description",value:l.description,onChange:m=>u("description",m.target.value),placeholder:"Détails de l'intervention...",rows:3,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(U,{htmlFor:"cost",children:["Coût (",d.currency,")"]}),r.jsx(se,{id:"cost",type:"number",value:l.cost,onChange:m=>u("cost",m.target.value),placeholder:"0.00",min:"0",step:"0.01"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"followUp",children:"Suivi"}),r.jsx(se,{id:"followUp",value:l.followUp,onChange:m=>u("followUp",m.target.value),placeholder:"Contrôle dans 6 mois"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",value:l.notes,onChange:m=>u("notes",m.target.value),placeholder:"Informations complémentaires...",rows:2})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(W,{type:"submit",children:"Programmer Intervention"})]})]})]})})},v5e=({farm:e,open:t,onOpenChange:n,onEdit:s,onNewIntervention:i})=>{var u;const{getFarmInterventionsByFarmId:a}=pt();if(!e)return null;const o=a(e.id),l={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},c=d=>{switch(d){case"active":return r.jsx(Zn,{className:"h-4 w-4"});case"attention":return r.jsx(Un,{className:"h-4 w-4"});case"urgent":return r.jsx(Un,{className:"h-4 w-4 text-red-600"});default:return r.jsx(In,{className:"h-4 w-4"})}};return r.jsx(Ct,{open:t,onOpenChange:n,children:r.jsxs(Nt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[c(e.status),e.name,r.jsx(Oe,{className:l[e.status],children:e.status==="active"?"Actif":e.status==="attention"?"Attention":"Urgent"})]}),r.jsx(Cn,{children:"Détails complets de l'exploitation agricole"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(Zte,{className:"h-5 w-5"}),"Informations Générales"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Propriétaire"}),r.jsx("p",{className:"font-medium",children:e.owner})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Types d'élevage"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(u=e.types)==null?void 0:u.map(d=>r.jsx(Oe,{variant:"secondary",children:d},d))})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nombre total d'animaux"}),r.jsx("p",{className:"font-medium",children:e.totalAnimals})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vétérinaire"}),r.jsx("p",{className:"font-medium",children:e.veterinarian||"Non assigné"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Dernière visite"}),r.jsx("p",{className:"font-medium",children:lo(e.lastVisit)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Date de création"}),r.jsx("p",{className:"font-medium",children:lo(e.createdAt)})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(cd,{className:"h-3 w-3"}),"Adresse"]}),r.jsx("p",{className:"font-medium",children:e.address})]}),e.coordinates&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Coordonnées GPS"}),r.jsxs("p",{className:"font-mono text-sm",children:[e.coordinates.latitude.toFixed(4),", ",e.coordinates.longitude.toFixed(4)]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(ef,{className:"h-3 w-3"}),"Téléphone"]}),r.jsx("p",{className:"font-medium",children:e.phone||"Non renseigné"})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(zf,{className:"h-3 w-3"}),"Email"]}),r.jsx("p",{className:"font-medium",children:e.email||"Non renseigné"})]})]})]})]}),e.animalDetails&&e.animalDetails.length>0&&r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(ene,{className:"h-5 w-5"}),"Détails du Cheptel"]})}),r.jsx(he,{children:r.jsx("div",{className:"space-y-3",children:e.animalDetails.map((d,f)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Oe,{variant:"secondary",children:d.category}),r.jsxs("span",{className:"text-sm font-medium",children:["Total: ",d.maleCount+d.femaleCount," animaux"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Mâles:"})," ",d.maleCount]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Femelles:"})," ",d.femaleCount]}),d.breeds.length>0&&r.jsxs("div",{className:"md:col-span-3",children:[r.jsx("span",{className:"text-muted-foreground",children:"Races:"})," ",d.breeds.join(", ")]})]})]},f))})})]}),(e.registrationNumber||e.surfaceArea||e.buildingDetails||e.equipmentDetails)&&r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(Ite,{className:"h-5 w-5"}),"Informations Administratives"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.registrationNumber&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"N° d'immatriculation"}),r.jsx("p",{className:"font-medium",children:e.registrationNumber})]}),e.surfaceArea&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Surface"}),r.jsxs("p",{className:"font-medium",children:[e.surfaceArea," hectares"]})]})]}),e.buildingDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Bâtiments"}),r.jsx("p",{className:"font-medium",children:e.buildingDetails})]}),e.equipmentDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Équipements"}),r.jsx("p",{className:"font-medium",children:e.equipmentDetails})]})]})]}),e.certifications&&e.certifications.length>0&&r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(yi,{className:"h-5 w-5"}),"Certifications"]})}),r.jsx(he,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:e.certifications.map(d=>r.jsx(Oe,{variant:"outline",children:d},d))})})]}),(e.insuranceDetails||e.emergencyContact)&&r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(lr,{className:"h-5 w-5"}),"Assurance et Contact d'Urgence"]})}),r.jsxs(he,{className:"space-y-4",children:[e.insuranceDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Assurance"}),r.jsx("p",{className:"font-medium",children:e.insuranceDetails})]}),e.emergencyContact&&e.emergencyContact.name&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contact d'urgence"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Téléphone"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.phone})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Relation"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.relation})]})]})]})]}),e.notes&&r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Notes"})}),r.jsx(he,{children:r.jsx("p",{className:"text-sm",children:e.notes})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Détails du Cheptel"})}),r.jsx(he,{children:e.animalDetails&&e.animalDetails.length>0?r.jsx("div",{className:"space-y-4",children:e.animalDetails.map((d,f)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-semibold text-lg",children:d.category}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Oe,{variant:"secondary",children:[d.maleCount+d.femaleCount," animaux"]}),r.jsxs(Oe,{variant:"outline",children:[d.maleCount," mâles"]}),r.jsxs(Oe,{variant:"outline",children:[d.femaleCount," femelles"]})]})]}),d.breeds&&d.breeds.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Races: "}),d.breeds.map((m,g)=>r.jsx(Oe,{variant:"outline",className:"mr-1 text-xs",children:m},g))]}),d.ageGroups&&d.ageGroups.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Groupes d'âge: "}),d.ageGroups.map((m,g)=>r.jsx(Oe,{variant:"outline",className:"mr-1 text-xs",children:m},g))]})]},f))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucun détail de cheptel configuré pour cette exploitation"})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Photos de l'exploitation"})}),r.jsx(he,{children:e.photos&&e.photos.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.photos.map(d=>r.jsxs("div",{className:"group relative",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[r.jsx("img",{src:d.url,alt:d.description,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx(Oe,{variant:"secondary",className:"text-xs bg-black/70 text-white border-0",children:d.category==="cheptel"?"Cheptel":d.category==="batiments"?"Bâtiments":d.category==="equipements"?"Équipements":"Général"})})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:d.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(d.uploadedAt).toLocaleDateString()})]})]},d.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Zh,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoutée"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Les photos peuvent être ajoutées lors de la modification de l'exploitation"})]})})]}),r.jsxs(ml,{defaultValue:"interventions",className:"w-full",children:[r.jsx(xo,{className:"grid w-full grid-cols-1",children:r.jsxs(ln,{value:"interventions",children:[r.jsx(wt,{className:"h-4 w-4 mr-2"}),"Interventions (",o.length,")"]})}),r.jsx(cn,{value:"interventions",className:"space-y-4",children:r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Interventions vétérinaires"})}),r.jsx(he,{children:o.length>0?r.jsx("div",{className:"space-y-2",children:o.map(d=>r.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:d.type}),r.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:lo(d.date)})]}),r.jsx(Oe,{variant:"outline",children:d.status})]},d.id))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucune intervention enregistrée pour cette exploitation"})})]})})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx(W,{onClick:i,variant:"outline",children:"Nouvelle Intervention"}),r.jsx(W,{onClick:s,children:"Modifier"})]})]})})},x5e=({open:e,onOpenChange:t,farm:n})=>{var j,b,P,C,_,A;const{updateFarm:s}=pt(),{settings:i}=Wt(),{toast:a}=Ft(),[o,l]=w.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),[c,u]=w.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!i.farmManagement)return console.error("farmManagement settings not found, using defaults"),r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsx(Nt,{children:r.jsxs(Pt,{children:[r.jsx(_t,{children:"Erreur de configuration"}),r.jsx(Cn,{children:"Les paramètres de gestion des fermes ne sont pas configurés. Veuillez recharger la page ou vérifier les paramètres."})]})})});w.useEffect(()=>{n&&e&&l({...n,coordinates:n.coordinates||{latitude:0,longitude:0},types:n.types||[],animalDetails:n.animalDetails||[],certifications:n.certifications||[],emergencyContact:n.emergencyContact||{name:"",phone:"",relation:""}})},[n,e]),w.useEffect(()=>{e||(l({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const d=(E,D)=>{if(E.includes(".")){const[I,O]=E.split(".");l(k=>({...k,[I]:{...k[I],[O]:D}}))}else l(I=>({...I,[E]:D}))},f=E=>{l(D=>{var I;return{...D,types:(I=D.types)!=null&&I.includes(E)?D.types.filter(O=>O!==E):[...D.types||[],E]}})},m=E=>{l(D=>{var I;return{...D,certifications:(I=D.certifications)!=null&&I.includes(E)?D.certifications.filter(O=>O!==E):[...D.certifications||[],E]}})},g=()=>{if(!c.category){a({title:"Erreur",description:"Veuillez sélectionner une catégorie d'animal",variant:"destructive"});return}l(E=>({...E,animalDetails:[...E.animalDetails||[],{...c}]})),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},x=E=>{l(D=>{var I;return{...D,animalDetails:((I=D.animalDetails)==null?void 0:I.filter((O,k)=>k!==E))||[]}})},v=E=>{u(D=>({...D,breeds:[...D.breeds,E]}))},y=E=>{u(D=>({...D,breeds:D.breeds.filter(I=>I!==E)}))},N=E=>{var I;if(E.preventDefault(),!n)return;if(!o.name||!o.owner||!o.address||!((I=o.types)!=null&&I.length)){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const D={...n,...o,coordinates:o.coordinates||{latitude:0,longitude:0},types:o.types||[],animalDetails:o.animalDetails||[],totalAnimals:(o.animalDetails||[]).reduce((O,k)=>O+k.maleCount+k.femaleCount,0),certifications:o.certifications||[],emergencyContact:o.emergencyContact||{name:"",phone:"",relation:""}};s(n.id,D),a({title:"Succès",description:"Exploitation mise à jour avec succès"}),t(!1)};return n?r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:"Modifier l'Exploitation"}),r.jsx(Cn,{children:"Modifiez les informations de l'exploitation agricole"})]}),r.jsxs("form",{onSubmit:N,className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Informations générales"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"name",children:"Nom de l'exploitation *"}),r.jsx(se,{id:"name",value:o.name||"",onChange:E=>d("name",E.target.value),placeholder:"Nom de l'exploitation"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"owner",children:"Propriétaire *"}),r.jsx(se,{id:"owner",value:o.owner||"",onChange:E=>d("owner",E.target.value),placeholder:"Nom du propriétaire"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"ownerIdNumber",children:"N° pièce d'identité du propriétaire"}),r.jsx(se,{id:"ownerIdNumber",value:o.ownerIdNumber||"",onChange:E=>d("ownerIdNumber",E.target.value),placeholder:"Numéro de carte d'identité, passeport, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(U,{htmlFor:"address",children:"Adresse *"}),r.jsx(se,{id:"address",value:o.address||"",onChange:E=>d("address",E.target.value),placeholder:"Adresse complète"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"latitude",children:"Latitude"}),r.jsx(se,{id:"latitude",type:"number",step:"0.0001",value:((j=o.coordinates)==null?void 0:j.latitude)||"",onChange:E=>d("coordinates.latitude",parseFloat(E.target.value)||0),placeholder:"47.9056"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"longitude",children:"Longitude"}),r.jsx(se,{id:"longitude",type:"number",step:"0.0001",value:((b=o.coordinates)==null?void 0:b.longitude)||"",onChange:E=>d("coordinates.longitude",parseFloat(E.target.value)||0),placeholder:"1.9190"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"phone",children:"Téléphone"}),r.jsx(se,{id:"phone",value:o.phone||"",onChange:E=>d("phone",E.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:o.email||"",onChange:E=>d("email",E.target.value),placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"veterinarian",children:"Vétérinaire responsable"}),r.jsx(se,{id:"veterinarian",value:o.veterinarian||"",onChange:E=>d("veterinarian",E.target.value),placeholder:"Vétérinaire"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"status",children:"Statut"}),r.jsxs(Ie,{value:o.status,onValueChange:E=>d("status",E),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"active",children:"Active"}),r.jsx(K,{value:"attention",children:"Attention"}),r.jsx(K,{value:"urgent",children:"Urgent"})]})]})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Types d'élevage *"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.farmManagement.farmTypes.map(E=>{var D;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ki,{id:`type-${E}`,checked:((D=o.types)==null?void 0:D.includes(E))||!1,onCheckedChange:()=>f(E)}),r.jsx(U,{htmlFor:`type-${E}`,children:E})]},E)})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Détails du cheptel"})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(U,{children:"Catégorie"}),r.jsxs(Ie,{value:c.category,onValueChange:E=>u(D=>({...D,category:E})),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner"})}),r.jsx(Me,{children:i.farmManagement.animalCategories.map(E=>r.jsx(K,{value:E,children:E},E))})]})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Mâles"}),r.jsx(se,{type:"number",value:c.maleCount,onChange:E=>u(D=>({...D,maleCount:parseInt(E.target.value)||0})),placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Femelles"}),r.jsx(se,{type:"number",value:c.femaleCount,onChange:E=>u(D=>({...D,femaleCount:parseInt(E.target.value)||0})),placeholder:"0"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(W,{type:"button",onClick:g,className:"w-full",children:"Ajouter"})})]}),c.category&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs(U,{children:["Races pour ",c.category]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(P=i.farmManagement.breedsByCategory[c.category])==null?void 0:P.map(E=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ki,{id:`breed-${E}`,checked:c.breeds.includes(E),onCheckedChange:()=>{c.breeds.includes(E)?y(E):v(E)}}),r.jsx(U,{htmlFor:`breed-${E}`,children:E})]},E))})]}),o.animalDetails&&o.animalDetails.length>0&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(U,{children:"Cheptel configuré"}),r.jsx("div",{className:"mt-2 space-y-2",children:o.animalDetails.map((E,D)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("span",{children:[r.jsx(Oe,{variant:"secondary",children:E.category}),r.jsxs("span",{className:"ml-2",children:[E.maleCount," mâles, ",E.femaleCount," femelles"]}),E.breeds.length>0&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",E.breeds.join(", ")]})]}),r.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>x(D),children:"Supprimer"})]},D))})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Informations administratives"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"registrationNumber",children:"Numéro d'immatriculation"}),r.jsx(se,{id:"registrationNumber",value:o.registrationNumber||"",onChange:E=>d("registrationNumber",E.target.value),placeholder:"Numéro d'immatriculation"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),r.jsx(se,{id:"surfaceArea",type:"number",step:"0.1",value:o.surfaceArea||"",onChange:E=>d("surfaceArea",parseFloat(E.target.value)||0),placeholder:"Surface en hectares"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(U,{htmlFor:"buildingDetails",children:"Détails des bâtiments"}),r.jsx(St,{id:"buildingDetails",value:o.buildingDetails||"",onChange:E=>d("buildingDetails",E.target.value),placeholder:"Description des bâtiments, étables, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(U,{htmlFor:"equipmentDetails",children:"Équipements"}),r.jsx(St,{id:"equipmentDetails",value:o.equipmentDetails||"",onChange:E=>d("equipmentDetails",E.target.value),placeholder:"Liste des équipements disponibles"})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Certifications"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.farmManagement.certificationTypes.map(E=>{var D;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ki,{id:`cert-${E}`,checked:((D=o.certifications)==null?void 0:D.includes(E))||!1,onCheckedChange:()=>m(E)}),r.jsx(U,{htmlFor:`cert-${E}`,children:E})]},E)})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Assurance et contact d'urgence"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(U,{htmlFor:"insuranceDetails",children:"Détails de l'assurance"}),r.jsx(se,{id:"insuranceDetails",value:o.insuranceDetails||"",onChange:E=>d("insuranceDetails",E.target.value),placeholder:"Compagnie d'assurance et numéro de police"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),r.jsx(se,{id:"emergencyName",value:((C=o.emergencyContact)==null?void 0:C.name)||"",onChange:E=>d("emergencyContact.name",E.target.value),placeholder:"Nom du contact"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"emergencyPhone",children:"Téléphone d'urgence"}),r.jsx(se,{id:"emergencyPhone",value:((_=o.emergencyContact)==null?void 0:_.phone)||"",onChange:E=>d("emergencyContact.phone",E.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"emergencyRelation",children:"Relation"}),r.jsx(se,{id:"emergencyRelation",value:((A=o.emergencyContact)==null?void 0:A.relation)||"",onChange:E=>d("emergencyContact.relation",E.target.value),placeholder:"Relation (époux, fils, etc.)"})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Photos de l'exploitation"})}),r.jsx(he,{children:r.jsx(x9,{photos:o.photos||[],onPhotosChange:E=>d("photos",E),farmName:o.name||"Exploitation"})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Notes complémentaires"})}),r.jsx(he,{children:r.jsx(St,{value:o.notes||"",onChange:E=>d("notes",E.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(W,{type:"submit",children:"Mettre à jour l'exploitation"})]})]})]})}):null},y5e=({open:e,onOpenChange:t,intervention:n})=>{const{updateFarmIntervention:s,farms:i}=pt(),{toast:a}=Ft(),[o,l]=w.useState({farmId:"",type:"",date:"",animals:"",description:"",veterinarian:"",status:"scheduled",followUp:"",cost:""});w.useEffect(()=>{n&&e&&l({farmId:n.farmId.toString(),type:n.type,date:n.date,animals:n.animals,description:n.description,veterinarian:n.veterinarian,status:n.status,followUp:n.followUp||"",cost:n.cost||""})},[n,e]);const c=(f,m)=>{l(g=>({...g,[f]:m}))},u=f=>{if(f.preventDefault(),!n)return;if(!o.farmId||!o.type||!o.date||!o.animals||!o.description){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const m={farmId:parseInt(o.farmId),type:o.type,date:o.date,animals:o.animals,description:o.description,veterinarian:o.veterinarian,status:o.status,followUp:o.followUp,cost:o.cost};s(n.id,m),a({title:"Succès",description:"Intervention mise à jour avec succès"}),t(!1)};if(!n)return null;const d=i.find(f=>f.id===parseInt(o.farmId));return r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:"Modifier l'Intervention"}),r.jsxs(Cn,{children:["Modifiez les informations de l'intervention du ",new Date(n.date).toLocaleDateString("fr-FR")]})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Exploitation *"}),r.jsxs(Ie,{value:o.farmId,onValueChange:f=>c("farmId",f),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner l'exploitation"})}),r.jsx(Me,{children:i.map(f=>r.jsxs(K,{value:f.id.toString(),children:[f.name," - ",f.owner]},f.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Type d'intervention *"}),r.jsxs(Ie,{value:o.type,onValueChange:f=>c("type",f),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner le type"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"vaccination",children:"Vaccination"}),r.jsx(K,{value:"controle",children:"Contrôle sanitaire"}),r.jsx(K,{value:"urgence",children:"Urgence"}),r.jsx(K,{value:"chirurgie",children:"Chirurgie"}),r.jsx(K,{value:"prevention",children:"Prévention"}),r.jsx(K,{value:"consultation",children:"Consultation"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"date",children:"Date *"}),r.jsx(se,{id:"date",type:"date",value:o.date,onChange:f=>c("date",f.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Statut"}),r.jsxs(Ie,{value:o.status,onValueChange:f=>c("status",f),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"scheduled",children:"Programmé"}),r.jsx(K,{value:"ongoing",children:"En cours"}),r.jsx(K,{value:"completed",children:"Terminé"}),r.jsx(K,{value:"cancelled",children:"Annulé"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"animals",children:"Animaux concernés *"}),r.jsx(se,{id:"animals",value:o.animals,onChange:f=>c("animals",f.target.value),placeholder:"ex: 50 vaches, 100 porcs...",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"veterinarian",children:"Vétérinaire *"}),r.jsx(se,{id:"veterinarian",value:o.veterinarian,onChange:f=>c("veterinarian",f.target.value),required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"description",children:"Description *"}),r.jsx(St,{id:"description",value:o.description,onChange:f=>c("description",f.target.value),rows:3,placeholder:"Détails de l'intervention, observations, traitements...",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"followUp",children:"Suivi recommandé"}),r.jsx(St,{id:"followUp",value:o.followUp,onChange:f=>c("followUp",f.target.value),rows:2,placeholder:"Recommandations, prochain contrôle..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"cost",children:"Coût (€)"}),r.jsx(se,{id:"cost",type:"number",value:o.cost,onChange:f=>c("cost",f.target.value),min:"0",step:"0.01",placeholder:"0.00"})]})]}),d&&r.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Informations de l'exploitation"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Nom:"})," ",d.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Propriétaire:"})," ",d.owner]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type:"})," ",d.type]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Adresse:"})," ",d.address]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(W,{type:"submit",children:"Mettre à jour"})]})]})]})})},j5e=()=>{const{farms:e,farmInterventions:t,deleteFarm:n,deleteFarmIntervention:s,getFarmsByStatus:i,getUpcomingFarmInterventions:a}=pt(),{toast:o}=Ft(),{currentView:l}=yd("farms"),[c,u]=w.useState(""),[d,f]=w.useState("all"),[m,g]=w.useState(l),[x,v]=w.useState(!1),[y,N]=w.useState(!1),[j,b]=w.useState(!1),[P,C]=w.useState(!1),[_,A]=w.useState(!1),[E,D]=w.useState(null),[I,O]=w.useState(null),k=e.filter(B=>{var re,V;const me=B.name.toLowerCase().includes(c.toLowerCase())||B.owner.toLowerCase().includes(c.toLowerCase())||((re=B.types)==null?void 0:re.some(Z=>Z.toLowerCase().includes(c.toLowerCase())))||!1,ve=d==="all"||((V=B.types)==null?void 0:V.includes(d))||!1;return me&&ve}),F={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},L={"Bovin laitier":"Élevage bovin laitier","Bovin viande":"Élevage bovin viande",Porcin:"Élevage porcin",Avicole:"Élevage avicole",Ovin:"Élevage ovin",Caprin:"Élevage caprin",Équin:"Élevage équin",Apiculture:"Apiculture",Aquaculture:"Aquaculture",Cuniculture:"Cuniculture",Mixte:"Élevage mixte"},Y={vaccination:"Vaccination",controle:"Contrôle sanitaire",urgence:"Urgence",chirurgie:"Chirurgie",prevention:"Prévention",consultation:"Consultation"},q=B=>{D(B),b(!0)},ie=B=>{D(B),C(!0)},$=B=>{confirm("Êtes-vous sûr de vouloir supprimer cette exploitation ?")&&(n(B),o({title:"Succès",description:"Exploitation supprimée"}))},z=B=>{N(!0)},le=B=>{confirm("Êtes-vous sûr de vouloir supprimer cette intervention ?")&&(s(B),o({title:"Succès",description:"Intervention supprimée"}))},pe=B=>{O(B),A(!0)},ee=i("attention").length+i("urgent").length,J=a();return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Exploitations"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez les fermes, élevages et interventions vétérinaires"})]}),r.jsxs(W,{className:"gap-2 medical-glow",onClick:()=>v(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle Exploitation"]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center",children:[r.jsx(QC,{className:"h-12 w-12 text-primary mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:e.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Exploitations"})]})}),r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center",children:[r.jsx(Un,{className:"h-12 w-12 text-accent mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:ee}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Alertes actives"})]})}),r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center",children:[r.jsx(wt,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:J.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Interventions à venir"})]})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx(se,{placeholder:"Rechercher par nom, propriétaire ou type...",value:c,onChange:B=>u(B.target.value),className:"max-w-md"}),r.jsxs(Ie,{value:d,onValueChange:f,children:[r.jsx(De,{className:"w-48",children:r.jsx($e,{placeholder:"Type d'élevage"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Tous types"}),r.jsx(K,{value:"Bovin laitier",children:"Élevage bovin laitier"}),r.jsx(K,{value:"Bovin viande",children:"Élevage bovin viande"}),r.jsx(K,{value:"Porcin",children:"Élevage porcin"}),r.jsx(K,{value:"Avicole",children:"Élevage avicole"}),r.jsx(K,{value:"Ovin",children:"Élevage ovin"}),r.jsx(K,{value:"Caprin",children:"Élevage caprin"}),r.jsx(K,{value:"Équin",children:"Élevage équin"}),r.jsx(K,{value:"Apiculture",children:"Apiculture"}),r.jsx(K,{value:"Aquaculture",children:"Aquaculture"}),r.jsx(K,{value:"Cuniculture",children:"Cuniculture"}),r.jsx(K,{value:"Mixte",children:"Élevage mixte"})]})]})]})})]}),r.jsxs(ml,{defaultValue:"farms",className:"space-y-6",children:[r.jsxs(xo,{className:"grid w-full grid-cols-2",children:[r.jsxs(ln,{value:"farms",className:"gap-2",children:[r.jsx(QC,{className:"h-4 w-4"}),"Exploitations"]}),r.jsxs(ln,{value:"interventions",className:"gap-2",children:[r.jsx(wt,{className:"h-4 w-4"}),"Interventions"]})]}),r.jsxs(cn,{value:"farms",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Exploitations (",k.length,")"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{size:"sm",variant:m==="cards"?"default":"outline",onClick:()=>g("cards"),className:"gap-2",children:[r.jsx(sl,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(W,{size:"sm",variant:m==="table"?"default":"outline",onClick:()=>g("table"),className:"gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(W,{onClick:()=>N(!0),className:"gap-2",children:[r.jsx(pr,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]})]}),k.length===0?r.jsx(de,{children:r.jsx(he,{className:"p-6 text-center text-muted-foreground",children:"Aucune exploitation trouvée"})}):m==="cards"?k.map(B=>{var me;return r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-xl font-semibold",children:B.name}),r.jsx(Oe,{variant:"outline",className:F[B.status],children:B.status==="active"?"Actif":B.status==="attention"?"Attention":"Urgent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Propriétaire:"})," ",B.owner]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(cd,{className:"h-3 w-3"}),B.address]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(ef,{className:"h-3 w-3"}),B.phone]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Types:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(me=B.types)==null?void 0:me.map(ve=>r.jsx(Oe,{variant:"secondary",className:"text-xs",children:L[ve]||ve},ve))})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Animaux:"})," ",B.totalAnimals]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vétérinaire:"})," ",B.veterinarian]})]})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernière visite: ",lo(B.lastVisit)]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>q(B),children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>ie(B),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",onClick:()=>z(),children:r.jsx(pr,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"destructive",onClick:()=>$(B.id),children:r.jsx(zn,{className:"h-4 w-4"})})]})]})})},B.id)}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Exploitation"}),r.jsx("th",{className:"p-4 font-medium",children:"Propriétaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),r.jsx("th",{className:"p-4 font-medium",children:"Contact"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:k.map(B=>{var me;return r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:B.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:B.address})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:B.owner}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Vét: ",B.veterinarian]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:(me=B.types)==null?void 0:me.map(ve=>r.jsx(Oe,{variant:"secondary",className:"text-xs",children:L[ve]||ve},ve))})}),r.jsx("td",{className:"p-4",children:r.jsx(Oe,{variant:"outline",className:F[B.status],children:B.status==="active"?"Actif":B.status==="attention"?"Attention":"Urgent"})}),r.jsx("td",{className:"p-4",children:B.totalAnimals}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ef,{className:"h-3 w-3"}),B.phone]}),r.jsxs("div",{className:"text-muted-foreground",children:["Dernière visite: ",lo(B.lastVisit)]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>q(B),children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>ie(B),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",onClick:()=>z(),children:r.jsx(pr,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"destructive",onClick:()=>$(B.id),children:r.jsx(zn,{className:"h-4 w-4"})})]})})]},B.id)})})]})})})})]}),r.jsxs(cn,{value:"interventions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Interventions récentes (",t.length,")"]}),r.jsxs(W,{onClick:()=>N(!0),className:"gap-2",children:[r.jsx(pr,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]}),t.length===0?r.jsx(de,{children:r.jsx(he,{className:"p-6 text-center text-muted-foreground",children:"Aucune intervention enregistrée"})}):t.map(B=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-lg font-semibold",children:Y[B.type]}),r.jsx(Oe,{variant:"outline",className:B.status==="completed"?"bg-green-100 text-green-800":B.status==="ongoing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",children:B.status==="completed"?"Terminé":B.status==="ongoing"?"En cours":B.status==="scheduled"?"Programmé":"Annulé"})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(wt,{className:"h-3 w-3"}),lo(B.date)]}),r.jsx("span",{children:B.farmName}),r.jsx("span",{children:B.veterinarian})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Animaux concernés:"})," ",B.animals]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Suivi:"})," ",B.followUp||"Aucun"]})]}),r.jsx("p",{className:"text-sm",children:B.description}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[r.jsx(W,{size:"sm",variant:"outline",children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>pe(B),children:r.jsx(en,{className:"h-4 w-4"})}),B.status==="ongoing"&&r.jsx(W,{size:"sm",children:r.jsx(pr,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"destructive",onClick:()=>le(B.id),children:r.jsx(zn,{className:"h-4 w-4"})})]})]})})},B.id))]})]}),r.jsx(p5e,{open:x,onOpenChange:v}),r.jsx(g5e,{open:y,onOpenChange:N,farmId:E==null?void 0:E.id,farmName:E==null?void 0:E.name}),r.jsx(v5e,{farm:E,open:j,onOpenChange:b,onEdit:()=>ie(E),onNewIntervention:()=>{b(!1),N(!0)}}),r.jsx(x5e,{farm:E,open:P,onOpenChange:C}),r.jsx(y5e,{intervention:I,open:_,onOpenChange:A})]})};var Rw="Switch",[b5e,A6e]=Zs(Rw),[w5e,N5e]=b5e(Rw),y9=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,g]=w.useState(null),x=Xt(t,b=>g(b)),v=w.useRef(!1),y=m?d||!!m.closest("form"):!0,[N,j]=mo({prop:i,defaultProp:a??!1,onChange:u,caller:Rw});return r.jsxs(w5e,{scope:n,checked:N,disabled:l,children:[r.jsx(it.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":N9(N),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:He(e.onClick,b=>{j(P=>!P),y&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),y&&r.jsx(w9,{control:m,bubbles:!v.current,name:s,value:c,checked:N,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});y9.displayName=Rw;var j9="SwitchThumb",b9=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,i=N5e(j9,n);return r.jsx(it.span,{"data-state":N9(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});b9.displayName=j9;var S5e="SwitchBubbleInput",w9=w.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...i},a)=>{const o=w.useRef(null),l=Xt(o,a),c=pE(n),u=RA(t);return w.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const x=new Event("click",{bubbles:s});g.call(d,n),d.dispatchEvent(x)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});w9.displayName=S5e;function N9(e){return e?"checked":"unchecked"}var S9=y9,C5e=b9;const Lr=w.forwardRef(({className:e,...t},n)=>r.jsx(S9,{className:Ze("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(C5e,{className:Ze("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Lr.displayName=S9.displayName;function JS({children:e,protocol:t,mode:n}){const{addVaccinationProtocol:s,updateVaccinationProtocol:i}=pt(),{settings:a}=Wt(),{toast:o}=Ft(),[l,c]=w.useState(!1),[u,d]=w.useState({name:"",species:"",vaccineType:"",description:"",manufacturer:"",intervals:[{offsetDays:365,label:"1 an (intervalle par défaut)"}],ageRequirement:"",notes:"",isActive:!0});w.useEffect(()=>{n==="edit"&&t&&d({name:t.name,species:t.species,vaccineType:t.vaccineType,description:t.description,manufacturer:t.manufacturer||"",intervals:t.intervals||[],ageRequirement:t.ageRequirement||"",notes:t.notes||"",isActive:t.isActive})},[n,t]);const f=g=>{if(g.preventDefault(),!u.name||!u.species||!u.vaccineType||!u.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}n==="create"?(s({name:u.name,species:u.species,vaccineType:u.vaccineType,description:u.description,manufacturer:u.manufacturer,intervals:u.intervals,ageRequirement:u.ageRequirement,notes:u.notes,isActive:u.isActive}),o({title:"Protocole créé",description:`Le protocole ${u.name} a été créé avec succès`})):t&&(i(t.id,{name:u.name,species:u.species,vaccineType:u.vaccineType,description:u.description,manufacturer:u.manufacturer,intervals:u.intervals,ageRequirement:u.ageRequirement,notes:u.notes,isActive:u.isActive}),o({title:"Protocole modifié",description:`Le protocole ${u.name} a été modifié avec succès`})),d({name:"",species:"",vaccineType:"",description:"",manufacturer:"",intervals:[{offsetDays:365,label:"1 an (intervalle par défaut)"}],ageRequirement:"",notes:"",isActive:!0}),c(!1)},m=a.species?a.species.split(",").map(g=>g.trim()):["Chien","Chat","Furet","Lapin","Oiseau","Rongeur"];return r.jsxs(Ct,{open:l,onOpenChange:c,children:[r.jsx(Ic,{asChild:!0,children:e||r.jsxs(W,{className:"gap-2",children:[n==="create"?r.jsx(ft,{className:"h-4 w-4"}):r.jsx(en,{className:"h-4 w-4"}),n==="create"?"Nouveau Protocole":"Modifier"]})}),r.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pt,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(yi,{className:"h-5 w-5"}),n==="create"?"Nouveau Protocole Vaccinal":"Modifier le Protocole"]})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"name",children:"Nom du vaccin *"}),r.jsx(se,{id:"name",value:u.name,onChange:g=>d(x=>({...x,name:g.target.value})),placeholder:"Ex: DHPP, FVRCP, Rage...",required:!0})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"species",children:"Espèce *"}),r.jsxs(Ie,{value:u.species,onValueChange:g=>d(x=>({...x,species:g})),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner une espèce"})}),r.jsx(Me,{children:m.map(g=>r.jsx(K,{value:g,children:g},g))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"vaccineType",children:"Type de vaccin *"}),r.jsxs(Ie,{value:u.vaccineType,onValueChange:g=>d(x=>({...x,vaccineType:g})),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Type de vaccin"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"core",children:"Essentiel (Core)"}),r.jsx(K,{value:"non-core",children:"Optionnel (Non-core)"}),r.jsx(K,{value:"rabies",children:"Rage"}),r.jsx(K,{value:"custom",children:"Personnalisé"})]})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(se,{id:"manufacturer",value:u.manufacturer,onChange:g=>d(x=>({...x,manufacturer:g.target.value})),placeholder:"Ex: Zoetis, Merial, Virbac..."})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"description",children:"Description *"}),r.jsx(St,{id:"description",value:u.description,onChange:g=>d(x=>({...x,description:g.target.value})),placeholder:"Description du vaccin et des maladies qu'il prévient...",rows:3,required:!0})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(U,{children:"Étapes du protocole"}),(u.intervals||[]).map((g,x)=>{let v=g.offsetDays,y="days";g.offsetDays%30===0&&g.offsetDays!==0?(v=g.offsetDays/30,y="months"):g.offsetDays%7===0&&g.offsetDays!==0&&(v=g.offsetDays/7,y="weeks");const N=`${v} ${y==="weeks"?"semaine(s)":y==="months"?"mois":"jour(s)"}`;return r.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center",children:[r.jsx(se,{type:"number",min:0,value:v,onChange:j=>{const b=parseInt(j.target.value)||0,P=y==="weeks"?b*7:y==="months"?b*30:b;d(C=>{const _=[...C.intervals];return _[x].offsetDays=P,{...C,intervals:_}})}}),r.jsxs(Ie,{value:y,onValueChange:j=>{const b=j,P=b==="weeks"?v*7:b==="months"?v*30:v;d(C=>{const _=[...C.intervals];return _[x].offsetDays=P,{...C,intervals:_}})},children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"days",children:"Jours"}),r.jsx(K,{value:"weeks",children:"Semaines"}),r.jsx(K,{value:"months",children:"Mois"})]})]}),r.jsx("div",{className:"p-2",children:N}),r.jsx(W,{type:"button",variant:"outline",size:"icon",onClick:()=>{d(j=>{const b=j.intervals.filter((P,C)=>C!==x);return{...j,intervals:b}})},children:"❌"})]},x)}),r.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:()=>d(g=>({...g,intervals:[...g.intervals||[],{offsetDays:0}]})),children:[r.jsx(ft,{className:"h-4 w-4"})," Ajouter une étape"]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"ageRequirement",children:"Âge requis"}),r.jsx(se,{id:"ageRequirement",value:u.ageRequirement,onChange:g=>d(x=>({...x,ageRequirement:g.target.value})),placeholder:"Ex: À partir de 6 semaines"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"notes",children:"Notes supplémentaires"}),r.jsx(St,{id:"notes",value:u.notes,onChange:g=>d(x=>({...x,notes:g.target.value})),placeholder:"Informations complémentaires, contre-indications, etc...",rows:2})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Lr,{id:"isActive",checked:u.isActive,onCheckedChange:g=>d(x=>({...x,isActive:g}))}),r.jsx(U,{htmlFor:"isActive",children:"Protocole actif"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsxs(W,{type:"submit",children:[r.jsx(yi,{className:"h-4 w-4 mr-2"}),n==="create"?"Créer le protocole":"Modifier le protocole"]})]})]})]})]})}const H3=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},G3=e=>{switch(e){case"completed":return r.jsx(Zn,{className:"h-4 w-4"});case"overdue":return r.jsx(Un,{className:"h-4 w-4"});case"scheduled":return r.jsx(In,{className:"h-4 w-4"});case"missed":return r.jsx(Un,{className:"h-4 w-4"});default:return r.jsx(In,{className:"h-4 w-4"})}},P5e=()=>{const{vaccinations:e,pets:t,clients:n}=pt(),s=w.useMemo(()=>e.map(o=>{var l,c;return{id:o.id,type:"vaccination",title:o.vaccineName,date:o.nextDueDate,status:o.status,clientName:(l=n.find(u=>u.id===o.clientId))==null?void 0:l.name,petName:(c=t.find(u=>u.id===o.petId))==null?void 0:c.name}}),[e,n,t]),i=o=>{},a=o=>{};return r.jsx(Fk,{events:s,onEventClick:i,onDateClick:a,title:"Calendrier Vaccinal",icon:r.jsx(wt,{className:"h-5 w-5"})})};function _5e(){var gs;const{vaccinations:e,pets:t,clients:n,vaccinationProtocols:s,getVaccinationsByPetId:i,getOverdueVaccinations:a,getUpcomingVaccinations:o,getVaccinationsByStatus:l,getActiveVaccinationProtocols:c,getVaccinationProtocolsBySpecies:u,deleteVaccinationProtocol:d,deleteVaccination:f,updateVaccination:m}=pt(),{settings:g}=Wt(),{currentView:x}=yd("vaccinations"),{toast:v}=Ft(),[y,N]=w.useState(x),[j,b]=w.useState(""),[P,C]=w.useState("all"),[_,A]=w.useState("all"),[E,D]=w.useState("all"),[I,O]=w.useState("overview"),[k,F]=w.useState(!1),[L,Y]=w.useState(null),[q,ie]=w.useState(null),[$,z]=w.useState(null),[le,pe]=w.useState(null),[ee,J]=w.useState(!1),[B,me]=w.useState(!1),[ve,re]=w.useState(null),V=w.useRef(null),[Z,ye]=w.useState(null),[te,M]=w.useState(!1),[je,we]=w.useState(!1),[Fe,Be]=w.useState(null),[at,lt]=w.useState(""),ut=()=>{if(!Fe)return;const{id:Se,field:Vt}=Fe,nt=e.find(mt=>mt.id===Se);if(nt){const mt={...nt,[Vt]:at};m(Se,mt),v({title:"Modifié",description:`${Vt} mis à jour`})}Be(null)},Ne=Lk.useReactToPrint({contentRef:V,onAfterPrint:()=>F(!1)}),Ge=(Se,Vt)=>{m(Se,{status:Vt}),z(null),v({title:"Statut mis à jour",description:`Le statut de la vaccination a été changé en "${{completed:"Terminée",scheduled:"Planifiée",overdue:"En retard",missed:"Manquée"}[Vt]}"`})},Ke=Se=>{pe(Se),J(!0)},qt=Se=>{re(Se),me(!0)},Kn=()=>{if(ve){f(ve.id);const Se=ve.vaccinationCategory==="reminder"?"rappel":"vaccination",Vt=ve.vaccinationCategory==="new"?e.filter(nt=>nt.originalVaccinationId===ve.id).length:0;v({title:`${Se.charAt(0).toUpperCase()+Se.slice(1)} supprimée`,description:ve.vaccinationCategory==="new"&&Vt>0?`La vaccination ${ve.vaccineName} et ses ${Vt} rappel(s) ont été supprimés avec succès.`:`Le ${Se} ${ve.vaccineName} a été supprimé avec succès.`}),me(!1),re(null)}},kt=()=>{J(!1),pe(null)},wn=w.useMemo(()=>{const Se=e.length,Vt=l("completed").length,nt=a().length,mt=o().length,rn=l("scheduled").length,is=e.filter(Rs=>Rs.vaccinationCategory==="reminder").length,Yr=e.filter(Rs=>Rs.vaccinationCategory==="new").length;return{total:Se,completed:Vt,overdue:nt,upcoming:mt,scheduled:rn,reminders:is,originalVaccinations:Yr}},[e,l,a,o]),cr=w.useMemo(()=>e.filter(Se=>{const Vt=Se.petName.toLowerCase().includes(j.toLowerCase())||Se.clientName.toLowerCase().includes(j.toLowerCase())||Se.vaccineName.toLowerCase().includes(j.toLowerCase())||Se.veterinarian.toLowerCase().includes(j.toLowerCase()),nt=P==="all"||Se.status===P,mt=_==="all"||Se.vaccineType===_,rn=E==="all"||Se.vaccinationCategory===E;return Vt&&nt&&mt&&rn}),[e,j,P,_,E]),Yn=()=>{const Se=JSON.stringify(e,null,2),Vt=new Blob([Se],{type:"application/json"}),nt=URL.createObjectURL(Vt),mt=document.createElement("a");mt.href=nt,mt.download=`vaccinations-${It(new Date,"yyyy-MM-dd")}.json`,mt.click(),URL.revokeObjectURL(nt)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(As,{className:"h-8 w-8 text-blue-600"}),"Gestion Vaccinale"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Suivi et planification des vaccinations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(W,{onClick:Yn,variant:"outline",className:"gap-2",children:[r.jsx(PA,{className:"h-4 w-4"}),"Exporter"]}),r.jsx(T0,{})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx(As,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:wn.total})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:r.jsx(Zn,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Terminées"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:wn.completed})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:r.jsx(Un,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En Retard"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:wn.overdue})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:r.jsx(In,{className:"h-6 w-6 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prochaines 30j"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:wn.upcoming})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:r.jsx(wt,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiées"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:wn.scheduled})]})]})})})]}),r.jsxs(ml,{value:I,onValueChange:O,children:[r.jsxs(xo,{className:"grid w-full grid-cols-4",children:[r.jsxs(ln,{value:"overview",className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(ln,{value:"calendar",className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-4 w-4"}),"Calendrier"]}),r.jsxs(ln,{value:"protocols",className:"flex items-center gap-2",children:[r.jsx(yi,{className:"h-4 w-4"}),"Protocoles"]}),r.jsxs(ln,{value:"certificates",className:"flex items-center gap-2",children:[r.jsx(lr,{className:"h-4 w-4"}),"Certificats"]})]}),r.jsxs(cn,{value:"overview",className:"space-y-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(se,{placeholder:"Rechercher animal, client, vaccin...",value:j,onChange:Se=>b(Se.target.value),className:"pl-10"})]}),r.jsxs(Ie,{value:P,onValueChange:C,children:[r.jsx(De,{className:"w-[150px]",children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Tous statuts"}),r.jsx(K,{value:"completed",children:"Terminées"}),r.jsx(K,{value:"scheduled",children:"Planifiées"}),r.jsx(K,{value:"overdue",children:"En retard"}),r.jsx(K,{value:"missed",children:"Manquées"})]})]}),r.jsxs(Ie,{value:_,onValueChange:A,children:[r.jsx(De,{className:"w-[150px]",children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Tous types"}),r.jsx(K,{value:"core",children:"Essentiels"}),r.jsx(K,{value:"non-core",children:"Optionnels"}),r.jsx(K,{value:"rabies",children:"Rage"}),r.jsx(K,{value:"custom",children:"Personnalisés"})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(Ie,{value:E,onValueChange:D,children:[r.jsx(De,{className:"w-[150px]",children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Toutes catégories"}),r.jsx(K,{value:"new",children:"Vaccinations"}),r.jsx(K,{value:"reminder",children:"Rappels"})]})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W,{variant:y==="cards"?"default":"outline",size:"sm",onClick:()=>N("cards"),children:r.jsx(sl,{className:"h-4 w-4"})}),r.jsx(W,{variant:y==="table"?"default":"outline",size:"sm",onClick:()=>N("table"),children:r.jsx(il,{className:"h-4 w-4"})})]})]})})}),y==="cards"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:cr.map(Se=>{const Vt=t.find(mt=>mt.id===Se.petId),nt=n.find(mt=>mt.id===Se.clientId);return r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Hr,{className:"h-10 w-10",children:[r.jsx(ll,{src:Vt==null?void 0:Vt.photo}),r.jsx(Gr,{children:r.jsx(pu,{className:"h-5 w-5"})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm",children:Se.petName}),r.jsxs("p",{className:"text-xs text-gray-600",children:[Vt==null?void 0:Vt.type," • ",nt==null?void 0:nt.name]})]})]}),$===Se.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Ie,{value:Se.status,onValueChange:mt=>Ge(Se.id,mt),children:[r.jsx(De,{className:"w-32",children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"completed",children:"Terminée"}),r.jsx(K,{value:"scheduled",children:"Planifiée"}),r.jsx(K,{value:"overdue",children:"En retard"}),r.jsx(K,{value:"missed",children:"Manquée"})]})]}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>z(null),children:"Annuler"})]}):r.jsxs(Oe,{className:`${H3(Se.status)} cursor-pointer hover:opacity-80`,onClick:()=>z(Se.id),children:[G3(Se.status),r.jsx("span",{className:"ml-1 capitalize",children:Se.status})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(As,{className:`h-4 w-4 ${Se.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),r.jsxs("span",{className:"font-medium text-sm",children:[Se.vaccineName,Se.vaccinationCategory==="reminder"&&r.jsx("span",{className:"ml-2 text-xs text-orange-600 font-normal",children:"(Rappel)"})]}),r.jsx(Oe,{variant:"outline",className:"text-xs",children:Se.vaccineType}),Se.vaccinationCategory==="reminder"&&r.jsx(Oe,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(wt,{className:"h-4 w-4"}),r.jsxs("span",{children:["Date d'administration: ",It(new Date(Se.dateGiven),"dd/MM/yyyy",{locale:Wi})]})]}),Se.vaccinationCategory==="new"&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(In,{className:"h-4 w-4"}),r.jsxs("span",{children:["Prochain rappel: ",It(new Date(Se.nextDueDate),"dd/MM/yyyy",{locale:Wi})]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(ka,{className:"h-4 w-4"}),r.jsx("span",{children:Se.veterinarian})]}),Se.cost&&r.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:r.jsxs("span",{className:"font-medium",children:[Se.cost," ",g.currency]})}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:Se.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-green-600"}),r.jsx(Oe,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Se.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Se.stockQuantity,")"]})]}):Se.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-3 border-t",children:[r.jsxs(W,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{ye(Se),M(!0)},children:[r.jsx(ns,{className:"h-4 w-4 mr-1"}),"Détails"]}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>{ye(Se),we(!0)},children:r.jsx(lr,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>Ke(Se),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>qt(Se),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(zn,{className:"h-4 w-4"})})]})]})},Se.id)})}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsxs(hm,{children:[r.jsx(fm,{children:r.jsxs($a,{children:[r.jsx(Ot,{children:"Animal"}),r.jsx(Ot,{children:"Vaccin"}),r.jsx(Ot,{children:"Type"}),r.jsx(Ot,{children:"Date donnée"}),r.jsx(Ot,{children:"Statut"}),r.jsx(Ot,{children:"Stock"}),r.jsx(Ot,{children:"Vétérinaire"}),r.jsx(Ot,{children:"Coût"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(mm,{children:cr.map(Se=>{const Vt=t.find(mt=>mt.id===Se.petId),nt=n.find(mt=>mt.id===Se.clientId);return r.jsxs($a,{children:[r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Hr,{className:"h-8 w-8",children:[r.jsx(ll,{src:Vt==null?void 0:Vt.photo}),r.jsx(Gr,{children:r.jsx(pu,{className:"h-4 w-4"})})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:Se.petName}),r.jsx("div",{className:"text-xs text-gray-600",children:nt==null?void 0:nt.name})]})]})}),r.jsx(Dt,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:Se.vaccineName}),Se.vaccinationCategory==="reminder"&&r.jsx(Oe,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"})]})}),r.jsx(Dt,{children:r.jsx(Oe,{variant:"outline",className:"text-xs",children:Se.vaccineType})}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{Be({id:Se.id,field:"dateGiven"}),lt(Se.dateGiven)},children:(Fe==null?void 0:Fe.id)===Se.id&&Fe.field==="dateGiven"?r.jsx(se,{type:"date",value:at,onChange:mt=>lt(mt.target.value),onBlur:ut,autoFocus:!0}):It(new Date(Se.dateGiven),"dd/MM/yyyy")}),r.jsx(Dt,{children:$===Se.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Ie,{value:Se.status,onValueChange:mt=>Ge(Se.id,mt),children:[r.jsx(De,{className:"w-32",children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"completed",children:"Terminée"}),r.jsx(K,{value:"scheduled",children:"Planifiée"}),r.jsx(K,{value:"overdue",children:"En retard"}),r.jsx(K,{value:"missed",children:"Manquée"})]})]}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>z(null),children:"Annuler"})]}):r.jsxs(Oe,{className:`${H3(Se.status)} cursor-pointer hover:opacity-80`,onClick:()=>z(Se.id),children:[G3(Se.status),r.jsx("span",{className:"ml-1 capitalize",children:Se.status})]})}),r.jsx(Dt,{children:Se.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-green-600"}),r.jsx(Oe,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Se.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Se.stockQuantity,")"]})]}):Se.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{Be({id:Se.id,field:"veterinarian"}),lt(Se.veterinarian)},children:(Fe==null?void 0:Fe.id)===Se.id&&Fe.field==="veterinarian"?r.jsxs(Ie,{value:at,onValueChange:mt=>{lt(mt),Be(null);const rn={...e.find(is=>is.id===Se.id),veterinarian:mt};m(Se.id,rn)},children:[r.jsx(De,{className:"w-32",children:r.jsx($e,{})}),r.jsx(Me,{children:g.veterinarians.filter(mt=>mt.isActive).map(mt=>r.jsx(K,{value:mt.name,children:mt.name},mt.id))})]}):Se.veterinarian}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{Be({id:Se.id,field:"cost"}),lt(String(Se.cost||""))},children:(Fe==null?void 0:Fe.id)===Se.id&&Fe.field==="cost"?r.jsx(se,{type:"number",value:at,onChange:mt=>lt(mt.target.value),onBlur:()=>{ut()},autoFocus:!0}):r.jsxs(r.Fragment,{children:[" ",Se.cost," ",g.currency," "]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>{ye(Se),M(!0)},children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>{ye(Se),we(!0)},children:r.jsx(lr,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>Ke(Se),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>qt(Se),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(zn,{className:"h-4 w-4"})})]})})]},Se.id)})})]})})})]}),r.jsx(cn,{value:"calendar",children:r.jsx(P5e,{})}),r.jsxs(cn,{value:"protocols",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Gestion des Protocoles Vaccinaux"}),r.jsx(JS,{mode:"create"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(yi,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Protocoles"}),r.jsx("p",{className:"text-xl font-bold",children:s.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(Zn,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Actifs"}),r.jsx("p",{className:"text-xl font-bold",children:s.filter(Se=>Se.isActive).length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(Yt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Essentiels"}),r.jsx("p",{className:"text-xl font-bold",children:s.filter(Se=>Se.vaccineType==="core").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:r.jsx(ka,{className:"h-4 w-4 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Espèces"}),r.jsx("p",{className:"text-xl font-bold",children:new Set(s.map(Se=>Se.species)).size})]})]})})})]}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs(Ie,{value:_,onValueChange:A,children:[r.jsx(De,{className:"w-[150px]",children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Tous types"}),r.jsx(K,{value:"core",children:"Essentiels"}),r.jsx(K,{value:"non-core",children:"Optionnels"}),r.jsx(K,{value:"rabies",children:"Rage"}),r.jsx(K,{value:"custom",children:"Personnalisés"})]})]}),r.jsxs(Ie,{value:E,onValueChange:D,children:[r.jsx(De,{className:"w-[150px]",children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Toutes catégories"}),r.jsx(K,{value:"new",children:"Vaccinations"}),r.jsx(K,{value:"reminder",children:"Rappels"})]})]}),r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(se,{placeholder:"Rechercher un protocole...",value:j,onChange:Se=>b(Se.target.value),className:"pl-10"})]})]}),r.jsx("div",{className:"space-y-6",children:Array.from(new Set(s.map(Se=>Se.species))).map(Se=>{const Vt=s.filter(nt=>nt.species===Se).filter(nt=>{const mt=_==="all"||nt.vaccineType===_,rn=nt.name.toLowerCase().includes(j.toLowerCase())||nt.description.toLowerCase().includes(j.toLowerCase());return mt&&rn});return Vt.length===0?null:r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pu,{className:"h-5 w-5"}),Se," (",Vt.length," protocoles)"]})})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Vt.map(nt=>r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsxs(he,{className:"p-4",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:nt.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Oe,{variant:nt.vaccineType==="core"?"default":"secondary",className:"text-xs",children:nt.vaccineType==="core"?"Essentiel":nt.vaccineType==="non-core"?"Optionnel":nt.vaccineType==="rabies"?"Rage":"Personnalisé"}),!nt.isActive&&r.jsx(Oe,{variant:"outline",className:"text-xs",children:"Inactif"})]})]})}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:nt.description}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Rappel:"}),r.jsx("span",{className:"font-medium",children:nt.intervals&&nt.intervals.length>0?nt.intervals.map(mt=>mt.label).join(", "):"Non spécifié"})]}),nt.manufacturer&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Fabricant:"}),r.jsx("span",{className:"font-medium",children:nt.manufacturer})]}),nt.ageRequirement&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Âge requis:"}),r.jsx("span",{className:"font-medium",children:nt.ageRequirement})]})]}),nt.notes&&r.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded",children:r.jsx("p",{className:"text-xs text-gray-600",children:nt.notes})}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx(JS,{mode:"edit",protocol:nt,children:r.jsxs(W,{size:"sm",variant:"outline",className:"flex-1",children:[r.jsx(en,{className:"h-4 w-4 mr-1"}),"Modifier"]})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>{confirm(`Êtes-vous sûr de vouloir supprimer le protocole "${nt.name}" ?`)&&d(nt.id)},className:"text-red-600 hover:text-red-700",children:"🗑️"})]})]})},nt.id))})})]},Se)})}),s.length===0&&r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(yi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun protocole vaccinal configuré"}),r.jsx("p",{className:"text-sm mb-4",children:"Commencez par créer votre premier protocole"}),r.jsx(JS,{mode:"create",children:r.jsxs(W,{children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Créer un protocole"]})})]})})]}),r.jsx(cn,{value:"certificates",children:r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(lr,{className:"h-5 w-5"}),"Certificats de Vaccination"]})}),r.jsxs(he,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Générez des certificats officiels de vaccination pour les voyages et compétitions."}),r.jsxs(Ct,{open:k,onOpenChange:F,children:[r.jsx(Ic,{asChild:!0,children:r.jsxs(W,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Générer un Certificat"]})}),r.jsxs(Nt,{className:"max-w-lg",children:[r.jsx(Pt,{children:r.jsx(_t,{children:"Sélectionner l'animal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Ie,{value:(q==null?void 0:q.toString())||"",onValueChange:Se=>{ie(parseInt(Se)),Y(null)},children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Choisissez un client"})}),r.jsx(Me,{children:n.map(Se=>r.jsx(K,{value:Se.id.toString(),children:Se.name},Se.id))})]}),r.jsxs(Ie,{value:(L==null?void 0:L.toString())||"",onValueChange:Se=>Y(parseInt(Se)),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Choisissez un animal"})}),r.jsx(Me,{children:t.filter(Se=>q?Se.ownerId===q:!1).map(Se=>r.jsxs(K,{value:Se.id.toString(),children:[Se.name," (",Se.type,")"]},Se.id))})]}),L&&r.jsx("div",{className:"hidden",children:r.jsx(S_,{ref:V,petId:L})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(W,{disabled:!L,onClick:Ne,children:"Générer PDF"})})]})]})]})]})]})})]}),r.jsx(Ct,{open:te,onOpenChange:M,children:r.jsxs(Nt,{className:"max-w-2xl",children:[r.jsx(Pt,{children:r.jsx(_t,{children:"Détails de la Vaccination"})}),Z&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{className:"font-medium",children:"Animal:"}),r.jsx("p",{children:Z.petName})]}),r.jsxs("div",{children:[r.jsx(U,{className:"font-medium",children:"Client:"}),r.jsx("p",{children:(gs=n.find(Se=>Se.id===Z.clientId))==null?void 0:gs.name})]}),r.jsxs("div",{children:[r.jsx(U,{className:"font-medium",children:"Vaccin:"}),r.jsx("p",{children:Z.vaccineName})]}),r.jsxs("div",{children:[r.jsx(U,{className:"font-medium",children:"Type:"}),r.jsx("p",{children:Z.vaccineType})]}),r.jsxs("div",{children:[r.jsx(U,{className:"font-medium",children:"Date donnée:"}),r.jsx("p",{children:It(new Date(Z.dateGiven),"dd/MM/yyyy",{locale:Wi})})]}),r.jsxs("div",{children:[r.jsx(U,{className:"font-medium",children:"Rappel:"}),r.jsx("p",{children:It(new Date(Z.nextDueDate),"dd/MM/yyyy",{locale:Wi})})]}),r.jsxs("div",{children:[r.jsx(U,{className:"font-medium",children:"Vétérinaire:"}),r.jsx("p",{children:Z.veterinarian})]}),r.jsxs("div",{children:[r.jsx(U,{className:"font-medium",children:"Coût:"}),r.jsxs("p",{children:[Z.cost," ",g.currency]})]})]}),Z.notes&&r.jsxs("div",{children:[r.jsx(U,{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-muted-foreground",children:Z.notes})]})]})]})}),r.jsx(Ct,{open:je,onOpenChange:we,children:r.jsxs(Nt,{className:"max-w-lg",children:[r.jsx(Pt,{children:r.jsx(_t,{children:"Document de Vaccination"})}),Z&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-muted-foreground",children:["Générez un document officiel pour la vaccination de ",Z.petName,"."]}),r.jsx("div",{className:"hidden",children:r.jsx(S_,{ref:V,petId:Z.petId})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>we(!1),children:"Annuler"}),r.jsx(W,{onClick:Ne,children:"Générer PDF"})]})]})]})}),r.jsx(T0,{open:ee,onOpenChange:kt,editingVaccination:le}),r.jsx(Ct,{open:B,onOpenChange:me,children:r.jsxs(Nt,{className:"max-w-md",children:[r.jsx(Pt,{children:r.jsx(_t,{children:"Confirmer la suppression"})}),ve&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-muted-foreground",children:["Êtes-vous sûr de vouloir supprimer ",ve.vaccinationCategory==="reminder"?"le rappel":"la vaccination"," ",r.jsx("strong",{children:ve.vaccineName})," pour ",r.jsx("strong",{children:ve.petName})," ?"]}),r.jsxs("p",{className:"text-sm text-red-600",children:["Cette action est irréversible et supprimera également l'entrée du dossier médical.",ve.vaccinationCategory==="reminder"?r.jsxs("span",{className:"block mt-1",children:[r.jsx("strong",{children:"Note :"})," Seul ce rappel sera supprimé, les autres rappels de la même vaccination ne seront pas affectés."]}):r.jsxs("span",{className:"block mt-1",children:[r.jsx("strong",{children:"Attention :"})," La suppression de cette vaccination supprimera également tous ses rappels associés."]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>me(!1),children:"Annuler"}),r.jsx(W,{variant:"destructive",onClick:Kn,children:"Supprimer"})]})]})]})})]})}function K3({children:e,protocol:t,mode:n}){const{addAntiparasiticProtocol:s,updateAntiparasiticProtocol:i}=pt(),{settings:a}=Wt(),{toast:o}=Ft(),[l,c]=w.useState(!1),[u,d]=w.useState({name:"",species:"",productType:"external",targetParasites:"",description:"",manufacturer:"",intervals:[{offsetDays:30,label:"30 jours"}],weightRange:"",ageRequirement:"",seasonalTreatment:!1,notes:"",isActive:!0}),[f,m]=w.useState(["days"]);w.useEffect(()=>{n==="edit"&&t&&(d({name:t.name,species:t.species,productType:t.productType,targetParasites:t.targetParasites,description:t.description,manufacturer:t.manufacturer||"",intervals:t.intervals,weightRange:t.weightRange||"",ageRequirement:t.ageRequirement||"",seasonalTreatment:t.seasonalTreatment||!1,notes:t.notes||"",isActive:t.isActive}),m(t.intervals.map(v=>v.offsetDays%30===0?"months":v.offsetDays%7===0?"weeks":"days")))},[n,t]);const g=v=>{if(v.preventDefault(),!u.name||!u.species||!u.productType||!u.description){o({title:"Erreur",description:"Champs obligatoires manquants",variant:"destructive"});return}n==="create"?(s(u),o({title:"Protocole créé",description:`${u.name} a été ajouté.`})):t&&(i(t.id,u),o({title:"Protocole mis à jour",description:`${u.name} a été modifié.`})),d({name:"",species:"",productType:"external",targetParasites:"",description:"",manufacturer:"",intervals:[{offsetDays:30,label:"30 jours"}],weightRange:"",ageRequirement:"",seasonalTreatment:!1,notes:"",isActive:!0}),c(!1)},x=a.species?a.species.split(",").map(v=>v.trim()):["Chien","Chat","Bovins","Ovins"];return r.jsxs(Ct,{open:l,onOpenChange:c,children:[r.jsx(Ic,{asChild:!0,children:e||r.jsxs(W,{className:"gap-2",children:[n==="create"?r.jsx(ft,{className:"h-4 w-4"}):r.jsx(en,{className:"h-4 w-4"}),n==="create"?"Nouveau Protocole":"Modifier"]})}),r.jsxs(Nt,{children:[r.jsx(Pt,{children:r.jsx(_t,{children:n==="create"?"Nouveau Protocole Antiparasitaire":"Modifier le Protocole"})}),r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"name",children:"Nom du protocole *"}),r.jsx(se,{id:"name",value:u.name,onChange:v=>d(y=>({...y,name:v.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"species",children:"Espèce *"}),r.jsxs(Ie,{value:u.species,onValueChange:v=>d(y=>({...y,species:v})),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Espèce"})}),r.jsx(Me,{children:x.map(v=>r.jsx(K,{value:v,children:v},v))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"productType",children:"Type de produit"}),r.jsxs(Ie,{value:u.productType,onValueChange:v=>d(y=>({...y,productType:v})),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Type"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"external",children:"Externe"}),r.jsx(K,{value:"internal",children:"Interne"}),r.jsx(K,{value:"combined",children:"Combiné"}),r.jsx(K,{value:"heartworm",children:"Ver du cœur"}),r.jsx(K,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(K,{value:"worming",children:"Vermifugation"})]})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"targetParasites",children:"Parasites cibles"}),r.jsx(se,{id:"targetParasites",value:u.targetParasites,onChange:v=>d(y=>({...y,targetParasites:v.target.value}))})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"description",children:"Description"}),r.jsx(St,{id:"description",value:u.description,onChange:v=>d(y=>({...y,description:v.target.value})),required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Lr,{checked:u.isActive,onCheckedChange:v=>d(y=>({...y,isActive:v}))}),r.jsx(U,{children:"Actif"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Étapes / Intervalles"}),u.intervals.map((v,y)=>{const N=f[y],j=N==="months"?v.offsetDays/30:N==="weeks"?v.offsetDays/7:v.offsetDays;return r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(se,{type:"number",value:j,min:0,onChange:b=>{const P=parseInt(b.target.value)||0,C=N==="months"?P*30:N==="weeks"?P*7:P;d(_=>{const A=[..._.intervals];return A[y].offsetDays=C,{..._,intervals:A}})},className:"w-20"}),r.jsxs(Ie,{value:N,onValueChange:b=>{m(P=>{const C=[...P];return C[y]=b,C})},children:[r.jsx(De,{className:"w-24",children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"days",children:"jours"}),r.jsx(K,{value:"weeks",children:"semaines"}),r.jsx(K,{value:"months",children:"mois"})]})]}),r.jsxs("span",{className:"ml-2",children:[v.offsetDays," jours"]}),r.jsx(W,{type:"button",variant:"destructive",onClick:()=>{d(b=>({...b,intervals:b.intervals.filter((P,C)=>C!==y)})),m(b=>b.filter((P,C)=>C!==y))},children:"Suppr."})]},y)}),r.jsx(W,{type:"button",onClick:()=>{d(v=>({...v,intervals:[...v.intervals,{offsetDays:0,label:""}]})),m(v=>[...v,"days"])},children:"Ajouter une étape"})]}),r.jsx(W,{type:"submit",className:"w-full",children:n==="create"?"Créer":"Mettre à jour"})]})]})]})}const Y3=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},A5e=()=>{const{antiparasitics:e,pets:t,clients:n}=pt(),s=w.useMemo(()=>e.map(o=>{var l,c;return{id:o.id,type:"antiparasitic",title:o.productName,date:o.nextDueDate,status:o.status,clientName:(l=n.find(u=>u.id===o.clientId))==null?void 0:l.name,petName:(c=t.find(u=>u.id===o.petId))==null?void 0:c.name}}),[e,n,t]),i=o=>{},a=o=>{};return r.jsx(Fk,{events:s,onEventClick:i,onDateClick:a,title:"Calendrier Antiparasitaire",icon:r.jsx(rc,{className:"h-5 w-5"})})},Q3=e=>{switch(e){case"completed":return r.jsx(Zn,{className:"h-4 w-4"});case"overdue":return r.jsx(Un,{className:"h-4 w-4"});case"scheduled":return r.jsx(In,{className:"h-4 w-4"});case"missed":return r.jsx(Un,{className:"h-4 w-4"});default:return r.jsx(In,{className:"h-4 w-4"})}};function E5e(){const{antiparasitics:e,pets:t,clients:n,antiparasiticProtocols:s,getOverdueAntiparasitics:i,getUpcomingAntiparasitics:a,getAntiparasiticsByStatus:o,getActiveAntiparasiticProtocols:l,getAntiparasiticProtocolsBySpecies:c,addAntiparasitic:u,updateAntiparasitic:d,deleteAntiparasitic:f}=pt(),{settings:m}=Wt(),{currentView:g}=yd("antiparasitics"),{toast:x}=Ft(),[v,y]=w.useState(null),[N,j]=w.useState(""),[b,P]=w.useState(!1),[C,_]=w.useState(null),[A,E]=w.useState(!1),[D,I]=w.useState(null),O=()=>{if(!v)return;const{id:Ne,field:Ge}=v,Ke=e.find(qt=>qt.id===Ne);if(Ke){const qt={...Ke,[Ge]:N};d(Ne,qt),x({title:"Modifié",description:`${Ge} mis à jour`})}y(null)},[k,F]=w.useState(""),[L,Y]=w.useState("all"),[q,ie]=w.useState("all"),[$,z]=w.useState(g),[le,pe]=w.useState(!1),[ee,J]=w.useState(null),[B,me]=w.useState(null),ve=w.useRef(null),re=Lk.useReactToPrint({contentRef:ve,onAfterPrint:()=>pe(!1)}),V=e.length,Z=o("completed").length,ye=i().length,te=a().length,M=w.useMemo(()=>[...new Set(s.map(Ge=>Ge.species))].reduce((Ge,Ke)=>(Ge[Ke]=c(Ke),Ge),{}),[s]),je=w.useMemo(()=>e.filter(Ne=>{t.find(Kn=>Kn.id===Ne.petId),n.find(Kn=>Kn.id===Ne.clientId);const Ge=!k||Ne.productName.toLowerCase().includes(k.toLowerCase())||Ne.petName.toLowerCase().includes(k.toLowerCase())||Ne.clientName.toLowerCase().includes(k.toLowerCase()),Ke=L==="all"||Ne.status===L,qt=q==="all"||Ne.productType===q;return Ge&&Ke&&qt}),[e,t,n,k,L,q]),[we,Fe]=w.useState(""),[Be,at]=w.useState("all");w.useMemo(()=>s.filter(Ne=>{const Ge=!we||Ne.name.toLowerCase().includes(we.toLowerCase())||Ne.species.toLowerCase().includes(we.toLowerCase())||Ne.targetParasites.toLowerCase().includes(we.toLowerCase()),Ke=Be==="all"||Ne.productType===Be;return Ge&&Ke}),[s,we,Be]);const lt=Ne=>{I(Ne.petId),E(!0)},ut=Ne=>{_(Ne),P(!0)};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold gradient-primary bg-clip-text text-transparent",children:"Gestion Antiparasitaire"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivi des traitements antiparasitaires et protocoles de prévention"})]}),r.jsx(O0,{children:r.jsxs(W,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Traitements"}),r.jsx("p",{className:"text-2xl font-bold",children:V})]}),r.jsx(rc,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Complétés"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:Z})]}),r.jsx(Zn,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"En Retard"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:ye})]}),r.jsx(Un,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"À Venir (7j)"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:te})]}),r.jsx(In,{className:"h-8 w-8 text-blue-600"})]})})})]}),r.jsxs(ml,{defaultValue:"treatments",className:"space-y-6",children:[r.jsxs(xo,{className:"grid w-full grid-cols-4",children:[r.jsx(ln,{value:"treatments",children:"Traitements"}),r.jsx(ln,{value:"calendar",children:"Calendrier"}),r.jsx(ln,{value:"protocols",children:"Protocoles"}),r.jsx(ln,{value:"certificates",children:"Certificats"})]}),r.jsxs(cn,{value:"treatments",className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(_A,{className:"h-5 w-5"}),"Filtres et Recherche"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(se,{placeholder:"Rechercher par produit, animal ou client...",value:k,onChange:Ne=>F(Ne.target.value),className:"pl-10"})]})}),r.jsxs(Ie,{value:L,onValueChange:Y,children:[r.jsx(De,{className:"w-[150px]",children:r.jsx($e,{placeholder:"Statut"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Tous statuts"}),r.jsx(K,{value:"completed",children:"Complété"}),r.jsx(K,{value:"scheduled",children:"Planifié"}),r.jsx(K,{value:"overdue",children:"En retard"}),r.jsx(K,{value:"missed",children:"Manqué"})]})]}),r.jsxs(Ie,{value:q,onValueChange:ie,children:[r.jsx(De,{className:"w-[150px]",children:r.jsx($e,{placeholder:"Type"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Tous types"}),r.jsx(K,{value:"external",children:"Externe"}),r.jsx(K,{value:"internal",children:"Interne"}),r.jsx(K,{value:"combined",children:"Combiné"}),r.jsx(K,{value:"heartworm",children:"Ver du cœur"}),r.jsx(K,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(K,{value:"worming",children:"Vermifugation"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:$==="cards"?"default":"outline",size:"sm",onClick:()=>z("cards"),children:r.jsx(sl,{className:"h-4 w-4"})}),r.jsx(W,{variant:$==="table"?"default":"outline",size:"sm",onClick:()=>z("table"),children:r.jsx(il,{className:"h-4 w-4"})})]})]})})]}),$==="cards"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:je.map(Ne=>{const Ge=t.find(Ke=>Ke.id===Ne.petId);return n.find(Ke=>Ke.id===Ne.clientId),r.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ae,{className:"text-lg",children:Ne.productName}),r.jsxs(Oe,{className:Y3(Ne.status),children:[Q3(Ne.status),r.jsx("span",{className:"ml-1",children:Ne.status==="completed"?"Complété":Ne.status==="scheduled"?"Planifié":Ne.status==="overdue"?"En retard":"Manqué"})]})]})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Hr,{className:"h-10 w-10",children:Ge!=null&&Ge.photo?r.jsx(ll,{src:Ge.photo,alt:Ge.name}):r.jsx(Gr,{children:r.jsx(pu,{className:"h-5 w-5"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Ne.petName}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Ne.clientName})]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{children:Ne.productType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Parasites:"}),r.jsx("span",{className:"text-right",children:Ne.targetParasites})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Date donnée:"}),r.jsx("span",{children:It(new Date(Ne.dateGiven),"dd/MM/yyyy")})]}),Ne.nextDueDate&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Prochain rappel:"}),r.jsx("span",{children:It(new Date(Ne.nextDueDate),"dd/MM/yyyy")})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Vétérinaire:"}),r.jsx("span",{children:Ne.veterinarian})]}),Ne.cost&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Coût:"}),r.jsxs("span",{className:"font-medium",children:[Ne.cost," ",m.currency]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Stock:"}),Ne.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-green-600"}),r.jsx(Oe,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Ne.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Ne.stockQuantity,")"]})]}):Ne.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsxs(W,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>lt(Ne),children:[r.jsx(ns,{className:"h-4 w-4 mr-1"}),"Détails"]}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>ut(Ne),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("Supprimer ce traitement antiparasitaire ?")&&(f(Ne.id),x({title:"Supprimé",description:`${Ne.productName} supprimé.`}))},children:r.jsx(zn,{className:"h-4 w-4"})})]})]})]},Ne.id)})}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsxs(hm,{children:[r.jsx(fm,{children:r.jsxs($a,{children:[r.jsx(Ot,{children:"Animal"}),r.jsx(Ot,{children:"Produit"}),r.jsx(Ot,{children:"Type"}),r.jsx(Ot,{children:"Date donnée"}),r.jsx(Ot,{children:"Prochain rappel"}),r.jsx(Ot,{children:"Statut"}),r.jsx(Ot,{children:"Stock"}),r.jsx(Ot,{children:"Vétérinaire"}),r.jsx(Ot,{children:"Coût"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(mm,{children:je.map(Ne=>r.jsxs($a,{children:[r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-8 w-8",children:r.jsx(Gr,{children:r.jsx(pu,{className:"h-4 w-4"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Ne.petName}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Ne.clientName})]})]})}),r.jsx(Dt,{className:"font-medium",children:Ne.productName}),r.jsx(Dt,{children:Ne.productType}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{y({id:Ne.id,field:"dateGiven"}),j(Ne.dateGiven)},children:(v==null?void 0:v.id)===Ne.id&&v.field==="dateGiven"?r.jsx(se,{type:"date",value:N,onChange:Ge=>j(Ge.target.value),onBlur:O,autoFocus:!0}):It(new Date(Ne.dateGiven),"dd/MM/yyyy")}),r.jsx(Dt,{children:Ne.nextDueDate?It(new Date(Ne.nextDueDate),"dd/MM/yyyy"):"-"}),r.jsx(Dt,{children:r.jsxs(Oe,{className:Y3(Ne.status),children:[Q3(Ne.status),r.jsx("span",{className:"ml-1",children:Ne.status==="completed"?"Complété":Ne.status==="scheduled"?"Planifié":Ne.status==="overdue"?"En retard":"Manqué"})]})}),r.jsx(Dt,{children:Ne.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-green-600"}),r.jsx(Oe,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Ne.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Ne.stockQuantity,")"]})]}):Ne.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{y({id:Ne.id,field:"veterinarian"}),j(Ne.veterinarian)},children:(v==null?void 0:v.id)===Ne.id&&v.field==="veterinarian"?r.jsxs(Ie,{value:N,onValueChange:Ge=>{j(Ge),d(Ne.id,{veterinarian:Ge}),y(null)},children:[r.jsx(De,{className:"w-32",children:r.jsx($e,{})}),r.jsx(Me,{children:m.veterinarians.filter(Ge=>Ge.isActive).map(Ge=>r.jsx(K,{value:Ge.name,children:Ge.name},Ge.id))})]}):Ne.veterinarian}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{y({id:Ne.id,field:"cost"}),j(Ne.cost||"")},children:(v==null?void 0:v.id)===Ne.id&&v.field==="cost"?r.jsx(se,{type:"number",value:N,onChange:Ge=>j(Ge.target.value),onBlur:O,autoFocus:!0}):Ne.cost?`${Ne.cost} ${m.currency}`:"-"}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>lt(Ne),children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>ut(Ne),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("Supprimer ce traitement antiparasitaire ?")&&(f(Ne.id),x({title:"Supprimé",description:`${Ne.productName} supprimé.`}))},children:r.jsx(zn,{className:"h-4 w-4"})})]})})]},Ne.id))})]})})})]}),r.jsx(cn,{value:"calendar",children:r.jsx(A5e,{})}),r.jsxs(cn,{value:"protocols",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Protocoles Antiparasitaires"}),r.jsx("p",{className:"text-muted-foreground",children:"Gérez les protocoles de traitement par espèce"})]}),r.jsx(K3,{mode:"create",children:r.jsxs(W,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau Protocole"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Protocoles"}),r.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),r.jsx(lr,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Actifs"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.filter(Ne=>Ne.isActive).length})]}),r.jsx(Zn,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Externes"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.filter(Ne=>Ne.productType==="external"||Ne.productType==="flea_tick").length})]}),r.jsx(rc,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Espèces"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Object.keys(M).length})]}),r.jsx(pu,{className:"h-8 w-8 text-purple-600"})]})})})]}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(se,{placeholder:"Rechercher un protocole...",value:we,onChange:Ne=>Fe(Ne.target.value),className:"pl-10"})]})}),r.jsxs(Ie,{value:Be,onValueChange:at,children:[r.jsx(De,{className:"w-[200px]",children:r.jsx($e,{placeholder:"Type de produit"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Tous types"}),r.jsx(K,{value:"external",children:"Externe"}),r.jsx(K,{value:"internal",children:"Interne"}),r.jsx(K,{value:"combined",children:"Combiné"}),r.jsx(K,{value:"heartworm",children:"Ver du cœur"}),r.jsx(K,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(K,{value:"worming",children:"Vermifugation"})]})]})]})})}),r.jsx("div",{className:"space-y-6",children:Object.keys(M).map(Ne=>{const Ge=M[Ne].filter(Ke=>{const qt=!we||Ke.name.toLowerCase().includes(we.toLowerCase())||Ke.targetParasites.toLowerCase().includes(we.toLowerCase()),Kn=Be==="all"||Ke.productType===Be;return qt&&Kn});return Ge.length===0?null:r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(pu,{className:"h-5 w-5"}),Ne," (",Ge.length," protocoles)"]})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ge.map(Ke=>r.jsxs(de,{className:"border-l-4 border-l-primary",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ae,{className:"text-base",children:Ke.name}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(K3,{mode:"edit",protocol:Ke,children:r.jsx(W,{size:"sm",variant:"outline",children:r.jsx(en,{className:"h-4 w-4"})})}),r.jsx(Oe,{variant:Ke.isActive?"default":"secondary",children:Ke.isActive?"Actif":"Inactif"})]})]})}),r.jsxs(he,{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:Ke.description}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{children:Ke.productType})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Parasites:"}),r.jsx("span",{className:"text-right",children:Ke.targetParasites})]}),Ke.weightRange&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Poids:"}),r.jsx("span",{children:Ke.weightRange})]}),Ke.ageRequirement&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Âge:"}),r.jsx("span",{children:Ke.ageRequirement})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rappels:"}),r.jsx("span",{children:Ke.intervals.map(qt=>qt.label).join(", ")})]}),Ke.manufacturer&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Fabricant:"}),r.jsx("span",{children:Ke.manufacturer})]})]}),Ke.notes&&r.jsx("div",{className:"mt-3 p-2 bg-muted rounded text-sm",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",Ke.notes]})})]})]},Ke.id))})})]},Ne)})})]}),r.jsx(cn,{value:"certificates",children:r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(lr,{className:"h-5 w-5"}),"Certificats Antiparasitaires"]})}),r.jsxs(he,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Générez des certificats officiels de traitement antiparasitaire pour les voyages et compétitions."}),r.jsxs(Ct,{open:le,onOpenChange:pe,children:[r.jsx(Ic,{asChild:!0,children:r.jsxs(W,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Générer un Certificat"]})}),r.jsxs(Nt,{className:"max-w-lg",children:[r.jsx(Pt,{children:r.jsx(_t,{children:"Sélectionner l'animal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Ie,{value:(ee==null?void 0:ee.toString())||"",onValueChange:Ne=>{J(parseInt(Ne)),me(null)},children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Choisissez un client"})}),r.jsx(Me,{children:n.map(Ne=>r.jsx(K,{value:Ne.id.toString(),children:Ne.name},Ne.id))})]}),r.jsxs(Ie,{value:(B==null?void 0:B.toString())||"",onValueChange:Ne=>me(parseInt(Ne)),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Choisissez un animal"})}),r.jsx(Me,{children:t.filter(Ne=>ee?Ne.ownerId===ee:!1).map(Ne=>r.jsxs(K,{value:Ne.id.toString(),children:[Ne.name," (",Ne.type,")"]},Ne.id))})]}),B&&r.jsx("div",{className:"hidden",children:r.jsxs("div",{ref:ve,children:["Certificat antiparasitaire pour animal ",B]})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(W,{disabled:!B,onClick:re,children:"Générer PDF"})})]})]})]})]})]})})]}),r.jsx(O0,{open:b,onOpenChange:Ne=>{P(Ne),Ne||_(null)},editingAntiparasitic:C}),D&&r.jsx(g9,{petId:D,open:A,onOpenChange:E})]})}const k5e=[{value:"medication",label:"Médicaments",icon:"💊"},{value:"vaccine",label:"Vaccins",icon:"💉"},{value:"consumable",label:"Consommables",icon:"🩹"},{value:"equipment",label:"Équipement",icon:"🔧"},{value:"supplement",label:"Suppléments",icon:"🧪"}],T5e=[{value:"unit",label:"Unité"},{value:"box",label:"Boîte"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}],O5e={medication:["Antibiotique","Anti-inflammatoire","Antiparasitaire","Anesthésique","Analgésique","Antihistaminique","Corticoïde","Diurétique","Autre"],vaccine:["Vaccin Core","Vaccin Non-Core","Vaccin Obligatoire","Vaccin Recommandé","Autre"],consumable:["Matériel d'injection","Protection","Pansement","Suture","Autre"],equipment:["Diagnostic","Chirurgie","Monitoring","Stérilisation","Autre"],supplement:["Vitamines","Minéraux","Probiotiques","Acides aminés","Autre"]};function X3({open:e,onOpenChange:t,editingItem:n}){var f;const{addStockItem:s,updateStockItem:i}=pt(),{settings:a}=Wt(),{toast:o}=Ft(),[l,c]=w.useState({name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0});w.useEffect(()=>{c(n?{name:n.name,category:n.category,subcategory:n.subcategory||"",description:n.description||"",manufacturer:n.manufacturer||"",batchNumber:n.batchNumber||"",dosage:n.dosage||"",unit:n.unit,currentStock:n.currentStock,minimumStock:n.minimumStock,maximumStock:n.maximumStock||0,purchasePrice:n.purchasePrice,sellingPrice:n.sellingPrice,expirationDate:n.expirationDate||"",supplier:n.supplier||"",location:n.location||"",notes:n.notes||"",barcode:n.barcode||"",sku:n.sku||"",isActive:n.isActive}:{name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0})},[n,e]);const u=m=>{if(m.preventDefault(),!l.name.trim()){o({title:"Erreur",description:"Le nom de l'élément est requis.",variant:"destructive"});return}if(l.currentStock<0||l.minimumStock<0||l.purchasePrice<0||l.sellingPrice<0){o({title:"Erreur",description:"Les valeurs numériques ne peuvent pas être négatives.",variant:"destructive"});return}const g={...l,currentStock:Number(l.currentStock),minimumStock:Number(l.minimumStock),maximumStock:Number(l.maximumStock)||void 0,purchasePrice:Number(l.purchasePrice),sellingPrice:Number(l.sellingPrice),expirationDate:l.expirationDate||void 0,subcategory:l.subcategory||void 0,description:l.description||void 0,manufacturer:l.manufacturer||void 0,batchNumber:l.batchNumber||void 0,dosage:l.dosage||void 0,supplier:l.supplier||void 0,location:l.location||void 0,notes:l.notes||void 0,barcode:l.barcode||void 0,sku:l.sku||void 0};n?(i(n.id,g),o({title:"Élément modifié",description:`"${l.name}" a été modifié avec succès.`})):(s(g),o({title:"Élément ajouté",description:`"${l.name}" a été ajouté au stock.`})),t(!1)},d=(m,g)=>{c(x=>({...x,[m]:g}))};return r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:n?"Modifier l'élément de stock":"Nouvel élément de stock"}),r.jsx(Cn,{children:n?"Modifiez les informations de l'élément de stock.":"Ajoutez un nouvel élément à votre inventaire."})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations de base"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"name",children:"Nom de l'élément *"}),r.jsx(se,{id:"name",value:l.name,onChange:m=>d("name",m.target.value),placeholder:"ex: Amoxicilline 500mg",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"category",children:"Catégorie *"}),r.jsxs(Ie,{value:l.category,onValueChange:m=>d("category",m),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner une catégorie"})}),r.jsx(Me,{children:k5e.map(m=>r.jsxs(K,{value:m.value,children:[m.icon," ",m.label]},m.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"subcategory",children:"Sous-catégorie"}),r.jsxs(Ie,{value:l.subcategory,onValueChange:m=>d("subcategory",m),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner une sous-catégorie"})}),r.jsx(Me,{children:(f=O5e[l.category])==null?void 0:f.map(m=>r.jsx(K,{value:m,children:m},m))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(se,{id:"manufacturer",value:l.manufacturer,onChange:m=>d("manufacturer",m.target.value),placeholder:"ex: Boehringer Ingelheim"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"description",children:"Description"}),r.jsx(St,{id:"description",value:l.description,onChange:m=>d("description",m.target.value),placeholder:"Description détaillée de l'élément...",rows:2})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations techniques"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"batchNumber",children:"Numéro de lot"}),r.jsx(se,{id:"batchNumber",value:l.batchNumber,onChange:m=>d("batchNumber",m.target.value),placeholder:"ex: AMX2024001"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"dosage",children:"Dosage"}),r.jsx(se,{id:"dosage",value:l.dosage,onChange:m=>d("dosage",m.target.value),placeholder:"ex: 500mg"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"unit",children:"Unité"}),r.jsxs(Ie,{value:l.unit,onValueChange:m=>d("unit",m),children:[r.jsx(De,{children:r.jsx($e,{placeholder:"Sélectionner une unité"})}),r.jsx(Me,{children:T5e.map(m=>r.jsx(K,{value:m.value,children:m.label},m.value))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Gestion du stock"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"currentStock",children:"Stock actuel *"}),r.jsx(se,{id:"currentStock",type:"number",min:"0",value:l.currentStock,onChange:m=>d("currentStock",parseInt(m.target.value)||0),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"minimumStock",children:"Stock minimum *"}),r.jsx(se,{id:"minimumStock",type:"number",min:"0",value:l.minimumStock,onChange:m=>d("minimumStock",parseInt(m.target.value)||0),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"maximumStock",children:"Stock maximum"}),r.jsx(se,{id:"maximumStock",type:"number",min:"0",value:l.maximumStock,onChange:m=>d("maximumStock",parseInt(m.target.value)||0)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(U,{htmlFor:"purchasePrice",children:["Prix d'achat (",a.currency,") *"]}),r.jsx(se,{id:"purchasePrice",type:"number",step:"0.01",min:"0",value:l.purchasePrice,onChange:m=>d("purchasePrice",parseFloat(m.target.value)||0),required:!0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix d'achat au fournisseur"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(U,{htmlFor:"sellingPrice",children:["Prix de vente (",a.currency,") *"]}),r.jsx(se,{id:"sellingPrice",type:"number",step:"0.01",min:"0",value:l.sellingPrice,onChange:m=>d("sellingPrice",parseFloat(m.target.value)||0),required:!0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix de vente au client"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"La valeur totale sera calculée automatiquement : Prix d'achat × Stock actuel"}),l.purchasePrice>0&&l.currentStock>0&&r.jsxs("div",{className:"text-sm font-medium text-primary",children:["Valeur totale : ",(l.purchasePrice*l.currentStock).toFixed(2)," ",a.currency]}),l.purchasePrice>0&&l.sellingPrice>0&&r.jsxs("div",{className:"text-sm font-medium text-green-600",children:["Marge : ",((l.sellingPrice-l.purchasePrice)*l.currentStock).toFixed(2)," ",a.currency]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations supplémentaires"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"expirationDate",children:"Date d'expiration"}),r.jsx(se,{id:"expirationDate",type:"date",value:l.expirationDate,onChange:m=>d("expirationDate",m.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"supplier",children:"Fournisseur"}),r.jsx(se,{id:"supplier",value:l.supplier,onChange:m=>d("supplier",m.target.value),placeholder:"ex: Pharmacie Vétérinaire Centrale"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"location",children:"Emplacement"}),r.jsx(se,{id:"location",value:l.location,onChange:m=>d("location",m.target.value),placeholder:"ex: Armoire A - Étagère 1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"barcode",children:"Code-barres"}),r.jsx(se,{id:"barcode",value:l.barcode,onChange:m=>d("barcode",m.target.value),placeholder:"ex: 1234567890123"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"sku",children:"SKU"}),r.jsx(se,{id:"sku",value:l.sku,onChange:m=>d("sku",m.target.value),placeholder:"ex: MED-AMX-500"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",value:l.notes,onChange:m=>d("notes",m.target.value),placeholder:"Notes supplémentaires...",rows:3})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(W,{type:"submit",children:n?"Modifier":"Ajouter"})]})]})]})})}const D5e=[{value:"in",label:"Entrée",icon:vr,description:"Ajout de stock (achat, retour, etc.)"},{value:"out",label:"Sortie",icon:Vu,description:"Utilisation, vente, perte, etc."},{value:"adjustment",label:"Ajustement",icon:e6,description:"Correction d'inventaire"},{value:"transfer",label:"Transfert",icon:Dte,description:"Déplacement entre emplacements"}],M5e={in:["Achat fournisseur","Retour client","Inventaire initial","Don/échantillon","Transfert entrant","Autre"],out:["Utilisation consultation","Vente client","Périmé/expiré","Cassé/endommagé","Vol/perte","Transfert sortant","Autre"],adjustment:["Correction inventaire","Comptage physique","Erreur saisie","Autre"],transfer:["Changement emplacement","Transfert entre sites","Réorganisation stock","Autre"]};function I5e({open:e,onOpenChange:t,item:n}){var x;const{updateStockItem:s,addStockMovement:i}=pt(),{settings:a}=Wt(),{toast:o}=Ft(),[l,c]=w.useState({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),[u,d]=w.useState("");w.useEffect(()=>{n&&(c({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),d(""))},[n,e]);const f=v=>{if(v.preventDefault(),!n)return;if(l.quantity<=0){o({title:"Erreur",description:"La quantité doit être supérieure à 0.",variant:"destructive"});return}if(!l.reason.trim()){o({title:"Erreur",description:"La raison du mouvement est requise.",variant:"destructive"});return}let y=n.currentStock;if(l.type==="in")y+=l.quantity;else if(l.type==="out"){if(l.quantity>n.currentStock){o({title:"Erreur",description:`Stock insuffisant. Stock disponible: ${n.currentStock}`,variant:"destructive"});return}y-=l.quantity}else l.type==="adjustment"&&(y=l.quantity);l.type!=="transfer"&&s(n.id,{currentStock:y,lastRestocked:l.type==="in"?new Date().toISOString().split("T")[0]:void 0});const N=l.performedBy==="Autre"?u:l.performedBy,j={itemId:n.id,itemName:n.name,type:l.type,quantity:l.quantity,reason:l.reason,reference:l.reference||void 0,performedBy:N||void 0,date:new Date().toISOString(),notes:l.notes||void 0};i(j),o({title:"Mouvement enregistré",description:`${{in:"Entrée",out:"Sortie",adjustment:"Ajustement",transfer:"Transfert"}[l.type]} de ${l.quantity} ${n.unit} pour "${n.name}" enregistrée.`}),t(!1)},m=(v,y)=>{c(N=>({...N,[v]:y}))},g=()=>{if(!n)return 0;let v=n.currentStock;return l.type==="in"?v+=l.quantity:l.type==="out"?v-=l.quantity:l.type==="adjustment"&&(v=l.quantity),Math.max(0,v)};return n?r.jsx(Ct,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-5 w-5"}),"Mouvement de stock"]}),r.jsxs(Cn,{children:['Enregistrer un mouvement pour "',n.name,'"']})]}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:[r.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(Hn,{className:"h-5 w-5 text-blue-600"}),"Élément concerné"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock actuel"}),r.jsxs("div",{className:"font-semibold text-lg",children:[n.currentStock," ",n.unit]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock minimum"}),r.jsxs("div",{className:"font-semibold text-lg",children:[n.minimumStock," ",n.unit]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Emplacement"}),r.jsxs("div",{className:"font-semibold text-lg flex items-center gap-1",children:[r.jsx(cd,{className:"h-4 w-4"}),n.location||"Non défini"]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix d'achat"}),r.jsxs("div",{className:"font-semibold text-lg text-blue-600",children:[n.purchasePrice.toFixed(2)," ",a.currency]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix de vente"}),r.jsxs("div",{className:"font-semibold text-lg text-green-600",children:[n.sellingPrice.toFixed(2)," ",a.currency]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Valeur totale"}),r.jsxs("div",{className:"font-semibold text-lg text-purple-600",children:[n.totalValue.toFixed(2)," ",a.currency]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{className:"text-base font-medium",children:"Type de mouvement *"}),r.jsxs(Ie,{value:l.type,onValueChange:v=>m("type",v),children:[r.jsx(De,{className:"h-12",children:r.jsx($e,{placeholder:"Sélectionner le type de mouvement"})}),r.jsx(Me,{children:D5e.map(v=>{const y=v.icon;return r.jsx(K,{value:v.value,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(y,{className:"h-5 w-5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:v.label}),r.jsx("div",{className:"text-xs text-muted-foreground",children:v.description})]})]})},v.value)})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"quantity",className:"text-base font-medium",children:"Quantité *"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(se,{id:"quantity",type:"number",min:"0",step:"0.01",value:l.quantity,onChange:v=>m("quantity",parseFloat(v.target.value)||0),className:"flex-1 h-12 text-lg",required:!0}),r.jsx("div",{className:"bg-muted px-3 py-2 rounded-md text-sm font-medium",children:n.unit})]}),l.quantity>0&&r.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Nouveau stock après mouvement:"}),r.jsxs("div",{className:`text-lg font-semibold ${g()<=n.minimumStock?"text-orange-600":"text-green-600"}`,children:[g()," ",n.unit]}),g()<=n.minimumStock&&r.jsxs("div",{className:"text-xs text-orange-600 mt-1 flex items-center gap-1",children:[r.jsx(Un,{className:"h-3 w-3"}),"Stock bas - Seuil minimum atteint"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"reason",className:"text-base font-medium",children:"Raison *"}),r.jsxs(Ie,{value:l.reason,onValueChange:v=>m("reason",v),children:[r.jsx(De,{className:"h-12",children:r.jsx($e,{placeholder:"Sélectionner une raison"})}),r.jsx(Me,{children:(x=M5e[l.type])==null?void 0:x.map(v=>r.jsx(K,{value:v,children:v},v))})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"reference",className:"text-base font-medium",children:"Référence"}),r.jsx(se,{id:"reference",value:l.reference,onChange:v=>m("reference",v.target.value),placeholder:"ex: Facture #12345, Consultation #678",className:"h-12"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"performedBy",className:"text-base font-medium",children:"Effectué par"}),r.jsxs(Ie,{value:l.performedBy,onValueChange:v=>m("performedBy",v),children:[r.jsx(De,{className:"h-12",children:r.jsx($e,{placeholder:"Sélectionner un vétérinaire"})}),r.jsxs(Me,{children:[a.veterinarians.filter(v=>v.isActive).map(v=>r.jsx(K,{value:v.name,children:v.name},v.id)),r.jsx(K,{value:"Autre",children:"Autre (saisie manuelle)"})]})]}),l.performedBy==="Autre"&&r.jsx(se,{placeholder:"Nom du responsable",value:u,onChange:v=>d(v.target.value),className:"h-10 mt-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"notes",className:"text-base font-medium",children:"Notes"}),r.jsx(St,{id:"notes",value:l.notes,onChange:v=>m("notes",v.target.value),placeholder:"Notes supplémentaires...",rows:4,className:"resize-none"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[r.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),className:"h-12 px-6",children:"Annuler"}),r.jsxs(W,{type:"submit",className:"h-12 px-8 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[r.jsx(vr,{className:"h-4 w-4 mr-2"}),"Enregistrer le mouvement"]})]})]})]})}):null}const ap={medication:{label:"Médicaments",color:"bg-blue-100 text-blue-800",icon:"💊"},vaccine:{label:"Vaccins",color:"bg-green-100 text-green-800",icon:"💉"},consumable:{label:"Consommables",color:"bg-orange-100 text-orange-800",icon:"🩹"},equipment:{label:"Équipement",color:"bg-purple-100 text-purple-800",icon:"🔧"},supplement:{label:"Suppléments",color:"bg-yellow-100 text-yellow-800",icon:"🧪"}},$5e=[{value:"unit",label:"Unité"},{value:"box",label:"Boîte"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}];function R5e(){const{stockItems:e,stockAlerts:t,stockMovements:n,addStockItem:s,updateStockItem:i,deleteStockItem:a,addStockMovement:o,getStockAlerts:l}=pt(),{settings:c}=Wt(),{toast:u}=Ft(),[d,f]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(!1),[y,N]=w.useState(null),[j,b]=w.useState(null),[P,C]=w.useState(""),[_,A]=w.useState("all"),[E,D]=w.useState("all"),[I,O]=w.useState("name"),[k,F]=w.useState("asc"),[L,Y]=w.useState(null),[q,ie]=w.useState(""),$=w.useMemo(()=>{const V=e.length,Z=e.reduce((je,we)=>je+we.totalValue,0),ye=e.filter(je=>je.currentStock<=je.minimumStock).length,te=e.filter(je=>je.expirationDate&&new Date(je.expirationDate)<new Date).length,M=e.filter(je=>je.expirationDate&&new Date(je.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(je.expirationDate)>new Date).length;return{totalItems:V,totalValue:Z,lowStockItems:ye,expiredItems:te,expiringSoonItems:M}},[e]),z=w.useMemo(()=>{let V=e.filter(Z=>{var je,we;const ye=Z.name.toLowerCase().includes(P.toLowerCase())||((je=Z.manufacturer)==null?void 0:je.toLowerCase().includes(P.toLowerCase()))||((we=Z.batchNumber)==null?void 0:we.toLowerCase().includes(P.toLowerCase())),te=_==="all"||Z.category===_;let M=!0;return E==="low_stock"?M=Z.currentStock<=Z.minimumStock:E==="expired"?M=Z.expirationDate&&new Date(Z.expirationDate)<new Date:E==="expiring_soon"?M=Z.expirationDate&&new Date(Z.expirationDate)<=new Date(Date.now()+2592e6)&&new Date(Z.expirationDate)>new Date:E==="active"&&(M=Z.isActive),ye&&te&&M});return V.sort((Z,ye)=>{let te,M;switch(I){case"name":te=Z.name.toLowerCase(),M=ye.name.toLowerCase();break;case"currentStock":te=Z.currentStock,M=ye.currentStock;break;case"totalValue":te=Z.totalValue,M=ye.totalValue;break;case"expirationDate":te=Z.expirationDate||"9999-12-31",M=ye.expirationDate||"9999-12-31";break;default:te=Z.name.toLowerCase(),M=ye.name.toLowerCase()}return k==="asc"?te<M?-1:te>M?1:0:te>M?-1:te<M?1:0}),V},[e,P,_,E,I,k]),le=(V,Z,ye)=>{const te={};switch(Z){case"currentStock":te.currentStock=parseInt(ye)||0;break;case"minimumStock":te.minimumStock=parseInt(ye)||0;break;case"purchasePrice":te.purchasePrice=parseFloat(ye)||0;break;case"sellingPrice":te.sellingPrice=parseFloat(ye)||0;break;case"location":te.location=ye;break;case"notes":te.notes=ye;break}i(V,te),Y(null),u({title:"Stock mis à jour",description:"L'élément de stock a été mis à jour avec succès."})},pe=V=>{b(V),v(!0)},ee=V=>{v(V),V||b(null)},J=V=>{confirm(`Êtes-vous sûr de vouloir supprimer "${V.name}" du stock ?`)&&(a(V.id),u({title:"Élément supprimé",description:`"${V.name}" a été supprimé du stock.`}))},B=V=>{N(V),g(!0)},me=()=>{const V=[["Nom","Catégorie","Sous-catégorie","Fabricant","Numéro de lot","Dosage","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),...e.map(M=>[`"${M.name}"`,`"${M.category}"`,`"${M.subcategory||""}"`,`"${M.manufacturer||""}"`,`"${M.batchNumber||""}"`,`"${M.dosage||""}"`,`"${M.unit}"`,M.currentStock,M.minimumStock,M.purchasePrice,M.sellingPrice,`"${M.expirationDate||""}"`,`"${M.supplier||""}"`,`"${M.location||""}"`,`"${M.notes||""}"`,`"${M.barcode||""}"`,`"${M.sku||""}"`].join(","))].join(`
`),Z=new Blob([V],{type:"text/csv;charset=utf-8;"}),ye=document.createElement("a"),te=URL.createObjectURL(Z);ye.setAttribute("href",te),ye.setAttribute("download",`stock_${new Date().toISOString().split("T")[0]}.csv`),ye.style.visibility="hidden",document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),u({title:"Export réussi",description:"Le fichier CSV a été téléchargé avec succès."})},ve=V=>{var te;const Z=(te=V.target.files)==null?void 0:te[0];if(!Z)return;const ye=new FileReader;ye.onload=M=>{var je;try{const Fe=((je=M.target)==null?void 0:je.result).split(`
`),Be=Fe[0].split(",").map(Ke=>Ke.replace(/"/g,"").trim()),lt=["Nom","Catégorie","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente"].filter(Ke=>!Be.includes(Ke));if(lt.length>0){u({title:"Erreur d'import",description:`En-têtes manquants: ${lt.join(", ")}`,variant:"destructive"});return}const ut=[];let Ne=0,Ge=0;for(let Ke=1;Ke<Fe.length;Ke++){const qt=Fe[Ke].trim();if(qt)try{const Kn=qt.split(",").map(Yn=>Yn.replace(/"/g,"").trim()),kt={};if(Be.forEach((Yn,gs)=>{kt[Yn]=Kn[gs]||""}),!kt.Nom||!kt.Catégorie||!kt.Unité){Ge++;continue}if(!Object.keys(ap).includes(kt.Catégorie)){Ge++;continue}const cr={id:Date.now()+Ke,name:kt.Nom,category:kt.Catégorie,subcategory:kt["Sous-catégorie"]||"",manufacturer:kt.Fabricant||"",batchNumber:kt["Numéro de lot"]||"",dosage:kt.Dosage||"",unit:kt.Unité,currentStock:parseInt(kt["Stock actuel"])||0,minimumStock:parseInt(kt["Stock minimum"])||0,purchasePrice:parseFloat(kt["Prix d'achat"])||0,sellingPrice:parseFloat(kt["Prix de vente"])||0,totalValue:(parseInt(kt["Stock actuel"])||0)*(parseFloat(kt["Prix d'achat"])||0),expirationDate:kt["Date d'expiration"]||void 0,supplier:kt.Fournisseur||"",location:kt.Emplacement||"",notes:kt.Notes||"",barcode:kt["Code-barres"]||"",sku:kt.SKU||"",lastUpdated:new Date().toISOString(),isActive:!0};ut.push(cr),Ne++}catch(Kn){Ge++,console.error(`Erreur ligne ${Ke+1}:`,Kn)}}ut.length>0&&ut.forEach(Ke=>{s(Ke)}),u({title:"Import terminé",description:`${Ne} éléments importés avec succès${Ge>0?`, ${Ge} erreurs`:""}.`})}catch{u({title:"Erreur d'import",description:"Impossible de lire le fichier CSV.",variant:"destructive"})}},ye.readAsText(Z),V.target.value=""},re=()=>{const V=[["Nom","Catégorie","Sous-catégorie","Fabricant","Numéro de lot","Dosage","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),["Amoxicilline 500mg","medication","Antibiotique","Boehringer Ingelheim","AMX2024001","500mg","box","15","5","20.00","25.50","2025-12-31","Pharmacie Vétérinaire Centrale","Armoire A - Étagère 1","Stockage à température ambiante","1234567890123","MED-AMX-500"].join(","),["Vaccin DHPP","vaccine","Vaccin combiné","Merial","VAC2024001","1ml","vial","25","10","45.00","55.00","2025-06-30","VetoPharma","Réfrigérateur - Étagère 1","Conservation entre 2-8°C","9876543210987","VAC-DHPP-001"].join(","),["Seringues 5ml","consumable","Matériel médical","BD","SYR2024001","5ml","unit","100","20","0.50","0.75","","MedSupply","Armoire B - Étagère 2","Usage unique","5556667778889","CON-SYR-5ML"].join(",")].join(`
`),Z=new Blob([V],{type:"text/csv;charset=utf-8;"}),ye=document.createElement("a"),te=URL.createObjectURL(Z);ye.setAttribute("href",te),ye.setAttribute("download","gabarit_import_stock.csv"),ye.style.visibility="hidden",document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),u({title:"Gabarit téléchargé",description:"Le fichier gabarit a été téléchargé avec succès."})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[r.jsx(Hn,{className:"h-8 w-8 text-primary"}),"Gestion de Stock"]}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez votre inventaire de médicaments, vaccins et consommables"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(W,{variant:"outline",onClick:me,className:"gap-2",children:[r.jsx(PA,{className:"h-4 w-4"}),"Exporter CSV"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:ve,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"import-file"}),r.jsx(W,{variant:"outline",className:"gap-2",asChild:!0,children:r.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[r.jsx(XC,{className:"h-4 w-4"}),"Importer CSV"]})})]}),r.jsxs(W,{variant:"outline",onClick:re,className:"gap-2",children:[r.jsx(dM,{className:"h-4 w-4"}),"Gabarit"]}),r.jsxs(W,{className:"gap-2 medical-glow",onClick:()=>f(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvel Élément"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Éléments"}),r.jsx("p",{className:"text-2xl font-bold",children:$.totalItems})]}),r.jsx(Hn,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur Totale"}),r.jsxs("p",{className:"text-2xl font-bold",children:[$.totalValue.toFixed(2)," ",c.currency]})]}),r.jsx(Bf,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Stock Bas"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:$.lowStockItems})]}),r.jsx(Un,{className:"h-8 w-8 text-orange-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirés"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:$.expiredItems})]}),r.jsx(eg,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirent Bientôt"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:$.expiringSoonItems})]}),r.jsx(In,{className:"h-8 w-8 text-yellow-600"})]})})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(_A,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4 flex-wrap",children:[r.jsx("div",{className:"flex-1 min-w-[300px]",children:r.jsx(se,{placeholder:"Rechercher par nom, fabricant, lot...",value:P,onChange:V=>C(V.target.value),className:"w-full"})}),r.jsxs(Ie,{value:_,onValueChange:A,children:[r.jsx(De,{className:"w-48",children:r.jsx($e,{placeholder:"Catégorie"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Toutes les catégories"}),Object.entries(ap).map(([V,Z])=>r.jsxs(K,{value:V,children:[Z.icon," ",Z.label]},V))]})]}),r.jsxs(Ie,{value:E,onValueChange:D,children:[r.jsx(De,{className:"w-48",children:r.jsx($e,{placeholder:"Statut"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"all",children:"Tous les statuts"}),r.jsx(K,{value:"active",children:"Actifs"}),r.jsx(K,{value:"low_stock",children:"Stock bas"}),r.jsx(K,{value:"expired",children:"Expirés"}),r.jsx(K,{value:"expiring_soon",children:"Expirent bientôt"})]})]}),r.jsxs(Ie,{value:I,onValueChange:O,children:[r.jsx(De,{className:"w-48",children:r.jsx($e,{placeholder:"Trier par"})}),r.jsxs(Me,{children:[r.jsx(K,{value:"name",children:"Nom"}),r.jsx(K,{value:"currentStock",children:"Stock actuel"}),r.jsx(K,{value:"totalValue",children:"Valeur totale"}),r.jsx(K,{value:"expirationDate",children:"Date d'expiration"})]})]}),r.jsx(W,{variant:"outline",onClick:()=>F(k==="asc"?"desc":"asc"),children:k==="asc"?r.jsx(vr,{className:"h-4 w-4"}):r.jsx(Vu,{className:"h-4 w-4"})})]})})]}),r.jsx(de,{className:"bg-blue-50 border-blue-200",children:r.jsx(he,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(dM,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold text-blue-900",children:"Import en masse"}),r.jsx("p",{className:"text-sm text-blue-700",children:'Utilisez le bouton "Gabarit" pour télécharger un fichier CSV avec le format correct. Les données importées seront ajoutées au stock existant.'}),r.jsxs("div",{className:"text-xs text-blue-600",children:[r.jsx("strong",{children:"Catégories valides :"})," medication, vaccine, consumable, equipment, supplement"]}),r.jsxs("div",{className:"text-xs text-blue-600",children:[r.jsx("strong",{children:"Unités valides :"})," box, vial, unit, ml, mg, g, kg, l, pack, tube, sachet"]})]})]})})}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{children:["Inventaire (",z.length," éléments)"]})}),r.jsxs(he,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(hm,{children:[r.jsx(fm,{children:r.jsxs($a,{children:[r.jsx(Ot,{children:"Nom"}),r.jsx(Ot,{children:"Catégorie"}),r.jsx(Ot,{children:"Fabricant"}),r.jsx(Ot,{children:"Stock"}),r.jsx(Ot,{children:"Prix d'achat"}),r.jsx(Ot,{children:"Prix de vente"}),r.jsx(Ot,{children:"Valeur totale"}),r.jsx(Ot,{children:"Expiration"}),r.jsx(Ot,{children:"Emplacement"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(mm,{children:z.map(V=>{var M;const Z=V.currentStock<=V.minimumStock,ye=V.expirationDate&&new Date(V.expirationDate)<new Date,te=V.expirationDate&&new Date(V.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(V.expirationDate)>new Date;return r.jsxs($a,{className:V.isActive?"":"opacity-50",children:[r.jsx(Dt,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium",children:V.name}),V.batchNumber&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Lot: ",V.batchNumber]}),V.dosage&&r.jsx("div",{className:"text-sm text-muted-foreground",children:V.dosage})]})}),r.jsxs(Dt,{children:[r.jsxs(Oe,{className:ap[V.category].color,children:[ap[V.category].icon," ",ap[V.category].label]}),V.subcategory&&r.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:V.subcategory})]}),r.jsx(Dt,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{children:V.manufacturer||"-"}),V.supplier&&r.jsx("div",{className:"text-sm text-muted-foreground",children:V.supplier})]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:`font-medium ${Z?"text-orange-600":""}`,children:[V.currentStock," ",((M=$5e.find(je=>je.value===V.unit))==null?void 0:M.label)||V.unit]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Min: ",V.minimumStock]}),r.jsxs("div",{className:"flex items-center gap-2",children:[Z&&r.jsx(Oe,{variant:"destructive",className:"text-xs",children:"Stock bas"}),V.lastUpdated&&new Date(V.lastUpdated).getTime()>Date.now()-24*60*60*1e3&&r.jsx(Oe,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:"Mis à jour"})]})]})}),r.jsx(Dt,{children:(L==null?void 0:L.id)===V.id&&L.field==="purchasePrice"?r.jsx(se,{type:"number",step:"0.01",value:q,onChange:je=>ie(je.target.value),onBlur:()=>le(V.id,"purchasePrice",q),onKeyDown:je=>{je.key==="Enter"&&le(V.id,"purchasePrice",q)},autoFocus:!0,className:"w-20"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{Y({id:V.id,field:"purchasePrice"}),ie(V.purchasePrice.toString())},children:[V.purchasePrice.toFixed(2)," ",c.currency]})}),r.jsx(Dt,{children:(L==null?void 0:L.id)===V.id&&L.field==="sellingPrice"?r.jsx(se,{type:"number",step:"0.01",value:q,onChange:je=>ie(je.target.value),onBlur:()=>le(V.id,"sellingPrice",q),onKeyDown:je=>{je.key==="Enter"&&le(V.id,"sellingPrice",q)},autoFocus:!0,className:"w-20"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{Y({id:V.id,field:"sellingPrice"}),ie(V.sellingPrice.toString())},children:[r.jsxs("div",{className:"font-medium",children:[V.sellingPrice.toFixed(2)," ",c.currency]}),r.jsxs("div",{className:"text-xs text-green-600",children:["Marge: ",((V.sellingPrice-V.purchasePrice)*V.currentStock).toFixed(2)," ",c.currency]})]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"font-medium",children:[V.totalValue.toFixed(2)," ",c.currency]})}),r.jsx(Dt,{children:V.expirationDate?r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:`text-sm ${ye?"text-red-600 font-medium":te?"text-yellow-600 font-medium":""}`,children:It(new Date(V.expirationDate),"dd/MM/yyyy",{locale:Wi})}),ye&&r.jsx(Oe,{variant:"destructive",className:"text-xs",children:"Expiré"}),te&&!ye&&r.jsx(Oe,{variant:"secondary",className:"text-xs bg-yellow-100 text-yellow-800",children:"Expire bientôt"})]}):r.jsx("span",{className:"text-muted-foreground",children:"-"})}),r.jsx(Dt,{children:(L==null?void 0:L.id)===V.id&&L.field==="location"?r.jsx(se,{value:q,onChange:je=>ie(je.target.value),onBlur:()=>le(V.id,"location",q),onKeyDown:je=>{je.key==="Enter"&&le(V.id,"location",q)},autoFocus:!0,className:"w-32"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded flex items-center gap-1",onClick:()=>{Y({id:V.id,field:"location"}),ie(V.location||"")},children:[r.jsx(cd,{className:"h-3 w-3"}),V.location||"Non défini"]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>B(V),children:r.jsx(vr,{className:"h-3 w-3"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>pe(V),children:r.jsx(en,{className:"h-3 w-3"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>J(V),children:r.jsx(zn,{className:"h-3 w-3"})})]})})]},V.id)})})]})}),z.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Hn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucun élément trouvé"}),r.jsx("p",{className:"text-sm",children:"Ajustez vos filtres ou ajoutez de nouveaux éléments"})]})]})]}),r.jsxs(de,{children:[r.jsxs(Pe,{children:[r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(In,{className:"h-5 w-5"}),"Historique des Mouvements (",n.length,")"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Derniers mouvements de stock (prescriptions, achats, ajustements)"})]}),r.jsx(he,{children:n.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(In,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucun mouvement de stock enregistré"})]}):r.jsxs("div",{className:"space-y-4",children:[n.sort((V,Z)=>new Date(Z.date).getTime()-new Date(V.date).getTime()).slice(0,20).map(V=>{const ye={in:{label:"Entrée",color:"text-green-600",icon:"↗️"},out:{label:V.reason==="Prescription médicale"?"Prescription":"Sortie",color:V.reason==="Prescription médicale"?"text-orange-600":"text-red-600",icon:V.reason==="Prescription médicale"?"💊":"↘️"},adjustment:{label:"Ajustement",color:"text-blue-600",icon:"⚖️"},transfer:{label:"Transfert",color:"text-purple-600",icon:"↔️"}}[V.type];return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-2xl",children:ye.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:V.itemName}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[V.reason," • ",V.performedBy||"Non spécifié"]}),V.reference&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Référence: ",V.reference]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`font-semibold ${ye.color}`,children:[V.type==="in"?"+":V.type==="out"?"-":"",V.quantity]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:It(new Date(V.date),"dd/MM/yyyy HH:mm",{locale:Wi})})]})]},V.id)}),n.length>20&&r.jsx("div",{className:"text-center pt-4",children:r.jsxs(W,{variant:"outline",size:"sm",children:["Voir tous les mouvements (",n.length,")"]})})]})})]}),r.jsx(X3,{open:d,onOpenChange:f}),r.jsx(X3,{open:x,onOpenChange:ee,editingItem:j}),r.jsx(I5e,{open:m,onOpenChange:g,item:y})]})}const L5e={monthly:[{description:"Salaire Secrétaire",amount:3e3,type:"expense",frequency:"monthly",source:"salary"},{description:"CNSS Secrétaire",amount:700,type:"expense",frequency:"monthly",source:"insurance"},{description:"CNSS Vétérinaire",amount:1500,type:"expense",frequency:"monthly",source:"insurance"},{description:"Loyer",amount:3e3,type:"expense",frequency:"monthly",source:"rent"},{description:"Eau et Électricité",amount:300,type:"expense",frequency:"monthly",source:"other"}],annual:[{description:"Impôts",amount:3e3,type:"expense",frequency:"annual",source:"tax"},{description:"Cotisation Ordre des Vétérinaires",amount:1200,type:"expense",frequency:"annual",source:"other"}],occasional:[{description:"Maintenance Équipement",amount:500,type:"expense",frequency:"occasional",source:"other"},{description:"Formation Professionnelle",amount:800,type:"expense",frequency:"occasional",source:"other"},{description:"Achat Matériel",amount:1200,type:"expense",frequency:"occasional",source:"other"}]},F5e=()=>{const{accountingEntries:e,addAccountingEntry:t,updateAccountingEntry:n,deleteAccountingEntry:s,generateAccountingSummary:i,consultations:a,vaccinations:o,antiparasitics:l,prescriptions:c,stockMovements:u,stockItems:d}=pt(),{settings:f}=Wt();Ft();const[m,g]=w.useState("month"),[x,v]=w.useState(""),[y,N]=w.useState(""),[j,b]=w.useState(!1),[P,C]=w.useState(null),[_,A]=w.useState(null),[E,D]=w.useState(!1),[I,O]=w.useState(L5e),[k,F]=w.useState(!1),[L,Y]=w.useState(null),[q,ie]=w.useState({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),[$,z]=w.useState({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""});w.useEffect(()=>{const te=new Date,M=new Date(te.getFullYear(),te.getMonth(),1),je=new Date(te.getFullYear(),te.getMonth()+1,0);v(It(M,"yyyy-MM-dd")),N(It(je,"yyyy-MM-dd"))},[]),w.useEffect(()=>{if(x&&y){const te=m==="month"?It(new Date(x),"yyyy-MM",{locale:Wi}):m==="year"?It(new Date(x),"yyyy",{locale:Wi}):m==="day"?It(new Date(x),"dd/MM/yyyy",{locale:Wi}):`${It(new Date(x),"dd/MM/yyyy")} - ${It(new Date(y),"dd/MM/yyyy")}`,M=i(te,x,y);A(M)}},[x,y,m,e,a,o,l,c,u,i]);const le=te=>{g(te);const M=new Date;switch(te){case"day":const je=It(M,"yyyy-MM-dd");v(je),N(je);break;case"month":const we=new Date(M.getFullYear(),M.getMonth(),1),Fe=new Date(M.getFullYear(),M.getMonth()+1,0);v(It(we,"yyyy-MM-dd")),N(It(Fe,"yyyy-MM-dd"));break;case"quarter":const Be=Math.floor(M.getMonth()/3),at=new Date(M.getFullYear(),Be*3,1),lt=new Date(M.getFullYear(),Be*3+3,0);v(It(at,"yyyy-MM-dd")),N(It(lt,"yyyy-MM-dd"));break;case"year":const ut=new Date(M.getFullYear(),0,1),Ne=new Date(M.getFullYear(),11,31);v(It(ut,"yyyy-MM-dd")),N(It(Ne,"yyyy-MM-dd"));break}},pe=()=>{if(!$.description||!$.amount||!$.date)return;const te={type:$.type,category:"manual",frequency:$.frequency,description:$.description,amount:parseFloat($.amount),date:$.date,source:$.source,notes:$.notes};P?(n(P.id,te),C(null)):t(te),z({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""}),b(!1)},ee=te=>{C(te),z({type:te.type,frequency:te.frequency,description:te.description,amount:te.amount.toString(),date:te.date,source:te.source||"other",notes:te.notes||""}),b(!0)},J=te=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette entrée ?")&&s(te)},B=te=>{z({...$,type:te.type,frequency:te.frequency||"occasional",description:te.description,amount:te.amount.toString(),source:te.source,date:$.date||It(new Date,"yyyy-MM-dd")}),D(!1)},me=()=>{if(!q.description||!q.amount)return;const te={description:q.description,amount:parseFloat(q.amount),type:q.type,frequency:q.frequency,source:q.source};if(L){const M={...I},je=L.frequency,we=M[je].findIndex(Fe=>Fe===L);we!==-1&&(M[je][we]=te),O(M),Y(null)}else{const M={...I},je=q.frequency;M[je].push(te),O(M)}ie({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),F(!1)},ve=te=>{Y(te),ie({description:te.description,amount:te.amount.toString(),type:te.type,frequency:te.frequency,source:te.source}),F(!0)},re=te=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette suggestion ?")){const M={...I},je=te.frequency;M[je]=M[je].filter(we=>we!==te),O(M)}},V=e.filter(te=>{const M=new Date(te.date),je=new Date(x),we=new Date(y);return M>=je&&M<=we}),Z=te=>`${te.toFixed(2)} ${f.currency}`,ye=te=>{switch(te){case"consultation":return"🩺";case"vaccination":return"💉";case"antiparasitic":return"💊";case"prescription":return"📋";case"stock_purchase":return"📦";case"salary":return"👥";case"rent":return"🏢";case"tax":return"📊";case"insurance":return"🛡️";default:return"📄"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(X5,{className:"h-8 w-8"}),"Gestion Comptable"]}),r.jsx("p",{className:"text-muted-foreground",children:"Suivi des recettes et charges de votre clinique vétérinaire"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(Ct,{open:j,onOpenChange:b,children:[r.jsx(Ic,{asChild:!0,children:r.jsxs(W,{onClick:()=>{C(null),z({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""})},children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter une entrée"]})}),r.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:P?"Modifier l'entrée comptable":"Ajouter une entrée comptable"}),r.jsx(Cn,{children:P?"Modifiez les informations de cette entrée.":"Ajoutez une nouvelle recette ou charge manuelle."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(X1,{className:"h-4 w-4 text-yellow-600"}),r.jsx(U,{className:"text-sm font-medium",children:"Suggestions prédéfinies"})]}),r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>D(!E),children:E?r.jsx(ib,{className:"h-4 w-4"}):r.jsx(X1,{className:"h-4 w-4"})})]}),E&&r.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges mensuelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:I.monthly.map((te,M)=>r.jsx(W,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>B(te),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:te.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[te.amount," ",f.currency]})]})},M))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges annuelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:I.annual.map((te,M)=>r.jsx(W,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>B(te),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:te.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[te.amount," ",f.currency]})]})},M))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges occasionnelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:I.occasional.map((te,M)=>r.jsx(W,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>B(te),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:te.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[te.amount," ",f.currency]})]})},M))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"type",children:"Type"}),r.jsxs(Ie,{value:$.type,onValueChange:te=>z({...$,type:te}),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"revenue",children:"Recette"}),r.jsx(K,{value:"expense",children:"Charge"})]})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"frequency",children:"Fréquence"}),r.jsxs(Ie,{value:$.frequency,onValueChange:te=>z({...$,frequency:te}),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"monthly",children:"Mensuel"}),r.jsx(K,{value:"annual",children:"Annuel"}),r.jsx(K,{value:"occasional",children:"Occasionnel"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"description",children:"Description"}),r.jsx(se,{id:"description",value:$.description,onChange:te=>z({...$,description:te.target.value}),placeholder:"Ex: Salaire employé, Loyer, etc."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(U,{htmlFor:"amount",children:["Montant (",f.currency,")"]}),r.jsx(se,{id:"amount",type:"number",step:"0.01",value:$.amount,onChange:te=>z({...$,amount:te.target.value}),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"date",children:"Date"}),r.jsx(se,{id:"date",type:"date",value:$.date,onChange:te=>z({...$,date:te.target.value})})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"source",children:"Source"}),r.jsxs(Ie,{value:$.source,onValueChange:te=>z({...$,source:te}),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"salary",children:"Salaire"}),r.jsx(K,{value:"rent",children:"Loyer"}),r.jsx(K,{value:"tax",children:"Impôts"}),r.jsx(K,{value:"insurance",children:"Assurance"}),r.jsx(K,{value:"other",children:"Autre"})]})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"notes",children:"Notes (optionnel)"}),r.jsx(St,{id:"notes",value:$.notes,onChange:te=>z({...$,notes:te.target.value}),placeholder:"Informations supplémentaires..."})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>b(!1),children:"Annuler"}),r.jsx(W,{onClick:pe,children:P?"Modifier":"Ajouter"})]})]})]})]})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-5 w-5"}),"Période d'analyse"]})}),r.jsx(he,{children:r.jsxs("div",{className:"flex gap-4 items-end",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:m==="day"?"default":"outline",onClick:()=>le("day"),size:"sm",children:"Ce jour"}),r.jsx(W,{variant:m==="month"?"default":"outline",onClick:()=>le("month"),size:"sm",children:"Ce mois"}),r.jsx(W,{variant:m==="quarter"?"default":"outline",onClick:()=>le("quarter"),size:"sm",children:"Ce trimestre"}),r.jsx(W,{variant:m==="year"?"default":"outline",onClick:()=>le("year"),size:"sm",children:"Cette année"})]}),r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(U,{htmlFor:"startDate",children:"Du"}),r.jsx(se,{id:"startDate",type:"date",value:x,onChange:te=>v(te.target.value),className:"w-40"}),r.jsx(U,{htmlFor:"endDate",children:"Au"}),r.jsx(se,{id:"endDate",type:"date",value:y,onChange:te=>N(te.target.value),className:"w-40"})]})]})})]}),_&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ae,{className:"text-sm font-medium",children:"Total Recettes"}),r.jsx(vr,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:Z(_.totalRevenue)}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[r.jsxs("div",{children:["Consultations: ",Z(_.revenueBreakdown.consultations)]}),r.jsxs("div",{children:["Vaccinations: ",Z(_.revenueBreakdown.vaccinations)]}),r.jsxs("div",{children:["Antiparasitaires: ",Z(_.revenueBreakdown.antiparasitics)]}),r.jsxs("div",{children:["Prescriptions: ",Z(_.revenueBreakdown.prescriptions)]}),r.jsxs("div",{children:["Manuelles: ",Z(_.revenueBreakdown.manualEntries)]})]})]})]}),r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ae,{className:"text-sm font-medium",children:"Total Charges"}),r.jsx(Vu,{className:"h-4 w-4 text-red-600"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:Z(_.totalExpenses)}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[r.jsxs("div",{children:["Achats stock: ",Z(_.expenseBreakdown.stockPurchases)]}),r.jsxs("div",{children:["Salaires: ",Z(_.expenseBreakdown.salaries)]}),r.jsxs("div",{children:["Loyer: ",Z(_.expenseBreakdown.rent)]}),r.jsxs("div",{children:["Impôts: ",Z(_.expenseBreakdown.taxes)]}),r.jsxs("div",{children:["Autres: ",Z(_.expenseBreakdown.other)]})]})]})]}),r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ae,{className:"text-sm font-medium",children:"Résultat Net"}),r.jsx(Bf,{className:"h-4 w-4"})]}),r.jsxs(he,{children:[r.jsx("div",{className:`text-2xl font-bold ${_.netIncome>=0?"text-green-600":"text-red-600"}`,children:Z(_.netIncome)}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:_.netIncome>=0?"Bénéfice":"Perte"})]})]})]}),r.jsxs(ml,{defaultValue:"entries",className:"space-y-4",children:[r.jsxs(xo,{children:[r.jsx(ln,{value:"entries",children:"Entrées Comptables"}),r.jsx(ln,{value:"configuration",children:"Configuration"})]}),r.jsx(cn,{value:"entries",children:r.jsxs(de,{children:[r.jsxs(Pe,{children:[r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(lr,{className:"h-5 w-5"}),"Entrées comptables automatiques et manuelles"]}),r.jsx(ug,{children:"Entrées générées automatiquement (consultations, vaccinations, etc.) et entrées manuelles ajoutées"})]}),r.jsxs(he,{children:[r.jsxs(hm,{children:[r.jsx(fm,{children:r.jsxs($a,{children:[r.jsx(Ot,{children:"Date"}),r.jsx(Ot,{children:"Type"}),r.jsx(Ot,{children:"Description"}),r.jsx(Ot,{children:"Source"}),r.jsx(Ot,{children:"Fréquence"}),r.jsx(Ot,{children:"Montant"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(mm,{children:V.map(te=>r.jsxs($a,{children:[r.jsx(Dt,{children:It(new Date(te.date),"dd/MM/yyyy",{locale:Wi})}),r.jsx(Dt,{children:r.jsx(Oe,{variant:te.type==="revenue"?"default":"destructive",children:te.type==="revenue"?"Recette":"Charge"})}),r.jsx(Dt,{children:te.description}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:ye(te.source||"other")}),r.jsx("span",{className:"text-sm",children:te.category==="automatic"?"Automatique":"Manuel"})]})}),r.jsx(Dt,{children:r.jsx(Oe,{variant:"outline",children:te.frequency==="monthly"?"Mensuel":te.frequency==="annual"?"Annuel":"Occasionnel"})}),r.jsxs(Dt,{className:`font-medium ${te.type==="revenue"?"text-green-600":"text-red-600"}`,children:[te.type==="revenue"?"+":"-",Z(te.amount)]}),r.jsx(Dt,{children:te.category==="manual"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",size:"sm",onClick:()=>ee(te),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>J(te.id),children:r.jsx(zn,{className:"h-4 w-4"})})]})})]},te.id))})]}),V.length===0&&r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune entrée comptable pour cette période"})]})]})}),r.jsx(cn,{value:"configuration",children:r.jsxs(de,{children:[r.jsxs(Pe,{children:[r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(X1,{className:"h-5 w-5"}),"Configuration des Suggestions"]}),r.jsx(ug,{children:"Configurez les suggestions prédéfinies pour faciliter la saisie des charges et recettes"})]}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Mensuelles"}),r.jsxs(W,{onClick:()=>{Y(null),ie({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),F(!0)},children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:I.monthly.map((te,M)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:te.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[te.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",size:"sm",onClick:()=>ve(te),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>re(te),children:r.jsx(zn,{className:"h-4 w-4"})})]})]},M))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Annuelles"}),r.jsxs(W,{onClick:()=>{Y(null),ie({description:"",amount:"",type:"expense",frequency:"annual",source:"other"}),F(!0)},children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:I.annual.map((te,M)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:te.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[te.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",size:"sm",onClick:()=>ve(te),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>re(te),children:r.jsx(zn,{className:"h-4 w-4"})})]})]},M))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Occasionnelles"}),r.jsxs(W,{onClick:()=>{Y(null),ie({description:"",amount:"",type:"expense",frequency:"occasional",source:"other"}),F(!0)},children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:I.occasional.map((te,M)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:te.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[te.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",size:"sm",onClick:()=>ve(te),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>re(te),children:r.jsx(zn,{className:"h-4 w-4"})})]})]},M))})]})]})})]}),r.jsx(Ct,{open:k,onOpenChange:F,children:r.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:L?"Modifier la suggestion":"Ajouter une suggestion"}),r.jsx(Cn,{children:L?"Modifiez les informations de cette suggestion.":"Ajoutez une nouvelle suggestion prédéfinie."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"suggestion-type",children:"Type"}),r.jsxs(Ie,{value:q.type,onValueChange:te=>ie({...q,type:te}),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"revenue",children:"Recette"}),r.jsx(K,{value:"expense",children:"Charge"})]})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"suggestion-frequency",children:"Fréquence"}),r.jsxs(Ie,{value:q.frequency,onValueChange:te=>ie({...q,frequency:te}),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"monthly",children:"Mensuel"}),r.jsx(K,{value:"annual",children:"Annuel"}),r.jsx(K,{value:"occasional",children:"Occasionnel"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"suggestion-description",children:"Description"}),r.jsx(se,{id:"suggestion-description",value:q.description,onChange:te=>ie({...q,description:te.target.value}),placeholder:"Ex: Salaire employé, Loyer, etc."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(U,{htmlFor:"suggestion-amount",children:["Montant (",f.currency,")"]}),r.jsx(se,{id:"suggestion-amount",type:"number",step:"0.01",value:q.amount,onChange:te=>ie({...q,amount:te.target.value}),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"suggestion-source",children:"Source"}),r.jsxs(Ie,{value:q.source,onValueChange:te=>ie({...q,source:te}),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"salary",children:"Salaire"}),r.jsx(K,{value:"rent",children:"Loyer"}),r.jsx(K,{value:"tax",children:"Impôts"}),r.jsx(K,{value:"insurance",children:"Assurance"}),r.jsx(K,{value:"other",children:"Autre"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>F(!1),children:"Annuler"}),r.jsx(W,{onClick:me,children:L?"Modifier":"Ajouter"})]})]})]})})]})},B5e=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:s,appointments:i,addConsultation:a,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=pt(),u=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&a({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&o({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},f=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&l({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},m=()=>{e.length>0&&e.forEach(g=>{c(g.id)})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Test des Statistiques des Clients"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-lg",children:"Actions de Test"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs(W,{onClick:u,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),r.jsxs(W,{onClick:d,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),r.jsxs(W,{onClick:f,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),r.jsx(W,{onClick:m,variant:"outline",className:"w-full",children:"Mettre à jour Stats"})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-lg",children:"Statistiques Globales"})}),r.jsxs(he,{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Clients:"})," ",e.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Consultations:"})," ",t.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Antiparasites:"})," ",s.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Rendez-vous:"})," ",i.length]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-lg",children:"Détails des Clients"})}),r.jsx(he,{className:"space-y-3",children:e.map(g=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",g.totalVisits," | Dernière visite: ",new Date(g.lastVisit).toLocaleDateString("fr-FR")]})]},g.id))})]})]})]})},z5e=()=>r.jsx(cE,{children:r.jsx(B5e,{})}),V5e=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:s,appointments:i,addConsultation:a,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=pt(),u=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&a({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&o({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},f=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&l({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},m=()=>{e.length>0&&e.forEach(g=>{c(g.id)})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Test Simple des Statistiques"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-lg",children:"Actions de Test"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs(W,{onClick:u,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),r.jsxs(W,{onClick:d,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),r.jsxs(W,{onClick:f,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),r.jsx(W,{onClick:m,variant:"outline",className:"w-full",children:"Mettre à jour Stats"})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-lg",children:"Statistiques Globales"})}),r.jsxs(he,{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Clients:"})," ",e.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Consultations:"})," ",t.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Antiparasites:"})," ",s.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Rendez-vous:"})," ",i.length]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-lg",children:"Détails des Clients"})}),r.jsx(he,{className:"space-y-3",children:e.map(g=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",g.totalVisits," | Dernière visite: ",new Date(g.lastVisit).toLocaleDateString("fr-FR")]})]},g.id))})]})]})]})},U5e=()=>r.jsx(cE,{children:r.jsx(V5e,{})}),q5e=()=>{const e=ud();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),r.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),r.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function W5e(){const{user:e,logout:t}=Mc(),{toast:n}=Ft();if(!e)return null;const s=l=>l?l.split(" ").map(c=>c.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),i=l=>{switch(l){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},a=l=>{switch(l){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"assistant":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},o=async()=>{await t(),n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."})};return r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-5 w-5"}),"Profil Utilisateur"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Hr,{className:"h-16 w-16",children:r.jsx(Gr,{className:"bg-primary text-primary-foreground text-lg",children:s(e.profile.full_name||e.profile.username)})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold",children:e.profile.full_name||e.profile.username}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(zf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",e.profile.username]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(yi,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(Oe,{className:a(e.profile.role),children:i(e.profile.role)})]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"text-sm font-medium mb-3",children:"Informations de session"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"ID Utilisateur:"}),r.jsx("span",{className:"font-mono text-xs",children:e.id})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Nom d'utilisateur:"}),r.jsxs("span",{children:["@",e.profile.username]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rôle:"}),r.jsx("span",{children:i(e.profile.role)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Statut:"}),r.jsx(Oe,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Connecté"})]})]})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs(W,{variant:"outline",onClick:o,className:"w-full gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx(Z5,{className:"h-4 w-4"}),"Se déconnecter"]})})]})]})}const H5e={clinicName:"Clinique du Soleil",address:"123 Avenue Hassan II, Rabat, Maroc",phone:"+212 5 37 00 00 00",email:"contact@cliniquedusoleil.ma",website:"https://www.cliniquedusoleil.ma",footerText:"Clinique du Soleil - Soins vétérinaires à Rabat",logo:"/placeholder.svg",currency:"MAD",species:"Chien, Chat, Bovins, Porcins, Volailles",showClinicInfo:!0,showVetsInfo:!0,veterinarians:[],displayPreferences:{clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},farmManagement:{farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},defaultConsultationPrice:150,scheduleSettings:{openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]}};function G5e(){const{toast:e}=Ft(),{settings:t,updateSettings:n}=Wt(),{theme:s,setTheme:i}=lB(),a=[{id:1,name:"Dr. Jean Dupont",title:"Dr.",specialty:"Médecine générale",phone:"+212 5 37 00 00 01",email:"j.dupont@cliniquedusoleil.ma"},{id:2,name:"Dr. Marie Martin",title:"Dr.",specialty:"Chirurgie",phone:"+212 5 37 00 00 02",email:"m.martin@cliniquedusoleil.ma"},{id:3,name:"Pr. Ahmed El Alaoui",title:"Pr.",specialty:"Dermatologie",phone:"+212 5 37 00 00 03",email:"a.alaoui@cliniquedusoleil.ma"}],o=t.veterinarians.map(M=>({id:M.id,name:M.name,title:M.name.startsWith("Dr.")?"Dr.":M.name.startsWith("Pr.")?"Pr.":"Dr.",specialty:"Médecine générale",phone:"",email:""})),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState({name:"",title:"",specialty:"",phone:"",email:""}),[g,x]=w.useState(!1),[v,y]=w.useState(""),[N,j]=w.useState(!1),[b,P]=w.useState(""),[C,_]=w.useState(""),[A,E]=w.useState(!1),[D,I]=w.useState(""),[O,k]=w.useState(!1),[F,L]=w.useState("");w.useEffect(()=>{if(t.veterinarians.length===0){const M=a.map(je=>({id:je.id,name:je.name,isActive:!0}));n({...t,veterinarians:M})}},[t.veterinarians.length]);const{pets:Y}=pt();w.useEffect(()=>{const M=Array.from(new Set([...Y.map(we=>we.type)])),je=Array.from(new Set([...t.species.split(",").map(we=>we.trim()),...M]));n({...t,species:je.join(", ")})},[Y]);const q=(M,je)=>{n({...t,[M]:je})},ie=()=>{e({title:"Paramètres sauvegardés",description:"Informations de la clinique mises à jour."})},$=M=>{var we;const je=(we=M.target.files)==null?void 0:we[0];if(je){const Fe=new FileReader;Fe.onload=()=>q("logo",Fe.result),Fe.readAsDataURL(je)}},z=(M,je)=>{const we={...t.displayPreferences,[M]:je},Fe={...t,displayPreferences:we};n(Fe),e({title:"Préférence d'affichage mise à jour",description:`${M} s'affichera maintenant en ${je==="table"?"tableau":"cartes"}`})},le=()=>{d(null),m({name:"",title:"",specialty:"",phone:"",email:""}),c(!0)},pe=M=>{d(M),m({name:M.name,title:M.title,specialty:M.specialty||"",phone:M.phone||"",email:M.email||""}),c(!0)},ee=()=>{if(!f.name||!f.title){e({title:"Erreur",description:"Nom et titre requis",variant:"destructive"});return}const M=`${f.title} ${f.name}`;let je;if(u)je=t.veterinarians.map(we=>we.id===u.id?{...we,name:M,isActive:!0}:we);else{const we={id:Math.max(0,...t.veterinarians.map(Fe=>Fe.id))+1,name:M,isActive:!0};je=[...t.veterinarians,we]}n({...t,veterinarians:je}),e({title:"Vétérinaire enregistré"}),c(!1)},J=M=>{if(!confirm("Supprimer ce vétérinaire ?"))return;const je=t.veterinarians.filter(we=>we.id!==M);n({...t,veterinarians:je}),e({title:"Vétérinaire supprimé"})},B=()=>{if(!v.trim())return;const M={...t,farmManagement:{...t.farmManagement,farmTypes:[...t.farmManagement.farmTypes,v.trim()]}};n(M),y(""),x(!1),e({title:"Type d'élevage ajouté"})},me=M=>{if(!confirm(`Supprimer le type "${M}" ?`))return;const je={...t,farmManagement:{...t.farmManagement,farmTypes:t.farmManagement.farmTypes.filter(we=>we!==M)}};n(je),e({title:"Type d'élevage supprimé"})},ve=()=>{if(!b.trim())return;const M={...t,farmManagement:{...t.farmManagement,animalCategories:[...t.farmManagement.animalCategories,b.trim()],breedsByCategory:{...t.farmManagement.breedsByCategory,[b.trim()]:[]}}};n(M),P(""),j(!1),e({title:"Catégorie d'animal ajoutée"})},re=M=>{if(!confirm(`Supprimer la catégorie "${M}" ?`))return;const je={...t.farmManagement.breedsByCategory};delete je[M];const we={...t,farmManagement:{...t.farmManagement,animalCategories:t.farmManagement.animalCategories.filter(Fe=>Fe!==M),breedsByCategory:je}};n(we),e({title:"Catégorie d'animal supprimée"})},V=()=>{if(!D.trim()||!C)return;const M=t.farmManagement.breedsByCategory[C]||[],je={...t,farmManagement:{...t.farmManagement,breedsByCategory:{...t.farmManagement.breedsByCategory,[C]:[...M,D.trim()]}}};n(je),I(""),E(!1),e({title:"Race ajoutée"})},Z=(M,je)=>{if(!confirm(`Supprimer la race "${je}" ?`))return;const we=t.farmManagement.breedsByCategory[M]||[],Fe={...t,farmManagement:{...t.farmManagement,breedsByCategory:{...t.farmManagement.breedsByCategory,[M]:we.filter(Be=>Be!==je)}}};n(Fe),e({title:"Race supprimée"})},ye=()=>{if(!F.trim())return;const M={...t,farmManagement:{...t.farmManagement,certificationTypes:[...t.farmManagement.certificationTypes,F.trim()]}};n(M),L(""),k(!1),e({title:"Certification ajoutée"})},te=M=>{if(!confirm(`Supprimer la certification "${M}" ?`))return;const je={...t,farmManagement:{...t.farmManagement,certificationTypes:t.farmManagement.certificationTypes.filter(we=>we!==M)}};n(je),e({title:"Certification supprimée"})};return r.jsx("div",{className:"container mx-auto px-6 py-8 space-y-8",children:r.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Paramètres de la Clinique"})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"logo",children:"Logo de la clinique"}),r.jsx(se,{id:"logo",type:"file",accept:"image/*",onChange:$}),t.logo&&r.jsx("img",{src:t.logo,alt:"Logo",className:"h-24 mt-2"})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"clinicName",children:"Nom de la clinique"}),r.jsx(se,{id:"clinicName",value:t.clinicName,onChange:M=>q("clinicName",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"address",children:"Adresse"}),r.jsx(se,{id:"address",value:t.address,onChange:M=>q("address",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"phone",children:"Téléphone"}),r.jsx(se,{id:"phone",value:t.phone,onChange:M=>q("phone",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:t.email,onChange:M=>q("email",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"website",children:"Site web"}),r.jsx(se,{id:"website",value:t.website,onChange:M=>q("website",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"currency",children:"Devise"}),r.jsx(se,{id:"currency",value:t.currency,onChange:M=>q("currency",M.target.value)})]}),r.jsxs("div",{children:[r.jsxs(U,{htmlFor:"defaultConsultationPrice",children:["Prix de consultation par défaut (",t.currency,")"]}),r.jsx(se,{id:"defaultConsultationPrice",type:"number",step:"0.01",min:"0",value:t.defaultConsultationPrice,onChange:M=>q("defaultConsultationPrice",parseFloat(M.target.value)||0)})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"species",children:"Liste des espèces (virgule séparées)"}),r.jsx(se,{id:"species",value:t.species,onChange:M=>q("species",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"footerText",children:"Texte de pied de page"}),r.jsx(se,{id:"footerText",value:t.footerText,onChange:M=>q("footerText",M.target.value)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Lr,{id:"showClinicInfo",checked:t.showClinicInfo,onCheckedChange:M=>q("showClinicInfo",M)}),r.jsx(U,{htmlFor:"showClinicInfo",children:"Afficher coordonnées de la clinique sur le certificat"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Lr,{id:"showVetsInfo",checked:t.showVetsInfo,onCheckedChange:M=>q("showVetsInfo",M)}),r.jsx(U,{htmlFor:"showVetsInfo",children:"Afficher liste des vétérinaires sur le certificat"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{onClick:ie,children:"Enregistrer"}),r.jsx(W,{variant:"outline",onClick:()=>{const M=a.map(we=>({id:we.id,name:we.name,isActive:!0})),je={...H5e,veterinarians:M};n(je),e({title:"Paramètres réinitialisés",description:"Valeurs par défaut restaurées."})},children:"Restaurer valeurs par défaut"}),r.jsx(W,{variant:"outline",onClick:()=>{const je={...t,farmManagement:{farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"}};n(je),e({title:"Paramètres ferme réinitialisés",description:"Configuration des fermes restaurée aux valeurs par défaut."})},children:"Restaurer paramètres ferme"})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Thème de l'application"})}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez le thème de l'application pour votre confort visuel."}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{htmlFor:"theme-select",children:"Thème"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s==="light"?"Mode clair":"Mode sombre"})]}),r.jsxs(Ie,{value:s,onValueChange:M=>{i(M),e({title:"Thème mis à jour",description:`Thème changé en mode ${M==="light"?"clair":"sombre"}`})},children:[r.jsx(De,{className:"w-32",children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"light",children:"Mode clair"}),r.jsx(K,{value:"dark",children:"Mode sombre"})]})]})]})]})})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Préférences d'affichage"})}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez comment vous souhaitez afficher les différentes sections par défaut."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"clients-display",children:"Clients"}),r.jsxs(Ie,{value:t.displayPreferences.clients,onValueChange:M=>z("clients",M),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"table",children:"Tableau"}),r.jsx(K,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"pets-display",children:"Animaux"}),r.jsxs(Ie,{value:t.displayPreferences.pets,onValueChange:M=>z("pets",M),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"table",children:"Tableau"}),r.jsx(K,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"consultations-display",children:"Consultations"}),r.jsxs(Ie,{value:t.displayPreferences.consultations,onValueChange:M=>z("consultations",M),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"table",children:"Tableau"}),r.jsx(K,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"appointments-display",children:"Rendez-vous"}),r.jsxs(Ie,{value:t.displayPreferences.appointments,onValueChange:M=>z("appointments",M),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"table",children:"Tableau"}),r.jsx(K,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"prescriptions-display",children:"Prescriptions"}),r.jsxs(Ie,{value:t.displayPreferences.prescriptions,onValueChange:M=>z("prescriptions",M),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"table",children:"Tableau"}),r.jsx(K,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"farms-display",children:"Fermes"}),r.jsxs(Ie,{value:t.displayPreferences.farms,onValueChange:M=>z("farms",M),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"table",children:"Tableau"}),r.jsx(K,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"vaccinations-display",children:"Vaccinations"}),r.jsxs(Ie,{value:t.displayPreferences.vaccinations,onValueChange:M=>z("vaccinations",M),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"table",children:"Tableau"}),r.jsx(K,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"antiparasitics-display",children:"Antiparasitaires"}),r.jsxs(Ie,{value:t.displayPreferences.antiparasitics,onValueChange:M=>z("antiparasitics",M),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"table",children:"Tableau"}),r.jsx(K,{value:"cards",children:"Cartes"})]})]})]})]})]})})]}),r.jsxs(de,{children:[r.jsxs(Pe,{className:"flex justify-between items-center",children:[r.jsx(Ae,{children:"Vétérinaires"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>{},children:"Debug"}),r.jsxs(W,{onClick:le,className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"})," Ajouter"]})]})]}),r.jsx(he,{className:"space-y-2",children:o.length===0?r.jsx("p",{className:"text-muted-foreground",children:"Aucun vétérinaire configuré"}):o.map(M=>r.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[M.title," ",M.name]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:M.specialty}),r.jsxs("p",{className:"text-xs",children:[M.phone," | ",M.email]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>pe(M),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"destructive",onClick:()=>J(M.id),children:r.jsx(zn,{className:"h-4 w-4"})})]})]},M.id))})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Configuration des Horaires"})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"openingTime",children:"Heure d'ouverture"}),r.jsx(se,{id:"openingTime",type:"time",value:t.scheduleSettings.openingTime,onChange:M=>q("scheduleSettings",{...t.scheduleSettings,openingTime:M.target.value})})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"closingTime",children:"Heure de fermeture"}),r.jsx(se,{id:"closingTime",type:"time",value:t.scheduleSettings.closingTime,onChange:M=>q("scheduleSettings",{...t.scheduleSettings,closingTime:M.target.value})})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(U,{htmlFor:"slotDuration",children:"Durée des créneaux (minutes)"}),r.jsxs(Ie,{value:t.scheduleSettings.slotDuration.toString(),onValueChange:M=>q("scheduleSettings",{...t.scheduleSettings,slotDuration:parseInt(M)}),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"15",children:"15 minutes"}),r.jsx(K,{value:"30",children:"30 minutes"}),r.jsx(K,{value:"45",children:"45 minutes"}),r.jsx(K,{value:"60",children:"1 heure"})]})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Pause déjeuner"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"lunchBreakStart",children:"Début de pause"}),r.jsx(se,{id:"lunchBreakStart",type:"time",value:t.scheduleSettings.lunchBreakStart||"",onChange:M=>q("scheduleSettings",{...t.scheduleSettings,lunchBreakStart:M.target.value})})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"lunchBreakEnd",children:"Fin de pause"}),r.jsx(se,{id:"lunchBreakEnd",type:"time",value:t.scheduleSettings.lunchBreakEnd||"",onChange:M=>q("scheduleSettings",{...t.scheduleSettings,lunchBreakEnd:M.target.value})})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Jours de travail"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"monday",label:"Lundi"},{key:"tuesday",label:"Mardi"},{key:"wednesday",label:"Mercredi"},{key:"thursday",label:"Jeudi"},{key:"friday",label:"Vendredi"},{key:"saturday",label:"Samedi"},{key:"sunday",label:"Dimanche"}].map(M=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Lr,{id:M.key,checked:t.scheduleSettings.workingDays.includes(M.key),onCheckedChange:je=>{const we=je?[...t.scheduleSettings.workingDays,M.key]:t.scheduleSettings.workingDays.filter(Fe=>Fe!==M.key);q("scheduleSettings",{...t.scheduleSettings,workingDays:we})}}),r.jsx(U,{htmlFor:M.key,className:"text-sm",children:M.label})]},M.key))})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{children:"Gestion des Exploitations"})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Types d'élevage"}),r.jsxs(W,{size:"sm",onClick:()=>x(!0),className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.farmManagement.farmTypes.map(M=>r.jsxs(Oe,{variant:"secondary",className:"gap-2",children:[M,r.jsx("button",{onClick:()=>me(M),className:"hover:text-red-500",children:r.jsx(zn,{className:"h-3 w-3"})})]},M))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Catégories d'animaux"}),r.jsxs(W,{size:"sm",onClick:()=>j(!0),className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"space-y-3",children:t.farmManagement.animalCategories.map(M=>r.jsxs("div",{className:"border rounded p-3",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h5",{className:"font-medium",children:M}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{size:"sm",variant:"outline",onClick:()=>{_(M),E(!0)},children:[r.jsx(ft,{className:"h-3 w-3"})," Race"]}),r.jsx("button",{onClick:()=>re(M),className:"text-red-500 hover:text-red-700",children:r.jsx(zn,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:(t.farmManagement.breedsByCategory[M]||[]).map(je=>r.jsxs(Oe,{variant:"outline",className:"text-xs gap-1",children:[je,r.jsx("button",{onClick:()=>Z(M,je),className:"hover:text-red-500",children:r.jsx(zn,{className:"h-2 w-2"})})]},je))})]},M))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Types de certifications"}),r.jsxs(W,{size:"sm",onClick:()=>k(!0),className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.farmManagement.certificationTypes.map(M=>r.jsxs(Oe,{variant:"outline",className:"gap-2",children:[M,r.jsx("button",{onClick:()=>te(M),className:"hover:text-red-500",children:r.jsx(zn,{className:"h-3 w-3"})})]},M))})]})]})]}),r.jsx(Ct,{open:l,onOpenChange:c,children:r.jsxs(Nt,{children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:u?"Modifier vétérinaire":"Nouveau vétérinaire"}),r.jsx(Cn,{children:"Nom, titre, spécialité, contact"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"vetName",children:"Nom complet *"}),r.jsx(se,{id:"vetName",value:f.name,onChange:M=>m(je=>({...je,name:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"vetTitle",children:"Titre *"}),r.jsx(se,{id:"vetTitle",value:f.title,onChange:M=>m(je=>({...je,title:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"vetSpec",children:"Spécialité"}),r.jsx(se,{id:"vetSpec",value:f.specialty,onChange:M=>m(je=>({...je,specialty:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"vetPhone",children:"Téléphone"}),r.jsx(se,{id:"vetPhone",value:f.phone,onChange:M=>m(je=>({...je,phone:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"vetEmail",children:"Email"}),r.jsx(se,{id:"vetEmail",type:"email",value:f.email,onChange:M=>m(je=>({...je,email:M.target.value}))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsx(W,{onClick:ee,children:u?"Mettre à jour":"Créer"})]})]})]})}),r.jsx(Ct,{open:g,onOpenChange:x,children:r.jsxs(Nt,{children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:"Nouveau type d'élevage"}),r.jsx(Cn,{children:"Ajouter un nouveau type d'exploitation agricole"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(se,{placeholder:"Ex: Apiculture, Aquaculture...",value:v,onChange:M=>y(M.target.value),onKeyPress:M=>M.key==="Enter"&&B()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>x(!1),children:"Annuler"}),r.jsx(W,{onClick:B,children:"Ajouter"})]})]})]})}),r.jsx(Ct,{open:N,onOpenChange:j,children:r.jsxs(Nt,{children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:"Nouvelle catégorie d'animal"}),r.jsx(Cn,{children:"Ajouter une nouvelle catégorie d'animaux d'élevage"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(se,{placeholder:"Ex: Cochons d'Inde, Autruches...",value:b,onChange:M=>P(M.target.value),onKeyPress:M=>M.key==="Enter"&&ve()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>j(!1),children:"Annuler"}),r.jsx(W,{onClick:ve,children:"Ajouter"})]})]})]})}),r.jsx(Ct,{open:A,onOpenChange:E,children:r.jsxs(Nt,{children:[r.jsxs(Pt,{children:[r.jsxs(_t,{children:["Nouvelle race - ",C]}),r.jsxs(Cn,{children:["Ajouter une nouvelle race pour la catégorie ",C]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(se,{placeholder:"Nom de la race...",value:D,onChange:M=>I(M.target.value),onKeyPress:M=>M.key==="Enter"&&V()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>E(!1),children:"Annuler"}),r.jsx(W,{onClick:V,children:"Ajouter"})]})]})]})}),r.jsx(Ct,{open:O,onOpenChange:k,children:r.jsxs(Nt,{children:[r.jsxs(Pt,{children:[r.jsx(_t,{children:"Nouvelle certification"}),r.jsx(Cn,{children:"Ajouter un nouveau type de certification"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(se,{placeholder:"Ex: Commerce équitable, Demeter...",value:F,onChange:M=>L(M.target.value),onKeyPress:M=>M.key==="Enter"&&ye()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>k(!1),children:"Annuler"}),r.jsx(W,{onClick:ye,children:"Ajouter"})]})]})]})})]}),r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsx(W5e,{}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsx(Ae,{className:"text-base",children:"Liens Rapides"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs(W,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>window.location.href="/profile",children:[r.jsx(Wr,{className:"h-4 w-4"}),"Mon Profil"]}),r.jsxs(W,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>window.location.href="/auth-settings",children:[r.jsx(yi,{className:"h-4 w-4"}),"Paramètres de Connexion"]})]})]})]})]})})}var K5e="Separator",J3="horizontal",Y5e=["horizontal","vertical"],C9=w.forwardRef((e,t)=>{const{decorative:n,orientation:s=J3,...i}=e,a=Q5e(s)?s:J3,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(it.div,{"data-orientation":a,...l,...i,ref:t})});C9.displayName=K5e;function Q5e(e){return Y5e.includes(e)}var P9=C9;const Lj=w.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},i)=>r.jsx(P9,{ref:i,decorative:n,orientation:t,className:Ze("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Lj.displayName=P9.displayName;function X5e(){const{user:e,logout:t,refreshProfile:n}=Mc(),{toast:s}=Ft(),{data:i,isLoading:a,refetch:o}=Qhe(),l=Xhe(),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[m,g]=w.useState({full_name:"",username:"",email:"",phone:"",address:"",specialty:"",experience:"",bio:"",languages:["Français","Arabe","Anglais"]});w.useEffect(()=>{i&&e&&g(E=>({...E,full_name:i.full_name||"",username:i.username||"",email:e.email||"",phone:i.phone||"",address:i.address||"",specialty:i.specialty||"",experience:i.experience||"",bio:i.bio||""}))},[i,e]);const[x,v]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[y,N]=w.useState({notifications:{email:!0,sms:!1,push:!0},privacy:{showEmail:!1,showPhone:!0,showAddress:!1},language:"fr",timezone:"Africa/Casablanca"}),j=async()=>{try{await l.mutateAsync({full_name:m.full_name,username:m.username,phone:m.phone,address:m.address,specialty:m.specialty,experience:m.experience,bio:m.bio}),await Promise.all([o(),n()]),s({title:"Profil mis à jour",description:"Vos informations personnelles ont été sauvegardées avec succès."}),u(!1)}catch(E){s({title:"Erreur",description:E instanceof Error?E.message:"Impossible de sauvegarder le profil.",variant:"destructive"})}},b=()=>{if(x.newPassword!==x.confirmPassword){s({title:"Erreur",description:"Les mots de passe ne correspondent pas.",variant:"destructive"});return}s({title:"Mot de passe modifié",description:"Votre mot de passe a été mis à jour avec succès."}),f(!1),v({currentPassword:"",newPassword:"",confirmPassword:""})},P=()=>{s({title:"Préférences sauvegardées",description:"Vos préférences ont été mises à jour."})},C=E=>E.split(" ").map(D=>D.charAt(0)).join("").toUpperCase().slice(0,2),_=E=>{switch(E){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},A=E=>{switch(E){case"admin":return"bg-red-100 text-red-800";case"assistant":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e?a?r.jsx("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(zu,{className:"h-8 w-8 animate-spin"}),r.jsx("p",{className:"text-muted-foreground",children:"Chargement du profil..."})]})})}):r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Mon Profil"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gérez vos informations personnelles et préférences"})]}),r.jsx("div",{className:"flex gap-2",children:c?r.jsxs(r.Fragment,{children:[r.jsx(W,{variant:"outline",onClick:()=>u(!1),children:"Annuler"}),r.jsxs(W,{onClick:j,className:"gap-2",disabled:l.isPending,children:[l.isPending?r.jsx(zu,{className:"h-4 w-4 animate-spin"}):r.jsx(Pp,{className:"h-4 w-4"}),l.isPending?"Sauvegarde...":"Sauvegarder"]})]}):r.jsxs(W,{onClick:()=>u(!0),className:"gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-5 w-5"}),"Informations Personnelles"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Hr,{className:"h-20 w-20",children:r.jsx(Gr,{className:"bg-primary text-primary-foreground text-xl",children:C(e.profile.full_name)})}),c&&r.jsx(W,{size:"sm",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full",variant:"secondary",children:r.jsx(Zh,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold",children:e.profile.full_name||e.profile.username}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(zf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(yi,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(Oe,{className:A(e.profile.role),children:_(e.profile.role)})]})]})]}),r.jsx(Lj,{}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"full_name",children:"Nom complet"}),r.jsx(se,{id:"full_name",value:m.full_name,onChange:E=>g(D=>({...D,full_name:E.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"username",children:"Nom d'utilisateur"}),r.jsx(se,{id:"username",value:m.username,onChange:E=>g(D=>({...D,username:E.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:m.email,disabled:!0,className:"bg-muted"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"phone",children:"Téléphone"}),r.jsx(se,{id:"phone",value:m.phone,onChange:E=>g(D=>({...D,phone:E.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"address",children:"Adresse"}),r.jsx(se,{id:"address",value:m.address,onChange:E=>g(D=>({...D,address:E.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"specialty",children:"Spécialité"}),r.jsx(se,{id:"specialty",value:m.specialty,onChange:E=>g(D=>({...D,specialty:E.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"experience",children:"Expérience"}),r.jsx(se,{id:"experience",value:m.experience,onChange:E=>g(D=>({...D,experience:E.target.value})),disabled:!c})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"bio",children:"Biographie"}),r.jsx("textarea",{id:"bio",className:"w-full min-h-[100px] px-3 py-2 border border-input bg-background rounded-md text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:m.bio,onChange:E=>g(D=>({...D,bio:E.target.value})),disabled:!c})]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(hM,{className:"h-5 w-5"}),"Sécurité"]})}),r.jsx(he,{className:"space-y-4",children:d?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"currentPassword",children:"Mot de passe actuel"}),r.jsx(se,{id:"currentPassword",type:"password",value:x.currentPassword,onChange:E=>v(D=>({...D,currentPassword:E.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"newPassword",children:"Nouveau mot de passe"}),r.jsx(se,{id:"newPassword",type:"password",value:x.newPassword,onChange:E=>v(D=>({...D,newPassword:E.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),r.jsx(se,{id:"confirmPassword",type:"password",value:x.confirmPassword,onChange:E=>v(D=>({...D,confirmPassword:E.target.value}))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>f(!1),children:"Annuler"}),r.jsx(W,{onClick:b,children:"Changer le mot de passe"})]})]}):r.jsxs(W,{variant:"outline",onClick:()=>f(!0),className:"gap-2",children:[r.jsx(hM,{className:"h-4 w-4"}),"Changer le mot de passe"]})})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(Q5,{className:"h-5 w-5"}),"Notifications"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(U,{htmlFor:"email-notifications",children:"Notifications par email"}),r.jsx("input",{type:"checkbox",id:"email-notifications",checked:y.notifications.email,onChange:E=>N(D=>({...D,notifications:{...D.notifications,email:E.target.checked}})),className:"h-4 w-4 rounded border-gray-300"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(U,{htmlFor:"sms-notifications",children:"Notifications SMS"}),r.jsx("input",{type:"checkbox",id:"sms-notifications",checked:y.notifications.sms,onChange:E=>N(D=>({...D,notifications:{...D.notifications,sms:E.target.checked}})),className:"h-4 w-4 rounded border-gray-300"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(U,{htmlFor:"push-notifications",children:"Notifications push"}),r.jsx("input",{type:"checkbox",id:"push-notifications",checked:y.notifications.push,onChange:E=>N(D=>({...D,notifications:{...D.notifications,push:E.target.checked}})),className:"h-4 w-4 rounded border-gray-300"})]})]}),r.jsx(W,{onClick:P,className:"w-full",children:"Sauvegarder les préférences"})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"h-5 w-5"}),"Informations du Compte"]})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"ID Utilisateur:"}),r.jsx("span",{className:"font-mono text-xs",children:e.id})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rôle:"}),r.jsx("span",{children:_(e.profile.role)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Membre depuis:"}),r.jsx("span",{children:"Janvier 2024"})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Dernière connexion:"}),r.jsx("span",{children:"Aujourd'hui"})]})]})]})]})]})]}):null}function J5e(){const{user:e}=Mc(),{toast:t}=Ft(),[n,s]=w.useState({twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginNotifications:!0,deviceTracking:!0,autoLogout:!0}),[i,a]=w.useState({rememberMe:!0,autoLogin:!1,sessionDuration:8,maxConcurrentSessions:3}),[o,l]=w.useState({loginAlerts:!0,securityAlerts:!0,deviceAlerts:!0,emailNotifications:!0,smsNotifications:!1,pushNotifications:!0});w.useState({dataSharing:!1,analytics:!0,crashReports:!0,marketingEmails:!1,profileVisibility:"private"}),w.useState({language:"fr",timezone:"Africa/Casablanca",dateFormat:"DD/MM/YYYY",timeFormat:"24h",theme:"system"});const[c]=w.useState([{id:1,device:"MacBook Pro",browser:"Chrome",location:"Rabat, Maroc",lastActive:"Maintenant",current:!0,ip:"192.168.1.100"},{id:2,device:"iPhone 14",browser:"Safari",location:"Rabat, Maroc",lastActive:"Il y a 2 heures",current:!1,ip:"192.168.1.101"}]),u=()=>{t({title:"Paramètres de sécurité sauvegardés",description:"Vos paramètres de sécurité ont été mis à jour."})},d=()=>{t({title:"Paramètres de session sauvegardés",description:"Vos paramètres de session ont été mis à jour."})},f=()=>{t({title:"Paramètres de notification sauvegardés",description:"Vos paramètres de notification ont été mis à jour."})},m=v=>{t({title:"Session terminée",description:"La session a été fermée avec succès."})},g=()=>{t({title:"Toutes les sessions terminées",description:"Toutes les autres sessions ont été fermées."})},x=v=>v.includes("iPhone")||v.includes("Android")?r.jsx(Yte,{className:"h-4 w-4"}):v.includes("iPad")||v.includes("Tablet")?r.jsx(Jte,{className:"h-4 w-4"}):r.jsx(mM,{className:"h-4 w-4"});return e?r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Paramètres de Connexion"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gérez vos paramètres de sécurité et de session"})]})}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(yi,{className:"h-5 w-5"}),"Sécurité"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{children:"Authentification à deux facteurs"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez une couche de sécurité supplémentaire"})]}),r.jsx(Lr,{checked:n.twoFactorAuth,onCheckedChange:v=>s(y=>({...y,twoFactorAuth:v}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Délai d'expiration de session (minutes)"}),r.jsxs(Ie,{value:n.sessionTimeout.toString(),onValueChange:v=>s(y=>({...y,sessionTimeout:parseInt(v)})),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"15",children:"15 minutes"}),r.jsx(K,{value:"30",children:"30 minutes"}),r.jsx(K,{value:"60",children:"1 heure"}),r.jsx(K,{value:"120",children:"2 heures"}),r.jsx(K,{value:"480",children:"8 heures"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Expiration du mot de passe (jours)"}),r.jsxs(Ie,{value:n.passwordExpiry.toString(),onValueChange:v=>s(y=>({...y,passwordExpiry:parseInt(v)})),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"30",children:"30 jours"}),r.jsx(K,{value:"60",children:"60 jours"}),r.jsx(K,{value:"90",children:"90 jours"}),r.jsx(K,{value:"180",children:"6 mois"}),r.jsx(K,{value:"365",children:"1 an"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{children:"Notifications de connexion"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez des alertes pour les nouvelles connexions"})]}),r.jsx(Lr,{checked:n.loginNotifications,onCheckedChange:v=>s(y=>({...y,loginNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{children:"Suivi des appareils"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Surveillez les appareils connectés"})]}),r.jsx(Lr,{checked:n.deviceTracking,onCheckedChange:v=>s(y=>({...y,deviceTracking:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{children:"Déconnexion automatique"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Déconnexion après inactivité"})]}),r.jsx(Lr,{checked:n.autoLogout,onCheckedChange:v=>s(y=>({...y,autoLogout:v}))})]})]}),r.jsxs(W,{onClick:u,className:"w-full gap-2",children:[r.jsx(Pp,{className:"h-4 w-4"}),"Sauvegarder les paramètres de sécurité"]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(mM,{className:"h-5 w-5"}),"Sessions Actives"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsx("div",{className:"space-y-3",children:c.map(v=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[x(v.device),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:v.device}),v.current&&r.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Actuel"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.browser," • ",v.location]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Dernière activité: ",v.lastActive]})]})]}),!v.current&&r.jsx(W,{variant:"outline",size:"sm",onClick:()=>m(v.id),children:"Terminer"})]},v.id))}),r.jsx(Lj,{}),r.jsx(W,{variant:"destructive",onClick:g,className:"w-full",children:"Terminer toutes les autres sessions"})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(In,{className:"h-5 w-5"}),"Gestion des Sessions"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{children:"Se souvenir de moi"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Restez connecté entre les sessions"})]}),r.jsx(Lr,{checked:i.rememberMe,onCheckedChange:v=>a(y=>({...y,rememberMe:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{children:"Connexion automatique"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Connexion automatique au démarrage"})]}),r.jsx(Lr,{checked:i.autoLogin,onCheckedChange:v=>a(y=>({...y,autoLogin:v}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Durée de session (heures)"}),r.jsxs(Ie,{value:i.sessionDuration.toString(),onValueChange:v=>a(y=>({...y,sessionDuration:parseInt(v)})),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"1",children:"1 heure"}),r.jsx(K,{value:"4",children:"4 heures"}),r.jsx(K,{value:"8",children:"8 heures"}),r.jsx(K,{value:"12",children:"12 heures"}),r.jsx(K,{value:"24",children:"24 heures"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Sessions simultanées maximum"}),r.jsxs(Ie,{value:i.maxConcurrentSessions.toString(),onValueChange:v=>a(y=>({...y,maxConcurrentSessions:parseInt(v)})),children:[r.jsx(De,{children:r.jsx($e,{})}),r.jsxs(Me,{children:[r.jsx(K,{value:"1",children:"1 session"}),r.jsx(K,{value:"2",children:"2 sessions"}),r.jsx(K,{value:"3",children:"3 sessions"}),r.jsx(K,{value:"5",children:"5 sessions"}),r.jsx(K,{value:"10",children:"10 sessions"})]})]})]})]}),r.jsxs(W,{onClick:d,className:"w-full gap-2",children:[r.jsx(Pp,{className:"h-4 w-4"}),"Sauvegarder les paramètres de session"]})]})]}),r.jsxs(de,{children:[r.jsx(Pe,{children:r.jsxs(Ae,{className:"flex items-center gap-2",children:[r.jsx(Q5,{className:"h-5 w-5"}),"Notifications de Sécurité"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{children:"Alertes de connexion"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouvelles connexions"})]}),r.jsx(Lr,{checked:o.loginAlerts,onCheckedChange:v=>l(y=>({...y,loginAlerts:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{children:"Alertes de sécurité"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les événements de sécurité"})]}),r.jsx(Lr,{checked:o.securityAlerts,onCheckedChange:v=>l(y=>({...y,securityAlerts:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{children:"Alertes d'appareil"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouveaux appareils"})]}),r.jsx(Lr,{checked:o.deviceAlerts,onCheckedChange:v=>l(y=>({...y,deviceAlerts:v}))})]}),r.jsx(Lj,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{children:"Notifications par email"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par email"})]}),r.jsx(Lr,{checked:o.emailNotifications,onCheckedChange:v=>l(y=>({...y,emailNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{children:"Notifications SMS"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par SMS"})]}),r.jsx(Lr,{checked:o.smsNotifications,onCheckedChange:v=>l(y=>({...y,smsNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{children:"Notifications push"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes push"})]}),r.jsx(Lr,{checked:o.pushNotifications,onCheckedChange:v=>l(y=>({...y,pushNotifications:v}))})]})]}),r.jsxs(W,{onClick:f,className:"w-full gap-2",children:[r.jsx(Pp,{className:"h-4 w-4"}),"Sauvegarder les paramètres de notification"]})]})]})]})]}):null}const Z5e=new wie({defaultOptions:{queries:{retry:(e,t)=>(t==null?void 0:t.status)>=400&&(t==null?void 0:t.status)<500?!1:e<2,staleTime:3*60*1e3,gcTime:8*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:"always",refetchOnMount:!0,networkMode:"offlineFirst"},mutations:{retry:1,networkMode:"offlineFirst"}}}),e6e=()=>r.jsx(Vde,{children:r.jsx(Nie,{client:Z5e,children:r.jsxs(Jse,{children:[r.jsx($ne,{}),r.jsx(mre,{}),r.jsx(Bde,{children:r.jsx(cE,{children:r.jsx(Zhe,{children:r.jsx(Iae,{children:r.jsx(kae,{children:r.jsx("div",{className:"min-h-screen bg-background",children:r.jsxs(Nae,{children:[r.jsx(hr,{path:"/",element:r.jsx(Qde,{})}),r.jsx(hr,{path:"/login",element:r.jsx(Yde,{children:r.jsx(Kde,{})})}),r.jsx(hr,{path:"/register",element:r.jsx(Xde,{})}),r.jsx(hr,{path:"/dashboard",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(SFe,{})]})}),r.jsx(hr,{path:"/clients",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(_Fe,{})]})}),r.jsx(hr,{path:"/pets",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(OFe,{})]})}),r.jsx(hr,{path:"/appointments",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(l5e,{})]})}),r.jsx(hr,{path:"/consultations",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(d5e,{})]})}),r.jsx(hr,{path:"/history",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(m5e,{})]})}),r.jsx(hr,{path:"/farm",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(j5e,{})]})}),r.jsx(hr,{path:"/vaccinations",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(_5e,{})]})}),r.jsx(hr,{path:"/antiparasites",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(E5e,{})]})}),r.jsx(hr,{path:"/stock",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(R5e,{})]})}),r.jsx(hr,{path:"/accounting",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(F5e,{})]})}),r.jsx(hr,{path:"/test-stats",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(z5e,{})]})}),r.jsx(hr,{path:"/simple-test",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(U5e,{})]})}),r.jsx(hr,{path:"/settings",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(G5e,{})]})}),r.jsx(hr,{path:"/profile",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(X5e,{})]})}),r.jsx(hr,{path:"/auth-settings",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(J5e,{})]})}),r.jsx(hr,{path:"*",element:r.jsx(q5e,{})})]})})})})})})})]})})});N5(document.getElementById("root")).render(r.jsx(e6e,{}));
